/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// identity function for calling harmony imports with the correct context
/******/ 	__webpack_require__.i = function(value) { return value; };
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, {
/******/ 				configurable: false,
/******/ 				enumerable: true,
/******/ 				get: getter
/******/ 			});
/******/ 		}
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 56);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
var CONST = exports.CONST = {
    url: {
        tmTypes: {
            followingT: 'FOLLOWING',
            followingSubT: ['FOLLOWING_BY_LIST', 'FOLLOWING_BY_ACTIVE_AUDIENCE'],
            unfollowingT: 'UNFOLLOWING',
            unfollowingSubT: ['UNFOLLOWING_BY_LIST', 'UNFOLLOWING_BY_ALL', 'UNFOLLOWING_BY_NON_RECIPROCAL'],
            chatBotT: 'CHAT_BOT',
            chatBotSubT: ['DEFAULT_CHAT_BOT'],
            automessagesT: 'AUTO_ANSWER',
            automessagesSubT: ['DEFAULT_AUTO_ANSWER'],
            autogreetT: 'AUTO_GREETING',
            autogreetSubT: ['DEFAULT_AUTO_GREETING'],
            storiesT: 'STORIES',
            storiesSubT: ['STORIES_BY_LIST', 'STORIES_BY_FOLLOWERS', 'STORIES_BY_ACTIVE_AUDIENCE'],
            autocommentsT: 'AUTO_COMMENT',
            autocommentsSubT: ['DEFAULT_AUTO_COMMENT']
        },
        base: 'http://api.luxgram.ru/v1/',
        registration: 'registration/basic/',
        login: 'registration/basic/login',
        confirmation: 'registration/basic/confirmation?token',

        // -------------------------
        instagram_addAccount: 'instagram-accounts/',
        instagramAccount_getMetaData: 'instagram-accounts/meta',
        instagram_getAccountByUser: function instagram_getAccountByUser(username) {
            return 'instagram-accounts/meta/' + username;
        },
        instagram_modifyAccount: function instagram_modifyAccount(username) {
            return 'instagram-accounts/' + username;
        },
        instagramTaskManager_getPosts: function instagramTaskManager_getPosts(accountName) {
            return 'instagram-accounts/' + accountName + '/posts';
        },

        // -instagram-accounts------------------------
        instagramAccount_checkpoint: 'instagram-accounts/checkpoint/',
        instagramAccount_confirmKey: 'instagram-accounts/checkpoint/',

        // -instagram-direct------------------------
        instagramDirect_Basic: 'instagram-direct',
        instagramDirect_postMessage: 'instagram-direct/',
        instagramDirect_getMetaData: 'instagram-direct/meta',
        instagramDirect_RequestPending: 'instagram-direct/pending',
        // http://api.luxgram.ru/v1/instagram-direct/{username}/{id}/photo

        // -instagram-task-manager------------------------
        instagramTaskManager: 'instagram-task-manager/',
        instagramTaskManager_getMetaData: 'instagram-task-manager/meta',
        instagramTaskManager_getTaskByTypes: 'instagram-task-manager/meta/type/',
        // --------------
        instagramTaskManager_getDefaultConfigs: 'instagram-task-manager/config/type', // {TYPE}/subtype/{SUBTYPE}
        // --------------
        instagramTaskManager_postStartFollowingList: 'instagram-task-manager/task',
        instagramTaskManager_postStartTask: 'instagram-task-manager/task',
        instagramTaskManager_getTaskTypes: 'instagram-task-manager/task/types',
        instagramTaskManager_putStopTaskByID: function instagramTaskManager_putStopTaskByID(id) {
            return 'instagram-task-manager/task/' + id;
        },
        instagramTaskManager_delRemoveTaskByID: function instagramTaskManager_delRemoveTaskByID(id) {
            return 'instagram-task-manager/task/' + id;
        },
        instagramTaskManager_postImageAttachment: 'instagram-task-manager/task/attachment/image',
        instagramTaskManager_postTextAttachment: 'instagram-task-manager/task/attachment/users_list',
        instagramTaskManager_getLogsChatBot: 'instagram-task-manager/logs/type/' // {TYPE}/subtype/{SUBTYPE}/account/{username}?page={page}
    },
    user: {
        defaulAvatar: 'https://i.imgur.com/jNNT4LE.png', // todo: get from designer
        email: '',
        password: '',
        token: ''
    },
    cookieStorage: {
        token: 'user_logged',
        emailConfirmed: 'email_confirmed'
    },
    uiSelectors: {
        headerLoginBox: 'nav .login-box',
        headerNavLoginBtn: 'nav ul li .js_login',
        headerRegBox: 'nav .register-box',
        headerRegBtn: 'nav ul li .js_register',
        instagram: {
            addAccountBtnSelector: '#js_show-login-box',
            addAccountBtnId: 'js_show-login-box'
        }
    },
    events: {
        USER_LOGGED: 'user_logged',
        USER_LOGOUT: 'user_logout',
        USER_EMAIL_CONFIRMED: 'user_email_confirmed',
        STOP_FIXED_SPINNER: 'stop_fixed_spinner',
        messages: {
            RECIEVE_NEW_MESSAGE: 'receive_new_message'
        },
        instagramAccouns: {
            INSTAGRAM_ACCOUNS_NEED_REFRESH: 'instagram_accouns_need_refresh',
            INSTAGRAM_ACCOUNS_RENDERED: 'instagram_accouns_rendered',
            INSTAGRAM_ACCOUNS_RENDERED_LAZY: 'instagram_accouns_rendered_lazy'
        },
        modal: {
            IMAGE_POST_SELECTED: 'image_post_selected',
            IMAGE_UPLOADED_AVATAR: 'IMAGE_UPLOADED_AVATAR'
        },
        autoarnswer: {
            IMAGE_UPLOADED: 'image_loaded',
            TEXT_FILE_UPLOADED: 'text_file_uploaded'
        },
        tasks: {
            NEW_TASK_CREATED: 'new_task_created'
        },
        logs: {
            STOP_LOGS: 'stop_logs'
        }
    },
    logsState: {
        selectCls: 'js_logs-accounts',
        selectClsLogsTaskType: 'js_logs-subtypes',
        wrapperSubtype: '.log-subype'
    },
    getPath: function getPath(name, id) {
        if (typeof this.url[name] === 'function' && id) {
            return this.url.base + this.url[name](id);
        }
        return this.url.base + this.url[name];
    },
    getPathTypeSubtype: function getPathTypeSubtype(name, path, page) {
        var type = path.type,
            subtype = path.subtype,
            username = path.username;

        if (typeof this.url[name] === 'function' && type && subtype) {
            if (username && page) {
                return this.url.base + this.url[name](path, page);
            }
            if (username) {
                return this.url.base + this.url[name](path);
            }
            return this.url.base + this.url[name](type, subtype);
        }
        return this.url.base + this.url[name];
    },
    getPathByArr: function getPathByArr(name, array, page) {
        var base = this.url.base + this.url[name];
        var reducer = function reducer(accumulator, currentValue) {
            return accumulator + '/' + currentValue;
        };
        var url = base + array.reduce(reducer); // ${type}/subtype/${subtype}
        // console.log(url);
        if (page) {
            return url + '?page=' + page;
        }
        return url;
    }
};

/***/ }),
/* 1 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
// import $ from 'jquery';
// import {CONST} from './consts';

function viewUtils() {
    function showInfoMessage(selector, message1, message2) {
        $(selector).empty().append('' + (message1 ? '<p>status: ' + message1 + '</p>' : '')).append('<p>' + message2 + ' </p>');
    }

    function fillList($list, dataArray) {
        var items = dataArray;
        var cList = $list;
        cList.empty();
        items.forEach(function (item, i) {
            var li = $('<li class="list-group-item"></li>').appendTo(cList);
            $('<a/>').addClass('ui-all').text(item.username).appendTo(li);
        });
    }

    function isEmail(email) {
        /* eslint-disable */
        var regex = /^([a-zA-Z0-9_.+-])+\@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/;
        return regex.test(email);
        /* eslint-enable */
    }

    function getFormattedDateUtil(tStamp, showFullTime) {
        var date = new Date(tStamp);

        var month = date.getMonth() + 1;
        var day = date.getDate();
        var hour = date.getHours();
        var min = date.getMinutes();
        // let sec = date.getSeconds();

        month = (month < 10 ? '0' : '') + month;
        day = (day < 10 ? '0' : '') + day;
        hour = (hour < 10 ? '0' : '') + hour;
        min = (min < 10 ? '0' : '') + min;
        // sec = (sec < 10 ? '0' : '') + sec;

        var str = '';
        if (!showFullTime) {
            str = hour + ':' + min;
        } else {
            // str = `${date.getFullYear()}-${month}-${day} ${hour}:${min}:${sec}`;
            str = day + '-' + month + '-' + date.getFullYear() + ' ' + hour + ':' + min;
        }

        return str;
    }

    function isEmpty(obj) {
        return !obj || Object.keys(obj).length === 0;
    }

    function fillRadioGroupList($wrapper, taskModes, _actionText) {
        if (isEmpty(taskModes)) {
            console.info('taskModes is empty');
        }
        var actionText = _actionText || 'подписок'; // todo
        var radioBtnReducer = function radioBtnReducer(item, val) {
            switch (item) {
                case 'AGGRESSIVE':
                    return '<input type="radio" id="' + item + '" name="customRadio" value="' + item + '" class="custom-control-input">\n                    <label class="custom-control-label" for="' + item + '"><strong>\u0410\u0433\u0440\u0435\u0441\u0441\u0438\u0432\u043D\u044B\u0439:</strong> ' + val + ' ' + actionText + ' \u0432 \u0447\u0430\u0441</label>';
                case 'MIDDLE':
                    return '<input type="radio" id="' + item + '" name="customRadio" value="' + item + '" class="custom-control-input">\n                    <label class="custom-control-label" for="' + item + '"><strong>\u0421\u0440\u0435\u0434\u043D\u0438\u0439:</strong> ' + val + ' ' + actionText + ' \u0432 \u0447\u0430\u0441</label>';
                case 'SAFE':
                    return '<input type="radio" id="' + item + '" name="customRadio" value="' + item + '" class="custom-control-input" checked>\n                    <label class="custom-control-label" for="' + item + '"><strong>\u0411\u0435\u0437\u043E\u043F\u0430\u0441\u043D\u044B\u0439:</strong> ' + val + ' ' + actionText + ' \u0432 \u0447\u0430\u0441</label>';
                default:
                    console.log('default', item);
            }
        };
        // console.log('draw speed radioBtn');
        $wrapper.empty();
        for (var item in taskModes) {
            // console.log('structure: ' + item);
            if (Object.prototype.hasOwnProperty.call(taskModes, item)) {
                $('<div class="custom-control custom-radio">\n                ' + radioBtnReducer(item, taskModes[item]) + '\n            </div>').appendTo($wrapper);
            }
        }
    }

    function getValByCommaSeparator($el) {
        return $el.val().trim().split(',').map(function (i) {
            return i.trim().replace('↵', '');
        }).filter(function (i) {
            return i.length > 0;
        });
    }

    /**
     * cfg ={ logsState, cbFN() }
     */
    function addDropdown($wrapper, items, cfg) {
        var textRusArray = cfg.textRusArray,
            logsState = cfg.logsState;
        var selectClsLogsTaskType = logsState.selectClsLogsTaskType;

        var label = 'Выберите тип';
        var getRus = function getRus(idx) {
            var isTextUnfollow = textRusArray && !!textRusArray.length;
            switch (idx) {
                case 0:
                    return isTextUnfollow ? textRusArray[idx] : 'По подписчикам';
                case 1:
                    return isTextUnfollow ? textRusArray[idx] : 'По активной аудитории конкурентов';
                case 2:
                    return isTextUnfollow ? textRusArray[idx] : 'default - (3)';
                default:
                    return 'default';
            }
        };
        $wrapper.empty().addClass('border-light-color');
        $('<div class="">' + label + '</div><select name="task-subtype" class="' + selectClsLogsTaskType + '"></select>').appendTo($wrapper);
        if (!items.length) {
            return;
        }
        if (cfg.isRenderEmptyOption) {
            $('<option class="list-group-item py-2 js_empty-subtype" value="---">---</option>').appendTo($('.' + selectClsLogsTaskType));
        }
        items.forEach(function (name, idx) {
            $('<option class="list-group-item py-2" value="' + name + '">\n                ' + getRus(idx) + '\n            </option>').appendTo($('.' + selectClsLogsTaskType));
        });
        if (cfg.dropdownOnSelectCb) {
            $('.' + selectClsLogsTaskType).on('change', function () {
                cfg.dropdownOnSelectCb();
            });
        }
    }

    return {
        showInfoMessage: showInfoMessage,
        fillList: fillList,
        fillRadioGroupList: fillRadioGroupList,
        isEmail: isEmail,
        getFormattedDateUtil: getFormattedDateUtil,
        getValByCommaSeparator: getValByCommaSeparator,
        addDropdown: addDropdown
    };
}

exports.default = viewUtils();

/***/ }),
/* 2 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); // import $ from 'jquery';


var _consts = __webpack_require__(0);

var _network = __webpack_require__(16);

var _network2 = _interopRequireDefault(_network);

var _cookie = __webpack_require__(4);

var _cookie2 = _interopRequireDefault(_cookie);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var objToArr = function objToArr(obj) {
    if (obj && obj.subtype) {
        if (!obj.subtype.includes('subtype/')) {
            obj.subtype = 'subtype/' + obj.subtype;
        }
    }
    return Object.values(obj);
};

var UserTaskManager = function () {
    function UserTaskManager() {
        _classCallCheck(this, UserTaskManager);

        this.network = new _network2.default();
        this.cookieStorage = _cookie2.default;
        this.settingPost = {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
                'Accept': 'application/json'
            }
        };
        this.postStartFollowingList = this.postStartFollowingList;
        this.postStartTask = this.postStartTask;
    }

    // isLoggedIn() {
    //     return !!this.getToken();
    // }
    //
    // isEmailConfirmed() {
    //     return (this.cookieStorage.get(CONST.cookieStorage.emailConfirmed) === 'confirmed');
    // }


    _createClass(UserTaskManager, [{
        key: 'getToken',
        value: function getToken(asHeader) {
            var cookieToken = this.cookieStorage.get(_consts.CONST.cookieStorage.token);
            return asHeader ? { headers: { token: cookieToken } } : cookieToken;
        }
    }, {
        key: 'getMetadata',
        value: function getMetadata(path, cbError) {
            var pathArr = objToArr(path);
            return this.network.sendRequest('' + _consts.CONST.getPathByArr('instagramTaskManager_getTaskByTypes', pathArr), this.getToken('asHeader'), cbError);
        }
    }, {
        key: 'getMetadataLazy',
        value: function getMetadataLazy(path, cbError) {
            var pathArr = objToArr(path);
            pathArr.push('?lazy=true');
            return this.network.sendRequest('' + _consts.CONST.getPathByArr('instagramTaskManager_getTaskByTypes', pathArr), this.getToken('asHeader'), cbError);
        }
    }, {
        key: 'getTaskTypes',
        value: function getTaskTypes(details, cbError) {
            return this.network.sendRequest('' + _consts.CONST.getPath('instagramTaskManager_getTaskTypes'), this.getToken('asHeader'), cbError);
        }
    }, {
        key: 'stopTaskByID',
        value: function stopTaskByID(taskId, cbError) {
            var setting = _extends({}, this.settingPost, {
                method: 'PUT',
                headers: _extends({}, this.settingPost.headers, {
                    'token': this.getToken()
                })
            });
            var url = _consts.CONST.getPath('instagramTaskManager_putStopTaskByID', taskId);
            return this.network.sendRequest(url, setting, cbError);
        }
    }, {
        key: 'deleteTaskByID',
        value: function deleteTaskByID(taskId, cbError) {
            var setting = _extends({}, this.settingPost, {
                method: 'DELETE',
                headers: _extends({}, this.settingPost.headers, {
                    'token': this.getToken()
                })
            });
            var url = _consts.CONST.getPath('instagramTaskManager_delRemoveTaskByID', taskId);
            return this.network.sendRequest(url, setting, cbError);
        }
    }, {
        key: 'getDefaultConfigs',
        value: function getDefaultConfigs(path, cbError) {
            var url = _consts.CONST.getPath('instagramTaskManager_getDefaultConfigs') + '/' + path.type + '/subtype/' + path.subtype;
            return this.network.sendRequest(url, this.getToken('asHeader'), cbError);
        }
    }, {
        key: 'postStartFollowingList',
        value: function postStartFollowingList(body, cbError, path) {
            var setting = _extends({}, this.settingPost, {
                headers: _extends({}, this.settingPost.headers, {
                    'token': this.getToken(),
                    'X-Auth-Token': 'e2f4336abea440489c51c5c10294ea12'
                })
            });
            setting.body = JSON.stringify(body);
            var url = path ? '' + _consts.CONST.getPath(path) : '' + _consts.CONST.getPath('instagramTaskManager_postStartFollowingList');

            return this.network.sendRequest(url, setting, cbError);
        }
    }, {
        key: 'postStartTask',
        value: function postStartTask(body, cbError) {
            var path = 'instagramTaskManager_postStartTask';
            return this.postStartFollowingList(body, cbError, path);
        }
    }, {
        key: 'postStartComments',
        value: function postStartComments(body, cbError) {
            var path = 'instagramTaskManager_postStartTask';
            return this.postStartFollowingList(body, cbError, path);
        }
    }, {
        key: 'postImageAutomessages',
        value: function postImageAutomessages(body, cbError) {
            var setting = {
                method: 'POST',
                headers: {
                    'token': this.getToken(),
                    'Accept': 'application/json',
                    'Content-type': 'multipart/form-data'
                }
            };
            setting.body = JSON.stringify(body);
            var url = '' + _consts.CONST.getPath('instagramTaskManager_postImageAttachment');

            return this.network.sendRequest(url, setting, cbError);
        }
    }, {
        key: 'getLogsChatBot',
        value: function getLogsChatBot(pathArray, page, cbError) {
            // const pathArr = objToArr(path);
            // console.log('convert path as ARR', pathArray, page);
            return this.network.sendRequest('' + _consts.CONST.getPathByArr('instagramTaskManager_getLogsChatBot', pathArray, page), this.getToken('asHeader'), cbError);
        }
    }, {
        key: 'getPostsAutomessages',
        value: function getPostsAutomessages(details, cbError) {
            var cursor = details.cursor ? '?cursor=' + details.cursor : '';
            // eslint-disable-next-line no-param-reassign
            var urlByUserName = '' + _consts.CONST.getPath('instagramTaskManager_getPosts', details.userName || 'user_not_selected') + cursor;
            return this.network.sendRequest(urlByUserName, this.getToken('asHeader'), cbError);
        }
    }, {
        key: 'getStoriesConfig',
        value: function getStoriesConfig(path, cbError) {
            var url = _consts.CONST.getPath('instagramTaskManager_getDefaultConfigs') + '/' + path.type + '/subtype/' + path.subtype;
            return this.network.sendRequest(url, this.getToken('asHeader'), cbError);
        }
    }]);

    return UserTaskManager;
}();

var userInstance = null;

if (!userInstance) {
    userInstance = new UserTaskManager();
}

exports.default = userInstance;

/***/ }),
/* 3 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); // import $ from 'jquery';


var _consts = __webpack_require__(0);

var _network = __webpack_require__(16);

var _network2 = _interopRequireDefault(_network);

var _cookie = __webpack_require__(4);

var _cookie2 = _interopRequireDefault(_cookie);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var User = function () {
    function User() {
        _classCallCheck(this, User);

        this.network = new _network2.default();
        this.cookieStorage = _cookie2.default;
        this.settingPost = {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
                'Accept': 'application/json'
            }
        };
    }

    _createClass(User, [{
        key: 'isLoggedIn',
        value: function isLoggedIn() {
            return !!this.getToken();
        }
    }, {
        key: 'isEmailConfirmed',
        value: function isEmailConfirmed() {
            return this.cookieStorage.get(_consts.CONST.cookieStorage.emailConfirmed) === 'confirmed';
        }
    }, {
        key: 'getToken',
        value: function getToken(asHeader) {
            var cookieToken = this.cookieStorage.get(_consts.CONST.cookieStorage.token);
            return asHeader ? { headers: { token: cookieToken } } : cookieToken;
        }
    }, {
        key: 'login',
        value: function login(formData, cbError) {
            var setting = _extends({}, this.settingPost, { body: JSON.stringify(formData) });
            return this.network.sendRequest(_consts.CONST.getPath('login'), setting, cbError);
        }
    }, {
        key: 'addInstagramAccount',
        value: function addInstagramAccount(formData, cbError) {
            var username = formData.username,
                password = formData.password,
                ip = formData.ip,
                port = formData.port,
                usernameProxy = formData.usernameProxy,
                passwordProxy = formData.passwordProxy;

            // TODO: del proxyTMP after beta-testing

            var proxyTMP = {
                'proxy': {
                    'host': ip,
                    port: port,
                    username: usernameProxy,
                    password: passwordProxy
                }
            };
            var body = JSON.stringify(_extends({ username: username,
                password: password
            }, proxyTMP));
            var setting = _extends({}, this.settingPost, {
                body: body,
                headers: _extends({}, this.settingPost.headers, {
                    token: this.getToken()
                })
            });

            return this.network.sendRequest(_consts.CONST.getPath('instagram_addAccount'), setting, cbError);
        }
    }, {
        key: 'editInstagramAccount',
        value: function editInstagramAccount(username, body) {
            var setting = {
                method: 'PUT',
                headers: _extends({}, this.settingPost.headers, {
                    'token': this.getToken()
                }),
                body: body
            };
            var url = '' + _consts.CONST.getPath('instagram_modifyAccount', username);
            console.log(url);
            return this.network.sendRequest('' + _consts.CONST.getPath('instagram_modifyAccount', username), setting);
        }
    }, {
        key: 'updateInstagramAccount',
        value: function updateInstagramAccount(username, body) {
            var setting = {
                headers: _extends({}, this.settingPost.headers, {
                    'token': this.getToken()
                }),
                body: body
            };
            // const url = `${CONST.getPath('instagram_modifyAccount', username)}`;
            // console.log(url);
            return this.network.sendRequest('' + _consts.CONST.getPath('instagram_getAccountByUser', username), setting);
        }
    }, {
        key: 'delInstagramAccount',
        value: function delInstagramAccount(username) {
            var setting = {
                method: 'DELETE',
                headers: _extends({}, this.settingPost.headers, {
                    'token': this.getToken()
                })
            };
            return this.network.sendRequest('' + _consts.CONST.getPath('instagram_modifyAccount', username), setting);
        }

        // getInstagramAccount() {
        //     const setting = {
        //         ...this.settingPost,
        //         method: 'GET',
        //         headers: {
        //             ...this.settingPost.headers,
        //             token: this.getToken()
        //         }
        //     };
        //     return this.network.sendRequest(CONST.getPath('instagram_addAccount'), setting);
        // }

    }, {
        key: 'confirm',
        value: function confirm(token) {
            // const confirmUrl = CONST.getPath('confirmation');
            return this.network.sendRequest('' + (_consts.CONST.getPath('confirmation') + token));
        }
    }, {
        key: 'register',
        value: function register(formData) {
            var setting = _extends({}, this.settingPost, {
                body: JSON.stringify(formData)
            });
            return this.network.sendRequest(_consts.CONST.getPath('registration'), setting);
        }

        // todo: move to account-list

    }, {
        key: 'getMetadata',
        value: function getMetadata(cbError) {
            return this.network.sendRequest('' + _consts.CONST.getPath('instagramAccount_getMetaData'), this.getToken('asHeader'), cbError);
        }
    }, {
        key: 'getMetadataLazy',
        value: function getMetadataLazy(cbError) {
            return this.network.sendRequest(_consts.CONST.getPath('instagramAccount_getMetaData') + '?lazy=true', this.getToken('asHeader'), cbError);
        }
    }, {
        key: 'getSecurityKey',
        value: function getSecurityKey(username, checkpointType) {
            var setting = _extends({}, this.settingPost, {
                body: JSON.stringify({ 'type': checkpointType }), // todo: tmp set, it should be 'type'
                headers: _extends({}, this.settingPost.headers, {
                    'token': this.getToken()
                })
            });
            return this.network.sendRequest('' + _consts.CONST.getPath('instagramAccount_checkpoint') + username, setting);
        }
    }, {
        key: 'confirmSecurityKey',
        value: function confirmSecurityKey(key, username) {
            var setting = {
                method: 'DELETE',
                body: JSON.stringify({ 'security_code': key }),
                headers: _extends({}, this.settingPost.headers, {
                    'token': this.getToken()
                })
            };
            return this.network.sendRequest('' + _consts.CONST.getPath('instagramAccount_confirmKey') + username, setting);
        }
    }]);

    return User;
}();

var userInstance = null;

if (!userInstance) {
    userInstance = new User();
}

exports.default = userInstance;

/***/ }),
/* 4 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"]) _i["return"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError("Invalid attempt to destructure non-iterable instance"); } }; }();

var CookieSrv = {
    get: function get(name) {
        var c = document.cookie.match('(?:(?:^|.*; *)' + name + ' *= *([^;]*).*$)|^.*$')[1];
        if (c) {
            return decodeURIComponent(c);
        }
    },
    set: function set(name, value) {
        var opts = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : { path: '/', days: 365 };

        if (opts.days) {
            opts['max-age'] = opts.days * 60 * 60 * 24;
            delete opts.days;
        }
        // eslint-disable-next-line no-param-reassign
        opts = Object.entries(opts).reduce(function (str, _ref) {
            var _ref2 = _slicedToArray(_ref, 2),
                k = _ref2[0],
                v = _ref2[1];

            return str + '; ' + k + '=' + v;
        }, '');
        document.cookie = name + '=' + (encodeURIComponent(value) + opts);
    },
    remove: function remove(name, opts) {
        return CookieSrv.set(name, '', _extends({ 'max-age': -1, path: '/', days: 0 }, opts)
        // path & domain must match cookie being deleted
        );
    } };

/*
class CookieStorage {
    read(key) {
        const value = $.cookie(key);
        return value === undefined ? null : value;
    }

    setCookie(name, value, days) {
        let expires = '';
        if (days) {
            const date = new Date();
            date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));
            expires = `; expires=${date.toUTCString()}`;
        }
        document.cookie = `${name} =${(value || '') + expires}; path=/`;
    }

    getCookie(name) {
        const value = `; ${document.cookie}`;
        const parts = value.split(`; ${name}=`);
        if (parts.length == 2) {
            return parts.pop().split(';').shift();
        }
    }
}
*/

exports.default = CookieSrv;

/***/ }),
/* 5 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.getTasksData = getTasksData;
exports.init = init;

var _apiTaskManager = __webpack_require__(2);

var _apiTaskManager2 = _interopRequireDefault(_apiTaskManager);

var _view = __webpack_require__(1);

var _view2 = _interopRequireDefault(_view);

var _consts = __webpack_require__(0);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var modeRus = function modeRus(mode) {
    switch (mode) {
        case 'AGGRESSIVE':
            return 'Агрессивный';
        case 'MIDDLE':
            return 'Средний';
        case 'SAFE':
            return ' Безопасный';
        default:
            break;
    }
};

function fillListByState(taskState, $list, item) {
    var progress = item.progress,
        created_at = item.created_at,
        task_id = item.task_id,
        type = item.type,
        status = item.status,
        username = item.username,
        mode = item.mode;

    var addItem = function addItem(tplStop) {
        $('<li class="list-group-item p-0 py-2" data-type="' + type + '" data-task-id="' + task_id + '">\n                ' + tplStop + '\n            </li>').appendTo($list);
    };
    var tplPaused = '<div class="card-block">\n        <h4 class="card-title">\u041D\u0430 \u043F\u0430\u0443\u0437\u0435</h4>\n        <div class="text-right">\n            ' + (progress && progress.timestamp ? '<span class="text-muted">' + _view2.default.getFormattedDateUtil(progress.timestamp) + '</span>' : '') + '\n            ' + (created_at ? '<span class="text-muted">' + _view2.default.getFormattedDateUtil(created_at) + '</span>' : '') + '\n        </div>\n        <span class="text-success">10%</span>\n        <div class="progress mb-3">\n            <div class="progress-bar bg-success" role="progressbar" style="width: 10%; height: 6px;" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100"></div>\n        </div>\n        <button class="btn btn-warning js_btn-delete-task">\u0423\u0434\u0430\u043B\u0438\u0442\u044C</button>';
    var tplProgress = '<div class="no-gutters px-2 row task-progress">\n            <div class="col-6 align-items-center d-flex">\n                <img src="' + sessionStorage.getItem(username) + '" class="rounded-circle avatar" alt="\u0430\u0432\u0430\u0442\u0430\u0440"/>\n                <h2 class="mt-0 mb-1 ml-2">' + username + '</h2>\n            </div>\n            <div class="col-6 col-6--with-borders">\n                <p class="pb-1 name"><b>ID:</b> ' + task_id + '</p>\n                ' + (created_at ? '<p class="pb-1"><b>\u0417\u0430\u043F\u0443\u0449\u0435\u043D\u043E:</b> ' + _view2.default.getFormattedDateUtil(created_at, 'showFullTime') + '</p>' : '') + '\n                ' + (mode ? '<p class="pb-1"><b>\u0420\u0435\u0436\u0438\u043C:</b> ' + modeRus(mode) + '</p>' : '') + '\n                <div class="text-center">\n                    <button class="btn btn-outline-primary js_btn-stop-task"><i class="far fa-pause-circle fa-lg"></i></button>\n                    <!--button class="btn btn-warning js_btn-delete-task ml-3"><i class="far fa-trash-alt fa-lg"></i></button-->\n                </div>\n            </div>\n        </div>';
    var tplStop = '<div class="no-gutters px-2 row task-stopped">\n            <div class="col-6 align-items-center d-flex">\n                <img src="' + sessionStorage.getItem(username) + '" class="rounded-circle avatar" alt="\u0430\u0432\u0430\u0442\u0430\u0440"/>\n                <h2 class="mt-0 mb-1 ml-2">' + username + '</h2>\n            </div>\n            <div class="col-6 col-6--with-borders">\n                <p class="pb-1 name"><b>ID:</b> ' + task_id + '</p>\n                ' + (item.status.reason ? '<p class="my-1">' + status.reason + '</p>' : '') + '\n                ' + (created_at ? '<p class="pb-1"><b>\u0417\u0430\u043F\u0443\u0449\u0435\u043D\u043E:</b> ' + _view2.default.getFormattedDateUtil(created_at, 'showFullTime') + '</p>' : '') + '\n                ' + (mode ? '<p class="pb-1"><b>\u0420\u0435\u0436\u0438\u043C:</b> ' + modeRus(mode) + '</p>' : '') + '\n                <div class="text-center">\n                    <button class="btn btn-warning js_btn-delete-task"><i class="far fa-trash-alt fa-lg"></i></button>\n                </div>\n            </div>\n\n        </div>';
    var tplFinished = '<div class="no-gutters px-2 row task-progress">\n            <div class="col-6 align-items-center d-flex">\n                <img src="' + sessionStorage.getItem(username) + '" class="rounded-circle avatar" alt="\u0430\u0432\u0430\u0442\u0430\u0440"/>\n                <h2 class="mt-0 mb-1 ml-2">' + username + '</h2>\n            </div>\n            <div class="col-6 col-6--with-borders">\n                <p class="pb-1 name"><b>ID:</b> ' + task_id + '</p>\n                ' + (created_at ? '<p class="pb-1"><b>\u0417\u0430\u043F\u0443\u0449\u0435\u043D\u043E:</b> ' + _view2.default.getFormattedDateUtil(created_at, 'showFullTime') + '</p>' : '') + '\n                ' + (mode ? '<p class="pb-1"><b>\u0420\u0435\u0436\u0438\u043C:</b> ' + modeRus(mode) + '</p>' : '') + '\n                <div class="text-center">\n                    <!--<button class="btn btn-outline-primary js_btn-stop-task"><i class="far fa-pause-circle fa-lg"></i></button>-->\n                    <button class="btn btn-warning js_btn-delete-task ml-3"><i class="far fa-trash-alt fa-lg"></i></button>\n                </div>\n            </div>\n        </div>';
    switch (taskState) {
        case 'PAUSED':
            addItem(tplPaused);
            break;
        case 'IN_PROGRESS':
            addItem(tplProgress);
            break;
        case 'GLOBAL_PAUSE':
            addItem(tplProgress);
            break;
        case 'STOPPED':
            addItem(tplStop);
            break;
        case 'FINISHED':
            addItem(tplFinished);
            break;
        default:
            break;
    }
}

function fillListMeta($list, items /* , isRuns*/) {
    // const defaultAvatarSrc = CONST.user.defaulAvatar;
    $list.empty();
    if (!items.length) {
        $('<li class="list-group-item py-2">\n                <p>\u041D\u0435\u0442 \u043D\u0438 \u043E\u0434\u043D\u043E\u0439 \u0437\u0430\u0434\u0430\u0447\u0438.</p>\n            </li>').appendTo($list);
        return;
    }
    items.forEach(function (item) {
        // if ((item.status.state === 'STOPPED' || item.status.state === 'FINISHED') && !isRuns) {
        //     fillListByState(item.status.state, $list, item);
        // } else if ((item.status.state === 'IN_PROGRESS' || item.status.state === 'PAUSED') && isRuns) {
        //     fillListByState(item.status.state, $list, item);
        // }
        fillListByState(item.status.state, $list, item);
    });
    if (!$('li', $list).length) {
        $('<li class="list-group-item py-2">\n            <p>\u041D\u0435\u0442 \u043D\u0438 \u043E\u0434\u043D\u043E\u0439 \u0437\u0430\u0434\u0430\u0447\u0438.</p>\n        </li>').appendTo($list);
    }
}

/* eslint-disable no-use-before-define */
function initHandlers(holders, path) {
    var _path = path || {
        type: _consts.CONST.url.tmTypes.followingT,
        subtype: _consts.CONST.url.tmTypes.followingSubT[0]
    };
    var $btnStopTask = $('.js_btn-stop-task');
    var $btnDelTask = $('.js_btn-delete-task');
    var getTaskID = function getTaskID(e) {
        var btn = $(e.target);
        return btn.closest('li').data('task-id');
    };

    $btnStopTask.on('click', function (e) {
        var taskId = getTaskID(e);
        console.log('STOP Task id', taskId);
        _apiTaskManager2.default.stopTaskByID(taskId).then(function (result) {
            console.log(result);
            getTasksData(holders, _path);
        });
    });

    $btnDelTask.on('click', function (e) {
        var taskId = getTaskID(e);
        console.log('DELETE id', taskId);
        _apiTaskManager2.default.deleteTaskByID(taskId).then(function (result) {
            console.log(result);
            getTasksData(holders, _path);
        });
    });
}

function getTasksData(holders, path) {
    var $all = holders.$all;

    var _path = path || {
        type: _consts.CONST.url.tmTypes.followingT,
        subtype: _consts.CONST.url.tmTypes.followingSubT[0]
    };
    _apiTaskManager2.default.getMetadata(_path).then(function (result) {
        // console.log('getMetadata & fillListMeta', result);
        if (result.status.state === 'ok') {
            // fillListMeta($runs, result.data.meta, 'isRuns');
            fillListMeta($all, result.data.meta, 'isAll');
            initHandlers(holders, path);
        }
    });
}

/**
 * Init
 */
function init() {
    var holders = {
        $runs: $('.follow-tasks-runs'),
        $stopped: $('.follow-tasks-stopped'),
        $all: $('.follow-tasks-all')
    };
    getTasksData(holders);
    window.PubSub.subscribe(_consts.CONST.events.tasks.NEW_TASK_CREATED, function (eventName, data) {
        var _path = {
            type: _consts.CONST.url.tmTypes.followingT,
            subtype: _consts.CONST.url.tmTypes.followingSubT[0]
        };
        getTasksData(holders, _path);
    });
}

/***/ }),
/* 6 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.init = init;

var _consts = __webpack_require__(0);

// import 'brutusin-json-forms';
var state = {
    username: ''
};
var wizardFormSelector = '.wizard-form';

/**
 * Init header
 */
function initSteps(formSelector, wizardCfg) {
    var $form = $(formSelector);
    var stepReducer = wizardCfg.stepReducer,
        onSubmitHandler = wizardCfg.onSubmitHandler;

    $('.js_profile-user-follow>.container').removeClass('container');

    $form.find('fieldset:first-child').fadeIn('slow');

    $form.find('input[type="text"]').on('focus', function () {
        $(this).removeClass('input-error');
    });

    // next step
    $form.find('.btn-next').on('click', function () {
        var parent_fieldset = $(this).parents('fieldset');
        var next_step = true;
        var radioBtnActive = parent_fieldset.find('input[name="userAccountRadio"]:checked');

        if (radioBtnActive.length > 0) {
            state.username = radioBtnActive.parents('li').data('username');
        }

        if (stepReducer) {
            stepReducer(parent_fieldset.index(), state);
        }

        parent_fieldset.find('input[type="text"],input[type="email"]').each(function () {
            if ($(this).val() === '') {
                $(this).addClass('input-error');
                next_step = false;
            } else {
                $(this).removeClass('input-error');
            }
        });

        if (next_step) {
            parent_fieldset.fadeOut(400, function () {
                $(this).next().fadeIn();
            });
        }
    });

    // previous step
    $form.find('.btn-previous').on('click', function () {
        // state.username = [...new Set(state.username)];
        $(this).parents('fieldset').fadeOut(400, function () {
            $(this).prev().fadeIn();
        });
    });

    // speed radio-btn group
    $('.js_follow-speed input[type=radio]').on('click', function () {
        // const value = $(this).attr('value');
        // state.user_default_config = {
        //     task_mode: value.toUpperCase()
        // };
    });

    // submit
    $form.on('submit', function (e) {
        $(this).find('input[type="text"],input[type="number"],input[type="email"]').each(function () {
            if ($(this).val() === '') {
                e.preventDefault();
                $(this).addClass('input-error');
            } else {
                $(this).removeClass('input-error');
            }
        });

        if (onSubmitHandler) {
            onSubmitHandler(e);
        }

        console.log('SubmitHandler END');
    });

    // alert close
    $('.form-submit-finish .close').on('click', function (e) {
        console.log('form-submit-finish .close');
        $(this).closest('.form-submit-finish').removeClass('d-block');
        e.stopPropagation();
        // $(this).closest('form-submit-finish').removeClass('d-block');
        // $('#v-pills-runned-tab').trigger('click');
        // window.PubSub.publish(CONST.events.tasks.NEW_TASK_CREATED);
    });

    $('#v-pills-create-task-tab').on('click', function (e) {
        console.log('reset form');
        if ($('fieldset:first-child').css('display') === 'none') {
            $form.find('fieldset').hide('fast', function () {
                $form.find('fieldset:first-child').show('slow');
            });
        }
        $('.form-submit-finish').removeClass('d-block');
        // clear all val in textarea and input (except radio)
        $('fieldset', wizardFormSelector).find('input:not([type="radio"]), textarea').val('');
    });
}

/*
function fixStepIndicator(n) {
    // This function removes the "active" class of all steps...
    var i, x = document.getElementsByClassName("step");
    for (i = 0; i < x.length; i++) {
        x[i].className = x[i].className.replace(" active", "");
    }
    //... and adds the "active" class on the current step:
    x[n].className += " active";
}*/

// wrap list as radiogroup
function modifyAccList() {
    var radioBtnAppend = function radioBtnAppend(idx) {
        return '<div class="">\n            <input type="radio" name="userAccountRadio" id="customRadio-' + idx + '" class="custom-control-input d-none" value="">\n        </div>';
    };
    var radioBtnWrap = function radioBtnWrap(idx) {
        return '<label class="accounts-list--label-wrapper col mb-0 media py-3" for="customRadio-' + idx + '"></label>';
    };
    var $accountsList = $('.accounts-list');
    var $li = $accountsList.find('li.media');
    $li.addClass('js_user-radio').removeClass('py-3 media');

    for (var i = 0; i < $li.length; i++) {
        var currLi = $($li[i]);
        currLi.wrapInner(radioBtnWrap(i)).append(radioBtnAppend(i));
        if (currLi.find('.user-checkpoint .text-danger').length) {
            currLi.remove();
        }
    }

    $('.js_user-radio').on('click', 'input[type=radio]', function (e) {
        var $parentFieldset = $(this).parents('fieldset');
        $('li.active', $parentFieldset).removeClass('active');
        $(this).closest('li').addClass('active');
        $('.btn-next', $parentFieldset).prop('disabled', false);
    });
}

function init(wizardCfg) {
    if ($('.wizard-form').length) {
        initSteps(wizardFormSelector, wizardCfg);
        window.PubSub.subscribe(_consts.CONST.events.instagramAccouns.INSTAGRAM_ACCOUNS_RENDERED, function (eventName, data) {
            modifyAccList();
        });
    }
}

/***/ }),
/* 7 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.init = init;

var _consts = __webpack_require__(0);

var _apiTaskManager = __webpack_require__(2);

var _apiTaskManager2 = _interopRequireDefault(_apiTaskManager);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var MAX_IMG_FILE_SIZE_BYTE = 1048576;
var fileUploadBox = '.file-upload';
var fileUploadContent = '.file-upload-content';

function removeUpload($uploadContainer) {
    var input = $uploadContainer.find('input');
    input.replaceWith(input.clone());
    $uploadContainer.find(fileUploadContent).hide();
    $uploadContainer.find('.image-upload-wrap').show();
}

var $imgUploadWrap = $('.image-upload-wrap');
$imgUploadWrap.bind('dragover', function () {
    $('.image-upload-wrap').addClass('image-dropping');
});
$imgUploadWrap.bind('dragleave', function () {
    $('.image-upload-wrap').removeClass('image-dropping');
});

// function abortRead(reader) {
//     reader.abort();
// }

function errorHandler(evt, reader) {
    switch (evt.target.error.code) {
        case evt.target.error.NOT_FOUND_ERR:
            console.info('File Not Found!');
            break;
        case evt.target.error.NOT_READABLE_ERR:
            console.info('File is not readable');
            break;
        case evt.target.error.ABORT_ERR:
            break; // noop
        default:
            console.info('An error occurred reading this file.');
    }
}

function updateProgress(evt, progress) {
    // evt is an ProgressEvent.
    if (evt.lengthComputable) {
        var percentLoaded = Math.round(evt.loaded / evt.total * 100);
        // Increase the progress bar length.
        if (percentLoaded % 10 === 0) {
            // progress.style.width = `${percentLoaded}%`;
            // progress.textContent = `${percentLoaded}%`;
            console.log(percentLoaded);
        }
    }
}

function isFileTypeOk(acceptedFile) {
    return acceptedFile.type === 'image/jpeg';
}

function isImgSizeOk(acceptedFile) {
    var imgSize = Math.round(acceptedFile.size);
    return MAX_IMG_FILE_SIZE_BYTE > imgSize;
}

function handleSubmit(input, replaceWithCfg) {
    var url = _consts.CONST.getPath('instagramTaskManager_postImageAttachment');
    var token = _apiTaskManager2.default.getToken();
    var acceptedFile = input.files[0];
    console.log('handleSubmit');
    // if (!isImgSizeOk(acceptedFile)) {
    //     console.log('show error message, imgSize to big ');
    //     $(fileUploadBox)
    //         .append(`
    //             <p class="msg-max-size-img text-danger">Максимальный допустимый размер картинки ${MAX_IMG_FILE_SIZE_BYTE}MB</p>
    //         `);
    //     setTimeout(() => {
    //         $('.msg-max-size-img').addClass('d-none');
    //     }, 5000);
    //     return;
    // }
    var formData = new FormData();

    var request = new XMLHttpRequest();

    if (replaceWithCfg && replaceWithCfg.replaceWith) {
        // ** edit USER **
        // PUT http://api.luxgram.ru/v1/instagram-accounts/{username}/photo
        // form-data: "photo" (jpg)
        formData.append('photo', acceptedFile, acceptedFile.name);
        var username = replaceWithCfg.username;

        request.open('PUT', 'http://api.luxgram.ru/v1/instagram-accounts/' + username + '/photo');
        // request.withCredentials = true;
        request.setRequestHeader('token', token);
        request.setRequestHeader('Accept', 'application/json');
        request.setRequestHeader('cache-control', 'no-cache');
        request.send(formData);
        request.addEventListener('readystatechange', function () {
            if (this.readyState === 4) {
                console.log('PUT', this.responseText, this);
                // window.PubSub.publish(CONST.events.autoarnswer.IMAGE_UPLOADED, {'response': this.responseText, 'el': input});
                window.PubSub.publish(_consts.CONST.events.autoarnswer.IMAGE_UPLOADED_AVATAR, { 'response': this.response });
            }
        });
        return;
    }
    formData.append('image', acceptedFile, acceptedFile.name);
    request.open('POST', url);
    // request.withCredentials = true;
    request.setRequestHeader('token', token);
    request.setRequestHeader('Accept', 'application/json');
    request.setRequestHeader('cache-control', 'no-cache');
    request.send(formData);
    request.addEventListener('readystatechange', function () {
        if (this.readyState === 4) {
            console.log('this', this.responseText, this);
            window.PubSub.publish(_consts.CONST.events.autoarnswer.IMAGE_UPLOADED, { 'response': this.responseText, 'el': input });
        }
    });
}

function readURL(input, replaceWithCfg, handleSubmitCb) {
    var replaceWith = replaceWithCfg.replaceWith,
        holderCls = replaceWithCfg.holderCls;

    var holder = holderCls ? holderCls : fileUploadBox;
    var $container = $(input).closest(holder);
    if (input.files && input.files[0]) {
        var reader = new FileReader();
        console.log('readURL');
        if (!isImgSizeOk(input.files[0]) || !isFileTypeOk(input.files[0])) {
            console.log('show error message, imgSize to big ');
            $(fileUploadBox).find('warning-image').remove();
            $(fileUploadBox).append('\n                <div class="warning-image text-danger">\n                    <p>\u0414\u043E\u0441\u0442\u0443\u043F\u043D\u044B\u0439 \u0444\u043E\u0440\u043C\u0430\u0442 \u0438\u0437\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u044F jpeg \u0438\u043B\u0438 jpg</p>\n                    <p class="msg-max-size-img text-danger">\u041C\u0430\u043A\u0441\u0438\u043C\u0430\u043B\u044C\u043D\u044B\u0439 \u0434\u043E\u043F\u0443\u0441\u0442\u0438\u043C\u044B\u0439 \u0440\u0430\u0437\u043C\u0435\u0440 \u043A\u0430\u0440\u0442\u0438\u043D\u043A\u0438 ' + MAX_IMG_FILE_SIZE_BYTE / 1024 / 1024 + 'MB</p>\n                </div>\n            ');
            setTimeout(function () {
                $('.warning-image').addClass('d-none');
            }, 5000);
            return;
        }

        reader.onload = function (e) {
            if (!replaceWith) {
                $container.find('.image-upload-wrap').hide();
                $container.find('.file-upload-image').attr('src', e.target.result);
                $container.find(fileUploadContent).show();
                $container.find('.image-title').html(input.files[0].name);
            } else {
                var imageCls = replaceWithCfg.imageCls;

                $container.find(imageCls).attr('src', e.target.result);
            }
        };

        reader.onerror = errorHandler;
        reader.onprogress = updateProgress;

        reader.readAsDataURL(input.files[0]);
        setTimeout(function () {
            if (typeof handleSubmitCb === 'function') {
                var token = _apiTaskManager2.default.getToken();
                handleSubmitCb(input, token);
            } else {
                handleSubmit(input, replaceWithCfg);
            }
        }, 2000);
        // Read in the image file as a binary string.
        // reader.readAsBinaryString(input.files[0]);
    } else {
        removeUpload($container);
    }
}

function init(replaceWithCfg, handleSubmitCb) {
    var uploadBtnCls = !(replaceWithCfg && replaceWithCfg.replaceWith) ? '.file-upload-btn' : replaceWithCfg.uploadBtnCls;
    var $uploadBtn = $(uploadBtnCls);
    var $uploadInput = $('.file-upload-input');
    var $removeImgBtn = $('.remove-image');

    $uploadBtn.off();
    $uploadInput.off();
    $removeImgBtn.off();

    $uploadBtn.on('click', function (e) {
        var toParentCls = !(replaceWithCfg && replaceWithCfg.replaceWith) ? '.col' : replaceWithCfg.holderCls;
        var input = $(e.target).closest(toParentCls).find(fileUploadBox).find('input.file-upload-input');
        input.trigger('click');
        e.stopPropagation();
    });

    $uploadInput.on('change', function (e) {
        readURL(e.target, replaceWithCfg, handleSubmitCb);
    });

    $removeImgBtn.on('click', function (e) {
        var $container = $(e.target).closest('.col').find(fileUploadBox);
        removeUpload($container);
        $container.removeAttr('attached-img-id');
    });
}

/***/ }),
/* 8 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.init = init;

var _apiTaskManager = __webpack_require__(2);

var _apiTaskManager2 = _interopRequireDefault(_apiTaskManager);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var clsConst = {
    currentPageCls: '',
    tasksList: '',
    logsTabBtn: '',
    pagination: '',
    paginationPgNumber: ''
}; /* eslint-disable no-use-before-define */

var $list = '$(clsConst.tasksList)'; // set in preConfig()
var selectCls = 'someClass';
var getUsername = function getUsername() {
    return $('.' + selectCls + ' option:selected').val();
};
var path = {
    username: getUsername()
};
var currentPage = null;
var intervalId = '';

function initHandlerPagination($previous, $next, dataArray) {
    var $wrapper = $(clsConst.pagination);
    var pagination = dataArray.settings.pagination;


    $previous.on('click', function (e) {
        var $liActive = $wrapper.find('li.page-number.active');
        var page = pagination.previous;
        if (!pagination.previous) {
            $previous.addClass('disabled').prop('disabled', 'disabled');
            return;
        }
        currentPage = pagination.previous;
        $liActive.removeClass('active');
        getLogsData($list, path, page);
    });

    $next.on('click', function (e) {
        var $liActive = $wrapper.find('li.page-number.active');
        var currentActiveIdx = $liActive.index();
        var page = pagination.next;
        if (!pagination.next) {
            return;
        }
        currentPage = pagination.next;
        $liActive.removeClass('active');
        // if (lastPage <= currentActiveIdx + 1) {
        //     $(e.target).parent().addClass('disabled');
        // }
        if (currentActiveIdx && $previous.hasClass('disabled')) {
            $previous.removeClass('disabled');
        }
        getLogsData($list, path, page);
    });

    $(clsConst.logsTabBtn).on('click', function (e) {
        // at this point of time setInterval is working
        currentPage = 1;
    });
    $(clsConst.pagination + ' ' + clsConst.paginationPgNumber).on('click', function (e) {
        e.preventDefault();
        var val = $(e.target).text();
        currentPage = parseInt(val, 10);
        getLogsData($list, path, currentPage);
        console.log(currentPage);
    });
}

function addPagination(dataArray, $wrapper) {
    var pagination = dataArray.settings.pagination;

    var tplPrevious = $('<li class="page-item ' + (!pagination.previous ? 'disabled' : '') + '"><a class="page-link" href="#" ' + (!pagination.previous ? 'tabindex="-1"' : '') + '>\u041D\u0430\u0437\u0430\u0434</a></li>');
    var tplNext = $('<li class="page-item ' + (!pagination.next ? 'disabled' : '') + '"><a class="page-link" href="#" ' + (!pagination.next ? 'tabindex="-1"' : '') + '>\u0412\u043F\u0435\u0440\u0435\u0434</a></li>');

    clearPagination($wrapper);

    if (pagination.next || pagination.pages && pagination.current === pagination.pages[pagination.pages.length - 1]) {
        $wrapper.append(tplPrevious);
        if (pagination && pagination['pages']) {
            pagination['pages'].forEach(function (item) {
                $('<li class="page-item page-number ' + (pagination.current === item ? 'active' : '') + '"><a class="page-link" href="#">' + item + '</a></li>').appendTo($wrapper);
            });
        }
        $wrapper.append(tplNext);
    }
    initHandlerPagination(tplPrevious, tplNext, dataArray);
}

function clearPagination($wrapper) {
    $wrapper.empty();
}

function fillListMeta($list, dataArray, isRuns) {
    var $wrapperPagination = $('.logs-pagination');
    var items = dataArray.logs;
    // const defaultAvatarSrc = CONST.user.defaulAvatar;
    $list.empty();
    if (!items.length) {
        $('<li class="list-group-item py-2">\n            <p>\u041D\u0435\u0442 \u043D\u0438 \u043E\u0434\u043D\u043E\u0433\u043E \u043B\u043E\u0433\u0430.</p>\n        </li>').appendTo($list);
        clearPagination($wrapperPagination);
        return;
    }
    addPagination(dataArray, $wrapperPagination);
    items.forEach(function (item) {
        var level = item.level,
            value = item.value;

        $('<li class="list-group-item p-0 py-2">\n              <div class="media-body d-flex">\n                  <div class="col task-type ' + (level === 'ERROR' ? 'text-danger' : '') + ' ' + (level === 'WARN' ? 'text-warning' : '') + '">\n                      ' + (value ? '' + value : '') + '\n                  </div>\n              </div>\n          </li>').appendTo($list);

        if (!$('li', $list).length) {
            $('<li class="list-group-item py-2" >\n                <p>\u041D\u0435\u0442 \u043D\u0438 \u043E\u0434\u043D\u043E\u0433\u043E \u043B\u043E\u0433\u0430.</p>\n            </li>').appendTo($list);
        }
    });
}

function tabStopReqHandler() {
    var $allAsideTabs = $('#v-pills-tab');
    $allAsideTabs.off();
    $allAsideTabs.on('click', 'a', function (e) {
        e.preventDefault();
        var tab = $(e.target);
        if (tab.attr('id') !== 'v-pills-logs-tab') {
            // console.log('stop req');
            if (intervalId) {
                clearInterval(intervalId);
            }
        }
    });
}

function getLogsData($list, path, page) {
    path.username = getUsername(selectCls);
    var pathArr = [path.type, 'subtype/' + path.subtype, 'account/' + path.username];
    _apiTaskManager2.default.getLogsChatBot(pathArr, page).then(function (result) {
        if (result.status.state === 'ok') {
            fillListMeta($list, result.data);
            tabStopReqHandler();
            var updateInterval = result.data.settings.invoke_in_millis;
            // reset Timer request
            if (intervalId) {
                clearInterval(intervalId);
            }
            if (currentPage <= 1) {
                intervalId = setInterval(function () {
                    // eslint-disable-next-line indent
                    getLogsData($list, path, currentPage);
                }, updateInterval);
            }
        } else {
            $('<li class="list-group-item py-2">\n                <p>\u041D\u0435\u0442 \u0434\u043E\u0441\u0442\u0443\u043F\u0430</p>\n            </li>').appendTo($list);
        }
    });
}

function preConfig(cfg) {
    clsConst = cfg;
    $list = $(clsConst.tasksList);
    path.type = cfg.pathType;
    path.subtype = cfg.pathSubType;
}

function init(_selectCls, cfg) {
    if ($(cfg.currentPageCls).length) {
        selectCls = _selectCls;
        preConfig(cfg);
        if (getUsername()) {
            // console.log(getUsername());
            getLogsData($list, path);
        } else {
            console.log('select user');
        }
    }
}

/***/ }),
/* 9 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.init = init;

var _consts = __webpack_require__(0);

var _user = __webpack_require__(3);

var _user2 = _interopRequireDefault(_user);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var fillDropdownUsersCfg = {};

function fillDropdownUsers(_ref, accounts) {
    var $wrapper = _ref.$wrapper,
        logsState = _ref.logsState,
        OnChangeSelectCb = _ref.OnChangeSelectCb;
    var selectCls = logsState.selectCls;

    var label = 'Выберите аккаунт';
    $wrapper.empty().addClass('border-light-color');
    $('<div class="">' + label + '</div><select name="task-type" class="' + selectCls + '"></select>').appendTo($wrapper);
    accounts.forEach(function (name) {
        $('<option class="list-group-item py-2" value="' + name + '">\n            ' + name + '\n        </option>').appendTo($('.' + selectCls));
    });
    OnChangeSelectCb();
}

function getMetaLazy() {
    _user2.default.getMetadataLazy().then(function (res) {
        if (res.status.state === 'ok' && res.data && res.data.accounts) {
            var cfg = fillDropdownUsersCfg;
            var accounts = res.data.accounts;

            fillDropdownUsers(cfg, accounts);
            window.PubSub.publish(_consts.CONST.events.instagramAccouns.INSTAGRAM_ACCOUNS_RENDERED_LAZY, res.data.accounts);
        }
    });
}

function tabHandler(isComputeMultyDropdown) {
    $('#v-pills-logs-tab').on('click', function (e) {
        getMetaLazy();
    });
}

function init(OnChangeSelect, logsState) {
    var $wrapper = $('.log-users-list');
    Object.assign(fillDropdownUsersCfg, { $wrapper: $wrapper, OnChangeSelectCb: OnChangeSelect, logsState: logsState });
    tabHandler();
}

/***/ }),
/* 10 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.nextBtnvalidateCompetitorsHandler = nextBtnvalidateCompetitorsHandler;
exports.initTagsInput = initTagsInput;

__webpack_require__(51);

var tagsinputSelector = '.bootstrap-tagsinput';

function nextBtnvalidateCompetitorsHandler($input, nextStepBtn, igroreRegexCheck) {
    var englishChars = /^[A-Za-z0-9,._ \n]+$/;
    var checkTextArea = function checkTextArea(e, isInit) {
        var inputvalue = !isInit ? $(e.target).closest('div input').val() : '';
        var text = !isInit ? $(e.target).closest('div').find('.bootstrap-tagsinput input').val() + ',' + inputvalue : '';
        var isRemoved = !isInit && e.type === 'itemRemoved';
        var textOnRemove = isRemoved ? inputvalue : '';
        var removeBorder = function removeBorder() {
            // enable on delete all
            $(e.target).closest('.js_tagsinput-box').find(tagsinputSelector).removeClass('border-danger');
            if (nextStepBtn) {
                // disable on checnge
                nextStepBtn.removeAttr('disabled', 'disabled');
            }
        };
        var addBorder = function addBorder() {
            $(e.target).closest('.js_tagsinput-box').find(tagsinputSelector).addClass('border-danger');
        };
        console.log('text', text);
        if (nextStepBtn) {
            // disable on checnge
            nextStepBtn.attr('disabled', 'disabled');
        }
        var isAddedTextValid = text.length && (englishChars.test(text) || !!igroreRegexCheck);
        var isRemovedTextValid = textOnRemove.length && (englishChars.test(textOnRemove) || !!igroreRegexCheck);

        if ((isAddedTextValid || isRemovedTextValid) && text !== ',') {
            // enable on checnge if lengthText>1
            removeBorder();
        } else if (!isInit) {
            // $(e.target).closest('.js_tagsinput-box').find(tagsinputSelector).addClass('border-danger');
            addBorder();
        }
        if (!textOnRemove.length && isRemoved && !isInit) {
            // enable on delete all
            removeBorder();
        }
    };
    // disable on init
    checkTextArea(null, 'isInit');
    console.log('$competitorsTextArea', $input);

    if (!nextStepBtn) {
        // do not validate anything
        return;
    }

    // event.item: contains the item
    // event.cancel: set to true to prevent the item getting added
    $input.on('beforeItemAdd', checkTextArea);

    // event.item: contains the item
    $input.on('itemRemoved', checkTextArea);
}

function initTagsInput($elInput) {
    $elInput.tagsinput('items');
}

/***/ }),
/* 11 */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(module) {/**
 * Copyright (c) 2010,2011,2012,2013,2014 Morgan Roderick http://roderick.dk
 * License: MIT - http://mrgnrdrck.mit-license.org
 *
 * https://github.com/mroderick/PubSubJS
 */

(function (root, factory){
    'use strict';

    var PubSub = {};
    root.PubSub = PubSub;

    var define = root.define;

    factory(PubSub);

    // AMD support
    if (typeof define === 'function' && define.amd){
        define(function() { return PubSub; });

        // CommonJS and Node.js module support
    } else if (true){
        if (module !== undefined && module.exports) {
            exports = module.exports = PubSub; // Node.js specific `module.exports`
        }
        exports.PubSub = PubSub; // CommonJS module 1.1.1 spec
        module.exports = exports = PubSub; // CommonJS
    }

}(( typeof window === 'object' && window ) || this, function (PubSub){
    'use strict';

    var messages = {},
        lastUid = -1;

    function hasKeys(obj){
        var key;

        for (key in obj){
            if ( obj.hasOwnProperty(key) ){
                return true;
            }
        }
        return false;
    }

    /**
     * Returns a function that throws the passed exception, for use as argument for setTimeout
     * @alias throwException
     * @function
     * @param { Object } ex An Error object
     */
    function throwException( ex ){
        return function reThrowException(){
            throw ex;
        };
    }

    function callSubscriberWithDelayedExceptions( subscriber, message, data ){
        try {
            subscriber( message, data );
        } catch( ex ){
            setTimeout( throwException( ex ), 0);
        }
    }

    function callSubscriberWithImmediateExceptions( subscriber, message, data ){
        subscriber( message, data );
    }

    function deliverMessage( originalMessage, matchedMessage, data, immediateExceptions ){
        var subscribers = messages[matchedMessage],
            callSubscriber = immediateExceptions ? callSubscriberWithImmediateExceptions : callSubscriberWithDelayedExceptions,
            s;

        if ( !messages.hasOwnProperty( matchedMessage ) ) {
            return;
        }

        for (s in subscribers){
            if ( subscribers.hasOwnProperty(s)){
                callSubscriber( subscribers[s], originalMessage, data );
            }
        }
    }

    function createDeliveryFunction( message, data, immediateExceptions ){
        return function deliverNamespaced(){
            var topic = String( message ),
                position = topic.lastIndexOf( '.' );

            // deliver the message as it is now
            deliverMessage(message, message, data, immediateExceptions);

            // trim the hierarchy and deliver message to each level
            while( position !== -1 ){
                topic = topic.substr( 0, position );
                position = topic.lastIndexOf('.');
                deliverMessage( message, topic, data, immediateExceptions );
            }
        };
    }

    function messageHasSubscribers( message ){
        var topic = String( message ),
            found = Boolean(messages.hasOwnProperty( topic ) && hasKeys(messages[topic])),
            position = topic.lastIndexOf( '.' );

        while ( !found && position !== -1 ){
            topic = topic.substr( 0, position );
            position = topic.lastIndexOf( '.' );
            found = Boolean(messages.hasOwnProperty( topic ) && hasKeys(messages[topic]));
        }

        return found;
    }

    function publish( message, data, sync, immediateExceptions ){
        message = (typeof message === 'symbol') ? message.toString() : message;

        var deliver = createDeliveryFunction( message, data, immediateExceptions ),
            hasSubscribers = messageHasSubscribers( message );

        if ( !hasSubscribers ){
            return false;
        }

        if ( sync === true ){
            deliver();
        } else {
            setTimeout( deliver, 0 );
        }
        return true;
    }

    /**
     * Publishes the message, passing the data to it's subscribers
     * @function
     * @alias publish
     * @param { String } message The message to publish
     * @param {} data The data to pass to subscribers
     * @return { Boolean }
     */
    PubSub.publish = function( message, data ){
        return publish( message, data, false, PubSub.immediateExceptions );
    };

    /**
     * Publishes the the message synchronously, passing the data to it's subscribers
     * @function
     * @alias publishSync
     * @param { String } message The message to publish
     * @param {} data The data to pass to subscribers
     * @return { Boolean }
     */
    PubSub.publishSync = function( message, data ){
        return publish( message, data, true, PubSub.immediateExceptions );
    };

    /**
     * Subscribes the passed function to the passed message. Every returned token is unique and should be stored if you need to unsubscribe
     * @function
     * @alias subscribe
     * @param { String } message The message to subscribe to
     * @param { Function } func The function to call when a new message is published
     * @return { String }
     */
    PubSub.subscribe = function( message, func ){
        if ( typeof func !== 'function'){
            return false;
        }

        message = (typeof message === 'symbol') ? message.toString() : message;

        // message is not registered yet
        if ( !messages.hasOwnProperty( message ) ){
            messages[message] = {};
        }

        // forcing token as String, to allow for future expansions without breaking usage
        // and allow for easy use as key names for the 'messages' object
        var token = 'uid_' + String(++lastUid);
        messages[message][token] = func;
        
        // return token for unsubscribing
        return token;
    };

    /**
     * Subscribes the passed function to the passed message once
     * @function
     * @alias subscribeOnce
     * @param { String } message The message to subscribe to
     * @param { Function } func The function to call when a new message is published
     * @return { PubSub }
     */
    PubSub.subscribeOnce = function( message, func ){
        var token = PubSub.subscribe( message, function(){
            // before func apply, unsubscribe message
            PubSub.unsubscribe( token );
            func.apply( this, arguments );
        });
        return PubSub;
    };

    /**
     * Clears all subscriptions
     * @function
     * @public
     * @alias clearAllSubscriptions
     */
    PubSub.clearAllSubscriptions = function clearAllSubscriptions(){
        messages = {};
    };

    /**
     * Clear subscriptions by the topic
     * @function
     * @public
     * @alias clearAllSubscriptions
     */
    PubSub.clearSubscriptions = function clearSubscriptions(topic){
        var m;
        for (m in messages){
            if (messages.hasOwnProperty(m) && m.indexOf(topic) === 0){
                delete messages[m];
            }
        }
    };

    /**
     * Removes subscriptions
     *
     * - When passed a token, removes a specific subscription.
     *
	 * - When passed a function, removes all subscriptions for that function
     *
	 * - When passed a topic, removes all subscriptions for that topic (hierarchy)
     * @function
     * @public
     * @alias subscribeOnce
     * @param { String | Function } value A token, function or topic to unsubscribe from
     * @example // Unsubscribing with a token
     * var token = PubSub.subscribe('mytopic', myFunc);
     * PubSub.unsubscribe(token);
     * @example // Unsubscribing with a function
     * PubSub.unsubscribe(myFunc);
     * @example // Unsubscribing from a topic
     * PubSub.unsubscribe('mytopic');
     */
    PubSub.unsubscribe = function(value){
        var descendantTopicExists = function(topic) {
                var m;
                for ( m in messages ){
                    if ( messages.hasOwnProperty(m) && m.indexOf(topic) === 0 ){
                        // a descendant of the topic exists:
                        return true;
                    }
                }

                return false;
            },
            isTopic    = typeof value === 'string' && ( messages.hasOwnProperty(value) || descendantTopicExists(value) ),
            isToken    = !isTopic && typeof value === 'string',
            isFunction = typeof value === 'function',
            result = false,
            m, message, t;

        if (isTopic){
            PubSub.clearSubscriptions(value);
            return;
        }

        for ( m in messages ){
            if ( messages.hasOwnProperty( m ) ){
                message = messages[m];

                if ( isToken && message[value] ){
                    delete message[value];
                    result = value;
                    // tokens are unique, so we can just stop here
                    break;
                }

                if (isFunction) {
                    for ( t in message ){
                        if (message.hasOwnProperty(t) && message[t] === value){
                            delete message[t];
                            result = true;
                        }
                    }
                }
            }
        }

        return result;
    };
}));

/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(54)(module)))

/***/ }),
/* 12 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.fillPosts = fillPosts;
exports.getPosts = getPosts;

var _consts = __webpack_require__(0);

var _apiTaskManager = __webpack_require__(2);

var _apiTaskManager2 = _interopRequireDefault(_apiTaskManager);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/* ---- modal*/
function fillPosts($list, items, isAppendToList) {
    var addToList = function addToList(isAppendPrevMsg, $li, $list) {
        if (isAppendPrevMsg) {
            $li.insertAfter($list.find('li:last-child'));
        } else {
            $li.appendTo($list);
        }
    };
    if (!isAppendToList) {
        $list.empty();
    }
    items.forEach(function (item, idx) {
        var id = item.id,
            type = item.type;

        var tpl = $('<li class="col-4 list-group list-inline-item m-0 p-0" data-post-id="' + id + '" data-post-type="' + type + '">\n            ' + (item.type === 'photo' ? '<img src="' + item.url + '" class="img-responsive p-2" alt="image" style="max-height: 230px;"/>' : '<div class="' + item.type + ' h-100">\n                    <!--style="background-image: url(' + item.url + ');"-->\n                    <img src="' + item.url + '" class="img-responsive p-2 w-100" alt="video-cover" style="max-height: 200px;"/>\n                    <i class="fas fa-video fa-2x position-absolute text-white align-self-start"></i>\n                  </div>') + '\n        </li>');
        addToList(isAppendToList, tpl, $list); // toDo refactor me, less DOM manipulation
    });
}

function addPagination(modalFooter, cursor) {
    $('#load-more').attr('cursor', cursor);
    modalFooter.removeClass('d-none');
}

function hidePagination(modalFooter) {
    modalFooter.addClass('d-none');
}

function imageSelectHandler($list, modal, targetButton) {
    $('li', $list).on('click', function (e) {
        var imageBoxCls = 'js_uploaded-img-from-posts';
        var imageDelBtnCls = 'js_delete-post-img';
        var imageBoxSelector = '.' + imageBoxCls;
        var $btnLi = $(e.target).closest('li');
        var postId = $btnLi.attr('data-post-id');
        var postType = $btnLi.attr('data-post-type');
        var closestCol = targetButton.closest('.col');
        // targetButton.closest('button').attr('data-post-img-id', imgId);
        console.log('click', postType, postId, modal);
        window.PubSub.publish(_consts.CONST.events.modal.IMAGE_POST_SELECTED, { $btnLi: $btnLi, closestCol: closestCol });
        modal.modal('hide');
        if (targetButton.closest('.col').find(imageBoxSelector).length) {
            targetButton.closest('.col').find(imageBoxSelector).remove();
        }

        var tplImageBox = $('<div class="' + imageBoxCls + ' uploaded-img-from-posts" \n                data-post-id="' + postId + '" data-post-type="' + postType + '">\n                    <button class="btn btn-warning uploaded-img-from-posts--remove-btn ml-2 ' + imageDelBtnCls + '">\u0423\u0434\u0430\u043B\u0438\u0442\u044C</button>\n                </div').prepend($btnLi.find('img'));
        targetButton.closest('.col').append(tplImageBox);

        $('.' + imageDelBtnCls).off().on('click', function (e) {
            var currentImageBox = $(e.target).closest('.col').find(imageBoxSelector);
            currentImageBox.remove();
        });
    });
}

function getPosts(modal, details, _ref) {
    var loadMoreHandler = _ref.loadMoreHandler,
        targetButton = _ref.targetButton;

    _apiTaskManager2.default.getPostsAutomessages(details).then(function (result) {
        // console.log(result);
        if (result.status.state === 'ok') {
            var data = result.data;

            var modalFooter = modal ? $('.modal-footer', modal) : null;
            var $list = $('.modal-body .posts-list', modal);
            if (!data.posts.length) {
                // show message 'no posts found'
                targetButton.popover({
                    container: 'body',
                    content: 'У текущего аккаунта нет ни одного поста',
                    placement: 'bottom'
                });
                setTimeout(function () {
                    targetButton.popover('destroy');
                }, 4000);
                return;
            }

            if (modal) {
                fillPosts($list, data.posts);
                modal.modal('show');
                modal.modal('handleUpdate');
                imageSelectHandler($list, modal, targetButton);
            } else if (data.posts) {
                fillPosts($list, data.posts, 'appendToList');
                imageSelectHandler($list, $('#postsGridModal'), targetButton);
            }

            if (data.pagination && data.pagination.cursor) {
                addPagination(modalFooter, data.pagination.cursor);
                loadMoreHandler(getPosts);
            } else {
                hidePagination($('.modal-footer', modal));
            }
        } else {
            // show message error
        }
    });
}

/***/ }),
/* 13 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.initLogsTab = initLogsTab;

var _view = __webpack_require__(1);

var _view2 = _interopRequireDefault(_view);

var _logs = __webpack_require__(8);

var logs = _interopRequireWildcard(_logs);

var _tabs = __webpack_require__(9);

var tabs = _interopRequireWildcard(_tabs);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function moveInOneRow(userListBox, subTypeBox) {
    if (!subTypeBox.length || !userListBox.length) {
        return;
    }
    userListBox.appendTo(subTypeBox);

    userListBox.addClass('col');
    subTypeBox.addClass('row');
    // add "col-auto" to first column
    subTypeBox.find('.log-subype').addClass('col-auto');
}

/**
 * Cfg
 * @param logsState
 * @param logsSubtypes
 * @param clsConst
 * Cfg-functions
 * @param setUserNameCb
 * @param addDropdown
 */
function initLogsTab(_ref) {
    var logsState = _ref.logsState,
        logsSubtypes = _ref.logsSubtypes,
        clsConst = _ref.clsConst,
        setUserNameCb = _ref.setUserNameCb,
        textRusArray = _ref.textRusArray;
    var selectCls = logsState.selectCls;
    var selectClsLogsTaskType = logsState.selectClsLogsTaskType;


    function dropdownOnSelectCb(e) {
        clsConst.pathSubType = $('.' + selectClsLogsTaskType + ' option:selected').val();
        $('.js_logs-container').addClass('d-block');
        $('option.js_empty-subtype').remove();
    }

    function OnChangeSelect() {
        var usernameSelected = $('.' + selectCls + ' option:selected').val();
        setUserNameCb(usernameSelected);
        logs.init(selectCls, clsConst);
    }
    function handleLogsDropdowns() {
        dropdownOnSelectCb();
        OnChangeSelect();
        $('.' + selectClsLogsTaskType).on('change', function () {
            dropdownOnSelectCb();
            logs.init(selectCls, clsConst);
        });

        $('.' + selectCls).on('change', function () {
            OnChangeSelect();
        });
    }
    _view2.default.addDropdown($(logsState.wrapperSubtype), logsSubtypes, { logsState: logsState, isRenderEmptyOption: false, textRusArray: textRusArray });
    tabs.init(handleLogsDropdowns, logsState); // makes double request : OPTION and GET

    var userListBox = $('.log-users-list ');
    var subTypeBox = $('.log-subype--box');
    moveInOneRow(userListBox, subTypeBox);
}

/***/ }),
/* 14 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.attachTxtFileHandler = attachTxtFileHandler;

var _consts = __webpack_require__(0);

var _apiTaskManager = __webpack_require__(2);

var _apiTaskManager2 = _interopRequireDefault(_apiTaskManager);

var _spinner = __webpack_require__(17);

var _spinner2 = _interopRequireDefault(_spinner);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// import viewUtils from '../../common/js-services/view';

/*
* read file
*/
var fileUploadBox = '';
var MAX_IMG_FILE_SIZE_BYTE = 1048576 * 100;
var FILE_TYPE = 'txt';
function isFileTypeOk(acceptedFile) {
    return acceptedFile.type === 'text/plain';
}

function isImgSizeOk(acceptedFile) {
    var imgSize = Math.round(acceptedFile.size);
    return MAX_IMG_FILE_SIZE_BYTE > imgSize;
}

function handleSubmit(input) {
    var url = _consts.CONST.getPath('instagramTaskManager_postTextAttachment');
    var token = _apiTaskManager2.default.getToken();
    var acceptedFile = input.files[0];
    console.log('handleSubmit follow');
    var formData = new FormData();
    formData.append('file', acceptedFile, acceptedFile.name);

    var request = new XMLHttpRequest();
    request.open('POST', url);
    // request.withCredentials = true;
    request.setRequestHeader('token', token);
    request.setRequestHeader('Accept', 'application/json');
    request.setRequestHeader('cache-control', 'no-cache');
    request.send(formData);
    request.addEventListener('readystatechange', function () {
        if (this.readyState === 4) {
            console.log('this', this.responseText, this);
            window.PubSub.publish(_consts.CONST.events.autoarnswer.TEXT_FILE_UPLOADED, { 'response': this.responseText, 'el': input });
        }
    });
    _spinner2.default.add($('.add-file'), '');
}

function readURL(input) {
    var $container = $(input).closest(fileUploadBox);
    if (input.files && input.files[0]) {
        var reader = new FileReader();
        console.log('readURL');
        if (!isImgSizeOk(input.files[0]) || !isFileTypeOk(input.files[0])) {
            console.log('show error message, imgSize to big ');
            $(fileUploadBox).append('\n                <div class="warning-image text-danger">\n                    <p>\u0414\u043E\u0441\u0442\u0443\u043F\u043D\u044B\u0439 \u0444\u043E\u0440\u043C\u0430\u0442 \u0438\u0437\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u044F ' + FILE_TYPE + '</p>\n                    <p class="msg-max-size-img text-danger">\u041C\u0430\u043A\u0441\u0438\u043C\u0430\u043B\u044C\u043D\u044B\u0439 \u0434\u043E\u043F\u0443\u0441\u0442\u0438\u043C\u044B\u0439 \u0440\u0430\u0437\u043C\u0435\u0440 \u043A\u0430\u0440\u0442\u0438\u043D\u043A\u0438 100 MB</p>\n                </div>\n            ');
            setTimeout(function () {
                $('.warning-image').addClass('d-none');
            }, 5000);
            return;
        }

        reader.onload = function (e) {
            $container.find('.image-upload-wrap').hide();
            $container.find('.file-upload-image').attr('src', e.target.result);
            // $container.find(fileUploadContent).show();
            $container.find('.image-title').html(input.files[0].name);
        };
        // reader.onerror = errorHandler;
        // reader.onprogress = updateProgress;

        reader.readAsDataURL(input.files[0]);
        setTimeout(function () {
            return handleSubmit(input);
        }, 2000);
        // Read in the image file as a binary string.
        // reader.readAsBinaryString(input.files[0]);
    } else {
            // removeUpload($container);
        }
}

function attachTxtFileHandler(_fileUploadBox, onSuccessFileUploadCb) {
    fileUploadBox = _fileUploadBox;
    $('.input-txt-file').change(function () {
        if ($(this).val() !== '') {
            $(this).prev().text('\u0412\u044B\u0431\u0440\u0430\u043D\u043E \u0444\u0430\u0439\u043B\u043E\u0432: ' + $(this)[0].files.length);
            readURL($(this)[0]);
        } else {
            $(this).prev().text('Выберете файл');
        }
    });
    window.PubSub.subscribe(_consts.CONST.events.autoarnswer.TEXT_FILE_UPLOADED, function (e, res) {
        var response = res.response;

        var result = response.length ? JSON.parse(response) : '';
        var imageId = result && result.data && result.data.list_id;
        $(res.el).closest(fileUploadBox).attr('attached-txt-id', imageId);
        if (onSuccessFileUploadCb && typeof onSuccessFileUploadCb === 'function') {
            onSuccessFileUploadCb();
        }
        // make next-btn available
        var nextStep = $('.js_add-new-task fieldset').get(2);
        $(nextStep).find('.btn-next').removeAttr('disabled');
        _spinner2.default.remove();
        console.log('***TEXT_FILE_UPLOADED, onSuccessFileUploadCb', res);
    });
}

/***/ }),
/* 15 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.emoji = undefined;

__webpack_require__(22);

var emoji = exports.emoji = function emoji(clsConst) {
    if (!$(clsConst.page).length) {
        return;
    }
    // eslint-disable-next-line no-unused-vars
    // const m = new MeteorEmoji();
    // eslint-disable-next-line no-unused-vars
    // const ep = new EmojiPicker();
    // const $picker = $('textarea[data-emoji-picker="true"] ~ div');
    // const style = $picker.attr('style');
    // const styleNew = style.replace(clsConst.styles.old, clsConst.styles.new);
    // $picker.attr('style', styleNew);

    $('textarea[data-emoji-picker="true"]').emojioneArea({
        pickerPosition: 'bottom',
        tonesStyle: 'square',
        filtersPosition: 'bottom',
        search: true,
        events: {
            keyup: function keyup(editor, event) {
                console.log(editor.html());
                console.log(this.getText());
            }
        }
    });
};

/***/ }),
/* 16 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"]) _i["return"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError("Invalid attempt to destructure non-iterable instance"); } }; }();

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _view = __webpack_require__(1);

var _view2 = _interopRequireDefault(_view);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var Network = function () {
    function Network() {
        _classCallCheck(this, Network);
    }

    _createClass(Network, [{
        key: 'cbErrorDefault',
        value: function cbErrorDefault(result) {
            var $el = $('#description').length ? $('#description') : $('.error-msg');
            _view2.default.showInfoMessage($el, result.status.state, result.status.message || 'error');
        }
    }, {
        key: 'checkStatus',
        value: function checkStatus(response) {
            if (response.status && response.status >= 200 && response.status < 300) {
                return response;
            } else {
                var error = new Error(response.statusText);
                error.response = response;
                throw error;
            }
        }
    }, {
        key: 'sendRequest',
        value: function sendRequest(URL, OPTS, cbError) {
            var _this = this;

            return fetch(URL, OPTS).then(function (response) {
                return Promise.all([response, response.json()]);
            }).then(function (_ref) {
                var _ref2 = _slicedToArray(_ref, 2),
                    response = _ref2[0],
                    json = _ref2[1];

                if (!response.ok) {
                    if (!cbError) {
                        _this.cbErrorDefault(json);
                    } else {
                        cbError(json); // update view
                    }
                    _this.checkStatus(response);
                    // throw new Error(json.status.message);
                }
                return json;
            });
        }
    }]);

    return Network;
}();

exports.default = Network;

/***/ }),
/* 17 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

// import $ from 'jquery';
// import {CONST} from './consts';
// import Network from './network';
// import CookieStorage from './cookie';
// import PubSub from 'pubsub-js'; // https://www.npmjs.com/package/pubsub-js

// const SPINNER_BASE_TEMPALATE = 'js/ui/tpl/spinner.hbs';
var classes = {
    inline: 'global-inline-spinner',
    overlay: 'global-overlay-spinner',
    fixed: 'global-fixed-spinner',
    button: 'button--load'
};
// const handlebarsTpl = function (name, data, $target) {
//     // var html = this.getTemplate(name)(data);
//     var html = Handlebars.compile(template);
//
//     if ($target) {
//         //for preventing xss
//         $target[0].innerHTML = html;
//     }
//
//     return html;
// };
// const handlebars = this.getService('core.templating.handlebars');

var Spinner = function () {
    function Spinner(_cfg) {
        _classCallCheck(this, Spinner);

        this.startButtonSpinner = function ($el, newCls) {
            $el.addClass(classes.button);
            if ($el.find('.spinner-box--button').length) {
                return;
            }
            $el.prepend('<div class="spinner-box spinner-box--button justify-content-center position-relative p-0 m-0 bg-transparent ' + newCls + '">\n            <div class="spin-animation">\n                <svg aria-hidden="true" data-prefix="far" data-icon="sync-alt" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" \n                    class="fa-fw">\n                    <path fill="currentColor" d="M483.515 28.485L431.35 80.65C386.475 35.767 324.485 8 256 8 123.228 8 14.824 112.338 8.31 243.493 7.971 250.311 13.475 256 20.301 256h28.045c6.353 0 11.613-4.952 11.973-11.294C66.161 141.649 151.453 60 256 60c54.163 0 103.157 21.923 138.614 57.386l-54.128 54.129c-7.56 7.56-2.206 20.485 8.485 20.485H492c6.627 0 12-5.373 12-12V36.971c0-10.691-12.926-16.045-20.485-8.486zM491.699 256h-28.045c-6.353 0-11.613 4.952-11.973 11.294C445.839 370.351 360.547 452 256 452c-54.163 0-103.157-21.923-138.614-57.386l54.128-54.129c7.56-7.56 2.206-20.485-8.485-20.485H20c-6.627 0-12 5.373-12 12v143.029c0 10.691 12.926 16.045 20.485 8.485L80.65 431.35C125.525 476.233 187.516 504 256 504c132.773 0 241.176-104.338 247.69-235.493.339-6.818-5.165-12.507-11.991-12.507z" class=""></path></svg>\n            </div>\n        </div>');
        };

        this.stopButtonSpinner = function ($el) {
            $el.removeClass(classes.button);
        };

        this.cfg = _cfg || {};
        // this.$defaultContainer = $('body');
        $.extend(classes, this.cfg.classes);
        // this._mediator.subscribe(CONST.events.STOP_FIXED_SPINNER, this.stopFixedSpinner.bind(this));
    }
    // _mediator = PubSub;

    _createClass(Spinner, [{
        key: 'start',
        value: function start($el, prewCls) {
            // if (addOrRemove) {
            //     $('#foo').addClass(className);
            // }
            // else {
            //     $('#foo').removeClass(className);
            // }
            $el.find('i').toggleClass(prewCls).addClass('fa-spin fa-spinner');
        }
    }, {
        key: 'stop',
        value: function stop($el, newCls) {
            $el.find('i').toggleClass(newCls).removeClass('fa-spin fa-spinner');
        }
    }, {
        key: 'add',
        value: function add($el, newCls) {
            this.$el = $el;
            $el.prepend('<div class="spinner-box justify-content-center ' + newCls + '">\n            <div class="spin-animation">\n                <svg aria-hidden="true" data-prefix="far" data-icon="sync-alt" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="svg-inline--fa fa-sync-alt fa-w-16 fa-fw fa-2x"><path fill="currentColor" d="M483.515 28.485L431.35 80.65C386.475 35.767 324.485 8 256 8 123.228 8 14.824 112.338 8.31 243.493 7.971 250.311 13.475 256 20.301 256h28.045c6.353 0 11.613-4.952 11.973-11.294C66.161 141.649 151.453 60 256 60c54.163 0 103.157 21.923 138.614 57.386l-54.128 54.129c-7.56 7.56-2.206 20.485 8.485 20.485H492c6.627 0 12-5.373 12-12V36.971c0-10.691-12.926-16.045-20.485-8.486zM491.699 256h-28.045c-6.353 0-11.613 4.952-11.973 11.294C445.839 370.351 360.547 452 256 452c-54.163 0-103.157-21.923-138.614-57.386l54.128-54.129c7.56-7.56 2.206-20.485-8.485-20.485H20c-6.627 0-12 5.373-12 12v143.029c0 10.691 12.926 16.045 20.485 8.485L80.65 431.35C125.525 476.233 187.516 504 256 504c132.773 0 241.176-104.338 247.69-235.493.339-6.818-5.165-12.507-11.991-12.507z" class=""></path></svg>\n            </div>\n        </div>');
        }
    }, {
        key: 'remove',


        /**
         * Finds spinners
         * @param {string} type
         * @param {string} $container
         * @return {?jQuery} spinners
         */
        // _findSpinner = function (type, $container) {
        //     const selector = '.' + type;
        //     let $el = this.$defaultContainer;
        //     if ($container) {
        //         $el = $container;
        //     }
        //
        //     if ($el.find(selector).length > 0) {
        //         return $el.find(selector);
        //     }
        // };

        /**
         *
         * @param {string} $el
         */
        /*
        startContentSpinner = function ($el) {
            const html = handlebarsTpl(
                SPINNER_BASE_TEMPALATE, {
                    imgSrc: CTC.URLS.WAITING_IMAGE,
                    'class': classes.overlay
                });
            $el.prepend(html);
        };
          startInlineContentSpinner = function ($el) {
            const html = handlebarsTpl(
                SPINNER_BASE_TEMPALATE, {
                    imgSrc: CTC.URLS.WAITING_IMAGE,
                    'class': classes.inline
                });
            $el.prepend(html);
        };
        */

        /**
         * Starts global full page fixed spinner
         */
        /*
        startFixedSpinner = function () {
            const spinners = this._findSpinner(classes.fixed);
            if (!(CTC.isEdit() || CTC.isDesign()) && !spinners) {
                const html = handlebarsTpl(
                    SPINNER_BASE_TEMPALATE, {
                        imgSrc: CTC.URLS.WAITING_IMAGE,
                        'class': classes.fixed
                    });
                this.$defaultContainer.prepend(html);
            }
        };
        */

        /**
         * Stops spinners
         * @param {string} type
         * @param {string} $container
         */
        // _stopSpinner = function (type, $container) {
        //     const spinners = this._findSpinner(type, $container);
        //     if (spinners) {
        //         spinners.remove();
        //     }
        // };

        /**
         *
         * @param {string} $el
         */
        // stopContentSpinner = function ($el) {
        //     $el.find('.' + classes.overlay).remove();
        // };

        /**
         *
         * @param {string} $el
         */
        // stopInlineContentSpinner = function ($el) {
        //     $el.find('.' + classes.inline).remove();
        // };

        /**
         * Stops global full page fixed spinner
         */
        // stopFixedSpinner = function () {
        //     this._stopSpinner(classes.fixed);
        // };
        value: function remove() {
            if (this.$el && this.$el.length) {
                this.$el.find('.spinner-box').remove();
            }
        }

        /**
         * Adds spinner icon on button before the button text
         * @param {jQuery} $el
         */


        /**
         * Removes spinner icon from button
         * @param {jQuery} $el
         */

    }]);

    return Spinner;
}();

var spinnerInstance = null;

if (!spinnerInstance) {
    spinnerInstance = new Spinner();
}

exports.default = spinnerInstance;

/***/ }),
/* 18 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
// import {CONST} from './consts';

function dropDown() {

    /**
     * cfg ={ logsState, cbFN() }
     */
    function addDropdown($wrapper, items, cfg) {
        // console.log('addDropdown');
        var textRusArray = cfg.textRusArray,
            logsState = cfg.logsState;
        var selectClsLogsTaskType = logsState.selectClsLogsTaskType;

        var getRus = function getRus(idx) {
            var isTextRusArray = textRusArray && !!textRusArray.length;
            switch (idx) {
                case 0:
                    return isTextRusArray ? textRusArray[idx] : 'По списку';
                case 1:
                    return isTextRusArray ? textRusArray[idx] : 'По активной аудитории конкурентов';
                case 2:
                    return isTextRusArray ? textRusArray[idx] : 'default - (3)';
                default:
                    return 'default';
            }
        };
        var label = 'Выберите тип';
        $wrapper.empty().addClass('border-light-color');
        $('<div class="">' + label + '</div><select name="task-subtype" class="' + selectClsLogsTaskType + '"></select>').appendTo($wrapper);
        if (!items.length) {
            return;
        }
        $('<option class="list-group-item py-2 js_empty-subtype" value="---">---</option>').appendTo($('.' + selectClsLogsTaskType));
        items.forEach(function (name, idx) {
            $('<option class="list-group-item py-2" value="' + name + '">\n                ' + getRus(idx) + '\n            </option>').appendTo($('.' + selectClsLogsTaskType));
        });
        $('.' + selectClsLogsTaskType).on('change', function (e) {
            cfg.dropdownOnSelectCb(e);
        });
    }

    return {
        addDropdown: addDropdown
    };
}

exports.default = dropDown();

/***/ }),
/* 19 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };
// import viewUtils from '../../../common/js-services/view';


exports.init = init;

var _consts = __webpack_require__(0);

var _taskStatus = __webpack_require__(5);

var _dropdown = __webpack_require__(18);

var _dropdown2 = _interopRequireDefault(_dropdown);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var path = {
    type: '',
    subtype: ''
};
var wrappers = {
    $all: $('.tasks-all'),
    $stopped: $('.tasks-stopped')
};
var logsStateStatus = {
    wrapperSubtype: $('.subtype--box')
};

function dropdownOnSelectCb(e) {
    // const {selectClsLogsTaskType} = logsState;
    var subtype = $(e.target).find('option:selected').val();
    var pathUpdated = _extends({}, path, { subtype: subtype });
    $('.js_logs-container').addClass('d-block');
    $('option.js_empty-subtype').remove();
    (0, _taskStatus.getTasksData)(wrappers, pathUpdated);
}

function init(_ref) {
    var isInCorrectPage = _ref.isInCorrectPage,
        initialPath = _ref.initialPath,
        textRusArray = _ref.textRusArray;

    if (!isInCorrectPage) {
        return;
    }
    path = {
        type: initialPath.type,
        subtype: initialPath.subtype
    };

    // todo: merge with viewUtils.js Dropdown
    _dropdown2.default.addDropdown(logsStateStatus.wrapperSubtype, initialPath.subtypes, { logsState: logsStateStatus, dropdownOnSelectCb: dropdownOnSelectCb, textRusArray: textRusArray });

    // getTasksData(wrappers, path);
    window.PubSub.subscribe(_consts.CONST.events.tasks.NEW_TASK_CREATED, function (eventName, data) {
        (0, _taskStatus.getTasksData)(wrappers, path);
    });
}

/***/ }),
/* 20 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.renderItem = undefined;
exports.init = init;

var _user = __webpack_require__(3);

var _user2 = _interopRequireDefault(_user);

var _view = __webpack_require__(1);

var _view2 = _interopRequireDefault(_view);

var _consts = __webpack_require__(0);

var _accountsListBtnSettings = __webpack_require__(39);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var InstagramAccPageCls = '.instagram-accounts-page';
// import Spinner from '../../common/js-services/spinner';
// import PubSub from 'pubsub-js';

var isInstagramAccPage = $(InstagramAccPageCls).length;
var $msgList = $('.accounts-list');
var INSTAGRAM_ACCOUNTS_HREF = 'instagram-accounts';

function addListHandler() {
    var checkpointType = '';

    $('.js_pass-checkpoint-btn').on('click', function (e) {
        var $button = $(e.target);
        var username = $button.data('username');
        checkpointType = $button.data('checkpointType') || checkpointType;
        // $('#security-code').data('checkpointType', checkpointType);
        // todo add 'checkpointType' to modal
        var sendTo = checkpointType === 'PHONE' ? 'телефон' : 'email';
        // Spinner.start($button, 'fa-key');

        if (checkpointType === 'EMAIL_OR_PHONE') {
            e.stopPropagation();

            // инпуты спрятаны,
            // показать серые переключатели (выбрал тип)
            // есть кнопка Запросить код подтверждение
            $('#security-code-phoneOremail').modal({ show: true, username: username });

            // не отправляем реквест
            return;
        }

        _user2.default.getSecurityKey(username, checkpointType).then(function (result) {
            console.log('SecurityKey received:', result.status.state);
            if (result.status.state === 'ok') {
                var $modal = $('#security-code');

                // Spinner.stop($button, 'fa-key');
                $('.js_success-feedback', $modal).empty().text('\u041A\u043B\u044E\u0447 \u043F\u043E\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043D\u0438\u044F \u0431\u044B\u043B \u043E\u0442\u043F\u0440\u0430\u0432\u043B\u0435\u043D \u0412\u0430\u043C \u043D\u0430 ' + sendTo);

                $('#security-code').attr('data-username', username);
            }
        });
    });

    // inside modal
    $('.js_confirm-security-code').on('click', function (e) {
        var btn = $(e.target);
        var username = btn.closest('#security-code').data('username');
        var $keyInput = btn.closest('.modal').find('.modal-dialog form input.js_confirm-key');
        var key = $keyInput.val().trim();
        var $modal = btn.closest('.modal');
        e.stopPropagation();

        if (key.length !== 6) {
            return;
        }
        _user2.default.confirmSecurityKey(key, username).then(function (result) {
            if (result.status.state !== 'ok') {
                return;
            }
            // console.log('js_confirm:', result.status.state, 'close modal');
            $modal.modal('hide');
        }).catch(function (err) {
            console.log('err');
            $('.js_success-feedback', $modal).text('Запрос не отправлен').css('color', 'red');
            console.log(err);
        });
    });

    $('form input[minlength]').on('blur', function () {
        var len = $(this).val().trim().length;
        var minLen = Number($(this).attr('minlength'));
        // const message = minLen <= len ? '' : minLen + ' characters minimum';
        if (minLen !== len) {
            $(this).css('borderColor', 'red');
        } else {
            $(this).css('borderColor', '#ced4da');
        }
        // this.setCustomValidity(message)
    });

    function onHideModal(e) {
        var $modal = $(e.target);
        $modal.find('.first-step').removeClass('d-none');
        $modal.find('.second-step').addClass('d-none');
        $('.js_confirm-key').val('');
        $('.js_success-feedback', $modal).removeAttr('style').empty();
    }
    $('#security-code-phoneOremail').on('hide.bs.modal', onHideModal);
    $('#security-code').on('hide.bs.modal', onHideModal);

    // "PHONE_OR_EMAIL" modal
    $('.js_get-security-code-phoneOremail').on('click', function (e) {
        var $modal = $('#security-code-phoneOremail');
        var typeSelected = $(e.target).closest($modal).find('.js_btn-type-switcher input:checked');
        var checkpointTypeActive = typeSelected.val();
        var sendTo = checkpointTypeActive === 'PHONE' ? 'телефон' : 'email';
        var modalConfig = $modal.data()['bs.modal']._config;
        var username = modalConfig.username;
        _user2.default.getSecurityKey(username, checkpointTypeActive).then(function (result) {
            // при нажатии "Запросить код подтверждение" - отпарляется реквест "старт чекпоинт" появляеться инпут и кнопка других типах
            // get selected button

            // переключатель(серый) и кнопка "Запросить код подтверждение" исчезают
            console.log('SecurityKey received:', result.status.state);
            if (result.status.state === 'ok') {
                $('.first-step', $modal).addClass('d-none');
                $('.second-step', $modal).removeClass('d-none');
                $('.js_success-feedback', $modal).empty().text('\u041A\u043B\u044E\u0447 \u043F\u043E\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043D\u0438\u044F \u0431\u044B\u043B \u043E\u0442\u043F\u0440\u0430\u0432\u043B\u0435\u043D \u0412\u0430\u043C \u043D\u0430 ' + sendTo);
            }
        });
    });
}

var insertItem = function insertItem(data, text, cssCls) {
    var liTpl = '' + (data ? '<li class="list-inline-item ' + cssCls + '"><span class="figure">' + data + '</span><span>' + text + '</span></li>' : '<li class="list-inline-item ' + cssCls + '"><span class="figure">0</span><span>' + text + '</span></li>');
    return liTpl;
};

var stats = function stats(info) {
    var tpl = '<div class="col">\n        <ul class="list-inline text-center counts-list">\n        ' + (info ? insertItem(info['media_count'], 'Публикации', 'media-count') + '\n            ' + insertItem(info['follower_count'], 'Подписчики', 'follower-count') + '\n            ' + insertItem(info['following_count'], 'Подписки', 'following-count') : insertItem(false, 'Публикации', 'media-count') + '\n            ' + insertItem(false, 'Подписчики', 'follower-count') + '\n            ' + insertItem(false, 'Подписки', 'following-count')) + '\n        </ul>\n    </div>';
    return tpl;
};

var checkPointText = function checkPointText(checkpoint, item) {
    if (checkpoint.status === 'TRIGGERED') {
        return '<button class="btn btn-outline-secondary js_pass-checkpoint-btn d-block mx-auto" \n            data-checkpoint-type="' + (checkpoint.type || 'EMAIL') + '"\n            data-username="' + (item.username || '') + '"\n            data-toggle="modal" data-target="#security-code">\n            <i class="fas fa-key"></i>\u041F\u0440\u043E\u0439\u0442\u0438 \u0447\u0435\u043A\u043F\u043E\u0438\u043D\u0442</button>';
    } else if (item.status === 'FAIL') {
        return '<span class="text-danger">Ошибка при добавлении</span>';
    }
};

var addSettingBtn = function addSettingBtn(account) {
    var _account$username = account.username,
        username = _account$username === undefined ? '' : _account$username,
        _account$info = account.info,
        _account$info$name = _account$info.name,
        name = _account$info$name === undefined ? '' : _account$info$name,
        _account$info$email = _account$info.email,
        email = _account$info$email === undefined ? '' : _account$info$email,
        _account$info$url = _account$info.url,
        url = _account$info$url === undefined ? '' : _account$info$url,
        _account$info$biograp = _account$info.biography,
        biography = _account$info$biograp === undefined ? '' : _account$info$biograp,
        _account$info$profile = _account$info.profile_pic_url,
        profile_pic_url = _account$info$profile === undefined ? '' : _account$info$profile,
        follower_count = _account$info.follower_count,
        following_count = _account$info.following_count,
        media_count = _account$info.media_count,
        is_business = _account$info.is_business,
        is_private = _account$info.is_private;

    if (isInstagramAccPage || window.location.href.includes(INSTAGRAM_ACCOUNTS_HREF)) {
        return '<div class="account-setting col-1 d-flex flex-column">\n            <button class="btn btn-outline-success p-1 mb-1 js_acc-edit" \n                data-username="' + username + '"\n                data-name="' + name + '"\n                data-email="' + email + '"\n                data-url="' + url + '"\n                data-biography="' + biography + '"\n                data-img="' + profile_pic_url + '"\n                data-follower_count="' + follower_count + '"\n                data-following_count="' + following_count + '"\n                data-media_count="' + media_count + '"\n                data-is_business="' + is_business + '"\n                data-is_private="' + is_private + '"\n            ><i class="fas fa-pen m-0"></i></button>\n            <button class="btn btn-outline-secondary p-1 mb-1 js_acc-refresh" data-username="' + username + '"><i class="fas fa-retweet m-0"></i></button>\n            <button class="btn btn-outline-danger p-1 js_acc-delete" data-username="' + username + '"><i class="fas fa-trash m-0"></i></button>\n        </div>';
    }
};

var renderItem = exports.renderItem = function renderItem(item, cList, _defaultAvatarSrc) {
    var info = item.info;
    var checkpoint = item.checkpoint || item;
    var defaultAvatarSrc = _defaultAvatarSrc || _consts.CONST.user.defaulAvatar;
    if (!info) {
        return $('<li class="media py-3" data-username="' + item.username + '">\n            <img class="ml-3 rounded" alt="default avatar" src="' + defaultAvatarSrc + '">\n            <div class="media-body d-flex">\n                <div class="col user-info">\n                    ' + (item.username ? '<h4 class="mt-0 mb-1 name">' + item.username + '</h4>' : '') + '\n                </div>\n                <div class="col user-checkpoint">\n                    ' + checkPointText(checkpoint, item) + '\n                </div>\n                ' + stats() + '\n                ' + (addSettingBtn(item) || '') + '\n            </div>\n        </li>').appendTo(cList);
    } else {
        return $('<li class="media py-3" data-username="' + item.username + '">\n        ' + (info['profile_pic_url'] ? '<img class="ml-3 rounded" alt="User photo" src="' + info['profile_pic_url'] + '">' : '<img class="ml-3 rounded" alt="default avatar" src="' + defaultAvatarSrc + '">') + '\n        <div class="media-body d-flex">\n            <div class="col user-info">\n                ' + (item.username ? '<p class="mt-0 mb-1 name lead">' + item.username + '</p>' : '') + '\n                ' + (info.name ? '<h4 class="mt-0 mb-1">' + info.name + '</h4>' : '') + '\n                ' + (info.name ? '' : '' /* ${(info.email) ? `<p class="mt-0 mb-1">${info.email}</p>` : ''}
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      ${(info.phone) ? `<p class="mt-0 mb-1">${info.phone}</p>` : ''} */) + '\n\n            </div>\n            <div class="col user-checkpoint">\n                ' + (checkpoint.status === 'TRIGGERED' ? '<button class="btn btn-outline-secondary js_pass-checkpoint-btn d-block mx-auto"\n                        data-checkpoint-type="' + (checkpoint.type || 'EMAIL') + '"\n                        data-username="' + (item.username || '') + '"\n                        data-toggle="modal" data-target="#security-code">\n                    <i class="fas fa-key"></i>\u041F\u0440\u043E\u0439\u0442\u0438 \u0447\u0435\u043A\u043F\u043E\u0438\u043D\u0442</button>' : '') + '\n            </div>\n            ' + stats(info) + '\n            ' + (addSettingBtn(item) || '') + '\n        </div>\n    </li>');
    }
};

function fillList($list, dataArray) {
    var items = dataArray;
    var cList = $list;
    var defaultAvatarSrc = _consts.CONST.user.defaulAvatar;

    cList.empty().addClass('border-light-color');
    items.forEach(function (item) {
        renderItem(item, cList, defaultAvatarSrc).appendTo(cList);
    });
    window.PubSub.publish(_consts.CONST.events.instagramAccouns.INSTAGRAM_ACCOUNS_RENDERED, { name: name, dataArray: dataArray });
    console.log('INSTAGRAM_ACCOUNS_RENDERED');
}

function checkResponse(result /* , isResendRequest*/) {

    /*
    if (!result.status.state === 'ok' || !result.data || !$msgList.length || isResendRequest) {
        // проверям один раз наличие result.data.accounts.info
        $msgList.empty();
        $(`<li class="media">
            <div class="media-body">
                <h3 class="mt-0 mb-3">Ни одного Аккаунта не добавлено</h3>
            </div>
        </li>`).appendTo($msgList);
        setTimeout(() => {
            resendRequest().then((result) => {
                checkResponse(result, false);
            });
            console.log('Request resend');
        }, 3500);
        return;
    }
    */
    // вывод результатов (data.accounts.info)
    $('.profile-user .spinner-box').addClass('d-none');
    fillList($msgList, result.data.accounts);
    addListHandler();
}
var errMessageFront = 'Не получилось загрузить доступные Instagram аккаунты';
function cbError() {
    _view2.default.showInfoMessage($('.error-msg'), '', errMessageFront);
}

function reloadList() {
    var $msgList = $('.accounts-list');
    // TODO: add spinner
    $('.profile-user .spinner-box').removeClass('d-none');
    _user2.default.getMetadata(cbError).then(function (result) {
        $msgList.empty();
        // todo : reload list
        checkResponse(result);
    }).catch(function (err) {
        setTimeout(function () {
            _view2.default.showInfoMessage($('.error-msg'), err.status || '', errMessageFront);
        }, 3000);
        $('.spinner-box').addClass('d-none');
    });
    var cfg = {
        deleteBtnCls: '.js_acc-delete',
        updateBtnCls: '.js_acc-refresh',
        editBtnCls: '.js_acc-edit'
    };
    (0, _accountsListBtnSettings.settingButtonsHandler)(cfg);
}

// После добавления аккаунта снова дернуть МЕТА и перерисовать список аккаунтов
var addInstagramAccount = function addInstagramAccount(newFormData) {
    var cbError = function cbError(result) {
        console.log('ERROR', result);
        _view2.default.showInfoMessage($('.error-msg'), result.status.state, result.status.message || 'Login error');
        // $(_loginBox).addClass(closeClass).removeClass(openedClass);
    };
    _user2.default.addInstagramAccount(newFormData, cbError).then(function (result) {
        if (result && result.status) {
            console.log(result, result.status);
            reloadList();

            /*
            const $msgList = $('.accounts-list');
            User.getMetadata().then((result) => {
                $msgList.empty();
                // todo : reload list
                console.log(result.data, result.data.accounts);
                checkResponse(result);
            }).catch((err) => {
                setTimeout(() => {
                    viewUtils.showInfoMessage($('.error-msg'),
                        err.status || '',
                        'Не получилось загрузить доступные Instagram аккаунты');
                }, 3000);
                $('.spinner-box').addClass('d-none');
            });
            */

            // viewUtils.showInfoMessage($textAreaDescription,
            //     result.status.state,
            //     result.status.message || 'Login error');
            // $(_loginBox).addClass(closeClass).removeClass(openedClass);
        }
    }).catch(function (err) {
        // todo: render for user
        console.log(err);
    });

    console.log('submit', newFormData);
};

function addOnLoadHandlers() {
    // $('.js_repeat-security-code').on('click', (e) => {

    // });

    $('.js_add-instagram-account').on('click', function (e) {
        var btn = $(e.target);
        var $modalBody = btn.closest('.modal').find('.modal-dialog .modal-body');
        var username = $modalBody.find('input[name="username"]').val().trim();
        var password = $modalBody.find('input[name="pass"]').val().trim();
        var ip = $modalBody.find('input[name="ip"]').val().trim(); // TMP solution
        var port = $modalBody.find('input[name="port"]').val().trim(); // TMP solution
        var usernameProxy = $modalBody.find('input[name="usernameProxy"]').val().trim(); // TMP solution
        var passwordProxy = $modalBody.find('input[name="passProxy"]').val().trim(); // TMP solution
        var $form = $('form', $modalBody);
        var form = $form.get(0);
        var cssValidationClass = 'form-validation';

        e.preventDefault();
        function isValidIpv4Addr(ip) {
            return (/^(?=\d+\.\d+\.\d+\.\d+$)(?:(?:25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\.?){4}$/.test(ip)
            );
        }
        function isValidPort(port) {
            return (/^([0-9]{1,4}|[1-5][0-9]{4}|6[0-4][0-9]{3}|65[0-4][0-9]{2}|655[0-2][0-9]|6553[0-5])$/.test(port)
            );
        }
        // const validator = new Validator($form);
        // console.log(validator.validate());
        if (form.checkValidity()) {
            addInstagramAccount({ username: username, password: password, usernameProxy: usernameProxy, passwordProxy: passwordProxy, ip: ip, port: port });
        } else {
            // Highlight errors
            if (form.reportValidity) {
                form.reportValidity();
            }
            $form.addClass(cssValidationClass);
        }

        if (!username || !password || !ip || !isValidIpv4Addr(ip) || !port || !isValidPort(port) || !usernameProxy || !passwordProxy) {
            e.stopPropagation();
            console.log('not valid fields');
            return;
        }
    });
}

/**
 * Init header
 */
function init() {
    // check we are in profile page
    if (!$msgList.length) {
        return;
    }
    // const token = User.getToken();
    var metadata = _user2.default.getMetadata(cbError);
    // const resendRequest = () => User.getMetadata(token);
    // let isSendReqOnce = false;
    // check we are in profile page
    if (!$msgList.length) {
        return;
    }

    addOnLoadHandlers();

    // может инфо отсутсвовать - сделать еще раз запрос через 3 сек.
    metadata.then(function (result) {
        // проверям один раз наличие result.data.accounts.info
        /*
        let isResendRequest = false;
        if (result.data && result.data.accounts && !isSendReqOnce) {
            result.data.accounts.forEach((item) => {
                if (!item.info) {
                    isResendRequest = true;
                    isSendReqOnce = true;
                    return;
                }
            });
        }
        */
        //    checkResponse(result, isResendRequest);
        checkResponse(result);
        var cfg = {
            deleteBtnCls: '.js_acc-delete',
            updateBtnCls: '.js_acc-refresh',
            editBtnCls: '.js_acc-edit'
        };
        (0, _accountsListBtnSettings.settingButtonsHandler)(cfg);
    }).catch(function (err) {
        setTimeout(function () {
            _view2.default.showInfoMessage($('.error-msg'), err.status || '', 'Не получилось загрузить доступные Instagram аккаунты');
        }, 3000);
        $('.spinner-box').addClass('d-none');
    });

    window.PubSub.subscribe(_consts.CONST.events.instagramAccouns.INSTAGRAM_ACCOUNS_NEED_REFRESH, function (eventName, data) {
        reloadList();
    });
    window.PubSub.subscribe(_consts.CONST.events.instagramAccouns.INSTAGRAM_ACCOUNS_RENDERED, function (eventName, data) {
        var dataArray = data.dataArray;

        dataArray.forEach(function (item) {
            var avatar = item.info && item.info.profile_pic_url || _consts.CONST.user.defaulAvatar;
            sessionStorage.setItem(item.username, avatar);
        });
    });
}

/***/ }),
/* 21 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); // import $ from 'jquery';


var _consts = __webpack_require__(0);

var _network = __webpack_require__(16);

var _network2 = _interopRequireDefault(_network);

var _cookie = __webpack_require__(4);

var _cookie2 = _interopRequireDefault(_cookie);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var UserConversation = function () {
    function UserConversation() {
        _classCallCheck(this, UserConversation);

        this.network = new _network2.default();
        this.cookieStorage = _cookie2.default;
        this.settingPost = {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
                'Accept': 'application/json'
            }
        };
    }

    _createClass(UserConversation, [{
        key: 'isLoggedIn',
        value: function isLoggedIn() {
            return !!this.getToken();
        }
    }, {
        key: 'isEmailConfirmed',
        value: function isEmailConfirmed() {
            return this.cookieStorage.get(_consts.CONST.cookieStorage.emailConfirmed) === 'confirmed';
        }
    }, {
        key: 'getToken',
        value: function getToken() {
            var cookieToken = this.cookieStorage.get(_consts.CONST.cookieStorage.token);
            return cookieToken;
        }
    }, {
        key: 'getMetadata',
        value: function getMetadata(token, cbError) {
            return this.network.sendRequest('' + _consts.CONST.getPath('instagramDirect_getMetaData'), { headers: { 'token': this.getToken() } }, cbError);
        }
    }, {
        key: 'getMetadataDetailUsers',
        value: function getMetadataDetailUsers(details, cbError) {
            var cursor = details.cursor ? '?cursor=' + details.cursor : '';
            return this.network.sendRequest(_consts.CONST.getPath('instagramDirect_getMetaData') + '/' + details.username + cursor, { headers: { 'token': this.getToken() } }, cbError);
        }
    }, {
        key: 'getMetadataDetailConversation',
        value: function getMetadataDetailConversation(token, details, cbError) {
            var cursor = details.cursor ? '?cursor=' + details.cursor : '';
            return this.network.sendRequest(_consts.CONST.getPath('instagramDirect_getMetaData') + '/' + details.username + '/' + details.conversationId + cursor, { headers: { token: token } }, cbError);
        }
    }, {
        key: 'postMetadataDetailConversation',
        value: function postMetadataDetailConversation(token, details, cbError) {
            var setting = _extends({}, this.settingPost, {
                body: JSON.stringify({ 'value': details.value }),
                headers: _extends({}, this.settingPost.headers, {
                    'token': this.getToken()
                })
            });
            return this.network.sendRequest(_consts.CONST.getPath('instagramDirect_postMessage') + '/' + details.username + '/' + details.conversationId + '/text', setting, cbError);
        }
        // --- Request Pending

    }, {
        key: 'getRequestPending',
        value: function getRequestPending(username, cbError) {
            // const cursor = (details.cursor) ? `?cursor=${details.cursor}` : '';
            return this.network.sendRequest(_consts.CONST.getPath('instagramDirect_RequestPending') + '/' + username, { headers: { 'token': this.getToken() } }, cbError);
        }
    }, {
        key: 'putRequestPending',
        value: function putRequestPending(confirmUserData, cbError) {
            var setting = _extends({}, this.settingPost, {
                method: 'PUT',
                headers: _extends({}, this.settingPost.headers, {
                    'token': this.getToken()
                })
            });
            var username = confirmUserData.username,
                conversationId = confirmUserData.conversationId;

            return this.network.sendRequest(_consts.CONST.getPath('instagramDirect_RequestPending') + '/' + username + '/' + conversationId, setting, cbError);
        }
    }, {
        key: 'delRequestPending',
        value: function delRequestPending(confirmUserData, cbError) {
            var setting = {
                method: 'DELETE',
                headers: _extends({}, this.settingPost.headers, {
                    'token': this.getToken()
                })
            };
            var username = confirmUserData.username,
                conversationId = confirmUserData.conversationId;

            return this.network.sendRequest(_consts.CONST.getPath('instagramDirect_RequestPending') + '/' + username + '/' + conversationId, setting, cbError);
        }
    }]);

    return UserConversation;
}();

var userInstance = null;

if (!userInstance) {
    userInstance = new UserConversation();
}

exports.default = userInstance;

/***/ }),
/* 22 */
/***/ (function(module, exports) {

/*!
 * EmojioneArea v3.0.0
 * https://github.com/mervick/emojionearea
 * Copyright Andrey Izman and other contributors
 * Released under the MIT license
 * Date: 2016-05-06T10:33Z
 */
(function(document, window, $) {
    'use strict';

    var unique = 0;
    var eventStorage = {};
    var possibleEvents = {};
    var emojione = window.emojione;
    var readyCallbacks = [];
    function emojioneReady (fn) {
        if (emojione) {
            fn();
        } else {
            readyCallbacks.push(fn);
        }
    };
    var blankImg = 'data:image/gif;base64,R0lGODlhAQABAJH/AP///wAAAMDAwAAAACH5BAEAAAIALAAAAAABAAEAAAICVAEAOw==';
    var slice = [].slice;
    var css_class = "emojionearea";
    var emojioneSupportMode = 0;
    function trigger(self, event, args) {
        var result = true, j = 1;
        if (event) {
            event = event.toLowerCase();
            do {
                var _event = j==1 ? '@' + event : event;
                if (eventStorage[self.id][_event] && eventStorage[self.id][_event].length) {
                    $.each(eventStorage[self.id][_event], function (i, fn) {
                        return result = fn.apply(self, args|| []) !== false;
                    });
                }
            } while (result && !!j--);
        }
        return result;
    }
    function attach(self, element, events, target) {
        target = target || function (event, callerEvent) { return $(callerEvent.currentTarget) };
        $.each(events, function(event, link) {
            event = $.isArray(events) ? link : event;
            (possibleEvents[self.id][link] || (possibleEvents[self.id][link] = []))
                .push([element, event, target]);
        });
    }
    function getTemplate(template, unicode, shortname) {
        return template
            .replace('{name}', shortname || '')
            .replace('{img}', emojione.imagePathPNG + (emojioneSupportMode < 2 ? unicode.toUpperCase() : unicode) + '.png')
            .replace('{uni}', unicode)
            .replace('{alt}', emojione.convert(unicode));
    }
    function shortnameTo(str, template, clear) {
        return str.replace(/:?\+?[\w_\-]+:?/g, function(shortname) {
            shortname = ":" + shortname.replace(/:$/,'').replace(/^:/,'') + ":";
            var unicode = emojione.emojioneList[shortname];
            if (unicode) {
                if (emojioneSupportMode > 3) unicode = unicode.unicode;
                return getTemplate(template, unicode[unicode.length-1], shortname);
            }
            return clear ? '' : shortname;
        });
    };
    function pasteHtmlAtCaret(html) {
        var sel, range;
        if (window.getSelection) {
            sel = window.getSelection();
            if (sel.getRangeAt && sel.rangeCount) {
                range = sel.getRangeAt(0);
                range.deleteContents();
                var el = document.createElement("div");
                el.innerHTML = html;
                var frag = document.createDocumentFragment(), node, lastNode;
                while ( (node = el.firstChild) ) {
                    lastNode = frag.appendChild(node);
                }
                range.insertNode(frag);
                if (lastNode) {
                    range = range.cloneRange();
                    range.setStartAfter(lastNode);
                    range.collapse(true);
                    sel.removeAllRanges();
                    sel.addRange(range);
                }
            }
        } else if (document.selection && document.selection.type != "Control") {
            document.selection.createRange().pasteHTML(html);
        }
    }
    var default_options = {
        attributes: {
            dir               : "ltr",
            spellcheck        : false,
            autocomplete      : "off",
            autocorrect       : "off",
            autocapitalize    : "off",
        },
        placeholder       : null,
        container         : null,
        hideSource        : true,
        shortnames        : true,
        sprite            : true,
        pickerPosition    : "top", // top | bottom | right
        filtersPosition   : "top", // top | bottom
        hidePickerOnBlur  : true,
        buttonTitle       : "Use the TAB key to insert emoji faster",
        tones             : true,
        tonesStyle        : "bullet", // bullet | radio | square | checkbox
        inline            : null, // null - auto
        saveEmojisAs      : "unicode", // unicode | shortname | image
        shortcuts         : true,
        autocomplete      : true,
        autocompleteTones : false,

        filters: {
            tones: {
                title: "Diversity",
                emoji: "santa runner surfer swimmer lifter ear nose point_up_2 point_down point_left point_right punch " +
                "wave ok_hand thumbsup thumbsdown clap open_hands boy girl man woman cop bride_with_veil person_with_blond_hair " +
                "man_with_gua_pi_mao man_with_turban older_man grandma baby construction_worker princess angel " +
                "information_desk_person guardsman dancer nail_care massage haircut muscle spy hand_splayed middle_finger " +
                "vulcan no_good ok_woman bow raising_hand raised_hands person_frowning person_with_pouting_face pray rowboat " +
                "bicyclist mountain_bicyclist walking bath metal point_up basketball_player fist raised_hand v writing_hand"
            },

            smileys_people: {
                icon: "yum",
                title: "Smileys & People",
                emoji: "grinning grimacing grin joy smiley smile sweat_smile laughing innocent wink blush slight_smile " +
                "upside_down relaxed yum relieved heart_eyes kissing_heart kissing kissing_smiling_eyes " +
                "kissing_closed_eyes stuck_out_tongue_winking_eye stuck_out_tongue_closed_eyes stuck_out_tongue " +
                "money_mouth nerd sunglasses hugging smirk no_mouth neutral_face expressionless unamused rolling_eyes " +
                "thinking flushed disappointed worried angry rage pensive confused slight_frown frowning2 persevere " +
                "confounded tired_face weary triumph open_mouth scream fearful cold_sweat hushed frowning anguished " +
                "cry disappointed_relieved sleepy sweat sob dizzy_face astonished zipper_mouth mask thermometer_face " +
                "head_bandage sleeping zzz poop smiling_imp imp japanese_ogre japanese_goblin skull ghost alien robot " +
                "smiley_cat smile_cat joy_cat heart_eyes_cat smirk_cat kissing_cat scream_cat crying_cat_face " +
                "pouting_cat raised_hands clap wave thumbsup thumbsdown punch fist v ok_hand raised_hand open_hands " +
                "muscle pray point_up point_up_2 point_down point_left point_right middle_finger hand_splayed metal " +
                "vulcan writing_hand nail_care lips tongue ear nose eye eyes bust_in_silhouette busts_in_silhouette " +
                "speaking_head baby boy girl man woman person_with_blond_hair older_man older_woman man_with_gua_pi_mao " +
                "man_with_turban cop construction_worker guardsman spy santa angel princess bride_with_veil walking " +
                "runner dancer dancers couple two_men_holding_hands two_women_holding_hands bow information_desk_person " +
                "no_good ok_woman raising_hand person_with_pouting_face person_frowning haircut massage couple_with_heart " +
                "couple_ww couple_mm couplekiss kiss_ww kiss_mm family family_mwg family_mwgb family_mwbb family_mwgg " +
                "family_wwb family_wwg family_wwgb family_wwbb family_wwgg family_mmb family_mmg family_mmgb family_mmbb " +
                "family_mmgg womans_clothes shirt jeans necktie dress bikini kimono lipstick kiss footprints high_heel " +
                "sandal boot mans_shoe athletic_shoe womans_hat tophat helmet_with_cross mortar_board crown school_satchel " +
                "pouch purse handbag briefcase eyeglasses dark_sunglasses ring closed_umbrella"
            },

            animals_nature: {
                icon: "hamster",
                title: "Animals & Nature",
                emoji: "dog cat mouse hamster rabbit bear panda_face koala tiger lion_face cow pig pig_nose frog " +
                "octopus monkey_face see_no_evil hear_no_evil speak_no_evil monkey chicken penguin bird baby_chick " +
                "hatching_chick hatched_chick wolf boar horse unicorn bee bug snail beetle ant spider scorpion crab " +
                "snake turtle tropical_fish fish blowfish dolphin whale whale2 crocodile leopard tiger2 water_buffalo " +
                "ox cow2 dromedary_camel camel elephant goat ram sheep racehorse pig2 rat mouse2 rooster turkey dove " +
                "dog2 poodle cat2 rabbit2 chipmunk feet dragon dragon_face cactus christmas_tree evergreen_tree " +
                "deciduous_tree palm_tree seedling herb shamrock four_leaf_clover bamboo tanabata_tree leaves " +
                "fallen_leaf maple_leaf ear_of_rice hibiscus sunflower rose tulip blossom cherry_blossom bouquet " +
                "mushroom chestnut jack_o_lantern shell spider_web earth_americas earth_africa earth_asia full_moon " +
                "waning_gibbous_moon last_quarter_moon waning_crescent_moon new_moon waxing_crescent_moon " +
                "first_quarter_moon waxing_gibbous_moon new_moon_with_face full_moon_with_face first_quarter_moon_with_face " +
                "last_quarter_moon_with_face sun_with_face crescent_moon star star2 dizzy sparkles comet sunny " +
                "white_sun_small_cloud partly_sunny white_sun_cloud white_sun_rain_cloud cloud cloud_rain " +
                "thunder_cloud_rain cloud_lightning zap fire boom snowflake cloud_snow snowman2 snowman wind_blowing_face " +
                "dash cloud_tornado fog umbrella2 umbrella droplet sweat_drops ocean"
            },

            food_drink: {
                icon: "pizza",
                title: "Food & Drink",
                emoji: "green_apple apple pear tangerine lemon banana watermelon grapes strawberry melon cherries peach " +
                "pineapple tomato eggplant hot_pepper corn sweet_potato honey_pot bread cheese poultry_leg meat_on_bone " +
                "fried_shrimp egg hamburger fries hotdog pizza spaghetti taco burrito ramen stew fish_cake sushi bento " +
                "curry rice_ball rice rice_cracker oden dango shaved_ice ice_cream icecream cake birthday custard candy " +
                "lollipop chocolate_bar popcorn doughnut cookie beer beers wine_glass cocktail tropical_drink champagne " +
                "sake tea coffee baby_bottle fork_and_knife fork_knife_plate"
            },

            activity: {
                icon: "basketball",
                title: "Activity",
                emoji: "soccer basketball football baseball tennis volleyball rugby_football 8ball golf golfer ping_pong " +
                "badminton hockey field_hockey cricket ski skier snowboarder ice_skate bow_and_arrow fishing_pole_and_fish " +
                "rowboat swimmer surfer bath basketball_player lifter bicyclist mountain_bicyclist horse_racing levitate " +
                "trophy running_shirt_with_sash medal military_medal reminder_ribbon rosette ticket tickets performing_arts " +
                "art circus_tent microphone headphones musical_score musical_keyboard saxophone trumpet guitar violin " +
                "clapper video_game space_invader dart game_die slot_machine bowling"
            },

            travel_places: {
                icon: "rocket",
                title: "Travel & Places",
                emoji: "red_car taxi blue_car bus trolleybus race_car police_car ambulance fire_engine minibus truck " +
                "articulated_lorry tractor motorcycle bike rotating_light oncoming_police_car oncoming_bus " +
                "oncoming_automobile oncoming_taxi aerial_tramway mountain_cableway suspension_railway railway_car " +
                "train monorail bullettrain_side bullettrain_front light_rail mountain_railway steam_locomotive train2 " +
                "metro tram station helicopter airplane_small airplane airplane_departure airplane_arriving sailboat " +
                "motorboat speedboat ferry cruise_ship rocket satellite_orbital seat anchor construction fuelpump busstop " +
                "vertical_traffic_light traffic_light checkered_flag ship ferris_wheel roller_coaster carousel_horse " +
                "construction_site foggy tokyo_tower factory fountain rice_scene mountain mountain_snow mount_fuji volcano " +
                "japan camping tent park motorway railway_track sunrise sunrise_over_mountains desert beach island " +
                "city_sunset city_dusk cityscape night_with_stars bridge_at_night milky_way stars sparkler fireworks " +
                "rainbow homes european_castle japanese_castle stadium statue_of_liberty house house_with_garden " +
                "house_abandoned office department_store post_office european_post_office hospital bank hotel " +
                "convenience_store school love_hotel wedding classical_building church mosque synagogue kaaba shinto_shrine"
            },

            objects: {
                icon: "bulb",
                title: "Objects",
                emoji: "watch iphone calling computer keyboard desktop printer mouse_three_button trackball joystick " +
                "compression minidisc floppy_disk cd dvd vhs camera camera_with_flash video_camera movie_camera projector " +
                "film_frames telephone_receiver telephone pager fax tv radio microphone2 level_slider control_knobs " +
                "stopwatch timer alarm_clock clock hourglass_flowing_sand hourglass satellite battery electric_plug bulb " +
                "flashlight candle wastebasket oil money_with_wings dollar yen euro pound moneybag credit_card gem scales " +
                "wrench hammer hammer_pick tools pick nut_and_bolt gear chains gun bomb knife dagger crossed_swords shield " +
                "smoking skull_crossbones coffin urn amphora crystal_ball prayer_beads barber alembic telescope microscope " +
                "hole pill syringe thermometer label bookmark toilet shower bathtub key key2 couch sleeping_accommodation " +
                "bed door bellhop frame_photo map beach_umbrella moyai shopping_bags balloon flags ribbon gift confetti_ball " +
                "tada dolls wind_chime crossed_flags izakaya_lantern envelope envelope_with_arrow incoming_envelope e-mail " +
                "love_letter postbox mailbox_closed mailbox mailbox_with_mail mailbox_with_no_mail package postal_horn " +
                "inbox_tray outbox_tray scroll page_with_curl bookmark_tabs bar_chart chart_with_upwards_trend " +
                "chart_with_downwards_trend page_facing_up date calendar calendar_spiral card_index card_box ballot_box " +
                "file_cabinet clipboard notepad_spiral file_folder open_file_folder dividers newspaper2 newspaper notebook " +
                "closed_book green_book blue_book orange_book notebook_with_decorative_cover ledger books book link " +
                "paperclip paperclips scissors triangular_ruler straight_ruler pushpin round_pushpin triangular_flag_on_post " +
                "flag_white flag_black closed_lock_with_key lock unlock lock_with_ink_pen pen_ballpoint pen_fountain " +
                "black_nib pencil pencil2 crayon paintbrush mag mag_right"
            },

            symbols: {
                icon: "heartpulse",
                title: "Symbols",
                emoji: "heart yellow_heart green_heart blue_heart purple_heart broken_heart heart_exclamation two_hearts " +
                "revolving_hearts heartbeat heartpulse sparkling_heart cupid gift_heart heart_decoration peace cross " +
                "star_and_crescent om_symbol wheel_of_dharma star_of_david six_pointed_star menorah yin_yang orthodox_cross " +
                "place_of_worship ophiuchus aries taurus gemini cancer leo virgo libra scorpius sagittarius capricorn " +
                "aquarius pisces id atom u7a7a u5272 radioactive biohazard mobile_phone_off vibration_mode u6709 u7121 " +
                "u7533 u55b6 u6708 eight_pointed_black_star vs accept white_flower ideograph_advantage secret congratulations " +
                "u5408 u6e80 u7981 a b ab cl o2 sos no_entry name_badge no_entry_sign x o anger hotsprings no_pedestrians " +
                "do_not_litter no_bicycles non-potable_water underage no_mobile_phones exclamation grey_exclamation question " +
                "grey_question bangbang interrobang 100 low_brightness high_brightness trident fleur-de-lis part_alternation_mark " +
                "warning children_crossing beginner recycle u6307 chart sparkle eight_spoked_asterisk negative_squared_cross_mark " +
                "white_check_mark diamond_shape_with_a_dot_inside cyclone loop globe_with_meridians m atm sa passport_control " +
                "customs baggage_claim left_luggage wheelchair no_smoking wc parking potable_water mens womens baby_symbol " +
                "restroom put_litter_in_its_place cinema signal_strength koko ng ok up cool new free zero one two three four " +
                "five six seven eight nine ten 1234 arrow_forward pause_button play_pause stop_button record_button track_next " +
                "track_previous fast_forward rewind twisted_rightwards_arrows repeat repeat_one arrow_backward arrow_up_small " +
                "arrow_down_small arrow_double_up arrow_double_down arrow_right arrow_left arrow_up arrow_down arrow_upper_right " +
                "arrow_lower_right arrow_lower_left arrow_upper_left arrow_up_down left_right_arrow arrows_counterclockwise " +
                "arrow_right_hook leftwards_arrow_with_hook arrow_heading_up arrow_heading_down hash asterisk information_source " +
                "abc abcd capital_abcd symbols musical_note notes wavy_dash curly_loop heavy_check_mark arrows_clockwise " +
                "heavy_plus_sign heavy_minus_sign heavy_division_sign heavy_multiplication_x heavy_dollar_sign currency_exchange " +
                "copyright registered tm end back on top soon ballot_box_with_check radio_button white_circle black_circle " +
                "red_circle large_blue_circle small_orange_diamond small_blue_diamond large_orange_diamond large_blue_diamond " +
                "small_red_triangle black_small_square white_small_square black_large_square white_large_square small_red_triangle_down " +
                "black_medium_square white_medium_square black_medium_small_square white_medium_small_square black_square_button " +
                "white_square_button speaker sound loud_sound mute mega loudspeaker bell no_bell black_joker mahjong spades " +
                "clubs hearts diamonds flower_playing_cards thought_balloon anger_right speech_balloon clock1 clock2 clock3 " +
                "clock4 clock5 clock6 clock7 clock8 clock9 clock10 clock11 clock12 clock130 clock230 clock330 clock430 " +
                "clock530 clock630 clock730 clock830 clock930 clock1030 clock1130 clock1230 eye_in_speech_bubble"
            },

            flags: {
                icon: "flag_gb",
                title: "Flags",
                emoji: "ac af al dz ad ao ai ag ar am aw au at az bs bh bd bb by be bz bj bm bt bo ba bw br bn bg bf bi " +
                "cv kh cm ca ky cf td flag_cl cn co km cg flag_cd cr hr cu cy cz dk dj dm do ec eg sv gq er ee et fk fo " +
                "fj fi fr pf ga gm ge de gh gi gr gl gd gu gt gn gw gy ht hn hk hu is in flag_id ir iq ie il it ci jm jp " +
                "je jo kz ke ki xk kw kg la lv lb ls lr ly li lt lu mo mk mg mw my mv ml mt mh mr mu mx fm md mc mn me " +
                "ms ma mz mm na nr np nl nc nz ni ne flag_ng nu kp no om pk pw ps pa pg py pe ph pl pt pr qa ro ru rw " +
                "sh kn lc vc ws sm st flag_sa sn rs sc sl sg sk si sb so za kr es lk sd sr sz se ch sy tw tj tz th tl " +
                "tg to tt tn tr flag_tm flag_tm ug ua ae gb us vi uy uz vu va ve vn wf eh ye zm zw re ax ta io bq cx " +
                "cc gg im yt nf pn bl pm gs tk bv hm sj um ic ea cp dg as aq vg ck cw eu gf tf gp mq mp sx ss tc "
            }
        }
    };
    function isObject(variable) {
        return typeof variable === 'object';
    };
    function getOptions(options) {
        if (options['filters']) {
            var filters = default_options.filters;
            $.each(options['filters'], function(filter, data) {
                if (!isObject(data) || $.isEmptyObject(data)) {
                    delete filters[filter];
                    return;
                }
                $.each(data, function(key, val) {
                    filters[filter][key] = val;
                });
            });
            options['filters'] = filters;
        }
        return $.extend({}, default_options, options);
    }

    var saveSelection, restoreSelection;
    if (window.getSelection && document.createRange) {
        saveSelection = function(el) {
            var range = window.getSelection().getRangeAt(0);
            var preSelectionRange = range.cloneRange();
            preSelectionRange.selectNodeContents(el);
            preSelectionRange.setEnd(range.startContainer, range.startOffset);
            return preSelectionRange.toString().length;
        };

        restoreSelection = function(el, sel) {
            var charIndex = 0, range = document.createRange();
            range.setStart(el, 0);
            range.collapse(true);
            var nodeStack = [el], node, foundStart = false, stop = false;

            while (!stop && (node = nodeStack.pop())) {
                if (node.nodeType == 3) {
                    var nextCharIndex = charIndex + node.length;
                    if (!foundStart && sel >= charIndex && sel <= nextCharIndex) {
                        range.setStart(node, sel - charIndex);
                        range.setEnd(node, sel - charIndex);
                        stop = true;
                    }
                    charIndex = nextCharIndex;
                } else {
                    var i = node.childNodes.length;
                    while (i--) {
                        nodeStack.push(node.childNodes[i]);
                    }
                }
            }

            sel = window.getSelection();
            sel.removeAllRanges();
            sel.addRange(range);
        }
    } else if (document.selection && document.body.createTextRange) {
        saveSelection = function(el) {
            var selectedTextRange = document.selection.createRange(),
                preSelectionTextRange = document.body.createTextRange();
            preSelectionTextRange.moveToElementText(el);
            preSelectionTextRange.setEndPoint("EndToStart", selectedTextRange);
            var start = preSelectionTextRange.text.length;
            return start + selectedTextRange.text.length;
        };

        restoreSelection = function(el, sel) {
            var textRange = document.body.createTextRange();
            textRange.moveToElementText(el);
            textRange.collapse(true);
            textRange.moveEnd("character", sel);
            textRange.moveStart("character", sel);
            textRange.select();
        };
    }


    var uniRegexp;
    var emojioneVersion = window.emojioneVersion || '2.1.4';

    var cdn_base = "https://cdnjs.cloudflare.com/ajax/libs/emojione/";
    function detectVersion() {
        var version = emojione.cacheBustParam;
        if (!isObject(emojione['jsEscapeMap'])) return '1.5.2';
        if (version === "?v=1.2.4") return '2.0.0';
        if (version === "?v=2.0.1") return '2.1.0'; // v2.0.1 || v2.1.0
        if (version === "?v=2.1.1") return '2.1.1';
        if (version === "?v=2.1.2") return '2.1.2';
        if (version === "?v=2.1.3") return '2.1.3';
        if (version === "?v=2.1.4") return '2.1.4';
        return '2.1.4';
    }
    function getSupportMode(version) {
        switch (version) {
            case '1.5.2': return 0;
            case '2.0.0': return 1;
            case '2.1.0':
            case '2.1.1': return 2;
            case '2.1.2': return 3;
            case '2.1.3':
            case '2.1.4':
            default: return 4;
        }
    }
    if (!emojione || getSupportMode(detectVersion()) < 2) {
        $.getScript(cdn_base + emojioneVersion + "/lib/js/emojione.min.js", function () {
            emojione = window.emojione;
            emojioneVersion = detectVersion();
            emojioneSupportMode = getSupportMode(emojioneVersion);
            cdn_base += emojioneVersion + "/assets";
            var sprite = cdn_base +"/sprites/emojione.sprites.css";
            if (document.createStyleSheet) {
                document.createStyleSheet(sprite);
            } else {
                $('<link/>', {rel: 'stylesheet', href: sprite}).appendTo('head');
            }
            while (readyCallbacks.length) {
                readyCallbacks.shift().call();
            }
        });
    } else {
        emojioneVersion = detectVersion();
        emojioneSupportMode = getSupportMode(emojioneVersion);
        cdn_base += emojioneVersion + "/assets";
    }

    emojioneReady(function() {
        emojione.imagePathPNG = cdn_base + "/png/";
        uniRegexp = new RegExp("<object[^>]*>.*?<\/object>|<span[^>]*>.*?<\/span>|<(?:object|embed|svg|img|div|span|p|a)[^>]*>|("+
            emojione.unicodeRegexp+")", "gi");
    });
    function unicodeTo(str, template) {
        return str.replace(uniRegexp, function(unicodeChar) {
            var map = emojione[(emojioneSupportMode === 0 ? 'jsecapeMap' : 'jsEscapeMap')];
            if (typeof unicodeChar !== 'undefined' && unicodeChar in map) {
                return getTemplate(template, map[unicodeChar]);
            }
            return unicodeChar;
        });
    }
    function htmlFromText(str, self) {
        str = str
            .replace(/&/g, '&amp;')
            .replace(/</g, '&lt;')
            .replace(/>/g, '&gt;')
            .replace(/"/g, '&quot;')
            .replace(/'/g, '&#x27;')
            .replace(/`/g, '&#x60;')
            .replace(/(?:\r\n|\r|\n)/g, '\n')
            .replace(/(\n+)/g, '<div>$1</div>')
            .replace(/\n/g, '<br/>')
            .replace(/<br\/><\/div>/g, '</div>');
        if (self.shortnames) {
            str = emojione.shortnameToUnicode(str);
        }
        return unicodeTo(str, self.emojiTemplate)
            .replace(/\t/g, '&nbsp;&nbsp;&nbsp;&nbsp;')
            .replace(/  /g, '&nbsp;&nbsp;');
    }
    function textFromHtml(str, self) {
        str = str
            .replace(/<img[^>]*alt="([^"]+)"[^>]*>/ig, '$1')
            .replace(/\n|\r/g, '')
            .replace(/<br[^>]*>/ig, '\n')
            .replace(/(?:<(?:div|p|ol|ul|li|pre|code|object)[^>]*>)+/ig, '<div>')
            .replace(/(?:<\/(?:div|p|ol|ul|li|pre|code|object)>)+/ig, '</div>')
            .replace(/\n<div><\/div>/ig, '\n')
            .replace(/<div><\/div>\n/ig, '\n')
            .replace(/(?:<div>)+<\/div>/ig, '\n')
            .replace(/([^\n])<\/div><div>/ig, '$1\n')
            .replace(/(?:<\/div>)+/ig, '</div>')
            .replace(/([^\n])<\/div>([^\n])/ig, '$1\n$2')
            .replace(/<\/div>/ig, '')
            .replace(/([^\n])<div>/ig, '$1\n')
            .replace(/\n<div>/ig, '\n')
            .replace(/<div>\n/ig, '\n\n')
            .replace(/<(?:[^>]+)?>/g, '')
            .replace(/&#8291;/g, '')
            .replace(/&nbsp;/g, ' ')
            .replace(/&lt;/g, '<')
            .replace(/&gt;/g, '>')
            .replace(/&quot;/g, '"')
            .replace(/&#x27;/g, "'")
            .replace(/&#x60;/g, '`')
            .replace(/&amp;/g, '&');

        switch (self.saveEmojisAs) {
            case 'image':
                str = unicodeTo(str, self.emojiTemplate);
                break;
            case 'shortname':
                str = emojione.toShort(str);
        }
        return str;
    }
    function calcButtonPosition() {
        var self = this,
            offset = self.editor[0].offsetWidth - self.editor[0].clientWidth,
            current = parseInt(self.button.css('marginRight'));
        if (current !== offset) {
            self.button.css({marginRight: offset});
            if (self.pickerPosition === 'top') {
                self.picker.css({right: parseInt(self.picker.css('right')) - current + offset});
            }
        }
    }
    function lazyLoading() {
        var self = this;
        if (!self.sprite && self.lasyEmoji[0]) {
            var pickerTop = self.picker.offset().top,
                pickerBottom = pickerTop + self.picker.height() + 20;
            self.lasyEmoji.each(function() {
                var e = $(this), top = e.offset().top;
                if (top > pickerTop && top < pickerBottom) {
                    e.attr("src", e.data("src")).removeClass("lazy-emoji");
                }
            })
            self.lasyEmoji = self.lasyEmoji.filter(".lazy-emoji");
        }
    }
    function selector (prefix, skip_dot) {
        return (skip_dot ? '' : '.') + css_class + (prefix ? ("-" + prefix) : "");
    }
    function div(prefix) {
        var parent = $('<div/>', isObject(prefix) ? prefix : {"class" : selector(prefix, true)});
        $.each(slice.call(arguments).slice(1), function(i, child) {
            if ($.isFunction(child)) {
                child = child.call(parent);
            }
            if (child) {
                $(child).appendTo(parent);
            }
        });
        return parent;
    }
    function init(self, source, options) {
        //calcElapsedTime('init', function() {
        options = getOptions(options);
        self.sprite = options.sprite && emojioneSupportMode < 3;
        self.inline = options.inline === null ? source.is("INPUT") : options.inline;
        self.shortnames = options.shortnames;
        self.pickerPosition = options.pickerPosition;
        self.saveEmojisAs = options.saveEmojisAs;
        self.emojiTemplate = '<img alt="{alt}" class="emojione' + (self.sprite ? '-{uni}" src="' + blankImg + '"/>' : 'emoji" src="{img}"/>');

        var sourceValFunc = source.is("TEXTAREA") || source.is("INPUT") ? "val" : "text",
            editor, button, picker, tones, filters, filtersBtns, emojisList, categories, scrollArea,
            app = div({"class" : css_class + " " + (source.attr("class") || ""), role: "application"},
                editor = self.editor = div('editor').attr({
                    contenteditable: true,
                    placeholder: options["placeholder"] || source.data("placeholder") || source.attr("placeholder") || "",
                    tabindex: 0
                }),
                button = self.button = div('button',
                    div('button-open'),
                    div('button-close')
                ).attr('title', options.buttonTitle),
                picker = self.picker = div('picker',
                    div('wrapper',
                        filters = div('filters'),
                        scrollArea = div('scroll-area',
                            emojisList = div('emojis-list'),
                            tones = div('tones',
                                function() {
                                    if (options.tones) {
                                        this.addClass(selector('tones-' + options.tonesStyle, true));
                                        for (var i = 0; i <= 5; i++) {
                                            this.append($("<i/>", {
                                                "class": "btn-tone btn-tone-" + i + (!i ? " active" : ""),
                                                "data-skin": i,
                                                role: "button"
                                            }));
                                        }
                                    }
                                }
                            )
                        )
                    )
                ).addClass(selector('picker-position-' + options.pickerPosition, true))
                 .addClass(selector('filters-position-' + options.filtersPosition, true))
                 .addClass('hidden')
            );

        $.each(options.attributes, function(attr, value) {
            editor.attr(attr, value);
        });

        $.each(options.filters, function(filter, params) {
            var skin = 0;
            if (filter !== 'tones') {
                $("<i/>", {
                    "class": selector("filter", true) + " " + selector("filter-" + filter, true),
                    "data-filter": filter,
                    title: params.title
                })
                .wrapInner(shortnameTo(params.icon, self.sprite ? '<i class="emojione-{uni}"/>' : '<img class="emojioneemoji" src="{img}"/>'))
                .appendTo(filters);
            } else if (options.tones) {
                skin = 5;
            } else {
                return;
            }
            do {
                var category = div('category').attr({name: filter, "data-tone": skin}).appendTo(emojisList),
                    items = params.emoji.replace(/[\s,;]+/g, '|');
                if (skin > 0) {
                    category.hide();
                    items = items.split('|').join('_tone' + skin + '|') + '_tone' + skin;
                }
                items = shortnameTo(items,
                    self.sprite ?
                    '<i class="emojibtn" role="button" data-name="{name}"><i class="emojione-{uni}"></i></i>' :
                    '<i class="emojibtn" role="button" data-name="{name}"><img class="emojioneemoji lazy-emoji" data-src="{img}"/></i>',
                    true).split('|').join('');
                category.html(items);
                $('<h1/>').text(params.title).prependTo(category);
            } while (--skin > 0);
        });

        options.filters = null;
        if (!self.sprite) {
            self.lasyEmoji = emojisList.find(".lazy-emoji");
        }

        filtersBtns = filters.find(selector("filter"));
        filtersBtns.eq(0).addClass("active");
        categories = emojisList.find(selector("category"));

        if (options.container) {
            $(options.container).wrapInner(app);
        } else {
            app.insertAfter(source);
        }

        if (options.hideSource) {
            source.hide();
        }

        self.setText(source[sourceValFunc]());
        source[sourceValFunc](self.getText());
        calcButtonPosition.apply(self);

        // attach() must be called before any .on() methods !!!
        // 1) attach() stores events into possibleEvents{},
        // 2) .on() calls bindEvent() and stores handlers into eventStorage{},
        // 3) bindEvent() finds events in possibleEvents{} and bind founded via jQuery.on()
        // 4) attached events via jQuery.on() calls trigger()
        // 5) trigger() calls handlers stored into eventStorage{}

        attach(self, emojisList.find(".emojibtn"), {click: "emojibtn.click"});
        attach(self, window, {resize: "!resize"});
        attach(self, tones.children(), {click: "tone.click"});
        attach(self, [picker, button], {mousedown: "!mousedown"}, editor);
        attach(self, button, {click: "button.click"});
        attach(self, editor, {paste :"!paste"}, editor);
        attach(self, editor, ["focus", "blur"], function() { return self.stayFocused ? false : editor; });
        attach(self, picker, {mousedown: "picker.mousedown", mouseup: "picker.mouseup", click: "picker.click",
            keyup: "picker.keyup", keydown: "picker.keydown", keypress: "picker.keypress"});
        attach(self, editor, ["mousedown", "mouseup", "click", "keyup", "keydown", "keypress"]);
        attach(self, picker.find(".emojionearea-filter"), {click: "filter.click"});

        if (isObject(options.events) && !$.isEmptyObject(options.events)) {
            $.each(options.events, function(event, handler) {
                self.on(event.replace(/_/g, '.'), handler);
            });
        }

        var noListenScroll = false;
        scrollArea.on('scroll', function () {
            if (!noListenScroll) {
                lazyLoading.call(self);
                if (scrollArea.is(":not(.skinnable)")) {
                    var item = categories.eq(0), scrollTop = scrollArea.offset().top;
                    categories.each(function (i, e) {
                        if ($(e).offset().top - scrollTop >= 10) {
                            return false;
                        }
                        item = $(e);
                    });
                    var filter = filtersBtns.filter('[data-filter="' + item.attr("name") + '"]');
                    if (filter[0] && !filter.is(".active")) {
                        filtersBtns.removeClass("active");
                        filter.addClass("active");
                    }
                }
            }
        });

        self.on("@filter.click", function(filter) {
            var isActive = filter.is(".active");
            if (scrollArea.is(".skinnable")) {
                if (isActive) return;
                tones.children().eq(0).click();
            }
            noListenScroll = true;
            if (!isActive) {
                filtersBtns.filter(".active").removeClass("active");
                filter.addClass("active");
            }
            var headerOffset = categories.filter('[name="' + filter.data('filter') + '"]').offset().top,
                scroll = scrollArea.scrollTop(),
                offsetTop = scrollArea.offset().top;
            scrollArea.stop().animate({
                scrollTop: headerOffset + scroll - offsetTop - 2
            }, 200, 'swing', function () {
                lazyLoading.call(self);
                noListenScroll = false;
            });
        })

        .on("@picker.show", lazyLoading)

        .on("@tone.click", function(tone) {
            tones.children().removeClass("active");
            var skin = tone.addClass("active").data("skin");
            if (skin) {
                scrollArea.addClass("skinnable");
                categories.hide().filter("[data-tone=" + skin + "]").show();
            } else {
                scrollArea.removeClass("skinnable");
                categories.hide().filter("[data-tone=0]").show();
            }
            lazyLoading.call(self);
        })

        .on("@button.click", function(button) {
            if (button.is(".active")) {
                self.hidePicker();
            } else {
                self.showPicker();
            }
        })

        .on("@!paste", function(editor) {
            self.stayFocused = true;
            // insert invisible character for fix caret position
            pasteHtmlAtCaret('<span>&#8291;</span>');

            var sel = saveSelection(editor[0]),
                editorScrollTop = editor.scrollTop(),
                clipboard = $("<div/>", {contenteditable: true})
                    .css({position: "fixed", left: "-999px", width: "1px", height: "1px", top: "20px", overflow: "hidden"})
                    .appendTo($("BODY"))
                    .focus();

            window.setTimeout(function() {
                var caretID = "caret-" + (new Date()).getTime();
                editor.focus();
                restoreSelection(editor[0], sel);
                var text = textFromHtml(clipboard.html().replace(/\r\n|\n|\r/g, '<br>'), self),
                    html = htmlFromText(text, self);
                pasteHtmlAtCaret(html);
                clipboard.remove();
                pasteHtmlAtCaret('<i id="' + caretID +'"></i>');
                editor.scrollTop(editorScrollTop);
                var caret = $("#" + caretID),
                    top = caret.offset().top - editor.offset().top,
                    height = editor.height();
                if (editorScrollTop + top >= height || editorScrollTop > top) {
                    editor.scrollTop(editorScrollTop + top - 2 * height/3);
                }
                caret.remove();
                self.stayFocused = false;
                calcButtonPosition.apply(self);
                trigger(self, 'paste', [editor, text, html]);
            }, 200);
        })

        .on("@emojibtn.click", function(emojibtn) {
            if (!app.is(".focused")) {
                editor.focus();
            }
            saveSelection(editor[0]);
            pasteHtmlAtCaret(shortnameTo(emojibtn.data("name"), self.emojiTemplate));
        })

        .on("@!resize @keyup @emojibtn.click", calcButtonPosition)

        .on("@!mousedown", function(editor, event) {
            if (!app.is(".focused")) {
                editor.focus();
            }
            event.preventDefault();
            return false;
        })

        .on("@change", function(editor) {
            var html = editor.html().replace(/<\/?(?:div|span|p)[^>]*>/ig, '');
            // clear input: chrome adds <br> when contenteditable is empty
            if (!html.length || /^<br[^>]*>$/i.test(html)) {
                self.editor.html(self.content = '');
            }
            source[sourceValFunc](self.getText());
        })

        .on("@focus", function() {
            app.addClass("focused");
        })

        .on("@blur", function(editor) {
            app.removeClass("focused");

            if (options.hidePickerOnBlur) {
                self.hidePicker();
            }

            var content = editor.html();
            if (self.content !== content) {
                self.content = content;
                trigger(self, 'change', [editor]);
                source.blur().trigger("change");
            } else {
                source.blur();
            }
        });

        if (options.shortcuts) {
            self.on("@keydown", function(_, e) {
                if (!e.ctrlKey) {
                    if (e.which == 9) {
                        e.preventDefault();
                        button.click();
                    }
                    else if (e.which == 27) {
                        e.preventDefault();
                        if (button.is(".active")) {
                            self.hidePicker();
                        }
                    }
                }
            });
        }

        if (options.autocomplete) {
            var autocomplete = function() {
                var events = {};
                if (options.shortcuts) {
                    events.onKeydown = function (e, commands) {
                        if (!e.ctrlKey && e.which == 13) {
                            return commands.KEY_ENTER;
                        }
                    };
                }
                var map = $.map(emojione.emojioneList, function (_, emoji) {
                    return !options.autocompleteTones ? /_tone[12345]/.test(emoji) ? null : emoji : emoji;
                });
                map.sort();
                editor.textcomplete([
                    {
                        id: css_class,
                        match: /(:[\-+\w]*)$/,
                        search: function (term, callback) {
                            callback($.map(map, function (emoji) {
                                return emoji.indexOf(term) === 0 ? emoji : null;
                            }));
                        },
                        template: function (value) {
                            return shortnameTo(value, self.emojiTemplate) + " " + value.replace(/:/g, '');
                        },
                        replace: function (value) {
                            return shortnameTo(value, self.emojiTemplate);
                        },
                        cache: true,
                        maxCount: 15,
                        index: 1
                    }
                ], events);
            };
            if ($.fn.textcomplete) {
                autocomplete();
            } else {
                $.getScript("https://cdn.rawgit.com/yuku-t/jquery-textcomplete/v1.3.4/dist/jquery.textcomplete.js",
                    autocomplete);
            }
        }

        if (self.inline) {
            app.addClass(selector('inline', true));
            self.on("@keydown", function(_, e) {
                if (e.which == 13) {
                    e.preventDefault();
                }
            });
        }

        if (/firefox/i.test(navigator.userAgent)) {
            // disabling resize images on Firefox
            document.execCommand("enableObjectResizing", false, false);
        }

        //}, self.id === 1); // calcElapsedTime()
    };
    var EmojioneArea = function(element, options) {
        var self = this;
        eventStorage[self.id = ++unique] = {};
        possibleEvents[self.id] = {};
        emojioneReady(function() {
            init(self, element, options);
        });
    };
    function bindEvent(self, event) {
        event = event.replace(/^@/, '');
        var id = self.id;
        if (possibleEvents[id][event]) {
            $.each(possibleEvents[id][event], function(i, ev) {
                // ev[0] = element
                // ev[1] = event
                // ev[2] = target
                $.each($.isArray(ev[0]) ? ev[0] : [ev[0]], function(i, el) {
                    $(el).on(ev[1], function() {
                        var args = slice.call(arguments),
                            target = $.isFunction(ev[2]) ? ev[2].apply(self, [event].concat(args)) : ev[2];
                        if (target) {
                            trigger(self, event, [target].concat(args));
                        }
                    });
                });
            });
            possibleEvents[id][event] = null;
        }
    }

    EmojioneArea.prototype.on = function(events, handler) {
        if (events && $.isFunction(handler)) {
            var self = this;
            $.each(events.toLowerCase().split(' '), function(i, event) {
                bindEvent(self, event);
                (eventStorage[self.id][event] || (eventStorage[self.id][event] = [])).push(handler);
            });
        }
        return this;
    };

    EmojioneArea.prototype.off = function(events, handler) {
        if (events) {
            var id = this.id;
            $.each(events.toLowerCase().replace(/_/g, '.').split(' '), function(i, event) {
                if (eventStorage[id][event] && !/^@/.test(event)) {
                    if (handler) {
                        $.each(eventStorage[id][event], function(j, fn) {
                            if (fn === handler) {
                                eventStorage[id][event] = eventStorage[id][event].splice(j, 1);
                            }
                        });
                    } else {
                        eventStorage[id][event] = [];
                    }
                }
            });
        }
        return this;
    };

    EmojioneArea.prototype.setText = function (str) {
        var self = this;
        emojioneReady(function () {
            self.editor.html(htmlFromText(str, self));
            self.content = self.editor.html();
            trigger(self, 'change', [self.editor]);
            calcButtonPosition.apply(self);
        });
        return self;
    }

    EmojioneArea.prototype.getText = function() {
        return textFromHtml(this.editor.html(), this);
    }

    EmojioneArea.prototype.showPicker = function () {
        var self = this;
        if (self._sh_timer) {
            window.clearTimeout(self._sh_timer);
        }
        self.picker.removeClass("hidden");
        self._sh_timer =  window.setTimeout(function() {
            self.button.addClass("active");
        }, 50);
        trigger(self, "picker.show", [self.picker]);
        return self;
    }

    EmojioneArea.prototype.hidePicker = function () {
        var self = this;
        if (self._sh_timer) {
            window.clearTimeout(self._sh_timer);
        }
        self.button.removeClass("active");
        self._sh_timer =  window.setTimeout(function() {
            self.picker.addClass("hidden");
        }, 500);
        trigger(self, "picker.hide", [self.picker]);
        return self;
    }

    $.fn.emojioneArea = function(options) {
        return this.each(function() {
            if (!!this.emojioneArea) return this.emojioneArea;
            $.data(this, 'emojioneArea', this.emojioneArea = new EmojioneArea($(this), options));
            return this.emojioneArea;
        });
    };

}) (document, window, jQuery);

/***/ }),
/* 23 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


__webpack_require__(53);

__webpack_require__(55);

var _pubsubJs = __webpack_require__(11);

var _pubsubJs2 = _interopRequireDefault(_pubsubJs);

var _loginForm = __webpack_require__(40);

var _registerForm = __webpack_require__(44);

var _registerForm2 = _interopRequireDefault(_registerForm);

var _loginPage = __webpack_require__(50);

var _confirmReg = __webpack_require__(35);

var _header = __webpack_require__(38);

var header = _interopRequireWildcard(_header);

var _sidebarMenu = __webpack_require__(45);

var sidebarMenu = _interopRequireWildcard(_sidebarMenu);

var _burgerMenu = __webpack_require__(37);

var burgerMenu = _interopRequireWildcard(_burgerMenu);

var _instagramAccountsList = __webpack_require__(20);

var instagramAccounts = _interopRequireWildcard(_instagramAccountsList);

var _messages = __webpack_require__(41);

var messages = _interopRequireWildcard(_messages);

var _follow = __webpack_require__(36);

var follow = _interopRequireWildcard(_follow);

var _unfollowIndex = __webpack_require__(48);

var unfollow = _interopRequireWildcard(_unfollowIndex);

var _automessagesIndex = __webpack_require__(31);

var automessages = _interopRequireWildcard(_automessagesIndex);

var _chatBotIndex = __webpack_require__(33);

var chatBot = _interopRequireWildcard(_chatBotIndex);

var _autogreetingMain = __webpack_require__(28);

var autogreeting = _interopRequireWildcard(_autogreetingMain);

var _autocommentsIndex = __webpack_require__(25);

var autocomments = _interopRequireWildcard(_autocommentsIndex);

var _storiesIndex = __webpack_require__(46);

var stories = _interopRequireWildcard(_storiesIndex);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// const selectorCssLoginForm = {
//     _loginBox: CONST.uiSelectors.headerLoginBox,
//     _formId: '#js_login-form',
//     _buttonSubmitId: '#js_login_btn',
//     _showLoginBoxBtnId: CONST.uiSelectors.headerNavLoginBtn
// };

/*
* global functions
*/

// import {emojionearea} from 'emojioneArea/dist/emojionearea';
// $.fn.emojionearea = emojionearea;

// components
// import {CONST} from './common/js-services/consts';


// vendor
function setPubSub(PubSub) {
    window.PubSub = PubSub;
}

function initTooltip() {
    $('[data-toggle="tooltip"]').tooltip();
}

var init = function init() {
    setPubSub(_pubsubJs2.default);
    initTooltip();
    // console.log('init js here', CONST.user);
    new _registerForm2.default().init();
    // LoginForm(selectorCssLoginForm).init();
    (0, _loginForm.LoginForm)({
        _loginBox: 'main .login-box',
        _formId: '#js_instagram-add-account',
        _buttonSubmitId: '#js_instagram-add-account--btn',
        _showLoginBoxBtnId: '#js_show-login-box',
        isLoginInstagram: true
    }).init(); // init instagram login form *!/
    (0, _loginPage.LoginPage)({
        _loginBox: '.auth.login .card-signin',
        _formId: '.form-signin',
        _buttonSubmitId: '.form-signin [type="submit"]'
    }).init();

    (0, _confirmReg.confirmationWithRedirect)().init();
    header.initHeader();
    sidebarMenu.initMenu();
    burgerMenu.init();
    follow.init();
    unfollow.init();
    instagramAccounts.init();
    messages.init();
    automessages.init();
    autogreeting.init();
    autocomments.init();
    chatBot.init();
    stories.init();
};

(function () {
    return init();
})();

/***/ }),
/* 24 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
var tplTextField = exports.tplTextField = function tplTextField(mainCls) {
    return $("<div class=\"" + mainCls + " mt-2\">\n    <div class=\"row\">\n        <div class=\"col\">\n            <div class=\"js_tagsinput-box\">\n                <input type=\"text\" placeholder=\"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043A\u043B\u044E\u0447\u0435\u0432\u044B\u0435 \u0441\u043B\u043E\u0432\u0430\" value=\"\" data-role=\"tagsinput\" class=\"form-control answer-words mb-2\" />\n            </div>\n            <div class=\"js_tagsinput-box blacklist-box my-2\">\n                <input type=\"text\" placeholder=\"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043C\u0438\u043D\u0443\u0441 \u0441\u043B\u043E\u0432\u0430\" value=\"\" data-role=\"tagsinput\" class=\"form-control blacklist-words\" />\n            </div>\n        </div>\n        <div class=\"col\">\n            <textarea class=\"form-control answer-messages\" rows=\"4\"\n                data-emoji-picker=\"true\" style=\"padding: 0.25rem 1.75rem 0.25rem 0.25rem; width: 100%;min-height: 42px;\"\n                placeholder=\"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u043E\u043E\u0431\u0449\u0435\u043D\u0438\u0435\"\n            ></textarea>\n            \n        </div>\n    </div>\n</div>");
};

/***/ }),
/* 25 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

exports.init = init;

var _consts = __webpack_require__(0);

var _wizardForm = __webpack_require__(6);

var wizardForm = _interopRequireWildcard(_wizardForm);

var _view = __webpack_require__(1);

var _view2 = _interopRequireDefault(_view);

var _apiTaskManager = __webpack_require__(2);

var _apiTaskManager2 = _interopRequireDefault(_apiTaskManager);

var _tabs = __webpack_require__(9);

var tabs = _interopRequireWildcard(_tabs);

var _autocommentsStatus = __webpack_require__(26);

var autocommentsStatus = _interopRequireWildcard(_autocommentsStatus);

var _logs = __webpack_require__(8);

var logs = _interopRequireWildcard(_logs);

var _imageUpload = __webpack_require__(7);

var imageUpload = _interopRequireWildcard(_imageUpload);

var _emoji = __webpack_require__(15);

var _utilsModal = __webpack_require__(12);

var _addAnswerTemplate = __webpack_require__(24);

var _tagsInput = __webpack_require__(10);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

var getValByCommaSeparator = _view2.default.getValByCommaSeparator;

var usernameSelected = '';
var selectCls = 'js_logs-accounts';
var clsConst = {
    currentPageCls: '.autocomments-page',
    tasksList: '.log-tasks',
    logsTabBtn: '#v-pills-logs-tab',
    pagination: '.logs-pagination',
    paginationPgNumber: '.page-number',
    pathType: _consts.CONST.url.tmTypes.autocommentsT,
    pathSubType: _consts.CONST.url.tmTypes.autocommentsSubT[0]
};
var elSelector = {
    fields: '.autocomments-text-fields',
    keyWord: 'input.answer-words',
    answer: 'textarea.answer-messages',
    fileUploadBox: '.file-upload',
    addPostBtns: '.js_autocomments-add-post'
};
var logsState = {
    selectCls: 'js_logs-accounts',
    selectClsLogsTaskType: 'js_logs-subtypes',
    wrapperSubtype: '.log-subype'
};

function initEmojii() {
    (0, _emoji.emoji)({
        page: clsConst.currentPageCls,
        styles: { old: 'bottom: 30px;', new: 'top: -210px;' }
    });
}

function validateIsEmpty($elements, e) {
    $elements.each(function () {
        if ($(this).val() === '') {
            e.preventDefault();
            $(this).addClass('input-error');
            // validation = false;
            return;
        } else {
            $(this).removeClass('input-error');
        }
    });
}

function onSubmitHandler(e) {
    var fields = $(elSelector.fields);
    var reqBody = [];
    var validation = true;
    var $elementsKeyWord = fields.find(elSelector.keyWord);
    var $elementsAnswer = fields.find(elSelector.answer);

    validateIsEmpty($elementsKeyWord, e);
    validateIsEmpty($elementsAnswer, e);

    fields.each(function (idx, item) {
        var keyWord = getValByCommaSeparator($(item).find(elSelector.keyWord));
        var answer = $(item).find(elSelector.answer).val();
        var imageId = $(item).find(elSelector.fileUploadBox).attr('attached-img-id');
        var $imagePostBox = $(item).find('.js_uploaded-img-from-posts');
        var postItemId = $imagePostBox.data('postId');
        var postItemType = $imagePostBox.data('postType');
        var blacklistWords = $(item).find('input.blacklist-words');
        var blacklistWordsArr = getValByCommaSeparator(blacklistWords);

        if (!keyWord.length || !answer.length) {
            // console.log('keyWord is empty, not push me to request');
            $(item).append('\n                <p class="msg-empty-field text-danger">\u041F\u0443\u0441\u0442\u043E\u0435 \u043F\u043E\u043B\u0435 \u043D\u0435 \u0432\u0430\u043B\u0438\u0434\u043D\u043E</p>\n            ');
            setTimeout(function () {
                $('.msg-empty-field').addClass('d-none');
            }, 5000);
            validation = false;
            return;
        }
        var submitBodyItem = {
            'key_words': keyWord,
            answer: answer,
            blacklist: blacklistWordsArr,
            'attachment': imageId ? {
                'image_id': imageId
            } : undefined
        };

        if (postItemId) {
            submitBodyItem.attachment = _extends({}, submitBodyItem.attachment, {
                post: {
                    id: postItemId,
                    type: postItemType || 'type-error'
                }
            });
        }
        reqBody.push(submitBodyItem);
    });
    if (!validation) {
        // console.log('**alarm **', elSelector.keyWord);
        return;
    }

    var nReqBody = {
        'username': usernameSelected,
        'type': clsConst.pathType,
        'subtype': clsConst.pathSubType,
        'user_default_config': {},
        'user_custom_config': {
            'forms': reqBody
        }
    };

    // console.log('make request here**', nReqBody);
    function cbError(res) {
        var msg = res.status.message;
        $('.form-submit-finish--error').addClass('d-block').find('.alert').append('<p>' + msg + '</p>');
    }
    _apiTaskManager2.default.postStartTask(nReqBody, cbError).then(function (result) {
        if (result.status.state === 'ok') {
            $('.form-submit-finish').find('.alert p').remove();
            $('.form-submit-finish').addClass('d-block').find('.alert').append('<p>task_id: ' + result.data.task_id + '</p>');
        }
    });
}

function initLogsTab() {
    function OnChangeSelect() {
        var selectCls = logsState.selectCls;

        $('.' + selectCls).on('change', function () {
            usernameSelected = $('.' + selectCls + ' option:selected').val();
            // clsConst.pathSubType = logsState.activeSubType;
            logs.init(selectCls, clsConst);
        });
    }
    // addDropdown($(logsState.wrapperSubtype), logsSubtypes, {logsState, dropdownOnSelectCb});
    tabs.init(OnChangeSelect, logsState); // makes double request : OPTION and GET
}

function removeExtraTextFields(e) {
    $(elSelector.fields + ':not(:first-child)').removeClass('d-block');
    e.stopPropagation();
}

/* TODO: refactor -> move initModalHandler to separate file, remove initModalHandler in autogreeting-main.js */
var targetButton = {};

function loadMoreHandler(getPosts) {
    var _this = this;

    $('#load-more').off().on('click', function (e) {
        var $btn = $(e.target);
        var cursor = $btn.attr('cursor');
        console.log('load more click');
        getPosts(null, { userName: usernameSelected, cursor: cursor }, { loadMoreHandler: _this, targetButton: targetButton });
    });
}

function initModalHandler() {

    $('.js_open-posts-gridModal').on('click', function (event) {
        targetButton = $(this); // Button that triggered the modal
        // Update the modal's content
        var modal = $('#postsGridModal');
        (0, _utilsModal.getPosts)(modal, { userName: usernameSelected }, { loadMoreHandler: loadMoreHandler, targetButton: targetButton });
        modal.find('.modal-title').text('Публикации');
    });
}

/* TODO: refactor -> move initModalHandler to separate file END */

/**
 * Init Handlers
 */
function initHandlers() {
    var $competitorsInput = $('.autocomments-text-fields input.answer-words[data-role="tagsinput"]');
    var $blackListInput = $('.autocomments-text-fields input.blacklist-words[data-role="tagsinput"]');
    var nextStepBtn = $('form button[type="submit"]');
    (0, _tagsInput.nextBtnvalidateCompetitorsHandler)($competitorsInput, nextStepBtn, 'ignoreRegexCheck');
    (0, _tagsInput.nextBtnvalidateCompetitorsHandler)($blackListInput, null, 'ignoreRegexCheck');

    // TODO: refactor with autogreet.js initHandlers
    // $('[data-toggle="popover"]').popover(); // init
    $('.js_add-autocomments').on('click', function (e) {
        var lastTextField = $(elSelector.fields).last();
        (0, _addAnswerTemplate.tplTextField)(elSelector.fields.substr(1)).insertAfter(lastTextField);
        imageUpload.init();
        // $('[data-toggle="popover"]').popover(); // reinit
        $('[data-toggle="tooltip"]').tooltip(); // reinit
        initModalHandler();

        var lastTextFieldAfterInsert = $(elSelector.fields).last();
        var $inputAnswerWords = $('input.answer-words[data-role="tagsinput"]', lastTextFieldAfterInsert);
        var $blackListInput = $('input.blacklist-words[data-role="tagsinput"]', lastTextFieldAfterInsert);

        (0, _tagsInput.initTagsInput)($inputAnswerWords); // reinit answer-words
        (0, _tagsInput.initTagsInput)($blackListInput); // reinit blacklist-words
        (0, _tagsInput.nextBtnvalidateCompetitorsHandler)($inputAnswerWords, nextStepBtn, 'ignoreRegexCheck');
        (0, _tagsInput.nextBtnvalidateCompetitorsHandler)($blackListInput, null, 'ignoreRegexCheck');
        initEmojii();
    });

    // alert success close
    $('.form-submit-finish .close').on('click', function (e) {
        // console.log('alert close');
        $('#v-pills-all-tab').trigger('click');
        window.PubSub.publish(_consts.CONST.events.tasks.NEW_TASK_CREATED);
        // removeExtraTextFields(e);
    });

    // alert close
    $('.form-submit-finish--error .close').on('click', function () {
        // console.log('alert close');
        $('#v-pills-all-tab').trigger('click');
        window.PubSub.publish(_consts.CONST.events.tasks.NEW_TASK_CREATED);
        removeExtraTextFields();
    });

    // tabs.init(fillListUsers);
    initLogsTab();
}

function setUserName(state) {
    // console.log('getTasksData', state.username);
    usernameSelected = state.username;
}

function stepReducer(stepNumber, state) {
    switch (stepNumber) {
        case 0:
            setUserName(state);
            // console.log(state, stepNumber);
            break;
        default:
            console.log('default', stepNumber);
    }
}

function init() {
    if ($(clsConst.currentPageCls).length) {
        var wizardCfg = {
            stepReducer: stepReducer,
            onSubmitHandler: onSubmitHandler
        };
        wizardForm.init(wizardCfg);
        initHandlers();
        autocommentsStatus.init();
        // initTagsInput('.blacklist-box input');

        window.PubSub.subscribe(_consts.CONST.events.instagramAccouns.INSTAGRAM_ACCOUNS_RENDERED_LAZY, function (e, accounts) {
            logs.init(selectCls, clsConst);
        });
        // window.PubSub.subscribe(CONST.events.autoarnswer.IMAGE_UPLOADED, (e, res) => {
        //     const {response} = res;
        //     const result = (response.length) ? JSON.parse(response) : '';
        //     const imageId = result && result.data && result.data.image_id;
        //     $(res.el).closest('.file-upload').attr('attached-img-id', imageId);
        //     console.log('image_loaded', res);
        //
        //     // todo: make as callBack
        //     const $imageBox = $(res.el).closest('.col').find('.js_uploaded-img-from-posts');
        //     if ($imageBox.length) {
        //         $imageBox.remove();
        //     }
        // });
        // window.PubSub.subscribe(CONST.events.modal.IMAGE_POST_SELECTED, (e, data) => {
        //     const $imageBox = $(data.closestCol).find('.file-upload-content');
        //     console.log('$imageBox', $imageBox);
        //     if ($imageBox.length) {
        //         $imageBox.hide();
        //     }
        // });
        initEmojii();
    }
}

/***/ }),
/* 26 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.init = init;

var _consts = __webpack_require__(0);

var _taskStatus = __webpack_require__(5);

function init() {
    if ($('.autocomments-page').length) {
        var path = {
            type: _consts.CONST.url.tmTypes.autocommentsT,
            subtype: _consts.CONST.url.tmTypes.autocommentsSubT[0]
        };
        var wrappers = {
            $runs: $('.tasks-runs'),
            $stopped: $('.tasks-stopped'),
            $all: $('.tasks-all')
        };

        // task-status has one subtype, so do not add dropdown
        // render status dropdown
        // const textRusArray = ['По DEFAULT_AUTO_ANSWER'];
        // dropDown.addDropdown(logsStateStatus.wrapperSubtype, CONST.url.tmTypes.storiesSubT, {logsState: logsStateStatus, dropdownOnSelectCb, textRusArray});

        (0, _taskStatus.getTasksData)(wrappers, path);
        // window.PubSub.subscribe(CONST.events.instagramAccouns.INSTAGRAM_ACCOUNS_RENDERED, (eventName, data) => {
        //     getTasksData(wrappers, path);
        //     console.log('**answer-status', eventName, data);
        // });
        window.PubSub.subscribe(_consts.CONST.events.tasks.NEW_TASK_CREATED, function (eventName, data) {
            (0, _taskStatus.getTasksData)(wrappers, path);
        });
    }
}

/***/ }),
/* 27 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
var tplTextFieldGreet = exports.tplTextFieldGreet = function tplTextFieldGreet(mainCls) {
    return $("<div class=\"" + mainCls + "\">\n        <div class=\"row\">\n            <div class=\"col\">\n                <div>                \n                    <textarea class=\"form-control answer-words\" rows=\"4\" \n                        data-emoji-picker=\"true\" placeholder=\"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u043E\u043E\u0431\u0449\u0435\u043D\u0438\u0435\"></textarea>    \n                </div>\n\n                <!-- file-upload -->\n                <div class=\"file-upload-btn-box\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u0438\u0437\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u0435\">\n                    <button class=\"file-upload-btn btn btn-success\" type=\"button\">\n                        <i class=\"far fa-image fa-lg\"></i>\n                    </button>\n                </div>\n\n                <button type=\"button\" class=\"btn btn-success post-upload-btn js_automessages-add-post\"\n                    title=\"\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u043F\u0443\u0431\u043B\u0438\u043A\u0430\u0446\u0438\u044E\"\n                    data-toggle=\"tooltip\"\n                    data-placement=\"top\"\n                    data-post-info=\"todo: get req to user: \">\n                    <span class=\"js_open-posts-gridModal\"\n                        data-container=\"body\" data-toggle=\"popover\" data-placement=\"bottom\" data-content=\"\u0423 \u0442\u0435\u043A\u0443\u0449\u0435\u0433\u043E \u0430\u043A\u043A\u0430\u0443\u043D\u0442\u0430 \u043D\u0435\u0442 \u043D\u0438 \u043E\u0434\u043D\u043E\u0433\u043E \u043F\u043E\u0441\u0442\u0430\">\n                    <i class=\"far fa-images fa-lg\"></i>\n                    </span>\n                </button>\n                \n                <div class=\"mt-2\">\n                    <div class=\"file-upload\">\n                    \n                      <div class=\"image-upload-wrap\">\n                        <input class=\"file-upload-input\" type=\"file\" accept=\".jpg, .jpeg\">\n                      </div>\n                      <div class=\"file-upload-content\">\n                        <img class=\"file-upload-image\" src=\"#\" alt=\"your image\">\n                        <div class=\"image-title-wrap\">\n                          <button type=\"button\" class=\"remove-image btn btn-warning\">\u0423\u0434\u0430\u043B\u0438\u0442\u044C <span class=\"image-title\">\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044C</span></button>\n                        </div>\n                      </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>");
};

/***/ }),
/* 28 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.init = init;

var _consts = __webpack_require__(0);

var _wizardForm = __webpack_require__(6);

var wizardForm = _interopRequireWildcard(_wizardForm);

var _apiTaskManager = __webpack_require__(2);

var _apiTaskManager2 = _interopRequireDefault(_apiTaskManager);

var _tabs = __webpack_require__(9);

var tabs = _interopRequireWildcard(_tabs);

var _autogreetingStatus = __webpack_require__(29);

var chatBotStatus = _interopRequireWildcard(_autogreetingStatus);

var _logs = __webpack_require__(8);

var logs = _interopRequireWildcard(_logs);

var _emoji = __webpack_require__(15);

var _imageUpload = __webpack_require__(7);

var imageUpload = _interopRequireWildcard(_imageUpload);

var _utilsModal = __webpack_require__(12);

var _addGreetTemplate = __webpack_require__(27);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

var usernameSelected = '';
var selectCls = 'js_logs-accounts';
var speedType = '.js_autogreeting-speed';
var clsConst = {
    currentPageCls: '.autogreeting-page',
    tasksList: '.log-tasks',
    logsTabBtn: '#v-pills-logs-tab',
    pagination: '.logs-pagination',
    paginationPgNumber: '.page-number',
    pathType: _consts.CONST.url.tmTypes.autogreetT,
    pathSubType: _consts.CONST.url.tmTypes.autogreetSubT[0]
};
var elSelector = {
    fields: '.autogreeting-text-fields',
    fileUploadBox: '.file-upload'
};
var state = {
    user_default_config: {
        task_mode: 'SAFE'
    }
};

function onSubmitHandler(e) {
    var fields = $(elSelector.fields);
    var reqBody = [];
    var getAttachment = function getAttachment(item) {
        var imageId = $(item).find(elSelector.fileUploadBox).attr('attached-img-id');
        var $imagePostBox = $(item).find('.js_uploaded-img-from-posts');
        var postItemId = $imagePostBox.data('postId');
        var postItemType = $imagePostBox.data('postType');
        var post = {
            id: postItemId,
            type: postItemType || 'type-error'
        };
        var attachment = null;

        if (postItemId) {
            attachment = { post: post };
        } else if (imageId) {
            attachment = { 'image_id': imageId };
        }
        return attachment;
    };
    fields.each(function (idx, item) {
        var message = $(item).find('textarea.answer-words').val();
        // const imageId = $(item).find(elSelector.fileUploadBox).attr('attached-img-id');
        // const $imagePostBox = $(item).find('.js_uploaded-img-from-posts');
        // const postItemId = $imagePostBox.data('postId');
        // const postItemType = $imagePostBox.data('postType');
        // const post = {
        //     id: postItemId,
        //     type: postItemType || 'type-error'
        // };

        // if (postItemId) {
        //     attachment = {post};
        // } else if (imageId) {
        //     attachment = {'image_id': imageId};
        // }

        var attachmentImg = getAttachment(item);
        reqBody.push({
            'answer': message,
            'attachment': attachmentImg ? attachmentImg : undefined
        });
    });
    var nReqBody = {
        'username': usernameSelected || 'the_rostyslav',
        'type': _consts.CONST.url.tmTypes.autogreetT,
        'subtype': _consts.CONST.url.tmTypes.autogreetSubT[0],
        'user_default_config': {
            'task_mode': state.user_default_config.task_mode // todo
        },
        'user_custom_config': {
            'forms': reqBody
        }
    };
    console.log('make request **', nReqBody);
    function cbError(res) {
        var msg = res.status.message;
        $('.form-submit-finish--error').addClass('d-block').find('.alert').append('<p>' + msg + '</p>');
    }
    _apiTaskManager2.default.postStartTask(nReqBody, cbError).then(function (result) {
        console.log('postBot');
        if (result.status.state === 'ok') {
            console.log(JSON.stringify(result));
            $('.form-submit-finish').find('.alert p').remove();
            $('.form-submit-finish').addClass('d-block').find('.alert').append('<p>task_id: ' + result.data.task_id + '</p>');
        }
    });
}

// function fillListUsers($wrapper, data) {
//     $wrapper.empty().addClass('border-light-color');
//     $(`<div class="">Доступные аккаунты</div><select name="task-type" class="${selectCls}"></select>`).appendTo($wrapper);
//     data.forEach((name) => {
//         $(`<option class="list-group-item py-2" value="${name}">
//             ${name}
//         </option>`).appendTo($(`.${selectCls}`));
//     });
//     $(`.${selectCls}`).on('change', function () {
//         usernameSelected = $(`.${selectCls} option:selected`).val();
//         console.log(usernameSelected);
//         logs.init(selectCls, clsConst);
//     });
// }

var logsState = _consts.CONST.logsState;
function initLogsTab() {
    function OnChangeSelect() {
        var selectCls = logsState.selectCls;

        $('.' + selectCls).on('change', function () {
            usernameSelected = $('.' + selectCls + ' option:selected').val();
            // clsConst.pathSubType = logsState.activeSubType;
            logs.init(selectCls, clsConst);
        });
    }
    // addDropdown($(logsState.wrapperSubtype), logsSubtypes, {logsState, dropdownOnSelectCb});
    tabs.init(OnChangeSelect, logsState); // makes double request : OPTION and GET
}

function initEmojii() {
    (0, _emoji.emoji)({
        page: clsConst.currentPageCls,
        styles: { old: 'bottom: 30px;', new: 'top: -210px;' }
    });
}

function removeExtraTextFields() {
    $(elSelector.fields + ':not(:first-child)').remove();
}

/* TODO: refactor -> move initModalHandler to separate file */
var targetButton = {};

function loadMoreHandler(getPosts) {
    var _this = this;

    $('#load-more').on('click', function (e) {
        var $btn = $(e.target);
        var cursor = $btn.attr('cursor');
        console.log('load more click');
        getPosts(null, { userName: usernameSelected, cursor: cursor }, { loadMoreHandler: _this, targetButton: targetButton });
    });
}

function initModalHandler() {
    $('.js_open-posts-gridModal').on('click', function (event) {
        targetButton = $(this); // Button that triggered the modal
        // Update the modal's content
        var modal = $('#postsGridModal');
        (0, _utilsModal.getPosts)(modal, { userName: usernameSelected }, { loadMoreHandler: loadMoreHandler, targetButton: targetButton });
        modal.find('.modal-title').text('Публикации');
    });
}

/* TODO: refactor -> move initModalHandler to separate file END*/

/**
 * Init header
 */
function initHandlers() {
    // TODO: refactor with autogreet.js initHandlers
    $('.js_add-automessages').on('click', function (e) {
        var lastTextField = $(elSelector.fields).last();
        (0, _addGreetTemplate.tplTextFieldGreet)(elSelector.fields.substr(1)).insertAfter(lastTextField);
        initEmojii();
        imageUpload.init();
        $('[data-toggle="tooltip"]').tooltip(); // reinit
        initModalHandler();
    });

    // alert close
    $('.form-submit-finish .close').on('click', function () {
        console.log('alert close');
        $('#v-pills-all-tab').trigger('click');
        window.PubSub.publish(_consts.CONST.events.tasks.NEW_TASK_CREATED);
        removeExtraTextFields();
    });

    // alert close
    $('.form-submit-finish--error .close').on('click', function () {
        console.log('alert close');
        $('#v-pills-all-tab').trigger('click');
        window.PubSub.publish(_consts.CONST.events.tasks.NEW_TASK_CREATED);
        removeExtraTextFields();
    });

    // tabs.init(fillListUsers);
    initLogsTab();
}

function setUserName(state) {
    // console.log('getTasksData', state.username);
    usernameSelected = state.username;
}

function getDataStepSpeed() {

    // TODO: refactor get from - view.fillRadioGroupList
    var fillSpeedList = function fillSpeedList($wrapper, data) {
        var taskModes = data.cfg && data.cfg.task_modes;
        var radioBtnReducer = function radioBtnReducer(item, val) {
            switch (item) {
                case 'AGGRESSIVE':
                    return '<input type="radio" id="' + item + '" name="customRadio" value="' + item + '" class="custom-control-input">\n                    <label class="custom-control-label" for="' + item + '"><strong>\u0410\u0433\u0440\u0435\u0441\u0441\u0438\u0432\u043D\u044B\u0439:</strong> ' + val + ' \u0441\u043E\u043E\u0431\u0449\u0435\u043D\u0438\u0439 \u0432 \u0447\u0430\u0441</label>';
                case 'MIDDLE':
                    return '<input type="radio" id="' + item + '" name="customRadio" value="' + item + '" class="custom-control-input">\n                    <label class="custom-control-label" for="' + item + '"><strong>\u0421\u0440\u0435\u0434\u043D\u0438\u0439:</strong> ' + val + ' \u0441\u043E\u043E\u0431\u0449\u0435\u043D\u0438\u0439 \u0432 \u0447\u0430\u0441</label>';
                case 'SAFE':
                    return '<input type="radio" id="' + item + '" name="customRadio" value="' + item + '" class="custom-control-input" checked>\n                    <label class="custom-control-label" for="' + item + '"><strong>\u0411\u0435\u0437\u043E\u043F\u0430\u0441\u043D\u044B\u0439:</strong> ' + val + ' \u0441\u043E\u043E\u0431\u0449\u0435\u043D\u0438\u0439 \u0432 \u0447\u0430\u0441</label>';
                default:
                    break;
            }
        };
        // console.log('draw speed radioBtn');
        $wrapper.empty();
        for (var item in taskModes) {
            // console.log('structure: ' + item);
            if (Object.prototype.hasOwnProperty.call(taskModes, item)) {
                $('<div class="custom-control custom-radio">\n                ' + radioBtnReducer(item, taskModes[item]) + '\n            </div>').appendTo($wrapper);
            }
        }
    };
    var path = {
        type: clsConst.pathType,
        subtype: clsConst.pathSubType
    };
    // draw criteria
    _apiTaskManager2.default.getDefaultConfigs(path).then(function (result) {
        // console.log('getDefaultConfigs');
        if (result.status.state === 'ok') {
            fillSpeedList($(speedType), result.data.found);
            // speed radio-btn group
            $(speedType + ' input[type=radio]').on('click', function (e) {
                var value = $(e.target).attr('value');
                state.user_default_config.task_mode = value.toUpperCase();
                console.log(state);
            });
        }
    });
}

function stepReducer(stepNumber, state) {
    switch (stepNumber) {
        case 0:
            setUserName(state);
            getDataStepSpeed();
            console.log(state, stepNumber);
            break;
        case 1:
            // console.log(state, stepNumber);
            break;
        default:
            console.log('default', stepNumber);
    }
}

function init() {
    if ($(clsConst.currentPageCls).length) {
        var wizardCfg = {
            stepReducer: stepReducer,
            onSubmitHandler: onSubmitHandler
        };
        wizardForm.init(wizardCfg);
        initHandlers();
        chatBotStatus.init(clsConst);
        window.PubSub.subscribe(_consts.CONST.events.instagramAccouns.INSTAGRAM_ACCOUNS_RENDERED_LAZY, function (e, accounts) {
            // console.log(accounts);
            logs.init(selectCls, clsConst);
        });

        initModalHandler();
        initEmojii();
        // imageUpload.init();
        window.PubSub.subscribe(_consts.CONST.events.autoarnswer.IMAGE_UPLOADED, function (e, res) {
            var response = res.response;

            var result = response.length ? JSON.parse(response) : '';
            var imageId = result && result.data && result.data.image_id;
            $(res.el).closest('.file-upload').attr('attached-img-id', imageId);
            console.log('image_loaded', res);

            // todo: make as callBack
            var $imageBox = $(res.el).closest('.col').find('.js_uploaded-img-from-posts');
            if ($imageBox.length) {
                $imageBox.remove();
            }
        });
        window.PubSub.subscribe(_consts.CONST.events.modal.IMAGE_POST_SELECTED, function (e, data) {
            var $imageBox = $(data.closestCol).find('.file-upload-content');
            console.log('$imageBox', $imageBox);
            if ($imageBox.length) {
                $imageBox.hide();
            }
        });
    }
}

/***/ }),
/* 29 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.init = init;

var _consts = __webpack_require__(0);

var _taskStatus = __webpack_require__(5);

function init(cfg) {
    if ($(cfg.currentPageCls).length) {
        var pathType = cfg.pathType,
            pathSubType = cfg.pathSubType;

        var path = {
            type: pathType,
            subtype: pathSubType };
        var wrappers = {
            $runs: $('.tasks-runs'),
            $all: $('.tasks-all')
        };
        (0, _taskStatus.getTasksData)(wrappers, path);
        window.PubSub.subscribe(_consts.CONST.events.tasks.NEW_TASK_CREATED, function (eventName, data) {
            console.log('getTasksData **NEW_TASK_CREATED**', eventName, data);
            (0, _taskStatus.getTasksData)(wrappers, path);
        });
    }
}

/***/ }),
/* 30 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
var tplTextField = exports.tplTextField = function tplTextField(mainCls) {
    return $("<div class=\"" + mainCls + " mt-2\">\n    <div class=\"row\">\n        <div class=\"col\">\n            <div class=\"js_tagsinput-box\">\n                <input type=\"text\" placeholder=\"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043A\u043B\u044E\u0447\u0435\u0432\u044B\u0435 \u0441\u043B\u043E\u0432\u0430\" value=\"\" data-role=\"tagsinput\" class=\"form-control answer-words mb-2\" />\n            </div>\n            <div class=\"js_tagsinput-box blacklist-box my-2\">\n                <input type=\"text\" placeholder=\"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043C\u0438\u043D\u0443\u0441 \u0441\u043B\u043E\u0432\u0430\" value=\"\" data-role=\"tagsinput\" class=\"form-control blacklist-words\" />\n            </div>\n        </div>\n        <div class=\"col\">\n            <textarea class=\"form-control answer-messages\" rows=\"4\"\n                data-emoji-picker=\"true\" style=\"padding: 0.25rem 1.75rem 0.25rem 0.25rem; width: 100%;min-height: 42px;\"\n                placeholder=\"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u043E\u043E\u0431\u0449\u0435\u043D\u0438\u0435\"\n            ></textarea>\n            <!-- file-upload -->\n            <div class=\"file-upload-btn-box\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u0438\u0437\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u0435\">\n                <button class=\"file-upload-btn btn btn-success\" type=\"button\">\n                    <i class=\"far fa-image fa-lg\"></i>\n                </button>\n            </div>\n            <!-- Button trigger modal -->\n            <button type=\"button\" class=\"btn btn-success post-upload-btn js_automessages-add-post\"\n                title=\"\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u043F\u0443\u0431\u043B\u0438\u043A\u0430\u0446\u0438\u044E\"\n                data-toggle=\"tooltip\"\n                data-placement=\"top\"\n                data-post-info=\"todo: get req to user: \">\n                <span class=\"js_open-posts-gridModal\"\n                    data-container=\"body\" data-toggle=\"popover\" data-placement=\"bottom\" data-content=\"\u0423 \u0442\u0435\u043A\u0443\u0449\u0435\u0433\u043E \u0430\u043A\u043A\u0430\u0443\u043D\u0442\u0430 \u043D\u0435\u0442 \u043D\u0438 \u043E\u0434\u043D\u043E\u0433\u043E \u043F\u043E\u0441\u0442\u0430\">\n                <i class=\"far fa-images fa-lg\"></i>\n                </span>\n            </button>\n\n            <div class=\"mt-2\">\n                <div class=\"file-upload\">\n                    <div class=\"image-upload-wrap\">\n                        <input class=\"file-upload-input\" type='file' accept=\".jpg, .jpeg\" />\n                    </div>\n                    <div class=\"file-upload-content\">\n                        <img class=\"file-upload-image\" src=\"#\" alt=\"your image\" />\n                        <div class=\"image-title-wrap\">\n                        <button type=\"button\" class=\"remove-image btn btn-warning\">\u0423\u0434\u0430\u043B\u0438\u0442\u044C <span class=\"image-title\">\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044C</span></button>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>");
};

/***/ }),
/* 31 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

exports.init = init;

var _consts = __webpack_require__(0);

var _wizardForm = __webpack_require__(6);

var wizardForm = _interopRequireWildcard(_wizardForm);

var _view = __webpack_require__(1);

var _view2 = _interopRequireDefault(_view);

var _apiTaskManager = __webpack_require__(2);

var _apiTaskManager2 = _interopRequireDefault(_apiTaskManager);

var _tabs = __webpack_require__(9);

var tabs = _interopRequireWildcard(_tabs);

var _automessagesStatus = __webpack_require__(32);

var automessagesStatus = _interopRequireWildcard(_automessagesStatus);

var _logs = __webpack_require__(8);

var logs = _interopRequireWildcard(_logs);

var _imageUpload = __webpack_require__(7);

var imageUpload = _interopRequireWildcard(_imageUpload);

var _emoji = __webpack_require__(15);

var _utilsModal = __webpack_require__(12);

var _addAnswerTemplate = __webpack_require__(30);

var _tagsInput = __webpack_require__(10);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

var getValByCommaSeparator = _view2.default.getValByCommaSeparator;

var usernameSelected = '';
var selectCls = 'js_logs-accounts';
var clsConst = {
    currentPageCls: '.automessages-page',
    tasksList: '.log-tasks',
    logsTabBtn: '#v-pills-logs-tab',
    pagination: '.logs-pagination',
    paginationPgNumber: '.page-number',
    pathType: _consts.CONST.url.tmTypes.automessagesT,
    pathSubType: _consts.CONST.url.tmTypes.automessagesSubT[0]
};
var elSelector = {
    fields: '.automessages-text-fields',
    keyWord: 'input.answer-words',
    answer: 'textarea.answer-messages',
    fileUploadBox: '.file-upload',
    addPostBtns: '.js_automessages-add-post'
};
var logsState = {
    selectCls: 'js_logs-accounts',
    selectClsLogsTaskType: 'js_logs-subtypes',
    wrapperSubtype: '.log-subype'
};

function initEmojii() {
    (0, _emoji.emoji)({
        page: clsConst.currentPageCls,
        styles: { old: 'bottom: 30px;', new: 'top: -210px;' }
    });
}

function validateIsEmpty($elements, e) {
    $elements.each(function () {
        if ($(this).val() === '') {
            e.preventDefault();
            $(this).addClass('input-error');
            // validation = false;
            return;
        } else {
            $(this).removeClass('input-error');
        }
    });
}

function onSubmitHandler(e) {
    var fields = $(elSelector.fields);
    var reqBody = [];
    var validation = true;
    var $elementsKeyWord = fields.find(elSelector.keyWord);
    var $elementsAnswer = fields.find(elSelector.answer);

    validateIsEmpty($elementsKeyWord, e);
    validateIsEmpty($elementsAnswer, e);

    fields.each(function (idx, item) {
        var keyWord = getValByCommaSeparator($(item).find(elSelector.keyWord));
        var answer = $(item).find(elSelector.answer).val();
        var imageId = $(item).find(elSelector.fileUploadBox).attr('attached-img-id');
        var $imagePostBox = $(item).find('.js_uploaded-img-from-posts');
        var postItemId = $imagePostBox.data('postId');
        var postItemType = $imagePostBox.data('postType');
        var blacklistWords = $(item).find('input.blacklist-words');
        var blacklistWordsArr = getValByCommaSeparator(blacklistWords);

        if (!keyWord.length || !answer.length) {
            // console.log('keyWord is empty, not push me to request');
            $(item).append('\n                <p class="msg-empty-field text-danger">\u041F\u0443\u0441\u0442\u043E\u0435 \u043F\u043E\u043B\u0435 \u043D\u0435 \u0432\u0430\u043B\u0438\u0434\u043D\u043E</p>\n            ');
            setTimeout(function () {
                $('.msg-empty-field').addClass('d-none');
            }, 5000);
            validation = false;
            return;
        }
        var submitBodyItem = {
            'key_words': keyWord,
            answer: answer,
            blacklist: blacklistWordsArr,
            'attachment': imageId ? {
                'image_id': imageId
            } : undefined
        };

        if (postItemId) {
            submitBodyItem.attachment = _extends({}, submitBodyItem.attachment, {
                post: {
                    id: postItemId,
                    type: postItemType || 'type-error'
                }
            });
        }
        reqBody.push(submitBodyItem);
    });
    if (!validation) {
        // console.log('**alarm **', elSelector.keyWord);
        return;
    }

    var nReqBody = {
        'username': usernameSelected,
        'type': clsConst.pathType,
        'subtype': clsConst.pathSubType,
        'user_default_config': {},
        'user_custom_config': {
            'forms': reqBody
        }
    };

    // console.log('make request here**', nReqBody);
    function cbError(res) {
        var msg = res.status.message;
        $('.form-submit-finish--error').addClass('d-block').find('.alert').append('<p>' + msg + '</p>');
    }
    _apiTaskManager2.default.postStartTask(nReqBody, cbError).then(function (result) {
        if (result.status.state === 'ok') {
            $('.form-submit-finish').find('.alert p').remove();
            $('.form-submit-finish').addClass('d-block').find('.alert').append('<p>task_id: ' + result.data.task_id + '</p>');
        }
    });
}

function initLogsTab() {
    function OnChangeSelect() {
        var selectCls = logsState.selectCls;

        $('.' + selectCls).on('change', function () {
            usernameSelected = $('.' + selectCls + ' option:selected').val();
            // clsConst.pathSubType = logsState.activeSubType;
            logs.init(selectCls, clsConst);
        });
    }
    // addDropdown($(logsState.wrapperSubtype), logsSubtypes, {logsState, dropdownOnSelectCb});
    tabs.init(OnChangeSelect, logsState); // makes double request : OPTION and GET
}

function removeExtraTextFields(e) {
    $(elSelector.fields + ':not(:first-child)').removeClass('d-block');
    e.stopPropagation();
}

/* TODO: refactor -> move initModalHandler to separate file, remove initModalHandler in autogreeting-main.js */
var targetButton = {};

function loadMoreHandler(getPosts) {
    var _this = this;

    $('#load-more').off().on('click', function (e) {
        var $btn = $(e.target);
        var cursor = $btn.attr('cursor');
        console.log('load more click');
        getPosts(null, { userName: usernameSelected, cursor: cursor }, { loadMoreHandler: _this, targetButton: targetButton });
    });
}

function initModalHandler() {

    $('.js_open-posts-gridModal').on('click', function (event) {
        targetButton = $(this); // Button that triggered the modal
        // Update the modal's content
        var modal = $('#postsGridModal');
        (0, _utilsModal.getPosts)(modal, { userName: usernameSelected }, { loadMoreHandler: loadMoreHandler, targetButton: targetButton });
        modal.find('.modal-title').text('Публикации');
    });
}

/* TODO: refactor -> move initModalHandler to separate file END */

/**
 * Init Handlers
 */
function initHandlers() {
    var $competitorsInput = $('.automessages-text-fields input.answer-words[data-role="tagsinput"]');
    var $blackListInput = $('.automessages-text-fields input.blacklist-words[data-role="tagsinput"]');
    var nextStepBtn = $('form button[type="submit"]');
    (0, _tagsInput.nextBtnvalidateCompetitorsHandler)($competitorsInput, nextStepBtn, 'ignoreRegexCheck');
    (0, _tagsInput.nextBtnvalidateCompetitorsHandler)($blackListInput, null, 'ignoreRegexCheck');

    // TODO: refactor with autogreet.js initHandlers
    // $('[data-toggle="popover"]').popover(); // init
    $('.js_add-automessages').on('click', function (e) {
        var lastTextField = $(elSelector.fields).last();
        (0, _addAnswerTemplate.tplTextField)(elSelector.fields.substr(1)).insertAfter(lastTextField);
        initEmojii();
        imageUpload.init();
        // $('[data-toggle="popover"]').popover(); // reinit
        $('[data-toggle="tooltip"]').tooltip(); // reinit
        initModalHandler();

        // const $input = $('input[data-role="tagsinput"]', lastTextField);
        // initTagsInput();
        // nextBtnvalidateCompetitorsHandler($input, nextStepBtn);

        var lastTextFieldAfterInsert = $(elSelector.fields).last();
        var $inputAnswerWords = $('input.answer-words[data-role="tagsinput"]', lastTextFieldAfterInsert);
        var $blackListInput = $('input.blacklist-words[data-role="tagsinput"]', lastTextFieldAfterInsert);

        (0, _tagsInput.initTagsInput)($inputAnswerWords); // reinit answer-words
        (0, _tagsInput.initTagsInput)($blackListInput); // reinit blacklist-words
        (0, _tagsInput.nextBtnvalidateCompetitorsHandler)($inputAnswerWords, nextStepBtn, 'ignoreRegexCheck');
        (0, _tagsInput.nextBtnvalidateCompetitorsHandler)($blackListInput, null, 'ignoreRegexCheck');
    });

    // alert success close
    $('.form-submit-finish .close').on('click', function (e) {
        // console.log('alert close');
        $('#v-pills-all-tab').trigger('click');
        window.PubSub.publish(_consts.CONST.events.tasks.NEW_TASK_CREATED);
        // removeExtraTextFields(e);
    });

    // alert close
    $('.form-submit-finish--error .close').on('click', function () {
        // console.log('alert close');
        $('#v-pills-all-tab').trigger('click');
        window.PubSub.publish(_consts.CONST.events.tasks.NEW_TASK_CREATED);
        removeExtraTextFields();
    });

    // tabs.init(fillListUsers);
    initLogsTab();
}

function setUserName(state) {
    // console.log('getTasksData', state.username);
    usernameSelected = state.username;
}

function stepReducer(stepNumber, state) {
    switch (stepNumber) {
        case 0:
            setUserName(state);
            // console.log(state, stepNumber);
            break;
        default:
            console.log('default', stepNumber);
    }
}

function init() {
    if ($(clsConst.currentPageCls).length) {
        var wizardCfg = {
            stepReducer: stepReducer,
            onSubmitHandler: onSubmitHandler
        };
        wizardForm.init(wizardCfg);
        initHandlers();
        automessagesStatus.init();
        initModalHandler();
        initEmojii();
        imageUpload.init();
        // initTagsInput();

        window.PubSub.subscribe(_consts.CONST.events.instagramAccouns.INSTAGRAM_ACCOUNS_RENDERED_LAZY, function (e, accounts) {
            logs.init(selectCls, clsConst);
        });
        window.PubSub.subscribe(_consts.CONST.events.autoarnswer.IMAGE_UPLOADED, function (e, res) {
            var response = res.response;

            var result = response.length ? JSON.parse(response) : '';
            var imageId = result && result.data && result.data.image_id;
            $(res.el).closest('.file-upload').attr('attached-img-id', imageId);
            console.log('image_loaded', res);

            // todo: make as callBack
            var $imageBox = $(res.el).closest('.col').find('.js_uploaded-img-from-posts');
            if ($imageBox.length) {
                $imageBox.remove();
            }
        });
        window.PubSub.subscribe(_consts.CONST.events.modal.IMAGE_POST_SELECTED, function (e, data) {
            var $imageBox = $(data.closestCol).find('.file-upload-content');
            console.log('$imageBox', $imageBox);
            if ($imageBox.length) {
                $imageBox.hide();
            }
        });
    }
}

/***/ }),
/* 32 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.init = init;

var _consts = __webpack_require__(0);

var _taskStatus = __webpack_require__(5);

function init() {
    if ($('.automessages-page').length) {
        var path = {
            type: _consts.CONST.url.tmTypes.automessagesT,
            subtype: _consts.CONST.url.tmTypes.automessagesSubT[0]
        };
        var wrappers = {
            $runs: $('.tasks-runs'),
            $stopped: $('.tasks-stopped'),
            $all: $('.tasks-all')
        };

        // task-status has one subtype, so do not add dropdown
        // render status dropdown
        // const textRusArray = ['По DEFAULT_AUTO_ANSWER'];
        // dropDown.addDropdown(logsStateStatus.wrapperSubtype, CONST.url.tmTypes.storiesSubT, {logsState: logsStateStatus, dropdownOnSelectCb, textRusArray});

        (0, _taskStatus.getTasksData)(wrappers, path);
        // window.PubSub.subscribe(CONST.events.instagramAccouns.INSTAGRAM_ACCOUNS_RENDERED, (eventName, data) => {
        //     getTasksData(wrappers, path);
        //     console.log('**answer-status', eventName, data);
        // });
        window.PubSub.subscribe(_consts.CONST.events.tasks.NEW_TASK_CREATED, function (eventName, data) {
            (0, _taskStatus.getTasksData)(wrappers, path);
        });
    }
}

/***/ }),
/* 33 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.init = init;

var _consts = __webpack_require__(0);

var _wizardForm = __webpack_require__(6);

var wizardForm = _interopRequireWildcard(_wizardForm);

var _apiTaskManager = __webpack_require__(2);

var _apiTaskManager2 = _interopRequireDefault(_apiTaskManager);

var _tabs = __webpack_require__(9);

var tabs = _interopRequireWildcard(_tabs);

var _chatBotStatus = __webpack_require__(34);

var chatBotStatus = _interopRequireWildcard(_chatBotStatus);

var _logs = __webpack_require__(8);

var chatBotLogs = _interopRequireWildcard(_logs);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

var usernameSelected = '';
// import User from '../../common/js-services/user';

var selectCls = 'js_logs-accounts';
var clsConst = {
    currentPageCls: '.bot-page',
    tasksList: '.log-tasks',
    logsTabBtn: '#v-pills-logs-tab',
    pagination: '.logs-pagination',
    paginationPgNumber: '.page-number',
    pathType: _consts.CONST.url.tmTypes.chatBotT,
    pathSubType: _consts.CONST.url.tmTypes.chatBotSubT[0]
};

function onSubmitHandler(e) {
    var fields = $('.bot-text-fields');
    var keyWords = function keyWords($el) {
        return $el.val().trim().replace(/ /g, '').split(',').filter(function (i) {
            return i.length > 0;
        });
    };
    var reqBody = [];
    fields.each(function (idx, item) {
        var keyWord = keyWords($(item).find('textarea.answer-words'));
        var answer = $(item).find('textarea.answer-messages').val();
        reqBody.push({ 'key_words': keyWord, answer: answer });
    });
    var nReqBody = {
        'username': usernameSelected,
        'type': clsConst.pathType,
        'subtype': clsConst.pathSubType,
        'user_default_config': {},
        'user_custom_config': {
            'forms': reqBody
        }
    };

    // console.log('make request here**', nReqBody);
    function cbError(res) {
        var msg = res.status.message;
        $('.form-submit-finish--error').addClass('d-block').find('.alert').append('<p>' + msg + '</p>');
    }
    _apiTaskManager2.default.postStartTask(nReqBody, cbError).then(function (result) {
        // console.log('postBot');
        if (result.status.state === 'ok') {
            // console.log(JSON.stringify(result));
            $('.form-submit-finish').find('.alert p').remove();
            $('.form-submit-finish').addClass('d-block').find('.alert').append('<p>task_id: ' + result.data.task_id + '</p>');
        }
    });
}

function fillListUsers($wrapper, accounts) {
    $wrapper.empty().addClass('border-light-color');
    $('<div class="">\u0414\u043E\u0441\u0442\u0443\u043F\u043D\u044B\u0435 \u0430\u043A\u043A\u0430\u0443\u043D\u0442\u044B</div><select name="task-type" class="' + selectCls + '"></select>').appendTo($wrapper);
    accounts.forEach(function (name) {
        $('<option class="list-group-item py-2" value="' + name + '">\n            ' + name + '\n        </option>').appendTo($('.' + selectCls));
    });
    $('.' + selectCls).on('change', function () {
        usernameSelected = $('.' + selectCls + ' option:selected').val();
        // console.log(usernameSelected);
        chatBotLogs.init(selectCls, clsConst);
    });
}

// function getMetaLazy($wrapper, cbFillListUsers) {
//     User.getMetadataLazy().then((res) => {
//         if (res.status.state === 'ok' && res.data && res.data.accounts) {
//             cbFillListUsers($wrapper, res.data.accounts);
//             chatBotLogs.init(selectCls, clsConst);
//         }
//     });
// }

/**
 * Init header
 */
function initHandlers() {
    var tplTextField = function tplTextField() {
        return $('<div class="bot-text-fields mt-2">\n        <div class="row">\n            <div class="col">\n                <textarea class="form-control answer-words" rows="4" placeholder="\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043A\u043B\u044E\u0447\u0435\u0432\u044B\u0435 \u0441\u043B\u043E\u0432\u0430 \u0438\u043B\u0438 \u0444\u0440\u0430\u0437\u044B \u0447\u0435\u0440\u0435\u0437 \u0437\u0430\u043F\u044F\u0442\u0443\u044E, \u043F\u0440\u0438 \u043A\u043E\u0442\u043E\u0440\u044B\u0445 \u0431\u0443\u0434\u0435\u0442 \u0441\u0440\u0430\u0431\u0430\u0442\u044B\u0432\u0430\u0442\u044C \u0447\u0430\u0442-\u0431\u043E\u0442"></textarea>\n            </div>\n            <div class="col">\n                <textarea class="form-control answer-messages" rows="4" placeholder="\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u043E\u043E\u0431\u0449\u0435\u043D\u0438\u0435, \u043A\u043E\u0442\u043E\u0440\u043E\u0435 \u0431\u0443\u0434\u0435\u0442 \u043E\u0442\u043F\u0440\u0430\u0432\u043B\u044F\u0442\u044C\u0441\u044F, \u0435\u0441\u043B\u0438 \u043F\u0440\u0438\u0441\u0443\u0442\u0441\u0442\u0432\u043E\u0432\u0430\u043B\u0438 \u043A\u043B\u044E\u0447.\u0441\u043B\u043E\u0432\u0430 \u0438\u043B\u0438 \u0444\u0440\u0430\u0437\u044B \u0438\u0437 \u0441\u0442\u043E\u043B\u0431\u0446\u0430 \u0441\u043B\u0435\u0432\u0430"></textarea>\n            </div>\n        </div>\n    </div>');
    };

    $('.js_add-bot').on('click', function (e) {
        var lastTextField = $('.bot-text-fields').last();
        tplTextField().insertAfter(lastTextField);
    });

    // alert close
    $('.form-submit-finish .close').on('click', function () {
        // console.log('alert close');
        $('#v-pills-all-tab').trigger('click');
        window.PubSub.publish(_consts.CONST.events.tasks.NEW_TASK_CREATED);
    });

    // alert close
    $('.form-submit-finish--error .close').on('click', function () {
        // console.log('alert close');
        $('#v-pills-all-tab').trigger('click');
        window.PubSub.publish(_consts.CONST.events.tasks.NEW_TASK_CREATED);
    });

    /*
    $('#v-pills-logs-tab').on('click', (e) => {
        // at this point of time setInterval is working
        const $wrapper = $('.log-users-list');
        getMetaLazy($wrapper, fillListUsers);
        // chatBotLogs.init(selectCls, clsConst);
    });
    */
    tabs.init(fillListUsers);
}

function setUserName(state) {
    // console.log('getTasksData', state.username);
    usernameSelected = state.username;
}

function stepReducer(stepNumber, state) {
    switch (stepNumber) {
        case 0:
            setUserName(state);
            // console.log(state, stepNumber);
            break;
        default:
            console.log('default', stepNumber);
    }
}

function init() {
    if ($('.bot-page').length) {
        var wizardCfg = {
            stepReducer: stepReducer,
            onSubmitHandler: onSubmitHandler
        };
        wizardForm.init(wizardCfg);
        initHandlers();
        chatBotStatus.init();
        window.PubSub.subscribe(_consts.CONST.events.instagramAccouns.INSTAGRAM_ACCOUNS_RENDERED_LAZY, function (e, accounts) {
            // console.log(accounts);
            chatBotLogs.init(selectCls, clsConst);
        });
    }
}

/***/ }),
/* 34 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.init = init;

var _consts = __webpack_require__(0);

var _taskStatus = __webpack_require__(5);

function init() {
    if ($('.bot-page').length) {
        var path = {
            type: _consts.CONST.url.tmTypes.chatBotT,
            subtype: _consts.CONST.url.tmTypes.chatBotSubT[0]
        };
        var wrappers = {
            $runs: $('.tasks-runs'),
            $stopped: $('.tasks-stopped')
        };
        (0, _taskStatus.getTasksData)(wrappers, path);
        // window.PubSub.subscribe(CONST.events.instagramAccouns.INSTAGRAM_ACCOUNS_RENDERED, (eventName, data) => {
        //     getTasksData(wrappers, path);
        //     console.log('**answer-status', eventName, data);
        // });
        window.PubSub.subscribe(_consts.CONST.events.tasks.NEW_TASK_CREATED, function (eventName, data) {
            (0, _taskStatus.getTasksData)(wrappers, path);
        });
    }
}

/***/ }),
/* 35 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.confirmationWithRedirect = confirmationWithRedirect;

var _user = __webpack_require__(3);

var _user2 = _interopRequireDefault(_user);

var _consts = __webpack_require__(0);

var _cookie = __webpack_require__(4);

var _cookie2 = _interopRequireDefault(_cookie);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var parseQueryString = function parseQueryString() {

    var str = window.location.search;
    var objURL = {};

    str.replace(new RegExp('([^?=&]+)(=([^&]*))?', 'g'), function ($0, $1, $2) {
        objURL[$1] = $2;
    });
    return objURL;
}; /* eslint-disable sort-vars */
// import $ from 'jquery';
function confirmationWithRedirect() {
    var user = _user2.default;
    var params = parseQueryString();
    // Example how to use it:

    var sendConfirm = function sendConfirm(token) {
        user.confirm(token).then(function (result) {
            if (result.status && result.status.state === 'ok') {

                // save the item
                _cookie2.default.set(_consts.CONST.cookieStorage.emailConfirmed, 'confirmed');
                _cookie2.default.set(_consts.CONST.cookieStorage.token, result.data.token);

                // window.location = confirm-registration.html?token='from server';

                // retrieve the object in a string form
                var customersDataString = sessionStorage.getItem('customersData');
                console.log(customersDataString);
                console.log('request succeeded with JSON response', result);
                $('.confirm-registration').append('<p>confirmation status: ' + result.status.state + '</p>');
                setTimeout(function () {
                    window.location = './profile.html';
                }, 1000);
            } else if (result.status) {
                console.log(result);
            } else {
                console.log(result);
            }
        });
    };

    var redirect = function redirect() {
        // eslint-disable-next-line dot-notation
        var token = params['token'];

        if (!location.pathname.indexOf('confirm-registration')) {
            return;
        }
        if (token) {
            console.log('send req to ', token);
            sendConfirm(token);
        }
    };

    function init() {
        redirect();
    }

    return {
        init: init
    };
}

/***/ }),
/* 36 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; // import * as followStatus from './follow-status';


exports.modifyAccList = modifyAccList;
exports.init = init;

var _taskStatusBySubtype = __webpack_require__(19);

var followStatusBySubtype = _interopRequireWildcard(_taskStatusBySubtype);

var _consts = __webpack_require__(0);

var _apiTaskManager = __webpack_require__(2);

var _apiTaskManager2 = _interopRequireDefault(_apiTaskManager);

var _view = __webpack_require__(1);

var _view2 = _interopRequireDefault(_view);

var _followReadFileTxt = __webpack_require__(14);

__webpack_require__(52);

var _logsTabs = __webpack_require__(13);

var _tagsInput = __webpack_require__(10);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

var state = {
    username: '',
    subtype: _consts.CONST.url.tmTypes.followingSubT[0], // default value
    user_default_config: {
        task_mode: 'SAFE'
    }
};

function fillListMeta($list, dataArray) {
    var items = dataArray;
    // const defaultAvatarSrc = CONST.user.defaulAvatar;
    $list.empty().addClass('border-light-color');
    $('<li class="list-group-item py-2"><h3>UserTaskManager</h3></li>').appendTo($list);
    items.forEach(function (item) {
        // const info = item.info;
        // const checkpoint = item.checkpoint || item;
        $('<li class="list-group-item py-2" data-username="' + item.type + '">\n                <div class="media-body d-flex">\n                    <div class="col task-type">\n                        ' + (item.task_id ? '<p class="mt-0 mb-1 name">' + item.task_id + '</p>' : '') + '\n                    </div>\n                    <div class="col task-subtype">\n                        ' + (item.subtype ? '<p class="mt-0 mb-1 name">' + item.subtype + '</p>' : '') + '\n                    </div>\n                    <div class="col task-progress">\n                        ' + (item.status.state === 'STOPPED' ? '<p class="mt-0 mb-1 name">\u041E\u0441\u0442\u0430\u043D\u043E\u0432\u043B\u0435\u043D\u043E - ' + item.status.reason + '</p>' : '') + '\n                    </div>\n                    <!--<div class="col task-progress">\n                        ' + (item.progress ? '<p class="mt-0 mb-1 name">\u041A\u043E\u043B\u0438\u0447\u0435\u0441\u0442\u0432\u043E - ' + item.progress.count + '</p>\n                                <p class="mt-0 mb-1 name">\u041F\u0440\u043E\u0446\u0435\u043D\u0442 - ' + item.progress.percent + '</p>' : '') + '\n                    </div>-->\n                </div>\n            </li>').appendTo($list);
    });
}

/*
function fillListTypes($wrapper, data) {
    const structureObj = data['structure'];

    $wrapper.empty().addClass('border-light-color');
    $('<div class="">Тип задания</div><select name="task-type" id="task-types"></select>').appendTo($wrapper);
    for (const type in structureObj) {
        // console.log('structure: ' + item);
        if (Object.prototype.hasOwnProperty.call(structureObj, type)) {
            $(`<option class="list-group-item py-2" ${(type !== 'FOLLOWING') ? 'disabled="disabled"' : ''}
                value = "${JSON.stringify({type, subtype: structureObj[type]})}">
                ${type}
            </option>`).appendTo($('#task-types'));
        }
    }
}
*/

function getTasksData(path) {
    _apiTaskManager2.default.getMetadata(path).then(function (result) {
        if (result.status.state === 'ok') {
            fillListMeta($('.follow-tasks-list'), result.data.meta);
        }
    });
}

function getDataStep2() {
    var path = {
        type: _consts.CONST.url.tmTypes.followingT,
        subtype: state.subtype || _consts.CONST.url.tmTypes.followingSubT[0]
    };
    getTasksData(path);
}

function getDataStepSpeed(stepNumber) {
    var fillSpeedList = _view2.default.fillRadioGroupList;
    var path = {
        type: _consts.CONST.url.tmTypes.followingT,
        subtype: state.subtype || _consts.CONST.url.tmTypes.followingSubT[0]
    };
    function toggleAddTextBtn(subtype) {
        if (path.subtype === 'FOLLOWING_BY_LIST') {
            // show txt fileUpload
            $('.add-file').addClass('d-block');
            $('.add-competitors').addClass('d-none').removeClass('d-block');
            var nextStep = $('.js_add-new-task fieldset').get(stepNumber + 1);
            $(nextStep).find('.btn-next').attr('disabled', 'disabled');
            // console.log(nextStepProceedBtn);
        } else {
            // show competitors
            $('.add-competitors').addClass('d-block');
            $('.add-file').addClass('d-none').removeClass('d-block');
            var _nextStep = $('.js_add-new-task fieldset').get(stepNumber + 1);
            $(_nextStep).find('.btn-next').removeAttr('disabled');
        }
    }
    console.log('path.subtype', path.subtype);

    toggleAddTextBtn(path.subtype);

    // draw criteria
    _apiTaskManager2.default.getDefaultConfigs(path).then(function (result) {
        console.log('getDefaultConfigs');
        if (result.status.state === 'ok') {
            var task_modes = result.data.found.cfg.task_modes;


            fillSpeedList($('.js_follow-speed'), task_modes);
            $('.js_follow-speed input[type=radio]').on('click', function () {
                var value = $(this).attr('value');
                state.user_default_config = {
                    task_mode: value.toUpperCase()
                };
            });
        }
    });
}
function setCompetitors() {
    var competitors = _view2.default.getValByCommaSeparator($('.follow-form').find('#followers'));

    state['user_custom_config'] = {
        competitors: competitors
    };
}

function stepReducer(stepNumber) {
    var $competitorsTextArea = $('.js_follow-competitors');
    var nextStepBtn = $competitorsTextArea.closest('.add-competitors').find('.btn-next');
    switch (stepNumber) {
        case 0:
            getDataStep2(state.username);
            // console.log(state);
            break;
        case 1:
            getDataStepSpeed(stepNumber);
            (0, _tagsInput.nextBtnvalidateCompetitorsHandler)($competitorsTextArea, nextStepBtn);
            break;
        case 2:
            setCompetitors();
            break;
        default:
            console.log('default', stepNumber);
    }
}

function cbError(res) {
    var msg = res.status.message;
    $('.form-submit-finish--error').addClass('d-block').find('.alert').append('<p>' + msg + '</p>');
}

/**
 * Init header
 */
function initSteps(formSelector) {
    var $form = $(formSelector);
    $('.js_profile-user-follow>.container').removeClass('container');

    (0, _followReadFileTxt.attachTxtFileHandler)('.file-upload-container');

    $form.find('fieldset:first-child').fadeIn('slow');

    $form.find('input[type="text"]').on('focus', function () {
        $(this).removeClass('input-error');
    });

    // next step
    $form.find('.btn-next').on('click', function () {
        var parent_fieldset = $(this).parents('fieldset');
        var next_step = true;
        var radioBtnActive = parent_fieldset.find('input[name="userAccountRadio"]:checked');

        if (radioBtnActive.length > 0) {
            state.username = radioBtnActive.parents('li').data('username');
        }
        stepReducer(parent_fieldset.index(), state);

        parent_fieldset.find('input[type="text"],input[type="email"]').each(function () {
            if ($(this).val() === '') {
                $(this).addClass('input-error');
                next_step = false;
            } else {
                $(this).removeClass('input-error');
            }
            if ($(this).parent().hasClass('bootstrap-tagsinput')) {
                next_step = true;
            }
        });

        if (next_step) {
            parent_fieldset.fadeOut(400, function () {
                $(this).next().fadeIn();
            });
        }
    });

    // previous step
    $form.find('.btn-previous').on('click', function () {
        // state.username = [...new Set(state.username)];
        $(this).parents('fieldset').fadeOut(400, function () {
            $(this).prev().fadeIn();
        });
    });

    // speed radio-btn group
    $('.js_follow-speed input[type=radio]').on('click', function () {
        var value = $(this).attr('value');
        state.user_default_config = {
            task_mode: value.toUpperCase()
        };
    });

    $('.js_get-follow-type input[type=radio]').on('click', function (e) {
        var value = $(e.target).attr('value');
        state.subtype = value.toUpperCase();
        // console.log(state);
    });

    // submit
    $form.on('submit', function (e) {

        state.user_default_config = _extends({}, state.user_default_config, {
            criteria: {}
        });
        var limit = document.forms['follow-form']['limit'];
        var have_posts = {
            from: document.forms['follow-form']['have_posts_from'].value,
            to: document.forms['follow-form']['have_posts_to'].value
        };
        var have_followers = {
            from: document.forms['follow-form']['have_followers_from'].value,
            to: document.forms['follow-form']['have_followers_to'].value
        };
        var have_followings = {
            from: document.forms['follow-form']['have_followings_from'].value,
            to: document.forms['follow-form']['have_followings_to'].value
        };

        if (limit.value === '') {
            limit.focus();
            return false;
        }
        state['user_default_config'].criteria = {
            limit: limit.value,
            'unfollow_then': !!$('#unfollow_then:checked').length,
            'follow_on_closed_profiles': !!$('#follow_on_closed_profiles:checked').length,
            have_posts: have_posts,
            have_followers: have_followers,
            have_followings: have_followings
        };

        $(this).find('input[type="text"],input[type="number"],input[type="email"]').each(function () {
            if ($(this).val() === '') {
                e.preventDefault();
                $(this).addClass('input-error');
            } else {
                $(this).removeClass('input-error');
            }
        });

        state.type = _consts.CONST.url.tmTypes.followingT; // 'FOLLOWING';
        // console.log('----+ state.subtype +----', state.subtype);
        if (state.subtype === 'FOLLOWING_BY_LIST') {
            // text file should be added
            state['user_custom_config'].attachment = {
                'list_id': $('.add-file .file-upload-container').attr('attached-txt-id')
            };
        }
        if (state.subtype === _consts.CONST.url.tmTypes.followingSubT[1]) {
            // const competitors = getValByCommaSeparator($(form).find(elSelector.competitors));
            // state.user_custom_config = {
            //     competitors: 'competitors'
            // };
        }
        console.log('make request**  post: StartFollowingList', state);

        _apiTaskManager2.default.postStartFollowingList(state, cbError).then(function (result) {
            if (result.status.state === 'ok') {
                console.log(JSON.stringify(result));
                $('.form-submit-finish').find('.alert p').remove();
                $('.form-submit-finish').addClass('d-block').find('.alert').append('<p>task_id: ' + result.data.task_id + '</p>');
            }
        });
    });

    // alert close
    $('.form-submit-finish .close').on('click', function () {
        // $(this).closest('form-submit-finish').removeClass('d-block');
        $('#v-pills-all-tab').trigger('click');
        window.PubSub.publish(_consts.CONST.events.tasks.NEW_TASK_CREATED);
    });

    // alert close
    $('.form-submit-finish--error .close').on('click', function () {
        // console.log('alert close');
        $('#v-pills-all-tab').trigger('click');
        window.PubSub.publish(_consts.CONST.events.tasks.NEW_TASK_CREATED);
    });

    // prev btn: clear-competitors
    $('.js_follow-clear-competitors').on('click', function () {
        var $competitorsTextArea = $('.js_follow-competitors');
        $competitorsTextArea.val('');
    });
}

// eslint-disable-next-line no-unused-vars
var usernameSelected = '';
var clsConst = {
    currentPageCls: '.follow',
    tasksList: '.log-tasks',
    logsTabBtn: '#v-pills-logs-tab',
    pagination: '.logs-pagination',
    paginationPgNumber: '.page-number',
    pathType: _consts.CONST.url.tmTypes.followingT,
    pathSubType: _consts.CONST.url.tmTypes.followingSubT[0]
};

function setUserNameCb(_usernameSelected) {
    usernameSelected = _usernameSelected;
}

/*
function fixStepIndicator(n) {
    // This function removes the "active" class of all steps...
    var i, x = document.getElementsByClassName("step");
    for (i = 0; i < x.length; i++) {
        x[i].className = x[i].className.replace(" active", "");
    }
    //... and adds the "active" class on the current step:
    x[n].className += " active";
}*/

// TODO : use from wizard
function modifyAccList() {
    // const radioBtn = (idx) => `<div class="col custom-control custom-radio js_user-radio">
    //         <input type="radio" name="userAccountRadio" id="customRadio-${idx}" class="custom-control-input" value="">
    //         <label class="custom-control-label" for="customRadio-${idx}">Подписаться</label>
    //     </div>`;
    var radioBtnAppend = function radioBtnAppend(idx) {
        return '<div class="">\n            <input type="radio" name="userAccountRadio" id="customRadio-' + idx + '" class="custom-control-input d-none" value="">\n        </div>';
    };
    var radioBtnWrap = function radioBtnWrap(idx) {
        return '<label class="accounts-list--label-wrapper col mb-0 media py-3" for="customRadio-' + idx + '"></label>';
    };
    var $accountsList = $('.accounts-list');
    var $li = $accountsList.find('li.media');
    $li.addClass('js_user-radio').removeClass('py-3 media');

    for (var i = 0; i < $li.length; i++) {
        // $($li[i]).append(radioBtn(i));
        $($li[i]).wrapInner(radioBtnWrap(i)).append(radioBtnAppend(i));
    }

    $('.js_user-radio').on('click', 'input[type=radio]', function (e) {
        var $parentFieldset = $(this).parents('fieldset');
        $('li.active', $parentFieldset).removeClass('active');
        $(this).closest('li').addClass('active');
        $('.btn-next', $parentFieldset).prop('disabled', false);
    });
}

/* working demo : http://brutusin.org/json-forms/#13
function formFromJson() {
    const schema = {
        "type": "object",
        "properties": {
            "prop1": {
                "type": "integer"
            },
            "prop2": {
                "type": "integer",
                "required": true
            },
            "prop3": {
                "type": "integer",
                "required": true
            },
            "composite1": {
                "type": "object",
                "properties": {
                    "nested1": {
                        "type": "number",
                        "required": true
                    },
                    "nested2": {
                        "type": "number",
                        "required": true
                    }
                },
                "required": [
                    "nested1",
                    "nested2"
                ]
            },
            "composite2": {
                "type": "object",
                "properties": {
                    "nested1": {
                        "type": "number",
                        "required": true
                    },
                    "nested2": {
                        "type": "number",
                        "required": true
                    }
                },
                "required": [
                    "nested1",
                    "nested2"
                ]
            }
        },
        "required": [
            "prop1",
            "prop2",
            "composite1"
        ]
    };
    const BrutusinForms = window.brutusin['json-forms'];
    const bf = BrutusinForms.create(schema);
    const container = document.getElementById('form1');
    console.log(window.brutusin);
    bf.render(container, data);
}*/

function init() {
    var isInCorrectPage = $('.follow').length;
    if (isInCorrectPage) {
        var initialPath = {
            type: _consts.CONST.url.tmTypes.followingT,
            subtype: _consts.CONST.url.tmTypes.followingSubT[0],
            subtypes: _consts.CONST.url.tmTypes.followingSubT
        };
        followStatusBySubtype.init({ isInCorrectPage: isInCorrectPage, initialPath: initialPath });
        initSteps('.follow-form');
        console.log(clsConst.currentPageCls);
        var textRusArray = ['По списку', 'По активной аудитории конкурентов'];
        (0, _logsTabs.initLogsTab)({ logsState: _consts.CONST.logsState, logsSubtypes: initialPath.subtypes, clsConst: clsConst, setUserNameCb: setUserNameCb, textRusArray: textRusArray });
        // initTagsInput();

        // TODO : use wizard.init()
        window.PubSub.subscribe(_consts.CONST.events.instagramAccouns.INSTAGRAM_ACCOUNS_RENDERED, function (eventName, data) {
            modifyAccList();
            // console.log('modifyAccList');
        });
    }
}

/***/ }),
/* 37 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.init = init;
// import $ from 'jquery';

// const hamburgerButtonCls = '#aside_mobile__button';
// const hamburgerMenuCls = '.aside-burger-menu';
// const hamburgerMenuOpenedClass = 'burger-menu--closed';
// const hamburgerButtonCloseClass = 'burger-menu__button--close';
var selectorsEl = {
    leftMenu: {
        hamburgerButtonCls: '#aside_mobile__button',
        hamburgerMenuCls: '.aside-burger-menu',
        hamburgerMenuOpenedClass: 'burger-menu--closed',
        hamburgerButtonCloseClass: 'burger-menu__button--close'
    },
    rightMenu: {
        hamburgerButtonCls: '#header_mobile_toggler',
        hamburgerMenuCls: '.r-side-burger-menu',
        hamburgerMenuOpenedClass: 'r-side-burger-menu--open',
        hamburgerButtonCloseClass: 'burger-menu-right__button--close'
    },
    subHeader: {
        hamburgerButtonCls: '#header_mobile_topbar_toggler',
        hamburgerMenuCls: '.sub-header',
        hamburgerMenuOpenedClass: 'sub-header--open',
        hamburgerButtonCloseClass: 'sub-header-button--close'
    }
};

/**
 * Toggle hamburger menu popover
 */
function toggleHamburgerMenu(menuName) {
    var _selectorsEl$menuName = selectorsEl[menuName],
        hamburgerMenuCls = _selectorsEl$menuName.hamburgerMenuCls,
        hamburgerButtonCls = _selectorsEl$menuName.hamburgerButtonCls,
        hamburgerButtonCloseClass = _selectorsEl$menuName.hamburgerButtonCloseClass,
        hamburgerMenuOpenedClass = _selectorsEl$menuName.hamburgerMenuOpenedClass;

    $(hamburgerButtonCls).toggleClass(hamburgerButtonCloseClass);
    $(hamburgerMenuCls).toggleClass(hamburgerMenuOpenedClass);
}

/**
 * Init hamburger menu
 */
function init() {
    var leftMenu = 'leftMenu';
    var rightMenu = 'rightMenu';
    var subHeader = 'subHeader';

    $(selectorsEl[leftMenu].hamburgerButtonCls).on('click', toggleHamburgerMenu.bind(this, leftMenu));
    $(selectorsEl[rightMenu].hamburgerButtonCls).on('click', toggleHamburgerMenu.bind(this, rightMenu));
    $(selectorsEl[subHeader].hamburgerButtonCls).on('click', toggleHamburgerMenu.bind(this, subHeader));
}

/***/ }),
/* 38 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.initHeader = initHeader;

var _user = __webpack_require__(3);

var _user2 = _interopRequireDefault(_user);

var _consts = __webpack_require__(0);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// import $ from 'jquery';
var selectorLoginState = '.js_message_logged--text';
// import PubSub from 'pubsub-js'; // https://www.npmjs.com/package/pubsub-js

var selectorEmailConfirmState = '.js_email-confirm--text';
var closeClass = 'd-none';
var openedClass = 'd-block';

function emailNotConfirmed() {
    var $emailnMsg = $(selectorEmailConfirmState);
    $emailnMsg.text('**emailNotConfirmed** Email не подтвержден.').css('color', 'lightcoral');
}

function onLoginSubscribe(msg, data) {
    // console.log('onLoginSubscribe', msg, data);
    $(_consts.CONST.uiSelectors.headerNavLoginBtn).addClass(closeClass).removeClass(openedClass);
    $(_consts.CONST.uiSelectors.headerRegBtn).addClass(closeClass).removeClass(openedClass);
    $(_consts.CONST.uiSelectors.headerLoginBox).addClass(closeClass).removeClass(openedClass);

    $('.nav-link.js_logOut').addClass(openedClass).removeClass(closeClass); // show
    var $loginMsg = $(selectorLoginState);
    $loginMsg.text('**onLoginSubscribe** вы залогинились в Luxgram успешно').css('color', 'lightblue');
    var isEmailConfirmed = _user2.default.isEmailConfirmed();
    if (!isEmailConfirmed) {
        emailNotConfirmed();
    }
}

function showLogout() {
    // check is logged
    var isLogged = _user2.default.isLoggedIn();
    var isEmailConfirmed = _user2.default.isEmailConfirmed();
    if (!isEmailConfirmed) {
        emailNotConfirmed();
    }
    // console.log('isLogged', isLogged);
    if (isLogged) {
        $('.nav-link.js_logOut').parent().show();
        $('.js_email-confirm--text').text('вы залогинились успешно');
        var oldURL = document.referrer;
        // console.log(oldURL);
        if (oldURL.includes('confirm-registration')) {
            $('.js_message_logged--text').text('вы подтвердили регистрацию');
        }
        onLoginSubscribe();
    } else {
        $(selectorLoginState).text('Привет анонимный пользователь');
        $(selectorEmailConfirmState).empty();
    }
}

/**
 * Init header
 */
function initHeader() {
    // check other handler in login-form.js
    // const $loginBox = $(CONST.uiSelectors.headerLoginBox);
    // const $registerBox = $(CONST.uiSelectors.headerRegBox);

    // PubSub.subscribe(CONST.events.USER_LOGGED, onLoginSubscribe);

    showLogout();

    // $(CONST.uiSelectors.headerRegBtn).on('click', () => {
    //     $loginBox.hide();
    //     $registerBox.css({'top': 0, 'right': 0})
    //         .addClass('bg-light border mt-5 mx-auto position-absolute px-3 d-block')
    //         .removeClass('d-none');
    // });

    // $(CONST.uiSelectors.headerNavLoginBtn).on('click', () => {
    //     $loginBox.addClass('d-block').removeClass('d-none');
    //     $registerBox.addClass('d-none').removeClass('d-block');
    // });
}

/***/ }),
/* 39 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

exports.settingButtonsHandler = settingButtonsHandler;

var _user = __webpack_require__(3);

var _user2 = _interopRequireDefault(_user);

var _consts = __webpack_require__(0);

var _instagramAccountsList = __webpack_require__(20);

var _spinner = __webpack_require__(17);

var _spinner2 = _interopRequireDefault(_spinner);

var _imageUpload = __webpack_require__(7);

var imageUpload = _interopRequireWildcard(_imageUpload);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function updateButtonsDataAttr(settingButtonsHandlerCb) {
    var cfg = {
        deleteBtnCls: '.js_acc-delete',
        updateBtnCls: '.js_acc-refresh',
        editBtnCls: '.js_acc-edit'
    };
    // $(cfg.editBtnCls).off();
    $(cfg.updateBtnCls).off(); // Reload button clear listener
    // $(cfg.deleteBtnCls).off();
    settingButtonsHandlerCb(cfg);
}

function settingButtonsHandler(classCfg) {
    var deleteBtnCls = classCfg.deleteBtnCls,
        updateBtnCls = classCfg.updateBtnCls,
        editBtnCls = classCfg.editBtnCls;

    var modalConfirm = $('#delete-user-promt');
    var username = '';
    var userOriginal = {};
    var replaceWithCfg = {
        replaceWith: true,
        holderCls: '.modal-image-holder',
        uploadBtnCls: '.js_edit-profile-img-upd',
        imageCls: 'img.user-avatar'
    };
    imageUpload.init(replaceWithCfg);
    // image-upload subscriber
    window.PubSub.subscribe(_consts.CONST.events.autoarnswer.IMAGE_UPLOADED_AVATAR, function (e, res) {
        var result = JSON.parse(res.response);
        var profile_pic_url = result.data.profile.profile_pic_url;

        userOriginal.$li.find('img').attr('src', profile_pic_url);
        console.log('userOriginal', userOriginal);
    });
    // DELETE .../instagram-accounts/{username}
    $(deleteBtnCls).on('click', function (e) {
        username = $(e.target).closest(deleteBtnCls).data('username');
        modalConfirm.modal('show');
    });
    $('.js_acc-delete-confirm').on('click', function (e) {
        _user2.default.delInstagramAccount(username).then(function (result) {
            console.log(result);
            if (result.status.state === 'ok') {
                modalConfirm.hide();
                window.PubSub.publish(_consts.CONST.events.instagramAccouns.INSTAGRAM_ACCOUNS_NEED_REFRESH);
            }
        });
    });

    // GET instagram-accounts/meta/{username}
    $(updateBtnCls).on('click', function (e) {
        var $li = $(e.target).closest('li');
        var username = $(e.target).closest(updateBtnCls).data('username');
        var defaultAvatarSrc = _consts.CONST.user.defaulAvatar;
        _spinner2.default.add($li, '');
        _user2.default.updateInstagramAccount(username).then(function (result) {
            console.log(result);
            var account = result.data.account;

            $li.replaceWith((0, _instagramAccountsList.renderItem)(account, $li, defaultAvatarSrc));

            /*
            const cfg = {
                deleteBtnCls: '.js_acc-delete',
                updateBtnCls: '.js_acc-refresh',
                editBtnCls: '.js_acc-edit'
            };
            // $(cfg.editBtnCls).off();
            $(cfg.updateBtnCls).off(); // Reload button clear listener
            // $(cfg.deleteBtnCls).off();
            settingButtonsHandler(cfg);
            */
            updateButtonsDataAttr(settingButtonsHandler);
            _spinner2.default.remove();
        });
    });

    // PUT instagram-accounts/{username}
    var modalEdit = $('#edit-user-promt');
    $(editBtnCls).on('click', function (e) {
        var $li = $(e.target).closest('li');
        var $editBtn = $li.find(editBtnCls);
        var username = $editBtn.data('username');
        var login = $editBtn.data('name');
        var site = $editBtn.data('url');
        var about = $editBtn.data('biography');
        var imgSrc = $editBtn.data('img');
        var isBusiness = $editBtn.data('is_business');
        var isPrivate = $editBtn.data('is_private');
        // 'is_business'=true

        var $form = modalEdit.find('form').get(0);
        var formFields = {
            login: $form['login'],
            username: $form['username'],
            site: $form['site'],
            about: $form['biography'],
            userAvatarImg: $form['userAvatar']
        };
        userOriginal = {
            login: login,
            username: username,
            site: site,
            about: about,
            $li: $li,
            followerC: $editBtn.data('follower_count'),
            followingC: $editBtn.data('following_count'),
            mediaC: $editBtn.data('media_count')
        };
        replaceWithCfg.username = username;

        formFields.login.value = login;
        formFields.username.value = username;
        formFields.site.value = site;
        formFields.about.value = about;
        formFields.userAvatarImg.src = imgSrc;
        var $profileBox = modalEdit.find('.bussines-profile');
        if (isBusiness) {
            $profileBox.addClass('d-none').removeClass('d-block');
        } else {
            $profileBox.addClass('d-block');
            // isPrivat, todo:refactor me
            if (isPrivate) {
                $profileBox.find('.js_btn-prof-type-switcher #closed-profile-on').closest('label').addClass('active').find('#closed-profile-on').attr('checked', 'checked');
                // off - disable
                $profileBox.find('.js_btn-prof-type-switcher #closed-profile-off').closest('label').removeClass('active').find('#closed-profile-off').attr('checked', false);
            } else {
                $profileBox.find('.js_btn-prof-type-switcher #closed-profile-off').closest('label').addClass('active').find('#closed-profile-off').attr('checked', 'checked');
                // on - disable
                $profileBox.find('.js_btn-prof-type-switcher #closed-profile-on').closest('label').removeClass('active').find('#closed-profile-on').attr('checked', false);
            }
        }
        window.PubSub.subscribe('update_data_private_on_acc_list', function (e, value) {
            $editBtn.data('is_private', value !== 'closed-profile-off');
        });
        modalEdit.modal('show');
    });
    $('.js_edit-profile-modify').on('click', function (e) {
        var $form = modalEdit.find('form').get(0);
        var formFields = {
            login: $form['login'],
            username: $form['username'],
            site: $form['site'],
            about: $form['biography'],
            userAvatarImg: $form['userAvatar']
        };
        var body = {
            // 'username': (userOriginal.username !== formFields.username.value) ? formFields.username.value : '',
            // 'name': formFields.login.value,
            // 'biography': formFields.about.value,
            // 'url': formFields.site.value,
            // 'open': isOpen
        };
        var updateDataAttrUsername = false;
        if (userOriginal.username !== formFields.username.value) {
            body['username'] = formFields.username.value;
            updateDataAttrUsername = true;
        }
        if (userOriginal.login !== formFields.login.value) {
            body['name'] = formFields.login.value;
        }
        if (userOriginal.about !== formFields.about.value) {
            body['biography'] = formFields.about.value;
        }
        if (userOriginal.site !== formFields.site.value) {
            body['url'] = formFields.site.value;
        }
        // ----validate
        if (formFields.about.value === '') {
            console.info('about.value is empty');
        }

        _user2.default.editInstagramAccount(userOriginal.username || '', JSON.stringify(body)).then(function (result) {
            if (result.status.state === 'ok') {
                console.log('/*UPDATE VIEW HERE*/');
                var profile = result.data.profile;

                profile.info = result.data.profile;
                profile.info = _extends({}, profile.info, {
                    follower_count: userOriginal.followerC,
                    following_count: userOriginal.followingC,
                    media_count: userOriginal.mediaC
                });
                userOriginal.$li.replaceWith((0, _instagramAccountsList.renderItem)(profile, userOriginal.$li, false));
                updateButtonsDataAttr(settingButtonsHandler);
                if (updateDataAttrUsername) {
                    var $editBtn = userOriginal.$li.find(editBtnCls);
                    $editBtn.data('username', profile.info.username);
                    updateDataAttrUsername = false;
                }
                modalConfirm.hide();
            }
        });
    });
    // const modeSelector = $('.js_btn-prof-type-switcher');
    $('.js_btn-prof-type-switcher label').on('click', function (e) {
        var value = $(e.target).find('input[type=radio]').attr('value');
        // console.log('click', value);
        var isOpen = value === 'closed-profile-off';
        var body = {
            'open': isOpen
        };
        _user2.default.editInstagramAccount(userOriginal.username || '', JSON.stringify(body)).then(function (result) {
            if (result.status.state === 'ok') {
                console.log('result', result);
                window.PubSub.publish('update_data_private_on_acc_list', value);
            }
        });
    });
}

/***/ }),
/* 40 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.LoginForm = LoginForm;

var _user = __webpack_require__(3);

var _user2 = _interopRequireDefault(_user);

var _pubsubJs = __webpack_require__(11);

var _pubsubJs2 = _interopRequireDefault(_pubsubJs);

var _cookie = __webpack_require__(4);

var _cookie2 = _interopRequireDefault(_cookie);

var _view = __webpack_require__(1);

var _view2 = _interopRequireDefault(_view);

var _consts = __webpack_require__(0);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// window.$ = $;

// import Validator from '../../common/js-services/form-validator';
function LoginForm(selectorCss) {
    var _this = this;

    var _formId = selectorCss._formId,
        _buttonSubmitId = selectorCss._buttonSubmitId,
        _showLoginBoxBtnId = selectorCss._showLoginBoxBtnId,
        _loginBox = selectorCss._loginBox;

    var user = _user2.default,
        // service
    $form = $(_formId),
        $email = $form.find('input[name="mail"]'),
        $textAreaDescription = $('#description');
    // const openedClass = 'd-block';
    // const closeClass = 'd-none';

    var userLoginHeader = function userLoginHeader(_formData) {
        var cbError = function cbError(result) {
            $(_loginBox).append('<p>result.status.message</p>');
        };

        return user.login(_formData, cbError).then(function (result) {
            if (result && result.data && result.data.token) {
                // save the item
                _cookie2.default.set(_consts.CONST.cookieStorage.token, result.data.token);
                $('.nav-link.js_logOut').parent().show();
                // console.log('request succeeded with JSON response', result);
                _view2.default.showInfoMessage($textAreaDescription, result.status.state, result.status.message || 'Login succsess');
            } else if (result.status) {
                console.log(result);
                _view2.default.showInfoMessage(_this.$textAreaDescription, '<p>status: ' + result.status.state + '</p><p> message: ' + result.status.message + '</p>');
            } else {
                console.log(result);
            }
        }).then(function (result) {
            if (result && result.status) {
                console.log(result);
                _view2.default.showInfoMessage($textAreaDescription, result.status.state, result.status.message || 'Login error');
            }
        });
    };

    var submitForm = function submitForm(formDataObj) {
        var email = $email.val(),
            password = $form.find('input[name="pass"]').val(),
            _formData = formDataObj || { email: email, password: password };

        if (selectorCss.isLoginInstagram) {
            // todo: delete me
            // addInstagramAccount({username: $form.find('input[name="username"]').val(), password});
        } else {
            $email.val($email.val().toLocaleLowerCase());
            userLoginHeader(_formData).then(function () {
                _pubsubJs2.default.publish(_consts.CONST.events.USER_LOGGED, 'login');
            });
        }
    };

    var logOut = function logOut() {
        _cookie2.default.remove(_consts.CONST.cookieStorage.token);
        _pubsubJs2.default.publish(_consts.CONST.events.USER_LOGOUT);
    };

    var bindEvents = function bindEvents() {
        var $showLoginBoxBtnId = $(_showLoginBoxBtnId);
        var $loginBox = $(_loginBox);
        var openedClass = 'd-block';
        var closeClass = 'd-none';

        $showLoginBoxBtnId.on('click', function () {
            if (!selectorCss.isLoginInstagram) {
                $loginBox.css({ 'top': 0, 'right': 0 }).addClass('bg-light border mt-5 mx-auto position-absolute');
            }
            $loginBox.addClass(openedClass).removeClass(closeClass);
        });

        var $buttonSubmit = $(_buttonSubmitId),
            cssValidationClass = 'form-validation';

        $buttonSubmit.on('click', function (e) {
            e.preventDefault();
            var form = $form.get(0);
            // const validator = new Validator($form);
            // console.log(validator.validate());
            if (form.checkValidity() && _view2.default.isEmail($email.val())) {
                submitForm();
            } else {
                // Highlight errors
                if (form.reportValidity) {
                    form.reportValidity();
                }
                $form.addClass(cssValidationClass);
            }
        });

        $('.nav-link.js_logOut').on('click', function (e) {
            e.preventDefault();
            logOut();
            $(e.target).parent().hide();
            _view2.default.showInfoMessage($textAreaDescription, 'Logged out');
        });

        _pubsubJs2.default.subscribe(_consts.CONST.events.USER_LOGOUT, function (msg) {
            $(_consts.CONST.uiSelectors.headerNavLoginBtn).addClass(openedClass).removeClass(closeClass); // .show();
            $(_consts.CONST.uiSelectors.headerRegBtn).addClass(openedClass).removeClass(closeClass);
            $('.nav-link.js_logOut').addClass(closeClass).removeClass(openedClass); // .hide();
            var selectorLoginState = '.js_message_logged--text';
            $(selectorLoginState).text('Вы вышли из аккаунта');
        });

        $(document).on('click', function (event) {
            var isLoginBtnClick = $(event.target).closest('nav.navbar').find($loginBox).length;
            var isAddInstagramBtnClicked = $(event.target).attr('id') === _consts.CONST.uiSelectors.instagram.addAccountBtnId;

            if (!isLoginBtnClick && $loginBox.hasClass(openedClass) && !isAddInstagramBtnClicked) {
                $loginBox.addClass(closeClass).removeClass(openedClass);
            }
        });
    };

    function init() {
        bindEvents();
    }

    return {
        init: init
    };
} // https://www.npmjs.com/package/pubsub-js
/* eslint-disable sort-vars */
// import $ from 'jquery';

/***/ }),
/* 41 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.init = init;

__webpack_require__(22);

var _user = __webpack_require__(3);

var _user2 = _interopRequireDefault(_user);

var _apiUserDirect = __webpack_require__(21);

var _apiUserDirect2 = _interopRequireDefault(_apiUserDirect);

var _utils = __webpack_require__(43);

var _spinner = __webpack_require__(17);

var _spinner2 = _interopRequireDefault(_spinner);

var _consts = __webpack_require__(0);

var _imageUpload = __webpack_require__(7);

var imageUpload = _interopRequireWildcard(_imageUpload);

var _requests = __webpack_require__(42);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// import MeteorEmoji from 'meteor-emoji';
// import EmojiPicker from 'vanilla-emoji-picker';
var token = _user2.default.getToken();
// import PubSub from 'pubsub-js';// https://www.npmjs.com/package/pubsub-js

// import qq from 'fine-uploader'; // todo: fine-uploade

var $msgList = $('.messages-list');
var stateCfg = {
    pageIncrement: 0,
    loadingFlag: false,
    setSingleVal: false
};
var updateInterval = '';
var intervalId = false;
var cursor = '';
var intervalUserList = false;
var initialVal = '';
var flagInitialVal = true;
var currentUserData = {
    useravatar: 'link',
    username: 'name'
};
var scrollLoaderState = {
    cursor: 'pagination.prev_cursor',
    firstLoad: true,
    allMsgLoaded: false
};

var renderResults = function renderResults(cfg) {
    var data = cfg.dataArray,
        ulElement = cfg.$list,
        stateCfg = cfg.stateCfg;


    function showMessage(element, message, /* optional */clearList) {
        // $btnGET.attr('disabled', false);

        if (clearList) {
            $('li', element).remove();
        }
        element.css({ 'overflow': 'auto' });
        $('<li/>').addClass('list-group-item text-center').text(message).appendTo(ulElement);
    }

    if (stateCfg.loadingFlag === 'FINAL_PAGE') {
        return false; // exit if has reached last page
    }

    // show fail msg
    if (data === 'FAIL') {
        showMessage(ulElement, 'Failure, possible key not correct.', true);
        return false;
    }

    if (stateCfg.loadingFlag === 'STOP_LOAD' && data.length !== 0) {
        stateCfg.loadingFlag = 'FINAL_PAGE';
        showMessage(ulElement, 'No more results.', false);
        // $liFooter.hide();
        return false;
    }

    if (data === null || !data.length) {
        showMessage(ulElement, 'No results found.', true);
        return false;
    }

    (0, _utils.fillMassagesList)(cfg);
};

function isInMessagePage() {
    var $msgList = $('.messages-list');
    var $userList = $('.messages-user-list');
    return !!$msgList.length && !!$userList.length;
}

// todo: get from emojii.js
$(document).ready(function () {
    if (!isInMessagePage()) {
        return;
    }
    // eslint-disable-next-line no-unused-vars
    // const ep = new EmojiPicker();
    // // const m = new MeteorEmoji();
    // const $picker = $('textarea[data-emoji-picker="true"] ~ div');
    // const style = $picker.attr('style');
    // const styleNew = style.replace('top: 20px;', 'top: -210px;');
    // $picker.attr('style', styleNew);

    $('textarea[data-emoji-picker="true"]').emojioneArea({
        pickerPosition: 'top',
        tonesStyle: 'square',
        filtersPosition: 'bottom',
        autocomplete: true
        // events: {
        //     keyup (editor, event) {
        //         console.log(editor.html());
        //         console.log(this.getText());
        //     }
        // }
    });

    // todo: fine-uploade
    /*
    // eslint-disable-next-line no-unused-vars
    const restrictedUploader = new qq.FineUploader({
        element: document.getElementById('fine-uploader-validation'),
        template: 'qq-template-validation',
        request: {
            endpoint: '/server/uploads'
        },
        thumbnails: {
            placeholders: {
                waitingPath: 'https://fineuploader.com/source/placeholders/waiting-generic.png', // '/source/placeholders/waiting-generic.png',
                notAvailablePath: 'https://fineuploader.com/server/waiting-generic.png' // '/source/placeholders/not_available-generic.png'
            }
        },
        validation: {
            allowedExtensions: ['jpeg', 'jpg'],
            itemLimit: 3,
            sizeLimit: 500 * 1024
        }
    });
    */
});
var isTimeOutRunned = false;
function getAndFillUserListCursor(loadMoreCbArgsCursor, section, username) {
    var $userList = $('.messages-user-list');
    if (loadMoreCbArgsCursor) {
        console.log('UserConversation', username);
        _apiUserDirect2.default.getMetadataDetailUsers({ cursor: loadMoreCbArgsCursor, username: username }).then(function (result) {
            if (!result.data) {
                return;
            }
            var data = result.data;
            // data.meta.sort((a, b) => a['username'].localeCompare(b['username']));

            (0, _utils.appendUserList)($userList, data.meta, { cursor: loadMoreCbArgsCursor, section: section, username: username });
            var pagination = data.pagination;

            if (pagination && pagination.prev_cursor) {
                // make one more req?
                console.error('found more pagination, but list not updated');
                // TODO
            } else {
                // hide show more
                var $collapse = $('#collapse-' + section).closest('li');
                $collapse.find('.js_load-more-box').addClass('d-none');
                // stop rerender list
                console.error('stop updating user list');
                clearInterval(intervalUserList);
            }
            console.log('section', section);
        });
    }
}

function getAndFillUserList(isActiveFirst, userList) {
    var $userList = userList || $('.messages-user-list');
    var prevActiveDialogId = '';
    if (!isActiveFirst) {
        prevActiveDialogId = $userList.find('li .collapse.show').attr('id');
    }

    _apiUserDirect2.default.getMetadata(token).then(function (result) {
        if (!result.data) {
            return;
        }
        var data = result.data;

        data.meta.sort(function (a, b) {
            return a['username'].localeCompare(b['username']);
        });
        // messages-user-list from utils.js
        (0, _utils.fillUserList)($userList, data.meta, getAndFillUserListCursor);
        if (data.settings && data.settings.invoke_in_millis) {
            updateInterval = data.settings.invoke_in_millis;
            updateInterval = updateInterval > 6000 ? updateInterval : 10000;
        }
        if (isActiveFirst) {
            $userList.find('li:first-child .collapse').addClass('show');
        } else {
            $('#' + prevActiveDialogId).addClass('show');
        }
        // if (data.pagination && data.pagination.prev_cursor) {
        //     const conversationToAdd = {
        //         tpl: `<div class="list-footer text-center" style="display: none;" id="load-more-box">
        //                 <button id="js_-accordion-more_btn" type="button" class="btn btn-submit">SHOW MORE</button>
        //             </div>`
        //     };
        //     console.log('start add pagination to accordioin', conversationToAdd);
        //     addMoreUsersAccordion(data.meta, conversationToAdd);
        // }
        // do it once
        if (!isTimeOutRunned) {
            intervalUserList = setInterval(function () {
                console.log('setInterval');
                getAndFillUserList();
            }, updateInterval);
            isTimeOutRunned = true;
        }
    });
}

function addPagination(pagination, cbFn) {
    if (scrollLoaderState.allMsgLoaded) {
        return;
    }
    if (scrollLoaderState.firstLoad) {
        scrollLoaderState.cursor = pagination.prev_cursor;
        scrollLoaderState.firstLoad = false;
    }
    var userData = $msgList.data('conversation');
    var username = userData.username,
        conversationId = userData.conversationId;
    // console.log('cursor: ', scrollLoaderState.cursor);

    _spinner2.default.add($('#mainChatPart'), 'my-5 py-5');
    _apiUserDirect2.default.getMetadataDetailConversation(token, { username: username, conversationId: conversationId, cursor: scrollLoaderState.cursor }).then(function (result) {
        // console.log('firstLoad:', scrollLoaderState.firstLoad, result.data.meta);
        var newCursor = result.data.meta.pagination && result.data.meta.pagination.prev_cursor;
        _spinner2.default.remove();
        renderResults({
            $list: $msgList,
            dataArray: result.data.meta.messages,
            isAppendPrevMsg: 'appentPrevMsg',
            stateCfg: stateCfg,
            currentUserData: currentUserData
        });
        // set new cursor
        if (newCursor) {
            // console.log('**', scrollLoaderState.cursor);
            scrollLoaderState.cursor = newCursor;
            $msgList.scrollTop($msgList.scrollTop() + 30);
        } else {
            // all msg loaded
            scrollLoaderState.allMsgLoaded = true;
        }

        // stop update interval
        if (intervalId) {
            clearInterval(intervalId);
            cbFn(newCursor);
        }
    });
}

function scrollHandler(scrollDelay, pagination) {
    var recentScroll = false;
    var makeReqOnce = true;
    cursor = pagination && pagination.prev_cursor ? pagination.prev_cursor : null;
    function checkIsOnce(newCursor) {
        if (newCursor !== cursor) {
            cursor = newCursor;
            makeReqOnce = true;
            console.log('prevCursor', newCursor);
        }
    }

    setTimeout(function () {
        $msgList.on('scroll', function () {
            var scrollTop = $(this).scrollTop();
            if (!recentScroll) {
                if (scrollTop + $(this).innerHeight() >= this.scrollHeight) {
                    // $messages.text('end reached');
                } else if (scrollTop <= 45) {
                    // $messages.text('Top reached');
                    // console.log('pagination');
                    if (pagination && makeReqOnce) {
                        makeReqOnce = false;
                        addPagination(pagination, checkIsOnce);
                        // console.log('go');
                    } else {
                        $('.messages-list-box').find('.load-more').remove();
                    }
                } else {
                    // $messages.text('');
                }
                recentScroll = true;
                window.setTimeout(function () {
                    recentScroll = false;
                }, 50);
            }
        });
    }, scrollDelay + 200);
}

function getAndFillConversation(_ref, isScrollDown, isClickFromRequestConfirm) {
    var username = _ref.username,
        conversationId = _ref.conversationId,
        useravatar = _ref.useravatar;

    var TIME_SCROLL = 10;
    _apiUserDirect2.default.getMetadataDetailConversation(token, { username: username, conversationId: conversationId }).then(function (result) {
        // messages-list from utils
        currentUserData.useravatar = useravatar;
        currentUserData.username = username;
        (0, _utils.fillMassagesList)({ $list: $msgList, dataArray: result.data.meta.messages, stateCfg: stateCfg, currentUserData: currentUserData });
        $('#mainChatPart').removeClass('d-none');
        _spinner2.default.remove();
        if (isClickFromRequestConfirm) {
            // clicked on request
            $('.js_send-message-box').addClass('d-none');
        } else {
            // clicked on normal conversation
            $('.js_send-message-box').removeClass('d-none');
        }
        $('.messages-list').attr('data-conversation', JSON.stringify({ username: username, conversationId: conversationId }));

        if (isScrollDown) {
            setTimeout(function () {
                $msgList.animate({
                    scrollTop: $msgList[0].scrollHeight - $msgList[0].clientHeight
                }, TIME_SCROLL);
            }, TIME_SCROLL * 2);
            // save first value
            if (flagInitialVal) {
                initialVal = result.data.meta.messages[result.data.meta.messages.length - 1];
                console.log(initialVal);
                flagInitialVal = false;
            }
        }

        scrollHandler(TIME_SCROLL, result.data.meta.pagination);
    });
}

function imageLoadSubmitCb(input, token) {
    var userData = $msgList.data('conversation');
    var username = userData.username,
        conversationId = userData.conversationId;

    var url = _consts.CONST.getPath('instagramDirect_Basic') + '/' + username + '/' + conversationId + '/photo';
    var acceptedFile = input.files[0];
    console.log('**handleSubmitCb');
    var formData = new FormData();
    var request = new XMLHttpRequest();

    _spinner2.default.startButtonSpinner($('.file-upload-btn'), 'spinner-box--sendMsg');

    formData.append('photo', acceptedFile, acceptedFile.name);
    request.open('POST', url);
    // request.withCredentials = true;
    request.setRequestHeader('token', token);
    request.setRequestHeader('Accept', 'application/json');
    request.setRequestHeader('cache-control', 'no-cache');
    request.send(formData);
    request.addEventListener('readystatechange', function () {
        if (this.readyState === 4) {
            console.log('this', this.responseText, this);
            input.value = '';
            window.PubSub.publish(_consts.CONST.events.autoarnswer.IMAGE_UPLOADED, { 'response': this.responseText, 'el': input });
        }
    });
}

function addHandlers() {
    var conversationId = '';
    var $textArea = $('#sendMessageTextArea');
    $textArea.val('');

    $('#sendMessageButton').on('click', function (e) {
        var value = $textArea.val();
        var userData = $msgList.data('conversation');
        var username = userData.username,
            conversationId = userData.conversationId,
            useravatar = userData.useravatar;

        _spinner2.default.startButtonSpinner($(e.target), 'spinner-box--sendMsg');
        _apiUserDirect2.default.postMetadataDetailConversation(token, { username: username, conversationId: conversationId, value: value }).then(function (result) {
            if (result && result.status && result.status.state === 'ok') {
                getAndFillConversation({ username: username, conversationId: conversationId, useravatar: useravatar });
                $textArea.val('');
                _spinner2.default.remove();
                // window.PubSub.publish(CONST.events.messages.RECIEVE_NEW_MESSAGE, {username, conversationId, value, result});
            }
        });
    });

    (0, _utils.messageAreaHendler)($textArea, $('#sendMessageButton'));

    function userShowConversetionHandler(e, userData) {
        console.log('click');
        var isClickFromRequestConfirm = userData;
        var userDataFromLiGroup = '';
        if (isClickFromRequestConfirm) {
            $('.js_send-message-box').addClass('d-none');
        } else {
            // clicked on normal conversation
            userDataFromLiGroup = $(e.target).closest('.list-group-item').data();
            $('.confirm-buttons-box').addClass('d-none');
            $('.js_send-message-box').removeClass('d-none');
        }

        var _ref2 = userData || userDataFromLiGroup,
            username = _ref2.username,
            useravatar = _ref2.useravatar;

        e.stopPropagation();
        var $targetBtn = $(e.target).closest('.media');
        var $title = $targetBtn.find('.title');
        conversationId = $targetBtn.data('conversation-id');
        if ($title.hasClass('font-weight-bold')) {
            $title.removeClass('font-weight-bold');
            $targetBtn.find('.summary-dot').addClass('d-none');
        }
        _spinner2.default.remove();
        _spinner2.default.add($('#mainChatPart'), 'my-5 py-5');
        getAndFillConversation({ username: username, conversationId: conversationId, useravatar: useravatar }, 'isScrollDown', isClickFromRequestConfirm);
        flagInitialVal = true; // reset first value flag
        // resend request
        if (intervalId) {
            clearInterval(intervalId);
        }
        intervalId = setInterval(function () {
            conversationId = $(e.target).closest('.media').data('conversation-id');
            console.log(intervalId, conversationId);
            getAndFillConversation({ username: username, conversationId: conversationId, useravatar: useravatar }, false, isClickFromRequestConfirm);
        }, updateInterval);
    }

    $(document).on('click', '.list-group-item .collapse', userShowConversetionHandler);
    $(document).on('click', '.js_messages-request', function (e) {
        var userData = $(e.target).closest('.list-group-item').data();
        userShowConversetionHandler(e, userData);
        console.log('addConfigButtons', conversationId);
        (0, _requests.addConfirgButtons)(conversationId, userData.username);
    });

    window.PubSub.subscribe(_consts.CONST.events.messages.RECIEVE_NEW_MESSAGE, function (eventName, data) {
        var username = data.username,
            conversationId = data.conversationId,
            value = data.value,
            resultFromServer = data.resultFromServer;

        var $dialog = $('.messages-user-list .list-group-item[data-username="' + username + '"] div[data-conversation-id="' + conversationId + '"]');
        console.log('resultFromServer: ', resultFromServer);
        $dialog.find('.summary').text(value);
    });

    // send image {igUsername}/{id}/photo
    imageUpload.init(false, imageLoadSubmitCb);
}

function init() {
    // check we are in correct page (messages)
    if (!isInMessagePage()) {
        return;
    }

    getAndFillUserList('setActiveFirst');
    addHandlers();
    var cfg = {
        username: 'your_dieta',
        fillUserListFn: _utils.fillUserList
    };
    (0, _requests.initRequests)(cfg);
}

/***/ }),
/* 42 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.addConfirgButtons = undefined;
exports.initRequests = initRequests;

var _apiUserDirect = __webpack_require__(21);

var _apiUserDirect2 = _interopRequireDefault(_apiUserDirect);

var _user = __webpack_require__(3);

var _user2 = _interopRequireDefault(_user);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/*
Endpoint на получение запросов: GET http://api.luxgram.ru/v1/instagram-direct/pending/{username}
Это ендпоинт должен быть вызван только при нажатии на текст с количеством запросов.
*/
// const cfgT = {
//     username: 'your_dieta',
//     getAndFillUserListFn: 'getAndFillUserList_Function'
// };
var confirmUserData = {};
var addConfirgButtons = exports.addConfirgButtons = function addConfirgButtons(conversationId, username) {
    console.log('addConfirgButtons proceed', username, conversationId);
    var $confirmBtnBox = $('.js_request-confirm-box');
    $confirmBtnBox.removeClass('d-none');
    confirmUserData.username = username;
    confirmUserData.conversationId = conversationId;
};
var conversationDetail = function conversationDetail(items) {
    var tpl = '';
    items.forEach(function (item) {
        var srcImg = item.profilePicUrl;

        if (items.length > 1) {
            tpl += '<img src="' + srcImg + '" alt=\'image\' class="media-photo mr-1 media-photo--group" style="width: 24px;">';
        } else {
            tpl += '<img src="' + srcImg + '" alt=\'image\' class="media-photo mr-1" style="width: 24px;">';
        }
    });
    return tpl;
};

var addConversations = function addConversations(conversations) {
    var tpl = '';
    conversations.forEach(function (item) {
        var users = item.users,
            id = item.id,
            title = item.title;
        // const isUnread = item['is_unread'];
        // const lastMessage = item['lastMessage'];
        // const isLastMsg = lastMessage && (parseInt(lastMessage.length, 10));
        // const isAddDot = isLastMsg > 0 && users.length > 1 && isUnread;

        tpl += '\n                <div class="media p-1 js_messages-request messages-request" data-conversation-id="' + id + '">\n                    ' + conversationDetail(users) + '\n                    <div class="media-body">\n                        <h5 class="title">' + title + '</h5>\n                    </div>\n                </div>\n            ';
    });
    return tpl;
};

var getRequestPending = function getRequestPending(username, elId) {
    // const username = 'your_dieta';
    _apiUserDirect2.default.getRequestPending(username).then(function (result) {
        var requests = result.data.requests;

        console.log('result', requests);
        var tpl = addConversations(requests, elId);
        $(tpl).appendTo($('#' + elId));
    });
};

function fillUserList($list, dataArray, loadMoreCbFunction) {
    var items = dataArray;
    var cList = $list;
    var tpl = '';
    // const loadMoreBox = (idx, prev_cursor) => `<div class="list-footer text-center js_load-more-box" data-idx="${idx}" data-cursor="${prev_cursor}">
    //     <button type="button" class="btn btn-outline-secondary btn-sm btn-submit">Загрузить еще</button>
    // </div>`;
    cList.empty().addClass('border-light-color');
    // todo: fix hard-code  img src="https://i.imgur.com/jNNT4LE.png"
    items.forEach(function (item, idx) {
        // const {pagination} = item;
        var elId = 'collapse-req-' + idx;
        // const {conversations} = item;
        console.log(item.pending_requests);
        if (item.pending_requests) {
            getRequestPending(item.username, elId);
            tpl += '<li class="list-group-item" data-toggle="collapse" data-target="#' + elId + '" \n                data-username="' + item.username + '"\n                data-userAvatar="' + item.profile_pic_url + '"\n                aria-expanded="true" aria-controls="collapse-' + idx + '">\n            <div class="conversation-head mb-1 media pb-2" id="heading-' + idx + '">\n                <span class="mr-3">\n                    <img src="' + item.profile_pic_url + '" alt="avatar"\n                    class="media-photo rounded-circle">\n                </span>\n                <div class="media-body">\n                    <h4 class="title">\n                        ' + item.username + '\n                    </h4>\n                </div>\n            </div>\n            <div id="' + elId + '" class="collapse" aria-labelledby="heading-' + idx + '" data-parent="#accordion-requests">\n                <!-- getRequestPending(item.username, elId) -->\n            </div>\n            <!-- {(pagination && pagination.prev_cursor) ? \'loadMoreBox(idx, pagination.prev_cursor)\' : \'\'} -->\n        </li>';
        }
    });
    $(tpl).appendTo(cList);

    // $('.js_load-more-box button').on('click', (e) => {
    //     const $btn = $(e.target);
    //     const $btnBox = $btn.closest('.js_load-more-box');
    //     const section = $btnBox.data('idx');
    //     const cursor = $btnBox.data('cursor');
    //     const username = $btnBox.closest('li').data('username');

    //     console.log('click', section, cursor);
    //     loadMoreCbFunction(cursor, section, username);
    //     e.stopPropagation();
    // });
}

var token = _user2.default.getToken();
function getAndFillUserList(isActiveFirst, userList) {
    var $userList = userList || $('.messages-user-list');
    var prevActiveDialogId = '';
    if (!isActiveFirst) {
        prevActiveDialogId = $userList.find('li .collapse.show').attr('id');
    }

    _apiUserDirect2.default.getMetadata(token).then(function (result) {
        if (!result.data) {
            return;
        }
        var data = result.data;

        data.meta.sort(function (a, b) {
            return a['username'].localeCompare(b['username']);
        });
        // messages-user-list from utils.js
        fillUserList($userList, data.meta /* getAndFillUserListCursor*/);
        // if (data.settings && data.settings.invoke_in_millis) {
        //     updateInterval = data.settings.invoke_in_millis;
        //     updateInterval = (updateInterval > 6000) ? updateInterval : 10000;
        // }
        if (isActiveFirst) {
            $userList.find('li:first-child .collapse').addClass('show');
        } else {
            $('#' + prevActiveDialogId).addClass('show');
        }

        // do it once
        // if (!isTimeOutRunned) {
        //     intervalUserList = setInterval(() => {
        //         console.log('setInterval');
        //         getAndFillUserList();
        //     }, updateInterval);
        //     isTimeOutRunned = true;
        // }
    });
}

function initHandlers() {
    var $confirmBtnBox = $('.js_request-confirm-box');
    var $reqConfirmBtn = $('.js_request-confirm', $confirmBtnBox);
    var $reqRejectBtn = $('.js_request-reject', $confirmBtnBox);

    $reqConfirmBtn.on('click', function (e) {
        // PUT http://api.luxgram.ru/v1/instagram-direct/pending/{username}/{id}
        _apiUserDirect2.default.putRequestPending(confirmUserData).then(function (result) {
            if (result.status.state === 'ok') {
                console.info('result: ', result);
                $confirmBtnBox.addClass('d-none');
                $('.js_show-messages-user-list').trigger('click');
            }
        });
    });
    $reqRejectBtn.on('click', function (e) {
        _apiUserDirect2.default.delRequestPending(confirmUserData).then(function (result) {
            if (result.status.state === 'ok') {
                console.info('result: ', result);
                $confirmBtnBox.addClass('d-none');
                $('.js_show-messages-user-list').trigger('click');
            }
        });
    });

    var $showUserList = $('.js_show-messages-user-list');
    $showUserList.on('click', function (e) {
        $(e.target).closest('.user-requests-box').removeClass('user-requests-box--show');
        $('.user-list-box').removeClass('user-list-box--hide');
        $('#mainChatPart').addClass('d-none');
    });
}
function initRequests(cfg) {
    var $list = $('.messages-requests-list');
    getAndFillUserList('setActiveFirst', $list);
    initHandlers();
}

/***/ }),
/* 43 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.messageAreaHendler = exports.addConversations = undefined;
exports.clearMassagesList = clearMassagesList;
exports.fillMassagesList = fillMassagesList;
exports.appendUserList = appendUserList;
exports.fillUserList = fillUserList;

var _view = __webpack_require__(1);

var _view2 = _interopRequireDefault(_view);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// import UserConversation from '../../common/js-services/api-user-direct';

function clearMassagesList($list, stateCfg) {
    stateCfg.pageIncrement = 0;
    $list.empty();
}
function fillMassagesList(_ref) {
    var $list = _ref.$list,
        dataArray = _ref.dataArray,
        isAppendPrevMsg = _ref.isAppendPrevMsg,
        stateCfg = _ref.stateCfg,
        currentUserData = _ref.currentUserData;

    var items = dataArray;
    var cList = $list;
    // const listDataConversation = $('.messages-list').attr('data-conversation');
    // const currentUsername = JSON.parse(listDataConversation);
    var insertMsg = function insertMsg(value, message, cssCls) {
        var str = '';
        var valueWithUrl = '';
        var type = message.type,
            caption = message.caption;
        // const userHeader = {username, profile_pic_url};
        // if (cssCls === 'text-right') {
        //     userHeader.username = currentUserData.username;
        //     userHeader.profile_pic_url = currentUserData.useravatar;
        // }

        if (type === 'TEXT') {
            // eslint-disable-next-line no-useless-escape
            var regex = /[(http(s)?):\/\/(www\.)?a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_\+.~#?&//=]*)/gm;
            var subst = '<a href=$& target="_blank">$&</a>';
            valueWithUrl = value.replace(regex, subst);
        }
        switch (type.toLowerCase()) {
            case 'photo':
                str = '<div class="chat-img">\n                    <img src="' + value + '" alt="Content Image" class="content-image">\n                </div>';
                break;
            case 'video':
                str = '<div class="chat-video">\n                    <a target="_blank" href="' + value + '" class="position-relative">\n                        <i class="fa-3x fa-play-circle far position-absolute text-white chat-video--icon"></i>\n                        <img src="' + message.preview_value + '" alt="Content Image" class="chat-video--image">\n                    </a>\n                </div>';
                break;
            case 'gif':
                str = '<div class="chat-img">\n                    <img src="' + value + '" alt="Content Image" class="content-image">\n                </div>';
                break;
            case 'like':
                str = '<div class="chat-text ' + cssCls + '" >' + value + '</div>';
                break;
            case 'post':
                str = '<div class="chat-post-message">\n                    <a target="_blank" href="' + value + '" class="text-body text-decoration-none">\n                        <div class="chat-post-message--header">\n                            <img src="' + message.profile_pic_url + '" alt="Content Image" class="user-avatar mr-3">\n                            ' + message.username + '\n                            <i class="fas fa-chevron-right"></i>\n                        </div>\n                        <img src="' + message.preview_value + '" alt="Content Image" class="content-image">\n                        ' + (caption ? '<p class="chat-post-caption m-3">' + caption + '<p>' : '') + '\n                    </a>\n                </div>';
                break;
            case 'text':
                str = '<div class="chat-text ' + cssCls + '" >' + valueWithUrl + '</div>';
                break;
            default:
                str = '<div class="chat-text ' + cssCls + '" >' + value + '</div>';
        }
        return str;
    };
    var addToList = function addToList(isAppendPrevMsg, $li, $list) {
        if (isAppendPrevMsg) {
            $li.insertBefore($list.find('li:first-child'));
        } else {
            $li.appendTo($list);
        }
    };
    if (isAppendPrevMsg) {
        // console.log('isAppentPrevMsg to', cList);
    } else {
        cList.empty().addClass('border-light-color');
        clearMassagesList(cList, stateCfg);
        // add margin-auto to make masseges on bottom
        $('<li class="mt-auto"></li>').appendTo(cList);
    }
    items.forEach(function (item) {
        var message = item;
        var value = message.value.replace(/(?:\r\n|\r|\n)/g, '<br />');
        // const value = message.value;

        if (message.side.toLowerCase() === 'left') {
            var $li = $('<li class="chat-item chat-item-left col flex-column-reverse" value="' + message.value + '">\n                <div class="d-flex">\n                ' + (message['profile_pic_url'] ? '<div class="chat-img-box"> \n                            <img src="' + message['profile_pic_url'] + '" alt="User Avatar" class="">\n                        </div>' : '') + '\n                <div>\n                    <p class="chat-username text-muted">' + message.username + '</p>\n                    ' + insertMsg(value, message, 'text-left') + '\n                </div>\n                    <small class="chat-time-text">' + _view2.default.getFormattedDateUtil(message.timestamp) + '</small>\n                </div>\n                </div>\n            </li>');
            addToList(isAppendPrevMsg, $li, cList); // toDo refactor me, less DOM manipulation
        } else {
            var _$li = $('<li class="chat-item chat-item-right col flex-column-reverse" value="' + message.value + '">\n                <div class="d-flex justify-content-end">\n                    ' + insertMsg(value, message, 'text-right') + '\n                    <small class="pull-right chat-time-text">' + _view2.default.getFormattedDateUtil(message.timestamp) + '</small>\n                    </div>\n            </li>');
            addToList(isAppendPrevMsg, _$li, cList); // toDo refactor me, less DOM manipulation
        }
    });
}

var conversationDetail = function conversationDetail(items) {
    var tpl = '';
    items.forEach(function (item) {
        if (items.length > 1) {
            tpl += '<img src="' + item['profile_pic_url'] + '" alt=\'image\' class="media-photo mr-1 media-photo--group" style="width: 24px;">';
        } else {
            tpl += '<img src="' + item['profile_pic_url'] + '" alt=\'image\' class="media-photo mr-1" style="width: 24px;">';
        }
    });
    return tpl;
};
var addConversations = exports.addConversations = function addConversations(conversations) {
    var tpl = '';
    conversations.forEach(function (item) {
        var isUnread = item['is_unread'];
        var lastMessage = item['last_message'];
        var isLastMsg = lastMessage && parseInt(lastMessage.length, 10);
        var isAddDot = isLastMsg > 0 && item.to.length > 1 && isUnread;
        tpl += '\n                <div class="media p-1" data-conversation-id="' + item.id + '">\n                    ' + conversationDetail(item.to) + '\n                    <div class="media-body">\n                        ' + (isAddDot || isUnread ? '<span class="summary-dot"></span>' : '') + '\n                        <!-- {isUnread ? \'<span class="summary-dot"></span>\' : \'\'} -->\n                        <h5 class="title ' + (isUnread ? 'font-weight-bold' : '') + ' ' + (isAddDot ? 'mr-2' : '') + '">' + item.title + '</h5>\n                        ' + (isLastMsg > 0 && item.to.length === 1 ? '<p class="summary text-muted">' + lastMessage + '</p>' : '') + '\n                    </div>\n                </div>\n            ';
    });
    return tpl;
};

function appendUserList($list, item, details) {
    var cursor = details.cursor,
        section = details.section,
        username = details.username;

    var $collapse = $('#collapse-' + section);
    console.log(cursor, username);
    $collapse.append(addConversations(item.conversations));
    // ${addConversations(item.conversations, idx)}
}

function fillUserList($list, dataArray, loadMoreCbFunction) {
    var items = dataArray;
    var cList = $list;
    var tpl = '';
    var loadMoreBox = function loadMoreBox(idx, prev_cursor) {
        return '<div class="list-footer text-center js_load-more-box" data-idx="' + idx + '" data-cursor="' + prev_cursor + '">\n        <button type="button" class="btn btn-outline-secondary btn-sm btn-submit">\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044C \u0435\u0449\u0435</button>\n    </div>';
    };
    cList.empty().addClass('border-light-color');
    // todo: fix hard-code  img src="https://i.imgur.com/jNNT4LE.png"
    items.forEach(function (item, idx) {
        var pagination = item.pagination;

        console.log(item.pending_requests);
        tpl += '<li class="list-group-item" data-toggle="collapse" data-target="#collapse-' + idx + '" \n                data-username="' + item.username + '"\n                data-userAvatar="' + item.profile_pic_url + '"\n                aria-expanded="true" aria-controls="collapse-' + idx + '">\n            <div class="conversation-head mb-1 media pb-2" id="heading-' + idx + '">\n                <span class="mr-3">\n                    <img src="' + item.profile_pic_url + '" alt="avatar"\n                    class="media-photo rounded-circle">\n                </span>\n                ' + (item['unread_conversations'] > 0 ? '<span class="badge badge-secondary position-absolute p-2">' + item['unread_conversations'] + '</span>' : '') + '\n                <div class="media-body">\n                    <h4 class="title">\n                        ' + item.username + '\n                    </h4>\n                    ' + (item.pending_requests ? '<p class="js_show-request-box btn btn-outline-dark btn-sm">' + item.pending_requests + ' \u0437\u0430\u043F\u0440\u043E\u0441' + (item.pending_requests > 1 ? 'a' : '') + '</p>' : '') + '\n                </div>\n            </div>\n            <div id="collapse-' + idx + '" class="collapse" aria-labelledby="heading-' + idx + '" data-parent="#accordion">\n                ' + addConversations(item.conversations) + '\n            </div>\n            ' + (pagination && pagination.prev_cursor ? loadMoreBox(idx, pagination.prev_cursor) : '') + '\n        </li>';
    });
    $(tpl).appendTo(cList);
    $('.js_load-more-box button').on('click', function (e) {
        var $btn = $(e.target);
        var $btnBox = $btn.closest('.js_load-more-box');
        var section = $btnBox.data('idx');
        var cursor = $btnBox.data('cursor');
        var username = $btnBox.closest('li').data('username');

        console.log('click', section, cursor);
        loadMoreCbFunction(cursor, section, username);
        e.stopPropagation();
    });
    $('.js_show-request-box').on('click', function (e) {
        $(e.target).closest('.user-list-box').addClass('user-list-box--hide');
        $('.user-requests-box').addClass('user-requests-box--show');
        e.stopPropagation();
    });
}

var messageAreaHendler = exports.messageAreaHendler = function messageAreaHendler($textArea, $sendMessageButton) {
    $textArea.on('keydown', function (e) {
        if (e.keyCode === 13) {
            if (e.ctrlKey) {
                // console.log('ctrl+enter');
                e.preventDefault();
                e.target.value += '\n';
            } else {
                if (e.target.value.trim().length) {
                    $sendMessageButton.trigger('click');
                }
                e.preventDefault();
            }
        }
    });
};

// export const addMoreUsersAccordion = (conversations, conversationToAdd) => {
// const $btnMoreBox = $('#load-more-box');
// const $btnMore = $('button', $btnMoreBox);
// $btnMoreBox.show();
// console.log('start add pagination to accordioin', conversationToAdd);
// conversations.forEach((item, idx) => {
//     if (item.pagination && item.pagination.prev_cursor) {
//         console.log('conversation - >', item.pagination);
//         $btnMore.on('click', () => {
//             console.log('click - >', item.pagination);
//             const details = {
//                 username: '',
//                 cursor: item.pagination.prev_cursor
//             };
//             UserConversation.getMetadataDetailUsers(details).then((result) => {
//                 if (!result.data) {
//                     return;
//                 }
//                 console.log('**getMetadataDetailUsers** result - >', result);
//             });
//         });
//     }
// });
// };

/***/ }),
/* 44 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); // import $ from 'jquery';
// https://www.npmjs.com/package/pubsub-js


var _pubsubJs = __webpack_require__(11);

var _pubsubJs2 = _interopRequireDefault(_pubsubJs);

var _user = __webpack_require__(3);

var _user2 = _interopRequireDefault(_user);

var _cookie = __webpack_require__(4);

var _cookie2 = _interopRequireDefault(_cookie);

var _consts = __webpack_require__(0);

var _view = __webpack_require__(1);

var _view2 = _interopRequireDefault(_view);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var selectorCls = {
    form: '.auth.register .form-signin',
    submitBtn: '[type="submit"]'
};

var RegisterForm = function () {
    function RegisterForm() {
        _classCallCheck(this, RegisterForm);

        this.user = _user2.default;
        this.$form = $(selectorCls.form);
        this.$email = this.$form.find('input[name="mail"]');
        this.$textAreaDescription = $('.register--confirm');
        this.formData = { 'email': 'test1_email@m.ru', 'password': 'password' };
    }

    _createClass(RegisterForm, [{
        key: 'init',
        value: function init() {
            if ($('.auth.register').length) {
                this.bindEvents();
            }
        }
    }, {
        key: 'submitForm',
        value: function submitForm(formDataObj) {
            var _this = this;

            var email = this.$email.val();
            var borderDangerCls = 'border-danger';
            var $password = this.$form.find('input[name="pass"]'),
                $passwordConfirm = this.$form.find('input[name="pass-confirm"]'),
                password = this.$form.find('input[name="pass"]').val(),
                passwordConfirm = this.$form.find('input[name="pass-confirm"]').val();

            // Highlight errors
            if (passwordConfirm !== password) {
                $password.addClass(borderDangerCls);
                $passwordConfirm.addClass(borderDangerCls);
                return;
            } else {
                $password.removeClass(borderDangerCls);
                $passwordConfirm.removeClass(borderDangerCls);
            }
            this.$email.val(this.$email.val().toLocaleLowerCase());
            this.formData = formDataObj || { email: email, password: password };

            this.user.register(this.formData).then(function (result) {
                if (result.data && result.data.token) {

                    // save the item
                    _cookie2.default.set(_consts.CONST.cookieStorage.emailConfirmed, 'false');
                    _cookie2.default.set(_consts.CONST.cookieStorage.token, result.data.token);
                    _pubsubJs2.default.publish(_consts.CONST.events.USER_LOGGED);
                    // viewUtils.showInfoMessage(this.$textAreaDescription,
                    //     result.status.state,
                    //     result.status.message || 'Register and Login succsess');
                } else {
                    _view2.default.showInfoMessage(_this.$textAreaDescription, result.status.state, result.status.message || 'no result.data found');
                }
            }).then(function (result) {
                if (result && result.status) {
                    console.log(result);
                    _view2.default.showInfoMessage(_this.$textAreaDescription, result.status.state);
                    $('.login-box').show();
                }
            }).catch(function (error) {
                var modal = $('#register-error-modal');
                modal.modal('show');

                console.log('request failed', error);
                // viewUtils.showInfoMessage(this.$textAreaDescription,
                //     error.message);
            });
        }
    }, {
        key: 'bindEvents',
        value: function bindEvents() {
            var _this2 = this;

            var registerBox = _consts.CONST.uiSelectors.headerRegBox; // 'nav .register-box';
            var openedClass = 'd-block';
            var closeClass = 'd-none';
            var $btn = $(selectorCls.submitBtn),
                cssValidationClass = 'form-validation';

            $btn.on('click', function (e) {
                var form = _this2.$form.get(0);
                e.preventDefault();

                if (!$btn.is(':disabled')) {
                    if (form.checkValidity()) {
                        // $btn.attr('disabled', true);
                        _this2.submitForm();
                    } else {
                        // Highlight errors
                        if (form.reportValidity) {
                            form.reportValidity();
                        }
                        _this2.$form.addClass(cssValidationClass);
                    }
                }
            });

            _pubsubJs2.default.subscribe(_consts.CONST.events.USER_LOGGED, function () {
                // $('.register--confirm').removeClass('d-none');
                window.location.href = './registration-success.html';
            });

            $(document).on('click', function (event) {
                var isRegBtnClick = $(event.target).closest('nav.navbar').find('.register-box').length;

                if (!isRegBtnClick && $(registerBox).hasClass(openedClass)) {
                    $(registerBox).addClass(closeClass).removeClass(openedClass);
                }
            });
        }
    }]);

    return RegisterForm;
}();

exports.default = RegisterForm;

/***/ }),
/* 45 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.initMenu = initMenu;

/**
 * Init Menu
 */
function initMenu() {
    var urlToCheck = ['instagram-accounts', 'automessages', 'stories', 'autogreeting', 'autocomments', 'follow', 'unfollow', 'messages', 'chat-bot'];
    var pathName = window.location.pathname;
    urlToCheck.forEach(function (item) {
        var isActiveUrl = pathName === '/instagram-integration/' + item + '.html' || pathName === '/' + item + '.html';
        if (isActiveUrl) {
            $('nav.aside-burger-menu a[href*="/' + item + '"]').addClass('text-info').removeClass('text-light');
            // console.info('item found', item, activeMenuItem);
        }
    });
}

/***/ }),
/* 46 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

exports.init = init;

var _consts = __webpack_require__(0);

var _apiTaskManager = __webpack_require__(2);

var _apiTaskManager2 = _interopRequireDefault(_apiTaskManager);

var _view = __webpack_require__(1);

var _view2 = _interopRequireDefault(_view);

var _wizardForm = __webpack_require__(6);

var wizardForm = _interopRequireWildcard(_wizardForm);

var _storiesStatus = __webpack_require__(47);

var storiesStatus = _interopRequireWildcard(_storiesStatus);

var _logsTabs = __webpack_require__(13);

var _followReadFileTxt = __webpack_require__(14);

var _tagsInput = __webpack_require__(10);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var getValByCommaSeparator = _view2.default.getValByCommaSeparator,
    fillRadioGroupList = _view2.default.fillRadioGroupList;

var usernameSelected = '';
var logsState = _consts.CONST.logsState;
var clsConst = {
    currentPageCls: '.stories-page',
    tasksList: '.log-tasks',
    logsTabBtn: '#v-pills-logs-tab',
    pagination: '.logs-pagination',
    paginationPgNumber: '.page-number',
    pathType: _consts.CONST.url.tmTypes.storiesT,
    pathSubType: _consts.CONST.url.tmTypes.storiesSubT[0]
};
var elSelector = {
    wizardForm: '.wizard-form',
    wizardFormName: 'wizard-form',
    fields: '.automessages-text-fields',
    taskMode: '.js_task-mode',
    competitors: '.js_stories-competitors input[data-role="tagsinput"]'
};
var state = {
    subtype: _consts.CONST.url.tmTypes.storiesSubT[0],
    user_default_config: {
        task_mode: 'SAFE'
    }
};

function onSubmitHandler(e) {
    var wizardFormName = elSelector.wizardFormName;

    var form = document.forms[wizardFormName];
    var limit = form['limit'];

    if (limit.value === '') {
        limit.focus();
        return false;
    }

    var body = _extends({}, state, {
        user_default_config: _extends({}, state.user_default_config, {
            criteria: {
                max_views: limit.value
            }
        }),
        user_custom_config: {},
        type: clsConst.pathType,
        username: usernameSelected
    });

    if (body.subtype === _consts.CONST.url.tmTypes.storiesSubT[2]) {
        var competitors = getValByCommaSeparator($(form).find(elSelector.competitors));
        body.user_custom_config = {
            competitors: competitors
        };
    }
    if (body.subtype === _consts.CONST.url.tmTypes.storiesSubT[0]) {
        // text file should be added
        body['user_custom_config'].attachment = {
            'list_id': $('.stories__file-upload-box .file-upload-container').attr('attached-txt-id')
        };
        delete body.user_default_config.criteria.max_views;
    }

    $(form).find('input[type="text"],input[type="number"],input[type="email"]').each(function () {
        if ($(this).val() === '') {
            e.preventDefault();
            $(this).addClass('input-error');
        } else {
            $(this).removeClass('input-error');
        }
    });

    console.log('onSubmitHandler **request**  post: StartFollowingList', body);

    _apiTaskManager2.default.postStartFollowingList(body).then(function (result) {
        if (result.status.state === 'ok') {
            console.log(JSON.stringify(result));
            $('.form-submit-finish').find('.alert p').remove();
            $('.form-submit-finish').addClass('d-block').find('.alert').append('<p>task_id: ' + result.data.task_id + '</p>');
        }
    });
}

function setUserNameCb(_usernameSelected) {
    usernameSelected = _usernameSelected;
}

function setUserNameFirstStep(state) {
    usernameSelected = state.username;
}

// todo: refactor with follow.js -- 'nextBtnvalidateCompetitorsHandler()'
var containerCls = '.js_add-settings-step-4';
var $container = $(containerCls);
var $competitorsTextArea = $container.find('input[data-role="tagsinput"]');
var nextStepBtn = $container.find('.js_stories-competitors-btn');

/**
 * Init Handlers
 */
function initHandlers() {

    (0, _followReadFileTxt.attachTxtFileHandler)('.file-upload-container');
    (0, _tagsInput.nextBtnvalidateCompetitorsHandler)($competitorsTextArea, nextStepBtn);

    // radio-group step 2
    $('.js_get-stories-type input[type=radio]').on('click', function (e) {
        var value = $(e.target).attr('value');
        state.subtype = value.toUpperCase();
        if (state.subtype === _consts.CONST.url.tmTypes.storiesSubT[1]) {
            nextStepBtn.removeAttr('disabled', 'disabled'); // enable button 'Запустить'
        } else {
            nextStepBtn.attr('disabled', 'disabled');
        }
        console.log(state);
    });

    // alert close
    $('.form-submit-finish .close').on('click', function () {
        // console.log('alert close');
        $('#v-pills-all-tab').trigger('click');
        window.PubSub.publish(_consts.CONST.events.tasks.NEW_TASK_CREATED);
    });

    // alert error close
    $('.form-submit-finish--error .close').on('click', function () {
        // console.log('alert close');
        $('#v-pills-all-tab').trigger('click');
        window.PubSub.publish(_consts.CONST.events.tasks.NEW_TASK_CREATED);
    });
}

function renderTaskMode(defaultCfg) {
    var task_modes = defaultCfg.cfg.task_modes;
    var taskModeSelector = elSelector.taskMode;


    fillRadioGroupList($(taskModeSelector), task_modes, 'просмотров');

    $(taskModeSelector + ' input[type=radio]').on('click', function (e) {
        var value = $(e.target).attr('value');
        state.user_default_config.task_mode = value.toUpperCase();
    });
}

function getConfig() {
    var path = {
        type: clsConst.pathType,
        subtype: state.subtype
    };
    var cbError = function cbError(res) {
        var msg = res.status.message;
        $('.form-submit-finish--error').addClass('d-block').find('.alert').append('<p>' + msg + '</p>');
    };

    _apiTaskManager2.default.getStoriesConfig(path, cbError).then(function (result) {
        if (result.status.state !== 'ok') {
            return;
        }
        var found = result.data.found;

        var limitVal = found.cfg.criteria.max_views;
        renderTaskMode(found);
        $('#limit').val(limitVal);
    });
}

function addTextArea(stepNumber) {
    var wizardForm = elSelector.wizardForm;

    var fieldLast = $(wizardForm + ' fieldset').get(stepNumber + 1);
    if (state.subtype === _consts.CONST.url.tmTypes.storiesSubT[2]) {
        (0, _tagsInput.nextBtnvalidateCompetitorsHandler)($competitorsTextArea, nextStepBtn);
        $(fieldLast).find('.js_stories-competitors').removeClass('d-none');
        console.log('end');
    } else {
        $(fieldLast).find('.js_stories-competitors').addClass('d-none');
    }
}

function addFileUploadBox(stepNumber) {
    var wizardForm = elSelector.wizardForm;

    var fieldLast = $(wizardForm + ' fieldset').get(stepNumber + 1);
    var $fileUploadBox = $(fieldLast).find('.stories__file-upload-box');
    var $titleStepBox = $(fieldLast).find('.js_add-file-title');
    var $addSettings = $(fieldLast).find('.js_add-settings-step-4');
    if (state.subtype === _consts.CONST.url.tmTypes.storiesSubT[0]) {
        $fileUploadBox.removeClass('d-none');
        $('.js_validate-txt-file-is-uploaded').attr('disabled', 'disabled');
        $titleStepBox.removeClass('d-none');
        $addSettings.addClass('d-none');
    } else {
        $fileUploadBox.addClass('d-none');
        $titleStepBox.addClass('d-none');
        $addSettings.removeClass('d-none');
    }
    console.log('addFileUploadBox done');
}

function stepReducer(stepNumber, state) {
    switch (stepNumber) {
        case 0:
            // console.log(state, stepNumber);
            setUserNameFirstStep(state);
            break;
        case 1:
            // console.log(state, stepNumber);
            getConfig();
            break;
        case 2:
            console.log(state, stepNumber);
            addTextArea(stepNumber);
            addFileUploadBox(stepNumber);
            break;
        default:
            console.log('default', stepNumber);
    }
}

function init() {
    var isInCurrentPage = $(clsConst.currentPageCls).length;
    if (!isInCurrentPage) {
        return;
    }
    console.log(clsConst.currentPageCls);
    var wizardCfg = {
        stepReducer: stepReducer,
        onSubmitHandler: onSubmitHandler
    };
    wizardForm.init(wizardCfg);
    initHandlers();
    var textRusArray = ['По списку', 'По подписчикам', 'По активной аудитории конкурентов'];
    (0, _logsTabs.initLogsTab)({ logsState: logsState, logsSubtypes: _consts.CONST.url.tmTypes.storiesSubT, clsConst: clsConst, setUserNameCb: setUserNameCb, textRusArray: textRusArray });
    storiesStatus.init({
        isInStoriesPage: isInCurrentPage
    });
    // initTagsInput();

    // window.PubSub.subscribe(CONST.events.instagramAccouns.INSTAGRAM_ACCOUNS_RENDERED_LAZY, (e, accounts) => {
    //     console.log('INSTAGRAM_ACCOUNS_RENDERED_LAZY');
    //     console.log('logsSubtypes', logsSubtypes);
    //     console.log('accounts', accounts);
    // });
    window.PubSub.subscribe(_consts.CONST.events.autoarnswer.TEXT_FILE_UPLOADED, function (e, res) {
        $('.js_validate-txt-file-is-uploaded').removeAttr('disabled');
    });
}

/***/ }),
/* 47 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; // TODO: refactor -> delete me, use task-status-by-subtype.js

// import viewUtils from '../../common/js-services/view';


exports.init = init;

var _consts = __webpack_require__(0);

var _taskStatus = __webpack_require__(5);

var _dropdown = __webpack_require__(18);

var _dropdown2 = _interopRequireDefault(_dropdown);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var path = {
    type: _consts.CONST.url.tmTypes.storiesT,
    subtype: _consts.CONST.url.tmTypes.storiesSubT[0]
};
var wrappers = {
    $all: $('.tasks-all'),
    $stopped: $('.tasks-stopped')
};
var logsStateStatus = {
    wrapperSubtype: $('.subtype--box')
};

function dropdownOnSelectCb(e) {
    // const {selectClsLogsTaskType} = logsState;
    var subtype = $(e.target).find('option:selected').val();
    var pathUpdated = _extends({}, path, { subtype: subtype });
    $('.js_logs-container').addClass('d-block');
    $('option.js_empty-subtype').remove();
    (0, _taskStatus.getTasksData)(wrappers, pathUpdated);
}

function init(_ref) {
    var isInStoriesPage = _ref.isInStoriesPage;

    if (!isInStoriesPage) {
        return;
    }
    // toDO : refactor
    // render status dropdown
    var textRusArray = ['По списку', 'По подписчикам', 'По активной аудитории конкурентов'];
    _dropdown2.default.addDropdown(logsStateStatus.wrapperSubtype, _consts.CONST.url.tmTypes.storiesSubT, { logsState: logsStateStatus, dropdownOnSelectCb: dropdownOnSelectCb, textRusArray: textRusArray });

    // getTasksData(wrappers, path);
    window.PubSub.subscribe(_consts.CONST.events.tasks.NEW_TASK_CREATED, function (eventName, data) {
        (0, _taskStatus.getTasksData)(wrappers, path);
    });
}

/***/ }),
/* 48 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

exports.init = init;

var _consts = __webpack_require__(0);

var _apiTaskManager = __webpack_require__(2);

var _apiTaskManager2 = _interopRequireDefault(_apiTaskManager);

var _view = __webpack_require__(1);

var _view2 = _interopRequireDefault(_view);

var _followReadFileTxt = __webpack_require__(14);

var _wizardForm = __webpack_require__(6);

var wizardForm = _interopRequireWildcard(_wizardForm);

var _unfollowStatus = __webpack_require__(49);

var tabStatus = _interopRequireWildcard(_unfollowStatus);

var _logsTabs = __webpack_require__(13);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var fillRadioGroupList = _view2.default.fillRadioGroupList;


var usernameSelected = '';
var logsSubtypes = _consts.CONST.url.tmTypes.unfollowingSubT;
var clsConst = {
    currentPageCls: '.unfollow-page',
    tasksList: '.log-tasks',
    logsTabBtn: '#v-pills-logs-tab',
    pagination: '.logs-pagination',
    paginationPgNumber: '.page-number',
    pathType: _consts.CONST.url.tmTypes.unfollowingT,
    pathSubType: _consts.CONST.url.tmTypes.unfollowingSubT[0]
};
var elSelector = {
    wizardForm: '.wizard-form',
    wizardFormName: 'wizard-form',
    fields: '.automessages-text-fields',
    taskMode: '.js_task-mode',
    typeRadioGroup: '.js_get-unfollow-type',
    competitors: 'textarea.stories-competitors'
};
var state = {
    subtype: _consts.CONST.url.tmTypes.unfollowingSubT[0],
    user_default_config: {
        task_mode: 'SAFE'
    }
};

function onSubmitHandler(e) {
    var wizardFormName = elSelector.wizardFormName;

    var form = document.forms[wizardFormName];

    var body = _extends({}, state, {
        user_custom_config: {
            // attachment: {
            //     'list_id': 'id_static'
            // }
        },
        type: clsConst.pathType,
        username: usernameSelected
    });

    if (state.subtype === _consts.CONST.url.tmTypes.unfollowingSubT[0]) {
        // text file should be added
        body['user_custom_config'].attachment = {
            'list_id': $('.add-file .file-upload-container').attr('attached-txt-id')
        };
    }

    $(form).find('input[type="text"],input[type="number"],input[type="email"]').each(function () {
        if ($(this).val() === '') {
            e.preventDefault();
            $(this).addClass('input-error');
        } else {
            $(this).removeClass('input-error');
        }
    });

    console.log('onSubmitHandler **request**  post: StartFollowingList', body);

    _apiTaskManager2.default.postStartFollowingList(body).then(function (result) {
        if (result.status.state === 'ok') {
            console.log(JSON.stringify(result));
            $('.form-submit-finish').find('.alert p').remove();
            $('.form-submit-finish').addClass('d-block').find('.alert').append('<p>task_id: ' + result.data.task_id + '</p>');
        }
    });
}

/**
 * Init Handlers
 */
function initHandlers() {

    $(elSelector.typeRadioGroup + ' input[type=radio]').on('click', function (e) {
        var value = $(e.target).attr('value');
        state.subtype = value.toUpperCase();
        console.log(state);
    });

    // alert close
    $('.form-submit-finish .close').on('click', function () {
        // console.log('alert close');
        $('#v-pills-all-tab').trigger('click');
        window.PubSub.publish(_consts.CONST.events.tasks.NEW_TASK_CREATED);
    });

    // alert close
    $('.form-submit-finish--error .close').on('click', function () {
        // console.log('alert close');
        $('#v-pills-all-tab').trigger('click');
        window.PubSub.publish(_consts.CONST.events.tasks.NEW_TASK_CREATED);
    });
}

function onSuccessFileUploadCb() {
    var wizardForm = elSelector.wizardForm;


    $(wizardForm).find('button[type="submit"]').attr('disabled', false);
}

function addUploadButton(subtype) {
    function toggleAddTextBtn(subtype) {
        if (subtype === _consts.CONST.url.tmTypes.unfollowingSubT[0]) {
            // show txt fileUpload
            $('.add-file').addClass('d-block');
            // $('.add-competitors').addClass('d-none').removeClass('d-block');
        } else {
            // hide txt fileUpload
            // $('.add-competitors').addClass('d-block');
            $('.add-file').addClass('d-none').removeClass('d-block');
            onSuccessFileUploadCb();
        }
    }
    toggleAddTextBtn(subtype);
    // console.log('addUploadButton', CONST.url.tmTypes.unfollowingSubT[0]);
}

function renderTaskMode(defaultCfg) {
    var task_modes = defaultCfg.cfg.task_modes;
    var taskModeSelector = elSelector.taskMode;


    fillRadioGroupList($(taskModeSelector), task_modes, 'отписок');
    addUploadButton(defaultCfg.id.subtype);

    $(taskModeSelector + ' input[type=radio]').on('click', function (e) {
        var value = $(e.target).attr('value');
        state.user_default_config.task_mode = value.toUpperCase();
    });
}

function getConfig() {
    var path = {
        type: clsConst.pathType,
        subtype: state.subtype
    };
    var cbError = function cbError(res) {
        var msg = res.status.message;
        $('.form-submit-finish--error').addClass('d-block').find('.alert').append('<p>' + msg + '</p>');
    };

    _apiTaskManager2.default.getStoriesConfig(path, cbError).then(function (result) {
        if (result.status.state !== 'ok') {
            return;
        }
        var found = result.data.found;
        // $('#limit').val(limitVal);
        // const limitVal = found.cfg.criteria.max_views;

        renderTaskMode(found);
    });
}

function setUserNameCb(_usernameSelected) {
    usernameSelected = _usernameSelected;
}

function setUserNameFirstStep(state) {
    usernameSelected = state.username;
}

function checkTitleStep3(stepNumber) {
    var wizardForm = elSelector.wizardForm;

    var title = $(wizardForm + ' h3').get(stepNumber + 1);
    if (state.subtype === _consts.CONST.url.tmTypes.unfollowingSubT[0]) {
        $(title).text('Выберите режим и добавьте файл с пользователями');
    } else {
        $(title).text('Выберите режим');
    }
}

function addTextArea(stepNumber) {
    var wizardForm = elSelector.wizardForm;

    if (state.subtype === _consts.CONST.url.tmTypes.unfollowingSubT[1]) {
        var fieldLast = $(wizardForm + ' fieldset').get(stepNumber + 1);
        var tpl = '<div class="row">\n            <label class="">\u041A\u043E\u043D\u043A\u0443\u0440\u0435\u043D\u0442\u044B</label>\n            <textarea class="form-control stories-competitors mb-2" rows="1"></textarea></div>';
        $(fieldLast).find('.form-bottom>.row').after(tpl);
        console.log('end');
    }
}

function stepReducer(stepNumber, state) {
    switch (stepNumber) {
        case 0:
            // console.log(state, stepNumber);
            setUserNameFirstStep(state);
            break;
        case 1:
            // console.log(state, stepNumber);
            getConfig();
            checkTitleStep3(stepNumber);
            break;
        case 2:
            // THis step is upreachable
            console.log(state, stepNumber);
            addTextArea(stepNumber);
            break;
        default:
            console.log('default', stepNumber);
    }
}

function init() {
    var isInCurrentPage = $(clsConst.currentPageCls).length;
    if (!isInCurrentPage) {
        return;
    }
    console.log(clsConst.currentPageCls);
    var wizardCfg = {
        stepReducer: stepReducer,
        onSubmitHandler: onSubmitHandler
    };
    wizardForm.init(wizardCfg);
    initHandlers();
    (0, _followReadFileTxt.attachTxtFileHandler)('.file-upload-container', onSuccessFileUploadCb);
    var textRusArray = ['По списку', 'От всех', 'От невзаимных'];
    (0, _logsTabs.initLogsTab)({ logsState: _consts.CONST.logsState, logsSubtypes: logsSubtypes, clsConst: clsConst, setUserNameCb: setUserNameCb, textRusArray: textRusArray });
    tabStatus.init({
        isInStoriesPage: isInCurrentPage
    });
    // window.PubSub.subscribe(CONST.events.autoarnswer.IMAGE_UPLOADED, (e, res) => {
    //     const result = JSON.parse(res.response);
    //     const imageId = result && result.data && result.data.image_id;
    //     $(res.el).closest('.file-upload').attr('attached-img-id', imageId);
    //     console.log('image_loaded', res);
    // });
}

/***/ }),
/* 49 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.init = init;

var _consts = __webpack_require__(0);

var _taskStatusBySubtype = __webpack_require__(19);

var followStatusBySubtype = _interopRequireWildcard(_taskStatusBySubtype);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

// TODO: refactor -> delete me
// import {getTasksData} from '../_shared/task-status/task-status';
// import viewUtils from '../../common/js-services/view';
// import dropDown from '../_shared/dropdown/dropdown';

// const path = {
//     type: CONST.url.tmTypes.storiesT,
//     subtype: CONST.url.tmTypes.storiesSubT[0]
// };
// const wrappers = {
//     $all: $('.tasks-all'),
//     $stopped: $('.tasks-stopped')
// };
// const logsStateStatus = {
//     wrapperSubtype: $('.subtype--box')
//     // selectClsLogsTaskType: 'subtype-select-wrapper'
// };
//
// function dropdownOnSelectCb(e) {
//     // const {selectClsLogsTaskType} = logsState;
//     const subtype = $(e.target).find('option:selected').val();
//     const pathUpdated = {...path, subtype};
//     $('.js_logs-container').addClass('d-block');
//     $('option.js_empty-subtype').remove();
//     getTasksData(wrappers, pathUpdated);
// }

function init(_ref) {
    var isInStoriesPage = _ref.isInStoriesPage;

    if (!isInStoriesPage) {
        return;
    }
    var initialPath = {
        type: _consts.CONST.url.tmTypes.unfollowingT,
        subtype: _consts.CONST.url.tmTypes.unfollowingSubT[0],
        subtypes: _consts.CONST.url.tmTypes.unfollowingSubT
    };

    var textRusArray = ['По списку', 'От всех', 'От невзаимных'];
    followStatusBySubtype.init({ isInCorrectPage: isInStoriesPage, initialPath: initialPath, textRusArray: textRusArray });

    // todo: merge with stories-satus.js
    // dropDown.addDropdown(logsStateStatus.wrapperSubtype, CONST.url.tmTypes.storiesSubT, {logsState: logsStateStatus, dropdownOnSelectCb});

    // getTasksData(wrappers, path);
    // window.PubSub.subscribe(CONST.events.tasks.NEW_TASK_CREATED, (eventName, data) => {
    //     getTasksData(wrappers, path);
    // });
}

/***/ }),
/* 50 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.LoginPage = LoginPage;

var _user = __webpack_require__(3);

var _user2 = _interopRequireDefault(_user);

var _pubsubJs = __webpack_require__(11);

var _pubsubJs2 = _interopRequireDefault(_pubsubJs);

var _cookie = __webpack_require__(4);

var _cookie2 = _interopRequireDefault(_cookie);

var _view = __webpack_require__(1);

var _view2 = _interopRequireDefault(_view);

var _consts = __webpack_require__(0);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// window.$ = $;

// import Validator from '../../common/js-services/form-validator';
function LoginPage(selectorCss) {
    var _this = this;

    var _formId = selectorCss._formId,
        _buttonSubmitId = selectorCss._buttonSubmitId,
        _loginBox = selectorCss._loginBox;

    var user = _user2.default,
        // service
    $form = $(_formId),
        $email = $form.find('input[name="mail"]'),
        $textAreaDescription = $('#description');
    // const openedClass = 'd-block';
    // const closeClass = 'd-none';

    var userLoginHeader = function userLoginHeader(_formData) {
        var cbError = function cbError(result) {
            // $(_loginBox).append(`<p>${result.status.message}</p>`);
            var modal = $('#error-modal');
            modal.modal('show');
            console.log(result.status.message);
        };

        return user.login(_formData, cbError).then(function (result) {
            if (result && result.data && result.data.token) {
                // save the item
                _cookie2.default.set(_consts.CONST.cookieStorage.token, result.data.token);
                $('.nav-link.js_logOut').parent().show();
                // console.log('request succeeded with JSON response', result);
                _view2.default.showInfoMessage($textAreaDescription, result.status.state, result.status.message || 'Login succsess');
            } else if (result.status) {
                console.log(result);
                _view2.default.showInfoMessage(_this.$textAreaDescription, '<p>status: ' + result.status.state + '</p><p> message: ' + result.status.message + '</p>');
            } else {
                console.log(result);
            }
        }).then(function (result) {
            if (result && result.status) {
                console.log(result);
                _view2.default.showInfoMessage($textAreaDescription, result.status.state, result.status.message || 'Login error');
            }
        });
    };

    var submitForm = function submitForm(formDataObj) {
        var email = $email.val(),
            password = $form.find('input[name="pass"]').val(),
            _formData = formDataObj || { email: email, password: password };

        if (selectorCss.isLoginInstagram) {
            // todo: delete me
            // addInstagramAccount({username: $form.find('input[name="username"]').val(), password});
        } else {
            $email.val($email.val().toLocaleLowerCase());
            userLoginHeader(_formData).then(function () {
                // PubSub.publish(CONST.events.USER_LOGGED, 'login');
                window.location.href = './instagram-accounts.html';
            });
        }
    };

    var logOut = function logOut() {
        _cookie2.default.remove(_consts.CONST.cookieStorage.token);
        _pubsubJs2.default.publish(_consts.CONST.events.USER_LOGOUT);
    };

    var bindEvents = function bindEvents() {
        // const $showLoginBoxBtnId = $(_showLoginBoxBtnId);
        var $loginBox = $(_loginBox);
        var openedClass = 'd-block';
        var closeClass = 'd-none';

        // $showLoginBoxBtnId.on('click', () => {
        //     if (!selectorCss.isLoginInstagram) {
        //         $loginBox.css({'top': 0, 'right': 0})
        //             .addClass('bg-light border mt-5 mx-auto position-absolute');
        //     }
        //     $loginBox.addClass(openedClass).removeClass(closeClass);
        // });

        var $buttonSubmit = $(_buttonSubmitId),
            cssValidationClass = 'form-validation';

        $buttonSubmit.on('click', function (e) {
            e.preventDefault();
            var form = $form.get(0);
            // const validator = new Validator($form);
            console.log(_view2.default, _view2.default.isEmail($email.val()));

            if (form.checkValidity() && _view2.default.isEmail($email.val())) {
                submitForm();
            } else {
                // Highlight errors
                if (form.reportValidity) {
                    form.reportValidity();
                }
                $form.addClass(cssValidationClass);
            }
        });

        $('.nav-link.js_logOut').on('click', function (e) {
            e.preventDefault();
            logOut();
            $(e.target).parent().hide();
            _view2.default.showInfoMessage($textAreaDescription, 'Logged out');
        });

        _pubsubJs2.default.subscribe(_consts.CONST.events.USER_LOGOUT, function (msg) {
            $(_consts.CONST.uiSelectors.headerNavLoginBtn).addClass(openedClass).removeClass(closeClass); // .show();
            $(_consts.CONST.uiSelectors.headerRegBtn).addClass(openedClass).removeClass(closeClass);
            $('.nav-link.js_logOut').addClass(closeClass).removeClass(openedClass); // .hide();
            var selectorLoginState = '.js_message_logged--text';
            $(selectorLoginState).text('Вы вышли из аккаунта');
        });

        $(document).on('click', function (event) {
            var isLoginBtnClick = $(event.target).closest('nav.navbar').find($loginBox).length;
            var isAddInstagramBtnClicked = $(event.target).attr('id') === _consts.CONST.uiSelectors.instagram.addAccountBtnId;

            if (!isLoginBtnClick && $loginBox.hasClass(openedClass) && !isAddInstagramBtnClicked) {
                $loginBox.addClass(closeClass).removeClass(openedClass);
            }
        });
    };

    function init() {
        if ($('.auth.login').length) {
            bindEvents();
        }
    }

    return {
        init: init
    };
} // https://www.npmjs.com/package/pubsub-js
/* eslint-disable sort-vars */
// import $ from 'jquery';

/***/ }),
/* 51 */
/***/ (function(module, exports) {

/*
 * bootstrap-tagsinput v0.7.1 by Tim Schlechter
 * 
 */

!function(a){"use strict";function b(b,c){this.isInit=!0,this.itemsArray=[],this.$element=a(b),this.$element.hide(),this.isSelect="SELECT"===b.tagName,this.multiple=this.isSelect&&b.hasAttribute("multiple"),this.objectItems=c&&c.itemValue,this.placeholderText=b.hasAttribute("placeholder")?this.$element.attr("placeholder"):"",this.inputSize=Math.max(1,this.placeholderText.length),this.$container=a('<div class="bootstrap-tagsinput"></div>'),this.$input=a('<input type="text" placeholder="'+this.placeholderText+'"/>').appendTo(this.$container),this.$element.before(this.$container),this.build(c),this.isInit=!1}function c(a,b){if("function"!=typeof a[b]){var c=a[b];a[b]=function(a){return a[c]}}}function d(a,b){if("function"!=typeof a[b]){var c=a[b];a[b]=function(){return c}}}function e(a){return a?i.text(a).html():""}function f(a){var b=0;if(document.selection){a.focus();var c=document.selection.createRange();c.moveStart("character",-a.value.length),b=c.text.length}else(a.selectionStart||"0"==a.selectionStart)&&(b=a.selectionStart);return b}function g(b,c){var d=!1;return a.each(c,function(a,c){if("number"==typeof c&&b.which===c)return d=!0,!1;if(b.which===c.which){var e=!c.hasOwnProperty("altKey")||b.altKey===c.altKey,f=!c.hasOwnProperty("shiftKey")||b.shiftKey===c.shiftKey,g=!c.hasOwnProperty("ctrlKey")||b.ctrlKey===c.ctrlKey;if(e&&f&&g)return d=!0,!1}}),d}var h={tagClass:function(a){return"label label-info"},itemValue:function(a){return a?a.toString():a},itemText:function(a){return this.itemValue(a)},itemTitle:function(a){return null},freeInput:!0,addOnBlur:!0,maxTags:void 0,maxChars:void 0,confirmKeys:[13,44],delimiter:",",delimiterRegex:null,cancelConfirmKeysOnEmpty:!1,onTagExists:function(a,b){b.hide().fadeIn()},trimValue:!1,allowDuplicates:!1};b.prototype={constructor:b,add:function(b,c,d){var f=this;if(!(f.options.maxTags&&f.itemsArray.length>=f.options.maxTags)&&(b===!1||b)){if("string"==typeof b&&f.options.trimValue&&(b=a.trim(b)),"object"==typeof b&&!f.objectItems)throw"Can't add objects when itemValue option is not set";if(!b.toString().match(/^\s*$/)){if(f.isSelect&&!f.multiple&&f.itemsArray.length>0&&f.remove(f.itemsArray[0]),"string"==typeof b&&"INPUT"===this.$element[0].tagName){var g=f.options.delimiterRegex?f.options.delimiterRegex:f.options.delimiter,h=b.split(g);if(h.length>1){for(var i=0;i<h.length;i++)this.add(h[i],!0);return void(c||f.pushVal())}}var j=f.options.itemValue(b),k=f.options.itemText(b),l=f.options.tagClass(b),m=f.options.itemTitle(b),n=a.grep(f.itemsArray,function(a){return f.options.itemValue(a)===j})[0];if(!n||f.options.allowDuplicates){if(!(f.items().toString().length+b.length+1>f.options.maxInputLength)){var o=a.Event("beforeItemAdd",{item:b,cancel:!1,options:d});if(f.$element.trigger(o),!o.cancel){f.itemsArray.push(b);var p=a('<span class="tag '+e(l)+(null!==m?'" title="'+m:"")+'">'+e(k)+'<span data-role="remove"></span></span>');p.data("item",b),f.findInputWrapper().before(p),p.after(" ");var q=a('option[value="'+encodeURIComponent(j)+'"]',f.$element).length||a('option[value="'+e(j)+'"]',f.$element).length;if(f.isSelect&&!q){var r=a("<option selected>"+e(k)+"</option>");r.data("item",b),r.attr("value",j),f.$element.append(r)}c||f.pushVal(),(f.options.maxTags===f.itemsArray.length||f.items().toString().length===f.options.maxInputLength)&&f.$container.addClass("bootstrap-tagsinput-max"),a(".typeahead, .twitter-typeahead",f.$container).length&&f.$input.typeahead("val",""),this.isInit?f.$element.trigger(a.Event("itemAddedOnInit",{item:b,options:d})):f.$element.trigger(a.Event("itemAdded",{item:b,options:d}))}}}else if(f.options.onTagExists){var s=a(".tag",f.$container).filter(function(){return a(this).data("item")===n});f.options.onTagExists(b,s)}}}},remove:function(b,c,d){var e=this;if(e.objectItems&&(b="object"==typeof b?a.grep(e.itemsArray,function(a){return e.options.itemValue(a)==e.options.itemValue(b)}):a.grep(e.itemsArray,function(a){return e.options.itemValue(a)==b}),b=b[b.length-1]),b){var f=a.Event("beforeItemRemove",{item:b,cancel:!1,options:d});if(e.$element.trigger(f),f.cancel)return;a(".tag",e.$container).filter(function(){return a(this).data("item")===b}).remove(),a("option",e.$element).filter(function(){return a(this).data("item")===b}).remove(),-1!==a.inArray(b,e.itemsArray)&&e.itemsArray.splice(a.inArray(b,e.itemsArray),1)}c||e.pushVal(),e.options.maxTags>e.itemsArray.length&&e.$container.removeClass("bootstrap-tagsinput-max"),e.$element.trigger(a.Event("itemRemoved",{item:b,options:d}))},removeAll:function(){var b=this;for(a(".tag",b.$container).remove(),a("option",b.$element).remove();b.itemsArray.length>0;)b.itemsArray.pop();b.pushVal()},refresh:function(){var b=this;a(".tag",b.$container).each(function(){var c=a(this),d=c.data("item"),f=b.options.itemValue(d),g=b.options.itemText(d),h=b.options.tagClass(d);if(c.attr("class",null),c.addClass("tag "+e(h)),c.contents().filter(function(){return 3==this.nodeType})[0].nodeValue=e(g),b.isSelect){var i=a("option",b.$element).filter(function(){return a(this).data("item")===d});i.attr("value",f)}})},items:function(){return this.itemsArray},pushVal:function(){var b=this,c=a.map(b.items(),function(a){return b.options.itemValue(a).toString()});b.$element.val(c,!0).trigger("change")},build:function(b){var e=this;if(e.options=a.extend({},h,b),e.objectItems&&(e.options.freeInput=!1),c(e.options,"itemValue"),c(e.options,"itemText"),d(e.options,"tagClass"),e.options.typeahead){var i=e.options.typeahead||{};d(i,"source"),e.$input.typeahead(a.extend({},i,{source:function(b,c){function d(a){for(var b=[],d=0;d<a.length;d++){var g=e.options.itemText(a[d]);f[g]=a[d],b.push(g)}c(b)}this.map={};var f=this.map,g=i.source(b);a.isFunction(g.success)?g.success(d):a.isFunction(g.then)?g.then(d):a.when(g).then(d)},updater:function(a){return e.add(this.map[a]),this.map[a]},matcher:function(a){return-1!==a.toLowerCase().indexOf(this.query.trim().toLowerCase())},sorter:function(a){return a.sort()},highlighter:function(a){var b=new RegExp("("+this.query+")","gi");return a.replace(b,"<strong>$1</strong>")}}))}if(e.options.typeaheadjs){var j=null,k={},l=e.options.typeaheadjs;a.isArray(l)?(j=l[0],k=l[1]):k=l,e.$input.typeahead(j,k).on("typeahead:selected",a.proxy(function(a,b){k.valueKey?e.add(b[k.valueKey]):e.add(b),e.$input.typeahead("val","")},e))}e.$container.on("click",a.proxy(function(a){e.$element.attr("disabled")||e.$input.removeAttr("disabled"),e.$input.focus()},e)),e.options.addOnBlur&&e.options.freeInput&&e.$input.on("focusout",a.proxy(function(b){0===a(".typeahead, .twitter-typeahead",e.$container).length&&(e.add(e.$input.val()),e.$input.val(""))},e)),e.$container.on("keydown","input",a.proxy(function(b){var c=a(b.target),d=e.findInputWrapper();if(e.$element.attr("disabled"))return void e.$input.attr("disabled","disabled");switch(b.which){case 8:if(0===f(c[0])){var g=d.prev();g.length&&e.remove(g.data("item"))}break;case 46:if(0===f(c[0])){var h=d.next();h.length&&e.remove(h.data("item"))}break;case 37:var i=d.prev();0===c.val().length&&i[0]&&(i.before(d),c.focus());break;case 39:var j=d.next();0===c.val().length&&j[0]&&(j.after(d),c.focus())}var k=c.val().length;Math.ceil(k/5);c.attr("size",Math.max(this.inputSize,c.val().length))},e)),e.$container.on("keypress","input",a.proxy(function(b){var c=a(b.target);if(e.$element.attr("disabled"))return void e.$input.attr("disabled","disabled");var d=c.val(),f=e.options.maxChars&&d.length>=e.options.maxChars;e.options.freeInput&&(g(b,e.options.confirmKeys)||f)&&(0!==d.length&&(e.add(f?d.substr(0,e.options.maxChars):d),c.val("")),e.options.cancelConfirmKeysOnEmpty===!1&&b.preventDefault());var h=c.val().length;Math.ceil(h/5);c.attr("size",Math.max(this.inputSize,c.val().length))},e)),e.$container.on("click","[data-role=remove]",a.proxy(function(b){e.$element.attr("disabled")||e.remove(a(b.target).closest(".tag").data("item"))},e)),e.options.itemValue===h.itemValue&&("INPUT"===e.$element[0].tagName?e.add(e.$element.val()):a("option",e.$element).each(function(){e.add(a(this).attr("value"),!0)}))},destroy:function(){var a=this;a.$container.off("keypress","input"),a.$container.off("click","[role=remove]"),a.$container.remove(),a.$element.removeData("tagsinput"),a.$element.show()},focus:function(){this.$input.focus()},input:function(){return this.$input},findInputWrapper:function(){for(var b=this.$input[0],c=this.$container[0];b&&b.parentNode!==c;)b=b.parentNode;return a(b)}},a.fn.tagsinput=function(c,d,e){var f=[];return this.each(function(){var g=a(this).data("tagsinput");if(g)if(c||d){if(void 0!==g[c]){if(3===g[c].length&&void 0!==e)var h=g[c](d,null,e);else var h=g[c](d);void 0!==h&&f.push(h)}}else f.push(g);else g=new b(this,c),a(this).data("tagsinput",g),f.push(g),"SELECT"===this.tagName&&a("option",a(this)).attr("selected","selected"),a(this).val(a(this).val())}),"string"==typeof c?f.length>1?f:f[0]:f},a.fn.tagsinput.Constructor=b;var i=a("<div />");a(function(){a("input[data-role=tagsinput], select[multiple][data-role=tagsinput]").tagsinput()})}(window.jQuery);
//# sourceMappingURL=bootstrap-tagsinput.min.js.map

/***/ }),
/* 52 */
/***/ (function(module, exports) {

if("undefined"==typeof brutusin)window.brutusin=new Object;else if("object"!=typeof brutusin)throw"brutusin global variable already exists";!function(){String.prototype.startsWith||(String.prototype.startsWith=function(e,t){return t=t||0,this.indexOf(e,t)===t}),String.prototype.endsWith||(String.prototype.endsWith=function(e,t){var r=this.toString();(void 0===t||t>r.length)&&(t=r.length),t-=e.length;var n=r.indexOf(e,t);return-1!==n&&n===t}),String.prototype.includes||(String.prototype.includes=function(){"use strict";return-1!==String.prototype.indexOf.apply(this,arguments)}),String.prototype.format||(String.prototype.format=function(){for(var e=this,t=0;t<arguments.length;t++){var r=new RegExp("\\{"+t+"\\}","gi");e=e.replace(r,arguments[t])}return e});var BrutusinForms=new Object;BrutusinForms.messages={validationError:"Validation error",required:"This field is **required**",invalidValue:"Invalid field value",addpropNameExistent:"This property is already present in the object",addpropNameRequired:"A name is required",minItems:"At least `{0}` items are required",maxItems:"At most `{0}` items are allowed",pattern:"Value does not match pattern: `{0}`",minLength:"Value must be **at least** `{0}` characters long",maxLength:"Value must be **at most** `{0}` characters long",multipleOf:"Value must be **multiple of** `{0}`",minimum:"Value must be **greater or equal than** `{0}`",exclusiveMinimum:"Value must be **greater than** `{0}`",maximum:"Value must be **lower or equal than** `{0}`",exclusiveMaximum:"Value must be **lower than** `{0}`",minProperties:"At least `{0}` properties are required",maxProperties:"At most `{0}` properties are allowed",uniqueItems:"Array items must be unique",addItem:"Add item","true":"True","false":"False"},BrutusinForms.decorators=new Array,BrutusinForms.addDecorator=function(e){BrutusinForms.decorators[BrutusinForms.decorators.length]=e},BrutusinForms.onResolutionStarted=function(e){},BrutusinForms.onResolutionFinished=function(e){},BrutusinForms.onValidationError=function(e,t){e.focus(),e.className.includes(" error")||(e.className+=" error"),alert(t)},BrutusinForms.onValidationSuccess=function(e){e.className=e.className.replace(" error","")},BrutusinForms.postRender=null,BrutusinForms.instances=new Array,BrutusinForms.create=function(schema){function validateDepencyMapIsAcyclic(){function e(t,r,n){if(r.hasOwnProperty(n))return void(error="Schema dependency graph has cycles");if(r[n]=null,!t.hasOwnProperty(n)){t[n]=null;var a=dependencyMap[n];if(a)for(var i=0;i<a.length;i++)e(t,r,a[i]);delete r[n]}}var t=new Object;for(var r in dependencyMap)t.hasOwnProperty(r)||e(t,new Object,r)}function appendChild(e,t,r){e.appendChild(t);for(var n=0;n<BrutusinForms.decorators.length;n++)BrutusinForms.decorators[n](t,r)}function createPseudoSchema(e){var t=new Object;for(var r in e)"items"!==r&&"properties"!==r&&"additionalProperties"!==r&&("pattern"===r?t[r]=new RegExp(e[r]):t[r]=e[r]);return t}function getDefinition(e){var t=e.split("/"),r=root;for(var n in t)"0"!==n&&(r=r[t[n]]);return r}function containsStr(e,t){for(var r=0;r<e.length;r++)if(e[r]==t)return!0;return!1}function renameRequiredPropeties(e){if(e)if(e.hasOwnProperty("oneOf"))for(var t in e.oneOf)renameRequiredPropeties(e.oneOf[t]);else if(e.hasOwnProperty("$ref")){var r=getDefinition(e.$ref);renameRequiredPropeties(r)}else if("object"===e.type){if(e.properties){e.hasOwnProperty("required")&&Array.isArray(e.required)&&(e.requiredProperties=e.required,delete e.required);for(var n in e.properties)renameRequiredPropeties(e.properties[n])}if(e.patternProperties)for(var a in e.patternProperties){var i=e.patternProperties[a];(i.hasOwnProperty("type")||i.hasOwnProperty("$ref")||i.hasOwnProperty("oneOf"))&&renameRequiredPropeties(e.patternProperties[a])}e.additionalProperties&&(e.additionalProperties.hasOwnProperty("type")||e.additionalProperties.hasOwnProperty("oneOf"))&&renameRequiredPropeties(e.additionalProperties)}else"array"===e.type&&renameRequiredPropeties(e.items)}function populateSchemaMap(e,t){var r=createPseudoSchema(t);if(r.$id=e,schemaMap[e]=r,t){if(t.hasOwnProperty("oneOf")){r.oneOf=new Array,r.type="oneOf";for(var n in t.oneOf){var a=e+"."+n;r.oneOf[n]=a,populateSchemaMap(a,t.oneOf[n])}}else if(t.hasOwnProperty("$ref")){var i=getDefinition(t.$ref);if(i){if(t.hasOwnProperty("title")||t.hasOwnProperty("description")){var o={};for(var s in i)o[s]=i[s];t.hasOwnProperty("title")&&(o.title=t.title),t.hasOwnProperty("description")&&(o.description=t.description),i=o}populateSchemaMap(e,i)}}else if("object"===t.type){if(t.properties){r.properties=new Object;for(var s in t.properties){var a=e+"."+s;r.properties[s]=a;var u=t.properties[s];t.requiredProperties&&(containsStr(t.requiredProperties,s)?u.required=!0:u.required=!1),populateSchemaMap(a,u)}}if(t.patternProperties){r.patternProperties=new Object;for(var l in t.patternProperties){var d=e+"["+l+"]";r.patternProperties[l]=d;var p=t.patternProperties[l];p.hasOwnProperty("type")||p.hasOwnProperty("$ref")||p.hasOwnProperty("oneOf")?populateSchemaMap(d,t.patternProperties[l]):populateSchemaMap(d,SCHEMA_ANY)}}if(t.additionalProperties){var a=e+"[*]";r.additionalProperties=a,t.additionalProperties.hasOwnProperty("type")||t.additionalProperties.hasOwnProperty("oneOf")?populateSchemaMap(a,t.additionalProperties):populateSchemaMap(a,SCHEMA_ANY)}}else"array"===t.type&&(r.items=e+"[#]",populateSchemaMap(r.items,t.items));if(t.hasOwnProperty("dependsOn")){null===t.dependsOn&&(t.dependsOn=["$"]);for(var c=new Array,n=0;n<t.dependsOn.length;n++)t.dependsOn[n]?t.dependsOn[n].startsWith("$")?c[n]=t.dependsOn[n]:e.endsWith("]")?c[n]=e+"."+t.dependsOn[n]:c[n]=e.substring(0,e.lastIndexOf("."))+"."+t.dependsOn[n]:c[n]="$";schemaMap[e].dependsOn=c;for(var n=0;n<c.length;n++){var m=dependencyMap[c[n]];m||(m=new Array,dependencyMap[c[n]]=m),m[m.length]=e}}}}function renderTitle(e,t,r){if(e&&t){var n=document.createElement("label");"any"!==r.type&&"object"!==r.type&&"array"!==r.type&&(n.htmlFor=getInputId());var a=document.createTextNode(t+":");if(appendChild(n,a,r),r.description&&(n.title=r.description),r.required){var i=document.createElement("sup");appendChild(i,document.createTextNode("*"),r),appendChild(n,i,r),n.className="required"}appendChild(e,n,r)}}function getInputId(){return formId+"_"+inputCounter}function validate(e){var t=!0;if(e.hasOwnProperty("getValidationError")){var r=e.getValidationError();r?(BrutusinForms.onValidationError(e,r),t=!1):BrutusinForms.onValidationSuccess(e)}if(e.childNodes)for(var n=0;n<e.childNodes.length;n++)validate(e.childNodes[n])||(t=!1);return t}function clear(e){if(e)for(;e.firstChild;)e.removeChild(e.firstChild)}function render(e,t,r,n,a,i){var o=getSchemaId(r),s=getSchema(o);renderInfoMap[o]=new Object,renderInfoMap[o].titleContainer=e,renderInfoMap[o].container=t,renderInfoMap[o].parentObject=n,renderInfoMap[o].propertyProvider=a,renderInfoMap[o].value=i,clear(e),clear(t);var u=renderers[s.type];if(u&&!s.dependsOn)s.title?renderTitle(e,s.title,s):a&&renderTitle(e,a.getValue(),s),i||(i="undefined"!=typeof initialValue&&null!==initialValue?getInitialValue(r):s["default"]),u(t,r,n,a,i);else if(s.$ref&&obj.schemaResolver){var l=function(e){if(e&&e.hasOwnProperty(r)&&JSON.stringify(schemaMap[r])!==JSON.stringify(e[r])){cleanSchemaMap(r),cleanData(r),populateSchemaMap(r,e[r]);var t=renderInfoMap[r];t&&render(t.titleContainer,t.container,r,t.parentObject,t.propertyProvider,t.value)}BrutusinForms.onResolutionFinished(n)};BrutusinForms.onResolutionStarted(n),obj.schemaResolver([r],obj.getData(),l)}}function createPropertyProvider(e,t){var r=new Object;return r.getValue=e,r.onchange=t,r}function getInitialValue(id){var ret;try{eval("ret = initialValue"+id.substring(1))}catch(e){ret=null}return ret}function getValue(schema,input){if("function"==typeof input.getValue)return input.getValue();var value;return value="select"===input.tagName.toLowerCase()?input.options[input.selectedIndex].value:input.value,""===value?null:("integer"===schema.type?(value=parseInt(value),isFinite(value)||(value=null)):"number"===schema.type?(value=parseFloat(value),isFinite(value)||(value=null)):"boolean"===schema.type?"input"===input.tagName.toLowerCase()?(value=input.checked,value||(value=!1)):"select"===input.tagName.toLowerCase()&&(value="true"===input.value?!0:"false"===input.value?!1:null):"any"===schema.type&&value&&eval("value="+value),value)}function getSchemaId(e){return e.replace(/\["[^"]*"\]/g,"[*]").replace(/\[\d*\]/g,"[#]")}function getParentSchemaId(e){return e.substring(0,e.lastIndexOf("."))}function getSchema(e){return schemaMap[e]}function cleanSchemaMap(e){for(var t in schemaMap)e.startsWith(t)&&delete schemaMap[t]}function cleanData(e){var t=new Expression(e);t.visit(data,function(e,t,r){delete t[r]})}function onDependencyChanged(e,t){var r=dependencyMap[e];if(r&&obj.schemaResolver){var n=function(e){if(e)for(var r in e)if(JSON.stringify(schemaMap[r])!==JSON.stringify(e[r])){cleanSchemaMap(r),cleanData(r),populateSchemaMap(r,e[r]);var n=renderInfoMap[r];n&&render(n.titleContainer,n.container,r,n.parentObject,n.propertyProvider,n.value)}BrutusinForms.onResolutionFinished(t)};BrutusinForms.onResolutionStarted(t),obj.schemaResolver(r,obj.getData(),n)}}function Expression(e){function t(e){if(null===e)return null;for(var t=new Array,r=null,n=0,a=0;a<e.length;a++)'"'===e.charAt(a)?null===r?r='"':'"'===r&&(r=null,t[t.length]=e.substring(n,a+1).trim(),n=a+1):"'"===e.charAt(a)?null===r?r="'":"'"===r&&(r=null,t[t.length]=e.substring(n,a+1).trim(),n=a+1):"["===e.charAt(a)?null===r&&(n!==a&&(t[t.length]=e.substring(n,a).trim()),t[t.length]="[",n=a+1):"]"===e.charAt(a)?null===r&&(n!==a&&(t[t.length]=e.substring(n,a).trim()),t[t.length]="]",n=a+1):"."===e.charAt(a)?null===r&&(n!==a&&(t[t.length]=e.substring(n,a).trim()),n=a+1):a===e.length-1&&(t[t.length]=e.substring(n,a+1).trim());return t}(null===e||0===e.length||"."===e)&&(e="$");for(var r=new Array,n=t(e),a=!1,i=0,o="",s=0;s<n.length;s++){var u=n[s];if("["===u){if(a)throw"Error parsing expression '"+e+"': Nested [ found";a=!0,i=0,o+=u}else if("]"===u){if(!a)throw"Error parsing expression '"+e+"': Unbalanced ] found";a=!1,o+=u,r[r.length]=o,o=""}else if(a){if(i>0)throw"Error parsing expression '"+e+"': Multiple tokens found inside a bracket";o+=u,i++}else r[r.length]=u;if(s===n.length-1&&a)throw"Error parsing expression '"+e+"': Unbalanced [ found"}this.exp=e,this.queue=r,this.visit=function(e,t){function r(e,n,a,i,o){if(null!=a){var s=n.shift();if("$"===s){e="$";var s=n.shift()}if(s)if(Array.isArray(a)){if(!s.startsWith("["))throw"Node '"+e+"' is of type array";var u=s.substring(1,s.length-1);if(u.equals("#"))for(var l=0;l<a.length;l++){var d=a[l];r(e+s,n.slice(0),d,a,l),r(e+"["+l+"]",n.slice(0),d,a,l)}else if("$"===u){var d=a[a.length-1];r(e+s,n.slice(0),d,a,a.length-1)}else{var p=parseInt(u);if(isNaN(p))throw"Element '"+u+"' of node '"+e+"' is not an integer, or the '$' last element symbol,  or the wilcard symbol '#'";if(0>p)throw"Element '"+u+"' of node '"+e+"' is lower than zero";var d=a[p];r(e+s,n.slice(0),d,a,p)}}else{if("object"!=typeof a)throw"boolean"==typeof a||"number"==typeof a||"string"==typeof a?"Node is leaf but still are tokens remaining: "+s:"Node type '"+typeof a+"' not supported for index field '"+e+"'";if("[*]"===s)for(var c in a){var d=a[c];r(e+s,n.slice(0),d,a,c),r(e+'["'+c+'"]',n.slice(0),d,a,c)}else{var d;if(s.startsWith("[")){var u=s.substring(1,s.length-1);if(!u.startsWith('"')&&!u.startsWith("'"))throw"Element '"+u+"' of node '"+e+"' must be a string expression or wilcard '*'";u=u.substring(1,u.length()-1),e+=s,d=a[u]}else e=e.length>0?e+"."+s:s,d=a[s];r(e,n,d,a,s)}}else t(a,i,o)}}r(this.exp,this.queue,e)}}var SCHEMA_ANY={type:"any"},obj=new Object,schemaMap=new Object,dependencyMap=new Object,renderInfoMap=new Object,container,data,error,initialValue,inputCounter=0,root=schema,formId="BrutusinForms#"+BrutusinForms.instances.length;renameRequiredPropeties(schema),populateSchemaMap("$",schema),validateDepencyMapIsAcyclic();var renderers=new Object;return renderers.integer=function(e,t,r,n,a){renderers.string(e,t,r,n,a)},renderers.number=function(e,t,r,n,a){renderers.string(e,t,r,n,a)},renderers.any=function(e,t,r,n,a){renderers.string(e,t,r,n,a)},renderers.string=function(e,t,r,n,a){var i,o=getSchemaId(t),s=getParentSchemaId(o),u=getSchema(o),l=getSchema(s);if("any"===u.type)i=document.createElement("textarea"),a&&(i.value=JSON.stringify(a,null,4),u.readOnly&&(i.disabled=!0));else if(u.media)i=document.createElement("input"),i.type="file",appendChild(i,d,u);else if(u["enum"]){if(i=document.createElement("select"),!u.required){var d=document.createElement("option"),p=document.createTextNode("");d.value="",appendChild(d,p,u),appendChild(i,d,u)}for(var c=0,m=0;m<u["enum"].length;m++){var d=document.createElement("option"),p=document.createTextNode(u["enum"][m]);d.value=u["enum"][m],appendChild(d,p,u),appendChild(i,d,u),a&&u["enum"][m]===a&&(c=m,u.required||c++,u.readOnly&&(i.disabled=!0))}1===u["enum"].length?i.selectedIndex=1:i.selectedIndex=c}else{if(i=document.createElement("input"),"integer"===u.type||"number"===u.type)i.type="number",i.step=u.step?""+u.step:"any","number"!=typeof a&&(a=null);else if("date-time"===u.format)try{i.type="datetime-local"}catch(f){i.type="text"}else"email"===u.format?i.type="email":"text"===u.format?i=document.createElement("textarea"):i.type="text";null!==a&&"undefined"!=typeof a&&(i.value=a,u.readOnly&&(i.disabled=!0))}return i.schema=o,i.setAttribute("autocorrect","off"),i.getValidationError=function(){try{var e=getValue(u,i);if(null===e){if(u.required){if(!l||"object"!==l.type)return BrutusinForms.messages.required;if(l.required)return BrutusinForms.messages.required;for(var t in r)if(null!==r[t])return BrutusinForms.messages.required}}else{if(u.pattern&&!u.pattern.test(e))return BrutusinForms.messages.pattern.format(u.pattern.source);if(u.minLength&&(!e||u.minLength>e.length))return BrutusinForms.messages.minLength.format(u.minLength);if(u.maxLength&&e&&u.maxLength<e.length)return BrutusinForms.messages.maxLength.format(u.maxLength)}if(null!==e&&!isNaN(e)){if(u.multipleOf&&e%u.multipleOf!==0)return BrutusinForms.messages.multipleOf.format(u.multipleOf);if(u.hasOwnProperty("maximum")){if(u.exclusiveMaximum&&e>=u.maximum)return BrutusinForms.messages.exclusiveMaximum.format(u.maximum);if(!u.exclusiveMaximum&&e>u.maximum)return BrutusinForms.messages.maximum.format(u.maximum)}if(u.hasOwnProperty("minimum")){if(u.exclusiveMinimum&&e<=u.minimum)return BrutusinForms.messages.exclusiveMinimum.format(u.minimum);if(!u.exclusiveMinimum&&e<u.minimum)return BrutusinForms.messages.minimum.format(u.minimum)}}}catch(n){return BrutusinForms.messages.invalidValue}},i.onchange=function(){var e;try{e=getValue(u,i)}catch(t){e=null}r?r[n.getValue()]=e:data=e,onDependencyChanged(o,i)},u.description&&(i.title=u.description,i.placeholder=u.description),i.onchange(),i.id=getInputId(),inputCounter++,appendChild(e,i,u),r},renderers["boolean"]=function(e,t,r,n,a){var i,o=getSchemaId(t),s=getSchema(o);if(s.required)i=document.createElement("input"),i.type="checkbox",a===!0&&(i.checked=!0);else{i=document.createElement("select");var u=document.createElement("option"),l=document.createTextNode("");l.value="",appendChild(u,l,s),appendChild(i,u,s);var d=document.createElement("option"),p=document.createTextNode(BrutusinForms.messages["true"]);d.value="true",appendChild(d,p,s),appendChild(i,d,s);var c=document.createElement("option"),m=document.createTextNode(BrutusinForms.messages["false"]);c.value="false",appendChild(c,m,s),appendChild(i,c,s),a===!0?i.selectedIndex=1:a===!1&&(i.selectedIndex=2)}i.onchange=function(){r?r[n.getValue()]=getValue(s,i):data=getValue(s,i),onDependencyChanged(o,i)},i.schema=o,i.id=getInputId(),inputCounter++,s.description&&(i.title=s.description),i.onchange(),appendChild(e,i,s)},renderers.oneOf=function(e,t,r,n,a){var i=getSchemaId(t),o=getSchema(i),s=document.createElement("select"),u=document.createElement("div");u.innerHTML="",s.type="select",s.schema=i;var l=document.createElement("option");l.value=null,appendChild(s,l,o);for(var d=0;d<o.oneOf.length;d++){var p=document.createElement("option"),c=i+"."+d,m=getSchema(c),f=document.createTextNode(m.title);if(p.value=o.oneOf[d],appendChild(p,f,o),appendChild(s,p,o),void 0!==a&&null!==a&&(o.readOnly&&(s.disabled=!0),a.hasOwnProperty("type")&&m.hasOwnProperty("properties")&&m.properties.hasOwnProperty("type"))){var h=getSchema(m.properties.type);a.type===h["enum"][0]&&(s.selectedIndex=d+1,render(null,u,t+"."+(s.selectedIndex-1),r,n,a))}}s.onchange=function(){render(null,u,t+"."+(s.selectedIndex-1),r,n,a)},appendChild(e,s,o),appendChild(e,u,o)},renderers.object=function(e,t,r,n,a){function i(e){var t=new Object;return t.getValue=function(){return e},t.onchange=function(e){},t}function o(e,t,r,n,a,i){var o=getSchemaId(r),s=getSchema(o),u=t.tBodies[0],l=document.createElement("tr"),d=document.createElement("td");d.className="add-prop-name";var p=document.createElement("table"),c=document.createElement("tr"),m=document.createElement("td"),f=document.createElement("td"),h="$"+Object.keys(e).length+"$",v=document.createElement("td");v.className="prop-value";var g=document.createElement("input");g.type="text";var y;i&&(y=RegExp(i)),g.getValidationError=function(){return g.previousValue!==g.value&&e.hasOwnProperty(g.value)?BrutusinForms.messages.addpropNameExistent:g.value?void 0:BrutusinForms.messages.addpropNameRequired};var b=createPropertyProvider(function(){if(g.value){if(!y)return g.value;if(-1!==g.value.search(y))return g.value}return h},function(t){b.getValue()!==t&&(t&&e.hasOwnProperty(t)||(t=h),(e.hasOwnProperty(t)||y&&-1===b.getValue().search(y))&&(e[b.getValue()]=e[t],delete e[t]))});g.onblur=function(){if(g.previousValue!==g.value){for(var t=g.value,r=1;g.previousValue!==t&&e.hasOwnProperty(t);)t=g.value+"("+r+")",r++;return g.value=t,b.onchange(g.previousValue),void(g.previousValue=g.value)}};var P=document.createElement("button");P.setAttribute("type","button"),P.className="remove",appendChild(P,document.createTextNode("x"),s),P.onclick=function(){delete e[g.value],t.deleteRow(l.rowIndex),g.value=null,b.onchange(g.previousValue)},appendChild(m,g,s),appendChild(f,P,s),appendChild(c,m,s),appendChild(c,f,s),appendChild(p,c,s),appendChild(d,p,s),void 0!==i&&(g.placeholder=i),appendChild(l,d,s),appendChild(l,v,s),appendChild(u,l,s),appendChild(t,u,s),render(null,v,r,e,b,a),n&&(g.value=n,g.onblur())}var s=getSchemaId(t),u=getSchema(s),l=new Object;r?(n.getValue()||0===n.getValue())&&(r[n.getValue()]=l):data=l;var d=document.createElement("table");d.className="object";var p=document.createElement("tbody");appendChild(d,p,u);var c=0;if(u.hasOwnProperty("properties")){c=u.properties.length;for(var m in u.properties){var f=document.createElement("tr"),h=document.createElement("td");h.className="prop-name";var v=t+"."+m,g=getSchema(getSchemaId(v)),y=document.createElement("td");y.className="prop-value",appendChild(p,f,g),appendChild(f,h,g),appendChild(f,y,g);var b=i(m),P=null;a&&(P=a[m]),render(h,y,v,l,b,P)}}var O=[];if(u.patternProperties||u.additionalProperties){var w=document.createElement("div");if(appendChild(w,d,u),u.patternProperties)for(var x in u.patternProperties){var C=u.patternProperties[x],E=document.createElement("div");E.className="add-pattern-div";var S=document.createElement("button");if(S.setAttribute("type","button"),S.pattern=x,S.id=t+"["+x+"]",S.onclick=function(){o(l,d,this.id,void 0,void 0,this.pattern)},(u.maxProperties||u.minProperties)&&(S.getValidationError=function(){return u.minProperties&&c+d.rows.length<u.minProperties?BrutusinForms.messages.minProperties.format(u.minProperties):u.maxProperties&&c+d.rows.length>u.maxProperties?BrutusinForms.messages.maxProperties.format(u.maxProperties):void 0}),C.description&&(S.title=C.description),appendChild(S,document.createTextNode("Add "+x),u),appendChild(E,S,u),a)for(var I in a)if(!u.properties||!u.properties.hasOwnProperty(I)){var N=RegExp(x);-1!==I.search(N)&&-1===O.indexOf(I)&&(o(l,d,t+"["+x+"]",I,a[I],x),O.push(I))}appendChild(w,E,u)}if(u.additionalProperties){var F=getSchema(u.additionalProperties),S=document.createElement("button");if(S.setAttribute("type","button"),S.onclick=function(){o(l,d,t+"[*]",void 0)},(u.maxProperties||u.minProperties)&&(S.getValidationError=function(){return u.minProperties&&c+d.rows.length<u.minProperties?BrutusinForms.messages.minProperties.format(u.minProperties):u.maxProperties&&c+d.rows.length>u.maxProperties?BrutusinForms.messages.maxProperties.format(u.maxProperties):void 0}),F.description&&(S.title=F.description),appendChild(S,document.createTextNode("Add"),u),appendChild(w,S,u),a)for(var I in a)u.properties&&u.properties.hasOwnProperty(I)||-1===O.indexOf(I)&&o(l,d,t+'["'+m+'"]',I,a[I])}appendChild(e,w,u)}else appendChild(e,d,u)},renderers.array=function(e,t,r,n,a){function i(e,t,r,n,a){var i=getSchemaId(r),o=getSchema(i),s=document.createElement("tbody"),u=document.createElement("tr");u.className="item";var l=document.createElement("td");l.className="item-index";var d=document.createElement("td");d.className="item-action";var p=document.createElement("td");p.className="item-value";var c=document.createElement("button");c.setAttribute("type","button"),c.className="remove",a===!0&&(c.disabled=!0),appendChild(c,document.createTextNode("x"),o);var m=function(){for(var e=0;e<t.rows.length;e++){var r=t.rows[e];r.cells[0].innerHTML=e+1}};c.onclick=function(){e.splice(u.rowIndex,1),t.deleteRow(u.rowIndex),m()},appendChild(d,c,o);var f=document.createTextNode(t.rows.length+1);appendChild(l,f,o),appendChild(u,l,o),appendChild(u,d,o),appendChild(u,p,o),appendChild(s,u,o),appendChild(t,s,o);var h=createPropertyProvider(function(){return u.rowIndex});render(null,p,r,e,h,n)}var o=getSchemaId(t),s=getSchema(o),u=getSchema(s.items),l=new Array;r?(n.getValue()||0===n.getValue())&&(r[n.getValue()]=l):data=l,n&&(n.onchange=function(e){delete r[e],r[n.getValue()]=l});var d=document.createElement("div"),p=document.createElement("table");p.className="array",appendChild(d,p,s),appendChild(e,d,s);var c=document.createElement("button");if(s.readOnly&&(c.disabled=!0),c.setAttribute("type","button"),c.getValidationError=function(){if(s.minItems&&s.minItems>p.rows.length)return BrutusinForms.messages.minItems.format(s.minItems);if(s.maxItems&&s.maxItems<p.rows.length)return BrutusinForms.messages.maxItems.format(s.maxItems);if(s.uniqueItems)for(var e=0;e<l.length;e++)for(var t=e+1;t<l.length;t++)if(JSON.stringify(l[e])===JSON.stringify(l[t]))return BrutusinForms.messages.uniqueItems},c.onclick=function(){i(l,p,t+"[#]",null)},u.description&&(c.title=u.description),appendChild(c,document.createTextNode(BrutusinForms.messages.addItem),s),appendChild(d,p,s),appendChild(d,c,s),a&&a instanceof Array)for(var m=0;m<a.length;m++)i(l,p,t+"["+m+"]",a[m],s.readOnly);appendChild(e,d,s)},obj.render=function(e,t){container=e,initialValue=t;var r=document.createElement("form");if(r.className="brutusin-form",r.onsubmit=function(e){return!1},container?appendChild(container,r):appendChild(document.body,r),error){var n=document.createElement("label"),a=document.createTextNode(error);appendChild(n,a),n.className="error-message",appendChild(r,n)}else render(null,r,"$",null,null);dependencyMap.hasOwnProperty("$")&&onDependencyChanged("$"),BrutusinForms.postRender&&BrutusinForms.postRender(obj)},obj.getRenderingContainer=function(){return container},obj.validate=function(){return validate(container)},obj.getData=function(){function e(t,r){if(null===s&&(s=SCHEMA_ANY),r.$ref&&(r=getDefinition(r.$ref)),t instanceof Array){if(0===t.length)return null;for(var n=new Array,a=0;a<t.length;a++)n[a]=e(t[a],r.items);return n}if(""===t)return null;if(t instanceof Object){var n=new Object,i=!1;for(var o in t)if(!o.startsWith("$")||!o.endsWith("$")){var s=null;if(r.hasOwnProperty("properties")&&r.properties.hasOwnProperty(o)&&(s=r.properties[o]),null===s&&r.hasOwnProperty("additionalProperties")&&"object"==typeof r.additionalProperties&&(s=r.additionalProperties),null===s&&r.hasOwnProperty("patternProperties"))for(var u in r.patternProperties){var l=RegExp(u);if(-1!==o.search(l)){s=r.patternProperties[u];break}}var d=e(t[o],s);null!==d&&(n[o]=d,i=!0)}return i||r.required?n:null}return t}return container?e(data,schema):null},BrutusinForms.instances[BrutusinForms.instances.length]=obj,obj},brutusin["json-forms"]=BrutusinForms}();

/***/ }),
/* 53 */
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin

/***/ }),
/* 54 */
/***/ (function(module, exports) {

module.exports = function(module) {
	if(!module.webpackPolyfill) {
		module.deprecate = function() {};
		module.paths = [];
		// module.parent = undefined by default
		if(!module.children) module.children = [];
		Object.defineProperty(module, "loaded", {
			enumerable: true,
			get: function() {
				return module.l;
			}
		});
		Object.defineProperty(module, "id", {
			enumerable: true,
			get: function() {
				return module.i;
			}
		});
		module.webpackPolyfill = 1;
	}
	return module;
};


/***/ }),
/* 55 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony export (immutable) */ __webpack_exports__["Headers"] = Headers;
/* harmony export (immutable) */ __webpack_exports__["Request"] = Request;
/* harmony export (immutable) */ __webpack_exports__["Response"] = Response;
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DOMException", function() { return DOMException; });
/* harmony export (immutable) */ __webpack_exports__["fetch"] = fetch;
var support = {
  searchParams: 'URLSearchParams' in self,
  iterable: 'Symbol' in self && 'iterator' in Symbol,
  blob:
    'FileReader' in self &&
    'Blob' in self &&
    (function() {
      try {
        new Blob()
        return true
      } catch (e) {
        return false
      }
    })(),
  formData: 'FormData' in self,
  arrayBuffer: 'ArrayBuffer' in self
}

function isDataView(obj) {
  return obj && DataView.prototype.isPrototypeOf(obj)
}

if (support.arrayBuffer) {
  var viewClasses = [
    '[object Int8Array]',
    '[object Uint8Array]',
    '[object Uint8ClampedArray]',
    '[object Int16Array]',
    '[object Uint16Array]',
    '[object Int32Array]',
    '[object Uint32Array]',
    '[object Float32Array]',
    '[object Float64Array]'
  ]

  var isArrayBufferView =
    ArrayBuffer.isView ||
    function(obj) {
      return obj && viewClasses.indexOf(Object.prototype.toString.call(obj)) > -1
    }
}

function normalizeName(name) {
  if (typeof name !== 'string') {
    name = String(name)
  }
  if (/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(name)) {
    throw new TypeError('Invalid character in header field name')
  }
  return name.toLowerCase()
}

function normalizeValue(value) {
  if (typeof value !== 'string') {
    value = String(value)
  }
  return value
}

// Build a destructive iterator for the value list
function iteratorFor(items) {
  var iterator = {
    next: function() {
      var value = items.shift()
      return {done: value === undefined, value: value}
    }
  }

  if (support.iterable) {
    iterator[Symbol.iterator] = function() {
      return iterator
    }
  }

  return iterator
}

function Headers(headers) {
  this.map = {}

  if (headers instanceof Headers) {
    headers.forEach(function(value, name) {
      this.append(name, value)
    }, this)
  } else if (Array.isArray(headers)) {
    headers.forEach(function(header) {
      this.append(header[0], header[1])
    }, this)
  } else if (headers) {
    Object.getOwnPropertyNames(headers).forEach(function(name) {
      this.append(name, headers[name])
    }, this)
  }
}

Headers.prototype.append = function(name, value) {
  name = normalizeName(name)
  value = normalizeValue(value)
  var oldValue = this.map[name]
  this.map[name] = oldValue ? oldValue + ', ' + value : value
}

Headers.prototype['delete'] = function(name) {
  delete this.map[normalizeName(name)]
}

Headers.prototype.get = function(name) {
  name = normalizeName(name)
  return this.has(name) ? this.map[name] : null
}

Headers.prototype.has = function(name) {
  return this.map.hasOwnProperty(normalizeName(name))
}

Headers.prototype.set = function(name, value) {
  this.map[normalizeName(name)] = normalizeValue(value)
}

Headers.prototype.forEach = function(callback, thisArg) {
  for (var name in this.map) {
    if (this.map.hasOwnProperty(name)) {
      callback.call(thisArg, this.map[name], name, this)
    }
  }
}

Headers.prototype.keys = function() {
  var items = []
  this.forEach(function(value, name) {
    items.push(name)
  })
  return iteratorFor(items)
}

Headers.prototype.values = function() {
  var items = []
  this.forEach(function(value) {
    items.push(value)
  })
  return iteratorFor(items)
}

Headers.prototype.entries = function() {
  var items = []
  this.forEach(function(value, name) {
    items.push([name, value])
  })
  return iteratorFor(items)
}

if (support.iterable) {
  Headers.prototype[Symbol.iterator] = Headers.prototype.entries
}

function consumed(body) {
  if (body.bodyUsed) {
    return Promise.reject(new TypeError('Already read'))
  }
  body.bodyUsed = true
}

function fileReaderReady(reader) {
  return new Promise(function(resolve, reject) {
    reader.onload = function() {
      resolve(reader.result)
    }
    reader.onerror = function() {
      reject(reader.error)
    }
  })
}

function readBlobAsArrayBuffer(blob) {
  var reader = new FileReader()
  var promise = fileReaderReady(reader)
  reader.readAsArrayBuffer(blob)
  return promise
}

function readBlobAsText(blob) {
  var reader = new FileReader()
  var promise = fileReaderReady(reader)
  reader.readAsText(blob)
  return promise
}

function readArrayBufferAsText(buf) {
  var view = new Uint8Array(buf)
  var chars = new Array(view.length)

  for (var i = 0; i < view.length; i++) {
    chars[i] = String.fromCharCode(view[i])
  }
  return chars.join('')
}

function bufferClone(buf) {
  if (buf.slice) {
    return buf.slice(0)
  } else {
    var view = new Uint8Array(buf.byteLength)
    view.set(new Uint8Array(buf))
    return view.buffer
  }
}

function Body() {
  this.bodyUsed = false

  this._initBody = function(body) {
    this._bodyInit = body
    if (!body) {
      this._bodyText = ''
    } else if (typeof body === 'string') {
      this._bodyText = body
    } else if (support.blob && Blob.prototype.isPrototypeOf(body)) {
      this._bodyBlob = body
    } else if (support.formData && FormData.prototype.isPrototypeOf(body)) {
      this._bodyFormData = body
    } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {
      this._bodyText = body.toString()
    } else if (support.arrayBuffer && support.blob && isDataView(body)) {
      this._bodyArrayBuffer = bufferClone(body.buffer)
      // IE 10-11 can't handle a DataView body.
      this._bodyInit = new Blob([this._bodyArrayBuffer])
    } else if (support.arrayBuffer && (ArrayBuffer.prototype.isPrototypeOf(body) || isArrayBufferView(body))) {
      this._bodyArrayBuffer = bufferClone(body)
    } else {
      this._bodyText = body = Object.prototype.toString.call(body)
    }

    if (!this.headers.get('content-type')) {
      if (typeof body === 'string') {
        this.headers.set('content-type', 'text/plain;charset=UTF-8')
      } else if (this._bodyBlob && this._bodyBlob.type) {
        this.headers.set('content-type', this._bodyBlob.type)
      } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {
        this.headers.set('content-type', 'application/x-www-form-urlencoded;charset=UTF-8')
      }
    }
  }

  if (support.blob) {
    this.blob = function() {
      var rejected = consumed(this)
      if (rejected) {
        return rejected
      }

      if (this._bodyBlob) {
        return Promise.resolve(this._bodyBlob)
      } else if (this._bodyArrayBuffer) {
        return Promise.resolve(new Blob([this._bodyArrayBuffer]))
      } else if (this._bodyFormData) {
        throw new Error('could not read FormData body as blob')
      } else {
        return Promise.resolve(new Blob([this._bodyText]))
      }
    }

    this.arrayBuffer = function() {
      if (this._bodyArrayBuffer) {
        return consumed(this) || Promise.resolve(this._bodyArrayBuffer)
      } else {
        return this.blob().then(readBlobAsArrayBuffer)
      }
    }
  }

  this.text = function() {
    var rejected = consumed(this)
    if (rejected) {
      return rejected
    }

    if (this._bodyBlob) {
      return readBlobAsText(this._bodyBlob)
    } else if (this._bodyArrayBuffer) {
      return Promise.resolve(readArrayBufferAsText(this._bodyArrayBuffer))
    } else if (this._bodyFormData) {
      throw new Error('could not read FormData body as text')
    } else {
      return Promise.resolve(this._bodyText)
    }
  }

  if (support.formData) {
    this.formData = function() {
      return this.text().then(decode)
    }
  }

  this.json = function() {
    return this.text().then(JSON.parse)
  }

  return this
}

// HTTP methods whose capitalization should be normalized
var methods = ['DELETE', 'GET', 'HEAD', 'OPTIONS', 'POST', 'PUT']

function normalizeMethod(method) {
  var upcased = method.toUpperCase()
  return methods.indexOf(upcased) > -1 ? upcased : method
}

function Request(input, options) {
  options = options || {}
  var body = options.body

  if (input instanceof Request) {
    if (input.bodyUsed) {
      throw new TypeError('Already read')
    }
    this.url = input.url
    this.credentials = input.credentials
    if (!options.headers) {
      this.headers = new Headers(input.headers)
    }
    this.method = input.method
    this.mode = input.mode
    this.signal = input.signal
    if (!body && input._bodyInit != null) {
      body = input._bodyInit
      input.bodyUsed = true
    }
  } else {
    this.url = String(input)
  }

  this.credentials = options.credentials || this.credentials || 'same-origin'
  if (options.headers || !this.headers) {
    this.headers = new Headers(options.headers)
  }
  this.method = normalizeMethod(options.method || this.method || 'GET')
  this.mode = options.mode || this.mode || null
  this.signal = options.signal || this.signal
  this.referrer = null

  if ((this.method === 'GET' || this.method === 'HEAD') && body) {
    throw new TypeError('Body not allowed for GET or HEAD requests')
  }
  this._initBody(body)
}

Request.prototype.clone = function() {
  return new Request(this, {body: this._bodyInit})
}

function decode(body) {
  var form = new FormData()
  body
    .trim()
    .split('&')
    .forEach(function(bytes) {
      if (bytes) {
        var split = bytes.split('=')
        var name = split.shift().replace(/\+/g, ' ')
        var value = split.join('=').replace(/\+/g, ' ')
        form.append(decodeURIComponent(name), decodeURIComponent(value))
      }
    })
  return form
}

function parseHeaders(rawHeaders) {
  var headers = new Headers()
  // Replace instances of \r\n and \n followed by at least one space or horizontal tab with a space
  // https://tools.ietf.org/html/rfc7230#section-3.2
  var preProcessedHeaders = rawHeaders.replace(/\r?\n[\t ]+/g, ' ')
  preProcessedHeaders.split(/\r?\n/).forEach(function(line) {
    var parts = line.split(':')
    var key = parts.shift().trim()
    if (key) {
      var value = parts.join(':').trim()
      headers.append(key, value)
    }
  })
  return headers
}

Body.call(Request.prototype)

function Response(bodyInit, options) {
  if (!options) {
    options = {}
  }

  this.type = 'default'
  this.status = options.status === undefined ? 200 : options.status
  this.ok = this.status >= 200 && this.status < 300
  this.statusText = 'statusText' in options ? options.statusText : 'OK'
  this.headers = new Headers(options.headers)
  this.url = options.url || ''
  this._initBody(bodyInit)
}

Body.call(Response.prototype)

Response.prototype.clone = function() {
  return new Response(this._bodyInit, {
    status: this.status,
    statusText: this.statusText,
    headers: new Headers(this.headers),
    url: this.url
  })
}

Response.error = function() {
  var response = new Response(null, {status: 0, statusText: ''})
  response.type = 'error'
  return response
}

var redirectStatuses = [301, 302, 303, 307, 308]

Response.redirect = function(url, status) {
  if (redirectStatuses.indexOf(status) === -1) {
    throw new RangeError('Invalid status code')
  }

  return new Response(null, {status: status, headers: {location: url}})
}

var DOMException = self.DOMException
try {
  new DOMException()
} catch (err) {
  DOMException = function(message, name) {
    this.message = message
    this.name = name
    var error = Error(message)
    this.stack = error.stack
  }
  DOMException.prototype = Object.create(Error.prototype)
  DOMException.prototype.constructor = DOMException
}

function fetch(input, init) {
  return new Promise(function(resolve, reject) {
    var request = new Request(input, init)

    if (request.signal && request.signal.aborted) {
      return reject(new DOMException('Aborted', 'AbortError'))
    }

    var xhr = new XMLHttpRequest()

    function abortXhr() {
      xhr.abort()
    }

    xhr.onload = function() {
      var options = {
        status: xhr.status,
        statusText: xhr.statusText,
        headers: parseHeaders(xhr.getAllResponseHeaders() || '')
      }
      options.url = 'responseURL' in xhr ? xhr.responseURL : options.headers.get('X-Request-URL')
      var body = 'response' in xhr ? xhr.response : xhr.responseText
      resolve(new Response(body, options))
    }

    xhr.onerror = function() {
      reject(new TypeError('Network request failed'))
    }

    xhr.ontimeout = function() {
      reject(new TypeError('Network request failed'))
    }

    xhr.onabort = function() {
      reject(new DOMException('Aborted', 'AbortError'))
    }

    xhr.open(request.method, request.url, true)

    if (request.credentials === 'include') {
      xhr.withCredentials = true
    } else if (request.credentials === 'omit') {
      xhr.withCredentials = false
    }

    if ('responseType' in xhr && support.blob) {
      xhr.responseType = 'blob'
    }

    request.headers.forEach(function(value, name) {
      xhr.setRequestHeader(name, value)
    })

    if (request.signal) {
      request.signal.addEventListener('abort', abortXhr)

      xhr.onreadystatechange = function() {
        // DONE (success or failure)
        if (xhr.readyState === 4) {
          request.signal.removeEventListener('abort', abortXhr)
        }
      }
    }

    xhr.send(typeof request._bodyInit === 'undefined' ? null : request._bodyInit)
  })
}

fetch.polyfill = true

if (!self.fetch) {
  self.fetch = fetch
  self.Headers = Headers
  self.Request = Request
  self.Response = Response
}


/***/ }),
/* 56 */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__(23);


/***/ })
/******/ ]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAgYWY5ZWVlYjg3NmZhYjYwNzU5Y2UiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbW1vbi9qcy1zZXJ2aWNlcy9jb25zdHMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbW1vbi9qcy1zZXJ2aWNlcy92aWV3LmpzIiwid2VicGFjazovLy8uL3NyYy9jb21tb24vanMtc2VydmljZXMvYXBpLXRhc2stbWFuYWdlci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tbW9uL2pzLXNlcnZpY2VzL3VzZXIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbW1vbi9qcy1zZXJ2aWNlcy9jb29raWUuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Jsb2Nrcy9fc2hhcmVkL3Rhc2stc3RhdHVzL3Rhc2stc3RhdHVzLmpzIiwid2VicGFjazovLy8uL3NyYy9ibG9ja3Mvd2l6YXJkLWZvcm0vd2l6YXJkLWZvcm0uanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Jsb2Nrcy9fc2hhcmVkL2ltYWdlLXVwbG9hZC9pbWFnZS11cGxvYWQuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Jsb2Nrcy9fc2hhcmVkL2xvZ3MvbG9ncy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYmxvY2tzL19zaGFyZWQvdGVicy1waWxzL3RhYnMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Jsb2Nrcy9fc2hhcmVkL3RhZ3MtaW5wdXQvdGFncy1pbnB1dC5qcyIsIndlYnBhY2s6Ly8vLi9+L3B1YnN1Yi1qcy9zcmMvcHVic3ViLmpzIiwid2VicGFjazovLy8uL3NyYy9ibG9ja3MvX3NoYXJlZC9nZXRQb3N0c01vZGFsL3V0aWxzLW1vZGFsLmpzIiwid2VicGFjazovLy8uL3NyYy9ibG9ja3MvX3NoYXJlZC9sb2dzL2xvZ3MtdGFicy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYmxvY2tzL2ZvbGxvdy9mb2xsb3ctcmVhZC1maWxlLXR4dC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tbW9uL2pzLXNlcnZpY2VzL2Vtb2ppLmpzIiwid2VicGFjazovLy8uL3NyYy9jb21tb24vanMtc2VydmljZXMvbmV0d29yay5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tbW9uL2pzLXNlcnZpY2VzL3NwaW5uZXIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Jsb2Nrcy9fc2hhcmVkL2Ryb3Bkb3duL2Ryb3Bkb3duLmpzIiwid2VicGFjazovLy8uL3NyYy9ibG9ja3MvX3NoYXJlZC90YXNrLXN0YXR1cy90YXNrLXN0YXR1cy1ieS1zdWJ0eXBlLmpzIiwid2VicGFjazovLy8uL3NyYy9ibG9ja3MvaW5zdGFncmFtLWFjY291bnRzLWxpc3QvaW5zdGFncmFtLWFjY291bnRzLWxpc3QuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbW1vbi9qcy1zZXJ2aWNlcy9hcGktdXNlci1kaXJlY3QuanMiLCJ3ZWJwYWNrOi8vLy4vfi9lbW9qaW9uZUFyZWEvZGlzdC9lbW9qaW9uZWFyZWEuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Jvb3RzdHJhcC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYmxvY2tzL2F1dG9jb21tZW50cy9hZGRBbnN3ZXJUZW1wbGF0ZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYmxvY2tzL2F1dG9jb21tZW50cy9hdXRvY29tbWVudHMtaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Jsb2Nrcy9hdXRvY29tbWVudHMvYXV0b2NvbW1lbnRzLXN0YXR1cy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYmxvY2tzL2F1dG9ncmVldGluZy9hZGRHcmVldFRlbXBsYXRlLmpzIiwid2VicGFjazovLy8uL3NyYy9ibG9ja3MvYXV0b2dyZWV0aW5nL2F1dG9ncmVldGluZy1tYWluLmpzIiwid2VicGFjazovLy8uL3NyYy9ibG9ja3MvYXV0b2dyZWV0aW5nL2F1dG9ncmVldGluZy1zdGF0dXMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Jsb2Nrcy9hdXRvbWVzc2FnZXMvYWRkQW5zd2VyVGVtcGxhdGUuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Jsb2Nrcy9hdXRvbWVzc2FnZXMvYXV0b21lc3NhZ2VzLWluZGV4LmpzIiwid2VicGFjazovLy8uL3NyYy9ibG9ja3MvYXV0b21lc3NhZ2VzL2F1dG9tZXNzYWdlcy1zdGF0dXMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Jsb2Nrcy9jaGF0LWJvdC9jaGF0LWJvdC1pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYmxvY2tzL2NoYXQtYm90L2NoYXQtYm90LXN0YXR1cy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYmxvY2tzL2NvbmZpcm0tcmVnL2NvbmZpcm0tcmVnLmpzIiwid2VicGFjazovLy8uL3NyYy9ibG9ja3MvZm9sbG93L2ZvbGxvdy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYmxvY2tzL2hlYWRlci9idXJnZXItbWVudS9idXJnZXItbWVudS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYmxvY2tzL2hlYWRlci9oZWFkZXIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Jsb2Nrcy9pbnN0YWdyYW0tYWNjb3VudHMtbGlzdC9hY2NvdW50cy1saXN0LWJ0bi1zZXR0aW5ncy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYmxvY2tzL2xvZ2luLWZvcm0vbG9naW4tZm9ybS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYmxvY2tzL21lc3NhZ2VzL21lc3NhZ2VzLmpzIiwid2VicGFjazovLy8uL3NyYy9ibG9ja3MvbWVzc2FnZXMvcmVxdWVzdHMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Jsb2Nrcy9tZXNzYWdlcy91dGlscy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYmxvY2tzL3JlZ2lzdGVyLWZvcm0vcmVnaXN0ZXItZm9ybS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYmxvY2tzL3NpZGViYXItbWVudS9zaWRlYmFyLW1lbnUuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Jsb2Nrcy9zdG9yaWVzL3N0b3JpZXMtaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Jsb2Nrcy9zdG9yaWVzL3N0b3JpZXMtc3RhdHVzLmpzIiwid2VicGFjazovLy8uL3NyYy9ibG9ja3MvdW5mb2xsb3cvdW5mb2xsb3ctaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Jsb2Nrcy91bmZvbGxvdy91bmZvbGxvdy1zdGF0dXMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BhZ2VzL19hdXRoL2xvZ2luLXBhZ2UuanMiLCJ3ZWJwYWNrOi8vLy4vfi9ib290c3RyYXAtdGFnc2lucHV0L2Rpc3QvYm9vdHN0cmFwLXRhZ3NpbnB1dC5taW4uanMiLCJ3ZWJwYWNrOi8vLy4vfi9icnV0dXNpbi1qc29uLWZvcm1zL2Rpc3QvanMvYnJ1dHVzaW4tanNvbi1mb3Jtcy5taW4uanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Jhc2Uuc2NzcyIsIndlYnBhY2s6Ly8vKHdlYnBhY2spL2J1aWxkaW4vbW9kdWxlLmpzIiwid2VicGFjazovLy8uL34vd2hhdHdnLWZldGNoL2ZldGNoLmpzIl0sIm5hbWVzIjpbIkNPTlNUIiwidXJsIiwidG1UeXBlcyIsImZvbGxvd2luZ1QiLCJmb2xsb3dpbmdTdWJUIiwidW5mb2xsb3dpbmdUIiwidW5mb2xsb3dpbmdTdWJUIiwiY2hhdEJvdFQiLCJjaGF0Qm90U3ViVCIsImF1dG9tZXNzYWdlc1QiLCJhdXRvbWVzc2FnZXNTdWJUIiwiYXV0b2dyZWV0VCIsImF1dG9ncmVldFN1YlQiLCJzdG9yaWVzVCIsInN0b3JpZXNTdWJUIiwiYXV0b2NvbW1lbnRzVCIsImF1dG9jb21tZW50c1N1YlQiLCJiYXNlIiwicmVnaXN0cmF0aW9uIiwibG9naW4iLCJjb25maXJtYXRpb24iLCJpbnN0YWdyYW1fYWRkQWNjb3VudCIsImluc3RhZ3JhbUFjY291bnRfZ2V0TWV0YURhdGEiLCJpbnN0YWdyYW1fZ2V0QWNjb3VudEJ5VXNlciIsInVzZXJuYW1lIiwiaW5zdGFncmFtX21vZGlmeUFjY291bnQiLCJpbnN0YWdyYW1UYXNrTWFuYWdlcl9nZXRQb3N0cyIsImFjY291bnROYW1lIiwiaW5zdGFncmFtQWNjb3VudF9jaGVja3BvaW50IiwiaW5zdGFncmFtQWNjb3VudF9jb25maXJtS2V5IiwiaW5zdGFncmFtRGlyZWN0X0Jhc2ljIiwiaW5zdGFncmFtRGlyZWN0X3Bvc3RNZXNzYWdlIiwiaW5zdGFncmFtRGlyZWN0X2dldE1ldGFEYXRhIiwiaW5zdGFncmFtRGlyZWN0X1JlcXVlc3RQZW5kaW5nIiwiaW5zdGFncmFtVGFza01hbmFnZXIiLCJpbnN0YWdyYW1UYXNrTWFuYWdlcl9nZXRNZXRhRGF0YSIsImluc3RhZ3JhbVRhc2tNYW5hZ2VyX2dldFRhc2tCeVR5cGVzIiwiaW5zdGFncmFtVGFza01hbmFnZXJfZ2V0RGVmYXVsdENvbmZpZ3MiLCJpbnN0YWdyYW1UYXNrTWFuYWdlcl9wb3N0U3RhcnRGb2xsb3dpbmdMaXN0IiwiaW5zdGFncmFtVGFza01hbmFnZXJfcG9zdFN0YXJ0VGFzayIsImluc3RhZ3JhbVRhc2tNYW5hZ2VyX2dldFRhc2tUeXBlcyIsImluc3RhZ3JhbVRhc2tNYW5hZ2VyX3B1dFN0b3BUYXNrQnlJRCIsImlkIiwiaW5zdGFncmFtVGFza01hbmFnZXJfZGVsUmVtb3ZlVGFza0J5SUQiLCJpbnN0YWdyYW1UYXNrTWFuYWdlcl9wb3N0SW1hZ2VBdHRhY2htZW50IiwiaW5zdGFncmFtVGFza01hbmFnZXJfcG9zdFRleHRBdHRhY2htZW50IiwiaW5zdGFncmFtVGFza01hbmFnZXJfZ2V0TG9nc0NoYXRCb3QiLCJ1c2VyIiwiZGVmYXVsQXZhdGFyIiwiZW1haWwiLCJwYXNzd29yZCIsInRva2VuIiwiY29va2llU3RvcmFnZSIsImVtYWlsQ29uZmlybWVkIiwidWlTZWxlY3RvcnMiLCJoZWFkZXJMb2dpbkJveCIsImhlYWRlck5hdkxvZ2luQnRuIiwiaGVhZGVyUmVnQm94IiwiaGVhZGVyUmVnQnRuIiwiaW5zdGFncmFtIiwiYWRkQWNjb3VudEJ0blNlbGVjdG9yIiwiYWRkQWNjb3VudEJ0bklkIiwiZXZlbnRzIiwiVVNFUl9MT0dHRUQiLCJVU0VSX0xPR09VVCIsIlVTRVJfRU1BSUxfQ09ORklSTUVEIiwiU1RPUF9GSVhFRF9TUElOTkVSIiwibWVzc2FnZXMiLCJSRUNJRVZFX05FV19NRVNTQUdFIiwiaW5zdGFncmFtQWNjb3VucyIsIklOU1RBR1JBTV9BQ0NPVU5TX05FRURfUkVGUkVTSCIsIklOU1RBR1JBTV9BQ0NPVU5TX1JFTkRFUkVEIiwiSU5TVEFHUkFNX0FDQ09VTlNfUkVOREVSRURfTEFaWSIsIm1vZGFsIiwiSU1BR0VfUE9TVF9TRUxFQ1RFRCIsIklNQUdFX1VQTE9BREVEX0FWQVRBUiIsImF1dG9hcm5zd2VyIiwiSU1BR0VfVVBMT0FERUQiLCJURVhUX0ZJTEVfVVBMT0FERUQiLCJ0YXNrcyIsIk5FV19UQVNLX0NSRUFURUQiLCJsb2dzIiwiU1RPUF9MT0dTIiwibG9nc1N0YXRlIiwic2VsZWN0Q2xzIiwic2VsZWN0Q2xzTG9nc1Rhc2tUeXBlIiwid3JhcHBlclN1YnR5cGUiLCJnZXRQYXRoIiwibmFtZSIsImdldFBhdGhUeXBlU3VidHlwZSIsInBhdGgiLCJwYWdlIiwidHlwZSIsInN1YnR5cGUiLCJnZXRQYXRoQnlBcnIiLCJhcnJheSIsInJlZHVjZXIiLCJhY2N1bXVsYXRvciIsImN1cnJlbnRWYWx1ZSIsInJlZHVjZSIsInZpZXdVdGlscyIsInNob3dJbmZvTWVzc2FnZSIsInNlbGVjdG9yIiwibWVzc2FnZTEiLCJtZXNzYWdlMiIsIiQiLCJlbXB0eSIsImFwcGVuZCIsImZpbGxMaXN0IiwiJGxpc3QiLCJkYXRhQXJyYXkiLCJpdGVtcyIsImNMaXN0IiwiZm9yRWFjaCIsIml0ZW0iLCJpIiwibGkiLCJhcHBlbmRUbyIsImFkZENsYXNzIiwidGV4dCIsImlzRW1haWwiLCJyZWdleCIsInRlc3QiLCJnZXRGb3JtYXR0ZWREYXRlVXRpbCIsInRTdGFtcCIsInNob3dGdWxsVGltZSIsImRhdGUiLCJEYXRlIiwibW9udGgiLCJnZXRNb250aCIsImRheSIsImdldERhdGUiLCJob3VyIiwiZ2V0SG91cnMiLCJtaW4iLCJnZXRNaW51dGVzIiwic3RyIiwiZ2V0RnVsbFllYXIiLCJpc0VtcHR5Iiwib2JqIiwiT2JqZWN0Iiwia2V5cyIsImxlbmd0aCIsImZpbGxSYWRpb0dyb3VwTGlzdCIsIiR3cmFwcGVyIiwidGFza01vZGVzIiwiX2FjdGlvblRleHQiLCJjb25zb2xlIiwiaW5mbyIsImFjdGlvblRleHQiLCJyYWRpb0J0blJlZHVjZXIiLCJ2YWwiLCJsb2ciLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJnZXRWYWxCeUNvbW1hU2VwYXJhdG9yIiwiJGVsIiwidHJpbSIsInNwbGl0IiwibWFwIiwicmVwbGFjZSIsImZpbHRlciIsImFkZERyb3Bkb3duIiwiY2ZnIiwidGV4dFJ1c0FycmF5IiwibGFiZWwiLCJnZXRSdXMiLCJpZHgiLCJpc1RleHRVbmZvbGxvdyIsImlzUmVuZGVyRW1wdHlPcHRpb24iLCJkcm9wZG93bk9uU2VsZWN0Q2IiLCJvbiIsIm9ialRvQXJyIiwiaW5jbHVkZXMiLCJ2YWx1ZXMiLCJVc2VyVGFza01hbmFnZXIiLCJuZXR3b3JrIiwic2V0dGluZ1Bvc3QiLCJtZXRob2QiLCJoZWFkZXJzIiwicG9zdFN0YXJ0Rm9sbG93aW5nTGlzdCIsInBvc3RTdGFydFRhc2siLCJhc0hlYWRlciIsImNvb2tpZVRva2VuIiwiZ2V0IiwiY2JFcnJvciIsInBhdGhBcnIiLCJzZW5kUmVxdWVzdCIsImdldFRva2VuIiwicHVzaCIsImRldGFpbHMiLCJ0YXNrSWQiLCJzZXR0aW5nIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJwYXRoQXJyYXkiLCJjdXJzb3IiLCJ1cmxCeVVzZXJOYW1lIiwidXNlck5hbWUiLCJ1c2VySW5zdGFuY2UiLCJVc2VyIiwiZm9ybURhdGEiLCJpcCIsInBvcnQiLCJ1c2VybmFtZVByb3h5IiwicGFzc3dvcmRQcm94eSIsInByb3h5VE1QIiwiY2hlY2twb2ludFR5cGUiLCJrZXkiLCJDb29raWVTcnYiLCJjIiwiZG9jdW1lbnQiLCJjb29raWUiLCJtYXRjaCIsImRlY29kZVVSSUNvbXBvbmVudCIsInNldCIsInZhbHVlIiwib3B0cyIsImRheXMiLCJlbnRyaWVzIiwiayIsInYiLCJlbmNvZGVVUklDb21wb25lbnQiLCJyZW1vdmUiLCJnZXRUYXNrc0RhdGEiLCJpbml0IiwibW9kZVJ1cyIsIm1vZGUiLCJmaWxsTGlzdEJ5U3RhdGUiLCJ0YXNrU3RhdGUiLCJwcm9ncmVzcyIsImNyZWF0ZWRfYXQiLCJ0YXNrX2lkIiwic3RhdHVzIiwiYWRkSXRlbSIsInRwbFN0b3AiLCJ0cGxQYXVzZWQiLCJ0aW1lc3RhbXAiLCJ0cGxQcm9ncmVzcyIsInNlc3Npb25TdG9yYWdlIiwiZ2V0SXRlbSIsInJlYXNvbiIsInRwbEZpbmlzaGVkIiwiZmlsbExpc3RNZXRhIiwic3RhdGUiLCJpbml0SGFuZGxlcnMiLCJob2xkZXJzIiwiX3BhdGgiLCIkYnRuU3RvcFRhc2siLCIkYnRuRGVsVGFzayIsImdldFRhc2tJRCIsImUiLCJidG4iLCJ0YXJnZXQiLCJjbG9zZXN0IiwiZGF0YSIsInN0b3BUYXNrQnlJRCIsInRoZW4iLCJyZXN1bHQiLCJkZWxldGVUYXNrQnlJRCIsIiRhbGwiLCJnZXRNZXRhZGF0YSIsIm1ldGEiLCIkcnVucyIsIiRzdG9wcGVkIiwid2luZG93IiwiUHViU3ViIiwic3Vic2NyaWJlIiwiZXZlbnROYW1lIiwid2l6YXJkRm9ybVNlbGVjdG9yIiwiaW5pdFN0ZXBzIiwiZm9ybVNlbGVjdG9yIiwid2l6YXJkQ2ZnIiwiJGZvcm0iLCJzdGVwUmVkdWNlciIsIm9uU3VibWl0SGFuZGxlciIsInJlbW92ZUNsYXNzIiwiZmluZCIsImZhZGVJbiIsInBhcmVudF9maWVsZHNldCIsInBhcmVudHMiLCJuZXh0X3N0ZXAiLCJyYWRpb0J0bkFjdGl2ZSIsImluZGV4IiwiZWFjaCIsImZhZGVPdXQiLCJuZXh0IiwicHJldiIsInByZXZlbnREZWZhdWx0Iiwic3RvcFByb3BhZ2F0aW9uIiwiY3NzIiwiaGlkZSIsInNob3ciLCJtb2RpZnlBY2NMaXN0IiwicmFkaW9CdG5BcHBlbmQiLCJyYWRpb0J0bldyYXAiLCIkYWNjb3VudHNMaXN0IiwiJGxpIiwiY3VyckxpIiwid3JhcElubmVyIiwiJHBhcmVudEZpZWxkc2V0IiwicHJvcCIsIk1BWF9JTUdfRklMRV9TSVpFX0JZVEUiLCJmaWxlVXBsb2FkQm94IiwiZmlsZVVwbG9hZENvbnRlbnQiLCJyZW1vdmVVcGxvYWQiLCIkdXBsb2FkQ29udGFpbmVyIiwiaW5wdXQiLCJyZXBsYWNlV2l0aCIsImNsb25lIiwiJGltZ1VwbG9hZFdyYXAiLCJiaW5kIiwiZXJyb3JIYW5kbGVyIiwiZXZ0IiwicmVhZGVyIiwiZXJyb3IiLCJjb2RlIiwiTk9UX0ZPVU5EX0VSUiIsIk5PVF9SRUFEQUJMRV9FUlIiLCJBQk9SVF9FUlIiLCJ1cGRhdGVQcm9ncmVzcyIsImxlbmd0aENvbXB1dGFibGUiLCJwZXJjZW50TG9hZGVkIiwiTWF0aCIsInJvdW5kIiwibG9hZGVkIiwidG90YWwiLCJpc0ZpbGVUeXBlT2siLCJhY2NlcHRlZEZpbGUiLCJpc0ltZ1NpemVPayIsImltZ1NpemUiLCJzaXplIiwiaGFuZGxlU3VibWl0IiwicmVwbGFjZVdpdGhDZmciLCJmaWxlcyIsIkZvcm1EYXRhIiwicmVxdWVzdCIsIlhNTEh0dHBSZXF1ZXN0Iiwib3BlbiIsInNldFJlcXVlc3RIZWFkZXIiLCJzZW5kIiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlYWR5U3RhdGUiLCJyZXNwb25zZVRleHQiLCJwdWJsaXNoIiwicmVzcG9uc2UiLCJyZWFkVVJMIiwiaGFuZGxlU3VibWl0Q2IiLCJob2xkZXJDbHMiLCJob2xkZXIiLCIkY29udGFpbmVyIiwiRmlsZVJlYWRlciIsInNldFRpbWVvdXQiLCJvbmxvYWQiLCJhdHRyIiwiaHRtbCIsImltYWdlQ2xzIiwib25lcnJvciIsIm9ucHJvZ3Jlc3MiLCJyZWFkQXNEYXRhVVJMIiwidXBsb2FkQnRuQ2xzIiwiJHVwbG9hZEJ0biIsIiR1cGxvYWRJbnB1dCIsIiRyZW1vdmVJbWdCdG4iLCJvZmYiLCJ0b1BhcmVudENscyIsInRyaWdnZXIiLCJyZW1vdmVBdHRyIiwiY2xzQ29uc3QiLCJjdXJyZW50UGFnZUNscyIsInRhc2tzTGlzdCIsImxvZ3NUYWJCdG4iLCJwYWdpbmF0aW9uIiwicGFnaW5hdGlvblBnTnVtYmVyIiwiZ2V0VXNlcm5hbWUiLCJjdXJyZW50UGFnZSIsImludGVydmFsSWQiLCJpbml0SGFuZGxlclBhZ2luYXRpb24iLCIkcHJldmlvdXMiLCIkbmV4dCIsInNldHRpbmdzIiwiJGxpQWN0aXZlIiwicHJldmlvdXMiLCJnZXRMb2dzRGF0YSIsImN1cnJlbnRBY3RpdmVJZHgiLCJoYXNDbGFzcyIsInBhcnNlSW50IiwiYWRkUGFnaW5hdGlvbiIsInRwbFByZXZpb3VzIiwidHBsTmV4dCIsImNsZWFyUGFnaW5hdGlvbiIsInBhZ2VzIiwiY3VycmVudCIsImlzUnVucyIsIiR3cmFwcGVyUGFnaW5hdGlvbiIsImxldmVsIiwidGFiU3RvcFJlcUhhbmRsZXIiLCIkYWxsQXNpZGVUYWJzIiwidGFiIiwiY2xlYXJJbnRlcnZhbCIsImdldExvZ3NDaGF0Qm90IiwidXBkYXRlSW50ZXJ2YWwiLCJpbnZva2VfaW5fbWlsbGlzIiwic2V0SW50ZXJ2YWwiLCJwcmVDb25maWciLCJwYXRoVHlwZSIsInBhdGhTdWJUeXBlIiwiX3NlbGVjdENscyIsImZpbGxEcm9wZG93blVzZXJzQ2ZnIiwiZmlsbERyb3Bkb3duVXNlcnMiLCJhY2NvdW50cyIsIk9uQ2hhbmdlU2VsZWN0Q2IiLCJnZXRNZXRhTGF6eSIsImdldE1ldGFkYXRhTGF6eSIsInJlcyIsInRhYkhhbmRsZXIiLCJpc0NvbXB1dGVNdWx0eURyb3Bkb3duIiwiT25DaGFuZ2VTZWxlY3QiLCJhc3NpZ24iLCJuZXh0QnRudmFsaWRhdGVDb21wZXRpdG9yc0hhbmRsZXIiLCJpbml0VGFnc0lucHV0IiwidGFnc2lucHV0U2VsZWN0b3IiLCIkaW5wdXQiLCJuZXh0U3RlcEJ0biIsImlncm9yZVJlZ2V4Q2hlY2siLCJlbmdsaXNoQ2hhcnMiLCJjaGVja1RleHRBcmVhIiwiaXNJbml0IiwiaW5wdXR2YWx1ZSIsImlzUmVtb3ZlZCIsInRleHRPblJlbW92ZSIsInJlbW92ZUJvcmRlciIsImFkZEJvcmRlciIsImlzQWRkZWRUZXh0VmFsaWQiLCJpc1JlbW92ZWRUZXh0VmFsaWQiLCIkZWxJbnB1dCIsInRhZ3NpbnB1dCIsImZpbGxQb3N0cyIsImdldFBvc3RzIiwiaXNBcHBlbmRUb0xpc3QiLCJhZGRUb0xpc3QiLCJpc0FwcGVuZFByZXZNc2ciLCJpbnNlcnRBZnRlciIsInRwbCIsIm1vZGFsRm9vdGVyIiwiaGlkZVBhZ2luYXRpb24iLCJpbWFnZVNlbGVjdEhhbmRsZXIiLCJ0YXJnZXRCdXR0b24iLCJpbWFnZUJveENscyIsImltYWdlRGVsQnRuQ2xzIiwiaW1hZ2VCb3hTZWxlY3RvciIsIiRidG5MaSIsInBvc3RJZCIsInBvc3RUeXBlIiwiY2xvc2VzdENvbCIsInRwbEltYWdlQm94IiwicHJlcGVuZCIsImN1cnJlbnRJbWFnZUJveCIsImxvYWRNb3JlSGFuZGxlciIsImdldFBvc3RzQXV0b21lc3NhZ2VzIiwicG9zdHMiLCJwb3BvdmVyIiwiY29udGFpbmVyIiwiY29udGVudCIsInBsYWNlbWVudCIsImluaXRMb2dzVGFiIiwidGFicyIsIm1vdmVJbk9uZVJvdyIsInVzZXJMaXN0Qm94Iiwic3ViVHlwZUJveCIsImxvZ3NTdWJ0eXBlcyIsInNldFVzZXJOYW1lQ2IiLCJ1c2VybmFtZVNlbGVjdGVkIiwiaGFuZGxlTG9nc0Ryb3Bkb3ducyIsImF0dGFjaFR4dEZpbGVIYW5kbGVyIiwiRklMRV9UWVBFIiwiYWRkIiwiX2ZpbGVVcGxvYWRCb3giLCJvblN1Y2Nlc3NGaWxlVXBsb2FkQ2IiLCJjaGFuZ2UiLCJwYXJzZSIsImltYWdlSWQiLCJsaXN0X2lkIiwiZWwiLCJuZXh0U3RlcCIsImVtb2ppIiwiZW1vamlvbmVBcmVhIiwicGlja2VyUG9zaXRpb24iLCJ0b25lc1N0eWxlIiwiZmlsdGVyc1Bvc2l0aW9uIiwic2VhcmNoIiwia2V5dXAiLCJlZGl0b3IiLCJldmVudCIsImdldFRleHQiLCJOZXR3b3JrIiwibWVzc2FnZSIsIkVycm9yIiwic3RhdHVzVGV4dCIsIlVSTCIsIk9QVFMiLCJmZXRjaCIsIlByb21pc2UiLCJhbGwiLCJqc29uIiwib2siLCJjYkVycm9yRGVmYXVsdCIsImNoZWNrU3RhdHVzIiwiY2xhc3NlcyIsImlubGluZSIsIm92ZXJsYXkiLCJmaXhlZCIsImJ1dHRvbiIsIlNwaW5uZXIiLCJfY2ZnIiwic3RhcnRCdXR0b25TcGlubmVyIiwibmV3Q2xzIiwic3RvcEJ1dHRvblNwaW5uZXIiLCJleHRlbmQiLCJwcmV3Q2xzIiwidG9nZ2xlQ2xhc3MiLCJzcGlubmVySW5zdGFuY2UiLCJkcm9wRG93biIsImlzVGV4dFJ1c0FycmF5Iiwid3JhcHBlcnMiLCJsb2dzU3RhdGVTdGF0dXMiLCJwYXRoVXBkYXRlZCIsImlzSW5Db3JyZWN0UGFnZSIsImluaXRpYWxQYXRoIiwic3VidHlwZXMiLCJJbnN0YWdyYW1BY2NQYWdlQ2xzIiwiaXNJbnN0YWdyYW1BY2NQYWdlIiwiJG1zZ0xpc3QiLCJJTlNUQUdSQU1fQUNDT1VOVFNfSFJFRiIsImFkZExpc3RIYW5kbGVyIiwiJGJ1dHRvbiIsInNlbmRUbyIsImdldFNlY3VyaXR5S2V5IiwiJG1vZGFsIiwiJGtleUlucHV0IiwiY29uZmlybVNlY3VyaXR5S2V5IiwiY2F0Y2giLCJlcnIiLCJsZW4iLCJtaW5MZW4iLCJOdW1iZXIiLCJvbkhpZGVNb2RhbCIsInR5cGVTZWxlY3RlZCIsImNoZWNrcG9pbnRUeXBlQWN0aXZlIiwibW9kYWxDb25maWciLCJfY29uZmlnIiwiaW5zZXJ0SXRlbSIsImNzc0NscyIsImxpVHBsIiwic3RhdHMiLCJjaGVja1BvaW50VGV4dCIsImNoZWNrcG9pbnQiLCJhZGRTZXR0aW5nQnRuIiwiYWNjb3VudCIsImJpb2dyYXBoeSIsInByb2ZpbGVfcGljX3VybCIsImZvbGxvd2VyX2NvdW50IiwiZm9sbG93aW5nX2NvdW50IiwibWVkaWFfY291bnQiLCJpc19idXNpbmVzcyIsImlzX3ByaXZhdGUiLCJsb2NhdGlvbiIsImhyZWYiLCJyZW5kZXJJdGVtIiwiX2RlZmF1bHRBdmF0YXJTcmMiLCJkZWZhdWx0QXZhdGFyU3JjIiwiY2hlY2tSZXNwb25zZSIsImVyck1lc3NhZ2VGcm9udCIsInJlbG9hZExpc3QiLCJkZWxldGVCdG5DbHMiLCJ1cGRhdGVCdG5DbHMiLCJlZGl0QnRuQ2xzIiwiYWRkSW5zdGFncmFtQWNjb3VudCIsIm5ld0Zvcm1EYXRhIiwiYWRkT25Mb2FkSGFuZGxlcnMiLCIkbW9kYWxCb2R5IiwiZm9ybSIsImNzc1ZhbGlkYXRpb25DbGFzcyIsImlzVmFsaWRJcHY0QWRkciIsImlzVmFsaWRQb3J0IiwiY2hlY2tWYWxpZGl0eSIsInJlcG9ydFZhbGlkaXR5IiwibWV0YWRhdGEiLCJhdmF0YXIiLCJzZXRJdGVtIiwiVXNlckNvbnZlcnNhdGlvbiIsImNvbnZlcnNhdGlvbklkIiwiY29uZmlybVVzZXJEYXRhIiwiaGVhZGVyIiwic2lkZWJhck1lbnUiLCJidXJnZXJNZW51IiwiaW5zdGFncmFtQWNjb3VudHMiLCJmb2xsb3ciLCJ1bmZvbGxvdyIsImF1dG9tZXNzYWdlcyIsImNoYXRCb3QiLCJhdXRvZ3JlZXRpbmciLCJhdXRvY29tbWVudHMiLCJzdG9yaWVzIiwic2V0UHViU3ViIiwiaW5pdFRvb2x0aXAiLCJ0b29sdGlwIiwiX2xvZ2luQm94IiwiX2Zvcm1JZCIsIl9idXR0b25TdWJtaXRJZCIsIl9zaG93TG9naW5Cb3hCdG5JZCIsImlzTG9naW5JbnN0YWdyYW0iLCJpbml0SGVhZGVyIiwiaW5pdE1lbnUiLCJ0cGxUZXh0RmllbGQiLCJtYWluQ2xzIiwid2l6YXJkRm9ybSIsImF1dG9jb21tZW50c1N0YXR1cyIsImltYWdlVXBsb2FkIiwiZWxTZWxlY3RvciIsImZpZWxkcyIsImtleVdvcmQiLCJhbnN3ZXIiLCJhZGRQb3N0QnRucyIsImluaXRFbW9qaWkiLCJzdHlsZXMiLCJvbGQiLCJuZXciLCJ2YWxpZGF0ZUlzRW1wdHkiLCIkZWxlbWVudHMiLCJyZXFCb2R5IiwidmFsaWRhdGlvbiIsIiRlbGVtZW50c0tleVdvcmQiLCIkZWxlbWVudHNBbnN3ZXIiLCIkaW1hZ2VQb3N0Qm94IiwicG9zdEl0ZW1JZCIsInBvc3RJdGVtVHlwZSIsImJsYWNrbGlzdFdvcmRzIiwiYmxhY2tsaXN0V29yZHNBcnIiLCJzdWJtaXRCb2R5SXRlbSIsImJsYWNrbGlzdCIsInVuZGVmaW5lZCIsImF0dGFjaG1lbnQiLCJwb3N0IiwiblJlcUJvZHkiLCJtc2ciLCJyZW1vdmVFeHRyYVRleHRGaWVsZHMiLCIkYnRuIiwiaW5pdE1vZGFsSGFuZGxlciIsIiRjb21wZXRpdG9yc0lucHV0IiwiJGJsYWNrTGlzdElucHV0IiwibGFzdFRleHRGaWVsZCIsImxhc3QiLCJzdWJzdHIiLCJsYXN0VGV4dEZpZWxkQWZ0ZXJJbnNlcnQiLCIkaW5wdXRBbnN3ZXJXb3JkcyIsInNldFVzZXJOYW1lIiwic3RlcE51bWJlciIsInRwbFRleHRGaWVsZEdyZWV0IiwiY2hhdEJvdFN0YXR1cyIsInNwZWVkVHlwZSIsInVzZXJfZGVmYXVsdF9jb25maWciLCJ0YXNrX21vZGUiLCJnZXRBdHRhY2htZW50IiwiYXR0YWNobWVudEltZyIsImdldERhdGFTdGVwU3BlZWQiLCJmaWxsU3BlZWRMaXN0IiwidGFza19tb2RlcyIsImdldERlZmF1bHRDb25maWdzIiwiZm91bmQiLCJ0b1VwcGVyQ2FzZSIsImltYWdlX2lkIiwiJGltYWdlQm94IiwiYXV0b21lc3NhZ2VzU3RhdHVzIiwiY2hhdEJvdExvZ3MiLCJrZXlXb3JkcyIsImZpbGxMaXN0VXNlcnMiLCJjb25maXJtYXRpb25XaXRoUmVkaXJlY3QiLCJwYXJzZVF1ZXJ5U3RyaW5nIiwib2JqVVJMIiwiUmVnRXhwIiwiJDAiLCIkMSIsIiQyIiwicGFyYW1zIiwic2VuZENvbmZpcm0iLCJjb25maXJtIiwiY3VzdG9tZXJzRGF0YVN0cmluZyIsInJlZGlyZWN0IiwicGF0aG5hbWUiLCJpbmRleE9mIiwiZm9sbG93U3RhdHVzQnlTdWJ0eXBlIiwiY291bnQiLCJwZXJjZW50IiwiZ2V0RGF0YVN0ZXAyIiwidG9nZ2xlQWRkVGV4dEJ0biIsInNldENvbXBldGl0b3JzIiwiY29tcGV0aXRvcnMiLCIkY29tcGV0aXRvcnNUZXh0QXJlYSIsInBhcmVudCIsImNyaXRlcmlhIiwibGltaXQiLCJmb3JtcyIsImhhdmVfcG9zdHMiLCJmcm9tIiwidG8iLCJoYXZlX2ZvbGxvd2VycyIsImhhdmVfZm9sbG93aW5ncyIsImZvY3VzIiwiX3VzZXJuYW1lU2VsZWN0ZWQiLCJzZWxlY3RvcnNFbCIsImxlZnRNZW51IiwiaGFtYnVyZ2VyQnV0dG9uQ2xzIiwiaGFtYnVyZ2VyTWVudUNscyIsImhhbWJ1cmdlck1lbnVPcGVuZWRDbGFzcyIsImhhbWJ1cmdlckJ1dHRvbkNsb3NlQ2xhc3MiLCJyaWdodE1lbnUiLCJzdWJIZWFkZXIiLCJ0b2dnbGVIYW1idXJnZXJNZW51IiwibWVudU5hbWUiLCJzZWxlY3RvckxvZ2luU3RhdGUiLCJzZWxlY3RvckVtYWlsQ29uZmlybVN0YXRlIiwiY2xvc2VDbGFzcyIsIm9wZW5lZENsYXNzIiwiZW1haWxOb3RDb25maXJtZWQiLCIkZW1haWxuTXNnIiwib25Mb2dpblN1YnNjcmliZSIsIiRsb2dpbk1zZyIsImlzRW1haWxDb25maXJtZWQiLCJzaG93TG9nb3V0IiwiaXNMb2dnZWQiLCJpc0xvZ2dlZEluIiwib2xkVVJMIiwicmVmZXJyZXIiLCJzZXR0aW5nQnV0dG9uc0hhbmRsZXIiLCJ1cGRhdGVCdXR0b25zRGF0YUF0dHIiLCJzZXR0aW5nQnV0dG9uc0hhbmRsZXJDYiIsImNsYXNzQ2ZnIiwibW9kYWxDb25maXJtIiwidXNlck9yaWdpbmFsIiwicHJvZmlsZSIsImRlbEluc3RhZ3JhbUFjY291bnQiLCJ1cGRhdGVJbnN0YWdyYW1BY2NvdW50IiwibW9kYWxFZGl0IiwiJGVkaXRCdG4iLCJzaXRlIiwiYWJvdXQiLCJpbWdTcmMiLCJpc0J1c2luZXNzIiwiaXNQcml2YXRlIiwiZm9ybUZpZWxkcyIsInVzZXJBdmF0YXJJbWciLCJmb2xsb3dlckMiLCJmb2xsb3dpbmdDIiwibWVkaWFDIiwic3JjIiwiJHByb2ZpbGVCb3giLCJ1cGRhdGVEYXRhQXR0clVzZXJuYW1lIiwiZWRpdEluc3RhZ3JhbUFjY291bnQiLCJpc09wZW4iLCJMb2dpbkZvcm0iLCJzZWxlY3RvckNzcyIsIiRlbWFpbCIsIiR0ZXh0QXJlYURlc2NyaXB0aW9uIiwidXNlckxvZ2luSGVhZGVyIiwiX2Zvcm1EYXRhIiwic3VibWl0Rm9ybSIsImZvcm1EYXRhT2JqIiwidG9Mb2NhbGVMb3dlckNhc2UiLCJsb2dPdXQiLCJiaW5kRXZlbnRzIiwiJHNob3dMb2dpbkJveEJ0bklkIiwiJGxvZ2luQm94IiwiJGJ1dHRvblN1Ym1pdCIsImlzTG9naW5CdG5DbGljayIsImlzQWRkSW5zdGFncmFtQnRuQ2xpY2tlZCIsInN0YXRlQ2ZnIiwicGFnZUluY3JlbWVudCIsImxvYWRpbmdGbGFnIiwic2V0U2luZ2xlVmFsIiwiaW50ZXJ2YWxVc2VyTGlzdCIsImluaXRpYWxWYWwiLCJmbGFnSW5pdGlhbFZhbCIsImN1cnJlbnRVc2VyRGF0YSIsInVzZXJhdmF0YXIiLCJzY3JvbGxMb2FkZXJTdGF0ZSIsImZpcnN0TG9hZCIsImFsbE1zZ0xvYWRlZCIsInJlbmRlclJlc3VsdHMiLCJ1bEVsZW1lbnQiLCJzaG93TWVzc2FnZSIsImVsZW1lbnQiLCJjbGVhckxpc3QiLCJpc0luTWVzc2FnZVBhZ2UiLCIkdXNlckxpc3QiLCJyZWFkeSIsImF1dG9jb21wbGV0ZSIsImlzVGltZU91dFJ1bm5lZCIsImdldEFuZEZpbGxVc2VyTGlzdEN1cnNvciIsImxvYWRNb3JlQ2JBcmdzQ3Vyc29yIiwic2VjdGlvbiIsImdldE1ldGFkYXRhRGV0YWlsVXNlcnMiLCJwcmV2X2N1cnNvciIsIiRjb2xsYXBzZSIsImdldEFuZEZpbGxVc2VyTGlzdCIsImlzQWN0aXZlRmlyc3QiLCJ1c2VyTGlzdCIsInByZXZBY3RpdmVEaWFsb2dJZCIsInNvcnQiLCJhIiwiYiIsImxvY2FsZUNvbXBhcmUiLCJjYkZuIiwidXNlckRhdGEiLCJnZXRNZXRhZGF0YURldGFpbENvbnZlcnNhdGlvbiIsIm5ld0N1cnNvciIsInNjcm9sbFRvcCIsInNjcm9sbEhhbmRsZXIiLCJzY3JvbGxEZWxheSIsInJlY2VudFNjcm9sbCIsIm1ha2VSZXFPbmNlIiwiY2hlY2tJc09uY2UiLCJpbm5lckhlaWdodCIsInNjcm9sbEhlaWdodCIsImdldEFuZEZpbGxDb252ZXJzYXRpb24iLCJpc1Njcm9sbERvd24iLCJpc0NsaWNrRnJvbVJlcXVlc3RDb25maXJtIiwiVElNRV9TQ1JPTEwiLCJhbmltYXRlIiwiY2xpZW50SGVpZ2h0IiwiaW1hZ2VMb2FkU3VibWl0Q2IiLCJhZGRIYW5kbGVycyIsIiR0ZXh0QXJlYSIsInBvc3RNZXRhZGF0YURldGFpbENvbnZlcnNhdGlvbiIsInVzZXJTaG93Q29udmVyc2V0aW9uSGFuZGxlciIsInVzZXJEYXRhRnJvbUxpR3JvdXAiLCIkdGFyZ2V0QnRuIiwiJHRpdGxlIiwicmVzdWx0RnJvbVNlcnZlciIsIiRkaWFsb2ciLCJmaWxsVXNlckxpc3RGbiIsImluaXRSZXF1ZXN0cyIsImFkZENvbmZpcmdCdXR0b25zIiwiJGNvbmZpcm1CdG5Cb3giLCJjb252ZXJzYXRpb25EZXRhaWwiLCJzcmNJbWciLCJwcm9maWxlUGljVXJsIiwiYWRkQ29udmVyc2F0aW9ucyIsImNvbnZlcnNhdGlvbnMiLCJ1c2VycyIsInRpdGxlIiwiZ2V0UmVxdWVzdFBlbmRpbmciLCJlbElkIiwicmVxdWVzdHMiLCJmaWxsVXNlckxpc3QiLCJsb2FkTW9yZUNiRnVuY3Rpb24iLCJwZW5kaW5nX3JlcXVlc3RzIiwiJHJlcUNvbmZpcm1CdG4iLCIkcmVxUmVqZWN0QnRuIiwicHV0UmVxdWVzdFBlbmRpbmciLCJkZWxSZXF1ZXN0UGVuZGluZyIsIiRzaG93VXNlckxpc3QiLCJjbGVhck1hc3NhZ2VzTGlzdCIsImZpbGxNYXNzYWdlc0xpc3QiLCJhcHBlbmRVc2VyTGlzdCIsImluc2VydE1zZyIsInZhbHVlV2l0aFVybCIsImNhcHRpb24iLCJzdWJzdCIsInRvTG93ZXJDYXNlIiwicHJldmlld192YWx1ZSIsImluc2VydEJlZm9yZSIsInNpZGUiLCJpc1VucmVhZCIsImxhc3RNZXNzYWdlIiwiaXNMYXN0TXNnIiwiaXNBZGREb3QiLCJsb2FkTW9yZUJveCIsIiRidG5Cb3giLCJtZXNzYWdlQXJlYUhlbmRsZXIiLCIkc2VuZE1lc3NhZ2VCdXR0b24iLCJrZXlDb2RlIiwiY3RybEtleSIsInNlbGVjdG9yQ2xzIiwic3VibWl0QnRuIiwiUmVnaXN0ZXJGb3JtIiwiYm9yZGVyRGFuZ2VyQ2xzIiwiJHBhc3N3b3JkIiwiJHBhc3N3b3JkQ29uZmlybSIsInBhc3N3b3JkQ29uZmlybSIsInJlZ2lzdGVyIiwicmVnaXN0ZXJCb3giLCJpcyIsImlzUmVnQnRuQ2xpY2siLCJ1cmxUb0NoZWNrIiwicGF0aE5hbWUiLCJpc0FjdGl2ZVVybCIsInN0b3JpZXNTdGF0dXMiLCJ3aXphcmRGb3JtTmFtZSIsInRhc2tNb2RlIiwibWF4X3ZpZXdzIiwidXNlcl9jdXN0b21fY29uZmlnIiwic2V0VXNlck5hbWVGaXJzdFN0ZXAiLCJjb250YWluZXJDbHMiLCJyZW5kZXJUYXNrTW9kZSIsImRlZmF1bHRDZmciLCJ0YXNrTW9kZVNlbGVjdG9yIiwiZ2V0Q29uZmlnIiwiZ2V0U3Rvcmllc0NvbmZpZyIsImxpbWl0VmFsIiwiYWRkVGV4dEFyZWEiLCJmaWVsZExhc3QiLCJhZGRGaWxlVXBsb2FkQm94IiwiJGZpbGVVcGxvYWRCb3giLCIkdGl0bGVTdGVwQm94IiwiJGFkZFNldHRpbmdzIiwiaXNJbkN1cnJlbnRQYWdlIiwiaXNJblN0b3JpZXNQYWdlIiwidGFiU3RhdHVzIiwidHlwZVJhZGlvR3JvdXAiLCJhZGRVcGxvYWRCdXR0b24iLCJjaGVja1RpdGxlU3RlcDMiLCJhZnRlciIsIkxvZ2luUGFnZSJdLCJtYXBwaW5ncyI6IjtBQUFBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOzs7QUFHQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxtREFBMkMsY0FBYzs7QUFFekQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxtQ0FBMkIsMEJBQTBCLEVBQUU7QUFDdkQseUNBQWlDLGVBQWU7QUFDaEQ7QUFDQTtBQUNBOztBQUVBO0FBQ0EsOERBQXNELCtEQUErRDs7QUFFckg7QUFDQTs7QUFFQTtBQUNBOzs7Ozs7Ozs7Ozs7O0FDaEVPLElBQU1BLHdCQUFRO0FBQ2pCQyxTQUFLO0FBQ0RDLGlCQUFTO0FBQ0xDLHdCQUFZLFdBRFA7QUFFTEMsMkJBQWUsQ0FBQyxtQkFBRCxFQUFzQiw4QkFBdEIsQ0FGVjtBQUdMQywwQkFBYyxhQUhUO0FBSUxDLDZCQUFpQixDQUFDLHFCQUFELEVBQXdCLG9CQUF4QixFQUE4QywrQkFBOUMsQ0FKWjtBQUtMQyxzQkFBVSxVQUxMO0FBTUxDLHlCQUFhLENBQUMsa0JBQUQsQ0FOUjtBQU9MQywyQkFBZSxhQVBWO0FBUUxDLDhCQUFrQixDQUFDLHFCQUFELENBUmI7QUFTTEMsd0JBQVksZUFUUDtBQVVMQywyQkFBZSxDQUFDLHVCQUFELENBVlY7QUFXTEMsc0JBQVUsU0FYTDtBQVlMQyx5QkFBYSxDQUFDLGlCQUFELEVBQW9CLHNCQUFwQixFQUE0Qyw0QkFBNUMsQ0FaUjtBQWFMQywyQkFBZSxjQWJWO0FBY0xDLDhCQUFrQixDQUFDLHNCQUFEO0FBZGIsU0FEUjtBQWlCREMsY0FBTSwyQkFqQkw7QUFrQkRDLHNCQUFjLHFCQWxCYjtBQW1CREMsZUFBTywwQkFuQk47QUFvQkRDLHNCQUFjLHVDQXBCYjs7QUFzQkQ7QUFDQUMsOEJBQXNCLHFCQXZCckI7QUF3QkRDLHNDQUE4Qix5QkF4QjdCO0FBeUJEQyxvQ0FBNEI7QUFBQSxnREFBdUNDLFFBQXZDO0FBQUEsU0F6QjNCO0FBMEJEQyxpQ0FBeUI7QUFBQSwyQ0FBa0NELFFBQWxDO0FBQUEsU0ExQnhCO0FBMkJERSx1Q0FBK0I7QUFBQSwyQ0FBcUNDLFdBQXJDO0FBQUEsU0EzQjlCOztBQTZCRDtBQUNBQyxxQ0FBNkIsZ0NBOUI1QjtBQStCREMscUNBQTZCLGdDQS9CNUI7O0FBaUNEO0FBQ0FDLCtCQUF1QixrQkFsQ3RCO0FBbUNEQyxxQ0FBNkIsbUJBbkM1QjtBQW9DREMscUNBQTZCLHVCQXBDNUI7QUFxQ0RDLHdDQUFnQywwQkFyQy9CO0FBc0NEOztBQUVBO0FBQ0FDLDhCQUFzQix5QkF6Q3JCO0FBMENEQywwQ0FBa0MsNkJBMUNqQztBQTJDREMsNkNBQXFDLG1DQTNDcEM7QUE0Q0Q7QUFDQUMsZ0RBQXdDLG9DQTdDdkMsRUE2QzZFO0FBQzlFO0FBQ0FDLHFEQUE2Qyw2QkEvQzVDO0FBZ0REQyw0Q0FBb0MsNkJBaERuQztBQWlEREMsMkNBQW1DLG1DQWpEbEM7QUFrRERDLDhDQUFzQztBQUFBLG9EQUFxQ0MsRUFBckM7QUFBQSxTQWxEckM7QUFtRERDLGdEQUF3QztBQUFBLG9EQUFxQ0QsRUFBckM7QUFBQSxTQW5EdkM7QUFvRERFLGtEQUEwQyw4Q0FwRHpDO0FBcUREQyxpREFBeUMsbURBckR4QztBQXNEREMsNkNBQXFDLG1DQXREcEMsQ0FzRHdFO0FBdER4RSxLQURZO0FBeURqQkMsVUFBTTtBQUNGQyxzQkFBYyxpQ0FEWixFQUMrQztBQUNqREMsZUFBTyxFQUZMO0FBR0ZDLGtCQUFVLEVBSFI7QUFJRkMsZUFBTztBQUpMLEtBekRXO0FBK0RqQkMsbUJBQWU7QUFDWEQsZUFBTyxhQURJO0FBRVhFLHdCQUFnQjtBQUZMLEtBL0RFO0FBbUVqQkMsaUJBQWE7QUFDVEMsd0JBQWdCLGdCQURQO0FBRVRDLDJCQUFtQixxQkFGVjtBQUdUQyxzQkFBYyxtQkFITDtBQUlUQyxzQkFBYyx3QkFKTDtBQUtUQyxtQkFBVztBQUNQQyxtQ0FBdUIsb0JBRGhCO0FBRVBDLDZCQUFpQjtBQUZWO0FBTEYsS0FuRUk7QUE2RWpCQyxZQUFRO0FBQ0pDLHFCQUFhLGFBRFQ7QUFFSkMscUJBQWEsYUFGVDtBQUdKQyw4QkFBc0Isc0JBSGxCO0FBSUpDLDRCQUFvQixvQkFKaEI7QUFLSkMsa0JBQVU7QUFDTkMsaUNBQXFCO0FBRGYsU0FMTjtBQVFKQywwQkFBa0I7QUFDZEMsNENBQWdDLGdDQURsQjtBQUVkQyx3Q0FBNEIsNEJBRmQ7QUFHZEMsNkNBQWlDO0FBSG5CLFNBUmQ7QUFhSkMsZUFBTztBQUNIQyxpQ0FBcUIscUJBRGxCO0FBRUhDLG1DQUF1QjtBQUZwQixTQWJIO0FBaUJKQyxxQkFBYTtBQUNUQyw0QkFBZ0IsY0FEUDtBQUVUQyxnQ0FBb0I7QUFGWCxTQWpCVDtBQXFCSkMsZUFBTztBQUNIQyw4QkFBa0I7QUFEZixTQXJCSDtBQXdCSkMsY0FBTTtBQUNGQyx1QkFBVztBQURUO0FBeEJGLEtBN0VTO0FBeUdqQkMsZUFBVztBQUNQQyxtQkFBVyxrQkFESjtBQUVQQywrQkFBdUIsa0JBRmhCO0FBR1BDLHdCQUFnQjtBQUhULEtBekdNO0FBOEdqQkMsV0E5R2lCLG1CQThHVEMsSUE5R1MsRUE4R0g5QyxFQTlHRyxFQThHQztBQUNkLFlBQUksT0FBTyxLQUFLekMsR0FBTCxDQUFTdUYsSUFBVCxDQUFQLEtBQTBCLFVBQTFCLElBQXdDOUMsRUFBNUMsRUFBZ0Q7QUFDNUMsbUJBQU8sS0FBS3pDLEdBQUwsQ0FBU2dCLElBQVQsR0FBZ0IsS0FBS2hCLEdBQUwsQ0FBU3VGLElBQVQsRUFBZTlDLEVBQWYsQ0FBdkI7QUFDSDtBQUNELGVBQU8sS0FBS3pDLEdBQUwsQ0FBU2dCLElBQVQsR0FBZ0IsS0FBS2hCLEdBQUwsQ0FBU3VGLElBQVQsQ0FBdkI7QUFDSCxLQW5IZ0I7QUFvSGpCQyxzQkFwSGlCLDhCQW9IRUQsSUFwSEYsRUFvSFFFLElBcEhSLEVBb0hjQyxJQXBIZCxFQW9Ib0I7QUFBQSxZQUMxQkMsSUFEMEIsR0FDQ0YsSUFERCxDQUMxQkUsSUFEMEI7QUFBQSxZQUNwQkMsT0FEb0IsR0FDQ0gsSUFERCxDQUNwQkcsT0FEb0I7QUFBQSxZQUNYckUsUUFEVyxHQUNDa0UsSUFERCxDQUNYbEUsUUFEVzs7QUFFakMsWUFBSSxPQUFPLEtBQUt2QixHQUFMLENBQVN1RixJQUFULENBQVAsS0FBMEIsVUFBMUIsSUFBd0NJLElBQXhDLElBQWdEQyxPQUFwRCxFQUE2RDtBQUN6RCxnQkFBSXJFLFlBQVltRSxJQUFoQixFQUFzQjtBQUNsQix1QkFBTyxLQUFLMUYsR0FBTCxDQUFTZ0IsSUFBVCxHQUFnQixLQUFLaEIsR0FBTCxDQUFTdUYsSUFBVCxFQUFlRSxJQUFmLEVBQXFCQyxJQUFyQixDQUF2QjtBQUNIO0FBQ0QsZ0JBQUluRSxRQUFKLEVBQWM7QUFDVix1QkFBTyxLQUFLdkIsR0FBTCxDQUFTZ0IsSUFBVCxHQUFnQixLQUFLaEIsR0FBTCxDQUFTdUYsSUFBVCxFQUFlRSxJQUFmLENBQXZCO0FBQ0g7QUFDRCxtQkFBTyxLQUFLekYsR0FBTCxDQUFTZ0IsSUFBVCxHQUFnQixLQUFLaEIsR0FBTCxDQUFTdUYsSUFBVCxFQUFlSSxJQUFmLEVBQXFCQyxPQUFyQixDQUF2QjtBQUNIO0FBQ0QsZUFBTyxLQUFLNUYsR0FBTCxDQUFTZ0IsSUFBVCxHQUFnQixLQUFLaEIsR0FBTCxDQUFTdUYsSUFBVCxDQUF2QjtBQUNILEtBaElnQjtBQWlJakJNLGdCQWpJaUIsd0JBaUlKTixJQWpJSSxFQWlJRU8sS0FqSUYsRUFpSVNKLElBaklULEVBaUllO0FBQzVCLFlBQU0xRSxPQUFPLEtBQUtoQixHQUFMLENBQVNnQixJQUFULEdBQWdCLEtBQUtoQixHQUFMLENBQVN1RixJQUFULENBQTdCO0FBQ0EsWUFBTVEsVUFBVSxTQUFWQSxPQUFVLENBQUNDLFdBQUQsRUFBY0MsWUFBZDtBQUFBLG1CQUFrQ0QsV0FBbEMsU0FBaURDLFlBQWpEO0FBQUEsU0FBaEI7QUFDQSxZQUFNakcsTUFBTWdCLE9BQU84RSxNQUFNSSxNQUFOLENBQWFILE9BQWIsQ0FBbkIsQ0FINEIsQ0FHYztBQUMxQztBQUNBLFlBQUlMLElBQUosRUFBVTtBQUNOLG1CQUFVMUYsR0FBVixjQUFzQjBGLElBQXRCO0FBQ0g7QUFDRCxlQUFPMUYsR0FBUDtBQUNIO0FBMUlnQixDQUFkLEM7Ozs7Ozs7Ozs7OztBQ0FQO0FBQ0E7O0FBRUEsU0FBU21HLFNBQVQsR0FBcUI7QUFDakIsYUFBU0MsZUFBVCxDQUF5QkMsUUFBekIsRUFBbUNDLFFBQW5DLEVBQTZDQyxRQUE3QyxFQUF1RDtBQUNuREMsVUFBRUgsUUFBRixFQUFZSSxLQUFaLEdBQ0tDLE1BREwsT0FDZ0JKLFFBQUQsbUJBQTJCQSxRQUEzQixZQUE0QyxFQUQzRCxHQUVLSSxNQUZMLFNBRWtCSCxRQUZsQjtBQUdIOztBQUVELGFBQVNJLFFBQVQsQ0FBa0JDLEtBQWxCLEVBQXlCQyxTQUF6QixFQUFvQztBQUNoQyxZQUFNQyxRQUFRRCxTQUFkO0FBQ0EsWUFBTUUsUUFBUUgsS0FBZDtBQUNBRyxjQUFNTixLQUFOO0FBQ0FLLGNBQU1FLE9BQU4sQ0FBYyxVQUFDQyxJQUFELEVBQU9DLENBQVAsRUFBYTtBQUN2QixnQkFBTUMsS0FBS1gsRUFBRSxtQ0FBRixFQUNOWSxRQURNLENBQ0dMLEtBREgsQ0FBWDtBQUVBUCxjQUFFLE1BQUYsRUFBVWEsUUFBVixDQUFtQixRQUFuQixFQUNLQyxJQURMLENBQ1VMLEtBQUsxRixRQURmLEVBRUs2RixRQUZMLENBRWNELEVBRmQ7QUFHSCxTQU5EO0FBT0g7O0FBRUQsYUFBU0ksT0FBVCxDQUFpQnZFLEtBQWpCLEVBQXdCO0FBQ3BCO0FBQ0EsWUFBTXdFLFFBQVEsK0RBQWQ7QUFDQSxlQUFPQSxNQUFNQyxJQUFOLENBQVd6RSxLQUFYLENBQVA7QUFDQTtBQUNIOztBQUVELGFBQVMwRSxvQkFBVCxDQUE4QkMsTUFBOUIsRUFBc0NDLFlBQXRDLEVBQW9EO0FBQ2hELFlBQU1DLE9BQU8sSUFBSUMsSUFBSixDQUFTSCxNQUFULENBQWI7O0FBRUEsWUFBSUksUUFBUUYsS0FBS0csUUFBTCxLQUFrQixDQUE5QjtBQUNBLFlBQUlDLE1BQU1KLEtBQUtLLE9BQUwsRUFBVjtBQUNBLFlBQUlDLE9BQU9OLEtBQUtPLFFBQUwsRUFBWDtBQUNBLFlBQUlDLE1BQU1SLEtBQUtTLFVBQUwsRUFBVjtBQUNBOztBQUVBUCxnQkFBUSxDQUFDQSxRQUFRLEVBQVIsR0FBYSxHQUFiLEdBQW1CLEVBQXBCLElBQTBCQSxLQUFsQztBQUNBRSxjQUFNLENBQUNBLE1BQU0sRUFBTixHQUFXLEdBQVgsR0FBaUIsRUFBbEIsSUFBd0JBLEdBQTlCO0FBQ0FFLGVBQU8sQ0FBQ0EsT0FBTyxFQUFQLEdBQVksR0FBWixHQUFrQixFQUFuQixJQUF5QkEsSUFBaEM7QUFDQUUsY0FBTSxDQUFDQSxNQUFNLEVBQU4sR0FBVyxHQUFYLEdBQWlCLEVBQWxCLElBQXdCQSxHQUE5QjtBQUNBOztBQUVBLFlBQUlFLE1BQU0sRUFBVjtBQUNBLFlBQUksQ0FBQ1gsWUFBTCxFQUFtQjtBQUNmVyxrQkFBU0osSUFBVCxTQUFpQkUsR0FBakI7QUFDSCxTQUZELE1BRU87QUFDSDtBQUNBRSxrQkFBU04sR0FBVCxTQUFnQkYsS0FBaEIsU0FBeUJGLEtBQUtXLFdBQUwsRUFBekIsU0FBK0NMLElBQS9DLFNBQXVERSxHQUF2RDtBQUNIOztBQUVELGVBQU9FLEdBQVA7QUFDSDs7QUFFRCxhQUFTRSxPQUFULENBQWlCQyxHQUFqQixFQUFzQjtBQUNsQixlQUFPLENBQUNBLEdBQUQsSUFBUUMsT0FBT0MsSUFBUCxDQUFZRixHQUFaLEVBQWlCRyxNQUFqQixLQUE0QixDQUEzQztBQUNIOztBQUVELGFBQVNDLGtCQUFULENBQTRCQyxRQUE1QixFQUFzQ0MsU0FBdEMsRUFBaURDLFdBQWpELEVBQThEO0FBQzFELFlBQUlSLFFBQVFPLFNBQVIsQ0FBSixFQUF3QjtBQUNwQkUsb0JBQVFDLElBQVIsQ0FBYSxvQkFBYjtBQUNIO0FBQ0QsWUFBTUMsYUFBYUgsZUFBZSxVQUFsQyxDQUowRCxDQUlaO0FBQzlDLFlBQU1JLGtCQUFrQixTQUFsQkEsZUFBa0IsQ0FBVXBDLElBQVYsRUFBZ0JxQyxHQUFoQixFQUFxQjtBQUN6QyxvQkFBUXJDLElBQVI7QUFDSSxxQkFBSyxZQUFMO0FBQ0ksd0RBQWtDQSxJQUFsQyxvQ0FBcUVBLElBQXJFLHNHQUMyQ0EsSUFEM0MsK0ZBQ2tGcUMsR0FEbEYsU0FDeUZGLFVBRHpGO0FBRUoscUJBQUssUUFBTDtBQUNJLHdEQUFtQ25DLElBQW5DLG9DQUFzRUEsSUFBdEUsc0dBQzJDQSxJQUQzQyx1RUFDOEVxQyxHQUQ5RSxTQUNxRkYsVUFEckY7QUFFSixxQkFBSyxNQUFMO0FBQ0ksd0RBQWtDbkMsSUFBbEMsb0NBQXFFQSxJQUFyRSw4R0FDMkNBLElBRDNDLHlGQUNpRnFDLEdBRGpGLFNBQ3dGRixVQUR4RjtBQUVKO0FBQ0lGLDRCQUFRSyxHQUFSLENBQVksU0FBWixFQUF1QnRDLElBQXZCO0FBWFI7QUFhSCxTQWREO0FBZUo7QUFDSThCLGlCQUFTdEMsS0FBVDtBQUNBLGFBQUssSUFBTVEsSUFBWCxJQUFtQitCLFNBQW5CLEVBQThCO0FBQ2hDO0FBQ00sZ0JBQUlMLE9BQU9hLFNBQVAsQ0FBaUJDLGNBQWpCLENBQWdDQyxJQUFoQyxDQUFxQ1YsU0FBckMsRUFBZ0QvQixJQUFoRCxDQUFKLEVBQTJEO0FBQ3ZEVCxrRkFDRTZDLGdCQUFnQnBDLElBQWhCLEVBQXNCK0IsVUFBVS9CLElBQVYsQ0FBdEIsQ0FERiwyQkFFS0csUUFGTCxDQUVjMkIsUUFGZDtBQUdIO0FBQ0o7QUFDSjs7QUFFRCxhQUFTWSxzQkFBVCxDQUFnQ0MsR0FBaEMsRUFBcUM7QUFDakMsZUFBT0EsSUFBSU4sR0FBSixHQUNFTyxJQURGLEdBRUVDLEtBRkYsQ0FFUSxHQUZSLEVBR0VDLEdBSEYsQ0FHTTtBQUFBLG1CQUFLN0MsRUFBRTJDLElBQUYsR0FBU0csT0FBVCxDQUFpQixHQUFqQixFQUFzQixFQUF0QixDQUFMO0FBQUEsU0FITixFQUlFQyxNQUpGLENBSVM7QUFBQSxtQkFBSy9DLEVBQUUyQixNQUFGLEdBQVcsQ0FBaEI7QUFBQSxTQUpULENBQVA7QUFNSDs7QUFFRDs7O0FBR0EsYUFBU3FCLFdBQVQsQ0FBcUJuQixRQUFyQixFQUErQmpDLEtBQS9CLEVBQXNDcUQsR0FBdEMsRUFBMkM7QUFBQSxZQUNoQ0MsWUFEZ0MsR0FDTEQsR0FESyxDQUNoQ0MsWUFEZ0M7QUFBQSxZQUNsQmxGLFNBRGtCLEdBQ0xpRixHQURLLENBQ2xCakYsU0FEa0I7QUFBQSxZQUVoQ0UscUJBRmdDLEdBRVBGLFNBRk8sQ0FFaENFLHFCQUZnQzs7QUFHdkMsWUFBTWlGLFFBQVEsY0FBZDtBQUNBLFlBQU1DLFNBQVMsU0FBVEEsTUFBUyxDQUFDQyxHQUFELEVBQVM7QUFDcEIsZ0JBQU1DLGlCQUFpQkosZ0JBQWdCLENBQUMsQ0FBQ0EsYUFBYXZCLE1BQXREO0FBQ0Esb0JBQVEwQixHQUFSO0FBQ0kscUJBQUssQ0FBTDtBQUNJLDJCQUFRQyxjQUFELEdBQW1CSixhQUFhRyxHQUFiLENBQW5CLEdBQXVDLGdCQUE5QztBQUNKLHFCQUFLLENBQUw7QUFDSSwyQkFBUUMsY0FBRCxHQUFtQkosYUFBYUcsR0FBYixDQUFuQixHQUF1QyxtQ0FBOUM7QUFDSixxQkFBSyxDQUFMO0FBQ0ksMkJBQVFDLGNBQUQsR0FBbUJKLGFBQWFHLEdBQWIsQ0FBbkIsR0FBdUMsZUFBOUM7QUFDSjtBQUFTLDJCQUFPLFNBQVA7QUFQYjtBQVNILFNBWEQ7QUFZQXhCLGlCQUFTdEMsS0FBVCxHQUFpQlksUUFBakIsQ0FBMEIsb0JBQTFCO0FBQ0FiLDZCQUFtQjZELEtBQW5CLGlEQUFvRWpGLHFCQUFwRSxrQkFBd0dnQyxRQUF4RyxDQUFpSDJCLFFBQWpIO0FBQ0EsWUFBSSxDQUFDakMsTUFBTStCLE1BQVgsRUFBbUI7QUFDZjtBQUNIO0FBQ0QsWUFBSXNCLElBQUlNLG1CQUFSLEVBQTZCO0FBQ3pCakUsY0FBRSxnRkFBRixFQUFvRlksUUFBcEYsQ0FBNkZaLFFBQU1wQixxQkFBTixDQUE3RjtBQUNIO0FBQ0QwQixjQUFNRSxPQUFOLENBQWMsVUFBQ3pCLElBQUQsRUFBT2dGLEdBQVAsRUFBZTtBQUN6Qi9ELCtEQUFpRGpCLElBQWpELDRCQUNNK0UsT0FBT0MsR0FBUCxDQUROLDhCQUVZbkQsUUFGWixDQUVxQlosUUFBTXBCLHFCQUFOLENBRnJCO0FBR0gsU0FKRDtBQUtBLFlBQUkrRSxJQUFJTyxrQkFBUixFQUE0QjtBQUN4QmxFLG9CQUFNcEIscUJBQU4sRUFBK0J1RixFQUEvQixDQUFrQyxRQUFsQyxFQUE0QyxZQUFZO0FBQ3BEUixvQkFBSU8sa0JBQUo7QUFDSCxhQUZEO0FBR0g7QUFDSjs7QUFFRCxXQUFPO0FBQ0h0RSx3Q0FERztBQUVITywwQkFGRztBQUdIbUMsOENBSEc7QUFJSHZCLHdCQUpHO0FBS0hHLGtEQUxHO0FBTUhpQyxzREFORztBQU9ITztBQVBHLEtBQVA7QUFTSDs7a0JBRWMvRCxXOzs7Ozs7Ozs7Ozs7Ozs7cWpCQ3ZKZjs7O0FBQ0E7O0FBQ0E7Ozs7QUFDQTs7Ozs7Ozs7QUFFQSxJQUFNeUUsV0FBVyxTQUFYQSxRQUFXLENBQUNsQyxHQUFELEVBQVM7QUFDdEIsUUFBSUEsT0FBT0EsSUFBSTlDLE9BQWYsRUFBd0I7QUFDcEIsWUFBSSxDQUFDOEMsSUFBSTlDLE9BQUosQ0FBWWlGLFFBQVosQ0FBcUIsVUFBckIsQ0FBTCxFQUF1QztBQUNuQ25DLGdCQUFJOUMsT0FBSixnQkFBeUI4QyxJQUFJOUMsT0FBN0I7QUFDSDtBQUNKO0FBQ0QsV0FBTytDLE9BQU9tQyxNQUFQLENBQWNwQyxHQUFkLENBQVA7QUFDSCxDQVBEOztJQVNNcUMsZTtBQUVGLCtCQUFjO0FBQUE7O0FBQ1YsYUFBS0MsT0FBTCxHQUFlLHVCQUFmO0FBQ0EsYUFBSzdILGFBQUw7QUFDQSxhQUFLOEgsV0FBTCxHQUFtQjtBQUNmQyxvQkFBUSxNQURPO0FBRWZDLHFCQUFTO0FBQ0wsZ0NBQWdCLGtCQURYO0FBRUwsMEJBQVU7QUFGTDtBQUZNLFNBQW5CO0FBT0EsYUFBS0Msc0JBQUwsR0FBOEIsS0FBS0Esc0JBQW5DO0FBQ0EsYUFBS0MsYUFBTCxHQUFxQixLQUFLQSxhQUExQjtBQUNIOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7OztpQ0FDU0MsUSxFQUFVO0FBQ2YsZ0JBQU1DLGNBQWMsS0FBS3BJLGFBQUwsQ0FBbUJxSSxHQUFuQixDQUF1QixjQUFNckksYUFBTixDQUFvQkQsS0FBM0MsQ0FBcEI7QUFDQSxtQkFBUW9JLFFBQUQsR0FBYSxFQUFDSCxTQUFTLEVBQUNqSSxPQUFPcUksV0FBUixFQUFWLEVBQWIsR0FBK0NBLFdBQXREO0FBQ0g7OztvQ0FFVzlGLEksRUFBTWdHLE8sRUFBUztBQUN2QixnQkFBTUMsVUFBVWQsU0FBU25GLElBQVQsQ0FBaEI7QUFDQSxtQkFBTyxLQUFLdUYsT0FBTCxDQUFhVyxXQUFiLE1BQTRCLGNBQU05RixZQUFOLENBQW1CLHFDQUFuQixFQUEwRDZGLE9BQTFELENBQTVCLEVBQ0gsS0FBS0UsUUFBTCxDQUFjLFVBQWQsQ0FERyxFQUN3QkgsT0FEeEIsQ0FBUDtBQUVIOzs7d0NBQ2VoRyxJLEVBQU1nRyxPLEVBQVM7QUFDM0IsZ0JBQU1DLFVBQVVkLFNBQVNuRixJQUFULENBQWhCO0FBQ0FpRyxvQkFBUUcsSUFBUixDQUFhLFlBQWI7QUFDQSxtQkFBTyxLQUFLYixPQUFMLENBQWFXLFdBQWIsTUFBNEIsY0FBTTlGLFlBQU4sQ0FBbUIscUNBQW5CLEVBQTBENkYsT0FBMUQsQ0FBNUIsRUFDSCxLQUFLRSxRQUFMLENBQWMsVUFBZCxDQURHLEVBQ3dCSCxPQUR4QixDQUFQO0FBRUg7OztxQ0FFWUssTyxFQUFTTCxPLEVBQVM7QUFDM0IsbUJBQU8sS0FBS1QsT0FBTCxDQUFhVyxXQUFiLE1BQTRCLGNBQU1yRyxPQUFOLENBQWMsbUNBQWQsQ0FBNUIsRUFDSCxLQUFLc0csUUFBTCxDQUFjLFVBQWQsQ0FERyxFQUN3QkgsT0FEeEIsQ0FBUDtBQUVIOzs7cUNBRVlNLE0sRUFBUU4sTyxFQUFTO0FBQzFCLGdCQUFNTyx1QkFDQyxLQUFLZixXQUROO0FBRUZDLHdCQUFRLEtBRk47QUFHRkMsc0NBQ08sS0FBS0YsV0FBTCxDQUFpQkUsT0FEeEI7QUFFSSw2QkFBUyxLQUFLUyxRQUFMO0FBRmI7QUFIRSxjQUFOO0FBUUEsZ0JBQU01TCxNQUFNLGNBQU1zRixPQUFOLENBQWMsc0NBQWQsRUFBc0R5RyxNQUF0RCxDQUFaO0FBQ0EsbUJBQU8sS0FBS2YsT0FBTCxDQUFhVyxXQUFiLENBQXlCM0wsR0FBekIsRUFDSGdNLE9BREcsRUFDTVAsT0FETixDQUFQO0FBRUg7Ozt1Q0FFY00sTSxFQUFRTixPLEVBQVM7QUFDNUIsZ0JBQU1PLHVCQUNDLEtBQUtmLFdBRE47QUFFRkMsd0JBQVEsUUFGTjtBQUdGQyxzQ0FDTyxLQUFLRixXQUFMLENBQWlCRSxPQUR4QjtBQUVJLDZCQUFTLEtBQUtTLFFBQUw7QUFGYjtBQUhFLGNBQU47QUFRQSxnQkFBTTVMLE1BQU0sY0FBTXNGLE9BQU4sQ0FBYyx3Q0FBZCxFQUF3RHlHLE1BQXhELENBQVo7QUFDQSxtQkFBTyxLQUFLZixPQUFMLENBQWFXLFdBQWIsQ0FBeUIzTCxHQUF6QixFQUNIZ00sT0FERyxFQUNNUCxPQUROLENBQVA7QUFFSDs7OzBDQUVpQmhHLEksRUFBTWdHLE8sRUFBUztBQUM3QixnQkFBTXpMLE1BQVMsY0FBTXNGLE9BQU4sQ0FBYyx3Q0FBZCxDQUFULFNBQW9FRyxLQUFLRSxJQUF6RSxpQkFBeUZGLEtBQUtHLE9BQXBHO0FBQ0EsbUJBQU8sS0FBS29GLE9BQUwsQ0FBYVcsV0FBYixDQUF5QjNMLEdBQXpCLEVBQ0gsS0FBSzRMLFFBQUwsQ0FBYyxVQUFkLENBREcsRUFDd0JILE9BRHhCLENBQVA7QUFFSDs7OytDQUVzQlEsSSxFQUFNUixPLEVBQVNoRyxJLEVBQU07QUFDeEMsZ0JBQU11Ryx1QkFDQyxLQUFLZixXQUROO0FBRUZFLHNDQUNPLEtBQUtGLFdBQUwsQ0FBaUJFLE9BRHhCO0FBRUksNkJBQVMsS0FBS1MsUUFBTCxFQUZiO0FBR0ksb0NBQWdCO0FBSHBCO0FBRkUsY0FBTjtBQVFBSSxvQkFBUUMsSUFBUixHQUFlQyxLQUFLQyxTQUFMLENBQWVGLElBQWYsQ0FBZjtBQUNBLGdCQUFNak0sTUFBTXlGLFlBQVUsY0FBTUgsT0FBTixDQUFjRyxJQUFkLENBQVYsUUFBcUMsY0FBTUgsT0FBTixDQUFjLDZDQUFkLENBQWpEOztBQUVBLG1CQUFPLEtBQUswRixPQUFMLENBQWFXLFdBQWIsQ0FBeUIzTCxHQUF6QixFQUNIZ00sT0FERyxFQUNNUCxPQUROLENBQVA7QUFFSDs7O3NDQUVhUSxJLEVBQU1SLE8sRUFBUztBQUN6QixnQkFBTWhHLE9BQU8sb0NBQWI7QUFDQSxtQkFBTyxLQUFLMkYsc0JBQUwsQ0FBNEJhLElBQTVCLEVBQWtDUixPQUFsQyxFQUEyQ2hHLElBQTNDLENBQVA7QUFDSDs7OzBDQUNpQndHLEksRUFBTVIsTyxFQUFTO0FBQzdCLGdCQUFNaEcsT0FBTyxvQ0FBYjtBQUNBLG1CQUFPLEtBQUsyRixzQkFBTCxDQUE0QmEsSUFBNUIsRUFBa0NSLE9BQWxDLEVBQTJDaEcsSUFBM0MsQ0FBUDtBQUNIOzs7OENBQ3FCd0csSSxFQUFNUixPLEVBQVM7QUFDakMsZ0JBQU1PLFVBQVU7QUFDWmQsd0JBQVEsTUFESTtBQUVaQyx5QkFBUztBQUNMLDZCQUFTLEtBQUtTLFFBQUwsRUFESjtBQUVMLDhCQUFVLGtCQUZMO0FBR0wsb0NBQWdCO0FBSFg7QUFGRyxhQUFoQjtBQVFBSSxvQkFBUUMsSUFBUixHQUFlQyxLQUFLQyxTQUFMLENBQWVGLElBQWYsQ0FBZjtBQUNBLGdCQUFNak0sV0FBUyxjQUFNc0YsT0FBTixDQUFjLDBDQUFkLENBQWY7O0FBRUEsbUJBQU8sS0FBSzBGLE9BQUwsQ0FBYVcsV0FBYixDQUF5QjNMLEdBQXpCLEVBQ0hnTSxPQURHLEVBQ01QLE9BRE4sQ0FBUDtBQUVIOzs7dUNBRWNXLFMsRUFBVzFHLEksRUFBTStGLE8sRUFBUztBQUNyQztBQUNBO0FBQ0EsbUJBQU8sS0FBS1QsT0FBTCxDQUFhVyxXQUFiLE1BQTRCLGNBQU05RixZQUFOLENBQW1CLHFDQUFuQixFQUEwRHVHLFNBQTFELEVBQXFFMUcsSUFBckUsQ0FBNUIsRUFDSCxLQUFLa0csUUFBTCxDQUFjLFVBQWQsQ0FERyxFQUN3QkgsT0FEeEIsQ0FBUDtBQUVIOzs7NkNBRW9CSyxPLEVBQVNMLE8sRUFBUztBQUNuQyxnQkFBTVksU0FBVVAsUUFBUU8sTUFBVCxnQkFBOEJQLFFBQVFPLE1BQXRDLEdBQWlELEVBQWhFO0FBQ0E7QUFDQSxnQkFBTUMscUJBQW1CLGNBQU1oSCxPQUFOLENBQWMsK0JBQWQsRUFBK0N3RyxRQUFRUyxRQUFSLElBQW9CLG1CQUFuRSxDQUFuQixHQUE2R0YsTUFBbkg7QUFDQSxtQkFBTyxLQUFLckIsT0FBTCxDQUFhVyxXQUFiLENBQXlCVyxhQUF6QixFQUNILEtBQUtWLFFBQUwsQ0FBYyxVQUFkLENBREcsRUFDd0JILE9BRHhCLENBQVA7QUFFSDs7O3lDQUVnQmhHLEksRUFBTWdHLE8sRUFBUztBQUM1QixnQkFBTXpMLE1BQVMsY0FBTXNGLE9BQU4sQ0FBYyx3Q0FBZCxDQUFULFNBQW9FRyxLQUFLRSxJQUF6RSxpQkFBeUZGLEtBQUtHLE9BQXBHO0FBQ0EsbUJBQU8sS0FBS29GLE9BQUwsQ0FBYVcsV0FBYixDQUF5QjNMLEdBQXpCLEVBQ0wsS0FBSzRMLFFBQUwsQ0FBYyxVQUFkLENBREssRUFDc0JILE9BRHRCLENBQVA7QUFFSDs7Ozs7O0FBSUwsSUFBSWUsZUFBZSxJQUFuQjs7QUFFQSxJQUFJLENBQUNBLFlBQUwsRUFBbUI7QUFDZkEsbUJBQWUsSUFBSXpCLGVBQUosRUFBZjtBQUNIOztrQkFFY3lCLFk7Ozs7Ozs7Ozs7Ozs7OztxakJDbEtmOzs7QUFDQTs7QUFDQTs7OztBQUNBOzs7Ozs7OztJQUVNQyxJO0FBRUYsb0JBQWM7QUFBQTs7QUFDVixhQUFLekIsT0FBTCxHQUFlLHVCQUFmO0FBQ0EsYUFBSzdILGFBQUw7QUFDQSxhQUFLOEgsV0FBTCxHQUFtQjtBQUNmQyxvQkFBUSxNQURPO0FBRWZDLHFCQUFTO0FBQ0wsZ0NBQWdCLGtCQURYO0FBRUwsMEJBQVU7QUFGTDtBQUZNLFNBQW5CO0FBT0g7Ozs7cUNBRVk7QUFDVCxtQkFBTyxDQUFDLENBQUMsS0FBS1MsUUFBTCxFQUFUO0FBQ0g7OzsyQ0FFa0I7QUFDZixtQkFBUSxLQUFLekksYUFBTCxDQUFtQnFJLEdBQW5CLENBQXVCLGNBQU1ySSxhQUFOLENBQW9CQyxjQUEzQyxNQUErRCxXQUF2RTtBQUNIOzs7aUNBRVFrSSxRLEVBQVU7QUFDZixnQkFBTUMsY0FBYyxLQUFLcEksYUFBTCxDQUFtQnFJLEdBQW5CLENBQXVCLGNBQU1ySSxhQUFOLENBQW9CRCxLQUEzQyxDQUFwQjtBQUNBLG1CQUFRb0ksUUFBRCxHQUFhLEVBQUNILFNBQVMsRUFBQ2pJLE9BQU9xSSxXQUFSLEVBQVYsRUFBYixHQUErQ0EsV0FBdEQ7QUFDSDs7OzhCQUVLbUIsUSxFQUFVakIsTyxFQUFTO0FBQ3JCLGdCQUFNTyx1QkFBYyxLQUFLZixXQUFuQixJQUFnQ2dCLE1BQU1DLEtBQUtDLFNBQUwsQ0FBZU8sUUFBZixDQUF0QyxHQUFOO0FBQ0EsbUJBQU8sS0FBSzFCLE9BQUwsQ0FBYVcsV0FBYixDQUF5QixjQUFNckcsT0FBTixDQUFjLE9BQWQsQ0FBekIsRUFBaUQwRyxPQUFqRCxFQUEwRFAsT0FBMUQsQ0FBUDtBQUNIOzs7NENBRW1CaUIsUSxFQUFVakIsTyxFQUFTO0FBQUEsZ0JBQzVCbEssUUFENEIsR0FDa0NtTCxRQURsQyxDQUM1Qm5MLFFBRDRCO0FBQUEsZ0JBQ2xCMEIsUUFEa0IsR0FDa0N5SixRQURsQyxDQUNsQnpKLFFBRGtCO0FBQUEsZ0JBQ1IwSixFQURRLEdBQ2tDRCxRQURsQyxDQUNSQyxFQURRO0FBQUEsZ0JBQ0pDLElBREksR0FDa0NGLFFBRGxDLENBQ0pFLElBREk7QUFBQSxnQkFDRUMsYUFERixHQUNrQ0gsUUFEbEMsQ0FDRUcsYUFERjtBQUFBLGdCQUNpQkMsYUFEakIsR0FDa0NKLFFBRGxDLENBQ2lCSSxhQURqQjs7QUFHbkM7O0FBQ0EsZ0JBQU1DLFdBQVc7QUFDYix5QkFBUztBQUNMLDRCQUFRSixFQURIO0FBRUxDLDhCQUZLO0FBR0xyTCw4QkFBVXNMLGFBSEw7QUFJTDVKLDhCQUFVNko7QUFKTDtBQURJLGFBQWpCO0FBUUEsZ0JBQU1iLE9BQU9DLEtBQUtDLFNBQUwsWUFBZ0I1SyxrQkFBaEI7QUFDVDBCO0FBRFMsZUFFTjhKLFFBRk0sRUFBYjtBQUlBLGdCQUFNZix1QkFDQyxLQUFLZixXQUROO0FBRUZnQiwwQkFGRTtBQUdGZCxzQ0FDTyxLQUFLRixXQUFMLENBQWlCRSxPQUR4QjtBQUVJakksMkJBQU8sS0FBSzBJLFFBQUw7QUFGWDtBQUhFLGNBQU47O0FBU0EsbUJBQU8sS0FBS1osT0FBTCxDQUFhVyxXQUFiLENBQXlCLGNBQU1yRyxPQUFOLENBQWMsc0JBQWQsQ0FBekIsRUFBZ0UwRyxPQUFoRSxFQUF5RVAsT0FBekUsQ0FBUDtBQUNIOzs7NkNBQ29CbEssUSxFQUFVMEssSSxFQUFNO0FBQ2pDLGdCQUFNRCxVQUFVO0FBQ1pkLHdCQUFRLEtBREk7QUFFWkMsc0NBQ08sS0FBS0YsV0FBTCxDQUFpQkUsT0FEeEI7QUFFSSw2QkFBUyxLQUFLUyxRQUFMO0FBRmIsa0JBRlk7QUFNWks7QUFOWSxhQUFoQjtBQVFBLGdCQUFNak0sV0FBUyxjQUFNc0YsT0FBTixDQUFjLHlCQUFkLEVBQXlDL0QsUUFBekMsQ0FBZjtBQUNBMkgsb0JBQVFLLEdBQVIsQ0FBWXZKLEdBQVo7QUFDQSxtQkFBTyxLQUFLZ0wsT0FBTCxDQUFhVyxXQUFiLE1BQTRCLGNBQU1yRyxPQUFOLENBQWMseUJBQWQsRUFBeUMvRCxRQUF6QyxDQUE1QixFQUFrRnlLLE9BQWxGLENBQVA7QUFDSDs7OytDQUNzQnpLLFEsRUFBVTBLLEksRUFBTTtBQUNuQyxnQkFBTUQsVUFBVTtBQUNaYixzQ0FDTyxLQUFLRixXQUFMLENBQWlCRSxPQUR4QjtBQUVJLDZCQUFTLEtBQUtTLFFBQUw7QUFGYixrQkFEWTtBQUtaSztBQUxZLGFBQWhCO0FBT0E7QUFDQTtBQUNBLG1CQUFPLEtBQUtqQixPQUFMLENBQWFXLFdBQWIsTUFBNEIsY0FBTXJHLE9BQU4sQ0FBYyw0QkFBZCxFQUE0Qy9ELFFBQTVDLENBQTVCLEVBQXFGeUssT0FBckYsQ0FBUDtBQUNIOzs7NENBQ21CekssUSxFQUFVO0FBQzFCLGdCQUFNeUssVUFBVTtBQUNaZCx3QkFBUSxRQURJO0FBRVpDLHNDQUNPLEtBQUtGLFdBQUwsQ0FBaUJFLE9BRHhCO0FBRUksNkJBQVMsS0FBS1MsUUFBTDtBQUZiO0FBRlksYUFBaEI7QUFPQSxtQkFBTyxLQUFLWixPQUFMLENBQWFXLFdBQWIsTUFBNEIsY0FBTXJHLE9BQU4sQ0FBYyx5QkFBZCxFQUF5Qy9ELFFBQXpDLENBQTVCLEVBQWtGeUssT0FBbEYsQ0FBUDtBQUNIOztBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7Ozs7Z0NBRVE5SSxLLEVBQU87QUFDWDtBQUNBLG1CQUFPLEtBQUs4SCxPQUFMLENBQWFXLFdBQWIsT0FBNEIsY0FBTXJHLE9BQU4sQ0FBYyxjQUFkLElBQWdDcEMsS0FBNUQsRUFBUDtBQUNIOzs7aUNBRVF3SixRLEVBQVU7QUFDZixnQkFBTVYsdUJBQ0MsS0FBS2YsV0FETjtBQUVGZ0Isc0JBQU1DLEtBQUtDLFNBQUwsQ0FBZU8sUUFBZjtBQUZKLGNBQU47QUFJQSxtQkFBTyxLQUFLMUIsT0FBTCxDQUFhVyxXQUFiLENBQXlCLGNBQU1yRyxPQUFOLENBQWMsY0FBZCxDQUF6QixFQUF3RDBHLE9BQXhELENBQVA7QUFDSDs7QUFFRDs7OztvQ0FDWVAsTyxFQUFTO0FBQ2pCLG1CQUFPLEtBQUtULE9BQUwsQ0FBYVcsV0FBYixNQUE0QixjQUFNckcsT0FBTixDQUFjLDhCQUFkLENBQTVCLEVBQ0gsS0FBS3NHLFFBQUwsQ0FBYyxVQUFkLENBREcsRUFDd0JILE9BRHhCLENBQVA7QUFFSDs7O3dDQUNlQSxPLEVBQVM7QUFDckIsbUJBQU8sS0FBS1QsT0FBTCxDQUFhVyxXQUFiLENBQTRCLGNBQU1yRyxPQUFOLENBQWMsOEJBQWQsQ0FBNUIsaUJBQ0gsS0FBS3NHLFFBQUwsQ0FBYyxVQUFkLENBREcsRUFDd0JILE9BRHhCLENBQVA7QUFFSDs7O3VDQUVjbEssUSxFQUFVeUwsYyxFQUFnQjtBQUNyQyxnQkFBTWhCLHVCQUNDLEtBQUtmLFdBRE47QUFFRmdCLHNCQUFNQyxLQUFLQyxTQUFMLENBQWUsRUFBQyxRQUFRYSxjQUFULEVBQWYsQ0FGSixFQUU4QztBQUNoRDdCLHNDQUNPLEtBQUtGLFdBQUwsQ0FBaUJFLE9BRHhCO0FBRUksNkJBQVMsS0FBS1MsUUFBTDtBQUZiO0FBSEUsY0FBTjtBQVFBLG1CQUFPLEtBQUtaLE9BQUwsQ0FBYVcsV0FBYixNQUE0QixjQUFNckcsT0FBTixDQUFjLDZCQUFkLENBQTVCLEdBQTJFL0QsUUFBM0UsRUFBdUZ5SyxPQUF2RixDQUFQO0FBQ0g7OzsyQ0FFa0JpQixHLEVBQUsxTCxRLEVBQVU7QUFDOUIsZ0JBQU15SyxVQUFVO0FBQ1pkLHdCQUFRLFFBREk7QUFFWmUsc0JBQU1DLEtBQUtDLFNBQUwsQ0FBZSxFQUFDLGlCQUFpQmMsR0FBbEIsRUFBZixDQUZNO0FBR1o5QixzQ0FDTyxLQUFLRixXQUFMLENBQWlCRSxPQUR4QjtBQUVJLDZCQUFTLEtBQUtTLFFBQUw7QUFGYjtBQUhZLGFBQWhCO0FBUUEsbUJBQU8sS0FBS1osT0FBTCxDQUFhVyxXQUFiLE1BQTRCLGNBQU1yRyxPQUFOLENBQWMsNkJBQWQsQ0FBNUIsR0FBMkUvRCxRQUEzRSxFQUF1RnlLLE9BQXZGLENBQVA7QUFDSDs7Ozs7O0FBSUwsSUFBSVEsZUFBZSxJQUFuQjs7QUFFQSxJQUFJLENBQUNBLFlBQUwsRUFBbUI7QUFDZkEsbUJBQWUsSUFBSUMsSUFBSixFQUFmO0FBQ0g7O2tCQUVjRCxZOzs7Ozs7Ozs7Ozs7Ozs7OztBQ3RLZixJQUFNVSxZQUFZO0FBQ2QxQixTQUFLLG1CQUFRO0FBQ1QsWUFBTTJCLElBQUlDLFNBQVNDLE1BQVQsQ0FBZ0JDLEtBQWhCLG9CQUF1Qy9ILElBQXZDLDRCQUFvRSxDQUFwRSxDQUFWO0FBQ0EsWUFBSTRILENBQUosRUFBTztBQUNILG1CQUFPSSxtQkFBbUJKLENBQW5CLENBQVA7QUFDSDtBQUNKLEtBTmE7QUFPZEssU0FBSyxhQUFDakksSUFBRCxFQUFPa0ksS0FBUCxFQUFnRDtBQUFBLFlBQWxDQyxJQUFrQyx1RUFBM0IsRUFBQ2pJLE1BQU0sR0FBUCxFQUFZa0ksTUFBTSxHQUFsQixFQUEyQjs7QUFDakQsWUFBSUQsS0FBS0MsSUFBVCxFQUFlO0FBQ1hELGlCQUFLLFNBQUwsSUFBa0JBLEtBQUtDLElBQUwsR0FBWSxFQUFaLEdBQWlCLEVBQWpCLEdBQXNCLEVBQXhDO0FBQ0EsbUJBQU9ELEtBQUtDLElBQVo7QUFDSDtBQUNEO0FBQ0FELGVBQU8vRSxPQUFPaUYsT0FBUCxDQUFlRixJQUFmLEVBQXFCeEgsTUFBckIsQ0FBNEIsVUFBQ3FDLEdBQUQ7QUFBQTtBQUFBLGdCQUFPc0YsQ0FBUDtBQUFBLGdCQUFVQyxDQUFWOztBQUFBLG1CQUFvQnZGLEdBQXBCLFVBQTRCc0YsQ0FBNUIsU0FBaUNDLENBQWpDO0FBQUEsU0FBNUIsRUFBa0UsRUFBbEUsQ0FBUDtBQUNBVixpQkFBU0MsTUFBVCxHQUFxQjlILElBQXJCLFVBQTZCd0ksbUJBQW1CTixLQUFuQixJQUE0QkMsSUFBekQ7QUFDSCxLQWZhO0FBZ0JkTSxZQUFRLGdCQUFDekksSUFBRCxFQUFPbUksSUFBUDtBQUFBLGVBQWdCUixVQUFVTSxHQUFWLENBQWNqSSxJQUFkLEVBQW9CLEVBQXBCLGFBQXlCLFdBQVcsQ0FBQyxDQUFyQyxFQUF3Q0UsTUFBTSxHQUE5QyxFQUFtRGtJLE1BQU0sQ0FBekQsSUFBK0RELElBQS9EO0FBQ3hCO0FBRHdCLFNBQWhCO0FBQUEsS0FoQk0sRUFBbEI7O0FBb0JBOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7a0JBMkJlUixTOzs7Ozs7Ozs7Ozs7UUM4R0NlLFksR0FBQUEsWTtRQW1CQUMsSSxHQUFBQSxJOztBQWpMaEI7Ozs7QUFDQTs7OztBQUNBOzs7O0FBRUEsSUFBTUMsVUFBVSxTQUFWQSxPQUFVLENBQUNDLElBQUQsRUFBVTtBQUN0QixZQUFRQSxJQUFSO0FBQ0ksYUFBSyxZQUFMO0FBQ0ksbUJBQU8sYUFBUDtBQUNKLGFBQUssUUFBTDtBQUNJLG1CQUFPLFNBQVA7QUFDSixhQUFLLE1BQUw7QUFDSSxtQkFBTyxhQUFQO0FBQ0o7QUFDSTtBQVJSO0FBVUgsQ0FYRDs7QUFhQSxTQUFTQyxlQUFULENBQXlCQyxTQUF6QixFQUFvQzFILEtBQXBDLEVBQTJDSyxJQUEzQyxFQUFpRDtBQUFBLFFBQ3RDc0gsUUFEc0MsR0FDeUJ0SCxJQUR6QixDQUN0Q3NILFFBRHNDO0FBQUEsUUFDNUJDLFVBRDRCLEdBQ3lCdkgsSUFEekIsQ0FDNUJ1SCxVQUQ0QjtBQUFBLFFBQ2hCQyxPQURnQixHQUN5QnhILElBRHpCLENBQ2hCd0gsT0FEZ0I7QUFBQSxRQUNQOUksSUFETyxHQUN5QnNCLElBRHpCLENBQ1B0QixJQURPO0FBQUEsUUFDRCtJLE1BREMsR0FDeUJ6SCxJQUR6QixDQUNEeUgsTUFEQztBQUFBLFFBQ09uTixRQURQLEdBQ3lCMEYsSUFEekIsQ0FDTzFGLFFBRFA7QUFBQSxRQUNpQjZNLElBRGpCLEdBQ3lCbkgsSUFEekIsQ0FDaUJtSCxJQURqQjs7QUFFN0MsUUFBTU8sVUFBVSxTQUFWQSxPQUFVLENBQUNDLE9BQUQsRUFBYTtBQUN6QnBJLCtEQUFxRGIsSUFBckQsd0JBQTRFOEksT0FBNUUsNEJBQ1VHLE9BRFYsMEJBRVl4SCxRQUZaLENBRXFCUixLQUZyQjtBQUdILEtBSkQ7QUFLQSxRQUFNaUksMktBR0tOLFlBQVlBLFNBQVNPLFNBQXRCLGlDQUErRCxlQUFVcEgsb0JBQVYsQ0FBK0I2RyxTQUFTTyxTQUF4QyxDQUEvRCxlQUE2SCxFQUhqSSx3QkFJSU4sMkNBQXlDLGVBQVU5RyxvQkFBVixDQUErQjhHLFVBQS9CLENBQXpDLGVBQStGLEVBSm5HLGdaQUFOO0FBV0EsUUFBTU8seUpBRWtCQyxlQUFlQyxPQUFmLENBQXVCMU4sUUFBdkIsQ0FGbEIsaUlBR21DQSxRQUhuQyx3SUFNd0NrTixPQU54QywrQkFPUUQsMkZBQWlELGVBQVU5RyxvQkFBVixDQUErQjhHLFVBQS9CLEVBQTJDLGNBQTNDLENBQWpELFlBQW9ILEVBUDVILDRCQVFRSixtRUFBd0NELFFBQVFDLElBQVIsQ0FBeEMsWUFBOEQsRUFSdEUsZ1hBQU47QUFlQSxRQUFNUSxvSkFFa0JJLGVBQWVDLE9BQWYsQ0FBdUIxTixRQUF2QixDQUZsQixpSUFHbUNBLFFBSG5DLHdJQU13Q2tOLE9BTnhDLCtCQU9TeEgsS0FBS3lILE1BQUwsQ0FBWVEsTUFBYix3QkFBMENSLE9BQU9RLE1BQWpELFlBQWdFLEVBUHhFLDRCQVFRViwyRkFBaUQsZUFBVTlHLG9CQUFWLENBQStCOEcsVUFBL0IsRUFBMkMsY0FBM0MsQ0FBakQsWUFBb0gsRUFSNUgsNEJBU1FKLG1FQUF3Q0QsUUFBUUMsSUFBUixDQUF4QyxZQUE4RCxFQVR0RSx1T0FBTjtBQWdCQSxRQUFNZSx5SkFFa0JILGVBQWVDLE9BQWYsQ0FBdUIxTixRQUF2QixDQUZsQixpSUFHbUNBLFFBSG5DLHdJQU13Q2tOLE9BTnhDLCtCQU9RRCwyRkFBaUQsZUFBVTlHLG9CQUFWLENBQStCOEcsVUFBL0IsRUFBMkMsY0FBM0MsQ0FBakQsWUFBb0gsRUFQNUgsNEJBUVFKLG1FQUF3Q0QsUUFBUUMsSUFBUixDQUF4QyxZQUE4RCxFQVJ0RSxrWEFBTjtBQWVBLFlBQVFFLFNBQVI7QUFDSSxhQUFLLFFBQUw7QUFDSUssb0JBQVFFLFNBQVI7QUFDQTtBQUNKLGFBQUssYUFBTDtBQUNJRixvQkFBUUksV0FBUjtBQUNBO0FBQ0osYUFBSyxjQUFMO0FBQ0lKLG9CQUFRSSxXQUFSO0FBQ0E7QUFDSixhQUFLLFNBQUw7QUFDSUosb0JBQVFDLE9BQVI7QUFDQTtBQUNKLGFBQUssVUFBTDtBQUNJRCxvQkFBUVEsV0FBUjtBQUNBO0FBQ0o7QUFDSTtBQWpCUjtBQW1CSDs7QUFFRCxTQUFTQyxZQUFULENBQXNCeEksS0FBdEIsRUFBNkJFLEtBQTdCLENBQWtDLGFBQWxDLEVBQWlEO0FBQzdDO0FBQ0FGLFVBQU1ILEtBQU47QUFDQSxRQUFJLENBQUNLLE1BQU0rQixNQUFYLEVBQW1CO0FBQ2ZyQywrTEFFWVksUUFGWixDQUVxQlIsS0FGckI7QUFHQTtBQUNIO0FBQ0RFLFVBQU1FLE9BQU4sQ0FBYyxVQUFDQyxJQUFELEVBQVU7QUFDcEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBb0gsd0JBQWdCcEgsS0FBS3lILE1BQUwsQ0FBWVcsS0FBNUIsRUFBbUN6SSxLQUFuQyxFQUEwQ0ssSUFBMUM7QUFDSCxLQVBEO0FBUUEsUUFBSSxDQUFDVCxFQUFFLElBQUYsRUFBUUksS0FBUixFQUFlaUMsTUFBcEIsRUFBNEI7QUFDeEJyQyx1TEFFUVksUUFGUixDQUVpQlIsS0FGakI7QUFHSDtBQUNKOztBQUVEO0FBQ0EsU0FBUzBJLFlBQVQsQ0FBc0JDLE9BQXRCLEVBQStCOUosSUFBL0IsRUFBcUM7QUFDakMsUUFBTStKLFFBQVEvSixRQUFRO0FBQ2xCRSxjQUFNLGNBQU0zRixHQUFOLENBQVVDLE9BQVYsQ0FBa0JDLFVBRE47QUFFbEIwRixpQkFBUyxjQUFNNUYsR0FBTixDQUFVQyxPQUFWLENBQWtCRSxhQUFsQixDQUFnQyxDQUFoQztBQUZTLEtBQXRCO0FBSUEsUUFBTXNQLGVBQWVqSixFQUFFLG1CQUFGLENBQXJCO0FBQ0EsUUFBTWtKLGNBQWNsSixFQUFFLHFCQUFGLENBQXBCO0FBQ0EsUUFBTW1KLFlBQVksU0FBWkEsU0FBWSxDQUFDQyxDQUFELEVBQU87QUFDckIsWUFBTUMsTUFBTXJKLEVBQUVvSixFQUFFRSxNQUFKLENBQVo7QUFDQSxlQUFPRCxJQUFJRSxPQUFKLENBQVksSUFBWixFQUFrQkMsSUFBbEIsQ0FBdUIsU0FBdkIsQ0FBUDtBQUNILEtBSEQ7O0FBS0FQLGlCQUFhOUUsRUFBYixDQUFnQixPQUFoQixFQUF5QixVQUFDaUYsQ0FBRCxFQUFPO0FBQzVCLFlBQU03RCxTQUFTNEQsVUFBVUMsQ0FBVixDQUFmO0FBQ0ExRyxnQkFBUUssR0FBUixDQUFZLGNBQVosRUFBNEJ3QyxNQUE1QjtBQUNBLGlDQUFnQmtFLFlBQWhCLENBQTZCbEUsTUFBN0IsRUFBcUNtRSxJQUFyQyxDQUEwQyxVQUFDQyxNQUFELEVBQVk7QUFDbERqSCxvQkFBUUssR0FBUixDQUFZNEcsTUFBWjtBQUNBbEMseUJBQWFzQixPQUFiLEVBQXNCQyxLQUF0QjtBQUNILFNBSEQ7QUFJSCxLQVBEOztBQVNBRSxnQkFBWS9FLEVBQVosQ0FBZSxPQUFmLEVBQXdCLFVBQUNpRixDQUFELEVBQU87QUFDM0IsWUFBTTdELFNBQVM0RCxVQUFVQyxDQUFWLENBQWY7QUFDQTFHLGdCQUFRSyxHQUFSLENBQVksV0FBWixFQUF5QndDLE1BQXpCO0FBQ0EsaUNBQWdCcUUsY0FBaEIsQ0FBK0JyRSxNQUEvQixFQUF1Q21FLElBQXZDLENBQTRDLFVBQUNDLE1BQUQsRUFBWTtBQUNwRGpILG9CQUFRSyxHQUFSLENBQVk0RyxNQUFaO0FBQ0FsQyx5QkFBYXNCLE9BQWIsRUFBc0JDLEtBQXRCO0FBQ0gsU0FIRDtBQUlILEtBUEQ7QUFRSDs7QUFFTSxTQUFTdkIsWUFBVCxDQUFzQnNCLE9BQXRCLEVBQStCOUosSUFBL0IsRUFBcUM7QUFBQSxRQUN0QjRLLElBRHNCLEdBQ2RkLE9BRGMsQ0FDdEJjLElBRHNCOztBQUV4QyxRQUFNYixRQUFRL0osUUFBUTtBQUNsQkUsY0FBTSxjQUFNM0YsR0FBTixDQUFVQyxPQUFWLENBQWtCQyxVQUROO0FBRWxCMEYsaUJBQVMsY0FBTTVGLEdBQU4sQ0FBVUMsT0FBVixDQUFrQkUsYUFBbEIsQ0FBZ0MsQ0FBaEM7QUFGUyxLQUF0QjtBQUlBLDZCQUFnQm1RLFdBQWhCLENBQTRCZCxLQUE1QixFQUFtQ1UsSUFBbkMsQ0FBd0MsVUFBQ0MsTUFBRCxFQUFZO0FBQ2hEO0FBQ0EsWUFBSUEsT0FBT3pCLE1BQVAsQ0FBY1csS0FBZCxLQUF3QixJQUE1QixFQUFrQztBQUM5QjtBQUNBRCx5QkFBYWlCLElBQWIsRUFBbUJGLE9BQU9ILElBQVAsQ0FBWU8sSUFBL0IsRUFBcUMsT0FBckM7QUFDQWpCLHlCQUFhQyxPQUFiLEVBQXNCOUosSUFBdEI7QUFDSDtBQUNKLEtBUEQ7QUFRSDs7QUFFRDs7O0FBR08sU0FBU3lJLElBQVQsR0FBZ0I7QUFDbkIsUUFBTXFCLFVBQVU7QUFDWmlCLGVBQU9oSyxFQUFFLG9CQUFGLENBREs7QUFFWmlLLGtCQUFVakssRUFBRSx1QkFBRixDQUZFO0FBR1o2SixjQUFNN0osRUFBRSxtQkFBRjtBQUhNLEtBQWhCO0FBS0F5SCxpQkFBYXNCLE9BQWI7QUFDQW1CLFdBQU9DLE1BQVAsQ0FBY0MsU0FBZCxDQUF3QixjQUFNL00sTUFBTixDQUFhaUIsS0FBYixDQUFtQkMsZ0JBQTNDLEVBQTZELFVBQUM4TCxTQUFELEVBQVliLElBQVosRUFBcUI7QUFDOUUsWUFBTVIsUUFBUTtBQUNWN0osa0JBQU0sY0FBTTNGLEdBQU4sQ0FBVUMsT0FBVixDQUFrQkMsVUFEZDtBQUVWMEYscUJBQVMsY0FBTTVGLEdBQU4sQ0FBVUMsT0FBVixDQUFrQkUsYUFBbEIsQ0FBZ0MsQ0FBaEM7QUFGQyxTQUFkO0FBSUE4TixxQkFBYXNCLE9BQWIsRUFBc0JDLEtBQXRCO0FBQ0gsS0FORDtBQU9ILEM7Ozs7Ozs7Ozs7OztRQzdDZXRCLEksR0FBQUEsSTs7QUFsSmhCOztBQUNBO0FBQ0EsSUFBTW1CLFFBQVE7QUFDVjlOLGNBQVU7QUFEQSxDQUFkO0FBR0EsSUFBTXVQLHFCQUFxQixjQUEzQjs7QUFFQTs7O0FBR0EsU0FBU0MsU0FBVCxDQUFtQkMsWUFBbkIsRUFBaUNDLFNBQWpDLEVBQTRDO0FBQ3hDLFFBQU1DLFFBQVExSyxFQUFFd0ssWUFBRixDQUFkO0FBRHdDLFFBRWpDRyxXQUZpQyxHQUVERixTQUZDLENBRWpDRSxXQUZpQztBQUFBLFFBRXBCQyxlQUZvQixHQUVESCxTQUZDLENBRXBCRyxlQUZvQjs7QUFHeEM1SyxNQUFFLG9DQUFGLEVBQXdDNkssV0FBeEMsQ0FBb0QsV0FBcEQ7O0FBRUFILFVBQU1JLElBQU4sQ0FBVyxzQkFBWCxFQUFtQ0MsTUFBbkMsQ0FBMEMsTUFBMUM7O0FBRUFMLFVBQU1JLElBQU4sQ0FBVyxvQkFBWCxFQUFpQzNHLEVBQWpDLENBQW9DLE9BQXBDLEVBQTZDLFlBQVk7QUFDckRuRSxVQUFFLElBQUYsRUFBUTZLLFdBQVIsQ0FBb0IsYUFBcEI7QUFDSCxLQUZEOztBQUlBO0FBQ0FILFVBQU1JLElBQU4sQ0FBVyxXQUFYLEVBQXdCM0csRUFBeEIsQ0FBMkIsT0FBM0IsRUFBb0MsWUFBWTtBQUM1QyxZQUFNNkcsa0JBQWtCaEwsRUFBRSxJQUFGLEVBQVFpTCxPQUFSLENBQWdCLFVBQWhCLENBQXhCO0FBQ0EsWUFBSUMsWUFBWSxJQUFoQjtBQUNBLFlBQU1DLGlCQUFpQkgsZ0JBQWdCRixJQUFoQixDQUFxQix3Q0FBckIsQ0FBdkI7O0FBRUEsWUFBSUssZUFBZTlJLE1BQWYsR0FBd0IsQ0FBNUIsRUFBK0I7QUFDM0J3RyxrQkFBTTlOLFFBQU4sR0FBaUJvUSxlQUFlRixPQUFmLENBQXVCLElBQXZCLEVBQTZCekIsSUFBN0IsQ0FBa0MsVUFBbEMsQ0FBakI7QUFDSDs7QUFFRCxZQUFJbUIsV0FBSixFQUFpQjtBQUNiQSx3QkFBWUssZ0JBQWdCSSxLQUFoQixFQUFaLEVBQXFDdkMsS0FBckM7QUFDSDs7QUFFRG1DLHdCQUFnQkYsSUFBaEIsQ0FBcUIsd0NBQXJCLEVBQStETyxJQUEvRCxDQUFvRSxZQUFZO0FBQzVFLGdCQUFJckwsRUFBRSxJQUFGLEVBQVE4QyxHQUFSLE9BQWtCLEVBQXRCLEVBQTBCO0FBQ3RCOUMsa0JBQUUsSUFBRixFQUFRYSxRQUFSLENBQWlCLGFBQWpCO0FBQ0FxSyw0QkFBWSxLQUFaO0FBQ0gsYUFIRCxNQUdPO0FBQ0hsTCxrQkFBRSxJQUFGLEVBQVE2SyxXQUFSLENBQW9CLGFBQXBCO0FBQ0g7QUFDSixTQVBEOztBQVNBLFlBQUlLLFNBQUosRUFBZTtBQUNYRiw0QkFBZ0JNLE9BQWhCLENBQXdCLEdBQXhCLEVBQTZCLFlBQVk7QUFDckN0TCxrQkFBRSxJQUFGLEVBQVF1TCxJQUFSLEdBQWVSLE1BQWY7QUFDSCxhQUZEO0FBR0g7QUFFSixLQTVCRDs7QUE4QkE7QUFDQUwsVUFBTUksSUFBTixDQUFXLGVBQVgsRUFBNEIzRyxFQUE1QixDQUErQixPQUEvQixFQUF3QyxZQUFZO0FBQ2hEO0FBQ0FuRSxVQUFFLElBQUYsRUFBUWlMLE9BQVIsQ0FBZ0IsVUFBaEIsRUFBNEJLLE9BQTVCLENBQW9DLEdBQXBDLEVBQXlDLFlBQVk7QUFDakR0TCxjQUFFLElBQUYsRUFBUXdMLElBQVIsR0FBZVQsTUFBZjtBQUNILFNBRkQ7QUFHSCxLQUxEOztBQU9BO0FBQ0EvSyxNQUFFLG9DQUFGLEVBQXdDbUUsRUFBeEMsQ0FBMkMsT0FBM0MsRUFBb0QsWUFBWTtBQUM1RDtBQUNBO0FBQ0E7QUFDQTtBQUNILEtBTEQ7O0FBT0E7QUFDQXVHLFVBQU12RyxFQUFOLENBQVMsUUFBVCxFQUFtQixVQUFVaUYsQ0FBVixFQUFhO0FBQzVCcEosVUFBRSxJQUFGLEVBQVE4SyxJQUFSLENBQWEsNkRBQWIsRUFBNEVPLElBQTVFLENBQWlGLFlBQVk7QUFDekYsZ0JBQUlyTCxFQUFFLElBQUYsRUFBUThDLEdBQVIsT0FBa0IsRUFBdEIsRUFBMEI7QUFDdEJzRyxrQkFBRXFDLGNBQUY7QUFDQXpMLGtCQUFFLElBQUYsRUFBUWEsUUFBUixDQUFpQixhQUFqQjtBQUNILGFBSEQsTUFHTztBQUNIYixrQkFBRSxJQUFGLEVBQVE2SyxXQUFSLENBQW9CLGFBQXBCO0FBQ0g7QUFDSixTQVBEOztBQVNBLFlBQUlELGVBQUosRUFBcUI7QUFDakJBLDRCQUFnQnhCLENBQWhCO0FBQ0g7O0FBRUQxRyxnQkFBUUssR0FBUixDQUFZLG1CQUFaO0FBQ0gsS0FmRDs7QUFpQkE7QUFDQS9DLE1BQUUsNEJBQUYsRUFBZ0NtRSxFQUFoQyxDQUFtQyxPQUFuQyxFQUE0QyxVQUFVaUYsQ0FBVixFQUFhO0FBQ3JEMUcsZ0JBQVFLLEdBQVIsQ0FBWSwyQkFBWjtBQUNBL0MsVUFBRSxJQUFGLEVBQVF1SixPQUFSLENBQWdCLHFCQUFoQixFQUF1Q3NCLFdBQXZDLENBQW1ELFNBQW5EO0FBQ0F6QixVQUFFc0MsZUFBRjtBQUNBO0FBQ0E7QUFDQTtBQUNILEtBUEQ7O0FBU0ExTCxNQUFFLDBCQUFGLEVBQThCbUUsRUFBOUIsQ0FBaUMsT0FBakMsRUFBMEMsVUFBQ2lGLENBQUQsRUFBTztBQUM3QzFHLGdCQUFRSyxHQUFSLENBQVksWUFBWjtBQUNBLFlBQUkvQyxFQUFFLHNCQUFGLEVBQTBCMkwsR0FBMUIsQ0FBOEIsU0FBOUIsTUFBNkMsTUFBakQsRUFBeUQ7QUFDckRqQixrQkFBTUksSUFBTixDQUFXLFVBQVgsRUFBdUJjLElBQXZCLENBQTRCLE1BQTVCLEVBQW9DLFlBQVk7QUFDNUNsQixzQkFBTUksSUFBTixDQUFXLHNCQUFYLEVBQW1DZSxJQUFuQyxDQUF3QyxNQUF4QztBQUNILGFBRkQ7QUFHSDtBQUNEN0wsVUFBRSxxQkFBRixFQUF5QjZLLFdBQXpCLENBQXFDLFNBQXJDO0FBQ0E7QUFDQTdLLFVBQUUsVUFBRixFQUFjc0ssa0JBQWQsRUFBa0NRLElBQWxDLENBQXVDLHFDQUF2QyxFQUE4RWhJLEdBQTlFLENBQWtGLEVBQWxGO0FBQ0gsS0FWRDtBQVdIOztBQUVEOzs7Ozs7Ozs7OztBQVdBO0FBQ0EsU0FBU2dKLGFBQVQsR0FBeUI7QUFDckIsUUFBTUMsaUJBQWlCLFNBQWpCQSxjQUFpQixDQUFDaEksR0FBRDtBQUFBLDRHQUMrQ0EsR0FEL0M7QUFBQSxLQUF2QjtBQUdBLFFBQU1pSSxlQUFlLFNBQWZBLFlBQWUsQ0FBQ2pJLEdBQUQ7QUFBQSxxR0FBNkZBLEdBQTdGO0FBQUEsS0FBckI7QUFDQSxRQUFNa0ksZ0JBQWdCak0sRUFBRSxnQkFBRixDQUF0QjtBQUNBLFFBQU1rTSxNQUFNRCxjQUFjbkIsSUFBZCxDQUFtQixVQUFuQixDQUFaO0FBQ0FvQixRQUFJckwsUUFBSixDQUFhLGVBQWIsRUFBOEJnSyxXQUE5QixDQUEwQyxZQUExQzs7QUFFQSxTQUFLLElBQUluSyxJQUFJLENBQWIsRUFBZ0JBLElBQUl3TCxJQUFJN0osTUFBeEIsRUFBZ0MzQixHQUFoQyxFQUFxQztBQUNqQyxZQUFNeUwsU0FBU25NLEVBQUVrTSxJQUFJeEwsQ0FBSixDQUFGLENBQWY7QUFDQXlMLGVBQU9DLFNBQVAsQ0FBaUJKLGFBQWF0TCxDQUFiLENBQWpCLEVBQWtDUixNQUFsQyxDQUF5QzZMLGVBQWVyTCxDQUFmLENBQXpDO0FBQ0EsWUFBSXlMLE9BQU9yQixJQUFQLENBQVksK0JBQVosRUFBNkN6SSxNQUFqRCxFQUF5RDtBQUNyRDhKLG1CQUFPM0UsTUFBUDtBQUNIO0FBQ0o7O0FBRUR4SCxNQUFFLGdCQUFGLEVBQW9CbUUsRUFBcEIsQ0FBdUIsT0FBdkIsRUFBZ0MsbUJBQWhDLEVBQXFELFVBQVVpRixDQUFWLEVBQWE7QUFDOUQsWUFBTWlELGtCQUFrQnJNLEVBQUUsSUFBRixFQUFRaUwsT0FBUixDQUFnQixVQUFoQixDQUF4QjtBQUNBakwsVUFBRSxXQUFGLEVBQWVxTSxlQUFmLEVBQWdDeEIsV0FBaEMsQ0FBNEMsUUFBNUM7QUFDQTdLLFVBQUUsSUFBRixFQUFRdUosT0FBUixDQUFnQixJQUFoQixFQUFzQjFJLFFBQXRCLENBQStCLFFBQS9CO0FBQ0FiLFVBQUUsV0FBRixFQUFlcU0sZUFBZixFQUFnQ0MsSUFBaEMsQ0FBcUMsVUFBckMsRUFBaUQsS0FBakQ7QUFDSCxLQUxEO0FBTUg7O0FBRU0sU0FBUzVFLElBQVQsQ0FBYytDLFNBQWQsRUFBeUI7QUFDNUIsUUFBSXpLLEVBQUUsY0FBRixFQUFrQnFDLE1BQXRCLEVBQThCO0FBQzFCa0ksa0JBQVVELGtCQUFWLEVBQThCRyxTQUE5QjtBQUNBUCxlQUFPQyxNQUFQLENBQWNDLFNBQWQsQ0FBd0IsY0FBTS9NLE1BQU4sQ0FBYU8sZ0JBQWIsQ0FBOEJFLDBCQUF0RCxFQUFrRixVQUFDdU0sU0FBRCxFQUFZYixJQUFaLEVBQXFCO0FBQ25Hc0M7QUFDSCxTQUZEO0FBR0g7QUFDSixDOzs7Ozs7Ozs7Ozs7UUNvQmVwRSxJLEdBQUFBLEk7O0FBN0toQjs7QUFDQTs7Ozs7O0FBRUEsSUFBTTZFLHlCQUF5QixPQUEvQjtBQUNBLElBQU1DLGdCQUFnQixjQUF0QjtBQUNBLElBQU1DLG9CQUFvQixzQkFBMUI7O0FBRUEsU0FBU0MsWUFBVCxDQUFzQkMsZ0JBQXRCLEVBQXdDO0FBQ3BDLFFBQU1DLFFBQVFELGlCQUFpQjdCLElBQWpCLENBQXNCLE9BQXRCLENBQWQ7QUFDQThCLFVBQU1DLFdBQU4sQ0FBa0JELE1BQU1FLEtBQU4sRUFBbEI7QUFDQUgscUJBQWlCN0IsSUFBakIsQ0FBc0IyQixpQkFBdEIsRUFBeUNiLElBQXpDO0FBQ0FlLHFCQUFpQjdCLElBQWpCLENBQXNCLG9CQUF0QixFQUE0Q2UsSUFBNUM7QUFDSDs7QUFFRCxJQUFNa0IsaUJBQWlCL00sRUFBRSxvQkFBRixDQUF2QjtBQUNBK00sZUFBZUMsSUFBZixDQUFvQixVQUFwQixFQUFnQyxZQUFZO0FBQ3hDaE4sTUFBRSxvQkFBRixFQUF3QmEsUUFBeEIsQ0FBaUMsZ0JBQWpDO0FBQ0gsQ0FGRDtBQUdBa00sZUFBZUMsSUFBZixDQUFvQixXQUFwQixFQUFpQyxZQUFZO0FBQ3pDaE4sTUFBRSxvQkFBRixFQUF3QjZLLFdBQXhCLENBQW9DLGdCQUFwQztBQUNILENBRkQ7O0FBSUE7QUFDQTtBQUNBOztBQUVBLFNBQVNvQyxZQUFULENBQXNCQyxHQUF0QixFQUEyQkMsTUFBM0IsRUFBbUM7QUFDL0IsWUFBUUQsSUFBSTVELE1BQUosQ0FBVzhELEtBQVgsQ0FBaUJDLElBQXpCO0FBQ0ksYUFBS0gsSUFBSTVELE1BQUosQ0FBVzhELEtBQVgsQ0FBaUJFLGFBQXRCO0FBQ0k1SyxvQkFBUUMsSUFBUixDQUFhLGlCQUFiO0FBQ0E7QUFDSixhQUFLdUssSUFBSTVELE1BQUosQ0FBVzhELEtBQVgsQ0FBaUJHLGdCQUF0QjtBQUNJN0ssb0JBQVFDLElBQVIsQ0FBYSxzQkFBYjtBQUNBO0FBQ0osYUFBS3VLLElBQUk1RCxNQUFKLENBQVc4RCxLQUFYLENBQWlCSSxTQUF0QjtBQUNJLGtCQVJSLENBUWU7QUFDWDtBQUNJOUssb0JBQVFDLElBQVIsQ0FBYSxzQ0FBYjtBQVZSO0FBWUg7O0FBRUQsU0FBUzhLLGNBQVQsQ0FBd0JQLEdBQXhCLEVBQTZCbkYsUUFBN0IsRUFBdUM7QUFDbkM7QUFDQSxRQUFJbUYsSUFBSVEsZ0JBQVIsRUFBMEI7QUFDdEIsWUFBTUMsZ0JBQWdCQyxLQUFLQyxLQUFMLENBQVlYLElBQUlZLE1BQUosR0FBYVosSUFBSWEsS0FBbEIsR0FBMkIsR0FBdEMsQ0FBdEI7QUFDRjtBQUNFLFlBQUlKLGdCQUFnQixFQUFoQixLQUF1QixDQUEzQixFQUE4QjtBQUMxQjtBQUNBO0FBQ0FqTCxvQkFBUUssR0FBUixDQUFZNEssYUFBWjtBQUNIO0FBQ0o7QUFDSjs7QUFFRCxTQUFTSyxZQUFULENBQXNCQyxZQUF0QixFQUFvQztBQUNoQyxXQUFPQSxhQUFhOU8sSUFBYixLQUFzQixZQUE3QjtBQUNIOztBQUVELFNBQVMrTyxXQUFULENBQXFCRCxZQUFyQixFQUFtQztBQUMvQixRQUFNRSxVQUFVUCxLQUFLQyxLQUFMLENBQVdJLGFBQWFHLElBQXhCLENBQWhCO0FBQ0EsV0FBTzdCLHlCQUF5QjRCLE9BQWhDO0FBQ0g7O0FBRUQsU0FBU0UsWUFBVCxDQUFzQnpCLEtBQXRCLEVBQTZCMEIsY0FBN0IsRUFBNkM7QUFDekMsUUFBTTlVLE1BQU0sY0FBTXNGLE9BQU4sQ0FBYywwQ0FBZCxDQUFaO0FBQ0EsUUFBTXBDLFFBQVEseUJBQWdCMEksUUFBaEIsRUFBZDtBQUNBLFFBQU02SSxlQUFlckIsTUFBTTJCLEtBQU4sQ0FBWSxDQUFaLENBQXJCO0FBQ0E3TCxZQUFRSyxHQUFSLENBQVksY0FBWjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFNbUQsV0FBVyxJQUFJc0ksUUFBSixFQUFqQjs7QUFFQSxRQUFNQyxVQUFVLElBQUlDLGNBQUosRUFBaEI7O0FBRUEsUUFBSUosa0JBQWtCQSxlQUFlekIsV0FBckMsRUFBa0Q7QUFDOUM7QUFDQTtBQUNBO0FBQ0EzRyxpQkFBU2hHLE1BQVQsQ0FBZ0IsT0FBaEIsRUFBeUIrTixZQUF6QixFQUF1Q0EsYUFBYWxQLElBQXBEO0FBSjhDLFlBS3ZDaEUsUUFMdUMsR0FLM0J1VCxjQUwyQixDQUt2Q3ZULFFBTHVDOztBQU05QzBULGdCQUFRRSxJQUFSLENBQWEsS0FBYixtREFBbUU1VCxRQUFuRTtBQUNBO0FBQ0EwVCxnQkFBUUcsZ0JBQVIsQ0FBeUIsT0FBekIsRUFBa0NsUyxLQUFsQztBQUNBK1IsZ0JBQVFHLGdCQUFSLENBQXlCLFFBQXpCLEVBQW1DLGtCQUFuQztBQUNBSCxnQkFBUUcsZ0JBQVIsQ0FBeUIsZUFBekIsRUFBMEMsVUFBMUM7QUFDQUgsZ0JBQVFJLElBQVIsQ0FBYTNJLFFBQWI7QUFDQXVJLGdCQUFRSyxnQkFBUixDQUF5QixrQkFBekIsRUFBNkMsWUFBWTtBQUNyRCxnQkFBSSxLQUFLQyxVQUFMLEtBQW9CLENBQXhCLEVBQTJCO0FBQ3ZCck0sd0JBQVFLLEdBQVIsQ0FBWSxLQUFaLEVBQW1CLEtBQUtpTSxZQUF4QixFQUFzQyxJQUF0QztBQUNBO0FBQ0E5RSx1QkFBT0MsTUFBUCxDQUFjOEUsT0FBZCxDQUFzQixjQUFNNVIsTUFBTixDQUFhYyxXQUFiLENBQXlCRCxxQkFBL0MsRUFBc0UsRUFBQyxZQUFZLEtBQUtnUixRQUFsQixFQUF0RTtBQUNIO0FBQ0osU0FORDtBQU9BO0FBQ0g7QUFDRGhKLGFBQVNoRyxNQUFULENBQWdCLE9BQWhCLEVBQXlCK04sWUFBekIsRUFBdUNBLGFBQWFsUCxJQUFwRDtBQUNBMFAsWUFBUUUsSUFBUixDQUFhLE1BQWIsRUFBcUJuVixHQUFyQjtBQUNBO0FBQ0FpVixZQUFRRyxnQkFBUixDQUF5QixPQUF6QixFQUFrQ2xTLEtBQWxDO0FBQ0ErUixZQUFRRyxnQkFBUixDQUF5QixRQUF6QixFQUFtQyxrQkFBbkM7QUFDQUgsWUFBUUcsZ0JBQVIsQ0FBeUIsZUFBekIsRUFBMEMsVUFBMUM7QUFDQUgsWUFBUUksSUFBUixDQUFhM0ksUUFBYjtBQUNBdUksWUFBUUssZ0JBQVIsQ0FBeUIsa0JBQXpCLEVBQTZDLFlBQVk7QUFDckQsWUFBSSxLQUFLQyxVQUFMLEtBQW9CLENBQXhCLEVBQTJCO0FBQ3ZCck0sb0JBQVFLLEdBQVIsQ0FBWSxNQUFaLEVBQW9CLEtBQUtpTSxZQUF6QixFQUF1QyxJQUF2QztBQUNBOUUsbUJBQU9DLE1BQVAsQ0FBYzhFLE9BQWQsQ0FBc0IsY0FBTTVSLE1BQU4sQ0FBYWMsV0FBYixDQUF5QkMsY0FBL0MsRUFBK0QsRUFBQyxZQUFZLEtBQUs0USxZQUFsQixFQUFnQyxNQUFNcEMsS0FBdEMsRUFBL0Q7QUFDSDtBQUNKLEtBTEQ7QUFNSDs7QUFFRCxTQUFTdUMsT0FBVCxDQUFpQnZDLEtBQWpCLEVBQXdCMEIsY0FBeEIsRUFBd0NjLGNBQXhDLEVBQXdEO0FBQUEsUUFDN0N2QyxXQUQ2QyxHQUNuQnlCLGNBRG1CLENBQzdDekIsV0FENkM7QUFBQSxRQUNoQ3dDLFNBRGdDLEdBQ25CZixjQURtQixDQUNoQ2UsU0FEZ0M7O0FBRXBELFFBQU1DLFNBQVVELFNBQUQsR0FBY0EsU0FBZCxHQUEwQjdDLGFBQXpDO0FBQ0EsUUFBTStDLGFBQWF2UCxFQUFFNE0sS0FBRixFQUFTckQsT0FBVCxDQUFpQitGLE1BQWpCLENBQW5CO0FBQ0EsUUFBSTFDLE1BQU0yQixLQUFOLElBQWUzQixNQUFNMkIsS0FBTixDQUFZLENBQVosQ0FBbkIsRUFBbUM7QUFDL0IsWUFBTXBCLFNBQVMsSUFBSXFDLFVBQUosRUFBZjtBQUNBOU0sZ0JBQVFLLEdBQVIsQ0FBWSxTQUFaO0FBQ0EsWUFBSSxDQUFDbUwsWUFBWXRCLE1BQU0yQixLQUFOLENBQVksQ0FBWixDQUFaLENBQUQsSUFBZ0MsQ0FBQ1AsYUFBYXBCLE1BQU0yQixLQUFOLENBQVksQ0FBWixDQUFiLENBQXJDLEVBQW1FO0FBQy9EN0wsb0JBQVFLLEdBQVIsQ0FBWSxxQ0FBWjtBQUNBL0MsY0FBRXdNLGFBQUYsRUFBaUIxQixJQUFqQixDQUFzQixlQUF0QixFQUF1Q3RELE1BQXZDO0FBQ0F4SCxjQUFFd00sYUFBRixFQUFpQnRNLE1BQWpCLGdqQkFHMEZxTSx5QkFBeUIsSUFBekIsR0FBZ0MsSUFIMUg7QUFNQWtELHVCQUFXLFlBQU07QUFDYnpQLGtCQUFFLGdCQUFGLEVBQW9CYSxRQUFwQixDQUE2QixRQUE3QjtBQUNILGFBRkQsRUFFRyxJQUZIO0FBR0E7QUFDSDs7QUFFRHNNLGVBQU91QyxNQUFQLEdBQWdCLFVBQVN0RyxDQUFULEVBQVk7QUFDeEIsZ0JBQUksQ0FBQ3lELFdBQUwsRUFBa0I7QUFDZDBDLDJCQUFXekUsSUFBWCxDQUFnQixvQkFBaEIsRUFBc0NjLElBQXRDO0FBQ0EyRCwyQkFBV3pFLElBQVgsQ0FBZ0Isb0JBQWhCLEVBQXNDNkUsSUFBdEMsQ0FBMkMsS0FBM0MsRUFBa0R2RyxFQUFFRSxNQUFGLENBQVNLLE1BQTNEO0FBQ0E0RiwyQkFBV3pFLElBQVgsQ0FBZ0IyQixpQkFBaEIsRUFBbUNaLElBQW5DO0FBQ0EwRCwyQkFBV3pFLElBQVgsQ0FBZ0IsY0FBaEIsRUFBZ0M4RSxJQUFoQyxDQUFxQ2hELE1BQU0yQixLQUFOLENBQVksQ0FBWixFQUFleFAsSUFBcEQ7QUFDSCxhQUxELE1BS087QUFBQSxvQkFDSThRLFFBREosR0FDZ0J2QixjQURoQixDQUNJdUIsUUFESjs7QUFFSE4sMkJBQVd6RSxJQUFYLENBQWdCK0UsUUFBaEIsRUFBMEJGLElBQTFCLENBQStCLEtBQS9CLEVBQXNDdkcsRUFBRUUsTUFBRixDQUFTSyxNQUEvQztBQUNIO0FBQ0osU0FWRDs7QUFZQXdELGVBQU8yQyxPQUFQLEdBQWlCN0MsWUFBakI7QUFDQUUsZUFBTzRDLFVBQVAsR0FBb0J0QyxjQUFwQjs7QUFFQU4sZUFBTzZDLGFBQVAsQ0FBcUJwRCxNQUFNMkIsS0FBTixDQUFZLENBQVosQ0FBckI7QUFDQWtCLG1CQUFXLFlBQU07QUFDYixnQkFBSSxPQUFPTCxjQUFQLEtBQTBCLFVBQTlCLEVBQTBDO0FBQ3RDLG9CQUFNMVMsUUFBUSx5QkFBZ0IwSSxRQUFoQixFQUFkO0FBQ0FnSywrQkFBZXhDLEtBQWYsRUFBc0JsUSxLQUF0QjtBQUNILGFBSEQsTUFHTztBQUNIMlIsNkJBQWF6QixLQUFiLEVBQW9CMEIsY0FBcEI7QUFDSDtBQUNKLFNBUEQsRUFPRyxJQVBIO0FBUUE7QUFDQTtBQUVILEtBN0NELE1BNkNPO0FBQ0g1QixxQkFBYTZDLFVBQWI7QUFDSDtBQUNKOztBQUVNLFNBQVM3SCxJQUFULENBQWM0RyxjQUFkLEVBQThCYyxjQUE5QixFQUE4QztBQUNqRCxRQUFNYSxlQUFnQixFQUFFM0Isa0JBQWtCQSxlQUFlekIsV0FBbkMsQ0FBRCxHQUFvRCxrQkFBcEQsR0FBeUV5QixlQUFlMkIsWUFBN0c7QUFDQSxRQUFNQyxhQUFhbFEsRUFBRWlRLFlBQUYsQ0FBbkI7QUFDQSxRQUFNRSxlQUFlblEsRUFBRSxvQkFBRixDQUFyQjtBQUNBLFFBQU1vUSxnQkFBZ0JwUSxFQUFFLGVBQUYsQ0FBdEI7O0FBRUFrUSxlQUFXRyxHQUFYO0FBQ0FGLGlCQUFhRSxHQUFiO0FBQ0FELGtCQUFjQyxHQUFkOztBQUVBSCxlQUFXL0wsRUFBWCxDQUFjLE9BQWQsRUFBdUIsVUFBQ2lGLENBQUQsRUFBTztBQUMxQixZQUFNa0gsY0FBZSxFQUFFaEMsa0JBQWtCQSxlQUFlekIsV0FBbkMsQ0FBRCxHQUFvRCxNQUFwRCxHQUE2RHlCLGVBQWVlLFNBQWhHO0FBQ0EsWUFBTXpDLFFBQVE1TSxFQUFFb0osRUFBRUUsTUFBSixFQUFZQyxPQUFaLENBQW9CK0csV0FBcEIsRUFBaUN4RixJQUFqQyxDQUFzQzBCLGFBQXRDLEVBQXFEMUIsSUFBckQsQ0FBMEQseUJBQTFELENBQWQ7QUFDQThCLGNBQU0yRCxPQUFOLENBQWMsT0FBZDtBQUNBbkgsVUFBRXNDLGVBQUY7QUFDSCxLQUxEOztBQU9BeUUsaUJBQWFoTSxFQUFiLENBQWdCLFFBQWhCLEVBQTBCLFVBQUNpRixDQUFELEVBQU87QUFDN0IrRixnQkFBUS9GLEVBQUVFLE1BQVYsRUFBa0JnRixjQUFsQixFQUFrQ2MsY0FBbEM7QUFDSCxLQUZEOztBQUlBZ0Isa0JBQWNqTSxFQUFkLENBQWlCLE9BQWpCLEVBQTBCLFVBQUNpRixDQUFELEVBQU87QUFDN0IsWUFBTW1HLGFBQWF2UCxFQUFFb0osRUFBRUUsTUFBSixFQUFZQyxPQUFaLENBQW9CLE1BQXBCLEVBQTRCdUIsSUFBNUIsQ0FBaUMwQixhQUFqQyxDQUFuQjtBQUNBRSxxQkFBYTZDLFVBQWI7QUFDQUEsbUJBQVdpQixVQUFYLENBQXNCLGlCQUF0QjtBQUNILEtBSkQ7QUFLSCxDOzs7Ozs7Ozs7Ozs7UUMvQmU5SSxJLEdBQUFBLEk7O0FBdktoQjs7Ozs7O0FBRUEsSUFBSStJLFdBQVc7QUFDWEMsb0JBQWdCLEVBREw7QUFFWEMsZUFBVyxFQUZBO0FBR1hDLGdCQUFZLEVBSEQ7QUFJWEMsZ0JBQVksRUFKRDtBQUtYQyx3QkFBb0I7QUFMVCxDQUFmLEMsQ0FIQTs7QUFVQSxJQUFJMVEsUUFBUSx1QkFBWixDLENBQXFDO0FBQ3JDLElBQUl6QixZQUFZLFdBQWhCO0FBQ0EsSUFBTW9TLGNBQWMsU0FBZEEsV0FBYztBQUFBLFdBQU0vUSxRQUFNckIsU0FBTix1QkFBbUNtRSxHQUFuQyxFQUFOO0FBQUEsQ0FBcEI7QUFDQSxJQUFNN0QsT0FBTztBQUNUbEUsY0FBVWdXO0FBREQsQ0FBYjtBQUdBLElBQUlDLGNBQWMsSUFBbEI7QUFDQSxJQUFJQyxhQUFhLEVBQWpCOztBQUVBLFNBQVNDLHFCQUFULENBQStCQyxTQUEvQixFQUEwQ0MsS0FBMUMsRUFBaUQvUSxTQUFqRCxFQUE0RDtBQUN4RCxRQUFNa0MsV0FBV3ZDLEVBQUV5USxTQUFTSSxVQUFYLENBQWpCO0FBRHdELFFBRWpEQSxVQUZpRCxHQUVuQ3hRLFVBQVVnUixRQUZ5QixDQUVqRFIsVUFGaUQ7OztBQUl4RE0sY0FBVWhOLEVBQVYsQ0FBYSxPQUFiLEVBQXNCLFVBQUNpRixDQUFELEVBQU87QUFDekIsWUFBTWtJLFlBQVkvTyxTQUFTdUksSUFBVCxDQUFjLHVCQUFkLENBQWxCO0FBQ0EsWUFBTTVMLE9BQU8yUixXQUFXVSxRQUF4QjtBQUNBLFlBQUksQ0FBQ1YsV0FBV1UsUUFBaEIsRUFBMEI7QUFDdEJKLHNCQUFVdFEsUUFBVixDQUFtQixVQUFuQixFQUErQnlMLElBQS9CLENBQW9DLFVBQXBDLEVBQWdELFVBQWhEO0FBQ0E7QUFDSDtBQUNEMEUsc0JBQWNILFdBQVdVLFFBQXpCO0FBQ0FELGtCQUFVekcsV0FBVixDQUFzQixRQUF0QjtBQUNBMkcsb0JBQVlwUixLQUFaLEVBQW1CbkIsSUFBbkIsRUFBeUJDLElBQXpCO0FBQ0gsS0FWRDs7QUFZQWtTLFVBQU1qTixFQUFOLENBQVMsT0FBVCxFQUFrQixVQUFDaUYsQ0FBRCxFQUFPO0FBQ3JCLFlBQU1rSSxZQUFZL08sU0FBU3VJLElBQVQsQ0FBYyx1QkFBZCxDQUFsQjtBQUNBLFlBQU0yRyxtQkFBbUJILFVBQVVsRyxLQUFWLEVBQXpCO0FBQ0EsWUFBTWxNLE9BQU8yUixXQUFXdEYsSUFBeEI7QUFDQSxZQUFJLENBQUNzRixXQUFXdEYsSUFBaEIsRUFBc0I7QUFDbEI7QUFDSDtBQUNEeUYsc0JBQWNILFdBQVd0RixJQUF6QjtBQUNBK0Ysa0JBQVV6RyxXQUFWLENBQXNCLFFBQXRCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsWUFBSTRHLG9CQUFvQk4sVUFBVU8sUUFBVixDQUFtQixVQUFuQixDQUF4QixFQUF3RDtBQUNwRFAsc0JBQVV0RyxXQUFWLENBQXNCLFVBQXRCO0FBQ0g7QUFDRDJHLG9CQUFZcFIsS0FBWixFQUFtQm5CLElBQW5CLEVBQXlCQyxJQUF6QjtBQUNILEtBaEJEOztBQWtCQWMsTUFBRXlRLFNBQVNHLFVBQVgsRUFBdUJ6TSxFQUF2QixDQUEwQixPQUExQixFQUFtQyxVQUFDaUYsQ0FBRCxFQUFPO0FBQ3RDO0FBQ0E0SCxzQkFBYyxDQUFkO0FBQ0gsS0FIRDtBQUlBaFIsTUFBS3lRLFNBQVNJLFVBQWQsU0FBNEJKLFNBQVNLLGtCQUFyQyxFQUEyRDNNLEVBQTNELENBQThELE9BQTlELEVBQXVFLFVBQUNpRixDQUFELEVBQU87QUFDMUVBLFVBQUVxQyxjQUFGO0FBQ0EsWUFBTTNJLE1BQU05QyxFQUFFb0osRUFBRUUsTUFBSixFQUFZeEksSUFBWixFQUFaO0FBQ0FrUSxzQkFBY1csU0FBUzdPLEdBQVQsRUFBYyxFQUFkLENBQWQ7QUFDQTBPLG9CQUFZcFIsS0FBWixFQUFtQm5CLElBQW5CLEVBQXlCK1IsV0FBekI7QUFDQXRPLGdCQUFRSyxHQUFSLENBQVlpTyxXQUFaO0FBQ0gsS0FORDtBQU9IOztBQUVELFNBQVNZLGFBQVQsQ0FBdUJ2UixTQUF2QixFQUFrQ2tDLFFBQWxDLEVBQTRDO0FBQUEsUUFDakNzTyxVQURpQyxHQUNuQnhRLFVBQVVnUixRQURTLENBQ2pDUixVQURpQzs7QUFFeEMsUUFBTWdCLGNBQWM3Uiw2QkFBMkIsQ0FBQzZRLFdBQVdVLFFBQWIsR0FBeUIsVUFBekIsR0FBc0MsRUFBaEUsMENBQXNHLENBQUNWLFdBQVdVLFFBQWIsR0FBeUIsZUFBekIsR0FBMkMsRUFBaEosK0NBQXBCO0FBQ0EsUUFBTU8sVUFBVTlSLDZCQUEyQixDQUFDNlEsV0FBV3RGLElBQWIsR0FBcUIsVUFBckIsR0FBa0MsRUFBNUQsMENBQWtHLENBQUNzRixXQUFXdEYsSUFBYixHQUFxQixlQUFyQixHQUF1QyxFQUF4SSxxREFBaEI7O0FBRUF3RyxvQkFBZ0J4UCxRQUFoQjs7QUFFQSxRQUFJc08sV0FBV3RGLElBQVgsSUFBbUJzRixXQUFXbUIsS0FBWCxJQUFxQm5CLFdBQVdvQixPQUFYLEtBQXVCcEIsV0FBV21CLEtBQVgsQ0FBaUJuQixXQUFXbUIsS0FBWCxDQUFpQjNQLE1BQWpCLEdBQTBCLENBQTNDLENBQW5FLEVBQW1IO0FBQy9HRSxpQkFBU3JDLE1BQVQsQ0FBZ0IyUixXQUFoQjtBQUNBLFlBQUloQixjQUFjQSxXQUFXLE9BQVgsQ0FBbEIsRUFBdUM7QUFDbkNBLHVCQUFXLE9BQVgsRUFBb0JyUSxPQUFwQixDQUE0QixVQUFDQyxJQUFELEVBQVU7QUFDbENULHlEQUF1QzZRLFdBQVdvQixPQUFYLEtBQXVCeFIsSUFBeEIsR0FBZ0MsUUFBaEMsR0FBMkMsRUFBakYseUNBQXNIQSxJQUF0SCxnQkFBdUlHLFFBQXZJLENBQWdKMkIsUUFBaEo7QUFDSCxhQUZEO0FBR0g7QUFDREEsaUJBQVNyQyxNQUFULENBQWdCNFIsT0FBaEI7QUFDSDtBQUNEWiwwQkFBc0JXLFdBQXRCLEVBQW1DQyxPQUFuQyxFQUE0Q3pSLFNBQTVDO0FBQ0g7O0FBRUQsU0FBUzBSLGVBQVQsQ0FBeUJ4UCxRQUF6QixFQUFtQztBQUMvQkEsYUFBU3RDLEtBQVQ7QUFDSDs7QUFFRCxTQUFTMkksWUFBVCxDQUFzQnhJLEtBQXRCLEVBQTZCQyxTQUE3QixFQUF3QzZSLE1BQXhDLEVBQWdEO0FBQzVDLFFBQU1DLHFCQUFxQm5TLEVBQUUsa0JBQUYsQ0FBM0I7QUFDQSxRQUFNTSxRQUFRRCxVQUFVN0IsSUFBeEI7QUFDQTtBQUNBNEIsVUFBTUgsS0FBTjtBQUNBLFFBQUksQ0FBQ0ssTUFBTStCLE1BQVgsRUFBbUI7QUFDZnJDLGlMQUVRWSxRQUZSLENBRWlCUixLQUZqQjtBQUdBMlIsd0JBQWdCSSxrQkFBaEI7QUFDQTtBQUNIO0FBQ0RQLGtCQUFjdlIsU0FBZCxFQUF5QjhSLGtCQUF6QjtBQUNBN1IsVUFBTUUsT0FBTixDQUFjLFVBQUNDLElBQUQsRUFBVTtBQUFBLFlBQ2IyUixLQURhLEdBQ0czUixJQURILENBQ2IyUixLQURhO0FBQUEsWUFDTm5MLEtBRE0sR0FDR3hHLElBREgsQ0FDTndHLEtBRE07O0FBRXBCakgsa0pBRXVDb1MsVUFBVSxPQUFYLEdBQXNCLGFBQXRCLEdBQXNDLEVBRjVFLFdBRW1GQSxVQUFVLE1BQVgsR0FBcUIsY0FBckIsR0FBc0MsRUFGeEgsb0NBR2lCbkwsS0FBRCxRQUFhQSxLQUFiLEdBQXVCLEVBSHZDLHlFQU1VckcsUUFOVixDQU1tQlIsS0FObkI7O0FBUUEsWUFBSSxDQUFDSixFQUFFLElBQUYsRUFBUUksS0FBUixFQUFlaUMsTUFBcEIsRUFBNEI7QUFDeEJyQyw4TEFFUVksUUFGUixDQUVpQlIsS0FGakI7QUFHSDtBQUNKLEtBZkQ7QUFnQkg7O0FBRUQsU0FBU2lTLGlCQUFULEdBQTZCO0FBQ3pCLFFBQU1DLGdCQUFnQnRTLEVBQUUsY0FBRixDQUF0QjtBQUNBc1Msa0JBQWNqQyxHQUFkO0FBQ0FpQyxrQkFBY25PLEVBQWQsQ0FBaUIsT0FBakIsRUFBMEIsR0FBMUIsRUFBK0IsVUFBQ2lGLENBQUQsRUFBTztBQUNsQ0EsVUFBRXFDLGNBQUY7QUFDQSxZQUFNOEcsTUFBTXZTLEVBQUVvSixFQUFFRSxNQUFKLENBQVo7QUFDQSxZQUFJaUosSUFBSTVDLElBQUosQ0FBUyxJQUFULE1BQW1CLGtCQUF2QixFQUEyQztBQUN2QztBQUNBLGdCQUFJc0IsVUFBSixFQUFnQjtBQUNadUIsOEJBQWN2QixVQUFkO0FBQ0g7QUFDSjtBQUNKLEtBVEQ7QUFVSDs7QUFFRCxTQUFTTyxXQUFULENBQXFCcFIsS0FBckIsRUFBNEJuQixJQUE1QixFQUFrQ0MsSUFBbEMsRUFBd0M7QUFDcENELFNBQUtsRSxRQUFMLEdBQWdCZ1csWUFBWXBTLFNBQVosQ0FBaEI7QUFDQSxRQUFNdUcsVUFBVSxDQUFDakcsS0FBS0UsSUFBTixlQUF1QkYsS0FBS0csT0FBNUIsZUFBa0RILEtBQUtsRSxRQUF2RCxDQUFoQjtBQUNBLDZCQUFnQjBYLGNBQWhCLENBQStCdk4sT0FBL0IsRUFBd0NoRyxJQUF4QyxFQUE4Q3dLLElBQTlDLENBQW1ELFVBQUNDLE1BQUQsRUFBWTtBQUMzRCxZQUFJQSxPQUFPekIsTUFBUCxDQUFjVyxLQUFkLEtBQXdCLElBQTVCLEVBQWtDO0FBQzlCRCx5QkFBYXhJLEtBQWIsRUFBb0J1SixPQUFPSCxJQUEzQjtBQUNBNkk7QUFDQSxnQkFBTUssaUJBQWlCL0ksT0FBT0gsSUFBUCxDQUFZNkgsUUFBWixDQUFxQnNCLGdCQUE1QztBQUNBO0FBQ0EsZ0JBQUkxQixVQUFKLEVBQWdCO0FBQ1p1Qiw4QkFBY3ZCLFVBQWQ7QUFDSDtBQUNELGdCQUFJRCxlQUFlLENBQW5CLEVBQXNCO0FBQ2xCQyw2QkFBYTJCLFlBQVksWUFBTTtBQUMzQjtBQUNBcEIsZ0NBQVlwUixLQUFaLEVBQW1CbkIsSUFBbkIsRUFBeUIrUixXQUF6QjtBQUNILGlCQUhZLEVBR1YwQixjQUhVLENBQWI7QUFJSDtBQUNKLFNBZEQsTUFjTztBQUNIMVMsNEpBRVFZLFFBRlIsQ0FFaUJSLEtBRmpCO0FBR0g7QUFDSixLQXBCRDtBQXFCSDs7QUFFRCxTQUFTeVMsU0FBVCxDQUFtQmxQLEdBQW5CLEVBQXdCO0FBQ3BCOE0sZUFBVzlNLEdBQVg7QUFDQXZELFlBQVFKLEVBQUV5USxTQUFTRSxTQUFYLENBQVI7QUFDQTFSLFNBQUtFLElBQUwsR0FBWXdFLElBQUltUCxRQUFoQjtBQUNBN1QsU0FBS0csT0FBTCxHQUFldUUsSUFBSW9QLFdBQW5CO0FBQ0g7O0FBRU0sU0FBU3JMLElBQVQsQ0FBY3NMLFVBQWQsRUFBMEJyUCxHQUExQixFQUErQjtBQUNsQyxRQUFJM0QsRUFBRTJELElBQUkrTSxjQUFOLEVBQXNCck8sTUFBMUIsRUFBa0M7QUFDOUIxRCxvQkFBWXFVLFVBQVo7QUFDQUgsa0JBQVVsUCxHQUFWO0FBQ0EsWUFBSW9OLGFBQUosRUFBbUI7QUFDZjtBQUNBUyx3QkFBWXBSLEtBQVosRUFBbUJuQixJQUFuQjtBQUNILFNBSEQsTUFHTztBQUNIeUQsb0JBQVFLLEdBQVIsQ0FBWSxhQUFaO0FBQ0g7QUFDSjtBQUNKLEM7Ozs7Ozs7Ozs7OztRQ2hKZTJFLEksR0FBQUEsSTs7QUFuQ2hCOztBQUNBOzs7Ozs7QUFFQSxJQUFNdUwsdUJBQXVCLEVBQTdCOztBQUVBLFNBQVNDLGlCQUFULE9BQW9FQyxRQUFwRSxFQUE4RTtBQUFBLFFBQWxENVEsUUFBa0QsUUFBbERBLFFBQWtEO0FBQUEsUUFBeEM3RCxTQUF3QyxRQUF4Q0EsU0FBd0M7QUFBQSxRQUE3QjBVLGdCQUE2QixRQUE3QkEsZ0JBQTZCO0FBQUEsUUFDbkV6VSxTQURtRSxHQUN0REQsU0FEc0QsQ0FDbkVDLFNBRG1FOztBQUUxRSxRQUFNa0YsUUFBUSxrQkFBZDtBQUNBdEIsYUFBU3RDLEtBQVQsR0FBaUJZLFFBQWpCLENBQTBCLG9CQUExQjtBQUNBYix5QkFBbUI2RCxLQUFuQiw4Q0FBaUVsRixTQUFqRSxrQkFBeUZpQyxRQUF6RixDQUFrRzJCLFFBQWxHO0FBQ0E0USxhQUFTM1MsT0FBVCxDQUFpQixVQUFDekIsSUFBRCxFQUFVO0FBQ3ZCaUIsMkRBQWlEakIsSUFBakQsd0JBQ01BLElBRE4sMEJBRVk2QixRQUZaLENBRXFCWixRQUFNckIsU0FBTixDQUZyQjtBQUdILEtBSkQ7QUFLQXlVO0FBQ0g7O0FBRUQsU0FBU0MsV0FBVCxHQUF1QjtBQUNuQixtQkFBS0MsZUFBTCxHQUF1QjVKLElBQXZCLENBQTRCLFVBQUM2SixHQUFELEVBQVM7QUFDakMsWUFBSUEsSUFBSXJMLE1BQUosQ0FBV1csS0FBWCxLQUFxQixJQUFyQixJQUE2QjBLLElBQUkvSixJQUFqQyxJQUF5QytKLElBQUkvSixJQUFKLENBQVMySixRQUF0RCxFQUFnRTtBQUM1RCxnQkFBTXhQLE1BQU1zUCxvQkFBWjtBQUQ0RCxnQkFFckRFLFFBRnFELEdBRXpDSSxJQUFJL0osSUFGcUMsQ0FFckQySixRQUZxRDs7QUFHNURELDhCQUFrQnZQLEdBQWxCLEVBQXVCd1AsUUFBdkI7QUFDQWpKLG1CQUFPQyxNQUFQLENBQWM4RSxPQUFkLENBQXNCLGNBQU01UixNQUFOLENBQWFPLGdCQUFiLENBQThCRywrQkFBcEQsRUFBcUZ3VixJQUFJL0osSUFBSixDQUFTMkosUUFBOUY7QUFDSDtBQUNKLEtBUEQ7QUFRSDs7QUFFRCxTQUFTSyxVQUFULENBQW9CQyxzQkFBcEIsRUFBNEM7QUFDeEN6VCxNQUFFLG1CQUFGLEVBQXVCbUUsRUFBdkIsQ0FBMEIsT0FBMUIsRUFBbUMsVUFBQ2lGLENBQUQsRUFBTztBQUN0Q2lLO0FBQ0gsS0FGRDtBQUdIOztBQUVNLFNBQVMzTCxJQUFULENBQWNnTSxjQUFkLEVBQThCaFYsU0FBOUIsRUFBeUM7QUFDNUMsUUFBTTZELFdBQVd2QyxFQUFFLGlCQUFGLENBQWpCO0FBQ0FtQyxXQUFPd1IsTUFBUCxDQUFjVixvQkFBZCxFQUFvQyxFQUFDMVEsa0JBQUQsRUFBVzZRLGtCQUFrQk0sY0FBN0IsRUFBNkNoVixvQkFBN0MsRUFBcEM7QUFDQThVO0FBQ0gsQzs7Ozs7Ozs7Ozs7O1FDbkNlSSxpQyxHQUFBQSxpQztRQXVEQUMsYSxHQUFBQSxhOztBQTNEaEI7O0FBRUEsSUFBTUMsb0JBQW9CLHNCQUExQjs7QUFFTyxTQUFTRixpQ0FBVCxDQUEyQ0csTUFBM0MsRUFBbURDLFdBQW5ELEVBQWdFQyxnQkFBaEUsRUFBa0Y7QUFDckYsUUFBTUMsZUFBZSxzQkFBckI7QUFDQSxRQUFNQyxnQkFBZ0IsU0FBaEJBLGFBQWdCLENBQUMvSyxDQUFELEVBQUlnTCxNQUFKLEVBQWU7QUFDakMsWUFBTUMsYUFBYyxDQUFDRCxNQUFGLEdBQVlwVSxFQUFFb0osRUFBRUUsTUFBSixFQUFZQyxPQUFaLENBQW9CLFdBQXBCLEVBQWlDekcsR0FBakMsRUFBWixHQUFxRCxFQUF4RTtBQUNBLFlBQU1oQyxPQUFRLENBQUNzVCxNQUFGLEdBQWVwVSxFQUFFb0osRUFBRUUsTUFBSixFQUFZQyxPQUFaLENBQW9CLEtBQXBCLEVBQTJCdUIsSUFBM0IsQ0FBZ0MsNEJBQWhDLEVBQThEaEksR0FBOUQsRUFBZixTQUFzRnVSLFVBQXRGLEdBQXFHLEVBQWxIO0FBQ0EsWUFBTUMsWUFBYSxDQUFDRixNQUFELElBQVdoTCxFQUFFakssSUFBRixLQUFXLGFBQXpDO0FBQ0EsWUFBTW9WLGVBQWdCRCxTQUFELEdBQWNELFVBQWQsR0FBMkIsRUFBaEQ7QUFDQSxZQUFNRyxlQUFlLFNBQWZBLFlBQWUsR0FBTTtBQUN2QjtBQUNBeFUsY0FBRW9KLEVBQUVFLE1BQUosRUFBWUMsT0FBWixDQUFvQixtQkFBcEIsRUFBeUN1QixJQUF6QyxDQUE4Q2dKLGlCQUE5QyxFQUFpRWpKLFdBQWpFLENBQTZFLGVBQTdFO0FBQ0EsZ0JBQUltSixXQUFKLEVBQWlCO0FBQ2I7QUFDQUEsNEJBQVl4RCxVQUFaLENBQXVCLFVBQXZCLEVBQW1DLFVBQW5DO0FBQ0g7QUFDSixTQVBEO0FBUUEsWUFBTWlFLFlBQVksU0FBWkEsU0FBWSxHQUFNO0FBQ3BCelUsY0FBRW9KLEVBQUVFLE1BQUosRUFBWUMsT0FBWixDQUFvQixtQkFBcEIsRUFBeUN1QixJQUF6QyxDQUE4Q2dKLGlCQUE5QyxFQUFpRWpULFFBQWpFLENBQTBFLGVBQTFFO0FBQ0gsU0FGRDtBQUdBNkIsZ0JBQVFLLEdBQVIsQ0FBWSxNQUFaLEVBQW9CakMsSUFBcEI7QUFDQSxZQUFJa1QsV0FBSixFQUFpQjtBQUNiO0FBQ0FBLHdCQUFZckUsSUFBWixDQUFpQixVQUFqQixFQUE2QixVQUE3QjtBQUNIO0FBQ0QsWUFBTStFLG1CQUFtQjVULEtBQUt1QixNQUFMLEtBQWdCNlIsYUFBYWpULElBQWIsQ0FBa0JILElBQWxCLEtBQTJCLENBQUMsQ0FBQ21ULGdCQUE3QyxDQUF6QjtBQUNBLFlBQU1VLHFCQUFxQkosYUFBYWxTLE1BQWIsS0FBd0I2UixhQUFhalQsSUFBYixDQUFrQnNULFlBQWxCLEtBQW1DLENBQUMsQ0FBQ04sZ0JBQTdELENBQTNCOztBQUVBLFlBQUksQ0FBQ1Msb0JBQW9CQyxrQkFBckIsS0FBNEM3VCxTQUFTLEdBQXpELEVBQThEO0FBQzFEO0FBQ0EwVDtBQUNILFNBSEQsTUFHTyxJQUFJLENBQUNKLE1BQUwsRUFBYTtBQUNoQjtBQUNBSztBQUNIO0FBQ0QsWUFBSSxDQUFDRixhQUFhbFMsTUFBZCxJQUF3QmlTLFNBQXhCLElBQXFDLENBQUNGLE1BQTFDLEVBQWtEO0FBQzlDO0FBQ0FJO0FBQ0g7QUFDSixLQW5DRDtBQW9DQTtBQUNBTCxrQkFBYyxJQUFkLEVBQW9CLFFBQXBCO0FBQ0F6UixZQUFRSyxHQUFSLENBQVksc0JBQVosRUFBb0NnUixNQUFwQzs7QUFFQSxRQUFJLENBQUNDLFdBQUwsRUFBa0I7QUFDZDtBQUNBO0FBQ0g7O0FBRUQ7QUFDQTtBQUNBRCxXQUFPNVAsRUFBUCxDQUFVLGVBQVYsRUFBMkJnUSxhQUEzQjs7QUFFQTtBQUNBSixXQUFPNVAsRUFBUCxDQUFVLGFBQVYsRUFBeUJnUSxhQUF6QjtBQUNIOztBQUVNLFNBQVNOLGFBQVQsQ0FBd0JlLFFBQXhCLEVBQWtDO0FBQ3JDQSxhQUFTQyxTQUFULENBQW1CLE9BQW5CO0FBQ0gsQzs7Ozs7O0FDN0REO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLDJCQUEyQixlQUFlLEVBQUU7O0FBRTVDO0FBQ0EsS0FBSztBQUNMO0FBQ0EsOENBQThDO0FBQzlDO0FBQ0EsZ0NBQWdDO0FBQ2hDLDBDQUEwQztBQUMxQzs7QUFFQSxDQUFDO0FBQ0Q7O0FBRUEscUJBQXFCO0FBQ3JCOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLFNBQVM7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLFNBQVM7QUFDeEIsZ0JBQWdCO0FBQ2hCLGdCQUFnQjtBQUNoQjtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGVBQWUsU0FBUztBQUN4QixnQkFBZ0I7QUFDaEIsZ0JBQWdCO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxTQUFTO0FBQ3hCLGVBQWUsV0FBVztBQUMxQixnQkFBZ0I7QUFDaEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxlQUFlLFNBQVM7QUFDeEIsZUFBZSxXQUFXO0FBQzFCLGdCQUFnQjtBQUNoQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsZUFBZSxvQkFBb0I7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLENBQUM7Ozs7Ozs7Ozs7Ozs7O1FDdFNlQyxTLEdBQUFBLFM7UUFtRUFDLFEsR0FBQUEsUTs7QUF2RWhCOztBQUNBOzs7Ozs7QUFFQTtBQUNPLFNBQVNELFNBQVQsQ0FBbUIxVSxLQUFuQixFQUEwQkUsS0FBMUIsRUFBaUMwVSxjQUFqQyxFQUFpRDtBQUNwRCxRQUFNQyxZQUFZLFNBQVpBLFNBQVksQ0FBQ0MsZUFBRCxFQUFrQmhKLEdBQWxCLEVBQXVCOUwsS0FBdkIsRUFBaUM7QUFDL0MsWUFBSThVLGVBQUosRUFBcUI7QUFDakJoSixnQkFBSWlKLFdBQUosQ0FBZ0IvVSxNQUFNMEssSUFBTixDQUFXLGVBQVgsQ0FBaEI7QUFDSCxTQUZELE1BRU87QUFDSG9CLGdCQUFJdEwsUUFBSixDQUFhUixLQUFiO0FBQ0g7QUFDSixLQU5EO0FBT0EsUUFBSSxDQUFDNFUsY0FBTCxFQUFxQjtBQUNqQjVVLGNBQU1ILEtBQU47QUFDSDtBQUNESyxVQUFNRSxPQUFOLENBQWMsVUFBQ0MsSUFBRCxFQUFPc0QsR0FBUCxFQUFlO0FBQUEsWUFDbEI5SCxFQURrQixHQUNOd0UsSUFETSxDQUNsQnhFLEVBRGtCO0FBQUEsWUFDZGtELElBRGMsR0FDTnNCLElBRE0sQ0FDZHRCLElBRGM7O0FBRXpCLFlBQU1pVyxNQUFNcFYsMkVBQXlFL0QsRUFBekUsMEJBQWdHa0QsSUFBaEcseUJBQ0xzQixLQUFLdEIsSUFBTCxLQUFjLE9BQWYsa0JBQ2lCc0IsS0FBS2pILEdBRHRCLDhGQUVtQmlILEtBQUt0QixJQUZ4Qix1RUFHeUNzQixLQUFLakgsR0FIOUMsOENBSWtCaUgsS0FBS2pILEdBSnZCLHNOQURNLHNCQUFaO0FBVUF5YixrQkFBVUQsY0FBVixFQUEwQkksR0FBMUIsRUFBK0JoVixLQUEvQixFQVp5QixDQVljO0FBQzFDLEtBYkQ7QUFjSDs7QUFFRCxTQUFTd1IsYUFBVCxDQUF1QnlELFdBQXZCLEVBQW9DeFAsTUFBcEMsRUFBNEM7QUFDeEM3RixNQUFFLFlBQUYsRUFBZ0IyUCxJQUFoQixDQUFxQixRQUFyQixFQUErQjlKLE1BQS9CO0FBQ0F3UCxnQkFBWXhLLFdBQVosQ0FBd0IsUUFBeEI7QUFDSDs7QUFFRCxTQUFTeUssY0FBVCxDQUF3QkQsV0FBeEIsRUFBcUM7QUFDakNBLGdCQUFZeFUsUUFBWixDQUFxQixRQUFyQjtBQUNIOztBQUVELFNBQVMwVSxrQkFBVCxDQUE0Qm5WLEtBQTVCLEVBQW1DcEMsS0FBbkMsRUFBMEN3WCxZQUExQyxFQUF3RDtBQUNwRHhWLE1BQUUsSUFBRixFQUFRSSxLQUFSLEVBQWUrRCxFQUFmLENBQWtCLE9BQWxCLEVBQTJCLFVBQUNpRixDQUFELEVBQU87QUFDOUIsWUFBTXFNLGNBQWMsNEJBQXBCO0FBQ0EsWUFBTUMsaUJBQWlCLG9CQUF2QjtBQUNBLFlBQU1DLHlCQUF1QkYsV0FBN0I7QUFDQSxZQUFNRyxTQUFTNVYsRUFBRW9KLEVBQUVFLE1BQUosRUFBWUMsT0FBWixDQUFvQixJQUFwQixDQUFmO0FBQ0EsWUFBTXNNLFNBQVNELE9BQU9qRyxJQUFQLENBQVksY0FBWixDQUFmO0FBQ0EsWUFBTW1HLFdBQVdGLE9BQU9qRyxJQUFQLENBQVksZ0JBQVosQ0FBakI7QUFDQSxZQUFNb0csYUFBYVAsYUFBYWpNLE9BQWIsQ0FBcUIsTUFBckIsQ0FBbkI7QUFDQTtBQUNBN0csZ0JBQVFLLEdBQVIsQ0FBWSxPQUFaLEVBQXFCK1MsUUFBckIsRUFBK0JELE1BQS9CLEVBQXVDN1gsS0FBdkM7QUFDQWtNLGVBQU9DLE1BQVAsQ0FBYzhFLE9BQWQsQ0FBc0IsY0FBTTVSLE1BQU4sQ0FBYVcsS0FBYixDQUFtQkMsbUJBQXpDLEVBQ0ksRUFBQzJYLGNBQUQsRUFBU0csc0JBQVQsRUFESjtBQUVBL1gsY0FBTUEsS0FBTixDQUFZLE1BQVo7QUFDQSxZQUFJd1gsYUFBYWpNLE9BQWIsQ0FBcUIsTUFBckIsRUFBNkJ1QixJQUE3QixDQUFrQzZLLGdCQUFsQyxFQUFvRHRULE1BQXhELEVBQWdFO0FBQzVEbVQseUJBQWFqTSxPQUFiLENBQXFCLE1BQXJCLEVBQTZCdUIsSUFBN0IsQ0FBa0M2SyxnQkFBbEMsRUFBb0RuTyxNQUFwRDtBQUNIOztBQUVELFlBQU13TyxjQUFjaFcsbUJBQWlCeVYsV0FBakIsa0VBQ0lJLE1BREosMEJBQytCQyxRQUQvQix3R0FFa0VKLGNBRmxFLG1GQUdKTyxPQUhJLENBR0lMLE9BQU85SyxJQUFQLENBQVksS0FBWixDQUhKLENBQXBCO0FBSUEwSyxxQkFBYWpNLE9BQWIsQ0FBcUIsTUFBckIsRUFBNkJySixNQUE3QixDQUFvQzhWLFdBQXBDOztBQUVBaFcsZ0JBQU0wVixjQUFOLEVBQXdCckYsR0FBeEIsR0FBOEJsTSxFQUE5QixDQUFpQyxPQUFqQyxFQUEwQyxVQUFDaUYsQ0FBRCxFQUFPO0FBQzdDLGdCQUFNOE0sa0JBQWtCbFcsRUFBRW9KLEVBQUVFLE1BQUosRUFBWUMsT0FBWixDQUFvQixNQUFwQixFQUE0QnVCLElBQTVCLENBQWlDNkssZ0JBQWpDLENBQXhCO0FBQ0FPLDRCQUFnQjFPLE1BQWhCO0FBQ0gsU0FIRDtBQUlILEtBM0JEO0FBNEJIOztBQUVNLFNBQVN1TixRQUFULENBQWtCL1csS0FBbEIsRUFBeUJzSCxPQUF6QixRQUFtRTtBQUFBLFFBQWhDNlEsZUFBZ0MsUUFBaENBLGVBQWdDO0FBQUEsUUFBZlgsWUFBZSxRQUFmQSxZQUFlOztBQUN0RSw2QkFBZ0JZLG9CQUFoQixDQUFxQzlRLE9BQXJDLEVBQThDb0UsSUFBOUMsQ0FBbUQsVUFBQ0MsTUFBRCxFQUFZO0FBQzNEO0FBQ0EsWUFBSUEsT0FBT3pCLE1BQVAsQ0FBY1csS0FBZCxLQUF3QixJQUE1QixFQUFrQztBQUFBLGdCQUN2QlcsSUFEdUIsR0FDZkcsTUFEZSxDQUN2QkgsSUFEdUI7O0FBRTlCLGdCQUFNNkwsY0FBY3JYLFFBQVFnQyxFQUFFLGVBQUYsRUFBbUJoQyxLQUFuQixDQUFSLEdBQW9DLElBQXhEO0FBQ0EsZ0JBQU1vQyxRQUFRSixFQUFFLHlCQUFGLEVBQTZCaEMsS0FBN0IsQ0FBZDtBQUNBLGdCQUFJLENBQUN3TCxLQUFLNk0sS0FBTCxDQUFXaFUsTUFBaEIsRUFBd0I7QUFDcEI7QUFDQW1ULDZCQUFhYyxPQUFiLENBQXFCO0FBQ2pCQywrQkFBVyxNQURNO0FBRWpCQyw2QkFBUyx5Q0FGUTtBQUdqQkMsK0JBQVc7QUFITSxpQkFBckI7QUFLQWhILDJCQUFXLFlBQU07QUFDYitGLGlDQUFhYyxPQUFiLENBQXFCLFNBQXJCO0FBQ0gsaUJBRkQsRUFFRyxJQUZIO0FBR0E7QUFDSDs7QUFFRCxnQkFBSXRZLEtBQUosRUFBVztBQUNQOFcsMEJBQVUxVSxLQUFWLEVBQWlCb0osS0FBSzZNLEtBQXRCO0FBQ0FyWSxzQkFBTUEsS0FBTixDQUFZLE1BQVo7QUFDQUEsc0JBQU1BLEtBQU4sQ0FBWSxjQUFaO0FBQ0F1WCxtQ0FBbUJuVixLQUFuQixFQUEwQnBDLEtBQTFCLEVBQWlDd1gsWUFBakM7QUFDSCxhQUxELE1BS08sSUFBSWhNLEtBQUs2TSxLQUFULEVBQWdCO0FBQ25CdkIsMEJBQVUxVSxLQUFWLEVBQWlCb0osS0FBSzZNLEtBQXRCLEVBQTZCLGNBQTdCO0FBQ0FkLG1DQUFtQm5WLEtBQW5CLEVBQTBCSixFQUFFLGlCQUFGLENBQTFCLEVBQWdEd1YsWUFBaEQ7QUFDSDs7QUFFRCxnQkFBSWhNLEtBQUtxSCxVQUFMLElBQW1CckgsS0FBS3FILFVBQUwsQ0FBZ0JoTCxNQUF2QyxFQUErQztBQUMzQytMLDhCQUFjeUQsV0FBZCxFQUEyQjdMLEtBQUtxSCxVQUFMLENBQWdCaEwsTUFBM0M7QUFDQXNRLGdDQUFnQnBCLFFBQWhCO0FBQ0gsYUFIRCxNQUdPO0FBQ0hPLCtCQUFldFYsRUFBRSxlQUFGLEVBQW1CaEMsS0FBbkIsQ0FBZjtBQUNIO0FBRUosU0FsQ0QsTUFrQ087QUFDSDtBQUNIO0FBQ0osS0F2Q0Q7QUF3Q0gsQzs7Ozs7Ozs7Ozs7O1FDdkZlMFksVyxHQUFBQSxXOztBQXpCaEI7Ozs7QUFDQTs7SUFBWWxZLEk7O0FBQ1o7O0lBQVltWSxJOzs7Ozs7QUFFWixTQUFTQyxZQUFULENBQXNCQyxXQUF0QixFQUFtQ0MsVUFBbkMsRUFBK0M7QUFDM0MsUUFBSSxDQUFDQSxXQUFXelUsTUFBWixJQUFzQixDQUFDd1UsWUFBWXhVLE1BQXZDLEVBQStDO0FBQzNDO0FBQ0g7QUFDRHdVLGdCQUFZalcsUUFBWixDQUFxQmtXLFVBQXJCOztBQUVBRCxnQkFBWWhXLFFBQVosQ0FBcUIsS0FBckI7QUFDQWlXLGVBQVdqVyxRQUFYLENBQW9CLEtBQXBCO0FBQ0E7QUFDQWlXLGVBQVdoTSxJQUFYLENBQWdCLGFBQWhCLEVBQStCakssUUFBL0IsQ0FBd0MsVUFBeEM7QUFDSDs7QUFFRDs7Ozs7Ozs7O0FBU08sU0FBUzZWLFdBQVQsT0FBdUY7QUFBQSxRQUFqRWhZLFNBQWlFLFFBQWpFQSxTQUFpRTtBQUFBLFFBQXREcVksWUFBc0QsUUFBdERBLFlBQXNEO0FBQUEsUUFBeEN0RyxRQUF3QyxRQUF4Q0EsUUFBd0M7QUFBQSxRQUE5QnVHLGFBQThCLFFBQTlCQSxhQUE4QjtBQUFBLFFBQWZwVCxZQUFlLFFBQWZBLFlBQWU7QUFBQSxRQUNuRmpGLFNBRG1GLEdBQ3RFRCxTQURzRSxDQUNuRkMsU0FEbUY7QUFBQSxRQUVuRkMscUJBRm1GLEdBRTFERixTQUYwRCxDQUVuRkUscUJBRm1GOzs7QUFJMUYsYUFBU3NGLGtCQUFULENBQTRCa0YsQ0FBNUIsRUFBK0I7QUFDM0JxSCxpQkFBU3NDLFdBQVQsR0FBdUIvUyxRQUFNcEIscUJBQU4sdUJBQStDa0UsR0FBL0MsRUFBdkI7QUFDQTlDLFVBQUUsb0JBQUYsRUFBd0JhLFFBQXhCLENBQWlDLFNBQWpDO0FBQ0FiLFVBQUUseUJBQUYsRUFBNkJ3SCxNQUE3QjtBQUNIOztBQUVELGFBQVNrTSxjQUFULEdBQTBCO0FBQ3RCLFlBQU11RCxtQkFBbUJqWCxRQUFNckIsU0FBTix1QkFBbUNtRSxHQUFuQyxFQUF6QjtBQUNBa1Usc0JBQWNDLGdCQUFkO0FBQ0F6WSxhQUFLa0osSUFBTCxDQUFVL0ksU0FBVixFQUFxQjhSLFFBQXJCO0FBQ0g7QUFDRCxhQUFTeUcsbUJBQVQsR0FBK0I7QUFDM0JoVDtBQUNBd1A7QUFDQTFULGdCQUFNcEIscUJBQU4sRUFBK0J1RixFQUEvQixDQUFrQyxRQUFsQyxFQUE0QyxZQUFZO0FBQ3BERDtBQUNBMUYsaUJBQUtrSixJQUFMLENBQVUvSSxTQUFWLEVBQXFCOFIsUUFBckI7QUFDSCxTQUhEOztBQUtBelEsZ0JBQU1yQixTQUFOLEVBQW1Cd0YsRUFBbkIsQ0FBc0IsUUFBdEIsRUFBZ0MsWUFBWTtBQUN4Q3VQO0FBQ0gsU0FGRDtBQUdIO0FBQ0QsbUJBQVVoUSxXQUFWLENBQXNCMUQsRUFBRXRCLFVBQVVHLGNBQVosQ0FBdEIsRUFBbURrWSxZQUFuRCxFQUFpRSxFQUFDclksb0JBQUQsRUFBWXVGLHFCQUFxQixLQUFqQyxFQUF3Q0wsMEJBQXhDLEVBQWpFO0FBQ0ErUyxTQUFLalAsSUFBTCxDQUFVd1AsbUJBQVYsRUFBK0J4WSxTQUEvQixFQTVCMEYsQ0E0Qi9DOztBQUUzQyxRQUFNbVksY0FBYzdXLEVBQUUsa0JBQUYsQ0FBcEI7QUFDQSxRQUFNOFcsYUFBYTlXLEVBQUUsa0JBQUYsQ0FBbkI7QUFDQTRXLGlCQUFhQyxXQUFiLEVBQTBCQyxVQUExQjtBQUNILEM7Ozs7Ozs7Ozs7OztRQ3dCZUssb0IsR0FBQUEsb0I7O0FBbEZoQjs7QUFDQTs7OztBQUNBOzs7Ozs7QUFDQTs7QUFFQTs7O0FBR0EsSUFBSTNLLGdCQUFnQixFQUFwQjtBQUNBLElBQU1ELHlCQUF5QixVQUFVLEdBQXpDO0FBQ0EsSUFBTTZLLFlBQVksS0FBbEI7QUFDQSxTQUFTcEosWUFBVCxDQUFzQkMsWUFBdEIsRUFBb0M7QUFDaEMsV0FBT0EsYUFBYTlPLElBQWIsS0FBc0IsWUFBN0I7QUFDSDs7QUFFRCxTQUFTK08sV0FBVCxDQUFxQkQsWUFBckIsRUFBbUM7QUFDL0IsUUFBTUUsVUFBVVAsS0FBS0MsS0FBTCxDQUFXSSxhQUFhRyxJQUF4QixDQUFoQjtBQUNBLFdBQU83Qix5QkFBeUI0QixPQUFoQztBQUNIOztBQUVELFNBQVNFLFlBQVQsQ0FBc0J6QixLQUF0QixFQUE2QjtBQUN6QixRQUFNcFQsTUFBTSxjQUFNc0YsT0FBTixDQUFjLHlDQUFkLENBQVo7QUFDQSxRQUFNcEMsUUFBUSx5QkFBZ0IwSSxRQUFoQixFQUFkO0FBQ0EsUUFBTTZJLGVBQWVyQixNQUFNMkIsS0FBTixDQUFZLENBQVosQ0FBckI7QUFDQTdMLFlBQVFLLEdBQVIsQ0FBWSxxQkFBWjtBQUNBLFFBQU1tRCxXQUFXLElBQUlzSSxRQUFKLEVBQWpCO0FBQ0F0SSxhQUFTaEcsTUFBVCxDQUFnQixNQUFoQixFQUF3QitOLFlBQXhCLEVBQXNDQSxhQUFhbFAsSUFBbkQ7O0FBRUEsUUFBTTBQLFVBQVUsSUFBSUMsY0FBSixFQUFoQjtBQUNBRCxZQUFRRSxJQUFSLENBQWEsTUFBYixFQUFxQm5WLEdBQXJCO0FBQ0E7QUFDQWlWLFlBQVFHLGdCQUFSLENBQXlCLE9BQXpCLEVBQWtDbFMsS0FBbEM7QUFDQStSLFlBQVFHLGdCQUFSLENBQXlCLFFBQXpCLEVBQW1DLGtCQUFuQztBQUNBSCxZQUFRRyxnQkFBUixDQUF5QixlQUF6QixFQUEwQyxVQUExQztBQUNBSCxZQUFRSSxJQUFSLENBQWEzSSxRQUFiO0FBQ0F1SSxZQUFRSyxnQkFBUixDQUF5QixrQkFBekIsRUFBNkMsWUFBWTtBQUNyRCxZQUFJLEtBQUtDLFVBQUwsS0FBb0IsQ0FBeEIsRUFBMkI7QUFDdkJyTSxvQkFBUUssR0FBUixDQUFZLE1BQVosRUFBb0IsS0FBS2lNLFlBQXpCLEVBQXVDLElBQXZDO0FBQ0E5RSxtQkFBT0MsTUFBUCxDQUFjOEUsT0FBZCxDQUFzQixjQUFNNVIsTUFBTixDQUFhYyxXQUFiLENBQXlCRSxrQkFBL0MsRUFBbUUsRUFBQyxZQUFZLEtBQUsyUSxZQUFsQixFQUFnQyxNQUFNcEMsS0FBdEMsRUFBbkU7QUFDSDtBQUNKLEtBTEQ7QUFNQSxzQkFBUXlLLEdBQVIsQ0FBWXJYLEVBQUUsV0FBRixDQUFaLEVBQTRCLEVBQTVCO0FBQ0g7O0FBRUQsU0FBU21QLE9BQVQsQ0FBaUJ2QyxLQUFqQixFQUF3QjtBQUNwQixRQUFNMkMsYUFBYXZQLEVBQUU0TSxLQUFGLEVBQVNyRCxPQUFULENBQWlCaUQsYUFBakIsQ0FBbkI7QUFDQSxRQUFJSSxNQUFNMkIsS0FBTixJQUFlM0IsTUFBTTJCLEtBQU4sQ0FBWSxDQUFaLENBQW5CLEVBQW1DO0FBQy9CLFlBQU1wQixTQUFTLElBQUlxQyxVQUFKLEVBQWY7QUFDQTlNLGdCQUFRSyxHQUFSLENBQVksU0FBWjtBQUNBLFlBQUksQ0FBQ21MLFlBQVl0QixNQUFNMkIsS0FBTixDQUFZLENBQVosQ0FBWixDQUFELElBQWdDLENBQUNQLGFBQWFwQixNQUFNMkIsS0FBTixDQUFZLENBQVosQ0FBYixDQUFyQyxFQUFtRTtBQUMvRDdMLG9CQUFRSyxHQUFSLENBQVkscUNBQVo7QUFDQS9DLGNBQUV3TSxhQUFGLEVBQWlCdE0sTUFBakIsdVBBRTBDa1gsU0FGMUM7QUFNQTNILHVCQUFXLFlBQU07QUFDYnpQLGtCQUFFLGdCQUFGLEVBQW9CYSxRQUFwQixDQUE2QixRQUE3QjtBQUNILGFBRkQsRUFFRyxJQUZIO0FBR0E7QUFDSDs7QUFFRHNNLGVBQU91QyxNQUFQLEdBQWdCLFVBQVN0RyxDQUFULEVBQVk7QUFDeEJtRyx1QkFBV3pFLElBQVgsQ0FBZ0Isb0JBQWhCLEVBQXNDYyxJQUF0QztBQUNBMkQsdUJBQVd6RSxJQUFYLENBQWdCLG9CQUFoQixFQUFzQzZFLElBQXRDLENBQTJDLEtBQTNDLEVBQWtEdkcsRUFBRUUsTUFBRixDQUFTSyxNQUEzRDtBQUNBO0FBQ0E0Rix1QkFBV3pFLElBQVgsQ0FBZ0IsY0FBaEIsRUFBZ0M4RSxJQUFoQyxDQUFxQ2hELE1BQU0yQixLQUFOLENBQVksQ0FBWixFQUFleFAsSUFBcEQ7QUFDSCxTQUxEO0FBTUE7QUFDQTs7QUFFQW9PLGVBQU82QyxhQUFQLENBQXFCcEQsTUFBTTJCLEtBQU4sQ0FBWSxDQUFaLENBQXJCO0FBQ0FrQixtQkFBVztBQUFBLG1CQUFNcEIsYUFBYXpCLEtBQWIsQ0FBTjtBQUFBLFNBQVgsRUFBc0MsSUFBdEM7QUFDQTtBQUNBO0FBRUgsS0EvQkQsTUErQk87QUFDSDtBQUNIO0FBQ0o7O0FBRU0sU0FBU3VLLG9CQUFULENBQThCRyxjQUE5QixFQUE4Q0MscUJBQTlDLEVBQXFFO0FBQ3hFL0ssb0JBQWdCOEssY0FBaEI7QUFDQXRYLE1BQUUsaUJBQUYsRUFBcUJ3WCxNQUFyQixDQUE0QixZQUFXO0FBQ25DLFlBQUl4WCxFQUFFLElBQUYsRUFBUThDLEdBQVIsT0FBa0IsRUFBdEIsRUFBMEI7QUFDdEI5QyxjQUFFLElBQUYsRUFBUXdMLElBQVIsR0FBZTFLLElBQWYsdUZBQXVDZCxFQUFFLElBQUYsRUFBUSxDQUFSLEVBQVd1TyxLQUFYLENBQWlCbE0sTUFBeEQ7QUFDQThNLG9CQUFRblAsRUFBRSxJQUFGLEVBQVEsQ0FBUixDQUFSO0FBQ0gsU0FIRCxNQUdPO0FBQ0hBLGNBQUUsSUFBRixFQUFRd0wsSUFBUixHQUFlMUssSUFBZixDQUFvQixlQUFwQjtBQUNIO0FBQ0osS0FQRDtBQVFBb0osV0FBT0MsTUFBUCxDQUFjQyxTQUFkLENBQXdCLGNBQU0vTSxNQUFOLENBQWFjLFdBQWIsQ0FBeUJFLGtCQUFqRCxFQUFxRSxVQUFDK0ssQ0FBRCxFQUFJbUssR0FBSixFQUFZO0FBQUEsWUFDdEVyRSxRQURzRSxHQUMxRHFFLEdBRDBELENBQ3RFckUsUUFEc0U7O0FBRTdFLFlBQU12RixTQUFVdUYsU0FBUzdNLE1BQVYsR0FBb0JxRCxLQUFLK1IsS0FBTCxDQUFXdkksUUFBWCxDQUFwQixHQUEyQyxFQUExRDtBQUNBLFlBQU13SSxVQUFVL04sVUFBVUEsT0FBT0gsSUFBakIsSUFBeUJHLE9BQU9ILElBQVAsQ0FBWW1PLE9BQXJEO0FBQ0EzWCxVQUFFdVQsSUFBSXFFLEVBQU4sRUFBVXJPLE9BQVYsQ0FBa0JpRCxhQUFsQixFQUFpQ21ELElBQWpDLENBQXNDLGlCQUF0QyxFQUF5RCtILE9BQXpEO0FBQ0EsWUFBSUgseUJBQXlCLE9BQU9BLHFCQUFQLEtBQWlDLFVBQTlELEVBQTBFO0FBQ3RFQTtBQUNIO0FBQ0Q7QUFDQSxZQUFNTSxXQUFXN1gsRUFBRSwyQkFBRixFQUErQmdGLEdBQS9CLENBQW1DLENBQW5DLENBQWpCO0FBQ0FoRixVQUFFNlgsUUFBRixFQUFZL00sSUFBWixDQUFpQixXQUFqQixFQUE4QjBGLFVBQTlCLENBQXlDLFVBQXpDO0FBQ0EsMEJBQVFoSixNQUFSO0FBQ0E5RSxnQkFBUUssR0FBUixDQUFZLDhDQUFaLEVBQTREd1EsR0FBNUQ7QUFDSCxLQWJEO0FBY0gsQzs7Ozs7Ozs7Ozs7Ozs7QUMxR0Q7O0FBRU8sSUFBTXVFLHdCQUFRLFNBQVJBLEtBQVEsQ0FBQ3JILFFBQUQsRUFBYztBQUMvQixRQUFJLENBQUN6USxFQUFFeVEsU0FBU3ZSLElBQVgsRUFBaUJtRCxNQUF0QixFQUE4QjtBQUMxQjtBQUNIO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQXJDLE1BQUUsb0NBQUYsRUFBd0MrWCxZQUF4QyxDQUFxRDtBQUNqREMsd0JBQWdCLFFBRGlDO0FBRWpEQyxvQkFBWSxRQUZxQztBQUdqREMseUJBQWlCLFFBSGdDO0FBSWpEQyxnQkFBUSxJQUp5QztBQUtqRDlhLGdCQUFRO0FBQ0orYSxpQkFESSxpQkFDR0MsTUFESCxFQUNXQyxLQURYLEVBQ2tCO0FBQ2xCNVYsd0JBQVFLLEdBQVIsQ0FBWXNWLE9BQU96SSxJQUFQLEVBQVo7QUFDQWxOLHdCQUFRSyxHQUFSLENBQVksS0FBS3dWLE9BQUwsRUFBWjtBQUNIO0FBSkc7QUFMeUMsS0FBckQ7QUFZSCxDQXpCTSxDOzs7Ozs7Ozs7Ozs7Ozs7OztBQ0ZQOzs7Ozs7OztJQUVxQkMsTzs7Ozs7Ozt1Q0FFRjdPLE0sRUFBUTtBQUNuQixnQkFBTXZHLE1BQU9wRCxFQUFFLGNBQUYsRUFBa0JxQyxNQUFuQixHQUE2QnJDLEVBQUUsY0FBRixDQUE3QixHQUFpREEsRUFBRSxZQUFGLENBQTdEO0FBQ0EsMkJBQVVKLGVBQVYsQ0FBMEJ3RCxHQUExQixFQUNJdUcsT0FBT3pCLE1BQVAsQ0FBY1csS0FEbEIsRUFFSWMsT0FBT3pCLE1BQVAsQ0FBY3VRLE9BQWQsSUFBeUIsT0FGN0I7QUFHSDs7O29DQUVXdkosUSxFQUFVO0FBQ2xCLGdCQUFJQSxTQUFTaEgsTUFBVCxJQUFtQmdILFNBQVNoSCxNQUFULElBQW1CLEdBQXRDLElBQTZDZ0gsU0FBU2hILE1BQVQsR0FBa0IsR0FBbkUsRUFBd0U7QUFDcEUsdUJBQU9nSCxRQUFQO0FBQ0gsYUFGRCxNQUVPO0FBQ0gsb0JBQU05QixRQUFRLElBQUlzTCxLQUFKLENBQVV4SixTQUFTeUosVUFBbkIsQ0FBZDtBQUNBdkwsc0JBQU04QixRQUFOLEdBQWlCQSxRQUFqQjtBQUNBLHNCQUFNOUIsS0FBTjtBQUNIO0FBQ0o7OztvQ0FFV3dMLEcsRUFBS0MsSSxFQUFNNVQsTyxFQUFTO0FBQUE7O0FBQzVCLG1CQUFPNlQsTUFBTUYsR0FBTixFQUFXQyxJQUFYLEVBQ0ZuUCxJQURFLENBQ0c7QUFBQSx1QkFBWXFQLFFBQVFDLEdBQVIsQ0FBWSxDQUFDOUosUUFBRCxFQUFXQSxTQUFTK0osSUFBVCxFQUFYLENBQVosQ0FBWjtBQUFBLGFBREgsRUFFRnZQLElBRkUsQ0FFRyxnQkFBc0I7QUFBQTtBQUFBLG9CQUFwQndGLFFBQW9CO0FBQUEsb0JBQVYrSixJQUFVOztBQUN4QixvQkFBSSxDQUFDL0osU0FBU2dLLEVBQWQsRUFBa0I7QUFDZCx3QkFBSSxDQUFDalUsT0FBTCxFQUFjO0FBQ1YsOEJBQUtrVSxjQUFMLENBQW9CRixJQUFwQjtBQUNILHFCQUZELE1BRU87QUFDSGhVLGdDQUFRZ1UsSUFBUixFQURHLENBQ1k7QUFDbEI7QUFDRCwwQkFBS0csV0FBTCxDQUFpQmxLLFFBQWpCO0FBQ0E7QUFDSDtBQUNELHVCQUFPK0osSUFBUDtBQUNILGFBYkUsQ0FBUDtBQWNIOzs7Ozs7a0JBbENnQlQsTzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNGckI7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLElBQU1hLFVBQVU7QUFDWkMsWUFBUSx1QkFESTtBQUVaQyxhQUFTLHdCQUZHO0FBR1pDLFdBQU8sc0JBSEs7QUFJWkMsWUFBUTtBQUpJLENBQWhCO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztJQUVNQyxPO0FBRUYscUJBQVlDLElBQVosRUFBa0I7QUFBQTs7QUFBQSxhQXlDbEJDLGtCQXpDa0IsR0F5Q0csVUFBVXhXLEdBQVYsRUFBZXlXLE1BQWYsRUFBdUI7QUFDeEN6VyxnQkFBSXZDLFFBQUosQ0FBYXdZLFFBQVFJLE1BQXJCO0FBQ0EsZ0JBQUlyVyxJQUFJMEgsSUFBSixDQUFTLHNCQUFULEVBQWlDekksTUFBckMsRUFBNkM7QUFDekM7QUFDSDtBQUNEZSxnQkFBSTZTLE9BQUosa0hBQTJINEQsTUFBM0g7QUFPSCxTQXJEaUI7O0FBQUEsYUEyRGxCQyxpQkEzRGtCLEdBMkRFLFVBQVUxVyxHQUFWLEVBQWU7QUFDL0JBLGdCQUFJeUgsV0FBSixDQUFnQndPLFFBQVFJLE1BQXhCO0FBQ0gsU0E3RGlCOztBQUNkLGFBQUs5VixHQUFMLEdBQVdnVyxRQUFRLEVBQW5CO0FBQ0E7QUFDQTNaLFVBQUUrWixNQUFGLENBQVNWLE9BQVQsRUFBa0IsS0FBSzFWLEdBQUwsQ0FBUzBWLE9BQTNCO0FBQ0E7QUFDSDtBQUNEOzs7OzhCQUVNalcsRyxFQUFLNFcsTyxFQUFTO0FBQ2hCO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBNVcsZ0JBQUkwSCxJQUFKLENBQVMsR0FBVCxFQUFjbVAsV0FBZCxDQUEwQkQsT0FBMUIsRUFBbUNuWixRQUFuQyxDQUE0QyxvQkFBNUM7QUFDSDs7OzZCQUVJdUMsRyxFQUFLeVcsTSxFQUFRO0FBQ2R6VyxnQkFBSTBILElBQUosQ0FBUyxHQUFULEVBQWNtUCxXQUFkLENBQTBCSixNQUExQixFQUFrQ2hQLFdBQWxDLENBQThDLG9CQUE5QztBQUNIOzs7NEJBRUd6SCxHLEVBQUt5VyxNLEVBQVE7QUFDYixpQkFBS3pXLEdBQUwsR0FBV0EsR0FBWDtBQUNBQSxnQkFBSTZTLE9BQUoscURBQThENEQsTUFBOUQ7QUFLSDs7Ozs7QUFrQ0Q7Ozs7OztBQU1BO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7Ozs7QUFJQTs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQW9CQTs7O0FBR0E7Ozs7Ozs7Ozs7Ozs7O0FBY0E7Ozs7O0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOzs7O0FBSUE7QUFDQTtBQUNBOztBQUVBOzs7O0FBSUE7QUFDQTtBQUNBOztBQUVBOzs7QUFHQTtBQUNBO0FBQ0E7aUNBNUhTO0FBQ0wsZ0JBQUksS0FBS3pXLEdBQUwsSUFBWSxLQUFLQSxHQUFMLENBQVNmLE1BQXpCLEVBQWlDO0FBQzdCLHFCQUFLZSxHQUFMLENBQVMwSCxJQUFULENBQWMsY0FBZCxFQUE4QnRELE1BQTlCO0FBQ0g7QUFDSjs7QUFFRDs7Ozs7O0FBa0JBOzs7Ozs7Ozs7O0FBdUdKLElBQUkwUyxrQkFBa0IsSUFBdEI7O0FBRUEsSUFBSSxDQUFDQSxlQUFMLEVBQXNCO0FBQ2xCQSxzQkFBa0IsSUFBSVIsT0FBSixFQUFsQjtBQUNIOztrQkFFY1EsZTs7Ozs7Ozs7Ozs7O0FDaE1mOztBQUVBLFNBQVNDLFFBQVQsR0FBb0I7O0FBRWhCOzs7QUFHQSxhQUFTelcsV0FBVCxDQUFxQm5CLFFBQXJCLEVBQStCakMsS0FBL0IsRUFBc0NxRCxHQUF0QyxFQUEyQztBQUN2QztBQUR1QyxZQUVoQ0MsWUFGZ0MsR0FFTEQsR0FGSyxDQUVoQ0MsWUFGZ0M7QUFBQSxZQUVsQmxGLFNBRmtCLEdBRUxpRixHQUZLLENBRWxCakYsU0FGa0I7QUFBQSxZQUdoQ0UscUJBSGdDLEdBR1BGLFNBSE8sQ0FHaENFLHFCQUhnQzs7QUFJdkMsWUFBTWtGLFNBQVMsU0FBVEEsTUFBUyxDQUFDQyxHQUFELEVBQVM7QUFDcEIsZ0JBQU1xVyxpQkFBaUJ4VyxnQkFBZ0IsQ0FBQyxDQUFDQSxhQUFhdkIsTUFBdEQ7QUFDQSxvQkFBUTBCLEdBQVI7QUFDSSxxQkFBSyxDQUFMO0FBQ0ksMkJBQVFxVyxjQUFELEdBQW1CeFcsYUFBYUcsR0FBYixDQUFuQixHQUF1QyxXQUE5QztBQUNKLHFCQUFLLENBQUw7QUFDSSwyQkFBUXFXLGNBQUQsR0FBbUJ4VyxhQUFhRyxHQUFiLENBQW5CLEdBQXVDLG1DQUE5QztBQUNKLHFCQUFLLENBQUw7QUFDSSwyQkFBUXFXLGNBQUQsR0FBbUJ4VyxhQUFhRyxHQUFiLENBQW5CLEdBQXVDLGVBQTlDO0FBQ0o7QUFBUywyQkFBTyxTQUFQO0FBUGI7QUFTSCxTQVhEO0FBWUEsWUFBTUYsUUFBUSxjQUFkO0FBQ0F0QixpQkFBU3RDLEtBQVQsR0FBaUJZLFFBQWpCLENBQTBCLG9CQUExQjtBQUNBYiw2QkFBbUI2RCxLQUFuQixpREFBb0VqRixxQkFBcEUsa0JBQXdHZ0MsUUFBeEcsQ0FBaUgyQixRQUFqSDtBQUNBLFlBQUksQ0FBQ2pDLE1BQU0rQixNQUFYLEVBQW1CO0FBQ2Y7QUFDSDtBQUNEckMsVUFBRSxnRkFBRixFQUFvRlksUUFBcEYsQ0FBNkZaLFFBQU1wQixxQkFBTixDQUE3RjtBQUNBMEIsY0FBTUUsT0FBTixDQUFjLFVBQUN6QixJQUFELEVBQU9nRixHQUFQLEVBQWU7QUFDekIvRCwrREFBaURqQixJQUFqRCw0QkFDTStFLE9BQU9DLEdBQVAsQ0FETiw4QkFFWW5ELFFBRlosQ0FFcUJaLFFBQU1wQixxQkFBTixDQUZyQjtBQUdILFNBSkQ7QUFLQW9CLGdCQUFNcEIscUJBQU4sRUFBK0J1RixFQUEvQixDQUFrQyxRQUFsQyxFQUE0QyxVQUFVaUYsQ0FBVixFQUFhO0FBQ3JEekYsZ0JBQUlPLGtCQUFKLENBQXVCa0YsQ0FBdkI7QUFDSCxTQUZEO0FBR0g7O0FBRUQsV0FBTztBQUNIMUY7QUFERyxLQUFQO0FBR0g7O2tCQUVjeVcsVTs7Ozs7Ozs7Ozs7Ozs7QUMzQ2Y7OztRQXdCZ0J6UyxJLEdBQUFBLEk7O0FBMUJoQjs7QUFDQTs7QUFFQTs7Ozs7O0FBRUEsSUFBSXpJLE9BQU87QUFDUEUsVUFBTSxFQURDO0FBRVBDLGFBQVM7QUFGRixDQUFYO0FBSUEsSUFBTWliLFdBQVc7QUFDYnhRLFVBQU03SixFQUFFLFlBQUYsQ0FETztBQUViaUssY0FBVWpLLEVBQUUsZ0JBQUY7QUFGRyxDQUFqQjtBQUlBLElBQU1zYSxrQkFBa0I7QUFDcEJ6YixvQkFBZ0JtQixFQUFFLGVBQUY7QUFESSxDQUF4Qjs7QUFJQSxTQUFTa0Usa0JBQVQsQ0FBNEJrRixDQUE1QixFQUErQjtBQUMzQjtBQUNBLFFBQU1oSyxVQUFVWSxFQUFFb0osRUFBRUUsTUFBSixFQUFZd0IsSUFBWixDQUFpQixpQkFBakIsRUFBb0NoSSxHQUFwQyxFQUFoQjtBQUNBLFFBQU15WCwyQkFBa0J0YixJQUFsQixJQUF3QkcsZ0JBQXhCLEdBQU47QUFDQVksTUFBRSxvQkFBRixFQUF3QmEsUUFBeEIsQ0FBaUMsU0FBakM7QUFDQWIsTUFBRSx5QkFBRixFQUE2QndILE1BQTdCO0FBQ0Esa0NBQWE2UyxRQUFiLEVBQXVCRSxXQUF2QjtBQUNIOztBQUVNLFNBQVM3UyxJQUFULE9BQTREO0FBQUEsUUFBN0M4UyxlQUE2QyxRQUE3Q0EsZUFBNkM7QUFBQSxRQUE1QkMsV0FBNEIsUUFBNUJBLFdBQTRCO0FBQUEsUUFBZjdXLFlBQWUsUUFBZkEsWUFBZTs7QUFDL0QsUUFBSSxDQUFDNFcsZUFBTCxFQUFzQjtBQUNsQjtBQUNIO0FBQ0R2YixXQUFPO0FBQ0hFLGNBQU1zYixZQUFZdGIsSUFEZjtBQUVIQyxpQkFBU3FiLFlBQVlyYjtBQUZsQixLQUFQOztBQUtBO0FBQ0EsdUJBQVNzRSxXQUFULENBQ0k0VyxnQkFBZ0J6YixjQURwQixFQUVJNGIsWUFBWUMsUUFGaEIsRUFHSSxFQUFDaGMsV0FBVzRiLGVBQVosRUFBNkJwVyxzQ0FBN0IsRUFBaUROLDBCQUFqRCxFQUhKOztBQU1BO0FBQ0FzRyxXQUFPQyxNQUFQLENBQWNDLFNBQWQsQ0FBd0IsY0FBTS9NLE1BQU4sQ0FBYWlCLEtBQWIsQ0FBbUJDLGdCQUEzQyxFQUE2RCxVQUFDOEwsU0FBRCxFQUFZYixJQUFaLEVBQXFCO0FBQzlFLHNDQUFhNlEsUUFBYixFQUF1QnBiLElBQXZCO0FBQ0gsS0FGRDtBQUdILEM7Ozs7Ozs7Ozs7Ozs7UUNxVmV5SSxJLEdBQUFBLEk7O0FBblloQjs7OztBQUdBOzs7O0FBQ0E7O0FBQ0E7Ozs7QUFFQSxJQUFNaVQsc0JBQXNCLDBCQUE1QjtBQU5BO0FBQ0E7O0FBTUEsSUFBTUMscUJBQXFCNWEsRUFBRTJhLG1CQUFGLEVBQXVCdFksTUFBbEQ7QUFDQSxJQUFNd1ksV0FBVzdhLEVBQUUsZ0JBQUYsQ0FBakI7QUFDQSxJQUFNOGEsMEJBQTBCLG9CQUFoQzs7QUFFQSxTQUFTQyxjQUFULEdBQTBCO0FBQ3RCLFFBQUl2VSxpQkFBaUIsRUFBckI7O0FBRUF4RyxNQUFFLHlCQUFGLEVBQTZCbUUsRUFBN0IsQ0FBZ0MsT0FBaEMsRUFBeUMsVUFBQ2lGLENBQUQsRUFBTztBQUM1QyxZQUFNNFIsVUFBVWhiLEVBQUVvSixFQUFFRSxNQUFKLENBQWhCO0FBQ0EsWUFBTXZPLFdBQVdpZ0IsUUFBUXhSLElBQVIsQ0FBYSxVQUFiLENBQWpCO0FBQ0FoRCx5QkFBaUJ3VSxRQUFReFIsSUFBUixDQUFhLGdCQUFiLEtBQWtDaEQsY0FBbkQ7QUFDQTtBQUNBO0FBQ0EsWUFBTXlVLFNBQVV6VSxtQkFBbUIsT0FBcEIsR0FBK0IsU0FBL0IsR0FBMkMsT0FBMUQ7QUFDQTs7QUFFQSxZQUFJQSxtQkFBbUIsZ0JBQXZCLEVBQXlDO0FBQ3JDNEMsY0FBRXNDLGVBQUY7O0FBRUE7QUFDQTtBQUNBO0FBQ0ExTCxjQUFFLDZCQUFGLEVBQWlDaEMsS0FBakMsQ0FBdUMsRUFBQzZOLE1BQU0sSUFBUCxFQUFhOVEsa0JBQWIsRUFBdkM7O0FBRUE7QUFDQTtBQUNIOztBQUVELHVCQUFLbWdCLGNBQUwsQ0FBb0JuZ0IsUUFBcEIsRUFBOEJ5TCxjQUE5QixFQUE4Q2tELElBQTlDLENBQW1ELFVBQUNDLE1BQUQsRUFBWTtBQUMzRGpILG9CQUFRSyxHQUFSLENBQVksdUJBQVosRUFBcUM0RyxPQUFPekIsTUFBUCxDQUFjVyxLQUFuRDtBQUNBLGdCQUFJYyxPQUFPekIsTUFBUCxDQUFjVyxLQUFkLEtBQXdCLElBQTVCLEVBQWtDO0FBQzlCLG9CQUFNc1MsU0FBU25iLEVBQUUsZ0JBQUYsQ0FBZjs7QUFFQTtBQUNBQSxrQkFBRSxzQkFBRixFQUEwQm1iLE1BQTFCLEVBQWtDbGIsS0FBbEMsR0FBMENhLElBQTFDLHdOQUEwRm1hLE1BQTFGOztBQUVBamIsa0JBQUUsZ0JBQUYsRUFBb0IyUCxJQUFwQixDQUF5QixlQUF6QixFQUEwQzVVLFFBQTFDO0FBQ0g7QUFDSixTQVZEO0FBV0gsS0FoQ0Q7O0FBa0NBO0FBQ0FpRixNQUFFLDJCQUFGLEVBQStCbUUsRUFBL0IsQ0FBa0MsT0FBbEMsRUFBMkMsVUFBQ2lGLENBQUQsRUFBTztBQUM5QyxZQUFNQyxNQUFNckosRUFBRW9KLEVBQUVFLE1BQUosQ0FBWjtBQUNBLFlBQU12TyxXQUFXc08sSUFBSUUsT0FBSixDQUFZLGdCQUFaLEVBQThCQyxJQUE5QixDQUFtQyxVQUFuQyxDQUFqQjtBQUNBLFlBQU00UixZQUFZL1IsSUFBSUUsT0FBSixDQUFZLFFBQVosRUFBc0J1QixJQUF0QixDQUEyQix5Q0FBM0IsQ0FBbEI7QUFDQSxZQUFNckUsTUFBTTJVLFVBQVV0WSxHQUFWLEdBQWdCTyxJQUFoQixFQUFaO0FBQ0EsWUFBTThYLFNBQVM5UixJQUFJRSxPQUFKLENBQVksUUFBWixDQUFmO0FBQ0FILFVBQUVzQyxlQUFGOztBQUVBLFlBQUlqRixJQUFJcEUsTUFBSixLQUFlLENBQW5CLEVBQXNCO0FBQ2xCO0FBQ0g7QUFDRCx1QkFBS2daLGtCQUFMLENBQXdCNVUsR0FBeEIsRUFBNkIxTCxRQUE3QixFQUF1QzJPLElBQXZDLENBQTRDLFVBQUNDLE1BQUQsRUFBWTtBQUNwRCxnQkFBSUEsT0FBT3pCLE1BQVAsQ0FBY1csS0FBZCxLQUF3QixJQUE1QixFQUFrQztBQUM5QjtBQUNIO0FBQ0Q7QUFDQXNTLG1CQUFPbmQsS0FBUCxDQUFhLE1BQWI7QUFDSCxTQU5ELEVBTUdzZCxLQU5ILENBTVMsVUFBQ0MsR0FBRCxFQUFTO0FBQ2Q3WSxvQkFBUUssR0FBUixDQUFZLEtBQVo7QUFDQS9DLGNBQUUsc0JBQUYsRUFBMEJtYixNQUExQixFQUFrQ3JhLElBQWxDLENBQXVDLHFCQUF2QyxFQUE4RDZLLEdBQTlELENBQWtFLE9BQWxFLEVBQTJFLEtBQTNFO0FBQ0FqSixvQkFBUUssR0FBUixDQUFZd1ksR0FBWjtBQUNILFNBVkQ7QUFXSCxLQXRCRDs7QUF3QkF2YixNQUFFLHVCQUFGLEVBQTJCbUUsRUFBM0IsQ0FBOEIsTUFBOUIsRUFBc0MsWUFBWTtBQUM5QyxZQUFNcVgsTUFBTXhiLEVBQUUsSUFBRixFQUFROEMsR0FBUixHQUFjTyxJQUFkLEdBQXFCaEIsTUFBakM7QUFDQSxZQUFNb1osU0FBU0MsT0FBTzFiLEVBQUUsSUFBRixFQUFRMlAsSUFBUixDQUFhLFdBQWIsQ0FBUCxDQUFmO0FBQ0E7QUFDQSxZQUFJOEwsV0FBV0QsR0FBZixFQUFvQjtBQUNoQnhiLGNBQUUsSUFBRixFQUFRMkwsR0FBUixDQUFZLGFBQVosRUFBMkIsS0FBM0I7QUFDSCxTQUZELE1BRU87QUFDSDNMLGNBQUUsSUFBRixFQUFRMkwsR0FBUixDQUFZLGFBQVosRUFBMkIsU0FBM0I7QUFDSDtBQUNEO0FBQ0gsS0FWRDs7QUFZQSxhQUFTZ1EsV0FBVCxDQUFxQnZTLENBQXJCLEVBQXdCO0FBQ3BCLFlBQU0rUixTQUFTbmIsRUFBRW9KLEVBQUVFLE1BQUosQ0FBZjtBQUNBNlIsZUFBT3JRLElBQVAsQ0FBWSxhQUFaLEVBQTJCRCxXQUEzQixDQUF1QyxRQUF2QztBQUNBc1EsZUFBT3JRLElBQVAsQ0FBWSxjQUFaLEVBQTRCakssUUFBNUIsQ0FBcUMsUUFBckM7QUFDQWIsVUFBRSxpQkFBRixFQUFxQjhDLEdBQXJCLENBQXlCLEVBQXpCO0FBQ0E5QyxVQUFFLHNCQUFGLEVBQTBCbWIsTUFBMUIsRUFBa0MzSyxVQUFsQyxDQUE2QyxPQUE3QyxFQUFzRHZRLEtBQXREO0FBQ0g7QUFDREQsTUFBRSw2QkFBRixFQUFpQ21FLEVBQWpDLENBQW9DLGVBQXBDLEVBQXFEd1gsV0FBckQ7QUFDQTNiLE1BQUUsZ0JBQUYsRUFBb0JtRSxFQUFwQixDQUF1QixlQUF2QixFQUF3Q3dYLFdBQXhDOztBQUVBO0FBQ0EzYixNQUFFLG9DQUFGLEVBQXdDbUUsRUFBeEMsQ0FBMkMsT0FBM0MsRUFBb0QsVUFBQ2lGLENBQUQsRUFBTztBQUN2RCxZQUFNK1IsU0FBU25iLEVBQUUsNkJBQUYsQ0FBZjtBQUNBLFlBQU00YixlQUFlNWIsRUFBRW9KLEVBQUVFLE1BQUosRUFBWUMsT0FBWixDQUFvQjRSLE1BQXBCLEVBQTRCclEsSUFBNUIsQ0FBaUMscUNBQWpDLENBQXJCO0FBQ0EsWUFBTStRLHVCQUF1QkQsYUFBYTlZLEdBQWIsRUFBN0I7QUFDQSxZQUFNbVksU0FBVVkseUJBQXlCLE9BQTFCLEdBQXFDLFNBQXJDLEdBQWlELE9BQWhFO0FBQ0EsWUFBTUMsY0FBY1gsT0FBTzNSLElBQVAsR0FBYyxVQUFkLEVBQTBCdVMsT0FBOUM7QUFDQSxZQUFNaGhCLFdBQVcrZ0IsWUFBWS9nQixRQUE3QjtBQUNBLHVCQUFLbWdCLGNBQUwsQ0FBb0JuZ0IsUUFBcEIsRUFBOEI4Z0Isb0JBQTlCLEVBQW9EblMsSUFBcEQsQ0FBeUQsVUFBQ0MsTUFBRCxFQUFZO0FBQ2pFO0FBQ0E7O0FBRUE7QUFDQWpILG9CQUFRSyxHQUFSLENBQVksdUJBQVosRUFBcUM0RyxPQUFPekIsTUFBUCxDQUFjVyxLQUFuRDtBQUNBLGdCQUFJYyxPQUFPekIsTUFBUCxDQUFjVyxLQUFkLEtBQXdCLElBQTVCLEVBQWtDO0FBQzlCN0ksa0JBQUUsYUFBRixFQUFpQm1iLE1BQWpCLEVBQXlCdGEsUUFBekIsQ0FBa0MsUUFBbEM7QUFDQWIsa0JBQUUsY0FBRixFQUFrQm1iLE1BQWxCLEVBQTBCdFEsV0FBMUIsQ0FBc0MsUUFBdEM7QUFDQTdLLGtCQUFFLHNCQUFGLEVBQTBCbWIsTUFBMUIsRUFBa0NsYixLQUFsQyxHQUEwQ2EsSUFBMUMsd05BQTBGbWEsTUFBMUY7QUFDSDtBQUNKLFNBWEQ7QUFZSCxLQW5CRDtBQW9CSDs7QUFFRCxJQUFNZSxhQUFhLFNBQWJBLFVBQWEsQ0FBQ3hTLElBQUQsRUFBTzFJLElBQVAsRUFBYW1iLE1BQWIsRUFBd0I7QUFDdkMsUUFBTUMsY0FBWTFTLElBQUQsb0NBQ29CeVMsTUFEcEIsK0JBQ29EelMsSUFEcEQscUJBQ3dFMUksSUFEeEUscURBRW9CbWIsTUFGcEIsNkNBRWtFbmIsSUFGbEUsaUJBQVgsQ0FBTjtBQUdBLFdBQU9vYixLQUFQO0FBQ0gsQ0FMRDs7QUFPQSxJQUFNQyxRQUFRLFNBQVJBLEtBQVEsQ0FBQ3haLElBQUQsRUFBVTtBQUNwQixRQUFNeVMsaUdBRUN6UyxJQUFELEdBQ0txWixXQUFXclosS0FBSyxhQUFMLENBQVgsRUFBZ0MsWUFBaEMsRUFBOEMsYUFBOUMsQ0FETCxzQkFFSXFaLFdBQVdyWixLQUFLLGdCQUFMLENBQVgsRUFBbUMsWUFBbkMsRUFBaUQsZ0JBQWpELENBRkosc0JBR0lxWixXQUFXclosS0FBSyxpQkFBTCxDQUFYLEVBQW9DLFVBQXBDLEVBQWdELGlCQUFoRCxDQUhKLEdBSUtxWixXQUFXLEtBQVgsRUFBa0IsWUFBbEIsRUFBZ0MsYUFBaEMsQ0FKTCxzQkFLSUEsV0FBVyxLQUFYLEVBQWtCLFlBQWxCLEVBQWdDLGdCQUFoQyxDQUxKLHNCQU1JQSxXQUFXLEtBQVgsRUFBa0IsVUFBbEIsRUFBOEIsaUJBQTlCLENBUkosaUNBQU47QUFZQSxXQUFPNUcsR0FBUDtBQUNILENBZEQ7O0FBZ0JBLElBQU1nSCxpQkFBaUIsU0FBakJBLGNBQWlCLENBQUNDLFVBQUQsRUFBYTViLElBQWIsRUFBc0I7QUFDekMsUUFBSTRiLFdBQVduVSxNQUFYLEtBQXNCLFdBQTFCLEVBQXVDO0FBQ25DLDBJQUM0Qm1VLFdBQVdsZCxJQUFYLElBQW1CLE9BRC9DLHdDQUVxQnNCLEtBQUsxRixRQUFMLElBQWlCLEVBRnRDO0FBS0gsS0FORCxNQU1PLElBQUkwRixLQUFLeUgsTUFBTCxLQUFnQixNQUFwQixFQUE0QjtBQUMvQixlQUFPLHdEQUFQO0FBQ0g7QUFDSixDQVZEOztBQVlBLElBQU1vVSxnQkFBZ0IsU0FBaEJBLGFBQWdCLENBQUNDLE9BQUQsRUFBYTtBQUFBLDRCQUczQkEsT0FIMkIsQ0FDeEJ4aEIsUUFEd0I7QUFBQSxRQUN4QkEsUUFEd0IscUNBQ2IsRUFEYTtBQUFBLHdCQUczQndoQixPQUgyQixDQUUzQjVaLElBRjJCO0FBQUEsMkNBRXBCNUQsSUFGb0I7QUFBQSxRQUVwQkEsSUFGb0Isc0NBRWIsRUFGYTtBQUFBLDRDQUVUdkMsS0FGUztBQUFBLFFBRVRBLEtBRlMsdUNBRUQsRUFGQztBQUFBLDBDQUVHaEQsR0FGSDtBQUFBLFFBRUdBLEdBRkgscUNBRVMsRUFGVDtBQUFBLDhDQUVhZ2pCLFNBRmI7QUFBQSxRQUVhQSxTQUZiLHlDQUV5QixFQUZ6QjtBQUFBLDhDQUU2QkMsZUFGN0I7QUFBQSxRQUU2QkEsZUFGN0IseUNBRStDLEVBRi9DO0FBQUEsUUFFbURDLGNBRm5ELGlCQUVtREEsY0FGbkQ7QUFBQSxRQUVtRUMsZUFGbkUsaUJBRW1FQSxlQUZuRTtBQUFBLFFBRW9GQyxXQUZwRixpQkFFb0ZBLFdBRnBGO0FBQUEsUUFFaUdDLFdBRmpHLGlCQUVpR0EsV0FGakc7QUFBQSxRQUU4R0MsVUFGOUcsaUJBRThHQSxVQUY5Rzs7QUFJL0IsUUFBSWxDLHNCQUFzQjFRLE9BQU82UyxRQUFQLENBQWdCQyxJQUFoQixDQUFxQjNZLFFBQXJCLENBQThCeVcsdUJBQTlCLENBQTFCLEVBQWtGO0FBQzlFLHNMQUV5Qi9mLFFBRnpCLHNDQUdxQmdFLElBSHJCLHVDQUlzQnZDLEtBSnRCLHFDQUtvQmhELEdBTHBCLDJDQU0wQmdqQixTQU4xQixxQ0FPb0JDLGVBUHBCLGdEQVErQkMsY0FSL0IsaURBU2dDQyxlQVRoQyw2Q0FVNEJDLFdBVjVCLDZDQVc0QkMsV0FYNUIsNENBWTJCQyxVQVozQiw4SkFjdUYvaEIsUUFkdkYsMklBZThFQSxRQWY5RTtBQWlCSDtBQUNKLENBdkJEOztBQXlCTyxJQUFNa2lCLGtDQUFhLFNBQWJBLFVBQWEsQ0FBQ3hjLElBQUQsRUFBT0YsS0FBUCxFQUFjMmMsaUJBQWQsRUFBb0M7QUFDMUQsUUFBTXZhLE9BQU9sQyxLQUFLa0MsSUFBbEI7QUFDQSxRQUFNMFosYUFBYTViLEtBQUs0YixVQUFMLElBQW1CNWIsSUFBdEM7QUFDQSxRQUFNMGMsbUJBQW1CRCxxQkFBcUIsY0FBTTVnQixJQUFOLENBQVdDLFlBQXpEO0FBQ0EsUUFBSSxDQUFDb0csSUFBTCxFQUFXO0FBQ1AsZUFBTzNDLDZDQUEyQ1MsS0FBSzFGLFFBQWhELDRFQUNtRG9pQixnQkFEbkQsMkhBSVExYyxLQUFLMUYsUUFBTixtQ0FBZ0QwRixLQUFLMUYsUUFBckQsYUFBdUUsRUFKOUUsMEdBT09xaEIsZUFBZUMsVUFBZixFQUEyQjViLElBQTNCLENBUFAsa0RBU0cwYixPQVRILDJCQVVHRyxjQUFjN2IsSUFBZCxLQUF1QixFQVYxQiwyQ0FZQ0csUUFaRCxDQVlVTCxLQVpWLENBQVA7QUFhSCxLQWRELE1BY087QUFDSCxlQUFPUCw2Q0FBMkNTLEtBQUsxRixRQUFoRCxxQkFDSjRILEtBQUssaUJBQUwsQ0FBRCx3REFDdURBLEtBQUssaUJBQUwsQ0FEdkQsbUVBRTJEd2EsZ0JBRjNELE9BREssOEdBTUkxYyxLQUFLMUYsUUFBTix1Q0FBb0QwRixLQUFLMUYsUUFBekQsWUFBMEUsRUFON0UsNEJBT0k0SCxLQUFLNUQsSUFBTiw4QkFBdUM0RCxLQUFLNUQsSUFBNUMsYUFBMEQsRUFQN0QsNEJBUUk0RCxLQUFLNUQsSUFBTixHQUFjLEVBQWQsR0FBbUIsRUFSdEIsQ0FRMEI7d3FCQVIxQixpR0FhSXNkLFdBQVduVSxNQUFYLEtBQXNCLFdBQXZCLHlJQUU4Qm1VLFdBQVdsZCxJQUFYLElBQW1CLE9BRmpELG9EQUd1QnNCLEtBQUsxRixRQUFMLElBQWlCLEVBSHhDLG1PQU1BLEVBbkJILDJDQXFCRG9oQixNQUFNeFosSUFBTixDQXJCQyx1QkFzQkQyWixjQUFjN2IsSUFBZCxLQUF1QixFQXRCdEIsa0NBQVA7QUF5Qkg7QUFDSixDQTdDTTs7QUErQ1AsU0FBU04sUUFBVCxDQUFrQkMsS0FBbEIsRUFBeUJDLFNBQXpCLEVBQW9DO0FBQ2hDLFFBQU1DLFFBQVFELFNBQWQ7QUFDQSxRQUFNRSxRQUFRSCxLQUFkO0FBQ0EsUUFBTStjLG1CQUFtQixjQUFNN2dCLElBQU4sQ0FBV0MsWUFBcEM7O0FBRUFnRSxVQUFNTixLQUFOLEdBQWNZLFFBQWQsQ0FBdUIsb0JBQXZCO0FBQ0FQLFVBQU1FLE9BQU4sQ0FBYyxVQUFDQyxJQUFELEVBQVU7QUFDcEJ3YyxtQkFBV3hjLElBQVgsRUFBaUJGLEtBQWpCLEVBQXdCNGMsZ0JBQXhCLEVBQTBDdmMsUUFBMUMsQ0FBbURMLEtBQW5EO0FBQ0gsS0FGRDtBQUdBMkosV0FBT0MsTUFBUCxDQUFjOEUsT0FBZCxDQUFzQixjQUFNNVIsTUFBTixDQUFhTyxnQkFBYixDQUE4QkUsMEJBQXBELEVBQWdGLEVBQUNpQixVQUFELEVBQU9zQixvQkFBUCxFQUFoRjtBQUNBcUMsWUFBUUssR0FBUixDQUFZLDRCQUFaO0FBQ0g7O0FBRUQsU0FBU3FhLGFBQVQsQ0FBd0J6VCxNQUF4QixDQUErQixzQkFBL0IsRUFBdUQ7O0FBRW5EOzs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFrQkE7QUFDQTNKLE1BQUUsNEJBQUYsRUFBZ0NhLFFBQWhDLENBQXlDLFFBQXpDO0FBQ0FWLGFBQVMwYSxRQUFULEVBQW1CbFIsT0FBT0gsSUFBUCxDQUFZMkosUUFBL0I7QUFDQTRIO0FBQ0g7QUFDRCxJQUFNc0Msa0JBQWtCLHNEQUF4QjtBQUNBLFNBQVNwWSxPQUFULEdBQW1CO0FBQ2YsbUJBQVVyRixlQUFWLENBQTBCSSxFQUFFLFlBQUYsQ0FBMUIsRUFDSSxFQURKLEVBRUlxZCxlQUZKO0FBR0g7O0FBRUQsU0FBU0MsVUFBVCxHQUFzQjtBQUNsQixRQUFNekMsV0FBVzdhLEVBQUUsZ0JBQUYsQ0FBakI7QUFDQTtBQUNBQSxNQUFFLDRCQUFGLEVBQWdDNkssV0FBaEMsQ0FBNEMsUUFBNUM7QUFDQSxtQkFBS2YsV0FBTCxDQUFpQjdFLE9BQWpCLEVBQTBCeUUsSUFBMUIsQ0FBK0IsVUFBQ0MsTUFBRCxFQUFZO0FBQ3ZDa1IsaUJBQVM1YSxLQUFUO0FBQ0E7QUFDQW1kLHNCQUFjelQsTUFBZDtBQUNILEtBSkQsRUFJRzJSLEtBSkgsQ0FJUyxVQUFDQyxHQUFELEVBQVM7QUFDZDlMLG1CQUFXLFlBQU07QUFDYiwyQkFBVTdQLGVBQVYsQ0FBMEJJLEVBQUUsWUFBRixDQUExQixFQUNJdWIsSUFBSXJULE1BQUosSUFBYyxFQURsQixFQUVJbVYsZUFGSjtBQUdILFNBSkQsRUFJRyxJQUpIO0FBS0FyZCxVQUFFLGNBQUYsRUFBa0JhLFFBQWxCLENBQTJCLFFBQTNCO0FBQ0gsS0FYRDtBQVlBLFFBQU04QyxNQUFNO0FBQ1I0WixzQkFBYyxnQkFETjtBQUVSQyxzQkFBYyxpQkFGTjtBQUdSQyxvQkFBWTtBQUhKLEtBQVo7QUFLQSx3REFBc0I5WixHQUF0QjtBQUNIOztBQUVEO0FBQ0EsSUFBTStaLHNCQUFzQixTQUF0QkEsbUJBQXNCLENBQUNDLFdBQUQsRUFBaUI7QUFDekMsUUFBTTFZLFVBQVUsU0FBVkEsT0FBVSxDQUFDMEUsTUFBRCxFQUFZO0FBQ3hCakgsZ0JBQVFLLEdBQVIsQ0FBWSxPQUFaLEVBQXFCNEcsTUFBckI7QUFDQSx1QkFBVS9KLGVBQVYsQ0FBMEJJLEVBQUUsWUFBRixDQUExQixFQUNJMkosT0FBT3pCLE1BQVAsQ0FBY1csS0FEbEIsRUFFSWMsT0FBT3pCLE1BQVAsQ0FBY3VRLE9BQWQsSUFBeUIsYUFGN0I7QUFHQTtBQUNILEtBTkQ7QUFPQSxtQkFBS2lGLG1CQUFMLENBQXlCQyxXQUF6QixFQUFzQzFZLE9BQXRDLEVBQStDeUUsSUFBL0MsQ0FBb0QsVUFBQ0MsTUFBRCxFQUFZO0FBQzVELFlBQUlBLFVBQVVBLE9BQU96QixNQUFyQixFQUE2QjtBQUN6QnhGLG9CQUFRSyxHQUFSLENBQVk0RyxNQUFaLEVBQW9CQSxPQUFPekIsTUFBM0I7QUFDQW9WOztBQUVBOzs7Ozs7Ozs7Ozs7Ozs7OztBQWlCQTtBQUNBO0FBQ0E7QUFDQTtBQUNIO0FBQ0osS0EzQkQsRUEyQkdoQyxLQTNCSCxDQTJCUyxVQUFDQyxHQUFELEVBQVM7QUFDZDtBQUNBN1ksZ0JBQVFLLEdBQVIsQ0FBWXdZLEdBQVo7QUFDSCxLQTlCRDs7QUFnQ0E3WSxZQUFRSyxHQUFSLENBQVksUUFBWixFQUFzQjRhLFdBQXRCO0FBQ0gsQ0F6Q0Q7O0FBMkNBLFNBQVNDLGlCQUFULEdBQTZCO0FBQ3pCOztBQUVBOztBQUVBNWQsTUFBRSwyQkFBRixFQUErQm1FLEVBQS9CLENBQWtDLE9BQWxDLEVBQTJDLFVBQUNpRixDQUFELEVBQU87QUFDOUMsWUFBTUMsTUFBTXJKLEVBQUVvSixFQUFFRSxNQUFKLENBQVo7QUFDQSxZQUFNdVUsYUFBYXhVLElBQUlFLE9BQUosQ0FBWSxRQUFaLEVBQXNCdUIsSUFBdEIsQ0FBMkIsMkJBQTNCLENBQW5CO0FBQ0EsWUFBTS9QLFdBQVc4aUIsV0FBVy9TLElBQVgsQ0FBZ0Isd0JBQWhCLEVBQTBDaEksR0FBMUMsR0FBZ0RPLElBQWhELEVBQWpCO0FBQ0EsWUFBTTVHLFdBQVdvaEIsV0FBVy9TLElBQVgsQ0FBZ0Isb0JBQWhCLEVBQXNDaEksR0FBdEMsR0FBNENPLElBQTVDLEVBQWpCO0FBQ0EsWUFBTThDLEtBQUswWCxXQUFXL1MsSUFBWCxDQUFnQixrQkFBaEIsRUFBb0NoSSxHQUFwQyxHQUEwQ08sSUFBMUMsRUFBWCxDQUw4QyxDQUtlO0FBQzdELFlBQU0rQyxPQUFPeVgsV0FBVy9TLElBQVgsQ0FBZ0Isb0JBQWhCLEVBQXNDaEksR0FBdEMsR0FBNENPLElBQTVDLEVBQWIsQ0FOOEMsQ0FNbUI7QUFDakUsWUFBTWdELGdCQUFnQndYLFdBQVcvUyxJQUFYLENBQWdCLDZCQUFoQixFQUErQ2hJLEdBQS9DLEdBQXFETyxJQUFyRCxFQUF0QixDQVA4QyxDQU9xQztBQUNuRixZQUFNaUQsZ0JBQWdCdVgsV0FBVy9TLElBQVgsQ0FBZ0IseUJBQWhCLEVBQTJDaEksR0FBM0MsR0FBaURPLElBQWpELEVBQXRCLENBUjhDLENBUWlDO0FBQy9FLFlBQU1xSCxRQUFRMUssRUFBRSxNQUFGLEVBQVU2ZCxVQUFWLENBQWQ7QUFDQSxZQUFNQyxPQUFPcFQsTUFBTTFGLEdBQU4sQ0FBVSxDQUFWLENBQWI7QUFDQSxZQUFNK1kscUJBQXFCLGlCQUEzQjs7QUFFQTNVLFVBQUVxQyxjQUFGO0FBQ0EsaUJBQVN1UyxlQUFULENBQXlCN1gsRUFBekIsRUFBNkI7QUFDekIsbUJBQVEsd0ZBQUQsQ0FBMEZsRixJQUExRixDQUErRmtGLEVBQS9GO0FBQVA7QUFDSDtBQUNELGlCQUFTOFgsV0FBVCxDQUFxQjdYLElBQXJCLEVBQTJCO0FBQ3ZCLG1CQUFRLHNGQUFELENBQXdGbkYsSUFBeEYsQ0FBNkZtRixJQUE3RjtBQUFQO0FBQ0g7QUFDRDtBQUNBO0FBQ0EsWUFBSTBYLEtBQUtJLGFBQUwsRUFBSixFQUEwQjtBQUN0QlIsZ0NBQW9CLEVBQUMzaUIsa0JBQUQsRUFBVzBCLGtCQUFYLEVBQXFCNEosNEJBQXJCLEVBQW9DQyw0QkFBcEMsRUFBbURILE1BQW5ELEVBQXVEQyxVQUF2RCxFQUFwQjtBQUNILFNBRkQsTUFFTztBQUNIO0FBQ0EsZ0JBQUkwWCxLQUFLSyxjQUFULEVBQXlCO0FBQ3JCTCxxQkFBS0ssY0FBTDtBQUNIO0FBQ0R6VCxrQkFBTTdKLFFBQU4sQ0FBZWtkLGtCQUFmO0FBQ0g7O0FBRUQsWUFBSSxDQUFDaGpCLFFBQUQsSUFBYSxDQUFDMEIsUUFBZCxJQUEwQixDQUFDMEosRUFBM0IsSUFBaUMsQ0FBQzZYLGdCQUFnQjdYLEVBQWhCLENBQWxDLElBQXlELENBQUNDLElBQTFELElBQWtFLENBQUM2WCxZQUFZN1gsSUFBWixDQUFuRSxJQUF3RixDQUFDQyxhQUF6RixJQUEwRyxDQUFDQyxhQUEvRyxFQUE4SDtBQUMxSDhDLGNBQUVzQyxlQUFGO0FBQ0FoSixvQkFBUUssR0FBUixDQUFZLGtCQUFaO0FBQ0E7QUFDSDtBQUNKLEtBckNEO0FBc0NIOztBQUVEOzs7QUFHTyxTQUFTMkUsSUFBVCxHQUFnQjtBQUNuQjtBQUNBLFFBQUksQ0FBQ21ULFNBQVN4WSxNQUFkLEVBQXNCO0FBQ2xCO0FBQ0g7QUFDRDtBQUNBLFFBQU0rYixXQUFXLGVBQUt0VSxXQUFMLENBQWlCN0UsT0FBakIsQ0FBakI7QUFDQTtBQUNBO0FBQ0E7QUFDQSxRQUFJLENBQUM0VixTQUFTeFksTUFBZCxFQUFzQjtBQUNsQjtBQUNIOztBQUVEdWI7O0FBRUE7QUFDQVEsYUFBUzFVLElBQVQsQ0FBYyxVQUFDQyxNQUFELEVBQVk7QUFDdEI7QUFDQTs7Ozs7Ozs7Ozs7O0FBWUo7QUFDSXlULHNCQUFjelQsTUFBZDtBQUNBLFlBQU1oRyxNQUFNO0FBQ1I0WiwwQkFBYyxnQkFETjtBQUVSQywwQkFBYyxpQkFGTjtBQUdSQyx3QkFBWTtBQUhKLFNBQVo7QUFLQSw0REFBc0I5WixHQUF0QjtBQUNILEtBdEJELEVBc0JHMlgsS0F0QkgsQ0FzQlMsVUFBQ0MsR0FBRCxFQUFTO0FBQ2Q5TCxtQkFBVyxZQUFNO0FBQ2IsMkJBQVU3UCxlQUFWLENBQTBCSSxFQUFFLFlBQUYsQ0FBMUIsRUFDSXViLElBQUlyVCxNQUFKLElBQWMsRUFEbEIsRUFFSSxzREFGSjtBQUdILFNBSkQsRUFJRyxJQUpIO0FBS0FsSSxVQUFFLGNBQUYsRUFBa0JhLFFBQWxCLENBQTJCLFFBQTNCO0FBQ0gsS0E3QkQ7O0FBK0JBcUosV0FBT0MsTUFBUCxDQUFjQyxTQUFkLENBQXdCLGNBQU0vTSxNQUFOLENBQWFPLGdCQUFiLENBQThCQyw4QkFBdEQsRUFBc0YsVUFBQ3dNLFNBQUQsRUFBWWIsSUFBWixFQUFxQjtBQUN2RzhUO0FBQ0gsS0FGRDtBQUdBcFQsV0FBT0MsTUFBUCxDQUFjQyxTQUFkLENBQXdCLGNBQU0vTSxNQUFOLENBQWFPLGdCQUFiLENBQThCRSwwQkFBdEQsRUFBa0YsVUFBQ3VNLFNBQUQsRUFBWWIsSUFBWixFQUFxQjtBQUFBLFlBQzVGbkosU0FENEYsR0FDL0VtSixJQUQrRSxDQUM1Rm5KLFNBRDRGOztBQUVuR0Esa0JBQVVHLE9BQVYsQ0FBa0IsZ0JBQVE7QUFDdEIsZ0JBQU02ZCxTQUFTNWQsS0FBS2tDLElBQUwsSUFBYWxDLEtBQUtrQyxJQUFMLENBQVU4WixlQUF2QixJQUEwQyxjQUFNbmdCLElBQU4sQ0FBV0MsWUFBcEU7QUFDQWlNLDJCQUFlOFYsT0FBZixDQUF1QjdkLEtBQUsxRixRQUE1QixFQUFzQ3NqQixNQUF0QztBQUNILFNBSEQ7QUFJSCxLQU5EO0FBT0gsQzs7Ozs7Ozs7Ozs7Ozs7O3FqQkM3YkQ7OztBQUNBOztBQUNBOzs7O0FBQ0E7Ozs7Ozs7O0lBRU1FLGdCO0FBRUYsZ0NBQWM7QUFBQTs7QUFDVixhQUFLL1osT0FBTCxHQUFlLHVCQUFmO0FBQ0EsYUFBSzdILGFBQUw7QUFDQSxhQUFLOEgsV0FBTCxHQUFtQjtBQUNmQyxvQkFBUSxNQURPO0FBRWZDLHFCQUFTO0FBQ0wsZ0NBQWdCLGtCQURYO0FBRUwsMEJBQVU7QUFGTDtBQUZNLFNBQW5CO0FBT0g7Ozs7cUNBRVk7QUFDVCxtQkFBTyxDQUFDLENBQUMsS0FBS1MsUUFBTCxFQUFUO0FBQ0g7OzsyQ0FFa0I7QUFDZixtQkFBUSxLQUFLekksYUFBTCxDQUFtQnFJLEdBQW5CLENBQXVCLGNBQU1ySSxhQUFOLENBQW9CQyxjQUEzQyxNQUErRCxXQUF2RTtBQUNIOzs7bUNBRVU7QUFDUCxnQkFBTW1JLGNBQWMsS0FBS3BJLGFBQUwsQ0FBbUJxSSxHQUFuQixDQUF1QixjQUFNckksYUFBTixDQUFvQkQsS0FBM0MsQ0FBcEI7QUFDQSxtQkFBT3FJLFdBQVA7QUFDSDs7O29DQUVXckksSyxFQUFPdUksTyxFQUFTO0FBQ3hCLG1CQUFPLEtBQUtULE9BQUwsQ0FBYVcsV0FBYixNQUE0QixjQUFNckcsT0FBTixDQUFjLDZCQUFkLENBQTVCLEVBQTRFLEVBQUM2RixTQUFTLEVBQUMsU0FBUyxLQUFLUyxRQUFMLEVBQVYsRUFBVixFQUE1RSxFQUFtSEgsT0FBbkgsQ0FBUDtBQUNIOzs7K0NBRXNCSyxPLEVBQVNMLE8sRUFBUztBQUNyQyxnQkFBTVksU0FBVVAsUUFBUU8sTUFBVCxnQkFBOEJQLFFBQVFPLE1BQXRDLEdBQWlELEVBQWhFO0FBQ0EsbUJBQU8sS0FBS3JCLE9BQUwsQ0FBYVcsV0FBYixDQUE0QixjQUFNckcsT0FBTixDQUFjLDZCQUFkLENBQTVCLFNBQTRFd0csUUFBUXZLLFFBQXBGLEdBQStGOEssTUFBL0YsRUFDTixFQUFDbEIsU0FBUyxFQUFDLFNBQVMsS0FBS1MsUUFBTCxFQUFWLEVBQVYsRUFETSxFQUNpQ0gsT0FEakMsQ0FBUDtBQUVIOzs7c0RBRTZCdkksSyxFQUFPNEksTyxFQUFTTCxPLEVBQVM7QUFDbkQsZ0JBQU1ZLFNBQVVQLFFBQVFPLE1BQVQsZ0JBQThCUCxRQUFRTyxNQUF0QyxHQUFpRCxFQUFoRTtBQUNBLG1CQUFPLEtBQUtyQixPQUFMLENBQWFXLFdBQWIsQ0FBNEIsY0FBTXJHLE9BQU4sQ0FBYyw2QkFBZCxDQUE1QixTQUE0RXdHLFFBQVF2SyxRQUFwRixTQUFnR3VLLFFBQVFrWixjQUF4RyxHQUF5SDNZLE1BQXpILEVBQ0gsRUFBQ2xCLFNBQVMsRUFBQ2pJLFlBQUQsRUFBVixFQURHLEVBQ2lCdUksT0FEakIsQ0FBUDtBQUVIOzs7dURBQzhCdkksSyxFQUFPNEksTyxFQUFTTCxPLEVBQVM7QUFDcEQsZ0JBQU1PLHVCQUNDLEtBQUtmLFdBRE47QUFFRmdCLHNCQUFNQyxLQUFLQyxTQUFMLENBQWUsRUFBQyxTQUFTTCxRQUFRMkIsS0FBbEIsRUFBZixDQUZKO0FBR0Z0QyxzQ0FDTyxLQUFLRixXQUFMLENBQWlCRSxPQUR4QjtBQUVJLDZCQUFTLEtBQUtTLFFBQUw7QUFGYjtBQUhFLGNBQU47QUFRQSxtQkFBTyxLQUFLWixPQUFMLENBQWFXLFdBQWIsQ0FBNEIsY0FBTXJHLE9BQU4sQ0FBYyw2QkFBZCxDQUE1QixTQUE0RXdHLFFBQVF2SyxRQUFwRixTQUFnR3VLLFFBQVFrWixjQUF4RyxZQUNIaFosT0FERyxFQUNNUCxPQUROLENBQVA7QUFFSDtBQUNEOzs7OzBDQUNrQmxLLFEsRUFBVWtLLE8sRUFBUztBQUNqQztBQUNBLG1CQUFPLEtBQUtULE9BQUwsQ0FBYVcsV0FBYixDQUE0QixjQUFNckcsT0FBTixDQUFjLGdDQUFkLENBQTVCLFNBQStFL0QsUUFBL0UsRUFDUCxFQUFDNEosU0FBUyxFQUFDLFNBQVMsS0FBS1MsUUFBTCxFQUFWLEVBQVYsRUFETyxFQUNnQ0gsT0FEaEMsQ0FBUDtBQUVIOzs7MENBQ2lCd1osZSxFQUFpQnhaLE8sRUFBUztBQUN4QyxnQkFBTU8sdUJBQ0MsS0FBS2YsV0FETjtBQUVGQyx3QkFBUSxLQUZOO0FBR0ZDLHNDQUNPLEtBQUtGLFdBQUwsQ0FBaUJFLE9BRHhCO0FBRUksNkJBQVMsS0FBS1MsUUFBTDtBQUZiO0FBSEUsY0FBTjtBQUR3QyxnQkFTakNySyxRQVRpQyxHQVNMMGpCLGVBVEssQ0FTakMxakIsUUFUaUM7QUFBQSxnQkFTdkJ5akIsY0FUdUIsR0FTTEMsZUFUSyxDQVN2QkQsY0FUdUI7O0FBVXhDLG1CQUFPLEtBQUtoYSxPQUFMLENBQWFXLFdBQWIsQ0FBNEIsY0FBTXJHLE9BQU4sQ0FBYyxnQ0FBZCxDQUE1QixTQUErRS9ELFFBQS9FLFNBQTJGeWpCLGNBQTNGLEVBQ0hoWixPQURHLEVBQ01QLE9BRE4sQ0FBUDtBQUVIOzs7MENBQ2lCd1osZSxFQUFpQnhaLE8sRUFBUztBQUN4QyxnQkFBTU8sVUFBVTtBQUNaZCx3QkFBUSxRQURJO0FBRVpDLHNDQUNPLEtBQUtGLFdBQUwsQ0FBaUJFLE9BRHhCO0FBRUksNkJBQVMsS0FBS1MsUUFBTDtBQUZiO0FBRlksYUFBaEI7QUFEd0MsZ0JBUWpDckssUUFSaUMsR0FRTDBqQixlQVJLLENBUWpDMWpCLFFBUmlDO0FBQUEsZ0JBUXZCeWpCLGNBUnVCLEdBUUxDLGVBUkssQ0FRdkJELGNBUnVCOztBQVN4QyxtQkFBTyxLQUFLaGEsT0FBTCxDQUFhVyxXQUFiLENBQTRCLGNBQU1yRyxPQUFOLENBQWMsZ0NBQWQsQ0FBNUIsU0FBK0UvRCxRQUEvRSxTQUEyRnlqQixjQUEzRixFQUNIaFosT0FERyxFQUNNUCxPQUROLENBQVA7QUFFSDs7Ozs7O0FBSUwsSUFBSWUsZUFBZSxJQUFuQjs7QUFFQSxJQUFJLENBQUNBLFlBQUwsRUFBbUI7QUFDZkEsbUJBQWUsSUFBSXVZLGdCQUFKLEVBQWY7QUFDSDs7a0JBRWN2WSxZOzs7Ozs7QUNuR2Y7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBEQUEwRDtBQUMxRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsS0FBSztBQUM1Qix1QkFBdUIsSUFBSTtBQUMzQix1QkFBdUIsSUFBSTtBQUMzQix1QkFBdUIsSUFBSTtBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7O0FBRWI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTs7QUFFYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhOztBQUViO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7O0FBRWI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTs7QUFFYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7O0FBRWI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTs7QUFFYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7O0FBRWI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCLGFBQWE7QUFDYjtBQUNBO0FBQ0EsMEJBQTBCO0FBQzFCOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7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QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLDRCQUE0QixxQkFBcUI7QUFDakQ7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQSxxQ0FBcUMsMEJBQTBCO0FBQy9EO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSw2QkFBNkIsMEJBQTBCLGVBQWU7QUFDdEU7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6ImluZGV4LWFwcC5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGlkZW50aXR5IGZ1bmN0aW9uIGZvciBjYWxsaW5nIGhhcm1vbnkgaW1wb3J0cyB3aXRoIHRoZSBjb3JyZWN0IGNvbnRleHRcbiBcdF9fd2VicGFja19yZXF1aXJlX18uaSA9IGZ1bmN0aW9uKHZhbHVlKSB7IHJldHVybiB2YWx1ZTsgfTtcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7XG4gXHRcdFx0XHRjb25maWd1cmFibGU6IGZhbHNlLFxuIFx0XHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcbiBcdFx0XHRcdGdldDogZ2V0dGVyXG4gXHRcdFx0fSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gNTYpO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHdlYnBhY2svYm9vdHN0cmFwIGFmOWVlZWI4NzZmYWI2MDc1OWNlIiwiZXhwb3J0IGNvbnN0IENPTlNUID0ge1xyXG4gICAgdXJsOiB7XHJcbiAgICAgICAgdG1UeXBlczoge1xyXG4gICAgICAgICAgICBmb2xsb3dpbmdUOiAnRk9MTE9XSU5HJyxcclxuICAgICAgICAgICAgZm9sbG93aW5nU3ViVDogWydGT0xMT1dJTkdfQllfTElTVCcsICdGT0xMT1dJTkdfQllfQUNUSVZFX0FVRElFTkNFJ10sXHJcbiAgICAgICAgICAgIHVuZm9sbG93aW5nVDogJ1VORk9MTE9XSU5HJyxcclxuICAgICAgICAgICAgdW5mb2xsb3dpbmdTdWJUOiBbJ1VORk9MTE9XSU5HX0JZX0xJU1QnLCAnVU5GT0xMT1dJTkdfQllfQUxMJywgJ1VORk9MTE9XSU5HX0JZX05PTl9SRUNJUFJPQ0FMJ10sXHJcbiAgICAgICAgICAgIGNoYXRCb3RUOiAnQ0hBVF9CT1QnLFxyXG4gICAgICAgICAgICBjaGF0Qm90U3ViVDogWydERUZBVUxUX0NIQVRfQk9UJ10sXHJcbiAgICAgICAgICAgIGF1dG9tZXNzYWdlc1Q6ICdBVVRPX0FOU1dFUicsXHJcbiAgICAgICAgICAgIGF1dG9tZXNzYWdlc1N1YlQ6IFsnREVGQVVMVF9BVVRPX0FOU1dFUiddLFxyXG4gICAgICAgICAgICBhdXRvZ3JlZXRUOiAnQVVUT19HUkVFVElORycsXHJcbiAgICAgICAgICAgIGF1dG9ncmVldFN1YlQ6IFsnREVGQVVMVF9BVVRPX0dSRUVUSU5HJ10sXHJcbiAgICAgICAgICAgIHN0b3JpZXNUOiAnU1RPUklFUycsXHJcbiAgICAgICAgICAgIHN0b3JpZXNTdWJUOiBbJ1NUT1JJRVNfQllfTElTVCcsICdTVE9SSUVTX0JZX0ZPTExPV0VSUycsICdTVE9SSUVTX0JZX0FDVElWRV9BVURJRU5DRSddLFxyXG4gICAgICAgICAgICBhdXRvY29tbWVudHNUOiAnQVVUT19DT01NRU5UJyxcclxuICAgICAgICAgICAgYXV0b2NvbW1lbnRzU3ViVDogWydERUZBVUxUX0FVVE9fQ09NTUVOVCddXHJcbiAgICAgICAgfSxcclxuICAgICAgICBiYXNlOiAnaHR0cDovL2FwaS5sdXhncmFtLnJ1L3YxLycsXHJcbiAgICAgICAgcmVnaXN0cmF0aW9uOiAncmVnaXN0cmF0aW9uL2Jhc2ljLycsXHJcbiAgICAgICAgbG9naW46ICdyZWdpc3RyYXRpb24vYmFzaWMvbG9naW4nLFxyXG4gICAgICAgIGNvbmZpcm1hdGlvbjogJ3JlZ2lzdHJhdGlvbi9iYXNpYy9jb25maXJtYXRpb24/dG9rZW4nLFxyXG5cclxuICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgICAgICAgaW5zdGFncmFtX2FkZEFjY291bnQ6ICdpbnN0YWdyYW0tYWNjb3VudHMvJyxcclxuICAgICAgICBpbnN0YWdyYW1BY2NvdW50X2dldE1ldGFEYXRhOiAnaW5zdGFncmFtLWFjY291bnRzL21ldGEnLFxyXG4gICAgICAgIGluc3RhZ3JhbV9nZXRBY2NvdW50QnlVc2VyOiB1c2VybmFtZSA9PiBgaW5zdGFncmFtLWFjY291bnRzL21ldGEvJHt1c2VybmFtZX1gLFxyXG4gICAgICAgIGluc3RhZ3JhbV9tb2RpZnlBY2NvdW50OiB1c2VybmFtZSA9PiBgaW5zdGFncmFtLWFjY291bnRzLyR7dXNlcm5hbWV9YCxcclxuICAgICAgICBpbnN0YWdyYW1UYXNrTWFuYWdlcl9nZXRQb3N0czogYWNjb3VudE5hbWUgPT4gYGluc3RhZ3JhbS1hY2NvdW50cy8ke2FjY291bnROYW1lfS9wb3N0c2AsXHJcblxyXG4gICAgICAgIC8vIC1pbnN0YWdyYW0tYWNjb3VudHMtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICAgICAgICBpbnN0YWdyYW1BY2NvdW50X2NoZWNrcG9pbnQ6ICdpbnN0YWdyYW0tYWNjb3VudHMvY2hlY2twb2ludC8nLFxyXG4gICAgICAgIGluc3RhZ3JhbUFjY291bnRfY29uZmlybUtleTogJ2luc3RhZ3JhbS1hY2NvdW50cy9jaGVja3BvaW50LycsXHJcblxyXG4gICAgICAgIC8vIC1pbnN0YWdyYW0tZGlyZWN0LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgICAgICAgaW5zdGFncmFtRGlyZWN0X0Jhc2ljOiAnaW5zdGFncmFtLWRpcmVjdCcsXHJcbiAgICAgICAgaW5zdGFncmFtRGlyZWN0X3Bvc3RNZXNzYWdlOiAnaW5zdGFncmFtLWRpcmVjdC8nLFxyXG4gICAgICAgIGluc3RhZ3JhbURpcmVjdF9nZXRNZXRhRGF0YTogJ2luc3RhZ3JhbS1kaXJlY3QvbWV0YScsXHJcbiAgICAgICAgaW5zdGFncmFtRGlyZWN0X1JlcXVlc3RQZW5kaW5nOiAnaW5zdGFncmFtLWRpcmVjdC9wZW5kaW5nJyxcclxuICAgICAgICAvLyBodHRwOi8vYXBpLmx1eGdyYW0ucnUvdjEvaW5zdGFncmFtLWRpcmVjdC97dXNlcm5hbWV9L3tpZH0vcGhvdG9cclxuXHJcbiAgICAgICAgLy8gLWluc3RhZ3JhbS10YXNrLW1hbmFnZXItLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICAgICAgICBpbnN0YWdyYW1UYXNrTWFuYWdlcjogJ2luc3RhZ3JhbS10YXNrLW1hbmFnZXIvJyxcclxuICAgICAgICBpbnN0YWdyYW1UYXNrTWFuYWdlcl9nZXRNZXRhRGF0YTogJ2luc3RhZ3JhbS10YXNrLW1hbmFnZXIvbWV0YScsXHJcbiAgICAgICAgaW5zdGFncmFtVGFza01hbmFnZXJfZ2V0VGFza0J5VHlwZXM6ICdpbnN0YWdyYW0tdGFzay1tYW5hZ2VyL21ldGEvdHlwZS8nLFxyXG4gICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tXHJcbiAgICAgICAgaW5zdGFncmFtVGFza01hbmFnZXJfZ2V0RGVmYXVsdENvbmZpZ3M6ICdpbnN0YWdyYW0tdGFzay1tYW5hZ2VyL2NvbmZpZy90eXBlJywgLy8ge1RZUEV9L3N1YnR5cGUve1NVQlRZUEV9XHJcbiAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS1cclxuICAgICAgICBpbnN0YWdyYW1UYXNrTWFuYWdlcl9wb3N0U3RhcnRGb2xsb3dpbmdMaXN0OiAnaW5zdGFncmFtLXRhc2stbWFuYWdlci90YXNrJyxcclxuICAgICAgICBpbnN0YWdyYW1UYXNrTWFuYWdlcl9wb3N0U3RhcnRUYXNrOiAnaW5zdGFncmFtLXRhc2stbWFuYWdlci90YXNrJyxcclxuICAgICAgICBpbnN0YWdyYW1UYXNrTWFuYWdlcl9nZXRUYXNrVHlwZXM6ICdpbnN0YWdyYW0tdGFzay1tYW5hZ2VyL3Rhc2svdHlwZXMnLFxyXG4gICAgICAgIGluc3RhZ3JhbVRhc2tNYW5hZ2VyX3B1dFN0b3BUYXNrQnlJRDogaWQgPT4gYGluc3RhZ3JhbS10YXNrLW1hbmFnZXIvdGFzay8ke2lkfWAsXHJcbiAgICAgICAgaW5zdGFncmFtVGFza01hbmFnZXJfZGVsUmVtb3ZlVGFza0J5SUQ6IGlkID0+IGBpbnN0YWdyYW0tdGFzay1tYW5hZ2VyL3Rhc2svJHtpZH1gLFxyXG4gICAgICAgIGluc3RhZ3JhbVRhc2tNYW5hZ2VyX3Bvc3RJbWFnZUF0dGFjaG1lbnQ6ICdpbnN0YWdyYW0tdGFzay1tYW5hZ2VyL3Rhc2svYXR0YWNobWVudC9pbWFnZScsXHJcbiAgICAgICAgaW5zdGFncmFtVGFza01hbmFnZXJfcG9zdFRleHRBdHRhY2htZW50OiAnaW5zdGFncmFtLXRhc2stbWFuYWdlci90YXNrL2F0dGFjaG1lbnQvdXNlcnNfbGlzdCcsXHJcbiAgICAgICAgaW5zdGFncmFtVGFza01hbmFnZXJfZ2V0TG9nc0NoYXRCb3Q6ICdpbnN0YWdyYW0tdGFzay1tYW5hZ2VyL2xvZ3MvdHlwZS8nIC8vIHtUWVBFfS9zdWJ0eXBlL3tTVUJUWVBFfS9hY2NvdW50L3t1c2VybmFtZX0/cGFnZT17cGFnZX1cclxuICAgIH0sXHJcbiAgICB1c2VyOiB7XHJcbiAgICAgICAgZGVmYXVsQXZhdGFyOiAnaHR0cHM6Ly9pLmltZ3VyLmNvbS9qTk5UNExFLnBuZycsIC8vIHRvZG86IGdldCBmcm9tIGRlc2lnbmVyXHJcbiAgICAgICAgZW1haWw6ICcnLFxyXG4gICAgICAgIHBhc3N3b3JkOiAnJyxcclxuICAgICAgICB0b2tlbjogJydcclxuICAgIH0sXHJcbiAgICBjb29raWVTdG9yYWdlOiB7XHJcbiAgICAgICAgdG9rZW46ICd1c2VyX2xvZ2dlZCcsXHJcbiAgICAgICAgZW1haWxDb25maXJtZWQ6ICdlbWFpbF9jb25maXJtZWQnXHJcbiAgICB9LFxyXG4gICAgdWlTZWxlY3RvcnM6IHtcclxuICAgICAgICBoZWFkZXJMb2dpbkJveDogJ25hdiAubG9naW4tYm94JyxcclxuICAgICAgICBoZWFkZXJOYXZMb2dpbkJ0bjogJ25hdiB1bCBsaSAuanNfbG9naW4nLFxyXG4gICAgICAgIGhlYWRlclJlZ0JveDogJ25hdiAucmVnaXN0ZXItYm94JyxcclxuICAgICAgICBoZWFkZXJSZWdCdG46ICduYXYgdWwgbGkgLmpzX3JlZ2lzdGVyJyxcclxuICAgICAgICBpbnN0YWdyYW06IHtcclxuICAgICAgICAgICAgYWRkQWNjb3VudEJ0blNlbGVjdG9yOiAnI2pzX3Nob3ctbG9naW4tYm94JyxcclxuICAgICAgICAgICAgYWRkQWNjb3VudEJ0bklkOiAnanNfc2hvdy1sb2dpbi1ib3gnXHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIGV2ZW50czoge1xyXG4gICAgICAgIFVTRVJfTE9HR0VEOiAndXNlcl9sb2dnZWQnLFxyXG4gICAgICAgIFVTRVJfTE9HT1VUOiAndXNlcl9sb2dvdXQnLFxyXG4gICAgICAgIFVTRVJfRU1BSUxfQ09ORklSTUVEOiAndXNlcl9lbWFpbF9jb25maXJtZWQnLFxyXG4gICAgICAgIFNUT1BfRklYRURfU1BJTk5FUjogJ3N0b3BfZml4ZWRfc3Bpbm5lcicsXHJcbiAgICAgICAgbWVzc2FnZXM6IHtcclxuICAgICAgICAgICAgUkVDSUVWRV9ORVdfTUVTU0FHRTogJ3JlY2VpdmVfbmV3X21lc3NhZ2UnXHJcbiAgICAgICAgfSxcclxuICAgICAgICBpbnN0YWdyYW1BY2NvdW5zOiB7XHJcbiAgICAgICAgICAgIElOU1RBR1JBTV9BQ0NPVU5TX05FRURfUkVGUkVTSDogJ2luc3RhZ3JhbV9hY2NvdW5zX25lZWRfcmVmcmVzaCcsXHJcbiAgICAgICAgICAgIElOU1RBR1JBTV9BQ0NPVU5TX1JFTkRFUkVEOiAnaW5zdGFncmFtX2FjY291bnNfcmVuZGVyZWQnLFxyXG4gICAgICAgICAgICBJTlNUQUdSQU1fQUNDT1VOU19SRU5ERVJFRF9MQVpZOiAnaW5zdGFncmFtX2FjY291bnNfcmVuZGVyZWRfbGF6eSdcclxuICAgICAgICB9LFxyXG4gICAgICAgIG1vZGFsOiB7XHJcbiAgICAgICAgICAgIElNQUdFX1BPU1RfU0VMRUNURUQ6ICdpbWFnZV9wb3N0X3NlbGVjdGVkJyxcclxuICAgICAgICAgICAgSU1BR0VfVVBMT0FERURfQVZBVEFSOiAnSU1BR0VfVVBMT0FERURfQVZBVEFSJ1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgYXV0b2FybnN3ZXI6IHtcclxuICAgICAgICAgICAgSU1BR0VfVVBMT0FERUQ6ICdpbWFnZV9sb2FkZWQnLFxyXG4gICAgICAgICAgICBURVhUX0ZJTEVfVVBMT0FERUQ6ICd0ZXh0X2ZpbGVfdXBsb2FkZWQnXHJcbiAgICAgICAgfSxcclxuICAgICAgICB0YXNrczoge1xyXG4gICAgICAgICAgICBORVdfVEFTS19DUkVBVEVEOiAnbmV3X3Rhc2tfY3JlYXRlZCdcclxuICAgICAgICB9LFxyXG4gICAgICAgIGxvZ3M6IHtcclxuICAgICAgICAgICAgU1RPUF9MT0dTOiAnc3RvcF9sb2dzJ1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBsb2dzU3RhdGU6IHtcclxuICAgICAgICBzZWxlY3RDbHM6ICdqc19sb2dzLWFjY291bnRzJyxcclxuICAgICAgICBzZWxlY3RDbHNMb2dzVGFza1R5cGU6ICdqc19sb2dzLXN1YnR5cGVzJyxcclxuICAgICAgICB3cmFwcGVyU3VidHlwZTogJy5sb2ctc3VieXBlJ1xyXG4gICAgfSxcclxuICAgIGdldFBhdGgobmFtZSwgaWQpIHtcclxuICAgICAgICBpZiAodHlwZW9mIHRoaXMudXJsW25hbWVdID09PSAnZnVuY3Rpb24nICYmIGlkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnVybC5iYXNlICsgdGhpcy51cmxbbmFtZV0oaWQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcy51cmwuYmFzZSArIHRoaXMudXJsW25hbWVdO1xyXG4gICAgfSxcclxuICAgIGdldFBhdGhUeXBlU3VidHlwZShuYW1lLCBwYXRoLCBwYWdlKSB7XHJcbiAgICAgICAgY29uc3Qge3R5cGUsIHN1YnR5cGUsIHVzZXJuYW1lfSA9IHBhdGg7XHJcbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLnVybFtuYW1lXSA9PT0gJ2Z1bmN0aW9uJyAmJiB0eXBlICYmIHN1YnR5cGUpIHtcclxuICAgICAgICAgICAgaWYgKHVzZXJuYW1lICYmIHBhZ2UpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnVybC5iYXNlICsgdGhpcy51cmxbbmFtZV0ocGF0aCwgcGFnZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHVzZXJuYW1lKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy51cmwuYmFzZSArIHRoaXMudXJsW25hbWVdKHBhdGgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnVybC5iYXNlICsgdGhpcy51cmxbbmFtZV0odHlwZSwgc3VidHlwZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzLnVybC5iYXNlICsgdGhpcy51cmxbbmFtZV07XHJcbiAgICB9LFxyXG4gICAgZ2V0UGF0aEJ5QXJyKG5hbWUsIGFycmF5LCBwYWdlKSB7XHJcbiAgICAgICAgY29uc3QgYmFzZSA9IHRoaXMudXJsLmJhc2UgKyB0aGlzLnVybFtuYW1lXTtcclxuICAgICAgICBjb25zdCByZWR1Y2VyID0gKGFjY3VtdWxhdG9yLCBjdXJyZW50VmFsdWUpID0+IGAke2FjY3VtdWxhdG9yfS8ke2N1cnJlbnRWYWx1ZX1gO1xyXG4gICAgICAgIGNvbnN0IHVybCA9IGJhc2UgKyBhcnJheS5yZWR1Y2UocmVkdWNlcik7IC8vICR7dHlwZX0vc3VidHlwZS8ke3N1YnR5cGV9XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2codXJsKTtcclxuICAgICAgICBpZiAocGFnZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gYCR7dXJsfT9wYWdlPSR7cGFnZX1gO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdXJsO1xyXG4gICAgfVxyXG59O1xyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvY29tbW9uL2pzLXNlcnZpY2VzL2NvbnN0cy5qcyIsIi8vIGltcG9ydCAkIGZyb20gJ2pxdWVyeSc7XHJcbi8vIGltcG9ydCB7Q09OU1R9IGZyb20gJy4vY29uc3RzJztcclxuXHJcbmZ1bmN0aW9uIHZpZXdVdGlscygpIHtcclxuICAgIGZ1bmN0aW9uIHNob3dJbmZvTWVzc2FnZShzZWxlY3RvciwgbWVzc2FnZTEsIG1lc3NhZ2UyKSB7XHJcbiAgICAgICAgJChzZWxlY3RvcikuZW1wdHkoKVxyXG4gICAgICAgICAgICAuYXBwZW5kKGAkeyhtZXNzYWdlMSkgPyBgPHA+c3RhdHVzOiAke21lc3NhZ2UxfTwvcD5gIDogJyd9YClcclxuICAgICAgICAgICAgLmFwcGVuZChgPHA+JHttZXNzYWdlMn0gPC9wPmApO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGZpbGxMaXN0KCRsaXN0LCBkYXRhQXJyYXkpIHtcclxuICAgICAgICBjb25zdCBpdGVtcyA9IGRhdGFBcnJheTtcclxuICAgICAgICBjb25zdCBjTGlzdCA9ICRsaXN0O1xyXG4gICAgICAgIGNMaXN0LmVtcHR5KCk7XHJcbiAgICAgICAgaXRlbXMuZm9yRWFjaCgoaXRlbSwgaSkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBsaSA9ICQoJzxsaSBjbGFzcz1cImxpc3QtZ3JvdXAtaXRlbVwiPjwvbGk+JylcclxuICAgICAgICAgICAgICAgIC5hcHBlbmRUbyhjTGlzdCk7XHJcbiAgICAgICAgICAgICQoJzxhLz4nKS5hZGRDbGFzcygndWktYWxsJylcclxuICAgICAgICAgICAgICAgIC50ZXh0KGl0ZW0udXNlcm5hbWUpXHJcbiAgICAgICAgICAgICAgICAuYXBwZW5kVG8obGkpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGlzRW1haWwoZW1haWwpIHtcclxuICAgICAgICAvKiBlc2xpbnQtZGlzYWJsZSAqL1xyXG4gICAgICAgIGNvbnN0IHJlZ2V4ID0gL14oW2EtekEtWjAtOV8uKy1dKStcXEAoKFthLXpBLVowLTktXSkrXFwuKSsoW2EtekEtWjAtOV17Miw0fSkrJC87XHJcbiAgICAgICAgcmV0dXJuIHJlZ2V4LnRlc3QoZW1haWwpO1xyXG4gICAgICAgIC8qIGVzbGludC1lbmFibGUgKi9cclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBnZXRGb3JtYXR0ZWREYXRlVXRpbCh0U3RhbXAsIHNob3dGdWxsVGltZSkge1xyXG4gICAgICAgIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZSh0U3RhbXApO1xyXG5cclxuICAgICAgICBsZXQgbW9udGggPSBkYXRlLmdldE1vbnRoKCkgKyAxO1xyXG4gICAgICAgIGxldCBkYXkgPSBkYXRlLmdldERhdGUoKTtcclxuICAgICAgICBsZXQgaG91ciA9IGRhdGUuZ2V0SG91cnMoKTtcclxuICAgICAgICBsZXQgbWluID0gZGF0ZS5nZXRNaW51dGVzKCk7XHJcbiAgICAgICAgLy8gbGV0IHNlYyA9IGRhdGUuZ2V0U2Vjb25kcygpO1xyXG5cclxuICAgICAgICBtb250aCA9IChtb250aCA8IDEwID8gJzAnIDogJycpICsgbW9udGg7XHJcbiAgICAgICAgZGF5ID0gKGRheSA8IDEwID8gJzAnIDogJycpICsgZGF5O1xyXG4gICAgICAgIGhvdXIgPSAoaG91ciA8IDEwID8gJzAnIDogJycpICsgaG91cjtcclxuICAgICAgICBtaW4gPSAobWluIDwgMTAgPyAnMCcgOiAnJykgKyBtaW47XHJcbiAgICAgICAgLy8gc2VjID0gKHNlYyA8IDEwID8gJzAnIDogJycpICsgc2VjO1xyXG5cclxuICAgICAgICBsZXQgc3RyID0gJyc7XHJcbiAgICAgICAgaWYgKCFzaG93RnVsbFRpbWUpIHtcclxuICAgICAgICAgICAgc3RyID0gYCR7aG91cn06JHttaW59YDtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBzdHIgPSBgJHtkYXRlLmdldEZ1bGxZZWFyKCl9LSR7bW9udGh9LSR7ZGF5fSAke2hvdXJ9OiR7bWlufToke3NlY31gO1xyXG4gICAgICAgICAgICBzdHIgPSBgJHtkYXl9LSR7bW9udGh9LSR7ZGF0ZS5nZXRGdWxsWWVhcigpfSAke2hvdXJ9OiR7bWlufWA7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gc3RyO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGlzRW1wdHkob2JqKSB7XHJcbiAgICAgICAgcmV0dXJuICFvYmogfHwgT2JqZWN0LmtleXMob2JqKS5sZW5ndGggPT09IDA7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZmlsbFJhZGlvR3JvdXBMaXN0KCR3cmFwcGVyLCB0YXNrTW9kZXMsIF9hY3Rpb25UZXh0KSB7XHJcbiAgICAgICAgaWYgKGlzRW1wdHkodGFza01vZGVzKSkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmluZm8oJ3Rhc2tNb2RlcyBpcyBlbXB0eScpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBhY3Rpb25UZXh0ID0gX2FjdGlvblRleHQgfHwgJ9C/0L7QtNC/0LjRgdC+0LonOyAvLyB0b2RvXHJcbiAgICAgICAgY29uc3QgcmFkaW9CdG5SZWR1Y2VyID0gZnVuY3Rpb24gKGl0ZW0sIHZhbCkge1xyXG4gICAgICAgICAgICBzd2l0Y2ggKGl0ZW0pIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ0FHR1JFU1NJVkUnOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgPGlucHV0IHR5cGU9XCJyYWRpb1wiIGlkPVwiJHtpdGVtfVwiIG5hbWU9XCJjdXN0b21SYWRpb1wiIHZhbHVlPVwiJHtpdGVtfVwiIGNsYXNzPVwiY3VzdG9tLWNvbnRyb2wtaW5wdXRcIj5cclxuICAgICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3M9XCJjdXN0b20tY29udHJvbC1sYWJlbFwiIGZvcj1cIiR7aXRlbX1cIj48c3Ryb25nPtCQ0LPRgNC10YHRgdC40LLQvdGL0Lk6PC9zdHJvbmc+ICR7dmFsfSAke2FjdGlvblRleHR9INCyINGH0LDRgTwvbGFiZWw+YDtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ01JRERMRSc6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChgPGlucHV0IHR5cGU9XCJyYWRpb1wiIGlkPVwiJHtpdGVtfVwiIG5hbWU9XCJjdXN0b21SYWRpb1wiIHZhbHVlPVwiJHtpdGVtfVwiIGNsYXNzPVwiY3VzdG9tLWNvbnRyb2wtaW5wdXRcIj5cclxuICAgICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3M9XCJjdXN0b20tY29udHJvbC1sYWJlbFwiIGZvcj1cIiR7aXRlbX1cIj48c3Ryb25nPtCh0YDQtdC00L3QuNC5Ojwvc3Ryb25nPiAke3ZhbH0gJHthY3Rpb25UZXh0fSDQsiDRh9Cw0YE8L2xhYmVsPmApO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnU0FGRSc6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGA8aW5wdXQgdHlwZT1cInJhZGlvXCIgaWQ9XCIke2l0ZW19XCIgbmFtZT1cImN1c3RvbVJhZGlvXCIgdmFsdWU9XCIke2l0ZW19XCIgY2xhc3M9XCJjdXN0b20tY29udHJvbC1pbnB1dFwiIGNoZWNrZWQ+XHJcbiAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzPVwiY3VzdG9tLWNvbnRyb2wtbGFiZWxcIiBmb3I9XCIke2l0ZW19XCI+PHN0cm9uZz7QkdC10LfQvtC/0LDRgdC90YvQuTo8L3N0cm9uZz4gJHt2YWx9ICR7YWN0aW9uVGV4dH0g0LIg0YfQsNGBPC9sYWJlbD5gO1xyXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnZGVmYXVsdCcsIGl0ZW0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgIC8vIGNvbnNvbGUubG9nKCdkcmF3IHNwZWVkIHJhZGlvQnRuJyk7XHJcbiAgICAgICAgJHdyYXBwZXIuZW1wdHkoKTtcclxuICAgICAgICBmb3IgKGNvbnN0IGl0ZW0gaW4gdGFza01vZGVzKSB7XHJcbiAgICAgIC8vIGNvbnNvbGUubG9nKCdzdHJ1Y3R1cmU6ICcgKyBpdGVtKTtcclxuICAgICAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0YXNrTW9kZXMsIGl0ZW0pKSB7XHJcbiAgICAgICAgICAgICAgICAkKGA8ZGl2IGNsYXNzPVwiY3VzdG9tLWNvbnRyb2wgY3VzdG9tLXJhZGlvXCI+XHJcbiAgICAgICAgICAgICAgICAke3JhZGlvQnRuUmVkdWNlcihpdGVtLCB0YXNrTW9kZXNbaXRlbV0pfVxyXG4gICAgICAgICAgICA8L2Rpdj5gKS5hcHBlbmRUbygkd3JhcHBlcik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZ2V0VmFsQnlDb21tYVNlcGFyYXRvcigkZWwpIHtcclxuICAgICAgICByZXR1cm4gJGVsLnZhbCgpXHJcbiAgICAgICAgICAgICAgICAudHJpbSgpXHJcbiAgICAgICAgICAgICAgICAuc3BsaXQoJywnKVxyXG4gICAgICAgICAgICAgICAgLm1hcChpID0+IGkudHJpbSgpLnJlcGxhY2UoJ+KGtScsICcnKSlcclxuICAgICAgICAgICAgICAgIC5maWx0ZXIoaSA9PiBpLmxlbmd0aCA+IDApXHJcbiAgICAgICAgICAgIDtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIGNmZyA9eyBsb2dzU3RhdGUsIGNiRk4oKSB9XHJcbiAgICAgKi9cclxuICAgIGZ1bmN0aW9uIGFkZERyb3Bkb3duKCR3cmFwcGVyLCBpdGVtcywgY2ZnKSB7XHJcbiAgICAgICAgY29uc3Qge3RleHRSdXNBcnJheSwgbG9nc1N0YXRlfSA9IGNmZztcclxuICAgICAgICBjb25zdCB7c2VsZWN0Q2xzTG9nc1Rhc2tUeXBlfSA9IGxvZ3NTdGF0ZTtcclxuICAgICAgICBjb25zdCBsYWJlbCA9ICfQktGL0LHQtdGA0LjRgtC1INGC0LjQvyc7XHJcbiAgICAgICAgY29uc3QgZ2V0UnVzID0gKGlkeCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBpc1RleHRVbmZvbGxvdyA9IHRleHRSdXNBcnJheSAmJiAhIXRleHRSdXNBcnJheS5sZW5ndGg7XHJcbiAgICAgICAgICAgIHN3aXRjaCAoaWR4KSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDAgOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAoaXNUZXh0VW5mb2xsb3cpID8gdGV4dFJ1c0FycmF5W2lkeF0gOiAn0J/QviDQv9C+0LTQv9C40YHRh9C40LrQsNC8JztcclxuICAgICAgICAgICAgICAgIGNhc2UgMSA6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChpc1RleHRVbmZvbGxvdykgPyB0ZXh0UnVzQXJyYXlbaWR4XSA6ICfQn9C+INCw0LrRgtC40LLQvdC+0Lkg0LDRg9C00LjRgtC+0YDQuNC4INC60L7QvdC60YPRgNC10L3RgtC+0LInO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAyIDpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKGlzVGV4dFVuZm9sbG93KSA/IHRleHRSdXNBcnJheVtpZHhdIDogJ2RlZmF1bHQgLSAoMyknO1xyXG4gICAgICAgICAgICAgICAgZGVmYXVsdDogcmV0dXJuICdkZWZhdWx0JztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgJHdyYXBwZXIuZW1wdHkoKS5hZGRDbGFzcygnYm9yZGVyLWxpZ2h0LWNvbG9yJyk7XHJcbiAgICAgICAgJChgPGRpdiBjbGFzcz1cIlwiPiR7bGFiZWx9PC9kaXY+PHNlbGVjdCBuYW1lPVwidGFzay1zdWJ0eXBlXCIgY2xhc3M9XCIke3NlbGVjdENsc0xvZ3NUYXNrVHlwZX1cIj48L3NlbGVjdD5gKS5hcHBlbmRUbygkd3JhcHBlcik7XHJcbiAgICAgICAgaWYgKCFpdGVtcy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoY2ZnLmlzUmVuZGVyRW1wdHlPcHRpb24pIHtcclxuICAgICAgICAgICAgJCgnPG9wdGlvbiBjbGFzcz1cImxpc3QtZ3JvdXAtaXRlbSBweS0yIGpzX2VtcHR5LXN1YnR5cGVcIiB2YWx1ZT1cIi0tLVwiPi0tLTwvb3B0aW9uPicpLmFwcGVuZFRvKCQoYC4ke3NlbGVjdENsc0xvZ3NUYXNrVHlwZX1gKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGl0ZW1zLmZvckVhY2goKG5hbWUsIGlkeCkgPT4ge1xyXG4gICAgICAgICAgICAkKGA8b3B0aW9uIGNsYXNzPVwibGlzdC1ncm91cC1pdGVtIHB5LTJcIiB2YWx1ZT1cIiR7bmFtZX1cIj5cclxuICAgICAgICAgICAgICAgICR7Z2V0UnVzKGlkeCl9XHJcbiAgICAgICAgICAgIDwvb3B0aW9uPmApLmFwcGVuZFRvKCQoYC4ke3NlbGVjdENsc0xvZ3NUYXNrVHlwZX1gKSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgaWYgKGNmZy5kcm9wZG93bk9uU2VsZWN0Q2IpIHtcclxuICAgICAgICAgICAgJChgLiR7c2VsZWN0Q2xzTG9nc1Rhc2tUeXBlfWApLm9uKCdjaGFuZ2UnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBjZmcuZHJvcGRvd25PblNlbGVjdENiKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIHNob3dJbmZvTWVzc2FnZSxcclxuICAgICAgICBmaWxsTGlzdCxcclxuICAgICAgICBmaWxsUmFkaW9Hcm91cExpc3QsXHJcbiAgICAgICAgaXNFbWFpbCxcclxuICAgICAgICBnZXRGb3JtYXR0ZWREYXRlVXRpbCxcclxuICAgICAgICBnZXRWYWxCeUNvbW1hU2VwYXJhdG9yLFxyXG4gICAgICAgIGFkZERyb3Bkb3duXHJcbiAgICB9O1xyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCB2aWV3VXRpbHMoKTtcclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2NvbW1vbi9qcy1zZXJ2aWNlcy92aWV3LmpzIiwiLy8gaW1wb3J0ICQgZnJvbSAnanF1ZXJ5JztcclxuaW1wb3J0IHtDT05TVH0gZnJvbSAnLi9jb25zdHMnO1xyXG5pbXBvcnQgTmV0d29yayBmcm9tICcuL25ldHdvcmsnO1xyXG5pbXBvcnQgQ29va2llU3RvcmFnZSBmcm9tICcuL2Nvb2tpZSc7XHJcblxyXG5jb25zdCBvYmpUb0FyciA9IChvYmopID0+IHtcclxuICAgIGlmIChvYmogJiYgb2JqLnN1YnR5cGUpIHtcclxuICAgICAgICBpZiAoIW9iai5zdWJ0eXBlLmluY2x1ZGVzKCdzdWJ0eXBlLycpKSB7XHJcbiAgICAgICAgICAgIG9iai5zdWJ0eXBlID0gYHN1YnR5cGUvJHtvYmouc3VidHlwZX1gO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBPYmplY3QudmFsdWVzKG9iaik7XHJcbn07XHJcblxyXG5jbGFzcyBVc2VyVGFza01hbmFnZXIge1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRoaXMubmV0d29yayA9IG5ldyBOZXR3b3JrKCk7XHJcbiAgICAgICAgdGhpcy5jb29raWVTdG9yYWdlID0gQ29va2llU3RvcmFnZTtcclxuICAgICAgICB0aGlzLnNldHRpbmdQb3N0ID0ge1xyXG4gICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcclxuICAgICAgICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcclxuICAgICAgICAgICAgICAgICdBY2NlcHQnOiAnYXBwbGljYXRpb24vanNvbidcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy5wb3N0U3RhcnRGb2xsb3dpbmdMaXN0ID0gdGhpcy5wb3N0U3RhcnRGb2xsb3dpbmdMaXN0O1xyXG4gICAgICAgIHRoaXMucG9zdFN0YXJ0VGFzayA9IHRoaXMucG9zdFN0YXJ0VGFzaztcclxuICAgIH1cclxuXHJcbiAgICAvLyBpc0xvZ2dlZEluKCkge1xyXG4gICAgLy8gICAgIHJldHVybiAhIXRoaXMuZ2V0VG9rZW4oKTtcclxuICAgIC8vIH1cclxuICAgIC8vXHJcbiAgICAvLyBpc0VtYWlsQ29uZmlybWVkKCkge1xyXG4gICAgLy8gICAgIHJldHVybiAodGhpcy5jb29raWVTdG9yYWdlLmdldChDT05TVC5jb29raWVTdG9yYWdlLmVtYWlsQ29uZmlybWVkKSA9PT0gJ2NvbmZpcm1lZCcpO1xyXG4gICAgLy8gfVxyXG4gICAgZ2V0VG9rZW4oYXNIZWFkZXIpIHtcclxuICAgICAgICBjb25zdCBjb29raWVUb2tlbiA9IHRoaXMuY29va2llU3RvcmFnZS5nZXQoQ09OU1QuY29va2llU3RvcmFnZS50b2tlbik7XHJcbiAgICAgICAgcmV0dXJuIChhc0hlYWRlcikgPyB7aGVhZGVyczoge3Rva2VuOiBjb29raWVUb2tlbn19IDogY29va2llVG9rZW47XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0TWV0YWRhdGEocGF0aCwgY2JFcnJvcikge1xyXG4gICAgICAgIGNvbnN0IHBhdGhBcnIgPSBvYmpUb0FycihwYXRoKTtcclxuICAgICAgICByZXR1cm4gdGhpcy5uZXR3b3JrLnNlbmRSZXF1ZXN0KGAke0NPTlNULmdldFBhdGhCeUFycignaW5zdGFncmFtVGFza01hbmFnZXJfZ2V0VGFza0J5VHlwZXMnLCBwYXRoQXJyKX1gLFxyXG4gICAgICAgICAgICB0aGlzLmdldFRva2VuKCdhc0hlYWRlcicpLCBjYkVycm9yKTtcclxuICAgIH1cclxuICAgIGdldE1ldGFkYXRhTGF6eShwYXRoLCBjYkVycm9yKSB7XHJcbiAgICAgICAgY29uc3QgcGF0aEFyciA9IG9ialRvQXJyKHBhdGgpO1xyXG4gICAgICAgIHBhdGhBcnIucHVzaCgnP2xhenk9dHJ1ZScpO1xyXG4gICAgICAgIHJldHVybiB0aGlzLm5ldHdvcmsuc2VuZFJlcXVlc3QoYCR7Q09OU1QuZ2V0UGF0aEJ5QXJyKCdpbnN0YWdyYW1UYXNrTWFuYWdlcl9nZXRUYXNrQnlUeXBlcycsIHBhdGhBcnIpfWAsXHJcbiAgICAgICAgICAgIHRoaXMuZ2V0VG9rZW4oJ2FzSGVhZGVyJyksIGNiRXJyb3IpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldFRhc2tUeXBlcyhkZXRhaWxzLCBjYkVycm9yKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubmV0d29yay5zZW5kUmVxdWVzdChgJHtDT05TVC5nZXRQYXRoKCdpbnN0YWdyYW1UYXNrTWFuYWdlcl9nZXRUYXNrVHlwZXMnKX1gLFxyXG4gICAgICAgICAgICB0aGlzLmdldFRva2VuKCdhc0hlYWRlcicpLCBjYkVycm9yKTtcclxuICAgIH1cclxuXHJcbiAgICBzdG9wVGFza0J5SUQodGFza0lkLCBjYkVycm9yKSB7XHJcbiAgICAgICAgY29uc3Qgc2V0dGluZyA9IHtcclxuICAgICAgICAgICAgLi4udGhpcy5zZXR0aW5nUG9zdCxcclxuICAgICAgICAgICAgbWV0aG9kOiAnUFVUJyxcclxuICAgICAgICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICAgICAgICAgLi4udGhpcy5zZXR0aW5nUG9zdC5oZWFkZXJzLFxyXG4gICAgICAgICAgICAgICAgJ3Rva2VuJzogdGhpcy5nZXRUb2tlbigpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIGNvbnN0IHVybCA9IENPTlNULmdldFBhdGgoJ2luc3RhZ3JhbVRhc2tNYW5hZ2VyX3B1dFN0b3BUYXNrQnlJRCcsIHRhc2tJZCk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubmV0d29yay5zZW5kUmVxdWVzdCh1cmwsXHJcbiAgICAgICAgICAgIHNldHRpbmcsIGNiRXJyb3IpO1xyXG4gICAgfVxyXG5cclxuICAgIGRlbGV0ZVRhc2tCeUlEKHRhc2tJZCwgY2JFcnJvcikge1xyXG4gICAgICAgIGNvbnN0IHNldHRpbmcgPSB7XHJcbiAgICAgICAgICAgIC4uLnRoaXMuc2V0dGluZ1Bvc3QsXHJcbiAgICAgICAgICAgIG1ldGhvZDogJ0RFTEVURScsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAgICAgICAgIC4uLnRoaXMuc2V0dGluZ1Bvc3QuaGVhZGVycyxcclxuICAgICAgICAgICAgICAgICd0b2tlbic6IHRoaXMuZ2V0VG9rZW4oKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICBjb25zdCB1cmwgPSBDT05TVC5nZXRQYXRoKCdpbnN0YWdyYW1UYXNrTWFuYWdlcl9kZWxSZW1vdmVUYXNrQnlJRCcsIHRhc2tJZCk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubmV0d29yay5zZW5kUmVxdWVzdCh1cmwsXHJcbiAgICAgICAgICAgIHNldHRpbmcsIGNiRXJyb3IpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldERlZmF1bHRDb25maWdzKHBhdGgsIGNiRXJyb3IpIHtcclxuICAgICAgICBjb25zdCB1cmwgPSBgJHtDT05TVC5nZXRQYXRoKCdpbnN0YWdyYW1UYXNrTWFuYWdlcl9nZXREZWZhdWx0Q29uZmlncycpfS8ke3BhdGgudHlwZX0vc3VidHlwZS8ke3BhdGguc3VidHlwZX1gO1xyXG4gICAgICAgIHJldHVybiB0aGlzLm5ldHdvcmsuc2VuZFJlcXVlc3QodXJsLFxyXG4gICAgICAgICAgICB0aGlzLmdldFRva2VuKCdhc0hlYWRlcicpLCBjYkVycm9yKTtcclxuICAgIH1cclxuXHJcbiAgICBwb3N0U3RhcnRGb2xsb3dpbmdMaXN0KGJvZHksIGNiRXJyb3IsIHBhdGgpIHtcclxuICAgICAgICBjb25zdCBzZXR0aW5nID0ge1xyXG4gICAgICAgICAgICAuLi50aGlzLnNldHRpbmdQb3N0LFxyXG4gICAgICAgICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgICAgICAgICAuLi50aGlzLnNldHRpbmdQb3N0LmhlYWRlcnMsXHJcbiAgICAgICAgICAgICAgICAndG9rZW4nOiB0aGlzLmdldFRva2VuKCksXHJcbiAgICAgICAgICAgICAgICAnWC1BdXRoLVRva2VuJzogJ2UyZjQzMzZhYmVhNDQwNDg5YzUxYzVjMTAyOTRlYTEyJ1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICBzZXR0aW5nLmJvZHkgPSBKU09OLnN0cmluZ2lmeShib2R5KTtcclxuICAgICAgICBjb25zdCB1cmwgPSBwYXRoID8gYCR7Q09OU1QuZ2V0UGF0aChwYXRoKX1gIDogYCR7Q09OU1QuZ2V0UGF0aCgnaW5zdGFncmFtVGFza01hbmFnZXJfcG9zdFN0YXJ0Rm9sbG93aW5nTGlzdCcpfWA7XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzLm5ldHdvcmsuc2VuZFJlcXVlc3QodXJsLFxyXG4gICAgICAgICAgICBzZXR0aW5nLCBjYkVycm9yKTtcclxuICAgIH1cclxuXHJcbiAgICBwb3N0U3RhcnRUYXNrKGJvZHksIGNiRXJyb3IpIHtcclxuICAgICAgICBjb25zdCBwYXRoID0gJ2luc3RhZ3JhbVRhc2tNYW5hZ2VyX3Bvc3RTdGFydFRhc2snO1xyXG4gICAgICAgIHJldHVybiB0aGlzLnBvc3RTdGFydEZvbGxvd2luZ0xpc3QoYm9keSwgY2JFcnJvciwgcGF0aCk7XHJcbiAgICB9XHJcbiAgICBwb3N0U3RhcnRDb21tZW50cyhib2R5LCBjYkVycm9yKSB7XHJcbiAgICAgICAgY29uc3QgcGF0aCA9ICdpbnN0YWdyYW1UYXNrTWFuYWdlcl9wb3N0U3RhcnRUYXNrJztcclxuICAgICAgICByZXR1cm4gdGhpcy5wb3N0U3RhcnRGb2xsb3dpbmdMaXN0KGJvZHksIGNiRXJyb3IsIHBhdGgpO1xyXG4gICAgfVxyXG4gICAgcG9zdEltYWdlQXV0b21lc3NhZ2VzKGJvZHksIGNiRXJyb3IpIHtcclxuICAgICAgICBjb25zdCBzZXR0aW5nID0ge1xyXG4gICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcclxuICAgICAgICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICAgICAgICAgJ3Rva2VuJzogdGhpcy5nZXRUb2tlbigpLFxyXG4gICAgICAgICAgICAgICAgJ0FjY2VwdCc6ICdhcHBsaWNhdGlvbi9qc29uJyxcclxuICAgICAgICAgICAgICAgICdDb250ZW50LXR5cGUnOiAnbXVsdGlwYXJ0L2Zvcm0tZGF0YSdcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgc2V0dGluZy5ib2R5ID0gSlNPTi5zdHJpbmdpZnkoYm9keSk7XHJcbiAgICAgICAgY29uc3QgdXJsID0gYCR7Q09OU1QuZ2V0UGF0aCgnaW5zdGFncmFtVGFza01hbmFnZXJfcG9zdEltYWdlQXR0YWNobWVudCcpfWA7XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzLm5ldHdvcmsuc2VuZFJlcXVlc3QodXJsLFxyXG4gICAgICAgICAgICBzZXR0aW5nLCBjYkVycm9yKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRMb2dzQ2hhdEJvdChwYXRoQXJyYXksIHBhZ2UsIGNiRXJyb3IpIHtcclxuICAgICAgICAvLyBjb25zdCBwYXRoQXJyID0gb2JqVG9BcnIocGF0aCk7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coJ2NvbnZlcnQgcGF0aCBhcyBBUlInLCBwYXRoQXJyYXksIHBhZ2UpO1xyXG4gICAgICAgIHJldHVybiB0aGlzLm5ldHdvcmsuc2VuZFJlcXVlc3QoYCR7Q09OU1QuZ2V0UGF0aEJ5QXJyKCdpbnN0YWdyYW1UYXNrTWFuYWdlcl9nZXRMb2dzQ2hhdEJvdCcsIHBhdGhBcnJheSwgcGFnZSl9YCxcclxuICAgICAgICAgICAgdGhpcy5nZXRUb2tlbignYXNIZWFkZXInKSwgY2JFcnJvcik7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0UG9zdHNBdXRvbWVzc2FnZXMoZGV0YWlscywgY2JFcnJvcikge1xyXG4gICAgICAgIGNvbnN0IGN1cnNvciA9IChkZXRhaWxzLmN1cnNvcikgPyBgP2N1cnNvcj0ke2RldGFpbHMuY3Vyc29yfWAgOiAnJztcclxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcGFyYW0tcmVhc3NpZ25cclxuICAgICAgICBjb25zdCB1cmxCeVVzZXJOYW1lID0gYCR7Q09OU1QuZ2V0UGF0aCgnaW5zdGFncmFtVGFza01hbmFnZXJfZ2V0UG9zdHMnLCBkZXRhaWxzLnVzZXJOYW1lIHx8ICd1c2VyX25vdF9zZWxlY3RlZCcpfSR7Y3Vyc29yfWA7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubmV0d29yay5zZW5kUmVxdWVzdCh1cmxCeVVzZXJOYW1lLFxyXG4gICAgICAgICAgICB0aGlzLmdldFRva2VuKCdhc0hlYWRlcicpLCBjYkVycm9yKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRTdG9yaWVzQ29uZmlnKHBhdGgsIGNiRXJyb3IpIHtcclxuICAgICAgICBjb25zdCB1cmwgPSBgJHtDT05TVC5nZXRQYXRoKCdpbnN0YWdyYW1UYXNrTWFuYWdlcl9nZXREZWZhdWx0Q29uZmlncycpfS8ke3BhdGgudHlwZX0vc3VidHlwZS8ke3BhdGguc3VidHlwZX1gO1xyXG4gICAgICAgIHJldHVybiB0aGlzLm5ldHdvcmsuc2VuZFJlcXVlc3QodXJsLFxyXG4gICAgICAgICAgdGhpcy5nZXRUb2tlbignYXNIZWFkZXInKSwgY2JFcnJvcik7XHJcbiAgICB9XHJcblxyXG59XHJcblxyXG5sZXQgdXNlckluc3RhbmNlID0gbnVsbDtcclxuXHJcbmlmICghdXNlckluc3RhbmNlKSB7XHJcbiAgICB1c2VySW5zdGFuY2UgPSBuZXcgVXNlclRhc2tNYW5hZ2VyKCk7XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IHVzZXJJbnN0YW5jZTtcclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2NvbW1vbi9qcy1zZXJ2aWNlcy9hcGktdGFzay1tYW5hZ2VyLmpzIiwiLy8gaW1wb3J0ICQgZnJvbSAnanF1ZXJ5JztcclxuaW1wb3J0IHtDT05TVH0gZnJvbSAnLi9jb25zdHMnO1xyXG5pbXBvcnQgTmV0d29yayBmcm9tICcuL25ldHdvcmsnO1xyXG5pbXBvcnQgQ29va2llU3RvcmFnZSBmcm9tICcuL2Nvb2tpZSc7XHJcblxyXG5jbGFzcyBVc2VyIHtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB0aGlzLm5ldHdvcmsgPSBuZXcgTmV0d29yaygpO1xyXG4gICAgICAgIHRoaXMuY29va2llU3RvcmFnZSA9IENvb2tpZVN0b3JhZ2U7XHJcbiAgICAgICAgdGhpcy5zZXR0aW5nUG9zdCA9IHtcclxuICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXHJcbiAgICAgICAgICAgICAgICAnQWNjZXB0JzogJ2FwcGxpY2F0aW9uL2pzb24nXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIGlzTG9nZ2VkSW4oKSB7XHJcbiAgICAgICAgcmV0dXJuICEhdGhpcy5nZXRUb2tlbigpO1xyXG4gICAgfVxyXG5cclxuICAgIGlzRW1haWxDb25maXJtZWQoKSB7XHJcbiAgICAgICAgcmV0dXJuICh0aGlzLmNvb2tpZVN0b3JhZ2UuZ2V0KENPTlNULmNvb2tpZVN0b3JhZ2UuZW1haWxDb25maXJtZWQpID09PSAnY29uZmlybWVkJyk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0VG9rZW4oYXNIZWFkZXIpIHtcclxuICAgICAgICBjb25zdCBjb29raWVUb2tlbiA9IHRoaXMuY29va2llU3RvcmFnZS5nZXQoQ09OU1QuY29va2llU3RvcmFnZS50b2tlbik7XHJcbiAgICAgICAgcmV0dXJuIChhc0hlYWRlcikgPyB7aGVhZGVyczoge3Rva2VuOiBjb29raWVUb2tlbn19IDogY29va2llVG9rZW47XHJcbiAgICB9XHJcblxyXG4gICAgbG9naW4oZm9ybURhdGEsIGNiRXJyb3IpIHtcclxuICAgICAgICBjb25zdCBzZXR0aW5nID0gey4uLnRoaXMuc2V0dGluZ1Bvc3QsIGJvZHk6IEpTT04uc3RyaW5naWZ5KGZvcm1EYXRhKX07XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubmV0d29yay5zZW5kUmVxdWVzdChDT05TVC5nZXRQYXRoKCdsb2dpbicpLCBzZXR0aW5nLCBjYkVycm9yKTtcclxuICAgIH1cclxuXHJcbiAgICBhZGRJbnN0YWdyYW1BY2NvdW50KGZvcm1EYXRhLCBjYkVycm9yKSB7XHJcbiAgICAgICAgY29uc3Qge3VzZXJuYW1lLCBwYXNzd29yZCwgaXAsIHBvcnQsIHVzZXJuYW1lUHJveHksIHBhc3N3b3JkUHJveHl9ID0gZm9ybURhdGE7XHJcblxyXG4gICAgICAgIC8vIFRPRE86IGRlbCBwcm94eVRNUCBhZnRlciBiZXRhLXRlc3RpbmdcclxuICAgICAgICBjb25zdCBwcm94eVRNUCA9IHtcclxuICAgICAgICAgICAgJ3Byb3h5Jzoge1xyXG4gICAgICAgICAgICAgICAgJ2hvc3QnOiBpcCxcclxuICAgICAgICAgICAgICAgIHBvcnQsXHJcbiAgICAgICAgICAgICAgICB1c2VybmFtZTogdXNlcm5hbWVQcm94eSxcclxuICAgICAgICAgICAgICAgIHBhc3N3b3JkOiBwYXNzd29yZFByb3h5XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIGNvbnN0IGJvZHkgPSBKU09OLnN0cmluZ2lmeSh7dXNlcm5hbWUsXHJcbiAgICAgICAgICAgIHBhc3N3b3JkLFxyXG4gICAgICAgICAgICAuLi5wcm94eVRNUCAvLyBUT0RPOiBkZWwgcHJveHlUTVAgYWZ0ZXIgYmV0YS10ZXN0aW5nXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgY29uc3Qgc2V0dGluZyA9IHtcclxuICAgICAgICAgICAgLi4udGhpcy5zZXR0aW5nUG9zdCxcclxuICAgICAgICAgICAgYm9keSxcclxuICAgICAgICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICAgICAgICAgLi4udGhpcy5zZXR0aW5nUG9zdC5oZWFkZXJzLFxyXG4gICAgICAgICAgICAgICAgdG9rZW46IHRoaXMuZ2V0VG9rZW4oKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXMubmV0d29yay5zZW5kUmVxdWVzdChDT05TVC5nZXRQYXRoKCdpbnN0YWdyYW1fYWRkQWNjb3VudCcpLCBzZXR0aW5nLCBjYkVycm9yKTtcclxuICAgIH1cclxuICAgIGVkaXRJbnN0YWdyYW1BY2NvdW50KHVzZXJuYW1lLCBib2R5KSB7XHJcbiAgICAgICAgY29uc3Qgc2V0dGluZyA9IHtcclxuICAgICAgICAgICAgbWV0aG9kOiAnUFVUJyxcclxuICAgICAgICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICAgICAgICAgLi4udGhpcy5zZXR0aW5nUG9zdC5oZWFkZXJzLFxyXG4gICAgICAgICAgICAgICAgJ3Rva2VuJzogdGhpcy5nZXRUb2tlbigpXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGJvZHlcclxuICAgICAgICB9O1xyXG4gICAgICAgIGNvbnN0IHVybCA9IGAke0NPTlNULmdldFBhdGgoJ2luc3RhZ3JhbV9tb2RpZnlBY2NvdW50JywgdXNlcm5hbWUpfWA7XHJcbiAgICAgICAgY29uc29sZS5sb2codXJsKTtcclxuICAgICAgICByZXR1cm4gdGhpcy5uZXR3b3JrLnNlbmRSZXF1ZXN0KGAke0NPTlNULmdldFBhdGgoJ2luc3RhZ3JhbV9tb2RpZnlBY2NvdW50JywgdXNlcm5hbWUpfWAsIHNldHRpbmcpO1xyXG4gICAgfVxyXG4gICAgdXBkYXRlSW5zdGFncmFtQWNjb3VudCh1c2VybmFtZSwgYm9keSkge1xyXG4gICAgICAgIGNvbnN0IHNldHRpbmcgPSB7XHJcbiAgICAgICAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAgICAgICAgIC4uLnRoaXMuc2V0dGluZ1Bvc3QuaGVhZGVycyxcclxuICAgICAgICAgICAgICAgICd0b2tlbic6IHRoaXMuZ2V0VG9rZW4oKVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBib2R5XHJcbiAgICAgICAgfTtcclxuICAgICAgICAvLyBjb25zdCB1cmwgPSBgJHtDT05TVC5nZXRQYXRoKCdpbnN0YWdyYW1fbW9kaWZ5QWNjb3VudCcsIHVzZXJuYW1lKX1gO1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKHVybCk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubmV0d29yay5zZW5kUmVxdWVzdChgJHtDT05TVC5nZXRQYXRoKCdpbnN0YWdyYW1fZ2V0QWNjb3VudEJ5VXNlcicsIHVzZXJuYW1lKX1gLCBzZXR0aW5nKTtcclxuICAgIH1cclxuICAgIGRlbEluc3RhZ3JhbUFjY291bnQodXNlcm5hbWUpIHtcclxuICAgICAgICBjb25zdCBzZXR0aW5nID0ge1xyXG4gICAgICAgICAgICBtZXRob2Q6ICdERUxFVEUnLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgICAgICAgICAuLi50aGlzLnNldHRpbmdQb3N0LmhlYWRlcnMsXHJcbiAgICAgICAgICAgICAgICAndG9rZW4nOiB0aGlzLmdldFRva2VuKClcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubmV0d29yay5zZW5kUmVxdWVzdChgJHtDT05TVC5nZXRQYXRoKCdpbnN0YWdyYW1fbW9kaWZ5QWNjb3VudCcsIHVzZXJuYW1lKX1gLCBzZXR0aW5nKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBnZXRJbnN0YWdyYW1BY2NvdW50KCkge1xyXG4gICAgLy8gICAgIGNvbnN0IHNldHRpbmcgPSB7XHJcbiAgICAvLyAgICAgICAgIC4uLnRoaXMuc2V0dGluZ1Bvc3QsXHJcbiAgICAvLyAgICAgICAgIG1ldGhvZDogJ0dFVCcsXHJcbiAgICAvLyAgICAgICAgIGhlYWRlcnM6IHtcclxuICAgIC8vICAgICAgICAgICAgIC4uLnRoaXMuc2V0dGluZ1Bvc3QuaGVhZGVycyxcclxuICAgIC8vICAgICAgICAgICAgIHRva2VuOiB0aGlzLmdldFRva2VuKClcclxuICAgIC8vICAgICAgICAgfVxyXG4gICAgLy8gICAgIH07XHJcbiAgICAvLyAgICAgcmV0dXJuIHRoaXMubmV0d29yay5zZW5kUmVxdWVzdChDT05TVC5nZXRQYXRoKCdpbnN0YWdyYW1fYWRkQWNjb3VudCcpLCBzZXR0aW5nKTtcclxuICAgIC8vIH1cclxuXHJcbiAgICBjb25maXJtKHRva2VuKSB7XHJcbiAgICAgICAgLy8gY29uc3QgY29uZmlybVVybCA9IENPTlNULmdldFBhdGgoJ2NvbmZpcm1hdGlvbicpO1xyXG4gICAgICAgIHJldHVybiB0aGlzLm5ldHdvcmsuc2VuZFJlcXVlc3QoYCR7Q09OU1QuZ2V0UGF0aCgnY29uZmlybWF0aW9uJykgKyB0b2tlbn1gKTtcclxuICAgIH1cclxuXHJcbiAgICByZWdpc3Rlcihmb3JtRGF0YSkge1xyXG4gICAgICAgIGNvbnN0IHNldHRpbmcgPSB7XHJcbiAgICAgICAgICAgIC4uLnRoaXMuc2V0dGluZ1Bvc3QsXHJcbiAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGZvcm1EYXRhKVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubmV0d29yay5zZW5kUmVxdWVzdChDT05TVC5nZXRQYXRoKCdyZWdpc3RyYXRpb24nKSwgc2V0dGluZyk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gdG9kbzogbW92ZSB0byBhY2NvdW50LWxpc3RcclxuICAgIGdldE1ldGFkYXRhKGNiRXJyb3IpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5uZXR3b3JrLnNlbmRSZXF1ZXN0KGAke0NPTlNULmdldFBhdGgoJ2luc3RhZ3JhbUFjY291bnRfZ2V0TWV0YURhdGEnKX1gLFxyXG4gICAgICAgICAgICB0aGlzLmdldFRva2VuKCdhc0hlYWRlcicpLCBjYkVycm9yKTtcclxuICAgIH1cclxuICAgIGdldE1ldGFkYXRhTGF6eShjYkVycm9yKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubmV0d29yay5zZW5kUmVxdWVzdChgJHtDT05TVC5nZXRQYXRoKCdpbnN0YWdyYW1BY2NvdW50X2dldE1ldGFEYXRhJyl9P2xhenk9dHJ1ZWAsXHJcbiAgICAgICAgICAgIHRoaXMuZ2V0VG9rZW4oJ2FzSGVhZGVyJyksIGNiRXJyb3IpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldFNlY3VyaXR5S2V5KHVzZXJuYW1lLCBjaGVja3BvaW50VHlwZSkge1xyXG4gICAgICAgIGNvbnN0IHNldHRpbmcgPSB7XHJcbiAgICAgICAgICAgIC4uLnRoaXMuc2V0dGluZ1Bvc3QsXHJcbiAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsndHlwZSc6IGNoZWNrcG9pbnRUeXBlfSksIC8vIHRvZG86IHRtcCBzZXQsIGl0IHNob3VsZCBiZSAndHlwZSdcclxuICAgICAgICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICAgICAgICAgLi4udGhpcy5zZXR0aW5nUG9zdC5oZWFkZXJzLFxyXG4gICAgICAgICAgICAgICAgJ3Rva2VuJzogdGhpcy5nZXRUb2tlbigpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIHJldHVybiB0aGlzLm5ldHdvcmsuc2VuZFJlcXVlc3QoYCR7Q09OU1QuZ2V0UGF0aCgnaW5zdGFncmFtQWNjb3VudF9jaGVja3BvaW50Jyl9JHt1c2VybmFtZX1gLCBzZXR0aW5nKTtcclxuICAgIH1cclxuXHJcbiAgICBjb25maXJtU2VjdXJpdHlLZXkoa2V5LCB1c2VybmFtZSkge1xyXG4gICAgICAgIGNvbnN0IHNldHRpbmcgPSB7XHJcbiAgICAgICAgICAgIG1ldGhvZDogJ0RFTEVURScsXHJcbiAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsnc2VjdXJpdHlfY29kZSc6IGtleX0pLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgICAgICAgICAuLi50aGlzLnNldHRpbmdQb3N0LmhlYWRlcnMsXHJcbiAgICAgICAgICAgICAgICAndG9rZW4nOiB0aGlzLmdldFRva2VuKClcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubmV0d29yay5zZW5kUmVxdWVzdChgJHtDT05TVC5nZXRQYXRoKCdpbnN0YWdyYW1BY2NvdW50X2NvbmZpcm1LZXknKX0ke3VzZXJuYW1lfWAsIHNldHRpbmcpO1xyXG4gICAgfVxyXG5cclxufVxyXG5cclxubGV0IHVzZXJJbnN0YW5jZSA9IG51bGw7XHJcblxyXG5pZiAoIXVzZXJJbnN0YW5jZSkge1xyXG4gICAgdXNlckluc3RhbmNlID0gbmV3IFVzZXIoKTtcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgdXNlckluc3RhbmNlO1xyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvY29tbW9uL2pzLXNlcnZpY2VzL3VzZXIuanMiLCJcclxuY29uc3QgQ29va2llU3J2ID0ge1xyXG4gICAgZ2V0OiBuYW1lID0+IHtcclxuICAgICAgICBjb25zdCBjID0gZG9jdW1lbnQuY29va2llLm1hdGNoKGAoPzooPzpefC4qOyAqKSR7bmFtZX0gKj0gKihbXjtdKikuKiQpfF4uKiRgKVsxXTtcclxuICAgICAgICBpZiAoYykge1xyXG4gICAgICAgICAgICByZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KGMpO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBzZXQ6IChuYW1lLCB2YWx1ZSwgb3B0cyA9IHtwYXRoOiAnLycsIGRheXM6IDM2NX0pID0+IHtcclxuICAgICAgICBpZiAob3B0cy5kYXlzKSB7XHJcbiAgICAgICAgICAgIG9wdHNbJ21heC1hZ2UnXSA9IG9wdHMuZGF5cyAqIDYwICogNjAgKiAyNDtcclxuICAgICAgICAgICAgZGVsZXRlIG9wdHMuZGF5cztcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXBhcmFtLXJlYXNzaWduXHJcbiAgICAgICAgb3B0cyA9IE9iamVjdC5lbnRyaWVzKG9wdHMpLnJlZHVjZSgoc3RyLCBbaywgdl0pID0+IGAke3N0cn07ICR7a309JHt2fWAsICcnKTtcclxuICAgICAgICBkb2N1bWVudC5jb29raWUgPSBgJHtuYW1lfT0ke2VuY29kZVVSSUNvbXBvbmVudCh2YWx1ZSkgKyBvcHRzfWA7XHJcbiAgICB9LFxyXG4gICAgcmVtb3ZlOiAobmFtZSwgb3B0cykgPT4gQ29va2llU3J2LnNldChuYW1lLCAnJywgeydtYXgtYWdlJzogLTEsIHBhdGg6ICcvJywgZGF5czogMCwgLi4ub3B0c30pXHJcbiAgICAvLyBwYXRoICYgZG9tYWluIG11c3QgbWF0Y2ggY29va2llIGJlaW5nIGRlbGV0ZWRcclxufTtcclxuXHJcbi8qXHJcbmNsYXNzIENvb2tpZVN0b3JhZ2Uge1xyXG4gICAgcmVhZChrZXkpIHtcclxuICAgICAgICBjb25zdCB2YWx1ZSA9ICQuY29va2llKGtleSk7XHJcbiAgICAgICAgcmV0dXJuIHZhbHVlID09PSB1bmRlZmluZWQgPyBudWxsIDogdmFsdWU7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0Q29va2llKG5hbWUsIHZhbHVlLCBkYXlzKSB7XHJcbiAgICAgICAgbGV0IGV4cGlyZXMgPSAnJztcclxuICAgICAgICBpZiAoZGF5cykge1xyXG4gICAgICAgICAgICBjb25zdCBkYXRlID0gbmV3IERhdGUoKTtcclxuICAgICAgICAgICAgZGF0ZS5zZXRUaW1lKGRhdGUuZ2V0VGltZSgpICsgKGRheXMgKiAyNCAqIDYwICogNjAgKiAxMDAwKSk7XHJcbiAgICAgICAgICAgIGV4cGlyZXMgPSBgOyBleHBpcmVzPSR7ZGF0ZS50b1VUQ1N0cmluZygpfWA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGRvY3VtZW50LmNvb2tpZSA9IGAke25hbWV9ID0keyh2YWx1ZSB8fCAnJykgKyBleHBpcmVzfTsgcGF0aD0vYDtcclxuICAgIH1cclxuXHJcbiAgICBnZXRDb29raWUobmFtZSkge1xyXG4gICAgICAgIGNvbnN0IHZhbHVlID0gYDsgJHtkb2N1bWVudC5jb29raWV9YDtcclxuICAgICAgICBjb25zdCBwYXJ0cyA9IHZhbHVlLnNwbGl0KGA7ICR7bmFtZX09YCk7XHJcbiAgICAgICAgaWYgKHBhcnRzLmxlbmd0aCA9PSAyKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBwYXJ0cy5wb3AoKS5zcGxpdCgnOycpLnNoaWZ0KCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbiovXHJcblxyXG5leHBvcnQgZGVmYXVsdCBDb29raWVTcnY7XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9jb21tb24vanMtc2VydmljZXMvY29va2llLmpzIiwiaW1wb3J0IFVzZXJUYXNrTWFuYWdlciBmcm9tICcuLi8uLi8uLi9jb21tb24vanMtc2VydmljZXMvYXBpLXRhc2stbWFuYWdlcic7XHJcbmltcG9ydCB2aWV3VXRpbHMgZnJvbSAnLi4vLi4vLi4vY29tbW9uL2pzLXNlcnZpY2VzL3ZpZXcnO1xyXG5pbXBvcnQge0NPTlNUfSBmcm9tICcuLi8uLi8uLi9jb21tb24vanMtc2VydmljZXMvY29uc3RzJztcclxuXHJcbmNvbnN0IG1vZGVSdXMgPSAobW9kZSkgPT4ge1xyXG4gICAgc3dpdGNoIChtb2RlKSB7XHJcbiAgICAgICAgY2FzZSAnQUdHUkVTU0lWRSc6XHJcbiAgICAgICAgICAgIHJldHVybiAn0JDQs9GA0LXRgdGB0LjQstC90YvQuSc7XHJcbiAgICAgICAgY2FzZSAnTUlERExFJzpcclxuICAgICAgICAgICAgcmV0dXJuICfQodGA0LXQtNC90LjQuSc7XHJcbiAgICAgICAgY2FzZSAnU0FGRSc6XHJcbiAgICAgICAgICAgIHJldHVybiAnINCR0LXQt9C+0L/QsNGB0L3Ri9C5JztcclxuICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICBicmVhaztcclxuICAgIH1cclxufTtcclxuXHJcbmZ1bmN0aW9uIGZpbGxMaXN0QnlTdGF0ZSh0YXNrU3RhdGUsICRsaXN0LCBpdGVtKSB7XHJcbiAgICBjb25zdCB7cHJvZ3Jlc3MsIGNyZWF0ZWRfYXQsIHRhc2tfaWQsIHR5cGUsIHN0YXR1cywgdXNlcm5hbWUsIG1vZGV9ID0gaXRlbTtcclxuICAgIGNvbnN0IGFkZEl0ZW0gPSAodHBsU3RvcCkgPT4ge1xyXG4gICAgICAgICQoYDxsaSBjbGFzcz1cImxpc3QtZ3JvdXAtaXRlbSBwLTAgcHktMlwiIGRhdGEtdHlwZT1cIiR7dHlwZX1cIiBkYXRhLXRhc2staWQ9XCIke3Rhc2tfaWR9XCI+XHJcbiAgICAgICAgICAgICAgICAke3RwbFN0b3B9XHJcbiAgICAgICAgICAgIDwvbGk+YCkuYXBwZW5kVG8oJGxpc3QpO1xyXG4gICAgfTtcclxuICAgIGNvbnN0IHRwbFBhdXNlZCA9IGA8ZGl2IGNsYXNzPVwiY2FyZC1ibG9ja1wiPlxyXG4gICAgICAgIDxoNCBjbGFzcz1cImNhcmQtdGl0bGVcIj7QndCwINC/0LDRg9C30LU8L2g0PlxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJ0ZXh0LXJpZ2h0XCI+XHJcbiAgICAgICAgICAgICR7KHByb2dyZXNzICYmIHByb2dyZXNzLnRpbWVzdGFtcCkgPyBgPHNwYW4gY2xhc3M9XCJ0ZXh0LW11dGVkXCI+JHt2aWV3VXRpbHMuZ2V0Rm9ybWF0dGVkRGF0ZVV0aWwocHJvZ3Jlc3MudGltZXN0YW1wKX08L3NwYW4+YCA6ICcnfVxyXG4gICAgICAgICAgICAke2NyZWF0ZWRfYXQgPyBgPHNwYW4gY2xhc3M9XCJ0ZXh0LW11dGVkXCI+JHt2aWV3VXRpbHMuZ2V0Rm9ybWF0dGVkRGF0ZVV0aWwoY3JlYXRlZF9hdCl9PC9zcGFuPmAgOiAnJ31cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8c3BhbiBjbGFzcz1cInRleHQtc3VjY2Vzc1wiPjEwJTwvc3Bhbj5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwicHJvZ3Jlc3MgbWItM1wiPlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwicHJvZ3Jlc3MtYmFyIGJnLXN1Y2Nlc3NcIiByb2xlPVwicHJvZ3Jlc3NiYXJcIiBzdHlsZT1cIndpZHRoOiAxMCU7IGhlaWdodDogNnB4O1wiIGFyaWEtdmFsdWVub3c9XCIyNVwiIGFyaWEtdmFsdWVtaW49XCIwXCIgYXJpYS12YWx1ZW1heD1cIjEwMFwiPjwvZGl2PlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDxidXR0b24gY2xhc3M9XCJidG4gYnRuLXdhcm5pbmcganNfYnRuLWRlbGV0ZS10YXNrXCI+0KPQtNCw0LvQuNGC0Yw8L2J1dHRvbj5gO1xyXG4gICAgY29uc3QgdHBsUHJvZ3Jlc3MgPSBgPGRpdiBjbGFzcz1cIm5vLWd1dHRlcnMgcHgtMiByb3cgdGFzay1wcm9ncmVzc1wiPlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLTYgYWxpZ24taXRlbXMtY2VudGVyIGQtZmxleFwiPlxyXG4gICAgICAgICAgICAgICAgPGltZyBzcmM9XCIke3Nlc3Npb25TdG9yYWdlLmdldEl0ZW0odXNlcm5hbWUpfVwiIGNsYXNzPVwicm91bmRlZC1jaXJjbGUgYXZhdGFyXCIgYWx0PVwi0LDQstCw0YLQsNGAXCIvPlxyXG4gICAgICAgICAgICAgICAgPGgyIGNsYXNzPVwibXQtMCBtYi0xIG1sLTJcIj4ke3VzZXJuYW1lfTwvaDI+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLTYgY29sLTYtLXdpdGgtYm9yZGVyc1wiPlxyXG4gICAgICAgICAgICAgICAgPHAgY2xhc3M9XCJwYi0xIG5hbWVcIj48Yj5JRDo8L2I+ICR7dGFza19pZH08L3A+XHJcbiAgICAgICAgICAgICAgICAke2NyZWF0ZWRfYXQgPyBgPHAgY2xhc3M9XCJwYi0xXCI+PGI+0JfQsNC/0YPRidC10L3Qvjo8L2I+ICR7dmlld1V0aWxzLmdldEZvcm1hdHRlZERhdGVVdGlsKGNyZWF0ZWRfYXQsICdzaG93RnVsbFRpbWUnKX08L3A+YCA6ICcnfVxyXG4gICAgICAgICAgICAgICAgJHttb2RlID8gYDxwIGNsYXNzPVwicGItMVwiPjxiPtCg0LXQttC40Lw6PC9iPiAke21vZGVSdXMobW9kZSl9PC9wPmAgOiAnJ31cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0ZXh0LWNlbnRlclwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJidG4gYnRuLW91dGxpbmUtcHJpbWFyeSBqc19idG4tc3RvcC10YXNrXCI+PGkgY2xhc3M9XCJmYXIgZmEtcGF1c2UtY2lyY2xlIGZhLWxnXCI+PC9pPjwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgIDwhLS1idXR0b24gY2xhc3M9XCJidG4gYnRuLXdhcm5pbmcganNfYnRuLWRlbGV0ZS10YXNrIG1sLTNcIj48aSBjbGFzcz1cImZhciBmYS10cmFzaC1hbHQgZmEtbGdcIj48L2k+PC9idXR0b24tLT5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L2Rpdj5gO1xyXG4gICAgY29uc3QgdHBsU3RvcCA9IGA8ZGl2IGNsYXNzPVwibm8tZ3V0dGVycyBweC0yIHJvdyB0YXNrLXN0b3BwZWRcIj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbC02IGFsaWduLWl0ZW1zLWNlbnRlciBkLWZsZXhcIj5cclxuICAgICAgICAgICAgICAgIDxpbWcgc3JjPVwiJHtzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKHVzZXJuYW1lKX1cIiBjbGFzcz1cInJvdW5kZWQtY2lyY2xlIGF2YXRhclwiIGFsdD1cItCw0LLQsNGC0LDRgFwiLz5cclxuICAgICAgICAgICAgICAgIDxoMiBjbGFzcz1cIm10LTAgbWItMSBtbC0yXCI+JHt1c2VybmFtZX08L2gyPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbC02IGNvbC02LS13aXRoLWJvcmRlcnNcIj5cclxuICAgICAgICAgICAgICAgIDxwIGNsYXNzPVwicGItMSBuYW1lXCI+PGI+SUQ6PC9iPiAke3Rhc2tfaWR9PC9wPlxyXG4gICAgICAgICAgICAgICAgJHsoaXRlbS5zdGF0dXMucmVhc29uKSA/IGA8cCBjbGFzcz1cIm15LTFcIj4ke3N0YXR1cy5yZWFzb259PC9wPmAgOiAnJ31cclxuICAgICAgICAgICAgICAgICR7Y3JlYXRlZF9hdCA/IGA8cCBjbGFzcz1cInBiLTFcIj48Yj7Ql9Cw0L/Rg9GJ0LXQvdC+OjwvYj4gJHt2aWV3VXRpbHMuZ2V0Rm9ybWF0dGVkRGF0ZVV0aWwoY3JlYXRlZF9hdCwgJ3Nob3dGdWxsVGltZScpfTwvcD5gIDogJyd9XHJcbiAgICAgICAgICAgICAgICAke21vZGUgPyBgPHAgY2xhc3M9XCJwYi0xXCI+PGI+0KDQtdC20LjQvDo8L2I+ICR7bW9kZVJ1cyhtb2RlKX08L3A+YCA6ICcnfVxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInRleHQtY2VudGVyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImJ0biBidG4td2FybmluZyBqc19idG4tZGVsZXRlLXRhc2tcIj48aSBjbGFzcz1cImZhciBmYS10cmFzaC1hbHQgZmEtbGdcIj48L2k+PC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgIDwvZGl2PmA7XHJcbiAgICBjb25zdCB0cGxGaW5pc2hlZCA9IGA8ZGl2IGNsYXNzPVwibm8tZ3V0dGVycyBweC0yIHJvdyB0YXNrLXByb2dyZXNzXCI+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtNiBhbGlnbi1pdGVtcy1jZW50ZXIgZC1mbGV4XCI+XHJcbiAgICAgICAgICAgICAgICA8aW1nIHNyYz1cIiR7c2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSh1c2VybmFtZSl9XCIgY2xhc3M9XCJyb3VuZGVkLWNpcmNsZSBhdmF0YXJcIiBhbHQ9XCLQsNCy0LDRgtCw0YBcIi8+XHJcbiAgICAgICAgICAgICAgICA8aDIgY2xhc3M9XCJtdC0wIG1iLTEgbWwtMlwiPiR7dXNlcm5hbWV9PC9oMj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtNiBjb2wtNi0td2l0aC1ib3JkZXJzXCI+XHJcbiAgICAgICAgICAgICAgICA8cCBjbGFzcz1cInBiLTEgbmFtZVwiPjxiPklEOjwvYj4gJHt0YXNrX2lkfTwvcD5cclxuICAgICAgICAgICAgICAgICR7Y3JlYXRlZF9hdCA/IGA8cCBjbGFzcz1cInBiLTFcIj48Yj7Ql9Cw0L/Rg9GJ0LXQvdC+OjwvYj4gJHt2aWV3VXRpbHMuZ2V0Rm9ybWF0dGVkRGF0ZVV0aWwoY3JlYXRlZF9hdCwgJ3Nob3dGdWxsVGltZScpfTwvcD5gIDogJyd9XHJcbiAgICAgICAgICAgICAgICAke21vZGUgPyBgPHAgY2xhc3M9XCJwYi0xXCI+PGI+0KDQtdC20LjQvDo8L2I+ICR7bW9kZVJ1cyhtb2RlKX08L3A+YCA6ICcnfVxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInRleHQtY2VudGVyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPCEtLTxidXR0b24gY2xhc3M9XCJidG4gYnRuLW91dGxpbmUtcHJpbWFyeSBqc19idG4tc3RvcC10YXNrXCI+PGkgY2xhc3M9XCJmYXIgZmEtcGF1c2UtY2lyY2xlIGZhLWxnXCI+PC9pPjwvYnV0dG9uPi0tPlxyXG4gICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJidG4gYnRuLXdhcm5pbmcganNfYnRuLWRlbGV0ZS10YXNrIG1sLTNcIj48aSBjbGFzcz1cImZhciBmYS10cmFzaC1hbHQgZmEtbGdcIj48L2k+PC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPC9kaXY+YDtcclxuICAgIHN3aXRjaCAodGFza1N0YXRlKSB7XHJcbiAgICAgICAgY2FzZSAnUEFVU0VEJzpcclxuICAgICAgICAgICAgYWRkSXRlbSh0cGxQYXVzZWQpO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlICdJTl9QUk9HUkVTUyc6XHJcbiAgICAgICAgICAgIGFkZEl0ZW0odHBsUHJvZ3Jlc3MpO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlICdHTE9CQUxfUEFVU0UnOlxyXG4gICAgICAgICAgICBhZGRJdGVtKHRwbFByb2dyZXNzKTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSAnU1RPUFBFRCc6XHJcbiAgICAgICAgICAgIGFkZEl0ZW0odHBsU3RvcCk7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgJ0ZJTklTSEVEJzpcclxuICAgICAgICAgICAgYWRkSXRlbSh0cGxGaW5pc2hlZCk7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBmaWxsTGlzdE1ldGEoJGxpc3QsIGl0ZW1zLyogLCBpc1J1bnMqLykge1xyXG4gICAgLy8gY29uc3QgZGVmYXVsdEF2YXRhclNyYyA9IENPTlNULnVzZXIuZGVmYXVsQXZhdGFyO1xyXG4gICAgJGxpc3QuZW1wdHkoKTtcclxuICAgIGlmICghaXRlbXMubGVuZ3RoKSB7XHJcbiAgICAgICAgJChgPGxpIGNsYXNzPVwibGlzdC1ncm91cC1pdGVtIHB5LTJcIj5cclxuICAgICAgICAgICAgICAgIDxwPtCd0LXRgiDQvdC4INC+0LTQvdC+0Lkg0LfQsNC00LDRh9C4LjwvcD5cclxuICAgICAgICAgICAgPC9saT5gKS5hcHBlbmRUbygkbGlzdCk7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgaXRlbXMuZm9yRWFjaCgoaXRlbSkgPT4ge1xyXG4gICAgICAgIC8vIGlmICgoaXRlbS5zdGF0dXMuc3RhdGUgPT09ICdTVE9QUEVEJyB8fCBpdGVtLnN0YXR1cy5zdGF0ZSA9PT0gJ0ZJTklTSEVEJykgJiYgIWlzUnVucykge1xyXG4gICAgICAgIC8vICAgICBmaWxsTGlzdEJ5U3RhdGUoaXRlbS5zdGF0dXMuc3RhdGUsICRsaXN0LCBpdGVtKTtcclxuICAgICAgICAvLyB9IGVsc2UgaWYgKChpdGVtLnN0YXR1cy5zdGF0ZSA9PT0gJ0lOX1BST0dSRVNTJyB8fCBpdGVtLnN0YXR1cy5zdGF0ZSA9PT0gJ1BBVVNFRCcpICYmIGlzUnVucykge1xyXG4gICAgICAgIC8vICAgICBmaWxsTGlzdEJ5U3RhdGUoaXRlbS5zdGF0dXMuc3RhdGUsICRsaXN0LCBpdGVtKTtcclxuICAgICAgICAvLyB9XHJcbiAgICAgICAgZmlsbExpc3RCeVN0YXRlKGl0ZW0uc3RhdHVzLnN0YXRlLCAkbGlzdCwgaXRlbSk7XHJcbiAgICB9KTtcclxuICAgIGlmICghJCgnbGknLCAkbGlzdCkubGVuZ3RoKSB7XHJcbiAgICAgICAgJChgPGxpIGNsYXNzPVwibGlzdC1ncm91cC1pdGVtIHB5LTJcIj5cclxuICAgICAgICAgICAgPHA+0J3QtdGCINC90Lgg0L7QtNC90L7QuSDQt9Cw0LTQsNGH0LguPC9wPlxyXG4gICAgICAgIDwvbGk+YCkuYXBwZW5kVG8oJGxpc3QpO1xyXG4gICAgfVxyXG59XHJcblxyXG4vKiBlc2xpbnQtZGlzYWJsZSBuby11c2UtYmVmb3JlLWRlZmluZSAqL1xyXG5mdW5jdGlvbiBpbml0SGFuZGxlcnMoaG9sZGVycywgcGF0aCkge1xyXG4gICAgY29uc3QgX3BhdGggPSBwYXRoIHx8IHtcclxuICAgICAgICB0eXBlOiBDT05TVC51cmwudG1UeXBlcy5mb2xsb3dpbmdULFxyXG4gICAgICAgIHN1YnR5cGU6IENPTlNULnVybC50bVR5cGVzLmZvbGxvd2luZ1N1YlRbMF1cclxuICAgIH07XHJcbiAgICBjb25zdCAkYnRuU3RvcFRhc2sgPSAkKCcuanNfYnRuLXN0b3AtdGFzaycpO1xyXG4gICAgY29uc3QgJGJ0bkRlbFRhc2sgPSAkKCcuanNfYnRuLWRlbGV0ZS10YXNrJyk7XHJcbiAgICBjb25zdCBnZXRUYXNrSUQgPSAoZSkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGJ0biA9ICQoZS50YXJnZXQpO1xyXG4gICAgICAgIHJldHVybiBidG4uY2xvc2VzdCgnbGknKS5kYXRhKCd0YXNrLWlkJyk7XHJcbiAgICB9O1xyXG5cclxuICAgICRidG5TdG9wVGFzay5vbignY2xpY2snLCAoZSkgPT4ge1xyXG4gICAgICAgIGNvbnN0IHRhc2tJZCA9IGdldFRhc2tJRChlKTtcclxuICAgICAgICBjb25zb2xlLmxvZygnU1RPUCBUYXNrIGlkJywgdGFza0lkKTtcclxuICAgICAgICBVc2VyVGFza01hbmFnZXIuc3RvcFRhc2tCeUlEKHRhc2tJZCkudGhlbigocmVzdWx0KSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3VsdCk7XHJcbiAgICAgICAgICAgIGdldFRhc2tzRGF0YShob2xkZXJzLCBfcGF0aCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAkYnRuRGVsVGFzay5vbignY2xpY2snLCAoZSkgPT4ge1xyXG4gICAgICAgIGNvbnN0IHRhc2tJZCA9IGdldFRhc2tJRChlKTtcclxuICAgICAgICBjb25zb2xlLmxvZygnREVMRVRFIGlkJywgdGFza0lkKTtcclxuICAgICAgICBVc2VyVGFza01hbmFnZXIuZGVsZXRlVGFza0J5SUQodGFza0lkKS50aGVuKChyZXN1bHQpID0+IHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2cocmVzdWx0KTtcclxuICAgICAgICAgICAgZ2V0VGFza3NEYXRhKGhvbGRlcnMsIF9wYXRoKTtcclxuICAgICAgICB9KTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0VGFza3NEYXRhKGhvbGRlcnMsIHBhdGgpIHtcclxuICAgIGNvbnN0IHsvKiAkcnVucywqLyRhbGx9ID0gaG9sZGVycztcclxuICAgIGNvbnN0IF9wYXRoID0gcGF0aCB8fCB7XHJcbiAgICAgICAgdHlwZTogQ09OU1QudXJsLnRtVHlwZXMuZm9sbG93aW5nVCxcclxuICAgICAgICBzdWJ0eXBlOiBDT05TVC51cmwudG1UeXBlcy5mb2xsb3dpbmdTdWJUWzBdXHJcbiAgICB9O1xyXG4gICAgVXNlclRhc2tNYW5hZ2VyLmdldE1ldGFkYXRhKF9wYXRoKS50aGVuKChyZXN1bHQpID0+IHtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZygnZ2V0TWV0YWRhdGEgJiBmaWxsTGlzdE1ldGEnLCByZXN1bHQpO1xyXG4gICAgICAgIGlmIChyZXN1bHQuc3RhdHVzLnN0YXRlID09PSAnb2snKSB7XHJcbiAgICAgICAgICAgIC8vIGZpbGxMaXN0TWV0YSgkcnVucywgcmVzdWx0LmRhdGEubWV0YSwgJ2lzUnVucycpO1xyXG4gICAgICAgICAgICBmaWxsTGlzdE1ldGEoJGFsbCwgcmVzdWx0LmRhdGEubWV0YSwgJ2lzQWxsJyk7XHJcbiAgICAgICAgICAgIGluaXRIYW5kbGVycyhob2xkZXJzLCBwYXRoKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEluaXRcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBpbml0KCkge1xyXG4gICAgY29uc3QgaG9sZGVycyA9IHtcclxuICAgICAgICAkcnVuczogJCgnLmZvbGxvdy10YXNrcy1ydW5zJyksXHJcbiAgICAgICAgJHN0b3BwZWQ6ICQoJy5mb2xsb3ctdGFza3Mtc3RvcHBlZCcpLFxyXG4gICAgICAgICRhbGw6ICQoJy5mb2xsb3ctdGFza3MtYWxsJylcclxuICAgIH07XHJcbiAgICBnZXRUYXNrc0RhdGEoaG9sZGVycyk7XHJcbiAgICB3aW5kb3cuUHViU3ViLnN1YnNjcmliZShDT05TVC5ldmVudHMudGFza3MuTkVXX1RBU0tfQ1JFQVRFRCwgKGV2ZW50TmFtZSwgZGF0YSkgPT4ge1xyXG4gICAgICAgIGNvbnN0IF9wYXRoID0ge1xyXG4gICAgICAgICAgICB0eXBlOiBDT05TVC51cmwudG1UeXBlcy5mb2xsb3dpbmdULFxyXG4gICAgICAgICAgICBzdWJ0eXBlOiBDT05TVC51cmwudG1UeXBlcy5mb2xsb3dpbmdTdWJUWzBdXHJcbiAgICAgICAgfTtcclxuICAgICAgICBnZXRUYXNrc0RhdGEoaG9sZGVycywgX3BhdGgpO1xyXG4gICAgfSk7XHJcbn1cclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2Jsb2Nrcy9fc2hhcmVkL3Rhc2stc3RhdHVzL3Rhc2stc3RhdHVzLmpzIiwiaW1wb3J0IHtDT05TVH0gZnJvbSAnLi4vLi4vY29tbW9uL2pzLXNlcnZpY2VzL2NvbnN0cyc7XHJcbi8vIGltcG9ydCAnYnJ1dHVzaW4tanNvbi1mb3Jtcyc7XHJcbmNvbnN0IHN0YXRlID0ge1xyXG4gICAgdXNlcm5hbWU6ICcnXHJcbn07XHJcbmNvbnN0IHdpemFyZEZvcm1TZWxlY3RvciA9ICcud2l6YXJkLWZvcm0nO1xyXG5cclxuLyoqXHJcbiAqIEluaXQgaGVhZGVyXHJcbiAqL1xyXG5mdW5jdGlvbiBpbml0U3RlcHMoZm9ybVNlbGVjdG9yLCB3aXphcmRDZmcpIHtcclxuICAgIGNvbnN0ICRmb3JtID0gJChmb3JtU2VsZWN0b3IpO1xyXG4gICAgY29uc3Qge3N0ZXBSZWR1Y2VyLCBvblN1Ym1pdEhhbmRsZXJ9ID0gd2l6YXJkQ2ZnO1xyXG4gICAgJCgnLmpzX3Byb2ZpbGUtdXNlci1mb2xsb3c+LmNvbnRhaW5lcicpLnJlbW92ZUNsYXNzKCdjb250YWluZXInKTtcclxuXHJcbiAgICAkZm9ybS5maW5kKCdmaWVsZHNldDpmaXJzdC1jaGlsZCcpLmZhZGVJbignc2xvdycpO1xyXG5cclxuICAgICRmb3JtLmZpbmQoJ2lucHV0W3R5cGU9XCJ0ZXh0XCJdJykub24oJ2ZvY3VzJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICQodGhpcykucmVtb3ZlQ2xhc3MoJ2lucHV0LWVycm9yJyk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBuZXh0IHN0ZXBcclxuICAgICRmb3JtLmZpbmQoJy5idG4tbmV4dCcpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBjb25zdCBwYXJlbnRfZmllbGRzZXQgPSAkKHRoaXMpLnBhcmVudHMoJ2ZpZWxkc2V0Jyk7XHJcbiAgICAgICAgbGV0IG5leHRfc3RlcCA9IHRydWU7XHJcbiAgICAgICAgY29uc3QgcmFkaW9CdG5BY3RpdmUgPSBwYXJlbnRfZmllbGRzZXQuZmluZCgnaW5wdXRbbmFtZT1cInVzZXJBY2NvdW50UmFkaW9cIl06Y2hlY2tlZCcpO1xyXG5cclxuICAgICAgICBpZiAocmFkaW9CdG5BY3RpdmUubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICBzdGF0ZS51c2VybmFtZSA9IHJhZGlvQnRuQWN0aXZlLnBhcmVudHMoJ2xpJykuZGF0YSgndXNlcm5hbWUnKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChzdGVwUmVkdWNlcikge1xyXG4gICAgICAgICAgICBzdGVwUmVkdWNlcihwYXJlbnRfZmllbGRzZXQuaW5kZXgoKSwgc3RhdGUpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcGFyZW50X2ZpZWxkc2V0LmZpbmQoJ2lucHV0W3R5cGU9XCJ0ZXh0XCJdLGlucHV0W3R5cGU9XCJlbWFpbFwiXScpLmVhY2goZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAoJCh0aGlzKS52YWwoKSA9PT0gJycpIHtcclxuICAgICAgICAgICAgICAgICQodGhpcykuYWRkQ2xhc3MoJ2lucHV0LWVycm9yJyk7XHJcbiAgICAgICAgICAgICAgICBuZXh0X3N0ZXAgPSBmYWxzZTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICQodGhpcykucmVtb3ZlQ2xhc3MoJ2lucHV0LWVycm9yJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgaWYgKG5leHRfc3RlcCkge1xyXG4gICAgICAgICAgICBwYXJlbnRfZmllbGRzZXQuZmFkZU91dCg0MDAsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICQodGhpcykubmV4dCgpLmZhZGVJbigpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gcHJldmlvdXMgc3RlcFxyXG4gICAgJGZvcm0uZmluZCgnLmJ0bi1wcmV2aW91cycpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAvLyBzdGF0ZS51c2VybmFtZSA9IFsuLi5uZXcgU2V0KHN0YXRlLnVzZXJuYW1lKV07XHJcbiAgICAgICAgJCh0aGlzKS5wYXJlbnRzKCdmaWVsZHNldCcpLmZhZGVPdXQoNDAwLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICQodGhpcykucHJldigpLmZhZGVJbigpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gc3BlZWQgcmFkaW8tYnRuIGdyb3VwXHJcbiAgICAkKCcuanNfZm9sbG93LXNwZWVkIGlucHV0W3R5cGU9cmFkaW9dJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIC8vIGNvbnN0IHZhbHVlID0gJCh0aGlzKS5hdHRyKCd2YWx1ZScpO1xyXG4gICAgICAgIC8vIHN0YXRlLnVzZXJfZGVmYXVsdF9jb25maWcgPSB7XHJcbiAgICAgICAgLy8gICAgIHRhc2tfbW9kZTogdmFsdWUudG9VcHBlckNhc2UoKVxyXG4gICAgICAgIC8vIH07XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBzdWJtaXRcclxuICAgICRmb3JtLm9uKCdzdWJtaXQnLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICQodGhpcykuZmluZCgnaW5wdXRbdHlwZT1cInRleHRcIl0saW5wdXRbdHlwZT1cIm51bWJlclwiXSxpbnB1dFt0eXBlPVwiZW1haWxcIl0nKS5lYWNoKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKCQodGhpcykudmFsKCkgPT09ICcnKSB7XHJcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICAgICAkKHRoaXMpLmFkZENsYXNzKCdpbnB1dC1lcnJvcicpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgJCh0aGlzKS5yZW1vdmVDbGFzcygnaW5wdXQtZXJyb3InKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBpZiAob25TdWJtaXRIYW5kbGVyKSB7XHJcbiAgICAgICAgICAgIG9uU3VibWl0SGFuZGxlcihlKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnNvbGUubG9nKCdTdWJtaXRIYW5kbGVyIEVORCcpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gYWxlcnQgY2xvc2VcclxuICAgICQoJy5mb3JtLXN1Ym1pdC1maW5pc2ggLmNsb3NlJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICBjb25zb2xlLmxvZygnZm9ybS1zdWJtaXQtZmluaXNoIC5jbG9zZScpO1xyXG4gICAgICAgICQodGhpcykuY2xvc2VzdCgnLmZvcm0tc3VibWl0LWZpbmlzaCcpLnJlbW92ZUNsYXNzKCdkLWJsb2NrJyk7XHJcbiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICAvLyAkKHRoaXMpLmNsb3Nlc3QoJ2Zvcm0tc3VibWl0LWZpbmlzaCcpLnJlbW92ZUNsYXNzKCdkLWJsb2NrJyk7XHJcbiAgICAgICAgLy8gJCgnI3YtcGlsbHMtcnVubmVkLXRhYicpLnRyaWdnZXIoJ2NsaWNrJyk7XHJcbiAgICAgICAgLy8gd2luZG93LlB1YlN1Yi5wdWJsaXNoKENPTlNULmV2ZW50cy50YXNrcy5ORVdfVEFTS19DUkVBVEVEKTtcclxuICAgIH0pO1xyXG5cclxuICAgICQoJyN2LXBpbGxzLWNyZWF0ZS10YXNrLXRhYicpLm9uKCdjbGljaycsIChlKSA9PiB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ3Jlc2V0IGZvcm0nKTtcclxuICAgICAgICBpZiAoJCgnZmllbGRzZXQ6Zmlyc3QtY2hpbGQnKS5jc3MoJ2Rpc3BsYXknKSA9PT0gJ25vbmUnKSB7XHJcbiAgICAgICAgICAgICRmb3JtLmZpbmQoJ2ZpZWxkc2V0JykuaGlkZSgnZmFzdCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICRmb3JtLmZpbmQoJ2ZpZWxkc2V0OmZpcnN0LWNoaWxkJykuc2hvdygnc2xvdycpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgJCgnLmZvcm0tc3VibWl0LWZpbmlzaCcpLnJlbW92ZUNsYXNzKCdkLWJsb2NrJyk7XHJcbiAgICAgICAgLy8gY2xlYXIgYWxsIHZhbCBpbiB0ZXh0YXJlYSBhbmQgaW5wdXQgKGV4Y2VwdCByYWRpbylcclxuICAgICAgICAkKCdmaWVsZHNldCcsIHdpemFyZEZvcm1TZWxlY3RvcikuZmluZCgnaW5wdXQ6bm90KFt0eXBlPVwicmFkaW9cIl0pLCB0ZXh0YXJlYScpLnZhbCgnJyk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuLypcclxuZnVuY3Rpb24gZml4U3RlcEluZGljYXRvcihuKSB7XHJcbiAgICAvLyBUaGlzIGZ1bmN0aW9uIHJlbW92ZXMgdGhlIFwiYWN0aXZlXCIgY2xhc3Mgb2YgYWxsIHN0ZXBzLi4uXHJcbiAgICB2YXIgaSwgeCA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJzdGVwXCIpO1xyXG4gICAgZm9yIChpID0gMDsgaSA8IHgubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICB4W2ldLmNsYXNzTmFtZSA9IHhbaV0uY2xhc3NOYW1lLnJlcGxhY2UoXCIgYWN0aXZlXCIsIFwiXCIpO1xyXG4gICAgfVxyXG4gICAgLy8uLi4gYW5kIGFkZHMgdGhlIFwiYWN0aXZlXCIgY2xhc3Mgb24gdGhlIGN1cnJlbnQgc3RlcDpcclxuICAgIHhbbl0uY2xhc3NOYW1lICs9IFwiIGFjdGl2ZVwiO1xyXG59Ki9cclxuXHJcbi8vIHdyYXAgbGlzdCBhcyByYWRpb2dyb3VwXHJcbmZ1bmN0aW9uIG1vZGlmeUFjY0xpc3QoKSB7XHJcbiAgICBjb25zdCByYWRpb0J0bkFwcGVuZCA9IChpZHgpID0+IGA8ZGl2IGNsYXNzPVwiXCI+XHJcbiAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwicmFkaW9cIiBuYW1lPVwidXNlckFjY291bnRSYWRpb1wiIGlkPVwiY3VzdG9tUmFkaW8tJHtpZHh9XCIgY2xhc3M9XCJjdXN0b20tY29udHJvbC1pbnB1dCBkLW5vbmVcIiB2YWx1ZT1cIlwiPlxyXG4gICAgICAgIDwvZGl2PmA7XHJcbiAgICBjb25zdCByYWRpb0J0bldyYXAgPSAoaWR4KSA9PiBgPGxhYmVsIGNsYXNzPVwiYWNjb3VudHMtbGlzdC0tbGFiZWwtd3JhcHBlciBjb2wgbWItMCBtZWRpYSBweS0zXCIgZm9yPVwiY3VzdG9tUmFkaW8tJHtpZHh9XCI+PC9sYWJlbD5gO1xyXG4gICAgY29uc3QgJGFjY291bnRzTGlzdCA9ICQoJy5hY2NvdW50cy1saXN0Jyk7XHJcbiAgICBjb25zdCAkbGkgPSAkYWNjb3VudHNMaXN0LmZpbmQoJ2xpLm1lZGlhJyk7XHJcbiAgICAkbGkuYWRkQ2xhc3MoJ2pzX3VzZXItcmFkaW8nKS5yZW1vdmVDbGFzcygncHktMyBtZWRpYScpO1xyXG5cclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgJGxpLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgY29uc3QgY3VyckxpID0gJCgkbGlbaV0pO1xyXG4gICAgICAgIGN1cnJMaS53cmFwSW5uZXIocmFkaW9CdG5XcmFwKGkpKS5hcHBlbmQocmFkaW9CdG5BcHBlbmQoaSkpO1xyXG4gICAgICAgIGlmIChjdXJyTGkuZmluZCgnLnVzZXItY2hlY2twb2ludCAudGV4dC1kYW5nZXInKS5sZW5ndGgpIHtcclxuICAgICAgICAgICAgY3VyckxpLnJlbW92ZSgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAkKCcuanNfdXNlci1yYWRpbycpLm9uKCdjbGljaycsICdpbnB1dFt0eXBlPXJhZGlvXScsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgY29uc3QgJHBhcmVudEZpZWxkc2V0ID0gJCh0aGlzKS5wYXJlbnRzKCdmaWVsZHNldCcpO1xyXG4gICAgICAgICQoJ2xpLmFjdGl2ZScsICRwYXJlbnRGaWVsZHNldCkucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgICAgICQodGhpcykuY2xvc2VzdCgnbGknKS5hZGRDbGFzcygnYWN0aXZlJyk7XHJcbiAgICAgICAgJCgnLmJ0bi1uZXh0JywgJHBhcmVudEZpZWxkc2V0KS5wcm9wKCdkaXNhYmxlZCcsIGZhbHNlKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaW5pdCh3aXphcmRDZmcpIHtcclxuICAgIGlmICgkKCcud2l6YXJkLWZvcm0nKS5sZW5ndGgpIHtcclxuICAgICAgICBpbml0U3RlcHMod2l6YXJkRm9ybVNlbGVjdG9yLCB3aXphcmRDZmcpO1xyXG4gICAgICAgIHdpbmRvdy5QdWJTdWIuc3Vic2NyaWJlKENPTlNULmV2ZW50cy5pbnN0YWdyYW1BY2NvdW5zLklOU1RBR1JBTV9BQ0NPVU5TX1JFTkRFUkVELCAoZXZlbnROYW1lLCBkYXRhKSA9PiB7XHJcbiAgICAgICAgICAgIG1vZGlmeUFjY0xpc3QoKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufVxyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvYmxvY2tzL3dpemFyZC1mb3JtL3dpemFyZC1mb3JtLmpzIiwiaW1wb3J0IHtDT05TVH0gZnJvbSAnLi4vLi4vLi4vY29tbW9uL2pzLXNlcnZpY2VzL2NvbnN0cyc7XHJcbmltcG9ydCBVc2VyVGFza01hbmFnZXIgZnJvbSAnLi4vLi4vLi4vY29tbW9uL2pzLXNlcnZpY2VzL2FwaS10YXNrLW1hbmFnZXInO1xyXG5cclxuY29uc3QgTUFYX0lNR19GSUxFX1NJWkVfQllURSA9IDEwNDg1NzY7XHJcbmNvbnN0IGZpbGVVcGxvYWRCb3ggPSAnLmZpbGUtdXBsb2FkJztcclxuY29uc3QgZmlsZVVwbG9hZENvbnRlbnQgPSAnLmZpbGUtdXBsb2FkLWNvbnRlbnQnO1xyXG5cclxuZnVuY3Rpb24gcmVtb3ZlVXBsb2FkKCR1cGxvYWRDb250YWluZXIpIHtcclxuICAgIGNvbnN0IGlucHV0ID0gJHVwbG9hZENvbnRhaW5lci5maW5kKCdpbnB1dCcpO1xyXG4gICAgaW5wdXQucmVwbGFjZVdpdGgoaW5wdXQuY2xvbmUoKSk7XHJcbiAgICAkdXBsb2FkQ29udGFpbmVyLmZpbmQoZmlsZVVwbG9hZENvbnRlbnQpLmhpZGUoKTtcclxuICAgICR1cGxvYWRDb250YWluZXIuZmluZCgnLmltYWdlLXVwbG9hZC13cmFwJykuc2hvdygpO1xyXG59XHJcblxyXG5jb25zdCAkaW1nVXBsb2FkV3JhcCA9ICQoJy5pbWFnZS11cGxvYWQtd3JhcCcpO1xyXG4kaW1nVXBsb2FkV3JhcC5iaW5kKCdkcmFnb3ZlcicsIGZ1bmN0aW9uICgpIHtcclxuICAgICQoJy5pbWFnZS11cGxvYWQtd3JhcCcpLmFkZENsYXNzKCdpbWFnZS1kcm9wcGluZycpO1xyXG59KTtcclxuJGltZ1VwbG9hZFdyYXAuYmluZCgnZHJhZ2xlYXZlJywgZnVuY3Rpb24gKCkge1xyXG4gICAgJCgnLmltYWdlLXVwbG9hZC13cmFwJykucmVtb3ZlQ2xhc3MoJ2ltYWdlLWRyb3BwaW5nJyk7XHJcbn0pO1xyXG5cclxuLy8gZnVuY3Rpb24gYWJvcnRSZWFkKHJlYWRlcikge1xyXG4vLyAgICAgcmVhZGVyLmFib3J0KCk7XHJcbi8vIH1cclxuXHJcbmZ1bmN0aW9uIGVycm9ySGFuZGxlcihldnQsIHJlYWRlcikge1xyXG4gICAgc3dpdGNoIChldnQudGFyZ2V0LmVycm9yLmNvZGUpIHtcclxuICAgICAgICBjYXNlIGV2dC50YXJnZXQuZXJyb3IuTk9UX0ZPVU5EX0VSUjpcclxuICAgICAgICAgICAgY29uc29sZS5pbmZvKCdGaWxlIE5vdCBGb3VuZCEnKTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSBldnQudGFyZ2V0LmVycm9yLk5PVF9SRUFEQUJMRV9FUlI6XHJcbiAgICAgICAgICAgIGNvbnNvbGUuaW5mbygnRmlsZSBpcyBub3QgcmVhZGFibGUnKTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSBldnQudGFyZ2V0LmVycm9yLkFCT1JUX0VSUjpcclxuICAgICAgICAgICAgYnJlYWs7IC8vIG5vb3BcclxuICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICBjb25zb2xlLmluZm8oJ0FuIGVycm9yIG9jY3VycmVkIHJlYWRpbmcgdGhpcyBmaWxlLicpO1xyXG4gICAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiB1cGRhdGVQcm9ncmVzcyhldnQsIHByb2dyZXNzKSB7XHJcbiAgICAvLyBldnQgaXMgYW4gUHJvZ3Jlc3NFdmVudC5cclxuICAgIGlmIChldnQubGVuZ3RoQ29tcHV0YWJsZSkge1xyXG4gICAgICAgIGNvbnN0IHBlcmNlbnRMb2FkZWQgPSBNYXRoLnJvdW5kKChldnQubG9hZGVkIC8gZXZ0LnRvdGFsKSAqIDEwMCk7XHJcbiAgICAgIC8vIEluY3JlYXNlIHRoZSBwcm9ncmVzcyBiYXIgbGVuZ3RoLlxyXG4gICAgICAgIGlmIChwZXJjZW50TG9hZGVkICUgMTAgPT09IDApIHtcclxuICAgICAgICAgICAgLy8gcHJvZ3Jlc3Muc3R5bGUud2lkdGggPSBgJHtwZXJjZW50TG9hZGVkfSVgO1xyXG4gICAgICAgICAgICAvLyBwcm9ncmVzcy50ZXh0Q29udGVudCA9IGAke3BlcmNlbnRMb2FkZWR9JWA7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHBlcmNlbnRMb2FkZWQpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuZnVuY3Rpb24gaXNGaWxlVHlwZU9rKGFjY2VwdGVkRmlsZSkge1xyXG4gICAgcmV0dXJuIGFjY2VwdGVkRmlsZS50eXBlID09PSAnaW1hZ2UvanBlZyc7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGlzSW1nU2l6ZU9rKGFjY2VwdGVkRmlsZSkge1xyXG4gICAgY29uc3QgaW1nU2l6ZSA9IE1hdGgucm91bmQoYWNjZXB0ZWRGaWxlLnNpemUpO1xyXG4gICAgcmV0dXJuIE1BWF9JTUdfRklMRV9TSVpFX0JZVEUgPiBpbWdTaXplO1xyXG59XHJcblxyXG5mdW5jdGlvbiBoYW5kbGVTdWJtaXQoaW5wdXQsIHJlcGxhY2VXaXRoQ2ZnKSB7XHJcbiAgICBjb25zdCB1cmwgPSBDT05TVC5nZXRQYXRoKCdpbnN0YWdyYW1UYXNrTWFuYWdlcl9wb3N0SW1hZ2VBdHRhY2htZW50Jyk7XHJcbiAgICBjb25zdCB0b2tlbiA9IFVzZXJUYXNrTWFuYWdlci5nZXRUb2tlbigpO1xyXG4gICAgY29uc3QgYWNjZXB0ZWRGaWxlID0gaW5wdXQuZmlsZXNbMF07XHJcbiAgICBjb25zb2xlLmxvZygnaGFuZGxlU3VibWl0Jyk7XHJcbiAgICAvLyBpZiAoIWlzSW1nU2l6ZU9rKGFjY2VwdGVkRmlsZSkpIHtcclxuICAgIC8vICAgICBjb25zb2xlLmxvZygnc2hvdyBlcnJvciBtZXNzYWdlLCBpbWdTaXplIHRvIGJpZyAnKTtcclxuICAgIC8vICAgICAkKGZpbGVVcGxvYWRCb3gpXHJcbiAgICAvLyAgICAgICAgIC5hcHBlbmQoYFxyXG4gICAgLy8gICAgICAgICAgICAgPHAgY2xhc3M9XCJtc2ctbWF4LXNpemUtaW1nIHRleHQtZGFuZ2VyXCI+0JzQsNC60YHQuNC80LDQu9GM0L3Ri9C5INC00L7Qv9GD0YHRgtC40LzRi9C5INGA0LDQt9C80LXRgCDQutCw0YDRgtC40L3QutC4ICR7TUFYX0lNR19GSUxFX1NJWkVfQllURX1NQjwvcD5cclxuICAgIC8vICAgICAgICAgYCk7XHJcbiAgICAvLyAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAvLyAgICAgICAgICQoJy5tc2ctbWF4LXNpemUtaW1nJykuYWRkQ2xhc3MoJ2Qtbm9uZScpO1xyXG4gICAgLy8gICAgIH0sIDUwMDApO1xyXG4gICAgLy8gICAgIHJldHVybjtcclxuICAgIC8vIH1cclxuICAgIGNvbnN0IGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCk7XHJcblxyXG4gICAgY29uc3QgcmVxdWVzdCA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xyXG5cclxuICAgIGlmIChyZXBsYWNlV2l0aENmZyAmJiByZXBsYWNlV2l0aENmZy5yZXBsYWNlV2l0aCkge1xyXG4gICAgICAgIC8vICoqIGVkaXQgVVNFUiAqKlxyXG4gICAgICAgIC8vIFBVVCBodHRwOi8vYXBpLmx1eGdyYW0ucnUvdjEvaW5zdGFncmFtLWFjY291bnRzL3t1c2VybmFtZX0vcGhvdG9cclxuICAgICAgICAvLyBmb3JtLWRhdGE6IFwicGhvdG9cIiAoanBnKVxyXG4gICAgICAgIGZvcm1EYXRhLmFwcGVuZCgncGhvdG8nLCBhY2NlcHRlZEZpbGUsIGFjY2VwdGVkRmlsZS5uYW1lKTtcclxuICAgICAgICBjb25zdCB7dXNlcm5hbWV9ID0gcmVwbGFjZVdpdGhDZmc7XHJcbiAgICAgICAgcmVxdWVzdC5vcGVuKCdQVVQnLCBgaHR0cDovL2FwaS5sdXhncmFtLnJ1L3YxL2luc3RhZ3JhbS1hY2NvdW50cy8ke3VzZXJuYW1lfS9waG90b2ApO1xyXG4gICAgICAgIC8vIHJlcXVlc3Qud2l0aENyZWRlbnRpYWxzID0gdHJ1ZTtcclxuICAgICAgICByZXF1ZXN0LnNldFJlcXVlc3RIZWFkZXIoJ3Rva2VuJywgdG9rZW4pO1xyXG4gICAgICAgIHJlcXVlc3Quc2V0UmVxdWVzdEhlYWRlcignQWNjZXB0JywgJ2FwcGxpY2F0aW9uL2pzb24nKTtcclxuICAgICAgICByZXF1ZXN0LnNldFJlcXVlc3RIZWFkZXIoJ2NhY2hlLWNvbnRyb2wnLCAnbm8tY2FjaGUnKTtcclxuICAgICAgICByZXF1ZXN0LnNlbmQoZm9ybURhdGEpO1xyXG4gICAgICAgIHJlcXVlc3QuYWRkRXZlbnRMaXN0ZW5lcigncmVhZHlzdGF0ZWNoYW5nZScsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMucmVhZHlTdGF0ZSA9PT0gNCkge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1BVVCcsIHRoaXMucmVzcG9uc2VUZXh0LCB0aGlzKTtcclxuICAgICAgICAgICAgICAgIC8vIHdpbmRvdy5QdWJTdWIucHVibGlzaChDT05TVC5ldmVudHMuYXV0b2FybnN3ZXIuSU1BR0VfVVBMT0FERUQsIHsncmVzcG9uc2UnOiB0aGlzLnJlc3BvbnNlVGV4dCwgJ2VsJzogaW5wdXR9KTtcclxuICAgICAgICAgICAgICAgIHdpbmRvdy5QdWJTdWIucHVibGlzaChDT05TVC5ldmVudHMuYXV0b2FybnN3ZXIuSU1BR0VfVVBMT0FERURfQVZBVEFSLCB7J3Jlc3BvbnNlJzogdGhpcy5yZXNwb25zZX0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgZm9ybURhdGEuYXBwZW5kKCdpbWFnZScsIGFjY2VwdGVkRmlsZSwgYWNjZXB0ZWRGaWxlLm5hbWUpO1xyXG4gICAgcmVxdWVzdC5vcGVuKCdQT1NUJywgdXJsKTtcclxuICAgIC8vIHJlcXVlc3Qud2l0aENyZWRlbnRpYWxzID0gdHJ1ZTtcclxuICAgIHJlcXVlc3Quc2V0UmVxdWVzdEhlYWRlcigndG9rZW4nLCB0b2tlbik7XHJcbiAgICByZXF1ZXN0LnNldFJlcXVlc3RIZWFkZXIoJ0FjY2VwdCcsICdhcHBsaWNhdGlvbi9qc29uJyk7XHJcbiAgICByZXF1ZXN0LnNldFJlcXVlc3RIZWFkZXIoJ2NhY2hlLWNvbnRyb2wnLCAnbm8tY2FjaGUnKTtcclxuICAgIHJlcXVlc3Quc2VuZChmb3JtRGF0YSk7XHJcbiAgICByZXF1ZXN0LmFkZEV2ZW50TGlzdGVuZXIoJ3JlYWR5c3RhdGVjaGFuZ2UnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMucmVhZHlTdGF0ZSA9PT0gNCkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygndGhpcycsIHRoaXMucmVzcG9uc2VUZXh0LCB0aGlzKTtcclxuICAgICAgICAgICAgd2luZG93LlB1YlN1Yi5wdWJsaXNoKENPTlNULmV2ZW50cy5hdXRvYXJuc3dlci5JTUFHRV9VUExPQURFRCwgeydyZXNwb25zZSc6IHRoaXMucmVzcG9uc2VUZXh0LCAnZWwnOiBpbnB1dH0pO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiByZWFkVVJMKGlucHV0LCByZXBsYWNlV2l0aENmZywgaGFuZGxlU3VibWl0Q2IpIHtcclxuICAgIGNvbnN0IHtyZXBsYWNlV2l0aCwgaG9sZGVyQ2xzfSA9IHJlcGxhY2VXaXRoQ2ZnO1xyXG4gICAgY29uc3QgaG9sZGVyID0gKGhvbGRlckNscykgPyBob2xkZXJDbHMgOiBmaWxlVXBsb2FkQm94O1xyXG4gICAgY29uc3QgJGNvbnRhaW5lciA9ICQoaW5wdXQpLmNsb3Nlc3QoaG9sZGVyKTtcclxuICAgIGlmIChpbnB1dC5maWxlcyAmJiBpbnB1dC5maWxlc1swXSkge1xyXG4gICAgICAgIGNvbnN0IHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ3JlYWRVUkwnKTtcclxuICAgICAgICBpZiAoIWlzSW1nU2l6ZU9rKGlucHV0LmZpbGVzWzBdKSB8fCAhaXNGaWxlVHlwZU9rKGlucHV0LmZpbGVzWzBdKSkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnc2hvdyBlcnJvciBtZXNzYWdlLCBpbWdTaXplIHRvIGJpZyAnKTtcclxuICAgICAgICAgICAgJChmaWxlVXBsb2FkQm94KS5maW5kKCd3YXJuaW5nLWltYWdlJykucmVtb3ZlKCk7XHJcbiAgICAgICAgICAgICQoZmlsZVVwbG9hZEJveCkuYXBwZW5kKGBcclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ3YXJuaW5nLWltYWdlIHRleHQtZGFuZ2VyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPHA+0JTQvtGB0YLRg9C/0L3Ri9C5INGE0L7RgNC80LDRgiDQuNC30L7QsdGA0LDQttC10L3QuNGPIGpwZWcg0LjQu9C4IGpwZzwvcD5cclxuICAgICAgICAgICAgICAgICAgICA8cCBjbGFzcz1cIm1zZy1tYXgtc2l6ZS1pbWcgdGV4dC1kYW5nZXJcIj7QnNCw0LrRgdC40LzQsNC70YzQvdGL0Lkg0LTQvtC/0YPRgdGC0LjQvNGL0Lkg0YDQsNC30LzQtdGAINC60LDRgNGC0LjQvdC60LggJHtNQVhfSU1HX0ZJTEVfU0laRV9CWVRFIC8gMTAyNCAvIDEwMjR9TUI8L3A+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgYCk7XHJcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgJCgnLndhcm5pbmctaW1hZ2UnKS5hZGRDbGFzcygnZC1ub25lJyk7XHJcbiAgICAgICAgICAgIH0sIDUwMDApO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZWFkZXIub25sb2FkID0gZnVuY3Rpb24oZSkge1xyXG4gICAgICAgICAgICBpZiAoIXJlcGxhY2VXaXRoKSB7XHJcbiAgICAgICAgICAgICAgICAkY29udGFpbmVyLmZpbmQoJy5pbWFnZS11cGxvYWQtd3JhcCcpLmhpZGUoKTtcclxuICAgICAgICAgICAgICAgICRjb250YWluZXIuZmluZCgnLmZpbGUtdXBsb2FkLWltYWdlJykuYXR0cignc3JjJywgZS50YXJnZXQucmVzdWx0KTtcclxuICAgICAgICAgICAgICAgICRjb250YWluZXIuZmluZChmaWxlVXBsb2FkQ29udGVudCkuc2hvdygpO1xyXG4gICAgICAgICAgICAgICAgJGNvbnRhaW5lci5maW5kKCcuaW1hZ2UtdGl0bGUnKS5odG1sKGlucHV0LmZpbGVzWzBdLm5hbWUpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY29uc3Qge2ltYWdlQ2xzfSA9IHJlcGxhY2VXaXRoQ2ZnO1xyXG4gICAgICAgICAgICAgICAgJGNvbnRhaW5lci5maW5kKGltYWdlQ2xzKS5hdHRyKCdzcmMnLCBlLnRhcmdldC5yZXN1bHQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgcmVhZGVyLm9uZXJyb3IgPSBlcnJvckhhbmRsZXI7XHJcbiAgICAgICAgcmVhZGVyLm9ucHJvZ3Jlc3MgPSB1cGRhdGVQcm9ncmVzcztcclxuXHJcbiAgICAgICAgcmVhZGVyLnJlYWRBc0RhdGFVUkwoaW5wdXQuZmlsZXNbMF0pO1xyXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAodHlwZW9mIGhhbmRsZVN1Ym1pdENiID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB0b2tlbiA9IFVzZXJUYXNrTWFuYWdlci5nZXRUb2tlbigpO1xyXG4gICAgICAgICAgICAgICAgaGFuZGxlU3VibWl0Q2IoaW5wdXQsIHRva2VuKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGhhbmRsZVN1Ym1pdChpbnB1dCwgcmVwbGFjZVdpdGhDZmcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSwgMjAwMCk7XHJcbiAgICAgICAgLy8gUmVhZCBpbiB0aGUgaW1hZ2UgZmlsZSBhcyBhIGJpbmFyeSBzdHJpbmcuXHJcbiAgICAgICAgLy8gcmVhZGVyLnJlYWRBc0JpbmFyeVN0cmluZyhpbnB1dC5maWxlc1swXSk7XHJcblxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICByZW1vdmVVcGxvYWQoJGNvbnRhaW5lcik7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBpbml0KHJlcGxhY2VXaXRoQ2ZnLCBoYW5kbGVTdWJtaXRDYikge1xyXG4gICAgY29uc3QgdXBsb2FkQnRuQ2xzID0gKCEocmVwbGFjZVdpdGhDZmcgJiYgcmVwbGFjZVdpdGhDZmcucmVwbGFjZVdpdGgpKSA/ICcuZmlsZS11cGxvYWQtYnRuJyA6IHJlcGxhY2VXaXRoQ2ZnLnVwbG9hZEJ0bkNscztcclxuICAgIGNvbnN0ICR1cGxvYWRCdG4gPSAkKHVwbG9hZEJ0bkNscyk7XHJcbiAgICBjb25zdCAkdXBsb2FkSW5wdXQgPSAkKCcuZmlsZS11cGxvYWQtaW5wdXQnKTtcclxuICAgIGNvbnN0ICRyZW1vdmVJbWdCdG4gPSAkKCcucmVtb3ZlLWltYWdlJyk7XHJcblxyXG4gICAgJHVwbG9hZEJ0bi5vZmYoKTtcclxuICAgICR1cGxvYWRJbnB1dC5vZmYoKTtcclxuICAgICRyZW1vdmVJbWdCdG4ub2ZmKCk7XHJcblxyXG4gICAgJHVwbG9hZEJ0bi5vbignY2xpY2snLCAoZSkgPT4ge1xyXG4gICAgICAgIGNvbnN0IHRvUGFyZW50Q2xzID0gKCEocmVwbGFjZVdpdGhDZmcgJiYgcmVwbGFjZVdpdGhDZmcucmVwbGFjZVdpdGgpKSA/ICcuY29sJyA6IHJlcGxhY2VXaXRoQ2ZnLmhvbGRlckNscztcclxuICAgICAgICBjb25zdCBpbnB1dCA9ICQoZS50YXJnZXQpLmNsb3Nlc3QodG9QYXJlbnRDbHMpLmZpbmQoZmlsZVVwbG9hZEJveCkuZmluZCgnaW5wdXQuZmlsZS11cGxvYWQtaW5wdXQnKTtcclxuICAgICAgICBpbnB1dC50cmlnZ2VyKCdjbGljaycpO1xyXG4gICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAkdXBsb2FkSW5wdXQub24oJ2NoYW5nZScsIChlKSA9PiB7XHJcbiAgICAgICAgcmVhZFVSTChlLnRhcmdldCwgcmVwbGFjZVdpdGhDZmcsIGhhbmRsZVN1Ym1pdENiKTtcclxuICAgIH0pO1xyXG5cclxuICAgICRyZW1vdmVJbWdCdG4ub24oJ2NsaWNrJywgKGUpID0+IHtcclxuICAgICAgICBjb25zdCAkY29udGFpbmVyID0gJChlLnRhcmdldCkuY2xvc2VzdCgnLmNvbCcpLmZpbmQoZmlsZVVwbG9hZEJveCk7XHJcbiAgICAgICAgcmVtb3ZlVXBsb2FkKCRjb250YWluZXIpO1xyXG4gICAgICAgICRjb250YWluZXIucmVtb3ZlQXR0cignYXR0YWNoZWQtaW1nLWlkJyk7XHJcbiAgICB9KTtcclxufVxyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvYmxvY2tzL19zaGFyZWQvaW1hZ2UtdXBsb2FkL2ltYWdlLXVwbG9hZC5qcyIsIi8qIGVzbGludC1kaXNhYmxlIG5vLXVzZS1iZWZvcmUtZGVmaW5lICovXHJcbmltcG9ydCBVc2VyVGFza01hbmFnZXIgZnJvbSAnLi4vLi4vLi4vY29tbW9uL2pzLXNlcnZpY2VzL2FwaS10YXNrLW1hbmFnZXInO1xyXG5cclxubGV0IGNsc0NvbnN0ID0ge1xyXG4gICAgY3VycmVudFBhZ2VDbHM6ICcnLFxyXG4gICAgdGFza3NMaXN0OiAnJyxcclxuICAgIGxvZ3NUYWJCdG46ICcnLFxyXG4gICAgcGFnaW5hdGlvbjogJycsXHJcbiAgICBwYWdpbmF0aW9uUGdOdW1iZXI6ICcnXHJcbn07XHJcbmxldCAkbGlzdCA9ICckKGNsc0NvbnN0LnRhc2tzTGlzdCknOyAvLyBzZXQgaW4gcHJlQ29uZmlnKClcclxubGV0IHNlbGVjdENscyA9ICdzb21lQ2xhc3MnO1xyXG5jb25zdCBnZXRVc2VybmFtZSA9ICgpID0+ICQoYC4ke3NlbGVjdENsc30gb3B0aW9uOnNlbGVjdGVkYCkudmFsKCk7XHJcbmNvbnN0IHBhdGggPSB7XHJcbiAgICB1c2VybmFtZTogZ2V0VXNlcm5hbWUoKVxyXG59O1xyXG5sZXQgY3VycmVudFBhZ2UgPSBudWxsO1xyXG5sZXQgaW50ZXJ2YWxJZCA9ICcnO1xyXG5cclxuZnVuY3Rpb24gaW5pdEhhbmRsZXJQYWdpbmF0aW9uKCRwcmV2aW91cywgJG5leHQsIGRhdGFBcnJheSkge1xyXG4gICAgY29uc3QgJHdyYXBwZXIgPSAkKGNsc0NvbnN0LnBhZ2luYXRpb24pO1xyXG4gICAgY29uc3Qge3BhZ2luYXRpb259ID0gZGF0YUFycmF5LnNldHRpbmdzO1xyXG5cclxuICAgICRwcmV2aW91cy5vbignY2xpY2snLCAoZSkgPT4ge1xyXG4gICAgICAgIGNvbnN0ICRsaUFjdGl2ZSA9ICR3cmFwcGVyLmZpbmQoJ2xpLnBhZ2UtbnVtYmVyLmFjdGl2ZScpO1xyXG4gICAgICAgIGNvbnN0IHBhZ2UgPSBwYWdpbmF0aW9uLnByZXZpb3VzO1xyXG4gICAgICAgIGlmICghcGFnaW5hdGlvbi5wcmV2aW91cykge1xyXG4gICAgICAgICAgICAkcHJldmlvdXMuYWRkQ2xhc3MoJ2Rpc2FibGVkJykucHJvcCgnZGlzYWJsZWQnLCAnZGlzYWJsZWQnKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjdXJyZW50UGFnZSA9IHBhZ2luYXRpb24ucHJldmlvdXM7XHJcbiAgICAgICAgJGxpQWN0aXZlLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcclxuICAgICAgICBnZXRMb2dzRGF0YSgkbGlzdCwgcGF0aCwgcGFnZSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAkbmV4dC5vbignY2xpY2snLCAoZSkgPT4ge1xyXG4gICAgICAgIGNvbnN0ICRsaUFjdGl2ZSA9ICR3cmFwcGVyLmZpbmQoJ2xpLnBhZ2UtbnVtYmVyLmFjdGl2ZScpO1xyXG4gICAgICAgIGNvbnN0IGN1cnJlbnRBY3RpdmVJZHggPSAkbGlBY3RpdmUuaW5kZXgoKTtcclxuICAgICAgICBjb25zdCBwYWdlID0gcGFnaW5hdGlvbi5uZXh0O1xyXG4gICAgICAgIGlmICghcGFnaW5hdGlvbi5uZXh0KSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgY3VycmVudFBhZ2UgPSBwYWdpbmF0aW9uLm5leHQ7XHJcbiAgICAgICAgJGxpQWN0aXZlLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcclxuICAgICAgICAvLyBpZiAobGFzdFBhZ2UgPD0gY3VycmVudEFjdGl2ZUlkeCArIDEpIHtcclxuICAgICAgICAvLyAgICAgJChlLnRhcmdldCkucGFyZW50KCkuYWRkQ2xhc3MoJ2Rpc2FibGVkJyk7XHJcbiAgICAgICAgLy8gfVxyXG4gICAgICAgIGlmIChjdXJyZW50QWN0aXZlSWR4ICYmICRwcmV2aW91cy5oYXNDbGFzcygnZGlzYWJsZWQnKSkge1xyXG4gICAgICAgICAgICAkcHJldmlvdXMucmVtb3ZlQ2xhc3MoJ2Rpc2FibGVkJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGdldExvZ3NEYXRhKCRsaXN0LCBwYXRoLCBwYWdlKTtcclxuICAgIH0pO1xyXG5cclxuICAgICQoY2xzQ29uc3QubG9nc1RhYkJ0bikub24oJ2NsaWNrJywgKGUpID0+IHtcclxuICAgICAgICAvLyBhdCB0aGlzIHBvaW50IG9mIHRpbWUgc2V0SW50ZXJ2YWwgaXMgd29ya2luZ1xyXG4gICAgICAgIGN1cnJlbnRQYWdlID0gMTtcclxuICAgIH0pO1xyXG4gICAgJChgJHtjbHNDb25zdC5wYWdpbmF0aW9ufSAke2Nsc0NvbnN0LnBhZ2luYXRpb25QZ051bWJlcn1gKS5vbignY2xpY2snLCAoZSkgPT4ge1xyXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICBjb25zdCB2YWwgPSAkKGUudGFyZ2V0KS50ZXh0KCk7XHJcbiAgICAgICAgY3VycmVudFBhZ2UgPSBwYXJzZUludCh2YWwsIDEwKTtcclxuICAgICAgICBnZXRMb2dzRGF0YSgkbGlzdCwgcGF0aCwgY3VycmVudFBhZ2UpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGN1cnJlbnRQYWdlKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBhZGRQYWdpbmF0aW9uKGRhdGFBcnJheSwgJHdyYXBwZXIpIHtcclxuICAgIGNvbnN0IHtwYWdpbmF0aW9ufSA9IGRhdGFBcnJheS5zZXR0aW5ncztcclxuICAgIGNvbnN0IHRwbFByZXZpb3VzID0gJChgPGxpIGNsYXNzPVwicGFnZS1pdGVtICR7KCFwYWdpbmF0aW9uLnByZXZpb3VzKSA/ICdkaXNhYmxlZCcgOiAnJ31cIj48YSBjbGFzcz1cInBhZ2UtbGlua1wiIGhyZWY9XCIjXCIgJHsoIXBhZ2luYXRpb24ucHJldmlvdXMpID8gJ3RhYmluZGV4PVwiLTFcIicgOiAnJ30+0J3QsNC30LDQtDwvYT48L2xpPmApO1xyXG4gICAgY29uc3QgdHBsTmV4dCA9ICQoYDxsaSBjbGFzcz1cInBhZ2UtaXRlbSAkeyghcGFnaW5hdGlvbi5uZXh0KSA/ICdkaXNhYmxlZCcgOiAnJ31cIj48YSBjbGFzcz1cInBhZ2UtbGlua1wiIGhyZWY9XCIjXCIgJHsoIXBhZ2luYXRpb24ubmV4dCkgPyAndGFiaW5kZXg9XCItMVwiJyA6ICcnfT7QktC/0LXRgNC10LQ8L2E+PC9saT5gKTtcclxuXHJcbiAgICBjbGVhclBhZ2luYXRpb24oJHdyYXBwZXIpO1xyXG5cclxuICAgIGlmIChwYWdpbmF0aW9uLm5leHQgfHwgcGFnaW5hdGlvbi5wYWdlcyAmJiAocGFnaW5hdGlvbi5jdXJyZW50ID09PSBwYWdpbmF0aW9uLnBhZ2VzW3BhZ2luYXRpb24ucGFnZXMubGVuZ3RoIC0gMV0pKSB7XHJcbiAgICAgICAgJHdyYXBwZXIuYXBwZW5kKHRwbFByZXZpb3VzKTtcclxuICAgICAgICBpZiAocGFnaW5hdGlvbiAmJiBwYWdpbmF0aW9uWydwYWdlcyddKSB7XHJcbiAgICAgICAgICAgIHBhZ2luYXRpb25bJ3BhZ2VzJ10uZm9yRWFjaCgoaXRlbSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgJChgPGxpIGNsYXNzPVwicGFnZS1pdGVtIHBhZ2UtbnVtYmVyICR7KHBhZ2luYXRpb24uY3VycmVudCA9PT0gaXRlbSkgPyAnYWN0aXZlJyA6ICcnfVwiPjxhIGNsYXNzPVwicGFnZS1saW5rXCIgaHJlZj1cIiNcIj4ke2l0ZW19PC9hPjwvbGk+YCkuYXBwZW5kVG8oJHdyYXBwZXIpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgJHdyYXBwZXIuYXBwZW5kKHRwbE5leHQpO1xyXG4gICAgfVxyXG4gICAgaW5pdEhhbmRsZXJQYWdpbmF0aW9uKHRwbFByZXZpb3VzLCB0cGxOZXh0LCBkYXRhQXJyYXkpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBjbGVhclBhZ2luYXRpb24oJHdyYXBwZXIpIHtcclxuICAgICR3cmFwcGVyLmVtcHR5KCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGZpbGxMaXN0TWV0YSgkbGlzdCwgZGF0YUFycmF5LCBpc1J1bnMpIHtcclxuICAgIGNvbnN0ICR3cmFwcGVyUGFnaW5hdGlvbiA9ICQoJy5sb2dzLXBhZ2luYXRpb24nKTtcclxuICAgIGNvbnN0IGl0ZW1zID0gZGF0YUFycmF5LmxvZ3M7XHJcbiAgICAvLyBjb25zdCBkZWZhdWx0QXZhdGFyU3JjID0gQ09OU1QudXNlci5kZWZhdWxBdmF0YXI7XHJcbiAgICAkbGlzdC5lbXB0eSgpO1xyXG4gICAgaWYgKCFpdGVtcy5sZW5ndGgpIHtcclxuICAgICAgICAkKGA8bGkgY2xhc3M9XCJsaXN0LWdyb3VwLWl0ZW0gcHktMlwiPlxyXG4gICAgICAgICAgICA8cD7QndC10YIg0L3QuCDQvtC00L3QvtCz0L4g0LvQvtCz0LAuPC9wPlxyXG4gICAgICAgIDwvbGk+YCkuYXBwZW5kVG8oJGxpc3QpO1xyXG4gICAgICAgIGNsZWFyUGFnaW5hdGlvbigkd3JhcHBlclBhZ2luYXRpb24pO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGFkZFBhZ2luYXRpb24oZGF0YUFycmF5LCAkd3JhcHBlclBhZ2luYXRpb24pO1xyXG4gICAgaXRlbXMuZm9yRWFjaCgoaXRlbSkgPT4ge1xyXG4gICAgICAgIGNvbnN0IHtsZXZlbCwgdmFsdWV9ID0gaXRlbTtcclxuICAgICAgICAkKGA8bGkgY2xhc3M9XCJsaXN0LWdyb3VwLWl0ZW0gcC0wIHB5LTJcIj5cclxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibWVkaWEtYm9keSBkLWZsZXhcIj5cclxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbCB0YXNrLXR5cGUgJHsobGV2ZWwgPT09ICdFUlJPUicpID8gJ3RleHQtZGFuZ2VyJyA6ICcnfSAkeyhsZXZlbCA9PT0gJ1dBUk4nKSA/ICd0ZXh0LXdhcm5pbmcnIDogJyd9XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAkeyh2YWx1ZSkgPyBgJHt2YWx1ZX1gIDogJyd9XHJcbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgPC9saT5gKS5hcHBlbmRUbygkbGlzdCk7XHJcblxyXG4gICAgICAgIGlmICghJCgnbGknLCAkbGlzdCkubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICQoYDxsaSBjbGFzcz1cImxpc3QtZ3JvdXAtaXRlbSBweS0yXCIgPlxyXG4gICAgICAgICAgICAgICAgPHA+0J3QtdGCINC90Lgg0L7QtNC90L7Qs9C+INC70L7Qs9CwLjwvcD5cclxuICAgICAgICAgICAgPC9saT5gKS5hcHBlbmRUbygkbGlzdCk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHRhYlN0b3BSZXFIYW5kbGVyKCkge1xyXG4gICAgY29uc3QgJGFsbEFzaWRlVGFicyA9ICQoJyN2LXBpbGxzLXRhYicpO1xyXG4gICAgJGFsbEFzaWRlVGFicy5vZmYoKTtcclxuICAgICRhbGxBc2lkZVRhYnMub24oJ2NsaWNrJywgJ2EnLCAoZSkgPT4ge1xyXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICBjb25zdCB0YWIgPSAkKGUudGFyZ2V0KTtcclxuICAgICAgICBpZiAodGFiLmF0dHIoJ2lkJykgIT09ICd2LXBpbGxzLWxvZ3MtdGFiJykge1xyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZygnc3RvcCByZXEnKTtcclxuICAgICAgICAgICAgaWYgKGludGVydmFsSWQpIHtcclxuICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWxJZCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gZ2V0TG9nc0RhdGEoJGxpc3QsIHBhdGgsIHBhZ2UpIHtcclxuICAgIHBhdGgudXNlcm5hbWUgPSBnZXRVc2VybmFtZShzZWxlY3RDbHMpO1xyXG4gICAgY29uc3QgcGF0aEFyciA9IFtwYXRoLnR5cGUsIGBzdWJ0eXBlLyR7cGF0aC5zdWJ0eXBlfWAsIGBhY2NvdW50LyR7cGF0aC51c2VybmFtZX1gXTtcclxuICAgIFVzZXJUYXNrTWFuYWdlci5nZXRMb2dzQ2hhdEJvdChwYXRoQXJyLCBwYWdlKS50aGVuKChyZXN1bHQpID0+IHtcclxuICAgICAgICBpZiAocmVzdWx0LnN0YXR1cy5zdGF0ZSA9PT0gJ29rJykge1xyXG4gICAgICAgICAgICBmaWxsTGlzdE1ldGEoJGxpc3QsIHJlc3VsdC5kYXRhKTtcclxuICAgICAgICAgICAgdGFiU3RvcFJlcUhhbmRsZXIoKTtcclxuICAgICAgICAgICAgY29uc3QgdXBkYXRlSW50ZXJ2YWwgPSByZXN1bHQuZGF0YS5zZXR0aW5ncy5pbnZva2VfaW5fbWlsbGlzO1xyXG4gICAgICAgICAgICAvLyByZXNldCBUaW1lciByZXF1ZXN0XHJcbiAgICAgICAgICAgIGlmIChpbnRlcnZhbElkKSB7XHJcbiAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKGludGVydmFsSWQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChjdXJyZW50UGFnZSA8PSAxKSB7XHJcbiAgICAgICAgICAgICAgICBpbnRlcnZhbElkID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBpbmRlbnRcclxuICAgICAgICAgICAgICAgICAgICBnZXRMb2dzRGF0YSgkbGlzdCwgcGF0aCwgY3VycmVudFBhZ2UpO1xyXG4gICAgICAgICAgICAgICAgfSwgdXBkYXRlSW50ZXJ2YWwpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgJChgPGxpIGNsYXNzPVwibGlzdC1ncm91cC1pdGVtIHB5LTJcIj5cclxuICAgICAgICAgICAgICAgIDxwPtCd0LXRgiDQtNC+0YHRgtGD0L/QsDwvcD5cclxuICAgICAgICAgICAgPC9saT5gKS5hcHBlbmRUbygkbGlzdCk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHByZUNvbmZpZyhjZmcpIHtcclxuICAgIGNsc0NvbnN0ID0gY2ZnO1xyXG4gICAgJGxpc3QgPSAkKGNsc0NvbnN0LnRhc2tzTGlzdCk7XHJcbiAgICBwYXRoLnR5cGUgPSBjZmcucGF0aFR5cGU7XHJcbiAgICBwYXRoLnN1YnR5cGUgPSBjZmcucGF0aFN1YlR5cGU7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBpbml0KF9zZWxlY3RDbHMsIGNmZykge1xyXG4gICAgaWYgKCQoY2ZnLmN1cnJlbnRQYWdlQ2xzKS5sZW5ndGgpIHtcclxuICAgICAgICBzZWxlY3RDbHMgPSBfc2VsZWN0Q2xzO1xyXG4gICAgICAgIHByZUNvbmZpZyhjZmcpO1xyXG4gICAgICAgIGlmIChnZXRVc2VybmFtZSgpKSB7XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGdldFVzZXJuYW1lKCkpO1xyXG4gICAgICAgICAgICBnZXRMb2dzRGF0YSgkbGlzdCwgcGF0aCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ3NlbGVjdCB1c2VyJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9ibG9ja3MvX3NoYXJlZC9sb2dzL2xvZ3MuanMiLCJpbXBvcnQge0NPTlNUfSBmcm9tICcuLi8uLi8uLi9jb21tb24vanMtc2VydmljZXMvY29uc3RzJztcclxuaW1wb3J0IFVzZXIgZnJvbSAnLi4vLi4vLi4vY29tbW9uL2pzLXNlcnZpY2VzL3VzZXInO1xyXG5cclxuY29uc3QgZmlsbERyb3Bkb3duVXNlcnNDZmcgPSB7fTtcclxuXHJcbmZ1bmN0aW9uIGZpbGxEcm9wZG93blVzZXJzKHskd3JhcHBlciwgbG9nc1N0YXRlLCBPbkNoYW5nZVNlbGVjdENifSwgYWNjb3VudHMpIHtcclxuICAgIGNvbnN0IHtzZWxlY3RDbHN9ID0gbG9nc1N0YXRlO1xyXG4gICAgY29uc3QgbGFiZWwgPSAn0JLRi9Cx0LXRgNC40YLQtSDQsNC60LrQsNGD0L3Rgic7XHJcbiAgICAkd3JhcHBlci5lbXB0eSgpLmFkZENsYXNzKCdib3JkZXItbGlnaHQtY29sb3InKTtcclxuICAgICQoYDxkaXYgY2xhc3M9XCJcIj4ke2xhYmVsfTwvZGl2PjxzZWxlY3QgbmFtZT1cInRhc2stdHlwZVwiIGNsYXNzPVwiJHtzZWxlY3RDbHN9XCI+PC9zZWxlY3Q+YCkuYXBwZW5kVG8oJHdyYXBwZXIpO1xyXG4gICAgYWNjb3VudHMuZm9yRWFjaCgobmFtZSkgPT4ge1xyXG4gICAgICAgICQoYDxvcHRpb24gY2xhc3M9XCJsaXN0LWdyb3VwLWl0ZW0gcHktMlwiIHZhbHVlPVwiJHtuYW1lfVwiPlxyXG4gICAgICAgICAgICAke25hbWV9XHJcbiAgICAgICAgPC9vcHRpb24+YCkuYXBwZW5kVG8oJChgLiR7c2VsZWN0Q2xzfWApKTtcclxuICAgIH0pO1xyXG4gICAgT25DaGFuZ2VTZWxlY3RDYigpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBnZXRNZXRhTGF6eSgpIHtcclxuICAgIFVzZXIuZ2V0TWV0YWRhdGFMYXp5KCkudGhlbigocmVzKSA9PiB7XHJcbiAgICAgICAgaWYgKHJlcy5zdGF0dXMuc3RhdGUgPT09ICdvaycgJiYgcmVzLmRhdGEgJiYgcmVzLmRhdGEuYWNjb3VudHMpIHtcclxuICAgICAgICAgICAgY29uc3QgY2ZnID0gZmlsbERyb3Bkb3duVXNlcnNDZmc7XHJcbiAgICAgICAgICAgIGNvbnN0IHthY2NvdW50c30gPSByZXMuZGF0YTtcclxuICAgICAgICAgICAgZmlsbERyb3Bkb3duVXNlcnMoY2ZnLCBhY2NvdW50cyk7XHJcbiAgICAgICAgICAgIHdpbmRvdy5QdWJTdWIucHVibGlzaChDT05TVC5ldmVudHMuaW5zdGFncmFtQWNjb3Vucy5JTlNUQUdSQU1fQUNDT1VOU19SRU5ERVJFRF9MQVpZLCByZXMuZGF0YS5hY2NvdW50cyk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHRhYkhhbmRsZXIoaXNDb21wdXRlTXVsdHlEcm9wZG93bikge1xyXG4gICAgJCgnI3YtcGlsbHMtbG9ncy10YWInKS5vbignY2xpY2snLCAoZSkgPT4ge1xyXG4gICAgICAgIGdldE1ldGFMYXp5KCk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGluaXQoT25DaGFuZ2VTZWxlY3QsIGxvZ3NTdGF0ZSkge1xyXG4gICAgY29uc3QgJHdyYXBwZXIgPSAkKCcubG9nLXVzZXJzLWxpc3QnKTtcclxuICAgIE9iamVjdC5hc3NpZ24oZmlsbERyb3Bkb3duVXNlcnNDZmcsIHskd3JhcHBlciwgT25DaGFuZ2VTZWxlY3RDYjogT25DaGFuZ2VTZWxlY3QsIGxvZ3NTdGF0ZX0pO1xyXG4gICAgdGFiSGFuZGxlcigpO1xyXG59XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9ibG9ja3MvX3NoYXJlZC90ZWJzLXBpbHMvdGFicy5qcyIsImltcG9ydCAnYm9vdHN0cmFwLXRhZ3NpbnB1dC9kaXN0L2Jvb3RzdHJhcC10YWdzaW5wdXQubWluLmpzJztcclxuXHJcbmNvbnN0IHRhZ3NpbnB1dFNlbGVjdG9yID0gJy5ib290c3RyYXAtdGFnc2lucHV0JztcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBuZXh0QnRudmFsaWRhdGVDb21wZXRpdG9yc0hhbmRsZXIoJGlucHV0LCBuZXh0U3RlcEJ0biwgaWdyb3JlUmVnZXhDaGVjaykge1xyXG4gICAgY29uc3QgZW5nbGlzaENoYXJzID0gL15bQS1aYS16MC05LC5fIFxcbl0rJC87XHJcbiAgICBjb25zdCBjaGVja1RleHRBcmVhID0gKGUsIGlzSW5pdCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGlucHV0dmFsdWUgPSAoIWlzSW5pdCkgPyAkKGUudGFyZ2V0KS5jbG9zZXN0KCdkaXYgaW5wdXQnKS52YWwoKSA6ICcnO1xyXG4gICAgICAgIGNvbnN0IHRleHQgPSAoIWlzSW5pdCkgPyBgJHskKGUudGFyZ2V0KS5jbG9zZXN0KCdkaXYnKS5maW5kKCcuYm9vdHN0cmFwLXRhZ3NpbnB1dCBpbnB1dCcpLnZhbCgpfSwke2lucHV0dmFsdWV9YCA6ICcnO1xyXG4gICAgICAgIGNvbnN0IGlzUmVtb3ZlZCA9ICghaXNJbml0ICYmIGUudHlwZSA9PT0gJ2l0ZW1SZW1vdmVkJyk7XHJcbiAgICAgICAgY29uc3QgdGV4dE9uUmVtb3ZlID0gKGlzUmVtb3ZlZCkgPyBpbnB1dHZhbHVlIDogJyc7XHJcbiAgICAgICAgY29uc3QgcmVtb3ZlQm9yZGVyID0gKCkgPT4ge1xyXG4gICAgICAgICAgICAvLyBlbmFibGUgb24gZGVsZXRlIGFsbFxyXG4gICAgICAgICAgICAkKGUudGFyZ2V0KS5jbG9zZXN0KCcuanNfdGFnc2lucHV0LWJveCcpLmZpbmQodGFnc2lucHV0U2VsZWN0b3IpLnJlbW92ZUNsYXNzKCdib3JkZXItZGFuZ2VyJyk7XHJcbiAgICAgICAgICAgIGlmIChuZXh0U3RlcEJ0bikge1xyXG4gICAgICAgICAgICAgICAgLy8gZGlzYWJsZSBvbiBjaGVjbmdlXHJcbiAgICAgICAgICAgICAgICBuZXh0U3RlcEJ0bi5yZW1vdmVBdHRyKCdkaXNhYmxlZCcsICdkaXNhYmxlZCcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICBjb25zdCBhZGRCb3JkZXIgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgICQoZS50YXJnZXQpLmNsb3Nlc3QoJy5qc190YWdzaW5wdXQtYm94JykuZmluZCh0YWdzaW5wdXRTZWxlY3RvcikuYWRkQ2xhc3MoJ2JvcmRlci1kYW5nZXInKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCd0ZXh0JywgdGV4dCk7XHJcbiAgICAgICAgaWYgKG5leHRTdGVwQnRuKSB7XHJcbiAgICAgICAgICAgIC8vIGRpc2FibGUgb24gY2hlY25nZVxyXG4gICAgICAgICAgICBuZXh0U3RlcEJ0bi5hdHRyKCdkaXNhYmxlZCcsICdkaXNhYmxlZCcpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBpc0FkZGVkVGV4dFZhbGlkID0gdGV4dC5sZW5ndGggJiYgKGVuZ2xpc2hDaGFycy50ZXN0KHRleHQpIHx8ICEhaWdyb3JlUmVnZXhDaGVjayk7XHJcbiAgICAgICAgY29uc3QgaXNSZW1vdmVkVGV4dFZhbGlkID0gdGV4dE9uUmVtb3ZlLmxlbmd0aCAmJiAoZW5nbGlzaENoYXJzLnRlc3QodGV4dE9uUmVtb3ZlKSB8fCAhIWlncm9yZVJlZ2V4Q2hlY2spO1xyXG5cclxuICAgICAgICBpZiAoKGlzQWRkZWRUZXh0VmFsaWQgfHwgaXNSZW1vdmVkVGV4dFZhbGlkKSAmJiB0ZXh0ICE9PSAnLCcpIHtcclxuICAgICAgICAgICAgLy8gZW5hYmxlIG9uIGNoZWNuZ2UgaWYgbGVuZ3RoVGV4dD4xXHJcbiAgICAgICAgICAgIHJlbW92ZUJvcmRlcigpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoIWlzSW5pdCkge1xyXG4gICAgICAgICAgICAvLyAkKGUudGFyZ2V0KS5jbG9zZXN0KCcuanNfdGFnc2lucHV0LWJveCcpLmZpbmQodGFnc2lucHV0U2VsZWN0b3IpLmFkZENsYXNzKCdib3JkZXItZGFuZ2VyJyk7XHJcbiAgICAgICAgICAgIGFkZEJvcmRlcigpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIXRleHRPblJlbW92ZS5sZW5ndGggJiYgaXNSZW1vdmVkICYmICFpc0luaXQpIHtcclxuICAgICAgICAgICAgLy8gZW5hYmxlIG9uIGRlbGV0ZSBhbGxcclxuICAgICAgICAgICAgcmVtb3ZlQm9yZGVyKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIC8vIGRpc2FibGUgb24gaW5pdFxyXG4gICAgY2hlY2tUZXh0QXJlYShudWxsLCAnaXNJbml0Jyk7XHJcbiAgICBjb25zb2xlLmxvZygnJGNvbXBldGl0b3JzVGV4dEFyZWEnLCAkaW5wdXQpO1xyXG5cclxuICAgIGlmICghbmV4dFN0ZXBCdG4pIHtcclxuICAgICAgICAvLyBkbyBub3QgdmFsaWRhdGUgYW55dGhpbmdcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgLy8gZXZlbnQuaXRlbTogY29udGFpbnMgdGhlIGl0ZW1cclxuICAgIC8vIGV2ZW50LmNhbmNlbDogc2V0IHRvIHRydWUgdG8gcHJldmVudCB0aGUgaXRlbSBnZXR0aW5nIGFkZGVkXHJcbiAgICAkaW5wdXQub24oJ2JlZm9yZUl0ZW1BZGQnLCBjaGVja1RleHRBcmVhKTtcclxuXHJcbiAgICAvLyBldmVudC5pdGVtOiBjb250YWlucyB0aGUgaXRlbVxyXG4gICAgJGlucHV0Lm9uKCdpdGVtUmVtb3ZlZCcsIGNoZWNrVGV4dEFyZWEpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaW5pdFRhZ3NJbnB1dCAoJGVsSW5wdXQpIHtcclxuICAgICRlbElucHV0LnRhZ3NpbnB1dCgnaXRlbXMnKTtcclxufVxyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvYmxvY2tzL19zaGFyZWQvdGFncy1pbnB1dC90YWdzLWlucHV0LmpzIiwiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTAsMjAxMSwyMDEyLDIwMTMsMjAxNCBNb3JnYW4gUm9kZXJpY2sgaHR0cDovL3JvZGVyaWNrLmRrXG4gKiBMaWNlbnNlOiBNSVQgLSBodHRwOi8vbXJnbnJkcmNrLm1pdC1saWNlbnNlLm9yZ1xuICpcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9tcm9kZXJpY2svUHViU3ViSlNcbiAqL1xuXG4oZnVuY3Rpb24gKHJvb3QsIGZhY3Rvcnkpe1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIHZhciBQdWJTdWIgPSB7fTtcbiAgICByb290LlB1YlN1YiA9IFB1YlN1YjtcblxuICAgIHZhciBkZWZpbmUgPSByb290LmRlZmluZTtcblxuICAgIGZhY3RvcnkoUHViU3ViKTtcblxuICAgIC8vIEFNRCBzdXBwb3J0XG4gICAgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCl7XG4gICAgICAgIGRlZmluZShmdW5jdGlvbigpIHsgcmV0dXJuIFB1YlN1YjsgfSk7XG5cbiAgICAgICAgLy8gQ29tbW9uSlMgYW5kIE5vZGUuanMgbW9kdWxlIHN1cHBvcnRcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0Jyl7XG4gICAgICAgIGlmIChtb2R1bGUgIT09IHVuZGVmaW5lZCAmJiBtb2R1bGUuZXhwb3J0cykge1xuICAgICAgICAgICAgZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gUHViU3ViOyAvLyBOb2RlLmpzIHNwZWNpZmljIGBtb2R1bGUuZXhwb3J0c2BcbiAgICAgICAgfVxuICAgICAgICBleHBvcnRzLlB1YlN1YiA9IFB1YlN1YjsgLy8gQ29tbW9uSlMgbW9kdWxlIDEuMS4xIHNwZWNcbiAgICAgICAgbW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzID0gUHViU3ViOyAvLyBDb21tb25KU1xuICAgIH1cblxufSgoIHR5cGVvZiB3aW5kb3cgPT09ICdvYmplY3QnICYmIHdpbmRvdyApIHx8IHRoaXMsIGZ1bmN0aW9uIChQdWJTdWIpe1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIHZhciBtZXNzYWdlcyA9IHt9LFxuICAgICAgICBsYXN0VWlkID0gLTE7XG5cbiAgICBmdW5jdGlvbiBoYXNLZXlzKG9iail7XG4gICAgICAgIHZhciBrZXk7XG5cbiAgICAgICAgZm9yIChrZXkgaW4gb2JqKXtcbiAgICAgICAgICAgIGlmICggb2JqLmhhc093blByb3BlcnR5KGtleSkgKXtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIGZ1bmN0aW9uIHRoYXQgdGhyb3dzIHRoZSBwYXNzZWQgZXhjZXB0aW9uLCBmb3IgdXNlIGFzIGFyZ3VtZW50IGZvciBzZXRUaW1lb3V0XG4gICAgICogQGFsaWFzIHRocm93RXhjZXB0aW9uXG4gICAgICogQGZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHsgT2JqZWN0IH0gZXggQW4gRXJyb3Igb2JqZWN0XG4gICAgICovXG4gICAgZnVuY3Rpb24gdGhyb3dFeGNlcHRpb24oIGV4ICl7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiByZVRocm93RXhjZXB0aW9uKCl7XG4gICAgICAgICAgICB0aHJvdyBleDtcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjYWxsU3Vic2NyaWJlcldpdGhEZWxheWVkRXhjZXB0aW9ucyggc3Vic2NyaWJlciwgbWVzc2FnZSwgZGF0YSApe1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgc3Vic2NyaWJlciggbWVzc2FnZSwgZGF0YSApO1xuICAgICAgICB9IGNhdGNoKCBleCApe1xuICAgICAgICAgICAgc2V0VGltZW91dCggdGhyb3dFeGNlcHRpb24oIGV4ICksIDApO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY2FsbFN1YnNjcmliZXJXaXRoSW1tZWRpYXRlRXhjZXB0aW9ucyggc3Vic2NyaWJlciwgbWVzc2FnZSwgZGF0YSApe1xuICAgICAgICBzdWJzY3JpYmVyKCBtZXNzYWdlLCBkYXRhICk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZGVsaXZlck1lc3NhZ2UoIG9yaWdpbmFsTWVzc2FnZSwgbWF0Y2hlZE1lc3NhZ2UsIGRhdGEsIGltbWVkaWF0ZUV4Y2VwdGlvbnMgKXtcbiAgICAgICAgdmFyIHN1YnNjcmliZXJzID0gbWVzc2FnZXNbbWF0Y2hlZE1lc3NhZ2VdLFxuICAgICAgICAgICAgY2FsbFN1YnNjcmliZXIgPSBpbW1lZGlhdGVFeGNlcHRpb25zID8gY2FsbFN1YnNjcmliZXJXaXRoSW1tZWRpYXRlRXhjZXB0aW9ucyA6IGNhbGxTdWJzY3JpYmVyV2l0aERlbGF5ZWRFeGNlcHRpb25zLFxuICAgICAgICAgICAgcztcblxuICAgICAgICBpZiAoICFtZXNzYWdlcy5oYXNPd25Qcm9wZXJ0eSggbWF0Y2hlZE1lc3NhZ2UgKSApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAocyBpbiBzdWJzY3JpYmVycyl7XG4gICAgICAgICAgICBpZiAoIHN1YnNjcmliZXJzLmhhc093blByb3BlcnR5KHMpKXtcbiAgICAgICAgICAgICAgICBjYWxsU3Vic2NyaWJlciggc3Vic2NyaWJlcnNbc10sIG9yaWdpbmFsTWVzc2FnZSwgZGF0YSApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY3JlYXRlRGVsaXZlcnlGdW5jdGlvbiggbWVzc2FnZSwgZGF0YSwgaW1tZWRpYXRlRXhjZXB0aW9ucyApe1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gZGVsaXZlck5hbWVzcGFjZWQoKXtcbiAgICAgICAgICAgIHZhciB0b3BpYyA9IFN0cmluZyggbWVzc2FnZSApLFxuICAgICAgICAgICAgICAgIHBvc2l0aW9uID0gdG9waWMubGFzdEluZGV4T2YoICcuJyApO1xuXG4gICAgICAgICAgICAvLyBkZWxpdmVyIHRoZSBtZXNzYWdlIGFzIGl0IGlzIG5vd1xuICAgICAgICAgICAgZGVsaXZlck1lc3NhZ2UobWVzc2FnZSwgbWVzc2FnZSwgZGF0YSwgaW1tZWRpYXRlRXhjZXB0aW9ucyk7XG5cbiAgICAgICAgICAgIC8vIHRyaW0gdGhlIGhpZXJhcmNoeSBhbmQgZGVsaXZlciBtZXNzYWdlIHRvIGVhY2ggbGV2ZWxcbiAgICAgICAgICAgIHdoaWxlKCBwb3NpdGlvbiAhPT0gLTEgKXtcbiAgICAgICAgICAgICAgICB0b3BpYyA9IHRvcGljLnN1YnN0ciggMCwgcG9zaXRpb24gKTtcbiAgICAgICAgICAgICAgICBwb3NpdGlvbiA9IHRvcGljLmxhc3RJbmRleE9mKCcuJyk7XG4gICAgICAgICAgICAgICAgZGVsaXZlck1lc3NhZ2UoIG1lc3NhZ2UsIHRvcGljLCBkYXRhLCBpbW1lZGlhdGVFeGNlcHRpb25zICk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbWVzc2FnZUhhc1N1YnNjcmliZXJzKCBtZXNzYWdlICl7XG4gICAgICAgIHZhciB0b3BpYyA9IFN0cmluZyggbWVzc2FnZSApLFxuICAgICAgICAgICAgZm91bmQgPSBCb29sZWFuKG1lc3NhZ2VzLmhhc093blByb3BlcnR5KCB0b3BpYyApICYmIGhhc0tleXMobWVzc2FnZXNbdG9waWNdKSksXG4gICAgICAgICAgICBwb3NpdGlvbiA9IHRvcGljLmxhc3RJbmRleE9mKCAnLicgKTtcblxuICAgICAgICB3aGlsZSAoICFmb3VuZCAmJiBwb3NpdGlvbiAhPT0gLTEgKXtcbiAgICAgICAgICAgIHRvcGljID0gdG9waWMuc3Vic3RyKCAwLCBwb3NpdGlvbiApO1xuICAgICAgICAgICAgcG9zaXRpb24gPSB0b3BpYy5sYXN0SW5kZXhPZiggJy4nICk7XG4gICAgICAgICAgICBmb3VuZCA9IEJvb2xlYW4obWVzc2FnZXMuaGFzT3duUHJvcGVydHkoIHRvcGljICkgJiYgaGFzS2V5cyhtZXNzYWdlc1t0b3BpY10pKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmb3VuZDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBwdWJsaXNoKCBtZXNzYWdlLCBkYXRhLCBzeW5jLCBpbW1lZGlhdGVFeGNlcHRpb25zICl7XG4gICAgICAgIG1lc3NhZ2UgPSAodHlwZW9mIG1lc3NhZ2UgPT09ICdzeW1ib2wnKSA/IG1lc3NhZ2UudG9TdHJpbmcoKSA6IG1lc3NhZ2U7XG5cbiAgICAgICAgdmFyIGRlbGl2ZXIgPSBjcmVhdGVEZWxpdmVyeUZ1bmN0aW9uKCBtZXNzYWdlLCBkYXRhLCBpbW1lZGlhdGVFeGNlcHRpb25zICksXG4gICAgICAgICAgICBoYXNTdWJzY3JpYmVycyA9IG1lc3NhZ2VIYXNTdWJzY3JpYmVycyggbWVzc2FnZSApO1xuXG4gICAgICAgIGlmICggIWhhc1N1YnNjcmliZXJzICl7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIHN5bmMgPT09IHRydWUgKXtcbiAgICAgICAgICAgIGRlbGl2ZXIoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHNldFRpbWVvdXQoIGRlbGl2ZXIsIDAgKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQdWJsaXNoZXMgdGhlIG1lc3NhZ2UsIHBhc3NpbmcgdGhlIGRhdGEgdG8gaXQncyBzdWJzY3JpYmVyc1xuICAgICAqIEBmdW5jdGlvblxuICAgICAqIEBhbGlhcyBwdWJsaXNoXG4gICAgICogQHBhcmFtIHsgU3RyaW5nIH0gbWVzc2FnZSBUaGUgbWVzc2FnZSB0byBwdWJsaXNoXG4gICAgICogQHBhcmFtIHt9IGRhdGEgVGhlIGRhdGEgdG8gcGFzcyB0byBzdWJzY3JpYmVyc1xuICAgICAqIEByZXR1cm4geyBCb29sZWFuIH1cbiAgICAgKi9cbiAgICBQdWJTdWIucHVibGlzaCA9IGZ1bmN0aW9uKCBtZXNzYWdlLCBkYXRhICl7XG4gICAgICAgIHJldHVybiBwdWJsaXNoKCBtZXNzYWdlLCBkYXRhLCBmYWxzZSwgUHViU3ViLmltbWVkaWF0ZUV4Y2VwdGlvbnMgKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUHVibGlzaGVzIHRoZSB0aGUgbWVzc2FnZSBzeW5jaHJvbm91c2x5LCBwYXNzaW5nIHRoZSBkYXRhIHRvIGl0J3Mgc3Vic2NyaWJlcnNcbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKiBAYWxpYXMgcHVibGlzaFN5bmNcbiAgICAgKiBAcGFyYW0geyBTdHJpbmcgfSBtZXNzYWdlIFRoZSBtZXNzYWdlIHRvIHB1Ymxpc2hcbiAgICAgKiBAcGFyYW0ge30gZGF0YSBUaGUgZGF0YSB0byBwYXNzIHRvIHN1YnNjcmliZXJzXG4gICAgICogQHJldHVybiB7IEJvb2xlYW4gfVxuICAgICAqL1xuICAgIFB1YlN1Yi5wdWJsaXNoU3luYyA9IGZ1bmN0aW9uKCBtZXNzYWdlLCBkYXRhICl7XG4gICAgICAgIHJldHVybiBwdWJsaXNoKCBtZXNzYWdlLCBkYXRhLCB0cnVlLCBQdWJTdWIuaW1tZWRpYXRlRXhjZXB0aW9ucyApO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTdWJzY3JpYmVzIHRoZSBwYXNzZWQgZnVuY3Rpb24gdG8gdGhlIHBhc3NlZCBtZXNzYWdlLiBFdmVyeSByZXR1cm5lZCB0b2tlbiBpcyB1bmlxdWUgYW5kIHNob3VsZCBiZSBzdG9yZWQgaWYgeW91IG5lZWQgdG8gdW5zdWJzY3JpYmVcbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKiBAYWxpYXMgc3Vic2NyaWJlXG4gICAgICogQHBhcmFtIHsgU3RyaW5nIH0gbWVzc2FnZSBUaGUgbWVzc2FnZSB0byBzdWJzY3JpYmUgdG9cbiAgICAgKiBAcGFyYW0geyBGdW5jdGlvbiB9IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGNhbGwgd2hlbiBhIG5ldyBtZXNzYWdlIGlzIHB1Ymxpc2hlZFxuICAgICAqIEByZXR1cm4geyBTdHJpbmcgfVxuICAgICAqL1xuICAgIFB1YlN1Yi5zdWJzY3JpYmUgPSBmdW5jdGlvbiggbWVzc2FnZSwgZnVuYyApe1xuICAgICAgICBpZiAoIHR5cGVvZiBmdW5jICE9PSAnZnVuY3Rpb24nKXtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIG1lc3NhZ2UgPSAodHlwZW9mIG1lc3NhZ2UgPT09ICdzeW1ib2wnKSA/IG1lc3NhZ2UudG9TdHJpbmcoKSA6IG1lc3NhZ2U7XG5cbiAgICAgICAgLy8gbWVzc2FnZSBpcyBub3QgcmVnaXN0ZXJlZCB5ZXRcbiAgICAgICAgaWYgKCAhbWVzc2FnZXMuaGFzT3duUHJvcGVydHkoIG1lc3NhZ2UgKSApe1xuICAgICAgICAgICAgbWVzc2FnZXNbbWVzc2FnZV0gPSB7fTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGZvcmNpbmcgdG9rZW4gYXMgU3RyaW5nLCB0byBhbGxvdyBmb3IgZnV0dXJlIGV4cGFuc2lvbnMgd2l0aG91dCBicmVha2luZyB1c2FnZVxuICAgICAgICAvLyBhbmQgYWxsb3cgZm9yIGVhc3kgdXNlIGFzIGtleSBuYW1lcyBmb3IgdGhlICdtZXNzYWdlcycgb2JqZWN0XG4gICAgICAgIHZhciB0b2tlbiA9ICd1aWRfJyArIFN0cmluZygrK2xhc3RVaWQpO1xuICAgICAgICBtZXNzYWdlc1ttZXNzYWdlXVt0b2tlbl0gPSBmdW5jO1xuICAgICAgICBcbiAgICAgICAgLy8gcmV0dXJuIHRva2VuIGZvciB1bnN1YnNjcmliaW5nXG4gICAgICAgIHJldHVybiB0b2tlbjtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU3Vic2NyaWJlcyB0aGUgcGFzc2VkIGZ1bmN0aW9uIHRvIHRoZSBwYXNzZWQgbWVzc2FnZSBvbmNlXG4gICAgICogQGZ1bmN0aW9uXG4gICAgICogQGFsaWFzIHN1YnNjcmliZU9uY2VcbiAgICAgKiBAcGFyYW0geyBTdHJpbmcgfSBtZXNzYWdlIFRoZSBtZXNzYWdlIHRvIHN1YnNjcmliZSB0b1xuICAgICAqIEBwYXJhbSB7IEZ1bmN0aW9uIH0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gY2FsbCB3aGVuIGEgbmV3IG1lc3NhZ2UgaXMgcHVibGlzaGVkXG4gICAgICogQHJldHVybiB7IFB1YlN1YiB9XG4gICAgICovXG4gICAgUHViU3ViLnN1YnNjcmliZU9uY2UgPSBmdW5jdGlvbiggbWVzc2FnZSwgZnVuYyApe1xuICAgICAgICB2YXIgdG9rZW4gPSBQdWJTdWIuc3Vic2NyaWJlKCBtZXNzYWdlLCBmdW5jdGlvbigpe1xuICAgICAgICAgICAgLy8gYmVmb3JlIGZ1bmMgYXBwbHksIHVuc3Vic2NyaWJlIG1lc3NhZ2VcbiAgICAgICAgICAgIFB1YlN1Yi51bnN1YnNjcmliZSggdG9rZW4gKTtcbiAgICAgICAgICAgIGZ1bmMuYXBwbHkoIHRoaXMsIGFyZ3VtZW50cyApO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIFB1YlN1YjtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2xlYXJzIGFsbCBzdWJzY3JpcHRpb25zXG4gICAgICogQGZ1bmN0aW9uXG4gICAgICogQHB1YmxpY1xuICAgICAqIEBhbGlhcyBjbGVhckFsbFN1YnNjcmlwdGlvbnNcbiAgICAgKi9cbiAgICBQdWJTdWIuY2xlYXJBbGxTdWJzY3JpcHRpb25zID0gZnVuY3Rpb24gY2xlYXJBbGxTdWJzY3JpcHRpb25zKCl7XG4gICAgICAgIG1lc3NhZ2VzID0ge307XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENsZWFyIHN1YnNjcmlwdGlvbnMgYnkgdGhlIHRvcGljXG4gICAgICogQGZ1bmN0aW9uXG4gICAgICogQHB1YmxpY1xuICAgICAqIEBhbGlhcyBjbGVhckFsbFN1YnNjcmlwdGlvbnNcbiAgICAgKi9cbiAgICBQdWJTdWIuY2xlYXJTdWJzY3JpcHRpb25zID0gZnVuY3Rpb24gY2xlYXJTdWJzY3JpcHRpb25zKHRvcGljKXtcbiAgICAgICAgdmFyIG07XG4gICAgICAgIGZvciAobSBpbiBtZXNzYWdlcyl7XG4gICAgICAgICAgICBpZiAobWVzc2FnZXMuaGFzT3duUHJvcGVydHkobSkgJiYgbS5pbmRleE9mKHRvcGljKSA9PT0gMCl7XG4gICAgICAgICAgICAgICAgZGVsZXRlIG1lc3NhZ2VzW21dO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgc3Vic2NyaXB0aW9uc1xuICAgICAqXG4gICAgICogLSBXaGVuIHBhc3NlZCBhIHRva2VuLCByZW1vdmVzIGEgc3BlY2lmaWMgc3Vic2NyaXB0aW9uLlxuICAgICAqXG5cdCAqIC0gV2hlbiBwYXNzZWQgYSBmdW5jdGlvbiwgcmVtb3ZlcyBhbGwgc3Vic2NyaXB0aW9ucyBmb3IgdGhhdCBmdW5jdGlvblxuICAgICAqXG5cdCAqIC0gV2hlbiBwYXNzZWQgYSB0b3BpYywgcmVtb3ZlcyBhbGwgc3Vic2NyaXB0aW9ucyBmb3IgdGhhdCB0b3BpYyAoaGllcmFyY2h5KVxuICAgICAqIEBmdW5jdGlvblxuICAgICAqIEBwdWJsaWNcbiAgICAgKiBAYWxpYXMgc3Vic2NyaWJlT25jZVxuICAgICAqIEBwYXJhbSB7IFN0cmluZyB8IEZ1bmN0aW9uIH0gdmFsdWUgQSB0b2tlbiwgZnVuY3Rpb24gb3IgdG9waWMgdG8gdW5zdWJzY3JpYmUgZnJvbVxuICAgICAqIEBleGFtcGxlIC8vIFVuc3Vic2NyaWJpbmcgd2l0aCBhIHRva2VuXG4gICAgICogdmFyIHRva2VuID0gUHViU3ViLnN1YnNjcmliZSgnbXl0b3BpYycsIG15RnVuYyk7XG4gICAgICogUHViU3ViLnVuc3Vic2NyaWJlKHRva2VuKTtcbiAgICAgKiBAZXhhbXBsZSAvLyBVbnN1YnNjcmliaW5nIHdpdGggYSBmdW5jdGlvblxuICAgICAqIFB1YlN1Yi51bnN1YnNjcmliZShteUZ1bmMpO1xuICAgICAqIEBleGFtcGxlIC8vIFVuc3Vic2NyaWJpbmcgZnJvbSBhIHRvcGljXG4gICAgICogUHViU3ViLnVuc3Vic2NyaWJlKCdteXRvcGljJyk7XG4gICAgICovXG4gICAgUHViU3ViLnVuc3Vic2NyaWJlID0gZnVuY3Rpb24odmFsdWUpe1xuICAgICAgICB2YXIgZGVzY2VuZGFudFRvcGljRXhpc3RzID0gZnVuY3Rpb24odG9waWMpIHtcbiAgICAgICAgICAgICAgICB2YXIgbTtcbiAgICAgICAgICAgICAgICBmb3IgKCBtIGluIG1lc3NhZ2VzICl7XG4gICAgICAgICAgICAgICAgICAgIGlmICggbWVzc2FnZXMuaGFzT3duUHJvcGVydHkobSkgJiYgbS5pbmRleE9mKHRvcGljKSA9PT0gMCApe1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gYSBkZXNjZW5kYW50IG9mIHRoZSB0b3BpYyBleGlzdHM6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBpc1RvcGljICAgID0gdHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJyAmJiAoIG1lc3NhZ2VzLmhhc093blByb3BlcnR5KHZhbHVlKSB8fCBkZXNjZW5kYW50VG9waWNFeGlzdHModmFsdWUpICksXG4gICAgICAgICAgICBpc1Rva2VuICAgID0gIWlzVG9waWMgJiYgdHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJyxcbiAgICAgICAgICAgIGlzRnVuY3Rpb24gPSB0eXBlb2YgdmFsdWUgPT09ICdmdW5jdGlvbicsXG4gICAgICAgICAgICByZXN1bHQgPSBmYWxzZSxcbiAgICAgICAgICAgIG0sIG1lc3NhZ2UsIHQ7XG5cbiAgICAgICAgaWYgKGlzVG9waWMpe1xuICAgICAgICAgICAgUHViU3ViLmNsZWFyU3Vic2NyaXB0aW9ucyh2YWx1ZSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKCBtIGluIG1lc3NhZ2VzICl7XG4gICAgICAgICAgICBpZiAoIG1lc3NhZ2VzLmhhc093blByb3BlcnR5KCBtICkgKXtcbiAgICAgICAgICAgICAgICBtZXNzYWdlID0gbWVzc2FnZXNbbV07XG5cbiAgICAgICAgICAgICAgICBpZiAoIGlzVG9rZW4gJiYgbWVzc2FnZVt2YWx1ZV0gKXtcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIG1lc3NhZ2VbdmFsdWVdO1xuICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgLy8gdG9rZW5zIGFyZSB1bmlxdWUsIHNvIHdlIGNhbiBqdXN0IHN0b3AgaGVyZVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoaXNGdW5jdGlvbikge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKCB0IGluIG1lc3NhZ2UgKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLmhhc093blByb3BlcnR5KHQpICYmIG1lc3NhZ2VbdF0gPT09IHZhbHVlKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgbWVzc2FnZVt0XTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9O1xufSkpO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L3B1YnN1Yi1qcy9zcmMvcHVic3ViLmpzXG4vLyBtb2R1bGUgaWQgPSAxMVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJpbXBvcnQge0NPTlNUfSBmcm9tICcuLi8uLi8uLi9jb21tb24vanMtc2VydmljZXMvY29uc3RzJztcclxuaW1wb3J0IFVzZXJUYXNrTWFuYWdlciBmcm9tICcuLi8uLi8uLi9jb21tb24vanMtc2VydmljZXMvYXBpLXRhc2stbWFuYWdlcic7XHJcblxyXG4vKiAtLS0tIG1vZGFsKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGZpbGxQb3N0cygkbGlzdCwgaXRlbXMsIGlzQXBwZW5kVG9MaXN0KSB7XHJcbiAgICBjb25zdCBhZGRUb0xpc3QgPSAoaXNBcHBlbmRQcmV2TXNnLCAkbGksICRsaXN0KSA9PiB7XHJcbiAgICAgICAgaWYgKGlzQXBwZW5kUHJldk1zZykge1xyXG4gICAgICAgICAgICAkbGkuaW5zZXJ0QWZ0ZXIoJGxpc3QuZmluZCgnbGk6bGFzdC1jaGlsZCcpKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAkbGkuYXBwZW5kVG8oJGxpc3QpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBpZiAoIWlzQXBwZW5kVG9MaXN0KSB7XHJcbiAgICAgICAgJGxpc3QuZW1wdHkoKTtcclxuICAgIH1cclxuICAgIGl0ZW1zLmZvckVhY2goKGl0ZW0sIGlkeCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IHtpZCwgdHlwZX0gPSBpdGVtO1xyXG4gICAgICAgIGNvbnN0IHRwbCA9ICQoYDxsaSBjbGFzcz1cImNvbC00IGxpc3QtZ3JvdXAgbGlzdC1pbmxpbmUtaXRlbSBtLTAgcC0wXCIgZGF0YS1wb3N0LWlkPVwiJHtpZH1cIiBkYXRhLXBvc3QtdHlwZT1cIiR7dHlwZX1cIj5cclxuICAgICAgICAgICAgJHsoaXRlbS50eXBlID09PSAncGhvdG8nKVxyXG4gICAgICAgICAgICAgICAgPyBgPGltZyBzcmM9XCIke2l0ZW0udXJsfVwiIGNsYXNzPVwiaW1nLXJlc3BvbnNpdmUgcC0yXCIgYWx0PVwiaW1hZ2VcIiBzdHlsZT1cIm1heC1oZWlnaHQ6IDIzMHB4O1wiLz5gXHJcbiAgICAgICAgICAgICAgICA6IGA8ZGl2IGNsYXNzPVwiJHtpdGVtLnR5cGV9IGgtMTAwXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPCEtLXN0eWxlPVwiYmFja2dyb3VuZC1pbWFnZTogdXJsKCR7aXRlbS51cmx9KTtcIi0tPlxyXG4gICAgICAgICAgICAgICAgICAgIDxpbWcgc3JjPVwiJHtpdGVtLnVybH1cIiBjbGFzcz1cImltZy1yZXNwb25zaXZlIHAtMiB3LTEwMFwiIGFsdD1cInZpZGVvLWNvdmVyXCIgc3R5bGU9XCJtYXgtaGVpZ2h0OiAyMDBweDtcIi8+XHJcbiAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9XCJmYXMgZmEtdmlkZW8gZmEtMnggcG9zaXRpb24tYWJzb2x1dGUgdGV4dC13aGl0ZSBhbGlnbi1zZWxmLXN0YXJ0XCI+PC9pPlxyXG4gICAgICAgICAgICAgICAgICA8L2Rpdj5gXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICA8L2xpPmApO1xyXG4gICAgICAgIGFkZFRvTGlzdChpc0FwcGVuZFRvTGlzdCwgdHBsLCAkbGlzdCk7IC8vIHRvRG8gcmVmYWN0b3IgbWUsIGxlc3MgRE9NIG1hbmlwdWxhdGlvblxyXG4gICAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGFkZFBhZ2luYXRpb24obW9kYWxGb290ZXIsIGN1cnNvcikge1xyXG4gICAgJCgnI2xvYWQtbW9yZScpLmF0dHIoJ2N1cnNvcicsIGN1cnNvcik7XHJcbiAgICBtb2RhbEZvb3Rlci5yZW1vdmVDbGFzcygnZC1ub25lJyk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGhpZGVQYWdpbmF0aW9uKG1vZGFsRm9vdGVyKSB7XHJcbiAgICBtb2RhbEZvb3Rlci5hZGRDbGFzcygnZC1ub25lJyk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGltYWdlU2VsZWN0SGFuZGxlcigkbGlzdCwgbW9kYWwsIHRhcmdldEJ1dHRvbikge1xyXG4gICAgJCgnbGknLCAkbGlzdCkub24oJ2NsaWNrJywgKGUpID0+IHtcclxuICAgICAgICBjb25zdCBpbWFnZUJveENscyA9ICdqc191cGxvYWRlZC1pbWctZnJvbS1wb3N0cyc7XHJcbiAgICAgICAgY29uc3QgaW1hZ2VEZWxCdG5DbHMgPSAnanNfZGVsZXRlLXBvc3QtaW1nJztcclxuICAgICAgICBjb25zdCBpbWFnZUJveFNlbGVjdG9yID0gYC4ke2ltYWdlQm94Q2xzfWA7XHJcbiAgICAgICAgY29uc3QgJGJ0bkxpID0gJChlLnRhcmdldCkuY2xvc2VzdCgnbGknKTtcclxuICAgICAgICBjb25zdCBwb3N0SWQgPSAkYnRuTGkuYXR0cignZGF0YS1wb3N0LWlkJyk7XHJcbiAgICAgICAgY29uc3QgcG9zdFR5cGUgPSAkYnRuTGkuYXR0cignZGF0YS1wb3N0LXR5cGUnKTtcclxuICAgICAgICBjb25zdCBjbG9zZXN0Q29sID0gdGFyZ2V0QnV0dG9uLmNsb3Nlc3QoJy5jb2wnKTtcclxuICAgICAgICAvLyB0YXJnZXRCdXR0b24uY2xvc2VzdCgnYnV0dG9uJykuYXR0cignZGF0YS1wb3N0LWltZy1pZCcsIGltZ0lkKTtcclxuICAgICAgICBjb25zb2xlLmxvZygnY2xpY2snLCBwb3N0VHlwZSwgcG9zdElkLCBtb2RhbCk7XHJcbiAgICAgICAgd2luZG93LlB1YlN1Yi5wdWJsaXNoKENPTlNULmV2ZW50cy5tb2RhbC5JTUFHRV9QT1NUX1NFTEVDVEVELFxyXG4gICAgICAgICAgICB7JGJ0bkxpLCBjbG9zZXN0Q29sfSk7XHJcbiAgICAgICAgbW9kYWwubW9kYWwoJ2hpZGUnKTtcclxuICAgICAgICBpZiAodGFyZ2V0QnV0dG9uLmNsb3Nlc3QoJy5jb2wnKS5maW5kKGltYWdlQm94U2VsZWN0b3IpLmxlbmd0aCkge1xyXG4gICAgICAgICAgICB0YXJnZXRCdXR0b24uY2xvc2VzdCgnLmNvbCcpLmZpbmQoaW1hZ2VCb3hTZWxlY3RvcikucmVtb3ZlKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCB0cGxJbWFnZUJveCA9ICQoYDxkaXYgY2xhc3M9XCIke2ltYWdlQm94Q2xzfSB1cGxvYWRlZC1pbWctZnJvbS1wb3N0c1wiIFxyXG4gICAgICAgICAgICAgICAgZGF0YS1wb3N0LWlkPVwiJHtwb3N0SWR9XCIgZGF0YS1wb3N0LXR5cGU9XCIke3Bvc3RUeXBlfVwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJidG4gYnRuLXdhcm5pbmcgdXBsb2FkZWQtaW1nLWZyb20tcG9zdHMtLXJlbW92ZS1idG4gbWwtMiAke2ltYWdlRGVsQnRuQ2xzfVwiPtCj0LTQsNC70LjRgtGMPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICA8L2RpdmApLnByZXBlbmQoJGJ0bkxpLmZpbmQoJ2ltZycpKTtcclxuICAgICAgICB0YXJnZXRCdXR0b24uY2xvc2VzdCgnLmNvbCcpLmFwcGVuZCh0cGxJbWFnZUJveCk7XHJcblxyXG4gICAgICAgICQoYC4ke2ltYWdlRGVsQnRuQ2xzfWApLm9mZigpLm9uKCdjbGljaycsIChlKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRJbWFnZUJveCA9ICQoZS50YXJnZXQpLmNsb3Nlc3QoJy5jb2wnKS5maW5kKGltYWdlQm94U2VsZWN0b3IpO1xyXG4gICAgICAgICAgICBjdXJyZW50SW1hZ2VCb3gucmVtb3ZlKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldFBvc3RzKG1vZGFsLCBkZXRhaWxzLCB7bG9hZE1vcmVIYW5kbGVyLCB0YXJnZXRCdXR0b259KSB7XHJcbiAgICBVc2VyVGFza01hbmFnZXIuZ2V0UG9zdHNBdXRvbWVzc2FnZXMoZGV0YWlscykudGhlbigocmVzdWx0KSA9PiB7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2cocmVzdWx0KTtcclxuICAgICAgICBpZiAocmVzdWx0LnN0YXR1cy5zdGF0ZSA9PT0gJ29rJykge1xyXG4gICAgICAgICAgICBjb25zdCB7ZGF0YX0gPSByZXN1bHQ7XHJcbiAgICAgICAgICAgIGNvbnN0IG1vZGFsRm9vdGVyID0gbW9kYWwgPyAkKCcubW9kYWwtZm9vdGVyJywgbW9kYWwpIDogbnVsbDtcclxuICAgICAgICAgICAgY29uc3QgJGxpc3QgPSAkKCcubW9kYWwtYm9keSAucG9zdHMtbGlzdCcsIG1vZGFsKTtcclxuICAgICAgICAgICAgaWYgKCFkYXRhLnBvc3RzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgLy8gc2hvdyBtZXNzYWdlICdubyBwb3N0cyBmb3VuZCdcclxuICAgICAgICAgICAgICAgIHRhcmdldEJ1dHRvbi5wb3BvdmVyKHtcclxuICAgICAgICAgICAgICAgICAgICBjb250YWluZXI6ICdib2R5JyxcclxuICAgICAgICAgICAgICAgICAgICBjb250ZW50OiAn0KMg0YLQtdC60YPRidC10LPQviDQsNC60LrQsNGD0L3RgtCwINC90LXRgiDQvdC4INC+0LTQvdC+0LPQviDQv9C+0YHRgtCwJyxcclxuICAgICAgICAgICAgICAgICAgICBwbGFjZW1lbnQ6ICdib3R0b20nXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRhcmdldEJ1dHRvbi5wb3BvdmVyKCdkZXN0cm95Jyk7XHJcbiAgICAgICAgICAgICAgICB9LCA0MDAwKTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKG1vZGFsKSB7XHJcbiAgICAgICAgICAgICAgICBmaWxsUG9zdHMoJGxpc3QsIGRhdGEucG9zdHMpO1xyXG4gICAgICAgICAgICAgICAgbW9kYWwubW9kYWwoJ3Nob3cnKTtcclxuICAgICAgICAgICAgICAgIG1vZGFsLm1vZGFsKCdoYW5kbGVVcGRhdGUnKTtcclxuICAgICAgICAgICAgICAgIGltYWdlU2VsZWN0SGFuZGxlcigkbGlzdCwgbW9kYWwsIHRhcmdldEJ1dHRvbik7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZGF0YS5wb3N0cykge1xyXG4gICAgICAgICAgICAgICAgZmlsbFBvc3RzKCRsaXN0LCBkYXRhLnBvc3RzLCAnYXBwZW5kVG9MaXN0Jyk7XHJcbiAgICAgICAgICAgICAgICBpbWFnZVNlbGVjdEhhbmRsZXIoJGxpc3QsICQoJyNwb3N0c0dyaWRNb2RhbCcpLCB0YXJnZXRCdXR0b24pO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAoZGF0YS5wYWdpbmF0aW9uICYmIGRhdGEucGFnaW5hdGlvbi5jdXJzb3IpIHtcclxuICAgICAgICAgICAgICAgIGFkZFBhZ2luYXRpb24obW9kYWxGb290ZXIsIGRhdGEucGFnaW5hdGlvbi5jdXJzb3IpO1xyXG4gICAgICAgICAgICAgICAgbG9hZE1vcmVIYW5kbGVyKGdldFBvc3RzKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGhpZGVQYWdpbmF0aW9uKCQoJy5tb2RhbC1mb290ZXInLCBtb2RhbCkpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIHNob3cgbWVzc2FnZSBlcnJvclxyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG59XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9ibG9ja3MvX3NoYXJlZC9nZXRQb3N0c01vZGFsL3V0aWxzLW1vZGFsLmpzIiwiaW1wb3J0IHZpZXdVdGlscyBmcm9tICcuLi8uLi8uLi9jb21tb24vanMtc2VydmljZXMvdmlldyc7XHJcbmltcG9ydCAqIGFzIGxvZ3MgZnJvbSAnLi9sb2dzJztcclxuaW1wb3J0ICogYXMgdGFicyBmcm9tICcuLi8uLi9fc2hhcmVkL3RlYnMtcGlscy90YWJzJztcclxuXHJcbmZ1bmN0aW9uIG1vdmVJbk9uZVJvdyh1c2VyTGlzdEJveCwgc3ViVHlwZUJveCkge1xyXG4gICAgaWYgKCFzdWJUeXBlQm94Lmxlbmd0aCB8fCAhdXNlckxpc3RCb3gubGVuZ3RoKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgdXNlckxpc3RCb3guYXBwZW5kVG8oc3ViVHlwZUJveCk7XHJcblxyXG4gICAgdXNlckxpc3RCb3guYWRkQ2xhc3MoJ2NvbCcpO1xyXG4gICAgc3ViVHlwZUJveC5hZGRDbGFzcygncm93Jyk7XHJcbiAgICAvLyBhZGQgXCJjb2wtYXV0b1wiIHRvIGZpcnN0IGNvbHVtblxyXG4gICAgc3ViVHlwZUJveC5maW5kKCcubG9nLXN1YnlwZScpLmFkZENsYXNzKCdjb2wtYXV0bycpO1xyXG59XHJcblxyXG4vKipcclxuICogQ2ZnXHJcbiAqIEBwYXJhbSBsb2dzU3RhdGVcclxuICogQHBhcmFtIGxvZ3NTdWJ0eXBlc1xyXG4gKiBAcGFyYW0gY2xzQ29uc3RcclxuICogQ2ZnLWZ1bmN0aW9uc1xyXG4gKiBAcGFyYW0gc2V0VXNlck5hbWVDYlxyXG4gKiBAcGFyYW0gYWRkRHJvcGRvd25cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBpbml0TG9nc1RhYih7bG9nc1N0YXRlLCBsb2dzU3VidHlwZXMsIGNsc0NvbnN0LCBzZXRVc2VyTmFtZUNiLCB0ZXh0UnVzQXJyYXl9KSB7XHJcbiAgICBjb25zdCB7c2VsZWN0Q2xzfSA9IGxvZ3NTdGF0ZTtcclxuICAgIGNvbnN0IHtzZWxlY3RDbHNMb2dzVGFza1R5cGV9ID0gbG9nc1N0YXRlO1xyXG5cclxuICAgIGZ1bmN0aW9uIGRyb3Bkb3duT25TZWxlY3RDYihlKSB7XHJcbiAgICAgICAgY2xzQ29uc3QucGF0aFN1YlR5cGUgPSAkKGAuJHtzZWxlY3RDbHNMb2dzVGFza1R5cGV9IG9wdGlvbjpzZWxlY3RlZGApLnZhbCgpO1xyXG4gICAgICAgICQoJy5qc19sb2dzLWNvbnRhaW5lcicpLmFkZENsYXNzKCdkLWJsb2NrJyk7XHJcbiAgICAgICAgJCgnb3B0aW9uLmpzX2VtcHR5LXN1YnR5cGUnKS5yZW1vdmUoKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBPbkNoYW5nZVNlbGVjdCgpIHtcclxuICAgICAgICBjb25zdCB1c2VybmFtZVNlbGVjdGVkID0gJChgLiR7c2VsZWN0Q2xzfSBvcHRpb246c2VsZWN0ZWRgKS52YWwoKTtcclxuICAgICAgICBzZXRVc2VyTmFtZUNiKHVzZXJuYW1lU2VsZWN0ZWQpO1xyXG4gICAgICAgIGxvZ3MuaW5pdChzZWxlY3RDbHMsIGNsc0NvbnN0KTtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIGhhbmRsZUxvZ3NEcm9wZG93bnMoKSB7XHJcbiAgICAgICAgZHJvcGRvd25PblNlbGVjdENiKCk7XHJcbiAgICAgICAgT25DaGFuZ2VTZWxlY3QoKTtcclxuICAgICAgICAkKGAuJHtzZWxlY3RDbHNMb2dzVGFza1R5cGV9YCkub24oJ2NoYW5nZScsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgZHJvcGRvd25PblNlbGVjdENiKCk7XHJcbiAgICAgICAgICAgIGxvZ3MuaW5pdChzZWxlY3RDbHMsIGNsc0NvbnN0KTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgJChgLiR7c2VsZWN0Q2xzfWApLm9uKCdjaGFuZ2UnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIE9uQ2hhbmdlU2VsZWN0KCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICB2aWV3VXRpbHMuYWRkRHJvcGRvd24oJChsb2dzU3RhdGUud3JhcHBlclN1YnR5cGUpLCBsb2dzU3VidHlwZXMsIHtsb2dzU3RhdGUsIGlzUmVuZGVyRW1wdHlPcHRpb246IGZhbHNlLCB0ZXh0UnVzQXJyYXl9KTtcclxuICAgIHRhYnMuaW5pdChoYW5kbGVMb2dzRHJvcGRvd25zLCBsb2dzU3RhdGUpOyAvLyBtYWtlcyBkb3VibGUgcmVxdWVzdCA6IE9QVElPTiBhbmQgR0VUXHJcblxyXG4gICAgY29uc3QgdXNlckxpc3RCb3ggPSAkKCcubG9nLXVzZXJzLWxpc3QgJyk7XHJcbiAgICBjb25zdCBzdWJUeXBlQm94ID0gJCgnLmxvZy1zdWJ5cGUtLWJveCcpO1xyXG4gICAgbW92ZUluT25lUm93KHVzZXJMaXN0Qm94LCBzdWJUeXBlQm94KTtcclxufVxyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvYmxvY2tzL19zaGFyZWQvbG9ncy9sb2dzLXRhYnMuanMiLCJpbXBvcnQge0NPTlNUfSBmcm9tICcuLi8uLi9jb21tb24vanMtc2VydmljZXMvY29uc3RzJztcclxuaW1wb3J0IFVzZXJUYXNrTWFuYWdlciBmcm9tICcuLi8uLi9jb21tb24vanMtc2VydmljZXMvYXBpLXRhc2stbWFuYWdlcic7XHJcbmltcG9ydCBTcGlubmVyIGZyb20gJy4uLy4uL2NvbW1vbi9qcy1zZXJ2aWNlcy9zcGlubmVyJztcclxuLy8gaW1wb3J0IHZpZXdVdGlscyBmcm9tICcuLi8uLi9jb21tb24vanMtc2VydmljZXMvdmlldyc7XHJcblxyXG4vKlxyXG4qIHJlYWQgZmlsZVxyXG4qL1xyXG5sZXQgZmlsZVVwbG9hZEJveCA9ICcnO1xyXG5jb25zdCBNQVhfSU1HX0ZJTEVfU0laRV9CWVRFID0gMTA0ODU3NiAqIDEwMDtcclxuY29uc3QgRklMRV9UWVBFID0gJ3R4dCc7XHJcbmZ1bmN0aW9uIGlzRmlsZVR5cGVPayhhY2NlcHRlZEZpbGUpIHtcclxuICAgIHJldHVybiBhY2NlcHRlZEZpbGUudHlwZSA9PT0gJ3RleHQvcGxhaW4nO1xyXG59XHJcblxyXG5mdW5jdGlvbiBpc0ltZ1NpemVPayhhY2NlcHRlZEZpbGUpIHtcclxuICAgIGNvbnN0IGltZ1NpemUgPSBNYXRoLnJvdW5kKGFjY2VwdGVkRmlsZS5zaXplKTtcclxuICAgIHJldHVybiBNQVhfSU1HX0ZJTEVfU0laRV9CWVRFID4gaW1nU2l6ZTtcclxufVxyXG5cclxuZnVuY3Rpb24gaGFuZGxlU3VibWl0KGlucHV0KSB7XHJcbiAgICBjb25zdCB1cmwgPSBDT05TVC5nZXRQYXRoKCdpbnN0YWdyYW1UYXNrTWFuYWdlcl9wb3N0VGV4dEF0dGFjaG1lbnQnKTtcclxuICAgIGNvbnN0IHRva2VuID0gVXNlclRhc2tNYW5hZ2VyLmdldFRva2VuKCk7XHJcbiAgICBjb25zdCBhY2NlcHRlZEZpbGUgPSBpbnB1dC5maWxlc1swXTtcclxuICAgIGNvbnNvbGUubG9nKCdoYW5kbGVTdWJtaXQgZm9sbG93Jyk7XHJcbiAgICBjb25zdCBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpO1xyXG4gICAgZm9ybURhdGEuYXBwZW5kKCdmaWxlJywgYWNjZXB0ZWRGaWxlLCBhY2NlcHRlZEZpbGUubmFtZSk7XHJcblxyXG4gICAgY29uc3QgcmVxdWVzdCA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xyXG4gICAgcmVxdWVzdC5vcGVuKCdQT1NUJywgdXJsKTtcclxuICAgIC8vIHJlcXVlc3Qud2l0aENyZWRlbnRpYWxzID0gdHJ1ZTtcclxuICAgIHJlcXVlc3Quc2V0UmVxdWVzdEhlYWRlcigndG9rZW4nLCB0b2tlbik7XHJcbiAgICByZXF1ZXN0LnNldFJlcXVlc3RIZWFkZXIoJ0FjY2VwdCcsICdhcHBsaWNhdGlvbi9qc29uJyk7XHJcbiAgICByZXF1ZXN0LnNldFJlcXVlc3RIZWFkZXIoJ2NhY2hlLWNvbnRyb2wnLCAnbm8tY2FjaGUnKTtcclxuICAgIHJlcXVlc3Quc2VuZChmb3JtRGF0YSk7XHJcbiAgICByZXF1ZXN0LmFkZEV2ZW50TGlzdGVuZXIoJ3JlYWR5c3RhdGVjaGFuZ2UnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMucmVhZHlTdGF0ZSA9PT0gNCkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygndGhpcycsIHRoaXMucmVzcG9uc2VUZXh0LCB0aGlzKTtcclxuICAgICAgICAgICAgd2luZG93LlB1YlN1Yi5wdWJsaXNoKENPTlNULmV2ZW50cy5hdXRvYXJuc3dlci5URVhUX0ZJTEVfVVBMT0FERUQsIHsncmVzcG9uc2UnOiB0aGlzLnJlc3BvbnNlVGV4dCwgJ2VsJzogaW5wdXR9KTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuICAgIFNwaW5uZXIuYWRkKCQoJy5hZGQtZmlsZScpLCAnJyk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHJlYWRVUkwoaW5wdXQpIHtcclxuICAgIGNvbnN0ICRjb250YWluZXIgPSAkKGlucHV0KS5jbG9zZXN0KGZpbGVVcGxvYWRCb3gpO1xyXG4gICAgaWYgKGlucHV0LmZpbGVzICYmIGlucHV0LmZpbGVzWzBdKSB7XHJcbiAgICAgICAgY29uc3QgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcclxuICAgICAgICBjb25zb2xlLmxvZygncmVhZFVSTCcpO1xyXG4gICAgICAgIGlmICghaXNJbWdTaXplT2soaW5wdXQuZmlsZXNbMF0pIHx8ICFpc0ZpbGVUeXBlT2soaW5wdXQuZmlsZXNbMF0pKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdzaG93IGVycm9yIG1lc3NhZ2UsIGltZ1NpemUgdG8gYmlnICcpO1xyXG4gICAgICAgICAgICAkKGZpbGVVcGxvYWRCb3gpLmFwcGVuZChgXHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwid2FybmluZy1pbWFnZSB0ZXh0LWRhbmdlclwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxwPtCU0L7RgdGC0YPQv9C90YvQuSDRhNC+0YDQvNCw0YIg0LjQt9C+0LHRgNCw0LbQtdC90LjRjyAke0ZJTEVfVFlQRX08L3A+XHJcbiAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3M9XCJtc2ctbWF4LXNpemUtaW1nIHRleHQtZGFuZ2VyXCI+0JzQsNC60YHQuNC80LDQu9GM0L3Ri9C5INC00L7Qv9GD0YHRgtC40LzRi9C5INGA0LDQt9C80LXRgCDQutCw0YDRgtC40L3QutC4IDEwMCBNQjwvcD5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICBgKTtcclxuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAkKCcud2FybmluZy1pbWFnZScpLmFkZENsYXNzKCdkLW5vbmUnKTtcclxuICAgICAgICAgICAgfSwgNTAwMCk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJlYWRlci5vbmxvYWQgPSBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgICAgICRjb250YWluZXIuZmluZCgnLmltYWdlLXVwbG9hZC13cmFwJykuaGlkZSgpO1xyXG4gICAgICAgICAgICAkY29udGFpbmVyLmZpbmQoJy5maWxlLXVwbG9hZC1pbWFnZScpLmF0dHIoJ3NyYycsIGUudGFyZ2V0LnJlc3VsdCk7XHJcbiAgICAgICAgICAgIC8vICRjb250YWluZXIuZmluZChmaWxlVXBsb2FkQ29udGVudCkuc2hvdygpO1xyXG4gICAgICAgICAgICAkY29udGFpbmVyLmZpbmQoJy5pbWFnZS10aXRsZScpLmh0bWwoaW5wdXQuZmlsZXNbMF0ubmFtZSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICAvLyByZWFkZXIub25lcnJvciA9IGVycm9ySGFuZGxlcjtcclxuICAgICAgICAvLyByZWFkZXIub25wcm9ncmVzcyA9IHVwZGF0ZVByb2dyZXNzO1xyXG5cclxuICAgICAgICByZWFkZXIucmVhZEFzRGF0YVVSTChpbnB1dC5maWxlc1swXSk7XHJcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiBoYW5kbGVTdWJtaXQoaW5wdXQpLCAyMDAwKTtcclxuICAgICAgICAvLyBSZWFkIGluIHRoZSBpbWFnZSBmaWxlIGFzIGEgYmluYXJ5IHN0cmluZy5cclxuICAgICAgICAvLyByZWFkZXIucmVhZEFzQmluYXJ5U3RyaW5nKGlucHV0LmZpbGVzWzBdKTtcclxuXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIC8vIHJlbW92ZVVwbG9hZCgkY29udGFpbmVyKTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGF0dGFjaFR4dEZpbGVIYW5kbGVyKF9maWxlVXBsb2FkQm94LCBvblN1Y2Nlc3NGaWxlVXBsb2FkQ2IpIHtcclxuICAgIGZpbGVVcGxvYWRCb3ggPSBfZmlsZVVwbG9hZEJveDtcclxuICAgICQoJy5pbnB1dC10eHQtZmlsZScpLmNoYW5nZShmdW5jdGlvbigpIHtcclxuICAgICAgICBpZiAoJCh0aGlzKS52YWwoKSAhPT0gJycpIHtcclxuICAgICAgICAgICAgJCh0aGlzKS5wcmV2KCkudGV4dChg0JLRi9Cx0YDQsNC90L4g0YTQsNC50LvQvtCyOiAkeyQodGhpcylbMF0uZmlsZXMubGVuZ3RofWApO1xyXG4gICAgICAgICAgICByZWFkVVJMKCQodGhpcylbMF0pO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICQodGhpcykucHJldigpLnRleHQoJ9CS0YvQsdC10YDQtdGC0LUg0YTQsNC50LsnKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuICAgIHdpbmRvdy5QdWJTdWIuc3Vic2NyaWJlKENPTlNULmV2ZW50cy5hdXRvYXJuc3dlci5URVhUX0ZJTEVfVVBMT0FERUQsIChlLCByZXMpID0+IHtcclxuICAgICAgICBjb25zdCB7cmVzcG9uc2V9ID0gcmVzO1xyXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IChyZXNwb25zZS5sZW5ndGgpID8gSlNPTi5wYXJzZShyZXNwb25zZSkgOiAnJztcclxuICAgICAgICBjb25zdCBpbWFnZUlkID0gcmVzdWx0ICYmIHJlc3VsdC5kYXRhICYmIHJlc3VsdC5kYXRhLmxpc3RfaWQ7XHJcbiAgICAgICAgJChyZXMuZWwpLmNsb3Nlc3QoZmlsZVVwbG9hZEJveCkuYXR0cignYXR0YWNoZWQtdHh0LWlkJywgaW1hZ2VJZCk7XHJcbiAgICAgICAgaWYgKG9uU3VjY2Vzc0ZpbGVVcGxvYWRDYiAmJiB0eXBlb2Ygb25TdWNjZXNzRmlsZVVwbG9hZENiID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgICAgIG9uU3VjY2Vzc0ZpbGVVcGxvYWRDYigpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBtYWtlIG5leHQtYnRuIGF2YWlsYWJsZVxyXG4gICAgICAgIGNvbnN0IG5leHRTdGVwID0gJCgnLmpzX2FkZC1uZXctdGFzayBmaWVsZHNldCcpLmdldCgyKTtcclxuICAgICAgICAkKG5leHRTdGVwKS5maW5kKCcuYnRuLW5leHQnKS5yZW1vdmVBdHRyKCdkaXNhYmxlZCcpO1xyXG4gICAgICAgIFNwaW5uZXIucmVtb3ZlKCk7XHJcbiAgICAgICAgY29uc29sZS5sb2coJyoqKlRFWFRfRklMRV9VUExPQURFRCwgb25TdWNjZXNzRmlsZVVwbG9hZENiJywgcmVzKTtcclxuICAgIH0pO1xyXG59XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9ibG9ja3MvZm9sbG93L2ZvbGxvdy1yZWFkLWZpbGUtdHh0LmpzIiwiaW1wb3J0ICdlbW9qaW9uZUFyZWEnO1xyXG5cclxuZXhwb3J0IGNvbnN0IGVtb2ppID0gKGNsc0NvbnN0KSA9PiB7XHJcbiAgICBpZiAoISQoY2xzQ29uc3QucGFnZSkubGVuZ3RoKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVudXNlZC12YXJzXHJcbiAgICAvLyBjb25zdCBtID0gbmV3IE1ldGVvckVtb2ppKCk7XHJcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLXZhcnNcclxuICAgIC8vIGNvbnN0IGVwID0gbmV3IEVtb2ppUGlja2VyKCk7XHJcbiAgICAvLyBjb25zdCAkcGlja2VyID0gJCgndGV4dGFyZWFbZGF0YS1lbW9qaS1waWNrZXI9XCJ0cnVlXCJdIH4gZGl2Jyk7XHJcbiAgICAvLyBjb25zdCBzdHlsZSA9ICRwaWNrZXIuYXR0cignc3R5bGUnKTtcclxuICAgIC8vIGNvbnN0IHN0eWxlTmV3ID0gc3R5bGUucmVwbGFjZShjbHNDb25zdC5zdHlsZXMub2xkLCBjbHNDb25zdC5zdHlsZXMubmV3KTtcclxuICAgIC8vICRwaWNrZXIuYXR0cignc3R5bGUnLCBzdHlsZU5ldyk7XHJcblxyXG4gICAgJCgndGV4dGFyZWFbZGF0YS1lbW9qaS1waWNrZXI9XCJ0cnVlXCJdJykuZW1vamlvbmVBcmVhKHtcclxuICAgICAgICBwaWNrZXJQb3NpdGlvbjogJ2JvdHRvbScsXHJcbiAgICAgICAgdG9uZXNTdHlsZTogJ3NxdWFyZScsXHJcbiAgICAgICAgZmlsdGVyc1Bvc2l0aW9uOiAnYm90dG9tJyxcclxuICAgICAgICBzZWFyY2g6IHRydWUsXHJcbiAgICAgICAgZXZlbnRzOiB7XHJcbiAgICAgICAgICAgIGtleXVwIChlZGl0b3IsIGV2ZW50KSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlZGl0b3IuaHRtbCgpKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMuZ2V0VGV4dCgpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG59O1xyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvY29tbW9uL2pzLXNlcnZpY2VzL2Vtb2ppLmpzIiwiaW1wb3J0IHZpZXdVdGlscyBmcm9tICcuL3ZpZXcnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTmV0d29yayB7XHJcblxyXG4gICAgY2JFcnJvckRlZmF1bHQocmVzdWx0KSB7XHJcbiAgICAgICAgY29uc3QgJGVsID0gKCQoJyNkZXNjcmlwdGlvbicpLmxlbmd0aCkgPyAkKCcjZGVzY3JpcHRpb24nKSA6ICQoJy5lcnJvci1tc2cnKTtcclxuICAgICAgICB2aWV3VXRpbHMuc2hvd0luZm9NZXNzYWdlKCRlbCxcclxuICAgICAgICAgICAgcmVzdWx0LnN0YXR1cy5zdGF0ZSxcclxuICAgICAgICAgICAgcmVzdWx0LnN0YXR1cy5tZXNzYWdlIHx8ICdlcnJvcicpO1xyXG4gICAgfVxyXG5cclxuICAgIGNoZWNrU3RhdHVzKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyAmJiByZXNwb25zZS5zdGF0dXMgPj0gMjAwICYmIHJlc3BvbnNlLnN0YXR1cyA8IDMwMCkge1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzcG9uc2U7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgY29uc3QgZXJyb3IgPSBuZXcgRXJyb3IocmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgIGVycm9yLnJlc3BvbnNlID0gcmVzcG9uc2U7XHJcbiAgICAgICAgICAgIHRocm93IGVycm9yO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBzZW5kUmVxdWVzdChVUkwsIE9QVFMsIGNiRXJyb3IpIHtcclxuICAgICAgICByZXR1cm4gZmV0Y2goVVJMLCBPUFRTKVxyXG4gICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiBQcm9taXNlLmFsbChbcmVzcG9uc2UsIHJlc3BvbnNlLmpzb24oKV0pKVxyXG4gICAgICAgICAgICAudGhlbigoW3Jlc3BvbnNlLCBqc29uXSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghY2JFcnJvcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNiRXJyb3JEZWZhdWx0KGpzb24pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNiRXJyb3IoanNvbik7IC8vIHVwZGF0ZSB2aWV3XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2hlY2tTdGF0dXMocmVzcG9uc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIHRocm93IG5ldyBFcnJvcihqc29uLnN0YXR1cy5tZXNzYWdlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiBqc29uO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgIH1cclxufVxyXG5cclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2NvbW1vbi9qcy1zZXJ2aWNlcy9uZXR3b3JrLmpzIiwiLy8gaW1wb3J0ICQgZnJvbSAnanF1ZXJ5JztcclxuLy8gaW1wb3J0IHtDT05TVH0gZnJvbSAnLi9jb25zdHMnO1xyXG4vLyBpbXBvcnQgTmV0d29yayBmcm9tICcuL25ldHdvcmsnO1xyXG4vLyBpbXBvcnQgQ29va2llU3RvcmFnZSBmcm9tICcuL2Nvb2tpZSc7XHJcbi8vIGltcG9ydCBQdWJTdWIgZnJvbSAncHVic3ViLWpzJzsgLy8gaHR0cHM6Ly93d3cubnBtanMuY29tL3BhY2thZ2UvcHVic3ViLWpzXHJcblxyXG4vLyBjb25zdCBTUElOTkVSX0JBU0VfVEVNUEFMQVRFID0gJ2pzL3VpL3RwbC9zcGlubmVyLmhicyc7XHJcbmNvbnN0IGNsYXNzZXMgPSB7XHJcbiAgICBpbmxpbmU6ICdnbG9iYWwtaW5saW5lLXNwaW5uZXInLFxyXG4gICAgb3ZlcmxheTogJ2dsb2JhbC1vdmVybGF5LXNwaW5uZXInLFxyXG4gICAgZml4ZWQ6ICdnbG9iYWwtZml4ZWQtc3Bpbm5lcicsXHJcbiAgICBidXR0b246ICdidXR0b24tLWxvYWQnXHJcbn07XHJcbi8vIGNvbnN0IGhhbmRsZWJhcnNUcGwgPSBmdW5jdGlvbiAobmFtZSwgZGF0YSwgJHRhcmdldCkge1xyXG4vLyAgICAgLy8gdmFyIGh0bWwgPSB0aGlzLmdldFRlbXBsYXRlKG5hbWUpKGRhdGEpO1xyXG4vLyAgICAgdmFyIGh0bWwgPSBIYW5kbGViYXJzLmNvbXBpbGUodGVtcGxhdGUpO1xyXG4vL1xyXG4vLyAgICAgaWYgKCR0YXJnZXQpIHtcclxuLy8gICAgICAgICAvL2ZvciBwcmV2ZW50aW5nIHhzc1xyXG4vLyAgICAgICAgICR0YXJnZXRbMF0uaW5uZXJIVE1MID0gaHRtbDtcclxuLy8gICAgIH1cclxuLy9cclxuLy8gICAgIHJldHVybiBodG1sO1xyXG4vLyB9O1xyXG4vLyBjb25zdCBoYW5kbGViYXJzID0gdGhpcy5nZXRTZXJ2aWNlKCdjb3JlLnRlbXBsYXRpbmcuaGFuZGxlYmFycycpO1xyXG5cclxuY2xhc3MgU3Bpbm5lciB7XHJcblxyXG4gICAgY29uc3RydWN0b3IoX2NmZykge1xyXG4gICAgICAgIHRoaXMuY2ZnID0gX2NmZyB8fCB7fTtcclxuICAgICAgICAvLyB0aGlzLiRkZWZhdWx0Q29udGFpbmVyID0gJCgnYm9keScpO1xyXG4gICAgICAgICQuZXh0ZW5kKGNsYXNzZXMsIHRoaXMuY2ZnLmNsYXNzZXMpO1xyXG4gICAgICAgIC8vIHRoaXMuX21lZGlhdG9yLnN1YnNjcmliZShDT05TVC5ldmVudHMuU1RPUF9GSVhFRF9TUElOTkVSLCB0aGlzLnN0b3BGaXhlZFNwaW5uZXIuYmluZCh0aGlzKSk7XHJcbiAgICB9XHJcbiAgICAvLyBfbWVkaWF0b3IgPSBQdWJTdWI7XHJcblxyXG4gICAgc3RhcnQoJGVsLCBwcmV3Q2xzKSB7XHJcbiAgICAgICAgLy8gaWYgKGFkZE9yUmVtb3ZlKSB7XHJcbiAgICAgICAgLy8gICAgICQoJyNmb28nKS5hZGRDbGFzcyhjbGFzc05hbWUpO1xyXG4gICAgICAgIC8vIH1cclxuICAgICAgICAvLyBlbHNlIHtcclxuICAgICAgICAvLyAgICAgJCgnI2ZvbycpLnJlbW92ZUNsYXNzKGNsYXNzTmFtZSk7XHJcbiAgICAgICAgLy8gfVxyXG4gICAgICAgICRlbC5maW5kKCdpJykudG9nZ2xlQ2xhc3MocHJld0NscykuYWRkQ2xhc3MoJ2ZhLXNwaW4gZmEtc3Bpbm5lcicpO1xyXG4gICAgfVxyXG5cclxuICAgIHN0b3AoJGVsLCBuZXdDbHMpIHtcclxuICAgICAgICAkZWwuZmluZCgnaScpLnRvZ2dsZUNsYXNzKG5ld0NscykucmVtb3ZlQ2xhc3MoJ2ZhLXNwaW4gZmEtc3Bpbm5lcicpO1xyXG4gICAgfVxyXG5cclxuICAgIGFkZCgkZWwsIG5ld0Nscykge1xyXG4gICAgICAgIHRoaXMuJGVsID0gJGVsO1xyXG4gICAgICAgICRlbC5wcmVwZW5kKGA8ZGl2IGNsYXNzPVwic3Bpbm5lci1ib3gganVzdGlmeS1jb250ZW50LWNlbnRlciAke25ld0Nsc31cIj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInNwaW4tYW5pbWF0aW9uXCI+XHJcbiAgICAgICAgICAgICAgICA8c3ZnIGFyaWEtaGlkZGVuPVwidHJ1ZVwiIGRhdGEtcHJlZml4PVwiZmFyXCIgZGF0YS1pY29uPVwic3luYy1hbHRcIiByb2xlPVwiaW1nXCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHZpZXdCb3g9XCIwIDAgNTEyIDUxMlwiIGNsYXNzPVwic3ZnLWlubGluZS0tZmEgZmEtc3luYy1hbHQgZmEtdy0xNiBmYS1mdyBmYS0yeFwiPjxwYXRoIGZpbGw9XCJjdXJyZW50Q29sb3JcIiBkPVwiTTQ4My41MTUgMjguNDg1TDQzMS4zNSA4MC42NUMzODYuNDc1IDM1Ljc2NyAzMjQuNDg1IDggMjU2IDggMTIzLjIyOCA4IDE0LjgyNCAxMTIuMzM4IDguMzEgMjQzLjQ5MyA3Ljk3MSAyNTAuMzExIDEzLjQ3NSAyNTYgMjAuMzAxIDI1NmgyOC4wNDVjNi4zNTMgMCAxMS42MTMtNC45NTIgMTEuOTczLTExLjI5NEM2Ni4xNjEgMTQxLjY0OSAxNTEuNDUzIDYwIDI1NiA2MGM1NC4xNjMgMCAxMDMuMTU3IDIxLjkyMyAxMzguNjE0IDU3LjM4NmwtNTQuMTI4IDU0LjEyOWMtNy41NiA3LjU2LTIuMjA2IDIwLjQ4NSA4LjQ4NSAyMC40ODVINDkyYzYuNjI3IDAgMTItNS4zNzMgMTItMTJWMzYuOTcxYzAtMTAuNjkxLTEyLjkyNi0xNi4wNDUtMjAuNDg1LTguNDg2ek00OTEuNjk5IDI1NmgtMjguMDQ1Yy02LjM1MyAwLTExLjYxMyA0Ljk1Mi0xMS45NzMgMTEuMjk0QzQ0NS44MzkgMzcwLjM1MSAzNjAuNTQ3IDQ1MiAyNTYgNDUyYy01NC4xNjMgMC0xMDMuMTU3LTIxLjkyMy0xMzguNjE0LTU3LjM4Nmw1NC4xMjgtNTQuMTI5YzcuNTYtNy41NiAyLjIwNi0yMC40ODUtOC40ODUtMjAuNDg1SDIwYy02LjYyNyAwLTEyIDUuMzczLTEyIDEydjE0My4wMjljMCAxMC42OTEgMTIuOTI2IDE2LjA0NSAyMC40ODUgOC40ODVMODAuNjUgNDMxLjM1QzEyNS41MjUgNDc2LjIzMyAxODcuNTE2IDUwNCAyNTYgNTA0YzEzMi43NzMgMCAyNDEuMTc2LTEwNC4zMzggMjQ3LjY5LTIzNS40OTMuMzM5LTYuODE4LTUuMTY1LTEyLjUwNy0xMS45OTEtMTIuNTA3elwiIGNsYXNzPVwiXCI+PC9wYXRoPjwvc3ZnPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L2Rpdj5gKTtcclxuICAgIH1cclxuXHJcbiAgICByZW1vdmUoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuJGVsICYmIHRoaXMuJGVsLmxlbmd0aCkge1xyXG4gICAgICAgICAgICB0aGlzLiRlbC5maW5kKCcuc3Bpbm5lci1ib3gnKS5yZW1vdmUoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBBZGRzIHNwaW5uZXIgaWNvbiBvbiBidXR0b24gYmVmb3JlIHRoZSBidXR0b24gdGV4dFxyXG4gICAgICogQHBhcmFtIHtqUXVlcnl9ICRlbFxyXG4gICAgICovXHJcbiAgICBzdGFydEJ1dHRvblNwaW5uZXIgPSBmdW5jdGlvbiAoJGVsLCBuZXdDbHMpIHtcclxuICAgICAgICAkZWwuYWRkQ2xhc3MoY2xhc3Nlcy5idXR0b24pO1xyXG4gICAgICAgIGlmICgkZWwuZmluZCgnLnNwaW5uZXItYm94LS1idXR0b24nKS5sZW5ndGgpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICAkZWwucHJlcGVuZChgPGRpdiBjbGFzcz1cInNwaW5uZXItYm94IHNwaW5uZXItYm94LS1idXR0b24ganVzdGlmeS1jb250ZW50LWNlbnRlciBwb3NpdGlvbi1yZWxhdGl2ZSBwLTAgbS0wIGJnLXRyYW5zcGFyZW50ICR7bmV3Q2xzfVwiPlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwic3Bpbi1hbmltYXRpb25cIj5cclxuICAgICAgICAgICAgICAgIDxzdmcgYXJpYS1oaWRkZW49XCJ0cnVlXCIgZGF0YS1wcmVmaXg9XCJmYXJcIiBkYXRhLWljb249XCJzeW5jLWFsdFwiIHJvbGU9XCJpbWdcIiB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgdmlld0JveD1cIjAgMCA1MTIgNTEyXCIgXHJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJmYS1md1wiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxwYXRoIGZpbGw9XCJjdXJyZW50Q29sb3JcIiBkPVwiTTQ4My41MTUgMjguNDg1TDQzMS4zNSA4MC42NUMzODYuNDc1IDM1Ljc2NyAzMjQuNDg1IDggMjU2IDggMTIzLjIyOCA4IDE0LjgyNCAxMTIuMzM4IDguMzEgMjQzLjQ5MyA3Ljk3MSAyNTAuMzExIDEzLjQ3NSAyNTYgMjAuMzAxIDI1NmgyOC4wNDVjNi4zNTMgMCAxMS42MTMtNC45NTIgMTEuOTczLTExLjI5NEM2Ni4xNjEgMTQxLjY0OSAxNTEuNDUzIDYwIDI1NiA2MGM1NC4xNjMgMCAxMDMuMTU3IDIxLjkyMyAxMzguNjE0IDU3LjM4NmwtNTQuMTI4IDU0LjEyOWMtNy41NiA3LjU2LTIuMjA2IDIwLjQ4NSA4LjQ4NSAyMC40ODVINDkyYzYuNjI3IDAgMTItNS4zNzMgMTItMTJWMzYuOTcxYzAtMTAuNjkxLTEyLjkyNi0xNi4wNDUtMjAuNDg1LTguNDg2ek00OTEuNjk5IDI1NmgtMjguMDQ1Yy02LjM1MyAwLTExLjYxMyA0Ljk1Mi0xMS45NzMgMTEuMjk0QzQ0NS44MzkgMzcwLjM1MSAzNjAuNTQ3IDQ1MiAyNTYgNDUyYy01NC4xNjMgMC0xMDMuMTU3LTIxLjkyMy0xMzguNjE0LTU3LjM4Nmw1NC4xMjgtNTQuMTI5YzcuNTYtNy41NiAyLjIwNi0yMC40ODUtOC40ODUtMjAuNDg1SDIwYy02LjYyNyAwLTEyIDUuMzczLTEyIDEydjE0My4wMjljMCAxMC42OTEgMTIuOTI2IDE2LjA0NSAyMC40ODUgOC40ODVMODAuNjUgNDMxLjM1QzEyNS41MjUgNDc2LjIzMyAxODcuNTE2IDUwNCAyNTYgNTA0YzEzMi43NzMgMCAyNDEuMTc2LTEwNC4zMzggMjQ3LjY5LTIzNS40OTMuMzM5LTYuODE4LTUuMTY1LTEyLjUwNy0xMS45OTEtMTIuNTA3elwiIGNsYXNzPVwiXCI+PC9wYXRoPjwvc3ZnPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L2Rpdj5gKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFJlbW92ZXMgc3Bpbm5lciBpY29uIGZyb20gYnV0dG9uXHJcbiAgICAgKiBAcGFyYW0ge2pRdWVyeX0gJGVsXHJcbiAgICAgKi9cclxuICAgIHN0b3BCdXR0b25TcGlubmVyID0gZnVuY3Rpb24gKCRlbCkge1xyXG4gICAgICAgICRlbC5yZW1vdmVDbGFzcyhjbGFzc2VzLmJ1dHRvbik7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBGaW5kcyBzcGlubmVyc1xyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHR5cGVcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSAkY29udGFpbmVyXHJcbiAgICAgKiBAcmV0dXJuIHs/alF1ZXJ5fSBzcGlubmVyc1xyXG4gICAgICovXHJcbiAgICAvLyBfZmluZFNwaW5uZXIgPSBmdW5jdGlvbiAodHlwZSwgJGNvbnRhaW5lcikge1xyXG4gICAgLy8gICAgIGNvbnN0IHNlbGVjdG9yID0gJy4nICsgdHlwZTtcclxuICAgIC8vICAgICBsZXQgJGVsID0gdGhpcy4kZGVmYXVsdENvbnRhaW5lcjtcclxuICAgIC8vICAgICBpZiAoJGNvbnRhaW5lcikge1xyXG4gICAgLy8gICAgICAgICAkZWwgPSAkY29udGFpbmVyO1xyXG4gICAgLy8gICAgIH1cclxuICAgIC8vXHJcbiAgICAvLyAgICAgaWYgKCRlbC5maW5kKHNlbGVjdG9yKS5sZW5ndGggPiAwKSB7XHJcbiAgICAvLyAgICAgICAgIHJldHVybiAkZWwuZmluZChzZWxlY3Rvcik7XHJcbiAgICAvLyAgICAgfVxyXG4gICAgLy8gfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gJGVsXHJcbiAgICAgKi9cclxuICAgIC8qXHJcbiAgICBzdGFydENvbnRlbnRTcGlubmVyID0gZnVuY3Rpb24gKCRlbCkge1xyXG4gICAgICAgIGNvbnN0IGh0bWwgPSBoYW5kbGViYXJzVHBsKFxyXG4gICAgICAgICAgICBTUElOTkVSX0JBU0VfVEVNUEFMQVRFLCB7XHJcbiAgICAgICAgICAgICAgICBpbWdTcmM6IENUQy5VUkxTLldBSVRJTkdfSU1BR0UsXHJcbiAgICAgICAgICAgICAgICAnY2xhc3MnOiBjbGFzc2VzLm92ZXJsYXlcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgJGVsLnByZXBlbmQoaHRtbCk7XHJcbiAgICB9O1xyXG5cclxuICAgIHN0YXJ0SW5saW5lQ29udGVudFNwaW5uZXIgPSBmdW5jdGlvbiAoJGVsKSB7XHJcbiAgICAgICAgY29uc3QgaHRtbCA9IGhhbmRsZWJhcnNUcGwoXHJcbiAgICAgICAgICAgIFNQSU5ORVJfQkFTRV9URU1QQUxBVEUsIHtcclxuICAgICAgICAgICAgICAgIGltZ1NyYzogQ1RDLlVSTFMuV0FJVElOR19JTUFHRSxcclxuICAgICAgICAgICAgICAgICdjbGFzcyc6IGNsYXNzZXMuaW5saW5lXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICRlbC5wcmVwZW5kKGh0bWwpO1xyXG4gICAgfTtcclxuICAgICovXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBTdGFydHMgZ2xvYmFsIGZ1bGwgcGFnZSBmaXhlZCBzcGlubmVyXHJcbiAgICAgKi9cclxuICAgIC8qXHJcbiAgICBzdGFydEZpeGVkU3Bpbm5lciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBjb25zdCBzcGlubmVycyA9IHRoaXMuX2ZpbmRTcGlubmVyKGNsYXNzZXMuZml4ZWQpO1xyXG4gICAgICAgIGlmICghKENUQy5pc0VkaXQoKSB8fCBDVEMuaXNEZXNpZ24oKSkgJiYgIXNwaW5uZXJzKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGh0bWwgPSBoYW5kbGViYXJzVHBsKFxyXG4gICAgICAgICAgICAgICAgU1BJTk5FUl9CQVNFX1RFTVBBTEFURSwge1xyXG4gICAgICAgICAgICAgICAgICAgIGltZ1NyYzogQ1RDLlVSTFMuV0FJVElOR19JTUFHRSxcclxuICAgICAgICAgICAgICAgICAgICAnY2xhc3MnOiBjbGFzc2VzLmZpeGVkXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdGhpcy4kZGVmYXVsdENvbnRhaW5lci5wcmVwZW5kKGh0bWwpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICAqL1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogU3RvcHMgc3Bpbm5lcnNcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gJGNvbnRhaW5lclxyXG4gICAgICovXHJcbiAgICAvLyBfc3RvcFNwaW5uZXIgPSBmdW5jdGlvbiAodHlwZSwgJGNvbnRhaW5lcikge1xyXG4gICAgLy8gICAgIGNvbnN0IHNwaW5uZXJzID0gdGhpcy5fZmluZFNwaW5uZXIodHlwZSwgJGNvbnRhaW5lcik7XHJcbiAgICAvLyAgICAgaWYgKHNwaW5uZXJzKSB7XHJcbiAgICAvLyAgICAgICAgIHNwaW5uZXJzLnJlbW92ZSgpO1xyXG4gICAgLy8gICAgIH1cclxuICAgIC8vIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9ICRlbFxyXG4gICAgICovXHJcbiAgICAvLyBzdG9wQ29udGVudFNwaW5uZXIgPSBmdW5jdGlvbiAoJGVsKSB7XHJcbiAgICAvLyAgICAgJGVsLmZpbmQoJy4nICsgY2xhc3Nlcy5vdmVybGF5KS5yZW1vdmUoKTtcclxuICAgIC8vIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9ICRlbFxyXG4gICAgICovXHJcbiAgICAvLyBzdG9wSW5saW5lQ29udGVudFNwaW5uZXIgPSBmdW5jdGlvbiAoJGVsKSB7XHJcbiAgICAvLyAgICAgJGVsLmZpbmQoJy4nICsgY2xhc3Nlcy5pbmxpbmUpLnJlbW92ZSgpO1xyXG4gICAgLy8gfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFN0b3BzIGdsb2JhbCBmdWxsIHBhZ2UgZml4ZWQgc3Bpbm5lclxyXG4gICAgICovXHJcbiAgICAvLyBzdG9wRml4ZWRTcGlubmVyID0gZnVuY3Rpb24gKCkge1xyXG4gICAgLy8gICAgIHRoaXMuX3N0b3BTcGlubmVyKGNsYXNzZXMuZml4ZWQpO1xyXG4gICAgLy8gfTtcclxufVxyXG5cclxubGV0IHNwaW5uZXJJbnN0YW5jZSA9IG51bGw7XHJcblxyXG5pZiAoIXNwaW5uZXJJbnN0YW5jZSkge1xyXG4gICAgc3Bpbm5lckluc3RhbmNlID0gbmV3IFNwaW5uZXIoKTtcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgc3Bpbm5lckluc3RhbmNlO1xyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvY29tbW9uL2pzLXNlcnZpY2VzL3NwaW5uZXIuanMiLCIvLyBpbXBvcnQge0NPTlNUfSBmcm9tICcuL2NvbnN0cyc7XHJcblxyXG5mdW5jdGlvbiBkcm9wRG93bigpIHtcclxuXHJcbiAgICAvKipcclxuICAgICAqIGNmZyA9eyBsb2dzU3RhdGUsIGNiRk4oKSB9XHJcbiAgICAgKi9cclxuICAgIGZ1bmN0aW9uIGFkZERyb3Bkb3duKCR3cmFwcGVyLCBpdGVtcywgY2ZnKSB7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coJ2FkZERyb3Bkb3duJyk7XHJcbiAgICAgICAgY29uc3Qge3RleHRSdXNBcnJheSwgbG9nc1N0YXRlfSA9IGNmZztcclxuICAgICAgICBjb25zdCB7c2VsZWN0Q2xzTG9nc1Rhc2tUeXBlfSA9IGxvZ3NTdGF0ZTtcclxuICAgICAgICBjb25zdCBnZXRSdXMgPSAoaWR4KSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGlzVGV4dFJ1c0FycmF5ID0gdGV4dFJ1c0FycmF5ICYmICEhdGV4dFJ1c0FycmF5Lmxlbmd0aDtcclxuICAgICAgICAgICAgc3dpdGNoIChpZHgpIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgMCA6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChpc1RleHRSdXNBcnJheSkgPyB0ZXh0UnVzQXJyYXlbaWR4XSA6ICfQn9C+INGB0L/QuNGB0LrRgyc7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDEgOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAoaXNUZXh0UnVzQXJyYXkpID8gdGV4dFJ1c0FycmF5W2lkeF0gOiAn0J/QviDQsNC60YLQuNCy0L3QvtC5INCw0YPQtNC40YLQvtGA0LjQuCDQutC+0L3QutGD0YDQtdC90YLQvtCyJztcclxuICAgICAgICAgICAgICAgIGNhc2UgMiA6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChpc1RleHRSdXNBcnJheSkgPyB0ZXh0UnVzQXJyYXlbaWR4XSA6ICdkZWZhdWx0IC0gKDMpJztcclxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6IHJldHVybiAnZGVmYXVsdCc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIGNvbnN0IGxhYmVsID0gJ9CS0YvQsdC10YDQuNGC0LUg0YLQuNC/JztcclxuICAgICAgICAkd3JhcHBlci5lbXB0eSgpLmFkZENsYXNzKCdib3JkZXItbGlnaHQtY29sb3InKTtcclxuICAgICAgICAkKGA8ZGl2IGNsYXNzPVwiXCI+JHtsYWJlbH08L2Rpdj48c2VsZWN0IG5hbWU9XCJ0YXNrLXN1YnR5cGVcIiBjbGFzcz1cIiR7c2VsZWN0Q2xzTG9nc1Rhc2tUeXBlfVwiPjwvc2VsZWN0PmApLmFwcGVuZFRvKCR3cmFwcGVyKTtcclxuICAgICAgICBpZiAoIWl0ZW1zLmxlbmd0aCkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgICQoJzxvcHRpb24gY2xhc3M9XCJsaXN0LWdyb3VwLWl0ZW0gcHktMiBqc19lbXB0eS1zdWJ0eXBlXCIgdmFsdWU9XCItLS1cIj4tLS08L29wdGlvbj4nKS5hcHBlbmRUbygkKGAuJHtzZWxlY3RDbHNMb2dzVGFza1R5cGV9YCkpO1xyXG4gICAgICAgIGl0ZW1zLmZvckVhY2goKG5hbWUsIGlkeCkgPT4ge1xyXG4gICAgICAgICAgICAkKGA8b3B0aW9uIGNsYXNzPVwibGlzdC1ncm91cC1pdGVtIHB5LTJcIiB2YWx1ZT1cIiR7bmFtZX1cIj5cclxuICAgICAgICAgICAgICAgICR7Z2V0UnVzKGlkeCl9XHJcbiAgICAgICAgICAgIDwvb3B0aW9uPmApLmFwcGVuZFRvKCQoYC4ke3NlbGVjdENsc0xvZ3NUYXNrVHlwZX1gKSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgJChgLiR7c2VsZWN0Q2xzTG9nc1Rhc2tUeXBlfWApLm9uKCdjaGFuZ2UnLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICBjZmcuZHJvcGRvd25PblNlbGVjdENiKGUpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgYWRkRHJvcGRvd25cclxuICAgIH07XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGRyb3BEb3duKCk7XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9ibG9ja3MvX3NoYXJlZC9kcm9wZG93bi9kcm9wZG93bi5qcyIsImltcG9ydCB7Q09OU1R9IGZyb20gJy4uLy4uLy4uL2NvbW1vbi9qcy1zZXJ2aWNlcy9jb25zdHMnO1xyXG5pbXBvcnQge2dldFRhc2tzRGF0YX0gZnJvbSAnLi4vLi4vX3NoYXJlZC90YXNrLXN0YXR1cy90YXNrLXN0YXR1cyc7XHJcbi8vIGltcG9ydCB2aWV3VXRpbHMgZnJvbSAnLi4vLi4vLi4vY29tbW9uL2pzLXNlcnZpY2VzL3ZpZXcnO1xyXG5pbXBvcnQgZHJvcERvd24gZnJvbSAnLi4vLi4vX3NoYXJlZC9kcm9wZG93bi9kcm9wZG93bic7XHJcblxyXG5sZXQgcGF0aCA9IHtcclxuICAgIHR5cGU6ICcnLFxyXG4gICAgc3VidHlwZTogJydcclxufTtcclxuY29uc3Qgd3JhcHBlcnMgPSB7XHJcbiAgICAkYWxsOiAkKCcudGFza3MtYWxsJyksXHJcbiAgICAkc3RvcHBlZDogJCgnLnRhc2tzLXN0b3BwZWQnKVxyXG59O1xyXG5jb25zdCBsb2dzU3RhdGVTdGF0dXMgPSB7XHJcbiAgICB3cmFwcGVyU3VidHlwZTogJCgnLnN1YnR5cGUtLWJveCcpXHJcbn07XHJcblxyXG5mdW5jdGlvbiBkcm9wZG93bk9uU2VsZWN0Q2IoZSkge1xyXG4gICAgLy8gY29uc3Qge3NlbGVjdENsc0xvZ3NUYXNrVHlwZX0gPSBsb2dzU3RhdGU7XHJcbiAgICBjb25zdCBzdWJ0eXBlID0gJChlLnRhcmdldCkuZmluZCgnb3B0aW9uOnNlbGVjdGVkJykudmFsKCk7XHJcbiAgICBjb25zdCBwYXRoVXBkYXRlZCA9IHsuLi5wYXRoLCBzdWJ0eXBlfTtcclxuICAgICQoJy5qc19sb2dzLWNvbnRhaW5lcicpLmFkZENsYXNzKCdkLWJsb2NrJyk7XHJcbiAgICAkKCdvcHRpb24uanNfZW1wdHktc3VidHlwZScpLnJlbW92ZSgpO1xyXG4gICAgZ2V0VGFza3NEYXRhKHdyYXBwZXJzLCBwYXRoVXBkYXRlZCk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBpbml0KHtpc0luQ29ycmVjdFBhZ2UsIGluaXRpYWxQYXRoLCB0ZXh0UnVzQXJyYXl9KSB7XHJcbiAgICBpZiAoIWlzSW5Db3JyZWN0UGFnZSkge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIHBhdGggPSB7XHJcbiAgICAgICAgdHlwZTogaW5pdGlhbFBhdGgudHlwZSxcclxuICAgICAgICBzdWJ0eXBlOiBpbml0aWFsUGF0aC5zdWJ0eXBlXHJcbiAgICB9O1xyXG5cclxuICAgIC8vIHRvZG86IG1lcmdlIHdpdGggdmlld1V0aWxzLmpzIERyb3Bkb3duXHJcbiAgICBkcm9wRG93bi5hZGREcm9wZG93bihcclxuICAgICAgICBsb2dzU3RhdGVTdGF0dXMud3JhcHBlclN1YnR5cGUsXHJcbiAgICAgICAgaW5pdGlhbFBhdGguc3VidHlwZXMsXHJcbiAgICAgICAge2xvZ3NTdGF0ZTogbG9nc1N0YXRlU3RhdHVzLCBkcm9wZG93bk9uU2VsZWN0Q2IsIHRleHRSdXNBcnJheX1cclxuICAgICk7XHJcblxyXG4gICAgLy8gZ2V0VGFza3NEYXRhKHdyYXBwZXJzLCBwYXRoKTtcclxuICAgIHdpbmRvdy5QdWJTdWIuc3Vic2NyaWJlKENPTlNULmV2ZW50cy50YXNrcy5ORVdfVEFTS19DUkVBVEVELCAoZXZlbnROYW1lLCBkYXRhKSA9PiB7XHJcbiAgICAgICAgZ2V0VGFza3NEYXRhKHdyYXBwZXJzLCBwYXRoKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvYmxvY2tzL19zaGFyZWQvdGFzay1zdGF0dXMvdGFzay1zdGF0dXMtYnktc3VidHlwZS5qcyIsImltcG9ydCBVc2VyIGZyb20gJy4uLy4uL2NvbW1vbi9qcy1zZXJ2aWNlcy91c2VyJztcclxuLy8gaW1wb3J0IFNwaW5uZXIgZnJvbSAnLi4vLi4vY29tbW9uL2pzLXNlcnZpY2VzL3NwaW5uZXInO1xyXG4vLyBpbXBvcnQgUHViU3ViIGZyb20gJ3B1YnN1Yi1qcyc7XHJcbmltcG9ydCB2aWV3VXRpbHMgZnJvbSAnLi4vLi4vY29tbW9uL2pzLXNlcnZpY2VzL3ZpZXcnO1xyXG5pbXBvcnQge0NPTlNUfSBmcm9tICcuLi8uLi9jb21tb24vanMtc2VydmljZXMvY29uc3RzJztcclxuaW1wb3J0IHtzZXR0aW5nQnV0dG9uc0hhbmRsZXJ9IGZyb20gJy4vYWNjb3VudHMtbGlzdC1idG4tc2V0dGluZ3MnO1xyXG5cclxuY29uc3QgSW5zdGFncmFtQWNjUGFnZUNscyA9ICcuaW5zdGFncmFtLWFjY291bnRzLXBhZ2UnO1xyXG5jb25zdCBpc0luc3RhZ3JhbUFjY1BhZ2UgPSAkKEluc3RhZ3JhbUFjY1BhZ2VDbHMpLmxlbmd0aDtcclxuY29uc3QgJG1zZ0xpc3QgPSAkKCcuYWNjb3VudHMtbGlzdCcpO1xyXG5jb25zdCBJTlNUQUdSQU1fQUNDT1VOVFNfSFJFRiA9ICdpbnN0YWdyYW0tYWNjb3VudHMnO1xyXG5cclxuZnVuY3Rpb24gYWRkTGlzdEhhbmRsZXIoKSB7XHJcbiAgICBsZXQgY2hlY2twb2ludFR5cGUgPSAnJztcclxuXHJcbiAgICAkKCcuanNfcGFzcy1jaGVja3BvaW50LWJ0bicpLm9uKCdjbGljaycsIChlKSA9PiB7XHJcbiAgICAgICAgY29uc3QgJGJ1dHRvbiA9ICQoZS50YXJnZXQpO1xyXG4gICAgICAgIGNvbnN0IHVzZXJuYW1lID0gJGJ1dHRvbi5kYXRhKCd1c2VybmFtZScpO1xyXG4gICAgICAgIGNoZWNrcG9pbnRUeXBlID0gJGJ1dHRvbi5kYXRhKCdjaGVja3BvaW50VHlwZScpIHx8IGNoZWNrcG9pbnRUeXBlO1xyXG4gICAgICAgIC8vICQoJyNzZWN1cml0eS1jb2RlJykuZGF0YSgnY2hlY2twb2ludFR5cGUnLCBjaGVja3BvaW50VHlwZSk7XHJcbiAgICAgICAgLy8gdG9kbyBhZGQgJ2NoZWNrcG9pbnRUeXBlJyB0byBtb2RhbFxyXG4gICAgICAgIGNvbnN0IHNlbmRUbyA9IChjaGVja3BvaW50VHlwZSA9PT0gJ1BIT05FJykgPyAn0YLQtdC70LXRhNC+0L0nIDogJ2VtYWlsJztcclxuICAgICAgICAvLyBTcGlubmVyLnN0YXJ0KCRidXR0b24sICdmYS1rZXknKTtcclxuXHJcbiAgICAgICAgaWYgKGNoZWNrcG9pbnRUeXBlID09PSAnRU1BSUxfT1JfUEhPTkUnKSB7XHJcbiAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcblxyXG4gICAgICAgICAgICAvLyDQuNC90L/Rg9GC0Ysg0YHQv9GA0Y/RgtCw0L3RiyxcclxuICAgICAgICAgICAgLy8g0L/QvtC60LDQt9Cw0YLRjCDRgdC10YDRi9C1INC/0LXRgNC10LrQu9GO0YfQsNGC0LXQu9C4ICjQstGL0LHRgNCw0Lsg0YLQuNC/KVxyXG4gICAgICAgICAgICAvLyDQtdGB0YLRjCDQutC90L7Qv9C60LAg0JfQsNC/0YDQvtGB0LjRgtGMINC60L7QtCDQv9C+0LTRgtCy0LXRgNC20LTQtdC90LjQtVxyXG4gICAgICAgICAgICAkKCcjc2VjdXJpdHktY29kZS1waG9uZU9yZW1haWwnKS5tb2RhbCh7c2hvdzogdHJ1ZSwgdXNlcm5hbWV9KTtcclxuXHJcbiAgICAgICAgICAgIC8vINC90LUg0L7RgtC/0YDQsNCy0LvRj9C10Lwg0YDQtdC60LLQtdGB0YJcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgVXNlci5nZXRTZWN1cml0eUtleSh1c2VybmFtZSwgY2hlY2twb2ludFR5cGUpLnRoZW4oKHJlc3VsdCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnU2VjdXJpdHlLZXkgcmVjZWl2ZWQ6JywgcmVzdWx0LnN0YXR1cy5zdGF0ZSk7XHJcbiAgICAgICAgICAgIGlmIChyZXN1bHQuc3RhdHVzLnN0YXRlID09PSAnb2snKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCAkbW9kYWwgPSAkKCcjc2VjdXJpdHktY29kZScpO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIFNwaW5uZXIuc3RvcCgkYnV0dG9uLCAnZmEta2V5Jyk7XHJcbiAgICAgICAgICAgICAgICAkKCcuanNfc3VjY2Vzcy1mZWVkYmFjaycsICRtb2RhbCkuZW1wdHkoKS50ZXh0KGDQmtC70Y7RhyDQv9C+0LTRgtCy0LXRgNC20LTQtdC90LjRjyDQsdGL0Lsg0L7RgtC/0YDQsNCy0LvQtdC9INCS0LDQvCDQvdCwICR7c2VuZFRvfWApO1xyXG5cclxuICAgICAgICAgICAgICAgICQoJyNzZWN1cml0eS1jb2RlJykuYXR0cignZGF0YS11c2VybmFtZScsIHVzZXJuYW1lKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gaW5zaWRlIG1vZGFsXHJcbiAgICAkKCcuanNfY29uZmlybS1zZWN1cml0eS1jb2RlJykub24oJ2NsaWNrJywgKGUpID0+IHtcclxuICAgICAgICBjb25zdCBidG4gPSAkKGUudGFyZ2V0KTtcclxuICAgICAgICBjb25zdCB1c2VybmFtZSA9IGJ0bi5jbG9zZXN0KCcjc2VjdXJpdHktY29kZScpLmRhdGEoJ3VzZXJuYW1lJyk7XHJcbiAgICAgICAgY29uc3QgJGtleUlucHV0ID0gYnRuLmNsb3Nlc3QoJy5tb2RhbCcpLmZpbmQoJy5tb2RhbC1kaWFsb2cgZm9ybSBpbnB1dC5qc19jb25maXJtLWtleScpO1xyXG4gICAgICAgIGNvbnN0IGtleSA9ICRrZXlJbnB1dC52YWwoKS50cmltKCk7XHJcbiAgICAgICAgY29uc3QgJG1vZGFsID0gYnRuLmNsb3Nlc3QoJy5tb2RhbCcpO1xyXG4gICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcblxyXG4gICAgICAgIGlmIChrZXkubGVuZ3RoICE9PSA2KSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgVXNlci5jb25maXJtU2VjdXJpdHlLZXkoa2V5LCB1c2VybmFtZSkudGhlbigocmVzdWx0KSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChyZXN1bHQuc3RhdHVzLnN0YXRlICE9PSAnb2snKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ2pzX2NvbmZpcm06JywgcmVzdWx0LnN0YXR1cy5zdGF0ZSwgJ2Nsb3NlIG1vZGFsJyk7XHJcbiAgICAgICAgICAgICRtb2RhbC5tb2RhbCgnaGlkZScpO1xyXG4gICAgICAgIH0pLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ2VycicpO1xyXG4gICAgICAgICAgICAkKCcuanNfc3VjY2Vzcy1mZWVkYmFjaycsICRtb2RhbCkudGV4dCgn0JfQsNC/0YDQvtGBINC90LUg0L7RgtC/0YDQsNCy0LvQtdC9JykuY3NzKCdjb2xvcicsICdyZWQnKTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcclxuICAgICAgICB9KTtcclxuICAgIH0pO1xyXG5cclxuICAgICQoJ2Zvcm0gaW5wdXRbbWlubGVuZ3RoXScpLm9uKCdibHVyJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGNvbnN0IGxlbiA9ICQodGhpcykudmFsKCkudHJpbSgpLmxlbmd0aDtcclxuICAgICAgICBjb25zdCBtaW5MZW4gPSBOdW1iZXIoJCh0aGlzKS5hdHRyKCdtaW5sZW5ndGgnKSk7XHJcbiAgICAgICAgLy8gY29uc3QgbWVzc2FnZSA9IG1pbkxlbiA8PSBsZW4gPyAnJyA6IG1pbkxlbiArICcgY2hhcmFjdGVycyBtaW5pbXVtJztcclxuICAgICAgICBpZiAobWluTGVuICE9PSBsZW4pIHtcclxuICAgICAgICAgICAgJCh0aGlzKS5jc3MoJ2JvcmRlckNvbG9yJywgJ3JlZCcpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICQodGhpcykuY3NzKCdib3JkZXJDb2xvcicsICcjY2VkNGRhJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIHRoaXMuc2V0Q3VzdG9tVmFsaWRpdHkobWVzc2FnZSlcclxuICAgIH0pO1xyXG5cclxuICAgIGZ1bmN0aW9uIG9uSGlkZU1vZGFsKGUpIHtcclxuICAgICAgICBjb25zdCAkbW9kYWwgPSAkKGUudGFyZ2V0KTtcclxuICAgICAgICAkbW9kYWwuZmluZCgnLmZpcnN0LXN0ZXAnKS5yZW1vdmVDbGFzcygnZC1ub25lJyk7XHJcbiAgICAgICAgJG1vZGFsLmZpbmQoJy5zZWNvbmQtc3RlcCcpLmFkZENsYXNzKCdkLW5vbmUnKTtcclxuICAgICAgICAkKCcuanNfY29uZmlybS1rZXknKS52YWwoJycpO1xyXG4gICAgICAgICQoJy5qc19zdWNjZXNzLWZlZWRiYWNrJywgJG1vZGFsKS5yZW1vdmVBdHRyKCdzdHlsZScpLmVtcHR5KCk7XHJcbiAgICB9XHJcbiAgICAkKCcjc2VjdXJpdHktY29kZS1waG9uZU9yZW1haWwnKS5vbignaGlkZS5icy5tb2RhbCcsIG9uSGlkZU1vZGFsKTtcclxuICAgICQoJyNzZWN1cml0eS1jb2RlJykub24oJ2hpZGUuYnMubW9kYWwnLCBvbkhpZGVNb2RhbCk7XHJcblxyXG4gICAgLy8gXCJQSE9ORV9PUl9FTUFJTFwiIG1vZGFsXHJcbiAgICAkKCcuanNfZ2V0LXNlY3VyaXR5LWNvZGUtcGhvbmVPcmVtYWlsJykub24oJ2NsaWNrJywgKGUpID0+IHtcclxuICAgICAgICBjb25zdCAkbW9kYWwgPSAkKCcjc2VjdXJpdHktY29kZS1waG9uZU9yZW1haWwnKTtcclxuICAgICAgICBjb25zdCB0eXBlU2VsZWN0ZWQgPSAkKGUudGFyZ2V0KS5jbG9zZXN0KCRtb2RhbCkuZmluZCgnLmpzX2J0bi10eXBlLXN3aXRjaGVyIGlucHV0OmNoZWNrZWQnKTtcclxuICAgICAgICBjb25zdCBjaGVja3BvaW50VHlwZUFjdGl2ZSA9IHR5cGVTZWxlY3RlZC52YWwoKTtcclxuICAgICAgICBjb25zdCBzZW5kVG8gPSAoY2hlY2twb2ludFR5cGVBY3RpdmUgPT09ICdQSE9ORScpID8gJ9GC0LXQu9C10YTQvtC9JyA6ICdlbWFpbCc7XHJcbiAgICAgICAgY29uc3QgbW9kYWxDb25maWcgPSAkbW9kYWwuZGF0YSgpWydicy5tb2RhbCddLl9jb25maWc7XHJcbiAgICAgICAgY29uc3QgdXNlcm5hbWUgPSBtb2RhbENvbmZpZy51c2VybmFtZTtcclxuICAgICAgICBVc2VyLmdldFNlY3VyaXR5S2V5KHVzZXJuYW1lLCBjaGVja3BvaW50VHlwZUFjdGl2ZSkudGhlbigocmVzdWx0KSA9PiB7XHJcbiAgICAgICAgICAgIC8vINC/0YDQuCDQvdCw0LbQsNGC0LjQuCBcItCX0LDQv9GA0L7RgdC40YLRjCDQutC+0LQg0L/QvtC00YLQstC10YDQttC00LXQvdC40LVcIiAtINC+0YLQv9Cw0YDQu9GP0LXRgtGB0Y8g0YDQtdC60LLQtdGB0YIgXCLRgdGC0LDRgNGCINGH0LXQutC/0L7QuNC90YJcIiDQv9C+0Y/QstC70Y/QtdGC0YzRgdGPINC40L3Qv9GD0YIg0Lgg0LrQvdC+0L/QutCwINC00YDRg9Cz0LjRhSDRgtC40L/QsNGFXHJcbiAgICAgICAgICAgIC8vIGdldCBzZWxlY3RlZCBidXR0b25cclxuXHJcbiAgICAgICAgICAgIC8vINC/0LXRgNC10LrQu9GO0YfQsNGC0LXQu9GMKNGB0LXRgNGL0LkpINC4INC60L3QvtC/0LrQsCBcItCX0LDQv9GA0L7RgdC40YLRjCDQutC+0LQg0L/QvtC00YLQstC10YDQttC00LXQvdC40LVcIiDQuNGB0YfQtdC30LDRjtGCXHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdTZWN1cml0eUtleSByZWNlaXZlZDonLCByZXN1bHQuc3RhdHVzLnN0YXRlKTtcclxuICAgICAgICAgICAgaWYgKHJlc3VsdC5zdGF0dXMuc3RhdGUgPT09ICdvaycpIHtcclxuICAgICAgICAgICAgICAgICQoJy5maXJzdC1zdGVwJywgJG1vZGFsKS5hZGRDbGFzcygnZC1ub25lJyk7XHJcbiAgICAgICAgICAgICAgICAkKCcuc2Vjb25kLXN0ZXAnLCAkbW9kYWwpLnJlbW92ZUNsYXNzKCdkLW5vbmUnKTtcclxuICAgICAgICAgICAgICAgICQoJy5qc19zdWNjZXNzLWZlZWRiYWNrJywgJG1vZGFsKS5lbXB0eSgpLnRleHQoYNCa0LvRjtGHINC/0L7QtNGC0LLQtdGA0LbQtNC10L3QuNGPINCx0YvQuyDQvtGC0L/RgNCw0LLQu9C10L0g0JLQsNC8INC90LAgJHtzZW5kVG99YCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5jb25zdCBpbnNlcnRJdGVtID0gKGRhdGEsIHRleHQsIGNzc0NscykgPT4ge1xyXG4gICAgY29uc3QgbGlUcGwgPSBgJHsoZGF0YSlcclxuICAgICAgICA/IGA8bGkgY2xhc3M9XCJsaXN0LWlubGluZS1pdGVtICR7Y3NzQ2xzfVwiPjxzcGFuIGNsYXNzPVwiZmlndXJlXCI+JHtkYXRhfTwvc3Bhbj48c3Bhbj4ke3RleHR9PC9zcGFuPjwvbGk+YFxyXG4gICAgICAgIDogYDxsaSBjbGFzcz1cImxpc3QtaW5saW5lLWl0ZW0gJHtjc3NDbHN9XCI+PHNwYW4gY2xhc3M9XCJmaWd1cmVcIj4wPC9zcGFuPjxzcGFuPiR7dGV4dH08L3NwYW4+PC9saT5gfWA7XHJcbiAgICByZXR1cm4gbGlUcGw7XHJcbn07XHJcblxyXG5jb25zdCBzdGF0cyA9IChpbmZvKSA9PiB7XHJcbiAgICBjb25zdCB0cGwgPSBgPGRpdiBjbGFzcz1cImNvbFwiPlxyXG4gICAgICAgIDx1bCBjbGFzcz1cImxpc3QtaW5saW5lIHRleHQtY2VudGVyIGNvdW50cy1saXN0XCI+XHJcbiAgICAgICAgJHsoaW5mbylcclxuICAgICAgICAgID8gYCR7aW5zZXJ0SXRlbShpbmZvWydtZWRpYV9jb3VudCddLCAn0J/Rg9Cx0LvQuNC60LDRhtC40LgnLCAnbWVkaWEtY291bnQnKX1cclxuICAgICAgICAgICAgJHtpbnNlcnRJdGVtKGluZm9bJ2ZvbGxvd2VyX2NvdW50J10sICfQn9C+0LTQv9C40YHRh9C40LrQuCcsICdmb2xsb3dlci1jb3VudCcpfVxyXG4gICAgICAgICAgICAke2luc2VydEl0ZW0oaW5mb1snZm9sbG93aW5nX2NvdW50J10sICfQn9C+0LTQv9C40YHQutC4JywgJ2ZvbGxvd2luZy1jb3VudCcpfWBcclxuICAgICAgICAgIDogYCR7aW5zZXJ0SXRlbShmYWxzZSwgJ9Cf0YPQsdC70LjQutCw0YbQuNC4JywgJ21lZGlhLWNvdW50Jyl9XHJcbiAgICAgICAgICAgICR7aW5zZXJ0SXRlbShmYWxzZSwgJ9Cf0L7QtNC/0LjRgdGH0LjQutC4JywgJ2ZvbGxvd2VyLWNvdW50Jyl9XHJcbiAgICAgICAgICAgICR7aW5zZXJ0SXRlbShmYWxzZSwgJ9Cf0L7QtNC/0LjRgdC60LgnLCAnZm9sbG93aW5nLWNvdW50Jyl9YFxyXG4gICAgICAgIH1cclxuICAgICAgICA8L3VsPlxyXG4gICAgPC9kaXY+YDtcclxuICAgIHJldHVybiB0cGw7XHJcbn07XHJcblxyXG5jb25zdCBjaGVja1BvaW50VGV4dCA9IChjaGVja3BvaW50LCBpdGVtKSA9PiB7XHJcbiAgICBpZiAoY2hlY2twb2ludC5zdGF0dXMgPT09ICdUUklHR0VSRUQnKSB7XHJcbiAgICAgICAgcmV0dXJuIGA8YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi1vdXRsaW5lLXNlY29uZGFyeSBqc19wYXNzLWNoZWNrcG9pbnQtYnRuIGQtYmxvY2sgbXgtYXV0b1wiIFxyXG4gICAgICAgICAgICBkYXRhLWNoZWNrcG9pbnQtdHlwZT1cIiR7Y2hlY2twb2ludC50eXBlIHx8ICdFTUFJTCd9XCJcclxuICAgICAgICAgICAgZGF0YS11c2VybmFtZT1cIiR7aXRlbS51c2VybmFtZSB8fCAnJ31cIlxyXG4gICAgICAgICAgICBkYXRhLXRvZ2dsZT1cIm1vZGFsXCIgZGF0YS10YXJnZXQ9XCIjc2VjdXJpdHktY29kZVwiPlxyXG4gICAgICAgICAgICA8aSBjbGFzcz1cImZhcyBmYS1rZXlcIj48L2k+0J/RgNC+0LnRgtC4INGH0LXQutC/0L7QuNC90YI8L2J1dHRvbj5gO1xyXG4gICAgfSBlbHNlIGlmIChpdGVtLnN0YXR1cyA9PT0gJ0ZBSUwnKSB7XHJcbiAgICAgICAgcmV0dXJuICc8c3BhbiBjbGFzcz1cInRleHQtZGFuZ2VyXCI+0J7RiNC40LHQutCwINC/0YDQuCDQtNC+0LHQsNCy0LvQtdC90LjQuDwvc3Bhbj4nO1xyXG4gICAgfVxyXG59O1xyXG5cclxuY29uc3QgYWRkU2V0dGluZ0J0biA9IChhY2NvdW50KSA9PiB7XHJcbiAgICBjb25zdCB7dXNlcm5hbWUgPSAnJyxcclxuICAgICAgICBpbmZvOiB7bmFtZSA9ICcnLCBlbWFpbCA9ICcnLCB1cmwgPSAnJywgYmlvZ3JhcGh5ID0gJycsIHByb2ZpbGVfcGljX3VybCA9ICcnLCBmb2xsb3dlcl9jb3VudCwgZm9sbG93aW5nX2NvdW50LCBtZWRpYV9jb3VudCwgaXNfYnVzaW5lc3MsIGlzX3ByaXZhdGV9XHJcbiAgICB9ID0gYWNjb3VudDtcclxuICAgIGlmIChpc0luc3RhZ3JhbUFjY1BhZ2UgfHwgd2luZG93LmxvY2F0aW9uLmhyZWYuaW5jbHVkZXMoSU5TVEFHUkFNX0FDQ09VTlRTX0hSRUYpKSB7XHJcbiAgICAgICAgcmV0dXJuIGA8ZGl2IGNsYXNzPVwiYWNjb3VudC1zZXR0aW5nIGNvbC0xIGQtZmxleCBmbGV4LWNvbHVtblwiPlxyXG4gICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi1vdXRsaW5lLXN1Y2Nlc3MgcC0xIG1iLTEganNfYWNjLWVkaXRcIiBcclxuICAgICAgICAgICAgICAgIGRhdGEtdXNlcm5hbWU9XCIke3VzZXJuYW1lfVwiXHJcbiAgICAgICAgICAgICAgICBkYXRhLW5hbWU9XCIke25hbWV9XCJcclxuICAgICAgICAgICAgICAgIGRhdGEtZW1haWw9XCIke2VtYWlsfVwiXHJcbiAgICAgICAgICAgICAgICBkYXRhLXVybD1cIiR7dXJsfVwiXHJcbiAgICAgICAgICAgICAgICBkYXRhLWJpb2dyYXBoeT1cIiR7YmlvZ3JhcGh5fVwiXHJcbiAgICAgICAgICAgICAgICBkYXRhLWltZz1cIiR7cHJvZmlsZV9waWNfdXJsfVwiXHJcbiAgICAgICAgICAgICAgICBkYXRhLWZvbGxvd2VyX2NvdW50PVwiJHtmb2xsb3dlcl9jb3VudH1cIlxyXG4gICAgICAgICAgICAgICAgZGF0YS1mb2xsb3dpbmdfY291bnQ9XCIke2ZvbGxvd2luZ19jb3VudH1cIlxyXG4gICAgICAgICAgICAgICAgZGF0YS1tZWRpYV9jb3VudD1cIiR7bWVkaWFfY291bnR9XCJcclxuICAgICAgICAgICAgICAgIGRhdGEtaXNfYnVzaW5lc3M9XCIke2lzX2J1c2luZXNzfVwiXHJcbiAgICAgICAgICAgICAgICBkYXRhLWlzX3ByaXZhdGU9XCIke2lzX3ByaXZhdGV9XCJcclxuICAgICAgICAgICAgPjxpIGNsYXNzPVwiZmFzIGZhLXBlbiBtLTBcIj48L2k+PC9idXR0b24+XHJcbiAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJidG4gYnRuLW91dGxpbmUtc2Vjb25kYXJ5IHAtMSBtYi0xIGpzX2FjYy1yZWZyZXNoXCIgZGF0YS11c2VybmFtZT1cIiR7dXNlcm5hbWV9XCI+PGkgY2xhc3M9XCJmYXMgZmEtcmV0d2VldCBtLTBcIj48L2k+PC9idXR0b24+XHJcbiAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJidG4gYnRuLW91dGxpbmUtZGFuZ2VyIHAtMSBqc19hY2MtZGVsZXRlXCIgZGF0YS11c2VybmFtZT1cIiR7dXNlcm5hbWV9XCI+PGkgY2xhc3M9XCJmYXMgZmEtdHJhc2ggbS0wXCI+PC9pPjwvYnV0dG9uPlxyXG4gICAgICAgIDwvZGl2PmA7XHJcbiAgICB9XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgcmVuZGVySXRlbSA9IChpdGVtLCBjTGlzdCwgX2RlZmF1bHRBdmF0YXJTcmMpID0+IHtcclxuICAgIGNvbnN0IGluZm8gPSBpdGVtLmluZm87XHJcbiAgICBjb25zdCBjaGVja3BvaW50ID0gaXRlbS5jaGVja3BvaW50IHx8IGl0ZW07XHJcbiAgICBjb25zdCBkZWZhdWx0QXZhdGFyU3JjID0gX2RlZmF1bHRBdmF0YXJTcmMgfHwgQ09OU1QudXNlci5kZWZhdWxBdmF0YXI7XHJcbiAgICBpZiAoIWluZm8pIHtcclxuICAgICAgICByZXR1cm4gJChgPGxpIGNsYXNzPVwibWVkaWEgcHktM1wiIGRhdGEtdXNlcm5hbWU9XCIke2l0ZW0udXNlcm5hbWV9XCI+XHJcbiAgICAgICAgICAgIDxpbWcgY2xhc3M9XCJtbC0zIHJvdW5kZWRcIiBhbHQ9XCJkZWZhdWx0IGF2YXRhclwiIHNyYz1cIiR7ZGVmYXVsdEF2YXRhclNyY31cIj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1lZGlhLWJvZHkgZC1mbGV4XCI+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sIHVzZXItaW5mb1wiPlxyXG4gICAgICAgICAgICAgICAgICAgICR7KGl0ZW0udXNlcm5hbWUpID8gYDxoNCBjbGFzcz1cIm10LTAgbWItMSBuYW1lXCI+JHtpdGVtLnVzZXJuYW1lfTwvaDQ+YCA6ICcnfVxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sIHVzZXItY2hlY2twb2ludFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICR7Y2hlY2tQb2ludFRleHQoY2hlY2twb2ludCwgaXRlbSl9XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICR7c3RhdHMoKX1cclxuICAgICAgICAgICAgICAgICR7YWRkU2V0dGluZ0J0bihpdGVtKSB8fCAnJ31cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPC9saT5gKS5hcHBlbmRUbyhjTGlzdCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIHJldHVybiAkKGA8bGkgY2xhc3M9XCJtZWRpYSBweS0zXCIgZGF0YS11c2VybmFtZT1cIiR7aXRlbS51c2VybmFtZX1cIj5cclxuICAgICAgICAkeyhpbmZvWydwcm9maWxlX3BpY191cmwnXSlcclxuICAgICAgICAgICAgPyBgPGltZyBjbGFzcz1cIm1sLTMgcm91bmRlZFwiIGFsdD1cIlVzZXIgcGhvdG9cIiBzcmM9XCIke2luZm9bJ3Byb2ZpbGVfcGljX3VybCddfVwiPmBcclxuICAgICAgICAgICAgOiBgPGltZyBjbGFzcz1cIm1sLTMgcm91bmRlZFwiIGFsdD1cImRlZmF1bHQgYXZhdGFyXCIgc3JjPVwiJHtkZWZhdWx0QXZhdGFyU3JjfVwiPmB9XHJcbiAgICAgICAgPGRpdiBjbGFzcz1cIm1lZGlhLWJvZHkgZC1mbGV4XCI+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wgdXNlci1pbmZvXCI+XHJcbiAgICAgICAgICAgICAgICAkeyhpdGVtLnVzZXJuYW1lKSA/IGA8cCBjbGFzcz1cIm10LTAgbWItMSBuYW1lIGxlYWRcIj4ke2l0ZW0udXNlcm5hbWV9PC9wPmAgOiAnJ31cclxuICAgICAgICAgICAgICAgICR7KGluZm8ubmFtZSkgPyBgPGg0IGNsYXNzPVwibXQtMCBtYi0xXCI+JHtpbmZvLm5hbWV9PC9oND5gIDogJyd9XHJcbiAgICAgICAgICAgICAgICAkeyhpbmZvLm5hbWUpID8gJycgOiAnJyAgLyogJHsoaW5mby5lbWFpbCkgPyBgPHAgY2xhc3M9XCJtdC0wIG1iLTFcIj4ke2luZm8uZW1haWx9PC9wPmAgOiAnJ31cclxuICAgICAgICAgICAgICAgICAkeyhpbmZvLnBob25lKSA/IGA8cCBjbGFzcz1cIm10LTAgbWItMVwiPiR7aW5mby5waG9uZX08L3A+YCA6ICcnfSAqLyB9XHJcblxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbCB1c2VyLWNoZWNrcG9pbnRcIj5cclxuICAgICAgICAgICAgICAgICR7KGNoZWNrcG9pbnQuc3RhdHVzID09PSAnVFJJR0dFUkVEJylcclxuICAgICAgICAgICAgICAgID8gYDxidXR0b24gY2xhc3M9XCJidG4gYnRuLW91dGxpbmUtc2Vjb25kYXJ5IGpzX3Bhc3MtY2hlY2twb2ludC1idG4gZC1ibG9jayBteC1hdXRvXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS1jaGVja3BvaW50LXR5cGU9XCIke2NoZWNrcG9pbnQudHlwZSB8fCAnRU1BSUwnfVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEtdXNlcm5hbWU9XCIke2l0ZW0udXNlcm5hbWUgfHwgJyd9XCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS10b2dnbGU9XCJtb2RhbFwiIGRhdGEtdGFyZ2V0PVwiI3NlY3VyaXR5LWNvZGVcIj5cclxuICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz1cImZhcyBmYS1rZXlcIj48L2k+0J/RgNC+0LnRgtC4INGH0LXQutC/0L7QuNC90YI8L2J1dHRvbj5gXHJcbiAgICAgICAgICAgICAgICA6ICcnfVxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgJHtzdGF0cyhpbmZvKX1cclxuICAgICAgICAgICAgJHthZGRTZXR0aW5nQnRuKGl0ZW0pIHx8ICcnfVxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgPC9saT5gKTtcclxuICAgIH1cclxufTtcclxuXHJcbmZ1bmN0aW9uIGZpbGxMaXN0KCRsaXN0LCBkYXRhQXJyYXkpIHtcclxuICAgIGNvbnN0IGl0ZW1zID0gZGF0YUFycmF5O1xyXG4gICAgY29uc3QgY0xpc3QgPSAkbGlzdDtcclxuICAgIGNvbnN0IGRlZmF1bHRBdmF0YXJTcmMgPSBDT05TVC51c2VyLmRlZmF1bEF2YXRhcjtcclxuXHJcbiAgICBjTGlzdC5lbXB0eSgpLmFkZENsYXNzKCdib3JkZXItbGlnaHQtY29sb3InKTtcclxuICAgIGl0ZW1zLmZvckVhY2goKGl0ZW0pID0+IHtcclxuICAgICAgICByZW5kZXJJdGVtKGl0ZW0sIGNMaXN0LCBkZWZhdWx0QXZhdGFyU3JjKS5hcHBlbmRUbyhjTGlzdCk7XHJcbiAgICB9KTtcclxuICAgIHdpbmRvdy5QdWJTdWIucHVibGlzaChDT05TVC5ldmVudHMuaW5zdGFncmFtQWNjb3Vucy5JTlNUQUdSQU1fQUNDT1VOU19SRU5ERVJFRCwge25hbWUsIGRhdGFBcnJheX0pO1xyXG4gICAgY29uc29sZS5sb2coJ0lOU1RBR1JBTV9BQ0NPVU5TX1JFTkRFUkVEJyk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNoZWNrUmVzcG9uc2UgKHJlc3VsdCAvKiAsIGlzUmVzZW5kUmVxdWVzdCovKSB7XHJcblxyXG4gICAgLypcclxuICAgIGlmICghcmVzdWx0LnN0YXR1cy5zdGF0ZSA9PT0gJ29rJyB8fCAhcmVzdWx0LmRhdGEgfHwgISRtc2dMaXN0Lmxlbmd0aCB8fCBpc1Jlc2VuZFJlcXVlc3QpIHtcclxuICAgICAgICAvLyDQv9GA0L7QstC10YDRj9C8INC+0LTQuNC9INGA0LDQtyDQvdCw0LvQuNGH0LjQtSByZXN1bHQuZGF0YS5hY2NvdW50cy5pbmZvXHJcbiAgICAgICAgJG1zZ0xpc3QuZW1wdHkoKTtcclxuICAgICAgICAkKGA8bGkgY2xhc3M9XCJtZWRpYVwiPlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwibWVkaWEtYm9keVwiPlxyXG4gICAgICAgICAgICAgICAgPGgzIGNsYXNzPVwibXQtMCBtYi0zXCI+0J3QuCDQvtC00L3QvtCz0L4g0JDQutC60LDRg9C90YLQsCDQvdC1INC00L7QsdCw0LLQu9C10L3QvjwvaDM+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvbGk+YCkuYXBwZW5kVG8oJG1zZ0xpc3QpO1xyXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICByZXNlbmRSZXF1ZXN0KCkudGhlbigocmVzdWx0KSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjaGVja1Jlc3BvbnNlKHJlc3VsdCwgZmFsc2UpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ1JlcXVlc3QgcmVzZW5kJyk7XHJcbiAgICAgICAgfSwgMzUwMCk7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgKi9cclxuICAgIC8vINCy0YvQstC+0LQg0YDQtdC30YPQu9GM0YLQsNGC0L7QsiAoZGF0YS5hY2NvdW50cy5pbmZvKVxyXG4gICAgJCgnLnByb2ZpbGUtdXNlciAuc3Bpbm5lci1ib3gnKS5hZGRDbGFzcygnZC1ub25lJyk7XHJcbiAgICBmaWxsTGlzdCgkbXNnTGlzdCwgcmVzdWx0LmRhdGEuYWNjb3VudHMpO1xyXG4gICAgYWRkTGlzdEhhbmRsZXIoKTtcclxufVxyXG5jb25zdCBlcnJNZXNzYWdlRnJvbnQgPSAn0J3QtSDQv9C+0LvRg9GH0LjQu9C+0YHRjCDQt9Cw0LPRgNGD0LfQuNGC0Ywg0LTQvtGB0YLRg9C/0L3Ri9C1IEluc3RhZ3JhbSDQsNC60LrQsNGD0L3RgtGLJztcclxuZnVuY3Rpb24gY2JFcnJvcigpIHtcclxuICAgIHZpZXdVdGlscy5zaG93SW5mb01lc3NhZ2UoJCgnLmVycm9yLW1zZycpLFxyXG4gICAgICAgICcnLFxyXG4gICAgICAgIGVyck1lc3NhZ2VGcm9udCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHJlbG9hZExpc3QoKSB7XHJcbiAgICBjb25zdCAkbXNnTGlzdCA9ICQoJy5hY2NvdW50cy1saXN0Jyk7XHJcbiAgICAvLyBUT0RPOiBhZGQgc3Bpbm5lclxyXG4gICAgJCgnLnByb2ZpbGUtdXNlciAuc3Bpbm5lci1ib3gnKS5yZW1vdmVDbGFzcygnZC1ub25lJyk7XHJcbiAgICBVc2VyLmdldE1ldGFkYXRhKGNiRXJyb3IpLnRoZW4oKHJlc3VsdCkgPT4ge1xyXG4gICAgICAgICRtc2dMaXN0LmVtcHR5KCk7XHJcbiAgICAgICAgLy8gdG9kbyA6IHJlbG9hZCBsaXN0XHJcbiAgICAgICAgY2hlY2tSZXNwb25zZShyZXN1bHQpO1xyXG4gICAgfSkuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICB2aWV3VXRpbHMuc2hvd0luZm9NZXNzYWdlKCQoJy5lcnJvci1tc2cnKSxcclxuICAgICAgICAgICAgICAgIGVyci5zdGF0dXMgfHwgJycsXHJcbiAgICAgICAgICAgICAgICBlcnJNZXNzYWdlRnJvbnQpO1xyXG4gICAgICAgIH0sIDMwMDApO1xyXG4gICAgICAgICQoJy5zcGlubmVyLWJveCcpLmFkZENsYXNzKCdkLW5vbmUnKTtcclxuICAgIH0pO1xyXG4gICAgY29uc3QgY2ZnID0ge1xyXG4gICAgICAgIGRlbGV0ZUJ0bkNsczogJy5qc19hY2MtZGVsZXRlJyxcclxuICAgICAgICB1cGRhdGVCdG5DbHM6ICcuanNfYWNjLXJlZnJlc2gnLFxyXG4gICAgICAgIGVkaXRCdG5DbHM6ICcuanNfYWNjLWVkaXQnXHJcbiAgICB9O1xyXG4gICAgc2V0dGluZ0J1dHRvbnNIYW5kbGVyKGNmZyk7XHJcbn1cclxuXHJcbi8vINCf0L7RgdC70LUg0LTQvtCx0LDQstC70LXQvdC40Y8g0LDQutC60LDRg9C90YLQsCDRgdC90L7QstCwINC00LXRgNC90YPRgtGMINCc0JXQotCQINC4INC/0LXRgNC10YDQuNGB0L7QstCw0YLRjCDRgdC/0LjRgdC+0Log0LDQutC60LDRg9C90YLQvtCyXHJcbmNvbnN0IGFkZEluc3RhZ3JhbUFjY291bnQgPSAobmV3Rm9ybURhdGEpID0+IHtcclxuICAgIGNvbnN0IGNiRXJyb3IgPSAocmVzdWx0KSA9PiB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ0VSUk9SJywgcmVzdWx0KTtcclxuICAgICAgICB2aWV3VXRpbHMuc2hvd0luZm9NZXNzYWdlKCQoJy5lcnJvci1tc2cnKSxcclxuICAgICAgICAgICAgcmVzdWx0LnN0YXR1cy5zdGF0ZSxcclxuICAgICAgICAgICAgcmVzdWx0LnN0YXR1cy5tZXNzYWdlIHx8ICdMb2dpbiBlcnJvcicpO1xyXG4gICAgICAgIC8vICQoX2xvZ2luQm94KS5hZGRDbGFzcyhjbG9zZUNsYXNzKS5yZW1vdmVDbGFzcyhvcGVuZWRDbGFzcyk7XHJcbiAgICB9O1xyXG4gICAgVXNlci5hZGRJbnN0YWdyYW1BY2NvdW50KG5ld0Zvcm1EYXRhLCBjYkVycm9yKS50aGVuKChyZXN1bHQpID0+IHtcclxuICAgICAgICBpZiAocmVzdWx0ICYmIHJlc3VsdC5zdGF0dXMpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2cocmVzdWx0LCByZXN1bHQuc3RhdHVzKTtcclxuICAgICAgICAgICAgcmVsb2FkTGlzdCgpO1xyXG5cclxuICAgICAgICAgICAgLypcclxuICAgICAgICAgICAgY29uc3QgJG1zZ0xpc3QgPSAkKCcuYWNjb3VudHMtbGlzdCcpO1xyXG4gICAgICAgICAgICBVc2VyLmdldE1ldGFkYXRhKCkudGhlbigocmVzdWx0KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAkbXNnTGlzdC5lbXB0eSgpO1xyXG4gICAgICAgICAgICAgICAgLy8gdG9kbyA6IHJlbG9hZCBsaXN0XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXN1bHQuZGF0YSwgcmVzdWx0LmRhdGEuYWNjb3VudHMpO1xyXG4gICAgICAgICAgICAgICAgY2hlY2tSZXNwb25zZShyZXN1bHQpO1xyXG4gICAgICAgICAgICB9KS5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB2aWV3VXRpbHMuc2hvd0luZm9NZXNzYWdlKCQoJy5lcnJvci1tc2cnKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZXJyLnN0YXR1cyB8fCAnJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ9Cd0LUg0L/QvtC70YPRh9C40LvQvtGB0Ywg0LfQsNCz0YDRg9C30LjRgtGMINC00L7RgdGC0YPQv9C90YvQtSBJbnN0YWdyYW0g0LDQutC60LDRg9C90YLRiycpO1xyXG4gICAgICAgICAgICAgICAgfSwgMzAwMCk7XHJcbiAgICAgICAgICAgICAgICAkKCcuc3Bpbm5lci1ib3gnKS5hZGRDbGFzcygnZC1ub25lJyk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAqL1xyXG5cclxuICAgICAgICAgICAgLy8gdmlld1V0aWxzLnNob3dJbmZvTWVzc2FnZSgkdGV4dEFyZWFEZXNjcmlwdGlvbixcclxuICAgICAgICAgICAgLy8gICAgIHJlc3VsdC5zdGF0dXMuc3RhdGUsXHJcbiAgICAgICAgICAgIC8vICAgICByZXN1bHQuc3RhdHVzLm1lc3NhZ2UgfHwgJ0xvZ2luIGVycm9yJyk7XHJcbiAgICAgICAgICAgIC8vICQoX2xvZ2luQm94KS5hZGRDbGFzcyhjbG9zZUNsYXNzKS5yZW1vdmVDbGFzcyhvcGVuZWRDbGFzcyk7XHJcbiAgICAgICAgfVxyXG4gICAgfSkuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICAgIC8vIHRvZG86IHJlbmRlciBmb3IgdXNlclxyXG4gICAgICAgIGNvbnNvbGUubG9nKGVycik7XHJcbiAgICB9KTtcclxuXHJcbiAgICBjb25zb2xlLmxvZygnc3VibWl0JywgbmV3Rm9ybURhdGEpO1xyXG59O1xyXG5cclxuZnVuY3Rpb24gYWRkT25Mb2FkSGFuZGxlcnMoKSB7XHJcbiAgICAvLyAkKCcuanNfcmVwZWF0LXNlY3VyaXR5LWNvZGUnKS5vbignY2xpY2snLCAoZSkgPT4ge1xyXG5cclxuICAgIC8vIH0pO1xyXG5cclxuICAgICQoJy5qc19hZGQtaW5zdGFncmFtLWFjY291bnQnKS5vbignY2xpY2snLCAoZSkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGJ0biA9ICQoZS50YXJnZXQpO1xyXG4gICAgICAgIGNvbnN0ICRtb2RhbEJvZHkgPSBidG4uY2xvc2VzdCgnLm1vZGFsJykuZmluZCgnLm1vZGFsLWRpYWxvZyAubW9kYWwtYm9keScpO1xyXG4gICAgICAgIGNvbnN0IHVzZXJuYW1lID0gJG1vZGFsQm9keS5maW5kKCdpbnB1dFtuYW1lPVwidXNlcm5hbWVcIl0nKS52YWwoKS50cmltKCk7XHJcbiAgICAgICAgY29uc3QgcGFzc3dvcmQgPSAkbW9kYWxCb2R5LmZpbmQoJ2lucHV0W25hbWU9XCJwYXNzXCJdJykudmFsKCkudHJpbSgpO1xyXG4gICAgICAgIGNvbnN0IGlwID0gJG1vZGFsQm9keS5maW5kKCdpbnB1dFtuYW1lPVwiaXBcIl0nKS52YWwoKS50cmltKCk7IC8vIFRNUCBzb2x1dGlvblxyXG4gICAgICAgIGNvbnN0IHBvcnQgPSAkbW9kYWxCb2R5LmZpbmQoJ2lucHV0W25hbWU9XCJwb3J0XCJdJykudmFsKCkudHJpbSgpOyAvLyBUTVAgc29sdXRpb25cclxuICAgICAgICBjb25zdCB1c2VybmFtZVByb3h5ID0gJG1vZGFsQm9keS5maW5kKCdpbnB1dFtuYW1lPVwidXNlcm5hbWVQcm94eVwiXScpLnZhbCgpLnRyaW0oKTsgLy8gVE1QIHNvbHV0aW9uXHJcbiAgICAgICAgY29uc3QgcGFzc3dvcmRQcm94eSA9ICRtb2RhbEJvZHkuZmluZCgnaW5wdXRbbmFtZT1cInBhc3NQcm94eVwiXScpLnZhbCgpLnRyaW0oKTsgLy8gVE1QIHNvbHV0aW9uXHJcbiAgICAgICAgY29uc3QgJGZvcm0gPSAkKCdmb3JtJywgJG1vZGFsQm9keSk7XHJcbiAgICAgICAgY29uc3QgZm9ybSA9ICRmb3JtLmdldCgwKTtcclxuICAgICAgICBjb25zdCBjc3NWYWxpZGF0aW9uQ2xhc3MgPSAnZm9ybS12YWxpZGF0aW9uJztcclxuXHJcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIGZ1bmN0aW9uIGlzVmFsaWRJcHY0QWRkcihpcCkge1xyXG4gICAgICAgICAgICByZXR1cm4gKC9eKD89XFxkK1xcLlxcZCtcXC5cXGQrXFwuXFxkKyQpKD86KD86MjVbMC01XXwyWzAtNF1bMC05XXwxWzAtOV17Mn18WzEtOV1bMC05XXxbMC05XSlcXC4/KXs0fSQvKS50ZXN0KGlwKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZnVuY3Rpb24gaXNWYWxpZFBvcnQocG9ydCkge1xyXG4gICAgICAgICAgICByZXR1cm4gKC9eKFswLTldezEsNH18WzEtNV1bMC05XXs0fXw2WzAtNF1bMC05XXszfXw2NVswLTRdWzAtOV17Mn18NjU1WzAtMl1bMC05XXw2NTUzWzAtNV0pJC8pLnRlc3QocG9ydCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGNvbnN0IHZhbGlkYXRvciA9IG5ldyBWYWxpZGF0b3IoJGZvcm0pO1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKHZhbGlkYXRvci52YWxpZGF0ZSgpKTtcclxuICAgICAgICBpZiAoZm9ybS5jaGVja1ZhbGlkaXR5KCkpIHtcclxuICAgICAgICAgICAgYWRkSW5zdGFncmFtQWNjb3VudCh7dXNlcm5hbWUsIHBhc3N3b3JkLCB1c2VybmFtZVByb3h5LCBwYXNzd29yZFByb3h5LCBpcCwgcG9ydH0pO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIEhpZ2hsaWdodCBlcnJvcnNcclxuICAgICAgICAgICAgaWYgKGZvcm0ucmVwb3J0VmFsaWRpdHkpIHtcclxuICAgICAgICAgICAgICAgIGZvcm0ucmVwb3J0VmFsaWRpdHkoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAkZm9ybS5hZGRDbGFzcyhjc3NWYWxpZGF0aW9uQ2xhc3MpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKCF1c2VybmFtZSB8fCAhcGFzc3dvcmQgfHwgIWlwIHx8ICFpc1ZhbGlkSXB2NEFkZHIoaXApIHx8ICFwb3J0IHx8ICFpc1ZhbGlkUG9ydChwb3J0KSB8fCAhdXNlcm5hbWVQcm94eSB8fCAhcGFzc3dvcmRQcm94eSkge1xyXG4gICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnbm90IHZhbGlkIGZpZWxkcycpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBJbml0IGhlYWRlclxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGluaXQoKSB7XHJcbiAgICAvLyBjaGVjayB3ZSBhcmUgaW4gcHJvZmlsZSBwYWdlXHJcbiAgICBpZiAoISRtc2dMaXN0Lmxlbmd0aCkge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIC8vIGNvbnN0IHRva2VuID0gVXNlci5nZXRUb2tlbigpO1xyXG4gICAgY29uc3QgbWV0YWRhdGEgPSBVc2VyLmdldE1ldGFkYXRhKGNiRXJyb3IpO1xyXG4gICAgLy8gY29uc3QgcmVzZW5kUmVxdWVzdCA9ICgpID0+IFVzZXIuZ2V0TWV0YWRhdGEodG9rZW4pO1xyXG4gICAgLy8gbGV0IGlzU2VuZFJlcU9uY2UgPSBmYWxzZTtcclxuICAgIC8vIGNoZWNrIHdlIGFyZSBpbiBwcm9maWxlIHBhZ2VcclxuICAgIGlmICghJG1zZ0xpc3QubGVuZ3RoKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGFkZE9uTG9hZEhhbmRsZXJzKCk7XHJcblxyXG4gICAgLy8g0LzQvtC20LXRgiDQuNC90YTQviDQvtGC0YHRg9GC0YHQstC+0LLQsNGC0YwgLSDRgdC00LXQu9Cw0YLRjCDQtdGJ0LUg0YDQsNC3INC30LDQv9GA0L7RgSDRh9C10YDQtdC3IDMg0YHQtdC6LlxyXG4gICAgbWV0YWRhdGEudGhlbigocmVzdWx0KSA9PiB7XHJcbiAgICAgICAgLy8g0L/RgNC+0LLQtdGA0Y/QvCDQvtC00LjQvSDRgNCw0Lcg0L3QsNC70LjRh9C40LUgcmVzdWx0LmRhdGEuYWNjb3VudHMuaW5mb1xyXG4gICAgICAgIC8qXHJcbiAgICAgICAgbGV0IGlzUmVzZW5kUmVxdWVzdCA9IGZhbHNlO1xyXG4gICAgICAgIGlmIChyZXN1bHQuZGF0YSAmJiByZXN1bHQuZGF0YS5hY2NvdW50cyAmJiAhaXNTZW5kUmVxT25jZSkge1xyXG4gICAgICAgICAgICByZXN1bHQuZGF0YS5hY2NvdW50cy5mb3JFYWNoKChpdGVtKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWl0ZW0uaW5mbykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlzUmVzZW5kUmVxdWVzdCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgaXNTZW5kUmVxT25jZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgKi9cclxuICAgIC8vICAgIGNoZWNrUmVzcG9uc2UocmVzdWx0LCBpc1Jlc2VuZFJlcXVlc3QpO1xyXG4gICAgICAgIGNoZWNrUmVzcG9uc2UocmVzdWx0KTtcclxuICAgICAgICBjb25zdCBjZmcgPSB7XHJcbiAgICAgICAgICAgIGRlbGV0ZUJ0bkNsczogJy5qc19hY2MtZGVsZXRlJyxcclxuICAgICAgICAgICAgdXBkYXRlQnRuQ2xzOiAnLmpzX2FjYy1yZWZyZXNoJyxcclxuICAgICAgICAgICAgZWRpdEJ0bkNsczogJy5qc19hY2MtZWRpdCdcclxuICAgICAgICB9O1xyXG4gICAgICAgIHNldHRpbmdCdXR0b25zSGFuZGxlcihjZmcpO1xyXG4gICAgfSkuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICB2aWV3VXRpbHMuc2hvd0luZm9NZXNzYWdlKCQoJy5lcnJvci1tc2cnKSxcclxuICAgICAgICAgICAgICAgIGVyci5zdGF0dXMgfHwgJycsXHJcbiAgICAgICAgICAgICAgICAn0J3QtSDQv9C+0LvRg9GH0LjQu9C+0YHRjCDQt9Cw0LPRgNGD0LfQuNGC0Ywg0LTQvtGB0YLRg9C/0L3Ri9C1IEluc3RhZ3JhbSDQsNC60LrQsNGD0L3RgtGLJyk7XHJcbiAgICAgICAgfSwgMzAwMCk7XHJcbiAgICAgICAgJCgnLnNwaW5uZXItYm94JykuYWRkQ2xhc3MoJ2Qtbm9uZScpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgd2luZG93LlB1YlN1Yi5zdWJzY3JpYmUoQ09OU1QuZXZlbnRzLmluc3RhZ3JhbUFjY291bnMuSU5TVEFHUkFNX0FDQ09VTlNfTkVFRF9SRUZSRVNILCAoZXZlbnROYW1lLCBkYXRhKSA9PiB7XHJcbiAgICAgICAgcmVsb2FkTGlzdCgpO1xyXG4gICAgfSk7XHJcbiAgICB3aW5kb3cuUHViU3ViLnN1YnNjcmliZShDT05TVC5ldmVudHMuaW5zdGFncmFtQWNjb3Vucy5JTlNUQUdSQU1fQUNDT1VOU19SRU5ERVJFRCwgKGV2ZW50TmFtZSwgZGF0YSkgPT4ge1xyXG4gICAgICAgIGNvbnN0IHtkYXRhQXJyYXl9ID0gZGF0YTtcclxuICAgICAgICBkYXRhQXJyYXkuZm9yRWFjaChpdGVtID0+IHtcclxuICAgICAgICAgICAgY29uc3QgYXZhdGFyID0gaXRlbS5pbmZvICYmIGl0ZW0uaW5mby5wcm9maWxlX3BpY191cmwgfHwgQ09OU1QudXNlci5kZWZhdWxBdmF0YXI7XHJcbiAgICAgICAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oaXRlbS51c2VybmFtZSwgYXZhdGFyKTtcclxuICAgICAgICB9KTtcclxuICAgIH0pO1xyXG59XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9ibG9ja3MvaW5zdGFncmFtLWFjY291bnRzLWxpc3QvaW5zdGFncmFtLWFjY291bnRzLWxpc3QuanMiLCIvLyBpbXBvcnQgJCBmcm9tICdqcXVlcnknO1xyXG5pbXBvcnQge0NPTlNUfSBmcm9tICcuL2NvbnN0cyc7XHJcbmltcG9ydCBOZXR3b3JrIGZyb20gJy4vbmV0d29yayc7XHJcbmltcG9ydCBDb29raWVTdG9yYWdlIGZyb20gJy4vY29va2llJztcclxuXHJcbmNsYXNzIFVzZXJDb252ZXJzYXRpb24ge1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRoaXMubmV0d29yayA9IG5ldyBOZXR3b3JrKCk7XHJcbiAgICAgICAgdGhpcy5jb29raWVTdG9yYWdlID0gQ29va2llU3RvcmFnZTtcclxuICAgICAgICB0aGlzLnNldHRpbmdQb3N0ID0ge1xyXG4gICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcclxuICAgICAgICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcclxuICAgICAgICAgICAgICAgICdBY2NlcHQnOiAnYXBwbGljYXRpb24vanNvbidcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgaXNMb2dnZWRJbigpIHtcclxuICAgICAgICByZXR1cm4gISF0aGlzLmdldFRva2VuKCk7XHJcbiAgICB9XHJcblxyXG4gICAgaXNFbWFpbENvbmZpcm1lZCgpIHtcclxuICAgICAgICByZXR1cm4gKHRoaXMuY29va2llU3RvcmFnZS5nZXQoQ09OU1QuY29va2llU3RvcmFnZS5lbWFpbENvbmZpcm1lZCkgPT09ICdjb25maXJtZWQnKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRUb2tlbigpIHtcclxuICAgICAgICBjb25zdCBjb29raWVUb2tlbiA9IHRoaXMuY29va2llU3RvcmFnZS5nZXQoQ09OU1QuY29va2llU3RvcmFnZS50b2tlbik7XHJcbiAgICAgICAgcmV0dXJuIGNvb2tpZVRva2VuO1xyXG4gICAgfVxyXG5cclxuICAgIGdldE1ldGFkYXRhKHRva2VuLCBjYkVycm9yKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubmV0d29yay5zZW5kUmVxdWVzdChgJHtDT05TVC5nZXRQYXRoKCdpbnN0YWdyYW1EaXJlY3RfZ2V0TWV0YURhdGEnKX1gLCB7aGVhZGVyczogeyd0b2tlbic6IHRoaXMuZ2V0VG9rZW4oKX19LCBjYkVycm9yKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRNZXRhZGF0YURldGFpbFVzZXJzKGRldGFpbHMsIGNiRXJyb3IpIHtcclxuICAgICAgICBjb25zdCBjdXJzb3IgPSAoZGV0YWlscy5jdXJzb3IpID8gYD9jdXJzb3I9JHtkZXRhaWxzLmN1cnNvcn1gIDogJyc7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubmV0d29yay5zZW5kUmVxdWVzdChgJHtDT05TVC5nZXRQYXRoKCdpbnN0YWdyYW1EaXJlY3RfZ2V0TWV0YURhdGEnKX0vJHtkZXRhaWxzLnVzZXJuYW1lfSR7Y3Vyc29yfWAsXHJcbiAgICAgICAgIHtoZWFkZXJzOiB7J3Rva2VuJzogdGhpcy5nZXRUb2tlbigpfX0sIGNiRXJyb3IpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldE1ldGFkYXRhRGV0YWlsQ29udmVyc2F0aW9uKHRva2VuLCBkZXRhaWxzLCBjYkVycm9yKSB7XHJcbiAgICAgICAgY29uc3QgY3Vyc29yID0gKGRldGFpbHMuY3Vyc29yKSA/IGA/Y3Vyc29yPSR7ZGV0YWlscy5jdXJzb3J9YCA6ICcnO1xyXG4gICAgICAgIHJldHVybiB0aGlzLm5ldHdvcmsuc2VuZFJlcXVlc3QoYCR7Q09OU1QuZ2V0UGF0aCgnaW5zdGFncmFtRGlyZWN0X2dldE1ldGFEYXRhJyl9LyR7ZGV0YWlscy51c2VybmFtZX0vJHtkZXRhaWxzLmNvbnZlcnNhdGlvbklkfSR7Y3Vyc29yfWAsXHJcbiAgICAgICAgICAgIHtoZWFkZXJzOiB7dG9rZW59fSwgY2JFcnJvcik7XHJcbiAgICB9XHJcbiAgICBwb3N0TWV0YWRhdGFEZXRhaWxDb252ZXJzYXRpb24odG9rZW4sIGRldGFpbHMsIGNiRXJyb3IpIHtcclxuICAgICAgICBjb25zdCBzZXR0aW5nID0ge1xyXG4gICAgICAgICAgICAuLi50aGlzLnNldHRpbmdQb3N0LFxyXG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7J3ZhbHVlJzogZGV0YWlscy52YWx1ZX0pLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgICAgICAgICAuLi50aGlzLnNldHRpbmdQb3N0LmhlYWRlcnMsXHJcbiAgICAgICAgICAgICAgICAndG9rZW4nOiB0aGlzLmdldFRva2VuKClcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubmV0d29yay5zZW5kUmVxdWVzdChgJHtDT05TVC5nZXRQYXRoKCdpbnN0YWdyYW1EaXJlY3RfcG9zdE1lc3NhZ2UnKX0vJHtkZXRhaWxzLnVzZXJuYW1lfS8ke2RldGFpbHMuY29udmVyc2F0aW9uSWR9L3RleHRgLFxyXG4gICAgICAgICAgICBzZXR0aW5nLCBjYkVycm9yKTtcclxuICAgIH1cclxuICAgIC8vIC0tLSBSZXF1ZXN0IFBlbmRpbmdcclxuICAgIGdldFJlcXVlc3RQZW5kaW5nKHVzZXJuYW1lLCBjYkVycm9yKSB7XHJcbiAgICAgICAgLy8gY29uc3QgY3Vyc29yID0gKGRldGFpbHMuY3Vyc29yKSA/IGA/Y3Vyc29yPSR7ZGV0YWlscy5jdXJzb3J9YCA6ICcnO1xyXG4gICAgICAgIHJldHVybiB0aGlzLm5ldHdvcmsuc2VuZFJlcXVlc3QoYCR7Q09OU1QuZ2V0UGF0aCgnaW5zdGFncmFtRGlyZWN0X1JlcXVlc3RQZW5kaW5nJyl9LyR7dXNlcm5hbWV9YCxcclxuICAgICAgICB7aGVhZGVyczogeyd0b2tlbic6IHRoaXMuZ2V0VG9rZW4oKX19LCBjYkVycm9yKTtcclxuICAgIH1cclxuICAgIHB1dFJlcXVlc3RQZW5kaW5nKGNvbmZpcm1Vc2VyRGF0YSwgY2JFcnJvcikge1xyXG4gICAgICAgIGNvbnN0IHNldHRpbmcgPSB7XHJcbiAgICAgICAgICAgIC4uLnRoaXMuc2V0dGluZ1Bvc3QsXHJcbiAgICAgICAgICAgIG1ldGhvZDogJ1BVVCcsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAgICAgICAgIC4uLnRoaXMuc2V0dGluZ1Bvc3QuaGVhZGVycyxcclxuICAgICAgICAgICAgICAgICd0b2tlbic6IHRoaXMuZ2V0VG9rZW4oKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICBjb25zdCB7dXNlcm5hbWUsIGNvbnZlcnNhdGlvbklkfSA9IGNvbmZpcm1Vc2VyRGF0YTtcclxuICAgICAgICByZXR1cm4gdGhpcy5uZXR3b3JrLnNlbmRSZXF1ZXN0KGAke0NPTlNULmdldFBhdGgoJ2luc3RhZ3JhbURpcmVjdF9SZXF1ZXN0UGVuZGluZycpfS8ke3VzZXJuYW1lfS8ke2NvbnZlcnNhdGlvbklkfWAsXHJcbiAgICAgICAgICAgIHNldHRpbmcsIGNiRXJyb3IpO1xyXG4gICAgfVxyXG4gICAgZGVsUmVxdWVzdFBlbmRpbmcoY29uZmlybVVzZXJEYXRhLCBjYkVycm9yKSB7XHJcbiAgICAgICAgY29uc3Qgc2V0dGluZyA9IHtcclxuICAgICAgICAgICAgbWV0aG9kOiAnREVMRVRFJyxcclxuICAgICAgICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICAgICAgICAgLi4udGhpcy5zZXR0aW5nUG9zdC5oZWFkZXJzLFxyXG4gICAgICAgICAgICAgICAgJ3Rva2VuJzogdGhpcy5nZXRUb2tlbigpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIGNvbnN0IHt1c2VybmFtZSwgY29udmVyc2F0aW9uSWR9ID0gY29uZmlybVVzZXJEYXRhO1xyXG4gICAgICAgIHJldHVybiB0aGlzLm5ldHdvcmsuc2VuZFJlcXVlc3QoYCR7Q09OU1QuZ2V0UGF0aCgnaW5zdGFncmFtRGlyZWN0X1JlcXVlc3RQZW5kaW5nJyl9LyR7dXNlcm5hbWV9LyR7Y29udmVyc2F0aW9uSWR9YCxcclxuICAgICAgICAgICAgc2V0dGluZywgY2JFcnJvcik7XHJcbiAgICB9XHJcblxyXG59XHJcblxyXG5sZXQgdXNlckluc3RhbmNlID0gbnVsbDtcclxuXHJcbmlmICghdXNlckluc3RhbmNlKSB7XHJcbiAgICB1c2VySW5zdGFuY2UgPSBuZXcgVXNlckNvbnZlcnNhdGlvbigpO1xyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCB1c2VySW5zdGFuY2U7XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9jb21tb24vanMtc2VydmljZXMvYXBpLXVzZXItZGlyZWN0LmpzIiwiLyohXG4gKiBFbW9qaW9uZUFyZWEgdjMuMC4wXG4gKiBodHRwczovL2dpdGh1Yi5jb20vbWVydmljay9lbW9qaW9uZWFyZWFcbiAqIENvcHlyaWdodCBBbmRyZXkgSXptYW4gYW5kIG90aGVyIGNvbnRyaWJ1dG9yc1xuICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlXG4gKiBEYXRlOiAyMDE2LTA1LTA2VDEwOjMzWlxuICovXG4oZnVuY3Rpb24oZG9jdW1lbnQsIHdpbmRvdywgJCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIHZhciB1bmlxdWUgPSAwO1xuICAgIHZhciBldmVudFN0b3JhZ2UgPSB7fTtcbiAgICB2YXIgcG9zc2libGVFdmVudHMgPSB7fTtcbiAgICB2YXIgZW1vamlvbmUgPSB3aW5kb3cuZW1vamlvbmU7XG4gICAgdmFyIHJlYWR5Q2FsbGJhY2tzID0gW107XG4gICAgZnVuY3Rpb24gZW1vamlvbmVSZWFkeSAoZm4pIHtcbiAgICAgICAgaWYgKGVtb2ppb25lKSB7XG4gICAgICAgICAgICBmbigpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVhZHlDYWxsYmFja3MucHVzaChmbik7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHZhciBibGFua0ltZyA9ICdkYXRhOmltYWdlL2dpZjtiYXNlNjQsUjBsR09EbGhBUUFCQUpIL0FQLy8vd0FBQU1EQXdBQUFBQ0g1QkFFQUFBSUFMQUFBQUFBQkFBRUFBQUlDVkFFQU93PT0nO1xuICAgIHZhciBzbGljZSA9IFtdLnNsaWNlO1xuICAgIHZhciBjc3NfY2xhc3MgPSBcImVtb2ppb25lYXJlYVwiO1xuICAgIHZhciBlbW9qaW9uZVN1cHBvcnRNb2RlID0gMDtcbiAgICBmdW5jdGlvbiB0cmlnZ2VyKHNlbGYsIGV2ZW50LCBhcmdzKSB7XG4gICAgICAgIHZhciByZXN1bHQgPSB0cnVlLCBqID0gMTtcbiAgICAgICAgaWYgKGV2ZW50KSB7XG4gICAgICAgICAgICBldmVudCA9IGV2ZW50LnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICBkbyB7XG4gICAgICAgICAgICAgICAgdmFyIF9ldmVudCA9IGo9PTEgPyAnQCcgKyBldmVudCA6IGV2ZW50O1xuICAgICAgICAgICAgICAgIGlmIChldmVudFN0b3JhZ2Vbc2VsZi5pZF1bX2V2ZW50XSAmJiBldmVudFN0b3JhZ2Vbc2VsZi5pZF1bX2V2ZW50XS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgJC5lYWNoKGV2ZW50U3RvcmFnZVtzZWxmLmlkXVtfZXZlbnRdLCBmdW5jdGlvbiAoaSwgZm4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQgPSBmbi5hcHBseShzZWxmLCBhcmdzfHwgW10pICE9PSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSB3aGlsZSAocmVzdWx0ICYmICEhai0tKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBmdW5jdGlvbiBhdHRhY2goc2VsZiwgZWxlbWVudCwgZXZlbnRzLCB0YXJnZXQpIHtcbiAgICAgICAgdGFyZ2V0ID0gdGFyZ2V0IHx8IGZ1bmN0aW9uIChldmVudCwgY2FsbGVyRXZlbnQpIHsgcmV0dXJuICQoY2FsbGVyRXZlbnQuY3VycmVudFRhcmdldCkgfTtcbiAgICAgICAgJC5lYWNoKGV2ZW50cywgZnVuY3Rpb24oZXZlbnQsIGxpbmspIHtcbiAgICAgICAgICAgIGV2ZW50ID0gJC5pc0FycmF5KGV2ZW50cykgPyBsaW5rIDogZXZlbnQ7XG4gICAgICAgICAgICAocG9zc2libGVFdmVudHNbc2VsZi5pZF1bbGlua10gfHwgKHBvc3NpYmxlRXZlbnRzW3NlbGYuaWRdW2xpbmtdID0gW10pKVxuICAgICAgICAgICAgICAgIC5wdXNoKFtlbGVtZW50LCBldmVudCwgdGFyZ2V0XSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRUZW1wbGF0ZSh0ZW1wbGF0ZSwgdW5pY29kZSwgc2hvcnRuYW1lKSB7XG4gICAgICAgIHJldHVybiB0ZW1wbGF0ZVxuICAgICAgICAgICAgLnJlcGxhY2UoJ3tuYW1lfScsIHNob3J0bmFtZSB8fCAnJylcbiAgICAgICAgICAgIC5yZXBsYWNlKCd7aW1nfScsIGVtb2ppb25lLmltYWdlUGF0aFBORyArIChlbW9qaW9uZVN1cHBvcnRNb2RlIDwgMiA/IHVuaWNvZGUudG9VcHBlckNhc2UoKSA6IHVuaWNvZGUpICsgJy5wbmcnKVxuICAgICAgICAgICAgLnJlcGxhY2UoJ3t1bml9JywgdW5pY29kZSlcbiAgICAgICAgICAgIC5yZXBsYWNlKCd7YWx0fScsIGVtb2ppb25lLmNvbnZlcnQodW5pY29kZSkpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBzaG9ydG5hbWVUbyhzdHIsIHRlbXBsYXRlLCBjbGVhcikge1xuICAgICAgICByZXR1cm4gc3RyLnJlcGxhY2UoLzo/XFwrP1tcXHdfXFwtXSs6Py9nLCBmdW5jdGlvbihzaG9ydG5hbWUpIHtcbiAgICAgICAgICAgIHNob3J0bmFtZSA9IFwiOlwiICsgc2hvcnRuYW1lLnJlcGxhY2UoLzokLywnJykucmVwbGFjZSgvXjovLCcnKSArIFwiOlwiO1xuICAgICAgICAgICAgdmFyIHVuaWNvZGUgPSBlbW9qaW9uZS5lbW9qaW9uZUxpc3Rbc2hvcnRuYW1lXTtcbiAgICAgICAgICAgIGlmICh1bmljb2RlKSB7XG4gICAgICAgICAgICAgICAgaWYgKGVtb2ppb25lU3VwcG9ydE1vZGUgPiAzKSB1bmljb2RlID0gdW5pY29kZS51bmljb2RlO1xuICAgICAgICAgICAgICAgIHJldHVybiBnZXRUZW1wbGF0ZSh0ZW1wbGF0ZSwgdW5pY29kZVt1bmljb2RlLmxlbmd0aC0xXSwgc2hvcnRuYW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBjbGVhciA/ICcnIDogc2hvcnRuYW1lO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIGZ1bmN0aW9uIHBhc3RlSHRtbEF0Q2FyZXQoaHRtbCkge1xuICAgICAgICB2YXIgc2VsLCByYW5nZTtcbiAgICAgICAgaWYgKHdpbmRvdy5nZXRTZWxlY3Rpb24pIHtcbiAgICAgICAgICAgIHNlbCA9IHdpbmRvdy5nZXRTZWxlY3Rpb24oKTtcbiAgICAgICAgICAgIGlmIChzZWwuZ2V0UmFuZ2VBdCAmJiBzZWwucmFuZ2VDb3VudCkge1xuICAgICAgICAgICAgICAgIHJhbmdlID0gc2VsLmdldFJhbmdlQXQoMCk7XG4gICAgICAgICAgICAgICAgcmFuZ2UuZGVsZXRlQ29udGVudHMoKTtcbiAgICAgICAgICAgICAgICB2YXIgZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICAgICAgICAgIGVsLmlubmVySFRNTCA9IGh0bWw7XG4gICAgICAgICAgICAgICAgdmFyIGZyYWcgPSBkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCksIG5vZGUsIGxhc3ROb2RlO1xuICAgICAgICAgICAgICAgIHdoaWxlICggKG5vZGUgPSBlbC5maXJzdENoaWxkKSApIHtcbiAgICAgICAgICAgICAgICAgICAgbGFzdE5vZGUgPSBmcmFnLmFwcGVuZENoaWxkKG5vZGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByYW5nZS5pbnNlcnROb2RlKGZyYWcpO1xuICAgICAgICAgICAgICAgIGlmIChsYXN0Tm9kZSkge1xuICAgICAgICAgICAgICAgICAgICByYW5nZSA9IHJhbmdlLmNsb25lUmFuZ2UoKTtcbiAgICAgICAgICAgICAgICAgICAgcmFuZ2Uuc2V0U3RhcnRBZnRlcihsYXN0Tm9kZSk7XG4gICAgICAgICAgICAgICAgICAgIHJhbmdlLmNvbGxhcHNlKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICBzZWwucmVtb3ZlQWxsUmFuZ2VzKCk7XG4gICAgICAgICAgICAgICAgICAgIHNlbC5hZGRSYW5nZShyYW5nZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKGRvY3VtZW50LnNlbGVjdGlvbiAmJiBkb2N1bWVudC5zZWxlY3Rpb24udHlwZSAhPSBcIkNvbnRyb2xcIikge1xuICAgICAgICAgICAgZG9jdW1lbnQuc2VsZWN0aW9uLmNyZWF0ZVJhbmdlKCkucGFzdGVIVE1MKGh0bWwpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHZhciBkZWZhdWx0X29wdGlvbnMgPSB7XG4gICAgICAgIGF0dHJpYnV0ZXM6IHtcbiAgICAgICAgICAgIGRpciAgICAgICAgICAgICAgIDogXCJsdHJcIixcbiAgICAgICAgICAgIHNwZWxsY2hlY2sgICAgICAgIDogZmFsc2UsXG4gICAgICAgICAgICBhdXRvY29tcGxldGUgICAgICA6IFwib2ZmXCIsXG4gICAgICAgICAgICBhdXRvY29ycmVjdCAgICAgICA6IFwib2ZmXCIsXG4gICAgICAgICAgICBhdXRvY2FwaXRhbGl6ZSAgICA6IFwib2ZmXCIsXG4gICAgICAgIH0sXG4gICAgICAgIHBsYWNlaG9sZGVyICAgICAgIDogbnVsbCxcbiAgICAgICAgY29udGFpbmVyICAgICAgICAgOiBudWxsLFxuICAgICAgICBoaWRlU291cmNlICAgICAgICA6IHRydWUsXG4gICAgICAgIHNob3J0bmFtZXMgICAgICAgIDogdHJ1ZSxcbiAgICAgICAgc3ByaXRlICAgICAgICAgICAgOiB0cnVlLFxuICAgICAgICBwaWNrZXJQb3NpdGlvbiAgICA6IFwidG9wXCIsIC8vIHRvcCB8IGJvdHRvbSB8IHJpZ2h0XG4gICAgICAgIGZpbHRlcnNQb3NpdGlvbiAgIDogXCJ0b3BcIiwgLy8gdG9wIHwgYm90dG9tXG4gICAgICAgIGhpZGVQaWNrZXJPbkJsdXIgIDogdHJ1ZSxcbiAgICAgICAgYnV0dG9uVGl0bGUgICAgICAgOiBcIlVzZSB0aGUgVEFCIGtleSB0byBpbnNlcnQgZW1vamkgZmFzdGVyXCIsXG4gICAgICAgIHRvbmVzICAgICAgICAgICAgIDogdHJ1ZSxcbiAgICAgICAgdG9uZXNTdHlsZSAgICAgICAgOiBcImJ1bGxldFwiLCAvLyBidWxsZXQgfCByYWRpbyB8IHNxdWFyZSB8IGNoZWNrYm94XG4gICAgICAgIGlubGluZSAgICAgICAgICAgIDogbnVsbCwgLy8gbnVsbCAtIGF1dG9cbiAgICAgICAgc2F2ZUVtb2ppc0FzICAgICAgOiBcInVuaWNvZGVcIiwgLy8gdW5pY29kZSB8IHNob3J0bmFtZSB8IGltYWdlXG4gICAgICAgIHNob3J0Y3V0cyAgICAgICAgIDogdHJ1ZSxcbiAgICAgICAgYXV0b2NvbXBsZXRlICAgICAgOiB0cnVlLFxuICAgICAgICBhdXRvY29tcGxldGVUb25lcyA6IGZhbHNlLFxuXG4gICAgICAgIGZpbHRlcnM6IHtcbiAgICAgICAgICAgIHRvbmVzOiB7XG4gICAgICAgICAgICAgICAgdGl0bGU6IFwiRGl2ZXJzaXR5XCIsXG4gICAgICAgICAgICAgICAgZW1vamk6IFwic2FudGEgcnVubmVyIHN1cmZlciBzd2ltbWVyIGxpZnRlciBlYXIgbm9zZSBwb2ludF91cF8yIHBvaW50X2Rvd24gcG9pbnRfbGVmdCBwb2ludF9yaWdodCBwdW5jaCBcIiArXG4gICAgICAgICAgICAgICAgXCJ3YXZlIG9rX2hhbmQgdGh1bWJzdXAgdGh1bWJzZG93biBjbGFwIG9wZW5faGFuZHMgYm95IGdpcmwgbWFuIHdvbWFuIGNvcCBicmlkZV93aXRoX3ZlaWwgcGVyc29uX3dpdGhfYmxvbmRfaGFpciBcIiArXG4gICAgICAgICAgICAgICAgXCJtYW5fd2l0aF9ndWFfcGlfbWFvIG1hbl93aXRoX3R1cmJhbiBvbGRlcl9tYW4gZ3JhbmRtYSBiYWJ5IGNvbnN0cnVjdGlvbl93b3JrZXIgcHJpbmNlc3MgYW5nZWwgXCIgK1xuICAgICAgICAgICAgICAgIFwiaW5mb3JtYXRpb25fZGVza19wZXJzb24gZ3VhcmRzbWFuIGRhbmNlciBuYWlsX2NhcmUgbWFzc2FnZSBoYWlyY3V0IG11c2NsZSBzcHkgaGFuZF9zcGxheWVkIG1pZGRsZV9maW5nZXIgXCIgK1xuICAgICAgICAgICAgICAgIFwidnVsY2FuIG5vX2dvb2Qgb2tfd29tYW4gYm93IHJhaXNpbmdfaGFuZCByYWlzZWRfaGFuZHMgcGVyc29uX2Zyb3duaW5nIHBlcnNvbl93aXRoX3BvdXRpbmdfZmFjZSBwcmF5IHJvd2JvYXQgXCIgK1xuICAgICAgICAgICAgICAgIFwiYmljeWNsaXN0IG1vdW50YWluX2JpY3ljbGlzdCB3YWxraW5nIGJhdGggbWV0YWwgcG9pbnRfdXAgYmFza2V0YmFsbF9wbGF5ZXIgZmlzdCByYWlzZWRfaGFuZCB2IHdyaXRpbmdfaGFuZFwiXG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICBzbWlsZXlzX3Blb3BsZToge1xuICAgICAgICAgICAgICAgIGljb246IFwieXVtXCIsXG4gICAgICAgICAgICAgICAgdGl0bGU6IFwiU21pbGV5cyAmIFBlb3BsZVwiLFxuICAgICAgICAgICAgICAgIGVtb2ppOiBcImdyaW5uaW5nIGdyaW1hY2luZyBncmluIGpveSBzbWlsZXkgc21pbGUgc3dlYXRfc21pbGUgbGF1Z2hpbmcgaW5ub2NlbnQgd2luayBibHVzaCBzbGlnaHRfc21pbGUgXCIgK1xuICAgICAgICAgICAgICAgIFwidXBzaWRlX2Rvd24gcmVsYXhlZCB5dW0gcmVsaWV2ZWQgaGVhcnRfZXllcyBraXNzaW5nX2hlYXJ0IGtpc3Npbmcga2lzc2luZ19zbWlsaW5nX2V5ZXMgXCIgK1xuICAgICAgICAgICAgICAgIFwia2lzc2luZ19jbG9zZWRfZXllcyBzdHVja19vdXRfdG9uZ3VlX3dpbmtpbmdfZXllIHN0dWNrX291dF90b25ndWVfY2xvc2VkX2V5ZXMgc3R1Y2tfb3V0X3Rvbmd1ZSBcIiArXG4gICAgICAgICAgICAgICAgXCJtb25leV9tb3V0aCBuZXJkIHN1bmdsYXNzZXMgaHVnZ2luZyBzbWlyayBub19tb3V0aCBuZXV0cmFsX2ZhY2UgZXhwcmVzc2lvbmxlc3MgdW5hbXVzZWQgcm9sbGluZ19leWVzIFwiICtcbiAgICAgICAgICAgICAgICBcInRoaW5raW5nIGZsdXNoZWQgZGlzYXBwb2ludGVkIHdvcnJpZWQgYW5ncnkgcmFnZSBwZW5zaXZlIGNvbmZ1c2VkIHNsaWdodF9mcm93biBmcm93bmluZzIgcGVyc2V2ZXJlIFwiICtcbiAgICAgICAgICAgICAgICBcImNvbmZvdW5kZWQgdGlyZWRfZmFjZSB3ZWFyeSB0cml1bXBoIG9wZW5fbW91dGggc2NyZWFtIGZlYXJmdWwgY29sZF9zd2VhdCBodXNoZWQgZnJvd25pbmcgYW5ndWlzaGVkIFwiICtcbiAgICAgICAgICAgICAgICBcImNyeSBkaXNhcHBvaW50ZWRfcmVsaWV2ZWQgc2xlZXB5IHN3ZWF0IHNvYiBkaXp6eV9mYWNlIGFzdG9uaXNoZWQgemlwcGVyX21vdXRoIG1hc2sgdGhlcm1vbWV0ZXJfZmFjZSBcIiArXG4gICAgICAgICAgICAgICAgXCJoZWFkX2JhbmRhZ2Ugc2xlZXBpbmcgenp6IHBvb3Agc21pbGluZ19pbXAgaW1wIGphcGFuZXNlX29ncmUgamFwYW5lc2VfZ29ibGluIHNrdWxsIGdob3N0IGFsaWVuIHJvYm90IFwiICtcbiAgICAgICAgICAgICAgICBcInNtaWxleV9jYXQgc21pbGVfY2F0IGpveV9jYXQgaGVhcnRfZXllc19jYXQgc21pcmtfY2F0IGtpc3NpbmdfY2F0IHNjcmVhbV9jYXQgY3J5aW5nX2NhdF9mYWNlIFwiICtcbiAgICAgICAgICAgICAgICBcInBvdXRpbmdfY2F0IHJhaXNlZF9oYW5kcyBjbGFwIHdhdmUgdGh1bWJzdXAgdGh1bWJzZG93biBwdW5jaCBmaXN0IHYgb2tfaGFuZCByYWlzZWRfaGFuZCBvcGVuX2hhbmRzIFwiICtcbiAgICAgICAgICAgICAgICBcIm11c2NsZSBwcmF5IHBvaW50X3VwIHBvaW50X3VwXzIgcG9pbnRfZG93biBwb2ludF9sZWZ0IHBvaW50X3JpZ2h0IG1pZGRsZV9maW5nZXIgaGFuZF9zcGxheWVkIG1ldGFsIFwiICtcbiAgICAgICAgICAgICAgICBcInZ1bGNhbiB3cml0aW5nX2hhbmQgbmFpbF9jYXJlIGxpcHMgdG9uZ3VlIGVhciBub3NlIGV5ZSBleWVzIGJ1c3RfaW5fc2lsaG91ZXR0ZSBidXN0c19pbl9zaWxob3VldHRlIFwiICtcbiAgICAgICAgICAgICAgICBcInNwZWFraW5nX2hlYWQgYmFieSBib3kgZ2lybCBtYW4gd29tYW4gcGVyc29uX3dpdGhfYmxvbmRfaGFpciBvbGRlcl9tYW4gb2xkZXJfd29tYW4gbWFuX3dpdGhfZ3VhX3BpX21hbyBcIiArXG4gICAgICAgICAgICAgICAgXCJtYW5fd2l0aF90dXJiYW4gY29wIGNvbnN0cnVjdGlvbl93b3JrZXIgZ3VhcmRzbWFuIHNweSBzYW50YSBhbmdlbCBwcmluY2VzcyBicmlkZV93aXRoX3ZlaWwgd2Fsa2luZyBcIiArXG4gICAgICAgICAgICAgICAgXCJydW5uZXIgZGFuY2VyIGRhbmNlcnMgY291cGxlIHR3b19tZW5faG9sZGluZ19oYW5kcyB0d29fd29tZW5faG9sZGluZ19oYW5kcyBib3cgaW5mb3JtYXRpb25fZGVza19wZXJzb24gXCIgK1xuICAgICAgICAgICAgICAgIFwibm9fZ29vZCBva193b21hbiByYWlzaW5nX2hhbmQgcGVyc29uX3dpdGhfcG91dGluZ19mYWNlIHBlcnNvbl9mcm93bmluZyBoYWlyY3V0IG1hc3NhZ2UgY291cGxlX3dpdGhfaGVhcnQgXCIgK1xuICAgICAgICAgICAgICAgIFwiY291cGxlX3d3IGNvdXBsZV9tbSBjb3VwbGVraXNzIGtpc3Nfd3cga2lzc19tbSBmYW1pbHkgZmFtaWx5X213ZyBmYW1pbHlfbXdnYiBmYW1pbHlfbXdiYiBmYW1pbHlfbXdnZyBcIiArXG4gICAgICAgICAgICAgICAgXCJmYW1pbHlfd3diIGZhbWlseV93d2cgZmFtaWx5X3d3Z2IgZmFtaWx5X3d3YmIgZmFtaWx5X3d3Z2cgZmFtaWx5X21tYiBmYW1pbHlfbW1nIGZhbWlseV9tbWdiIGZhbWlseV9tbWJiIFwiICtcbiAgICAgICAgICAgICAgICBcImZhbWlseV9tbWdnIHdvbWFuc19jbG90aGVzIHNoaXJ0IGplYW5zIG5lY2t0aWUgZHJlc3MgYmlraW5pIGtpbW9ubyBsaXBzdGljayBraXNzIGZvb3RwcmludHMgaGlnaF9oZWVsIFwiICtcbiAgICAgICAgICAgICAgICBcInNhbmRhbCBib290IG1hbnNfc2hvZSBhdGhsZXRpY19zaG9lIHdvbWFuc19oYXQgdG9waGF0IGhlbG1ldF93aXRoX2Nyb3NzIG1vcnRhcl9ib2FyZCBjcm93biBzY2hvb2xfc2F0Y2hlbCBcIiArXG4gICAgICAgICAgICAgICAgXCJwb3VjaCBwdXJzZSBoYW5kYmFnIGJyaWVmY2FzZSBleWVnbGFzc2VzIGRhcmtfc3VuZ2xhc3NlcyByaW5nIGNsb3NlZF91bWJyZWxsYVwiXG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICBhbmltYWxzX25hdHVyZToge1xuICAgICAgICAgICAgICAgIGljb246IFwiaGFtc3RlclwiLFxuICAgICAgICAgICAgICAgIHRpdGxlOiBcIkFuaW1hbHMgJiBOYXR1cmVcIixcbiAgICAgICAgICAgICAgICBlbW9qaTogXCJkb2cgY2F0IG1vdXNlIGhhbXN0ZXIgcmFiYml0IGJlYXIgcGFuZGFfZmFjZSBrb2FsYSB0aWdlciBsaW9uX2ZhY2UgY293IHBpZyBwaWdfbm9zZSBmcm9nIFwiICtcbiAgICAgICAgICAgICAgICBcIm9jdG9wdXMgbW9ua2V5X2ZhY2Ugc2VlX25vX2V2aWwgaGVhcl9ub19ldmlsIHNwZWFrX25vX2V2aWwgbW9ua2V5IGNoaWNrZW4gcGVuZ3VpbiBiaXJkIGJhYnlfY2hpY2sgXCIgK1xuICAgICAgICAgICAgICAgIFwiaGF0Y2hpbmdfY2hpY2sgaGF0Y2hlZF9jaGljayB3b2xmIGJvYXIgaG9yc2UgdW5pY29ybiBiZWUgYnVnIHNuYWlsIGJlZXRsZSBhbnQgc3BpZGVyIHNjb3JwaW9uIGNyYWIgXCIgK1xuICAgICAgICAgICAgICAgIFwic25ha2UgdHVydGxlIHRyb3BpY2FsX2Zpc2ggZmlzaCBibG93ZmlzaCBkb2xwaGluIHdoYWxlIHdoYWxlMiBjcm9jb2RpbGUgbGVvcGFyZCB0aWdlcjIgd2F0ZXJfYnVmZmFsbyBcIiArXG4gICAgICAgICAgICAgICAgXCJveCBjb3cyIGRyb21lZGFyeV9jYW1lbCBjYW1lbCBlbGVwaGFudCBnb2F0IHJhbSBzaGVlcCByYWNlaG9yc2UgcGlnMiByYXQgbW91c2UyIHJvb3N0ZXIgdHVya2V5IGRvdmUgXCIgK1xuICAgICAgICAgICAgICAgIFwiZG9nMiBwb29kbGUgY2F0MiByYWJiaXQyIGNoaXBtdW5rIGZlZXQgZHJhZ29uIGRyYWdvbl9mYWNlIGNhY3R1cyBjaHJpc3RtYXNfdHJlZSBldmVyZ3JlZW5fdHJlZSBcIiArXG4gICAgICAgICAgICAgICAgXCJkZWNpZHVvdXNfdHJlZSBwYWxtX3RyZWUgc2VlZGxpbmcgaGVyYiBzaGFtcm9jayBmb3VyX2xlYWZfY2xvdmVyIGJhbWJvbyB0YW5hYmF0YV90cmVlIGxlYXZlcyBcIiArXG4gICAgICAgICAgICAgICAgXCJmYWxsZW5fbGVhZiBtYXBsZV9sZWFmIGVhcl9vZl9yaWNlIGhpYmlzY3VzIHN1bmZsb3dlciByb3NlIHR1bGlwIGJsb3Nzb20gY2hlcnJ5X2Jsb3Nzb20gYm91cXVldCBcIiArXG4gICAgICAgICAgICAgICAgXCJtdXNocm9vbSBjaGVzdG51dCBqYWNrX29fbGFudGVybiBzaGVsbCBzcGlkZXJfd2ViIGVhcnRoX2FtZXJpY2FzIGVhcnRoX2FmcmljYSBlYXJ0aF9hc2lhIGZ1bGxfbW9vbiBcIiArXG4gICAgICAgICAgICAgICAgXCJ3YW5pbmdfZ2liYm91c19tb29uIGxhc3RfcXVhcnRlcl9tb29uIHdhbmluZ19jcmVzY2VudF9tb29uIG5ld19tb29uIHdheGluZ19jcmVzY2VudF9tb29uIFwiICtcbiAgICAgICAgICAgICAgICBcImZpcnN0X3F1YXJ0ZXJfbW9vbiB3YXhpbmdfZ2liYm91c19tb29uIG5ld19tb29uX3dpdGhfZmFjZSBmdWxsX21vb25fd2l0aF9mYWNlIGZpcnN0X3F1YXJ0ZXJfbW9vbl93aXRoX2ZhY2UgXCIgK1xuICAgICAgICAgICAgICAgIFwibGFzdF9xdWFydGVyX21vb25fd2l0aF9mYWNlIHN1bl93aXRoX2ZhY2UgY3Jlc2NlbnRfbW9vbiBzdGFyIHN0YXIyIGRpenp5IHNwYXJrbGVzIGNvbWV0IHN1bm55IFwiICtcbiAgICAgICAgICAgICAgICBcIndoaXRlX3N1bl9zbWFsbF9jbG91ZCBwYXJ0bHlfc3Vubnkgd2hpdGVfc3VuX2Nsb3VkIHdoaXRlX3N1bl9yYWluX2Nsb3VkIGNsb3VkIGNsb3VkX3JhaW4gXCIgK1xuICAgICAgICAgICAgICAgIFwidGh1bmRlcl9jbG91ZF9yYWluIGNsb3VkX2xpZ2h0bmluZyB6YXAgZmlyZSBib29tIHNub3dmbGFrZSBjbG91ZF9zbm93IHNub3dtYW4yIHNub3dtYW4gd2luZF9ibG93aW5nX2ZhY2UgXCIgK1xuICAgICAgICAgICAgICAgIFwiZGFzaCBjbG91ZF90b3JuYWRvIGZvZyB1bWJyZWxsYTIgdW1icmVsbGEgZHJvcGxldCBzd2VhdF9kcm9wcyBvY2VhblwiXG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICBmb29kX2RyaW5rOiB7XG4gICAgICAgICAgICAgICAgaWNvbjogXCJwaXp6YVwiLFxuICAgICAgICAgICAgICAgIHRpdGxlOiBcIkZvb2QgJiBEcmlua1wiLFxuICAgICAgICAgICAgICAgIGVtb2ppOiBcImdyZWVuX2FwcGxlIGFwcGxlIHBlYXIgdGFuZ2VyaW5lIGxlbW9uIGJhbmFuYSB3YXRlcm1lbG9uIGdyYXBlcyBzdHJhd2JlcnJ5IG1lbG9uIGNoZXJyaWVzIHBlYWNoIFwiICtcbiAgICAgICAgICAgICAgICBcInBpbmVhcHBsZSB0b21hdG8gZWdncGxhbnQgaG90X3BlcHBlciBjb3JuIHN3ZWV0X3BvdGF0byBob25leV9wb3QgYnJlYWQgY2hlZXNlIHBvdWx0cnlfbGVnIG1lYXRfb25fYm9uZSBcIiArXG4gICAgICAgICAgICAgICAgXCJmcmllZF9zaHJpbXAgZWdnIGhhbWJ1cmdlciBmcmllcyBob3Rkb2cgcGl6emEgc3BhZ2hldHRpIHRhY28gYnVycml0byByYW1lbiBzdGV3IGZpc2hfY2FrZSBzdXNoaSBiZW50byBcIiArXG4gICAgICAgICAgICAgICAgXCJjdXJyeSByaWNlX2JhbGwgcmljZSByaWNlX2NyYWNrZXIgb2RlbiBkYW5nbyBzaGF2ZWRfaWNlIGljZV9jcmVhbSBpY2VjcmVhbSBjYWtlIGJpcnRoZGF5IGN1c3RhcmQgY2FuZHkgXCIgK1xuICAgICAgICAgICAgICAgIFwibG9sbGlwb3AgY2hvY29sYXRlX2JhciBwb3Bjb3JuIGRvdWdobnV0IGNvb2tpZSBiZWVyIGJlZXJzIHdpbmVfZ2xhc3MgY29ja3RhaWwgdHJvcGljYWxfZHJpbmsgY2hhbXBhZ25lIFwiICtcbiAgICAgICAgICAgICAgICBcInNha2UgdGVhIGNvZmZlZSBiYWJ5X2JvdHRsZSBmb3JrX2FuZF9rbmlmZSBmb3JrX2tuaWZlX3BsYXRlXCJcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIGFjdGl2aXR5OiB7XG4gICAgICAgICAgICAgICAgaWNvbjogXCJiYXNrZXRiYWxsXCIsXG4gICAgICAgICAgICAgICAgdGl0bGU6IFwiQWN0aXZpdHlcIixcbiAgICAgICAgICAgICAgICBlbW9qaTogXCJzb2NjZXIgYmFza2V0YmFsbCBmb290YmFsbCBiYXNlYmFsbCB0ZW5uaXMgdm9sbGV5YmFsbCBydWdieV9mb290YmFsbCA4YmFsbCBnb2xmIGdvbGZlciBwaW5nX3BvbmcgXCIgK1xuICAgICAgICAgICAgICAgIFwiYmFkbWludG9uIGhvY2tleSBmaWVsZF9ob2NrZXkgY3JpY2tldCBza2kgc2tpZXIgc25vd2JvYXJkZXIgaWNlX3NrYXRlIGJvd19hbmRfYXJyb3cgZmlzaGluZ19wb2xlX2FuZF9maXNoIFwiICtcbiAgICAgICAgICAgICAgICBcInJvd2JvYXQgc3dpbW1lciBzdXJmZXIgYmF0aCBiYXNrZXRiYWxsX3BsYXllciBsaWZ0ZXIgYmljeWNsaXN0IG1vdW50YWluX2JpY3ljbGlzdCBob3JzZV9yYWNpbmcgbGV2aXRhdGUgXCIgK1xuICAgICAgICAgICAgICAgIFwidHJvcGh5IHJ1bm5pbmdfc2hpcnRfd2l0aF9zYXNoIG1lZGFsIG1pbGl0YXJ5X21lZGFsIHJlbWluZGVyX3JpYmJvbiByb3NldHRlIHRpY2tldCB0aWNrZXRzIHBlcmZvcm1pbmdfYXJ0cyBcIiArXG4gICAgICAgICAgICAgICAgXCJhcnQgY2lyY3VzX3RlbnQgbWljcm9waG9uZSBoZWFkcGhvbmVzIG11c2ljYWxfc2NvcmUgbXVzaWNhbF9rZXlib2FyZCBzYXhvcGhvbmUgdHJ1bXBldCBndWl0YXIgdmlvbGluIFwiICtcbiAgICAgICAgICAgICAgICBcImNsYXBwZXIgdmlkZW9fZ2FtZSBzcGFjZV9pbnZhZGVyIGRhcnQgZ2FtZV9kaWUgc2xvdF9tYWNoaW5lIGJvd2xpbmdcIlxuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgdHJhdmVsX3BsYWNlczoge1xuICAgICAgICAgICAgICAgIGljb246IFwicm9ja2V0XCIsXG4gICAgICAgICAgICAgICAgdGl0bGU6IFwiVHJhdmVsICYgUGxhY2VzXCIsXG4gICAgICAgICAgICAgICAgZW1vamk6IFwicmVkX2NhciB0YXhpIGJsdWVfY2FyIGJ1cyB0cm9sbGV5YnVzIHJhY2VfY2FyIHBvbGljZV9jYXIgYW1idWxhbmNlIGZpcmVfZW5naW5lIG1pbmlidXMgdHJ1Y2sgXCIgK1xuICAgICAgICAgICAgICAgIFwiYXJ0aWN1bGF0ZWRfbG9ycnkgdHJhY3RvciBtb3RvcmN5Y2xlIGJpa2Ugcm90YXRpbmdfbGlnaHQgb25jb21pbmdfcG9saWNlX2NhciBvbmNvbWluZ19idXMgXCIgK1xuICAgICAgICAgICAgICAgIFwib25jb21pbmdfYXV0b21vYmlsZSBvbmNvbWluZ190YXhpIGFlcmlhbF90cmFtd2F5IG1vdW50YWluX2NhYmxld2F5IHN1c3BlbnNpb25fcmFpbHdheSByYWlsd2F5X2NhciBcIiArXG4gICAgICAgICAgICAgICAgXCJ0cmFpbiBtb25vcmFpbCBidWxsZXR0cmFpbl9zaWRlIGJ1bGxldHRyYWluX2Zyb250IGxpZ2h0X3JhaWwgbW91bnRhaW5fcmFpbHdheSBzdGVhbV9sb2NvbW90aXZlIHRyYWluMiBcIiArXG4gICAgICAgICAgICAgICAgXCJtZXRybyB0cmFtIHN0YXRpb24gaGVsaWNvcHRlciBhaXJwbGFuZV9zbWFsbCBhaXJwbGFuZSBhaXJwbGFuZV9kZXBhcnR1cmUgYWlycGxhbmVfYXJyaXZpbmcgc2FpbGJvYXQgXCIgK1xuICAgICAgICAgICAgICAgIFwibW90b3Jib2F0IHNwZWVkYm9hdCBmZXJyeSBjcnVpc2Vfc2hpcCByb2NrZXQgc2F0ZWxsaXRlX29yYml0YWwgc2VhdCBhbmNob3IgY29uc3RydWN0aW9uIGZ1ZWxwdW1wIGJ1c3N0b3AgXCIgK1xuICAgICAgICAgICAgICAgIFwidmVydGljYWxfdHJhZmZpY19saWdodCB0cmFmZmljX2xpZ2h0IGNoZWNrZXJlZF9mbGFnIHNoaXAgZmVycmlzX3doZWVsIHJvbGxlcl9jb2FzdGVyIGNhcm91c2VsX2hvcnNlIFwiICtcbiAgICAgICAgICAgICAgICBcImNvbnN0cnVjdGlvbl9zaXRlIGZvZ2d5IHRva3lvX3Rvd2VyIGZhY3RvcnkgZm91bnRhaW4gcmljZV9zY2VuZSBtb3VudGFpbiBtb3VudGFpbl9zbm93IG1vdW50X2Z1amkgdm9sY2FubyBcIiArXG4gICAgICAgICAgICAgICAgXCJqYXBhbiBjYW1waW5nIHRlbnQgcGFyayBtb3RvcndheSByYWlsd2F5X3RyYWNrIHN1bnJpc2Ugc3VucmlzZV9vdmVyX21vdW50YWlucyBkZXNlcnQgYmVhY2ggaXNsYW5kIFwiICtcbiAgICAgICAgICAgICAgICBcImNpdHlfc3Vuc2V0IGNpdHlfZHVzayBjaXR5c2NhcGUgbmlnaHRfd2l0aF9zdGFycyBicmlkZ2VfYXRfbmlnaHQgbWlsa3lfd2F5IHN0YXJzIHNwYXJrbGVyIGZpcmV3b3JrcyBcIiArXG4gICAgICAgICAgICAgICAgXCJyYWluYm93IGhvbWVzIGV1cm9wZWFuX2Nhc3RsZSBqYXBhbmVzZV9jYXN0bGUgc3RhZGl1bSBzdGF0dWVfb2ZfbGliZXJ0eSBob3VzZSBob3VzZV93aXRoX2dhcmRlbiBcIiArXG4gICAgICAgICAgICAgICAgXCJob3VzZV9hYmFuZG9uZWQgb2ZmaWNlIGRlcGFydG1lbnRfc3RvcmUgcG9zdF9vZmZpY2UgZXVyb3BlYW5fcG9zdF9vZmZpY2UgaG9zcGl0YWwgYmFuayBob3RlbCBcIiArXG4gICAgICAgICAgICAgICAgXCJjb252ZW5pZW5jZV9zdG9yZSBzY2hvb2wgbG92ZV9ob3RlbCB3ZWRkaW5nIGNsYXNzaWNhbF9idWlsZGluZyBjaHVyY2ggbW9zcXVlIHN5bmFnb2d1ZSBrYWFiYSBzaGludG9fc2hyaW5lXCJcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIG9iamVjdHM6IHtcbiAgICAgICAgICAgICAgICBpY29uOiBcImJ1bGJcIixcbiAgICAgICAgICAgICAgICB0aXRsZTogXCJPYmplY3RzXCIsXG4gICAgICAgICAgICAgICAgZW1vamk6IFwid2F0Y2ggaXBob25lIGNhbGxpbmcgY29tcHV0ZXIga2V5Ym9hcmQgZGVza3RvcCBwcmludGVyIG1vdXNlX3RocmVlX2J1dHRvbiB0cmFja2JhbGwgam95c3RpY2sgXCIgK1xuICAgICAgICAgICAgICAgIFwiY29tcHJlc3Npb24gbWluaWRpc2MgZmxvcHB5X2Rpc2sgY2QgZHZkIHZocyBjYW1lcmEgY2FtZXJhX3dpdGhfZmxhc2ggdmlkZW9fY2FtZXJhIG1vdmllX2NhbWVyYSBwcm9qZWN0b3IgXCIgK1xuICAgICAgICAgICAgICAgIFwiZmlsbV9mcmFtZXMgdGVsZXBob25lX3JlY2VpdmVyIHRlbGVwaG9uZSBwYWdlciBmYXggdHYgcmFkaW8gbWljcm9waG9uZTIgbGV2ZWxfc2xpZGVyIGNvbnRyb2xfa25vYnMgXCIgK1xuICAgICAgICAgICAgICAgIFwic3RvcHdhdGNoIHRpbWVyIGFsYXJtX2Nsb2NrIGNsb2NrIGhvdXJnbGFzc19mbG93aW5nX3NhbmQgaG91cmdsYXNzIHNhdGVsbGl0ZSBiYXR0ZXJ5IGVsZWN0cmljX3BsdWcgYnVsYiBcIiArXG4gICAgICAgICAgICAgICAgXCJmbGFzaGxpZ2h0IGNhbmRsZSB3YXN0ZWJhc2tldCBvaWwgbW9uZXlfd2l0aF93aW5ncyBkb2xsYXIgeWVuIGV1cm8gcG91bmQgbW9uZXliYWcgY3JlZGl0X2NhcmQgZ2VtIHNjYWxlcyBcIiArXG4gICAgICAgICAgICAgICAgXCJ3cmVuY2ggaGFtbWVyIGhhbW1lcl9waWNrIHRvb2xzIHBpY2sgbnV0X2FuZF9ib2x0IGdlYXIgY2hhaW5zIGd1biBib21iIGtuaWZlIGRhZ2dlciBjcm9zc2VkX3N3b3JkcyBzaGllbGQgXCIgK1xuICAgICAgICAgICAgICAgIFwic21va2luZyBza3VsbF9jcm9zc2JvbmVzIGNvZmZpbiB1cm4gYW1waG9yYSBjcnlzdGFsX2JhbGwgcHJheWVyX2JlYWRzIGJhcmJlciBhbGVtYmljIHRlbGVzY29wZSBtaWNyb3Njb3BlIFwiICtcbiAgICAgICAgICAgICAgICBcImhvbGUgcGlsbCBzeXJpbmdlIHRoZXJtb21ldGVyIGxhYmVsIGJvb2ttYXJrIHRvaWxldCBzaG93ZXIgYmF0aHR1YiBrZXkga2V5MiBjb3VjaCBzbGVlcGluZ19hY2NvbW1vZGF0aW9uIFwiICtcbiAgICAgICAgICAgICAgICBcImJlZCBkb29yIGJlbGxob3AgZnJhbWVfcGhvdG8gbWFwIGJlYWNoX3VtYnJlbGxhIG1veWFpIHNob3BwaW5nX2JhZ3MgYmFsbG9vbiBmbGFncyByaWJib24gZ2lmdCBjb25mZXR0aV9iYWxsIFwiICtcbiAgICAgICAgICAgICAgICBcInRhZGEgZG9sbHMgd2luZF9jaGltZSBjcm9zc2VkX2ZsYWdzIGl6YWtheWFfbGFudGVybiBlbnZlbG9wZSBlbnZlbG9wZV93aXRoX2Fycm93IGluY29taW5nX2VudmVsb3BlIGUtbWFpbCBcIiArXG4gICAgICAgICAgICAgICAgXCJsb3ZlX2xldHRlciBwb3N0Ym94IG1haWxib3hfY2xvc2VkIG1haWxib3ggbWFpbGJveF93aXRoX21haWwgbWFpbGJveF93aXRoX25vX21haWwgcGFja2FnZSBwb3N0YWxfaG9ybiBcIiArXG4gICAgICAgICAgICAgICAgXCJpbmJveF90cmF5IG91dGJveF90cmF5IHNjcm9sbCBwYWdlX3dpdGhfY3VybCBib29rbWFya190YWJzIGJhcl9jaGFydCBjaGFydF93aXRoX3Vwd2FyZHNfdHJlbmQgXCIgK1xuICAgICAgICAgICAgICAgIFwiY2hhcnRfd2l0aF9kb3dud2FyZHNfdHJlbmQgcGFnZV9mYWNpbmdfdXAgZGF0ZSBjYWxlbmRhciBjYWxlbmRhcl9zcGlyYWwgY2FyZF9pbmRleCBjYXJkX2JveCBiYWxsb3RfYm94IFwiICtcbiAgICAgICAgICAgICAgICBcImZpbGVfY2FiaW5ldCBjbGlwYm9hcmQgbm90ZXBhZF9zcGlyYWwgZmlsZV9mb2xkZXIgb3Blbl9maWxlX2ZvbGRlciBkaXZpZGVycyBuZXdzcGFwZXIyIG5ld3NwYXBlciBub3RlYm9vayBcIiArXG4gICAgICAgICAgICAgICAgXCJjbG9zZWRfYm9vayBncmVlbl9ib29rIGJsdWVfYm9vayBvcmFuZ2VfYm9vayBub3RlYm9va193aXRoX2RlY29yYXRpdmVfY292ZXIgbGVkZ2VyIGJvb2tzIGJvb2sgbGluayBcIiArXG4gICAgICAgICAgICAgICAgXCJwYXBlcmNsaXAgcGFwZXJjbGlwcyBzY2lzc29ycyB0cmlhbmd1bGFyX3J1bGVyIHN0cmFpZ2h0X3J1bGVyIHB1c2hwaW4gcm91bmRfcHVzaHBpbiB0cmlhbmd1bGFyX2ZsYWdfb25fcG9zdCBcIiArXG4gICAgICAgICAgICAgICAgXCJmbGFnX3doaXRlIGZsYWdfYmxhY2sgY2xvc2VkX2xvY2tfd2l0aF9rZXkgbG9jayB1bmxvY2sgbG9ja193aXRoX2lua19wZW4gcGVuX2JhbGxwb2ludCBwZW5fZm91bnRhaW4gXCIgK1xuICAgICAgICAgICAgICAgIFwiYmxhY2tfbmliIHBlbmNpbCBwZW5jaWwyIGNyYXlvbiBwYWludGJydXNoIG1hZyBtYWdfcmlnaHRcIlxuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgc3ltYm9sczoge1xuICAgICAgICAgICAgICAgIGljb246IFwiaGVhcnRwdWxzZVwiLFxuICAgICAgICAgICAgICAgIHRpdGxlOiBcIlN5bWJvbHNcIixcbiAgICAgICAgICAgICAgICBlbW9qaTogXCJoZWFydCB5ZWxsb3dfaGVhcnQgZ3JlZW5faGVhcnQgYmx1ZV9oZWFydCBwdXJwbGVfaGVhcnQgYnJva2VuX2hlYXJ0IGhlYXJ0X2V4Y2xhbWF0aW9uIHR3b19oZWFydHMgXCIgK1xuICAgICAgICAgICAgICAgIFwicmV2b2x2aW5nX2hlYXJ0cyBoZWFydGJlYXQgaGVhcnRwdWxzZSBzcGFya2xpbmdfaGVhcnQgY3VwaWQgZ2lmdF9oZWFydCBoZWFydF9kZWNvcmF0aW9uIHBlYWNlIGNyb3NzIFwiICtcbiAgICAgICAgICAgICAgICBcInN0YXJfYW5kX2NyZXNjZW50IG9tX3N5bWJvbCB3aGVlbF9vZl9kaGFybWEgc3Rhcl9vZl9kYXZpZCBzaXhfcG9pbnRlZF9zdGFyIG1lbm9yYWggeWluX3lhbmcgb3J0aG9kb3hfY3Jvc3MgXCIgK1xuICAgICAgICAgICAgICAgIFwicGxhY2Vfb2Zfd29yc2hpcCBvcGhpdWNodXMgYXJpZXMgdGF1cnVzIGdlbWluaSBjYW5jZXIgbGVvIHZpcmdvIGxpYnJhIHNjb3JwaXVzIHNhZ2l0dGFyaXVzIGNhcHJpY29ybiBcIiArXG4gICAgICAgICAgICAgICAgXCJhcXVhcml1cyBwaXNjZXMgaWQgYXRvbSB1N2E3YSB1NTI3MiByYWRpb2FjdGl2ZSBiaW9oYXphcmQgbW9iaWxlX3Bob25lX29mZiB2aWJyYXRpb25fbW9kZSB1NjcwOSB1NzEyMSBcIiArXG4gICAgICAgICAgICAgICAgXCJ1NzUzMyB1NTViNiB1NjcwOCBlaWdodF9wb2ludGVkX2JsYWNrX3N0YXIgdnMgYWNjZXB0IHdoaXRlX2Zsb3dlciBpZGVvZ3JhcGhfYWR2YW50YWdlIHNlY3JldCBjb25ncmF0dWxhdGlvbnMgXCIgK1xuICAgICAgICAgICAgICAgIFwidTU0MDggdTZlODAgdTc5ODEgYSBiIGFiIGNsIG8yIHNvcyBub19lbnRyeSBuYW1lX2JhZGdlIG5vX2VudHJ5X3NpZ24geCBvIGFuZ2VyIGhvdHNwcmluZ3Mgbm9fcGVkZXN0cmlhbnMgXCIgK1xuICAgICAgICAgICAgICAgIFwiZG9fbm90X2xpdHRlciBub19iaWN5Y2xlcyBub24tcG90YWJsZV93YXRlciB1bmRlcmFnZSBub19tb2JpbGVfcGhvbmVzIGV4Y2xhbWF0aW9uIGdyZXlfZXhjbGFtYXRpb24gcXVlc3Rpb24gXCIgK1xuICAgICAgICAgICAgICAgIFwiZ3JleV9xdWVzdGlvbiBiYW5nYmFuZyBpbnRlcnJvYmFuZyAxMDAgbG93X2JyaWdodG5lc3MgaGlnaF9icmlnaHRuZXNzIHRyaWRlbnQgZmxldXItZGUtbGlzIHBhcnRfYWx0ZXJuYXRpb25fbWFyayBcIiArXG4gICAgICAgICAgICAgICAgXCJ3YXJuaW5nIGNoaWxkcmVuX2Nyb3NzaW5nIGJlZ2lubmVyIHJlY3ljbGUgdTYzMDcgY2hhcnQgc3BhcmtsZSBlaWdodF9zcG9rZWRfYXN0ZXJpc2sgbmVnYXRpdmVfc3F1YXJlZF9jcm9zc19tYXJrIFwiICtcbiAgICAgICAgICAgICAgICBcIndoaXRlX2NoZWNrX21hcmsgZGlhbW9uZF9zaGFwZV93aXRoX2FfZG90X2luc2lkZSBjeWNsb25lIGxvb3AgZ2xvYmVfd2l0aF9tZXJpZGlhbnMgbSBhdG0gc2EgcGFzc3BvcnRfY29udHJvbCBcIiArXG4gICAgICAgICAgICAgICAgXCJjdXN0b21zIGJhZ2dhZ2VfY2xhaW0gbGVmdF9sdWdnYWdlIHdoZWVsY2hhaXIgbm9fc21va2luZyB3YyBwYXJraW5nIHBvdGFibGVfd2F0ZXIgbWVucyB3b21lbnMgYmFieV9zeW1ib2wgXCIgK1xuICAgICAgICAgICAgICAgIFwicmVzdHJvb20gcHV0X2xpdHRlcl9pbl9pdHNfcGxhY2UgY2luZW1hIHNpZ25hbF9zdHJlbmd0aCBrb2tvIG5nIG9rIHVwIGNvb2wgbmV3IGZyZWUgemVybyBvbmUgdHdvIHRocmVlIGZvdXIgXCIgK1xuICAgICAgICAgICAgICAgIFwiZml2ZSBzaXggc2V2ZW4gZWlnaHQgbmluZSB0ZW4gMTIzNCBhcnJvd19mb3J3YXJkIHBhdXNlX2J1dHRvbiBwbGF5X3BhdXNlIHN0b3BfYnV0dG9uIHJlY29yZF9idXR0b24gdHJhY2tfbmV4dCBcIiArXG4gICAgICAgICAgICAgICAgXCJ0cmFja19wcmV2aW91cyBmYXN0X2ZvcndhcmQgcmV3aW5kIHR3aXN0ZWRfcmlnaHR3YXJkc19hcnJvd3MgcmVwZWF0IHJlcGVhdF9vbmUgYXJyb3dfYmFja3dhcmQgYXJyb3dfdXBfc21hbGwgXCIgK1xuICAgICAgICAgICAgICAgIFwiYXJyb3dfZG93bl9zbWFsbCBhcnJvd19kb3VibGVfdXAgYXJyb3dfZG91YmxlX2Rvd24gYXJyb3dfcmlnaHQgYXJyb3dfbGVmdCBhcnJvd191cCBhcnJvd19kb3duIGFycm93X3VwcGVyX3JpZ2h0IFwiICtcbiAgICAgICAgICAgICAgICBcImFycm93X2xvd2VyX3JpZ2h0IGFycm93X2xvd2VyX2xlZnQgYXJyb3dfdXBwZXJfbGVmdCBhcnJvd191cF9kb3duIGxlZnRfcmlnaHRfYXJyb3cgYXJyb3dzX2NvdW50ZXJjbG9ja3dpc2UgXCIgK1xuICAgICAgICAgICAgICAgIFwiYXJyb3dfcmlnaHRfaG9vayBsZWZ0d2FyZHNfYXJyb3dfd2l0aF9ob29rIGFycm93X2hlYWRpbmdfdXAgYXJyb3dfaGVhZGluZ19kb3duIGhhc2ggYXN0ZXJpc2sgaW5mb3JtYXRpb25fc291cmNlIFwiICtcbiAgICAgICAgICAgICAgICBcImFiYyBhYmNkIGNhcGl0YWxfYWJjZCBzeW1ib2xzIG11c2ljYWxfbm90ZSBub3RlcyB3YXZ5X2Rhc2ggY3VybHlfbG9vcCBoZWF2eV9jaGVja19tYXJrIGFycm93c19jbG9ja3dpc2UgXCIgK1xuICAgICAgICAgICAgICAgIFwiaGVhdnlfcGx1c19zaWduIGhlYXZ5X21pbnVzX3NpZ24gaGVhdnlfZGl2aXNpb25fc2lnbiBoZWF2eV9tdWx0aXBsaWNhdGlvbl94IGhlYXZ5X2RvbGxhcl9zaWduIGN1cnJlbmN5X2V4Y2hhbmdlIFwiICtcbiAgICAgICAgICAgICAgICBcImNvcHlyaWdodCByZWdpc3RlcmVkIHRtIGVuZCBiYWNrIG9uIHRvcCBzb29uIGJhbGxvdF9ib3hfd2l0aF9jaGVjayByYWRpb19idXR0b24gd2hpdGVfY2lyY2xlIGJsYWNrX2NpcmNsZSBcIiArXG4gICAgICAgICAgICAgICAgXCJyZWRfY2lyY2xlIGxhcmdlX2JsdWVfY2lyY2xlIHNtYWxsX29yYW5nZV9kaWFtb25kIHNtYWxsX2JsdWVfZGlhbW9uZCBsYXJnZV9vcmFuZ2VfZGlhbW9uZCBsYXJnZV9ibHVlX2RpYW1vbmQgXCIgK1xuICAgICAgICAgICAgICAgIFwic21hbGxfcmVkX3RyaWFuZ2xlIGJsYWNrX3NtYWxsX3NxdWFyZSB3aGl0ZV9zbWFsbF9zcXVhcmUgYmxhY2tfbGFyZ2Vfc3F1YXJlIHdoaXRlX2xhcmdlX3NxdWFyZSBzbWFsbF9yZWRfdHJpYW5nbGVfZG93biBcIiArXG4gICAgICAgICAgICAgICAgXCJibGFja19tZWRpdW1fc3F1YXJlIHdoaXRlX21lZGl1bV9zcXVhcmUgYmxhY2tfbWVkaXVtX3NtYWxsX3NxdWFyZSB3aGl0ZV9tZWRpdW1fc21hbGxfc3F1YXJlIGJsYWNrX3NxdWFyZV9idXR0b24gXCIgK1xuICAgICAgICAgICAgICAgIFwid2hpdGVfc3F1YXJlX2J1dHRvbiBzcGVha2VyIHNvdW5kIGxvdWRfc291bmQgbXV0ZSBtZWdhIGxvdWRzcGVha2VyIGJlbGwgbm9fYmVsbCBibGFja19qb2tlciBtYWhqb25nIHNwYWRlcyBcIiArXG4gICAgICAgICAgICAgICAgXCJjbHVicyBoZWFydHMgZGlhbW9uZHMgZmxvd2VyX3BsYXlpbmdfY2FyZHMgdGhvdWdodF9iYWxsb29uIGFuZ2VyX3JpZ2h0IHNwZWVjaF9iYWxsb29uIGNsb2NrMSBjbG9jazIgY2xvY2szIFwiICtcbiAgICAgICAgICAgICAgICBcImNsb2NrNCBjbG9jazUgY2xvY2s2IGNsb2NrNyBjbG9jazggY2xvY2s5IGNsb2NrMTAgY2xvY2sxMSBjbG9jazEyIGNsb2NrMTMwIGNsb2NrMjMwIGNsb2NrMzMwIGNsb2NrNDMwIFwiICtcbiAgICAgICAgICAgICAgICBcImNsb2NrNTMwIGNsb2NrNjMwIGNsb2NrNzMwIGNsb2NrODMwIGNsb2NrOTMwIGNsb2NrMTAzMCBjbG9jazExMzAgY2xvY2sxMjMwIGV5ZV9pbl9zcGVlY2hfYnViYmxlXCJcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIGZsYWdzOiB7XG4gICAgICAgICAgICAgICAgaWNvbjogXCJmbGFnX2diXCIsXG4gICAgICAgICAgICAgICAgdGl0bGU6IFwiRmxhZ3NcIixcbiAgICAgICAgICAgICAgICBlbW9qaTogXCJhYyBhZiBhbCBkeiBhZCBhbyBhaSBhZyBhciBhbSBhdyBhdSBhdCBheiBicyBiaCBiZCBiYiBieSBiZSBieiBiaiBibSBidCBibyBiYSBidyBiciBibiBiZyBiZiBiaSBcIiArXG4gICAgICAgICAgICAgICAgXCJjdiBraCBjbSBjYSBreSBjZiB0ZCBmbGFnX2NsIGNuIGNvIGttIGNnIGZsYWdfY2QgY3IgaHIgY3UgY3kgY3ogZGsgZGogZG0gZG8gZWMgZWcgc3YgZ3EgZXIgZWUgZXQgZmsgZm8gXCIgK1xuICAgICAgICAgICAgICAgIFwiZmogZmkgZnIgcGYgZ2EgZ20gZ2UgZGUgZ2ggZ2kgZ3IgZ2wgZ2QgZ3UgZ3QgZ24gZ3cgZ3kgaHQgaG4gaGsgaHUgaXMgaW4gZmxhZ19pZCBpciBpcSBpZSBpbCBpdCBjaSBqbSBqcCBcIiArXG4gICAgICAgICAgICAgICAgXCJqZSBqbyBreiBrZSBraSB4ayBrdyBrZyBsYSBsdiBsYiBscyBsciBseSBsaSBsdCBsdSBtbyBtayBtZyBtdyBteSBtdiBtbCBtdCBtaCBtciBtdSBteCBmbSBtZCBtYyBtbiBtZSBcIiArXG4gICAgICAgICAgICAgICAgXCJtcyBtYSBteiBtbSBuYSBuciBucCBubCBuYyBueiBuaSBuZSBmbGFnX25nIG51IGtwIG5vIG9tIHBrIHB3IHBzIHBhIHBnIHB5IHBlIHBoIHBsIHB0IHByIHFhIHJvIHJ1IHJ3IFwiICtcbiAgICAgICAgICAgICAgICBcInNoIGtuIGxjIHZjIHdzIHNtIHN0IGZsYWdfc2Egc24gcnMgc2Mgc2wgc2cgc2sgc2kgc2Igc28gemEga3IgZXMgbGsgc2Qgc3Igc3ogc2UgY2ggc3kgdHcgdGogdHogdGggdGwgXCIgK1xuICAgICAgICAgICAgICAgIFwidGcgdG8gdHQgdG4gdHIgZmxhZ190bSBmbGFnX3RtIHVnIHVhIGFlIGdiIHVzIHZpIHV5IHV6IHZ1IHZhIHZlIHZuIHdmIGVoIHllIHptIHp3IHJlIGF4IHRhIGlvIGJxIGN4IFwiICtcbiAgICAgICAgICAgICAgICBcImNjIGdnIGltIHl0IG5mIHBuIGJsIHBtIGdzIHRrIGJ2IGhtIHNqIHVtIGljIGVhIGNwIGRnIGFzIGFxIHZnIGNrIGN3IGV1IGdmIHRmIGdwIG1xIG1wIHN4IHNzIHRjIFwiXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIGZ1bmN0aW9uIGlzT2JqZWN0KHZhcmlhYmxlKSB7XG4gICAgICAgIHJldHVybiB0eXBlb2YgdmFyaWFibGUgPT09ICdvYmplY3QnO1xuICAgIH07XG4gICAgZnVuY3Rpb24gZ2V0T3B0aW9ucyhvcHRpb25zKSB7XG4gICAgICAgIGlmIChvcHRpb25zWydmaWx0ZXJzJ10pIHtcbiAgICAgICAgICAgIHZhciBmaWx0ZXJzID0gZGVmYXVsdF9vcHRpb25zLmZpbHRlcnM7XG4gICAgICAgICAgICAkLmVhY2gob3B0aW9uc1snZmlsdGVycyddLCBmdW5jdGlvbihmaWx0ZXIsIGRhdGEpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWlzT2JqZWN0KGRhdGEpIHx8ICQuaXNFbXB0eU9iamVjdChkYXRhKSkge1xuICAgICAgICAgICAgICAgICAgICBkZWxldGUgZmlsdGVyc1tmaWx0ZXJdO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICQuZWFjaChkYXRhLCBmdW5jdGlvbihrZXksIHZhbCkge1xuICAgICAgICAgICAgICAgICAgICBmaWx0ZXJzW2ZpbHRlcl1ba2V5XSA9IHZhbDtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgb3B0aW9uc1snZmlsdGVycyddID0gZmlsdGVycztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gJC5leHRlbmQoe30sIGRlZmF1bHRfb3B0aW9ucywgb3B0aW9ucyk7XG4gICAgfVxuXG4gICAgdmFyIHNhdmVTZWxlY3Rpb24sIHJlc3RvcmVTZWxlY3Rpb247XG4gICAgaWYgKHdpbmRvdy5nZXRTZWxlY3Rpb24gJiYgZG9jdW1lbnQuY3JlYXRlUmFuZ2UpIHtcbiAgICAgICAgc2F2ZVNlbGVjdGlvbiA9IGZ1bmN0aW9uKGVsKSB7XG4gICAgICAgICAgICB2YXIgcmFuZ2UgPSB3aW5kb3cuZ2V0U2VsZWN0aW9uKCkuZ2V0UmFuZ2VBdCgwKTtcbiAgICAgICAgICAgIHZhciBwcmVTZWxlY3Rpb25SYW5nZSA9IHJhbmdlLmNsb25lUmFuZ2UoKTtcbiAgICAgICAgICAgIHByZVNlbGVjdGlvblJhbmdlLnNlbGVjdE5vZGVDb250ZW50cyhlbCk7XG4gICAgICAgICAgICBwcmVTZWxlY3Rpb25SYW5nZS5zZXRFbmQocmFuZ2Uuc3RhcnRDb250YWluZXIsIHJhbmdlLnN0YXJ0T2Zmc2V0KTtcbiAgICAgICAgICAgIHJldHVybiBwcmVTZWxlY3Rpb25SYW5nZS50b1N0cmluZygpLmxlbmd0aDtcbiAgICAgICAgfTtcblxuICAgICAgICByZXN0b3JlU2VsZWN0aW9uID0gZnVuY3Rpb24oZWwsIHNlbCkge1xuICAgICAgICAgICAgdmFyIGNoYXJJbmRleCA9IDAsIHJhbmdlID0gZG9jdW1lbnQuY3JlYXRlUmFuZ2UoKTtcbiAgICAgICAgICAgIHJhbmdlLnNldFN0YXJ0KGVsLCAwKTtcbiAgICAgICAgICAgIHJhbmdlLmNvbGxhcHNlKHRydWUpO1xuICAgICAgICAgICAgdmFyIG5vZGVTdGFjayA9IFtlbF0sIG5vZGUsIGZvdW5kU3RhcnQgPSBmYWxzZSwgc3RvcCA9IGZhbHNlO1xuXG4gICAgICAgICAgICB3aGlsZSAoIXN0b3AgJiYgKG5vZGUgPSBub2RlU3RhY2sucG9wKCkpKSB7XG4gICAgICAgICAgICAgICAgaWYgKG5vZGUubm9kZVR5cGUgPT0gMykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgbmV4dENoYXJJbmRleCA9IGNoYXJJbmRleCArIG5vZGUubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWZvdW5kU3RhcnQgJiYgc2VsID49IGNoYXJJbmRleCAmJiBzZWwgPD0gbmV4dENoYXJJbmRleCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmFuZ2Uuc2V0U3RhcnQobm9kZSwgc2VsIC0gY2hhckluZGV4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJhbmdlLnNldEVuZChub2RlLCBzZWwgLSBjaGFySW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RvcCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2hhckluZGV4ID0gbmV4dENoYXJJbmRleDtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB2YXIgaSA9IG5vZGUuY2hpbGROb2Rlcy5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgIHdoaWxlIChpLS0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vZGVTdGFjay5wdXNoKG5vZGUuY2hpbGROb2Rlc1tpXSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHNlbCA9IHdpbmRvdy5nZXRTZWxlY3Rpb24oKTtcbiAgICAgICAgICAgIHNlbC5yZW1vdmVBbGxSYW5nZXMoKTtcbiAgICAgICAgICAgIHNlbC5hZGRSYW5nZShyYW5nZSk7XG4gICAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGRvY3VtZW50LnNlbGVjdGlvbiAmJiBkb2N1bWVudC5ib2R5LmNyZWF0ZVRleHRSYW5nZSkge1xuICAgICAgICBzYXZlU2VsZWN0aW9uID0gZnVuY3Rpb24oZWwpIHtcbiAgICAgICAgICAgIHZhciBzZWxlY3RlZFRleHRSYW5nZSA9IGRvY3VtZW50LnNlbGVjdGlvbi5jcmVhdGVSYW5nZSgpLFxuICAgICAgICAgICAgICAgIHByZVNlbGVjdGlvblRleHRSYW5nZSA9IGRvY3VtZW50LmJvZHkuY3JlYXRlVGV4dFJhbmdlKCk7XG4gICAgICAgICAgICBwcmVTZWxlY3Rpb25UZXh0UmFuZ2UubW92ZVRvRWxlbWVudFRleHQoZWwpO1xuICAgICAgICAgICAgcHJlU2VsZWN0aW9uVGV4dFJhbmdlLnNldEVuZFBvaW50KFwiRW5kVG9TdGFydFwiLCBzZWxlY3RlZFRleHRSYW5nZSk7XG4gICAgICAgICAgICB2YXIgc3RhcnQgPSBwcmVTZWxlY3Rpb25UZXh0UmFuZ2UudGV4dC5sZW5ndGg7XG4gICAgICAgICAgICByZXR1cm4gc3RhcnQgKyBzZWxlY3RlZFRleHRSYW5nZS50ZXh0Lmxlbmd0aDtcbiAgICAgICAgfTtcblxuICAgICAgICByZXN0b3JlU2VsZWN0aW9uID0gZnVuY3Rpb24oZWwsIHNlbCkge1xuICAgICAgICAgICAgdmFyIHRleHRSYW5nZSA9IGRvY3VtZW50LmJvZHkuY3JlYXRlVGV4dFJhbmdlKCk7XG4gICAgICAgICAgICB0ZXh0UmFuZ2UubW92ZVRvRWxlbWVudFRleHQoZWwpO1xuICAgICAgICAgICAgdGV4dFJhbmdlLmNvbGxhcHNlKHRydWUpO1xuICAgICAgICAgICAgdGV4dFJhbmdlLm1vdmVFbmQoXCJjaGFyYWN0ZXJcIiwgc2VsKTtcbiAgICAgICAgICAgIHRleHRSYW5nZS5tb3ZlU3RhcnQoXCJjaGFyYWN0ZXJcIiwgc2VsKTtcbiAgICAgICAgICAgIHRleHRSYW5nZS5zZWxlY3QoKTtcbiAgICAgICAgfTtcbiAgICB9XG5cblxuICAgIHZhciB1bmlSZWdleHA7XG4gICAgdmFyIGVtb2ppb25lVmVyc2lvbiA9IHdpbmRvdy5lbW9qaW9uZVZlcnNpb24gfHwgJzIuMS40JztcblxuICAgIHZhciBjZG5fYmFzZSA9IFwiaHR0cHM6Ly9jZG5qcy5jbG91ZGZsYXJlLmNvbS9hamF4L2xpYnMvZW1vamlvbmUvXCI7XG4gICAgZnVuY3Rpb24gZGV0ZWN0VmVyc2lvbigpIHtcbiAgICAgICAgdmFyIHZlcnNpb24gPSBlbW9qaW9uZS5jYWNoZUJ1c3RQYXJhbTtcbiAgICAgICAgaWYgKCFpc09iamVjdChlbW9qaW9uZVsnanNFc2NhcGVNYXAnXSkpIHJldHVybiAnMS41LjInO1xuICAgICAgICBpZiAodmVyc2lvbiA9PT0gXCI/dj0xLjIuNFwiKSByZXR1cm4gJzIuMC4wJztcbiAgICAgICAgaWYgKHZlcnNpb24gPT09IFwiP3Y9Mi4wLjFcIikgcmV0dXJuICcyLjEuMCc7IC8vIHYyLjAuMSB8fCB2Mi4xLjBcbiAgICAgICAgaWYgKHZlcnNpb24gPT09IFwiP3Y9Mi4xLjFcIikgcmV0dXJuICcyLjEuMSc7XG4gICAgICAgIGlmICh2ZXJzaW9uID09PSBcIj92PTIuMS4yXCIpIHJldHVybiAnMi4xLjInO1xuICAgICAgICBpZiAodmVyc2lvbiA9PT0gXCI/dj0yLjEuM1wiKSByZXR1cm4gJzIuMS4zJztcbiAgICAgICAgaWYgKHZlcnNpb24gPT09IFwiP3Y9Mi4xLjRcIikgcmV0dXJuICcyLjEuNCc7XG4gICAgICAgIHJldHVybiAnMi4xLjQnO1xuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRTdXBwb3J0TW9kZSh2ZXJzaW9uKSB7XG4gICAgICAgIHN3aXRjaCAodmVyc2lvbikge1xuICAgICAgICAgICAgY2FzZSAnMS41LjInOiByZXR1cm4gMDtcbiAgICAgICAgICAgIGNhc2UgJzIuMC4wJzogcmV0dXJuIDE7XG4gICAgICAgICAgICBjYXNlICcyLjEuMCc6XG4gICAgICAgICAgICBjYXNlICcyLjEuMSc6IHJldHVybiAyO1xuICAgICAgICAgICAgY2FzZSAnMi4xLjInOiByZXR1cm4gMztcbiAgICAgICAgICAgIGNhc2UgJzIuMS4zJzpcbiAgICAgICAgICAgIGNhc2UgJzIuMS40JzpcbiAgICAgICAgICAgIGRlZmF1bHQ6IHJldHVybiA0O1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmICghZW1vamlvbmUgfHwgZ2V0U3VwcG9ydE1vZGUoZGV0ZWN0VmVyc2lvbigpKSA8IDIpIHtcbiAgICAgICAgJC5nZXRTY3JpcHQoY2RuX2Jhc2UgKyBlbW9qaW9uZVZlcnNpb24gKyBcIi9saWIvanMvZW1vamlvbmUubWluLmpzXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGVtb2ppb25lID0gd2luZG93LmVtb2ppb25lO1xuICAgICAgICAgICAgZW1vamlvbmVWZXJzaW9uID0gZGV0ZWN0VmVyc2lvbigpO1xuICAgICAgICAgICAgZW1vamlvbmVTdXBwb3J0TW9kZSA9IGdldFN1cHBvcnRNb2RlKGVtb2ppb25lVmVyc2lvbik7XG4gICAgICAgICAgICBjZG5fYmFzZSArPSBlbW9qaW9uZVZlcnNpb24gKyBcIi9hc3NldHNcIjtcbiAgICAgICAgICAgIHZhciBzcHJpdGUgPSBjZG5fYmFzZSArXCIvc3ByaXRlcy9lbW9qaW9uZS5zcHJpdGVzLmNzc1wiO1xuICAgICAgICAgICAgaWYgKGRvY3VtZW50LmNyZWF0ZVN0eWxlU2hlZXQpIHtcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5jcmVhdGVTdHlsZVNoZWV0KHNwcml0ZSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICQoJzxsaW5rLz4nLCB7cmVsOiAnc3R5bGVzaGVldCcsIGhyZWY6IHNwcml0ZX0pLmFwcGVuZFRvKCdoZWFkJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB3aGlsZSAocmVhZHlDYWxsYmFja3MubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgcmVhZHlDYWxsYmFja3Muc2hpZnQoKS5jYWxsKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGVtb2ppb25lVmVyc2lvbiA9IGRldGVjdFZlcnNpb24oKTtcbiAgICAgICAgZW1vamlvbmVTdXBwb3J0TW9kZSA9IGdldFN1cHBvcnRNb2RlKGVtb2ppb25lVmVyc2lvbik7XG4gICAgICAgIGNkbl9iYXNlICs9IGVtb2ppb25lVmVyc2lvbiArIFwiL2Fzc2V0c1wiO1xuICAgIH1cblxuICAgIGVtb2ppb25lUmVhZHkoZnVuY3Rpb24oKSB7XG4gICAgICAgIGVtb2ppb25lLmltYWdlUGF0aFBORyA9IGNkbl9iYXNlICsgXCIvcG5nL1wiO1xuICAgICAgICB1bmlSZWdleHAgPSBuZXcgUmVnRXhwKFwiPG9iamVjdFtePl0qPi4qPzxcXC9vYmplY3Q+fDxzcGFuW14+XSo+Lio/PFxcL3NwYW4+fDwoPzpvYmplY3R8ZW1iZWR8c3ZnfGltZ3xkaXZ8c3BhbnxwfGEpW14+XSo+fChcIitcbiAgICAgICAgICAgIGVtb2ppb25lLnVuaWNvZGVSZWdleHArXCIpXCIsIFwiZ2lcIik7XG4gICAgfSk7XG4gICAgZnVuY3Rpb24gdW5pY29kZVRvKHN0ciwgdGVtcGxhdGUpIHtcbiAgICAgICAgcmV0dXJuIHN0ci5yZXBsYWNlKHVuaVJlZ2V4cCwgZnVuY3Rpb24odW5pY29kZUNoYXIpIHtcbiAgICAgICAgICAgIHZhciBtYXAgPSBlbW9qaW9uZVsoZW1vamlvbmVTdXBwb3J0TW9kZSA9PT0gMCA/ICdqc2VjYXBlTWFwJyA6ICdqc0VzY2FwZU1hcCcpXTtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdW5pY29kZUNoYXIgIT09ICd1bmRlZmluZWQnICYmIHVuaWNvZGVDaGFyIGluIG1hcCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBnZXRUZW1wbGF0ZSh0ZW1wbGF0ZSwgbWFwW3VuaWNvZGVDaGFyXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdW5pY29kZUNoYXI7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBmdW5jdGlvbiBodG1sRnJvbVRleHQoc3RyLCBzZWxmKSB7XG4gICAgICAgIHN0ciA9IHN0clxuICAgICAgICAgICAgLnJlcGxhY2UoLyYvZywgJyZhbXA7JylcbiAgICAgICAgICAgIC5yZXBsYWNlKC88L2csICcmbHQ7JylcbiAgICAgICAgICAgIC5yZXBsYWNlKC8+L2csICcmZ3Q7JylcbiAgICAgICAgICAgIC5yZXBsYWNlKC9cIi9nLCAnJnF1b3Q7JylcbiAgICAgICAgICAgIC5yZXBsYWNlKC8nL2csICcmI3gyNzsnKVxuICAgICAgICAgICAgLnJlcGxhY2UoL2AvZywgJyYjeDYwOycpXG4gICAgICAgICAgICAucmVwbGFjZSgvKD86XFxyXFxufFxccnxcXG4pL2csICdcXG4nKVxuICAgICAgICAgICAgLnJlcGxhY2UoLyhcXG4rKS9nLCAnPGRpdj4kMTwvZGl2PicpXG4gICAgICAgICAgICAucmVwbGFjZSgvXFxuL2csICc8YnIvPicpXG4gICAgICAgICAgICAucmVwbGFjZSgvPGJyXFwvPjxcXC9kaXY+L2csICc8L2Rpdj4nKTtcbiAgICAgICAgaWYgKHNlbGYuc2hvcnRuYW1lcykge1xuICAgICAgICAgICAgc3RyID0gZW1vamlvbmUuc2hvcnRuYW1lVG9Vbmljb2RlKHN0cik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVuaWNvZGVUbyhzdHIsIHNlbGYuZW1vamlUZW1wbGF0ZSlcbiAgICAgICAgICAgIC5yZXBsYWNlKC9cXHQvZywgJyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOycpXG4gICAgICAgICAgICAucmVwbGFjZSgvICAvZywgJyZuYnNwOyZuYnNwOycpO1xuICAgIH1cbiAgICBmdW5jdGlvbiB0ZXh0RnJvbUh0bWwoc3RyLCBzZWxmKSB7XG4gICAgICAgIHN0ciA9IHN0clxuICAgICAgICAgICAgLnJlcGxhY2UoLzxpbWdbXj5dKmFsdD1cIihbXlwiXSspXCJbXj5dKj4vaWcsICckMScpXG4gICAgICAgICAgICAucmVwbGFjZSgvXFxufFxcci9nLCAnJylcbiAgICAgICAgICAgIC5yZXBsYWNlKC88YnJbXj5dKj4vaWcsICdcXG4nKVxuICAgICAgICAgICAgLnJlcGxhY2UoLyg/OjwoPzpkaXZ8cHxvbHx1bHxsaXxwcmV8Y29kZXxvYmplY3QpW14+XSo+KSsvaWcsICc8ZGl2PicpXG4gICAgICAgICAgICAucmVwbGFjZSgvKD86PFxcLyg/OmRpdnxwfG9sfHVsfGxpfHByZXxjb2RlfG9iamVjdCk+KSsvaWcsICc8L2Rpdj4nKVxuICAgICAgICAgICAgLnJlcGxhY2UoL1xcbjxkaXY+PFxcL2Rpdj4vaWcsICdcXG4nKVxuICAgICAgICAgICAgLnJlcGxhY2UoLzxkaXY+PFxcL2Rpdj5cXG4vaWcsICdcXG4nKVxuICAgICAgICAgICAgLnJlcGxhY2UoLyg/OjxkaXY+KSs8XFwvZGl2Pi9pZywgJ1xcbicpXG4gICAgICAgICAgICAucmVwbGFjZSgvKFteXFxuXSk8XFwvZGl2PjxkaXY+L2lnLCAnJDFcXG4nKVxuICAgICAgICAgICAgLnJlcGxhY2UoLyg/OjxcXC9kaXY+KSsvaWcsICc8L2Rpdj4nKVxuICAgICAgICAgICAgLnJlcGxhY2UoLyhbXlxcbl0pPFxcL2Rpdj4oW15cXG5dKS9pZywgJyQxXFxuJDInKVxuICAgICAgICAgICAgLnJlcGxhY2UoLzxcXC9kaXY+L2lnLCAnJylcbiAgICAgICAgICAgIC5yZXBsYWNlKC8oW15cXG5dKTxkaXY+L2lnLCAnJDFcXG4nKVxuICAgICAgICAgICAgLnJlcGxhY2UoL1xcbjxkaXY+L2lnLCAnXFxuJylcbiAgICAgICAgICAgIC5yZXBsYWNlKC88ZGl2Plxcbi9pZywgJ1xcblxcbicpXG4gICAgICAgICAgICAucmVwbGFjZSgvPCg/OltePl0rKT8+L2csICcnKVxuICAgICAgICAgICAgLnJlcGxhY2UoLyYjODI5MTsvZywgJycpXG4gICAgICAgICAgICAucmVwbGFjZSgvJm5ic3A7L2csICcgJylcbiAgICAgICAgICAgIC5yZXBsYWNlKC8mbHQ7L2csICc8JylcbiAgICAgICAgICAgIC5yZXBsYWNlKC8mZ3Q7L2csICc+JylcbiAgICAgICAgICAgIC5yZXBsYWNlKC8mcXVvdDsvZywgJ1wiJylcbiAgICAgICAgICAgIC5yZXBsYWNlKC8mI3gyNzsvZywgXCInXCIpXG4gICAgICAgICAgICAucmVwbGFjZSgvJiN4NjA7L2csICdgJylcbiAgICAgICAgICAgIC5yZXBsYWNlKC8mYW1wOy9nLCAnJicpO1xuXG4gICAgICAgIHN3aXRjaCAoc2VsZi5zYXZlRW1vamlzQXMpIHtcbiAgICAgICAgICAgIGNhc2UgJ2ltYWdlJzpcbiAgICAgICAgICAgICAgICBzdHIgPSB1bmljb2RlVG8oc3RyLCBzZWxmLmVtb2ppVGVtcGxhdGUpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnc2hvcnRuYW1lJzpcbiAgICAgICAgICAgICAgICBzdHIgPSBlbW9qaW9uZS50b1Nob3J0KHN0cik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHN0cjtcbiAgICB9XG4gICAgZnVuY3Rpb24gY2FsY0J1dHRvblBvc2l0aW9uKCkge1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXMsXG4gICAgICAgICAgICBvZmZzZXQgPSBzZWxmLmVkaXRvclswXS5vZmZzZXRXaWR0aCAtIHNlbGYuZWRpdG9yWzBdLmNsaWVudFdpZHRoLFxuICAgICAgICAgICAgY3VycmVudCA9IHBhcnNlSW50KHNlbGYuYnV0dG9uLmNzcygnbWFyZ2luUmlnaHQnKSk7XG4gICAgICAgIGlmIChjdXJyZW50ICE9PSBvZmZzZXQpIHtcbiAgICAgICAgICAgIHNlbGYuYnV0dG9uLmNzcyh7bWFyZ2luUmlnaHQ6IG9mZnNldH0pO1xuICAgICAgICAgICAgaWYgKHNlbGYucGlja2VyUG9zaXRpb24gPT09ICd0b3AnKSB7XG4gICAgICAgICAgICAgICAgc2VsZi5waWNrZXIuY3NzKHtyaWdodDogcGFyc2VJbnQoc2VsZi5waWNrZXIuY3NzKCdyaWdodCcpKSAtIGN1cnJlbnQgKyBvZmZzZXR9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBsYXp5TG9hZGluZygpIHtcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICBpZiAoIXNlbGYuc3ByaXRlICYmIHNlbGYubGFzeUVtb2ppWzBdKSB7XG4gICAgICAgICAgICB2YXIgcGlja2VyVG9wID0gc2VsZi5waWNrZXIub2Zmc2V0KCkudG9wLFxuICAgICAgICAgICAgICAgIHBpY2tlckJvdHRvbSA9IHBpY2tlclRvcCArIHNlbGYucGlja2VyLmhlaWdodCgpICsgMjA7XG4gICAgICAgICAgICBzZWxmLmxhc3lFbW9qaS5lYWNoKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHZhciBlID0gJCh0aGlzKSwgdG9wID0gZS5vZmZzZXQoKS50b3A7XG4gICAgICAgICAgICAgICAgaWYgKHRvcCA+IHBpY2tlclRvcCAmJiB0b3AgPCBwaWNrZXJCb3R0b20pIHtcbiAgICAgICAgICAgICAgICAgICAgZS5hdHRyKFwic3JjXCIsIGUuZGF0YShcInNyY1wiKSkucmVtb3ZlQ2xhc3MoXCJsYXp5LWVtb2ppXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICBzZWxmLmxhc3lFbW9qaSA9IHNlbGYubGFzeUVtb2ppLmZpbHRlcihcIi5sYXp5LWVtb2ppXCIpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIHNlbGVjdG9yIChwcmVmaXgsIHNraXBfZG90KSB7XG4gICAgICAgIHJldHVybiAoc2tpcF9kb3QgPyAnJyA6ICcuJykgKyBjc3NfY2xhc3MgKyAocHJlZml4ID8gKFwiLVwiICsgcHJlZml4KSA6IFwiXCIpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBkaXYocHJlZml4KSB7XG4gICAgICAgIHZhciBwYXJlbnQgPSAkKCc8ZGl2Lz4nLCBpc09iamVjdChwcmVmaXgpID8gcHJlZml4IDoge1wiY2xhc3NcIiA6IHNlbGVjdG9yKHByZWZpeCwgdHJ1ZSl9KTtcbiAgICAgICAgJC5lYWNoKHNsaWNlLmNhbGwoYXJndW1lbnRzKS5zbGljZSgxKSwgZnVuY3Rpb24oaSwgY2hpbGQpIHtcbiAgICAgICAgICAgIGlmICgkLmlzRnVuY3Rpb24oY2hpbGQpKSB7XG4gICAgICAgICAgICAgICAgY2hpbGQgPSBjaGlsZC5jYWxsKHBhcmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY2hpbGQpIHtcbiAgICAgICAgICAgICAgICAkKGNoaWxkKS5hcHBlbmRUbyhwYXJlbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHBhcmVudDtcbiAgICB9XG4gICAgZnVuY3Rpb24gaW5pdChzZWxmLCBzb3VyY2UsIG9wdGlvbnMpIHtcbiAgICAgICAgLy9jYWxjRWxhcHNlZFRpbWUoJ2luaXQnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgb3B0aW9ucyA9IGdldE9wdGlvbnMob3B0aW9ucyk7XG4gICAgICAgIHNlbGYuc3ByaXRlID0gb3B0aW9ucy5zcHJpdGUgJiYgZW1vamlvbmVTdXBwb3J0TW9kZSA8IDM7XG4gICAgICAgIHNlbGYuaW5saW5lID0gb3B0aW9ucy5pbmxpbmUgPT09IG51bGwgPyBzb3VyY2UuaXMoXCJJTlBVVFwiKSA6IG9wdGlvbnMuaW5saW5lO1xuICAgICAgICBzZWxmLnNob3J0bmFtZXMgPSBvcHRpb25zLnNob3J0bmFtZXM7XG4gICAgICAgIHNlbGYucGlja2VyUG9zaXRpb24gPSBvcHRpb25zLnBpY2tlclBvc2l0aW9uO1xuICAgICAgICBzZWxmLnNhdmVFbW9qaXNBcyA9IG9wdGlvbnMuc2F2ZUVtb2ppc0FzO1xuICAgICAgICBzZWxmLmVtb2ppVGVtcGxhdGUgPSAnPGltZyBhbHQ9XCJ7YWx0fVwiIGNsYXNzPVwiZW1vamlvbmUnICsgKHNlbGYuc3ByaXRlID8gJy17dW5pfVwiIHNyYz1cIicgKyBibGFua0ltZyArICdcIi8+JyA6ICdlbW9qaVwiIHNyYz1cIntpbWd9XCIvPicpO1xuXG4gICAgICAgIHZhciBzb3VyY2VWYWxGdW5jID0gc291cmNlLmlzKFwiVEVYVEFSRUFcIikgfHwgc291cmNlLmlzKFwiSU5QVVRcIikgPyBcInZhbFwiIDogXCJ0ZXh0XCIsXG4gICAgICAgICAgICBlZGl0b3IsIGJ1dHRvbiwgcGlja2VyLCB0b25lcywgZmlsdGVycywgZmlsdGVyc0J0bnMsIGVtb2ppc0xpc3QsIGNhdGVnb3JpZXMsIHNjcm9sbEFyZWEsXG4gICAgICAgICAgICBhcHAgPSBkaXYoe1wiY2xhc3NcIiA6IGNzc19jbGFzcyArIFwiIFwiICsgKHNvdXJjZS5hdHRyKFwiY2xhc3NcIikgfHwgXCJcIiksIHJvbGU6IFwiYXBwbGljYXRpb25cIn0sXG4gICAgICAgICAgICAgICAgZWRpdG9yID0gc2VsZi5lZGl0b3IgPSBkaXYoJ2VkaXRvcicpLmF0dHIoe1xuICAgICAgICAgICAgICAgICAgICBjb250ZW50ZWRpdGFibGU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyOiBvcHRpb25zW1wicGxhY2Vob2xkZXJcIl0gfHwgc291cmNlLmRhdGEoXCJwbGFjZWhvbGRlclwiKSB8fCBzb3VyY2UuYXR0cihcInBsYWNlaG9sZGVyXCIpIHx8IFwiXCIsXG4gICAgICAgICAgICAgICAgICAgIHRhYmluZGV4OiAwXG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgYnV0dG9uID0gc2VsZi5idXR0b24gPSBkaXYoJ2J1dHRvbicsXG4gICAgICAgICAgICAgICAgICAgIGRpdignYnV0dG9uLW9wZW4nKSxcbiAgICAgICAgICAgICAgICAgICAgZGl2KCdidXR0b24tY2xvc2UnKVxuICAgICAgICAgICAgICAgICkuYXR0cigndGl0bGUnLCBvcHRpb25zLmJ1dHRvblRpdGxlKSxcbiAgICAgICAgICAgICAgICBwaWNrZXIgPSBzZWxmLnBpY2tlciA9IGRpdigncGlja2VyJyxcbiAgICAgICAgICAgICAgICAgICAgZGl2KCd3cmFwcGVyJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbHRlcnMgPSBkaXYoJ2ZpbHRlcnMnKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjcm9sbEFyZWEgPSBkaXYoJ3Njcm9sbC1hcmVhJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbW9qaXNMaXN0ID0gZGl2KCdlbW9qaXMtbGlzdCcpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvbmVzID0gZGl2KCd0b25lcycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMudG9uZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZENsYXNzKHNlbGVjdG9yKCd0b25lcy0nICsgb3B0aW9ucy50b25lc1N0eWxlLCB0cnVlKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPD0gNTsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYXBwZW5kKCQoXCI8aS8+XCIsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiY2xhc3NcIjogXCJidG4tdG9uZSBidG4tdG9uZS1cIiArIGkgKyAoIWkgPyBcIiBhY3RpdmVcIiA6IFwiXCIpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJkYXRhLXNraW5cIjogaSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvbGU6IFwiYnV0dG9uXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICkuYWRkQ2xhc3Moc2VsZWN0b3IoJ3BpY2tlci1wb3NpdGlvbi0nICsgb3B0aW9ucy5waWNrZXJQb3NpdGlvbiwgdHJ1ZSkpXG4gICAgICAgICAgICAgICAgIC5hZGRDbGFzcyhzZWxlY3RvcignZmlsdGVycy1wb3NpdGlvbi0nICsgb3B0aW9ucy5maWx0ZXJzUG9zaXRpb24sIHRydWUpKVxuICAgICAgICAgICAgICAgICAuYWRkQ2xhc3MoJ2hpZGRlbicpXG4gICAgICAgICAgICApO1xuXG4gICAgICAgICQuZWFjaChvcHRpb25zLmF0dHJpYnV0ZXMsIGZ1bmN0aW9uKGF0dHIsIHZhbHVlKSB7XG4gICAgICAgICAgICBlZGl0b3IuYXR0cihhdHRyLCB2YWx1ZSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgICQuZWFjaChvcHRpb25zLmZpbHRlcnMsIGZ1bmN0aW9uKGZpbHRlciwgcGFyYW1zKSB7XG4gICAgICAgICAgICB2YXIgc2tpbiA9IDA7XG4gICAgICAgICAgICBpZiAoZmlsdGVyICE9PSAndG9uZXMnKSB7XG4gICAgICAgICAgICAgICAgJChcIjxpLz5cIiwge1xuICAgICAgICAgICAgICAgICAgICBcImNsYXNzXCI6IHNlbGVjdG9yKFwiZmlsdGVyXCIsIHRydWUpICsgXCIgXCIgKyBzZWxlY3RvcihcImZpbHRlci1cIiArIGZpbHRlciwgdHJ1ZSksXG4gICAgICAgICAgICAgICAgICAgIFwiZGF0YS1maWx0ZXJcIjogZmlsdGVyLFxuICAgICAgICAgICAgICAgICAgICB0aXRsZTogcGFyYW1zLnRpdGxlXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAud3JhcElubmVyKHNob3J0bmFtZVRvKHBhcmFtcy5pY29uLCBzZWxmLnNwcml0ZSA/ICc8aSBjbGFzcz1cImVtb2ppb25lLXt1bml9XCIvPicgOiAnPGltZyBjbGFzcz1cImVtb2ppb25lZW1vamlcIiBzcmM9XCJ7aW1nfVwiLz4nKSlcbiAgICAgICAgICAgICAgICAuYXBwZW5kVG8oZmlsdGVycyk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKG9wdGlvbnMudG9uZXMpIHtcbiAgICAgICAgICAgICAgICBza2luID0gNTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZG8ge1xuICAgICAgICAgICAgICAgIHZhciBjYXRlZ29yeSA9IGRpdignY2F0ZWdvcnknKS5hdHRyKHtuYW1lOiBmaWx0ZXIsIFwiZGF0YS10b25lXCI6IHNraW59KS5hcHBlbmRUbyhlbW9qaXNMaXN0KSxcbiAgICAgICAgICAgICAgICAgICAgaXRlbXMgPSBwYXJhbXMuZW1vamkucmVwbGFjZSgvW1xccyw7XSsvZywgJ3wnKTtcbiAgICAgICAgICAgICAgICBpZiAoc2tpbiA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgY2F0ZWdvcnkuaGlkZSgpO1xuICAgICAgICAgICAgICAgICAgICBpdGVtcyA9IGl0ZW1zLnNwbGl0KCd8Jykuam9pbignX3RvbmUnICsgc2tpbiArICd8JykgKyAnX3RvbmUnICsgc2tpbjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaXRlbXMgPSBzaG9ydG5hbWVUbyhpdGVtcyxcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5zcHJpdGUgP1xuICAgICAgICAgICAgICAgICAgICAnPGkgY2xhc3M9XCJlbW9qaWJ0blwiIHJvbGU9XCJidXR0b25cIiBkYXRhLW5hbWU9XCJ7bmFtZX1cIj48aSBjbGFzcz1cImVtb2ppb25lLXt1bml9XCI+PC9pPjwvaT4nIDpcbiAgICAgICAgICAgICAgICAgICAgJzxpIGNsYXNzPVwiZW1vamlidG5cIiByb2xlPVwiYnV0dG9uXCIgZGF0YS1uYW1lPVwie25hbWV9XCI+PGltZyBjbGFzcz1cImVtb2ppb25lZW1vamkgbGF6eS1lbW9qaVwiIGRhdGEtc3JjPVwie2ltZ31cIi8+PC9pPicsXG4gICAgICAgICAgICAgICAgICAgIHRydWUpLnNwbGl0KCd8Jykuam9pbignJyk7XG4gICAgICAgICAgICAgICAgY2F0ZWdvcnkuaHRtbChpdGVtcyk7XG4gICAgICAgICAgICAgICAgJCgnPGgxLz4nKS50ZXh0KHBhcmFtcy50aXRsZSkucHJlcGVuZFRvKGNhdGVnb3J5KTtcbiAgICAgICAgICAgIH0gd2hpbGUgKC0tc2tpbiA+IDApO1xuICAgICAgICB9KTtcblxuICAgICAgICBvcHRpb25zLmZpbHRlcnMgPSBudWxsO1xuICAgICAgICBpZiAoIXNlbGYuc3ByaXRlKSB7XG4gICAgICAgICAgICBzZWxmLmxhc3lFbW9qaSA9IGVtb2ppc0xpc3QuZmluZChcIi5sYXp5LWVtb2ppXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgZmlsdGVyc0J0bnMgPSBmaWx0ZXJzLmZpbmQoc2VsZWN0b3IoXCJmaWx0ZXJcIikpO1xuICAgICAgICBmaWx0ZXJzQnRucy5lcSgwKS5hZGRDbGFzcyhcImFjdGl2ZVwiKTtcbiAgICAgICAgY2F0ZWdvcmllcyA9IGVtb2ppc0xpc3QuZmluZChzZWxlY3RvcihcImNhdGVnb3J5XCIpKTtcblxuICAgICAgICBpZiAob3B0aW9ucy5jb250YWluZXIpIHtcbiAgICAgICAgICAgICQob3B0aW9ucy5jb250YWluZXIpLndyYXBJbm5lcihhcHApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYXBwLmluc2VydEFmdGVyKHNvdXJjZSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAob3B0aW9ucy5oaWRlU291cmNlKSB7XG4gICAgICAgICAgICBzb3VyY2UuaGlkZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgc2VsZi5zZXRUZXh0KHNvdXJjZVtzb3VyY2VWYWxGdW5jXSgpKTtcbiAgICAgICAgc291cmNlW3NvdXJjZVZhbEZ1bmNdKHNlbGYuZ2V0VGV4dCgpKTtcbiAgICAgICAgY2FsY0J1dHRvblBvc2l0aW9uLmFwcGx5KHNlbGYpO1xuXG4gICAgICAgIC8vIGF0dGFjaCgpIG11c3QgYmUgY2FsbGVkIGJlZm9yZSBhbnkgLm9uKCkgbWV0aG9kcyAhISFcbiAgICAgICAgLy8gMSkgYXR0YWNoKCkgc3RvcmVzIGV2ZW50cyBpbnRvIHBvc3NpYmxlRXZlbnRze30sXG4gICAgICAgIC8vIDIpIC5vbigpIGNhbGxzIGJpbmRFdmVudCgpIGFuZCBzdG9yZXMgaGFuZGxlcnMgaW50byBldmVudFN0b3JhZ2V7fSxcbiAgICAgICAgLy8gMykgYmluZEV2ZW50KCkgZmluZHMgZXZlbnRzIGluIHBvc3NpYmxlRXZlbnRze30gYW5kIGJpbmQgZm91bmRlZCB2aWEgalF1ZXJ5Lm9uKClcbiAgICAgICAgLy8gNCkgYXR0YWNoZWQgZXZlbnRzIHZpYSBqUXVlcnkub24oKSBjYWxscyB0cmlnZ2VyKClcbiAgICAgICAgLy8gNSkgdHJpZ2dlcigpIGNhbGxzIGhhbmRsZXJzIHN0b3JlZCBpbnRvIGV2ZW50U3RvcmFnZXt9XG5cbiAgICAgICAgYXR0YWNoKHNlbGYsIGVtb2ppc0xpc3QuZmluZChcIi5lbW9qaWJ0blwiKSwge2NsaWNrOiBcImVtb2ppYnRuLmNsaWNrXCJ9KTtcbiAgICAgICAgYXR0YWNoKHNlbGYsIHdpbmRvdywge3Jlc2l6ZTogXCIhcmVzaXplXCJ9KTtcbiAgICAgICAgYXR0YWNoKHNlbGYsIHRvbmVzLmNoaWxkcmVuKCksIHtjbGljazogXCJ0b25lLmNsaWNrXCJ9KTtcbiAgICAgICAgYXR0YWNoKHNlbGYsIFtwaWNrZXIsIGJ1dHRvbl0sIHttb3VzZWRvd246IFwiIW1vdXNlZG93blwifSwgZWRpdG9yKTtcbiAgICAgICAgYXR0YWNoKHNlbGYsIGJ1dHRvbiwge2NsaWNrOiBcImJ1dHRvbi5jbGlja1wifSk7XG4gICAgICAgIGF0dGFjaChzZWxmLCBlZGl0b3IsIHtwYXN0ZSA6XCIhcGFzdGVcIn0sIGVkaXRvcik7XG4gICAgICAgIGF0dGFjaChzZWxmLCBlZGl0b3IsIFtcImZvY3VzXCIsIFwiYmx1clwiXSwgZnVuY3Rpb24oKSB7IHJldHVybiBzZWxmLnN0YXlGb2N1c2VkID8gZmFsc2UgOiBlZGl0b3I7IH0pO1xuICAgICAgICBhdHRhY2goc2VsZiwgcGlja2VyLCB7bW91c2Vkb3duOiBcInBpY2tlci5tb3VzZWRvd25cIiwgbW91c2V1cDogXCJwaWNrZXIubW91c2V1cFwiLCBjbGljazogXCJwaWNrZXIuY2xpY2tcIixcbiAgICAgICAgICAgIGtleXVwOiBcInBpY2tlci5rZXl1cFwiLCBrZXlkb3duOiBcInBpY2tlci5rZXlkb3duXCIsIGtleXByZXNzOiBcInBpY2tlci5rZXlwcmVzc1wifSk7XG4gICAgICAgIGF0dGFjaChzZWxmLCBlZGl0b3IsIFtcIm1vdXNlZG93blwiLCBcIm1vdXNldXBcIiwgXCJjbGlja1wiLCBcImtleXVwXCIsIFwia2V5ZG93blwiLCBcImtleXByZXNzXCJdKTtcbiAgICAgICAgYXR0YWNoKHNlbGYsIHBpY2tlci5maW5kKFwiLmVtb2ppb25lYXJlYS1maWx0ZXJcIiksIHtjbGljazogXCJmaWx0ZXIuY2xpY2tcIn0pO1xuXG4gICAgICAgIGlmIChpc09iamVjdChvcHRpb25zLmV2ZW50cykgJiYgISQuaXNFbXB0eU9iamVjdChvcHRpb25zLmV2ZW50cykpIHtcbiAgICAgICAgICAgICQuZWFjaChvcHRpb25zLmV2ZW50cywgZnVuY3Rpb24oZXZlbnQsIGhhbmRsZXIpIHtcbiAgICAgICAgICAgICAgICBzZWxmLm9uKGV2ZW50LnJlcGxhY2UoL18vZywgJy4nKSwgaGFuZGxlcik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBub0xpc3RlblNjcm9sbCA9IGZhbHNlO1xuICAgICAgICBzY3JvbGxBcmVhLm9uKCdzY3JvbGwnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoIW5vTGlzdGVuU2Nyb2xsKSB7XG4gICAgICAgICAgICAgICAgbGF6eUxvYWRpbmcuY2FsbChzZWxmKTtcbiAgICAgICAgICAgICAgICBpZiAoc2Nyb2xsQXJlYS5pcyhcIjpub3QoLnNraW5uYWJsZSlcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGl0ZW0gPSBjYXRlZ29yaWVzLmVxKDApLCBzY3JvbGxUb3AgPSBzY3JvbGxBcmVhLm9mZnNldCgpLnRvcDtcbiAgICAgICAgICAgICAgICAgICAgY2F0ZWdvcmllcy5lYWNoKGZ1bmN0aW9uIChpLCBlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoJChlKS5vZmZzZXQoKS50b3AgLSBzY3JvbGxUb3AgPj0gMTApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVtID0gJChlKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBmaWx0ZXIgPSBmaWx0ZXJzQnRucy5maWx0ZXIoJ1tkYXRhLWZpbHRlcj1cIicgKyBpdGVtLmF0dHIoXCJuYW1lXCIpICsgJ1wiXScpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZmlsdGVyWzBdICYmICFmaWx0ZXIuaXMoXCIuYWN0aXZlXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmaWx0ZXJzQnRucy5yZW1vdmVDbGFzcyhcImFjdGl2ZVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbHRlci5hZGRDbGFzcyhcImFjdGl2ZVwiKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgc2VsZi5vbihcIkBmaWx0ZXIuY2xpY2tcIiwgZnVuY3Rpb24oZmlsdGVyKSB7XG4gICAgICAgICAgICB2YXIgaXNBY3RpdmUgPSBmaWx0ZXIuaXMoXCIuYWN0aXZlXCIpO1xuICAgICAgICAgICAgaWYgKHNjcm9sbEFyZWEuaXMoXCIuc2tpbm5hYmxlXCIpKSB7XG4gICAgICAgICAgICAgICAgaWYgKGlzQWN0aXZlKSByZXR1cm47XG4gICAgICAgICAgICAgICAgdG9uZXMuY2hpbGRyZW4oKS5lcSgwKS5jbGljaygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbm9MaXN0ZW5TY3JvbGwgPSB0cnVlO1xuICAgICAgICAgICAgaWYgKCFpc0FjdGl2ZSkge1xuICAgICAgICAgICAgICAgIGZpbHRlcnNCdG5zLmZpbHRlcihcIi5hY3RpdmVcIikucmVtb3ZlQ2xhc3MoXCJhY3RpdmVcIik7XG4gICAgICAgICAgICAgICAgZmlsdGVyLmFkZENsYXNzKFwiYWN0aXZlXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGhlYWRlck9mZnNldCA9IGNhdGVnb3JpZXMuZmlsdGVyKCdbbmFtZT1cIicgKyBmaWx0ZXIuZGF0YSgnZmlsdGVyJykgKyAnXCJdJykub2Zmc2V0KCkudG9wLFxuICAgICAgICAgICAgICAgIHNjcm9sbCA9IHNjcm9sbEFyZWEuc2Nyb2xsVG9wKCksXG4gICAgICAgICAgICAgICAgb2Zmc2V0VG9wID0gc2Nyb2xsQXJlYS5vZmZzZXQoKS50b3A7XG4gICAgICAgICAgICBzY3JvbGxBcmVhLnN0b3AoKS5hbmltYXRlKHtcbiAgICAgICAgICAgICAgICBzY3JvbGxUb3A6IGhlYWRlck9mZnNldCArIHNjcm9sbCAtIG9mZnNldFRvcCAtIDJcbiAgICAgICAgICAgIH0sIDIwMCwgJ3N3aW5nJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGxhenlMb2FkaW5nLmNhbGwoc2VsZik7XG4gICAgICAgICAgICAgICAgbm9MaXN0ZW5TY3JvbGwgPSBmYWxzZTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KVxuXG4gICAgICAgIC5vbihcIkBwaWNrZXIuc2hvd1wiLCBsYXp5TG9hZGluZylcblxuICAgICAgICAub24oXCJAdG9uZS5jbGlja1wiLCBmdW5jdGlvbih0b25lKSB7XG4gICAgICAgICAgICB0b25lcy5jaGlsZHJlbigpLnJlbW92ZUNsYXNzKFwiYWN0aXZlXCIpO1xuICAgICAgICAgICAgdmFyIHNraW4gPSB0b25lLmFkZENsYXNzKFwiYWN0aXZlXCIpLmRhdGEoXCJza2luXCIpO1xuICAgICAgICAgICAgaWYgKHNraW4pIHtcbiAgICAgICAgICAgICAgICBzY3JvbGxBcmVhLmFkZENsYXNzKFwic2tpbm5hYmxlXCIpO1xuICAgICAgICAgICAgICAgIGNhdGVnb3JpZXMuaGlkZSgpLmZpbHRlcihcIltkYXRhLXRvbmU9XCIgKyBza2luICsgXCJdXCIpLnNob3coKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgc2Nyb2xsQXJlYS5yZW1vdmVDbGFzcyhcInNraW5uYWJsZVwiKTtcbiAgICAgICAgICAgICAgICBjYXRlZ29yaWVzLmhpZGUoKS5maWx0ZXIoXCJbZGF0YS10b25lPTBdXCIpLnNob3coKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxhenlMb2FkaW5nLmNhbGwoc2VsZik7XG4gICAgICAgIH0pXG5cbiAgICAgICAgLm9uKFwiQGJ1dHRvbi5jbGlja1wiLCBmdW5jdGlvbihidXR0b24pIHtcbiAgICAgICAgICAgIGlmIChidXR0b24uaXMoXCIuYWN0aXZlXCIpKSB7XG4gICAgICAgICAgICAgICAgc2VsZi5oaWRlUGlja2VyKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHNlbGYuc2hvd1BpY2tlcigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuXG4gICAgICAgIC5vbihcIkAhcGFzdGVcIiwgZnVuY3Rpb24oZWRpdG9yKSB7XG4gICAgICAgICAgICBzZWxmLnN0YXlGb2N1c2VkID0gdHJ1ZTtcbiAgICAgICAgICAgIC8vIGluc2VydCBpbnZpc2libGUgY2hhcmFjdGVyIGZvciBmaXggY2FyZXQgcG9zaXRpb25cbiAgICAgICAgICAgIHBhc3RlSHRtbEF0Q2FyZXQoJzxzcGFuPiYjODI5MTs8L3NwYW4+Jyk7XG5cbiAgICAgICAgICAgIHZhciBzZWwgPSBzYXZlU2VsZWN0aW9uKGVkaXRvclswXSksXG4gICAgICAgICAgICAgICAgZWRpdG9yU2Nyb2xsVG9wID0gZWRpdG9yLnNjcm9sbFRvcCgpLFxuICAgICAgICAgICAgICAgIGNsaXBib2FyZCA9ICQoXCI8ZGl2Lz5cIiwge2NvbnRlbnRlZGl0YWJsZTogdHJ1ZX0pXG4gICAgICAgICAgICAgICAgICAgIC5jc3Moe3Bvc2l0aW9uOiBcImZpeGVkXCIsIGxlZnQ6IFwiLTk5OXB4XCIsIHdpZHRoOiBcIjFweFwiLCBoZWlnaHQ6IFwiMXB4XCIsIHRvcDogXCIyMHB4XCIsIG92ZXJmbG93OiBcImhpZGRlblwifSlcbiAgICAgICAgICAgICAgICAgICAgLmFwcGVuZFRvKCQoXCJCT0RZXCIpKVxuICAgICAgICAgICAgICAgICAgICAuZm9jdXMoKTtcblxuICAgICAgICAgICAgd2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgdmFyIGNhcmV0SUQgPSBcImNhcmV0LVwiICsgKG5ldyBEYXRlKCkpLmdldFRpbWUoKTtcbiAgICAgICAgICAgICAgICBlZGl0b3IuZm9jdXMoKTtcbiAgICAgICAgICAgICAgICByZXN0b3JlU2VsZWN0aW9uKGVkaXRvclswXSwgc2VsKTtcbiAgICAgICAgICAgICAgICB2YXIgdGV4dCA9IHRleHRGcm9tSHRtbChjbGlwYm9hcmQuaHRtbCgpLnJlcGxhY2UoL1xcclxcbnxcXG58XFxyL2csICc8YnI+JyksIHNlbGYpLFxuICAgICAgICAgICAgICAgICAgICBodG1sID0gaHRtbEZyb21UZXh0KHRleHQsIHNlbGYpO1xuICAgICAgICAgICAgICAgIHBhc3RlSHRtbEF0Q2FyZXQoaHRtbCk7XG4gICAgICAgICAgICAgICAgY2xpcGJvYXJkLnJlbW92ZSgpO1xuICAgICAgICAgICAgICAgIHBhc3RlSHRtbEF0Q2FyZXQoJzxpIGlkPVwiJyArIGNhcmV0SUQgKydcIj48L2k+Jyk7XG4gICAgICAgICAgICAgICAgZWRpdG9yLnNjcm9sbFRvcChlZGl0b3JTY3JvbGxUb3ApO1xuICAgICAgICAgICAgICAgIHZhciBjYXJldCA9ICQoXCIjXCIgKyBjYXJldElEKSxcbiAgICAgICAgICAgICAgICAgICAgdG9wID0gY2FyZXQub2Zmc2V0KCkudG9wIC0gZWRpdG9yLm9mZnNldCgpLnRvcCxcbiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0ID0gZWRpdG9yLmhlaWdodCgpO1xuICAgICAgICAgICAgICAgIGlmIChlZGl0b3JTY3JvbGxUb3AgKyB0b3AgPj0gaGVpZ2h0IHx8IGVkaXRvclNjcm9sbFRvcCA+IHRvcCkge1xuICAgICAgICAgICAgICAgICAgICBlZGl0b3Iuc2Nyb2xsVG9wKGVkaXRvclNjcm9sbFRvcCArIHRvcCAtIDIgKiBoZWlnaHQvMyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhcmV0LnJlbW92ZSgpO1xuICAgICAgICAgICAgICAgIHNlbGYuc3RheUZvY3VzZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBjYWxjQnV0dG9uUG9zaXRpb24uYXBwbHkoc2VsZik7XG4gICAgICAgICAgICAgICAgdHJpZ2dlcihzZWxmLCAncGFzdGUnLCBbZWRpdG9yLCB0ZXh0LCBodG1sXSk7XG4gICAgICAgICAgICB9LCAyMDApO1xuICAgICAgICB9KVxuXG4gICAgICAgIC5vbihcIkBlbW9qaWJ0bi5jbGlja1wiLCBmdW5jdGlvbihlbW9qaWJ0bikge1xuICAgICAgICAgICAgaWYgKCFhcHAuaXMoXCIuZm9jdXNlZFwiKSkge1xuICAgICAgICAgICAgICAgIGVkaXRvci5mb2N1cygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2F2ZVNlbGVjdGlvbihlZGl0b3JbMF0pO1xuICAgICAgICAgICAgcGFzdGVIdG1sQXRDYXJldChzaG9ydG5hbWVUbyhlbW9qaWJ0bi5kYXRhKFwibmFtZVwiKSwgc2VsZi5lbW9qaVRlbXBsYXRlKSk7XG4gICAgICAgIH0pXG5cbiAgICAgICAgLm9uKFwiQCFyZXNpemUgQGtleXVwIEBlbW9qaWJ0bi5jbGlja1wiLCBjYWxjQnV0dG9uUG9zaXRpb24pXG5cbiAgICAgICAgLm9uKFwiQCFtb3VzZWRvd25cIiwgZnVuY3Rpb24oZWRpdG9yLCBldmVudCkge1xuICAgICAgICAgICAgaWYgKCFhcHAuaXMoXCIuZm9jdXNlZFwiKSkge1xuICAgICAgICAgICAgICAgIGVkaXRvci5mb2N1cygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfSlcblxuICAgICAgICAub24oXCJAY2hhbmdlXCIsIGZ1bmN0aW9uKGVkaXRvcikge1xuICAgICAgICAgICAgdmFyIGh0bWwgPSBlZGl0b3IuaHRtbCgpLnJlcGxhY2UoLzxcXC8/KD86ZGl2fHNwYW58cClbXj5dKj4vaWcsICcnKTtcbiAgICAgICAgICAgIC8vIGNsZWFyIGlucHV0OiBjaHJvbWUgYWRkcyA8YnI+IHdoZW4gY29udGVudGVkaXRhYmxlIGlzIGVtcHR5XG4gICAgICAgICAgICBpZiAoIWh0bWwubGVuZ3RoIHx8IC9ePGJyW14+XSo+JC9pLnRlc3QoaHRtbCkpIHtcbiAgICAgICAgICAgICAgICBzZWxmLmVkaXRvci5odG1sKHNlbGYuY29udGVudCA9ICcnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNvdXJjZVtzb3VyY2VWYWxGdW5jXShzZWxmLmdldFRleHQoKSk7XG4gICAgICAgIH0pXG5cbiAgICAgICAgLm9uKFwiQGZvY3VzXCIsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgYXBwLmFkZENsYXNzKFwiZm9jdXNlZFwiKTtcbiAgICAgICAgfSlcblxuICAgICAgICAub24oXCJAYmx1clwiLCBmdW5jdGlvbihlZGl0b3IpIHtcbiAgICAgICAgICAgIGFwcC5yZW1vdmVDbGFzcyhcImZvY3VzZWRcIik7XG5cbiAgICAgICAgICAgIGlmIChvcHRpb25zLmhpZGVQaWNrZXJPbkJsdXIpIHtcbiAgICAgICAgICAgICAgICBzZWxmLmhpZGVQaWNrZXIoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIGNvbnRlbnQgPSBlZGl0b3IuaHRtbCgpO1xuICAgICAgICAgICAgaWYgKHNlbGYuY29udGVudCAhPT0gY29udGVudCkge1xuICAgICAgICAgICAgICAgIHNlbGYuY29udGVudCA9IGNvbnRlbnQ7XG4gICAgICAgICAgICAgICAgdHJpZ2dlcihzZWxmLCAnY2hhbmdlJywgW2VkaXRvcl0pO1xuICAgICAgICAgICAgICAgIHNvdXJjZS5ibHVyKCkudHJpZ2dlcihcImNoYW5nZVwiKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgc291cmNlLmJsdXIoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKG9wdGlvbnMuc2hvcnRjdXRzKSB7XG4gICAgICAgICAgICBzZWxmLm9uKFwiQGtleWRvd25cIiwgZnVuY3Rpb24oXywgZSkge1xuICAgICAgICAgICAgICAgIGlmICghZS5jdHJsS2V5KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChlLndoaWNoID09IDkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJ1dHRvbi5jbGljaygpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGUud2hpY2ggPT0gMjcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChidXR0b24uaXMoXCIuYWN0aXZlXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5oaWRlUGlja2VyKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChvcHRpb25zLmF1dG9jb21wbGV0ZSkge1xuICAgICAgICAgICAgdmFyIGF1dG9jb21wbGV0ZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHZhciBldmVudHMgPSB7fTtcbiAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5zaG9ydGN1dHMpIHtcbiAgICAgICAgICAgICAgICAgICAgZXZlbnRzLm9uS2V5ZG93biA9IGZ1bmN0aW9uIChlLCBjb21tYW5kcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFlLmN0cmxLZXkgJiYgZS53aGljaCA9PSAxMykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjb21tYW5kcy5LRVlfRU5URVI7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciBtYXAgPSAkLm1hcChlbW9qaW9uZS5lbW9qaW9uZUxpc3QsIGZ1bmN0aW9uIChfLCBlbW9qaSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gIW9wdGlvbnMuYXV0b2NvbXBsZXRlVG9uZXMgPyAvX3RvbmVbMTIzNDVdLy50ZXN0KGVtb2ppKSA/IG51bGwgOiBlbW9qaSA6IGVtb2ppO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIG1hcC5zb3J0KCk7XG4gICAgICAgICAgICAgICAgZWRpdG9yLnRleHRjb21wbGV0ZShbXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBjc3NfY2xhc3MsXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXRjaDogLyg6W1xcLStcXHddKikkLyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlYXJjaDogZnVuY3Rpb24gKHRlcm0sIGNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2soJC5tYXAobWFwLCBmdW5jdGlvbiAoZW1vamkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGVtb2ppLmluZGV4T2YodGVybSkgPT09IDAgPyBlbW9qaSA6IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gc2hvcnRuYW1lVG8odmFsdWUsIHNlbGYuZW1vamlUZW1wbGF0ZSkgKyBcIiBcIiArIHZhbHVlLnJlcGxhY2UoLzovZywgJycpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcGxhY2U6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzaG9ydG5hbWVUbyh2YWx1ZSwgc2VsZi5lbW9qaVRlbXBsYXRlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBjYWNoZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1heENvdW50OiAxNSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4OiAxXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBdLCBldmVudHMpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGlmICgkLmZuLnRleHRjb21wbGV0ZSkge1xuICAgICAgICAgICAgICAgIGF1dG9jb21wbGV0ZSgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAkLmdldFNjcmlwdChcImh0dHBzOi8vY2RuLnJhd2dpdC5jb20veXVrdS10L2pxdWVyeS10ZXh0Y29tcGxldGUvdjEuMy40L2Rpc3QvanF1ZXJ5LnRleHRjb21wbGV0ZS5qc1wiLFxuICAgICAgICAgICAgICAgICAgICBhdXRvY29tcGxldGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHNlbGYuaW5saW5lKSB7XG4gICAgICAgICAgICBhcHAuYWRkQ2xhc3Moc2VsZWN0b3IoJ2lubGluZScsIHRydWUpKTtcbiAgICAgICAgICAgIHNlbGYub24oXCJAa2V5ZG93blwiLCBmdW5jdGlvbihfLCBlKSB7XG4gICAgICAgICAgICAgICAgaWYgKGUud2hpY2ggPT0gMTMpIHtcbiAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKC9maXJlZm94L2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSkge1xuICAgICAgICAgICAgLy8gZGlzYWJsaW5nIHJlc2l6ZSBpbWFnZXMgb24gRmlyZWZveFxuICAgICAgICAgICAgZG9jdW1lbnQuZXhlY0NvbW1hbmQoXCJlbmFibGVPYmplY3RSZXNpemluZ1wiLCBmYWxzZSwgZmFsc2UpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy99LCBzZWxmLmlkID09PSAxKTsgLy8gY2FsY0VsYXBzZWRUaW1lKClcbiAgICB9O1xuICAgIHZhciBFbW9qaW9uZUFyZWEgPSBmdW5jdGlvbihlbGVtZW50LCBvcHRpb25zKSB7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgZXZlbnRTdG9yYWdlW3NlbGYuaWQgPSArK3VuaXF1ZV0gPSB7fTtcbiAgICAgICAgcG9zc2libGVFdmVudHNbc2VsZi5pZF0gPSB7fTtcbiAgICAgICAgZW1vamlvbmVSZWFkeShmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGluaXQoc2VsZiwgZWxlbWVudCwgb3B0aW9ucyk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgZnVuY3Rpb24gYmluZEV2ZW50KHNlbGYsIGV2ZW50KSB7XG4gICAgICAgIGV2ZW50ID0gZXZlbnQucmVwbGFjZSgvXkAvLCAnJyk7XG4gICAgICAgIHZhciBpZCA9IHNlbGYuaWQ7XG4gICAgICAgIGlmIChwb3NzaWJsZUV2ZW50c1tpZF1bZXZlbnRdKSB7XG4gICAgICAgICAgICAkLmVhY2gocG9zc2libGVFdmVudHNbaWRdW2V2ZW50XSwgZnVuY3Rpb24oaSwgZXYpIHtcbiAgICAgICAgICAgICAgICAvLyBldlswXSA9IGVsZW1lbnRcbiAgICAgICAgICAgICAgICAvLyBldlsxXSA9IGV2ZW50XG4gICAgICAgICAgICAgICAgLy8gZXZbMl0gPSB0YXJnZXRcbiAgICAgICAgICAgICAgICAkLmVhY2goJC5pc0FycmF5KGV2WzBdKSA/IGV2WzBdIDogW2V2WzBdXSwgZnVuY3Rpb24oaSwgZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgJChlbCkub24oZXZbMV0sIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGFyZ3MgPSBzbGljZS5jYWxsKGFyZ3VtZW50cyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0ID0gJC5pc0Z1bmN0aW9uKGV2WzJdKSA/IGV2WzJdLmFwcGx5KHNlbGYsIFtldmVudF0uY29uY2F0KGFyZ3MpKSA6IGV2WzJdO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRhcmdldCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyaWdnZXIoc2VsZiwgZXZlbnQsIFt0YXJnZXRdLmNvbmNhdChhcmdzKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBwb3NzaWJsZUV2ZW50c1tpZF1bZXZlbnRdID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIEVtb2ppb25lQXJlYS5wcm90b3R5cGUub24gPSBmdW5jdGlvbihldmVudHMsIGhhbmRsZXIpIHtcbiAgICAgICAgaWYgKGV2ZW50cyAmJiAkLmlzRnVuY3Rpb24oaGFuZGxlcikpIHtcbiAgICAgICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgICAgICQuZWFjaChldmVudHMudG9Mb3dlckNhc2UoKS5zcGxpdCgnICcpLCBmdW5jdGlvbihpLCBldmVudCkge1xuICAgICAgICAgICAgICAgIGJpbmRFdmVudChzZWxmLCBldmVudCk7XG4gICAgICAgICAgICAgICAgKGV2ZW50U3RvcmFnZVtzZWxmLmlkXVtldmVudF0gfHwgKGV2ZW50U3RvcmFnZVtzZWxmLmlkXVtldmVudF0gPSBbXSkpLnB1c2goaGFuZGxlcik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgRW1vamlvbmVBcmVhLnByb3RvdHlwZS5vZmYgPSBmdW5jdGlvbihldmVudHMsIGhhbmRsZXIpIHtcbiAgICAgICAgaWYgKGV2ZW50cykge1xuICAgICAgICAgICAgdmFyIGlkID0gdGhpcy5pZDtcbiAgICAgICAgICAgICQuZWFjaChldmVudHMudG9Mb3dlckNhc2UoKS5yZXBsYWNlKC9fL2csICcuJykuc3BsaXQoJyAnKSwgZnVuY3Rpb24oaSwgZXZlbnQpIHtcbiAgICAgICAgICAgICAgICBpZiAoZXZlbnRTdG9yYWdlW2lkXVtldmVudF0gJiYgIS9eQC8udGVzdChldmVudCkpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGhhbmRsZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICQuZWFjaChldmVudFN0b3JhZ2VbaWRdW2V2ZW50XSwgZnVuY3Rpb24oaiwgZm4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZm4gPT09IGhhbmRsZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRTdG9yYWdlW2lkXVtldmVudF0gPSBldmVudFN0b3JhZ2VbaWRdW2V2ZW50XS5zcGxpY2UoaiwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBldmVudFN0b3JhZ2VbaWRdW2V2ZW50XSA9IFtdO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIEVtb2ppb25lQXJlYS5wcm90b3R5cGUuc2V0VGV4dCA9IGZ1bmN0aW9uIChzdHIpIHtcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICBlbW9qaW9uZVJlYWR5KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHNlbGYuZWRpdG9yLmh0bWwoaHRtbEZyb21UZXh0KHN0ciwgc2VsZikpO1xuICAgICAgICAgICAgc2VsZi5jb250ZW50ID0gc2VsZi5lZGl0b3IuaHRtbCgpO1xuICAgICAgICAgICAgdHJpZ2dlcihzZWxmLCAnY2hhbmdlJywgW3NlbGYuZWRpdG9yXSk7XG4gICAgICAgICAgICBjYWxjQnV0dG9uUG9zaXRpb24uYXBwbHkoc2VsZik7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gc2VsZjtcbiAgICB9XG5cbiAgICBFbW9qaW9uZUFyZWEucHJvdG90eXBlLmdldFRleHQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRleHRGcm9tSHRtbCh0aGlzLmVkaXRvci5odG1sKCksIHRoaXMpO1xuICAgIH1cblxuICAgIEVtb2ppb25lQXJlYS5wcm90b3R5cGUuc2hvd1BpY2tlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICBpZiAoc2VsZi5fc2hfdGltZXIpIHtcbiAgICAgICAgICAgIHdpbmRvdy5jbGVhclRpbWVvdXQoc2VsZi5fc2hfdGltZXIpO1xuICAgICAgICB9XG4gICAgICAgIHNlbGYucGlja2VyLnJlbW92ZUNsYXNzKFwiaGlkZGVuXCIpO1xuICAgICAgICBzZWxmLl9zaF90aW1lciA9ICB3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHNlbGYuYnV0dG9uLmFkZENsYXNzKFwiYWN0aXZlXCIpO1xuICAgICAgICB9LCA1MCk7XG4gICAgICAgIHRyaWdnZXIoc2VsZiwgXCJwaWNrZXIuc2hvd1wiLCBbc2VsZi5waWNrZXJdKTtcbiAgICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfVxuXG4gICAgRW1vamlvbmVBcmVhLnByb3RvdHlwZS5oaWRlUGlja2VyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgIGlmIChzZWxmLl9zaF90aW1lcikge1xuICAgICAgICAgICAgd2luZG93LmNsZWFyVGltZW91dChzZWxmLl9zaF90aW1lcik7XG4gICAgICAgIH1cbiAgICAgICAgc2VsZi5idXR0b24ucmVtb3ZlQ2xhc3MoXCJhY3RpdmVcIik7XG4gICAgICAgIHNlbGYuX3NoX3RpbWVyID0gIHdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgc2VsZi5waWNrZXIuYWRkQ2xhc3MoXCJoaWRkZW5cIik7XG4gICAgICAgIH0sIDUwMCk7XG4gICAgICAgIHRyaWdnZXIoc2VsZiwgXCJwaWNrZXIuaGlkZVwiLCBbc2VsZi5waWNrZXJdKTtcbiAgICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfVxuXG4gICAgJC5mbi5lbW9qaW9uZUFyZWEgPSBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBpZiAoISF0aGlzLmVtb2ppb25lQXJlYSkgcmV0dXJuIHRoaXMuZW1vamlvbmVBcmVhO1xuICAgICAgICAgICAgJC5kYXRhKHRoaXMsICdlbW9qaW9uZUFyZWEnLCB0aGlzLmVtb2ppb25lQXJlYSA9IG5ldyBFbW9qaW9uZUFyZWEoJCh0aGlzKSwgb3B0aW9ucykpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZW1vamlvbmVBcmVhO1xuICAgICAgICB9KTtcbiAgICB9O1xuXG59KSAoZG9jdW1lbnQsIHdpbmRvdywgalF1ZXJ5KTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vZW1vamlvbmVBcmVhL2Rpc3QvZW1vamlvbmVhcmVhLmpzXG4vLyBtb2R1bGUgaWQgPSAyMlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJpbXBvcnQgJy4vYmFzZS5zY3NzJztcclxuXHJcbi8vIHZlbmRvclxyXG5pbXBvcnQgJ3doYXR3Zy1mZXRjaCc7XHJcbmltcG9ydCBQdWJTdWIgZnJvbSAncHVic3ViLWpzJztcclxuLy8gaW1wb3J0IHtlbW9qaW9uZWFyZWF9IGZyb20gJ2Vtb2ppb25lQXJlYS9kaXN0L2Vtb2ppb25lYXJlYSc7XHJcbi8vICQuZm4uZW1vamlvbmVhcmVhID0gZW1vamlvbmVhcmVhO1xyXG5cclxuLy8gY29tcG9uZW50c1xyXG4vLyBpbXBvcnQge0NPTlNUfSBmcm9tICcuL2NvbW1vbi9qcy1zZXJ2aWNlcy9jb25zdHMnO1xyXG5pbXBvcnQge0xvZ2luRm9ybX0gZnJvbSAnLi9ibG9ja3MvbG9naW4tZm9ybS9sb2dpbi1mb3JtJztcclxuaW1wb3J0IFJlZ2lzdGVyRm9ybSBmcm9tICcuL2Jsb2Nrcy9yZWdpc3Rlci1mb3JtL3JlZ2lzdGVyLWZvcm0nO1xyXG5pbXBvcnQge0xvZ2luUGFnZX0gZnJvbSAnLi9wYWdlcy9fYXV0aC9sb2dpbi1wYWdlJztcclxuaW1wb3J0IHtjb25maXJtYXRpb25XaXRoUmVkaXJlY3R9IGZyb20gJy4vYmxvY2tzL2NvbmZpcm0tcmVnL2NvbmZpcm0tcmVnJztcclxuaW1wb3J0ICogYXMgaGVhZGVyIGZyb20gJy4vYmxvY2tzL2hlYWRlci9oZWFkZXInO1xyXG5pbXBvcnQgKiBhcyBzaWRlYmFyTWVudSBmcm9tICcuL2Jsb2Nrcy9zaWRlYmFyLW1lbnUvc2lkZWJhci1tZW51JztcclxuaW1wb3J0ICogYXMgYnVyZ2VyTWVudSBmcm9tICcuL2Jsb2Nrcy9oZWFkZXIvYnVyZ2VyLW1lbnUvYnVyZ2VyLW1lbnUnO1xyXG5pbXBvcnQgKiBhcyBpbnN0YWdyYW1BY2NvdW50cyBmcm9tICcuL2Jsb2Nrcy9pbnN0YWdyYW0tYWNjb3VudHMtbGlzdC9pbnN0YWdyYW0tYWNjb3VudHMtbGlzdCc7XHJcbmltcG9ydCAqIGFzIG1lc3NhZ2VzIGZyb20gJy4vYmxvY2tzL21lc3NhZ2VzL21lc3NhZ2VzJztcclxuaW1wb3J0ICogYXMgZm9sbG93IGZyb20gJy4vYmxvY2tzL2ZvbGxvdy9mb2xsb3cnO1xyXG5pbXBvcnQgKiBhcyB1bmZvbGxvdyBmcm9tICcuL2Jsb2Nrcy91bmZvbGxvdy91bmZvbGxvdy1pbmRleCc7XHJcbmltcG9ydCAqIGFzIGF1dG9tZXNzYWdlcyBmcm9tICcuL2Jsb2Nrcy9hdXRvbWVzc2FnZXMvYXV0b21lc3NhZ2VzLWluZGV4JztcclxuaW1wb3J0ICogYXMgY2hhdEJvdCBmcm9tICcuL2Jsb2Nrcy9jaGF0LWJvdC9jaGF0LWJvdC1pbmRleCc7XHJcbmltcG9ydCAqIGFzIGF1dG9ncmVldGluZyBmcm9tICcuL2Jsb2Nrcy9hdXRvZ3JlZXRpbmcvYXV0b2dyZWV0aW5nLW1haW4nO1xyXG5pbXBvcnQgKiBhcyBhdXRvY29tbWVudHMgZnJvbSAnLi9ibG9ja3MvYXV0b2NvbW1lbnRzL2F1dG9jb21tZW50cy1pbmRleCc7XHJcbmltcG9ydCAqIGFzIHN0b3JpZXMgZnJvbSAnLi9ibG9ja3Mvc3Rvcmllcy9zdG9yaWVzLWluZGV4JztcclxuXHJcbi8vIGNvbnN0IHNlbGVjdG9yQ3NzTG9naW5Gb3JtID0ge1xyXG4vLyAgICAgX2xvZ2luQm94OiBDT05TVC51aVNlbGVjdG9ycy5oZWFkZXJMb2dpbkJveCxcclxuLy8gICAgIF9mb3JtSWQ6ICcjanNfbG9naW4tZm9ybScsXHJcbi8vICAgICBfYnV0dG9uU3VibWl0SWQ6ICcjanNfbG9naW5fYnRuJyxcclxuLy8gICAgIF9zaG93TG9naW5Cb3hCdG5JZDogQ09OU1QudWlTZWxlY3RvcnMuaGVhZGVyTmF2TG9naW5CdG5cclxuLy8gfTtcclxuXHJcbi8qXHJcbiogZ2xvYmFsIGZ1bmN0aW9uc1xyXG4qL1xyXG5mdW5jdGlvbiBzZXRQdWJTdWIoUHViU3ViKSB7XHJcbiAgICB3aW5kb3cuUHViU3ViID0gUHViU3ViO1xyXG59XHJcblxyXG5mdW5jdGlvbiBpbml0VG9vbHRpcCgpIHtcclxuICAgICQoJ1tkYXRhLXRvZ2dsZT1cInRvb2x0aXBcIl0nKS50b29sdGlwKCk7XHJcbn1cclxuXHJcbmNvbnN0IGluaXQgPSAoKSA9PiB7XHJcbiAgICBzZXRQdWJTdWIoUHViU3ViKTtcclxuICAgIGluaXRUb29sdGlwKCk7XHJcbiAgICAvLyBjb25zb2xlLmxvZygnaW5pdCBqcyBoZXJlJywgQ09OU1QudXNlcik7XHJcbiAgICAobmV3IFJlZ2lzdGVyRm9ybSgpKS5pbml0KCk7XHJcbiAgICAvLyBMb2dpbkZvcm0oc2VsZWN0b3JDc3NMb2dpbkZvcm0pLmluaXQoKTtcclxuICAgIExvZ2luRm9ybSh7XHJcbiAgICAgICAgX2xvZ2luQm94OiAnbWFpbiAubG9naW4tYm94JyxcclxuICAgICAgICBfZm9ybUlkOiAnI2pzX2luc3RhZ3JhbS1hZGQtYWNjb3VudCcsXHJcbiAgICAgICAgX2J1dHRvblN1Ym1pdElkOiAnI2pzX2luc3RhZ3JhbS1hZGQtYWNjb3VudC0tYnRuJyxcclxuICAgICAgICBfc2hvd0xvZ2luQm94QnRuSWQ6ICcjanNfc2hvdy1sb2dpbi1ib3gnLFxyXG4gICAgICAgIGlzTG9naW5JbnN0YWdyYW06IHRydWVcclxuICAgIH0pLmluaXQoKTsgLy8gaW5pdCBpbnN0YWdyYW0gbG9naW4gZm9ybSAqIS9cclxuICAgIExvZ2luUGFnZSh7XHJcbiAgICAgICAgX2xvZ2luQm94OiAnLmF1dGgubG9naW4gLmNhcmQtc2lnbmluJyxcclxuICAgICAgICBfZm9ybUlkOiAnLmZvcm0tc2lnbmluJyxcclxuICAgICAgICBfYnV0dG9uU3VibWl0SWQ6ICcuZm9ybS1zaWduaW4gW3R5cGU9XCJzdWJtaXRcIl0nXHJcbiAgICB9KS5pbml0KCk7XHJcblxyXG4gICAgY29uZmlybWF0aW9uV2l0aFJlZGlyZWN0KCkuaW5pdCgpO1xyXG4gICAgaGVhZGVyLmluaXRIZWFkZXIoKTtcclxuICAgIHNpZGViYXJNZW51LmluaXRNZW51KCk7XHJcbiAgICBidXJnZXJNZW51LmluaXQoKTtcclxuICAgIGZvbGxvdy5pbml0KCk7XHJcbiAgICB1bmZvbGxvdy5pbml0KCk7XHJcbiAgICBpbnN0YWdyYW1BY2NvdW50cy5pbml0KCk7XHJcbiAgICBtZXNzYWdlcy5pbml0KCk7XHJcbiAgICBhdXRvbWVzc2FnZXMuaW5pdCgpO1xyXG4gICAgYXV0b2dyZWV0aW5nLmluaXQoKTtcclxuICAgIGF1dG9jb21tZW50cy5pbml0KCk7XHJcbiAgICBjaGF0Qm90LmluaXQoKTtcclxuICAgIHN0b3JpZXMuaW5pdCgpO1xyXG59O1xyXG5cclxuKCgpID0+IGluaXQoKSkoKTtcclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2Jvb3RzdHJhcC5qcyIsImV4cG9ydCBjb25zdCB0cGxUZXh0RmllbGQgPSAobWFpbkNscykgPT5cclxuJChgPGRpdiBjbGFzcz1cIiR7bWFpbkNsc30gbXQtMlwiPlxyXG4gICAgPGRpdiBjbGFzcz1cInJvd1wiPlxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJjb2xcIj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImpzX3RhZ3NpbnB1dC1ib3hcIj5cclxuICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIHBsYWNlaG9sZGVyPVwi0JLQstC10LTQuNGC0LUg0LrQu9GO0YfQtdCy0YvQtSDRgdC70L7QstCwXCIgdmFsdWU9XCJcIiBkYXRhLXJvbGU9XCJ0YWdzaW5wdXRcIiBjbGFzcz1cImZvcm0tY29udHJvbCBhbnN3ZXItd29yZHMgbWItMlwiIC8+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwianNfdGFnc2lucHV0LWJveCBibGFja2xpc3QtYm94IG15LTJcIj5cclxuICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIHBsYWNlaG9sZGVyPVwi0JLQstC10LTQuNGC0LUg0LzQuNC90YPRgSDRgdC70L7QstCwXCIgdmFsdWU9XCJcIiBkYXRhLXJvbGU9XCJ0YWdzaW5wdXRcIiBjbGFzcz1cImZvcm0tY29udHJvbCBibGFja2xpc3Qtd29yZHNcIiAvPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwiY29sXCI+XHJcbiAgICAgICAgICAgIDx0ZXh0YXJlYSBjbGFzcz1cImZvcm0tY29udHJvbCBhbnN3ZXItbWVzc2FnZXNcIiByb3dzPVwiNFwiXHJcbiAgICAgICAgICAgICAgICBkYXRhLWVtb2ppLXBpY2tlcj1cInRydWVcIiBzdHlsZT1cInBhZGRpbmc6IDAuMjVyZW0gMS43NXJlbSAwLjI1cmVtIDAuMjVyZW07IHdpZHRoOiAxMDAlO21pbi1oZWlnaHQ6IDQycHg7XCJcclxuICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwi0JLQstC10LTQuNGC0LUg0YHQvtC+0LHRidC10L3QuNC1XCJcclxuICAgICAgICAgICAgPjwvdGV4dGFyZWE+XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgPC9kaXY+XHJcbjwvZGl2PmApO1xyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvYmxvY2tzL2F1dG9jb21tZW50cy9hZGRBbnN3ZXJUZW1wbGF0ZS5qcyIsImltcG9ydCB7Q09OU1R9IGZyb20gJy4uLy4uL2NvbW1vbi9qcy1zZXJ2aWNlcy9jb25zdHMnO1xyXG5pbXBvcnQgKiBhcyB3aXphcmRGb3JtIGZyb20gJy4uLy4uL2Jsb2Nrcy93aXphcmQtZm9ybS93aXphcmQtZm9ybSc7XHJcbmltcG9ydCB2aWV3VXRpbHMgZnJvbSAnLi4vLi4vY29tbW9uL2pzLXNlcnZpY2VzL3ZpZXcnO1xyXG5pbXBvcnQgVXNlclRhc2tNYW5hZ2VyIGZyb20gJy4uLy4uL2NvbW1vbi9qcy1zZXJ2aWNlcy9hcGktdGFzay1tYW5hZ2VyJztcclxuaW1wb3J0ICogYXMgdGFicyBmcm9tICcuLi9fc2hhcmVkL3RlYnMtcGlscy90YWJzJztcclxuaW1wb3J0ICogYXMgYXV0b2NvbW1lbnRzU3RhdHVzIGZyb20gJy4vYXV0b2NvbW1lbnRzLXN0YXR1cyc7XHJcbmltcG9ydCAqIGFzIGxvZ3MgZnJvbSAnLi4vX3NoYXJlZC9sb2dzL2xvZ3MnO1xyXG5pbXBvcnQgKiBhcyBpbWFnZVVwbG9hZCBmcm9tICcuLi9fc2hhcmVkL2ltYWdlLXVwbG9hZC9pbWFnZS11cGxvYWQnO1xyXG5pbXBvcnQge2Vtb2ppfSBmcm9tICcuLi8uLi9jb21tb24vanMtc2VydmljZXMvZW1vamknO1xyXG5pbXBvcnQge2dldFBvc3RzfSBmcm9tICcuLi9fc2hhcmVkL2dldFBvc3RzTW9kYWwvdXRpbHMtbW9kYWwnO1xyXG5pbXBvcnQge3RwbFRleHRGaWVsZH0gZnJvbSAnLi9hZGRBbnN3ZXJUZW1wbGF0ZSc7XHJcbmltcG9ydCB7aW5pdFRhZ3NJbnB1dCwgbmV4dEJ0bnZhbGlkYXRlQ29tcGV0aXRvcnNIYW5kbGVyfSBmcm9tICcuLi9fc2hhcmVkL3RhZ3MtaW5wdXQvdGFncy1pbnB1dCc7XHJcblxyXG5jb25zdCB7Z2V0VmFsQnlDb21tYVNlcGFyYXRvcn0gPSB2aWV3VXRpbHM7XHJcbmxldCB1c2VybmFtZVNlbGVjdGVkID0gJyc7XHJcbmNvbnN0IHNlbGVjdENscyA9ICdqc19sb2dzLWFjY291bnRzJztcclxuY29uc3QgY2xzQ29uc3QgPSB7XHJcbiAgICBjdXJyZW50UGFnZUNsczogJy5hdXRvY29tbWVudHMtcGFnZScsXHJcbiAgICB0YXNrc0xpc3Q6ICcubG9nLXRhc2tzJyxcclxuICAgIGxvZ3NUYWJCdG46ICcjdi1waWxscy1sb2dzLXRhYicsXHJcbiAgICBwYWdpbmF0aW9uOiAnLmxvZ3MtcGFnaW5hdGlvbicsXHJcbiAgICBwYWdpbmF0aW9uUGdOdW1iZXI6ICcucGFnZS1udW1iZXInLFxyXG4gICAgcGF0aFR5cGU6IENPTlNULnVybC50bVR5cGVzLmF1dG9jb21tZW50c1QsXHJcbiAgICBwYXRoU3ViVHlwZTogQ09OU1QudXJsLnRtVHlwZXMuYXV0b2NvbW1lbnRzU3ViVFswXVxyXG59O1xyXG5jb25zdCBlbFNlbGVjdG9yID0ge1xyXG4gICAgZmllbGRzOiAnLmF1dG9jb21tZW50cy10ZXh0LWZpZWxkcycsXHJcbiAgICBrZXlXb3JkOiAnaW5wdXQuYW5zd2VyLXdvcmRzJyxcclxuICAgIGFuc3dlcjogJ3RleHRhcmVhLmFuc3dlci1tZXNzYWdlcycsXHJcbiAgICBmaWxlVXBsb2FkQm94OiAnLmZpbGUtdXBsb2FkJyxcclxuICAgIGFkZFBvc3RCdG5zOiAnLmpzX2F1dG9jb21tZW50cy1hZGQtcG9zdCdcclxufTtcclxuY29uc3QgbG9nc1N0YXRlID0ge1xyXG4gICAgc2VsZWN0Q2xzOiAnanNfbG9ncy1hY2NvdW50cycsXHJcbiAgICBzZWxlY3RDbHNMb2dzVGFza1R5cGU6ICdqc19sb2dzLXN1YnR5cGVzJyxcclxuICAgIHdyYXBwZXJTdWJ0eXBlOiAnLmxvZy1zdWJ5cGUnXHJcbn07XHJcblxyXG5mdW5jdGlvbiBpbml0RW1vamlpKCkge1xyXG4gICAgZW1vamkoe1xyXG4gICAgICAgIHBhZ2U6IGNsc0NvbnN0LmN1cnJlbnRQYWdlQ2xzLFxyXG4gICAgICAgIHN0eWxlczoge29sZDogJ2JvdHRvbTogMzBweDsnLCBuZXc6ICd0b3A6IC0yMTBweDsnfVxyXG4gICAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHZhbGlkYXRlSXNFbXB0eSgkZWxlbWVudHMsIGUpIHtcclxuICAgICRlbGVtZW50cy5lYWNoKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAoJCh0aGlzKS52YWwoKSA9PT0gJycpIHtcclxuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAkKHRoaXMpLmFkZENsYXNzKCdpbnB1dC1lcnJvcicpO1xyXG4gICAgICAgICAgICAvLyB2YWxpZGF0aW9uID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAkKHRoaXMpLnJlbW92ZUNsYXNzKCdpbnB1dC1lcnJvcicpO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBvblN1Ym1pdEhhbmRsZXIoZSkge1xyXG4gICAgY29uc3QgZmllbGRzID0gJChlbFNlbGVjdG9yLmZpZWxkcyk7XHJcbiAgICBjb25zdCByZXFCb2R5ID0gW107XHJcbiAgICBsZXQgdmFsaWRhdGlvbiA9IHRydWU7XHJcbiAgICBjb25zdCAkZWxlbWVudHNLZXlXb3JkID0gZmllbGRzLmZpbmQoZWxTZWxlY3Rvci5rZXlXb3JkKTtcclxuICAgIGNvbnN0ICRlbGVtZW50c0Fuc3dlciA9IGZpZWxkcy5maW5kKGVsU2VsZWN0b3IuYW5zd2VyKTtcclxuXHJcbiAgICB2YWxpZGF0ZUlzRW1wdHkoJGVsZW1lbnRzS2V5V29yZCwgZSk7XHJcbiAgICB2YWxpZGF0ZUlzRW1wdHkoJGVsZW1lbnRzQW5zd2VyLCBlKTtcclxuXHJcbiAgICBmaWVsZHMuZWFjaCgoaWR4LCBpdGVtKSA9PiB7XHJcbiAgICAgICAgY29uc3Qga2V5V29yZCA9IGdldFZhbEJ5Q29tbWFTZXBhcmF0b3IoJChpdGVtKS5maW5kKGVsU2VsZWN0b3Iua2V5V29yZCkpO1xyXG4gICAgICAgIGNvbnN0IGFuc3dlciA9ICQoaXRlbSkuZmluZChlbFNlbGVjdG9yLmFuc3dlcikudmFsKCk7XHJcbiAgICAgICAgY29uc3QgaW1hZ2VJZCA9ICQoaXRlbSkuZmluZChlbFNlbGVjdG9yLmZpbGVVcGxvYWRCb3gpLmF0dHIoJ2F0dGFjaGVkLWltZy1pZCcpO1xyXG4gICAgICAgIGNvbnN0ICRpbWFnZVBvc3RCb3ggPSAkKGl0ZW0pLmZpbmQoJy5qc191cGxvYWRlZC1pbWctZnJvbS1wb3N0cycpO1xyXG4gICAgICAgIGNvbnN0IHBvc3RJdGVtSWQgPSAkaW1hZ2VQb3N0Qm94LmRhdGEoJ3Bvc3RJZCcpO1xyXG4gICAgICAgIGNvbnN0IHBvc3RJdGVtVHlwZSA9ICRpbWFnZVBvc3RCb3guZGF0YSgncG9zdFR5cGUnKTtcclxuICAgICAgICBjb25zdCBibGFja2xpc3RXb3JkcyA9ICQoaXRlbSkuZmluZCgnaW5wdXQuYmxhY2tsaXN0LXdvcmRzJyk7XHJcbiAgICAgICAgY29uc3QgYmxhY2tsaXN0V29yZHNBcnIgPSBnZXRWYWxCeUNvbW1hU2VwYXJhdG9yKGJsYWNrbGlzdFdvcmRzKTtcclxuXHJcbiAgICAgICAgaWYgKCFrZXlXb3JkLmxlbmd0aCB8fCAhYW5zd2VyLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZygna2V5V29yZCBpcyBlbXB0eSwgbm90IHB1c2ggbWUgdG8gcmVxdWVzdCcpO1xyXG4gICAgICAgICAgICAkKGl0ZW0pLmFwcGVuZChgXHJcbiAgICAgICAgICAgICAgICA8cCBjbGFzcz1cIm1zZy1lbXB0eS1maWVsZCB0ZXh0LWRhbmdlclwiPtCf0YPRgdGC0L7QtSDQv9C+0LvQtSDQvdC1INCy0LDQu9C40LTQvdC+PC9wPlxyXG4gICAgICAgICAgICBgKTtcclxuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAkKCcubXNnLWVtcHR5LWZpZWxkJykuYWRkQ2xhc3MoJ2Qtbm9uZScpO1xyXG4gICAgICAgICAgICB9LCA1MDAwKTtcclxuICAgICAgICAgICAgdmFsaWRhdGlvbiA9IGZhbHNlO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHN1Ym1pdEJvZHlJdGVtID0ge1xyXG4gICAgICAgICAgICAna2V5X3dvcmRzJzoga2V5V29yZCxcclxuICAgICAgICAgICAgYW5zd2VyLFxyXG4gICAgICAgICAgICBibGFja2xpc3Q6IGJsYWNrbGlzdFdvcmRzQXJyLFxyXG4gICAgICAgICAgICAnYXR0YWNobWVudCc6IGltYWdlSWQgPyB7XHJcbiAgICAgICAgICAgICAgICAnaW1hZ2VfaWQnOiBpbWFnZUlkXHJcbiAgICAgICAgICAgIH0gOiB1bmRlZmluZWRcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBpZiAocG9zdEl0ZW1JZCkge1xyXG4gICAgICAgICAgICBzdWJtaXRCb2R5SXRlbS5hdHRhY2htZW50ID0ge1xyXG4gICAgICAgICAgICAgICAgLi4uc3VibWl0Qm9keUl0ZW0uYXR0YWNobWVudCxcclxuICAgICAgICAgICAgICAgIHBvc3Q6IHtcclxuICAgICAgICAgICAgICAgICAgICBpZDogcG9zdEl0ZW1JZCxcclxuICAgICAgICAgICAgICAgICAgICB0eXBlOiBwb3N0SXRlbVR5cGUgfHwgJ3R5cGUtZXJyb3InXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJlcUJvZHkucHVzaChzdWJtaXRCb2R5SXRlbSk7XHJcbiAgICB9KTtcclxuICAgIGlmICghdmFsaWRhdGlvbikge1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCcqKmFsYXJtICoqJywgZWxTZWxlY3Rvci5rZXlXb3JkKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgblJlcUJvZHkgPSB7XHJcbiAgICAgICAgJ3VzZXJuYW1lJzogdXNlcm5hbWVTZWxlY3RlZCxcclxuICAgICAgICAndHlwZSc6IGNsc0NvbnN0LnBhdGhUeXBlLFxyXG4gICAgICAgICdzdWJ0eXBlJzogY2xzQ29uc3QucGF0aFN1YlR5cGUsXHJcbiAgICAgICAgJ3VzZXJfZGVmYXVsdF9jb25maWcnOiB7fSxcclxuICAgICAgICAndXNlcl9jdXN0b21fY29uZmlnJzoge1xyXG4gICAgICAgICAgICAnZm9ybXMnOiByZXFCb2R5XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAvLyBjb25zb2xlLmxvZygnbWFrZSByZXF1ZXN0IGhlcmUqKicsIG5SZXFCb2R5KTtcclxuICAgIGZ1bmN0aW9uIGNiRXJyb3IocmVzKSB7XHJcbiAgICAgICAgY29uc3QgbXNnID0gcmVzLnN0YXR1cy5tZXNzYWdlO1xyXG4gICAgICAgICQoJy5mb3JtLXN1Ym1pdC1maW5pc2gtLWVycm9yJykuYWRkQ2xhc3MoJ2QtYmxvY2snKVxyXG4gICAgICAgIC5maW5kKCcuYWxlcnQnKS5hcHBlbmQoYDxwPiR7bXNnfTwvcD5gKTtcclxuICAgIH1cclxuICAgIFVzZXJUYXNrTWFuYWdlci5wb3N0U3RhcnRUYXNrKG5SZXFCb2R5LCBjYkVycm9yKS50aGVuKChyZXN1bHQpID0+IHtcclxuICAgICAgICBpZiAocmVzdWx0LnN0YXR1cy5zdGF0ZSA9PT0gJ29rJykge1xyXG4gICAgICAgICAgICAkKCcuZm9ybS1zdWJtaXQtZmluaXNoJykuZmluZCgnLmFsZXJ0IHAnKS5yZW1vdmUoKTtcclxuICAgICAgICAgICAgJCgnLmZvcm0tc3VibWl0LWZpbmlzaCcpLmFkZENsYXNzKCdkLWJsb2NrJylcclxuICAgICAgICAgICAgICAgIC5maW5kKCcuYWxlcnQnKS5hcHBlbmQoYDxwPnRhc2tfaWQ6ICR7cmVzdWx0LmRhdGEudGFza19pZH08L3A+YCk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGluaXRMb2dzVGFiKCkge1xyXG4gICAgZnVuY3Rpb24gT25DaGFuZ2VTZWxlY3QoKSB7XHJcbiAgICAgICAgY29uc3Qge3NlbGVjdENsc30gPSBsb2dzU3RhdGU7XHJcbiAgICAgICAgJChgLiR7c2VsZWN0Q2xzfWApLm9uKCdjaGFuZ2UnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHVzZXJuYW1lU2VsZWN0ZWQgPSAkKGAuJHtzZWxlY3RDbHN9IG9wdGlvbjpzZWxlY3RlZGApLnZhbCgpO1xyXG4gICAgICAgICAgICAvLyBjbHNDb25zdC5wYXRoU3ViVHlwZSA9IGxvZ3NTdGF0ZS5hY3RpdmVTdWJUeXBlO1xyXG4gICAgICAgICAgICBsb2dzLmluaXQoc2VsZWN0Q2xzLCBjbHNDb25zdCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICAvLyBhZGREcm9wZG93bigkKGxvZ3NTdGF0ZS53cmFwcGVyU3VidHlwZSksIGxvZ3NTdWJ0eXBlcywge2xvZ3NTdGF0ZSwgZHJvcGRvd25PblNlbGVjdENifSk7XHJcbiAgICB0YWJzLmluaXQoT25DaGFuZ2VTZWxlY3QsIGxvZ3NTdGF0ZSk7IC8vIG1ha2VzIGRvdWJsZSByZXF1ZXN0IDogT1BUSU9OIGFuZCBHRVRcclxufVxyXG5cclxuZnVuY3Rpb24gcmVtb3ZlRXh0cmFUZXh0RmllbGRzKGUpIHtcclxuICAgICQoYCR7ZWxTZWxlY3Rvci5maWVsZHN9Om5vdCg6Zmlyc3QtY2hpbGQpYCkucmVtb3ZlQ2xhc3MoJ2QtYmxvY2snKTtcclxuICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbn1cclxuXHJcbi8qIFRPRE86IHJlZmFjdG9yIC0+IG1vdmUgaW5pdE1vZGFsSGFuZGxlciB0byBzZXBhcmF0ZSBmaWxlLCByZW1vdmUgaW5pdE1vZGFsSGFuZGxlciBpbiBhdXRvZ3JlZXRpbmctbWFpbi5qcyAqL1xyXG5sZXQgdGFyZ2V0QnV0dG9uID0ge307XHJcblxyXG5mdW5jdGlvbiBsb2FkTW9yZUhhbmRsZXIoZ2V0UG9zdHMpIHtcclxuICAgICQoJyNsb2FkLW1vcmUnKS5vZmYoKS5vbignY2xpY2snLCAoZSkgPT4ge1xyXG4gICAgICAgIGNvbnN0ICRidG4gPSAkKGUudGFyZ2V0KTtcclxuICAgICAgICBjb25zdCBjdXJzb3IgPSAkYnRuLmF0dHIoJ2N1cnNvcicpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdsb2FkIG1vcmUgY2xpY2snKTtcclxuICAgICAgICBnZXRQb3N0cyhudWxsLCB7dXNlck5hbWU6IHVzZXJuYW1lU2VsZWN0ZWQsIGN1cnNvcn0sIHtsb2FkTW9yZUhhbmRsZXI6IHRoaXMsIHRhcmdldEJ1dHRvbn0pO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGluaXRNb2RhbEhhbmRsZXIoKSB7XHJcblxyXG4gICAgJCgnLmpzX29wZW4tcG9zdHMtZ3JpZE1vZGFsJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgdGFyZ2V0QnV0dG9uID0gJCh0aGlzKTsgLy8gQnV0dG9uIHRoYXQgdHJpZ2dlcmVkIHRoZSBtb2RhbFxyXG4gICAgICAgIC8vIFVwZGF0ZSB0aGUgbW9kYWwncyBjb250ZW50XHJcbiAgICAgICAgY29uc3QgbW9kYWwgPSAkKCcjcG9zdHNHcmlkTW9kYWwnKTtcclxuICAgICAgICBnZXRQb3N0cyhtb2RhbCwge3VzZXJOYW1lOiB1c2VybmFtZVNlbGVjdGVkfSwge2xvYWRNb3JlSGFuZGxlciwgdGFyZ2V0QnV0dG9ufSk7XHJcbiAgICAgICAgbW9kYWwuZmluZCgnLm1vZGFsLXRpdGxlJykudGV4dCgn0J/Rg9Cx0LvQuNC60LDRhtC40LgnKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG4vKiBUT0RPOiByZWZhY3RvciAtPiBtb3ZlIGluaXRNb2RhbEhhbmRsZXIgdG8gc2VwYXJhdGUgZmlsZSBFTkQgKi9cclxuXHJcbi8qKlxyXG4gKiBJbml0IEhhbmRsZXJzXHJcbiAqL1xyXG5mdW5jdGlvbiBpbml0SGFuZGxlcnMoKSB7XHJcbiAgICBjb25zdCAkY29tcGV0aXRvcnNJbnB1dCA9ICQoJy5hdXRvY29tbWVudHMtdGV4dC1maWVsZHMgaW5wdXQuYW5zd2VyLXdvcmRzW2RhdGEtcm9sZT1cInRhZ3NpbnB1dFwiXScpO1xyXG4gICAgY29uc3QgJGJsYWNrTGlzdElucHV0ID0gJCgnLmF1dG9jb21tZW50cy10ZXh0LWZpZWxkcyBpbnB1dC5ibGFja2xpc3Qtd29yZHNbZGF0YS1yb2xlPVwidGFnc2lucHV0XCJdJyk7XHJcbiAgICBjb25zdCBuZXh0U3RlcEJ0biA9ICQoJ2Zvcm0gYnV0dG9uW3R5cGU9XCJzdWJtaXRcIl0nKTtcclxuICAgIG5leHRCdG52YWxpZGF0ZUNvbXBldGl0b3JzSGFuZGxlcigkY29tcGV0aXRvcnNJbnB1dCwgbmV4dFN0ZXBCdG4sICdpZ25vcmVSZWdleENoZWNrJyk7XHJcbiAgICBuZXh0QnRudmFsaWRhdGVDb21wZXRpdG9yc0hhbmRsZXIoJGJsYWNrTGlzdElucHV0LCBudWxsLCAnaWdub3JlUmVnZXhDaGVjaycpO1xyXG5cclxuICAgIC8vIFRPRE86IHJlZmFjdG9yIHdpdGggYXV0b2dyZWV0LmpzIGluaXRIYW5kbGVyc1xyXG4gICAgLy8gJCgnW2RhdGEtdG9nZ2xlPVwicG9wb3ZlclwiXScpLnBvcG92ZXIoKTsgLy8gaW5pdFxyXG4gICAgJCgnLmpzX2FkZC1hdXRvY29tbWVudHMnKS5vbignY2xpY2snLCAoZSkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGxhc3RUZXh0RmllbGQgPSAkKGVsU2VsZWN0b3IuZmllbGRzKS5sYXN0KCk7XHJcbiAgICAgICAgdHBsVGV4dEZpZWxkKGVsU2VsZWN0b3IuZmllbGRzLnN1YnN0cigxKSkuaW5zZXJ0QWZ0ZXIobGFzdFRleHRGaWVsZCk7XHJcbiAgICAgICAgaW1hZ2VVcGxvYWQuaW5pdCgpO1xyXG4gICAgICAgIC8vICQoJ1tkYXRhLXRvZ2dsZT1cInBvcG92ZXJcIl0nKS5wb3BvdmVyKCk7IC8vIHJlaW5pdFxyXG4gICAgICAgICQoJ1tkYXRhLXRvZ2dsZT1cInRvb2x0aXBcIl0nKS50b29sdGlwKCk7IC8vIHJlaW5pdFxyXG4gICAgICAgIGluaXRNb2RhbEhhbmRsZXIoKTtcclxuXHJcbiAgICAgICAgY29uc3QgbGFzdFRleHRGaWVsZEFmdGVySW5zZXJ0ID0gJChlbFNlbGVjdG9yLmZpZWxkcykubGFzdCgpO1xyXG4gICAgICAgIGNvbnN0ICRpbnB1dEFuc3dlcldvcmRzID0gJCgnaW5wdXQuYW5zd2VyLXdvcmRzW2RhdGEtcm9sZT1cInRhZ3NpbnB1dFwiXScsIGxhc3RUZXh0RmllbGRBZnRlckluc2VydCk7XHJcbiAgICAgICAgY29uc3QgJGJsYWNrTGlzdElucHV0ID0gJCgnaW5wdXQuYmxhY2tsaXN0LXdvcmRzW2RhdGEtcm9sZT1cInRhZ3NpbnB1dFwiXScsIGxhc3RUZXh0RmllbGRBZnRlckluc2VydCk7XHJcblxyXG4gICAgICAgIGluaXRUYWdzSW5wdXQoJGlucHV0QW5zd2VyV29yZHMpOyAvLyByZWluaXQgYW5zd2VyLXdvcmRzXHJcbiAgICAgICAgaW5pdFRhZ3NJbnB1dCgkYmxhY2tMaXN0SW5wdXQpOyAvLyByZWluaXQgYmxhY2tsaXN0LXdvcmRzXHJcbiAgICAgICAgbmV4dEJ0bnZhbGlkYXRlQ29tcGV0aXRvcnNIYW5kbGVyKCRpbnB1dEFuc3dlcldvcmRzLCBuZXh0U3RlcEJ0biwgJ2lnbm9yZVJlZ2V4Q2hlY2snKTtcclxuICAgICAgICBuZXh0QnRudmFsaWRhdGVDb21wZXRpdG9yc0hhbmRsZXIoJGJsYWNrTGlzdElucHV0LCBudWxsLCAnaWdub3JlUmVnZXhDaGVjaycpO1xyXG4gICAgICAgIGluaXRFbW9qaWkoKTtcclxuICAgIH0pO1xyXG5cclxuICAgIC8vIGFsZXJ0IHN1Y2Nlc3MgY2xvc2VcclxuICAgICQoJy5mb3JtLXN1Ym1pdC1maW5pc2ggLmNsb3NlJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZygnYWxlcnQgY2xvc2UnKTtcclxuICAgICAgICAkKCcjdi1waWxscy1hbGwtdGFiJykudHJpZ2dlcignY2xpY2snKTtcclxuICAgICAgICB3aW5kb3cuUHViU3ViLnB1Ymxpc2goQ09OU1QuZXZlbnRzLnRhc2tzLk5FV19UQVNLX0NSRUFURUQpO1xyXG4gICAgICAgIC8vIHJlbW92ZUV4dHJhVGV4dEZpZWxkcyhlKTtcclxuICAgIH0pO1xyXG5cclxuICAgIC8vIGFsZXJ0IGNsb3NlXHJcbiAgICAkKCcuZm9ybS1zdWJtaXQtZmluaXNoLS1lcnJvciAuY2xvc2UnKS5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coJ2FsZXJ0IGNsb3NlJyk7XHJcbiAgICAgICAgJCgnI3YtcGlsbHMtYWxsLXRhYicpLnRyaWdnZXIoJ2NsaWNrJyk7XHJcbiAgICAgICAgd2luZG93LlB1YlN1Yi5wdWJsaXNoKENPTlNULmV2ZW50cy50YXNrcy5ORVdfVEFTS19DUkVBVEVEKTtcclxuICAgICAgICByZW1vdmVFeHRyYVRleHRGaWVsZHMoKTtcclxuICAgIH0pO1xyXG5cclxuICAgIC8vIHRhYnMuaW5pdChmaWxsTGlzdFVzZXJzKTtcclxuICAgIGluaXRMb2dzVGFiKCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHNldFVzZXJOYW1lKHN0YXRlKSB7XHJcbiAgICAvLyBjb25zb2xlLmxvZygnZ2V0VGFza3NEYXRhJywgc3RhdGUudXNlcm5hbWUpO1xyXG4gICAgdXNlcm5hbWVTZWxlY3RlZCA9IHN0YXRlLnVzZXJuYW1lO1xyXG59XHJcblxyXG5mdW5jdGlvbiBzdGVwUmVkdWNlcihzdGVwTnVtYmVyLCBzdGF0ZSkge1xyXG4gICAgc3dpdGNoIChzdGVwTnVtYmVyKSB7XHJcbiAgICAgICAgY2FzZSAwOlxyXG4gICAgICAgICAgICBzZXRVc2VyTmFtZShzdGF0ZSk7XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHN0YXRlLCBzdGVwTnVtYmVyKTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ2RlZmF1bHQnLCBzdGVwTnVtYmVyKTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGluaXQoKSB7XHJcbiAgICBpZiAoJChjbHNDb25zdC5jdXJyZW50UGFnZUNscykubGVuZ3RoKSB7XHJcbiAgICAgICAgY29uc3Qgd2l6YXJkQ2ZnID0ge1xyXG4gICAgICAgICAgICBzdGVwUmVkdWNlcixcclxuICAgICAgICAgICAgb25TdWJtaXRIYW5kbGVyXHJcbiAgICAgICAgfTtcclxuICAgICAgICB3aXphcmRGb3JtLmluaXQod2l6YXJkQ2ZnKTtcclxuICAgICAgICBpbml0SGFuZGxlcnMoKTtcclxuICAgICAgICBhdXRvY29tbWVudHNTdGF0dXMuaW5pdCgpO1xyXG4gICAgICAgIC8vIGluaXRUYWdzSW5wdXQoJy5ibGFja2xpc3QtYm94IGlucHV0Jyk7XHJcblxyXG4gICAgICAgIHdpbmRvdy5QdWJTdWIuc3Vic2NyaWJlKENPTlNULmV2ZW50cy5pbnN0YWdyYW1BY2NvdW5zLklOU1RBR1JBTV9BQ0NPVU5TX1JFTkRFUkVEX0xBWlksIChlLCBhY2NvdW50cykgPT4ge1xyXG4gICAgICAgICAgICBsb2dzLmluaXQoc2VsZWN0Q2xzLCBjbHNDb25zdCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy8gd2luZG93LlB1YlN1Yi5zdWJzY3JpYmUoQ09OU1QuZXZlbnRzLmF1dG9hcm5zd2VyLklNQUdFX1VQTE9BREVELCAoZSwgcmVzKSA9PiB7XHJcbiAgICAgICAgLy8gICAgIGNvbnN0IHtyZXNwb25zZX0gPSByZXM7XHJcbiAgICAgICAgLy8gICAgIGNvbnN0IHJlc3VsdCA9IChyZXNwb25zZS5sZW5ndGgpID8gSlNPTi5wYXJzZShyZXNwb25zZSkgOiAnJztcclxuICAgICAgICAvLyAgICAgY29uc3QgaW1hZ2VJZCA9IHJlc3VsdCAmJiByZXN1bHQuZGF0YSAmJiByZXN1bHQuZGF0YS5pbWFnZV9pZDtcclxuICAgICAgICAvLyAgICAgJChyZXMuZWwpLmNsb3Nlc3QoJy5maWxlLXVwbG9hZCcpLmF0dHIoJ2F0dGFjaGVkLWltZy1pZCcsIGltYWdlSWQpO1xyXG4gICAgICAgIC8vICAgICBjb25zb2xlLmxvZygnaW1hZ2VfbG9hZGVkJywgcmVzKTtcclxuICAgICAgICAvL1xyXG4gICAgICAgIC8vICAgICAvLyB0b2RvOiBtYWtlIGFzIGNhbGxCYWNrXHJcbiAgICAgICAgLy8gICAgIGNvbnN0ICRpbWFnZUJveCA9ICQocmVzLmVsKS5jbG9zZXN0KCcuY29sJykuZmluZCgnLmpzX3VwbG9hZGVkLWltZy1mcm9tLXBvc3RzJyk7XHJcbiAgICAgICAgLy8gICAgIGlmICgkaW1hZ2VCb3gubGVuZ3RoKSB7XHJcbiAgICAgICAgLy8gICAgICAgICAkaW1hZ2VCb3gucmVtb3ZlKCk7XHJcbiAgICAgICAgLy8gICAgIH1cclxuICAgICAgICAvLyB9KTtcclxuICAgICAgICAvLyB3aW5kb3cuUHViU3ViLnN1YnNjcmliZShDT05TVC5ldmVudHMubW9kYWwuSU1BR0VfUE9TVF9TRUxFQ1RFRCwgKGUsIGRhdGEpID0+IHtcclxuICAgICAgICAvLyAgICAgY29uc3QgJGltYWdlQm94ID0gJChkYXRhLmNsb3Nlc3RDb2wpLmZpbmQoJy5maWxlLXVwbG9hZC1jb250ZW50Jyk7XHJcbiAgICAgICAgLy8gICAgIGNvbnNvbGUubG9nKCckaW1hZ2VCb3gnLCAkaW1hZ2VCb3gpO1xyXG4gICAgICAgIC8vICAgICBpZiAoJGltYWdlQm94Lmxlbmd0aCkge1xyXG4gICAgICAgIC8vICAgICAgICAgJGltYWdlQm94LmhpZGUoKTtcclxuICAgICAgICAvLyAgICAgfVxyXG4gICAgICAgIC8vIH0pO1xyXG4gICAgICAgIGluaXRFbW9qaWkoKTtcclxuICAgIH1cclxufVxyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvYmxvY2tzL2F1dG9jb21tZW50cy9hdXRvY29tbWVudHMtaW5kZXguanMiLCJpbXBvcnQge0NPTlNUfSBmcm9tICcuLi8uLi9jb21tb24vanMtc2VydmljZXMvY29uc3RzJztcclxuaW1wb3J0IHtnZXRUYXNrc0RhdGF9IGZyb20gJy4uL19zaGFyZWQvdGFzay1zdGF0dXMvdGFzay1zdGF0dXMnO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGluaXQoKSB7XHJcbiAgICBpZiAoJCgnLmF1dG9jb21tZW50cy1wYWdlJykubGVuZ3RoKSB7XHJcbiAgICAgICAgY29uc3QgcGF0aCA9IHtcclxuICAgICAgICAgICAgdHlwZTogQ09OU1QudXJsLnRtVHlwZXMuYXV0b2NvbW1lbnRzVCxcclxuICAgICAgICAgICAgc3VidHlwZTogQ09OU1QudXJsLnRtVHlwZXMuYXV0b2NvbW1lbnRzU3ViVFswXVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgY29uc3Qgd3JhcHBlcnMgPSB7XHJcbiAgICAgICAgICAgICRydW5zOiAkKCcudGFza3MtcnVucycpLFxyXG4gICAgICAgICAgICAkc3RvcHBlZDogJCgnLnRhc2tzLXN0b3BwZWQnKSxcclxuICAgICAgICAgICAgJGFsbDogJCgnLnRhc2tzLWFsbCcpXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgLy8gdGFzay1zdGF0dXMgaGFzIG9uZSBzdWJ0eXBlLCBzbyBkbyBub3QgYWRkIGRyb3Bkb3duXHJcbiAgICAgICAgLy8gcmVuZGVyIHN0YXR1cyBkcm9wZG93blxyXG4gICAgICAgIC8vIGNvbnN0IHRleHRSdXNBcnJheSA9IFsn0J/QviBERUZBVUxUX0FVVE9fQU5TV0VSJ107XHJcbiAgICAgICAgLy8gZHJvcERvd24uYWRkRHJvcGRvd24obG9nc1N0YXRlU3RhdHVzLndyYXBwZXJTdWJ0eXBlLCBDT05TVC51cmwudG1UeXBlcy5zdG9yaWVzU3ViVCwge2xvZ3NTdGF0ZTogbG9nc1N0YXRlU3RhdHVzLCBkcm9wZG93bk9uU2VsZWN0Q2IsIHRleHRSdXNBcnJheX0pO1xyXG5cclxuICAgICAgICBnZXRUYXNrc0RhdGEod3JhcHBlcnMsIHBhdGgpO1xyXG4gICAgICAgIC8vIHdpbmRvdy5QdWJTdWIuc3Vic2NyaWJlKENPTlNULmV2ZW50cy5pbnN0YWdyYW1BY2NvdW5zLklOU1RBR1JBTV9BQ0NPVU5TX1JFTkRFUkVELCAoZXZlbnROYW1lLCBkYXRhKSA9PiB7XHJcbiAgICAgICAgLy8gICAgIGdldFRhc2tzRGF0YSh3cmFwcGVycywgcGF0aCk7XHJcbiAgICAgICAgLy8gICAgIGNvbnNvbGUubG9nKCcqKmFuc3dlci1zdGF0dXMnLCBldmVudE5hbWUsIGRhdGEpO1xyXG4gICAgICAgIC8vIH0pO1xyXG4gICAgICAgIHdpbmRvdy5QdWJTdWIuc3Vic2NyaWJlKENPTlNULmV2ZW50cy50YXNrcy5ORVdfVEFTS19DUkVBVEVELCAoZXZlbnROYW1lLCBkYXRhKSA9PiB7XHJcbiAgICAgICAgICAgIGdldFRhc2tzRGF0YSh3cmFwcGVycywgcGF0aCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuXHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9ibG9ja3MvYXV0b2NvbW1lbnRzL2F1dG9jb21tZW50cy1zdGF0dXMuanMiLCJleHBvcnQgY29uc3QgdHBsVGV4dEZpZWxkR3JlZXQgPSAobWFpbkNscykgPT5cclxuJChgPGRpdiBjbGFzcz1cIiR7bWFpbkNsc31cIj5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwicm93XCI+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2xcIj5cclxuICAgICAgICAgICAgICAgIDxkaXY+ICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIDx0ZXh0YXJlYSBjbGFzcz1cImZvcm0tY29udHJvbCBhbnN3ZXItd29yZHNcIiByb3dzPVwiNFwiIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhLWVtb2ppLXBpY2tlcj1cInRydWVcIiBwbGFjZWhvbGRlcj1cItCS0LLQtdC00LjRgtC1INGB0L7QvtCx0YnQtdC90LjQtVwiPjwvdGV4dGFyZWE+ICAgIFxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgICAgICAgICAgPCEtLSBmaWxlLXVwbG9hZCAtLT5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmaWxlLXVwbG9hZC1idG4tYm94XCIgZGF0YS10b2dnbGU9XCJ0b29sdGlwXCIgZGF0YS1wbGFjZW1lbnQ9XCJ0b3BcIiB0aXRsZT1cItCU0L7QsdCw0LLQuNGC0Ywg0LjQt9C+0LHRgNCw0LbQtdC90LjQtVwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJmaWxlLXVwbG9hZC1idG4gYnRuIGJ0bi1zdWNjZXNzXCIgdHlwZT1cImJ1dHRvblwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz1cImZhciBmYS1pbWFnZSBmYS1sZ1wiPjwvaT5cclxuICAgICAgICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgICAgICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiYnRuIGJ0bi1zdWNjZXNzIHBvc3QtdXBsb2FkLWJ0biBqc19hdXRvbWVzc2FnZXMtYWRkLXBvc3RcIlxyXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlPVwi0JTQvtCx0LDQstC40YLRjCDQv9GD0LHQu9C40LrQsNGG0LjRjlwiXHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YS10b2dnbGU9XCJ0b29sdGlwXCJcclxuICAgICAgICAgICAgICAgICAgICBkYXRhLXBsYWNlbWVudD1cInRvcFwiXHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YS1wb3N0LWluZm89XCJ0b2RvOiBnZXQgcmVxIHRvIHVzZXI6IFwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwianNfb3Blbi1wb3N0cy1ncmlkTW9kYWxcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhLWNvbnRhaW5lcj1cImJvZHlcIiBkYXRhLXRvZ2dsZT1cInBvcG92ZXJcIiBkYXRhLXBsYWNlbWVudD1cImJvdHRvbVwiIGRhdGEtY29udGVudD1cItCjINGC0LXQutGD0YnQtdCz0L4g0LDQutC60LDRg9C90YLQsCDQvdC10YIg0L3QuCDQvtC00L3QvtCz0L4g0L/QvtGB0YLQsFwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzPVwiZmFyIGZhLWltYWdlcyBmYS1sZ1wiPjwvaT5cclxuICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm10LTJcIj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmlsZS11cGxvYWRcIj5cclxuICAgICAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJpbWFnZS11cGxvYWQtd3JhcFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgY2xhc3M9XCJmaWxlLXVwbG9hZC1pbnB1dFwiIHR5cGU9XCJmaWxlXCIgYWNjZXB0PVwiLmpwZywgLmpwZWdcIj5cclxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZpbGUtdXBsb2FkLWNvbnRlbnRcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGltZyBjbGFzcz1cImZpbGUtdXBsb2FkLWltYWdlXCIgc3JjPVwiI1wiIGFsdD1cInlvdXIgaW1hZ2VcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImltYWdlLXRpdGxlLXdyYXBcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cInJlbW92ZS1pbWFnZSBidG4gYnRuLXdhcm5pbmdcIj7Qo9C00LDQu9C40YLRjCA8c3BhbiBjbGFzcz1cImltYWdlLXRpdGxlXCI+0JfQsNCz0YDRg9C30LjRgtGMPC9zcGFuPjwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgPC9kaXY+YCk7XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9ibG9ja3MvYXV0b2dyZWV0aW5nL2FkZEdyZWV0VGVtcGxhdGUuanMiLCJpbXBvcnQge0NPTlNUfSBmcm9tICcuLi8uLi9jb21tb24vanMtc2VydmljZXMvY29uc3RzJztcclxuaW1wb3J0ICogYXMgd2l6YXJkRm9ybSBmcm9tICcuLi8uLi9ibG9ja3Mvd2l6YXJkLWZvcm0vd2l6YXJkLWZvcm0nO1xyXG5pbXBvcnQgVXNlclRhc2tNYW5hZ2VyIGZyb20gJy4uLy4uL2NvbW1vbi9qcy1zZXJ2aWNlcy9hcGktdGFzay1tYW5hZ2VyJztcclxuaW1wb3J0ICogYXMgdGFicyBmcm9tICcuLi9fc2hhcmVkL3RlYnMtcGlscy90YWJzJztcclxuaW1wb3J0ICogYXMgY2hhdEJvdFN0YXR1cyBmcm9tICcuL2F1dG9ncmVldGluZy1zdGF0dXMnO1xyXG5pbXBvcnQgKiBhcyBsb2dzIGZyb20gJy4uL19zaGFyZWQvbG9ncy9sb2dzJztcclxuaW1wb3J0IHtlbW9qaX0gZnJvbSAnLi4vLi4vY29tbW9uL2pzLXNlcnZpY2VzL2Vtb2ppJztcclxuaW1wb3J0ICogYXMgaW1hZ2VVcGxvYWQgZnJvbSAnLi4vX3NoYXJlZC9pbWFnZS11cGxvYWQvaW1hZ2UtdXBsb2FkJztcclxuaW1wb3J0IHtnZXRQb3N0c30gZnJvbSAnLi4vX3NoYXJlZC9nZXRQb3N0c01vZGFsL3V0aWxzLW1vZGFsJztcclxuaW1wb3J0IHt0cGxUZXh0RmllbGRHcmVldH0gZnJvbSAnLi9hZGRHcmVldFRlbXBsYXRlJztcclxuXHJcbmxldCB1c2VybmFtZVNlbGVjdGVkID0gJyc7XHJcbmNvbnN0IHNlbGVjdENscyA9ICdqc19sb2dzLWFjY291bnRzJztcclxuY29uc3Qgc3BlZWRUeXBlID0gJy5qc19hdXRvZ3JlZXRpbmctc3BlZWQnO1xyXG5jb25zdCBjbHNDb25zdCA9IHtcclxuICAgIGN1cnJlbnRQYWdlQ2xzOiAnLmF1dG9ncmVldGluZy1wYWdlJyxcclxuICAgIHRhc2tzTGlzdDogJy5sb2ctdGFza3MnLFxyXG4gICAgbG9nc1RhYkJ0bjogJyN2LXBpbGxzLWxvZ3MtdGFiJyxcclxuICAgIHBhZ2luYXRpb246ICcubG9ncy1wYWdpbmF0aW9uJyxcclxuICAgIHBhZ2luYXRpb25QZ051bWJlcjogJy5wYWdlLW51bWJlcicsXHJcbiAgICBwYXRoVHlwZTogQ09OU1QudXJsLnRtVHlwZXMuYXV0b2dyZWV0VCxcclxuICAgIHBhdGhTdWJUeXBlOiBDT05TVC51cmwudG1UeXBlcy5hdXRvZ3JlZXRTdWJUWzBdXHJcbn07XHJcbmNvbnN0IGVsU2VsZWN0b3IgPSB7XHJcbiAgICBmaWVsZHM6ICcuYXV0b2dyZWV0aW5nLXRleHQtZmllbGRzJyxcclxuICAgIGZpbGVVcGxvYWRCb3g6ICcuZmlsZS11cGxvYWQnXHJcbn07XHJcbmNvbnN0IHN0YXRlID0ge1xyXG4gICAgdXNlcl9kZWZhdWx0X2NvbmZpZzoge1xyXG4gICAgICAgIHRhc2tfbW9kZTogJ1NBRkUnXHJcbiAgICB9XHJcbn07XHJcblxyXG5mdW5jdGlvbiBvblN1Ym1pdEhhbmRsZXIoZSkge1xyXG4gICAgY29uc3QgZmllbGRzID0gJChlbFNlbGVjdG9yLmZpZWxkcyk7XHJcbiAgICBjb25zdCByZXFCb2R5ID0gW107XHJcbiAgICBjb25zdCBnZXRBdHRhY2htZW50ID0gKGl0ZW0pID0+IHtcclxuICAgICAgICBjb25zdCBpbWFnZUlkID0gJChpdGVtKS5maW5kKGVsU2VsZWN0b3IuZmlsZVVwbG9hZEJveCkuYXR0cignYXR0YWNoZWQtaW1nLWlkJyk7XHJcbiAgICAgICAgY29uc3QgJGltYWdlUG9zdEJveCA9ICQoaXRlbSkuZmluZCgnLmpzX3VwbG9hZGVkLWltZy1mcm9tLXBvc3RzJyk7XHJcbiAgICAgICAgY29uc3QgcG9zdEl0ZW1JZCA9ICRpbWFnZVBvc3RCb3guZGF0YSgncG9zdElkJyk7XHJcbiAgICAgICAgY29uc3QgcG9zdEl0ZW1UeXBlID0gJGltYWdlUG9zdEJveC5kYXRhKCdwb3N0VHlwZScpO1xyXG4gICAgICAgIGNvbnN0IHBvc3QgPSB7XHJcbiAgICAgICAgICAgIGlkOiBwb3N0SXRlbUlkLFxyXG4gICAgICAgICAgICB0eXBlOiBwb3N0SXRlbVR5cGUgfHwgJ3R5cGUtZXJyb3InXHJcbiAgICAgICAgfTtcclxuICAgICAgICBsZXQgYXR0YWNobWVudCA9IG51bGw7XHJcblxyXG4gICAgICAgIGlmIChwb3N0SXRlbUlkKSB7XHJcbiAgICAgICAgICAgIGF0dGFjaG1lbnQgPSB7cG9zdH07XHJcbiAgICAgICAgfSBlbHNlIGlmIChpbWFnZUlkKSB7XHJcbiAgICAgICAgICAgIGF0dGFjaG1lbnQgPSB7J2ltYWdlX2lkJzogaW1hZ2VJZH07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBhdHRhY2htZW50O1xyXG4gICAgfTtcclxuICAgIGZpZWxkcy5lYWNoKChpZHgsIGl0ZW0pID0+IHtcclxuICAgICAgICBjb25zdCBtZXNzYWdlID0gJChpdGVtKS5maW5kKCd0ZXh0YXJlYS5hbnN3ZXItd29yZHMnKS52YWwoKTtcclxuICAgICAgICAvLyBjb25zdCBpbWFnZUlkID0gJChpdGVtKS5maW5kKGVsU2VsZWN0b3IuZmlsZVVwbG9hZEJveCkuYXR0cignYXR0YWNoZWQtaW1nLWlkJyk7XHJcbiAgICAgICAgLy8gY29uc3QgJGltYWdlUG9zdEJveCA9ICQoaXRlbSkuZmluZCgnLmpzX3VwbG9hZGVkLWltZy1mcm9tLXBvc3RzJyk7XHJcbiAgICAgICAgLy8gY29uc3QgcG9zdEl0ZW1JZCA9ICRpbWFnZVBvc3RCb3guZGF0YSgncG9zdElkJyk7XHJcbiAgICAgICAgLy8gY29uc3QgcG9zdEl0ZW1UeXBlID0gJGltYWdlUG9zdEJveC5kYXRhKCdwb3N0VHlwZScpO1xyXG4gICAgICAgIC8vIGNvbnN0IHBvc3QgPSB7XHJcbiAgICAgICAgLy8gICAgIGlkOiBwb3N0SXRlbUlkLFxyXG4gICAgICAgIC8vICAgICB0eXBlOiBwb3N0SXRlbVR5cGUgfHwgJ3R5cGUtZXJyb3InXHJcbiAgICAgICAgLy8gfTtcclxuXHJcbiAgICAgICAgLy8gaWYgKHBvc3RJdGVtSWQpIHtcclxuICAgICAgICAvLyAgICAgYXR0YWNobWVudCA9IHtwb3N0fTtcclxuICAgICAgICAvLyB9IGVsc2UgaWYgKGltYWdlSWQpIHtcclxuICAgICAgICAvLyAgICAgYXR0YWNobWVudCA9IHsnaW1hZ2VfaWQnOiBpbWFnZUlkfTtcclxuICAgICAgICAvLyB9XHJcblxyXG4gICAgICAgIGNvbnN0IGF0dGFjaG1lbnRJbWcgPSBnZXRBdHRhY2htZW50KGl0ZW0pO1xyXG4gICAgICAgIHJlcUJvZHkucHVzaCh7XHJcbiAgICAgICAgICAgICdhbnN3ZXInOiBtZXNzYWdlLFxyXG4gICAgICAgICAgICAnYXR0YWNobWVudCc6IChhdHRhY2htZW50SW1nKSA/IGF0dGFjaG1lbnRJbWcgOiB1bmRlZmluZWRcclxuICAgICAgICB9KTtcclxuICAgIH0pO1xyXG4gICAgY29uc3QgblJlcUJvZHkgPSB7XHJcbiAgICAgICAgJ3VzZXJuYW1lJzogdXNlcm5hbWVTZWxlY3RlZCB8fCAndGhlX3Jvc3R5c2xhdicsXHJcbiAgICAgICAgJ3R5cGUnOiBDT05TVC51cmwudG1UeXBlcy5hdXRvZ3JlZXRULFxyXG4gICAgICAgICdzdWJ0eXBlJzogQ09OU1QudXJsLnRtVHlwZXMuYXV0b2dyZWV0U3ViVFswXSxcclxuICAgICAgICAndXNlcl9kZWZhdWx0X2NvbmZpZyc6IHtcclxuICAgICAgICAgICAgJ3Rhc2tfbW9kZSc6IHN0YXRlLnVzZXJfZGVmYXVsdF9jb25maWcudGFza19tb2RlIC8vIHRvZG9cclxuICAgICAgICB9LFxyXG4gICAgICAgICd1c2VyX2N1c3RvbV9jb25maWcnOiB7XHJcbiAgICAgICAgICAgICdmb3Jtcyc6IHJlcUJvZHlcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgY29uc29sZS5sb2coJ21ha2UgcmVxdWVzdCAqKicsIG5SZXFCb2R5KTtcclxuICAgIGZ1bmN0aW9uIGNiRXJyb3IocmVzKSB7XHJcbiAgICAgICAgY29uc3QgbXNnID0gcmVzLnN0YXR1cy5tZXNzYWdlO1xyXG4gICAgICAgICQoJy5mb3JtLXN1Ym1pdC1maW5pc2gtLWVycm9yJykuYWRkQ2xhc3MoJ2QtYmxvY2snKVxyXG4gICAgICAgIC5maW5kKCcuYWxlcnQnKS5hcHBlbmQoYDxwPiR7bXNnfTwvcD5gKTtcclxuICAgIH1cclxuICAgIFVzZXJUYXNrTWFuYWdlci5wb3N0U3RhcnRUYXNrKG5SZXFCb2R5LCBjYkVycm9yKS50aGVuKChyZXN1bHQpID0+IHtcclxuICAgICAgICBjb25zb2xlLmxvZygncG9zdEJvdCcpO1xyXG4gICAgICAgIGlmIChyZXN1bHQuc3RhdHVzLnN0YXRlID09PSAnb2snKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKEpTT04uc3RyaW5naWZ5KHJlc3VsdCkpO1xyXG4gICAgICAgICAgICAkKCcuZm9ybS1zdWJtaXQtZmluaXNoJykuZmluZCgnLmFsZXJ0IHAnKS5yZW1vdmUoKTtcclxuICAgICAgICAgICAgJCgnLmZvcm0tc3VibWl0LWZpbmlzaCcpLmFkZENsYXNzKCdkLWJsb2NrJylcclxuICAgICAgICAgICAgICAgIC5maW5kKCcuYWxlcnQnKS5hcHBlbmQoYDxwPnRhc2tfaWQ6ICR7cmVzdWx0LmRhdGEudGFza19pZH08L3A+YCk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbn1cclxuXHJcbi8vIGZ1bmN0aW9uIGZpbGxMaXN0VXNlcnMoJHdyYXBwZXIsIGRhdGEpIHtcclxuLy8gICAgICR3cmFwcGVyLmVtcHR5KCkuYWRkQ2xhc3MoJ2JvcmRlci1saWdodC1jb2xvcicpO1xyXG4vLyAgICAgJChgPGRpdiBjbGFzcz1cIlwiPtCU0L7RgdGC0YPQv9C90YvQtSDQsNC60LrQsNGD0L3RgtGLPC9kaXY+PHNlbGVjdCBuYW1lPVwidGFzay10eXBlXCIgY2xhc3M9XCIke3NlbGVjdENsc31cIj48L3NlbGVjdD5gKS5hcHBlbmRUbygkd3JhcHBlcik7XHJcbi8vICAgICBkYXRhLmZvckVhY2goKG5hbWUpID0+IHtcclxuLy8gICAgICAgICAkKGA8b3B0aW9uIGNsYXNzPVwibGlzdC1ncm91cC1pdGVtIHB5LTJcIiB2YWx1ZT1cIiR7bmFtZX1cIj5cclxuLy8gICAgICAgICAgICAgJHtuYW1lfVxyXG4vLyAgICAgICAgIDwvb3B0aW9uPmApLmFwcGVuZFRvKCQoYC4ke3NlbGVjdENsc31gKSk7XHJcbi8vICAgICB9KTtcclxuLy8gICAgICQoYC4ke3NlbGVjdENsc31gKS5vbignY2hhbmdlJywgZnVuY3Rpb24gKCkge1xyXG4vLyAgICAgICAgIHVzZXJuYW1lU2VsZWN0ZWQgPSAkKGAuJHtzZWxlY3RDbHN9IG9wdGlvbjpzZWxlY3RlZGApLnZhbCgpO1xyXG4vLyAgICAgICAgIGNvbnNvbGUubG9nKHVzZXJuYW1lU2VsZWN0ZWQpO1xyXG4vLyAgICAgICAgIGxvZ3MuaW5pdChzZWxlY3RDbHMsIGNsc0NvbnN0KTtcclxuLy8gICAgIH0pO1xyXG4vLyB9XHJcblxyXG5jb25zdCBsb2dzU3RhdGUgPSBDT05TVC5sb2dzU3RhdGU7XHJcbmZ1bmN0aW9uIGluaXRMb2dzVGFiKCkge1xyXG4gICAgZnVuY3Rpb24gT25DaGFuZ2VTZWxlY3QoKSB7XHJcbiAgICAgICAgY29uc3Qge3NlbGVjdENsc30gPSBsb2dzU3RhdGU7XHJcbiAgICAgICAgJChgLiR7c2VsZWN0Q2xzfWApLm9uKCdjaGFuZ2UnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHVzZXJuYW1lU2VsZWN0ZWQgPSAkKGAuJHtzZWxlY3RDbHN9IG9wdGlvbjpzZWxlY3RlZGApLnZhbCgpO1xyXG4gICAgICAgICAgICAvLyBjbHNDb25zdC5wYXRoU3ViVHlwZSA9IGxvZ3NTdGF0ZS5hY3RpdmVTdWJUeXBlO1xyXG4gICAgICAgICAgICBsb2dzLmluaXQoc2VsZWN0Q2xzLCBjbHNDb25zdCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICAvLyBhZGREcm9wZG93bigkKGxvZ3NTdGF0ZS53cmFwcGVyU3VidHlwZSksIGxvZ3NTdWJ0eXBlcywge2xvZ3NTdGF0ZSwgZHJvcGRvd25PblNlbGVjdENifSk7XHJcbiAgICB0YWJzLmluaXQoT25DaGFuZ2VTZWxlY3QsIGxvZ3NTdGF0ZSk7IC8vIG1ha2VzIGRvdWJsZSByZXF1ZXN0IDogT1BUSU9OIGFuZCBHRVRcclxufVxyXG5cclxuZnVuY3Rpb24gaW5pdEVtb2ppaSgpIHtcclxuICAgIGVtb2ppKHtcclxuICAgICAgICBwYWdlOiBjbHNDb25zdC5jdXJyZW50UGFnZUNscyxcclxuICAgICAgICBzdHlsZXM6IHtvbGQ6ICdib3R0b206IDMwcHg7JywgbmV3OiAndG9wOiAtMjEwcHg7J31cclxuICAgIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiByZW1vdmVFeHRyYVRleHRGaWVsZHMoKSB7XHJcbiAgICAkKGAke2VsU2VsZWN0b3IuZmllbGRzfTpub3QoOmZpcnN0LWNoaWxkKWApLnJlbW92ZSgpO1xyXG59XHJcblxyXG4vKiBUT0RPOiByZWZhY3RvciAtPiBtb3ZlIGluaXRNb2RhbEhhbmRsZXIgdG8gc2VwYXJhdGUgZmlsZSAqL1xyXG5sZXQgdGFyZ2V0QnV0dG9uID0ge307XHJcblxyXG5mdW5jdGlvbiBsb2FkTW9yZUhhbmRsZXIoZ2V0UG9zdHMpIHtcclxuICAgICQoJyNsb2FkLW1vcmUnKS5vbignY2xpY2snLCAoZSkgPT4ge1xyXG4gICAgICAgIGNvbnN0ICRidG4gPSAkKGUudGFyZ2V0KTtcclxuICAgICAgICBjb25zdCBjdXJzb3IgPSAkYnRuLmF0dHIoJ2N1cnNvcicpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdsb2FkIG1vcmUgY2xpY2snKTtcclxuICAgICAgICBnZXRQb3N0cyhudWxsLCB7dXNlck5hbWU6IHVzZXJuYW1lU2VsZWN0ZWQsIGN1cnNvcn0sIHtsb2FkTW9yZUhhbmRsZXI6IHRoaXMsIHRhcmdldEJ1dHRvbn0pO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGluaXRNb2RhbEhhbmRsZXIoKSB7XHJcbiAgICAkKCcuanNfb3Blbi1wb3N0cy1ncmlkTW9kYWwnKS5vbignY2xpY2snLCBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICB0YXJnZXRCdXR0b24gPSAkKHRoaXMpOyAvLyBCdXR0b24gdGhhdCB0cmlnZ2VyZWQgdGhlIG1vZGFsXHJcbiAgICAgICAgLy8gVXBkYXRlIHRoZSBtb2RhbCdzIGNvbnRlbnRcclxuICAgICAgICBjb25zdCBtb2RhbCA9ICQoJyNwb3N0c0dyaWRNb2RhbCcpO1xyXG4gICAgICAgIGdldFBvc3RzKG1vZGFsLCB7dXNlck5hbWU6IHVzZXJuYW1lU2VsZWN0ZWR9LCB7bG9hZE1vcmVIYW5kbGVyLCB0YXJnZXRCdXR0b259KTtcclxuICAgICAgICBtb2RhbC5maW5kKCcubW9kYWwtdGl0bGUnKS50ZXh0KCfQn9GD0LHQu9C40LrQsNGG0LjQuCcpO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbi8qIFRPRE86IHJlZmFjdG9yIC0+IG1vdmUgaW5pdE1vZGFsSGFuZGxlciB0byBzZXBhcmF0ZSBmaWxlIEVORCovXHJcblxyXG4vKipcclxuICogSW5pdCBoZWFkZXJcclxuICovXHJcbmZ1bmN0aW9uIGluaXRIYW5kbGVycygpIHtcclxuICAgIC8vIFRPRE86IHJlZmFjdG9yIHdpdGggYXV0b2dyZWV0LmpzIGluaXRIYW5kbGVyc1xyXG4gICAgJCgnLmpzX2FkZC1hdXRvbWVzc2FnZXMnKS5vbignY2xpY2snLCAoZSkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGxhc3RUZXh0RmllbGQgPSAkKGVsU2VsZWN0b3IuZmllbGRzKS5sYXN0KCk7XHJcbiAgICAgICAgdHBsVGV4dEZpZWxkR3JlZXQoZWxTZWxlY3Rvci5maWVsZHMuc3Vic3RyKDEpKS5pbnNlcnRBZnRlcihsYXN0VGV4dEZpZWxkKTtcclxuICAgICAgICBpbml0RW1vamlpKCk7XHJcbiAgICAgICAgaW1hZ2VVcGxvYWQuaW5pdCgpO1xyXG4gICAgICAgICQoJ1tkYXRhLXRvZ2dsZT1cInRvb2x0aXBcIl0nKS50b29sdGlwKCk7IC8vIHJlaW5pdFxyXG4gICAgICAgIGluaXRNb2RhbEhhbmRsZXIoKTtcclxuICAgIH0pO1xyXG5cclxuICAgIC8vIGFsZXJ0IGNsb3NlXHJcbiAgICAkKCcuZm9ybS1zdWJtaXQtZmluaXNoIC5jbG9zZScpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBjb25zb2xlLmxvZygnYWxlcnQgY2xvc2UnKTtcclxuICAgICAgICAkKCcjdi1waWxscy1hbGwtdGFiJykudHJpZ2dlcignY2xpY2snKTtcclxuICAgICAgICB3aW5kb3cuUHViU3ViLnB1Ymxpc2goQ09OU1QuZXZlbnRzLnRhc2tzLk5FV19UQVNLX0NSRUFURUQpO1xyXG4gICAgICAgIHJlbW92ZUV4dHJhVGV4dEZpZWxkcygpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gYWxlcnQgY2xvc2VcclxuICAgICQoJy5mb3JtLXN1Ym1pdC1maW5pc2gtLWVycm9yIC5jbG9zZScpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBjb25zb2xlLmxvZygnYWxlcnQgY2xvc2UnKTtcclxuICAgICAgICAkKCcjdi1waWxscy1hbGwtdGFiJykudHJpZ2dlcignY2xpY2snKTtcclxuICAgICAgICB3aW5kb3cuUHViU3ViLnB1Ymxpc2goQ09OU1QuZXZlbnRzLnRhc2tzLk5FV19UQVNLX0NSRUFURUQpO1xyXG4gICAgICAgIHJlbW92ZUV4dHJhVGV4dEZpZWxkcygpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gdGFicy5pbml0KGZpbGxMaXN0VXNlcnMpO1xyXG4gICAgaW5pdExvZ3NUYWIoKTtcclxufVxyXG5cclxuZnVuY3Rpb24gc2V0VXNlck5hbWUoc3RhdGUpIHtcclxuICAgIC8vIGNvbnNvbGUubG9nKCdnZXRUYXNrc0RhdGEnLCBzdGF0ZS51c2VybmFtZSk7XHJcbiAgICB1c2VybmFtZVNlbGVjdGVkID0gc3RhdGUudXNlcm5hbWU7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdldERhdGFTdGVwU3BlZWQoKSB7XHJcblxyXG4gICAgLy8gVE9ETzogcmVmYWN0b3IgZ2V0IGZyb20gLSB2aWV3LmZpbGxSYWRpb0dyb3VwTGlzdFxyXG4gICAgY29uc3QgZmlsbFNwZWVkTGlzdCA9IGZ1bmN0aW9uICgkd3JhcHBlciwgZGF0YSkge1xyXG4gICAgICAgIGNvbnN0IHRhc2tNb2RlcyA9IGRhdGEuY2ZnICYmIGRhdGEuY2ZnLnRhc2tfbW9kZXM7XHJcbiAgICAgICAgY29uc3QgcmFkaW9CdG5SZWR1Y2VyID0gZnVuY3Rpb24gKGl0ZW0sIHZhbCkge1xyXG4gICAgICAgICAgICBzd2l0Y2ggKGl0ZW0pIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ0FHR1JFU1NJVkUnOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgPGlucHV0IHR5cGU9XCJyYWRpb1wiIGlkPVwiJHtpdGVtfVwiIG5hbWU9XCJjdXN0b21SYWRpb1wiIHZhbHVlPVwiJHtpdGVtfVwiIGNsYXNzPVwiY3VzdG9tLWNvbnRyb2wtaW5wdXRcIj5cclxuICAgICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3M9XCJjdXN0b20tY29udHJvbC1sYWJlbFwiIGZvcj1cIiR7aXRlbX1cIj48c3Ryb25nPtCQ0LPRgNC10YHRgdC40LLQvdGL0Lk6PC9zdHJvbmc+ICR7dmFsfSDRgdC+0L7QsdGJ0LXQvdC40Lkg0LIg0YfQsNGBPC9sYWJlbD5gO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnTUlERExFJzpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKGA8aW5wdXQgdHlwZT1cInJhZGlvXCIgaWQ9XCIke2l0ZW19XCIgbmFtZT1cImN1c3RvbVJhZGlvXCIgdmFsdWU9XCIke2l0ZW19XCIgY2xhc3M9XCJjdXN0b20tY29udHJvbC1pbnB1dFwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzcz1cImN1c3RvbS1jb250cm9sLWxhYmVsXCIgZm9yPVwiJHtpdGVtfVwiPjxzdHJvbmc+0KHRgNC10LTQvdC40Lk6PC9zdHJvbmc+ICR7dmFsfSDRgdC+0L7QsdGJ0LXQvdC40Lkg0LIg0YfQsNGBPC9sYWJlbD5gKTtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ1NBRkUnOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgPGlucHV0IHR5cGU9XCJyYWRpb1wiIGlkPVwiJHtpdGVtfVwiIG5hbWU9XCJjdXN0b21SYWRpb1wiIHZhbHVlPVwiJHtpdGVtfVwiIGNsYXNzPVwiY3VzdG9tLWNvbnRyb2wtaW5wdXRcIiBjaGVja2VkPlxyXG4gICAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzcz1cImN1c3RvbS1jb250cm9sLWxhYmVsXCIgZm9yPVwiJHtpdGVtfVwiPjxzdHJvbmc+0JHQtdC30L7Qv9Cw0YHQvdGL0Lk6PC9zdHJvbmc+ICR7dmFsfSDRgdC+0L7QsdGJ0LXQvdC40Lkg0LIg0YfQsNGBPC9sYWJlbD5gO1xyXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coJ2RyYXcgc3BlZWQgcmFkaW9CdG4nKTtcclxuICAgICAgICAkd3JhcHBlci5lbXB0eSgpO1xyXG4gICAgICAgIGZvciAoY29uc3QgaXRlbSBpbiB0YXNrTW9kZXMpIHtcclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ3N0cnVjdHVyZTogJyArIGl0ZW0pO1xyXG4gICAgICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRhc2tNb2RlcywgaXRlbSkpIHtcclxuICAgICAgICAgICAgICAgICQoYDxkaXYgY2xhc3M9XCJjdXN0b20tY29udHJvbCBjdXN0b20tcmFkaW9cIj5cclxuICAgICAgICAgICAgICAgICR7cmFkaW9CdG5SZWR1Y2VyKGl0ZW0sIHRhc2tNb2Rlc1tpdGVtXSl9XHJcbiAgICAgICAgICAgIDwvZGl2PmApLmFwcGVuZFRvKCR3cmFwcGVyKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBjb25zdCBwYXRoID0ge1xyXG4gICAgICAgIHR5cGU6IGNsc0NvbnN0LnBhdGhUeXBlLFxyXG4gICAgICAgIHN1YnR5cGU6IGNsc0NvbnN0LnBhdGhTdWJUeXBlXHJcbiAgICB9O1xyXG4gICAgLy8gZHJhdyBjcml0ZXJpYVxyXG4gICAgVXNlclRhc2tNYW5hZ2VyLmdldERlZmF1bHRDb25maWdzKHBhdGgpLnRoZW4oKHJlc3VsdCkgPT4ge1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCdnZXREZWZhdWx0Q29uZmlncycpO1xyXG4gICAgICAgIGlmIChyZXN1bHQuc3RhdHVzLnN0YXRlID09PSAnb2snKSB7XHJcbiAgICAgICAgICAgIGZpbGxTcGVlZExpc3QoJChzcGVlZFR5cGUpLCByZXN1bHQuZGF0YS5mb3VuZCk7XHJcbiAgICAgICAgICAgIC8vIHNwZWVkIHJhZGlvLWJ0biBncm91cFxyXG4gICAgICAgICAgICAkKGAke3NwZWVkVHlwZX0gaW5wdXRbdHlwZT1yYWRpb11gKS5vbignY2xpY2snLCAoZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdmFsdWUgPSAkKGUudGFyZ2V0KS5hdHRyKCd2YWx1ZScpO1xyXG4gICAgICAgICAgICAgICAgc3RhdGUudXNlcl9kZWZhdWx0X2NvbmZpZy50YXNrX21vZGUgPSB2YWx1ZS50b1VwcGVyQ2FzZSgpO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coc3RhdGUpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gc3RlcFJlZHVjZXIoc3RlcE51bWJlciwgc3RhdGUpIHtcclxuICAgIHN3aXRjaCAoc3RlcE51bWJlcikge1xyXG4gICAgICAgIGNhc2UgMDpcclxuICAgICAgICAgICAgc2V0VXNlck5hbWUoc3RhdGUpO1xyXG4gICAgICAgICAgICBnZXREYXRhU3RlcFNwZWVkKCk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHN0YXRlLCBzdGVwTnVtYmVyKTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhzdGF0ZSwgc3RlcE51bWJlcik7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdkZWZhdWx0Jywgc3RlcE51bWJlcik7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBpbml0KCkge1xyXG4gICAgaWYgKCQoY2xzQ29uc3QuY3VycmVudFBhZ2VDbHMpLmxlbmd0aCkge1xyXG4gICAgICAgIGNvbnN0IHdpemFyZENmZyA9IHtcclxuICAgICAgICAgICAgc3RlcFJlZHVjZXIsXHJcbiAgICAgICAgICAgIG9uU3VibWl0SGFuZGxlclxyXG4gICAgICAgIH07XHJcbiAgICAgICAgd2l6YXJkRm9ybS5pbml0KHdpemFyZENmZyk7XHJcbiAgICAgICAgaW5pdEhhbmRsZXJzKCk7XHJcbiAgICAgICAgY2hhdEJvdFN0YXR1cy5pbml0KGNsc0NvbnN0KTtcclxuICAgICAgICB3aW5kb3cuUHViU3ViLnN1YnNjcmliZShDT05TVC5ldmVudHMuaW5zdGFncmFtQWNjb3Vucy5JTlNUQUdSQU1fQUNDT1VOU19SRU5ERVJFRF9MQVpZLCAoZSwgYWNjb3VudHMpID0+IHtcclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coYWNjb3VudHMpO1xyXG4gICAgICAgICAgICBsb2dzLmluaXQoc2VsZWN0Q2xzLCBjbHNDb25zdCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGluaXRNb2RhbEhhbmRsZXIoKTtcclxuICAgICAgICBpbml0RW1vamlpKCk7XHJcbiAgICAgICAgLy8gaW1hZ2VVcGxvYWQuaW5pdCgpO1xyXG4gICAgICAgIHdpbmRvdy5QdWJTdWIuc3Vic2NyaWJlKENPTlNULmV2ZW50cy5hdXRvYXJuc3dlci5JTUFHRV9VUExPQURFRCwgKGUsIHJlcykgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCB7cmVzcG9uc2V9ID0gcmVzO1xyXG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSAocmVzcG9uc2UubGVuZ3RoKSA/IEpTT04ucGFyc2UocmVzcG9uc2UpIDogJyc7XHJcbiAgICAgICAgICAgIGNvbnN0IGltYWdlSWQgPSByZXN1bHQgJiYgcmVzdWx0LmRhdGEgJiYgcmVzdWx0LmRhdGEuaW1hZ2VfaWQ7XHJcbiAgICAgICAgICAgICQocmVzLmVsKS5jbG9zZXN0KCcuZmlsZS11cGxvYWQnKS5hdHRyKCdhdHRhY2hlZC1pbWctaWQnLCBpbWFnZUlkKTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ2ltYWdlX2xvYWRlZCcsIHJlcyk7XHJcblxyXG4gICAgICAgICAgICAvLyB0b2RvOiBtYWtlIGFzIGNhbGxCYWNrXHJcbiAgICAgICAgICAgIGNvbnN0ICRpbWFnZUJveCA9ICQocmVzLmVsKS5jbG9zZXN0KCcuY29sJykuZmluZCgnLmpzX3VwbG9hZGVkLWltZy1mcm9tLXBvc3RzJyk7XHJcbiAgICAgICAgICAgIGlmICgkaW1hZ2VCb3gubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAkaW1hZ2VCb3gucmVtb3ZlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICB3aW5kb3cuUHViU3ViLnN1YnNjcmliZShDT05TVC5ldmVudHMubW9kYWwuSU1BR0VfUE9TVF9TRUxFQ1RFRCwgKGUsIGRhdGEpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgJGltYWdlQm94ID0gJChkYXRhLmNsb3Nlc3RDb2wpLmZpbmQoJy5maWxlLXVwbG9hZC1jb250ZW50Jyk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCckaW1hZ2VCb3gnLCAkaW1hZ2VCb3gpO1xyXG4gICAgICAgICAgICBpZiAoJGltYWdlQm94Lmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgJGltYWdlQm94LmhpZGUoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9ibG9ja3MvYXV0b2dyZWV0aW5nL2F1dG9ncmVldGluZy1tYWluLmpzIiwiaW1wb3J0IHtDT05TVH0gZnJvbSAnLi4vLi4vY29tbW9uL2pzLXNlcnZpY2VzL2NvbnN0cyc7XHJcbmltcG9ydCB7Z2V0VGFza3NEYXRhfSBmcm9tICcuLi9fc2hhcmVkL3Rhc2stc3RhdHVzL3Rhc2stc3RhdHVzJztcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBpbml0KGNmZykge1xyXG4gICAgaWYgKCQoY2ZnLmN1cnJlbnRQYWdlQ2xzKS5sZW5ndGgpIHtcclxuICAgICAgICBjb25zdCB7cGF0aFR5cGUsIHBhdGhTdWJUeXBlfSA9IGNmZztcclxuICAgICAgICBjb25zdCBwYXRoID0ge1xyXG4gICAgICAgICAgICB0eXBlOiBwYXRoVHlwZSxcclxuICAgICAgICAgICAgc3VidHlwZTogcGF0aFN1YlR5cGV9O1xyXG4gICAgICAgIGNvbnN0IHdyYXBwZXJzID0ge1xyXG4gICAgICAgICAgICAkcnVuczogJCgnLnRhc2tzLXJ1bnMnKSxcclxuICAgICAgICAgICAgJGFsbDogJCgnLnRhc2tzLWFsbCcpXHJcbiAgICAgICAgfTtcclxuICAgICAgICBnZXRUYXNrc0RhdGEod3JhcHBlcnMsIHBhdGgpO1xyXG4gICAgICAgIHdpbmRvdy5QdWJTdWIuc3Vic2NyaWJlKENPTlNULmV2ZW50cy50YXNrcy5ORVdfVEFTS19DUkVBVEVELCAoZXZlbnROYW1lLCBkYXRhKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdnZXRUYXNrc0RhdGEgKipORVdfVEFTS19DUkVBVEVEKionLCBldmVudE5hbWUsIGRhdGEpO1xyXG4gICAgICAgICAgICBnZXRUYXNrc0RhdGEod3JhcHBlcnMsIHBhdGgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59XHJcblxyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvYmxvY2tzL2F1dG9ncmVldGluZy9hdXRvZ3JlZXRpbmctc3RhdHVzLmpzIiwiZXhwb3J0IGNvbnN0IHRwbFRleHRGaWVsZCA9IChtYWluQ2xzKSA9PlxyXG4kKGA8ZGl2IGNsYXNzPVwiJHttYWluQ2xzfSBtdC0yXCI+XHJcbiAgICA8ZGl2IGNsYXNzPVwicm93XCI+XHJcbiAgICAgICAgPGRpdiBjbGFzcz1cImNvbFwiPlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwianNfdGFnc2lucHV0LWJveFwiPlxyXG4gICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgcGxhY2Vob2xkZXI9XCLQktCy0LXQtNC40YLQtSDQutC70Y7Rh9C10LLRi9C1INGB0LvQvtCy0LBcIiB2YWx1ZT1cIlwiIGRhdGEtcm9sZT1cInRhZ3NpbnB1dFwiIGNsYXNzPVwiZm9ybS1jb250cm9sIGFuc3dlci13b3JkcyBtYi0yXCIgLz5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJqc190YWdzaW5wdXQtYm94IGJsYWNrbGlzdC1ib3ggbXktMlwiPlxyXG4gICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgcGxhY2Vob2xkZXI9XCLQktCy0LXQtNC40YLQtSDQvNC40L3Rg9GBINGB0LvQvtCy0LBcIiB2YWx1ZT1cIlwiIGRhdGEtcm9sZT1cInRhZ3NpbnB1dFwiIGNsYXNzPVwiZm9ybS1jb250cm9sIGJsYWNrbGlzdC13b3Jkc1wiIC8+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJjb2xcIj5cclxuICAgICAgICAgICAgPHRleHRhcmVhIGNsYXNzPVwiZm9ybS1jb250cm9sIGFuc3dlci1tZXNzYWdlc1wiIHJvd3M9XCI0XCJcclxuICAgICAgICAgICAgICAgIGRhdGEtZW1vamktcGlja2VyPVwidHJ1ZVwiIHN0eWxlPVwicGFkZGluZzogMC4yNXJlbSAxLjc1cmVtIDAuMjVyZW0gMC4yNXJlbTsgd2lkdGg6IDEwMCU7bWluLWhlaWdodDogNDJweDtcIlxyXG4gICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCLQktCy0LXQtNC40YLQtSDRgdC+0L7QsdGJ0LXQvdC40LVcIlxyXG4gICAgICAgICAgICA+PC90ZXh0YXJlYT5cclxuICAgICAgICAgICAgPCEtLSBmaWxlLXVwbG9hZCAtLT5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZpbGUtdXBsb2FkLWJ0bi1ib3hcIiBkYXRhLXRvZ2dsZT1cInRvb2x0aXBcIiBkYXRhLXBsYWNlbWVudD1cInRvcFwiIHRpdGxlPVwi0JTQvtCx0LDQstC40YLRjCDQuNC30L7QsdGA0LDQttC10L3QuNC1XCI+XHJcbiAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwiZmlsZS11cGxvYWQtYnRuIGJ0biBidG4tc3VjY2Vzc1wiIHR5cGU9XCJidXR0b25cIj5cclxuICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz1cImZhciBmYS1pbWFnZSBmYS1sZ1wiPjwvaT5cclxuICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPCEtLSBCdXR0b24gdHJpZ2dlciBtb2RhbCAtLT5cclxuICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJidG4gYnRuLXN1Y2Nlc3MgcG9zdC11cGxvYWQtYnRuIGpzX2F1dG9tZXNzYWdlcy1hZGQtcG9zdFwiXHJcbiAgICAgICAgICAgICAgICB0aXRsZT1cItCU0L7QsdCw0LLQuNGC0Ywg0L/Rg9Cx0LvQuNC60LDRhtC40Y5cIlxyXG4gICAgICAgICAgICAgICAgZGF0YS10b2dnbGU9XCJ0b29sdGlwXCJcclxuICAgICAgICAgICAgICAgIGRhdGEtcGxhY2VtZW50PVwidG9wXCJcclxuICAgICAgICAgICAgICAgIGRhdGEtcG9zdC1pbmZvPVwidG9kbzogZ2V0IHJlcSB0byB1c2VyOiBcIj5cclxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwianNfb3Blbi1wb3N0cy1ncmlkTW9kYWxcIlxyXG4gICAgICAgICAgICAgICAgICAgIGRhdGEtY29udGFpbmVyPVwiYm9keVwiIGRhdGEtdG9nZ2xlPVwicG9wb3ZlclwiIGRhdGEtcGxhY2VtZW50PVwiYm90dG9tXCIgZGF0YS1jb250ZW50PVwi0KMg0YLQtdC60YPRidC10LPQviDQsNC60LrQsNGD0L3RgtCwINC90LXRgiDQvdC4INC+0LTQvdC+0LPQviDQv9C+0YHRgtCwXCI+XHJcbiAgICAgICAgICAgICAgICA8aSBjbGFzcz1cImZhciBmYS1pbWFnZXMgZmEtbGdcIj48L2k+XHJcbiAgICAgICAgICAgICAgICA8L3NwYW4+XHJcbiAgICAgICAgICAgIDwvYnV0dG9uPlxyXG5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm10LTJcIj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmaWxlLXVwbG9hZFwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJpbWFnZS11cGxvYWQtd3JhcFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgY2xhc3M9XCJmaWxlLXVwbG9hZC1pbnB1dFwiIHR5cGU9J2ZpbGUnIGFjY2VwdD1cIi5qcGcsIC5qcGVnXCIgLz5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmlsZS11cGxvYWQtY29udGVudFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8aW1nIGNsYXNzPVwiZmlsZS11cGxvYWQtaW1hZ2VcIiBzcmM9XCIjXCIgYWx0PVwieW91ciBpbWFnZVwiIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJpbWFnZS10aXRsZS13cmFwXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwicmVtb3ZlLWltYWdlIGJ0biBidG4td2FybmluZ1wiPtCj0LTQsNC70LjRgtGMIDxzcGFuIGNsYXNzPVwiaW1hZ2UtdGl0bGVcIj7Ql9Cw0LPRgNGD0LfQuNGC0Yw8L3NwYW4+PC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgPC9kaXY+XHJcbjwvZGl2PmApO1xyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvYmxvY2tzL2F1dG9tZXNzYWdlcy9hZGRBbnN3ZXJUZW1wbGF0ZS5qcyIsImltcG9ydCB7Q09OU1R9IGZyb20gJy4uLy4uL2NvbW1vbi9qcy1zZXJ2aWNlcy9jb25zdHMnO1xyXG5pbXBvcnQgKiBhcyB3aXphcmRGb3JtIGZyb20gJy4uLy4uL2Jsb2Nrcy93aXphcmQtZm9ybS93aXphcmQtZm9ybSc7XHJcbmltcG9ydCB2aWV3VXRpbHMgZnJvbSAnLi4vLi4vY29tbW9uL2pzLXNlcnZpY2VzL3ZpZXcnO1xyXG5pbXBvcnQgVXNlclRhc2tNYW5hZ2VyIGZyb20gJy4uLy4uL2NvbW1vbi9qcy1zZXJ2aWNlcy9hcGktdGFzay1tYW5hZ2VyJztcclxuaW1wb3J0ICogYXMgdGFicyBmcm9tICcuLi9fc2hhcmVkL3RlYnMtcGlscy90YWJzJztcclxuaW1wb3J0ICogYXMgYXV0b21lc3NhZ2VzU3RhdHVzIGZyb20gJy4vYXV0b21lc3NhZ2VzLXN0YXR1cyc7XHJcbmltcG9ydCAqIGFzIGxvZ3MgZnJvbSAnLi4vX3NoYXJlZC9sb2dzL2xvZ3MnO1xyXG5pbXBvcnQgKiBhcyBpbWFnZVVwbG9hZCBmcm9tICcuLi9fc2hhcmVkL2ltYWdlLXVwbG9hZC9pbWFnZS11cGxvYWQnO1xyXG5pbXBvcnQge2Vtb2ppfSBmcm9tICcuLi8uLi9jb21tb24vanMtc2VydmljZXMvZW1vamknO1xyXG5pbXBvcnQge2dldFBvc3RzfSBmcm9tICcuLi9fc2hhcmVkL2dldFBvc3RzTW9kYWwvdXRpbHMtbW9kYWwnO1xyXG5pbXBvcnQge3RwbFRleHRGaWVsZH0gZnJvbSAnLi9hZGRBbnN3ZXJUZW1wbGF0ZSc7XHJcbmltcG9ydCB7aW5pdFRhZ3NJbnB1dCwgbmV4dEJ0bnZhbGlkYXRlQ29tcGV0aXRvcnNIYW5kbGVyfSBmcm9tICcuLi9fc2hhcmVkL3RhZ3MtaW5wdXQvdGFncy1pbnB1dCc7XHJcblxyXG5jb25zdCB7Z2V0VmFsQnlDb21tYVNlcGFyYXRvcn0gPSB2aWV3VXRpbHM7XHJcbmxldCB1c2VybmFtZVNlbGVjdGVkID0gJyc7XHJcbmNvbnN0IHNlbGVjdENscyA9ICdqc19sb2dzLWFjY291bnRzJztcclxuY29uc3QgY2xzQ29uc3QgPSB7XHJcbiAgICBjdXJyZW50UGFnZUNsczogJy5hdXRvbWVzc2FnZXMtcGFnZScsXHJcbiAgICB0YXNrc0xpc3Q6ICcubG9nLXRhc2tzJyxcclxuICAgIGxvZ3NUYWJCdG46ICcjdi1waWxscy1sb2dzLXRhYicsXHJcbiAgICBwYWdpbmF0aW9uOiAnLmxvZ3MtcGFnaW5hdGlvbicsXHJcbiAgICBwYWdpbmF0aW9uUGdOdW1iZXI6ICcucGFnZS1udW1iZXInLFxyXG4gICAgcGF0aFR5cGU6IENPTlNULnVybC50bVR5cGVzLmF1dG9tZXNzYWdlc1QsXHJcbiAgICBwYXRoU3ViVHlwZTogQ09OU1QudXJsLnRtVHlwZXMuYXV0b21lc3NhZ2VzU3ViVFswXVxyXG59O1xyXG5jb25zdCBlbFNlbGVjdG9yID0ge1xyXG4gICAgZmllbGRzOiAnLmF1dG9tZXNzYWdlcy10ZXh0LWZpZWxkcycsXHJcbiAgICBrZXlXb3JkOiAnaW5wdXQuYW5zd2VyLXdvcmRzJyxcclxuICAgIGFuc3dlcjogJ3RleHRhcmVhLmFuc3dlci1tZXNzYWdlcycsXHJcbiAgICBmaWxlVXBsb2FkQm94OiAnLmZpbGUtdXBsb2FkJyxcclxuICAgIGFkZFBvc3RCdG5zOiAnLmpzX2F1dG9tZXNzYWdlcy1hZGQtcG9zdCdcclxufTtcclxuY29uc3QgbG9nc1N0YXRlID0ge1xyXG4gICAgc2VsZWN0Q2xzOiAnanNfbG9ncy1hY2NvdW50cycsXHJcbiAgICBzZWxlY3RDbHNMb2dzVGFza1R5cGU6ICdqc19sb2dzLXN1YnR5cGVzJyxcclxuICAgIHdyYXBwZXJTdWJ0eXBlOiAnLmxvZy1zdWJ5cGUnXHJcbn07XHJcblxyXG5mdW5jdGlvbiBpbml0RW1vamlpKCkge1xyXG4gICAgZW1vamkoe1xyXG4gICAgICAgIHBhZ2U6IGNsc0NvbnN0LmN1cnJlbnRQYWdlQ2xzLFxyXG4gICAgICAgIHN0eWxlczoge29sZDogJ2JvdHRvbTogMzBweDsnLCBuZXc6ICd0b3A6IC0yMTBweDsnfVxyXG4gICAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHZhbGlkYXRlSXNFbXB0eSgkZWxlbWVudHMsIGUpIHtcclxuICAgICRlbGVtZW50cy5lYWNoKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAoJCh0aGlzKS52YWwoKSA9PT0gJycpIHtcclxuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAkKHRoaXMpLmFkZENsYXNzKCdpbnB1dC1lcnJvcicpO1xyXG4gICAgICAgICAgICAvLyB2YWxpZGF0aW9uID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAkKHRoaXMpLnJlbW92ZUNsYXNzKCdpbnB1dC1lcnJvcicpO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBvblN1Ym1pdEhhbmRsZXIoZSkge1xyXG4gICAgY29uc3QgZmllbGRzID0gJChlbFNlbGVjdG9yLmZpZWxkcyk7XHJcbiAgICBjb25zdCByZXFCb2R5ID0gW107XHJcbiAgICBsZXQgdmFsaWRhdGlvbiA9IHRydWU7XHJcbiAgICBjb25zdCAkZWxlbWVudHNLZXlXb3JkID0gZmllbGRzLmZpbmQoZWxTZWxlY3Rvci5rZXlXb3JkKTtcclxuICAgIGNvbnN0ICRlbGVtZW50c0Fuc3dlciA9IGZpZWxkcy5maW5kKGVsU2VsZWN0b3IuYW5zd2VyKTtcclxuXHJcbiAgICB2YWxpZGF0ZUlzRW1wdHkoJGVsZW1lbnRzS2V5V29yZCwgZSk7XHJcbiAgICB2YWxpZGF0ZUlzRW1wdHkoJGVsZW1lbnRzQW5zd2VyLCBlKTtcclxuXHJcbiAgICBmaWVsZHMuZWFjaCgoaWR4LCBpdGVtKSA9PiB7XHJcbiAgICAgICAgY29uc3Qga2V5V29yZCA9IGdldFZhbEJ5Q29tbWFTZXBhcmF0b3IoJChpdGVtKS5maW5kKGVsU2VsZWN0b3Iua2V5V29yZCkpO1xyXG4gICAgICAgIGNvbnN0IGFuc3dlciA9ICQoaXRlbSkuZmluZChlbFNlbGVjdG9yLmFuc3dlcikudmFsKCk7XHJcbiAgICAgICAgY29uc3QgaW1hZ2VJZCA9ICQoaXRlbSkuZmluZChlbFNlbGVjdG9yLmZpbGVVcGxvYWRCb3gpLmF0dHIoJ2F0dGFjaGVkLWltZy1pZCcpO1xyXG4gICAgICAgIGNvbnN0ICRpbWFnZVBvc3RCb3ggPSAkKGl0ZW0pLmZpbmQoJy5qc191cGxvYWRlZC1pbWctZnJvbS1wb3N0cycpO1xyXG4gICAgICAgIGNvbnN0IHBvc3RJdGVtSWQgPSAkaW1hZ2VQb3N0Qm94LmRhdGEoJ3Bvc3RJZCcpO1xyXG4gICAgICAgIGNvbnN0IHBvc3RJdGVtVHlwZSA9ICRpbWFnZVBvc3RCb3guZGF0YSgncG9zdFR5cGUnKTtcclxuICAgICAgICBjb25zdCBibGFja2xpc3RXb3JkcyA9ICQoaXRlbSkuZmluZCgnaW5wdXQuYmxhY2tsaXN0LXdvcmRzJyk7XHJcbiAgICAgICAgY29uc3QgYmxhY2tsaXN0V29yZHNBcnIgPSBnZXRWYWxCeUNvbW1hU2VwYXJhdG9yKGJsYWNrbGlzdFdvcmRzKTtcclxuXHJcbiAgICAgICAgaWYgKCFrZXlXb3JkLmxlbmd0aCB8fCAhYW5zd2VyLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZygna2V5V29yZCBpcyBlbXB0eSwgbm90IHB1c2ggbWUgdG8gcmVxdWVzdCcpO1xyXG4gICAgICAgICAgICAkKGl0ZW0pLmFwcGVuZChgXHJcbiAgICAgICAgICAgICAgICA8cCBjbGFzcz1cIm1zZy1lbXB0eS1maWVsZCB0ZXh0LWRhbmdlclwiPtCf0YPRgdGC0L7QtSDQv9C+0LvQtSDQvdC1INCy0LDQu9C40LTQvdC+PC9wPlxyXG4gICAgICAgICAgICBgKTtcclxuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAkKCcubXNnLWVtcHR5LWZpZWxkJykuYWRkQ2xhc3MoJ2Qtbm9uZScpO1xyXG4gICAgICAgICAgICB9LCA1MDAwKTtcclxuICAgICAgICAgICAgdmFsaWRhdGlvbiA9IGZhbHNlO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHN1Ym1pdEJvZHlJdGVtID0ge1xyXG4gICAgICAgICAgICAna2V5X3dvcmRzJzoga2V5V29yZCxcclxuICAgICAgICAgICAgYW5zd2VyLFxyXG4gICAgICAgICAgICBibGFja2xpc3Q6IGJsYWNrbGlzdFdvcmRzQXJyLFxyXG4gICAgICAgICAgICAnYXR0YWNobWVudCc6IGltYWdlSWQgPyB7XHJcbiAgICAgICAgICAgICAgICAnaW1hZ2VfaWQnOiBpbWFnZUlkXHJcbiAgICAgICAgICAgIH0gOiB1bmRlZmluZWRcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBpZiAocG9zdEl0ZW1JZCkge1xyXG4gICAgICAgICAgICBzdWJtaXRCb2R5SXRlbS5hdHRhY2htZW50ID0ge1xyXG4gICAgICAgICAgICAgICAgLi4uc3VibWl0Qm9keUl0ZW0uYXR0YWNobWVudCxcclxuICAgICAgICAgICAgICAgIHBvc3Q6IHtcclxuICAgICAgICAgICAgICAgICAgICBpZDogcG9zdEl0ZW1JZCxcclxuICAgICAgICAgICAgICAgICAgICB0eXBlOiBwb3N0SXRlbVR5cGUgfHwgJ3R5cGUtZXJyb3InXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJlcUJvZHkucHVzaChzdWJtaXRCb2R5SXRlbSk7XHJcbiAgICB9KTtcclxuICAgIGlmICghdmFsaWRhdGlvbikge1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCcqKmFsYXJtICoqJywgZWxTZWxlY3Rvci5rZXlXb3JkKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgblJlcUJvZHkgPSB7XHJcbiAgICAgICAgJ3VzZXJuYW1lJzogdXNlcm5hbWVTZWxlY3RlZCxcclxuICAgICAgICAndHlwZSc6IGNsc0NvbnN0LnBhdGhUeXBlLFxyXG4gICAgICAgICdzdWJ0eXBlJzogY2xzQ29uc3QucGF0aFN1YlR5cGUsXHJcbiAgICAgICAgJ3VzZXJfZGVmYXVsdF9jb25maWcnOiB7fSxcclxuICAgICAgICAndXNlcl9jdXN0b21fY29uZmlnJzoge1xyXG4gICAgICAgICAgICAnZm9ybXMnOiByZXFCb2R5XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAvLyBjb25zb2xlLmxvZygnbWFrZSByZXF1ZXN0IGhlcmUqKicsIG5SZXFCb2R5KTtcclxuICAgIGZ1bmN0aW9uIGNiRXJyb3IocmVzKSB7XHJcbiAgICAgICAgY29uc3QgbXNnID0gcmVzLnN0YXR1cy5tZXNzYWdlO1xyXG4gICAgICAgICQoJy5mb3JtLXN1Ym1pdC1maW5pc2gtLWVycm9yJykuYWRkQ2xhc3MoJ2QtYmxvY2snKVxyXG4gICAgICAgIC5maW5kKCcuYWxlcnQnKS5hcHBlbmQoYDxwPiR7bXNnfTwvcD5gKTtcclxuICAgIH1cclxuICAgIFVzZXJUYXNrTWFuYWdlci5wb3N0U3RhcnRUYXNrKG5SZXFCb2R5LCBjYkVycm9yKS50aGVuKChyZXN1bHQpID0+IHtcclxuICAgICAgICBpZiAocmVzdWx0LnN0YXR1cy5zdGF0ZSA9PT0gJ29rJykge1xyXG4gICAgICAgICAgICAkKCcuZm9ybS1zdWJtaXQtZmluaXNoJykuZmluZCgnLmFsZXJ0IHAnKS5yZW1vdmUoKTtcclxuICAgICAgICAgICAgJCgnLmZvcm0tc3VibWl0LWZpbmlzaCcpLmFkZENsYXNzKCdkLWJsb2NrJylcclxuICAgICAgICAgICAgICAgIC5maW5kKCcuYWxlcnQnKS5hcHBlbmQoYDxwPnRhc2tfaWQ6ICR7cmVzdWx0LmRhdGEudGFza19pZH08L3A+YCk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGluaXRMb2dzVGFiKCkge1xyXG4gICAgZnVuY3Rpb24gT25DaGFuZ2VTZWxlY3QoKSB7XHJcbiAgICAgICAgY29uc3Qge3NlbGVjdENsc30gPSBsb2dzU3RhdGU7XHJcbiAgICAgICAgJChgLiR7c2VsZWN0Q2xzfWApLm9uKCdjaGFuZ2UnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIHVzZXJuYW1lU2VsZWN0ZWQgPSAkKGAuJHtzZWxlY3RDbHN9IG9wdGlvbjpzZWxlY3RlZGApLnZhbCgpO1xyXG4gICAgICAgICAgICAvLyBjbHNDb25zdC5wYXRoU3ViVHlwZSA9IGxvZ3NTdGF0ZS5hY3RpdmVTdWJUeXBlO1xyXG4gICAgICAgICAgICBsb2dzLmluaXQoc2VsZWN0Q2xzLCBjbHNDb25zdCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICAvLyBhZGREcm9wZG93bigkKGxvZ3NTdGF0ZS53cmFwcGVyU3VidHlwZSksIGxvZ3NTdWJ0eXBlcywge2xvZ3NTdGF0ZSwgZHJvcGRvd25PblNlbGVjdENifSk7XHJcbiAgICB0YWJzLmluaXQoT25DaGFuZ2VTZWxlY3QsIGxvZ3NTdGF0ZSk7IC8vIG1ha2VzIGRvdWJsZSByZXF1ZXN0IDogT1BUSU9OIGFuZCBHRVRcclxufVxyXG5cclxuZnVuY3Rpb24gcmVtb3ZlRXh0cmFUZXh0RmllbGRzKGUpIHtcclxuICAgICQoYCR7ZWxTZWxlY3Rvci5maWVsZHN9Om5vdCg6Zmlyc3QtY2hpbGQpYCkucmVtb3ZlQ2xhc3MoJ2QtYmxvY2snKTtcclxuICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbn1cclxuXHJcbi8qIFRPRE86IHJlZmFjdG9yIC0+IG1vdmUgaW5pdE1vZGFsSGFuZGxlciB0byBzZXBhcmF0ZSBmaWxlLCByZW1vdmUgaW5pdE1vZGFsSGFuZGxlciBpbiBhdXRvZ3JlZXRpbmctbWFpbi5qcyAqL1xyXG5sZXQgdGFyZ2V0QnV0dG9uID0ge307XHJcblxyXG5mdW5jdGlvbiBsb2FkTW9yZUhhbmRsZXIoZ2V0UG9zdHMpIHtcclxuICAgICQoJyNsb2FkLW1vcmUnKS5vZmYoKS5vbignY2xpY2snLCAoZSkgPT4ge1xyXG4gICAgICAgIGNvbnN0ICRidG4gPSAkKGUudGFyZ2V0KTtcclxuICAgICAgICBjb25zdCBjdXJzb3IgPSAkYnRuLmF0dHIoJ2N1cnNvcicpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdsb2FkIG1vcmUgY2xpY2snKTtcclxuICAgICAgICBnZXRQb3N0cyhudWxsLCB7dXNlck5hbWU6IHVzZXJuYW1lU2VsZWN0ZWQsIGN1cnNvcn0sIHtsb2FkTW9yZUhhbmRsZXI6IHRoaXMsIHRhcmdldEJ1dHRvbn0pO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGluaXRNb2RhbEhhbmRsZXIoKSB7XHJcblxyXG4gICAgJCgnLmpzX29wZW4tcG9zdHMtZ3JpZE1vZGFsJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgdGFyZ2V0QnV0dG9uID0gJCh0aGlzKTsgLy8gQnV0dG9uIHRoYXQgdHJpZ2dlcmVkIHRoZSBtb2RhbFxyXG4gICAgICAgIC8vIFVwZGF0ZSB0aGUgbW9kYWwncyBjb250ZW50XHJcbiAgICAgICAgY29uc3QgbW9kYWwgPSAkKCcjcG9zdHNHcmlkTW9kYWwnKTtcclxuICAgICAgICBnZXRQb3N0cyhtb2RhbCwge3VzZXJOYW1lOiB1c2VybmFtZVNlbGVjdGVkfSwge2xvYWRNb3JlSGFuZGxlciwgdGFyZ2V0QnV0dG9ufSk7XHJcbiAgICAgICAgbW9kYWwuZmluZCgnLm1vZGFsLXRpdGxlJykudGV4dCgn0J/Rg9Cx0LvQuNC60LDRhtC40LgnKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG4vKiBUT0RPOiByZWZhY3RvciAtPiBtb3ZlIGluaXRNb2RhbEhhbmRsZXIgdG8gc2VwYXJhdGUgZmlsZSBFTkQgKi9cclxuXHJcbi8qKlxyXG4gKiBJbml0IEhhbmRsZXJzXHJcbiAqL1xyXG5mdW5jdGlvbiBpbml0SGFuZGxlcnMoKSB7XHJcbiAgICBjb25zdCAkY29tcGV0aXRvcnNJbnB1dCA9ICQoJy5hdXRvbWVzc2FnZXMtdGV4dC1maWVsZHMgaW5wdXQuYW5zd2VyLXdvcmRzW2RhdGEtcm9sZT1cInRhZ3NpbnB1dFwiXScpO1xyXG4gICAgY29uc3QgJGJsYWNrTGlzdElucHV0ID0gJCgnLmF1dG9tZXNzYWdlcy10ZXh0LWZpZWxkcyBpbnB1dC5ibGFja2xpc3Qtd29yZHNbZGF0YS1yb2xlPVwidGFnc2lucHV0XCJdJyk7XHJcbiAgICBjb25zdCBuZXh0U3RlcEJ0biA9ICQoJ2Zvcm0gYnV0dG9uW3R5cGU9XCJzdWJtaXRcIl0nKTtcclxuICAgIG5leHRCdG52YWxpZGF0ZUNvbXBldGl0b3JzSGFuZGxlcigkY29tcGV0aXRvcnNJbnB1dCwgbmV4dFN0ZXBCdG4sICdpZ25vcmVSZWdleENoZWNrJyk7XHJcbiAgICBuZXh0QnRudmFsaWRhdGVDb21wZXRpdG9yc0hhbmRsZXIoJGJsYWNrTGlzdElucHV0LCBudWxsLCAnaWdub3JlUmVnZXhDaGVjaycpO1xyXG5cclxuICAgIC8vIFRPRE86IHJlZmFjdG9yIHdpdGggYXV0b2dyZWV0LmpzIGluaXRIYW5kbGVyc1xyXG4gICAgLy8gJCgnW2RhdGEtdG9nZ2xlPVwicG9wb3ZlclwiXScpLnBvcG92ZXIoKTsgLy8gaW5pdFxyXG4gICAgJCgnLmpzX2FkZC1hdXRvbWVzc2FnZXMnKS5vbignY2xpY2snLCAoZSkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGxhc3RUZXh0RmllbGQgPSAkKGVsU2VsZWN0b3IuZmllbGRzKS5sYXN0KCk7XHJcbiAgICAgICAgdHBsVGV4dEZpZWxkKGVsU2VsZWN0b3IuZmllbGRzLnN1YnN0cigxKSkuaW5zZXJ0QWZ0ZXIobGFzdFRleHRGaWVsZCk7XHJcbiAgICAgICAgaW5pdEVtb2ppaSgpO1xyXG4gICAgICAgIGltYWdlVXBsb2FkLmluaXQoKTtcclxuICAgICAgICAvLyAkKCdbZGF0YS10b2dnbGU9XCJwb3BvdmVyXCJdJykucG9wb3ZlcigpOyAvLyByZWluaXRcclxuICAgICAgICAkKCdbZGF0YS10b2dnbGU9XCJ0b29sdGlwXCJdJykudG9vbHRpcCgpOyAvLyByZWluaXRcclxuICAgICAgICBpbml0TW9kYWxIYW5kbGVyKCk7XHJcblxyXG4gICAgICAgIC8vIGNvbnN0ICRpbnB1dCA9ICQoJ2lucHV0W2RhdGEtcm9sZT1cInRhZ3NpbnB1dFwiXScsIGxhc3RUZXh0RmllbGQpO1xyXG4gICAgICAgIC8vIGluaXRUYWdzSW5wdXQoKTtcclxuICAgICAgICAvLyBuZXh0QnRudmFsaWRhdGVDb21wZXRpdG9yc0hhbmRsZXIoJGlucHV0LCBuZXh0U3RlcEJ0bik7XHJcblxyXG4gICAgICAgIGNvbnN0IGxhc3RUZXh0RmllbGRBZnRlckluc2VydCA9ICQoZWxTZWxlY3Rvci5maWVsZHMpLmxhc3QoKTtcclxuICAgICAgICBjb25zdCAkaW5wdXRBbnN3ZXJXb3JkcyA9ICQoJ2lucHV0LmFuc3dlci13b3Jkc1tkYXRhLXJvbGU9XCJ0YWdzaW5wdXRcIl0nLCBsYXN0VGV4dEZpZWxkQWZ0ZXJJbnNlcnQpO1xyXG4gICAgICAgIGNvbnN0ICRibGFja0xpc3RJbnB1dCA9ICQoJ2lucHV0LmJsYWNrbGlzdC13b3Jkc1tkYXRhLXJvbGU9XCJ0YWdzaW5wdXRcIl0nLCBsYXN0VGV4dEZpZWxkQWZ0ZXJJbnNlcnQpO1xyXG5cclxuICAgICAgICBpbml0VGFnc0lucHV0KCRpbnB1dEFuc3dlcldvcmRzKTsgLy8gcmVpbml0IGFuc3dlci13b3Jkc1xyXG4gICAgICAgIGluaXRUYWdzSW5wdXQoJGJsYWNrTGlzdElucHV0KTsgLy8gcmVpbml0IGJsYWNrbGlzdC13b3Jkc1xyXG4gICAgICAgIG5leHRCdG52YWxpZGF0ZUNvbXBldGl0b3JzSGFuZGxlcigkaW5wdXRBbnN3ZXJXb3JkcywgbmV4dFN0ZXBCdG4sICdpZ25vcmVSZWdleENoZWNrJyk7XHJcbiAgICAgICAgbmV4dEJ0bnZhbGlkYXRlQ29tcGV0aXRvcnNIYW5kbGVyKCRibGFja0xpc3RJbnB1dCwgbnVsbCwgJ2lnbm9yZVJlZ2V4Q2hlY2snKTtcclxuICAgIH0pO1xyXG5cclxuICAgIC8vIGFsZXJ0IHN1Y2Nlc3MgY2xvc2VcclxuICAgICQoJy5mb3JtLXN1Ym1pdC1maW5pc2ggLmNsb3NlJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZygnYWxlcnQgY2xvc2UnKTtcclxuICAgICAgICAkKCcjdi1waWxscy1hbGwtdGFiJykudHJpZ2dlcignY2xpY2snKTtcclxuICAgICAgICB3aW5kb3cuUHViU3ViLnB1Ymxpc2goQ09OU1QuZXZlbnRzLnRhc2tzLk5FV19UQVNLX0NSRUFURUQpO1xyXG4gICAgICAgIC8vIHJlbW92ZUV4dHJhVGV4dEZpZWxkcyhlKTtcclxuICAgIH0pO1xyXG5cclxuICAgIC8vIGFsZXJ0IGNsb3NlXHJcbiAgICAkKCcuZm9ybS1zdWJtaXQtZmluaXNoLS1lcnJvciAuY2xvc2UnKS5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coJ2FsZXJ0IGNsb3NlJyk7XHJcbiAgICAgICAgJCgnI3YtcGlsbHMtYWxsLXRhYicpLnRyaWdnZXIoJ2NsaWNrJyk7XHJcbiAgICAgICAgd2luZG93LlB1YlN1Yi5wdWJsaXNoKENPTlNULmV2ZW50cy50YXNrcy5ORVdfVEFTS19DUkVBVEVEKTtcclxuICAgICAgICByZW1vdmVFeHRyYVRleHRGaWVsZHMoKTtcclxuICAgIH0pO1xyXG5cclxuICAgIC8vIHRhYnMuaW5pdChmaWxsTGlzdFVzZXJzKTtcclxuICAgIGluaXRMb2dzVGFiKCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHNldFVzZXJOYW1lKHN0YXRlKSB7XHJcbiAgICAvLyBjb25zb2xlLmxvZygnZ2V0VGFza3NEYXRhJywgc3RhdGUudXNlcm5hbWUpO1xyXG4gICAgdXNlcm5hbWVTZWxlY3RlZCA9IHN0YXRlLnVzZXJuYW1lO1xyXG59XHJcblxyXG5mdW5jdGlvbiBzdGVwUmVkdWNlcihzdGVwTnVtYmVyLCBzdGF0ZSkge1xyXG4gICAgc3dpdGNoIChzdGVwTnVtYmVyKSB7XHJcbiAgICAgICAgY2FzZSAwOlxyXG4gICAgICAgICAgICBzZXRVc2VyTmFtZShzdGF0ZSk7XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHN0YXRlLCBzdGVwTnVtYmVyKTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ2RlZmF1bHQnLCBzdGVwTnVtYmVyKTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGluaXQoKSB7XHJcbiAgICBpZiAoJChjbHNDb25zdC5jdXJyZW50UGFnZUNscykubGVuZ3RoKSB7XHJcbiAgICAgICAgY29uc3Qgd2l6YXJkQ2ZnID0ge1xyXG4gICAgICAgICAgICBzdGVwUmVkdWNlcixcclxuICAgICAgICAgICAgb25TdWJtaXRIYW5kbGVyXHJcbiAgICAgICAgfTtcclxuICAgICAgICB3aXphcmRGb3JtLmluaXQod2l6YXJkQ2ZnKTtcclxuICAgICAgICBpbml0SGFuZGxlcnMoKTtcclxuICAgICAgICBhdXRvbWVzc2FnZXNTdGF0dXMuaW5pdCgpO1xyXG4gICAgICAgIGluaXRNb2RhbEhhbmRsZXIoKTtcclxuICAgICAgICBpbml0RW1vamlpKCk7XHJcbiAgICAgICAgaW1hZ2VVcGxvYWQuaW5pdCgpO1xyXG4gICAgICAgIC8vIGluaXRUYWdzSW5wdXQoKTtcclxuXHJcbiAgICAgICAgd2luZG93LlB1YlN1Yi5zdWJzY3JpYmUoQ09OU1QuZXZlbnRzLmluc3RhZ3JhbUFjY291bnMuSU5TVEFHUkFNX0FDQ09VTlNfUkVOREVSRURfTEFaWSwgKGUsIGFjY291bnRzKSA9PiB7XHJcbiAgICAgICAgICAgIGxvZ3MuaW5pdChzZWxlY3RDbHMsIGNsc0NvbnN0KTtcclxuICAgICAgICB9KTtcclxuICAgICAgICB3aW5kb3cuUHViU3ViLnN1YnNjcmliZShDT05TVC5ldmVudHMuYXV0b2FybnN3ZXIuSU1BR0VfVVBMT0FERUQsIChlLCByZXMpID0+IHtcclxuICAgICAgICAgICAgY29uc3Qge3Jlc3BvbnNlfSA9IHJlcztcclxuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gKHJlc3BvbnNlLmxlbmd0aCkgPyBKU09OLnBhcnNlKHJlc3BvbnNlKSA6ICcnO1xyXG4gICAgICAgICAgICBjb25zdCBpbWFnZUlkID0gcmVzdWx0ICYmIHJlc3VsdC5kYXRhICYmIHJlc3VsdC5kYXRhLmltYWdlX2lkO1xyXG4gICAgICAgICAgICAkKHJlcy5lbCkuY2xvc2VzdCgnLmZpbGUtdXBsb2FkJykuYXR0cignYXR0YWNoZWQtaW1nLWlkJywgaW1hZ2VJZCk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdpbWFnZV9sb2FkZWQnLCByZXMpO1xyXG5cclxuICAgICAgICAgICAgLy8gdG9kbzogbWFrZSBhcyBjYWxsQmFja1xyXG4gICAgICAgICAgICBjb25zdCAkaW1hZ2VCb3ggPSAkKHJlcy5lbCkuY2xvc2VzdCgnLmNvbCcpLmZpbmQoJy5qc191cGxvYWRlZC1pbWctZnJvbS1wb3N0cycpO1xyXG4gICAgICAgICAgICBpZiAoJGltYWdlQm94Lmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgJGltYWdlQm94LnJlbW92ZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgd2luZG93LlB1YlN1Yi5zdWJzY3JpYmUoQ09OU1QuZXZlbnRzLm1vZGFsLklNQUdFX1BPU1RfU0VMRUNURUQsIChlLCBkYXRhKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0ICRpbWFnZUJveCA9ICQoZGF0YS5jbG9zZXN0Q29sKS5maW5kKCcuZmlsZS11cGxvYWQtY29udGVudCcpO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnJGltYWdlQm94JywgJGltYWdlQm94KTtcclxuICAgICAgICAgICAgaWYgKCRpbWFnZUJveC5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICRpbWFnZUJveC5oaWRlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxufVxyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvYmxvY2tzL2F1dG9tZXNzYWdlcy9hdXRvbWVzc2FnZXMtaW5kZXguanMiLCJpbXBvcnQge0NPTlNUfSBmcm9tICcuLi8uLi9jb21tb24vanMtc2VydmljZXMvY29uc3RzJztcclxuaW1wb3J0IHtnZXRUYXNrc0RhdGF9IGZyb20gJy4uL19zaGFyZWQvdGFzay1zdGF0dXMvdGFzay1zdGF0dXMnO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGluaXQoKSB7XHJcbiAgICBpZiAoJCgnLmF1dG9tZXNzYWdlcy1wYWdlJykubGVuZ3RoKSB7XHJcbiAgICAgICAgY29uc3QgcGF0aCA9IHtcclxuICAgICAgICAgICAgdHlwZTogQ09OU1QudXJsLnRtVHlwZXMuYXV0b21lc3NhZ2VzVCxcclxuICAgICAgICAgICAgc3VidHlwZTogQ09OU1QudXJsLnRtVHlwZXMuYXV0b21lc3NhZ2VzU3ViVFswXVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgY29uc3Qgd3JhcHBlcnMgPSB7XHJcbiAgICAgICAgICAgICRydW5zOiAkKCcudGFza3MtcnVucycpLFxyXG4gICAgICAgICAgICAkc3RvcHBlZDogJCgnLnRhc2tzLXN0b3BwZWQnKSxcclxuICAgICAgICAgICAgJGFsbDogJCgnLnRhc2tzLWFsbCcpXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgLy8gdGFzay1zdGF0dXMgaGFzIG9uZSBzdWJ0eXBlLCBzbyBkbyBub3QgYWRkIGRyb3Bkb3duXHJcbiAgICAgICAgLy8gcmVuZGVyIHN0YXR1cyBkcm9wZG93blxyXG4gICAgICAgIC8vIGNvbnN0IHRleHRSdXNBcnJheSA9IFsn0J/QviBERUZBVUxUX0FVVE9fQU5TV0VSJ107XHJcbiAgICAgICAgLy8gZHJvcERvd24uYWRkRHJvcGRvd24obG9nc1N0YXRlU3RhdHVzLndyYXBwZXJTdWJ0eXBlLCBDT05TVC51cmwudG1UeXBlcy5zdG9yaWVzU3ViVCwge2xvZ3NTdGF0ZTogbG9nc1N0YXRlU3RhdHVzLCBkcm9wZG93bk9uU2VsZWN0Q2IsIHRleHRSdXNBcnJheX0pO1xyXG5cclxuICAgICAgICBnZXRUYXNrc0RhdGEod3JhcHBlcnMsIHBhdGgpO1xyXG4gICAgICAgIC8vIHdpbmRvdy5QdWJTdWIuc3Vic2NyaWJlKENPTlNULmV2ZW50cy5pbnN0YWdyYW1BY2NvdW5zLklOU1RBR1JBTV9BQ0NPVU5TX1JFTkRFUkVELCAoZXZlbnROYW1lLCBkYXRhKSA9PiB7XHJcbiAgICAgICAgLy8gICAgIGdldFRhc2tzRGF0YSh3cmFwcGVycywgcGF0aCk7XHJcbiAgICAgICAgLy8gICAgIGNvbnNvbGUubG9nKCcqKmFuc3dlci1zdGF0dXMnLCBldmVudE5hbWUsIGRhdGEpO1xyXG4gICAgICAgIC8vIH0pO1xyXG4gICAgICAgIHdpbmRvdy5QdWJTdWIuc3Vic2NyaWJlKENPTlNULmV2ZW50cy50YXNrcy5ORVdfVEFTS19DUkVBVEVELCAoZXZlbnROYW1lLCBkYXRhKSA9PiB7XHJcbiAgICAgICAgICAgIGdldFRhc2tzRGF0YSh3cmFwcGVycywgcGF0aCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuXHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9ibG9ja3MvYXV0b21lc3NhZ2VzL2F1dG9tZXNzYWdlcy1zdGF0dXMuanMiLCJpbXBvcnQge0NPTlNUfSBmcm9tICcuLi8uLi9jb21tb24vanMtc2VydmljZXMvY29uc3RzJztcclxuaW1wb3J0ICogYXMgd2l6YXJkRm9ybSBmcm9tICcuLi8uLi9ibG9ja3Mvd2l6YXJkLWZvcm0vd2l6YXJkLWZvcm0nO1xyXG5pbXBvcnQgVXNlclRhc2tNYW5hZ2VyIGZyb20gJy4uLy4uL2NvbW1vbi9qcy1zZXJ2aWNlcy9hcGktdGFzay1tYW5hZ2VyJztcclxuLy8gaW1wb3J0IFVzZXIgZnJvbSAnLi4vLi4vY29tbW9uL2pzLXNlcnZpY2VzL3VzZXInO1xyXG5pbXBvcnQgKiBhcyB0YWJzIGZyb20gJy4uL19zaGFyZWQvdGVicy1waWxzL3RhYnMnO1xyXG5pbXBvcnQgKiBhcyBjaGF0Qm90U3RhdHVzIGZyb20gJy4vY2hhdC1ib3Qtc3RhdHVzJztcclxuaW1wb3J0ICogYXMgY2hhdEJvdExvZ3MgZnJvbSAnLi4vX3NoYXJlZC9sb2dzL2xvZ3MnO1xyXG5cclxubGV0IHVzZXJuYW1lU2VsZWN0ZWQgPSAnJztcclxuY29uc3Qgc2VsZWN0Q2xzID0gJ2pzX2xvZ3MtYWNjb3VudHMnO1xyXG5jb25zdCBjbHNDb25zdCA9IHtcclxuICAgIGN1cnJlbnRQYWdlQ2xzOiAnLmJvdC1wYWdlJyxcclxuICAgIHRhc2tzTGlzdDogJy5sb2ctdGFza3MnLFxyXG4gICAgbG9nc1RhYkJ0bjogJyN2LXBpbGxzLWxvZ3MtdGFiJyxcclxuICAgIHBhZ2luYXRpb246ICcubG9ncy1wYWdpbmF0aW9uJyxcclxuICAgIHBhZ2luYXRpb25QZ051bWJlcjogJy5wYWdlLW51bWJlcicsXHJcbiAgICBwYXRoVHlwZTogQ09OU1QudXJsLnRtVHlwZXMuY2hhdEJvdFQsXHJcbiAgICBwYXRoU3ViVHlwZTogQ09OU1QudXJsLnRtVHlwZXMuY2hhdEJvdFN1YlRbMF1cclxufTtcclxuXHJcbmZ1bmN0aW9uIG9uU3VibWl0SGFuZGxlcihlKSB7XHJcbiAgICBjb25zdCBmaWVsZHMgPSAkKCcuYm90LXRleHQtZmllbGRzJyk7XHJcbiAgICBjb25zdCBrZXlXb3JkcyA9ICRlbCA9PiAkZWwudmFsKClcclxuICAgICAgICAudHJpbSgpXHJcbiAgICAgICAgLnJlcGxhY2UoLyAvZywgJycpXHJcbiAgICAgICAgLnNwbGl0KCcsJylcclxuICAgICAgICAuZmlsdGVyKGkgPT4gaS5sZW5ndGggPiAwKTtcclxuICAgIGNvbnN0IHJlcUJvZHkgPSBbXTtcclxuICAgIGZpZWxkcy5lYWNoKChpZHgsIGl0ZW0pID0+IHtcclxuICAgICAgICBjb25zdCBrZXlXb3JkID0ga2V5V29yZHMoJChpdGVtKS5maW5kKCd0ZXh0YXJlYS5hbnN3ZXItd29yZHMnKSk7XHJcbiAgICAgICAgY29uc3QgYW5zd2VyID0gJChpdGVtKS5maW5kKCd0ZXh0YXJlYS5hbnN3ZXItbWVzc2FnZXMnKS52YWwoKTtcclxuICAgICAgICByZXFCb2R5LnB1c2goeydrZXlfd29yZHMnOiBrZXlXb3JkLCBhbnN3ZXJ9KTtcclxuICAgIH0pO1xyXG4gICAgY29uc3QgblJlcUJvZHkgPSB7XHJcbiAgICAgICAgJ3VzZXJuYW1lJzogdXNlcm5hbWVTZWxlY3RlZCxcclxuICAgICAgICAndHlwZSc6IGNsc0NvbnN0LnBhdGhUeXBlLFxyXG4gICAgICAgICdzdWJ0eXBlJzogY2xzQ29uc3QucGF0aFN1YlR5cGUsXHJcbiAgICAgICAgJ3VzZXJfZGVmYXVsdF9jb25maWcnOiB7fSxcclxuICAgICAgICAndXNlcl9jdXN0b21fY29uZmlnJzoge1xyXG4gICAgICAgICAgICAnZm9ybXMnOiByZXFCb2R5XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICAvLyBjb25zb2xlLmxvZygnbWFrZSByZXF1ZXN0IGhlcmUqKicsIG5SZXFCb2R5KTtcclxuICAgIGZ1bmN0aW9uIGNiRXJyb3IocmVzKSB7XHJcbiAgICAgICAgY29uc3QgbXNnID0gcmVzLnN0YXR1cy5tZXNzYWdlO1xyXG4gICAgICAgICQoJy5mb3JtLXN1Ym1pdC1maW5pc2gtLWVycm9yJykuYWRkQ2xhc3MoJ2QtYmxvY2snKVxyXG4gICAgICAgIC5maW5kKCcuYWxlcnQnKS5hcHBlbmQoYDxwPiR7bXNnfTwvcD5gKTtcclxuICAgIH1cclxuICAgIFVzZXJUYXNrTWFuYWdlci5wb3N0U3RhcnRUYXNrKG5SZXFCb2R5LCBjYkVycm9yKS50aGVuKChyZXN1bHQpID0+IHtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZygncG9zdEJvdCcpO1xyXG4gICAgICAgIGlmIChyZXN1bHQuc3RhdHVzLnN0YXRlID09PSAnb2snKSB7XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKEpTT04uc3RyaW5naWZ5KHJlc3VsdCkpO1xyXG4gICAgICAgICAgICAkKCcuZm9ybS1zdWJtaXQtZmluaXNoJykuZmluZCgnLmFsZXJ0IHAnKS5yZW1vdmUoKTtcclxuICAgICAgICAgICAgJCgnLmZvcm0tc3VibWl0LWZpbmlzaCcpLmFkZENsYXNzKCdkLWJsb2NrJylcclxuICAgICAgICAgICAgICAgIC5maW5kKCcuYWxlcnQnKS5hcHBlbmQoYDxwPnRhc2tfaWQ6ICR7cmVzdWx0LmRhdGEudGFza19pZH08L3A+YCk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGZpbGxMaXN0VXNlcnMoJHdyYXBwZXIsIGFjY291bnRzKSB7XHJcbiAgICAkd3JhcHBlci5lbXB0eSgpLmFkZENsYXNzKCdib3JkZXItbGlnaHQtY29sb3InKTtcclxuICAgICQoYDxkaXYgY2xhc3M9XCJcIj7QlNC+0YHRgtGD0L/QvdGL0LUg0LDQutC60LDRg9C90YLRizwvZGl2PjxzZWxlY3QgbmFtZT1cInRhc2stdHlwZVwiIGNsYXNzPVwiJHtzZWxlY3RDbHN9XCI+PC9zZWxlY3Q+YCkuYXBwZW5kVG8oJHdyYXBwZXIpO1xyXG4gICAgYWNjb3VudHMuZm9yRWFjaCgobmFtZSkgPT4ge1xyXG4gICAgICAgICQoYDxvcHRpb24gY2xhc3M9XCJsaXN0LWdyb3VwLWl0ZW0gcHktMlwiIHZhbHVlPVwiJHtuYW1lfVwiPlxyXG4gICAgICAgICAgICAke25hbWV9XHJcbiAgICAgICAgPC9vcHRpb24+YCkuYXBwZW5kVG8oJChgLiR7c2VsZWN0Q2xzfWApKTtcclxuICAgIH0pO1xyXG4gICAgJChgLiR7c2VsZWN0Q2xzfWApLm9uKCdjaGFuZ2UnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgdXNlcm5hbWVTZWxlY3RlZCA9ICQoYC4ke3NlbGVjdENsc30gb3B0aW9uOnNlbGVjdGVkYCkudmFsKCk7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2codXNlcm5hbWVTZWxlY3RlZCk7XHJcbiAgICAgICAgY2hhdEJvdExvZ3MuaW5pdChzZWxlY3RDbHMsIGNsc0NvbnN0KTtcclxuICAgIH0pO1xyXG59XHJcblxyXG4vLyBmdW5jdGlvbiBnZXRNZXRhTGF6eSgkd3JhcHBlciwgY2JGaWxsTGlzdFVzZXJzKSB7XHJcbi8vICAgICBVc2VyLmdldE1ldGFkYXRhTGF6eSgpLnRoZW4oKHJlcykgPT4ge1xyXG4vLyAgICAgICAgIGlmIChyZXMuc3RhdHVzLnN0YXRlID09PSAnb2snICYmIHJlcy5kYXRhICYmIHJlcy5kYXRhLmFjY291bnRzKSB7XHJcbi8vICAgICAgICAgICAgIGNiRmlsbExpc3RVc2Vycygkd3JhcHBlciwgcmVzLmRhdGEuYWNjb3VudHMpO1xyXG4vLyAgICAgICAgICAgICBjaGF0Qm90TG9ncy5pbml0KHNlbGVjdENscywgY2xzQ29uc3QpO1xyXG4vLyAgICAgICAgIH1cclxuLy8gICAgIH0pO1xyXG4vLyB9XHJcblxyXG4vKipcclxuICogSW5pdCBoZWFkZXJcclxuICovXHJcbmZ1bmN0aW9uIGluaXRIYW5kbGVycygpIHtcclxuICAgIGNvbnN0IHRwbFRleHRGaWVsZCA9ICgpID0+ICQoYDxkaXYgY2xhc3M9XCJib3QtdGV4dC1maWVsZHMgbXQtMlwiPlxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJyb3dcIj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbFwiPlxyXG4gICAgICAgICAgICAgICAgPHRleHRhcmVhIGNsYXNzPVwiZm9ybS1jb250cm9sIGFuc3dlci13b3Jkc1wiIHJvd3M9XCI0XCIgcGxhY2Vob2xkZXI9XCLQktCy0LXQtNC40YLQtSDQutC70Y7Rh9C10LLRi9C1INGB0LvQvtCy0LAg0LjQu9C4INGE0YDQsNC30Ysg0YfQtdGA0LXQtyDQt9Cw0L/Rj9GC0YPRjiwg0L/RgNC4INC60L7RgtC+0YDRi9GFINCx0YPQtNC10YIg0YHRgNCw0LHQsNGC0YvQstCw0YLRjCDRh9Cw0YIt0LHQvtGCXCI+PC90ZXh0YXJlYT5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2xcIj5cclxuICAgICAgICAgICAgICAgIDx0ZXh0YXJlYSBjbGFzcz1cImZvcm0tY29udHJvbCBhbnN3ZXItbWVzc2FnZXNcIiByb3dzPVwiNFwiIHBsYWNlaG9sZGVyPVwi0JLQstC10LTQuNGC0LUg0YHQvtC+0LHRidC10L3QuNC1LCDQutC+0YLQvtGA0L7QtSDQsdGD0LTQtdGCINC+0YLQv9GA0LDQstC70Y/RgtGM0YHRjywg0LXRgdC70Lgg0L/RgNC40YHRg9GC0YHRgtCy0L7QstCw0LvQuCDQutC70Y7Rhy7RgdC70L7QstCwINC40LvQuCDRhNGA0LDQt9GLINC40Lcg0YHRgtC+0LvQsdGG0LAg0YHQu9C10LLQsFwiPjwvdGV4dGFyZWE+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgPC9kaXY+YCk7XHJcblxyXG4gICAgJCgnLmpzX2FkZC1ib3QnKS5vbignY2xpY2snLCAoZSkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGxhc3RUZXh0RmllbGQgPSAkKCcuYm90LXRleHQtZmllbGRzJykubGFzdCgpO1xyXG4gICAgICAgIHRwbFRleHRGaWVsZCgpLmluc2VydEFmdGVyKGxhc3RUZXh0RmllbGQpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gYWxlcnQgY2xvc2VcclxuICAgICQoJy5mb3JtLXN1Ym1pdC1maW5pc2ggLmNsb3NlJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCdhbGVydCBjbG9zZScpO1xyXG4gICAgICAgICQoJyN2LXBpbGxzLWFsbC10YWInKS50cmlnZ2VyKCdjbGljaycpO1xyXG4gICAgICAgIHdpbmRvdy5QdWJTdWIucHVibGlzaChDT05TVC5ldmVudHMudGFza3MuTkVXX1RBU0tfQ1JFQVRFRCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBhbGVydCBjbG9zZVxyXG4gICAgJCgnLmZvcm0tc3VibWl0LWZpbmlzaC0tZXJyb3IgLmNsb3NlJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCdhbGVydCBjbG9zZScpO1xyXG4gICAgICAgICQoJyN2LXBpbGxzLWFsbC10YWInKS50cmlnZ2VyKCdjbGljaycpO1xyXG4gICAgICAgIHdpbmRvdy5QdWJTdWIucHVibGlzaChDT05TVC5ldmVudHMudGFza3MuTkVXX1RBU0tfQ1JFQVRFRCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvKlxyXG4gICAgJCgnI3YtcGlsbHMtbG9ncy10YWInKS5vbignY2xpY2snLCAoZSkgPT4ge1xyXG4gICAgICAgIC8vIGF0IHRoaXMgcG9pbnQgb2YgdGltZSBzZXRJbnRlcnZhbCBpcyB3b3JraW5nXHJcbiAgICAgICAgY29uc3QgJHdyYXBwZXIgPSAkKCcubG9nLXVzZXJzLWxpc3QnKTtcclxuICAgICAgICBnZXRNZXRhTGF6eSgkd3JhcHBlciwgZmlsbExpc3RVc2Vycyk7XHJcbiAgICAgICAgLy8gY2hhdEJvdExvZ3MuaW5pdChzZWxlY3RDbHMsIGNsc0NvbnN0KTtcclxuICAgIH0pO1xyXG4gICAgKi9cclxuICAgIHRhYnMuaW5pdChmaWxsTGlzdFVzZXJzKTtcclxufVxyXG5cclxuZnVuY3Rpb24gc2V0VXNlck5hbWUoc3RhdGUpIHtcclxuICAgIC8vIGNvbnNvbGUubG9nKCdnZXRUYXNrc0RhdGEnLCBzdGF0ZS51c2VybmFtZSk7XHJcbiAgICB1c2VybmFtZVNlbGVjdGVkID0gc3RhdGUudXNlcm5hbWU7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHN0ZXBSZWR1Y2VyKHN0ZXBOdW1iZXIsIHN0YXRlKSB7XHJcbiAgICBzd2l0Y2ggKHN0ZXBOdW1iZXIpIHtcclxuICAgICAgICBjYXNlIDA6XHJcbiAgICAgICAgICAgIHNldFVzZXJOYW1lKHN0YXRlKTtcclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coc3RhdGUsIHN0ZXBOdW1iZXIpO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnZGVmYXVsdCcsIHN0ZXBOdW1iZXIpO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaW5pdCgpIHtcclxuICAgIGlmICgkKCcuYm90LXBhZ2UnKS5sZW5ndGgpIHtcclxuICAgICAgICBjb25zdCB3aXphcmRDZmcgPSB7XHJcbiAgICAgICAgICAgIHN0ZXBSZWR1Y2VyLFxyXG4gICAgICAgICAgICBvblN1Ym1pdEhhbmRsZXJcclxuICAgICAgICB9O1xyXG4gICAgICAgIHdpemFyZEZvcm0uaW5pdCh3aXphcmRDZmcpO1xyXG4gICAgICAgIGluaXRIYW5kbGVycygpO1xyXG4gICAgICAgIGNoYXRCb3RTdGF0dXMuaW5pdCgpO1xyXG4gICAgICAgIHdpbmRvdy5QdWJTdWIuc3Vic2NyaWJlKENPTlNULmV2ZW50cy5pbnN0YWdyYW1BY2NvdW5zLklOU1RBR1JBTV9BQ0NPVU5TX1JFTkRFUkVEX0xBWlksIChlLCBhY2NvdW50cykgPT4ge1xyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhhY2NvdW50cyk7XHJcbiAgICAgICAgICAgIGNoYXRCb3RMb2dzLmluaXQoc2VsZWN0Q2xzLCBjbHNDb25zdCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2Jsb2Nrcy9jaGF0LWJvdC9jaGF0LWJvdC1pbmRleC5qcyIsImltcG9ydCB7Q09OU1R9IGZyb20gJy4uLy4uL2NvbW1vbi9qcy1zZXJ2aWNlcy9jb25zdHMnO1xuaW1wb3J0IHtnZXRUYXNrc0RhdGF9IGZyb20gJy4uL19zaGFyZWQvdGFzay1zdGF0dXMvdGFzay1zdGF0dXMnO1xuXG5leHBvcnQgZnVuY3Rpb24gaW5pdCgpIHtcbiAgICBpZiAoJCgnLmJvdC1wYWdlJykubGVuZ3RoKSB7XG4gICAgICAgIGNvbnN0IHBhdGggPSB7XG4gICAgICAgICAgICB0eXBlOiBDT05TVC51cmwudG1UeXBlcy5jaGF0Qm90VCxcbiAgICAgICAgICAgIHN1YnR5cGU6IENPTlNULnVybC50bVR5cGVzLmNoYXRCb3RTdWJUWzBdXG4gICAgICAgIH07XG4gICAgICAgIGNvbnN0IHdyYXBwZXJzID0ge1xuICAgICAgICAgICAgJHJ1bnM6ICQoJy50YXNrcy1ydW5zJyksXG4gICAgICAgICAgICAkc3RvcHBlZDogJCgnLnRhc2tzLXN0b3BwZWQnKVxuICAgICAgICB9O1xuICAgICAgICBnZXRUYXNrc0RhdGEod3JhcHBlcnMsIHBhdGgpO1xuICAgICAgICAvLyB3aW5kb3cuUHViU3ViLnN1YnNjcmliZShDT05TVC5ldmVudHMuaW5zdGFncmFtQWNjb3Vucy5JTlNUQUdSQU1fQUNDT1VOU19SRU5ERVJFRCwgKGV2ZW50TmFtZSwgZGF0YSkgPT4ge1xuICAgICAgICAvLyAgICAgZ2V0VGFza3NEYXRhKHdyYXBwZXJzLCBwYXRoKTtcbiAgICAgICAgLy8gICAgIGNvbnNvbGUubG9nKCcqKmFuc3dlci1zdGF0dXMnLCBldmVudE5hbWUsIGRhdGEpO1xuICAgICAgICAvLyB9KTtcbiAgICAgICAgd2luZG93LlB1YlN1Yi5zdWJzY3JpYmUoQ09OU1QuZXZlbnRzLnRhc2tzLk5FV19UQVNLX0NSRUFURUQsIChldmVudE5hbWUsIGRhdGEpID0+IHtcbiAgICAgICAgICAgIGdldFRhc2tzRGF0YSh3cmFwcGVycywgcGF0aCk7XG4gICAgICAgIH0pO1xuICAgIH1cbn1cblxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2Jsb2Nrcy9jaGF0LWJvdC9jaGF0LWJvdC1zdGF0dXMuanMiLCIvKiBlc2xpbnQtZGlzYWJsZSBzb3J0LXZhcnMgKi9cclxuLy8gaW1wb3J0ICQgZnJvbSAnanF1ZXJ5JztcclxuaW1wb3J0IFVzZXIgZnJvbSAnLi4vLi4vY29tbW9uL2pzLXNlcnZpY2VzL3VzZXInO1xyXG5pbXBvcnQge0NPTlNUfSBmcm9tICcuLi8uLi9jb21tb24vanMtc2VydmljZXMvY29uc3RzJztcclxuaW1wb3J0IGNvb2tpZVN0b3JhZ2UgZnJvbSAnLi4vLi4vY29tbW9uL2pzLXNlcnZpY2VzL2Nvb2tpZSc7XHJcblxyXG5jb25zdCBwYXJzZVF1ZXJ5U3RyaW5nID0gZnVuY3Rpb24oKSB7XHJcblxyXG4gICAgY29uc3Qgc3RyID0gd2luZG93LmxvY2F0aW9uLnNlYXJjaDtcclxuICAgIGNvbnN0IG9ialVSTCA9IHt9O1xyXG5cclxuICAgIHN0ci5yZXBsYWNlKFxyXG4gICAgICBuZXcgUmVnRXhwKCcoW14/PSZdKykoPShbXiZdKikpPycsICdnJyksXHJcbiAgICAgICAgZnVuY3Rpb24oJDAsICQxLCAkMikge1xyXG4gICAgICAgICAgICBvYmpVUkxbJDFdID0gJDI7XHJcbiAgICAgICAgfVxyXG4gICk7XHJcbiAgICByZXR1cm4gb2JqVVJMO1xyXG59O1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGNvbmZpcm1hdGlvbldpdGhSZWRpcmVjdCgpIHtcclxuICAgIGNvbnN0IHVzZXIgPSBVc2VyO1xyXG4gICAgY29uc3QgcGFyYW1zID0gcGFyc2VRdWVyeVN0cmluZygpO1xyXG4gICAgLy8gRXhhbXBsZSBob3cgdG8gdXNlIGl0OlxyXG5cclxuICAgIGNvbnN0IHNlbmRDb25maXJtID0gZnVuY3Rpb24gKHRva2VuKSB7XHJcbiAgICAgICAgdXNlci5jb25maXJtKHRva2VuKS50aGVuKChyZXN1bHQpID0+IHtcclxuICAgICAgICAgICAgaWYgKHJlc3VsdC5zdGF0dXMgJiYgcmVzdWx0LnN0YXR1cy5zdGF0ZSA9PT0gJ29rJykge1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIHNhdmUgdGhlIGl0ZW1cclxuICAgICAgICAgICAgICAgIGNvb2tpZVN0b3JhZ2Uuc2V0KENPTlNULmNvb2tpZVN0b3JhZ2UuZW1haWxDb25maXJtZWQsICdjb25maXJtZWQnKTtcclxuICAgICAgICAgICAgICAgIGNvb2tpZVN0b3JhZ2Uuc2V0KENPTlNULmNvb2tpZVN0b3JhZ2UudG9rZW4sIHJlc3VsdC5kYXRhLnRva2VuKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyB3aW5kb3cubG9jYXRpb24gPSBjb25maXJtLXJlZ2lzdHJhdGlvbi5odG1sP3Rva2VuPSdmcm9tIHNlcnZlcic7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gcmV0cmlldmUgdGhlIG9iamVjdCBpbiBhIHN0cmluZyBmb3JtXHJcbiAgICAgICAgICAgICAgICBjb25zdCBjdXN0b21lcnNEYXRhU3RyaW5nID0gc2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSgnY3VzdG9tZXJzRGF0YScpO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coY3VzdG9tZXJzRGF0YVN0cmluZyk7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygncmVxdWVzdCBzdWNjZWVkZWQgd2l0aCBKU09OIHJlc3BvbnNlJywgcmVzdWx0KTtcclxuICAgICAgICAgICAgICAgICQoJy5jb25maXJtLXJlZ2lzdHJhdGlvbicpLmFwcGVuZChgPHA+Y29uZmlybWF0aW9uIHN0YXR1czogJHtyZXN1bHQuc3RhdHVzLnN0YXRlfTwvcD5gKTtcclxuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbiA9ICcuL3Byb2ZpbGUuaHRtbCc7XHJcbiAgICAgICAgICAgICAgICB9LCAxMDAwKTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChyZXN1bHQuc3RhdHVzKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXN1bHQpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzdWx0KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuXHJcbiAgICBjb25zdCByZWRpcmVjdCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBkb3Qtbm90YXRpb25cclxuICAgICAgICBjb25zdCB0b2tlbiA9IHBhcmFtc1sndG9rZW4nXTtcclxuXHJcbiAgICAgICAgaWYgKCFsb2NhdGlvbi5wYXRobmFtZS5pbmRleE9mKCdjb25maXJtLXJlZ2lzdHJhdGlvbicpKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHRva2VuKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdzZW5kIHJlcSB0byAnLCB0b2tlbik7XHJcbiAgICAgICAgICAgIHNlbmRDb25maXJtKHRva2VuKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIGZ1bmN0aW9uIGluaXQoKSB7XHJcbiAgICAgICAgcmVkaXJlY3QoKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIGluaXRcclxuICAgIH07XHJcbn1cclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2Jsb2Nrcy9jb25maXJtLXJlZy9jb25maXJtLXJlZy5qcyIsIi8vIGltcG9ydCAqIGFzIGZvbGxvd1N0YXR1cyBmcm9tICcuL2ZvbGxvdy1zdGF0dXMnO1xyXG5pbXBvcnQgKiBhcyBmb2xsb3dTdGF0dXNCeVN1YnR5cGUgZnJvbSAnLi4vLi4vYmxvY2tzL19zaGFyZWQvdGFzay1zdGF0dXMvdGFzay1zdGF0dXMtYnktc3VidHlwZSc7XHJcbmltcG9ydCB7Q09OU1R9IGZyb20gJy4uLy4uL2NvbW1vbi9qcy1zZXJ2aWNlcy9jb25zdHMnO1xyXG5pbXBvcnQgVXNlclRhc2tNYW5hZ2VyIGZyb20gJy4uLy4uL2NvbW1vbi9qcy1zZXJ2aWNlcy9hcGktdGFzay1tYW5hZ2VyJztcclxuaW1wb3J0IHZpZXdVdGlscyBmcm9tICcuLi8uLi9jb21tb24vanMtc2VydmljZXMvdmlldyc7XHJcbmltcG9ydCB7YXR0YWNoVHh0RmlsZUhhbmRsZXJ9IGZyb20gJy4vZm9sbG93LXJlYWQtZmlsZS10eHQnO1xyXG5pbXBvcnQgJ2JydXR1c2luLWpzb24tZm9ybXMnO1xyXG5pbXBvcnQge2luaXRMb2dzVGFifSBmcm9tICcuLi9fc2hhcmVkL2xvZ3MvbG9ncy10YWJzJztcclxuaW1wb3J0IHsvKiBpbml0VGFnc0lucHV0LCAqL25leHRCdG52YWxpZGF0ZUNvbXBldGl0b3JzSGFuZGxlcn0gZnJvbSAnLi4vX3NoYXJlZC90YWdzLWlucHV0L3RhZ3MtaW5wdXQnO1xyXG5cclxuY29uc3Qgc3RhdGUgPSB7XHJcbiAgICB1c2VybmFtZTogJycsXHJcbiAgICBzdWJ0eXBlOiBDT05TVC51cmwudG1UeXBlcy5mb2xsb3dpbmdTdWJUWzBdLCAvLyBkZWZhdWx0IHZhbHVlXHJcbiAgICB1c2VyX2RlZmF1bHRfY29uZmlnOiB7XHJcbiAgICAgICAgdGFza19tb2RlOiAnU0FGRSdcclxuICAgIH1cclxufTtcclxuXHJcbmZ1bmN0aW9uIGZpbGxMaXN0TWV0YSgkbGlzdCwgZGF0YUFycmF5KSB7XHJcbiAgICBjb25zdCBpdGVtcyA9IGRhdGFBcnJheTtcclxuICAgIC8vIGNvbnN0IGRlZmF1bHRBdmF0YXJTcmMgPSBDT05TVC51c2VyLmRlZmF1bEF2YXRhcjtcclxuICAgICRsaXN0LmVtcHR5KCkuYWRkQ2xhc3MoJ2JvcmRlci1saWdodC1jb2xvcicpO1xyXG4gICAgJCgnPGxpIGNsYXNzPVwibGlzdC1ncm91cC1pdGVtIHB5LTJcIj48aDM+VXNlclRhc2tNYW5hZ2VyPC9oMz48L2xpPicpLmFwcGVuZFRvKCRsaXN0KTtcclxuICAgIGl0ZW1zLmZvckVhY2goKGl0ZW0pID0+IHtcclxuICAgICAgICAvLyBjb25zdCBpbmZvID0gaXRlbS5pbmZvO1xyXG4gICAgICAgIC8vIGNvbnN0IGNoZWNrcG9pbnQgPSBpdGVtLmNoZWNrcG9pbnQgfHwgaXRlbTtcclxuICAgICAgICAkKGA8bGkgY2xhc3M9XCJsaXN0LWdyb3VwLWl0ZW0gcHktMlwiIGRhdGEtdXNlcm5hbWU9XCIke2l0ZW0udHlwZX1cIj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtZWRpYS1ib2R5IGQtZmxleFwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wgdGFzay10eXBlXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICR7KGl0ZW0udGFza19pZCkgPyBgPHAgY2xhc3M9XCJtdC0wIG1iLTEgbmFtZVwiPiR7aXRlbS50YXNrX2lkfTwvcD5gIDogJyd9XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbCB0YXNrLXN1YnR5cGVcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgJHsoaXRlbS5zdWJ0eXBlKSA/IGA8cCBjbGFzcz1cIm10LTAgbWItMSBuYW1lXCI+JHtpdGVtLnN1YnR5cGV9PC9wPmAgOiAnJ31cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sIHRhc2stcHJvZ3Jlc3NcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgJHsoaXRlbS5zdGF0dXMuc3RhdGUgPT09ICdTVE9QUEVEJykgPyBgPHAgY2xhc3M9XCJtdC0wIG1iLTEgbmFtZVwiPtCe0YHRgtCw0L3QvtCy0LvQtdC90L4gLSAke2l0ZW0uc3RhdHVzLnJlYXNvbn08L3A+YCA6ICcnfVxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDwhLS08ZGl2IGNsYXNzPVwiY29sIHRhc2stcHJvZ3Jlc3NcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgJHsoaXRlbS5wcm9ncmVzcylcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgID8gYDxwIGNsYXNzPVwibXQtMCBtYi0xIG5hbWVcIj7QmtC+0LvQuNGH0LXRgdGC0LLQviAtICR7aXRlbS5wcm9ncmVzcy5jb3VudH08L3A+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3M9XCJtdC0wIG1iLTEgbmFtZVwiPtCf0YDQvtGG0LXQvdGCIC0gJHtpdGVtLnByb2dyZXNzLnBlcmNlbnR9PC9wPmAgOiAnJ31cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj4tLT5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8L2xpPmApLmFwcGVuZFRvKCRsaXN0KTtcclxuICAgIH0pO1xyXG59XHJcblxyXG4vKlxyXG5mdW5jdGlvbiBmaWxsTGlzdFR5cGVzKCR3cmFwcGVyLCBkYXRhKSB7XHJcbiAgICBjb25zdCBzdHJ1Y3R1cmVPYmogPSBkYXRhWydzdHJ1Y3R1cmUnXTtcclxuXHJcbiAgICAkd3JhcHBlci5lbXB0eSgpLmFkZENsYXNzKCdib3JkZXItbGlnaHQtY29sb3InKTtcclxuICAgICQoJzxkaXYgY2xhc3M9XCJcIj7QotC40L8g0LfQsNC00LDQvdC40Y88L2Rpdj48c2VsZWN0IG5hbWU9XCJ0YXNrLXR5cGVcIiBpZD1cInRhc2stdHlwZXNcIj48L3NlbGVjdD4nKS5hcHBlbmRUbygkd3JhcHBlcik7XHJcbiAgICBmb3IgKGNvbnN0IHR5cGUgaW4gc3RydWN0dXJlT2JqKSB7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coJ3N0cnVjdHVyZTogJyArIGl0ZW0pO1xyXG4gICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc3RydWN0dXJlT2JqLCB0eXBlKSkge1xyXG4gICAgICAgICAgICAkKGA8b3B0aW9uIGNsYXNzPVwibGlzdC1ncm91cC1pdGVtIHB5LTJcIiAkeyh0eXBlICE9PSAnRk9MTE9XSU5HJykgPyAnZGlzYWJsZWQ9XCJkaXNhYmxlZFwiJyA6ICcnfVxyXG4gICAgICAgICAgICAgICAgdmFsdWUgPSBcIiR7SlNPTi5zdHJpbmdpZnkoe3R5cGUsIHN1YnR5cGU6IHN0cnVjdHVyZU9ialt0eXBlXX0pfVwiPlxyXG4gICAgICAgICAgICAgICAgJHt0eXBlfVxyXG4gICAgICAgICAgICA8L29wdGlvbj5gKS5hcHBlbmRUbygkKCcjdGFzay10eXBlcycpKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuKi9cclxuXHJcbmZ1bmN0aW9uIGdldFRhc2tzRGF0YShwYXRoKSB7XHJcbiAgICBVc2VyVGFza01hbmFnZXIuZ2V0TWV0YWRhdGEocGF0aCkudGhlbigocmVzdWx0KSA9PiB7XHJcbiAgICAgICAgaWYgKHJlc3VsdC5zdGF0dXMuc3RhdGUgPT09ICdvaycpIHtcclxuICAgICAgICAgICAgZmlsbExpc3RNZXRhKCQoJy5mb2xsb3ctdGFza3MtbGlzdCcpLCByZXN1bHQuZGF0YS5tZXRhKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gZ2V0RGF0YVN0ZXAyKCkge1xyXG4gICAgY29uc3QgcGF0aCA9IHtcclxuICAgICAgICB0eXBlOiBDT05TVC51cmwudG1UeXBlcy5mb2xsb3dpbmdULFxyXG4gICAgICAgIHN1YnR5cGU6IHN0YXRlLnN1YnR5cGUgfHwgQ09OU1QudXJsLnRtVHlwZXMuZm9sbG93aW5nU3ViVFswXVxyXG4gICAgfTtcclxuICAgIGdldFRhc2tzRGF0YShwYXRoKTtcclxufVxyXG5cclxuZnVuY3Rpb24gZ2V0RGF0YVN0ZXBTcGVlZChzdGVwTnVtYmVyKSB7XHJcbiAgICBjb25zdCBmaWxsU3BlZWRMaXN0ID0gdmlld1V0aWxzLmZpbGxSYWRpb0dyb3VwTGlzdDtcclxuICAgIGNvbnN0IHBhdGggPSB7XHJcbiAgICAgICAgdHlwZTogQ09OU1QudXJsLnRtVHlwZXMuZm9sbG93aW5nVCxcclxuICAgICAgICBzdWJ0eXBlOiBzdGF0ZS5zdWJ0eXBlIHx8IENPTlNULnVybC50bVR5cGVzLmZvbGxvd2luZ1N1YlRbMF1cclxuICAgIH07XHJcbiAgICBmdW5jdGlvbiB0b2dnbGVBZGRUZXh0QnRuKHN1YnR5cGUpIHtcclxuICAgICAgICBpZiAocGF0aC5zdWJ0eXBlID09PSAnRk9MTE9XSU5HX0JZX0xJU1QnKSB7XHJcbiAgICAgICAgICAgIC8vIHNob3cgdHh0IGZpbGVVcGxvYWRcclxuICAgICAgICAgICAgJCgnLmFkZC1maWxlJykuYWRkQ2xhc3MoJ2QtYmxvY2snKTtcclxuICAgICAgICAgICAgJCgnLmFkZC1jb21wZXRpdG9ycycpLmFkZENsYXNzKCdkLW5vbmUnKS5yZW1vdmVDbGFzcygnZC1ibG9jaycpO1xyXG4gICAgICAgICAgICBjb25zdCBuZXh0U3RlcCA9ICQoJy5qc19hZGQtbmV3LXRhc2sgZmllbGRzZXQnKS5nZXQoc3RlcE51bWJlciArIDEpO1xyXG4gICAgICAgICAgICAkKG5leHRTdGVwKS5maW5kKCcuYnRuLW5leHQnKS5hdHRyKCdkaXNhYmxlZCcsICdkaXNhYmxlZCcpO1xyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhuZXh0U3RlcFByb2NlZWRCdG4pO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIHNob3cgY29tcGV0aXRvcnNcclxuICAgICAgICAgICAgJCgnLmFkZC1jb21wZXRpdG9ycycpLmFkZENsYXNzKCdkLWJsb2NrJyk7XHJcbiAgICAgICAgICAgICQoJy5hZGQtZmlsZScpLmFkZENsYXNzKCdkLW5vbmUnKS5yZW1vdmVDbGFzcygnZC1ibG9jaycpO1xyXG4gICAgICAgICAgICBjb25zdCBuZXh0U3RlcCA9ICQoJy5qc19hZGQtbmV3LXRhc2sgZmllbGRzZXQnKS5nZXQoc3RlcE51bWJlciArIDEpO1xyXG4gICAgICAgICAgICAkKG5leHRTdGVwKS5maW5kKCcuYnRuLW5leHQnKS5yZW1vdmVBdHRyKCdkaXNhYmxlZCcpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIGNvbnNvbGUubG9nKCdwYXRoLnN1YnR5cGUnLCBwYXRoLnN1YnR5cGUpO1xyXG5cclxuICAgIHRvZ2dsZUFkZFRleHRCdG4ocGF0aC5zdWJ0eXBlKTtcclxuXHJcbiAgICAvLyBkcmF3IGNyaXRlcmlhXHJcbiAgICBVc2VyVGFza01hbmFnZXIuZ2V0RGVmYXVsdENvbmZpZ3MocGF0aCkudGhlbigocmVzdWx0KSA9PiB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ2dldERlZmF1bHRDb25maWdzJyk7XHJcbiAgICAgICAgaWYgKHJlc3VsdC5zdGF0dXMuc3RhdGUgPT09ICdvaycpIHtcclxuICAgICAgICAgICAgY29uc3Qge1xyXG4gICAgICAgICAgICAgIGRhdGE6IHtcclxuICAgICAgICAgICAgICAgIGZvdW5kOiB7XHJcbiAgICAgICAgICAgICAgICAgIGNmZzoge1xyXG4gICAgICAgICAgICAgICAgICAgIHRhc2tfbW9kZXNcclxuICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSA9IHJlc3VsdDtcclxuXHJcbiAgICAgICAgICAgIGZpbGxTcGVlZExpc3QoJCgnLmpzX2ZvbGxvdy1zcGVlZCcpLCB0YXNrX21vZGVzKTtcclxuICAgICAgICAgICAgJCgnLmpzX2ZvbGxvdy1zcGVlZCBpbnB1dFt0eXBlPXJhZGlvXScpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gJCh0aGlzKS5hdHRyKCd2YWx1ZScpO1xyXG4gICAgICAgICAgICAgICAgc3RhdGUudXNlcl9kZWZhdWx0X2NvbmZpZyA9IHtcclxuICAgICAgICAgICAgICAgICAgICB0YXNrX21vZGU6IHZhbHVlLnRvVXBwZXJDYXNlKClcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG59XHJcbmZ1bmN0aW9uIHNldENvbXBldGl0b3JzKCkge1xyXG4gICAgY29uc3QgY29tcGV0aXRvcnMgPSB2aWV3VXRpbHMuZ2V0VmFsQnlDb21tYVNlcGFyYXRvcigkKCcuZm9sbG93LWZvcm0nKS5maW5kKCcjZm9sbG93ZXJzJykpO1xyXG5cclxuICAgIHN0YXRlWyd1c2VyX2N1c3RvbV9jb25maWcnXSA9IHtcclxuICAgICAgICBjb21wZXRpdG9yc1xyXG4gICAgfTtcclxufVxyXG5cclxuZnVuY3Rpb24gc3RlcFJlZHVjZXIoc3RlcE51bWJlcikge1xyXG4gICAgY29uc3QgJGNvbXBldGl0b3JzVGV4dEFyZWEgPSAkKCcuanNfZm9sbG93LWNvbXBldGl0b3JzJyk7XHJcbiAgICBjb25zdCBuZXh0U3RlcEJ0biA9ICRjb21wZXRpdG9yc1RleHRBcmVhLmNsb3Nlc3QoJy5hZGQtY29tcGV0aXRvcnMnKS5maW5kKCcuYnRuLW5leHQnKTtcclxuICAgIHN3aXRjaCAoc3RlcE51bWJlcikge1xyXG4gICAgICAgIGNhc2UgMDpcclxuICAgICAgICAgICAgZ2V0RGF0YVN0ZXAyKHN0YXRlLnVzZXJuYW1lKTtcclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coc3RhdGUpO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgIGdldERhdGFTdGVwU3BlZWQoc3RlcE51bWJlcik7XHJcbiAgICAgICAgICAgIG5leHRCdG52YWxpZGF0ZUNvbXBldGl0b3JzSGFuZGxlcigkY29tcGV0aXRvcnNUZXh0QXJlYSwgbmV4dFN0ZXBCdG4pO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlIDI6XHJcbiAgICAgICAgICAgIHNldENvbXBldGl0b3JzKCk7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdkZWZhdWx0Jywgc3RlcE51bWJlcik7XHJcbiAgICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNiRXJyb3IocmVzKSB7XHJcbiAgICBjb25zdCBtc2cgPSByZXMuc3RhdHVzLm1lc3NhZ2U7XHJcbiAgICAkKCcuZm9ybS1zdWJtaXQtZmluaXNoLS1lcnJvcicpLmFkZENsYXNzKCdkLWJsb2NrJylcclxuICAgICAgICAuZmluZCgnLmFsZXJ0JykuYXBwZW5kKGA8cD4ke21zZ308L3A+YCk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBJbml0IGhlYWRlclxyXG4gKi9cclxuZnVuY3Rpb24gaW5pdFN0ZXBzKGZvcm1TZWxlY3Rvcikge1xyXG4gICAgY29uc3QgJGZvcm0gPSAkKGZvcm1TZWxlY3Rvcik7XHJcbiAgICAkKCcuanNfcHJvZmlsZS11c2VyLWZvbGxvdz4uY29udGFpbmVyJykucmVtb3ZlQ2xhc3MoJ2NvbnRhaW5lcicpO1xyXG5cclxuICAgIGF0dGFjaFR4dEZpbGVIYW5kbGVyKCcuZmlsZS11cGxvYWQtY29udGFpbmVyJyk7XHJcblxyXG4gICAgJGZvcm0uZmluZCgnZmllbGRzZXQ6Zmlyc3QtY2hpbGQnKS5mYWRlSW4oJ3Nsb3cnKTtcclxuXHJcbiAgICAkZm9ybS5maW5kKCdpbnB1dFt0eXBlPVwidGV4dFwiXScpLm9uKCdmb2N1cycsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAkKHRoaXMpLnJlbW92ZUNsYXNzKCdpbnB1dC1lcnJvcicpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gbmV4dCBzdGVwXHJcbiAgICAkZm9ybS5maW5kKCcuYnRuLW5leHQnKS5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgY29uc3QgcGFyZW50X2ZpZWxkc2V0ID0gJCh0aGlzKS5wYXJlbnRzKCdmaWVsZHNldCcpO1xyXG4gICAgICAgIGxldCBuZXh0X3N0ZXAgPSB0cnVlO1xyXG4gICAgICAgIGNvbnN0IHJhZGlvQnRuQWN0aXZlID0gcGFyZW50X2ZpZWxkc2V0LmZpbmQoJ2lucHV0W25hbWU9XCJ1c2VyQWNjb3VudFJhZGlvXCJdOmNoZWNrZWQnKTtcclxuXHJcbiAgICAgICAgaWYgKHJhZGlvQnRuQWN0aXZlLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgc3RhdGUudXNlcm5hbWUgPSByYWRpb0J0bkFjdGl2ZS5wYXJlbnRzKCdsaScpLmRhdGEoJ3VzZXJuYW1lJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHN0ZXBSZWR1Y2VyKHBhcmVudF9maWVsZHNldC5pbmRleCgpLCBzdGF0ZSk7XHJcblxyXG4gICAgICAgIHBhcmVudF9maWVsZHNldC5maW5kKCdpbnB1dFt0eXBlPVwidGV4dFwiXSxpbnB1dFt0eXBlPVwiZW1haWxcIl0nKS5lYWNoKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKCQodGhpcykudmFsKCkgPT09ICcnKSB7XHJcbiAgICAgICAgICAgICAgICAkKHRoaXMpLmFkZENsYXNzKCdpbnB1dC1lcnJvcicpO1xyXG4gICAgICAgICAgICAgICAgbmV4dF9zdGVwID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAkKHRoaXMpLnJlbW92ZUNsYXNzKCdpbnB1dC1lcnJvcicpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICgkKHRoaXMpLnBhcmVudCgpLmhhc0NsYXNzKCdib290c3RyYXAtdGFnc2lucHV0JykpIHtcclxuICAgICAgICAgICAgICAgIG5leHRfc3RlcCA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgaWYgKG5leHRfc3RlcCkge1xyXG4gICAgICAgICAgICBwYXJlbnRfZmllbGRzZXQuZmFkZU91dCg0MDAsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICQodGhpcykubmV4dCgpLmZhZGVJbigpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gcHJldmlvdXMgc3RlcFxyXG4gICAgJGZvcm0uZmluZCgnLmJ0bi1wcmV2aW91cycpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAvLyBzdGF0ZS51c2VybmFtZSA9IFsuLi5uZXcgU2V0KHN0YXRlLnVzZXJuYW1lKV07XHJcbiAgICAgICAgJCh0aGlzKS5wYXJlbnRzKCdmaWVsZHNldCcpLmZhZGVPdXQoNDAwLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICQodGhpcykucHJldigpLmZhZGVJbigpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gc3BlZWQgcmFkaW8tYnRuIGdyb3VwXHJcbiAgICAkKCcuanNfZm9sbG93LXNwZWVkIGlucHV0W3R5cGU9cmFkaW9dJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGNvbnN0IHZhbHVlID0gJCh0aGlzKS5hdHRyKCd2YWx1ZScpO1xyXG4gICAgICAgIHN0YXRlLnVzZXJfZGVmYXVsdF9jb25maWcgPSB7XHJcbiAgICAgICAgICAgIHRhc2tfbW9kZTogdmFsdWUudG9VcHBlckNhc2UoKVxyXG4gICAgICAgIH07XHJcbiAgICB9KTtcclxuXHJcbiAgICAkKCcuanNfZ2V0LWZvbGxvdy10eXBlIGlucHV0W3R5cGU9cmFkaW9dJykub24oJ2NsaWNrJywgKGUpID0+IHtcclxuICAgICAgICBjb25zdCB2YWx1ZSA9ICQoZS50YXJnZXQpLmF0dHIoJ3ZhbHVlJyk7XHJcbiAgICAgICAgc3RhdGUuc3VidHlwZSA9IHZhbHVlLnRvVXBwZXJDYXNlKCk7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coc3RhdGUpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gc3VibWl0XHJcbiAgICAkZm9ybS5vbignc3VibWl0JywgZnVuY3Rpb24gKGUpIHtcclxuXHJcbiAgICAgICAgc3RhdGUudXNlcl9kZWZhdWx0X2NvbmZpZyA9IHtcclxuICAgICAgICAgICAgLi4uc3RhdGUudXNlcl9kZWZhdWx0X2NvbmZpZyxcclxuICAgICAgICAgICAgY3JpdGVyaWE6IHt9XHJcbiAgICAgICAgfTtcclxuICAgICAgICBjb25zdCBsaW1pdCA9IGRvY3VtZW50LmZvcm1zWydmb2xsb3ctZm9ybSddWydsaW1pdCddO1xyXG4gICAgICAgIGNvbnN0IGhhdmVfcG9zdHMgPSB7XHJcbiAgICAgICAgICAgIGZyb206IGRvY3VtZW50LmZvcm1zWydmb2xsb3ctZm9ybSddWydoYXZlX3Bvc3RzX2Zyb20nXS52YWx1ZSxcclxuICAgICAgICAgICAgdG86IGRvY3VtZW50LmZvcm1zWydmb2xsb3ctZm9ybSddWydoYXZlX3Bvc3RzX3RvJ10udmFsdWVcclxuICAgICAgICB9O1xyXG4gICAgICAgIGNvbnN0IGhhdmVfZm9sbG93ZXJzID0ge1xyXG4gICAgICAgICAgICBmcm9tOiBkb2N1bWVudC5mb3Jtc1snZm9sbG93LWZvcm0nXVsnaGF2ZV9mb2xsb3dlcnNfZnJvbSddLnZhbHVlLFxyXG4gICAgICAgICAgICB0bzogZG9jdW1lbnQuZm9ybXNbJ2ZvbGxvdy1mb3JtJ11bJ2hhdmVfZm9sbG93ZXJzX3RvJ10udmFsdWVcclxuICAgICAgICB9O1xyXG4gICAgICAgIGNvbnN0IGhhdmVfZm9sbG93aW5ncyA9IHtcclxuICAgICAgICAgICAgZnJvbTogZG9jdW1lbnQuZm9ybXNbJ2ZvbGxvdy1mb3JtJ11bJ2hhdmVfZm9sbG93aW5nc19mcm9tJ10udmFsdWUsXHJcbiAgICAgICAgICAgIHRvOiBkb2N1bWVudC5mb3Jtc1snZm9sbG93LWZvcm0nXVsnaGF2ZV9mb2xsb3dpbmdzX3RvJ10udmFsdWVcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBpZiAobGltaXQudmFsdWUgPT09ICcnKSB7XHJcbiAgICAgICAgICAgIGxpbWl0LmZvY3VzKCk7XHJcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgc3RhdGVbJ3VzZXJfZGVmYXVsdF9jb25maWcnXS5jcml0ZXJpYSA9IHtcclxuICAgICAgICAgICAgbGltaXQ6IGxpbWl0LnZhbHVlLFxyXG4gICAgICAgICAgICAndW5mb2xsb3dfdGhlbic6ICEhJCgnI3VuZm9sbG93X3RoZW46Y2hlY2tlZCcpLmxlbmd0aCxcclxuICAgICAgICAgICAgJ2ZvbGxvd19vbl9jbG9zZWRfcHJvZmlsZXMnOiAhISQoJyNmb2xsb3dfb25fY2xvc2VkX3Byb2ZpbGVzOmNoZWNrZWQnKS5sZW5ndGgsXHJcbiAgICAgICAgICAgIGhhdmVfcG9zdHMsXHJcbiAgICAgICAgICAgIGhhdmVfZm9sbG93ZXJzLFxyXG4gICAgICAgICAgICBoYXZlX2ZvbGxvd2luZ3NcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICAkKHRoaXMpLmZpbmQoJ2lucHV0W3R5cGU9XCJ0ZXh0XCJdLGlucHV0W3R5cGU9XCJudW1iZXJcIl0saW5wdXRbdHlwZT1cImVtYWlsXCJdJykuZWFjaChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmICgkKHRoaXMpLnZhbCgpID09PSAnJykge1xyXG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgJCh0aGlzKS5hZGRDbGFzcygnaW5wdXQtZXJyb3InKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICQodGhpcykucmVtb3ZlQ2xhc3MoJ2lucHV0LWVycm9yJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgc3RhdGUudHlwZSA9IENPTlNULnVybC50bVR5cGVzLmZvbGxvd2luZ1Q7IC8vICdGT0xMT1dJTkcnO1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCctLS0tKyBzdGF0ZS5zdWJ0eXBlICstLS0tJywgc3RhdGUuc3VidHlwZSk7XHJcbiAgICAgICAgaWYgKHN0YXRlLnN1YnR5cGUgPT09ICdGT0xMT1dJTkdfQllfTElTVCcpIHtcclxuICAgICAgICAgICAgLy8gdGV4dCBmaWxlIHNob3VsZCBiZSBhZGRlZFxyXG4gICAgICAgICAgICBzdGF0ZVsndXNlcl9jdXN0b21fY29uZmlnJ10uYXR0YWNobWVudCA9IHtcclxuICAgICAgICAgICAgICAgICdsaXN0X2lkJzogJCgnLmFkZC1maWxlIC5maWxlLXVwbG9hZC1jb250YWluZXInKS5hdHRyKCdhdHRhY2hlZC10eHQtaWQnKVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoc3RhdGUuc3VidHlwZSA9PT0gQ09OU1QudXJsLnRtVHlwZXMuZm9sbG93aW5nU3ViVFsxXSkge1xyXG4gICAgICAgICAgICAvLyBjb25zdCBjb21wZXRpdG9ycyA9IGdldFZhbEJ5Q29tbWFTZXBhcmF0b3IoJChmb3JtKS5maW5kKGVsU2VsZWN0b3IuY29tcGV0aXRvcnMpKTtcclxuICAgICAgICAgICAgLy8gc3RhdGUudXNlcl9jdXN0b21fY29uZmlnID0ge1xyXG4gICAgICAgICAgICAvLyAgICAgY29tcGV0aXRvcnM6ICdjb21wZXRpdG9ycydcclxuICAgICAgICAgICAgLy8gfTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc29sZS5sb2coJ21ha2UgcmVxdWVzdCoqICBwb3N0OiBTdGFydEZvbGxvd2luZ0xpc3QnLCBzdGF0ZSk7XHJcblxyXG4gICAgICAgIFVzZXJUYXNrTWFuYWdlci5wb3N0U3RhcnRGb2xsb3dpbmdMaXN0KHN0YXRlLCBjYkVycm9yKS50aGVuKChyZXN1bHQpID0+IHtcclxuICAgICAgICAgICAgaWYgKHJlc3VsdC5zdGF0dXMuc3RhdGUgPT09ICdvaycpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKEpTT04uc3RyaW5naWZ5KHJlc3VsdCkpO1xyXG4gICAgICAgICAgICAgICAgJCgnLmZvcm0tc3VibWl0LWZpbmlzaCcpLmZpbmQoJy5hbGVydCBwJykucmVtb3ZlKCk7XHJcbiAgICAgICAgICAgICAgICAkKCcuZm9ybS1zdWJtaXQtZmluaXNoJykuYWRkQ2xhc3MoJ2QtYmxvY2snKVxyXG4gICAgICAgICAgICAgICAgICAgIC5maW5kKCcuYWxlcnQnKS5hcHBlbmQoYDxwPnRhc2tfaWQ6ICR7cmVzdWx0LmRhdGEudGFza19pZH08L3A+YCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBhbGVydCBjbG9zZVxyXG4gICAgJCgnLmZvcm0tc3VibWl0LWZpbmlzaCAuY2xvc2UnKS5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgLy8gJCh0aGlzKS5jbG9zZXN0KCdmb3JtLXN1Ym1pdC1maW5pc2gnKS5yZW1vdmVDbGFzcygnZC1ibG9jaycpO1xyXG4gICAgICAgICQoJyN2LXBpbGxzLWFsbC10YWInKS50cmlnZ2VyKCdjbGljaycpO1xyXG4gICAgICAgIHdpbmRvdy5QdWJTdWIucHVibGlzaChDT05TVC5ldmVudHMudGFza3MuTkVXX1RBU0tfQ1JFQVRFRCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBhbGVydCBjbG9zZVxyXG4gICAgJCgnLmZvcm0tc3VibWl0LWZpbmlzaC0tZXJyb3IgLmNsb3NlJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCdhbGVydCBjbG9zZScpO1xyXG4gICAgICAgICQoJyN2LXBpbGxzLWFsbC10YWInKS50cmlnZ2VyKCdjbGljaycpO1xyXG4gICAgICAgIHdpbmRvdy5QdWJTdWIucHVibGlzaChDT05TVC5ldmVudHMudGFza3MuTkVXX1RBU0tfQ1JFQVRFRCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBwcmV2IGJ0bjogY2xlYXItY29tcGV0aXRvcnNcclxuICAgICQoJy5qc19mb2xsb3ctY2xlYXItY29tcGV0aXRvcnMnKS5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgY29uc3QgJGNvbXBldGl0b3JzVGV4dEFyZWEgPSAkKCcuanNfZm9sbG93LWNvbXBldGl0b3JzJyk7XHJcbiAgICAgICAgJGNvbXBldGl0b3JzVGV4dEFyZWEudmFsKCcnKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG4vLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLXZhcnNcclxubGV0IHVzZXJuYW1lU2VsZWN0ZWQgPSAnJztcclxuY29uc3QgY2xzQ29uc3QgPSB7XHJcbiAgICBjdXJyZW50UGFnZUNsczogJy5mb2xsb3cnLFxyXG4gICAgdGFza3NMaXN0OiAnLmxvZy10YXNrcycsXHJcbiAgICBsb2dzVGFiQnRuOiAnI3YtcGlsbHMtbG9ncy10YWInLFxyXG4gICAgcGFnaW5hdGlvbjogJy5sb2dzLXBhZ2luYXRpb24nLFxyXG4gICAgcGFnaW5hdGlvblBnTnVtYmVyOiAnLnBhZ2UtbnVtYmVyJyxcclxuICAgIHBhdGhUeXBlOiBDT05TVC51cmwudG1UeXBlcy5mb2xsb3dpbmdULFxyXG4gICAgcGF0aFN1YlR5cGU6IENPTlNULnVybC50bVR5cGVzLmZvbGxvd2luZ1N1YlRbMF1cclxufTtcclxuXHJcbmZ1bmN0aW9uIHNldFVzZXJOYW1lQ2IoX3VzZXJuYW1lU2VsZWN0ZWQpIHtcclxuICAgIHVzZXJuYW1lU2VsZWN0ZWQgPSBfdXNlcm5hbWVTZWxlY3RlZDtcclxufVxyXG5cclxuLypcclxuZnVuY3Rpb24gZml4U3RlcEluZGljYXRvcihuKSB7XHJcbiAgICAvLyBUaGlzIGZ1bmN0aW9uIHJlbW92ZXMgdGhlIFwiYWN0aXZlXCIgY2xhc3Mgb2YgYWxsIHN0ZXBzLi4uXHJcbiAgICB2YXIgaSwgeCA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJzdGVwXCIpO1xyXG4gICAgZm9yIChpID0gMDsgaSA8IHgubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICB4W2ldLmNsYXNzTmFtZSA9IHhbaV0uY2xhc3NOYW1lLnJlcGxhY2UoXCIgYWN0aXZlXCIsIFwiXCIpO1xyXG4gICAgfVxyXG4gICAgLy8uLi4gYW5kIGFkZHMgdGhlIFwiYWN0aXZlXCIgY2xhc3Mgb24gdGhlIGN1cnJlbnQgc3RlcDpcclxuICAgIHhbbl0uY2xhc3NOYW1lICs9IFwiIGFjdGl2ZVwiO1xyXG59Ki9cclxuXHJcbi8vIFRPRE8gOiB1c2UgZnJvbSB3aXphcmRcclxuZXhwb3J0IGZ1bmN0aW9uIG1vZGlmeUFjY0xpc3QoKSB7XHJcbiAgICAvLyBjb25zdCByYWRpb0J0biA9IChpZHgpID0+IGA8ZGl2IGNsYXNzPVwiY29sIGN1c3RvbS1jb250cm9sIGN1c3RvbS1yYWRpbyBqc191c2VyLXJhZGlvXCI+XHJcbiAgICAvLyAgICAgICAgIDxpbnB1dCB0eXBlPVwicmFkaW9cIiBuYW1lPVwidXNlckFjY291bnRSYWRpb1wiIGlkPVwiY3VzdG9tUmFkaW8tJHtpZHh9XCIgY2xhc3M9XCJjdXN0b20tY29udHJvbC1pbnB1dFwiIHZhbHVlPVwiXCI+XHJcbiAgICAvLyAgICAgICAgIDxsYWJlbCBjbGFzcz1cImN1c3RvbS1jb250cm9sLWxhYmVsXCIgZm9yPVwiY3VzdG9tUmFkaW8tJHtpZHh9XCI+0J/QvtC00L/QuNGB0LDRgtGM0YHRjzwvbGFiZWw+XHJcbiAgICAvLyAgICAgPC9kaXY+YDtcclxuICAgIGNvbnN0IHJhZGlvQnRuQXBwZW5kID0gKGlkeCkgPT4gYDxkaXYgY2xhc3M9XCJcIj5cclxuICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJyYWRpb1wiIG5hbWU9XCJ1c2VyQWNjb3VudFJhZGlvXCIgaWQ9XCJjdXN0b21SYWRpby0ke2lkeH1cIiBjbGFzcz1cImN1c3RvbS1jb250cm9sLWlucHV0IGQtbm9uZVwiIHZhbHVlPVwiXCI+XHJcbiAgICAgICAgPC9kaXY+YDtcclxuICAgIGNvbnN0IHJhZGlvQnRuV3JhcCA9IChpZHgpID0+IGA8bGFiZWwgY2xhc3M9XCJhY2NvdW50cy1saXN0LS1sYWJlbC13cmFwcGVyIGNvbCBtYi0wIG1lZGlhIHB5LTNcIiBmb3I9XCJjdXN0b21SYWRpby0ke2lkeH1cIj48L2xhYmVsPmA7XHJcbiAgICBjb25zdCAkYWNjb3VudHNMaXN0ID0gJCgnLmFjY291bnRzLWxpc3QnKTtcclxuICAgIGNvbnN0ICRsaSA9ICRhY2NvdW50c0xpc3QuZmluZCgnbGkubWVkaWEnKTtcclxuICAgICRsaS5hZGRDbGFzcygnanNfdXNlci1yYWRpbycpLnJlbW92ZUNsYXNzKCdweS0zIG1lZGlhJyk7XHJcblxyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCAkbGkubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICAvLyAkKCRsaVtpXSkuYXBwZW5kKHJhZGlvQnRuKGkpKTtcclxuICAgICAgICAkKCRsaVtpXSkud3JhcElubmVyKHJhZGlvQnRuV3JhcChpKSkuYXBwZW5kKHJhZGlvQnRuQXBwZW5kKGkpKTtcclxuICAgIH1cclxuXHJcbiAgICAkKCcuanNfdXNlci1yYWRpbycpLm9uKCdjbGljaycsICdpbnB1dFt0eXBlPXJhZGlvXScsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgY29uc3QgJHBhcmVudEZpZWxkc2V0ID0gJCh0aGlzKS5wYXJlbnRzKCdmaWVsZHNldCcpO1xyXG4gICAgICAgICQoJ2xpLmFjdGl2ZScsICRwYXJlbnRGaWVsZHNldCkucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgICAgICQodGhpcykuY2xvc2VzdCgnbGknKS5hZGRDbGFzcygnYWN0aXZlJyk7XHJcbiAgICAgICAgJCgnLmJ0bi1uZXh0JywgJHBhcmVudEZpZWxkc2V0KS5wcm9wKCdkaXNhYmxlZCcsIGZhbHNlKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG4vKiB3b3JraW5nIGRlbW8gOiBodHRwOi8vYnJ1dHVzaW4ub3JnL2pzb24tZm9ybXMvIzEzXHJcbmZ1bmN0aW9uIGZvcm1Gcm9tSnNvbigpIHtcclxuICAgIGNvbnN0IHNjaGVtYSA9IHtcclxuICAgICAgICBcInR5cGVcIjogXCJvYmplY3RcIixcclxuICAgICAgICBcInByb3BlcnRpZXNcIjoge1xyXG4gICAgICAgICAgICBcInByb3AxXCI6IHtcclxuICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcImludGVnZXJcIlxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBcInByb3AyXCI6IHtcclxuICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcImludGVnZXJcIixcclxuICAgICAgICAgICAgICAgIFwicmVxdWlyZWRcIjogdHJ1ZVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBcInByb3AzXCI6IHtcclxuICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcImludGVnZXJcIixcclxuICAgICAgICAgICAgICAgIFwicmVxdWlyZWRcIjogdHJ1ZVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBcImNvbXBvc2l0ZTFcIjoge1xyXG4gICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwib2JqZWN0XCIsXHJcbiAgICAgICAgICAgICAgICBcInByb3BlcnRpZXNcIjoge1xyXG4gICAgICAgICAgICAgICAgICAgIFwibmVzdGVkMVwiOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcIm51bWJlclwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcInJlcXVpcmVkXCI6IHRydWVcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIFwibmVzdGVkMlwiOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcIm51bWJlclwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcInJlcXVpcmVkXCI6IHRydWVcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgXCJyZXF1aXJlZFwiOiBbXHJcbiAgICAgICAgICAgICAgICAgICAgXCJuZXN0ZWQxXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgXCJuZXN0ZWQyXCJcclxuICAgICAgICAgICAgICAgIF1cclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgXCJjb21wb3NpdGUyXCI6IHtcclxuICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcIm9iamVjdFwiLFxyXG4gICAgICAgICAgICAgICAgXCJwcm9wZXJ0aWVzXCI6IHtcclxuICAgICAgICAgICAgICAgICAgICBcIm5lc3RlZDFcIjoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJudW1iZXJcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJyZXF1aXJlZFwiOiB0cnVlXHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICBcIm5lc3RlZDJcIjoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJudW1iZXJcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJyZXF1aXJlZFwiOiB0cnVlXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIFwicmVxdWlyZWRcIjogW1xyXG4gICAgICAgICAgICAgICAgICAgIFwibmVzdGVkMVwiLFxyXG4gICAgICAgICAgICAgICAgICAgIFwibmVzdGVkMlwiXHJcbiAgICAgICAgICAgICAgICBdXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIFwicmVxdWlyZWRcIjogW1xyXG4gICAgICAgICAgICBcInByb3AxXCIsXHJcbiAgICAgICAgICAgIFwicHJvcDJcIixcclxuICAgICAgICAgICAgXCJjb21wb3NpdGUxXCJcclxuICAgICAgICBdXHJcbiAgICB9O1xyXG4gICAgY29uc3QgQnJ1dHVzaW5Gb3JtcyA9IHdpbmRvdy5icnV0dXNpblsnanNvbi1mb3JtcyddO1xyXG4gICAgY29uc3QgYmYgPSBCcnV0dXNpbkZvcm1zLmNyZWF0ZShzY2hlbWEpO1xyXG4gICAgY29uc3QgY29udGFpbmVyID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2Zvcm0xJyk7XHJcbiAgICBjb25zb2xlLmxvZyh3aW5kb3cuYnJ1dHVzaW4pO1xyXG4gICAgYmYucmVuZGVyKGNvbnRhaW5lciwgZGF0YSk7XHJcbn0qL1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGluaXQoKSB7XHJcbiAgICBjb25zdCBpc0luQ29ycmVjdFBhZ2UgPSAkKCcuZm9sbG93JykubGVuZ3RoO1xyXG4gICAgaWYgKGlzSW5Db3JyZWN0UGFnZSkge1xyXG4gICAgICAgIGNvbnN0IGluaXRpYWxQYXRoID0ge1xyXG4gICAgICAgICAgICB0eXBlOiBDT05TVC51cmwudG1UeXBlcy5mb2xsb3dpbmdULFxyXG4gICAgICAgICAgICBzdWJ0eXBlOiBDT05TVC51cmwudG1UeXBlcy5mb2xsb3dpbmdTdWJUWzBdLFxyXG4gICAgICAgICAgICBzdWJ0eXBlczogQ09OU1QudXJsLnRtVHlwZXMuZm9sbG93aW5nU3ViVFxyXG4gICAgICAgIH07XHJcbiAgICAgICAgZm9sbG93U3RhdHVzQnlTdWJ0eXBlLmluaXQoe2lzSW5Db3JyZWN0UGFnZSwgaW5pdGlhbFBhdGh9KTtcclxuICAgICAgICBpbml0U3RlcHMoJy5mb2xsb3ctZm9ybScpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGNsc0NvbnN0LmN1cnJlbnRQYWdlQ2xzKTtcclxuICAgICAgICBjb25zdCB0ZXh0UnVzQXJyYXkgPSBbJ9Cf0L4g0YHQv9C40YHQutGDJywgJ9Cf0L4g0LDQutGC0LjQstC90L7QuSDQsNGD0LTQuNGC0L7RgNC40Lgg0LrQvtC90LrRg9GA0LXQvdGC0L7QsiddO1xyXG4gICAgICAgIGluaXRMb2dzVGFiKHtsb2dzU3RhdGU6IENPTlNULmxvZ3NTdGF0ZSwgbG9nc1N1YnR5cGVzOiBpbml0aWFsUGF0aC5zdWJ0eXBlcywgY2xzQ29uc3QsIHNldFVzZXJOYW1lQ2IsIHRleHRSdXNBcnJheX0pO1xyXG4gICAgICAgIC8vIGluaXRUYWdzSW5wdXQoKTtcclxuXHJcbiAgICAgICAgLy8gVE9ETyA6IHVzZSB3aXphcmQuaW5pdCgpXHJcbiAgICAgICAgd2luZG93LlB1YlN1Yi5zdWJzY3JpYmUoQ09OU1QuZXZlbnRzLmluc3RhZ3JhbUFjY291bnMuSU5TVEFHUkFNX0FDQ09VTlNfUkVOREVSRUQsIChldmVudE5hbWUsIGRhdGEpID0+IHtcclxuICAgICAgICAgICAgbW9kaWZ5QWNjTGlzdCgpO1xyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZygnbW9kaWZ5QWNjTGlzdCcpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9ibG9ja3MvZm9sbG93L2ZvbGxvdy5qcyIsIi8vIGltcG9ydCAkIGZyb20gJ2pxdWVyeSc7XHJcblxyXG4vLyBjb25zdCBoYW1idXJnZXJCdXR0b25DbHMgPSAnI2FzaWRlX21vYmlsZV9fYnV0dG9uJztcclxuLy8gY29uc3QgaGFtYnVyZ2VyTWVudUNscyA9ICcuYXNpZGUtYnVyZ2VyLW1lbnUnO1xyXG4vLyBjb25zdCBoYW1idXJnZXJNZW51T3BlbmVkQ2xhc3MgPSAnYnVyZ2VyLW1lbnUtLWNsb3NlZCc7XHJcbi8vIGNvbnN0IGhhbWJ1cmdlckJ1dHRvbkNsb3NlQ2xhc3MgPSAnYnVyZ2VyLW1lbnVfX2J1dHRvbi0tY2xvc2UnO1xyXG5jb25zdCBzZWxlY3RvcnNFbCA9IHtcclxuICAgIGxlZnRNZW51OiB7XHJcbiAgICAgICAgaGFtYnVyZ2VyQnV0dG9uQ2xzOiAnI2FzaWRlX21vYmlsZV9fYnV0dG9uJyxcclxuICAgICAgICBoYW1idXJnZXJNZW51Q2xzOiAnLmFzaWRlLWJ1cmdlci1tZW51JyxcclxuICAgICAgICBoYW1idXJnZXJNZW51T3BlbmVkQ2xhc3M6ICdidXJnZXItbWVudS0tY2xvc2VkJyxcclxuICAgICAgICBoYW1idXJnZXJCdXR0b25DbG9zZUNsYXNzOiAnYnVyZ2VyLW1lbnVfX2J1dHRvbi0tY2xvc2UnXHJcbiAgICB9LFxyXG4gICAgcmlnaHRNZW51OiB7XHJcbiAgICAgICAgaGFtYnVyZ2VyQnV0dG9uQ2xzOiAnI2hlYWRlcl9tb2JpbGVfdG9nZ2xlcicsXHJcbiAgICAgICAgaGFtYnVyZ2VyTWVudUNsczogJy5yLXNpZGUtYnVyZ2VyLW1lbnUnLFxyXG4gICAgICAgIGhhbWJ1cmdlck1lbnVPcGVuZWRDbGFzczogJ3Itc2lkZS1idXJnZXItbWVudS0tb3BlbicsXHJcbiAgICAgICAgaGFtYnVyZ2VyQnV0dG9uQ2xvc2VDbGFzczogJ2J1cmdlci1tZW51LXJpZ2h0X19idXR0b24tLWNsb3NlJ1xyXG4gICAgfSxcclxuICAgIHN1YkhlYWRlcjoge1xyXG4gICAgICAgIGhhbWJ1cmdlckJ1dHRvbkNsczogJyNoZWFkZXJfbW9iaWxlX3RvcGJhcl90b2dnbGVyJyxcclxuICAgICAgICBoYW1idXJnZXJNZW51Q2xzOiAnLnN1Yi1oZWFkZXInLFxyXG4gICAgICAgIGhhbWJ1cmdlck1lbnVPcGVuZWRDbGFzczogJ3N1Yi1oZWFkZXItLW9wZW4nLFxyXG4gICAgICAgIGhhbWJ1cmdlckJ1dHRvbkNsb3NlQ2xhc3M6ICdzdWItaGVhZGVyLWJ1dHRvbi0tY2xvc2UnXHJcbiAgICB9XHJcbn07XHJcblxyXG4vKipcclxuICogVG9nZ2xlIGhhbWJ1cmdlciBtZW51IHBvcG92ZXJcclxuICovXHJcbmZ1bmN0aW9uIHRvZ2dsZUhhbWJ1cmdlck1lbnUobWVudU5hbWUpIHtcclxuICAgIGNvbnN0IHtoYW1idXJnZXJNZW51Q2xzLCBoYW1idXJnZXJCdXR0b25DbHMsIGhhbWJ1cmdlckJ1dHRvbkNsb3NlQ2xhc3MsIGhhbWJ1cmdlck1lbnVPcGVuZWRDbGFzc30gPSBzZWxlY3RvcnNFbFttZW51TmFtZV07XHJcbiAgICAkKGhhbWJ1cmdlckJ1dHRvbkNscykudG9nZ2xlQ2xhc3MoaGFtYnVyZ2VyQnV0dG9uQ2xvc2VDbGFzcyk7XHJcbiAgICAkKGhhbWJ1cmdlck1lbnVDbHMpLnRvZ2dsZUNsYXNzKGhhbWJ1cmdlck1lbnVPcGVuZWRDbGFzcyk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBJbml0IGhhbWJ1cmdlciBtZW51XHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gaW5pdCgpIHtcclxuICAgIGNvbnN0IGxlZnRNZW51ID0gJ2xlZnRNZW51JztcclxuICAgIGNvbnN0IHJpZ2h0TWVudSA9ICdyaWdodE1lbnUnO1xyXG4gICAgY29uc3Qgc3ViSGVhZGVyID0gJ3N1YkhlYWRlcic7XHJcblxyXG4gICAgJChzZWxlY3RvcnNFbFtsZWZ0TWVudV0uaGFtYnVyZ2VyQnV0dG9uQ2xzKS5vbignY2xpY2snLCB0b2dnbGVIYW1idXJnZXJNZW51LmJpbmQodGhpcywgbGVmdE1lbnUpKTtcclxuICAgICQoc2VsZWN0b3JzRWxbcmlnaHRNZW51XS5oYW1idXJnZXJCdXR0b25DbHMpLm9uKCdjbGljaycsIHRvZ2dsZUhhbWJ1cmdlck1lbnUuYmluZCh0aGlzLCByaWdodE1lbnUpKTtcclxuICAgICQoc2VsZWN0b3JzRWxbc3ViSGVhZGVyXS5oYW1idXJnZXJCdXR0b25DbHMpLm9uKCdjbGljaycsIHRvZ2dsZUhhbWJ1cmdlck1lbnUuYmluZCh0aGlzLCBzdWJIZWFkZXIpKTtcclxufVxyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvYmxvY2tzL2hlYWRlci9idXJnZXItbWVudS9idXJnZXItbWVudS5qcyIsIi8vIGltcG9ydCAkIGZyb20gJ2pxdWVyeSc7XG5pbXBvcnQgVXNlciBmcm9tICcuLi8uLi9jb21tb24vanMtc2VydmljZXMvdXNlcic7XG4vLyBpbXBvcnQgUHViU3ViIGZyb20gJ3B1YnN1Yi1qcyc7IC8vIGh0dHBzOi8vd3d3Lm5wbWpzLmNvbS9wYWNrYWdlL3B1YnN1Yi1qc1xuaW1wb3J0IHtDT05TVH0gZnJvbSAnLi4vLi4vY29tbW9uL2pzLXNlcnZpY2VzL2NvbnN0cyc7XG5cbmNvbnN0IHNlbGVjdG9yTG9naW5TdGF0ZSA9ICcuanNfbWVzc2FnZV9sb2dnZWQtLXRleHQnO1xuY29uc3Qgc2VsZWN0b3JFbWFpbENvbmZpcm1TdGF0ZSA9ICcuanNfZW1haWwtY29uZmlybS0tdGV4dCc7XG5jb25zdCBjbG9zZUNsYXNzID0gJ2Qtbm9uZSc7XG5jb25zdCBvcGVuZWRDbGFzcyA9ICdkLWJsb2NrJztcblxuZnVuY3Rpb24gZW1haWxOb3RDb25maXJtZWQoKSB7XG4gICAgY29uc3QgJGVtYWlsbk1zZyA9ICQoc2VsZWN0b3JFbWFpbENvbmZpcm1TdGF0ZSk7XG4gICAgJGVtYWlsbk1zZy50ZXh0KCcqKmVtYWlsTm90Q29uZmlybWVkKiogRW1haWwg0L3QtSDQv9C+0LTRgtCy0LXRgNC20LTQtdC9LicpLmNzcygnY29sb3InLCAnbGlnaHRjb3JhbCcpO1xufVxuXG5mdW5jdGlvbiBvbkxvZ2luU3Vic2NyaWJlKG1zZywgZGF0YSkge1xuICAgIC8vIGNvbnNvbGUubG9nKCdvbkxvZ2luU3Vic2NyaWJlJywgbXNnLCBkYXRhKTtcbiAgICAkKENPTlNULnVpU2VsZWN0b3JzLmhlYWRlck5hdkxvZ2luQnRuKS5hZGRDbGFzcyhjbG9zZUNsYXNzKS5yZW1vdmVDbGFzcyhvcGVuZWRDbGFzcyk7XG4gICAgJChDT05TVC51aVNlbGVjdG9ycy5oZWFkZXJSZWdCdG4pLmFkZENsYXNzKGNsb3NlQ2xhc3MpLnJlbW92ZUNsYXNzKG9wZW5lZENsYXNzKTtcbiAgICAkKENPTlNULnVpU2VsZWN0b3JzLmhlYWRlckxvZ2luQm94KS5hZGRDbGFzcyhjbG9zZUNsYXNzKS5yZW1vdmVDbGFzcyhvcGVuZWRDbGFzcyk7XG5cbiAgICAkKCcubmF2LWxpbmsuanNfbG9nT3V0JykuYWRkQ2xhc3Mob3BlbmVkQ2xhc3MpLnJlbW92ZUNsYXNzKGNsb3NlQ2xhc3MpOyAvLyBzaG93XG4gICAgY29uc3QgJGxvZ2luTXNnID0gJChzZWxlY3RvckxvZ2luU3RhdGUpO1xuICAgICRsb2dpbk1zZy50ZXh0KCcqKm9uTG9naW5TdWJzY3JpYmUqKiDQstGLINC30LDQu9C+0LPQuNC90LjQu9C40YHRjCDQsiBMdXhncmFtINGD0YHQv9C10YjQvdC+JykuY3NzKCdjb2xvcicsICdsaWdodGJsdWUnKTtcbiAgICBjb25zdCBpc0VtYWlsQ29uZmlybWVkID0gVXNlci5pc0VtYWlsQ29uZmlybWVkKCk7XG4gICAgaWYgKCFpc0VtYWlsQ29uZmlybWVkKSB7XG4gICAgICAgIGVtYWlsTm90Q29uZmlybWVkKCk7XG4gICAgfVxufVxuXG5mdW5jdGlvbiBzaG93TG9nb3V0KCkge1xuICAgIC8vIGNoZWNrIGlzIGxvZ2dlZFxuICAgIGNvbnN0IGlzTG9nZ2VkID0gVXNlci5pc0xvZ2dlZEluKCk7XG4gICAgY29uc3QgaXNFbWFpbENvbmZpcm1lZCA9IFVzZXIuaXNFbWFpbENvbmZpcm1lZCgpO1xuICAgIGlmICghaXNFbWFpbENvbmZpcm1lZCkge1xuICAgICAgICBlbWFpbE5vdENvbmZpcm1lZCgpO1xuICAgIH1cbiAgICAvLyBjb25zb2xlLmxvZygnaXNMb2dnZWQnLCBpc0xvZ2dlZCk7XG4gICAgaWYgKGlzTG9nZ2VkKSB7XG4gICAgICAgICQoJy5uYXYtbGluay5qc19sb2dPdXQnKS5wYXJlbnQoKS5zaG93KCk7XG4gICAgICAgICQoJy5qc19lbWFpbC1jb25maXJtLS10ZXh0JykudGV4dCgn0LLRiyDQt9Cw0LvQvtCz0LjQvdC40LvQuNGB0Ywg0YPRgdC/0LXRiNC90L4nKTtcbiAgICAgICAgY29uc3Qgb2xkVVJMID0gZG9jdW1lbnQucmVmZXJyZXI7XG4gICAgICAgIC8vIGNvbnNvbGUubG9nKG9sZFVSTCk7XG4gICAgICAgIGlmIChvbGRVUkwuaW5jbHVkZXMoJ2NvbmZpcm0tcmVnaXN0cmF0aW9uJykpIHtcbiAgICAgICAgICAgICQoJy5qc19tZXNzYWdlX2xvZ2dlZC0tdGV4dCcpLnRleHQoJ9Cy0Ysg0L/QvtC00YLQstC10YDQtNC40LvQuCDRgNC10LPQuNGB0YLRgNCw0YbQuNGOJyk7XG4gICAgICAgIH1cbiAgICAgICAgb25Mb2dpblN1YnNjcmliZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICAgICQoc2VsZWN0b3JMb2dpblN0YXRlKS50ZXh0KCfQn9GA0LjQstC10YIg0LDQvdC+0L3QuNC80L3Ri9C5INC/0L7Qu9GM0LfQvtCy0LDRgtC10LvRjCcpO1xuICAgICAgICAkKHNlbGVjdG9yRW1haWxDb25maXJtU3RhdGUpLmVtcHR5KCk7XG4gICAgfVxufVxuXG4vKipcbiAqIEluaXQgaGVhZGVyXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBpbml0SGVhZGVyKCkge1xuICAgLy8gY2hlY2sgb3RoZXIgaGFuZGxlciBpbiBsb2dpbi1mb3JtLmpzXG4gICAgLy8gY29uc3QgJGxvZ2luQm94ID0gJChDT05TVC51aVNlbGVjdG9ycy5oZWFkZXJMb2dpbkJveCk7XG4gICAgLy8gY29uc3QgJHJlZ2lzdGVyQm94ID0gJChDT05TVC51aVNlbGVjdG9ycy5oZWFkZXJSZWdCb3gpO1xuXG4gICAgLy8gUHViU3ViLnN1YnNjcmliZShDT05TVC5ldmVudHMuVVNFUl9MT0dHRUQsIG9uTG9naW5TdWJzY3JpYmUpO1xuXG4gICAgc2hvd0xvZ291dCgpO1xuXG4gICAgLy8gJChDT05TVC51aVNlbGVjdG9ycy5oZWFkZXJSZWdCdG4pLm9uKCdjbGljaycsICgpID0+IHtcbiAgICAvLyAgICAgJGxvZ2luQm94LmhpZGUoKTtcbiAgICAvLyAgICAgJHJlZ2lzdGVyQm94LmNzcyh7J3RvcCc6IDAsICdyaWdodCc6IDB9KVxuICAgIC8vICAgICAgICAgLmFkZENsYXNzKCdiZy1saWdodCBib3JkZXIgbXQtNSBteC1hdXRvIHBvc2l0aW9uLWFic29sdXRlIHB4LTMgZC1ibG9jaycpXG4gICAgLy8gICAgICAgICAucmVtb3ZlQ2xhc3MoJ2Qtbm9uZScpO1xuICAgIC8vIH0pO1xuXG4gICAgLy8gJChDT05TVC51aVNlbGVjdG9ycy5oZWFkZXJOYXZMb2dpbkJ0bikub24oJ2NsaWNrJywgKCkgPT4ge1xuICAgIC8vICAgICAkbG9naW5Cb3guYWRkQ2xhc3MoJ2QtYmxvY2snKS5yZW1vdmVDbGFzcygnZC1ub25lJyk7XG4gICAgLy8gICAgICRyZWdpc3RlckJveC5hZGRDbGFzcygnZC1ub25lJykucmVtb3ZlQ2xhc3MoJ2QtYmxvY2snKTtcbiAgICAvLyB9KTtcbn1cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9ibG9ja3MvaGVhZGVyL2hlYWRlci5qcyIsImltcG9ydCBVc2VyIGZyb20gJy4uLy4uL2NvbW1vbi9qcy1zZXJ2aWNlcy91c2VyJztcclxuaW1wb3J0IHtDT05TVH0gZnJvbSAnLi4vLi4vY29tbW9uL2pzLXNlcnZpY2VzL2NvbnN0cyc7XHJcbmltcG9ydCB7cmVuZGVySXRlbX0gZnJvbSAnLi9pbnN0YWdyYW0tYWNjb3VudHMtbGlzdCc7XHJcbmltcG9ydCBTcGlubmVyIGZyb20gJy4uLy4uL2NvbW1vbi9qcy1zZXJ2aWNlcy9zcGlubmVyJztcclxuaW1wb3J0ICogYXMgaW1hZ2VVcGxvYWQgZnJvbSAnLi4vX3NoYXJlZC9pbWFnZS11cGxvYWQvaW1hZ2UtdXBsb2FkJztcclxuXHJcbmZ1bmN0aW9uIHVwZGF0ZUJ1dHRvbnNEYXRhQXR0ciAoc2V0dGluZ0J1dHRvbnNIYW5kbGVyQ2IpIHtcclxuICAgIGNvbnN0IGNmZyA9IHtcclxuICAgICAgICBkZWxldGVCdG5DbHM6ICcuanNfYWNjLWRlbGV0ZScsXHJcbiAgICAgICAgdXBkYXRlQnRuQ2xzOiAnLmpzX2FjYy1yZWZyZXNoJyxcclxuICAgICAgICBlZGl0QnRuQ2xzOiAnLmpzX2FjYy1lZGl0J1xyXG4gICAgfTtcclxuICAgIC8vICQoY2ZnLmVkaXRCdG5DbHMpLm9mZigpO1xyXG4gICAgJChjZmcudXBkYXRlQnRuQ2xzKS5vZmYoKTsgLy8gUmVsb2FkIGJ1dHRvbiBjbGVhciBsaXN0ZW5lclxyXG4gICAgLy8gJChjZmcuZGVsZXRlQnRuQ2xzKS5vZmYoKTtcclxuICAgIHNldHRpbmdCdXR0b25zSGFuZGxlckNiKGNmZyk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBzZXR0aW5nQnV0dG9uc0hhbmRsZXIoY2xhc3NDZmcpIHtcclxuICAgIGNvbnN0IHtkZWxldGVCdG5DbHMsIHVwZGF0ZUJ0bkNscywgZWRpdEJ0bkNsc30gPSBjbGFzc0NmZztcclxuICAgIGNvbnN0IG1vZGFsQ29uZmlybSA9ICQoJyNkZWxldGUtdXNlci1wcm9tdCcpO1xyXG4gICAgbGV0IHVzZXJuYW1lID0gJyc7XHJcbiAgICBsZXQgdXNlck9yaWdpbmFsID0ge307XHJcbiAgICBjb25zdCByZXBsYWNlV2l0aENmZyA9IHtcclxuICAgICAgICByZXBsYWNlV2l0aDogdHJ1ZSxcclxuICAgICAgICBob2xkZXJDbHM6ICcubW9kYWwtaW1hZ2UtaG9sZGVyJyxcclxuICAgICAgICB1cGxvYWRCdG5DbHM6ICcuanNfZWRpdC1wcm9maWxlLWltZy11cGQnLFxyXG4gICAgICAgIGltYWdlQ2xzOiAnaW1nLnVzZXItYXZhdGFyJ1xyXG4gICAgfTtcclxuICAgIGltYWdlVXBsb2FkLmluaXQocmVwbGFjZVdpdGhDZmcpO1xyXG4gICAgLy8gaW1hZ2UtdXBsb2FkIHN1YnNjcmliZXJcclxuICAgIHdpbmRvdy5QdWJTdWIuc3Vic2NyaWJlKENPTlNULmV2ZW50cy5hdXRvYXJuc3dlci5JTUFHRV9VUExPQURFRF9BVkFUQVIsIChlLCByZXMpID0+IHtcclxuICAgICAgICBjb25zdCByZXN1bHQgPSBKU09OLnBhcnNlKHJlcy5yZXNwb25zZSk7XHJcbiAgICAgICAgY29uc3Qge3Byb2ZpbGVfcGljX3VybH0gPSByZXN1bHQuZGF0YS5wcm9maWxlO1xyXG4gICAgICAgIHVzZXJPcmlnaW5hbC4kbGkuZmluZCgnaW1nJykuYXR0cignc3JjJywgcHJvZmlsZV9waWNfdXJsKTtcclxuICAgICAgICBjb25zb2xlLmxvZygndXNlck9yaWdpbmFsJywgdXNlck9yaWdpbmFsKTtcclxuICAgIH0pO1xyXG4gICAgLy8gREVMRVRFIC4uLi9pbnN0YWdyYW0tYWNjb3VudHMve3VzZXJuYW1lfVxyXG4gICAgJChkZWxldGVCdG5DbHMpLm9uKCdjbGljaycsIChlKSA9PiB7XHJcbiAgICAgICAgdXNlcm5hbWUgPSAkKGUudGFyZ2V0KS5jbG9zZXN0KGRlbGV0ZUJ0bkNscykuZGF0YSgndXNlcm5hbWUnKTtcclxuICAgICAgICBtb2RhbENvbmZpcm0ubW9kYWwoJ3Nob3cnKTtcclxuICAgIH0pO1xyXG4gICAgJCgnLmpzX2FjYy1kZWxldGUtY29uZmlybScpLm9uKCdjbGljaycsIChlKSA9PiB7XHJcbiAgICAgICAgVXNlci5kZWxJbnN0YWdyYW1BY2NvdW50KHVzZXJuYW1lKS50aGVuKChyZXN1bHQpID0+IHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2cocmVzdWx0KTtcclxuICAgICAgICAgICAgaWYgKHJlc3VsdC5zdGF0dXMuc3RhdGUgPT09ICdvaycpIHtcclxuICAgICAgICAgICAgICAgIG1vZGFsQ29uZmlybS5oaWRlKCk7XHJcbiAgICAgICAgICAgICAgICB3aW5kb3cuUHViU3ViLnB1Ymxpc2goQ09OU1QuZXZlbnRzLmluc3RhZ3JhbUFjY291bnMuSU5TVEFHUkFNX0FDQ09VTlNfTkVFRF9SRUZSRVNIKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gR0VUIGluc3RhZ3JhbS1hY2NvdW50cy9tZXRhL3t1c2VybmFtZX1cclxuICAgICQodXBkYXRlQnRuQ2xzKS5vbignY2xpY2snLCAoZSkgPT4ge1xyXG4gICAgICAgIGNvbnN0ICRsaSA9ICQoZS50YXJnZXQpLmNsb3Nlc3QoJ2xpJyk7XHJcbiAgICAgICAgY29uc3QgdXNlcm5hbWUgPSAkKGUudGFyZ2V0KS5jbG9zZXN0KHVwZGF0ZUJ0bkNscykuZGF0YSgndXNlcm5hbWUnKTtcclxuICAgICAgICBjb25zdCBkZWZhdWx0QXZhdGFyU3JjID0gQ09OU1QudXNlci5kZWZhdWxBdmF0YXI7XHJcbiAgICAgICAgU3Bpbm5lci5hZGQoJGxpLCAnJyk7XHJcbiAgICAgICAgVXNlci51cGRhdGVJbnN0YWdyYW1BY2NvdW50KHVzZXJuYW1lKS50aGVuKChyZXN1bHQpID0+IHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2cocmVzdWx0KTtcclxuICAgICAgICAgICAgY29uc3Qge2RhdGE6IHthY2NvdW50fX0gPSByZXN1bHQ7XHJcbiAgICAgICAgICAgICRsaS5yZXBsYWNlV2l0aChyZW5kZXJJdGVtKGFjY291bnQsICRsaSwgZGVmYXVsdEF2YXRhclNyYykpO1xyXG5cclxuICAgICAgICAgICAgLypcclxuICAgICAgICAgICAgY29uc3QgY2ZnID0ge1xyXG4gICAgICAgICAgICAgICAgZGVsZXRlQnRuQ2xzOiAnLmpzX2FjYy1kZWxldGUnLFxyXG4gICAgICAgICAgICAgICAgdXBkYXRlQnRuQ2xzOiAnLmpzX2FjYy1yZWZyZXNoJyxcclxuICAgICAgICAgICAgICAgIGVkaXRCdG5DbHM6ICcuanNfYWNjLWVkaXQnXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgIC8vICQoY2ZnLmVkaXRCdG5DbHMpLm9mZigpO1xyXG4gICAgICAgICAgICAkKGNmZy51cGRhdGVCdG5DbHMpLm9mZigpOyAvLyBSZWxvYWQgYnV0dG9uIGNsZWFyIGxpc3RlbmVyXHJcbiAgICAgICAgICAgIC8vICQoY2ZnLmRlbGV0ZUJ0bkNscykub2ZmKCk7XHJcbiAgICAgICAgICAgIHNldHRpbmdCdXR0b25zSGFuZGxlcihjZmcpO1xyXG4gICAgICAgICAgICAqL1xyXG4gICAgICAgICAgICB1cGRhdGVCdXR0b25zRGF0YUF0dHIoc2V0dGluZ0J1dHRvbnNIYW5kbGVyKTtcclxuICAgICAgICAgICAgU3Bpbm5lci5yZW1vdmUoKTtcclxuICAgICAgICB9KTtcclxuICAgIH0pO1xyXG5cclxuICAgIC8vIFBVVCBpbnN0YWdyYW0tYWNjb3VudHMve3VzZXJuYW1lfVxyXG4gICAgY29uc3QgbW9kYWxFZGl0ID0gJCgnI2VkaXQtdXNlci1wcm9tdCcpO1xyXG4gICAgJChlZGl0QnRuQ2xzKS5vbignY2xpY2snLCAoZSkgPT4ge1xyXG4gICAgICAgIGNvbnN0ICRsaSA9ICQoZS50YXJnZXQpLmNsb3Nlc3QoJ2xpJyk7XHJcbiAgICAgICAgY29uc3QgJGVkaXRCdG4gPSAkbGkuZmluZChlZGl0QnRuQ2xzKTtcclxuICAgICAgICBjb25zdCB1c2VybmFtZSA9ICRlZGl0QnRuLmRhdGEoJ3VzZXJuYW1lJyk7XHJcbiAgICAgICAgY29uc3QgbG9naW4gPSAkZWRpdEJ0bi5kYXRhKCduYW1lJyk7XHJcbiAgICAgICAgY29uc3Qgc2l0ZSA9ICRlZGl0QnRuLmRhdGEoJ3VybCcpO1xyXG4gICAgICAgIGNvbnN0IGFib3V0ID0gJGVkaXRCdG4uZGF0YSgnYmlvZ3JhcGh5Jyk7XHJcbiAgICAgICAgY29uc3QgaW1nU3JjID0gJGVkaXRCdG4uZGF0YSgnaW1nJyk7XHJcbiAgICAgICAgY29uc3QgaXNCdXNpbmVzcyA9ICRlZGl0QnRuLmRhdGEoJ2lzX2J1c2luZXNzJyk7XHJcbiAgICAgICAgY29uc3QgaXNQcml2YXRlID0gJGVkaXRCdG4uZGF0YSgnaXNfcHJpdmF0ZScpO1xyXG4gICAgICAgIC8vICdpc19idXNpbmVzcyc9dHJ1ZVxyXG5cclxuICAgICAgICBjb25zdCAkZm9ybSA9IG1vZGFsRWRpdC5maW5kKCdmb3JtJykuZ2V0KDApO1xyXG4gICAgICAgIGNvbnN0IGZvcm1GaWVsZHMgPSB7XHJcbiAgICAgICAgICAgIGxvZ2luOiAkZm9ybVsnbG9naW4nXSxcclxuICAgICAgICAgICAgdXNlcm5hbWU6ICRmb3JtWyd1c2VybmFtZSddLFxyXG4gICAgICAgICAgICBzaXRlOiAkZm9ybVsnc2l0ZSddLFxyXG4gICAgICAgICAgICBhYm91dDogJGZvcm1bJ2Jpb2dyYXBoeSddLFxyXG4gICAgICAgICAgICB1c2VyQXZhdGFySW1nOiAkZm9ybVsndXNlckF2YXRhciddXHJcbiAgICAgICAgfTtcclxuICAgICAgICB1c2VyT3JpZ2luYWwgPSB7XHJcbiAgICAgICAgICAgIGxvZ2luLFxyXG4gICAgICAgICAgICB1c2VybmFtZSxcclxuICAgICAgICAgICAgc2l0ZSxcclxuICAgICAgICAgICAgYWJvdXQsXHJcbiAgICAgICAgICAgICRsaSxcclxuICAgICAgICAgICAgZm9sbG93ZXJDOiAkZWRpdEJ0bi5kYXRhKCdmb2xsb3dlcl9jb3VudCcpLFxyXG4gICAgICAgICAgICBmb2xsb3dpbmdDOiAkZWRpdEJ0bi5kYXRhKCdmb2xsb3dpbmdfY291bnQnKSxcclxuICAgICAgICAgICAgbWVkaWFDOiAkZWRpdEJ0bi5kYXRhKCdtZWRpYV9jb3VudCcpXHJcbiAgICAgICAgfTtcclxuICAgICAgICByZXBsYWNlV2l0aENmZy51c2VybmFtZSA9IHVzZXJuYW1lO1xyXG5cclxuICAgICAgICBmb3JtRmllbGRzLmxvZ2luLnZhbHVlID0gbG9naW47XHJcbiAgICAgICAgZm9ybUZpZWxkcy51c2VybmFtZS52YWx1ZSA9IHVzZXJuYW1lO1xyXG4gICAgICAgIGZvcm1GaWVsZHMuc2l0ZS52YWx1ZSA9IHNpdGU7XHJcbiAgICAgICAgZm9ybUZpZWxkcy5hYm91dC52YWx1ZSA9IGFib3V0O1xyXG4gICAgICAgIGZvcm1GaWVsZHMudXNlckF2YXRhckltZy5zcmMgPSBpbWdTcmM7XHJcbiAgICAgICAgY29uc3QgJHByb2ZpbGVCb3ggPSBtb2RhbEVkaXQuZmluZCgnLmJ1c3NpbmVzLXByb2ZpbGUnKTtcclxuICAgICAgICBpZiAoaXNCdXNpbmVzcykge1xyXG4gICAgICAgICAgICAkcHJvZmlsZUJveC5hZGRDbGFzcygnZC1ub25lJykucmVtb3ZlQ2xhc3MoJ2QtYmxvY2snKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAkcHJvZmlsZUJveC5hZGRDbGFzcygnZC1ibG9jaycpO1xyXG4gICAgICAgICAgICAvLyBpc1ByaXZhdCwgdG9kbzpyZWZhY3RvciBtZVxyXG4gICAgICAgICAgICBpZiAoaXNQcml2YXRlKSB7XHJcbiAgICAgICAgICAgICAgICAkcHJvZmlsZUJveC5maW5kKCcuanNfYnRuLXByb2YtdHlwZS1zd2l0Y2hlciAjY2xvc2VkLXByb2ZpbGUtb24nKS5jbG9zZXN0KCdsYWJlbCcpLmFkZENsYXNzKCdhY3RpdmUnKVxyXG4gICAgICAgICAgICAgICAgICAgIC5maW5kKCcjY2xvc2VkLXByb2ZpbGUtb24nKS5hdHRyKCdjaGVja2VkJywgJ2NoZWNrZWQnKTtcclxuICAgICAgICAgICAgICAgIC8vIG9mZiAtIGRpc2FibGVcclxuICAgICAgICAgICAgICAgICRwcm9maWxlQm94LmZpbmQoJy5qc19idG4tcHJvZi10eXBlLXN3aXRjaGVyICNjbG9zZWQtcHJvZmlsZS1vZmYnKS5jbG9zZXN0KCdsYWJlbCcpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKVxyXG4gICAgICAgICAgICAgICAgICAgIC5maW5kKCcjY2xvc2VkLXByb2ZpbGUtb2ZmJykuYXR0cignY2hlY2tlZCcsIGZhbHNlKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICRwcm9maWxlQm94LmZpbmQoJy5qc19idG4tcHJvZi10eXBlLXN3aXRjaGVyICNjbG9zZWQtcHJvZmlsZS1vZmYnKS5jbG9zZXN0KCdsYWJlbCcpLmFkZENsYXNzKCdhY3RpdmUnKVxyXG4gICAgICAgICAgICAgICAgICAgIC5maW5kKCcjY2xvc2VkLXByb2ZpbGUtb2ZmJykuYXR0cignY2hlY2tlZCcsICdjaGVja2VkJyk7XHJcbiAgICAgICAgICAgICAgICAvLyBvbiAtIGRpc2FibGVcclxuICAgICAgICAgICAgICAgICRwcm9maWxlQm94LmZpbmQoJy5qc19idG4tcHJvZi10eXBlLXN3aXRjaGVyICNjbG9zZWQtcHJvZmlsZS1vbicpLmNsb3Nlc3QoJ2xhYmVsJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpXHJcbiAgICAgICAgICAgICAgICAgICAgLmZpbmQoJyNjbG9zZWQtcHJvZmlsZS1vbicpLmF0dHIoJ2NoZWNrZWQnLCBmYWxzZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgd2luZG93LlB1YlN1Yi5zdWJzY3JpYmUoJ3VwZGF0ZV9kYXRhX3ByaXZhdGVfb25fYWNjX2xpc3QnLCAoZSwgdmFsdWUpID0+IHtcclxuICAgICAgICAgICAgJGVkaXRCdG4uZGF0YSgnaXNfcHJpdmF0ZScsIHZhbHVlICE9PSAnY2xvc2VkLXByb2ZpbGUtb2ZmJyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgbW9kYWxFZGl0Lm1vZGFsKCdzaG93Jyk7XHJcbiAgICB9KTtcclxuICAgICQoJy5qc19lZGl0LXByb2ZpbGUtbW9kaWZ5Jykub24oJ2NsaWNrJywgKGUpID0+IHtcclxuICAgICAgICBjb25zdCAkZm9ybSA9IG1vZGFsRWRpdC5maW5kKCdmb3JtJykuZ2V0KDApO1xyXG4gICAgICAgIGNvbnN0IGZvcm1GaWVsZHMgPSB7XHJcbiAgICAgICAgICAgIGxvZ2luOiAkZm9ybVsnbG9naW4nXSxcclxuICAgICAgICAgICAgdXNlcm5hbWU6ICRmb3JtWyd1c2VybmFtZSddLFxyXG4gICAgICAgICAgICBzaXRlOiAkZm9ybVsnc2l0ZSddLFxyXG4gICAgICAgICAgICBhYm91dDogJGZvcm1bJ2Jpb2dyYXBoeSddLFxyXG4gICAgICAgICAgICB1c2VyQXZhdGFySW1nOiAkZm9ybVsndXNlckF2YXRhciddXHJcbiAgICAgICAgfTtcclxuICAgICAgICBjb25zdCBib2R5ID0ge1xyXG4gICAgICAgICAgICAvLyAndXNlcm5hbWUnOiAodXNlck9yaWdpbmFsLnVzZXJuYW1lICE9PSBmb3JtRmllbGRzLnVzZXJuYW1lLnZhbHVlKSA/IGZvcm1GaWVsZHMudXNlcm5hbWUudmFsdWUgOiAnJyxcclxuICAgICAgICAgICAgLy8gJ25hbWUnOiBmb3JtRmllbGRzLmxvZ2luLnZhbHVlLFxyXG4gICAgICAgICAgICAvLyAnYmlvZ3JhcGh5JzogZm9ybUZpZWxkcy5hYm91dC52YWx1ZSxcclxuICAgICAgICAgICAgLy8gJ3VybCc6IGZvcm1GaWVsZHMuc2l0ZS52YWx1ZSxcclxuICAgICAgICAgICAgLy8gJ29wZW4nOiBpc09wZW5cclxuICAgICAgICB9O1xyXG4gICAgICAgIGxldCB1cGRhdGVEYXRhQXR0clVzZXJuYW1lID0gZmFsc2U7XHJcbiAgICAgICAgaWYgKHVzZXJPcmlnaW5hbC51c2VybmFtZSAhPT0gZm9ybUZpZWxkcy51c2VybmFtZS52YWx1ZSkge1xyXG4gICAgICAgICAgICBib2R5Wyd1c2VybmFtZSddID0gZm9ybUZpZWxkcy51c2VybmFtZS52YWx1ZTtcclxuICAgICAgICAgICAgdXBkYXRlRGF0YUF0dHJVc2VybmFtZSA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh1c2VyT3JpZ2luYWwubG9naW4gIT09IGZvcm1GaWVsZHMubG9naW4udmFsdWUpIHtcclxuICAgICAgICAgICAgYm9keVsnbmFtZSddID0gZm9ybUZpZWxkcy5sb2dpbi52YWx1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHVzZXJPcmlnaW5hbC5hYm91dCAhPT0gZm9ybUZpZWxkcy5hYm91dC52YWx1ZSkge1xyXG4gICAgICAgICAgICBib2R5WydiaW9ncmFwaHknXSA9IGZvcm1GaWVsZHMuYWJvdXQudmFsdWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh1c2VyT3JpZ2luYWwuc2l0ZSAhPT0gZm9ybUZpZWxkcy5zaXRlLnZhbHVlKSB7XHJcbiAgICAgICAgICAgIGJvZHlbJ3VybCddID0gZm9ybUZpZWxkcy5zaXRlLnZhbHVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyAtLS0tdmFsaWRhdGVcclxuICAgICAgICBpZiAoZm9ybUZpZWxkcy5hYm91dC52YWx1ZSA9PT0gJycpIHtcclxuICAgICAgICAgICAgY29uc29sZS5pbmZvKCdhYm91dC52YWx1ZSBpcyBlbXB0eScpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgVXNlci5lZGl0SW5zdGFncmFtQWNjb3VudCh1c2VyT3JpZ2luYWwudXNlcm5hbWUgfHwgJycsIEpTT04uc3RyaW5naWZ5KGJvZHkpKS50aGVuKChyZXN1bHQpID0+IHtcclxuICAgICAgICAgICAgaWYgKHJlc3VsdC5zdGF0dXMuc3RhdGUgPT09ICdvaycpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCcvKlVQREFURSBWSUVXIEhFUkUqLycpO1xyXG4gICAgICAgICAgICAgICAgY29uc3Qge2RhdGE6IHtwcm9maWxlfX0gPSByZXN1bHQ7XHJcbiAgICAgICAgICAgICAgICBwcm9maWxlLmluZm8gPSByZXN1bHQuZGF0YS5wcm9maWxlO1xyXG4gICAgICAgICAgICAgICAgcHJvZmlsZS5pbmZvID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIC4uLnByb2ZpbGUuaW5mbyxcclxuICAgICAgICAgICAgICAgICAgICBmb2xsb3dlcl9jb3VudDogdXNlck9yaWdpbmFsLmZvbGxvd2VyQyxcclxuICAgICAgICAgICAgICAgICAgICBmb2xsb3dpbmdfY291bnQ6IHVzZXJPcmlnaW5hbC5mb2xsb3dpbmdDLFxyXG4gICAgICAgICAgICAgICAgICAgIG1lZGlhX2NvdW50OiB1c2VyT3JpZ2luYWwubWVkaWFDXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAgICAgdXNlck9yaWdpbmFsLiRsaS5yZXBsYWNlV2l0aChyZW5kZXJJdGVtKHByb2ZpbGUsIHVzZXJPcmlnaW5hbC4kbGksIGZhbHNlKSk7XHJcbiAgICAgICAgICAgICAgICB1cGRhdGVCdXR0b25zRGF0YUF0dHIoc2V0dGluZ0J1dHRvbnNIYW5kbGVyKTtcclxuICAgICAgICAgICAgICAgIGlmICh1cGRhdGVEYXRhQXR0clVzZXJuYW1lKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgJGVkaXRCdG4gPSB1c2VyT3JpZ2luYWwuJGxpLmZpbmQoZWRpdEJ0bkNscyk7XHJcbiAgICAgICAgICAgICAgICAgICAgJGVkaXRCdG4uZGF0YSgndXNlcm5hbWUnLCBwcm9maWxlLmluZm8udXNlcm5hbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIHVwZGF0ZURhdGFBdHRyVXNlcm5hbWUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIG1vZGFsQ29uZmlybS5oaWRlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH0pO1xyXG4gICAgLy8gY29uc3QgbW9kZVNlbGVjdG9yID0gJCgnLmpzX2J0bi1wcm9mLXR5cGUtc3dpdGNoZXInKTtcclxuICAgICQoJy5qc19idG4tcHJvZi10eXBlLXN3aXRjaGVyIGxhYmVsJykub24oJ2NsaWNrJywgKGUpID0+IHtcclxuICAgICAgICBjb25zdCB2YWx1ZSA9ICQoZS50YXJnZXQpLmZpbmQoJ2lucHV0W3R5cGU9cmFkaW9dJykuYXR0cigndmFsdWUnKTtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZygnY2xpY2snLCB2YWx1ZSk7XHJcbiAgICAgICAgY29uc3QgaXNPcGVuID0gdmFsdWUgPT09ICdjbG9zZWQtcHJvZmlsZS1vZmYnO1xyXG4gICAgICAgIGNvbnN0IGJvZHkgPSB7XHJcbiAgICAgICAgICAgICdvcGVuJzogaXNPcGVuXHJcbiAgICAgICAgfTtcclxuICAgICAgICBVc2VyLmVkaXRJbnN0YWdyYW1BY2NvdW50KHVzZXJPcmlnaW5hbC51c2VybmFtZSB8fCAnJywgSlNPTi5zdHJpbmdpZnkoYm9keSkpLnRoZW4oKHJlc3VsdCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAocmVzdWx0LnN0YXR1cy5zdGF0ZSA9PT0gJ29rJykge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ3Jlc3VsdCcsIHJlc3VsdCk7XHJcbiAgICAgICAgICAgICAgICB3aW5kb3cuUHViU3ViLnB1Ymxpc2goJ3VwZGF0ZV9kYXRhX3ByaXZhdGVfb25fYWNjX2xpc3QnLCB2YWx1ZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH0pO1xyXG59XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9ibG9ja3MvaW5zdGFncmFtLWFjY291bnRzLWxpc3QvYWNjb3VudHMtbGlzdC1idG4tc2V0dGluZ3MuanMiLCIvKiBlc2xpbnQtZGlzYWJsZSBzb3J0LXZhcnMgKi9cclxuLy8gaW1wb3J0ICQgZnJvbSAnanF1ZXJ5JztcclxuaW1wb3J0IFVzZXIgZnJvbSAnLi4vLi4vY29tbW9uL2pzLXNlcnZpY2VzL3VzZXInO1xyXG5pbXBvcnQgUHViU3ViIGZyb20gJ3B1YnN1Yi1qcyc7IC8vIGh0dHBzOi8vd3d3Lm5wbWpzLmNvbS9wYWNrYWdlL3B1YnN1Yi1qc1xyXG5pbXBvcnQgY29va2llU3RvcmFnZSBmcm9tICcuLi8uLi9jb21tb24vanMtc2VydmljZXMvY29va2llJztcclxuLy8gaW1wb3J0IFZhbGlkYXRvciBmcm9tICcuLi8uLi9jb21tb24vanMtc2VydmljZXMvZm9ybS12YWxpZGF0b3InO1xyXG5pbXBvcnQgdmlld1V0aWxzIGZyb20gJy4uLy4uL2NvbW1vbi9qcy1zZXJ2aWNlcy92aWV3JztcclxuaW1wb3J0IHtDT05TVH0gZnJvbSAnLi4vLi4vY29tbW9uL2pzLXNlcnZpY2VzL2NvbnN0cyc7XHJcblxyXG4vLyB3aW5kb3cuJCA9ICQ7XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gTG9naW5Gb3JtKHNlbGVjdG9yQ3NzKSB7XHJcbiAgICBjb25zdCB7X2Zvcm1JZCwgX2J1dHRvblN1Ym1pdElkLCBfc2hvd0xvZ2luQm94QnRuSWQsIF9sb2dpbkJveH0gPSBzZWxlY3RvckNzcztcclxuICAgIGNvbnN0IHVzZXIgPSBVc2VyLCAvLyBzZXJ2aWNlXHJcbiAgICAgICAgJGZvcm0gPSAkKF9mb3JtSWQpLFxyXG4gICAgICAgICRlbWFpbCA9ICRmb3JtLmZpbmQoJ2lucHV0W25hbWU9XCJtYWlsXCJdJyksXHJcbiAgICAgICAgJHRleHRBcmVhRGVzY3JpcHRpb24gPSAkKCcjZGVzY3JpcHRpb24nKTtcclxuICAgIC8vIGNvbnN0IG9wZW5lZENsYXNzID0gJ2QtYmxvY2snO1xyXG4gICAgLy8gY29uc3QgY2xvc2VDbGFzcyA9ICdkLW5vbmUnO1xyXG5cclxuICAgIGNvbnN0IHVzZXJMb2dpbkhlYWRlciA9IChfZm9ybURhdGEpID0+IHtcclxuICAgICAgICBjb25zdCBjYkVycm9yID0gKHJlc3VsdCkgPT4ge1xyXG4gICAgICAgICAgICAkKF9sb2dpbkJveCkuYXBwZW5kKCc8cD5yZXN1bHQuc3RhdHVzLm1lc3NhZ2U8L3A+Jyk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHVzZXIubG9naW4oX2Zvcm1EYXRhLCBjYkVycm9yKVxyXG4gICAgICAgICAgICAudGhlbigocmVzdWx0KSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0ICYmIHJlc3VsdC5kYXRhICYmIHJlc3VsdC5kYXRhLnRva2VuKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gc2F2ZSB0aGUgaXRlbVxyXG4gICAgICAgICAgICAgICAgICAgIGNvb2tpZVN0b3JhZ2Uuc2V0KENPTlNULmNvb2tpZVN0b3JhZ2UudG9rZW4sIHJlc3VsdC5kYXRhLnRva2VuKTtcclxuICAgICAgICAgICAgICAgICAgICAkKCcubmF2LWxpbmsuanNfbG9nT3V0JykucGFyZW50KCkuc2hvdygpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdyZXF1ZXN0IHN1Y2NlZWRlZCB3aXRoIEpTT04gcmVzcG9uc2UnLCByZXN1bHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIHZpZXdVdGlscy5zaG93SW5mb01lc3NhZ2UoJHRleHRBcmVhRGVzY3JpcHRpb24sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5zdGF0dXMuc3RhdGUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5zdGF0dXMubWVzc2FnZSB8fCAnTG9naW4gc3VjY3Nlc3MnKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocmVzdWx0LnN0YXR1cykge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3VsdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmlld1V0aWxzLnNob3dJbmZvTWVzc2FnZSh0aGlzLiR0ZXh0QXJlYURlc2NyaXB0aW9uLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBgPHA+c3RhdHVzOiAke3Jlc3VsdC5zdGF0dXMuc3RhdGV9PC9wPjxwPiBtZXNzYWdlOiAke3Jlc3VsdC5zdGF0dXMubWVzc2FnZX08L3A+YCk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3VsdCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pLnRoZW4oKHJlc3VsdCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdCAmJiByZXN1bHQuc3RhdHVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzdWx0KTtcclxuICAgICAgICAgICAgICAgICAgICB2aWV3VXRpbHMuc2hvd0luZm9NZXNzYWdlKCR0ZXh0QXJlYURlc2NyaXB0aW9uLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQuc3RhdHVzLnN0YXRlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQuc3RhdHVzLm1lc3NhZ2UgfHwgJ0xvZ2luIGVycm9yJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgfTtcclxuXHJcbiAgICBjb25zdCBzdWJtaXRGb3JtID0gZnVuY3Rpb24oZm9ybURhdGFPYmopIHtcclxuICAgICAgICBjb25zdCBlbWFpbCA9ICRlbWFpbC52YWwoKSxcclxuICAgICAgICAgICAgcGFzc3dvcmQgPSAkZm9ybS5maW5kKCdpbnB1dFtuYW1lPVwicGFzc1wiXScpLnZhbCgpLFxyXG4gICAgICAgICAgICBfZm9ybURhdGEgPSBmb3JtRGF0YU9iaiB8fCB7ZW1haWwsIHBhc3N3b3JkfTtcclxuXHJcbiAgICAgICAgaWYgKHNlbGVjdG9yQ3NzLmlzTG9naW5JbnN0YWdyYW0pIHtcclxuICAgICAgICAgICAgLy8gdG9kbzogZGVsZXRlIG1lXHJcbiAgICAgICAgICAgIC8vIGFkZEluc3RhZ3JhbUFjY291bnQoe3VzZXJuYW1lOiAkZm9ybS5maW5kKCdpbnB1dFtuYW1lPVwidXNlcm5hbWVcIl0nKS52YWwoKSwgcGFzc3dvcmR9KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAkZW1haWwudmFsKCRlbWFpbC52YWwoKS50b0xvY2FsZUxvd2VyQ2FzZSgpKTtcclxuICAgICAgICAgICAgdXNlckxvZ2luSGVhZGVyKF9mb3JtRGF0YSkudGhlbigoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBQdWJTdWIucHVibGlzaChDT05TVC5ldmVudHMuVVNFUl9MT0dHRUQsICdsb2dpbicpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIGNvbnN0IGxvZ091dCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGNvb2tpZVN0b3JhZ2UucmVtb3ZlKENPTlNULmNvb2tpZVN0b3JhZ2UudG9rZW4pO1xyXG4gICAgICAgIFB1YlN1Yi5wdWJsaXNoKENPTlNULmV2ZW50cy5VU0VSX0xPR09VVCk7XHJcbiAgICB9O1xyXG5cclxuICAgIGNvbnN0IGJpbmRFdmVudHMgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICBjb25zdCAkc2hvd0xvZ2luQm94QnRuSWQgPSAkKF9zaG93TG9naW5Cb3hCdG5JZCk7XHJcbiAgICAgICAgY29uc3QgJGxvZ2luQm94ID0gJChfbG9naW5Cb3gpO1xyXG4gICAgICAgIGNvbnN0IG9wZW5lZENsYXNzID0gJ2QtYmxvY2snO1xyXG4gICAgICAgIGNvbnN0IGNsb3NlQ2xhc3MgPSAnZC1ub25lJztcclxuXHJcbiAgICAgICAgJHNob3dMb2dpbkJveEJ0bklkLm9uKCdjbGljaycsICgpID0+IHtcclxuICAgICAgICAgICAgaWYgKCFzZWxlY3RvckNzcy5pc0xvZ2luSW5zdGFncmFtKSB7XHJcbiAgICAgICAgICAgICAgICAkbG9naW5Cb3guY3NzKHsndG9wJzogMCwgJ3JpZ2h0JzogMH0pXHJcbiAgICAgICAgICAgICAgICAgICAgLmFkZENsYXNzKCdiZy1saWdodCBib3JkZXIgbXQtNSBteC1hdXRvIHBvc2l0aW9uLWFic29sdXRlJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgJGxvZ2luQm94LmFkZENsYXNzKG9wZW5lZENsYXNzKS5yZW1vdmVDbGFzcyhjbG9zZUNsYXNzKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgY29uc3QgJGJ1dHRvblN1Ym1pdCA9ICQoX2J1dHRvblN1Ym1pdElkKSxcclxuICAgICAgICAgICAgY3NzVmFsaWRhdGlvbkNsYXNzID0gJ2Zvcm0tdmFsaWRhdGlvbic7XHJcblxyXG4gICAgICAgICRidXR0b25TdWJtaXQub24oJ2NsaWNrJywgKGUpID0+IHtcclxuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICBjb25zdCBmb3JtID0gJGZvcm0uZ2V0KDApO1xyXG4gICAgICAgICAgICAvLyBjb25zdCB2YWxpZGF0b3IgPSBuZXcgVmFsaWRhdG9yKCRmb3JtKTtcclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2codmFsaWRhdG9yLnZhbGlkYXRlKCkpO1xyXG4gICAgICAgICAgICBpZiAoZm9ybS5jaGVja1ZhbGlkaXR5KCkgJiYgdmlld1V0aWxzLmlzRW1haWwoJGVtYWlsLnZhbCgpKSkge1xyXG4gICAgICAgICAgICAgICAgc3VibWl0Rm9ybSgpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy8gSGlnaGxpZ2h0IGVycm9yc1xyXG4gICAgICAgICAgICAgICAgaWYgKGZvcm0ucmVwb3J0VmFsaWRpdHkpIHtcclxuICAgICAgICAgICAgICAgICAgICBmb3JtLnJlcG9ydFZhbGlkaXR5KCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAkZm9ybS5hZGRDbGFzcyhjc3NWYWxpZGF0aW9uQ2xhc3MpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICQoJy5uYXYtbGluay5qc19sb2dPdXQnKS5vbignY2xpY2snLCAoZSkgPT4ge1xyXG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgIGxvZ091dCgpO1xyXG4gICAgICAgICAgICAkKGUudGFyZ2V0KS5wYXJlbnQoKS5oaWRlKCk7XHJcbiAgICAgICAgICAgIHZpZXdVdGlscy5zaG93SW5mb01lc3NhZ2UoJHRleHRBcmVhRGVzY3JpcHRpb24sICdMb2dnZWQgb3V0Jyk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIFB1YlN1Yi5zdWJzY3JpYmUoQ09OU1QuZXZlbnRzLlVTRVJfTE9HT1VULCAobXNnKSA9PiB7XHJcbiAgICAgICAgICAgICQoQ09OU1QudWlTZWxlY3RvcnMuaGVhZGVyTmF2TG9naW5CdG4pLmFkZENsYXNzKG9wZW5lZENsYXNzKS5yZW1vdmVDbGFzcyhjbG9zZUNsYXNzKTsgLy8gLnNob3coKTtcclxuICAgICAgICAgICAgJChDT05TVC51aVNlbGVjdG9ycy5oZWFkZXJSZWdCdG4pLmFkZENsYXNzKG9wZW5lZENsYXNzKS5yZW1vdmVDbGFzcyhjbG9zZUNsYXNzKTtcclxuICAgICAgICAgICAgJCgnLm5hdi1saW5rLmpzX2xvZ091dCcpLmFkZENsYXNzKGNsb3NlQ2xhc3MpLnJlbW92ZUNsYXNzKG9wZW5lZENsYXNzKTsgLy8gLmhpZGUoKTtcclxuICAgICAgICAgICAgY29uc3Qgc2VsZWN0b3JMb2dpblN0YXRlID0gJy5qc19tZXNzYWdlX2xvZ2dlZC0tdGV4dCc7XHJcbiAgICAgICAgICAgICQoc2VsZWN0b3JMb2dpblN0YXRlKS50ZXh0KCfQktGLINCy0YvRiNC70Lgg0LjQtyDQsNC60LrQsNGD0L3RgtCwJyk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICQoZG9jdW1lbnQpLm9uKCdjbGljaycsIChldmVudCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBpc0xvZ2luQnRuQ2xpY2sgPSAkKGV2ZW50LnRhcmdldCkuY2xvc2VzdCgnbmF2Lm5hdmJhcicpLmZpbmQoJGxvZ2luQm94KS5sZW5ndGg7XHJcbiAgICAgICAgICAgIGNvbnN0IGlzQWRkSW5zdGFncmFtQnRuQ2xpY2tlZCA9ICQoZXZlbnQudGFyZ2V0KS5hdHRyKCdpZCcpID09PSBDT05TVC51aVNlbGVjdG9ycy5pbnN0YWdyYW0uYWRkQWNjb3VudEJ0bklkO1xyXG5cclxuICAgICAgICAgICAgaWYgKCFpc0xvZ2luQnRuQ2xpY2sgJiYgJGxvZ2luQm94Lmhhc0NsYXNzKG9wZW5lZENsYXNzKSAmJiAhaXNBZGRJbnN0YWdyYW1CdG5DbGlja2VkKSB7XHJcbiAgICAgICAgICAgICAgICAkbG9naW5Cb3guYWRkQ2xhc3MoY2xvc2VDbGFzcykucmVtb3ZlQ2xhc3Mob3BlbmVkQ2xhc3MpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG5cclxuICAgIGZ1bmN0aW9uIGluaXQoKSB7XHJcbiAgICAgICAgYmluZEV2ZW50cygpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgaW5pdFxyXG4gICAgfTtcclxufVxyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvYmxvY2tzL2xvZ2luLWZvcm0vbG9naW4tZm9ybS5qcyIsIi8vIGltcG9ydCBNZXRlb3JFbW9qaSBmcm9tICdtZXRlb3ItZW1vamknO1xyXG4vLyBpbXBvcnQgRW1vamlQaWNrZXIgZnJvbSAndmFuaWxsYS1lbW9qaS1waWNrZXInO1xyXG5pbXBvcnQgJ2Vtb2ppb25lQXJlYSc7XHJcbi8vIGltcG9ydCBxcSBmcm9tICdmaW5lLXVwbG9hZGVyJzsgLy8gdG9kbzogZmluZS11cGxvYWRlXHJcbmltcG9ydCBVc2VyIGZyb20gJy4uLy4uL2NvbW1vbi9qcy1zZXJ2aWNlcy91c2VyJztcclxuaW1wb3J0IFVzZXJDb252ZXJzYXRpb24gZnJvbSAnLi4vLi4vY29tbW9uL2pzLXNlcnZpY2VzL2FwaS11c2VyLWRpcmVjdCc7XHJcbmltcG9ydCB7ZmlsbE1hc3NhZ2VzTGlzdCwgZmlsbFVzZXJMaXN0LCBtZXNzYWdlQXJlYUhlbmRsZXIsIC8qIGFkZE1vcmVVc2Vyc0FjY29yZGlvbiwqLyBhcHBlbmRVc2VyTGlzdH0gZnJvbSAnLi91dGlscyc7XHJcbmltcG9ydCBTcGlubmVyIGZyb20gJy4uLy4uL2NvbW1vbi9qcy1zZXJ2aWNlcy9zcGlubmVyJztcclxuLy8gaW1wb3J0IFB1YlN1YiBmcm9tICdwdWJzdWItanMnOy8vIGh0dHBzOi8vd3d3Lm5wbWpzLmNvbS9wYWNrYWdlL3B1YnN1Yi1qc1xyXG5pbXBvcnQge0NPTlNUfSBmcm9tICcuLi8uLi9jb21tb24vanMtc2VydmljZXMvY29uc3RzJztcclxuaW1wb3J0ICogYXMgaW1hZ2VVcGxvYWQgZnJvbSAnLi4vX3NoYXJlZC9pbWFnZS11cGxvYWQvaW1hZ2UtdXBsb2FkJztcclxuaW1wb3J0IHtpbml0UmVxdWVzdHMsIGFkZENvbmZpcmdCdXR0b25zfSBmcm9tICcuL3JlcXVlc3RzJztcclxuXHJcbmNvbnN0IHRva2VuID0gVXNlci5nZXRUb2tlbigpO1xyXG5jb25zdCAkbXNnTGlzdCA9ICQoJy5tZXNzYWdlcy1saXN0Jyk7XHJcbmNvbnN0IHN0YXRlQ2ZnID0ge1xyXG4gICAgcGFnZUluY3JlbWVudDogMCxcclxuICAgIGxvYWRpbmdGbGFnOiBmYWxzZSxcclxuICAgIHNldFNpbmdsZVZhbDogZmFsc2VcclxufTtcclxubGV0IHVwZGF0ZUludGVydmFsID0gJyc7XHJcbmxldCBpbnRlcnZhbElkID0gZmFsc2U7XHJcbmxldCBjdXJzb3IgPSAnJztcclxubGV0IGludGVydmFsVXNlckxpc3QgPSBmYWxzZTtcclxubGV0IGluaXRpYWxWYWwgPSAnJztcclxubGV0IGZsYWdJbml0aWFsVmFsID0gdHJ1ZTtcclxuY29uc3QgY3VycmVudFVzZXJEYXRhID0ge1xyXG4gICAgdXNlcmF2YXRhcjogJ2xpbmsnLFxyXG4gICAgdXNlcm5hbWU6ICduYW1lJ1xyXG59O1xyXG5jb25zdCBzY3JvbGxMb2FkZXJTdGF0ZSA9IHtcclxuICAgIGN1cnNvcjogJ3BhZ2luYXRpb24ucHJldl9jdXJzb3InLFxyXG4gICAgZmlyc3RMb2FkOiB0cnVlLFxyXG4gICAgYWxsTXNnTG9hZGVkOiBmYWxzZVxyXG59O1xyXG5cclxuY29uc3QgcmVuZGVyUmVzdWx0cyA9IGZ1bmN0aW9uIChjZmcpIHtcclxuICAgIGNvbnN0IHtkYXRhQXJyYXk6IGRhdGEsICRsaXN0OiB1bEVsZW1lbnQsIHN0YXRlQ2ZnfSA9IGNmZztcclxuXHJcbiAgICBmdW5jdGlvbiBzaG93TWVzc2FnZShlbGVtZW50LCBtZXNzYWdlLCAvKiBvcHRpb25hbCAqL2NsZWFyTGlzdCkge1xyXG4gICAgICAgIC8vICRidG5HRVQuYXR0cignZGlzYWJsZWQnLCBmYWxzZSk7XHJcblxyXG4gICAgICAgIGlmIChjbGVhckxpc3QpIHtcclxuICAgICAgICAgICAgJCgnbGknLCBlbGVtZW50KS5yZW1vdmUoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZWxlbWVudC5jc3MoeydvdmVyZmxvdyc6ICdhdXRvJ30pO1xyXG4gICAgICAgICQoJzxsaS8+JylcclxuICAgICAgICAgICAgLmFkZENsYXNzKCdsaXN0LWdyb3VwLWl0ZW0gdGV4dC1jZW50ZXInKVxyXG4gICAgICAgICAgICAudGV4dChtZXNzYWdlKVxyXG4gICAgICAgICAgICAuYXBwZW5kVG8odWxFbGVtZW50KTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoc3RhdGVDZmcubG9hZGluZ0ZsYWcgPT09ICdGSU5BTF9QQUdFJykge1xyXG4gICAgICAgIHJldHVybiBmYWxzZTsgLy8gZXhpdCBpZiBoYXMgcmVhY2hlZCBsYXN0IHBhZ2VcclxuICAgIH1cclxuXHJcbiAgICAvLyBzaG93IGZhaWwgbXNnXHJcbiAgICBpZiAoZGF0YSA9PT0gJ0ZBSUwnKSB7XHJcbiAgICAgICAgc2hvd01lc3NhZ2UodWxFbGVtZW50LCAnRmFpbHVyZSwgcG9zc2libGUga2V5IG5vdCBjb3JyZWN0LicsIHRydWUpO1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoc3RhdGVDZmcubG9hZGluZ0ZsYWcgPT09ICdTVE9QX0xPQUQnICYmIGRhdGEubGVuZ3RoICE9PSAwKSB7XHJcbiAgICAgICAgc3RhdGVDZmcubG9hZGluZ0ZsYWcgPSAnRklOQUxfUEFHRSc7XHJcbiAgICAgICAgc2hvd01lc3NhZ2UodWxFbGVtZW50LCAnTm8gbW9yZSByZXN1bHRzLicsIGZhbHNlKTtcclxuICAgICAgICAvLyAkbGlGb290ZXIuaGlkZSgpO1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICBpZiAoZGF0YSA9PT0gbnVsbCB8fCAhZGF0YS5sZW5ndGgpIHtcclxuICAgICAgICBzaG93TWVzc2FnZSh1bEVsZW1lbnQsICdObyByZXN1bHRzIGZvdW5kLicsIHRydWUpO1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICBmaWxsTWFzc2FnZXNMaXN0KGNmZyk7XHJcbn07XHJcblxyXG5mdW5jdGlvbiBpc0luTWVzc2FnZVBhZ2UoKSB7XHJcbiAgICBjb25zdCAkbXNnTGlzdCA9ICQoJy5tZXNzYWdlcy1saXN0Jyk7XHJcbiAgICBjb25zdCAkdXNlckxpc3QgPSAkKCcubWVzc2FnZXMtdXNlci1saXN0Jyk7XHJcbiAgICByZXR1cm4gISEkbXNnTGlzdC5sZW5ndGggJiYgISEkdXNlckxpc3QubGVuZ3RoO1xyXG59XHJcblxyXG4vLyB0b2RvOiBnZXQgZnJvbSBlbW9qaWkuanNcclxuJChkb2N1bWVudCkucmVhZHkoKCkgPT4ge1xyXG4gICAgaWYgKCFpc0luTWVzc2FnZVBhZ2UoKSkge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtdmFyc1xyXG4gICAgLy8gY29uc3QgZXAgPSBuZXcgRW1vamlQaWNrZXIoKTtcclxuICAgIC8vIC8vIGNvbnN0IG0gPSBuZXcgTWV0ZW9yRW1vamkoKTtcclxuICAgIC8vIGNvbnN0ICRwaWNrZXIgPSAkKCd0ZXh0YXJlYVtkYXRhLWVtb2ppLXBpY2tlcj1cInRydWVcIl0gfiBkaXYnKTtcclxuICAgIC8vIGNvbnN0IHN0eWxlID0gJHBpY2tlci5hdHRyKCdzdHlsZScpO1xyXG4gICAgLy8gY29uc3Qgc3R5bGVOZXcgPSBzdHlsZS5yZXBsYWNlKCd0b3A6IDIwcHg7JywgJ3RvcDogLTIxMHB4OycpO1xyXG4gICAgLy8gJHBpY2tlci5hdHRyKCdzdHlsZScsIHN0eWxlTmV3KTtcclxuXHJcbiAgICAkKCd0ZXh0YXJlYVtkYXRhLWVtb2ppLXBpY2tlcj1cInRydWVcIl0nKS5lbW9qaW9uZUFyZWEoe1xyXG4gICAgICAgIHBpY2tlclBvc2l0aW9uOiAndG9wJyxcclxuICAgICAgICB0b25lc1N0eWxlOiAnc3F1YXJlJyxcclxuICAgICAgICBmaWx0ZXJzUG9zaXRpb246ICdib3R0b20nLFxyXG4gICAgICAgIGF1dG9jb21wbGV0ZTogdHJ1ZVxyXG4gICAgICAgIC8vIGV2ZW50czoge1xyXG4gICAgICAgIC8vICAgICBrZXl1cCAoZWRpdG9yLCBldmVudCkge1xyXG4gICAgICAgIC8vICAgICAgICAgY29uc29sZS5sb2coZWRpdG9yLmh0bWwoKSk7XHJcbiAgICAgICAgLy8gICAgICAgICBjb25zb2xlLmxvZyh0aGlzLmdldFRleHQoKSk7XHJcbiAgICAgICAgLy8gICAgIH1cclxuICAgICAgICAvLyB9XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyB0b2RvOiBmaW5lLXVwbG9hZGVcclxuICAgIC8qXHJcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLXZhcnNcclxuICAgIGNvbnN0IHJlc3RyaWN0ZWRVcGxvYWRlciA9IG5ldyBxcS5GaW5lVXBsb2FkZXIoe1xyXG4gICAgICAgIGVsZW1lbnQ6IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmaW5lLXVwbG9hZGVyLXZhbGlkYXRpb24nKSxcclxuICAgICAgICB0ZW1wbGF0ZTogJ3FxLXRlbXBsYXRlLXZhbGlkYXRpb24nLFxyXG4gICAgICAgIHJlcXVlc3Q6IHtcclxuICAgICAgICAgICAgZW5kcG9pbnQ6ICcvc2VydmVyL3VwbG9hZHMnXHJcbiAgICAgICAgfSxcclxuICAgICAgICB0aHVtYm5haWxzOiB7XHJcbiAgICAgICAgICAgIHBsYWNlaG9sZGVyczoge1xyXG4gICAgICAgICAgICAgICAgd2FpdGluZ1BhdGg6ICdodHRwczovL2ZpbmV1cGxvYWRlci5jb20vc291cmNlL3BsYWNlaG9sZGVycy93YWl0aW5nLWdlbmVyaWMucG5nJywgLy8gJy9zb3VyY2UvcGxhY2Vob2xkZXJzL3dhaXRpbmctZ2VuZXJpYy5wbmcnLFxyXG4gICAgICAgICAgICAgICAgbm90QXZhaWxhYmxlUGF0aDogJ2h0dHBzOi8vZmluZXVwbG9hZGVyLmNvbS9zZXJ2ZXIvd2FpdGluZy1nZW5lcmljLnBuZycgLy8gJy9zb3VyY2UvcGxhY2Vob2xkZXJzL25vdF9hdmFpbGFibGUtZ2VuZXJpYy5wbmcnXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIHZhbGlkYXRpb246IHtcclxuICAgICAgICAgICAgYWxsb3dlZEV4dGVuc2lvbnM6IFsnanBlZycsICdqcGcnXSxcclxuICAgICAgICAgICAgaXRlbUxpbWl0OiAzLFxyXG4gICAgICAgICAgICBzaXplTGltaXQ6IDUwMCAqIDEwMjRcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuICAgICovXHJcbn0pO1xyXG5sZXQgaXNUaW1lT3V0UnVubmVkID0gZmFsc2U7XHJcbmZ1bmN0aW9uIGdldEFuZEZpbGxVc2VyTGlzdEN1cnNvcihsb2FkTW9yZUNiQXJnc0N1cnNvciwgc2VjdGlvbiwgdXNlcm5hbWUpIHtcclxuICAgIGNvbnN0ICR1c2VyTGlzdCA9ICQoJy5tZXNzYWdlcy11c2VyLWxpc3QnKTtcclxuICAgIGlmIChsb2FkTW9yZUNiQXJnc0N1cnNvcikge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdVc2VyQ29udmVyc2F0aW9uJywgdXNlcm5hbWUpO1xyXG4gICAgICAgIFVzZXJDb252ZXJzYXRpb24uZ2V0TWV0YWRhdGFEZXRhaWxVc2Vycyh7Y3Vyc29yOiBsb2FkTW9yZUNiQXJnc0N1cnNvciwgdXNlcm5hbWV9KS50aGVuKChyZXN1bHQpID0+IHtcclxuICAgICAgICAgICAgaWYgKCFyZXN1bHQuZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnN0IHtkYXRhfSA9IHJlc3VsdDtcclxuICAgICAgICAgICAgLy8gZGF0YS5tZXRhLnNvcnQoKGEsIGIpID0+IGFbJ3VzZXJuYW1lJ10ubG9jYWxlQ29tcGFyZShiWyd1c2VybmFtZSddKSk7XHJcbiAgICAgICAgICAgIGFwcGVuZFVzZXJMaXN0KCR1c2VyTGlzdCwgZGF0YS5tZXRhLCB7Y3Vyc29yOiBsb2FkTW9yZUNiQXJnc0N1cnNvciwgc2VjdGlvbiwgdXNlcm5hbWV9KTtcclxuICAgICAgICAgICAgY29uc3Qge3BhZ2luYXRpb259ID0gZGF0YTtcclxuICAgICAgICAgICAgaWYgKHBhZ2luYXRpb24gJiYgcGFnaW5hdGlvbi5wcmV2X2N1cnNvcikge1xyXG4gICAgICAgICAgICAgIC8vIG1ha2Ugb25lIG1vcmUgcmVxP1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignZm91bmQgbW9yZSBwYWdpbmF0aW9uLCBidXQgbGlzdCBub3QgdXBkYXRlZCcpO1xyXG4gICAgICAgICAgICAgICAgLy8gVE9ET1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgLy8gaGlkZSBzaG93IG1vcmVcclxuICAgICAgICAgICAgICAgIGNvbnN0ICRjb2xsYXBzZSA9ICQoYCNjb2xsYXBzZS0ke3NlY3Rpb259YCkuY2xvc2VzdCgnbGknKTtcclxuICAgICAgICAgICAgICAgICRjb2xsYXBzZS5maW5kKCcuanNfbG9hZC1tb3JlLWJveCcpLmFkZENsYXNzKCdkLW5vbmUnKTtcclxuICAgICAgICAgICAgICAgIC8vIHN0b3AgcmVyZW5kZXIgbGlzdFxyXG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignc3RvcCB1cGRhdGluZyB1c2VyIGxpc3QnKTtcclxuICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWxVc2VyTGlzdCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ3NlY3Rpb24nLCBzZWN0aW9uKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufVxyXG5cclxuZnVuY3Rpb24gZ2V0QW5kRmlsbFVzZXJMaXN0KGlzQWN0aXZlRmlyc3QsIHVzZXJMaXN0KSB7XHJcbiAgICBjb25zdCAkdXNlckxpc3QgPSB1c2VyTGlzdCB8fCAkKCcubWVzc2FnZXMtdXNlci1saXN0Jyk7XHJcbiAgICBsZXQgcHJldkFjdGl2ZURpYWxvZ0lkID0gJyc7XHJcbiAgICBpZiAoIWlzQWN0aXZlRmlyc3QpIHtcclxuICAgICAgICBwcmV2QWN0aXZlRGlhbG9nSWQgPSAkdXNlckxpc3QuZmluZCgnbGkgLmNvbGxhcHNlLnNob3cnKS5hdHRyKCdpZCcpO1xyXG4gICAgfVxyXG5cclxuICAgIFVzZXJDb252ZXJzYXRpb24uZ2V0TWV0YWRhdGEodG9rZW4pLnRoZW4oKHJlc3VsdCkgPT4ge1xyXG4gICAgICAgIGlmICghcmVzdWx0LmRhdGEpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCB7ZGF0YX0gPSByZXN1bHQ7XHJcbiAgICAgICAgZGF0YS5tZXRhLnNvcnQoKGEsIGIpID0+IGFbJ3VzZXJuYW1lJ10ubG9jYWxlQ29tcGFyZShiWyd1c2VybmFtZSddKSk7XHJcbiAgICAgICAgLy8gbWVzc2FnZXMtdXNlci1saXN0IGZyb20gdXRpbHMuanNcclxuICAgICAgICBmaWxsVXNlckxpc3QoJHVzZXJMaXN0LCBkYXRhLm1ldGEsIGdldEFuZEZpbGxVc2VyTGlzdEN1cnNvcik7XHJcbiAgICAgICAgaWYgKGRhdGEuc2V0dGluZ3MgJiYgZGF0YS5zZXR0aW5ncy5pbnZva2VfaW5fbWlsbGlzKSB7XHJcbiAgICAgICAgICAgIHVwZGF0ZUludGVydmFsID0gZGF0YS5zZXR0aW5ncy5pbnZva2VfaW5fbWlsbGlzO1xyXG4gICAgICAgICAgICB1cGRhdGVJbnRlcnZhbCA9ICh1cGRhdGVJbnRlcnZhbCA+IDYwMDApID8gdXBkYXRlSW50ZXJ2YWwgOiAxMDAwMDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGlzQWN0aXZlRmlyc3QpIHtcclxuICAgICAgICAgICAgJHVzZXJMaXN0LmZpbmQoJ2xpOmZpcnN0LWNoaWxkIC5jb2xsYXBzZScpLmFkZENsYXNzKCdzaG93Jyk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgJChgIyR7cHJldkFjdGl2ZURpYWxvZ0lkfWApLmFkZENsYXNzKCdzaG93Jyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGlmIChkYXRhLnBhZ2luYXRpb24gJiYgZGF0YS5wYWdpbmF0aW9uLnByZXZfY3Vyc29yKSB7XHJcbiAgICAgICAgLy8gICAgIGNvbnN0IGNvbnZlcnNhdGlvblRvQWRkID0ge1xyXG4gICAgICAgIC8vICAgICAgICAgdHBsOiBgPGRpdiBjbGFzcz1cImxpc3QtZm9vdGVyIHRleHQtY2VudGVyXCIgc3R5bGU9XCJkaXNwbGF5OiBub25lO1wiIGlkPVwibG9hZC1tb3JlLWJveFwiPlxyXG4gICAgICAgIC8vICAgICAgICAgICAgICAgICA8YnV0dG9uIGlkPVwianNfLWFjY29yZGlvbi1tb3JlX2J0blwiIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImJ0biBidG4tc3VibWl0XCI+U0hPVyBNT1JFPC9idXR0b24+XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgPC9kaXY+YFxyXG4gICAgICAgIC8vICAgICB9O1xyXG4gICAgICAgIC8vICAgICBjb25zb2xlLmxvZygnc3RhcnQgYWRkIHBhZ2luYXRpb24gdG8gYWNjb3JkaW9pbicsIGNvbnZlcnNhdGlvblRvQWRkKTtcclxuICAgICAgICAvLyAgICAgYWRkTW9yZVVzZXJzQWNjb3JkaW9uKGRhdGEubWV0YSwgY29udmVyc2F0aW9uVG9BZGQpO1xyXG4gICAgICAgIC8vIH1cclxuICAgICAgICAvLyBkbyBpdCBvbmNlXHJcbiAgICAgICAgaWYgKCFpc1RpbWVPdXRSdW5uZWQpIHtcclxuICAgICAgICAgICAgaW50ZXJ2YWxVc2VyTGlzdCA9IHNldEludGVydmFsKCgpID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdzZXRJbnRlcnZhbCcpO1xyXG4gICAgICAgICAgICAgICAgZ2V0QW5kRmlsbFVzZXJMaXN0KCk7XHJcbiAgICAgICAgICAgIH0sIHVwZGF0ZUludGVydmFsKTtcclxuICAgICAgICAgICAgaXNUaW1lT3V0UnVubmVkID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gYWRkUGFnaW5hdGlvbihwYWdpbmF0aW9uLCBjYkZuKSB7XHJcbiAgICBpZiAoc2Nyb2xsTG9hZGVyU3RhdGUuYWxsTXNnTG9hZGVkKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgaWYgKHNjcm9sbExvYWRlclN0YXRlLmZpcnN0TG9hZCkge1xyXG4gICAgICAgIHNjcm9sbExvYWRlclN0YXRlLmN1cnNvciA9IHBhZ2luYXRpb24ucHJldl9jdXJzb3I7XHJcbiAgICAgICAgc2Nyb2xsTG9hZGVyU3RhdGUuZmlyc3RMb2FkID0gZmFsc2U7XHJcbiAgICB9XHJcbiAgICBjb25zdCB1c2VyRGF0YSA9ICRtc2dMaXN0LmRhdGEoJ2NvbnZlcnNhdGlvbicpO1xyXG4gICAgY29uc3Qge3VzZXJuYW1lLCBjb252ZXJzYXRpb25JZH0gPSB1c2VyRGF0YTtcclxuICAgIC8vIGNvbnNvbGUubG9nKCdjdXJzb3I6ICcsIHNjcm9sbExvYWRlclN0YXRlLmN1cnNvcik7XHJcbiAgICBTcGlubmVyLmFkZCgkKCcjbWFpbkNoYXRQYXJ0JyksICdteS01IHB5LTUnKTtcclxuICAgIFVzZXJDb252ZXJzYXRpb24uZ2V0TWV0YWRhdGFEZXRhaWxDb252ZXJzYXRpb24odG9rZW4sIHt1c2VybmFtZSwgY29udmVyc2F0aW9uSWQsIGN1cnNvcjogc2Nyb2xsTG9hZGVyU3RhdGUuY3Vyc29yfSkudGhlbigocmVzdWx0KSA9PiB7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coJ2ZpcnN0TG9hZDonLCBzY3JvbGxMb2FkZXJTdGF0ZS5maXJzdExvYWQsIHJlc3VsdC5kYXRhLm1ldGEpO1xyXG4gICAgICAgIGNvbnN0IG5ld0N1cnNvciA9IHJlc3VsdC5kYXRhLm1ldGEucGFnaW5hdGlvbiAmJiByZXN1bHQuZGF0YS5tZXRhLnBhZ2luYXRpb24ucHJldl9jdXJzb3I7XHJcbiAgICAgICAgU3Bpbm5lci5yZW1vdmUoKTtcclxuICAgICAgICByZW5kZXJSZXN1bHRzKHtcclxuICAgICAgICAgICAgJGxpc3Q6ICRtc2dMaXN0LFxyXG4gICAgICAgICAgICBkYXRhQXJyYXk6IHJlc3VsdC5kYXRhLm1ldGEubWVzc2FnZXMsXHJcbiAgICAgICAgICAgIGlzQXBwZW5kUHJldk1zZzogJ2FwcGVudFByZXZNc2cnLFxyXG4gICAgICAgICAgICBzdGF0ZUNmZyxcclxuICAgICAgICAgICAgY3VycmVudFVzZXJEYXRhXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgLy8gc2V0IG5ldyBjdXJzb3JcclxuICAgICAgICBpZiAobmV3Q3Vyc29yKSB7XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCcqKicsIHNjcm9sbExvYWRlclN0YXRlLmN1cnNvcik7XHJcbiAgICAgICAgICAgIHNjcm9sbExvYWRlclN0YXRlLmN1cnNvciA9IG5ld0N1cnNvcjtcclxuICAgICAgICAgICAgJG1zZ0xpc3Quc2Nyb2xsVG9wKCRtc2dMaXN0LnNjcm9sbFRvcCgpICsgMzApO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIGFsbCBtc2cgbG9hZGVkXHJcbiAgICAgICAgICAgIHNjcm9sbExvYWRlclN0YXRlLmFsbE1zZ0xvYWRlZCA9IHRydWU7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBzdG9wIHVwZGF0ZSBpbnRlcnZhbFxyXG4gICAgICAgIGlmIChpbnRlcnZhbElkKSB7XHJcbiAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWxJZCk7XHJcbiAgICAgICAgICAgIGNiRm4obmV3Q3Vyc29yKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHNjcm9sbEhhbmRsZXIoc2Nyb2xsRGVsYXksIHBhZ2luYXRpb24pIHtcclxuICAgIGxldCByZWNlbnRTY3JvbGwgPSBmYWxzZTtcclxuICAgIGxldCBtYWtlUmVxT25jZSA9IHRydWU7XHJcbiAgICBjdXJzb3IgPSAocGFnaW5hdGlvbiAmJiBwYWdpbmF0aW9uLnByZXZfY3Vyc29yKSA/IHBhZ2luYXRpb24ucHJldl9jdXJzb3IgOiBudWxsO1xyXG4gICAgZnVuY3Rpb24gY2hlY2tJc09uY2UobmV3Q3Vyc29yKSB7XHJcbiAgICAgICAgaWYgKG5ld0N1cnNvciAhPT0gY3Vyc29yKSB7XHJcbiAgICAgICAgICAgIGN1cnNvciA9IG5ld0N1cnNvcjtcclxuICAgICAgICAgICAgbWFrZVJlcU9uY2UgPSB0cnVlO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygncHJldkN1cnNvcicsIG5ld0N1cnNvcik7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICRtc2dMaXN0Lm9uKCdzY3JvbGwnLCBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgY29uc3Qgc2Nyb2xsVG9wID0gJCh0aGlzKS5zY3JvbGxUb3AoKTtcclxuICAgICAgICAgICAgaWYgKCFyZWNlbnRTY3JvbGwpIHtcclxuICAgICAgICAgICAgICAgIGlmIChzY3JvbGxUb3AgKyAkKHRoaXMpLmlubmVySGVpZ2h0KCkgPj0gdGhpcy5zY3JvbGxIZWlnaHQpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyAkbWVzc2FnZXMudGV4dCgnZW5kIHJlYWNoZWQnKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoc2Nyb2xsVG9wIDw9IDQ1KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gJG1lc3NhZ2VzLnRleHQoJ1RvcCByZWFjaGVkJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ3BhZ2luYXRpb24nKTtcclxuICAgICAgICAgICAgICAgICAgICBpZiAocGFnaW5hdGlvbiAmJiBtYWtlUmVxT25jZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBtYWtlUmVxT25jZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhZGRQYWdpbmF0aW9uKHBhZ2luYXRpb24sIGNoZWNrSXNPbmNlKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ2dvJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgJCgnLm1lc3NhZ2VzLWxpc3QtYm94JykuZmluZCgnLmxvYWQtbW9yZScpLnJlbW92ZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gJG1lc3NhZ2VzLnRleHQoJycpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmVjZW50U2Nyb2xsID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICByZWNlbnRTY3JvbGwgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIH0sIDUwKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfSwgKHNjcm9sbERlbGF5ICsgMjAwKSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdldEFuZEZpbGxDb252ZXJzYXRpb24oe3VzZXJuYW1lLCBjb252ZXJzYXRpb25JZCwgdXNlcmF2YXRhcn0sIGlzU2Nyb2xsRG93biwgaXNDbGlja0Zyb21SZXF1ZXN0Q29uZmlybSkge1xyXG4gICAgY29uc3QgVElNRV9TQ1JPTEwgPSAxMDtcclxuICAgIFVzZXJDb252ZXJzYXRpb24uZ2V0TWV0YWRhdGFEZXRhaWxDb252ZXJzYXRpb24odG9rZW4sIHt1c2VybmFtZSwgY29udmVyc2F0aW9uSWR9KS50aGVuKChyZXN1bHQpID0+IHtcclxuICAgICAgICAvLyBtZXNzYWdlcy1saXN0IGZyb20gdXRpbHNcclxuICAgICAgICBjdXJyZW50VXNlckRhdGEudXNlcmF2YXRhciA9IHVzZXJhdmF0YXI7XHJcbiAgICAgICAgY3VycmVudFVzZXJEYXRhLnVzZXJuYW1lID0gdXNlcm5hbWU7XHJcbiAgICAgICAgZmlsbE1hc3NhZ2VzTGlzdCh7JGxpc3Q6ICRtc2dMaXN0LCBkYXRhQXJyYXk6IHJlc3VsdC5kYXRhLm1ldGEubWVzc2FnZXMsIHN0YXRlQ2ZnLCBjdXJyZW50VXNlckRhdGF9KTtcclxuICAgICAgICAkKCcjbWFpbkNoYXRQYXJ0JykucmVtb3ZlQ2xhc3MoJ2Qtbm9uZScpO1xyXG4gICAgICAgIFNwaW5uZXIucmVtb3ZlKCk7XHJcbiAgICAgICAgaWYgKGlzQ2xpY2tGcm9tUmVxdWVzdENvbmZpcm0pIHtcclxuICAgICAgICAgICAgLy8gY2xpY2tlZCBvbiByZXF1ZXN0XHJcbiAgICAgICAgICAgICQoJy5qc19zZW5kLW1lc3NhZ2UtYm94JykuYWRkQ2xhc3MoJ2Qtbm9uZScpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIGNsaWNrZWQgb24gbm9ybWFsIGNvbnZlcnNhdGlvblxyXG4gICAgICAgICAgICAkKCcuanNfc2VuZC1tZXNzYWdlLWJveCcpLnJlbW92ZUNsYXNzKCdkLW5vbmUnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgJCgnLm1lc3NhZ2VzLWxpc3QnKS5hdHRyKCdkYXRhLWNvbnZlcnNhdGlvbicsIEpTT04uc3RyaW5naWZ5KHt1c2VybmFtZSwgY29udmVyc2F0aW9uSWR9KSk7XHJcblxyXG4gICAgICAgIGlmIChpc1Njcm9sbERvd24pIHtcclxuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAkbXNnTGlzdC5hbmltYXRlKHtcclxuICAgICAgICAgICAgICAgICAgICBzY3JvbGxUb3A6ICRtc2dMaXN0WzBdLnNjcm9sbEhlaWdodCAtICRtc2dMaXN0WzBdLmNsaWVudEhlaWdodFxyXG4gICAgICAgICAgICAgICAgfSwgVElNRV9TQ1JPTEwpO1xyXG4gICAgICAgICAgICB9LCBUSU1FX1NDUk9MTCAqIDIpO1xyXG4gICAgICAgICAgICAvLyBzYXZlIGZpcnN0IHZhbHVlXHJcbiAgICAgICAgICAgIGlmIChmbGFnSW5pdGlhbFZhbCkge1xyXG4gICAgICAgICAgICAgICAgaW5pdGlhbFZhbCA9IHJlc3VsdC5kYXRhLm1ldGEubWVzc2FnZXNbcmVzdWx0LmRhdGEubWV0YS5tZXNzYWdlcy5sZW5ndGggLSAxXTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGluaXRpYWxWYWwpO1xyXG4gICAgICAgICAgICAgICAgZmxhZ0luaXRpYWxWYWwgPSBmYWxzZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgc2Nyb2xsSGFuZGxlcihUSU1FX1NDUk9MTCwgcmVzdWx0LmRhdGEubWV0YS5wYWdpbmF0aW9uKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBpbWFnZUxvYWRTdWJtaXRDYihpbnB1dCwgdG9rZW4pIHtcclxuICAgIGNvbnN0IHVzZXJEYXRhID0gJG1zZ0xpc3QuZGF0YSgnY29udmVyc2F0aW9uJyk7XHJcbiAgICBjb25zdCB7dXNlcm5hbWUsIGNvbnZlcnNhdGlvbklkfSA9IHVzZXJEYXRhO1xyXG4gICAgY29uc3QgdXJsID0gYCR7Q09OU1QuZ2V0UGF0aCgnaW5zdGFncmFtRGlyZWN0X0Jhc2ljJyl9LyR7dXNlcm5hbWV9LyR7Y29udmVyc2F0aW9uSWR9L3Bob3RvYDtcclxuICAgIGNvbnN0IGFjY2VwdGVkRmlsZSA9IGlucHV0LmZpbGVzWzBdO1xyXG4gICAgY29uc29sZS5sb2coJyoqaGFuZGxlU3VibWl0Q2InKTtcclxuICAgIGNvbnN0IGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCk7XHJcbiAgICBjb25zdCByZXF1ZXN0ID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XHJcblxyXG4gICAgU3Bpbm5lci5zdGFydEJ1dHRvblNwaW5uZXIoJCgnLmZpbGUtdXBsb2FkLWJ0bicpLCAnc3Bpbm5lci1ib3gtLXNlbmRNc2cnKTtcclxuXHJcbiAgICBmb3JtRGF0YS5hcHBlbmQoJ3Bob3RvJywgYWNjZXB0ZWRGaWxlLCBhY2NlcHRlZEZpbGUubmFtZSk7XHJcbiAgICByZXF1ZXN0Lm9wZW4oJ1BPU1QnLCB1cmwpO1xyXG4gICAgLy8gcmVxdWVzdC53aXRoQ3JlZGVudGlhbHMgPSB0cnVlO1xyXG4gICAgcmVxdWVzdC5zZXRSZXF1ZXN0SGVhZGVyKCd0b2tlbicsIHRva2VuKTtcclxuICAgIHJlcXVlc3Quc2V0UmVxdWVzdEhlYWRlcignQWNjZXB0JywgJ2FwcGxpY2F0aW9uL2pzb24nKTtcclxuICAgIHJlcXVlc3Quc2V0UmVxdWVzdEhlYWRlcignY2FjaGUtY29udHJvbCcsICduby1jYWNoZScpO1xyXG4gICAgcmVxdWVzdC5zZW5kKGZvcm1EYXRhKTtcclxuICAgIHJlcXVlc3QuYWRkRXZlbnRMaXN0ZW5lcigncmVhZHlzdGF0ZWNoYW5nZScsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAodGhpcy5yZWFkeVN0YXRlID09PSA0KSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCd0aGlzJywgdGhpcy5yZXNwb25zZVRleHQsIHRoaXMpO1xyXG4gICAgICAgICAgICBpbnB1dC52YWx1ZSA9ICcnO1xyXG4gICAgICAgICAgICB3aW5kb3cuUHViU3ViLnB1Ymxpc2goQ09OU1QuZXZlbnRzLmF1dG9hcm5zd2VyLklNQUdFX1VQTE9BREVELCB7J3Jlc3BvbnNlJzogdGhpcy5yZXNwb25zZVRleHQsICdlbCc6IGlucHV0fSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGFkZEhhbmRsZXJzKCkge1xyXG4gICAgbGV0IGNvbnZlcnNhdGlvbklkID0gJyc7XHJcbiAgICBjb25zdCAkdGV4dEFyZWEgPSAkKCcjc2VuZE1lc3NhZ2VUZXh0QXJlYScpO1xyXG4gICAgJHRleHRBcmVhLnZhbCgnJyk7XHJcblxyXG4gICAgJCgnI3NlbmRNZXNzYWdlQnV0dG9uJykub24oJ2NsaWNrJywgKGUpID0+IHtcclxuICAgICAgICBjb25zdCB2YWx1ZSA9ICR0ZXh0QXJlYS52YWwoKTtcclxuICAgICAgICBjb25zdCB1c2VyRGF0YSA9ICRtc2dMaXN0LmRhdGEoJ2NvbnZlcnNhdGlvbicpO1xyXG4gICAgICAgIGNvbnN0IHt1c2VybmFtZSwgY29udmVyc2F0aW9uSWQsIHVzZXJhdmF0YXJ9ID0gdXNlckRhdGE7XHJcbiAgICAgICAgU3Bpbm5lci5zdGFydEJ1dHRvblNwaW5uZXIoJChlLnRhcmdldCksICdzcGlubmVyLWJveC0tc2VuZE1zZycpO1xyXG4gICAgICAgIFVzZXJDb252ZXJzYXRpb24ucG9zdE1ldGFkYXRhRGV0YWlsQ29udmVyc2F0aW9uKHRva2VuLCB7dXNlcm5hbWUsIGNvbnZlcnNhdGlvbklkLCB2YWx1ZX0pLnRoZW4oKHJlc3VsdCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAocmVzdWx0ICYmIHJlc3VsdC5zdGF0dXMgJiYgcmVzdWx0LnN0YXR1cy5zdGF0ZSA9PT0gJ29rJykge1xyXG4gICAgICAgICAgICAgICAgZ2V0QW5kRmlsbENvbnZlcnNhdGlvbih7dXNlcm5hbWUsIGNvbnZlcnNhdGlvbklkLCB1c2VyYXZhdGFyfSk7XHJcbiAgICAgICAgICAgICAgICAkdGV4dEFyZWEudmFsKCcnKTtcclxuICAgICAgICAgICAgICAgIFNwaW5uZXIucmVtb3ZlKCk7XHJcbiAgICAgICAgICAgICAgICAvLyB3aW5kb3cuUHViU3ViLnB1Ymxpc2goQ09OU1QuZXZlbnRzLm1lc3NhZ2VzLlJFQ0lFVkVfTkVXX01FU1NBR0UsIHt1c2VybmFtZSwgY29udmVyc2F0aW9uSWQsIHZhbHVlLCByZXN1bHR9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgbWVzc2FnZUFyZWFIZW5kbGVyKCR0ZXh0QXJlYSwgJCgnI3NlbmRNZXNzYWdlQnV0dG9uJykpO1xyXG5cclxuICAgIGZ1bmN0aW9uIHVzZXJTaG93Q29udmVyc2V0aW9uSGFuZGxlcihlLCB1c2VyRGF0YSkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdjbGljaycpO1xyXG4gICAgICAgIGNvbnN0IGlzQ2xpY2tGcm9tUmVxdWVzdENvbmZpcm0gPSB1c2VyRGF0YTtcclxuICAgICAgICBsZXQgdXNlckRhdGFGcm9tTGlHcm91cCA9ICcnO1xyXG4gICAgICAgIGlmIChpc0NsaWNrRnJvbVJlcXVlc3RDb25maXJtKSB7XHJcbiAgICAgICAgICAgICQoJy5qc19zZW5kLW1lc3NhZ2UtYm94JykuYWRkQ2xhc3MoJ2Qtbm9uZScpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIGNsaWNrZWQgb24gbm9ybWFsIGNvbnZlcnNhdGlvblxyXG4gICAgICAgICAgICB1c2VyRGF0YUZyb21MaUdyb3VwID0gJChlLnRhcmdldCkuY2xvc2VzdCgnLmxpc3QtZ3JvdXAtaXRlbScpLmRhdGEoKTtcclxuICAgICAgICAgICAgJCgnLmNvbmZpcm0tYnV0dG9ucy1ib3gnKS5hZGRDbGFzcygnZC1ub25lJyk7XHJcbiAgICAgICAgICAgICQoJy5qc19zZW5kLW1lc3NhZ2UtYm94JykucmVtb3ZlQ2xhc3MoJ2Qtbm9uZScpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCB7dXNlcm5hbWUsIHVzZXJhdmF0YXJ9ID0gdXNlckRhdGEgfHwgdXNlckRhdGFGcm9tTGlHcm91cDtcclxuICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgIGNvbnN0ICR0YXJnZXRCdG4gPSAkKGUudGFyZ2V0KS5jbG9zZXN0KCcubWVkaWEnKTtcclxuICAgICAgICBjb25zdCAkdGl0bGUgPSAkdGFyZ2V0QnRuLmZpbmQoJy50aXRsZScpO1xyXG4gICAgICAgIGNvbnZlcnNhdGlvbklkID0gJHRhcmdldEJ0bi5kYXRhKCdjb252ZXJzYXRpb24taWQnKTtcclxuICAgICAgICBpZiAoJHRpdGxlLmhhc0NsYXNzKCdmb250LXdlaWdodC1ib2xkJykpIHtcclxuICAgICAgICAgICAgJHRpdGxlLnJlbW92ZUNsYXNzKCdmb250LXdlaWdodC1ib2xkJyk7XHJcbiAgICAgICAgICAgICR0YXJnZXRCdG4uZmluZCgnLnN1bW1hcnktZG90JykuYWRkQ2xhc3MoJ2Qtbm9uZScpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBTcGlubmVyLnJlbW92ZSgpO1xyXG4gICAgICAgIFNwaW5uZXIuYWRkKCQoJyNtYWluQ2hhdFBhcnQnKSwgJ215LTUgcHktNScpO1xyXG4gICAgICAgIGdldEFuZEZpbGxDb252ZXJzYXRpb24oe3VzZXJuYW1lLCBjb252ZXJzYXRpb25JZCwgdXNlcmF2YXRhcn0sICdpc1Njcm9sbERvd24nLCBpc0NsaWNrRnJvbVJlcXVlc3RDb25maXJtKTtcclxuICAgICAgICBmbGFnSW5pdGlhbFZhbCA9IHRydWU7IC8vIHJlc2V0IGZpcnN0IHZhbHVlIGZsYWdcclxuICAgICAgICAvLyByZXNlbmQgcmVxdWVzdFxyXG4gICAgICAgIGlmIChpbnRlcnZhbElkKSB7XHJcbiAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWxJZCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGludGVydmFsSWQgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnZlcnNhdGlvbklkID0gJChlLnRhcmdldCkuY2xvc2VzdCgnLm1lZGlhJykuZGF0YSgnY29udmVyc2F0aW9uLWlkJyk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGludGVydmFsSWQsIGNvbnZlcnNhdGlvbklkKTtcclxuICAgICAgICAgICAgZ2V0QW5kRmlsbENvbnZlcnNhdGlvbih7dXNlcm5hbWUsIGNvbnZlcnNhdGlvbklkLCB1c2VyYXZhdGFyfSwgZmFsc2UsIGlzQ2xpY2tGcm9tUmVxdWVzdENvbmZpcm0pO1xyXG4gICAgICAgIH0sIHVwZGF0ZUludGVydmFsKTtcclxuXHJcbiAgICB9XHJcblxyXG4gICAgJChkb2N1bWVudCkub24oJ2NsaWNrJywgJy5saXN0LWdyb3VwLWl0ZW0gLmNvbGxhcHNlJywgdXNlclNob3dDb252ZXJzZXRpb25IYW5kbGVyKTtcclxuICAgICQoZG9jdW1lbnQpLm9uKCdjbGljaycsICcuanNfbWVzc2FnZXMtcmVxdWVzdCcsIGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICBjb25zdCB1c2VyRGF0YSA9ICQoZS50YXJnZXQpLmNsb3Nlc3QoJy5saXN0LWdyb3VwLWl0ZW0nKS5kYXRhKCk7XHJcbiAgICAgICAgdXNlclNob3dDb252ZXJzZXRpb25IYW5kbGVyKGUsIHVzZXJEYXRhKTtcclxuICAgICAgICBjb25zb2xlLmxvZygnYWRkQ29uZmlnQnV0dG9ucycsIGNvbnZlcnNhdGlvbklkKTtcclxuICAgICAgICBhZGRDb25maXJnQnV0dG9ucyhjb252ZXJzYXRpb25JZCwgdXNlckRhdGEudXNlcm5hbWUpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgd2luZG93LlB1YlN1Yi5zdWJzY3JpYmUoQ09OU1QuZXZlbnRzLm1lc3NhZ2VzLlJFQ0lFVkVfTkVXX01FU1NBR0UsIChldmVudE5hbWUsIGRhdGEpID0+IHtcclxuICAgICAgICBjb25zdCB7dXNlcm5hbWUsIGNvbnZlcnNhdGlvbklkLCB2YWx1ZSwgcmVzdWx0RnJvbVNlcnZlcn0gPSBkYXRhO1xyXG4gICAgICAgIGNvbnN0ICRkaWFsb2cgPSAkKGAubWVzc2FnZXMtdXNlci1saXN0IC5saXN0LWdyb3VwLWl0ZW1bZGF0YS11c2VybmFtZT1cIiR7dXNlcm5hbWV9XCJdIGRpdltkYXRhLWNvbnZlcnNhdGlvbi1pZD1cIiR7Y29udmVyc2F0aW9uSWR9XCJdYCk7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ3Jlc3VsdEZyb21TZXJ2ZXI6ICcsIHJlc3VsdEZyb21TZXJ2ZXIpO1xyXG4gICAgICAgICRkaWFsb2cuZmluZCgnLnN1bW1hcnknKS50ZXh0KHZhbHVlKTtcclxuICAgIH0pO1xyXG5cclxuICAgIC8vIHNlbmQgaW1hZ2Uge2lnVXNlcm5hbWV9L3tpZH0vcGhvdG9cclxuICAgIGltYWdlVXBsb2FkLmluaXQoZmFsc2UsIGltYWdlTG9hZFN1Ym1pdENiKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGluaXQoKSB7XHJcbiAgICAvLyBjaGVjayB3ZSBhcmUgaW4gY29ycmVjdCBwYWdlIChtZXNzYWdlcylcclxuICAgIGlmICghaXNJbk1lc3NhZ2VQYWdlKCkpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0QW5kRmlsbFVzZXJMaXN0KCdzZXRBY3RpdmVGaXJzdCcpO1xyXG4gICAgYWRkSGFuZGxlcnMoKTtcclxuICAgIGNvbnN0IGNmZyA9IHtcclxuICAgICAgICB1c2VybmFtZTogJ3lvdXJfZGlldGEnLFxyXG4gICAgICAgIGZpbGxVc2VyTGlzdEZuOiBmaWxsVXNlckxpc3RcclxuICAgIH07XHJcbiAgICBpbml0UmVxdWVzdHMoY2ZnKTtcclxufVxyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvYmxvY2tzL21lc3NhZ2VzL21lc3NhZ2VzLmpzIiwiaW1wb3J0IFVzZXJDb252ZXJzYXRpb24gZnJvbSAnLi4vLi4vY29tbW9uL2pzLXNlcnZpY2VzL2FwaS11c2VyLWRpcmVjdCc7XHJcbmltcG9ydCBVc2VyIGZyb20gJy4uLy4uL2NvbW1vbi9qcy1zZXJ2aWNlcy91c2VyJztcclxuXHJcbi8qXHJcbkVuZHBvaW50INC90LAg0L/QvtC70YPRh9C10L3QuNC1INC30LDQv9GA0L7RgdC+0LI6IEdFVCBodHRwOi8vYXBpLmx1eGdyYW0ucnUvdjEvaW5zdGFncmFtLWRpcmVjdC9wZW5kaW5nL3t1c2VybmFtZX1cclxu0K3RgtC+INC10L3QtNC/0L7QuNC90YIg0LTQvtC70LbQtdC9INCx0YvRgtGMINCy0YvQt9Cy0LDQvSDRgtC+0LvRjNC60L4g0L/RgNC4INC90LDQttCw0YLQuNC4INC90LAg0YLQtdC60YHRgiDRgSDQutC+0LvQuNGH0LXRgdGC0LLQvtC8INC30LDQv9GA0L7RgdC+0LIuXHJcbiovXHJcbi8vIGNvbnN0IGNmZ1QgPSB7XHJcbi8vICAgICB1c2VybmFtZTogJ3lvdXJfZGlldGEnLFxyXG4vLyAgICAgZ2V0QW5kRmlsbFVzZXJMaXN0Rm46ICdnZXRBbmRGaWxsVXNlckxpc3RfRnVuY3Rpb24nXHJcbi8vIH07XHJcbmNvbnN0IGNvbmZpcm1Vc2VyRGF0YSA9IHt9O1xyXG5leHBvcnQgY29uc3QgYWRkQ29uZmlyZ0J1dHRvbnMgPSAoY29udmVyc2F0aW9uSWQsIHVzZXJuYW1lKSA9PiB7XHJcbiAgICBjb25zb2xlLmxvZygnYWRkQ29uZmlyZ0J1dHRvbnMgcHJvY2VlZCcsIHVzZXJuYW1lLCBjb252ZXJzYXRpb25JZCk7XHJcbiAgICBjb25zdCAkY29uZmlybUJ0bkJveCA9ICQoJy5qc19yZXF1ZXN0LWNvbmZpcm0tYm94Jyk7XHJcbiAgICAkY29uZmlybUJ0bkJveC5yZW1vdmVDbGFzcygnZC1ub25lJyk7XHJcbiAgICBjb25maXJtVXNlckRhdGEudXNlcm5hbWUgPSB1c2VybmFtZTtcclxuICAgIGNvbmZpcm1Vc2VyRGF0YS5jb252ZXJzYXRpb25JZCA9IGNvbnZlcnNhdGlvbklkO1xyXG59O1xyXG5jb25zdCBjb252ZXJzYXRpb25EZXRhaWwgPSBmdW5jdGlvbihpdGVtcykge1xyXG4gICAgbGV0IHRwbCA9ICcnO1xyXG4gICAgaXRlbXMuZm9yRWFjaCgoaXRlbSkgPT4ge1xyXG4gICAgICAgIGNvbnN0IHtwcm9maWxlUGljVXJsOiBzcmNJbWd9ID0gaXRlbTtcclxuICAgICAgICBpZiAoaXRlbXMubGVuZ3RoID4gMSkge1xyXG4gICAgICAgICAgICB0cGwgKz0gYDxpbWcgc3JjPVwiJHtzcmNJbWd9XCIgYWx0PSdpbWFnZScgY2xhc3M9XCJtZWRpYS1waG90byBtci0xIG1lZGlhLXBob3RvLS1ncm91cFwiIHN0eWxlPVwid2lkdGg6IDI0cHg7XCI+YDtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0cGwgKz0gYDxpbWcgc3JjPVwiJHtzcmNJbWd9XCIgYWx0PSdpbWFnZScgY2xhc3M9XCJtZWRpYS1waG90byBtci0xXCIgc3R5bGU9XCJ3aWR0aDogMjRweDtcIj5gO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIHRwbDtcclxufTtcclxuXHJcbmNvbnN0IGFkZENvbnZlcnNhdGlvbnMgPSBmdW5jdGlvbihjb252ZXJzYXRpb25zKSB7XHJcbiAgICBsZXQgdHBsID0gJyc7XHJcbiAgICBjb252ZXJzYXRpb25zLmZvckVhY2goKGl0ZW0pID0+IHtcclxuICAgICAgICBjb25zdCB7dXNlcnMsIGlkLCB0aXRsZX0gPSBpdGVtO1xyXG4gICAgICAgIC8vIGNvbnN0IGlzVW5yZWFkID0gaXRlbVsnaXNfdW5yZWFkJ107XHJcbiAgICAgICAgLy8gY29uc3QgbGFzdE1lc3NhZ2UgPSBpdGVtWydsYXN0TWVzc2FnZSddO1xyXG4gICAgICAgIC8vIGNvbnN0IGlzTGFzdE1zZyA9IGxhc3RNZXNzYWdlICYmIChwYXJzZUludChsYXN0TWVzc2FnZS5sZW5ndGgsIDEwKSk7XHJcbiAgICAgICAgLy8gY29uc3QgaXNBZGREb3QgPSBpc0xhc3RNc2cgPiAwICYmIHVzZXJzLmxlbmd0aCA+IDEgJiYgaXNVbnJlYWQ7XHJcbiAgICAgICAgdHBsICs9IGBcclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtZWRpYSBwLTEganNfbWVzc2FnZXMtcmVxdWVzdCBtZXNzYWdlcy1yZXF1ZXN0XCIgZGF0YS1jb252ZXJzYXRpb24taWQ9XCIke2lkfVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICR7Y29udmVyc2F0aW9uRGV0YWlsKHVzZXJzKX1cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibWVkaWEtYm9keVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8aDUgY2xhc3M9XCJ0aXRsZVwiPiR7dGl0bGV9PC9oNT5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICBgO1xyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gdHBsO1xyXG59O1xyXG5cclxuY29uc3QgZ2V0UmVxdWVzdFBlbmRpbmcgPSBmdW5jdGlvbih1c2VybmFtZSwgZWxJZCkge1xyXG4gICAgLy8gY29uc3QgdXNlcm5hbWUgPSAneW91cl9kaWV0YSc7XHJcbiAgICBVc2VyQ29udmVyc2F0aW9uLmdldFJlcXVlc3RQZW5kaW5nKHVzZXJuYW1lKS50aGVuKChyZXN1bHQpID0+IHtcclxuICAgICAgICBjb25zdCB7ZGF0YToge3JlcXVlc3RzfX0gPSByZXN1bHQ7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ3Jlc3VsdCcsIHJlcXVlc3RzKTtcclxuICAgICAgICBjb25zdCB0cGwgPSBhZGRDb252ZXJzYXRpb25zKHJlcXVlc3RzLCBlbElkKTtcclxuICAgICAgICAkKHRwbCkuYXBwZW5kVG8oJChgIyR7ZWxJZH1gKSk7XHJcbiAgICB9KTtcclxufTtcclxuXHJcbmZ1bmN0aW9uIGZpbGxVc2VyTGlzdCgkbGlzdCwgZGF0YUFycmF5LCBsb2FkTW9yZUNiRnVuY3Rpb24pIHtcclxuICAgIGNvbnN0IGl0ZW1zID0gZGF0YUFycmF5O1xyXG4gICAgY29uc3QgY0xpc3QgPSAkbGlzdDtcclxuICAgIGxldCB0cGwgPSAnJztcclxuICAgIC8vIGNvbnN0IGxvYWRNb3JlQm94ID0gKGlkeCwgcHJldl9jdXJzb3IpID0+IGA8ZGl2IGNsYXNzPVwibGlzdC1mb290ZXIgdGV4dC1jZW50ZXIganNfbG9hZC1tb3JlLWJveFwiIGRhdGEtaWR4PVwiJHtpZHh9XCIgZGF0YS1jdXJzb3I9XCIke3ByZXZfY3Vyc29yfVwiPlxyXG4gICAgLy8gICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiYnRuIGJ0bi1vdXRsaW5lLXNlY29uZGFyeSBidG4tc20gYnRuLXN1Ym1pdFwiPtCX0LDQs9GA0YPQt9C40YLRjCDQtdGJ0LU8L2J1dHRvbj5cclxuICAgIC8vIDwvZGl2PmA7XHJcbiAgICBjTGlzdC5lbXB0eSgpLmFkZENsYXNzKCdib3JkZXItbGlnaHQtY29sb3InKTtcclxuICAgIC8vIHRvZG86IGZpeCBoYXJkLWNvZGUgIGltZyBzcmM9XCJodHRwczovL2kuaW1ndXIuY29tL2pOTlQ0TEUucG5nXCJcclxuICAgIGl0ZW1zLmZvckVhY2goKGl0ZW0sIGlkeCkgPT4ge1xyXG4gICAgICAgIC8vIGNvbnN0IHtwYWdpbmF0aW9ufSA9IGl0ZW07XHJcbiAgICAgICAgY29uc3QgZWxJZCA9IGBjb2xsYXBzZS1yZXEtJHtpZHh9YDtcclxuICAgICAgICAvLyBjb25zdCB7Y29udmVyc2F0aW9uc30gPSBpdGVtO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGl0ZW0ucGVuZGluZ19yZXF1ZXN0cyk7XHJcbiAgICAgICAgaWYgKGl0ZW0ucGVuZGluZ19yZXF1ZXN0cykge1xyXG4gICAgICAgICAgICBnZXRSZXF1ZXN0UGVuZGluZyhpdGVtLnVzZXJuYW1lLCBlbElkKTtcclxuICAgICAgICAgICAgdHBsICs9IGA8bGkgY2xhc3M9XCJsaXN0LWdyb3VwLWl0ZW1cIiBkYXRhLXRvZ2dsZT1cImNvbGxhcHNlXCIgZGF0YS10YXJnZXQ9XCIjJHtlbElkfVwiIFxyXG4gICAgICAgICAgICAgICAgZGF0YS11c2VybmFtZT1cIiR7aXRlbS51c2VybmFtZX1cIlxyXG4gICAgICAgICAgICAgICAgZGF0YS11c2VyQXZhdGFyPVwiJHtpdGVtLnByb2ZpbGVfcGljX3VybH1cIlxyXG4gICAgICAgICAgICAgICAgYXJpYS1leHBhbmRlZD1cInRydWVcIiBhcmlhLWNvbnRyb2xzPVwiY29sbGFwc2UtJHtpZHh9XCI+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb252ZXJzYXRpb24taGVhZCBtYi0xIG1lZGlhIHBiLTJcIiBpZD1cImhlYWRpbmctJHtpZHh9XCI+XHJcbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cIm1yLTNcIj5cclxuICAgICAgICAgICAgICAgICAgICA8aW1nIHNyYz1cIiR7aXRlbS5wcm9maWxlX3BpY191cmx9XCIgYWx0PVwiYXZhdGFyXCJcclxuICAgICAgICAgICAgICAgICAgICBjbGFzcz1cIm1lZGlhLXBob3RvIHJvdW5kZWQtY2lyY2xlXCI+XHJcbiAgICAgICAgICAgICAgICA8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibWVkaWEtYm9keVwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxoNCBjbGFzcz1cInRpdGxlXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICR7aXRlbS51c2VybmFtZX1cclxuICAgICAgICAgICAgICAgICAgICA8L2g0PlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8ZGl2IGlkPVwiJHtlbElkfVwiIGNsYXNzPVwiY29sbGFwc2VcIiBhcmlhLWxhYmVsbGVkYnk9XCJoZWFkaW5nLSR7aWR4fVwiIGRhdGEtcGFyZW50PVwiI2FjY29yZGlvbi1yZXF1ZXN0c1wiPlxyXG4gICAgICAgICAgICAgICAgPCEtLSBnZXRSZXF1ZXN0UGVuZGluZyhpdGVtLnVzZXJuYW1lLCBlbElkKSAtLT5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwhLS0geyhwYWdpbmF0aW9uICYmIHBhZ2luYXRpb24ucHJldl9jdXJzb3IpID8gJ2xvYWRNb3JlQm94KGlkeCwgcGFnaW5hdGlvbi5wcmV2X2N1cnNvciknIDogJyd9IC0tPlxyXG4gICAgICAgIDwvbGk+YDtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuICAgICQodHBsKS5hcHBlbmRUbyhjTGlzdCk7XHJcblxyXG4gICAgLy8gJCgnLmpzX2xvYWQtbW9yZS1ib3ggYnV0dG9uJykub24oJ2NsaWNrJywgKGUpID0+IHtcclxuICAgIC8vICAgICBjb25zdCAkYnRuID0gJChlLnRhcmdldCk7XHJcbiAgICAvLyAgICAgY29uc3QgJGJ0bkJveCA9ICRidG4uY2xvc2VzdCgnLmpzX2xvYWQtbW9yZS1ib3gnKTtcclxuICAgIC8vICAgICBjb25zdCBzZWN0aW9uID0gJGJ0bkJveC5kYXRhKCdpZHgnKTtcclxuICAgIC8vICAgICBjb25zdCBjdXJzb3IgPSAkYnRuQm94LmRhdGEoJ2N1cnNvcicpO1xyXG4gICAgLy8gICAgIGNvbnN0IHVzZXJuYW1lID0gJGJ0bkJveC5jbG9zZXN0KCdsaScpLmRhdGEoJ3VzZXJuYW1lJyk7XHJcblxyXG4gICAgLy8gICAgIGNvbnNvbGUubG9nKCdjbGljaycsIHNlY3Rpb24sIGN1cnNvcik7XHJcbiAgICAvLyAgICAgbG9hZE1vcmVDYkZ1bmN0aW9uKGN1cnNvciwgc2VjdGlvbiwgdXNlcm5hbWUpO1xyXG4gICAgLy8gICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAvLyB9KTtcclxufVxyXG5cclxuY29uc3QgdG9rZW4gPSBVc2VyLmdldFRva2VuKCk7XHJcbmZ1bmN0aW9uIGdldEFuZEZpbGxVc2VyTGlzdChpc0FjdGl2ZUZpcnN0LCB1c2VyTGlzdCkge1xyXG4gICAgY29uc3QgJHVzZXJMaXN0ID0gdXNlckxpc3QgfHwgJCgnLm1lc3NhZ2VzLXVzZXItbGlzdCcpO1xyXG4gICAgbGV0IHByZXZBY3RpdmVEaWFsb2dJZCA9ICcnO1xyXG4gICAgaWYgKCFpc0FjdGl2ZUZpcnN0KSB7XHJcbiAgICAgICAgcHJldkFjdGl2ZURpYWxvZ0lkID0gJHVzZXJMaXN0LmZpbmQoJ2xpIC5jb2xsYXBzZS5zaG93JykuYXR0cignaWQnKTtcclxuICAgIH1cclxuXHJcbiAgICBVc2VyQ29udmVyc2F0aW9uLmdldE1ldGFkYXRhKHRva2VuKS50aGVuKChyZXN1bHQpID0+IHtcclxuICAgICAgICBpZiAoIXJlc3VsdC5kYXRhKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3Qge2RhdGF9ID0gcmVzdWx0O1xyXG4gICAgICAgIGRhdGEubWV0YS5zb3J0KChhLCBiKSA9PiBhWyd1c2VybmFtZSddLmxvY2FsZUNvbXBhcmUoYlsndXNlcm5hbWUnXSkpO1xyXG4gICAgICAgIC8vIG1lc3NhZ2VzLXVzZXItbGlzdCBmcm9tIHV0aWxzLmpzXHJcbiAgICAgICAgZmlsbFVzZXJMaXN0KCR1c2VyTGlzdCwgZGF0YS5tZXRhIC8qIGdldEFuZEZpbGxVc2VyTGlzdEN1cnNvciovKTtcclxuICAgICAgICAvLyBpZiAoZGF0YS5zZXR0aW5ncyAmJiBkYXRhLnNldHRpbmdzLmludm9rZV9pbl9taWxsaXMpIHtcclxuICAgICAgICAvLyAgICAgdXBkYXRlSW50ZXJ2YWwgPSBkYXRhLnNldHRpbmdzLmludm9rZV9pbl9taWxsaXM7XHJcbiAgICAgICAgLy8gICAgIHVwZGF0ZUludGVydmFsID0gKHVwZGF0ZUludGVydmFsID4gNjAwMCkgPyB1cGRhdGVJbnRlcnZhbCA6IDEwMDAwO1xyXG4gICAgICAgIC8vIH1cclxuICAgICAgICBpZiAoaXNBY3RpdmVGaXJzdCkge1xyXG4gICAgICAgICAgICAkdXNlckxpc3QuZmluZCgnbGk6Zmlyc3QtY2hpbGQgLmNvbGxhcHNlJykuYWRkQ2xhc3MoJ3Nob3cnKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAkKGAjJHtwcmV2QWN0aXZlRGlhbG9nSWR9YCkuYWRkQ2xhc3MoJ3Nob3cnKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIGRvIGl0IG9uY2VcclxuICAgICAgICAvLyBpZiAoIWlzVGltZU91dFJ1bm5lZCkge1xyXG4gICAgICAgIC8vICAgICBpbnRlcnZhbFVzZXJMaXN0ID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xyXG4gICAgICAgIC8vICAgICAgICAgY29uc29sZS5sb2coJ3NldEludGVydmFsJyk7XHJcbiAgICAgICAgLy8gICAgICAgICBnZXRBbmRGaWxsVXNlckxpc3QoKTtcclxuICAgICAgICAvLyAgICAgfSwgdXBkYXRlSW50ZXJ2YWwpO1xyXG4gICAgICAgIC8vICAgICBpc1RpbWVPdXRSdW5uZWQgPSB0cnVlO1xyXG4gICAgICAgIC8vIH1cclxuICAgIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBpbml0SGFuZGxlcnMoKSB7XHJcbiAgICBjb25zdCAkY29uZmlybUJ0bkJveCA9ICQoJy5qc19yZXF1ZXN0LWNvbmZpcm0tYm94Jyk7XHJcbiAgICBjb25zdCAkcmVxQ29uZmlybUJ0biA9ICQoJy5qc19yZXF1ZXN0LWNvbmZpcm0nLCAkY29uZmlybUJ0bkJveCk7XHJcbiAgICBjb25zdCAkcmVxUmVqZWN0QnRuID0gJCgnLmpzX3JlcXVlc3QtcmVqZWN0JywgJGNvbmZpcm1CdG5Cb3gpO1xyXG5cclxuICAgICRyZXFDb25maXJtQnRuLm9uKCdjbGljaycsIChlKSA9PiB7XHJcbiAgICAgICAgLy8gUFVUIGh0dHA6Ly9hcGkubHV4Z3JhbS5ydS92MS9pbnN0YWdyYW0tZGlyZWN0L3BlbmRpbmcve3VzZXJuYW1lfS97aWR9XHJcbiAgICAgICAgVXNlckNvbnZlcnNhdGlvbi5wdXRSZXF1ZXN0UGVuZGluZyhjb25maXJtVXNlckRhdGEpLnRoZW4oKHJlc3VsdCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAocmVzdWx0LnN0YXR1cy5zdGF0ZSA9PT0gJ29rJykge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5pbmZvKCdyZXN1bHQ6ICcsIHJlc3VsdCk7XHJcbiAgICAgICAgICAgICAgICAkY29uZmlybUJ0bkJveC5hZGRDbGFzcygnZC1ub25lJyk7XHJcbiAgICAgICAgICAgICAgICAkKCcuanNfc2hvdy1tZXNzYWdlcy11c2VyLWxpc3QnKS50cmlnZ2VyKCdjbGljaycpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxuICAgICRyZXFSZWplY3RCdG4ub24oJ2NsaWNrJywgKGUpID0+IHtcclxuICAgICAgICBVc2VyQ29udmVyc2F0aW9uLmRlbFJlcXVlc3RQZW5kaW5nKGNvbmZpcm1Vc2VyRGF0YSkudGhlbigocmVzdWx0KSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChyZXN1bHQuc3RhdHVzLnN0YXRlID09PSAnb2snKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmluZm8oJ3Jlc3VsdDogJywgcmVzdWx0KTtcclxuICAgICAgICAgICAgICAgICRjb25maXJtQnRuQm94LmFkZENsYXNzKCdkLW5vbmUnKTtcclxuICAgICAgICAgICAgICAgICQoJy5qc19zaG93LW1lc3NhZ2VzLXVzZXItbGlzdCcpLnRyaWdnZXIoJ2NsaWNrJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH0pO1xyXG5cclxuICAgIGNvbnN0ICRzaG93VXNlckxpc3QgPSAkKCcuanNfc2hvdy1tZXNzYWdlcy11c2VyLWxpc3QnKTtcclxuICAgICRzaG93VXNlckxpc3Qub24oJ2NsaWNrJywgKGUpID0+IHtcclxuICAgICAgICAkKGUudGFyZ2V0KS5jbG9zZXN0KCcudXNlci1yZXF1ZXN0cy1ib3gnKS5yZW1vdmVDbGFzcygndXNlci1yZXF1ZXN0cy1ib3gtLXNob3cnKTtcclxuICAgICAgICAkKCcudXNlci1saXN0LWJveCcpLnJlbW92ZUNsYXNzKCd1c2VyLWxpc3QtYm94LS1oaWRlJyk7XHJcbiAgICAgICAgJCgnI21haW5DaGF0UGFydCcpLmFkZENsYXNzKCdkLW5vbmUnKTtcclxuICAgIH0pO1xyXG59XHJcbmV4cG9ydCBmdW5jdGlvbiBpbml0UmVxdWVzdHMoY2ZnKSB7XHJcbiAgICBjb25zdCAkbGlzdCA9ICQoJy5tZXNzYWdlcy1yZXF1ZXN0cy1saXN0Jyk7XHJcbiAgICBnZXRBbmRGaWxsVXNlckxpc3QoJ3NldEFjdGl2ZUZpcnN0JywgJGxpc3QpO1xyXG4gICAgaW5pdEhhbmRsZXJzKCk7XHJcbn1cclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2Jsb2Nrcy9tZXNzYWdlcy9yZXF1ZXN0cy5qcyIsImltcG9ydCB2aWV3VXRpbHMgZnJvbSAnLi4vLi4vY29tbW9uL2pzLXNlcnZpY2VzL3ZpZXcnO1xyXG4vLyBpbXBvcnQgVXNlckNvbnZlcnNhdGlvbiBmcm9tICcuLi8uLi9jb21tb24vanMtc2VydmljZXMvYXBpLXVzZXItZGlyZWN0JztcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBjbGVhck1hc3NhZ2VzTGlzdCgkbGlzdCwgc3RhdGVDZmcpIHtcclxuICAgIHN0YXRlQ2ZnLnBhZ2VJbmNyZW1lbnQgPSAwO1xyXG4gICAgJGxpc3QuZW1wdHkoKTtcclxufVxyXG5leHBvcnQgZnVuY3Rpb24gZmlsbE1hc3NhZ2VzTGlzdCh7JGxpc3QsIGRhdGFBcnJheSwgaXNBcHBlbmRQcmV2TXNnLCBzdGF0ZUNmZywgY3VycmVudFVzZXJEYXRhfSkge1xyXG4gICAgY29uc3QgaXRlbXMgPSBkYXRhQXJyYXk7XHJcbiAgICBjb25zdCBjTGlzdCA9ICRsaXN0O1xyXG4gICAgLy8gY29uc3QgbGlzdERhdGFDb252ZXJzYXRpb24gPSAkKCcubWVzc2FnZXMtbGlzdCcpLmF0dHIoJ2RhdGEtY29udmVyc2F0aW9uJyk7XHJcbiAgICAvLyBjb25zdCBjdXJyZW50VXNlcm5hbWUgPSBKU09OLnBhcnNlKGxpc3REYXRhQ29udmVyc2F0aW9uKTtcclxuICAgIGNvbnN0IGluc2VydE1zZyA9ICh2YWx1ZSwgbWVzc2FnZSwgY3NzQ2xzKSA9PiB7XHJcbiAgICAgICAgbGV0IHN0ciA9ICcnO1xyXG4gICAgICAgIGxldCB2YWx1ZVdpdGhVcmwgPSAnJztcclxuICAgICAgICBjb25zdCB7dHlwZSwgLyogdXNlcm5hbWUsIHByb2ZpbGVfcGljX3VybCwgKi8gY2FwdGlvbn0gPSBtZXNzYWdlO1xyXG4gICAgICAgIC8vIGNvbnN0IHVzZXJIZWFkZXIgPSB7dXNlcm5hbWUsIHByb2ZpbGVfcGljX3VybH07XHJcbiAgICAgICAgLy8gaWYgKGNzc0NscyA9PT0gJ3RleHQtcmlnaHQnKSB7XHJcbiAgICAgICAgLy8gICAgIHVzZXJIZWFkZXIudXNlcm5hbWUgPSBjdXJyZW50VXNlckRhdGEudXNlcm5hbWU7XHJcbiAgICAgICAgLy8gICAgIHVzZXJIZWFkZXIucHJvZmlsZV9waWNfdXJsID0gY3VycmVudFVzZXJEYXRhLnVzZXJhdmF0YXI7XHJcbiAgICAgICAgLy8gfVxyXG4gICAgICAgIGlmICh0eXBlID09PSAnVEVYVCcpIHtcclxuICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVzZWxlc3MtZXNjYXBlXHJcbiAgICAgICAgICAgIGNvbnN0IHJlZ2V4ID0gL1soaHR0cChzKT8pOlxcL1xcLyh3d3dcXC4pP2EtekEtWjAtOUA6JS5fXFwrfiM9XXsyLDI1Nn1cXC5bYS16XXsyLDZ9XFxiKFstYS16QS1aMC05QDolX1xcKy5+Iz8mLy89XSopL2dtO1xyXG4gICAgICAgICAgICBjb25zdCBzdWJzdCA9ICc8YSBocmVmPSQmIHRhcmdldD1cIl9ibGFua1wiPiQmPC9hPic7XHJcbiAgICAgICAgICAgIHZhbHVlV2l0aFVybCA9IHZhbHVlLnJlcGxhY2UocmVnZXgsIHN1YnN0KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgc3dpdGNoICh0eXBlLnRvTG93ZXJDYXNlKCkpIHtcclxuICAgICAgICAgICAgY2FzZSAncGhvdG8nOlxyXG4gICAgICAgICAgICAgICAgc3RyID0gYDxkaXYgY2xhc3M9XCJjaGF0LWltZ1wiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxpbWcgc3JjPVwiJHt2YWx1ZX1cIiBhbHQ9XCJDb250ZW50IEltYWdlXCIgY2xhc3M9XCJjb250ZW50LWltYWdlXCI+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5gO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgJ3ZpZGVvJzpcclxuICAgICAgICAgICAgICAgIHN0ciA9IGA8ZGl2IGNsYXNzPVwiY2hhdC12aWRlb1wiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxhIHRhcmdldD1cIl9ibGFua1wiIGhyZWY9XCIke3ZhbHVlfVwiIGNsYXNzPVwicG9zaXRpb24tcmVsYXRpdmVcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9XCJmYS0zeCBmYS1wbGF5LWNpcmNsZSBmYXIgcG9zaXRpb24tYWJzb2x1dGUgdGV4dC13aGl0ZSBjaGF0LXZpZGVvLS1pY29uXCI+PC9pPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8aW1nIHNyYz1cIiR7bWVzc2FnZS5wcmV2aWV3X3ZhbHVlfVwiIGFsdD1cIkNvbnRlbnQgSW1hZ2VcIiBjbGFzcz1cImNoYXQtdmlkZW8tLWltYWdlXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9hPlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+YDtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICdnaWYnOlxyXG4gICAgICAgICAgICAgICAgc3RyID0gYDxkaXYgY2xhc3M9XCJjaGF0LWltZ1wiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxpbWcgc3JjPVwiJHt2YWx1ZX1cIiBhbHQ9XCJDb250ZW50IEltYWdlXCIgY2xhc3M9XCJjb250ZW50LWltYWdlXCI+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5gO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgJ2xpa2UnOlxyXG4gICAgICAgICAgICAgICAgc3RyID0gYDxkaXYgY2xhc3M9XCJjaGF0LXRleHQgJHtjc3NDbHN9XCIgPiR7dmFsdWV9PC9kaXY+YDtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICdwb3N0JzpcclxuICAgICAgICAgICAgICAgIHN0ciA9IGA8ZGl2IGNsYXNzPVwiY2hhdC1wb3N0LW1lc3NhZ2VcIj5cclxuICAgICAgICAgICAgICAgICAgICA8YSB0YXJnZXQ9XCJfYmxhbmtcIiBocmVmPVwiJHt2YWx1ZX1cIiBjbGFzcz1cInRleHQtYm9keSB0ZXh0LWRlY29yYXRpb24tbm9uZVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY2hhdC1wb3N0LW1lc3NhZ2UtLWhlYWRlclwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGltZyBzcmM9XCIke21lc3NhZ2UucHJvZmlsZV9waWNfdXJsfVwiIGFsdD1cIkNvbnRlbnQgSW1hZ2VcIiBjbGFzcz1cInVzZXItYXZhdGFyIG1yLTNcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICR7bWVzc2FnZS51c2VybmFtZX1cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzPVwiZmFzIGZhLWNoZXZyb24tcmlnaHRcIj48L2k+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8aW1nIHNyYz1cIiR7bWVzc2FnZS5wcmV2aWV3X3ZhbHVlfVwiIGFsdD1cIkNvbnRlbnQgSW1hZ2VcIiBjbGFzcz1cImNvbnRlbnQtaW1hZ2VcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgJHsoY2FwdGlvbikgPyBgPHAgY2xhc3M9XCJjaGF0LXBvc3QtY2FwdGlvbiBtLTNcIj4ke2NhcHRpb259PHA+YCA6ICcnfVxyXG4gICAgICAgICAgICAgICAgICAgIDwvYT5cclxuICAgICAgICAgICAgICAgIDwvZGl2PmA7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAndGV4dCc6XHJcbiAgICAgICAgICAgICAgICBzdHIgPSBgPGRpdiBjbGFzcz1cImNoYXQtdGV4dCAke2Nzc0Nsc31cIiA+JHt2YWx1ZVdpdGhVcmx9PC9kaXY+YDtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBkZWZhdWx0OiBzdHIgPSBgPGRpdiBjbGFzcz1cImNoYXQtdGV4dCAke2Nzc0Nsc31cIiA+JHt2YWx1ZX08L2Rpdj5gO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gc3RyO1xyXG4gICAgfTtcclxuICAgIGNvbnN0IGFkZFRvTGlzdCA9IChpc0FwcGVuZFByZXZNc2csICRsaSwgJGxpc3QpID0+IHtcclxuICAgICAgICBpZiAoaXNBcHBlbmRQcmV2TXNnKSB7XHJcbiAgICAgICAgICAgICRsaS5pbnNlcnRCZWZvcmUoJGxpc3QuZmluZCgnbGk6Zmlyc3QtY2hpbGQnKSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgJGxpLmFwcGVuZFRvKCRsaXN0KTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgaWYgKGlzQXBwZW5kUHJldk1zZykge1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCdpc0FwcGVudFByZXZNc2cgdG8nLCBjTGlzdCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIGNMaXN0LmVtcHR5KCkuYWRkQ2xhc3MoJ2JvcmRlci1saWdodC1jb2xvcicpO1xyXG4gICAgICAgIGNsZWFyTWFzc2FnZXNMaXN0KGNMaXN0LCBzdGF0ZUNmZyk7XHJcbiAgICAgICAgLy8gYWRkIG1hcmdpbi1hdXRvIHRvIG1ha2UgbWFzc2VnZXMgb24gYm90dG9tXHJcbiAgICAgICAgJCgnPGxpIGNsYXNzPVwibXQtYXV0b1wiPjwvbGk+JykuYXBwZW5kVG8oY0xpc3QpO1xyXG4gICAgfVxyXG4gICAgaXRlbXMuZm9yRWFjaCgoaXRlbSkgPT4ge1xyXG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSBpdGVtO1xyXG4gICAgICAgIGNvbnN0IHZhbHVlID0gbWVzc2FnZS52YWx1ZS5yZXBsYWNlKC8oPzpcXHJcXG58XFxyfFxcbikvZywgJzxiciAvPicpO1xyXG4gICAgICAgIC8vIGNvbnN0IHZhbHVlID0gbWVzc2FnZS52YWx1ZTtcclxuXHJcbiAgICAgICAgaWYgKG1lc3NhZ2Uuc2lkZS50b0xvd2VyQ2FzZSgpID09PSAnbGVmdCcpIHtcclxuICAgICAgICAgICAgY29uc3QgJGxpID0gJChgPGxpIGNsYXNzPVwiY2hhdC1pdGVtIGNoYXQtaXRlbS1sZWZ0IGNvbCBmbGV4LWNvbHVtbi1yZXZlcnNlXCIgdmFsdWU9XCIke21lc3NhZ2UudmFsdWV9XCI+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZC1mbGV4XCI+XHJcbiAgICAgICAgICAgICAgICAkeyhtZXNzYWdlWydwcm9maWxlX3BpY191cmwnXSlcclxuICAgICAgICAgICAgICAgID8gYDxkaXYgY2xhc3M9XCJjaGF0LWltZy1ib3hcIj4gXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW1nIHNyYz1cIiR7bWVzc2FnZVsncHJvZmlsZV9waWNfdXJsJ119XCIgYWx0PVwiVXNlciBBdmF0YXJcIiBjbGFzcz1cIlwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5gXHJcbiAgICAgICAgICAgICAgICA6ICcnXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICA8ZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzPVwiY2hhdC11c2VybmFtZSB0ZXh0LW11dGVkXCI+JHttZXNzYWdlLnVzZXJuYW1lfTwvcD5cclxuICAgICAgICAgICAgICAgICAgICAke2luc2VydE1zZyh2YWx1ZSwgbWVzc2FnZSwgJ3RleHQtbGVmdCcpfVxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPHNtYWxsIGNsYXNzPVwiY2hhdC10aW1lLXRleHRcIj4ke3ZpZXdVdGlscy5nZXRGb3JtYXR0ZWREYXRlVXRpbChtZXNzYWdlLnRpbWVzdGFtcCl9PC9zbWFsbD5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvbGk+YCk7XHJcbiAgICAgICAgICAgIGFkZFRvTGlzdChpc0FwcGVuZFByZXZNc2csICRsaSwgY0xpc3QpOyAvLyB0b0RvIHJlZmFjdG9yIG1lLCBsZXNzIERPTSBtYW5pcHVsYXRpb25cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjb25zdCAkbGkgPSAkKGA8bGkgY2xhc3M9XCJjaGF0LWl0ZW0gY2hhdC1pdGVtLXJpZ2h0IGNvbCBmbGV4LWNvbHVtbi1yZXZlcnNlXCIgdmFsdWU9XCIke21lc3NhZ2UudmFsdWV9XCI+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZC1mbGV4IGp1c3RpZnktY29udGVudC1lbmRcIj5cclxuICAgICAgICAgICAgICAgICAgICAke2luc2VydE1zZyh2YWx1ZSwgbWVzc2FnZSwgJ3RleHQtcmlnaHQnKX1cclxuICAgICAgICAgICAgICAgICAgICA8c21hbGwgY2xhc3M9XCJwdWxsLXJpZ2h0IGNoYXQtdGltZS10ZXh0XCI+JHt2aWV3VXRpbHMuZ2V0Rm9ybWF0dGVkRGF0ZVV0aWwobWVzc2FnZS50aW1lc3RhbXApfTwvc21hbGw+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvbGk+YCk7XHJcbiAgICAgICAgICAgIGFkZFRvTGlzdChpc0FwcGVuZFByZXZNc2csICRsaSwgY0xpc3QpOyAvLyB0b0RvIHJlZmFjdG9yIG1lLCBsZXNzIERPTSBtYW5pcHVsYXRpb25cclxuICAgICAgICB9XHJcbiAgICB9KTtcclxufVxyXG5cclxuY29uc3QgY29udmVyc2F0aW9uRGV0YWlsID0gZnVuY3Rpb24oaXRlbXMpIHtcclxuICAgIGxldCB0cGwgPSAnJztcclxuICAgIGl0ZW1zLmZvckVhY2goKGl0ZW0pID0+IHtcclxuICAgICAgICBpZiAoaXRlbXMubGVuZ3RoID4gMSkge1xyXG4gICAgICAgICAgICB0cGwgKz0gYDxpbWcgc3JjPVwiJHtpdGVtWydwcm9maWxlX3BpY191cmwnXX1cIiBhbHQ9J2ltYWdlJyBjbGFzcz1cIm1lZGlhLXBob3RvIG1yLTEgbWVkaWEtcGhvdG8tLWdyb3VwXCIgc3R5bGU9XCJ3aWR0aDogMjRweDtcIj5gO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRwbCArPSBgPGltZyBzcmM9XCIke2l0ZW1bJ3Byb2ZpbGVfcGljX3VybCddfVwiIGFsdD0naW1hZ2UnIGNsYXNzPVwibWVkaWEtcGhvdG8gbXItMVwiIHN0eWxlPVwid2lkdGg6IDI0cHg7XCI+YDtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuICAgIHJldHVybiB0cGw7XHJcbn07XHJcbmV4cG9ydCBjb25zdCBhZGRDb252ZXJzYXRpb25zID0gZnVuY3Rpb24oY29udmVyc2F0aW9ucykge1xyXG4gICAgbGV0IHRwbCA9ICcnO1xyXG4gICAgY29udmVyc2F0aW9ucy5mb3JFYWNoKChpdGVtKSA9PiB7XHJcbiAgICAgICAgY29uc3QgaXNVbnJlYWQgPSBpdGVtWydpc191bnJlYWQnXTtcclxuICAgICAgICBjb25zdCBsYXN0TWVzc2FnZSA9IGl0ZW1bJ2xhc3RfbWVzc2FnZSddO1xyXG4gICAgICAgIGNvbnN0IGlzTGFzdE1zZyA9IGxhc3RNZXNzYWdlICYmIChwYXJzZUludChsYXN0TWVzc2FnZS5sZW5ndGgsIDEwKSk7XHJcbiAgICAgICAgY29uc3QgaXNBZGREb3QgPSBpc0xhc3RNc2cgPiAwICYmIGl0ZW0udG8ubGVuZ3RoID4gMSAmJiBpc1VucmVhZDtcclxuICAgICAgICB0cGwgKz0gYFxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1lZGlhIHAtMVwiIGRhdGEtY29udmVyc2F0aW9uLWlkPVwiJHtpdGVtLmlkfVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICR7Y29udmVyc2F0aW9uRGV0YWlsKGl0ZW0udG8pfVxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtZWRpYS1ib2R5XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICR7KGlzQWRkRG90IHx8IGlzVW5yZWFkKVxyXG4gICAgICAgICAgICA/ICc8c3BhbiBjbGFzcz1cInN1bW1hcnktZG90XCI+PC9zcGFuPidcclxuICAgICAgICAgICAgOiAnJ1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwhLS0ge2lzVW5yZWFkID8gJzxzcGFuIGNsYXNzPVwic3VtbWFyeS1kb3RcIj48L3NwYW4+JyA6ICcnfSAtLT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGg1IGNsYXNzPVwidGl0bGUgJHtpc1VucmVhZCA/ICdmb250LXdlaWdodC1ib2xkJyA6ICcnfSAkeyhpc0FkZERvdCkgPyAnbXItMicgOiAnJ31cIj4ke2l0ZW0udGl0bGV9PC9oNT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgJHsoaXNMYXN0TXNnID4gMCAmJiBpdGVtLnRvLmxlbmd0aCA9PT0gMSlcclxuICAgICAgICAgICAgPyBgPHAgY2xhc3M9XCJzdW1tYXJ5IHRleHQtbXV0ZWRcIj4ke2xhc3RNZXNzYWdlfTwvcD5gXHJcbiAgICAgICAgICAgIDogJydcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIGA7XHJcbiAgICB9KTtcclxuICAgIHJldHVybiB0cGw7XHJcbn07XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gYXBwZW5kVXNlckxpc3QoJGxpc3QsIGl0ZW0sIGRldGFpbHMpIHtcclxuICAgIGNvbnN0IHtjdXJzb3IsIHNlY3Rpb24sIHVzZXJuYW1lfSA9IGRldGFpbHM7XHJcbiAgICBjb25zdCAkY29sbGFwc2UgPSAkKGAjY29sbGFwc2UtJHtzZWN0aW9ufWApO1xyXG4gICAgY29uc29sZS5sb2coY3Vyc29yLCB1c2VybmFtZSk7XHJcbiAgICAkY29sbGFwc2UuYXBwZW5kKGFkZENvbnZlcnNhdGlvbnMoaXRlbS5jb252ZXJzYXRpb25zKSk7XHJcbiAgICAvLyAke2FkZENvbnZlcnNhdGlvbnMoaXRlbS5jb252ZXJzYXRpb25zLCBpZHgpfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZmlsbFVzZXJMaXN0KCRsaXN0LCBkYXRhQXJyYXksIGxvYWRNb3JlQ2JGdW5jdGlvbikge1xyXG4gICAgY29uc3QgaXRlbXMgPSBkYXRhQXJyYXk7XHJcbiAgICBjb25zdCBjTGlzdCA9ICRsaXN0O1xyXG4gICAgbGV0IHRwbCA9ICcnO1xyXG4gICAgY29uc3QgbG9hZE1vcmVCb3ggPSAoaWR4LCBwcmV2X2N1cnNvcikgPT4gYDxkaXYgY2xhc3M9XCJsaXN0LWZvb3RlciB0ZXh0LWNlbnRlciBqc19sb2FkLW1vcmUtYm94XCIgZGF0YS1pZHg9XCIke2lkeH1cIiBkYXRhLWN1cnNvcj1cIiR7cHJldl9jdXJzb3J9XCI+XHJcbiAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJidG4gYnRuLW91dGxpbmUtc2Vjb25kYXJ5IGJ0bi1zbSBidG4tc3VibWl0XCI+0JfQsNCz0YDRg9C30LjRgtGMINC10YnQtTwvYnV0dG9uPlxyXG4gICAgPC9kaXY+YDtcclxuICAgIGNMaXN0LmVtcHR5KCkuYWRkQ2xhc3MoJ2JvcmRlci1saWdodC1jb2xvcicpO1xyXG4gICAgLy8gdG9kbzogZml4IGhhcmQtY29kZSAgaW1nIHNyYz1cImh0dHBzOi8vaS5pbWd1ci5jb20vak5OVDRMRS5wbmdcIlxyXG4gICAgaXRlbXMuZm9yRWFjaCgoaXRlbSwgaWR4KSA9PiB7XHJcbiAgICAgICAgY29uc3Qge3BhZ2luYXRpb259ID0gaXRlbTtcclxuICAgICAgICBjb25zb2xlLmxvZyhpdGVtLnBlbmRpbmdfcmVxdWVzdHMpO1xyXG4gICAgICAgIHRwbCArPSBgPGxpIGNsYXNzPVwibGlzdC1ncm91cC1pdGVtXCIgZGF0YS10b2dnbGU9XCJjb2xsYXBzZVwiIGRhdGEtdGFyZ2V0PVwiI2NvbGxhcHNlLSR7aWR4fVwiIFxyXG4gICAgICAgICAgICAgICAgZGF0YS11c2VybmFtZT1cIiR7aXRlbS51c2VybmFtZX1cIlxyXG4gICAgICAgICAgICAgICAgZGF0YS11c2VyQXZhdGFyPVwiJHtpdGVtLnByb2ZpbGVfcGljX3VybH1cIlxyXG4gICAgICAgICAgICAgICAgYXJpYS1leHBhbmRlZD1cInRydWVcIiBhcmlhLWNvbnRyb2xzPVwiY29sbGFwc2UtJHtpZHh9XCI+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb252ZXJzYXRpb24taGVhZCBtYi0xIG1lZGlhIHBiLTJcIiBpZD1cImhlYWRpbmctJHtpZHh9XCI+XHJcbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cIm1yLTNcIj5cclxuICAgICAgICAgICAgICAgICAgICA8aW1nIHNyYz1cIiR7aXRlbS5wcm9maWxlX3BpY191cmx9XCIgYWx0PVwiYXZhdGFyXCJcclxuICAgICAgICAgICAgICAgICAgICBjbGFzcz1cIm1lZGlhLXBob3RvIHJvdW5kZWQtY2lyY2xlXCI+XHJcbiAgICAgICAgICAgICAgICA8L3NwYW4+XHJcbiAgICAgICAgICAgICAgICAkeyhpdGVtWyd1bnJlYWRfY29udmVyc2F0aW9ucyddID4gMCkgPyBgPHNwYW4gY2xhc3M9XCJiYWRnZSBiYWRnZS1zZWNvbmRhcnkgcG9zaXRpb24tYWJzb2x1dGUgcC0yXCI+JHtpdGVtWyd1bnJlYWRfY29udmVyc2F0aW9ucyddfTwvc3Bhbj5gIDogJyd9XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibWVkaWEtYm9keVwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxoNCBjbGFzcz1cInRpdGxlXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICR7aXRlbS51c2VybmFtZX1cclxuICAgICAgICAgICAgICAgICAgICA8L2g0PlxyXG4gICAgICAgICAgICAgICAgICAgICR7KGl0ZW0ucGVuZGluZ19yZXF1ZXN0cykgPyBgPHAgY2xhc3M9XCJqc19zaG93LXJlcXVlc3QtYm94IGJ0biBidG4tb3V0bGluZS1kYXJrIGJ0bi1zbVwiPiR7aXRlbS5wZW5kaW5nX3JlcXVlc3RzfSDQt9Cw0L/RgNC+0YEkeyhpdGVtLnBlbmRpbmdfcmVxdWVzdHMgPiAxKSA/ICdhJyA6ICcnfTwvcD5gIDogJyd9XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDxkaXYgaWQ9XCJjb2xsYXBzZS0ke2lkeH1cIiBjbGFzcz1cImNvbGxhcHNlXCIgYXJpYS1sYWJlbGxlZGJ5PVwiaGVhZGluZy0ke2lkeH1cIiBkYXRhLXBhcmVudD1cIiNhY2NvcmRpb25cIj5cclxuICAgICAgICAgICAgICAgICR7YWRkQ29udmVyc2F0aW9ucyhpdGVtLmNvbnZlcnNhdGlvbnMpfVxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgJHsocGFnaW5hdGlvbiAmJiBwYWdpbmF0aW9uLnByZXZfY3Vyc29yKSA/IGxvYWRNb3JlQm94KGlkeCwgcGFnaW5hdGlvbi5wcmV2X2N1cnNvcikgOiAnJ31cclxuICAgICAgICA8L2xpPmA7XHJcbiAgICB9KTtcclxuICAgICQodHBsKS5hcHBlbmRUbyhjTGlzdCk7XHJcbiAgICAkKCcuanNfbG9hZC1tb3JlLWJveCBidXR0b24nKS5vbignY2xpY2snLCAoZSkgPT4ge1xyXG4gICAgICAgIGNvbnN0ICRidG4gPSAkKGUudGFyZ2V0KTtcclxuICAgICAgICBjb25zdCAkYnRuQm94ID0gJGJ0bi5jbG9zZXN0KCcuanNfbG9hZC1tb3JlLWJveCcpO1xyXG4gICAgICAgIGNvbnN0IHNlY3Rpb24gPSAkYnRuQm94LmRhdGEoJ2lkeCcpO1xyXG4gICAgICAgIGNvbnN0IGN1cnNvciA9ICRidG5Cb3guZGF0YSgnY3Vyc29yJyk7XHJcbiAgICAgICAgY29uc3QgdXNlcm5hbWUgPSAkYnRuQm94LmNsb3Nlc3QoJ2xpJykuZGF0YSgndXNlcm5hbWUnKTtcclxuXHJcbiAgICAgICAgY29uc29sZS5sb2coJ2NsaWNrJywgc2VjdGlvbiwgY3Vyc29yKTtcclxuICAgICAgICBsb2FkTW9yZUNiRnVuY3Rpb24oY3Vyc29yLCBzZWN0aW9uLCB1c2VybmFtZSk7XHJcbiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgIH0pO1xyXG4gICAgJCgnLmpzX3Nob3ctcmVxdWVzdC1ib3gnKS5vbignY2xpY2snLCAoZSkgPT4ge1xyXG4gICAgICAgICQoZS50YXJnZXQpLmNsb3Nlc3QoJy51c2VyLWxpc3QtYm94JykuYWRkQ2xhc3MoJ3VzZXItbGlzdC1ib3gtLWhpZGUnKTtcclxuICAgICAgICAkKCcudXNlci1yZXF1ZXN0cy1ib3gnKS5hZGRDbGFzcygndXNlci1yZXF1ZXN0cy1ib3gtLXNob3cnKTtcclxuICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbmV4cG9ydCBjb25zdCBtZXNzYWdlQXJlYUhlbmRsZXIgPSAoJHRleHRBcmVhLCAkc2VuZE1lc3NhZ2VCdXR0b24pID0+IHtcclxuICAgICR0ZXh0QXJlYS5vbigna2V5ZG93bicsIChlKSA9PiB7XHJcbiAgICAgICAgaWYgKGUua2V5Q29kZSA9PT0gMTMpIHtcclxuICAgICAgICAgICAgaWYgKGUuY3RybEtleSkge1xyXG4gICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ2N0cmwrZW50ZXInKTtcclxuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgICAgIGUudGFyZ2V0LnZhbHVlICs9ICdcXG4nO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgaWYgKGUudGFyZ2V0LnZhbHVlLnRyaW0oKS5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICAgICAkc2VuZE1lc3NhZ2VCdXR0b24udHJpZ2dlcignY2xpY2snKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG59O1xyXG5cclxuLy8gZXhwb3J0IGNvbnN0IGFkZE1vcmVVc2Vyc0FjY29yZGlvbiA9IChjb252ZXJzYXRpb25zLCBjb252ZXJzYXRpb25Ub0FkZCkgPT4ge1xyXG4gICAgLy8gY29uc3QgJGJ0bk1vcmVCb3ggPSAkKCcjbG9hZC1tb3JlLWJveCcpO1xyXG4gICAgLy8gY29uc3QgJGJ0bk1vcmUgPSAkKCdidXR0b24nLCAkYnRuTW9yZUJveCk7XHJcbiAgICAvLyAkYnRuTW9yZUJveC5zaG93KCk7XHJcbiAgICAvLyBjb25zb2xlLmxvZygnc3RhcnQgYWRkIHBhZ2luYXRpb24gdG8gYWNjb3JkaW9pbicsIGNvbnZlcnNhdGlvblRvQWRkKTtcclxuICAgIC8vIGNvbnZlcnNhdGlvbnMuZm9yRWFjaCgoaXRlbSwgaWR4KSA9PiB7XHJcbiAgICAvLyAgICAgaWYgKGl0ZW0ucGFnaW5hdGlvbiAmJiBpdGVtLnBhZ2luYXRpb24ucHJldl9jdXJzb3IpIHtcclxuICAgIC8vICAgICAgICAgY29uc29sZS5sb2coJ2NvbnZlcnNhdGlvbiAtID4nLCBpdGVtLnBhZ2luYXRpb24pO1xyXG4gICAgLy8gICAgICAgICAkYnRuTW9yZS5vbignY2xpY2snLCAoKSA9PiB7XHJcbiAgICAvLyAgICAgICAgICAgICBjb25zb2xlLmxvZygnY2xpY2sgLSA+JywgaXRlbS5wYWdpbmF0aW9uKTtcclxuICAgIC8vICAgICAgICAgICAgIGNvbnN0IGRldGFpbHMgPSB7XHJcbiAgICAvLyAgICAgICAgICAgICAgICAgdXNlcm5hbWU6ICcnLFxyXG4gICAgLy8gICAgICAgICAgICAgICAgIGN1cnNvcjogaXRlbS5wYWdpbmF0aW9uLnByZXZfY3Vyc29yXHJcbiAgICAvLyAgICAgICAgICAgICB9O1xyXG4gICAgLy8gICAgICAgICAgICAgVXNlckNvbnZlcnNhdGlvbi5nZXRNZXRhZGF0YURldGFpbFVzZXJzKGRldGFpbHMpLnRoZW4oKHJlc3VsdCkgPT4ge1xyXG4gICAgLy8gICAgICAgICAgICAgICAgIGlmICghcmVzdWx0LmRhdGEpIHtcclxuICAgIC8vICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgLy8gICAgICAgICAgICAgICAgIH1cclxuICAgIC8vICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnKipnZXRNZXRhZGF0YURldGFpbFVzZXJzKiogcmVzdWx0IC0gPicsIHJlc3VsdCk7XHJcbiAgICAvLyAgICAgICAgICAgICB9KTtcclxuICAgIC8vICAgICAgICAgfSk7XHJcbiAgICAvLyAgICAgfVxyXG4gICAgLy8gfSk7XHJcbi8vIH07XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9ibG9ja3MvbWVzc2FnZXMvdXRpbHMuanMiLCIvLyBpbXBvcnQgJCBmcm9tICdqcXVlcnknO1xyXG5pbXBvcnQgUHViU3ViIGZyb20gJ3B1YnN1Yi1qcyc7IC8vIGh0dHBzOi8vd3d3Lm5wbWpzLmNvbS9wYWNrYWdlL3B1YnN1Yi1qc1xyXG5pbXBvcnQgVXNlciBmcm9tICcuLi8uLi9jb21tb24vanMtc2VydmljZXMvdXNlcic7XHJcbmltcG9ydCBjb29raWVTdG9yYWdlIGZyb20gJy4uLy4uL2NvbW1vbi9qcy1zZXJ2aWNlcy9jb29raWUnO1xyXG5pbXBvcnQge0NPTlNUfSBmcm9tICcuLi8uLi9jb21tb24vanMtc2VydmljZXMvY29uc3RzJztcclxuaW1wb3J0IHZpZXdVdGlscyBmcm9tICcuLi8uLi9jb21tb24vanMtc2VydmljZXMvdmlldyc7XHJcblxyXG5jb25zdCBzZWxlY3RvckNscyA9IHtcclxuICAgIGZvcm06ICcuYXV0aC5yZWdpc3RlciAuZm9ybS1zaWduaW4nLFxyXG4gICAgc3VibWl0QnRuOiAnW3R5cGU9XCJzdWJtaXRcIl0nXHJcbn07XHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFJlZ2lzdGVyRm9ybSB7XHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB0aGlzLnVzZXIgPSBVc2VyO1xyXG4gICAgICAgIHRoaXMuJGZvcm0gPSAkKHNlbGVjdG9yQ2xzLmZvcm0pO1xyXG4gICAgICAgIHRoaXMuJGVtYWlsID0gdGhpcy4kZm9ybS5maW5kKCdpbnB1dFtuYW1lPVwibWFpbFwiXScpO1xyXG4gICAgICAgIHRoaXMuJHRleHRBcmVhRGVzY3JpcHRpb24gPSAkKCcucmVnaXN0ZXItLWNvbmZpcm0nKTtcclxuICAgICAgICB0aGlzLmZvcm1EYXRhID0geydlbWFpbCc6ICd0ZXN0MV9lbWFpbEBtLnJ1JywgJ3Bhc3N3b3JkJzogJ3Bhc3N3b3JkJ307XHJcbiAgICB9XHJcblxyXG4gICAgaW5pdCgpIHtcclxuICAgICAgICBpZiAoJCgnLmF1dGgucmVnaXN0ZXInKS5sZW5ndGgpIHtcclxuICAgICAgICAgICAgdGhpcy5iaW5kRXZlbnRzKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHN1Ym1pdEZvcm0oZm9ybURhdGFPYmopIHtcclxuICAgICAgICBjb25zdCBlbWFpbCA9IHRoaXMuJGVtYWlsLnZhbCgpO1xyXG4gICAgICAgIGNvbnN0IGJvcmRlckRhbmdlckNscyA9ICdib3JkZXItZGFuZ2VyJztcclxuICAgICAgICBjb25zdCAkcGFzc3dvcmQgPSB0aGlzLiRmb3JtLmZpbmQoJ2lucHV0W25hbWU9XCJwYXNzXCJdJyksXHJcbiAgICAgICAgICAgICRwYXNzd29yZENvbmZpcm0gPSB0aGlzLiRmb3JtLmZpbmQoJ2lucHV0W25hbWU9XCJwYXNzLWNvbmZpcm1cIl0nKSxcclxuICAgICAgICAgICAgcGFzc3dvcmQgPSB0aGlzLiRmb3JtLmZpbmQoJ2lucHV0W25hbWU9XCJwYXNzXCJdJykudmFsKCksXHJcbiAgICAgICAgICAgIHBhc3N3b3JkQ29uZmlybSA9IHRoaXMuJGZvcm0uZmluZCgnaW5wdXRbbmFtZT1cInBhc3MtY29uZmlybVwiXScpLnZhbCgpO1xyXG5cclxuICAgICAgICAvLyBIaWdobGlnaHQgZXJyb3JzXHJcbiAgICAgICAgaWYgKHBhc3N3b3JkQ29uZmlybSAhPT0gcGFzc3dvcmQpIHtcclxuICAgICAgICAgICAgJHBhc3N3b3JkLmFkZENsYXNzKGJvcmRlckRhbmdlckNscyk7XHJcbiAgICAgICAgICAgICRwYXNzd29yZENvbmZpcm0uYWRkQ2xhc3MoYm9yZGVyRGFuZ2VyQ2xzKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICRwYXNzd29yZC5yZW1vdmVDbGFzcyhib3JkZXJEYW5nZXJDbHMpO1xyXG4gICAgICAgICAgICAkcGFzc3dvcmRDb25maXJtLnJlbW92ZUNsYXNzKGJvcmRlckRhbmdlckNscyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuJGVtYWlsLnZhbCh0aGlzLiRlbWFpbC52YWwoKS50b0xvY2FsZUxvd2VyQ2FzZSgpKTtcclxuICAgICAgICB0aGlzLmZvcm1EYXRhID0gZm9ybURhdGFPYmogfHwge2VtYWlsLCBwYXNzd29yZH07XHJcblxyXG4gICAgICAgIHRoaXMudXNlci5yZWdpc3Rlcih0aGlzLmZvcm1EYXRhKVxyXG4gICAgICAgICAgICAudGhlbigocmVzdWx0KSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0LmRhdGEgJiYgcmVzdWx0LmRhdGEudG9rZW4pIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gc2F2ZSB0aGUgaXRlbVxyXG4gICAgICAgICAgICAgICAgICAgIGNvb2tpZVN0b3JhZ2Uuc2V0KENPTlNULmNvb2tpZVN0b3JhZ2UuZW1haWxDb25maXJtZWQsICdmYWxzZScpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvb2tpZVN0b3JhZ2Uuc2V0KENPTlNULmNvb2tpZVN0b3JhZ2UudG9rZW4sIHJlc3VsdC5kYXRhLnRva2VuKTtcclxuICAgICAgICAgICAgICAgICAgICBQdWJTdWIucHVibGlzaChDT05TVC5ldmVudHMuVVNFUl9MT0dHRUQpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIHZpZXdVdGlscy5zaG93SW5mb01lc3NhZ2UodGhpcy4kdGV4dEFyZWFEZXNjcmlwdGlvbixcclxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgcmVzdWx0LnN0YXR1cy5zdGF0ZSxcclxuICAgICAgICAgICAgICAgICAgICAvLyAgICAgcmVzdWx0LnN0YXR1cy5tZXNzYWdlIHx8ICdSZWdpc3RlciBhbmQgTG9naW4gc3VjY3Nlc3MnKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmlld1V0aWxzLnNob3dJbmZvTWVzc2FnZSh0aGlzLiR0ZXh0QXJlYURlc2NyaXB0aW9uLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQuc3RhdHVzLnN0YXRlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQuc3RhdHVzLm1lc3NhZ2UgfHwgJ25vIHJlc3VsdC5kYXRhIGZvdW5kJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pLnRoZW4oKHJlc3VsdCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdCAmJiByZXN1bHQuc3RhdHVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzdWx0KTtcclxuICAgICAgICAgICAgICAgICAgICB2aWV3VXRpbHMuc2hvd0luZm9NZXNzYWdlKHRoaXMuJHRleHRBcmVhRGVzY3JpcHRpb24sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5zdGF0dXMuc3RhdGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICQoJy5sb2dpbi1ib3gnKS5zaG93KCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pLmNhdGNoKChlcnJvcikgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgbW9kYWwgPSAkKCcjcmVnaXN0ZXItZXJyb3ItbW9kYWwnKTtcclxuICAgICAgICAgICAgICAgIG1vZGFsLm1vZGFsKCdzaG93Jyk7XHJcblxyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ3JlcXVlc3QgZmFpbGVkJywgZXJyb3IpO1xyXG4gICAgICAgICAgICAgICAgLy8gdmlld1V0aWxzLnNob3dJbmZvTWVzc2FnZSh0aGlzLiR0ZXh0QXJlYURlc2NyaXB0aW9uLFxyXG4gICAgICAgICAgICAgICAgLy8gICAgIGVycm9yLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBiaW5kRXZlbnRzKCkge1xyXG4gICAgICAgIGNvbnN0IHJlZ2lzdGVyQm94ID0gQ09OU1QudWlTZWxlY3RvcnMuaGVhZGVyUmVnQm94OyAvLyAnbmF2IC5yZWdpc3Rlci1ib3gnO1xyXG4gICAgICAgIGNvbnN0IG9wZW5lZENsYXNzID0gJ2QtYmxvY2snO1xyXG4gICAgICAgIGNvbnN0IGNsb3NlQ2xhc3MgPSAnZC1ub25lJztcclxuICAgICAgICBjb25zdCAkYnRuID0gJChzZWxlY3RvckNscy5zdWJtaXRCdG4pLFxyXG4gICAgICAgICAgICBjc3NWYWxpZGF0aW9uQ2xhc3MgPSAnZm9ybS12YWxpZGF0aW9uJztcclxuXHJcbiAgICAgICAgJGJ0bi5vbignY2xpY2snLCAoZSkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBmb3JtID0gdGhpcy4kZm9ybS5nZXQoMCk7XHJcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuXHJcbiAgICAgICAgICAgIGlmICghJGJ0bi5pcygnOmRpc2FibGVkJykpIHtcclxuICAgICAgICAgICAgICAgIGlmIChmb3JtLmNoZWNrVmFsaWRpdHkoKSkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vICRidG4uYXR0cignZGlzYWJsZWQnLCB0cnVlKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnN1Ym1pdEZvcm0oKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gSGlnaGxpZ2h0IGVycm9yc1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChmb3JtLnJlcG9ydFZhbGlkaXR5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvcm0ucmVwb3J0VmFsaWRpdHkoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy4kZm9ybS5hZGRDbGFzcyhjc3NWYWxpZGF0aW9uQ2xhc3MpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIFB1YlN1Yi5zdWJzY3JpYmUoQ09OU1QuZXZlbnRzLlVTRVJfTE9HR0VELCAoKSA9PiB7XHJcbiAgICAgICAgICAgIC8vICQoJy5yZWdpc3Rlci0tY29uZmlybScpLnJlbW92ZUNsYXNzKCdkLW5vbmUnKTtcclxuICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSAnLi9yZWdpc3RyYXRpb24tc3VjY2Vzcy5odG1sJztcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgJChkb2N1bWVudCkub24oJ2NsaWNrJywgKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGlzUmVnQnRuQ2xpY2sgPSAkKGV2ZW50LnRhcmdldCkuY2xvc2VzdCgnbmF2Lm5hdmJhcicpLmZpbmQoJy5yZWdpc3Rlci1ib3gnKS5sZW5ndGg7XHJcblxyXG4gICAgICAgICAgICBpZiAoIWlzUmVnQnRuQ2xpY2sgJiYgJChyZWdpc3RlckJveCkuaGFzQ2xhc3Mob3BlbmVkQ2xhc3MpKSB7XHJcbiAgICAgICAgICAgICAgICAkKHJlZ2lzdGVyQm94KS5hZGRDbGFzcyhjbG9zZUNsYXNzKS5yZW1vdmVDbGFzcyhvcGVuZWRDbGFzcyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxufVxyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvYmxvY2tzL3JlZ2lzdGVyLWZvcm0vcmVnaXN0ZXItZm9ybS5qcyIsIlxyXG4vKipcclxuICogSW5pdCBNZW51XHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gaW5pdE1lbnUoKSB7XHJcbiAgICBjb25zdCB1cmxUb0NoZWNrID0gW1xyXG4gICAgICAgICdpbnN0YWdyYW0tYWNjb3VudHMnLFxyXG4gICAgICAgICdhdXRvbWVzc2FnZXMnLFxyXG4gICAgICAgICdzdG9yaWVzJyxcclxuICAgICAgICAnYXV0b2dyZWV0aW5nJyxcclxuICAgICAgICAnYXV0b2NvbW1lbnRzJyxcclxuICAgICAgICAnZm9sbG93JyxcclxuICAgICAgICAndW5mb2xsb3cnLFxyXG4gICAgICAgICdtZXNzYWdlcycsXHJcbiAgICAgICAgJ2NoYXQtYm90J1xyXG4gICAgXTtcclxuICAgIGNvbnN0IHBhdGhOYW1lID0gd2luZG93LmxvY2F0aW9uLnBhdGhuYW1lO1xyXG4gICAgdXJsVG9DaGVjay5mb3JFYWNoKGl0ZW0gPT4ge1xyXG4gICAgICAgIGNvbnN0IGlzQWN0aXZlVXJsID0gKHBhdGhOYW1lID09PSBgL2luc3RhZ3JhbS1pbnRlZ3JhdGlvbi8ke2l0ZW19Lmh0bWxgIHx8IHBhdGhOYW1lID09PSBgLyR7aXRlbX0uaHRtbGApO1xyXG4gICAgICAgIGlmIChpc0FjdGl2ZVVybCkge1xyXG4gICAgICAgICAgICAkKGBuYXYuYXNpZGUtYnVyZ2VyLW1lbnUgYVtocmVmKj1cIi8ke2l0ZW19XCJdYClcclxuICAgICAgICAgICAgICAgIC5hZGRDbGFzcygndGV4dC1pbmZvJylcclxuICAgICAgICAgICAgICAgIC5yZW1vdmVDbGFzcygndGV4dC1saWdodCcpO1xyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmluZm8oJ2l0ZW0gZm91bmQnLCBpdGVtLCBhY3RpdmVNZW51SXRlbSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbn1cclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2Jsb2Nrcy9zaWRlYmFyLW1lbnUvc2lkZWJhci1tZW51LmpzIiwiaW1wb3J0IHtDT05TVH0gZnJvbSAnLi4vLi4vY29tbW9uL2pzLXNlcnZpY2VzL2NvbnN0cyc7XHJcbmltcG9ydCBVc2VyVGFza01hbmFnZXIgZnJvbSAnLi4vLi4vY29tbW9uL2pzLXNlcnZpY2VzL2FwaS10YXNrLW1hbmFnZXInO1xyXG5pbXBvcnQgdmlld1V0aWxzIGZyb20gJy4uLy4uL2NvbW1vbi9qcy1zZXJ2aWNlcy92aWV3JztcclxuaW1wb3J0ICogYXMgd2l6YXJkRm9ybSBmcm9tICcuLi8uLi9ibG9ja3Mvd2l6YXJkLWZvcm0vd2l6YXJkLWZvcm0nO1xyXG5pbXBvcnQgKiBhcyBzdG9yaWVzU3RhdHVzIGZyb20gJy4vc3Rvcmllcy1zdGF0dXMnO1xyXG5pbXBvcnQge2luaXRMb2dzVGFifSBmcm9tICcuLi9fc2hhcmVkL2xvZ3MvbG9ncy10YWJzJztcclxuaW1wb3J0IHthdHRhY2hUeHRGaWxlSGFuZGxlcn0gZnJvbSAnLi4vZm9sbG93L2ZvbGxvdy1yZWFkLWZpbGUtdHh0JztcclxuaW1wb3J0IHsvKiBpbml0VGFnc0lucHV0LCAqL25leHRCdG52YWxpZGF0ZUNvbXBldGl0b3JzSGFuZGxlcn0gZnJvbSAnLi4vX3NoYXJlZC90YWdzLWlucHV0L3RhZ3MtaW5wdXQnO1xyXG5cclxuY29uc3Qge2dldFZhbEJ5Q29tbWFTZXBhcmF0b3IsIGZpbGxSYWRpb0dyb3VwTGlzdH0gPSB2aWV3VXRpbHM7XHJcbmxldCB1c2VybmFtZVNlbGVjdGVkID0gJyc7XHJcbmNvbnN0IGxvZ3NTdGF0ZSA9IENPTlNULmxvZ3NTdGF0ZTtcclxuY29uc3QgY2xzQ29uc3QgPSB7XHJcbiAgICBjdXJyZW50UGFnZUNsczogJy5zdG9yaWVzLXBhZ2UnLFxyXG4gICAgdGFza3NMaXN0OiAnLmxvZy10YXNrcycsXHJcbiAgICBsb2dzVGFiQnRuOiAnI3YtcGlsbHMtbG9ncy10YWInLFxyXG4gICAgcGFnaW5hdGlvbjogJy5sb2dzLXBhZ2luYXRpb24nLFxyXG4gICAgcGFnaW5hdGlvblBnTnVtYmVyOiAnLnBhZ2UtbnVtYmVyJyxcclxuICAgIHBhdGhUeXBlOiBDT05TVC51cmwudG1UeXBlcy5zdG9yaWVzVCxcclxuICAgIHBhdGhTdWJUeXBlOiBDT05TVC51cmwudG1UeXBlcy5zdG9yaWVzU3ViVFswXVxyXG59O1xyXG5jb25zdCBlbFNlbGVjdG9yID0ge1xyXG4gICAgd2l6YXJkRm9ybTogJy53aXphcmQtZm9ybScsXHJcbiAgICB3aXphcmRGb3JtTmFtZTogJ3dpemFyZC1mb3JtJyxcclxuICAgIGZpZWxkczogJy5hdXRvbWVzc2FnZXMtdGV4dC1maWVsZHMnLFxyXG4gICAgdGFza01vZGU6ICcuanNfdGFzay1tb2RlJyxcclxuICAgIGNvbXBldGl0b3JzOiAnLmpzX3N0b3JpZXMtY29tcGV0aXRvcnMgaW5wdXRbZGF0YS1yb2xlPVwidGFnc2lucHV0XCJdJ1xyXG59O1xyXG5jb25zdCBzdGF0ZSA9IHtcclxuICAgIHN1YnR5cGU6IENPTlNULnVybC50bVR5cGVzLnN0b3JpZXNTdWJUWzBdLFxyXG4gICAgdXNlcl9kZWZhdWx0X2NvbmZpZzoge1xyXG4gICAgICAgIHRhc2tfbW9kZTogJ1NBRkUnXHJcbiAgICB9XHJcbn07XHJcblxyXG5mdW5jdGlvbiBvblN1Ym1pdEhhbmRsZXIoZSkge1xyXG4gICAgY29uc3Qge3dpemFyZEZvcm1OYW1lfSA9IGVsU2VsZWN0b3I7XHJcbiAgICBjb25zdCBmb3JtID0gZG9jdW1lbnQuZm9ybXNbd2l6YXJkRm9ybU5hbWVdO1xyXG4gICAgY29uc3QgbGltaXQgPSBmb3JtWydsaW1pdCddO1xyXG5cclxuICAgIGlmIChsaW1pdC52YWx1ZSA9PT0gJycpIHtcclxuICAgICAgICBsaW1pdC5mb2N1cygpO1xyXG4gICAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBib2R5ID0ge1xyXG4gICAgICAgIC4uLnN0YXRlLFxyXG4gICAgICAgIHVzZXJfZGVmYXVsdF9jb25maWc6IHtcclxuICAgICAgICAgICAgLi4uc3RhdGUudXNlcl9kZWZhdWx0X2NvbmZpZyxcclxuICAgICAgICAgICAgY3JpdGVyaWE6IHtcclxuICAgICAgICAgICAgICAgIG1heF92aWV3czogbGltaXQudmFsdWVcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgdXNlcl9jdXN0b21fY29uZmlnOiB7fSxcclxuICAgICAgICB0eXBlOiBjbHNDb25zdC5wYXRoVHlwZSxcclxuICAgICAgICB1c2VybmFtZTogdXNlcm5hbWVTZWxlY3RlZFxyXG4gICAgfTtcclxuXHJcbiAgICBpZiAoYm9keS5zdWJ0eXBlID09PSBDT05TVC51cmwudG1UeXBlcy5zdG9yaWVzU3ViVFsyXSkge1xyXG4gICAgICAgIGNvbnN0IGNvbXBldGl0b3JzID0gZ2V0VmFsQnlDb21tYVNlcGFyYXRvcigkKGZvcm0pLmZpbmQoZWxTZWxlY3Rvci5jb21wZXRpdG9ycykpO1xyXG4gICAgICAgIGJvZHkudXNlcl9jdXN0b21fY29uZmlnID0ge1xyXG4gICAgICAgICAgICBjb21wZXRpdG9yc1xyXG4gICAgICAgIH07XHJcbiAgICB9XHJcbiAgICBpZiAoYm9keS5zdWJ0eXBlID09PSBDT05TVC51cmwudG1UeXBlcy5zdG9yaWVzU3ViVFswXSkge1xyXG4gICAgICAgIC8vIHRleHQgZmlsZSBzaG91bGQgYmUgYWRkZWRcclxuICAgICAgICBib2R5Wyd1c2VyX2N1c3RvbV9jb25maWcnXS5hdHRhY2htZW50ID0ge1xyXG4gICAgICAgICAgICAnbGlzdF9pZCc6ICQoJy5zdG9yaWVzX19maWxlLXVwbG9hZC1ib3ggLmZpbGUtdXBsb2FkLWNvbnRhaW5lcicpLmF0dHIoJ2F0dGFjaGVkLXR4dC1pZCcpXHJcbiAgICAgICAgfTtcclxuICAgICAgICBkZWxldGUgYm9keS51c2VyX2RlZmF1bHRfY29uZmlnLmNyaXRlcmlhLm1heF92aWV3cztcclxuICAgIH1cclxuXHJcbiAgICAkKGZvcm0pLmZpbmQoJ2lucHV0W3R5cGU9XCJ0ZXh0XCJdLGlucHV0W3R5cGU9XCJudW1iZXJcIl0saW5wdXRbdHlwZT1cImVtYWlsXCJdJykuZWFjaChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKCQodGhpcykudmFsKCkgPT09ICcnKSB7XHJcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgJCh0aGlzKS5hZGRDbGFzcygnaW5wdXQtZXJyb3InKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAkKHRoaXMpLnJlbW92ZUNsYXNzKCdpbnB1dC1lcnJvcicpO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG5cclxuICAgIGNvbnNvbGUubG9nKCdvblN1Ym1pdEhhbmRsZXIgKipyZXF1ZXN0KiogIHBvc3Q6IFN0YXJ0Rm9sbG93aW5nTGlzdCcsIGJvZHkpO1xyXG5cclxuICAgIFVzZXJUYXNrTWFuYWdlci5wb3N0U3RhcnRGb2xsb3dpbmdMaXN0KGJvZHkpLnRoZW4oKHJlc3VsdCkgPT4ge1xyXG4gICAgICAgIGlmIChyZXN1bHQuc3RhdHVzLnN0YXRlID09PSAnb2snKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKEpTT04uc3RyaW5naWZ5KHJlc3VsdCkpO1xyXG4gICAgICAgICAgICAkKCcuZm9ybS1zdWJtaXQtZmluaXNoJykuZmluZCgnLmFsZXJ0IHAnKS5yZW1vdmUoKTtcclxuICAgICAgICAgICAgJCgnLmZvcm0tc3VibWl0LWZpbmlzaCcpLmFkZENsYXNzKCdkLWJsb2NrJylcclxuICAgICAgICAgICAgICAgIC5maW5kKCcuYWxlcnQnKS5hcHBlbmQoYDxwPnRhc2tfaWQ6ICR7cmVzdWx0LmRhdGEudGFza19pZH08L3A+YCk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHNldFVzZXJOYW1lQ2IoX3VzZXJuYW1lU2VsZWN0ZWQpIHtcclxuICAgIHVzZXJuYW1lU2VsZWN0ZWQgPSBfdXNlcm5hbWVTZWxlY3RlZDtcclxufVxyXG5cclxuZnVuY3Rpb24gc2V0VXNlck5hbWVGaXJzdFN0ZXAoc3RhdGUpIHtcclxuICAgIHVzZXJuYW1lU2VsZWN0ZWQgPSBzdGF0ZS51c2VybmFtZTtcclxufVxyXG5cclxuLy8gdG9kbzogcmVmYWN0b3Igd2l0aCBmb2xsb3cuanMgLS0gJ25leHRCdG52YWxpZGF0ZUNvbXBldGl0b3JzSGFuZGxlcigpJ1xyXG5jb25zdCBjb250YWluZXJDbHMgPSAnLmpzX2FkZC1zZXR0aW5ncy1zdGVwLTQnO1xyXG5jb25zdCAkY29udGFpbmVyID0gJChjb250YWluZXJDbHMpO1xyXG5jb25zdCAkY29tcGV0aXRvcnNUZXh0QXJlYSA9ICRjb250YWluZXIuZmluZCgnaW5wdXRbZGF0YS1yb2xlPVwidGFnc2lucHV0XCJdJyk7XHJcbmNvbnN0IG5leHRTdGVwQnRuID0gJGNvbnRhaW5lci5maW5kKCcuanNfc3Rvcmllcy1jb21wZXRpdG9ycy1idG4nKTtcclxuXHJcbi8qKlxyXG4gKiBJbml0IEhhbmRsZXJzXHJcbiAqL1xyXG5mdW5jdGlvbiBpbml0SGFuZGxlcnMoKSB7XHJcblxyXG4gICAgYXR0YWNoVHh0RmlsZUhhbmRsZXIoJy5maWxlLXVwbG9hZC1jb250YWluZXInKTtcclxuICAgIG5leHRCdG52YWxpZGF0ZUNvbXBldGl0b3JzSGFuZGxlcigkY29tcGV0aXRvcnNUZXh0QXJlYSwgbmV4dFN0ZXBCdG4pO1xyXG5cclxuICAgIC8vIHJhZGlvLWdyb3VwIHN0ZXAgMlxyXG4gICAgJCgnLmpzX2dldC1zdG9yaWVzLXR5cGUgaW5wdXRbdHlwZT1yYWRpb10nKS5vbignY2xpY2snLCAoZSkgPT4ge1xyXG4gICAgICAgIGNvbnN0IHZhbHVlID0gJChlLnRhcmdldCkuYXR0cigndmFsdWUnKTtcclxuICAgICAgICBzdGF0ZS5zdWJ0eXBlID0gdmFsdWUudG9VcHBlckNhc2UoKTtcclxuICAgICAgICBpZiAoc3RhdGUuc3VidHlwZSA9PT0gQ09OU1QudXJsLnRtVHlwZXMuc3Rvcmllc1N1YlRbMV0pIHtcclxuICAgICAgICAgICAgbmV4dFN0ZXBCdG4ucmVtb3ZlQXR0cignZGlzYWJsZWQnLCAnZGlzYWJsZWQnKTsgLy8gZW5hYmxlIGJ1dHRvbiAn0JfQsNC/0YPRgdGC0LjRgtGMJ1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIG5leHRTdGVwQnRuLmF0dHIoJ2Rpc2FibGVkJywgJ2Rpc2FibGVkJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnNvbGUubG9nKHN0YXRlKTtcclxuICAgIH0pO1xyXG5cclxuICAgIC8vIGFsZXJ0IGNsb3NlXHJcbiAgICAkKCcuZm9ybS1zdWJtaXQtZmluaXNoIC5jbG9zZScpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZygnYWxlcnQgY2xvc2UnKTtcclxuICAgICAgICAkKCcjdi1waWxscy1hbGwtdGFiJykudHJpZ2dlcignY2xpY2snKTtcclxuICAgICAgICB3aW5kb3cuUHViU3ViLnB1Ymxpc2goQ09OU1QuZXZlbnRzLnRhc2tzLk5FV19UQVNLX0NSRUFURUQpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gYWxlcnQgZXJyb3IgY2xvc2VcclxuICAgICQoJy5mb3JtLXN1Ym1pdC1maW5pc2gtLWVycm9yIC5jbG9zZScpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZygnYWxlcnQgY2xvc2UnKTtcclxuICAgICAgICAkKCcjdi1waWxscy1hbGwtdGFiJykudHJpZ2dlcignY2xpY2snKTtcclxuICAgICAgICB3aW5kb3cuUHViU3ViLnB1Ymxpc2goQ09OU1QuZXZlbnRzLnRhc2tzLk5FV19UQVNLX0NSRUFURUQpO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHJlbmRlclRhc2tNb2RlKGRlZmF1bHRDZmcpIHtcclxuICAgIGNvbnN0IHtjZmc6IHt0YXNrX21vZGVzfX0gPSBkZWZhdWx0Q2ZnO1xyXG4gICAgY29uc3Qge3Rhc2tNb2RlOiB0YXNrTW9kZVNlbGVjdG9yfSA9IGVsU2VsZWN0b3I7XHJcblxyXG4gICAgZmlsbFJhZGlvR3JvdXBMaXN0KCQodGFza01vZGVTZWxlY3RvciksIHRhc2tfbW9kZXMsICfQv9GA0L7RgdC80L7RgtGA0L7QsicpO1xyXG5cclxuICAgICQoYCR7dGFza01vZGVTZWxlY3Rvcn0gaW5wdXRbdHlwZT1yYWRpb11gKS5vbignY2xpY2snLCAoZSkgPT4ge1xyXG4gICAgICAgIGNvbnN0IHZhbHVlID0gJChlLnRhcmdldCkuYXR0cigndmFsdWUnKTtcclxuICAgICAgICBzdGF0ZS51c2VyX2RlZmF1bHRfY29uZmlnLnRhc2tfbW9kZSA9IHZhbHVlLnRvVXBwZXJDYXNlKCk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gZ2V0Q29uZmlnKCkge1xyXG4gICAgY29uc3QgcGF0aCA9IHtcclxuICAgICAgICB0eXBlOiBjbHNDb25zdC5wYXRoVHlwZSxcclxuICAgICAgICBzdWJ0eXBlOiBzdGF0ZS5zdWJ0eXBlXHJcbiAgICB9O1xyXG4gICAgY29uc3QgY2JFcnJvciA9IGZ1bmN0aW9uKHJlcykge1xyXG4gICAgICAgIGNvbnN0IG1zZyA9IHJlcy5zdGF0dXMubWVzc2FnZTtcclxuICAgICAgICAkKCcuZm9ybS1zdWJtaXQtZmluaXNoLS1lcnJvcicpLmFkZENsYXNzKCdkLWJsb2NrJylcclxuICAgICAgLmZpbmQoJy5hbGVydCcpLmFwcGVuZChgPHA+JHttc2d9PC9wPmApO1xyXG4gICAgfTtcclxuXHJcbiAgICBVc2VyVGFza01hbmFnZXIuZ2V0U3Rvcmllc0NvbmZpZyhwYXRoLCBjYkVycm9yKS50aGVuKChyZXN1bHQpID0+IHtcclxuICAgICAgICBpZiAocmVzdWx0LnN0YXR1cy5zdGF0ZSAhPT0gJ29rJykge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHtcclxuICAgICAgICAgICAgZGF0YToge1xyXG4gICAgICAgICAgICAgICAgZm91bmRcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gPSByZXN1bHQ7XHJcbiAgICAgICAgY29uc3QgbGltaXRWYWwgPSBmb3VuZC5jZmcuY3JpdGVyaWEubWF4X3ZpZXdzO1xyXG4gICAgICAgIHJlbmRlclRhc2tNb2RlKGZvdW5kKTtcclxuICAgICAgICAkKCcjbGltaXQnKS52YWwobGltaXRWYWwpO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGFkZFRleHRBcmVhKHN0ZXBOdW1iZXIpIHtcclxuICAgIGNvbnN0IHt3aXphcmRGb3JtfSA9IGVsU2VsZWN0b3I7XHJcbiAgICBjb25zdCBmaWVsZExhc3QgPSAkKGAke3dpemFyZEZvcm19IGZpZWxkc2V0YCkuZ2V0KHN0ZXBOdW1iZXIgKyAxKTtcclxuICAgIGlmIChzdGF0ZS5zdWJ0eXBlID09PSBDT05TVC51cmwudG1UeXBlcy5zdG9yaWVzU3ViVFsyXSkge1xyXG4gICAgICAgIG5leHRCdG52YWxpZGF0ZUNvbXBldGl0b3JzSGFuZGxlcigkY29tcGV0aXRvcnNUZXh0QXJlYSwgbmV4dFN0ZXBCdG4pO1xyXG4gICAgICAgICQoZmllbGRMYXN0KS5maW5kKCcuanNfc3Rvcmllcy1jb21wZXRpdG9ycycpLnJlbW92ZUNsYXNzKCdkLW5vbmUnKTtcclxuICAgICAgICBjb25zb2xlLmxvZygnZW5kJyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgICQoZmllbGRMYXN0KS5maW5kKCcuanNfc3Rvcmllcy1jb21wZXRpdG9ycycpLmFkZENsYXNzKCdkLW5vbmUnKTtcclxuICAgIH1cclxufVxyXG5cclxuZnVuY3Rpb24gYWRkRmlsZVVwbG9hZEJveChzdGVwTnVtYmVyKSB7XHJcbiAgICBjb25zdCB7d2l6YXJkRm9ybX0gPSBlbFNlbGVjdG9yO1xyXG4gICAgY29uc3QgZmllbGRMYXN0ID0gJChgJHt3aXphcmRGb3JtfSBmaWVsZHNldGApLmdldChzdGVwTnVtYmVyICsgMSk7XHJcbiAgICBjb25zdCAkZmlsZVVwbG9hZEJveCA9ICQoZmllbGRMYXN0KS5maW5kKCcuc3Rvcmllc19fZmlsZS11cGxvYWQtYm94Jyk7XHJcbiAgICBjb25zdCAkdGl0bGVTdGVwQm94ID0gJChmaWVsZExhc3QpLmZpbmQoJy5qc19hZGQtZmlsZS10aXRsZScpO1xyXG4gICAgY29uc3QgJGFkZFNldHRpbmdzID0gJChmaWVsZExhc3QpLmZpbmQoJy5qc19hZGQtc2V0dGluZ3Mtc3RlcC00Jyk7XHJcbiAgICBpZiAoc3RhdGUuc3VidHlwZSA9PT0gQ09OU1QudXJsLnRtVHlwZXMuc3Rvcmllc1N1YlRbMF0pIHtcclxuICAgICAgICAkZmlsZVVwbG9hZEJveC5yZW1vdmVDbGFzcygnZC1ub25lJyk7XHJcbiAgICAgICAgJCgnLmpzX3ZhbGlkYXRlLXR4dC1maWxlLWlzLXVwbG9hZGVkJykuYXR0cignZGlzYWJsZWQnLCAnZGlzYWJsZWQnKTtcclxuICAgICAgICAkdGl0bGVTdGVwQm94LnJlbW92ZUNsYXNzKCdkLW5vbmUnKTtcclxuICAgICAgICAkYWRkU2V0dGluZ3MuYWRkQ2xhc3MoJ2Qtbm9uZScpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICAkZmlsZVVwbG9hZEJveC5hZGRDbGFzcygnZC1ub25lJyk7XHJcbiAgICAgICAgJHRpdGxlU3RlcEJveC5hZGRDbGFzcygnZC1ub25lJyk7XHJcbiAgICAgICAgJGFkZFNldHRpbmdzLnJlbW92ZUNsYXNzKCdkLW5vbmUnKTtcclxuICAgIH1cclxuICAgIGNvbnNvbGUubG9nKCdhZGRGaWxlVXBsb2FkQm94IGRvbmUnKTtcclxufVxyXG5cclxuZnVuY3Rpb24gc3RlcFJlZHVjZXIoc3RlcE51bWJlciwgc3RhdGUpIHtcclxuICAgIHN3aXRjaCAoc3RlcE51bWJlcikge1xyXG4gICAgICAgIGNhc2UgMDpcclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coc3RhdGUsIHN0ZXBOdW1iZXIpO1xyXG4gICAgICAgICAgICBzZXRVc2VyTmFtZUZpcnN0U3RlcChzdGF0ZSk7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coc3RhdGUsIHN0ZXBOdW1iZXIpO1xyXG4gICAgICAgICAgICBnZXRDb25maWcoKTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSAyOlxyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhzdGF0ZSwgc3RlcE51bWJlcik7XHJcbiAgICAgICAgICAgIGFkZFRleHRBcmVhKHN0ZXBOdW1iZXIpO1xyXG4gICAgICAgICAgICBhZGRGaWxlVXBsb2FkQm94KHN0ZXBOdW1iZXIpO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnZGVmYXVsdCcsIHN0ZXBOdW1iZXIpO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaW5pdCgpIHtcclxuICAgIGNvbnN0IGlzSW5DdXJyZW50UGFnZSA9ICQoY2xzQ29uc3QuY3VycmVudFBhZ2VDbHMpLmxlbmd0aDtcclxuICAgIGlmICghaXNJbkN1cnJlbnRQYWdlKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgY29uc29sZS5sb2coY2xzQ29uc3QuY3VycmVudFBhZ2VDbHMpO1xyXG4gICAgY29uc3Qgd2l6YXJkQ2ZnID0ge1xyXG4gICAgICAgIHN0ZXBSZWR1Y2VyLFxyXG4gICAgICAgIG9uU3VibWl0SGFuZGxlclxyXG4gICAgfTtcclxuICAgIHdpemFyZEZvcm0uaW5pdCh3aXphcmRDZmcpO1xyXG4gICAgaW5pdEhhbmRsZXJzKCk7XHJcbiAgICBjb25zdCB0ZXh0UnVzQXJyYXkgPSBbJ9Cf0L4g0YHQv9C40YHQutGDJywgJ9Cf0L4g0L/QvtC00L/QuNGB0YfQuNC60LDQvCcsICfQn9C+INCw0LrRgtC40LLQvdC+0Lkg0LDRg9C00LjRgtC+0YDQuNC4INC60L7QvdC60YPRgNC10L3RgtC+0LInXTtcclxuICAgIGluaXRMb2dzVGFiKHtsb2dzU3RhdGUsIGxvZ3NTdWJ0eXBlczogQ09OU1QudXJsLnRtVHlwZXMuc3Rvcmllc1N1YlQsIGNsc0NvbnN0LCBzZXRVc2VyTmFtZUNiLCB0ZXh0UnVzQXJyYXl9KTtcclxuICAgIHN0b3JpZXNTdGF0dXMuaW5pdCh7XHJcbiAgICAgICAgaXNJblN0b3JpZXNQYWdlOiBpc0luQ3VycmVudFBhZ2VcclxuICAgIH0pO1xyXG4gICAgLy8gaW5pdFRhZ3NJbnB1dCgpO1xyXG5cclxuICAgIC8vIHdpbmRvdy5QdWJTdWIuc3Vic2NyaWJlKENPTlNULmV2ZW50cy5pbnN0YWdyYW1BY2NvdW5zLklOU1RBR1JBTV9BQ0NPVU5TX1JFTkRFUkVEX0xBWlksIChlLCBhY2NvdW50cykgPT4ge1xyXG4gICAgLy8gICAgIGNvbnNvbGUubG9nKCdJTlNUQUdSQU1fQUNDT1VOU19SRU5ERVJFRF9MQVpZJyk7XHJcbiAgICAvLyAgICAgY29uc29sZS5sb2coJ2xvZ3NTdWJ0eXBlcycsIGxvZ3NTdWJ0eXBlcyk7XHJcbiAgICAvLyAgICAgY29uc29sZS5sb2coJ2FjY291bnRzJywgYWNjb3VudHMpO1xyXG4gICAgLy8gfSk7XHJcbiAgICB3aW5kb3cuUHViU3ViLnN1YnNjcmliZShDT05TVC5ldmVudHMuYXV0b2FybnN3ZXIuVEVYVF9GSUxFX1VQTE9BREVELCAoZSwgcmVzKSA9PiB7XHJcbiAgICAgICAgJCgnLmpzX3ZhbGlkYXRlLXR4dC1maWxlLWlzLXVwbG9hZGVkJykucmVtb3ZlQXR0cignZGlzYWJsZWQnKTtcclxuICAgIH0pO1xyXG59XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9ibG9ja3Mvc3Rvcmllcy9zdG9yaWVzLWluZGV4LmpzIiwiLy8gVE9ETzogcmVmYWN0b3IgLT4gZGVsZXRlIG1lLCB1c2UgdGFzay1zdGF0dXMtYnktc3VidHlwZS5qc1xyXG5pbXBvcnQge0NPTlNUfSBmcm9tICcuLi8uLi9jb21tb24vanMtc2VydmljZXMvY29uc3RzJztcclxuaW1wb3J0IHtnZXRUYXNrc0RhdGF9IGZyb20gJy4uL19zaGFyZWQvdGFzay1zdGF0dXMvdGFzay1zdGF0dXMnO1xyXG4vLyBpbXBvcnQgdmlld1V0aWxzIGZyb20gJy4uLy4uL2NvbW1vbi9qcy1zZXJ2aWNlcy92aWV3JztcclxuaW1wb3J0IGRyb3BEb3duIGZyb20gJy4uL19zaGFyZWQvZHJvcGRvd24vZHJvcGRvd24nO1xyXG5cclxuY29uc3QgcGF0aCA9IHtcclxuICAgIHR5cGU6IENPTlNULnVybC50bVR5cGVzLnN0b3JpZXNULFxyXG4gICAgc3VidHlwZTogQ09OU1QudXJsLnRtVHlwZXMuc3Rvcmllc1N1YlRbMF1cclxufTtcclxuY29uc3Qgd3JhcHBlcnMgPSB7XHJcbiAgICAkYWxsOiAkKCcudGFza3MtYWxsJyksXHJcbiAgICAkc3RvcHBlZDogJCgnLnRhc2tzLXN0b3BwZWQnKVxyXG59O1xyXG5jb25zdCBsb2dzU3RhdGVTdGF0dXMgPSB7XHJcbiAgICB3cmFwcGVyU3VidHlwZTogJCgnLnN1YnR5cGUtLWJveCcpXHJcbn07XHJcblxyXG5mdW5jdGlvbiBkcm9wZG93bk9uU2VsZWN0Q2IoZSkge1xyXG4gICAgLy8gY29uc3Qge3NlbGVjdENsc0xvZ3NUYXNrVHlwZX0gPSBsb2dzU3RhdGU7XHJcbiAgICBjb25zdCBzdWJ0eXBlID0gJChlLnRhcmdldCkuZmluZCgnb3B0aW9uOnNlbGVjdGVkJykudmFsKCk7XHJcbiAgICBjb25zdCBwYXRoVXBkYXRlZCA9IHsuLi5wYXRoLCBzdWJ0eXBlfTtcclxuICAgICQoJy5qc19sb2dzLWNvbnRhaW5lcicpLmFkZENsYXNzKCdkLWJsb2NrJyk7XHJcbiAgICAkKCdvcHRpb24uanNfZW1wdHktc3VidHlwZScpLnJlbW92ZSgpO1xyXG4gICAgZ2V0VGFza3NEYXRhKHdyYXBwZXJzLCBwYXRoVXBkYXRlZCk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBpbml0KHtpc0luU3Rvcmllc1BhZ2V9KSB7XHJcbiAgICBpZiAoIWlzSW5TdG9yaWVzUGFnZSkge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIC8vIHRvRE8gOiByZWZhY3RvclxyXG4gICAgLy8gcmVuZGVyIHN0YXR1cyBkcm9wZG93blxyXG4gICAgY29uc3QgdGV4dFJ1c0FycmF5ID0gWyfQn9C+INGB0L/QuNGB0LrRgycsICfQn9C+INC/0L7QtNC/0LjRgdGH0LjQutCw0LwnLCAn0J/QviDQsNC60YLQuNCy0L3QvtC5INCw0YPQtNC40YLQvtGA0LjQuCDQutC+0L3QutGD0YDQtdC90YLQvtCyJ107XHJcbiAgICBkcm9wRG93bi5hZGREcm9wZG93bihsb2dzU3RhdGVTdGF0dXMud3JhcHBlclN1YnR5cGUsIENPTlNULnVybC50bVR5cGVzLnN0b3JpZXNTdWJULCB7bG9nc1N0YXRlOiBsb2dzU3RhdGVTdGF0dXMsIGRyb3Bkb3duT25TZWxlY3RDYiwgdGV4dFJ1c0FycmF5fSk7XHJcblxyXG4gICAgLy8gZ2V0VGFza3NEYXRhKHdyYXBwZXJzLCBwYXRoKTtcclxuICAgIHdpbmRvdy5QdWJTdWIuc3Vic2NyaWJlKENPTlNULmV2ZW50cy50YXNrcy5ORVdfVEFTS19DUkVBVEVELCAoZXZlbnROYW1lLCBkYXRhKSA9PiB7XHJcbiAgICAgICAgZ2V0VGFza3NEYXRhKHdyYXBwZXJzLCBwYXRoKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvYmxvY2tzL3N0b3JpZXMvc3Rvcmllcy1zdGF0dXMuanMiLCJpbXBvcnQge0NPTlNUfSBmcm9tICcuLi8uLi9jb21tb24vanMtc2VydmljZXMvY29uc3RzJztcclxuaW1wb3J0IFVzZXJUYXNrTWFuYWdlciBmcm9tICcuLi8uLi9jb21tb24vanMtc2VydmljZXMvYXBpLXRhc2stbWFuYWdlcic7XHJcbmltcG9ydCB2aWV3VXRpbHMgZnJvbSAnLi4vLi4vY29tbW9uL2pzLXNlcnZpY2VzL3ZpZXcnO1xyXG5jb25zdCB7ZmlsbFJhZGlvR3JvdXBMaXN0fSA9IHZpZXdVdGlscztcclxuaW1wb3J0IHthdHRhY2hUeHRGaWxlSGFuZGxlcn0gZnJvbSAnLi4vZm9sbG93L2ZvbGxvdy1yZWFkLWZpbGUtdHh0JztcclxuXHJcbmltcG9ydCAqIGFzIHdpemFyZEZvcm0gZnJvbSAnLi4vLi4vYmxvY2tzL3dpemFyZC1mb3JtL3dpemFyZC1mb3JtJztcclxuaW1wb3J0ICogYXMgdGFiU3RhdHVzIGZyb20gJy4vdW5mb2xsb3ctc3RhdHVzJztcclxuaW1wb3J0IHtpbml0TG9nc1RhYn0gZnJvbSAnLi4vX3NoYXJlZC9sb2dzL2xvZ3MtdGFicyc7XHJcblxyXG5sZXQgdXNlcm5hbWVTZWxlY3RlZCA9ICcnO1xyXG5jb25zdCBsb2dzU3VidHlwZXMgPSBDT05TVC51cmwudG1UeXBlcy51bmZvbGxvd2luZ1N1YlQ7XHJcbmNvbnN0IGNsc0NvbnN0ID0ge1xyXG4gICAgY3VycmVudFBhZ2VDbHM6ICcudW5mb2xsb3ctcGFnZScsXHJcbiAgICB0YXNrc0xpc3Q6ICcubG9nLXRhc2tzJyxcclxuICAgIGxvZ3NUYWJCdG46ICcjdi1waWxscy1sb2dzLXRhYicsXHJcbiAgICBwYWdpbmF0aW9uOiAnLmxvZ3MtcGFnaW5hdGlvbicsXHJcbiAgICBwYWdpbmF0aW9uUGdOdW1iZXI6ICcucGFnZS1udW1iZXInLFxyXG4gICAgcGF0aFR5cGU6IENPTlNULnVybC50bVR5cGVzLnVuZm9sbG93aW5nVCxcclxuICAgIHBhdGhTdWJUeXBlOiBDT05TVC51cmwudG1UeXBlcy51bmZvbGxvd2luZ1N1YlRbMF1cclxufTtcclxuY29uc3QgZWxTZWxlY3RvciA9IHtcclxuICAgIHdpemFyZEZvcm06ICcud2l6YXJkLWZvcm0nLFxyXG4gICAgd2l6YXJkRm9ybU5hbWU6ICd3aXphcmQtZm9ybScsXHJcbiAgICBmaWVsZHM6ICcuYXV0b21lc3NhZ2VzLXRleHQtZmllbGRzJyxcclxuICAgIHRhc2tNb2RlOiAnLmpzX3Rhc2stbW9kZScsXHJcbiAgICB0eXBlUmFkaW9Hcm91cDogJy5qc19nZXQtdW5mb2xsb3ctdHlwZScsXHJcbiAgICBjb21wZXRpdG9yczogJ3RleHRhcmVhLnN0b3JpZXMtY29tcGV0aXRvcnMnXHJcbn07XHJcbmNvbnN0IHN0YXRlID0ge1xyXG4gICAgc3VidHlwZTogQ09OU1QudXJsLnRtVHlwZXMudW5mb2xsb3dpbmdTdWJUWzBdLFxyXG4gICAgdXNlcl9kZWZhdWx0X2NvbmZpZzoge1xyXG4gICAgICAgIHRhc2tfbW9kZTogJ1NBRkUnXHJcbiAgICB9XHJcbn07XHJcblxyXG5mdW5jdGlvbiBvblN1Ym1pdEhhbmRsZXIoZSkge1xyXG4gICAgY29uc3Qge3dpemFyZEZvcm1OYW1lfSA9IGVsU2VsZWN0b3I7XHJcbiAgICBjb25zdCBmb3JtID0gZG9jdW1lbnQuZm9ybXNbd2l6YXJkRm9ybU5hbWVdO1xyXG5cclxuICAgIGNvbnN0IGJvZHkgPSB7XHJcbiAgICAgICAgLi4uc3RhdGUsXHJcbiAgICAgICAgdXNlcl9jdXN0b21fY29uZmlnOiB7XHJcbiAgICAgICAgICAgIC8vIGF0dGFjaG1lbnQ6IHtcclxuICAgICAgICAgICAgLy8gICAgICdsaXN0X2lkJzogJ2lkX3N0YXRpYydcclxuICAgICAgICAgICAgLy8gfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgdHlwZTogY2xzQ29uc3QucGF0aFR5cGUsXHJcbiAgICAgICAgdXNlcm5hbWU6IHVzZXJuYW1lU2VsZWN0ZWRcclxuICAgIH07XHJcblxyXG4gICAgaWYgKHN0YXRlLnN1YnR5cGUgPT09IENPTlNULnVybC50bVR5cGVzLnVuZm9sbG93aW5nU3ViVFswXSkge1xyXG4gICAgICAgIC8vIHRleHQgZmlsZSBzaG91bGQgYmUgYWRkZWRcclxuICAgICAgICBib2R5Wyd1c2VyX2N1c3RvbV9jb25maWcnXS5hdHRhY2htZW50ID0ge1xyXG4gICAgICAgICAgICAnbGlzdF9pZCc6ICQoJy5hZGQtZmlsZSAuZmlsZS11cGxvYWQtY29udGFpbmVyJykuYXR0cignYXR0YWNoZWQtdHh0LWlkJylcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgICQoZm9ybSkuZmluZCgnaW5wdXRbdHlwZT1cInRleHRcIl0saW5wdXRbdHlwZT1cIm51bWJlclwiXSxpbnB1dFt0eXBlPVwiZW1haWxcIl0nKS5lYWNoKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAoJCh0aGlzKS52YWwoKSA9PT0gJycpIHtcclxuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAkKHRoaXMpLmFkZENsYXNzKCdpbnB1dC1lcnJvcicpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICQodGhpcykucmVtb3ZlQ2xhc3MoJ2lucHV0LWVycm9yJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgY29uc29sZS5sb2coJ29uU3VibWl0SGFuZGxlciAqKnJlcXVlc3QqKiAgcG9zdDogU3RhcnRGb2xsb3dpbmdMaXN0JywgYm9keSk7XHJcblxyXG4gICAgVXNlclRhc2tNYW5hZ2VyLnBvc3RTdGFydEZvbGxvd2luZ0xpc3QoYm9keSkudGhlbigocmVzdWx0KSA9PiB7XHJcbiAgICAgICAgaWYgKHJlc3VsdC5zdGF0dXMuc3RhdGUgPT09ICdvaycpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coSlNPTi5zdHJpbmdpZnkocmVzdWx0KSk7XHJcbiAgICAgICAgICAgICQoJy5mb3JtLXN1Ym1pdC1maW5pc2gnKS5maW5kKCcuYWxlcnQgcCcpLnJlbW92ZSgpO1xyXG4gICAgICAgICAgICAkKCcuZm9ybS1zdWJtaXQtZmluaXNoJykuYWRkQ2xhc3MoJ2QtYmxvY2snKVxyXG4gICAgICAgICAgICAgICAgLmZpbmQoJy5hbGVydCcpLmFwcGVuZChgPHA+dGFza19pZDogJHtyZXN1bHQuZGF0YS50YXNrX2lkfTwvcD5gKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEluaXQgSGFuZGxlcnNcclxuICovXHJcbmZ1bmN0aW9uIGluaXRIYW5kbGVycygpIHtcclxuXHJcbiAgICAkKGAke2VsU2VsZWN0b3IudHlwZVJhZGlvR3JvdXB9IGlucHV0W3R5cGU9cmFkaW9dYCkub24oJ2NsaWNrJywgKGUpID0+IHtcclxuICAgICAgICBjb25zdCB2YWx1ZSA9ICQoZS50YXJnZXQpLmF0dHIoJ3ZhbHVlJyk7XHJcbiAgICAgICAgc3RhdGUuc3VidHlwZSA9IHZhbHVlLnRvVXBwZXJDYXNlKCk7XHJcbiAgICAgICAgY29uc29sZS5sb2coc3RhdGUpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gYWxlcnQgY2xvc2VcclxuICAgICQoJy5mb3JtLXN1Ym1pdC1maW5pc2ggLmNsb3NlJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCdhbGVydCBjbG9zZScpO1xyXG4gICAgICAgICQoJyN2LXBpbGxzLWFsbC10YWInKS50cmlnZ2VyKCdjbGljaycpO1xyXG4gICAgICAgIHdpbmRvdy5QdWJTdWIucHVibGlzaChDT05TVC5ldmVudHMudGFza3MuTkVXX1RBU0tfQ1JFQVRFRCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBhbGVydCBjbG9zZVxyXG4gICAgJCgnLmZvcm0tc3VibWl0LWZpbmlzaC0tZXJyb3IgLmNsb3NlJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCdhbGVydCBjbG9zZScpO1xyXG4gICAgICAgICQoJyN2LXBpbGxzLWFsbC10YWInKS50cmlnZ2VyKCdjbGljaycpO1xyXG4gICAgICAgIHdpbmRvdy5QdWJTdWIucHVibGlzaChDT05TVC5ldmVudHMudGFza3MuTkVXX1RBU0tfQ1JFQVRFRCk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gb25TdWNjZXNzRmlsZVVwbG9hZENiKCkge1xyXG4gICAgY29uc3Qge3dpemFyZEZvcm19ID0gZWxTZWxlY3RvcjtcclxuXHJcbiAgICAkKHdpemFyZEZvcm0pLmZpbmQoJ2J1dHRvblt0eXBlPVwic3VibWl0XCJdJykuYXR0cignZGlzYWJsZWQnLCBmYWxzZSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGFkZFVwbG9hZEJ1dHRvbihzdWJ0eXBlKSB7XHJcbiAgICBmdW5jdGlvbiB0b2dnbGVBZGRUZXh0QnRuKHN1YnR5cGUpIHtcclxuICAgICAgICBpZiAoc3VidHlwZSA9PT0gQ09OU1QudXJsLnRtVHlwZXMudW5mb2xsb3dpbmdTdWJUWzBdKSB7XHJcbiAgICAgICAgICAgIC8vIHNob3cgdHh0IGZpbGVVcGxvYWRcclxuICAgICAgICAgICAgJCgnLmFkZC1maWxlJykuYWRkQ2xhc3MoJ2QtYmxvY2snKTtcclxuICAgICAgICAgICAgLy8gJCgnLmFkZC1jb21wZXRpdG9ycycpLmFkZENsYXNzKCdkLW5vbmUnKS5yZW1vdmVDbGFzcygnZC1ibG9jaycpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIGhpZGUgdHh0IGZpbGVVcGxvYWRcclxuICAgICAgICAgICAgLy8gJCgnLmFkZC1jb21wZXRpdG9ycycpLmFkZENsYXNzKCdkLWJsb2NrJyk7XHJcbiAgICAgICAgICAgICQoJy5hZGQtZmlsZScpLmFkZENsYXNzKCdkLW5vbmUnKS5yZW1vdmVDbGFzcygnZC1ibG9jaycpO1xyXG4gICAgICAgICAgICBvblN1Y2Nlc3NGaWxlVXBsb2FkQ2IoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICB0b2dnbGVBZGRUZXh0QnRuKHN1YnR5cGUpO1xyXG4gICAgLy8gY29uc29sZS5sb2coJ2FkZFVwbG9hZEJ1dHRvbicsIENPTlNULnVybC50bVR5cGVzLnVuZm9sbG93aW5nU3ViVFswXSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHJlbmRlclRhc2tNb2RlKGRlZmF1bHRDZmcpIHtcclxuICAgIGNvbnN0IHtjZmc6IHt0YXNrX21vZGVzfX0gPSBkZWZhdWx0Q2ZnO1xyXG4gICAgY29uc3Qge3Rhc2tNb2RlOiB0YXNrTW9kZVNlbGVjdG9yfSA9IGVsU2VsZWN0b3I7XHJcblxyXG4gICAgZmlsbFJhZGlvR3JvdXBMaXN0KCQodGFza01vZGVTZWxlY3RvciksIHRhc2tfbW9kZXMsICfQvtGC0L/QuNGB0L7QuicpO1xyXG4gICAgYWRkVXBsb2FkQnV0dG9uKGRlZmF1bHRDZmcuaWQuc3VidHlwZSk7XHJcblxyXG4gICAgJChgJHt0YXNrTW9kZVNlbGVjdG9yfSBpbnB1dFt0eXBlPXJhZGlvXWApLm9uKCdjbGljaycsIChlKSA9PiB7XHJcbiAgICAgICAgY29uc3QgdmFsdWUgPSAkKGUudGFyZ2V0KS5hdHRyKCd2YWx1ZScpO1xyXG4gICAgICAgIHN0YXRlLnVzZXJfZGVmYXVsdF9jb25maWcudGFza19tb2RlID0gdmFsdWUudG9VcHBlckNhc2UoKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBnZXRDb25maWcoKSB7XHJcbiAgICBjb25zdCBwYXRoID0ge1xyXG4gICAgICAgIHR5cGU6IGNsc0NvbnN0LnBhdGhUeXBlLFxyXG4gICAgICAgIHN1YnR5cGU6IHN0YXRlLnN1YnR5cGVcclxuICAgIH07XHJcbiAgICBjb25zdCBjYkVycm9yID0gZnVuY3Rpb24ocmVzKSB7XHJcbiAgICAgICAgY29uc3QgbXNnID0gcmVzLnN0YXR1cy5tZXNzYWdlO1xyXG4gICAgICAgICQoJy5mb3JtLXN1Ym1pdC1maW5pc2gtLWVycm9yJykuYWRkQ2xhc3MoJ2QtYmxvY2snKVxyXG4gICAgICAuZmluZCgnLmFsZXJ0JykuYXBwZW5kKGA8cD4ke21zZ308L3A+YCk7XHJcbiAgICB9O1xyXG5cclxuICAgIFVzZXJUYXNrTWFuYWdlci5nZXRTdG9yaWVzQ29uZmlnKHBhdGgsIGNiRXJyb3IpLnRoZW4oKHJlc3VsdCkgPT4ge1xyXG4gICAgICAgIGlmIChyZXN1bHQuc3RhdHVzLnN0YXRlICE9PSAnb2snKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3Qge1xyXG4gICAgICAgICAgICBkYXRhOiB7XHJcbiAgICAgICAgICAgICAgICBmb3VuZFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSA9IHJlc3VsdDtcclxuICAgICAgICAvLyAkKCcjbGltaXQnKS52YWwobGltaXRWYWwpO1xyXG4gICAgICAgIC8vIGNvbnN0IGxpbWl0VmFsID0gZm91bmQuY2ZnLmNyaXRlcmlhLm1heF92aWV3cztcclxuICAgICAgICByZW5kZXJUYXNrTW9kZShmb3VuZCk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gc2V0VXNlck5hbWVDYihfdXNlcm5hbWVTZWxlY3RlZCkge1xyXG4gICAgdXNlcm5hbWVTZWxlY3RlZCA9IF91c2VybmFtZVNlbGVjdGVkO1xyXG59XHJcblxyXG5mdW5jdGlvbiBzZXRVc2VyTmFtZUZpcnN0U3RlcChzdGF0ZSkge1xyXG4gICAgdXNlcm5hbWVTZWxlY3RlZCA9IHN0YXRlLnVzZXJuYW1lO1xyXG59XHJcblxyXG5mdW5jdGlvbiBjaGVja1RpdGxlU3RlcDMoc3RlcE51bWJlcikge1xyXG4gICAgY29uc3Qge3dpemFyZEZvcm19ID0gZWxTZWxlY3RvcjtcclxuICAgIGNvbnN0IHRpdGxlID0gJChgJHt3aXphcmRGb3JtfSBoM2ApLmdldChzdGVwTnVtYmVyICsgMSk7XHJcbiAgICBpZiAoc3RhdGUuc3VidHlwZSA9PT0gQ09OU1QudXJsLnRtVHlwZXMudW5mb2xsb3dpbmdTdWJUWzBdKSB7XHJcbiAgICAgICAgJCh0aXRsZSkudGV4dCgn0JLRi9Cx0LXRgNC40YLQtSDRgNC10LbQuNC8INC4INC00L7QsdCw0LLRjNGC0LUg0YTQsNC50Lsg0YEg0L/QvtC70YzQt9C+0LLQsNGC0LXQu9GP0LzQuCcpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICAkKHRpdGxlKS50ZXh0KCfQktGL0LHQtdGA0LjRgtC1INGA0LXQttC40LwnKTtcclxuICAgIH1cclxufVxyXG5cclxuZnVuY3Rpb24gYWRkVGV4dEFyZWEoc3RlcE51bWJlcikge1xyXG4gICAgY29uc3Qge3dpemFyZEZvcm19ID0gZWxTZWxlY3RvcjtcclxuICAgIGlmIChzdGF0ZS5zdWJ0eXBlID09PSBDT05TVC51cmwudG1UeXBlcy51bmZvbGxvd2luZ1N1YlRbMV0pIHtcclxuICAgICAgICBjb25zdCBmaWVsZExhc3QgPSAkKGAke3dpemFyZEZvcm19IGZpZWxkc2V0YCkuZ2V0KHN0ZXBOdW1iZXIgKyAxKTtcclxuICAgICAgICBjb25zdCB0cGwgPSBgPGRpdiBjbGFzcz1cInJvd1wiPlxyXG4gICAgICAgICAgICA8bGFiZWwgY2xhc3M9XCJcIj7QmtC+0L3QutGD0YDQtdC90YLRizwvbGFiZWw+XHJcbiAgICAgICAgICAgIDx0ZXh0YXJlYSBjbGFzcz1cImZvcm0tY29udHJvbCBzdG9yaWVzLWNvbXBldGl0b3JzIG1iLTJcIiByb3dzPVwiMVwiPjwvdGV4dGFyZWE+PC9kaXY+YDtcclxuICAgICAgICAkKGZpZWxkTGFzdCkuZmluZCgnLmZvcm0tYm90dG9tPi5yb3cnKS5hZnRlcih0cGwpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdlbmQnKTtcclxuICAgIH1cclxufVxyXG5cclxuZnVuY3Rpb24gc3RlcFJlZHVjZXIoc3RlcE51bWJlciwgc3RhdGUpIHtcclxuICAgIHN3aXRjaCAoc3RlcE51bWJlcikge1xyXG4gICAgICAgIGNhc2UgMDpcclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coc3RhdGUsIHN0ZXBOdW1iZXIpO1xyXG4gICAgICAgICAgICBzZXRVc2VyTmFtZUZpcnN0U3RlcChzdGF0ZSk7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coc3RhdGUsIHN0ZXBOdW1iZXIpO1xyXG4gICAgICAgICAgICBnZXRDb25maWcoKTtcclxuICAgICAgICAgICAgY2hlY2tUaXRsZVN0ZXAzKHN0ZXBOdW1iZXIpO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlIDI6XHJcbiAgICAgICAgICAgIC8vIFRIaXMgc3RlcCBpcyB1cHJlYWNoYWJsZVxyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhzdGF0ZSwgc3RlcE51bWJlcik7XHJcbiAgICAgICAgICAgIGFkZFRleHRBcmVhKHN0ZXBOdW1iZXIpO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnZGVmYXVsdCcsIHN0ZXBOdW1iZXIpO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaW5pdCgpIHtcclxuICAgIGNvbnN0IGlzSW5DdXJyZW50UGFnZSA9ICQoY2xzQ29uc3QuY3VycmVudFBhZ2VDbHMpLmxlbmd0aDtcclxuICAgIGlmICghaXNJbkN1cnJlbnRQYWdlKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgY29uc29sZS5sb2coY2xzQ29uc3QuY3VycmVudFBhZ2VDbHMpO1xyXG4gICAgY29uc3Qgd2l6YXJkQ2ZnID0ge1xyXG4gICAgICAgIHN0ZXBSZWR1Y2VyLFxyXG4gICAgICAgIG9uU3VibWl0SGFuZGxlclxyXG4gICAgfTtcclxuICAgIHdpemFyZEZvcm0uaW5pdCh3aXphcmRDZmcpO1xyXG4gICAgaW5pdEhhbmRsZXJzKCk7XHJcbiAgICBhdHRhY2hUeHRGaWxlSGFuZGxlcignLmZpbGUtdXBsb2FkLWNvbnRhaW5lcicsIG9uU3VjY2Vzc0ZpbGVVcGxvYWRDYik7XHJcbiAgICBjb25zdCB0ZXh0UnVzQXJyYXkgPSBbJ9Cf0L4g0YHQv9C40YHQutGDJywgJ9Ce0YIg0LLRgdC10YUnLCAn0J7RgiDQvdC10LLQt9Cw0LjQvNC90YvRhSddO1xyXG4gICAgaW5pdExvZ3NUYWIoe2xvZ3NTdGF0ZTogQ09OU1QubG9nc1N0YXRlLCBsb2dzU3VidHlwZXMsIGNsc0NvbnN0LCBzZXRVc2VyTmFtZUNiLCB0ZXh0UnVzQXJyYXl9KTtcclxuICAgIHRhYlN0YXR1cy5pbml0KHtcclxuICAgICAgICBpc0luU3Rvcmllc1BhZ2U6IGlzSW5DdXJyZW50UGFnZVxyXG4gICAgfSk7XHJcbiAgICAvLyB3aW5kb3cuUHViU3ViLnN1YnNjcmliZShDT05TVC5ldmVudHMuYXV0b2FybnN3ZXIuSU1BR0VfVVBMT0FERUQsIChlLCByZXMpID0+IHtcclxuICAgIC8vICAgICBjb25zdCByZXN1bHQgPSBKU09OLnBhcnNlKHJlcy5yZXNwb25zZSk7XHJcbiAgICAvLyAgICAgY29uc3QgaW1hZ2VJZCA9IHJlc3VsdCAmJiByZXN1bHQuZGF0YSAmJiByZXN1bHQuZGF0YS5pbWFnZV9pZDtcclxuICAgIC8vICAgICAkKHJlcy5lbCkuY2xvc2VzdCgnLmZpbGUtdXBsb2FkJykuYXR0cignYXR0YWNoZWQtaW1nLWlkJywgaW1hZ2VJZCk7XHJcbiAgICAvLyAgICAgY29uc29sZS5sb2coJ2ltYWdlX2xvYWRlZCcsIHJlcyk7XHJcbiAgICAvLyB9KTtcclxuXHJcbn1cclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2Jsb2Nrcy91bmZvbGxvdy91bmZvbGxvdy1pbmRleC5qcyIsImltcG9ydCB7Q09OU1R9IGZyb20gJy4uLy4uL2NvbW1vbi9qcy1zZXJ2aWNlcy9jb25zdHMnO1xyXG5pbXBvcnQgKiBhcyBmb2xsb3dTdGF0dXNCeVN1YnR5cGUgZnJvbSAnLi4vLi4vYmxvY2tzL19zaGFyZWQvdGFzay1zdGF0dXMvdGFzay1zdGF0dXMtYnktc3VidHlwZSc7XHJcblxyXG4vLyBUT0RPOiByZWZhY3RvciAtPiBkZWxldGUgbWVcclxuLy8gaW1wb3J0IHtnZXRUYXNrc0RhdGF9IGZyb20gJy4uL19zaGFyZWQvdGFzay1zdGF0dXMvdGFzay1zdGF0dXMnO1xyXG4vLyBpbXBvcnQgdmlld1V0aWxzIGZyb20gJy4uLy4uL2NvbW1vbi9qcy1zZXJ2aWNlcy92aWV3JztcclxuLy8gaW1wb3J0IGRyb3BEb3duIGZyb20gJy4uL19zaGFyZWQvZHJvcGRvd24vZHJvcGRvd24nO1xyXG5cclxuLy8gY29uc3QgcGF0aCA9IHtcclxuLy8gICAgIHR5cGU6IENPTlNULnVybC50bVR5cGVzLnN0b3JpZXNULFxyXG4vLyAgICAgc3VidHlwZTogQ09OU1QudXJsLnRtVHlwZXMuc3Rvcmllc1N1YlRbMF1cclxuLy8gfTtcclxuLy8gY29uc3Qgd3JhcHBlcnMgPSB7XHJcbi8vICAgICAkYWxsOiAkKCcudGFza3MtYWxsJyksXHJcbi8vICAgICAkc3RvcHBlZDogJCgnLnRhc2tzLXN0b3BwZWQnKVxyXG4vLyB9O1xyXG4vLyBjb25zdCBsb2dzU3RhdGVTdGF0dXMgPSB7XHJcbi8vICAgICB3cmFwcGVyU3VidHlwZTogJCgnLnN1YnR5cGUtLWJveCcpXHJcbi8vICAgICAvLyBzZWxlY3RDbHNMb2dzVGFza1R5cGU6ICdzdWJ0eXBlLXNlbGVjdC13cmFwcGVyJ1xyXG4vLyB9O1xyXG4vL1xyXG4vLyBmdW5jdGlvbiBkcm9wZG93bk9uU2VsZWN0Q2IoZSkge1xyXG4vLyAgICAgLy8gY29uc3Qge3NlbGVjdENsc0xvZ3NUYXNrVHlwZX0gPSBsb2dzU3RhdGU7XHJcbi8vICAgICBjb25zdCBzdWJ0eXBlID0gJChlLnRhcmdldCkuZmluZCgnb3B0aW9uOnNlbGVjdGVkJykudmFsKCk7XHJcbi8vICAgICBjb25zdCBwYXRoVXBkYXRlZCA9IHsuLi5wYXRoLCBzdWJ0eXBlfTtcclxuLy8gICAgICQoJy5qc19sb2dzLWNvbnRhaW5lcicpLmFkZENsYXNzKCdkLWJsb2NrJyk7XHJcbi8vICAgICAkKCdvcHRpb24uanNfZW1wdHktc3VidHlwZScpLnJlbW92ZSgpO1xyXG4vLyAgICAgZ2V0VGFza3NEYXRhKHdyYXBwZXJzLCBwYXRoVXBkYXRlZCk7XHJcbi8vIH1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBpbml0KHtpc0luU3Rvcmllc1BhZ2V9KSB7XHJcbiAgICBpZiAoIWlzSW5TdG9yaWVzUGFnZSkge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGNvbnN0IGluaXRpYWxQYXRoID0ge1xyXG4gICAgICAgIHR5cGU6IENPTlNULnVybC50bVR5cGVzLnVuZm9sbG93aW5nVCxcclxuICAgICAgICBzdWJ0eXBlOiBDT05TVC51cmwudG1UeXBlcy51bmZvbGxvd2luZ1N1YlRbMF0sXHJcbiAgICAgICAgc3VidHlwZXM6IENPTlNULnVybC50bVR5cGVzLnVuZm9sbG93aW5nU3ViVFxyXG4gICAgfTtcclxuXHJcbiAgICBjb25zdCB0ZXh0UnVzQXJyYXkgPSBbJ9Cf0L4g0YHQv9C40YHQutGDJywgJ9Ce0YIg0LLRgdC10YUnLCAn0J7RgiDQvdC10LLQt9Cw0LjQvNC90YvRhSddO1xyXG4gICAgZm9sbG93U3RhdHVzQnlTdWJ0eXBlLmluaXQoe2lzSW5Db3JyZWN0UGFnZTogaXNJblN0b3JpZXNQYWdlLCBpbml0aWFsUGF0aCwgdGV4dFJ1c0FycmF5fSk7XHJcblxyXG4gICAgLy8gdG9kbzogbWVyZ2Ugd2l0aCBzdG9yaWVzLXNhdHVzLmpzXHJcbiAgICAvLyBkcm9wRG93bi5hZGREcm9wZG93bihsb2dzU3RhdGVTdGF0dXMud3JhcHBlclN1YnR5cGUsIENPTlNULnVybC50bVR5cGVzLnN0b3JpZXNTdWJULCB7bG9nc1N0YXRlOiBsb2dzU3RhdGVTdGF0dXMsIGRyb3Bkb3duT25TZWxlY3RDYn0pO1xyXG5cclxuICAgIC8vIGdldFRhc2tzRGF0YSh3cmFwcGVycywgcGF0aCk7XHJcbiAgICAvLyB3aW5kb3cuUHViU3ViLnN1YnNjcmliZShDT05TVC5ldmVudHMudGFza3MuTkVXX1RBU0tfQ1JFQVRFRCwgKGV2ZW50TmFtZSwgZGF0YSkgPT4ge1xyXG4gICAgLy8gICAgIGdldFRhc2tzRGF0YSh3cmFwcGVycywgcGF0aCk7XHJcbiAgICAvLyB9KTtcclxufVxyXG5cclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2Jsb2Nrcy91bmZvbGxvdy91bmZvbGxvdy1zdGF0dXMuanMiLCIvKiBlc2xpbnQtZGlzYWJsZSBzb3J0LXZhcnMgKi9cclxuLy8gaW1wb3J0ICQgZnJvbSAnanF1ZXJ5JztcclxuaW1wb3J0IFVzZXIgZnJvbSAnLi4vLi4vY29tbW9uL2pzLXNlcnZpY2VzL3VzZXInO1xyXG5pbXBvcnQgUHViU3ViIGZyb20gJ3B1YnN1Yi1qcyc7IC8vIGh0dHBzOi8vd3d3Lm5wbWpzLmNvbS9wYWNrYWdlL3B1YnN1Yi1qc1xyXG5pbXBvcnQgY29va2llU3RvcmFnZSBmcm9tICcuLi8uLi9jb21tb24vanMtc2VydmljZXMvY29va2llJztcclxuLy8gaW1wb3J0IFZhbGlkYXRvciBmcm9tICcuLi8uLi9jb21tb24vanMtc2VydmljZXMvZm9ybS12YWxpZGF0b3InO1xyXG5pbXBvcnQgdmlld1V0aWxzIGZyb20gJy4uLy4uL2NvbW1vbi9qcy1zZXJ2aWNlcy92aWV3JztcclxuaW1wb3J0IHtDT05TVH0gZnJvbSAnLi4vLi4vY29tbW9uL2pzLXNlcnZpY2VzL2NvbnN0cyc7XHJcblxyXG4vLyB3aW5kb3cuJCA9ICQ7XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gTG9naW5QYWdlKHNlbGVjdG9yQ3NzKSB7XHJcbiAgICBjb25zdCB7X2Zvcm1JZCwgX2J1dHRvblN1Ym1pdElkLCBfbG9naW5Cb3h9ID0gc2VsZWN0b3JDc3M7XHJcbiAgICBjb25zdCB1c2VyID0gVXNlciwgLy8gc2VydmljZVxyXG4gICAgICAgICRmb3JtID0gJChfZm9ybUlkKSxcclxuICAgICAgICAkZW1haWwgPSAkZm9ybS5maW5kKCdpbnB1dFtuYW1lPVwibWFpbFwiXScpLFxyXG4gICAgICAgICR0ZXh0QXJlYURlc2NyaXB0aW9uID0gJCgnI2Rlc2NyaXB0aW9uJyk7XHJcbiAgICAvLyBjb25zdCBvcGVuZWRDbGFzcyA9ICdkLWJsb2NrJztcclxuICAgIC8vIGNvbnN0IGNsb3NlQ2xhc3MgPSAnZC1ub25lJztcclxuXHJcbiAgICBjb25zdCB1c2VyTG9naW5IZWFkZXIgPSAoX2Zvcm1EYXRhKSA9PiB7XHJcbiAgICAgICAgY29uc3QgY2JFcnJvciA9IChyZXN1bHQpID0+IHtcclxuICAgICAgICAgICAgLy8gJChfbG9naW5Cb3gpLmFwcGVuZChgPHA+JHtyZXN1bHQuc3RhdHVzLm1lc3NhZ2V9PC9wPmApO1xyXG4gICAgICAgICAgICBjb25zdCBtb2RhbCA9ICQoJyNlcnJvci1tb2RhbCcpO1xyXG4gICAgICAgICAgICBtb2RhbC5tb2RhbCgnc2hvdycpO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhyZXN1bHQuc3RhdHVzLm1lc3NhZ2UpO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHJldHVybiB1c2VyLmxvZ2luKF9mb3JtRGF0YSwgY2JFcnJvcilcclxuICAgICAgICAgICAgLnRoZW4oKHJlc3VsdCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdCAmJiByZXN1bHQuZGF0YSAmJiByZXN1bHQuZGF0YS50b2tlbikge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIHNhdmUgdGhlIGl0ZW1cclxuICAgICAgICAgICAgICAgICAgICBjb29raWVTdG9yYWdlLnNldChDT05TVC5jb29raWVTdG9yYWdlLnRva2VuLCByZXN1bHQuZGF0YS50b2tlbik7XHJcbiAgICAgICAgICAgICAgICAgICAgJCgnLm5hdi1saW5rLmpzX2xvZ091dCcpLnBhcmVudCgpLnNob3coKTtcclxuICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZygncmVxdWVzdCBzdWNjZWVkZWQgd2l0aCBKU09OIHJlc3BvbnNlJywgcmVzdWx0KTtcclxuICAgICAgICAgICAgICAgICAgICB2aWV3VXRpbHMuc2hvd0luZm9NZXNzYWdlKCR0ZXh0QXJlYURlc2NyaXB0aW9uLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQuc3RhdHVzLnN0YXRlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQuc3RhdHVzLm1lc3NhZ2UgfHwgJ0xvZ2luIHN1Y2NzZXNzJyk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHJlc3VsdC5zdGF0dXMpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXN1bHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIHZpZXdVdGlscy5zaG93SW5mb01lc3NhZ2UodGhpcy4kdGV4dEFyZWFEZXNjcmlwdGlvbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgYDxwPnN0YXR1czogJHtyZXN1bHQuc3RhdHVzLnN0YXRlfTwvcD48cD4gbWVzc2FnZTogJHtyZXN1bHQuc3RhdHVzLm1lc3NhZ2V9PC9wPmApO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXN1bHQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KS50aGVuKChyZXN1bHQpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChyZXN1bHQgJiYgcmVzdWx0LnN0YXR1cykge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3VsdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmlld1V0aWxzLnNob3dJbmZvTWVzc2FnZSgkdGV4dEFyZWFEZXNjcmlwdGlvbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnN0YXR1cy5zdGF0ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnN0YXR1cy5tZXNzYWdlIHx8ICdMb2dpbiBlcnJvcicpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgIH07XHJcblxyXG4gICAgY29uc3Qgc3VibWl0Rm9ybSA9IGZ1bmN0aW9uKGZvcm1EYXRhT2JqKSB7XHJcbiAgICAgICAgY29uc3QgZW1haWwgPSAkZW1haWwudmFsKCksXHJcbiAgICAgICAgICAgIHBhc3N3b3JkID0gJGZvcm0uZmluZCgnaW5wdXRbbmFtZT1cInBhc3NcIl0nKS52YWwoKSxcclxuICAgICAgICAgICAgX2Zvcm1EYXRhID0gZm9ybURhdGFPYmogfHwge2VtYWlsLCBwYXNzd29yZH07XHJcblxyXG4gICAgICAgIGlmIChzZWxlY3RvckNzcy5pc0xvZ2luSW5zdGFncmFtKSB7XHJcbiAgICAgICAgICAgIC8vIHRvZG86IGRlbGV0ZSBtZVxyXG4gICAgICAgICAgICAvLyBhZGRJbnN0YWdyYW1BY2NvdW50KHt1c2VybmFtZTogJGZvcm0uZmluZCgnaW5wdXRbbmFtZT1cInVzZXJuYW1lXCJdJykudmFsKCksIHBhc3N3b3JkfSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgJGVtYWlsLnZhbCgkZW1haWwudmFsKCkudG9Mb2NhbGVMb3dlckNhc2UoKSk7XHJcbiAgICAgICAgICAgIHVzZXJMb2dpbkhlYWRlcihfZm9ybURhdGEpLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgLy8gUHViU3ViLnB1Ymxpc2goQ09OU1QuZXZlbnRzLlVTRVJfTE9HR0VELCAnbG9naW4nKTtcclxuICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gJy4vaW5zdGFncmFtLWFjY291bnRzLmh0bWwnO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIGNvbnN0IGxvZ091dCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGNvb2tpZVN0b3JhZ2UucmVtb3ZlKENPTlNULmNvb2tpZVN0b3JhZ2UudG9rZW4pO1xyXG4gICAgICAgIFB1YlN1Yi5wdWJsaXNoKENPTlNULmV2ZW50cy5VU0VSX0xPR09VVCk7XHJcbiAgICB9O1xyXG5cclxuICAgIGNvbnN0IGJpbmRFdmVudHMgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAvLyBjb25zdCAkc2hvd0xvZ2luQm94QnRuSWQgPSAkKF9zaG93TG9naW5Cb3hCdG5JZCk7XHJcbiAgICAgICAgY29uc3QgJGxvZ2luQm94ID0gJChfbG9naW5Cb3gpO1xyXG4gICAgICAgIGNvbnN0IG9wZW5lZENsYXNzID0gJ2QtYmxvY2snO1xyXG4gICAgICAgIGNvbnN0IGNsb3NlQ2xhc3MgPSAnZC1ub25lJztcclxuXHJcbiAgICAgICAgLy8gJHNob3dMb2dpbkJveEJ0bklkLm9uKCdjbGljaycsICgpID0+IHtcclxuICAgICAgICAvLyAgICAgaWYgKCFzZWxlY3RvckNzcy5pc0xvZ2luSW5zdGFncmFtKSB7XHJcbiAgICAgICAgLy8gICAgICAgICAkbG9naW5Cb3guY3NzKHsndG9wJzogMCwgJ3JpZ2h0JzogMH0pXHJcbiAgICAgICAgLy8gICAgICAgICAgICAgLmFkZENsYXNzKCdiZy1saWdodCBib3JkZXIgbXQtNSBteC1hdXRvIHBvc2l0aW9uLWFic29sdXRlJyk7XHJcbiAgICAgICAgLy8gICAgIH1cclxuICAgICAgICAvLyAgICAgJGxvZ2luQm94LmFkZENsYXNzKG9wZW5lZENsYXNzKS5yZW1vdmVDbGFzcyhjbG9zZUNsYXNzKTtcclxuICAgICAgICAvLyB9KTtcclxuXHJcbiAgICAgICAgY29uc3QgJGJ1dHRvblN1Ym1pdCA9ICQoX2J1dHRvblN1Ym1pdElkKSxcclxuICAgICAgICAgICAgY3NzVmFsaWRhdGlvbkNsYXNzID0gJ2Zvcm0tdmFsaWRhdGlvbic7XHJcblxyXG4gICAgICAgICRidXR0b25TdWJtaXQub24oJ2NsaWNrJywgKGUpID0+IHtcclxuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICBjb25zdCBmb3JtID0gJGZvcm0uZ2V0KDApO1xyXG4gICAgICAgICAgICAvLyBjb25zdCB2YWxpZGF0b3IgPSBuZXcgVmFsaWRhdG9yKCRmb3JtKTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2codmlld1V0aWxzLCB2aWV3VXRpbHMuaXNFbWFpbCgkZW1haWwudmFsKCkpKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChmb3JtLmNoZWNrVmFsaWRpdHkoKSAmJiB2aWV3VXRpbHMuaXNFbWFpbCgkZW1haWwudmFsKCkpKSB7XHJcbiAgICAgICAgICAgICAgICBzdWJtaXRGb3JtKCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvLyBIaWdobGlnaHQgZXJyb3JzXHJcbiAgICAgICAgICAgICAgICBpZiAoZm9ybS5yZXBvcnRWYWxpZGl0eSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGZvcm0ucmVwb3J0VmFsaWRpdHkoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICRmb3JtLmFkZENsYXNzKGNzc1ZhbGlkYXRpb25DbGFzcyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgJCgnLm5hdi1saW5rLmpzX2xvZ091dCcpLm9uKCdjbGljaycsIChlKSA9PiB7XHJcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgbG9nT3V0KCk7XHJcbiAgICAgICAgICAgICQoZS50YXJnZXQpLnBhcmVudCgpLmhpZGUoKTtcclxuICAgICAgICAgICAgdmlld1V0aWxzLnNob3dJbmZvTWVzc2FnZSgkdGV4dEFyZWFEZXNjcmlwdGlvbiwgJ0xvZ2dlZCBvdXQnKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgUHViU3ViLnN1YnNjcmliZShDT05TVC5ldmVudHMuVVNFUl9MT0dPVVQsIChtc2cpID0+IHtcclxuICAgICAgICAgICAgJChDT05TVC51aVNlbGVjdG9ycy5oZWFkZXJOYXZMb2dpbkJ0bikuYWRkQ2xhc3Mob3BlbmVkQ2xhc3MpLnJlbW92ZUNsYXNzKGNsb3NlQ2xhc3MpOyAvLyAuc2hvdygpO1xyXG4gICAgICAgICAgICAkKENPTlNULnVpU2VsZWN0b3JzLmhlYWRlclJlZ0J0bikuYWRkQ2xhc3Mob3BlbmVkQ2xhc3MpLnJlbW92ZUNsYXNzKGNsb3NlQ2xhc3MpO1xyXG4gICAgICAgICAgICAkKCcubmF2LWxpbmsuanNfbG9nT3V0JykuYWRkQ2xhc3MoY2xvc2VDbGFzcykucmVtb3ZlQ2xhc3Mob3BlbmVkQ2xhc3MpOyAvLyAuaGlkZSgpO1xyXG4gICAgICAgICAgICBjb25zdCBzZWxlY3RvckxvZ2luU3RhdGUgPSAnLmpzX21lc3NhZ2VfbG9nZ2VkLS10ZXh0JztcclxuICAgICAgICAgICAgJChzZWxlY3RvckxvZ2luU3RhdGUpLnRleHQoJ9CS0Ysg0LLRi9GI0LvQuCDQuNC3INCw0LrQutCw0YPQvdGC0LAnKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgJChkb2N1bWVudCkub24oJ2NsaWNrJywgKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGlzTG9naW5CdG5DbGljayA9ICQoZXZlbnQudGFyZ2V0KS5jbG9zZXN0KCduYXYubmF2YmFyJykuZmluZCgkbG9naW5Cb3gpLmxlbmd0aDtcclxuICAgICAgICAgICAgY29uc3QgaXNBZGRJbnN0YWdyYW1CdG5DbGlja2VkID0gJChldmVudC50YXJnZXQpLmF0dHIoJ2lkJykgPT09IENPTlNULnVpU2VsZWN0b3JzLmluc3RhZ3JhbS5hZGRBY2NvdW50QnRuSWQ7XHJcblxyXG4gICAgICAgICAgICBpZiAoIWlzTG9naW5CdG5DbGljayAmJiAkbG9naW5Cb3guaGFzQ2xhc3Mob3BlbmVkQ2xhc3MpICYmICFpc0FkZEluc3RhZ3JhbUJ0bkNsaWNrZWQpIHtcclxuICAgICAgICAgICAgICAgICRsb2dpbkJveC5hZGRDbGFzcyhjbG9zZUNsYXNzKS5yZW1vdmVDbGFzcyhvcGVuZWRDbGFzcyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH07XHJcblxyXG4gICAgZnVuY3Rpb24gaW5pdCgpIHtcclxuICAgICAgICBpZiAoJCgnLmF1dGgubG9naW4nKS5sZW5ndGgpIHtcclxuICAgICAgICAgICAgYmluZEV2ZW50cygpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIGluaXRcclxuICAgIH07XHJcbn1cclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL3BhZ2VzL19hdXRoL2xvZ2luLXBhZ2UuanMiLCIvKlxuICogYm9vdHN0cmFwLXRhZ3NpbnB1dCB2MC43LjEgYnkgVGltIFNjaGxlY2h0ZXJcbiAqIFxuICovXG5cbiFmdW5jdGlvbihhKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBiKGIsYyl7dGhpcy5pc0luaXQ9ITAsdGhpcy5pdGVtc0FycmF5PVtdLHRoaXMuJGVsZW1lbnQ9YShiKSx0aGlzLiRlbGVtZW50LmhpZGUoKSx0aGlzLmlzU2VsZWN0PVwiU0VMRUNUXCI9PT1iLnRhZ05hbWUsdGhpcy5tdWx0aXBsZT10aGlzLmlzU2VsZWN0JiZiLmhhc0F0dHJpYnV0ZShcIm11bHRpcGxlXCIpLHRoaXMub2JqZWN0SXRlbXM9YyYmYy5pdGVtVmFsdWUsdGhpcy5wbGFjZWhvbGRlclRleHQ9Yi5oYXNBdHRyaWJ1dGUoXCJwbGFjZWhvbGRlclwiKT90aGlzLiRlbGVtZW50LmF0dHIoXCJwbGFjZWhvbGRlclwiKTpcIlwiLHRoaXMuaW5wdXRTaXplPU1hdGgubWF4KDEsdGhpcy5wbGFjZWhvbGRlclRleHQubGVuZ3RoKSx0aGlzLiRjb250YWluZXI9YSgnPGRpdiBjbGFzcz1cImJvb3RzdHJhcC10YWdzaW5wdXRcIj48L2Rpdj4nKSx0aGlzLiRpbnB1dD1hKCc8aW5wdXQgdHlwZT1cInRleHRcIiBwbGFjZWhvbGRlcj1cIicrdGhpcy5wbGFjZWhvbGRlclRleHQrJ1wiLz4nKS5hcHBlbmRUbyh0aGlzLiRjb250YWluZXIpLHRoaXMuJGVsZW1lbnQuYmVmb3JlKHRoaXMuJGNvbnRhaW5lciksdGhpcy5idWlsZChjKSx0aGlzLmlzSW5pdD0hMX1mdW5jdGlvbiBjKGEsYil7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgYVtiXSl7dmFyIGM9YVtiXTthW2JdPWZ1bmN0aW9uKGEpe3JldHVybiBhW2NdfX19ZnVuY3Rpb24gZChhLGIpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGFbYl0pe3ZhciBjPWFbYl07YVtiXT1mdW5jdGlvbigpe3JldHVybiBjfX19ZnVuY3Rpb24gZShhKXtyZXR1cm4gYT9pLnRleHQoYSkuaHRtbCgpOlwiXCJ9ZnVuY3Rpb24gZihhKXt2YXIgYj0wO2lmKGRvY3VtZW50LnNlbGVjdGlvbil7YS5mb2N1cygpO3ZhciBjPWRvY3VtZW50LnNlbGVjdGlvbi5jcmVhdGVSYW5nZSgpO2MubW92ZVN0YXJ0KFwiY2hhcmFjdGVyXCIsLWEudmFsdWUubGVuZ3RoKSxiPWMudGV4dC5sZW5ndGh9ZWxzZShhLnNlbGVjdGlvblN0YXJ0fHxcIjBcIj09YS5zZWxlY3Rpb25TdGFydCkmJihiPWEuc2VsZWN0aW9uU3RhcnQpO3JldHVybiBifWZ1bmN0aW9uIGcoYixjKXt2YXIgZD0hMTtyZXR1cm4gYS5lYWNoKGMsZnVuY3Rpb24oYSxjKXtpZihcIm51bWJlclwiPT10eXBlb2YgYyYmYi53aGljaD09PWMpcmV0dXJuIGQ9ITAsITE7aWYoYi53aGljaD09PWMud2hpY2gpe3ZhciBlPSFjLmhhc093blByb3BlcnR5KFwiYWx0S2V5XCIpfHxiLmFsdEtleT09PWMuYWx0S2V5LGY9IWMuaGFzT3duUHJvcGVydHkoXCJzaGlmdEtleVwiKXx8Yi5zaGlmdEtleT09PWMuc2hpZnRLZXksZz0hYy5oYXNPd25Qcm9wZXJ0eShcImN0cmxLZXlcIil8fGIuY3RybEtleT09PWMuY3RybEtleTtpZihlJiZmJiZnKXJldHVybiBkPSEwLCExfX0pLGR9dmFyIGg9e3RhZ0NsYXNzOmZ1bmN0aW9uKGEpe3JldHVyblwibGFiZWwgbGFiZWwtaW5mb1wifSxpdGVtVmFsdWU6ZnVuY3Rpb24oYSl7cmV0dXJuIGE/YS50b1N0cmluZygpOmF9LGl0ZW1UZXh0OmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLml0ZW1WYWx1ZShhKX0saXRlbVRpdGxlOmZ1bmN0aW9uKGEpe3JldHVybiBudWxsfSxmcmVlSW5wdXQ6ITAsYWRkT25CbHVyOiEwLG1heFRhZ3M6dm9pZCAwLG1heENoYXJzOnZvaWQgMCxjb25maXJtS2V5czpbMTMsNDRdLGRlbGltaXRlcjpcIixcIixkZWxpbWl0ZXJSZWdleDpudWxsLGNhbmNlbENvbmZpcm1LZXlzT25FbXB0eTohMSxvblRhZ0V4aXN0czpmdW5jdGlvbihhLGIpe2IuaGlkZSgpLmZhZGVJbigpfSx0cmltVmFsdWU6ITEsYWxsb3dEdXBsaWNhdGVzOiExfTtiLnByb3RvdHlwZT17Y29uc3RydWN0b3I6YixhZGQ6ZnVuY3Rpb24oYixjLGQpe3ZhciBmPXRoaXM7aWYoIShmLm9wdGlvbnMubWF4VGFncyYmZi5pdGVtc0FycmF5Lmxlbmd0aD49Zi5vcHRpb25zLm1heFRhZ3MpJiYoYj09PSExfHxiKSl7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGImJmYub3B0aW9ucy50cmltVmFsdWUmJihiPWEudHJpbShiKSksXCJvYmplY3RcIj09dHlwZW9mIGImJiFmLm9iamVjdEl0ZW1zKXRocm93XCJDYW4ndCBhZGQgb2JqZWN0cyB3aGVuIGl0ZW1WYWx1ZSBvcHRpb24gaXMgbm90IHNldFwiO2lmKCFiLnRvU3RyaW5nKCkubWF0Y2goL15cXHMqJC8pKXtpZihmLmlzU2VsZWN0JiYhZi5tdWx0aXBsZSYmZi5pdGVtc0FycmF5Lmxlbmd0aD4wJiZmLnJlbW92ZShmLml0ZW1zQXJyYXlbMF0pLFwic3RyaW5nXCI9PXR5cGVvZiBiJiZcIklOUFVUXCI9PT10aGlzLiRlbGVtZW50WzBdLnRhZ05hbWUpe3ZhciBnPWYub3B0aW9ucy5kZWxpbWl0ZXJSZWdleD9mLm9wdGlvbnMuZGVsaW1pdGVyUmVnZXg6Zi5vcHRpb25zLmRlbGltaXRlcixoPWIuc3BsaXQoZyk7aWYoaC5sZW5ndGg+MSl7Zm9yKHZhciBpPTA7aTxoLmxlbmd0aDtpKyspdGhpcy5hZGQoaFtpXSwhMCk7cmV0dXJuIHZvaWQoY3x8Zi5wdXNoVmFsKCkpfX12YXIgaj1mLm9wdGlvbnMuaXRlbVZhbHVlKGIpLGs9Zi5vcHRpb25zLml0ZW1UZXh0KGIpLGw9Zi5vcHRpb25zLnRhZ0NsYXNzKGIpLG09Zi5vcHRpb25zLml0ZW1UaXRsZShiKSxuPWEuZ3JlcChmLml0ZW1zQXJyYXksZnVuY3Rpb24oYSl7cmV0dXJuIGYub3B0aW9ucy5pdGVtVmFsdWUoYSk9PT1qfSlbMF07aWYoIW58fGYub3B0aW9ucy5hbGxvd0R1cGxpY2F0ZXMpe2lmKCEoZi5pdGVtcygpLnRvU3RyaW5nKCkubGVuZ3RoK2IubGVuZ3RoKzE+Zi5vcHRpb25zLm1heElucHV0TGVuZ3RoKSl7dmFyIG89YS5FdmVudChcImJlZm9yZUl0ZW1BZGRcIix7aXRlbTpiLGNhbmNlbDohMSxvcHRpb25zOmR9KTtpZihmLiRlbGVtZW50LnRyaWdnZXIobyksIW8uY2FuY2VsKXtmLml0ZW1zQXJyYXkucHVzaChiKTt2YXIgcD1hKCc8c3BhbiBjbGFzcz1cInRhZyAnK2UobCkrKG51bGwhPT1tPydcIiB0aXRsZT1cIicrbTpcIlwiKSsnXCI+JytlKGspKyc8c3BhbiBkYXRhLXJvbGU9XCJyZW1vdmVcIj48L3NwYW4+PC9zcGFuPicpO3AuZGF0YShcIml0ZW1cIixiKSxmLmZpbmRJbnB1dFdyYXBwZXIoKS5iZWZvcmUocCkscC5hZnRlcihcIiBcIik7dmFyIHE9YSgnb3B0aW9uW3ZhbHVlPVwiJytlbmNvZGVVUklDb21wb25lbnQoaikrJ1wiXScsZi4kZWxlbWVudCkubGVuZ3RofHxhKCdvcHRpb25bdmFsdWU9XCInK2UoaikrJ1wiXScsZi4kZWxlbWVudCkubGVuZ3RoO2lmKGYuaXNTZWxlY3QmJiFxKXt2YXIgcj1hKFwiPG9wdGlvbiBzZWxlY3RlZD5cIitlKGspK1wiPC9vcHRpb24+XCIpO3IuZGF0YShcIml0ZW1cIixiKSxyLmF0dHIoXCJ2YWx1ZVwiLGopLGYuJGVsZW1lbnQuYXBwZW5kKHIpfWN8fGYucHVzaFZhbCgpLChmLm9wdGlvbnMubWF4VGFncz09PWYuaXRlbXNBcnJheS5sZW5ndGh8fGYuaXRlbXMoKS50b1N0cmluZygpLmxlbmd0aD09PWYub3B0aW9ucy5tYXhJbnB1dExlbmd0aCkmJmYuJGNvbnRhaW5lci5hZGRDbGFzcyhcImJvb3RzdHJhcC10YWdzaW5wdXQtbWF4XCIpLGEoXCIudHlwZWFoZWFkLCAudHdpdHRlci10eXBlYWhlYWRcIixmLiRjb250YWluZXIpLmxlbmd0aCYmZi4kaW5wdXQudHlwZWFoZWFkKFwidmFsXCIsXCJcIiksdGhpcy5pc0luaXQ/Zi4kZWxlbWVudC50cmlnZ2VyKGEuRXZlbnQoXCJpdGVtQWRkZWRPbkluaXRcIix7aXRlbTpiLG9wdGlvbnM6ZH0pKTpmLiRlbGVtZW50LnRyaWdnZXIoYS5FdmVudChcIml0ZW1BZGRlZFwiLHtpdGVtOmIsb3B0aW9uczpkfSkpfX19ZWxzZSBpZihmLm9wdGlvbnMub25UYWdFeGlzdHMpe3ZhciBzPWEoXCIudGFnXCIsZi4kY29udGFpbmVyKS5maWx0ZXIoZnVuY3Rpb24oKXtyZXR1cm4gYSh0aGlzKS5kYXRhKFwiaXRlbVwiKT09PW59KTtmLm9wdGlvbnMub25UYWdFeGlzdHMoYixzKX19fX0scmVtb3ZlOmZ1bmN0aW9uKGIsYyxkKXt2YXIgZT10aGlzO2lmKGUub2JqZWN0SXRlbXMmJihiPVwib2JqZWN0XCI9PXR5cGVvZiBiP2EuZ3JlcChlLml0ZW1zQXJyYXksZnVuY3Rpb24oYSl7cmV0dXJuIGUub3B0aW9ucy5pdGVtVmFsdWUoYSk9PWUub3B0aW9ucy5pdGVtVmFsdWUoYil9KTphLmdyZXAoZS5pdGVtc0FycmF5LGZ1bmN0aW9uKGEpe3JldHVybiBlLm9wdGlvbnMuaXRlbVZhbHVlKGEpPT1ifSksYj1iW2IubGVuZ3RoLTFdKSxiKXt2YXIgZj1hLkV2ZW50KFwiYmVmb3JlSXRlbVJlbW92ZVwiLHtpdGVtOmIsY2FuY2VsOiExLG9wdGlvbnM6ZH0pO2lmKGUuJGVsZW1lbnQudHJpZ2dlcihmKSxmLmNhbmNlbClyZXR1cm47YShcIi50YWdcIixlLiRjb250YWluZXIpLmZpbHRlcihmdW5jdGlvbigpe3JldHVybiBhKHRoaXMpLmRhdGEoXCJpdGVtXCIpPT09Yn0pLnJlbW92ZSgpLGEoXCJvcHRpb25cIixlLiRlbGVtZW50KS5maWx0ZXIoZnVuY3Rpb24oKXtyZXR1cm4gYSh0aGlzKS5kYXRhKFwiaXRlbVwiKT09PWJ9KS5yZW1vdmUoKSwtMSE9PWEuaW5BcnJheShiLGUuaXRlbXNBcnJheSkmJmUuaXRlbXNBcnJheS5zcGxpY2UoYS5pbkFycmF5KGIsZS5pdGVtc0FycmF5KSwxKX1jfHxlLnB1c2hWYWwoKSxlLm9wdGlvbnMubWF4VGFncz5lLml0ZW1zQXJyYXkubGVuZ3RoJiZlLiRjb250YWluZXIucmVtb3ZlQ2xhc3MoXCJib290c3RyYXAtdGFnc2lucHV0LW1heFwiKSxlLiRlbGVtZW50LnRyaWdnZXIoYS5FdmVudChcIml0ZW1SZW1vdmVkXCIse2l0ZW06YixvcHRpb25zOmR9KSl9LHJlbW92ZUFsbDpmdW5jdGlvbigpe3ZhciBiPXRoaXM7Zm9yKGEoXCIudGFnXCIsYi4kY29udGFpbmVyKS5yZW1vdmUoKSxhKFwib3B0aW9uXCIsYi4kZWxlbWVudCkucmVtb3ZlKCk7Yi5pdGVtc0FycmF5Lmxlbmd0aD4wOyliLml0ZW1zQXJyYXkucG9wKCk7Yi5wdXNoVmFsKCl9LHJlZnJlc2g6ZnVuY3Rpb24oKXt2YXIgYj10aGlzO2EoXCIudGFnXCIsYi4kY29udGFpbmVyKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGM9YSh0aGlzKSxkPWMuZGF0YShcIml0ZW1cIiksZj1iLm9wdGlvbnMuaXRlbVZhbHVlKGQpLGc9Yi5vcHRpb25zLml0ZW1UZXh0KGQpLGg9Yi5vcHRpb25zLnRhZ0NsYXNzKGQpO2lmKGMuYXR0cihcImNsYXNzXCIsbnVsbCksYy5hZGRDbGFzcyhcInRhZyBcIitlKGgpKSxjLmNvbnRlbnRzKCkuZmlsdGVyKGZ1bmN0aW9uKCl7cmV0dXJuIDM9PXRoaXMubm9kZVR5cGV9KVswXS5ub2RlVmFsdWU9ZShnKSxiLmlzU2VsZWN0KXt2YXIgaT1hKFwib3B0aW9uXCIsYi4kZWxlbWVudCkuZmlsdGVyKGZ1bmN0aW9uKCl7cmV0dXJuIGEodGhpcykuZGF0YShcIml0ZW1cIik9PT1kfSk7aS5hdHRyKFwidmFsdWVcIixmKX19KX0saXRlbXM6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pdGVtc0FycmF5fSxwdXNoVmFsOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcyxjPWEubWFwKGIuaXRlbXMoKSxmdW5jdGlvbihhKXtyZXR1cm4gYi5vcHRpb25zLml0ZW1WYWx1ZShhKS50b1N0cmluZygpfSk7Yi4kZWxlbWVudC52YWwoYywhMCkudHJpZ2dlcihcImNoYW5nZVwiKX0sYnVpbGQ6ZnVuY3Rpb24oYil7dmFyIGU9dGhpcztpZihlLm9wdGlvbnM9YS5leHRlbmQoe30saCxiKSxlLm9iamVjdEl0ZW1zJiYoZS5vcHRpb25zLmZyZWVJbnB1dD0hMSksYyhlLm9wdGlvbnMsXCJpdGVtVmFsdWVcIiksYyhlLm9wdGlvbnMsXCJpdGVtVGV4dFwiKSxkKGUub3B0aW9ucyxcInRhZ0NsYXNzXCIpLGUub3B0aW9ucy50eXBlYWhlYWQpe3ZhciBpPWUub3B0aW9ucy50eXBlYWhlYWR8fHt9O2QoaSxcInNvdXJjZVwiKSxlLiRpbnB1dC50eXBlYWhlYWQoYS5leHRlbmQoe30saSx7c291cmNlOmZ1bmN0aW9uKGIsYyl7ZnVuY3Rpb24gZChhKXtmb3IodmFyIGI9W10sZD0wO2Q8YS5sZW5ndGg7ZCsrKXt2YXIgZz1lLm9wdGlvbnMuaXRlbVRleHQoYVtkXSk7ZltnXT1hW2RdLGIucHVzaChnKX1jKGIpfXRoaXMubWFwPXt9O3ZhciBmPXRoaXMubWFwLGc9aS5zb3VyY2UoYik7YS5pc0Z1bmN0aW9uKGcuc3VjY2Vzcyk/Zy5zdWNjZXNzKGQpOmEuaXNGdW5jdGlvbihnLnRoZW4pP2cudGhlbihkKTphLndoZW4oZykudGhlbihkKX0sdXBkYXRlcjpmdW5jdGlvbihhKXtyZXR1cm4gZS5hZGQodGhpcy5tYXBbYV0pLHRoaXMubWFwW2FdfSxtYXRjaGVyOmZ1bmN0aW9uKGEpe3JldHVybi0xIT09YS50b0xvd2VyQ2FzZSgpLmluZGV4T2YodGhpcy5xdWVyeS50cmltKCkudG9Mb3dlckNhc2UoKSl9LHNvcnRlcjpmdW5jdGlvbihhKXtyZXR1cm4gYS5zb3J0KCl9LGhpZ2hsaWdodGVyOmZ1bmN0aW9uKGEpe3ZhciBiPW5ldyBSZWdFeHAoXCIoXCIrdGhpcy5xdWVyeStcIilcIixcImdpXCIpO3JldHVybiBhLnJlcGxhY2UoYixcIjxzdHJvbmc+JDE8L3N0cm9uZz5cIil9fSkpfWlmKGUub3B0aW9ucy50eXBlYWhlYWRqcyl7dmFyIGo9bnVsbCxrPXt9LGw9ZS5vcHRpb25zLnR5cGVhaGVhZGpzO2EuaXNBcnJheShsKT8oaj1sWzBdLGs9bFsxXSk6az1sLGUuJGlucHV0LnR5cGVhaGVhZChqLGspLm9uKFwidHlwZWFoZWFkOnNlbGVjdGVkXCIsYS5wcm94eShmdW5jdGlvbihhLGIpe2sudmFsdWVLZXk/ZS5hZGQoYltrLnZhbHVlS2V5XSk6ZS5hZGQoYiksZS4kaW5wdXQudHlwZWFoZWFkKFwidmFsXCIsXCJcIil9LGUpKX1lLiRjb250YWluZXIub24oXCJjbGlja1wiLGEucHJveHkoZnVuY3Rpb24oYSl7ZS4kZWxlbWVudC5hdHRyKFwiZGlzYWJsZWRcIil8fGUuJGlucHV0LnJlbW92ZUF0dHIoXCJkaXNhYmxlZFwiKSxlLiRpbnB1dC5mb2N1cygpfSxlKSksZS5vcHRpb25zLmFkZE9uQmx1ciYmZS5vcHRpb25zLmZyZWVJbnB1dCYmZS4kaW5wdXQub24oXCJmb2N1c291dFwiLGEucHJveHkoZnVuY3Rpb24oYil7MD09PWEoXCIudHlwZWFoZWFkLCAudHdpdHRlci10eXBlYWhlYWRcIixlLiRjb250YWluZXIpLmxlbmd0aCYmKGUuYWRkKGUuJGlucHV0LnZhbCgpKSxlLiRpbnB1dC52YWwoXCJcIikpfSxlKSksZS4kY29udGFpbmVyLm9uKFwia2V5ZG93blwiLFwiaW5wdXRcIixhLnByb3h5KGZ1bmN0aW9uKGIpe3ZhciBjPWEoYi50YXJnZXQpLGQ9ZS5maW5kSW5wdXRXcmFwcGVyKCk7aWYoZS4kZWxlbWVudC5hdHRyKFwiZGlzYWJsZWRcIikpcmV0dXJuIHZvaWQgZS4kaW5wdXQuYXR0cihcImRpc2FibGVkXCIsXCJkaXNhYmxlZFwiKTtzd2l0Y2goYi53aGljaCl7Y2FzZSA4OmlmKDA9PT1mKGNbMF0pKXt2YXIgZz1kLnByZXYoKTtnLmxlbmd0aCYmZS5yZW1vdmUoZy5kYXRhKFwiaXRlbVwiKSl9YnJlYWs7Y2FzZSA0NjppZigwPT09ZihjWzBdKSl7dmFyIGg9ZC5uZXh0KCk7aC5sZW5ndGgmJmUucmVtb3ZlKGguZGF0YShcIml0ZW1cIikpfWJyZWFrO2Nhc2UgMzc6dmFyIGk9ZC5wcmV2KCk7MD09PWMudmFsKCkubGVuZ3RoJiZpWzBdJiYoaS5iZWZvcmUoZCksYy5mb2N1cygpKTticmVhaztjYXNlIDM5OnZhciBqPWQubmV4dCgpOzA9PT1jLnZhbCgpLmxlbmd0aCYmalswXSYmKGouYWZ0ZXIoZCksYy5mb2N1cygpKX12YXIgaz1jLnZhbCgpLmxlbmd0aDtNYXRoLmNlaWwoay81KTtjLmF0dHIoXCJzaXplXCIsTWF0aC5tYXgodGhpcy5pbnB1dFNpemUsYy52YWwoKS5sZW5ndGgpKX0sZSkpLGUuJGNvbnRhaW5lci5vbihcImtleXByZXNzXCIsXCJpbnB1dFwiLGEucHJveHkoZnVuY3Rpb24oYil7dmFyIGM9YShiLnRhcmdldCk7aWYoZS4kZWxlbWVudC5hdHRyKFwiZGlzYWJsZWRcIikpcmV0dXJuIHZvaWQgZS4kaW5wdXQuYXR0cihcImRpc2FibGVkXCIsXCJkaXNhYmxlZFwiKTt2YXIgZD1jLnZhbCgpLGY9ZS5vcHRpb25zLm1heENoYXJzJiZkLmxlbmd0aD49ZS5vcHRpb25zLm1heENoYXJzO2Uub3B0aW9ucy5mcmVlSW5wdXQmJihnKGIsZS5vcHRpb25zLmNvbmZpcm1LZXlzKXx8ZikmJigwIT09ZC5sZW5ndGgmJihlLmFkZChmP2Quc3Vic3RyKDAsZS5vcHRpb25zLm1heENoYXJzKTpkKSxjLnZhbChcIlwiKSksZS5vcHRpb25zLmNhbmNlbENvbmZpcm1LZXlzT25FbXB0eT09PSExJiZiLnByZXZlbnREZWZhdWx0KCkpO3ZhciBoPWMudmFsKCkubGVuZ3RoO01hdGguY2VpbChoLzUpO2MuYXR0cihcInNpemVcIixNYXRoLm1heCh0aGlzLmlucHV0U2l6ZSxjLnZhbCgpLmxlbmd0aCkpfSxlKSksZS4kY29udGFpbmVyLm9uKFwiY2xpY2tcIixcIltkYXRhLXJvbGU9cmVtb3ZlXVwiLGEucHJveHkoZnVuY3Rpb24oYil7ZS4kZWxlbWVudC5hdHRyKFwiZGlzYWJsZWRcIil8fGUucmVtb3ZlKGEoYi50YXJnZXQpLmNsb3Nlc3QoXCIudGFnXCIpLmRhdGEoXCJpdGVtXCIpKX0sZSkpLGUub3B0aW9ucy5pdGVtVmFsdWU9PT1oLml0ZW1WYWx1ZSYmKFwiSU5QVVRcIj09PWUuJGVsZW1lbnRbMF0udGFnTmFtZT9lLmFkZChlLiRlbGVtZW50LnZhbCgpKTphKFwib3B0aW9uXCIsZS4kZWxlbWVudCkuZWFjaChmdW5jdGlvbigpe2UuYWRkKGEodGhpcykuYXR0cihcInZhbHVlXCIpLCEwKX0pKX0sZGVzdHJveTpmdW5jdGlvbigpe3ZhciBhPXRoaXM7YS4kY29udGFpbmVyLm9mZihcImtleXByZXNzXCIsXCJpbnB1dFwiKSxhLiRjb250YWluZXIub2ZmKFwiY2xpY2tcIixcIltyb2xlPXJlbW92ZV1cIiksYS4kY29udGFpbmVyLnJlbW92ZSgpLGEuJGVsZW1lbnQucmVtb3ZlRGF0YShcInRhZ3NpbnB1dFwiKSxhLiRlbGVtZW50LnNob3coKX0sZm9jdXM6ZnVuY3Rpb24oKXt0aGlzLiRpbnB1dC5mb2N1cygpfSxpbnB1dDpmdW5jdGlvbigpe3JldHVybiB0aGlzLiRpbnB1dH0sZmluZElucHV0V3JhcHBlcjpmdW5jdGlvbigpe2Zvcih2YXIgYj10aGlzLiRpbnB1dFswXSxjPXRoaXMuJGNvbnRhaW5lclswXTtiJiZiLnBhcmVudE5vZGUhPT1jOyliPWIucGFyZW50Tm9kZTtyZXR1cm4gYShiKX19LGEuZm4udGFnc2lucHV0PWZ1bmN0aW9uKGMsZCxlKXt2YXIgZj1bXTtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGc9YSh0aGlzKS5kYXRhKFwidGFnc2lucHV0XCIpO2lmKGcpaWYoY3x8ZCl7aWYodm9pZCAwIT09Z1tjXSl7aWYoMz09PWdbY10ubGVuZ3RoJiZ2b2lkIDAhPT1lKXZhciBoPWdbY10oZCxudWxsLGUpO2Vsc2UgdmFyIGg9Z1tjXShkKTt2b2lkIDAhPT1oJiZmLnB1c2goaCl9fWVsc2UgZi5wdXNoKGcpO2Vsc2UgZz1uZXcgYih0aGlzLGMpLGEodGhpcykuZGF0YShcInRhZ3NpbnB1dFwiLGcpLGYucHVzaChnKSxcIlNFTEVDVFwiPT09dGhpcy50YWdOYW1lJiZhKFwib3B0aW9uXCIsYSh0aGlzKSkuYXR0cihcInNlbGVjdGVkXCIsXCJzZWxlY3RlZFwiKSxhKHRoaXMpLnZhbChhKHRoaXMpLnZhbCgpKX0pLFwic3RyaW5nXCI9PXR5cGVvZiBjP2YubGVuZ3RoPjE/ZjpmWzBdOmZ9LGEuZm4udGFnc2lucHV0LkNvbnN0cnVjdG9yPWI7dmFyIGk9YShcIjxkaXYgLz5cIik7YShmdW5jdGlvbigpe2EoXCJpbnB1dFtkYXRhLXJvbGU9dGFnc2lucHV0XSwgc2VsZWN0W211bHRpcGxlXVtkYXRhLXJvbGU9dGFnc2lucHV0XVwiKS50YWdzaW5wdXQoKX0pfSh3aW5kb3cualF1ZXJ5KTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWJvb3RzdHJhcC10YWdzaW5wdXQubWluLmpzLm1hcFxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9ib290c3RyYXAtdGFnc2lucHV0L2Rpc3QvYm9vdHN0cmFwLXRhZ3NpbnB1dC5taW4uanNcbi8vIG1vZHVsZSBpZCA9IDUxXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsImlmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBicnV0dXNpbil3aW5kb3cuYnJ1dHVzaW49bmV3IE9iamVjdDtlbHNlIGlmKFwib2JqZWN0XCIhPXR5cGVvZiBicnV0dXNpbil0aHJvd1wiYnJ1dHVzaW4gZ2xvYmFsIHZhcmlhYmxlIGFscmVhZHkgZXhpc3RzXCI7IWZ1bmN0aW9uKCl7U3RyaW5nLnByb3RvdHlwZS5zdGFydHNXaXRofHwoU3RyaW5nLnByb3RvdHlwZS5zdGFydHNXaXRoPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQ9dHx8MCx0aGlzLmluZGV4T2YoZSx0KT09PXR9KSxTdHJpbmcucHJvdG90eXBlLmVuZHNXaXRofHwoU3RyaW5nLnByb3RvdHlwZS5lbmRzV2l0aD1mdW5jdGlvbihlLHQpe3ZhciByPXRoaXMudG9TdHJpbmcoKTsodm9pZCAwPT09dHx8dD5yLmxlbmd0aCkmJih0PXIubGVuZ3RoKSx0LT1lLmxlbmd0aDt2YXIgbj1yLmluZGV4T2YoZSx0KTtyZXR1cm4tMSE9PW4mJm49PT10fSksU3RyaW5nLnByb3RvdHlwZS5pbmNsdWRlc3x8KFN0cmluZy5wcm90b3R5cGUuaW5jbHVkZXM9ZnVuY3Rpb24oKXtcInVzZSBzdHJpY3RcIjtyZXR1cm4tMSE9PVN0cmluZy5wcm90b3R5cGUuaW5kZXhPZi5hcHBseSh0aGlzLGFyZ3VtZW50cyl9KSxTdHJpbmcucHJvdG90eXBlLmZvcm1hdHx8KFN0cmluZy5wcm90b3R5cGUuZm9ybWF0PWZ1bmN0aW9uKCl7Zm9yKHZhciBlPXRoaXMsdD0wO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciByPW5ldyBSZWdFeHAoXCJcXFxce1wiK3QrXCJcXFxcfVwiLFwiZ2lcIik7ZT1lLnJlcGxhY2Uocixhcmd1bWVudHNbdF0pfXJldHVybiBlfSk7dmFyIEJydXR1c2luRm9ybXM9bmV3IE9iamVjdDtCcnV0dXNpbkZvcm1zLm1lc3NhZ2VzPXt2YWxpZGF0aW9uRXJyb3I6XCJWYWxpZGF0aW9uIGVycm9yXCIscmVxdWlyZWQ6XCJUaGlzIGZpZWxkIGlzICoqcmVxdWlyZWQqKlwiLGludmFsaWRWYWx1ZTpcIkludmFsaWQgZmllbGQgdmFsdWVcIixhZGRwcm9wTmFtZUV4aXN0ZW50OlwiVGhpcyBwcm9wZXJ0eSBpcyBhbHJlYWR5IHByZXNlbnQgaW4gdGhlIG9iamVjdFwiLGFkZHByb3BOYW1lUmVxdWlyZWQ6XCJBIG5hbWUgaXMgcmVxdWlyZWRcIixtaW5JdGVtczpcIkF0IGxlYXN0IGB7MH1gIGl0ZW1zIGFyZSByZXF1aXJlZFwiLG1heEl0ZW1zOlwiQXQgbW9zdCBgezB9YCBpdGVtcyBhcmUgYWxsb3dlZFwiLHBhdHRlcm46XCJWYWx1ZSBkb2VzIG5vdCBtYXRjaCBwYXR0ZXJuOiBgezB9YFwiLG1pbkxlbmd0aDpcIlZhbHVlIG11c3QgYmUgKiphdCBsZWFzdCoqIGB7MH1gIGNoYXJhY3RlcnMgbG9uZ1wiLG1heExlbmd0aDpcIlZhbHVlIG11c3QgYmUgKiphdCBtb3N0KiogYHswfWAgY2hhcmFjdGVycyBsb25nXCIsbXVsdGlwbGVPZjpcIlZhbHVlIG11c3QgYmUgKiptdWx0aXBsZSBvZioqIGB7MH1gXCIsbWluaW11bTpcIlZhbHVlIG11c3QgYmUgKipncmVhdGVyIG9yIGVxdWFsIHRoYW4qKiBgezB9YFwiLGV4Y2x1c2l2ZU1pbmltdW06XCJWYWx1ZSBtdXN0IGJlICoqZ3JlYXRlciB0aGFuKiogYHswfWBcIixtYXhpbXVtOlwiVmFsdWUgbXVzdCBiZSAqKmxvd2VyIG9yIGVxdWFsIHRoYW4qKiBgezB9YFwiLGV4Y2x1c2l2ZU1heGltdW06XCJWYWx1ZSBtdXN0IGJlICoqbG93ZXIgdGhhbioqIGB7MH1gXCIsbWluUHJvcGVydGllczpcIkF0IGxlYXN0IGB7MH1gIHByb3BlcnRpZXMgYXJlIHJlcXVpcmVkXCIsbWF4UHJvcGVydGllczpcIkF0IG1vc3QgYHswfWAgcHJvcGVydGllcyBhcmUgYWxsb3dlZFwiLHVuaXF1ZUl0ZW1zOlwiQXJyYXkgaXRlbXMgbXVzdCBiZSB1bmlxdWVcIixhZGRJdGVtOlwiQWRkIGl0ZW1cIixcInRydWVcIjpcIlRydWVcIixcImZhbHNlXCI6XCJGYWxzZVwifSxCcnV0dXNpbkZvcm1zLmRlY29yYXRvcnM9bmV3IEFycmF5LEJydXR1c2luRm9ybXMuYWRkRGVjb3JhdG9yPWZ1bmN0aW9uKGUpe0JydXR1c2luRm9ybXMuZGVjb3JhdG9yc1tCcnV0dXNpbkZvcm1zLmRlY29yYXRvcnMubGVuZ3RoXT1lfSxCcnV0dXNpbkZvcm1zLm9uUmVzb2x1dGlvblN0YXJ0ZWQ9ZnVuY3Rpb24oZSl7fSxCcnV0dXNpbkZvcm1zLm9uUmVzb2x1dGlvbkZpbmlzaGVkPWZ1bmN0aW9uKGUpe30sQnJ1dHVzaW5Gb3Jtcy5vblZhbGlkYXRpb25FcnJvcj1mdW5jdGlvbihlLHQpe2UuZm9jdXMoKSxlLmNsYXNzTmFtZS5pbmNsdWRlcyhcIiBlcnJvclwiKXx8KGUuY2xhc3NOYW1lKz1cIiBlcnJvclwiKSxhbGVydCh0KX0sQnJ1dHVzaW5Gb3Jtcy5vblZhbGlkYXRpb25TdWNjZXNzPWZ1bmN0aW9uKGUpe2UuY2xhc3NOYW1lPWUuY2xhc3NOYW1lLnJlcGxhY2UoXCIgZXJyb3JcIixcIlwiKX0sQnJ1dHVzaW5Gb3Jtcy5wb3N0UmVuZGVyPW51bGwsQnJ1dHVzaW5Gb3Jtcy5pbnN0YW5jZXM9bmV3IEFycmF5LEJydXR1c2luRm9ybXMuY3JlYXRlPWZ1bmN0aW9uKHNjaGVtYSl7ZnVuY3Rpb24gdmFsaWRhdGVEZXBlbmN5TWFwSXNBY3ljbGljKCl7ZnVuY3Rpb24gZSh0LHIsbil7aWYoci5oYXNPd25Qcm9wZXJ0eShuKSlyZXR1cm4gdm9pZChlcnJvcj1cIlNjaGVtYSBkZXBlbmRlbmN5IGdyYXBoIGhhcyBjeWNsZXNcIik7aWYocltuXT1udWxsLCF0Lmhhc093blByb3BlcnR5KG4pKXt0W25dPW51bGw7dmFyIGE9ZGVwZW5kZW5jeU1hcFtuXTtpZihhKWZvcih2YXIgaT0wO2k8YS5sZW5ndGg7aSsrKWUodCxyLGFbaV0pO2RlbGV0ZSByW25dfX12YXIgdD1uZXcgT2JqZWN0O2Zvcih2YXIgciBpbiBkZXBlbmRlbmN5TWFwKXQuaGFzT3duUHJvcGVydHkocil8fGUodCxuZXcgT2JqZWN0LHIpfWZ1bmN0aW9uIGFwcGVuZENoaWxkKGUsdCxyKXtlLmFwcGVuZENoaWxkKHQpO2Zvcih2YXIgbj0wO248QnJ1dHVzaW5Gb3Jtcy5kZWNvcmF0b3JzLmxlbmd0aDtuKyspQnJ1dHVzaW5Gb3Jtcy5kZWNvcmF0b3JzW25dKHQscil9ZnVuY3Rpb24gY3JlYXRlUHNldWRvU2NoZW1hKGUpe3ZhciB0PW5ldyBPYmplY3Q7Zm9yKHZhciByIGluIGUpXCJpdGVtc1wiIT09ciYmXCJwcm9wZXJ0aWVzXCIhPT1yJiZcImFkZGl0aW9uYWxQcm9wZXJ0aWVzXCIhPT1yJiYoXCJwYXR0ZXJuXCI9PT1yP3Rbcl09bmV3IFJlZ0V4cChlW3JdKTp0W3JdPWVbcl0pO3JldHVybiB0fWZ1bmN0aW9uIGdldERlZmluaXRpb24oZSl7dmFyIHQ9ZS5zcGxpdChcIi9cIikscj1yb290O2Zvcih2YXIgbiBpbiB0KVwiMFwiIT09biYmKHI9clt0W25dXSk7cmV0dXJuIHJ9ZnVuY3Rpb24gY29udGFpbnNTdHIoZSx0KXtmb3IodmFyIHI9MDtyPGUubGVuZ3RoO3IrKylpZihlW3JdPT10KXJldHVybiEwO3JldHVybiExfWZ1bmN0aW9uIHJlbmFtZVJlcXVpcmVkUHJvcGV0aWVzKGUpe2lmKGUpaWYoZS5oYXNPd25Qcm9wZXJ0eShcIm9uZU9mXCIpKWZvcih2YXIgdCBpbiBlLm9uZU9mKXJlbmFtZVJlcXVpcmVkUHJvcGV0aWVzKGUub25lT2ZbdF0pO2Vsc2UgaWYoZS5oYXNPd25Qcm9wZXJ0eShcIiRyZWZcIikpe3ZhciByPWdldERlZmluaXRpb24oZS4kcmVmKTtyZW5hbWVSZXF1aXJlZFByb3BldGllcyhyKX1lbHNlIGlmKFwib2JqZWN0XCI9PT1lLnR5cGUpe2lmKGUucHJvcGVydGllcyl7ZS5oYXNPd25Qcm9wZXJ0eShcInJlcXVpcmVkXCIpJiZBcnJheS5pc0FycmF5KGUucmVxdWlyZWQpJiYoZS5yZXF1aXJlZFByb3BlcnRpZXM9ZS5yZXF1aXJlZCxkZWxldGUgZS5yZXF1aXJlZCk7Zm9yKHZhciBuIGluIGUucHJvcGVydGllcylyZW5hbWVSZXF1aXJlZFByb3BldGllcyhlLnByb3BlcnRpZXNbbl0pfWlmKGUucGF0dGVyblByb3BlcnRpZXMpZm9yKHZhciBhIGluIGUucGF0dGVyblByb3BlcnRpZXMpe3ZhciBpPWUucGF0dGVyblByb3BlcnRpZXNbYV07KGkuaGFzT3duUHJvcGVydHkoXCJ0eXBlXCIpfHxpLmhhc093blByb3BlcnR5KFwiJHJlZlwiKXx8aS5oYXNPd25Qcm9wZXJ0eShcIm9uZU9mXCIpKSYmcmVuYW1lUmVxdWlyZWRQcm9wZXRpZXMoZS5wYXR0ZXJuUHJvcGVydGllc1thXSl9ZS5hZGRpdGlvbmFsUHJvcGVydGllcyYmKGUuYWRkaXRpb25hbFByb3BlcnRpZXMuaGFzT3duUHJvcGVydHkoXCJ0eXBlXCIpfHxlLmFkZGl0aW9uYWxQcm9wZXJ0aWVzLmhhc093blByb3BlcnR5KFwib25lT2ZcIikpJiZyZW5hbWVSZXF1aXJlZFByb3BldGllcyhlLmFkZGl0aW9uYWxQcm9wZXJ0aWVzKX1lbHNlXCJhcnJheVwiPT09ZS50eXBlJiZyZW5hbWVSZXF1aXJlZFByb3BldGllcyhlLml0ZW1zKX1mdW5jdGlvbiBwb3B1bGF0ZVNjaGVtYU1hcChlLHQpe3ZhciByPWNyZWF0ZVBzZXVkb1NjaGVtYSh0KTtpZihyLiRpZD1lLHNjaGVtYU1hcFtlXT1yLHQpe2lmKHQuaGFzT3duUHJvcGVydHkoXCJvbmVPZlwiKSl7ci5vbmVPZj1uZXcgQXJyYXksci50eXBlPVwib25lT2ZcIjtmb3IodmFyIG4gaW4gdC5vbmVPZil7dmFyIGE9ZStcIi5cIituO3Iub25lT2Zbbl09YSxwb3B1bGF0ZVNjaGVtYU1hcChhLHQub25lT2Zbbl0pfX1lbHNlIGlmKHQuaGFzT3duUHJvcGVydHkoXCIkcmVmXCIpKXt2YXIgaT1nZXREZWZpbml0aW9uKHQuJHJlZik7aWYoaSl7aWYodC5oYXNPd25Qcm9wZXJ0eShcInRpdGxlXCIpfHx0Lmhhc093blByb3BlcnR5KFwiZGVzY3JpcHRpb25cIikpe3ZhciBvPXt9O2Zvcih2YXIgcyBpbiBpKW9bc109aVtzXTt0Lmhhc093blByb3BlcnR5KFwidGl0bGVcIikmJihvLnRpdGxlPXQudGl0bGUpLHQuaGFzT3duUHJvcGVydHkoXCJkZXNjcmlwdGlvblwiKSYmKG8uZGVzY3JpcHRpb249dC5kZXNjcmlwdGlvbiksaT1vfXBvcHVsYXRlU2NoZW1hTWFwKGUsaSl9fWVsc2UgaWYoXCJvYmplY3RcIj09PXQudHlwZSl7aWYodC5wcm9wZXJ0aWVzKXtyLnByb3BlcnRpZXM9bmV3IE9iamVjdDtmb3IodmFyIHMgaW4gdC5wcm9wZXJ0aWVzKXt2YXIgYT1lK1wiLlwiK3M7ci5wcm9wZXJ0aWVzW3NdPWE7dmFyIHU9dC5wcm9wZXJ0aWVzW3NdO3QucmVxdWlyZWRQcm9wZXJ0aWVzJiYoY29udGFpbnNTdHIodC5yZXF1aXJlZFByb3BlcnRpZXMscyk/dS5yZXF1aXJlZD0hMDp1LnJlcXVpcmVkPSExKSxwb3B1bGF0ZVNjaGVtYU1hcChhLHUpfX1pZih0LnBhdHRlcm5Qcm9wZXJ0aWVzKXtyLnBhdHRlcm5Qcm9wZXJ0aWVzPW5ldyBPYmplY3Q7Zm9yKHZhciBsIGluIHQucGF0dGVyblByb3BlcnRpZXMpe3ZhciBkPWUrXCJbXCIrbCtcIl1cIjtyLnBhdHRlcm5Qcm9wZXJ0aWVzW2xdPWQ7dmFyIHA9dC5wYXR0ZXJuUHJvcGVydGllc1tsXTtwLmhhc093blByb3BlcnR5KFwidHlwZVwiKXx8cC5oYXNPd25Qcm9wZXJ0eShcIiRyZWZcIil8fHAuaGFzT3duUHJvcGVydHkoXCJvbmVPZlwiKT9wb3B1bGF0ZVNjaGVtYU1hcChkLHQucGF0dGVyblByb3BlcnRpZXNbbF0pOnBvcHVsYXRlU2NoZW1hTWFwKGQsU0NIRU1BX0FOWSl9fWlmKHQuYWRkaXRpb25hbFByb3BlcnRpZXMpe3ZhciBhPWUrXCJbKl1cIjtyLmFkZGl0aW9uYWxQcm9wZXJ0aWVzPWEsdC5hZGRpdGlvbmFsUHJvcGVydGllcy5oYXNPd25Qcm9wZXJ0eShcInR5cGVcIil8fHQuYWRkaXRpb25hbFByb3BlcnRpZXMuaGFzT3duUHJvcGVydHkoXCJvbmVPZlwiKT9wb3B1bGF0ZVNjaGVtYU1hcChhLHQuYWRkaXRpb25hbFByb3BlcnRpZXMpOnBvcHVsYXRlU2NoZW1hTWFwKGEsU0NIRU1BX0FOWSl9fWVsc2VcImFycmF5XCI9PT10LnR5cGUmJihyLml0ZW1zPWUrXCJbI11cIixwb3B1bGF0ZVNjaGVtYU1hcChyLml0ZW1zLHQuaXRlbXMpKTtpZih0Lmhhc093blByb3BlcnR5KFwiZGVwZW5kc09uXCIpKXtudWxsPT09dC5kZXBlbmRzT24mJih0LmRlcGVuZHNPbj1bXCIkXCJdKTtmb3IodmFyIGM9bmV3IEFycmF5LG49MDtuPHQuZGVwZW5kc09uLmxlbmd0aDtuKyspdC5kZXBlbmRzT25bbl0/dC5kZXBlbmRzT25bbl0uc3RhcnRzV2l0aChcIiRcIik/Y1tuXT10LmRlcGVuZHNPbltuXTplLmVuZHNXaXRoKFwiXVwiKT9jW25dPWUrXCIuXCIrdC5kZXBlbmRzT25bbl06Y1tuXT1lLnN1YnN0cmluZygwLGUubGFzdEluZGV4T2YoXCIuXCIpKStcIi5cIit0LmRlcGVuZHNPbltuXTpjW25dPVwiJFwiO3NjaGVtYU1hcFtlXS5kZXBlbmRzT249Yztmb3IodmFyIG49MDtuPGMubGVuZ3RoO24rKyl7dmFyIG09ZGVwZW5kZW5jeU1hcFtjW25dXTttfHwobT1uZXcgQXJyYXksZGVwZW5kZW5jeU1hcFtjW25dXT1tKSxtW20ubGVuZ3RoXT1lfX19fWZ1bmN0aW9uIHJlbmRlclRpdGxlKGUsdCxyKXtpZihlJiZ0KXt2YXIgbj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGFiZWxcIik7XCJhbnlcIiE9PXIudHlwZSYmXCJvYmplY3RcIiE9PXIudHlwZSYmXCJhcnJheVwiIT09ci50eXBlJiYobi5odG1sRm9yPWdldElucHV0SWQoKSk7dmFyIGE9ZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUodCtcIjpcIik7aWYoYXBwZW5kQ2hpbGQobixhLHIpLHIuZGVzY3JpcHRpb24mJihuLnRpdGxlPXIuZGVzY3JpcHRpb24pLHIucmVxdWlyZWQpe3ZhciBpPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdXBcIik7YXBwZW5kQ2hpbGQoaSxkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShcIipcIiksciksYXBwZW5kQ2hpbGQobixpLHIpLG4uY2xhc3NOYW1lPVwicmVxdWlyZWRcIn1hcHBlbmRDaGlsZChlLG4scil9fWZ1bmN0aW9uIGdldElucHV0SWQoKXtyZXR1cm4gZm9ybUlkK1wiX1wiK2lucHV0Q291bnRlcn1mdW5jdGlvbiB2YWxpZGF0ZShlKXt2YXIgdD0hMDtpZihlLmhhc093blByb3BlcnR5KFwiZ2V0VmFsaWRhdGlvbkVycm9yXCIpKXt2YXIgcj1lLmdldFZhbGlkYXRpb25FcnJvcigpO3I/KEJydXR1c2luRm9ybXMub25WYWxpZGF0aW9uRXJyb3IoZSxyKSx0PSExKTpCcnV0dXNpbkZvcm1zLm9uVmFsaWRhdGlvblN1Y2Nlc3MoZSl9aWYoZS5jaGlsZE5vZGVzKWZvcih2YXIgbj0wO248ZS5jaGlsZE5vZGVzLmxlbmd0aDtuKyspdmFsaWRhdGUoZS5jaGlsZE5vZGVzW25dKXx8KHQ9ITEpO3JldHVybiB0fWZ1bmN0aW9uIGNsZWFyKGUpe2lmKGUpZm9yKDtlLmZpcnN0Q2hpbGQ7KWUucmVtb3ZlQ2hpbGQoZS5maXJzdENoaWxkKX1mdW5jdGlvbiByZW5kZXIoZSx0LHIsbixhLGkpe3ZhciBvPWdldFNjaGVtYUlkKHIpLHM9Z2V0U2NoZW1hKG8pO3JlbmRlckluZm9NYXBbb109bmV3IE9iamVjdCxyZW5kZXJJbmZvTWFwW29dLnRpdGxlQ29udGFpbmVyPWUscmVuZGVySW5mb01hcFtvXS5jb250YWluZXI9dCxyZW5kZXJJbmZvTWFwW29dLnBhcmVudE9iamVjdD1uLHJlbmRlckluZm9NYXBbb10ucHJvcGVydHlQcm92aWRlcj1hLHJlbmRlckluZm9NYXBbb10udmFsdWU9aSxjbGVhcihlKSxjbGVhcih0KTt2YXIgdT1yZW5kZXJlcnNbcy50eXBlXTtpZih1JiYhcy5kZXBlbmRzT24pcy50aXRsZT9yZW5kZXJUaXRsZShlLHMudGl0bGUscyk6YSYmcmVuZGVyVGl0bGUoZSxhLmdldFZhbHVlKCkscyksaXx8KGk9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGluaXRpYWxWYWx1ZSYmbnVsbCE9PWluaXRpYWxWYWx1ZT9nZXRJbml0aWFsVmFsdWUocik6c1tcImRlZmF1bHRcIl0pLHUodCxyLG4sYSxpKTtlbHNlIGlmKHMuJHJlZiYmb2JqLnNjaGVtYVJlc29sdmVyKXt2YXIgbD1mdW5jdGlvbihlKXtpZihlJiZlLmhhc093blByb3BlcnR5KHIpJiZKU09OLnN0cmluZ2lmeShzY2hlbWFNYXBbcl0pIT09SlNPTi5zdHJpbmdpZnkoZVtyXSkpe2NsZWFuU2NoZW1hTWFwKHIpLGNsZWFuRGF0YShyKSxwb3B1bGF0ZVNjaGVtYU1hcChyLGVbcl0pO3ZhciB0PXJlbmRlckluZm9NYXBbcl07dCYmcmVuZGVyKHQudGl0bGVDb250YWluZXIsdC5jb250YWluZXIscix0LnBhcmVudE9iamVjdCx0LnByb3BlcnR5UHJvdmlkZXIsdC52YWx1ZSl9QnJ1dHVzaW5Gb3Jtcy5vblJlc29sdXRpb25GaW5pc2hlZChuKX07QnJ1dHVzaW5Gb3Jtcy5vblJlc29sdXRpb25TdGFydGVkKG4pLG9iai5zY2hlbWFSZXNvbHZlcihbcl0sb2JqLmdldERhdGEoKSxsKX19ZnVuY3Rpb24gY3JlYXRlUHJvcGVydHlQcm92aWRlcihlLHQpe3ZhciByPW5ldyBPYmplY3Q7cmV0dXJuIHIuZ2V0VmFsdWU9ZSxyLm9uY2hhbmdlPXQscn1mdW5jdGlvbiBnZXRJbml0aWFsVmFsdWUoaWQpe3ZhciByZXQ7dHJ5e2V2YWwoXCJyZXQgPSBpbml0aWFsVmFsdWVcIitpZC5zdWJzdHJpbmcoMSkpfWNhdGNoKGUpe3JldD1udWxsfXJldHVybiByZXR9ZnVuY3Rpb24gZ2V0VmFsdWUoc2NoZW1hLGlucHV0KXtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBpbnB1dC5nZXRWYWx1ZSlyZXR1cm4gaW5wdXQuZ2V0VmFsdWUoKTt2YXIgdmFsdWU7cmV0dXJuIHZhbHVlPVwic2VsZWN0XCI9PT1pbnB1dC50YWdOYW1lLnRvTG93ZXJDYXNlKCk/aW5wdXQub3B0aW9uc1tpbnB1dC5zZWxlY3RlZEluZGV4XS52YWx1ZTppbnB1dC52YWx1ZSxcIlwiPT09dmFsdWU/bnVsbDooXCJpbnRlZ2VyXCI9PT1zY2hlbWEudHlwZT8odmFsdWU9cGFyc2VJbnQodmFsdWUpLGlzRmluaXRlKHZhbHVlKXx8KHZhbHVlPW51bGwpKTpcIm51bWJlclwiPT09c2NoZW1hLnR5cGU/KHZhbHVlPXBhcnNlRmxvYXQodmFsdWUpLGlzRmluaXRlKHZhbHVlKXx8KHZhbHVlPW51bGwpKTpcImJvb2xlYW5cIj09PXNjaGVtYS50eXBlP1wiaW5wdXRcIj09PWlucHV0LnRhZ05hbWUudG9Mb3dlckNhc2UoKT8odmFsdWU9aW5wdXQuY2hlY2tlZCx2YWx1ZXx8KHZhbHVlPSExKSk6XCJzZWxlY3RcIj09PWlucHV0LnRhZ05hbWUudG9Mb3dlckNhc2UoKSYmKHZhbHVlPVwidHJ1ZVwiPT09aW5wdXQudmFsdWU/ITA6XCJmYWxzZVwiPT09aW5wdXQudmFsdWU/ITE6bnVsbCk6XCJhbnlcIj09PXNjaGVtYS50eXBlJiZ2YWx1ZSYmZXZhbChcInZhbHVlPVwiK3ZhbHVlKSx2YWx1ZSl9ZnVuY3Rpb24gZ2V0U2NoZW1hSWQoZSl7cmV0dXJuIGUucmVwbGFjZSgvXFxbXCJbXlwiXSpcIlxcXS9nLFwiWypdXCIpLnJlcGxhY2UoL1xcW1xcZCpcXF0vZyxcIlsjXVwiKX1mdW5jdGlvbiBnZXRQYXJlbnRTY2hlbWFJZChlKXtyZXR1cm4gZS5zdWJzdHJpbmcoMCxlLmxhc3RJbmRleE9mKFwiLlwiKSl9ZnVuY3Rpb24gZ2V0U2NoZW1hKGUpe3JldHVybiBzY2hlbWFNYXBbZV19ZnVuY3Rpb24gY2xlYW5TY2hlbWFNYXAoZSl7Zm9yKHZhciB0IGluIHNjaGVtYU1hcCllLnN0YXJ0c1dpdGgodCkmJmRlbGV0ZSBzY2hlbWFNYXBbdF19ZnVuY3Rpb24gY2xlYW5EYXRhKGUpe3ZhciB0PW5ldyBFeHByZXNzaW9uKGUpO3QudmlzaXQoZGF0YSxmdW5jdGlvbihlLHQscil7ZGVsZXRlIHRbcl19KX1mdW5jdGlvbiBvbkRlcGVuZGVuY3lDaGFuZ2VkKGUsdCl7dmFyIHI9ZGVwZW5kZW5jeU1hcFtlXTtpZihyJiZvYmouc2NoZW1hUmVzb2x2ZXIpe3ZhciBuPWZ1bmN0aW9uKGUpe2lmKGUpZm9yKHZhciByIGluIGUpaWYoSlNPTi5zdHJpbmdpZnkoc2NoZW1hTWFwW3JdKSE9PUpTT04uc3RyaW5naWZ5KGVbcl0pKXtjbGVhblNjaGVtYU1hcChyKSxjbGVhbkRhdGEocikscG9wdWxhdGVTY2hlbWFNYXAocixlW3JdKTt2YXIgbj1yZW5kZXJJbmZvTWFwW3JdO24mJnJlbmRlcihuLnRpdGxlQ29udGFpbmVyLG4uY29udGFpbmVyLHIsbi5wYXJlbnRPYmplY3Qsbi5wcm9wZXJ0eVByb3ZpZGVyLG4udmFsdWUpfUJydXR1c2luRm9ybXMub25SZXNvbHV0aW9uRmluaXNoZWQodCl9O0JydXR1c2luRm9ybXMub25SZXNvbHV0aW9uU3RhcnRlZCh0KSxvYmouc2NoZW1hUmVzb2x2ZXIocixvYmouZ2V0RGF0YSgpLG4pfX1mdW5jdGlvbiBFeHByZXNzaW9uKGUpe2Z1bmN0aW9uIHQoZSl7aWYobnVsbD09PWUpcmV0dXJuIG51bGw7Zm9yKHZhciB0PW5ldyBBcnJheSxyPW51bGwsbj0wLGE9MDthPGUubGVuZ3RoO2ErKyknXCInPT09ZS5jaGFyQXQoYSk/bnVsbD09PXI/cj0nXCInOidcIic9PT1yJiYocj1udWxsLHRbdC5sZW5ndGhdPWUuc3Vic3RyaW5nKG4sYSsxKS50cmltKCksbj1hKzEpOlwiJ1wiPT09ZS5jaGFyQXQoYSk/bnVsbD09PXI/cj1cIidcIjpcIidcIj09PXImJihyPW51bGwsdFt0Lmxlbmd0aF09ZS5zdWJzdHJpbmcobixhKzEpLnRyaW0oKSxuPWErMSk6XCJbXCI9PT1lLmNoYXJBdChhKT9udWxsPT09ciYmKG4hPT1hJiYodFt0Lmxlbmd0aF09ZS5zdWJzdHJpbmcobixhKS50cmltKCkpLHRbdC5sZW5ndGhdPVwiW1wiLG49YSsxKTpcIl1cIj09PWUuY2hhckF0KGEpP251bGw9PT1yJiYobiE9PWEmJih0W3QubGVuZ3RoXT1lLnN1YnN0cmluZyhuLGEpLnRyaW0oKSksdFt0Lmxlbmd0aF09XCJdXCIsbj1hKzEpOlwiLlwiPT09ZS5jaGFyQXQoYSk/bnVsbD09PXImJihuIT09YSYmKHRbdC5sZW5ndGhdPWUuc3Vic3RyaW5nKG4sYSkudHJpbSgpKSxuPWErMSk6YT09PWUubGVuZ3RoLTEmJih0W3QubGVuZ3RoXT1lLnN1YnN0cmluZyhuLGErMSkudHJpbSgpKTtyZXR1cm4gdH0obnVsbD09PWV8fDA9PT1lLmxlbmd0aHx8XCIuXCI9PT1lKSYmKGU9XCIkXCIpO2Zvcih2YXIgcj1uZXcgQXJyYXksbj10KGUpLGE9ITEsaT0wLG89XCJcIixzPTA7czxuLmxlbmd0aDtzKyspe3ZhciB1PW5bc107aWYoXCJbXCI9PT11KXtpZihhKXRocm93XCJFcnJvciBwYXJzaW5nIGV4cHJlc3Npb24gJ1wiK2UrXCInOiBOZXN0ZWQgWyBmb3VuZFwiO2E9ITAsaT0wLG8rPXV9ZWxzZSBpZihcIl1cIj09PXUpe2lmKCFhKXRocm93XCJFcnJvciBwYXJzaW5nIGV4cHJlc3Npb24gJ1wiK2UrXCInOiBVbmJhbGFuY2VkIF0gZm91bmRcIjthPSExLG8rPXUscltyLmxlbmd0aF09byxvPVwiXCJ9ZWxzZSBpZihhKXtpZihpPjApdGhyb3dcIkVycm9yIHBhcnNpbmcgZXhwcmVzc2lvbiAnXCIrZStcIic6IE11bHRpcGxlIHRva2VucyBmb3VuZCBpbnNpZGUgYSBicmFja2V0XCI7bys9dSxpKyt9ZWxzZSByW3IubGVuZ3RoXT11O2lmKHM9PT1uLmxlbmd0aC0xJiZhKXRocm93XCJFcnJvciBwYXJzaW5nIGV4cHJlc3Npb24gJ1wiK2UrXCInOiBVbmJhbGFuY2VkIFsgZm91bmRcIn10aGlzLmV4cD1lLHRoaXMucXVldWU9cix0aGlzLnZpc2l0PWZ1bmN0aW9uKGUsdCl7ZnVuY3Rpb24gcihlLG4sYSxpLG8pe2lmKG51bGwhPWEpe3ZhciBzPW4uc2hpZnQoKTtpZihcIiRcIj09PXMpe2U9XCIkXCI7dmFyIHM9bi5zaGlmdCgpfWlmKHMpaWYoQXJyYXkuaXNBcnJheShhKSl7aWYoIXMuc3RhcnRzV2l0aChcIltcIikpdGhyb3dcIk5vZGUgJ1wiK2UrXCInIGlzIG9mIHR5cGUgYXJyYXlcIjt2YXIgdT1zLnN1YnN0cmluZygxLHMubGVuZ3RoLTEpO2lmKHUuZXF1YWxzKFwiI1wiKSlmb3IodmFyIGw9MDtsPGEubGVuZ3RoO2wrKyl7dmFyIGQ9YVtsXTtyKGUrcyxuLnNsaWNlKDApLGQsYSxsKSxyKGUrXCJbXCIrbCtcIl1cIixuLnNsaWNlKDApLGQsYSxsKX1lbHNlIGlmKFwiJFwiPT09dSl7dmFyIGQ9YVthLmxlbmd0aC0xXTtyKGUrcyxuLnNsaWNlKDApLGQsYSxhLmxlbmd0aC0xKX1lbHNle3ZhciBwPXBhcnNlSW50KHUpO2lmKGlzTmFOKHApKXRocm93XCJFbGVtZW50ICdcIit1K1wiJyBvZiBub2RlICdcIitlK1wiJyBpcyBub3QgYW4gaW50ZWdlciwgb3IgdGhlICckJyBsYXN0IGVsZW1lbnQgc3ltYm9sLCAgb3IgdGhlIHdpbGNhcmQgc3ltYm9sICcjJ1wiO2lmKDA+cCl0aHJvd1wiRWxlbWVudCAnXCIrdStcIicgb2Ygbm9kZSAnXCIrZStcIicgaXMgbG93ZXIgdGhhbiB6ZXJvXCI7dmFyIGQ9YVtwXTtyKGUrcyxuLnNsaWNlKDApLGQsYSxwKX19ZWxzZXtpZihcIm9iamVjdFwiIT10eXBlb2YgYSl0aHJvd1wiYm9vbGVhblwiPT10eXBlb2YgYXx8XCJudW1iZXJcIj09dHlwZW9mIGF8fFwic3RyaW5nXCI9PXR5cGVvZiBhP1wiTm9kZSBpcyBsZWFmIGJ1dCBzdGlsbCBhcmUgdG9rZW5zIHJlbWFpbmluZzogXCIrczpcIk5vZGUgdHlwZSAnXCIrdHlwZW9mIGErXCInIG5vdCBzdXBwb3J0ZWQgZm9yIGluZGV4IGZpZWxkICdcIitlK1wiJ1wiO2lmKFwiWypdXCI9PT1zKWZvcih2YXIgYyBpbiBhKXt2YXIgZD1hW2NdO3IoZStzLG4uc2xpY2UoMCksZCxhLGMpLHIoZSsnW1wiJytjKydcIl0nLG4uc2xpY2UoMCksZCxhLGMpfWVsc2V7dmFyIGQ7aWYocy5zdGFydHNXaXRoKFwiW1wiKSl7dmFyIHU9cy5zdWJzdHJpbmcoMSxzLmxlbmd0aC0xKTtpZighdS5zdGFydHNXaXRoKCdcIicpJiYhdS5zdGFydHNXaXRoKFwiJ1wiKSl0aHJvd1wiRWxlbWVudCAnXCIrdStcIicgb2Ygbm9kZSAnXCIrZStcIicgbXVzdCBiZSBhIHN0cmluZyBleHByZXNzaW9uIG9yIHdpbGNhcmQgJyonXCI7dT11LnN1YnN0cmluZygxLHUubGVuZ3RoKCktMSksZSs9cyxkPWFbdV19ZWxzZSBlPWUubGVuZ3RoPjA/ZStcIi5cIitzOnMsZD1hW3NdO3IoZSxuLGQsYSxzKX19ZWxzZSB0KGEsaSxvKX19cih0aGlzLmV4cCx0aGlzLnF1ZXVlLGUpfX12YXIgU0NIRU1BX0FOWT17dHlwZTpcImFueVwifSxvYmo9bmV3IE9iamVjdCxzY2hlbWFNYXA9bmV3IE9iamVjdCxkZXBlbmRlbmN5TWFwPW5ldyBPYmplY3QscmVuZGVySW5mb01hcD1uZXcgT2JqZWN0LGNvbnRhaW5lcixkYXRhLGVycm9yLGluaXRpYWxWYWx1ZSxpbnB1dENvdW50ZXI9MCxyb290PXNjaGVtYSxmb3JtSWQ9XCJCcnV0dXNpbkZvcm1zI1wiK0JydXR1c2luRm9ybXMuaW5zdGFuY2VzLmxlbmd0aDtyZW5hbWVSZXF1aXJlZFByb3BldGllcyhzY2hlbWEpLHBvcHVsYXRlU2NoZW1hTWFwKFwiJFwiLHNjaGVtYSksdmFsaWRhdGVEZXBlbmN5TWFwSXNBY3ljbGljKCk7dmFyIHJlbmRlcmVycz1uZXcgT2JqZWN0O3JldHVybiByZW5kZXJlcnMuaW50ZWdlcj1mdW5jdGlvbihlLHQscixuLGEpe3JlbmRlcmVycy5zdHJpbmcoZSx0LHIsbixhKX0scmVuZGVyZXJzLm51bWJlcj1mdW5jdGlvbihlLHQscixuLGEpe3JlbmRlcmVycy5zdHJpbmcoZSx0LHIsbixhKX0scmVuZGVyZXJzLmFueT1mdW5jdGlvbihlLHQscixuLGEpe3JlbmRlcmVycy5zdHJpbmcoZSx0LHIsbixhKX0scmVuZGVyZXJzLnN0cmluZz1mdW5jdGlvbihlLHQscixuLGEpe3ZhciBpLG89Z2V0U2NoZW1hSWQodCkscz1nZXRQYXJlbnRTY2hlbWFJZChvKSx1PWdldFNjaGVtYShvKSxsPWdldFNjaGVtYShzKTtpZihcImFueVwiPT09dS50eXBlKWk9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRleHRhcmVhXCIpLGEmJihpLnZhbHVlPUpTT04uc3RyaW5naWZ5KGEsbnVsbCw0KSx1LnJlYWRPbmx5JiYoaS5kaXNhYmxlZD0hMCkpO2Vsc2UgaWYodS5tZWRpYSlpPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKSxpLnR5cGU9XCJmaWxlXCIsYXBwZW5kQ2hpbGQoaSxkLHUpO2Vsc2UgaWYodVtcImVudW1cIl0pe2lmKGk9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNlbGVjdFwiKSwhdS5yZXF1aXJlZCl7dmFyIGQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIm9wdGlvblwiKSxwPWRvY3VtZW50LmNyZWF0ZVRleHROb2RlKFwiXCIpO2QudmFsdWU9XCJcIixhcHBlbmRDaGlsZChkLHAsdSksYXBwZW5kQ2hpbGQoaSxkLHUpfWZvcih2YXIgYz0wLG09MDttPHVbXCJlbnVtXCJdLmxlbmd0aDttKyspe3ZhciBkPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJvcHRpb25cIikscD1kb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSh1W1wiZW51bVwiXVttXSk7ZC52YWx1ZT11W1wiZW51bVwiXVttXSxhcHBlbmRDaGlsZChkLHAsdSksYXBwZW5kQ2hpbGQoaSxkLHUpLGEmJnVbXCJlbnVtXCJdW21dPT09YSYmKGM9bSx1LnJlcXVpcmVkfHxjKyssdS5yZWFkT25seSYmKGkuZGlzYWJsZWQ9ITApKX0xPT09dVtcImVudW1cIl0ubGVuZ3RoP2kuc2VsZWN0ZWRJbmRleD0xOmkuc2VsZWN0ZWRJbmRleD1jfWVsc2V7aWYoaT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIiksXCJpbnRlZ2VyXCI9PT11LnR5cGV8fFwibnVtYmVyXCI9PT11LnR5cGUpaS50eXBlPVwibnVtYmVyXCIsaS5zdGVwPXUuc3RlcD9cIlwiK3Uuc3RlcDpcImFueVwiLFwibnVtYmVyXCIhPXR5cGVvZiBhJiYoYT1udWxsKTtlbHNlIGlmKFwiZGF0ZS10aW1lXCI9PT11LmZvcm1hdCl0cnl7aS50eXBlPVwiZGF0ZXRpbWUtbG9jYWxcIn1jYXRjaChmKXtpLnR5cGU9XCJ0ZXh0XCJ9ZWxzZVwiZW1haWxcIj09PXUuZm9ybWF0P2kudHlwZT1cImVtYWlsXCI6XCJ0ZXh0XCI9PT11LmZvcm1hdD9pPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0ZXh0YXJlYVwiKTppLnR5cGU9XCJ0ZXh0XCI7bnVsbCE9PWEmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBhJiYoaS52YWx1ZT1hLHUucmVhZE9ubHkmJihpLmRpc2FibGVkPSEwKSl9cmV0dXJuIGkuc2NoZW1hPW8saS5zZXRBdHRyaWJ1dGUoXCJhdXRvY29ycmVjdFwiLFwib2ZmXCIpLGkuZ2V0VmFsaWRhdGlvbkVycm9yPWZ1bmN0aW9uKCl7dHJ5e3ZhciBlPWdldFZhbHVlKHUsaSk7aWYobnVsbD09PWUpe2lmKHUucmVxdWlyZWQpe2lmKCFsfHxcIm9iamVjdFwiIT09bC50eXBlKXJldHVybiBCcnV0dXNpbkZvcm1zLm1lc3NhZ2VzLnJlcXVpcmVkO2lmKGwucmVxdWlyZWQpcmV0dXJuIEJydXR1c2luRm9ybXMubWVzc2FnZXMucmVxdWlyZWQ7Zm9yKHZhciB0IGluIHIpaWYobnVsbCE9PXJbdF0pcmV0dXJuIEJydXR1c2luRm9ybXMubWVzc2FnZXMucmVxdWlyZWR9fWVsc2V7aWYodS5wYXR0ZXJuJiYhdS5wYXR0ZXJuLnRlc3QoZSkpcmV0dXJuIEJydXR1c2luRm9ybXMubWVzc2FnZXMucGF0dGVybi5mb3JtYXQodS5wYXR0ZXJuLnNvdXJjZSk7aWYodS5taW5MZW5ndGgmJighZXx8dS5taW5MZW5ndGg+ZS5sZW5ndGgpKXJldHVybiBCcnV0dXNpbkZvcm1zLm1lc3NhZ2VzLm1pbkxlbmd0aC5mb3JtYXQodS5taW5MZW5ndGgpO2lmKHUubWF4TGVuZ3RoJiZlJiZ1Lm1heExlbmd0aDxlLmxlbmd0aClyZXR1cm4gQnJ1dHVzaW5Gb3Jtcy5tZXNzYWdlcy5tYXhMZW5ndGguZm9ybWF0KHUubWF4TGVuZ3RoKX1pZihudWxsIT09ZSYmIWlzTmFOKGUpKXtpZih1Lm11bHRpcGxlT2YmJmUldS5tdWx0aXBsZU9mIT09MClyZXR1cm4gQnJ1dHVzaW5Gb3Jtcy5tZXNzYWdlcy5tdWx0aXBsZU9mLmZvcm1hdCh1Lm11bHRpcGxlT2YpO2lmKHUuaGFzT3duUHJvcGVydHkoXCJtYXhpbXVtXCIpKXtpZih1LmV4Y2x1c2l2ZU1heGltdW0mJmU+PXUubWF4aW11bSlyZXR1cm4gQnJ1dHVzaW5Gb3Jtcy5tZXNzYWdlcy5leGNsdXNpdmVNYXhpbXVtLmZvcm1hdCh1Lm1heGltdW0pO2lmKCF1LmV4Y2x1c2l2ZU1heGltdW0mJmU+dS5tYXhpbXVtKXJldHVybiBCcnV0dXNpbkZvcm1zLm1lc3NhZ2VzLm1heGltdW0uZm9ybWF0KHUubWF4aW11bSl9aWYodS5oYXNPd25Qcm9wZXJ0eShcIm1pbmltdW1cIikpe2lmKHUuZXhjbHVzaXZlTWluaW11bSYmZTw9dS5taW5pbXVtKXJldHVybiBCcnV0dXNpbkZvcm1zLm1lc3NhZ2VzLmV4Y2x1c2l2ZU1pbmltdW0uZm9ybWF0KHUubWluaW11bSk7aWYoIXUuZXhjbHVzaXZlTWluaW11bSYmZTx1Lm1pbmltdW0pcmV0dXJuIEJydXR1c2luRm9ybXMubWVzc2FnZXMubWluaW11bS5mb3JtYXQodS5taW5pbXVtKX19fWNhdGNoKG4pe3JldHVybiBCcnV0dXNpbkZvcm1zLm1lc3NhZ2VzLmludmFsaWRWYWx1ZX19LGkub25jaGFuZ2U9ZnVuY3Rpb24oKXt2YXIgZTt0cnl7ZT1nZXRWYWx1ZSh1LGkpfWNhdGNoKHQpe2U9bnVsbH1yP3Jbbi5nZXRWYWx1ZSgpXT1lOmRhdGE9ZSxvbkRlcGVuZGVuY3lDaGFuZ2VkKG8saSl9LHUuZGVzY3JpcHRpb24mJihpLnRpdGxlPXUuZGVzY3JpcHRpb24saS5wbGFjZWhvbGRlcj11LmRlc2NyaXB0aW9uKSxpLm9uY2hhbmdlKCksaS5pZD1nZXRJbnB1dElkKCksaW5wdXRDb3VudGVyKyssYXBwZW5kQ2hpbGQoZSxpLHUpLHJ9LHJlbmRlcmVyc1tcImJvb2xlYW5cIl09ZnVuY3Rpb24oZSx0LHIsbixhKXt2YXIgaSxvPWdldFNjaGVtYUlkKHQpLHM9Z2V0U2NoZW1hKG8pO2lmKHMucmVxdWlyZWQpaT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIiksaS50eXBlPVwiY2hlY2tib3hcIixhPT09ITAmJihpLmNoZWNrZWQ9ITApO2Vsc2V7aT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic2VsZWN0XCIpO3ZhciB1PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJvcHRpb25cIiksbD1kb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShcIlwiKTtsLnZhbHVlPVwiXCIsYXBwZW5kQ2hpbGQodSxsLHMpLGFwcGVuZENoaWxkKGksdSxzKTt2YXIgZD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwib3B0aW9uXCIpLHA9ZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoQnJ1dHVzaW5Gb3Jtcy5tZXNzYWdlc1tcInRydWVcIl0pO2QudmFsdWU9XCJ0cnVlXCIsYXBwZW5kQ2hpbGQoZCxwLHMpLGFwcGVuZENoaWxkKGksZCxzKTt2YXIgYz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwib3B0aW9uXCIpLG09ZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoQnJ1dHVzaW5Gb3Jtcy5tZXNzYWdlc1tcImZhbHNlXCJdKTtjLnZhbHVlPVwiZmFsc2VcIixhcHBlbmRDaGlsZChjLG0scyksYXBwZW5kQ2hpbGQoaSxjLHMpLGE9PT0hMD9pLnNlbGVjdGVkSW5kZXg9MTphPT09ITEmJihpLnNlbGVjdGVkSW5kZXg9Mil9aS5vbmNoYW5nZT1mdW5jdGlvbigpe3I/cltuLmdldFZhbHVlKCldPWdldFZhbHVlKHMsaSk6ZGF0YT1nZXRWYWx1ZShzLGkpLG9uRGVwZW5kZW5jeUNoYW5nZWQobyxpKX0saS5zY2hlbWE9byxpLmlkPWdldElucHV0SWQoKSxpbnB1dENvdW50ZXIrKyxzLmRlc2NyaXB0aW9uJiYoaS50aXRsZT1zLmRlc2NyaXB0aW9uKSxpLm9uY2hhbmdlKCksYXBwZW5kQ2hpbGQoZSxpLHMpfSxyZW5kZXJlcnMub25lT2Y9ZnVuY3Rpb24oZSx0LHIsbixhKXt2YXIgaT1nZXRTY2hlbWFJZCh0KSxvPWdldFNjaGVtYShpKSxzPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzZWxlY3RcIiksdT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO3UuaW5uZXJIVE1MPVwiXCIscy50eXBlPVwic2VsZWN0XCIscy5zY2hlbWE9aTt2YXIgbD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwib3B0aW9uXCIpO2wudmFsdWU9bnVsbCxhcHBlbmRDaGlsZChzLGwsbyk7Zm9yKHZhciBkPTA7ZDxvLm9uZU9mLmxlbmd0aDtkKyspe3ZhciBwPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJvcHRpb25cIiksYz1pK1wiLlwiK2QsbT1nZXRTY2hlbWEoYyksZj1kb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShtLnRpdGxlKTtpZihwLnZhbHVlPW8ub25lT2ZbZF0sYXBwZW5kQ2hpbGQocCxmLG8pLGFwcGVuZENoaWxkKHMscCxvKSx2b2lkIDAhPT1hJiZudWxsIT09YSYmKG8ucmVhZE9ubHkmJihzLmRpc2FibGVkPSEwKSxhLmhhc093blByb3BlcnR5KFwidHlwZVwiKSYmbS5oYXNPd25Qcm9wZXJ0eShcInByb3BlcnRpZXNcIikmJm0ucHJvcGVydGllcy5oYXNPd25Qcm9wZXJ0eShcInR5cGVcIikpKXt2YXIgaD1nZXRTY2hlbWEobS5wcm9wZXJ0aWVzLnR5cGUpO2EudHlwZT09PWhbXCJlbnVtXCJdWzBdJiYocy5zZWxlY3RlZEluZGV4PWQrMSxyZW5kZXIobnVsbCx1LHQrXCIuXCIrKHMuc2VsZWN0ZWRJbmRleC0xKSxyLG4sYSkpfX1zLm9uY2hhbmdlPWZ1bmN0aW9uKCl7cmVuZGVyKG51bGwsdSx0K1wiLlwiKyhzLnNlbGVjdGVkSW5kZXgtMSkscixuLGEpfSxhcHBlbmRDaGlsZChlLHMsbyksYXBwZW5kQ2hpbGQoZSx1LG8pfSxyZW5kZXJlcnMub2JqZWN0PWZ1bmN0aW9uKGUsdCxyLG4sYSl7ZnVuY3Rpb24gaShlKXt2YXIgdD1uZXcgT2JqZWN0O3JldHVybiB0LmdldFZhbHVlPWZ1bmN0aW9uKCl7cmV0dXJuIGV9LHQub25jaGFuZ2U9ZnVuY3Rpb24oZSl7fSx0fWZ1bmN0aW9uIG8oZSx0LHIsbixhLGkpe3ZhciBvPWdldFNjaGVtYUlkKHIpLHM9Z2V0U2NoZW1hKG8pLHU9dC50Qm9kaWVzWzBdLGw9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRyXCIpLGQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRkXCIpO2QuY2xhc3NOYW1lPVwiYWRkLXByb3AtbmFtZVwiO3ZhciBwPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0YWJsZVwiKSxjPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0clwiKSxtPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0ZFwiKSxmPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0ZFwiKSxoPVwiJFwiK09iamVjdC5rZXlzKGUpLmxlbmd0aCtcIiRcIix2PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0ZFwiKTt2LmNsYXNzTmFtZT1cInByb3AtdmFsdWVcIjt2YXIgZz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7Zy50eXBlPVwidGV4dFwiO3ZhciB5O2kmJih5PVJlZ0V4cChpKSksZy5nZXRWYWxpZGF0aW9uRXJyb3I9ZnVuY3Rpb24oKXtyZXR1cm4gZy5wcmV2aW91c1ZhbHVlIT09Zy52YWx1ZSYmZS5oYXNPd25Qcm9wZXJ0eShnLnZhbHVlKT9CcnV0dXNpbkZvcm1zLm1lc3NhZ2VzLmFkZHByb3BOYW1lRXhpc3RlbnQ6Zy52YWx1ZT92b2lkIDA6QnJ1dHVzaW5Gb3Jtcy5tZXNzYWdlcy5hZGRwcm9wTmFtZVJlcXVpcmVkfTt2YXIgYj1jcmVhdGVQcm9wZXJ0eVByb3ZpZGVyKGZ1bmN0aW9uKCl7aWYoZy52YWx1ZSl7aWYoIXkpcmV0dXJuIGcudmFsdWU7aWYoLTEhPT1nLnZhbHVlLnNlYXJjaCh5KSlyZXR1cm4gZy52YWx1ZX1yZXR1cm4gaH0sZnVuY3Rpb24odCl7Yi5nZXRWYWx1ZSgpIT09dCYmKHQmJmUuaGFzT3duUHJvcGVydHkodCl8fCh0PWgpLChlLmhhc093blByb3BlcnR5KHQpfHx5JiYtMT09PWIuZ2V0VmFsdWUoKS5zZWFyY2goeSkpJiYoZVtiLmdldFZhbHVlKCldPWVbdF0sZGVsZXRlIGVbdF0pKX0pO2cub25ibHVyPWZ1bmN0aW9uKCl7aWYoZy5wcmV2aW91c1ZhbHVlIT09Zy52YWx1ZSl7Zm9yKHZhciB0PWcudmFsdWUscj0xO2cucHJldmlvdXNWYWx1ZSE9PXQmJmUuaGFzT3duUHJvcGVydHkodCk7KXQ9Zy52YWx1ZStcIihcIityK1wiKVwiLHIrKztyZXR1cm4gZy52YWx1ZT10LGIub25jaGFuZ2UoZy5wcmV2aW91c1ZhbHVlKSx2b2lkKGcucHJldmlvdXNWYWx1ZT1nLnZhbHVlKX19O3ZhciBQPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7UC5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsXCJidXR0b25cIiksUC5jbGFzc05hbWU9XCJyZW1vdmVcIixhcHBlbmRDaGlsZChQLGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKFwieFwiKSxzKSxQLm9uY2xpY2s9ZnVuY3Rpb24oKXtkZWxldGUgZVtnLnZhbHVlXSx0LmRlbGV0ZVJvdyhsLnJvd0luZGV4KSxnLnZhbHVlPW51bGwsYi5vbmNoYW5nZShnLnByZXZpb3VzVmFsdWUpfSxhcHBlbmRDaGlsZChtLGcscyksYXBwZW5kQ2hpbGQoZixQLHMpLGFwcGVuZENoaWxkKGMsbSxzKSxhcHBlbmRDaGlsZChjLGYscyksYXBwZW5kQ2hpbGQocCxjLHMpLGFwcGVuZENoaWxkKGQscCxzKSx2b2lkIDAhPT1pJiYoZy5wbGFjZWhvbGRlcj1pKSxhcHBlbmRDaGlsZChsLGQscyksYXBwZW5kQ2hpbGQobCx2LHMpLGFwcGVuZENoaWxkKHUsbCxzKSxhcHBlbmRDaGlsZCh0LHUscykscmVuZGVyKG51bGwsdixyLGUsYixhKSxuJiYoZy52YWx1ZT1uLGcub25ibHVyKCkpfXZhciBzPWdldFNjaGVtYUlkKHQpLHU9Z2V0U2NoZW1hKHMpLGw9bmV3IE9iamVjdDtyPyhuLmdldFZhbHVlKCl8fDA9PT1uLmdldFZhbHVlKCkpJiYocltuLmdldFZhbHVlKCldPWwpOmRhdGE9bDt2YXIgZD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGFibGVcIik7ZC5jbGFzc05hbWU9XCJvYmplY3RcIjt2YXIgcD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGJvZHlcIik7YXBwZW5kQ2hpbGQoZCxwLHUpO3ZhciBjPTA7aWYodS5oYXNPd25Qcm9wZXJ0eShcInByb3BlcnRpZXNcIikpe2M9dS5wcm9wZXJ0aWVzLmxlbmd0aDtmb3IodmFyIG0gaW4gdS5wcm9wZXJ0aWVzKXt2YXIgZj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidHJcIiksaD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGRcIik7aC5jbGFzc05hbWU9XCJwcm9wLW5hbWVcIjt2YXIgdj10K1wiLlwiK20sZz1nZXRTY2hlbWEoZ2V0U2NoZW1hSWQodikpLHk9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRkXCIpO3kuY2xhc3NOYW1lPVwicHJvcC12YWx1ZVwiLGFwcGVuZENoaWxkKHAsZixnKSxhcHBlbmRDaGlsZChmLGgsZyksYXBwZW5kQ2hpbGQoZix5LGcpO3ZhciBiPWkobSksUD1udWxsO2EmJihQPWFbbV0pLHJlbmRlcihoLHksdixsLGIsUCl9fXZhciBPPVtdO2lmKHUucGF0dGVyblByb3BlcnRpZXN8fHUuYWRkaXRpb25hbFByb3BlcnRpZXMpe3ZhciB3PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7aWYoYXBwZW5kQ2hpbGQodyxkLHUpLHUucGF0dGVyblByb3BlcnRpZXMpZm9yKHZhciB4IGluIHUucGF0dGVyblByb3BlcnRpZXMpe3ZhciBDPXUucGF0dGVyblByb3BlcnRpZXNbeF0sRT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO0UuY2xhc3NOYW1lPVwiYWRkLXBhdHRlcm4tZGl2XCI7dmFyIFM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtpZihTLnNldEF0dHJpYnV0ZShcInR5cGVcIixcImJ1dHRvblwiKSxTLnBhdHRlcm49eCxTLmlkPXQrXCJbXCIreCtcIl1cIixTLm9uY2xpY2s9ZnVuY3Rpb24oKXtvKGwsZCx0aGlzLmlkLHZvaWQgMCx2b2lkIDAsdGhpcy5wYXR0ZXJuKX0sKHUubWF4UHJvcGVydGllc3x8dS5taW5Qcm9wZXJ0aWVzKSYmKFMuZ2V0VmFsaWRhdGlvbkVycm9yPWZ1bmN0aW9uKCl7cmV0dXJuIHUubWluUHJvcGVydGllcyYmYytkLnJvd3MubGVuZ3RoPHUubWluUHJvcGVydGllcz9CcnV0dXNpbkZvcm1zLm1lc3NhZ2VzLm1pblByb3BlcnRpZXMuZm9ybWF0KHUubWluUHJvcGVydGllcyk6dS5tYXhQcm9wZXJ0aWVzJiZjK2Qucm93cy5sZW5ndGg+dS5tYXhQcm9wZXJ0aWVzP0JydXR1c2luRm9ybXMubWVzc2FnZXMubWF4UHJvcGVydGllcy5mb3JtYXQodS5tYXhQcm9wZXJ0aWVzKTp2b2lkIDB9KSxDLmRlc2NyaXB0aW9uJiYoUy50aXRsZT1DLmRlc2NyaXB0aW9uKSxhcHBlbmRDaGlsZChTLGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKFwiQWRkIFwiK3gpLHUpLGFwcGVuZENoaWxkKEUsUyx1KSxhKWZvcih2YXIgSSBpbiBhKWlmKCF1LnByb3BlcnRpZXN8fCF1LnByb3BlcnRpZXMuaGFzT3duUHJvcGVydHkoSSkpe3ZhciBOPVJlZ0V4cCh4KTstMSE9PUkuc2VhcmNoKE4pJiYtMT09PU8uaW5kZXhPZihJKSYmKG8obCxkLHQrXCJbXCIreCtcIl1cIixJLGFbSV0seCksTy5wdXNoKEkpKX1hcHBlbmRDaGlsZCh3LEUsdSl9aWYodS5hZGRpdGlvbmFsUHJvcGVydGllcyl7dmFyIEY9Z2V0U2NoZW1hKHUuYWRkaXRpb25hbFByb3BlcnRpZXMpLFM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtpZihTLnNldEF0dHJpYnV0ZShcInR5cGVcIixcImJ1dHRvblwiKSxTLm9uY2xpY2s9ZnVuY3Rpb24oKXtvKGwsZCx0K1wiWypdXCIsdm9pZCAwKX0sKHUubWF4UHJvcGVydGllc3x8dS5taW5Qcm9wZXJ0aWVzKSYmKFMuZ2V0VmFsaWRhdGlvbkVycm9yPWZ1bmN0aW9uKCl7cmV0dXJuIHUubWluUHJvcGVydGllcyYmYytkLnJvd3MubGVuZ3RoPHUubWluUHJvcGVydGllcz9CcnV0dXNpbkZvcm1zLm1lc3NhZ2VzLm1pblByb3BlcnRpZXMuZm9ybWF0KHUubWluUHJvcGVydGllcyk6dS5tYXhQcm9wZXJ0aWVzJiZjK2Qucm93cy5sZW5ndGg+dS5tYXhQcm9wZXJ0aWVzP0JydXR1c2luRm9ybXMubWVzc2FnZXMubWF4UHJvcGVydGllcy5mb3JtYXQodS5tYXhQcm9wZXJ0aWVzKTp2b2lkIDB9KSxGLmRlc2NyaXB0aW9uJiYoUy50aXRsZT1GLmRlc2NyaXB0aW9uKSxhcHBlbmRDaGlsZChTLGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKFwiQWRkXCIpLHUpLGFwcGVuZENoaWxkKHcsUyx1KSxhKWZvcih2YXIgSSBpbiBhKXUucHJvcGVydGllcyYmdS5wcm9wZXJ0aWVzLmhhc093blByb3BlcnR5KEkpfHwtMT09PU8uaW5kZXhPZihJKSYmbyhsLGQsdCsnW1wiJyttKydcIl0nLEksYVtJXSl9YXBwZW5kQ2hpbGQoZSx3LHUpfWVsc2UgYXBwZW5kQ2hpbGQoZSxkLHUpfSxyZW5kZXJlcnMuYXJyYXk9ZnVuY3Rpb24oZSx0LHIsbixhKXtmdW5jdGlvbiBpKGUsdCxyLG4sYSl7dmFyIGk9Z2V0U2NoZW1hSWQociksbz1nZXRTY2hlbWEoaSkscz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGJvZHlcIiksdT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidHJcIik7dS5jbGFzc05hbWU9XCJpdGVtXCI7dmFyIGw9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRkXCIpO2wuY2xhc3NOYW1lPVwiaXRlbS1pbmRleFwiO3ZhciBkPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0ZFwiKTtkLmNsYXNzTmFtZT1cIml0ZW0tYWN0aW9uXCI7dmFyIHA9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRkXCIpO3AuY2xhc3NOYW1lPVwiaXRlbS12YWx1ZVwiO3ZhciBjPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7Yy5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsXCJidXR0b25cIiksYy5jbGFzc05hbWU9XCJyZW1vdmVcIixhPT09ITAmJihjLmRpc2FibGVkPSEwKSxhcHBlbmRDaGlsZChjLGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKFwieFwiKSxvKTt2YXIgbT1mdW5jdGlvbigpe2Zvcih2YXIgZT0wO2U8dC5yb3dzLmxlbmd0aDtlKyspe3ZhciByPXQucm93c1tlXTtyLmNlbGxzWzBdLmlubmVySFRNTD1lKzF9fTtjLm9uY2xpY2s9ZnVuY3Rpb24oKXtlLnNwbGljZSh1LnJvd0luZGV4LDEpLHQuZGVsZXRlUm93KHUucm93SW5kZXgpLG0oKX0sYXBwZW5kQ2hpbGQoZCxjLG8pO3ZhciBmPWRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHQucm93cy5sZW5ndGgrMSk7YXBwZW5kQ2hpbGQobCxmLG8pLGFwcGVuZENoaWxkKHUsbCxvKSxhcHBlbmRDaGlsZCh1LGQsbyksYXBwZW5kQ2hpbGQodSxwLG8pLGFwcGVuZENoaWxkKHMsdSxvKSxhcHBlbmRDaGlsZCh0LHMsbyk7dmFyIGg9Y3JlYXRlUHJvcGVydHlQcm92aWRlcihmdW5jdGlvbigpe3JldHVybiB1LnJvd0luZGV4fSk7cmVuZGVyKG51bGwscCxyLGUsaCxuKX12YXIgbz1nZXRTY2hlbWFJZCh0KSxzPWdldFNjaGVtYShvKSx1PWdldFNjaGVtYShzLml0ZW1zKSxsPW5ldyBBcnJheTtyPyhuLmdldFZhbHVlKCl8fDA9PT1uLmdldFZhbHVlKCkpJiYocltuLmdldFZhbHVlKCldPWwpOmRhdGE9bCxuJiYobi5vbmNoYW5nZT1mdW5jdGlvbihlKXtkZWxldGUgcltlXSxyW24uZ2V0VmFsdWUoKV09bH0pO3ZhciBkPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIikscD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGFibGVcIik7cC5jbGFzc05hbWU9XCJhcnJheVwiLGFwcGVuZENoaWxkKGQscCxzKSxhcHBlbmRDaGlsZChlLGQscyk7dmFyIGM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtpZihzLnJlYWRPbmx5JiYoYy5kaXNhYmxlZD0hMCksYy5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsXCJidXR0b25cIiksYy5nZXRWYWxpZGF0aW9uRXJyb3I9ZnVuY3Rpb24oKXtpZihzLm1pbkl0ZW1zJiZzLm1pbkl0ZW1zPnAucm93cy5sZW5ndGgpcmV0dXJuIEJydXR1c2luRm9ybXMubWVzc2FnZXMubWluSXRlbXMuZm9ybWF0KHMubWluSXRlbXMpO2lmKHMubWF4SXRlbXMmJnMubWF4SXRlbXM8cC5yb3dzLmxlbmd0aClyZXR1cm4gQnJ1dHVzaW5Gb3Jtcy5tZXNzYWdlcy5tYXhJdGVtcy5mb3JtYXQocy5tYXhJdGVtcyk7aWYocy51bmlxdWVJdGVtcylmb3IodmFyIGU9MDtlPGwubGVuZ3RoO2UrKylmb3IodmFyIHQ9ZSsxO3Q8bC5sZW5ndGg7dCsrKWlmKEpTT04uc3RyaW5naWZ5KGxbZV0pPT09SlNPTi5zdHJpbmdpZnkobFt0XSkpcmV0dXJuIEJydXR1c2luRm9ybXMubWVzc2FnZXMudW5pcXVlSXRlbXN9LGMub25jbGljaz1mdW5jdGlvbigpe2kobCxwLHQrXCJbI11cIixudWxsKX0sdS5kZXNjcmlwdGlvbiYmKGMudGl0bGU9dS5kZXNjcmlwdGlvbiksYXBwZW5kQ2hpbGQoYyxkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShCcnV0dXNpbkZvcm1zLm1lc3NhZ2VzLmFkZEl0ZW0pLHMpLGFwcGVuZENoaWxkKGQscCxzKSxhcHBlbmRDaGlsZChkLGMscyksYSYmYSBpbnN0YW5jZW9mIEFycmF5KWZvcih2YXIgbT0wO208YS5sZW5ndGg7bSsrKWkobCxwLHQrXCJbXCIrbStcIl1cIixhW21dLHMucmVhZE9ubHkpO2FwcGVuZENoaWxkKGUsZCxzKX0sb2JqLnJlbmRlcj1mdW5jdGlvbihlLHQpe2NvbnRhaW5lcj1lLGluaXRpYWxWYWx1ZT10O3ZhciByPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJmb3JtXCIpO2lmKHIuY2xhc3NOYW1lPVwiYnJ1dHVzaW4tZm9ybVwiLHIub25zdWJtaXQ9ZnVuY3Rpb24oZSl7cmV0dXJuITF9LGNvbnRhaW5lcj9hcHBlbmRDaGlsZChjb250YWluZXIscik6YXBwZW5kQ2hpbGQoZG9jdW1lbnQuYm9keSxyKSxlcnJvcil7dmFyIG49ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxhYmVsXCIpLGE9ZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoZXJyb3IpO2FwcGVuZENoaWxkKG4sYSksbi5jbGFzc05hbWU9XCJlcnJvci1tZXNzYWdlXCIsYXBwZW5kQ2hpbGQocixuKX1lbHNlIHJlbmRlcihudWxsLHIsXCIkXCIsbnVsbCxudWxsKTtkZXBlbmRlbmN5TWFwLmhhc093blByb3BlcnR5KFwiJFwiKSYmb25EZXBlbmRlbmN5Q2hhbmdlZChcIiRcIiksQnJ1dHVzaW5Gb3Jtcy5wb3N0UmVuZGVyJiZCcnV0dXNpbkZvcm1zLnBvc3RSZW5kZXIob2JqKX0sb2JqLmdldFJlbmRlcmluZ0NvbnRhaW5lcj1mdW5jdGlvbigpe3JldHVybiBjb250YWluZXJ9LG9iai52YWxpZGF0ZT1mdW5jdGlvbigpe3JldHVybiB2YWxpZGF0ZShjb250YWluZXIpfSxvYmouZ2V0RGF0YT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCxyKXtpZihudWxsPT09cyYmKHM9U0NIRU1BX0FOWSksci4kcmVmJiYocj1nZXREZWZpbml0aW9uKHIuJHJlZikpLHQgaW5zdGFuY2VvZiBBcnJheSl7aWYoMD09PXQubGVuZ3RoKXJldHVybiBudWxsO2Zvcih2YXIgbj1uZXcgQXJyYXksYT0wO2E8dC5sZW5ndGg7YSsrKW5bYV09ZSh0W2FdLHIuaXRlbXMpO3JldHVybiBufWlmKFwiXCI9PT10KXJldHVybiBudWxsO2lmKHQgaW5zdGFuY2VvZiBPYmplY3Qpe3ZhciBuPW5ldyBPYmplY3QsaT0hMTtmb3IodmFyIG8gaW4gdClpZighby5zdGFydHNXaXRoKFwiJFwiKXx8IW8uZW5kc1dpdGgoXCIkXCIpKXt2YXIgcz1udWxsO2lmKHIuaGFzT3duUHJvcGVydHkoXCJwcm9wZXJ0aWVzXCIpJiZyLnByb3BlcnRpZXMuaGFzT3duUHJvcGVydHkobykmJihzPXIucHJvcGVydGllc1tvXSksbnVsbD09PXMmJnIuaGFzT3duUHJvcGVydHkoXCJhZGRpdGlvbmFsUHJvcGVydGllc1wiKSYmXCJvYmplY3RcIj09dHlwZW9mIHIuYWRkaXRpb25hbFByb3BlcnRpZXMmJihzPXIuYWRkaXRpb25hbFByb3BlcnRpZXMpLG51bGw9PT1zJiZyLmhhc093blByb3BlcnR5KFwicGF0dGVyblByb3BlcnRpZXNcIikpZm9yKHZhciB1IGluIHIucGF0dGVyblByb3BlcnRpZXMpe3ZhciBsPVJlZ0V4cCh1KTtpZigtMSE9PW8uc2VhcmNoKGwpKXtzPXIucGF0dGVyblByb3BlcnRpZXNbdV07YnJlYWt9fXZhciBkPWUodFtvXSxzKTtudWxsIT09ZCYmKG5bb109ZCxpPSEwKX1yZXR1cm4gaXx8ci5yZXF1aXJlZD9uOm51bGx9cmV0dXJuIHR9cmV0dXJuIGNvbnRhaW5lcj9lKGRhdGEsc2NoZW1hKTpudWxsfSxCcnV0dXNpbkZvcm1zLmluc3RhbmNlc1tCcnV0dXNpbkZvcm1zLmluc3RhbmNlcy5sZW5ndGhdPW9iaixvYmp9LGJydXR1c2luW1wianNvbi1mb3Jtc1wiXT1CcnV0dXNpbkZvcm1zfSgpO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9icnV0dXNpbi1qc29uLWZvcm1zL2Rpc3QvanMvYnJ1dHVzaW4tanNvbi1mb3Jtcy5taW4uanNcbi8vIG1vZHVsZSBpZCA9IDUyXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIi8vIHJlbW92ZWQgYnkgZXh0cmFjdC10ZXh0LXdlYnBhY2stcGx1Z2luXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvYmFzZS5zY3NzXG4vLyBtb2R1bGUgaWQgPSA1M1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKG1vZHVsZSkge1xyXG5cdGlmKCFtb2R1bGUud2VicGFja1BvbHlmaWxsKSB7XHJcblx0XHRtb2R1bGUuZGVwcmVjYXRlID0gZnVuY3Rpb24oKSB7fTtcclxuXHRcdG1vZHVsZS5wYXRocyA9IFtdO1xyXG5cdFx0Ly8gbW9kdWxlLnBhcmVudCA9IHVuZGVmaW5lZCBieSBkZWZhdWx0XHJcblx0XHRpZighbW9kdWxlLmNoaWxkcmVuKSBtb2R1bGUuY2hpbGRyZW4gPSBbXTtcclxuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShtb2R1bGUsIFwibG9hZGVkXCIsIHtcclxuXHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcclxuXHRcdFx0Z2V0OiBmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRyZXR1cm4gbW9kdWxlLmw7XHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG1vZHVsZSwgXCJpZFwiLCB7XHJcblx0XHRcdGVudW1lcmFibGU6IHRydWUsXHJcblx0XHRcdGdldDogZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0cmV0dXJuIG1vZHVsZS5pO1xyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHRcdG1vZHVsZS53ZWJwYWNrUG9seWZpbGwgPSAxO1xyXG5cdH1cclxuXHRyZXR1cm4gbW9kdWxlO1xyXG59O1xyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAod2VicGFjaykvYnVpbGRpbi9tb2R1bGUuanNcbi8vIG1vZHVsZSBpZCA9IDU0XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsInZhciBzdXBwb3J0ID0ge1xuICBzZWFyY2hQYXJhbXM6ICdVUkxTZWFyY2hQYXJhbXMnIGluIHNlbGYsXG4gIGl0ZXJhYmxlOiAnU3ltYm9sJyBpbiBzZWxmICYmICdpdGVyYXRvcicgaW4gU3ltYm9sLFxuICBibG9iOlxuICAgICdGaWxlUmVhZGVyJyBpbiBzZWxmICYmXG4gICAgJ0Jsb2InIGluIHNlbGYgJiZcbiAgICAoZnVuY3Rpb24oKSB7XG4gICAgICB0cnkge1xuICAgICAgICBuZXcgQmxvYigpXG4gICAgICAgIHJldHVybiB0cnVlXG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgfVxuICAgIH0pKCksXG4gIGZvcm1EYXRhOiAnRm9ybURhdGEnIGluIHNlbGYsXG4gIGFycmF5QnVmZmVyOiAnQXJyYXlCdWZmZXInIGluIHNlbGZcbn1cblxuZnVuY3Rpb24gaXNEYXRhVmlldyhvYmopIHtcbiAgcmV0dXJuIG9iaiAmJiBEYXRhVmlldy5wcm90b3R5cGUuaXNQcm90b3R5cGVPZihvYmopXG59XG5cbmlmIChzdXBwb3J0LmFycmF5QnVmZmVyKSB7XG4gIHZhciB2aWV3Q2xhc3NlcyA9IFtcbiAgICAnW29iamVjdCBJbnQ4QXJyYXldJyxcbiAgICAnW29iamVjdCBVaW50OEFycmF5XScsXG4gICAgJ1tvYmplY3QgVWludDhDbGFtcGVkQXJyYXldJyxcbiAgICAnW29iamVjdCBJbnQxNkFycmF5XScsXG4gICAgJ1tvYmplY3QgVWludDE2QXJyYXldJyxcbiAgICAnW29iamVjdCBJbnQzMkFycmF5XScsXG4gICAgJ1tvYmplY3QgVWludDMyQXJyYXldJyxcbiAgICAnW29iamVjdCBGbG9hdDMyQXJyYXldJyxcbiAgICAnW29iamVjdCBGbG9hdDY0QXJyYXldJ1xuICBdXG5cbiAgdmFyIGlzQXJyYXlCdWZmZXJWaWV3ID1cbiAgICBBcnJheUJ1ZmZlci5pc1ZpZXcgfHxcbiAgICBmdW5jdGlvbihvYmopIHtcbiAgICAgIHJldHVybiBvYmogJiYgdmlld0NsYXNzZXMuaW5kZXhPZihPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwob2JqKSkgPiAtMVxuICAgIH1cbn1cblxuZnVuY3Rpb24gbm9ybWFsaXplTmFtZShuYW1lKSB7XG4gIGlmICh0eXBlb2YgbmFtZSAhPT0gJ3N0cmluZycpIHtcbiAgICBuYW1lID0gU3RyaW5nKG5hbWUpXG4gIH1cbiAgaWYgKC9bXmEtejAtOVxcLSMkJSYnKisuXl9gfH5dL2kudGVzdChuYW1lKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0ludmFsaWQgY2hhcmFjdGVyIGluIGhlYWRlciBmaWVsZCBuYW1lJylcbiAgfVxuICByZXR1cm4gbmFtZS50b0xvd2VyQ2FzZSgpXG59XG5cbmZ1bmN0aW9uIG5vcm1hbGl6ZVZhbHVlKHZhbHVlKSB7XG4gIGlmICh0eXBlb2YgdmFsdWUgIT09ICdzdHJpbmcnKSB7XG4gICAgdmFsdWUgPSBTdHJpbmcodmFsdWUpXG4gIH1cbiAgcmV0dXJuIHZhbHVlXG59XG5cbi8vIEJ1aWxkIGEgZGVzdHJ1Y3RpdmUgaXRlcmF0b3IgZm9yIHRoZSB2YWx1ZSBsaXN0XG5mdW5jdGlvbiBpdGVyYXRvckZvcihpdGVtcykge1xuICB2YXIgaXRlcmF0b3IgPSB7XG4gICAgbmV4dDogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgdmFsdWUgPSBpdGVtcy5zaGlmdCgpXG4gICAgICByZXR1cm4ge2RvbmU6IHZhbHVlID09PSB1bmRlZmluZWQsIHZhbHVlOiB2YWx1ZX1cbiAgICB9XG4gIH1cblxuICBpZiAoc3VwcG9ydC5pdGVyYWJsZSkge1xuICAgIGl0ZXJhdG9yW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBpdGVyYXRvclxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBpdGVyYXRvclxufVxuXG5leHBvcnQgZnVuY3Rpb24gSGVhZGVycyhoZWFkZXJzKSB7XG4gIHRoaXMubWFwID0ge31cblxuICBpZiAoaGVhZGVycyBpbnN0YW5jZW9mIEhlYWRlcnMpIHtcbiAgICBoZWFkZXJzLmZvckVhY2goZnVuY3Rpb24odmFsdWUsIG5hbWUpIHtcbiAgICAgIHRoaXMuYXBwZW5kKG5hbWUsIHZhbHVlKVxuICAgIH0sIHRoaXMpXG4gIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShoZWFkZXJzKSkge1xuICAgIGhlYWRlcnMuZm9yRWFjaChmdW5jdGlvbihoZWFkZXIpIHtcbiAgICAgIHRoaXMuYXBwZW5kKGhlYWRlclswXSwgaGVhZGVyWzFdKVxuICAgIH0sIHRoaXMpXG4gIH0gZWxzZSBpZiAoaGVhZGVycykge1xuICAgIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGhlYWRlcnMpLmZvckVhY2goZnVuY3Rpb24obmFtZSkge1xuICAgICAgdGhpcy5hcHBlbmQobmFtZSwgaGVhZGVyc1tuYW1lXSlcbiAgICB9LCB0aGlzKVxuICB9XG59XG5cbkhlYWRlcnMucHJvdG90eXBlLmFwcGVuZCA9IGZ1bmN0aW9uKG5hbWUsIHZhbHVlKSB7XG4gIG5hbWUgPSBub3JtYWxpemVOYW1lKG5hbWUpXG4gIHZhbHVlID0gbm9ybWFsaXplVmFsdWUodmFsdWUpXG4gIHZhciBvbGRWYWx1ZSA9IHRoaXMubWFwW25hbWVdXG4gIHRoaXMubWFwW25hbWVdID0gb2xkVmFsdWUgPyBvbGRWYWx1ZSArICcsICcgKyB2YWx1ZSA6IHZhbHVlXG59XG5cbkhlYWRlcnMucHJvdG90eXBlWydkZWxldGUnXSA9IGZ1bmN0aW9uKG5hbWUpIHtcbiAgZGVsZXRlIHRoaXMubWFwW25vcm1hbGl6ZU5hbWUobmFtZSldXG59XG5cbkhlYWRlcnMucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uKG5hbWUpIHtcbiAgbmFtZSA9IG5vcm1hbGl6ZU5hbWUobmFtZSlcbiAgcmV0dXJuIHRoaXMuaGFzKG5hbWUpID8gdGhpcy5tYXBbbmFtZV0gOiBudWxsXG59XG5cbkhlYWRlcnMucHJvdG90eXBlLmhhcyA9IGZ1bmN0aW9uKG5hbWUpIHtcbiAgcmV0dXJuIHRoaXMubWFwLmhhc093blByb3BlcnR5KG5vcm1hbGl6ZU5hbWUobmFtZSkpXG59XG5cbkhlYWRlcnMucHJvdG90eXBlLnNldCA9IGZ1bmN0aW9uKG5hbWUsIHZhbHVlKSB7XG4gIHRoaXMubWFwW25vcm1hbGl6ZU5hbWUobmFtZSldID0gbm9ybWFsaXplVmFsdWUodmFsdWUpXG59XG5cbkhlYWRlcnMucHJvdG90eXBlLmZvckVhY2ggPSBmdW5jdGlvbihjYWxsYmFjaywgdGhpc0FyZykge1xuICBmb3IgKHZhciBuYW1lIGluIHRoaXMubWFwKSB7XG4gICAgaWYgKHRoaXMubWFwLmhhc093blByb3BlcnR5KG5hbWUpKSB7XG4gICAgICBjYWxsYmFjay5jYWxsKHRoaXNBcmcsIHRoaXMubWFwW25hbWVdLCBuYW1lLCB0aGlzKVxuICAgIH1cbiAgfVxufVxuXG5IZWFkZXJzLnByb3RvdHlwZS5rZXlzID0gZnVuY3Rpb24oKSB7XG4gIHZhciBpdGVtcyA9IFtdXG4gIHRoaXMuZm9yRWFjaChmdW5jdGlvbih2YWx1ZSwgbmFtZSkge1xuICAgIGl0ZW1zLnB1c2gobmFtZSlcbiAgfSlcbiAgcmV0dXJuIGl0ZXJhdG9yRm9yKGl0ZW1zKVxufVxuXG5IZWFkZXJzLnByb3RvdHlwZS52YWx1ZXMgPSBmdW5jdGlvbigpIHtcbiAgdmFyIGl0ZW1zID0gW11cbiAgdGhpcy5mb3JFYWNoKGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgaXRlbXMucHVzaCh2YWx1ZSlcbiAgfSlcbiAgcmV0dXJuIGl0ZXJhdG9yRm9yKGl0ZW1zKVxufVxuXG5IZWFkZXJzLnByb3RvdHlwZS5lbnRyaWVzID0gZnVuY3Rpb24oKSB7XG4gIHZhciBpdGVtcyA9IFtdXG4gIHRoaXMuZm9yRWFjaChmdW5jdGlvbih2YWx1ZSwgbmFtZSkge1xuICAgIGl0ZW1zLnB1c2goW25hbWUsIHZhbHVlXSlcbiAgfSlcbiAgcmV0dXJuIGl0ZXJhdG9yRm9yKGl0ZW1zKVxufVxuXG5pZiAoc3VwcG9ydC5pdGVyYWJsZSkge1xuICBIZWFkZXJzLnByb3RvdHlwZVtTeW1ib2wuaXRlcmF0b3JdID0gSGVhZGVycy5wcm90b3R5cGUuZW50cmllc1xufVxuXG5mdW5jdGlvbiBjb25zdW1lZChib2R5KSB7XG4gIGlmIChib2R5LmJvZHlVc2VkKSB7XG4gICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBUeXBlRXJyb3IoJ0FscmVhZHkgcmVhZCcpKVxuICB9XG4gIGJvZHkuYm9keVVzZWQgPSB0cnVlXG59XG5cbmZ1bmN0aW9uIGZpbGVSZWFkZXJSZWFkeShyZWFkZXIpIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgIHJlYWRlci5vbmxvYWQgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJlc29sdmUocmVhZGVyLnJlc3VsdClcbiAgICB9XG4gICAgcmVhZGVyLm9uZXJyb3IgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJlamVjdChyZWFkZXIuZXJyb3IpXG4gICAgfVxuICB9KVxufVxuXG5mdW5jdGlvbiByZWFkQmxvYkFzQXJyYXlCdWZmZXIoYmxvYikge1xuICB2YXIgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKVxuICB2YXIgcHJvbWlzZSA9IGZpbGVSZWFkZXJSZWFkeShyZWFkZXIpXG4gIHJlYWRlci5yZWFkQXNBcnJheUJ1ZmZlcihibG9iKVxuICByZXR1cm4gcHJvbWlzZVxufVxuXG5mdW5jdGlvbiByZWFkQmxvYkFzVGV4dChibG9iKSB7XG4gIHZhciByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpXG4gIHZhciBwcm9taXNlID0gZmlsZVJlYWRlclJlYWR5KHJlYWRlcilcbiAgcmVhZGVyLnJlYWRBc1RleHQoYmxvYilcbiAgcmV0dXJuIHByb21pc2Vcbn1cblxuZnVuY3Rpb24gcmVhZEFycmF5QnVmZmVyQXNUZXh0KGJ1Zikge1xuICB2YXIgdmlldyA9IG5ldyBVaW50OEFycmF5KGJ1ZilcbiAgdmFyIGNoYXJzID0gbmV3IEFycmF5KHZpZXcubGVuZ3RoKVxuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgdmlldy5sZW5ndGg7IGkrKykge1xuICAgIGNoYXJzW2ldID0gU3RyaW5nLmZyb21DaGFyQ29kZSh2aWV3W2ldKVxuICB9XG4gIHJldHVybiBjaGFycy5qb2luKCcnKVxufVxuXG5mdW5jdGlvbiBidWZmZXJDbG9uZShidWYpIHtcbiAgaWYgKGJ1Zi5zbGljZSkge1xuICAgIHJldHVybiBidWYuc2xpY2UoMClcbiAgfSBlbHNlIHtcbiAgICB2YXIgdmlldyA9IG5ldyBVaW50OEFycmF5KGJ1Zi5ieXRlTGVuZ3RoKVxuICAgIHZpZXcuc2V0KG5ldyBVaW50OEFycmF5KGJ1ZikpXG4gICAgcmV0dXJuIHZpZXcuYnVmZmVyXG4gIH1cbn1cblxuZnVuY3Rpb24gQm9keSgpIHtcbiAgdGhpcy5ib2R5VXNlZCA9IGZhbHNlXG5cbiAgdGhpcy5faW5pdEJvZHkgPSBmdW5jdGlvbihib2R5KSB7XG4gICAgdGhpcy5fYm9keUluaXQgPSBib2R5XG4gICAgaWYgKCFib2R5KSB7XG4gICAgICB0aGlzLl9ib2R5VGV4dCA9ICcnXG4gICAgfSBlbHNlIGlmICh0eXBlb2YgYm9keSA9PT0gJ3N0cmluZycpIHtcbiAgICAgIHRoaXMuX2JvZHlUZXh0ID0gYm9keVxuICAgIH0gZWxzZSBpZiAoc3VwcG9ydC5ibG9iICYmIEJsb2IucHJvdG90eXBlLmlzUHJvdG90eXBlT2YoYm9keSkpIHtcbiAgICAgIHRoaXMuX2JvZHlCbG9iID0gYm9keVxuICAgIH0gZWxzZSBpZiAoc3VwcG9ydC5mb3JtRGF0YSAmJiBGb3JtRGF0YS5wcm90b3R5cGUuaXNQcm90b3R5cGVPZihib2R5KSkge1xuICAgICAgdGhpcy5fYm9keUZvcm1EYXRhID0gYm9keVxuICAgIH0gZWxzZSBpZiAoc3VwcG9ydC5zZWFyY2hQYXJhbXMgJiYgVVJMU2VhcmNoUGFyYW1zLnByb3RvdHlwZS5pc1Byb3RvdHlwZU9mKGJvZHkpKSB7XG4gICAgICB0aGlzLl9ib2R5VGV4dCA9IGJvZHkudG9TdHJpbmcoKVxuICAgIH0gZWxzZSBpZiAoc3VwcG9ydC5hcnJheUJ1ZmZlciAmJiBzdXBwb3J0LmJsb2IgJiYgaXNEYXRhVmlldyhib2R5KSkge1xuICAgICAgdGhpcy5fYm9keUFycmF5QnVmZmVyID0gYnVmZmVyQ2xvbmUoYm9keS5idWZmZXIpXG4gICAgICAvLyBJRSAxMC0xMSBjYW4ndCBoYW5kbGUgYSBEYXRhVmlldyBib2R5LlxuICAgICAgdGhpcy5fYm9keUluaXQgPSBuZXcgQmxvYihbdGhpcy5fYm9keUFycmF5QnVmZmVyXSlcbiAgICB9IGVsc2UgaWYgKHN1cHBvcnQuYXJyYXlCdWZmZXIgJiYgKEFycmF5QnVmZmVyLnByb3RvdHlwZS5pc1Byb3RvdHlwZU9mKGJvZHkpIHx8IGlzQXJyYXlCdWZmZXJWaWV3KGJvZHkpKSkge1xuICAgICAgdGhpcy5fYm9keUFycmF5QnVmZmVyID0gYnVmZmVyQ2xvbmUoYm9keSlcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fYm9keVRleHQgPSBib2R5ID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGJvZHkpXG4gICAgfVxuXG4gICAgaWYgKCF0aGlzLmhlYWRlcnMuZ2V0KCdjb250ZW50LXR5cGUnKSkge1xuICAgICAgaWYgKHR5cGVvZiBib2R5ID09PSAnc3RyaW5nJykge1xuICAgICAgICB0aGlzLmhlYWRlcnMuc2V0KCdjb250ZW50LXR5cGUnLCAndGV4dC9wbGFpbjtjaGFyc2V0PVVURi04JylcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5fYm9keUJsb2IgJiYgdGhpcy5fYm9keUJsb2IudHlwZSkge1xuICAgICAgICB0aGlzLmhlYWRlcnMuc2V0KCdjb250ZW50LXR5cGUnLCB0aGlzLl9ib2R5QmxvYi50eXBlKVxuICAgICAgfSBlbHNlIGlmIChzdXBwb3J0LnNlYXJjaFBhcmFtcyAmJiBVUkxTZWFyY2hQYXJhbXMucHJvdG90eXBlLmlzUHJvdG90eXBlT2YoYm9keSkpIHtcbiAgICAgICAgdGhpcy5oZWFkZXJzLnNldCgnY29udGVudC10eXBlJywgJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZDtjaGFyc2V0PVVURi04JylcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBpZiAoc3VwcG9ydC5ibG9iKSB7XG4gICAgdGhpcy5ibG9iID0gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgcmVqZWN0ZWQgPSBjb25zdW1lZCh0aGlzKVxuICAgICAgaWYgKHJlamVjdGVkKSB7XG4gICAgICAgIHJldHVybiByZWplY3RlZFxuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5fYm9keUJsb2IpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLl9ib2R5QmxvYilcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5fYm9keUFycmF5QnVmZmVyKSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUobmV3IEJsb2IoW3RoaXMuX2JvZHlBcnJheUJ1ZmZlcl0pKVxuICAgICAgfSBlbHNlIGlmICh0aGlzLl9ib2R5Rm9ybURhdGEpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdjb3VsZCBub3QgcmVhZCBGb3JtRGF0YSBib2R5IGFzIGJsb2InKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShuZXcgQmxvYihbdGhpcy5fYm9keVRleHRdKSlcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLmFycmF5QnVmZmVyID0gZnVuY3Rpb24oKSB7XG4gICAgICBpZiAodGhpcy5fYm9keUFycmF5QnVmZmVyKSB7XG4gICAgICAgIHJldHVybiBjb25zdW1lZCh0aGlzKSB8fCBQcm9taXNlLnJlc29sdmUodGhpcy5fYm9keUFycmF5QnVmZmVyKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYmxvYigpLnRoZW4ocmVhZEJsb2JBc0FycmF5QnVmZmVyKVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHRoaXMudGV4dCA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciByZWplY3RlZCA9IGNvbnN1bWVkKHRoaXMpXG4gICAgaWYgKHJlamVjdGVkKSB7XG4gICAgICByZXR1cm4gcmVqZWN0ZWRcbiAgICB9XG5cbiAgICBpZiAodGhpcy5fYm9keUJsb2IpIHtcbiAgICAgIHJldHVybiByZWFkQmxvYkFzVGV4dCh0aGlzLl9ib2R5QmxvYilcbiAgICB9IGVsc2UgaWYgKHRoaXMuX2JvZHlBcnJheUJ1ZmZlcikge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShyZWFkQXJyYXlCdWZmZXJBc1RleHQodGhpcy5fYm9keUFycmF5QnVmZmVyKSlcbiAgICB9IGVsc2UgaWYgKHRoaXMuX2JvZHlGb3JtRGF0YSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdjb3VsZCBub3QgcmVhZCBGb3JtRGF0YSBib2R5IGFzIHRleHQnKVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMuX2JvZHlUZXh0KVxuICAgIH1cbiAgfVxuXG4gIGlmIChzdXBwb3J0LmZvcm1EYXRhKSB7XG4gICAgdGhpcy5mb3JtRGF0YSA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMudGV4dCgpLnRoZW4oZGVjb2RlKVxuICAgIH1cbiAgfVxuXG4gIHRoaXMuanNvbiA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLnRleHQoKS50aGVuKEpTT04ucGFyc2UpXG4gIH1cblxuICByZXR1cm4gdGhpc1xufVxuXG4vLyBIVFRQIG1ldGhvZHMgd2hvc2UgY2FwaXRhbGl6YXRpb24gc2hvdWxkIGJlIG5vcm1hbGl6ZWRcbnZhciBtZXRob2RzID0gWydERUxFVEUnLCAnR0VUJywgJ0hFQUQnLCAnT1BUSU9OUycsICdQT1NUJywgJ1BVVCddXG5cbmZ1bmN0aW9uIG5vcm1hbGl6ZU1ldGhvZChtZXRob2QpIHtcbiAgdmFyIHVwY2FzZWQgPSBtZXRob2QudG9VcHBlckNhc2UoKVxuICByZXR1cm4gbWV0aG9kcy5pbmRleE9mKHVwY2FzZWQpID4gLTEgPyB1cGNhc2VkIDogbWV0aG9kXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBSZXF1ZXN0KGlucHV0LCBvcHRpb25zKSB7XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9XG4gIHZhciBib2R5ID0gb3B0aW9ucy5ib2R5XG5cbiAgaWYgKGlucHV0IGluc3RhbmNlb2YgUmVxdWVzdCkge1xuICAgIGlmIChpbnB1dC5ib2R5VXNlZCkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQWxyZWFkeSByZWFkJylcbiAgICB9XG4gICAgdGhpcy51cmwgPSBpbnB1dC51cmxcbiAgICB0aGlzLmNyZWRlbnRpYWxzID0gaW5wdXQuY3JlZGVudGlhbHNcbiAgICBpZiAoIW9wdGlvbnMuaGVhZGVycykge1xuICAgICAgdGhpcy5oZWFkZXJzID0gbmV3IEhlYWRlcnMoaW5wdXQuaGVhZGVycylcbiAgICB9XG4gICAgdGhpcy5tZXRob2QgPSBpbnB1dC5tZXRob2RcbiAgICB0aGlzLm1vZGUgPSBpbnB1dC5tb2RlXG4gICAgdGhpcy5zaWduYWwgPSBpbnB1dC5zaWduYWxcbiAgICBpZiAoIWJvZHkgJiYgaW5wdXQuX2JvZHlJbml0ICE9IG51bGwpIHtcbiAgICAgIGJvZHkgPSBpbnB1dC5fYm9keUluaXRcbiAgICAgIGlucHV0LmJvZHlVc2VkID0gdHJ1ZVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICB0aGlzLnVybCA9IFN0cmluZyhpbnB1dClcbiAgfVxuXG4gIHRoaXMuY3JlZGVudGlhbHMgPSBvcHRpb25zLmNyZWRlbnRpYWxzIHx8IHRoaXMuY3JlZGVudGlhbHMgfHwgJ3NhbWUtb3JpZ2luJ1xuICBpZiAob3B0aW9ucy5oZWFkZXJzIHx8ICF0aGlzLmhlYWRlcnMpIHtcbiAgICB0aGlzLmhlYWRlcnMgPSBuZXcgSGVhZGVycyhvcHRpb25zLmhlYWRlcnMpXG4gIH1cbiAgdGhpcy5tZXRob2QgPSBub3JtYWxpemVNZXRob2Qob3B0aW9ucy5tZXRob2QgfHwgdGhpcy5tZXRob2QgfHwgJ0dFVCcpXG4gIHRoaXMubW9kZSA9IG9wdGlvbnMubW9kZSB8fCB0aGlzLm1vZGUgfHwgbnVsbFxuICB0aGlzLnNpZ25hbCA9IG9wdGlvbnMuc2lnbmFsIHx8IHRoaXMuc2lnbmFsXG4gIHRoaXMucmVmZXJyZXIgPSBudWxsXG5cbiAgaWYgKCh0aGlzLm1ldGhvZCA9PT0gJ0dFVCcgfHwgdGhpcy5tZXRob2QgPT09ICdIRUFEJykgJiYgYm9keSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0JvZHkgbm90IGFsbG93ZWQgZm9yIEdFVCBvciBIRUFEIHJlcXVlc3RzJylcbiAgfVxuICB0aGlzLl9pbml0Qm9keShib2R5KVxufVxuXG5SZXF1ZXN0LnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbmV3IFJlcXVlc3QodGhpcywge2JvZHk6IHRoaXMuX2JvZHlJbml0fSlcbn1cblxuZnVuY3Rpb24gZGVjb2RlKGJvZHkpIHtcbiAgdmFyIGZvcm0gPSBuZXcgRm9ybURhdGEoKVxuICBib2R5XG4gICAgLnRyaW0oKVxuICAgIC5zcGxpdCgnJicpXG4gICAgLmZvckVhY2goZnVuY3Rpb24oYnl0ZXMpIHtcbiAgICAgIGlmIChieXRlcykge1xuICAgICAgICB2YXIgc3BsaXQgPSBieXRlcy5zcGxpdCgnPScpXG4gICAgICAgIHZhciBuYW1lID0gc3BsaXQuc2hpZnQoKS5yZXBsYWNlKC9cXCsvZywgJyAnKVxuICAgICAgICB2YXIgdmFsdWUgPSBzcGxpdC5qb2luKCc9JykucmVwbGFjZSgvXFwrL2csICcgJylcbiAgICAgICAgZm9ybS5hcHBlbmQoZGVjb2RlVVJJQ29tcG9uZW50KG5hbWUpLCBkZWNvZGVVUklDb21wb25lbnQodmFsdWUpKVxuICAgICAgfVxuICAgIH0pXG4gIHJldHVybiBmb3JtXG59XG5cbmZ1bmN0aW9uIHBhcnNlSGVhZGVycyhyYXdIZWFkZXJzKSB7XG4gIHZhciBoZWFkZXJzID0gbmV3IEhlYWRlcnMoKVxuICAvLyBSZXBsYWNlIGluc3RhbmNlcyBvZiBcXHJcXG4gYW5kIFxcbiBmb2xsb3dlZCBieSBhdCBsZWFzdCBvbmUgc3BhY2Ugb3IgaG9yaXpvbnRhbCB0YWIgd2l0aCBhIHNwYWNlXG4gIC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmM3MjMwI3NlY3Rpb24tMy4yXG4gIHZhciBwcmVQcm9jZXNzZWRIZWFkZXJzID0gcmF3SGVhZGVycy5yZXBsYWNlKC9cXHI/XFxuW1xcdCBdKy9nLCAnICcpXG4gIHByZVByb2Nlc3NlZEhlYWRlcnMuc3BsaXQoL1xccj9cXG4vKS5mb3JFYWNoKGZ1bmN0aW9uKGxpbmUpIHtcbiAgICB2YXIgcGFydHMgPSBsaW5lLnNwbGl0KCc6JylcbiAgICB2YXIga2V5ID0gcGFydHMuc2hpZnQoKS50cmltKClcbiAgICBpZiAoa2V5KSB7XG4gICAgICB2YXIgdmFsdWUgPSBwYXJ0cy5qb2luKCc6JykudHJpbSgpXG4gICAgICBoZWFkZXJzLmFwcGVuZChrZXksIHZhbHVlKVxuICAgIH1cbiAgfSlcbiAgcmV0dXJuIGhlYWRlcnNcbn1cblxuQm9keS5jYWxsKFJlcXVlc3QucHJvdG90eXBlKVxuXG5leHBvcnQgZnVuY3Rpb24gUmVzcG9uc2UoYm9keUluaXQsIG9wdGlvbnMpIHtcbiAgaWYgKCFvcHRpb25zKSB7XG4gICAgb3B0aW9ucyA9IHt9XG4gIH1cblxuICB0aGlzLnR5cGUgPSAnZGVmYXVsdCdcbiAgdGhpcy5zdGF0dXMgPSBvcHRpb25zLnN0YXR1cyA9PT0gdW5kZWZpbmVkID8gMjAwIDogb3B0aW9ucy5zdGF0dXNcbiAgdGhpcy5vayA9IHRoaXMuc3RhdHVzID49IDIwMCAmJiB0aGlzLnN0YXR1cyA8IDMwMFxuICB0aGlzLnN0YXR1c1RleHQgPSAnc3RhdHVzVGV4dCcgaW4gb3B0aW9ucyA/IG9wdGlvbnMuc3RhdHVzVGV4dCA6ICdPSydcbiAgdGhpcy5oZWFkZXJzID0gbmV3IEhlYWRlcnMob3B0aW9ucy5oZWFkZXJzKVxuICB0aGlzLnVybCA9IG9wdGlvbnMudXJsIHx8ICcnXG4gIHRoaXMuX2luaXRCb2R5KGJvZHlJbml0KVxufVxuXG5Cb2R5LmNhbGwoUmVzcG9uc2UucHJvdG90eXBlKVxuXG5SZXNwb25zZS5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG5ldyBSZXNwb25zZSh0aGlzLl9ib2R5SW5pdCwge1xuICAgIHN0YXR1czogdGhpcy5zdGF0dXMsXG4gICAgc3RhdHVzVGV4dDogdGhpcy5zdGF0dXNUZXh0LFxuICAgIGhlYWRlcnM6IG5ldyBIZWFkZXJzKHRoaXMuaGVhZGVycyksXG4gICAgdXJsOiB0aGlzLnVybFxuICB9KVxufVxuXG5SZXNwb25zZS5lcnJvciA9IGZ1bmN0aW9uKCkge1xuICB2YXIgcmVzcG9uc2UgPSBuZXcgUmVzcG9uc2UobnVsbCwge3N0YXR1czogMCwgc3RhdHVzVGV4dDogJyd9KVxuICByZXNwb25zZS50eXBlID0gJ2Vycm9yJ1xuICByZXR1cm4gcmVzcG9uc2Vcbn1cblxudmFyIHJlZGlyZWN0U3RhdHVzZXMgPSBbMzAxLCAzMDIsIDMwMywgMzA3LCAzMDhdXG5cblJlc3BvbnNlLnJlZGlyZWN0ID0gZnVuY3Rpb24odXJsLCBzdGF0dXMpIHtcbiAgaWYgKHJlZGlyZWN0U3RhdHVzZXMuaW5kZXhPZihzdGF0dXMpID09PSAtMSkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdJbnZhbGlkIHN0YXR1cyBjb2RlJylcbiAgfVxuXG4gIHJldHVybiBuZXcgUmVzcG9uc2UobnVsbCwge3N0YXR1czogc3RhdHVzLCBoZWFkZXJzOiB7bG9jYXRpb246IHVybH19KVxufVxuXG5leHBvcnQgdmFyIERPTUV4Y2VwdGlvbiA9IHNlbGYuRE9NRXhjZXB0aW9uXG50cnkge1xuICBuZXcgRE9NRXhjZXB0aW9uKClcbn0gY2F0Y2ggKGVycikge1xuICBET01FeGNlcHRpb24gPSBmdW5jdGlvbihtZXNzYWdlLCBuYW1lKSB7XG4gICAgdGhpcy5tZXNzYWdlID0gbWVzc2FnZVxuICAgIHRoaXMubmFtZSA9IG5hbWVcbiAgICB2YXIgZXJyb3IgPSBFcnJvcihtZXNzYWdlKVxuICAgIHRoaXMuc3RhY2sgPSBlcnJvci5zdGFja1xuICB9XG4gIERPTUV4Y2VwdGlvbi5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEVycm9yLnByb3RvdHlwZSlcbiAgRE9NRXhjZXB0aW9uLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IERPTUV4Y2VwdGlvblxufVxuXG5leHBvcnQgZnVuY3Rpb24gZmV0Y2goaW5wdXQsIGluaXQpIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgIHZhciByZXF1ZXN0ID0gbmV3IFJlcXVlc3QoaW5wdXQsIGluaXQpXG5cbiAgICBpZiAocmVxdWVzdC5zaWduYWwgJiYgcmVxdWVzdC5zaWduYWwuYWJvcnRlZCkge1xuICAgICAgcmV0dXJuIHJlamVjdChuZXcgRE9NRXhjZXB0aW9uKCdBYm9ydGVkJywgJ0Fib3J0RXJyb3InKSlcbiAgICB9XG5cbiAgICB2YXIgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KClcblxuICAgIGZ1bmN0aW9uIGFib3J0WGhyKCkge1xuICAgICAgeGhyLmFib3J0KClcbiAgICB9XG5cbiAgICB4aHIub25sb2FkID0gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgb3B0aW9ucyA9IHtcbiAgICAgICAgc3RhdHVzOiB4aHIuc3RhdHVzLFxuICAgICAgICBzdGF0dXNUZXh0OiB4aHIuc3RhdHVzVGV4dCxcbiAgICAgICAgaGVhZGVyczogcGFyc2VIZWFkZXJzKHhoci5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKSB8fCAnJylcbiAgICAgIH1cbiAgICAgIG9wdGlvbnMudXJsID0gJ3Jlc3BvbnNlVVJMJyBpbiB4aHIgPyB4aHIucmVzcG9uc2VVUkwgOiBvcHRpb25zLmhlYWRlcnMuZ2V0KCdYLVJlcXVlc3QtVVJMJylcbiAgICAgIHZhciBib2R5ID0gJ3Jlc3BvbnNlJyBpbiB4aHIgPyB4aHIucmVzcG9uc2UgOiB4aHIucmVzcG9uc2VUZXh0XG4gICAgICByZXNvbHZlKG5ldyBSZXNwb25zZShib2R5LCBvcHRpb25zKSlcbiAgICB9XG5cbiAgICB4aHIub25lcnJvciA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmVqZWN0KG5ldyBUeXBlRXJyb3IoJ05ldHdvcmsgcmVxdWVzdCBmYWlsZWQnKSlcbiAgICB9XG5cbiAgICB4aHIub250aW1lb3V0ID0gZnVuY3Rpb24oKSB7XG4gICAgICByZWplY3QobmV3IFR5cGVFcnJvcignTmV0d29yayByZXF1ZXN0IGZhaWxlZCcpKVxuICAgIH1cblxuICAgIHhoci5vbmFib3J0ID0gZnVuY3Rpb24oKSB7XG4gICAgICByZWplY3QobmV3IERPTUV4Y2VwdGlvbignQWJvcnRlZCcsICdBYm9ydEVycm9yJykpXG4gICAgfVxuXG4gICAgeGhyLm9wZW4ocmVxdWVzdC5tZXRob2QsIHJlcXVlc3QudXJsLCB0cnVlKVxuXG4gICAgaWYgKHJlcXVlc3QuY3JlZGVudGlhbHMgPT09ICdpbmNsdWRlJykge1xuICAgICAgeGhyLndpdGhDcmVkZW50aWFscyA9IHRydWVcbiAgICB9IGVsc2UgaWYgKHJlcXVlc3QuY3JlZGVudGlhbHMgPT09ICdvbWl0Jykge1xuICAgICAgeGhyLndpdGhDcmVkZW50aWFscyA9IGZhbHNlXG4gICAgfVxuXG4gICAgaWYgKCdyZXNwb25zZVR5cGUnIGluIHhociAmJiBzdXBwb3J0LmJsb2IpIHtcbiAgICAgIHhoci5yZXNwb25zZVR5cGUgPSAnYmxvYidcbiAgICB9XG5cbiAgICByZXF1ZXN0LmhlYWRlcnMuZm9yRWFjaChmdW5jdGlvbih2YWx1ZSwgbmFtZSkge1xuICAgICAgeGhyLnNldFJlcXVlc3RIZWFkZXIobmFtZSwgdmFsdWUpXG4gICAgfSlcblxuICAgIGlmIChyZXF1ZXN0LnNpZ25hbCkge1xuICAgICAgcmVxdWVzdC5zaWduYWwuYWRkRXZlbnRMaXN0ZW5lcignYWJvcnQnLCBhYm9ydFhocilcblxuICAgICAgeGhyLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAvLyBET05FIChzdWNjZXNzIG9yIGZhaWx1cmUpXG4gICAgICAgIGlmICh4aHIucmVhZHlTdGF0ZSA9PT0gNCkge1xuICAgICAgICAgIHJlcXVlc3Quc2lnbmFsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2Fib3J0JywgYWJvcnRYaHIpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICB4aHIuc2VuZCh0eXBlb2YgcmVxdWVzdC5fYm9keUluaXQgPT09ICd1bmRlZmluZWQnID8gbnVsbCA6IHJlcXVlc3QuX2JvZHlJbml0KVxuICB9KVxufVxuXG5mZXRjaC5wb2x5ZmlsbCA9IHRydWVcblxuaWYgKCFzZWxmLmZldGNoKSB7XG4gIHNlbGYuZmV0Y2ggPSBmZXRjaFxuICBzZWxmLkhlYWRlcnMgPSBIZWFkZXJzXG4gIHNlbGYuUmVxdWVzdCA9IFJlcXVlc3RcbiAgc2VsZi5SZXNwb25zZSA9IFJlc3BvbnNlXG59XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vd2hhdHdnLWZldGNoL2ZldGNoLmpzXG4vLyBtb2R1bGUgaWQgPSA1NVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwic291cmNlUm9vdCI6IiJ9