/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// identity function for calling harmony imports with the correct context
/******/ 	__webpack_require__.i = function(value) { return value; };
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, {
/******/ 				configurable: false,
/******/ 				enumerable: true,
/******/ 				get: getter
/******/ 			});
/******/ 		}
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 56);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
var CONST = exports.CONST = {
    url: {
        tmTypes: {
            followingT: 'FOLLOWING',
            followingSubT: ['FOLLOWING_BY_LIST', 'FOLLOWING_BY_ACTIVE_AUDIENCE'],
            unfollowingT: 'UNFOLLOWING',
            unfollowingSubT: ['UNFOLLOWING_BY_LIST', 'UNFOLLOWING_BY_ALL', 'UNFOLLOWING_BY_NON_RECIPROCAL'],
            chatBotT: 'CHAT_BOT',
            chatBotSubT: ['DEFAULT_CHAT_BOT'],
            automessagesT: 'AUTO_ANSWER',
            automessagesSubT: ['DEFAULT_AUTO_ANSWER'],
            autogreetT: 'AUTO_GREETING',
            autogreetSubT: ['DEFAULT_AUTO_GREETING'],
            storiesT: 'STORIES',
            storiesSubT: ['STORIES_BY_LIST', 'STORIES_BY_FOLLOWERS', 'STORIES_BY_ACTIVE_AUDIENCE'],
            autocommentsT: 'AUTO_COMMENT',
            autocommentsSubT: ['DEFAULT_AUTO_COMMENT']
        },
        base: 'http://api.luxgram.ru/v1/',
        registration: 'registration/basic/',
        login: 'registration/basic/login',
        confirmation: 'registration/basic/confirmation?token',

        // -------------------------
        instagram_addAccount: 'instagram-accounts/',
        instagramAccount_getMetaData: 'instagram-accounts/meta',
        instagram_getAccountByUser: function instagram_getAccountByUser(username) {
            return 'instagram-accounts/meta/' + username;
        },
        instagram_modifyAccount: function instagram_modifyAccount(username) {
            return 'instagram-accounts/' + username;
        },
        instagramTaskManager_getPosts: function instagramTaskManager_getPosts(accountName) {
            return 'instagram-accounts/' + accountName + '/posts';
        },

        // -instagram-accounts------------------------
        instagramAccount_checkpoint: 'instagram-accounts/checkpoint/',
        instagramAccount_confirmKey: 'instagram-accounts/checkpoint/',

        // -instagram-direct------------------------
        instagramDirect_Basic: 'instagram-direct',
        instagramDirect_postMessage: 'instagram-direct/',
        instagramDirect_getMetaData: 'instagram-direct/meta',
        instagramDirect_RequestPending: 'instagram-direct/pending',
        // http://api.luxgram.ru/v1/instagram-direct/{username}/{id}/photo

        // -instagram-task-manager------------------------
        instagramTaskManager: 'instagram-task-manager/',
        instagramTaskManager_getMetaData: 'instagram-task-manager/meta',
        instagramTaskManager_getTaskByTypes: 'instagram-task-manager/meta/type/',
        // --------------
        instagramTaskManager_getDefaultConfigs: 'instagram-task-manager/config/type', // {TYPE}/subtype/{SUBTYPE}
        // --------------
        instagramTaskManager_postStartFollowingList: 'instagram-task-manager/task',
        instagramTaskManager_postStartTask: 'instagram-task-manager/task',
        instagramTaskManager_getTaskTypes: 'instagram-task-manager/task/types',
        instagramTaskManager_putStopTaskByID: function instagramTaskManager_putStopTaskByID(id) {
            return 'instagram-task-manager/task/' + id;
        },
        instagramTaskManager_delRemoveTaskByID: function instagramTaskManager_delRemoveTaskByID(id) {
            return 'instagram-task-manager/task/' + id;
        },
        instagramTaskManager_postImageAttachment: 'instagram-task-manager/task/attachment/image',
        instagramTaskManager_postTextAttachment: 'instagram-task-manager/task/attachment/users_list',
        instagramTaskManager_getLogsChatBot: 'instagram-task-manager/logs/type/' // {TYPE}/subtype/{SUBTYPE}/account/{username}?page={page}
    },
    user: {
        defaulAvatar: 'https://i.imgur.com/jNNT4LE.png', // todo: get from designer
        email: '',
        password: '',
        token: ''
    },
    cookieStorage: {
        token: 'user_logged',
        emailConfirmed: 'email_confirmed'
    },
    uiSelectors: {
        headerLoginBox: 'nav .login-box',
        headerNavLoginBtn: 'nav ul li .js_login',
        headerRegBox: 'nav .register-box',
        headerRegBtn: 'nav ul li .js_register',
        instagram: {
            addAccountBtnSelector: '#js_show-login-box',
            addAccountBtnId: 'js_show-login-box'
        }
    },
    events: {
        USER_LOGGED: 'user_logged',
        USER_LOGOUT: 'user_logout',
        USER_EMAIL_CONFIRMED: 'user_email_confirmed',
        STOP_FIXED_SPINNER: 'stop_fixed_spinner',
        messages: {
            RECIEVE_NEW_MESSAGE: 'receive_new_message'
        },
        instagramAccouns: {
            INSTAGRAM_ACCOUNS_NEED_REFRESH: 'instagram_accouns_need_refresh',
            INSTAGRAM_ACCOUNS_RENDERED: 'instagram_accouns_rendered',
            INSTAGRAM_ACCOUNS_RENDERED_LAZY: 'instagram_accouns_rendered_lazy'
        },
        modal: {
            IMAGE_POST_SELECTED: 'image_post_selected',
            IMAGE_UPLOADED_AVATAR: 'IMAGE_UPLOADED_AVATAR'
        },
        autoarnswer: {
            IMAGE_UPLOADED: 'image_loaded',
            TEXT_FILE_UPLOADED: 'text_file_uploaded'
        },
        tasks: {
            NEW_TASK_CREATED: 'new_task_created'
        },
        logs: {
            STOP_LOGS: 'stop_logs'
        }
    },
    logsState: {
        selectCls: 'js_logs-accounts',
        selectClsLogsTaskType: 'js_logs-subtypes',
        wrapperSubtype: '.log-subype'
    },
    getPath: function getPath(name, id) {
        if (typeof this.url[name] === 'function' && id) {
            return this.url.base + this.url[name](id);
        }
        return this.url.base + this.url[name];
    },
    getPathTypeSubtype: function getPathTypeSubtype(name, path, page) {
        var type = path.type,
            subtype = path.subtype,
            username = path.username;

        if (typeof this.url[name] === 'function' && type && subtype) {
            if (username && page) {
                return this.url.base + this.url[name](path, page);
            }
            if (username) {
                return this.url.base + this.url[name](path);
            }
            return this.url.base + this.url[name](type, subtype);
        }
        return this.url.base + this.url[name];
    },
    getPathByArr: function getPathByArr(name, array, page) {
        var base = this.url.base + this.url[name];
        var reducer = function reducer(accumulator, currentValue) {
            return accumulator + '/' + currentValue;
        };
        var url = base + array.reduce(reducer); // ${type}/subtype/${subtype}
        // console.log(url);
        if (page) {
            return url + '?page=' + page;
        }
        return url;
    }
};

/***/ }),
/* 1 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
// import $ from 'jquery';
// import {CONST} from './consts';

function viewUtils() {
    function showInfoMessage(selector, message1, message2) {
        $(selector).empty().append('' + (message1 ? '<p>status: ' + message1 + '</p>' : '')).append('<p>' + message2 + ' </p>');
    }

    function fillList($list, dataArray) {
        var items = dataArray;
        var cList = $list;
        cList.empty();
        items.forEach(function (item, i) {
            var li = $('<li class="list-group-item"></li>').appendTo(cList);
            $('<a/>').addClass('ui-all').text(item.username).appendTo(li);
        });
    }

    function isEmail(email) {
        /* eslint-disable */
        var regex = /^([a-zA-Z0-9_.+-])+\@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/;
        return regex.test(email);
        /* eslint-enable */
    }

    function getFormattedDateUtil(tStamp, showFullTime) {
        var date = new Date(tStamp);

        var month = date.getMonth() + 1;
        var day = date.getDate();
        var hour = date.getHours();
        var min = date.getMinutes();
        // let sec = date.getSeconds();

        month = (month < 10 ? '0' : '') + month;
        day = (day < 10 ? '0' : '') + day;
        hour = (hour < 10 ? '0' : '') + hour;
        min = (min < 10 ? '0' : '') + min;
        // sec = (sec < 10 ? '0' : '') + sec;

        var str = '';
        if (!showFullTime) {
            str = hour + ':' + min;
        } else {
            // str = `${date.getFullYear()}-${month}-${day} ${hour}:${min}:${sec}`;
            str = day + '-' + month + '-' + date.getFullYear() + ' ' + hour + ':' + min;
        }

        return str;
    }

    function isEmpty(obj) {
        return !obj || Object.keys(obj).length === 0;
    }

    function fillRadioGroupList($wrapper, taskModes, _actionText) {
        if (isEmpty(taskModes)) {
            console.info('taskModes is empty');
        }
        var actionText = _actionText || 'подписок'; // todo
        var radioBtnReducer = function radioBtnReducer(item, val) {
            switch (item) {
                case 'AGGRESSIVE':
                    return '<input type="radio" id="' + item + '" name="customRadio" value="' + item + '" class="custom-control-input">\n                    <label class="custom-control-label" for="' + item + '"><strong>\u0410\u0433\u0440\u0435\u0441\u0441\u0438\u0432\u043D\u044B\u0439:</strong> ' + val + ' ' + actionText + ' \u0432 \u0447\u0430\u0441</label>';
                case 'MIDDLE':
                    return '<input type="radio" id="' + item + '" name="customRadio" value="' + item + '" class="custom-control-input">\n                    <label class="custom-control-label" for="' + item + '"><strong>\u0421\u0440\u0435\u0434\u043D\u0438\u0439:</strong> ' + val + ' ' + actionText + ' \u0432 \u0447\u0430\u0441</label>';
                case 'SAFE':
                    return '<input type="radio" id="' + item + '" name="customRadio" value="' + item + '" class="custom-control-input" checked>\n                    <label class="custom-control-label" for="' + item + '"><strong>\u0411\u0435\u0437\u043E\u043F\u0430\u0441\u043D\u044B\u0439:</strong> ' + val + ' ' + actionText + ' \u0432 \u0447\u0430\u0441</label>';
                default:
                    console.log('default', item);
            }
        };
        // console.log('draw speed radioBtn');
        $wrapper.empty();
        for (var item in taskModes) {
            // console.log('structure: ' + item);
            if (Object.prototype.hasOwnProperty.call(taskModes, item)) {
                $('<div class="custom-control custom-radio">\n                ' + radioBtnReducer(item, taskModes[item]) + '\n            </div>').appendTo($wrapper);
            }
        }
    }

    function getValByCommaSeparator($el) {
        return $el.val().trim().split(',').map(function (i) {
            return i.trim().replace('↵', '');
        }).filter(function (i) {
            return i.length > 0;
        });
    }

    /**
     * cfg ={ logsState, cbFN() }
     */
    function addDropdown($wrapper, items, cfg) {
        var textRusArray = cfg.textRusArray,
            logsState = cfg.logsState;
        var selectClsLogsTaskType = logsState.selectClsLogsTaskType;

        var label = 'Выберите тип';
        var getRus = function getRus(idx) {
            var isTextUnfollow = textRusArray && !!textRusArray.length;
            switch (idx) {
                case 0:
                    return isTextUnfollow ? textRusArray[idx] : 'По подписчикам';
                case 1:
                    return isTextUnfollow ? textRusArray[idx] : 'По активной аудитории конкурентов';
                case 2:
                    return isTextUnfollow ? textRusArray[idx] : 'default - (3)';
                default:
                    return 'default';
            }
        };
        $wrapper.empty().addClass('border-light-color');
        $('<div class="">' + label + '</div><select name="task-subtype" class="' + selectClsLogsTaskType + '"></select>').appendTo($wrapper);
        if (!items.length) {
            return;
        }
        if (cfg.isRenderEmptyOption) {
            $('<option class="list-group-item py-2 js_empty-subtype" value="---">---</option>').appendTo($('.' + selectClsLogsTaskType));
        }
        items.forEach(function (name, idx) {
            $('<option class="list-group-item py-2" value="' + name + '">\n                ' + getRus(idx) + '\n            </option>').appendTo($('.' + selectClsLogsTaskType));
        });
        if (cfg.dropdownOnSelectCb) {
            $('.' + selectClsLogsTaskType).on('change', function () {
                cfg.dropdownOnSelectCb();
            });
        }
    }

    return {
        showInfoMessage: showInfoMessage,
        fillList: fillList,
        fillRadioGroupList: fillRadioGroupList,
        isEmail: isEmail,
        getFormattedDateUtil: getFormattedDateUtil,
        getValByCommaSeparator: getValByCommaSeparator,
        addDropdown: addDropdown
    };
}

exports.default = viewUtils();

/***/ }),
/* 2 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); // import $ from 'jquery';


var _consts = __webpack_require__(0);

var _network = __webpack_require__(16);

var _network2 = _interopRequireDefault(_network);

var _cookie = __webpack_require__(4);

var _cookie2 = _interopRequireDefault(_cookie);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var objToArr = function objToArr(obj) {
    if (obj && obj.subtype) {
        if (!obj.subtype.includes('subtype/')) {
            obj.subtype = 'subtype/' + obj.subtype;
        }
    }
    return Object.values(obj);
};

var UserTaskManager = function () {
    function UserTaskManager() {
        _classCallCheck(this, UserTaskManager);

        this.network = new _network2.default();
        this.cookieStorage = _cookie2.default;
        this.settingPost = {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
                'Accept': 'application/json'
            }
        };
        this.postStartFollowingList = this.postStartFollowingList;
        this.postStartTask = this.postStartTask;
    }

    // isLoggedIn() {
    //     return !!this.getToken();
    // }
    //
    // isEmailConfirmed() {
    //     return (this.cookieStorage.get(CONST.cookieStorage.emailConfirmed) === 'confirmed');
    // }


    _createClass(UserTaskManager, [{
        key: 'getToken',
        value: function getToken(asHeader) {
            var cookieToken = this.cookieStorage.get(_consts.CONST.cookieStorage.token);
            return asHeader ? { headers: { token: cookieToken } } : cookieToken;
        }
    }, {
        key: 'getMetadata',
        value: function getMetadata(path, cbError) {
            var pathArr = objToArr(path);
            return this.network.sendRequest('' + _consts.CONST.getPathByArr('instagramTaskManager_getTaskByTypes', pathArr), this.getToken('asHeader'), cbError);
        }
    }, {
        key: 'getMetadataLazy',
        value: function getMetadataLazy(path, cbError) {
            var pathArr = objToArr(path);
            pathArr.push('?lazy=true');
            return this.network.sendRequest('' + _consts.CONST.getPathByArr('instagramTaskManager_getTaskByTypes', pathArr), this.getToken('asHeader'), cbError);
        }
    }, {
        key: 'getTaskTypes',
        value: function getTaskTypes(details, cbError) {
            return this.network.sendRequest('' + _consts.CONST.getPath('instagramTaskManager_getTaskTypes'), this.getToken('asHeader'), cbError);
        }
    }, {
        key: 'stopTaskByID',
        value: function stopTaskByID(taskId, cbError) {
            var setting = _extends({}, this.settingPost, {
                method: 'PUT',
                headers: _extends({}, this.settingPost.headers, {
                    'token': this.getToken()
                })
            });
            var url = _consts.CONST.getPath('instagramTaskManager_putStopTaskByID', taskId);
            return this.network.sendRequest(url, setting, cbError);
        }
    }, {
        key: 'deleteTaskByID',
        value: function deleteTaskByID(taskId, cbError) {
            var setting = _extends({}, this.settingPost, {
                method: 'DELETE',
                headers: _extends({}, this.settingPost.headers, {
                    'token': this.getToken()
                })
            });
            var url = _consts.CONST.getPath('instagramTaskManager_delRemoveTaskByID', taskId);
            return this.network.sendRequest(url, setting, cbError);
        }
    }, {
        key: 'getDefaultConfigs',
        value: function getDefaultConfigs(path, cbError) {
            var url = _consts.CONST.getPath('instagramTaskManager_getDefaultConfigs') + '/' + path.type + '/subtype/' + path.subtype;
            return this.network.sendRequest(url, this.getToken('asHeader'), cbError);
        }
    }, {
        key: 'postStartFollowingList',
        value: function postStartFollowingList(body, cbError, path) {
            var setting = _extends({}, this.settingPost, {
                headers: _extends({}, this.settingPost.headers, {
                    'token': this.getToken(),
                    'X-Auth-Token': 'e2f4336abea440489c51c5c10294ea12'
                })
            });
            setting.body = JSON.stringify(body);
            var url = path ? '' + _consts.CONST.getPath(path) : '' + _consts.CONST.getPath('instagramTaskManager_postStartFollowingList');

            return this.network.sendRequest(url, setting, cbError);
        }
    }, {
        key: 'postStartTask',
        value: function postStartTask(body, cbError) {
            var path = 'instagramTaskManager_postStartTask';
            return this.postStartFollowingList(body, cbError, path);
        }
    }, {
        key: 'postStartComments',
        value: function postStartComments(body, cbError) {
            var path = 'instagramTaskManager_postStartTask';
            return this.postStartFollowingList(body, cbError, path);
        }
    }, {
        key: 'postImageAutomessages',
        value: function postImageAutomessages(body, cbError) {
            var setting = {
                method: 'POST',
                headers: {
                    'token': this.getToken(),
                    'Accept': 'application/json',
                    'Content-type': 'multipart/form-data'
                }
            };
            setting.body = JSON.stringify(body);
            var url = '' + _consts.CONST.getPath('instagramTaskManager_postImageAttachment');

            return this.network.sendRequest(url, setting, cbError);
        }
    }, {
        key: 'getLogsChatBot',
        value: function getLogsChatBot(pathArray, page, cbError) {
            // const pathArr = objToArr(path);
            // console.log('convert path as ARR', pathArray, page);
            return this.network.sendRequest('' + _consts.CONST.getPathByArr('instagramTaskManager_getLogsChatBot', pathArray, page), this.getToken('asHeader'), cbError);
        }
    }, {
        key: 'getPostsAutomessages',
        value: function getPostsAutomessages(details, cbError) {
            var cursor = details.cursor ? '?cursor=' + details.cursor : '';
            // eslint-disable-next-line no-param-reassign
            var urlByUserName = '' + _consts.CONST.getPath('instagramTaskManager_getPosts', details.userName || 'user_not_selected') + cursor;
            return this.network.sendRequest(urlByUserName, this.getToken('asHeader'), cbError);
        }
    }, {
        key: 'getStoriesConfig',
        value: function getStoriesConfig(path, cbError) {
            var url = _consts.CONST.getPath('instagramTaskManager_getDefaultConfigs') + '/' + path.type + '/subtype/' + path.subtype;
            return this.network.sendRequest(url, this.getToken('asHeader'), cbError);
        }
    }]);

    return UserTaskManager;
}();

var userInstance = null;

if (!userInstance) {
    userInstance = new UserTaskManager();
}

exports.default = userInstance;

/***/ }),
/* 3 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); // import $ from 'jquery';


var _consts = __webpack_require__(0);

var _network = __webpack_require__(16);

var _network2 = _interopRequireDefault(_network);

var _cookie = __webpack_require__(4);

var _cookie2 = _interopRequireDefault(_cookie);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var User = function () {
    function User() {
        _classCallCheck(this, User);

        this.network = new _network2.default();
        this.cookieStorage = _cookie2.default;
        this.settingPost = {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
                'Accept': 'application/json'
            }
        };
    }

    _createClass(User, [{
        key: 'isLoggedIn',
        value: function isLoggedIn() {
            return !!this.getToken();
        }
    }, {
        key: 'isEmailConfirmed',
        value: function isEmailConfirmed() {
            return this.cookieStorage.get(_consts.CONST.cookieStorage.emailConfirmed) === 'confirmed';
        }
    }, {
        key: 'getToken',
        value: function getToken(asHeader) {
            var cookieToken = this.cookieStorage.get(_consts.CONST.cookieStorage.token);
            return asHeader ? { headers: { token: cookieToken } } : cookieToken;
        }
    }, {
        key: 'login',
        value: function login(formData, cbError) {
            var setting = _extends({}, this.settingPost, { body: JSON.stringify(formData) });
            return this.network.sendRequest(_consts.CONST.getPath('login'), setting, cbError);
        }
    }, {
        key: 'addInstagramAccount',
        value: function addInstagramAccount(formData, cbError) {
            var username = formData.username,
                password = formData.password,
                ip = formData.ip,
                port = formData.port,
                usernameProxy = formData.usernameProxy,
                passwordProxy = formData.passwordProxy;

            // TODO: del proxyTMP after beta-testing

            var proxyTMP = {
                'proxy': {
                    'host': ip,
                    port: port,
                    username: usernameProxy,
                    password: passwordProxy
                }
            };
            var body = JSON.stringify(_extends({ username: username,
                password: password
            }, proxyTMP));
            var setting = _extends({}, this.settingPost, {
                body: body,
                headers: _extends({}, this.settingPost.headers, {
                    token: this.getToken()
                })
            });

            return this.network.sendRequest(_consts.CONST.getPath('instagram_addAccount'), setting, cbError);
        }
    }, {
        key: 'editInstagramAccount',
        value: function editInstagramAccount(username, body) {
            var setting = {
                method: 'PUT',
                headers: _extends({}, this.settingPost.headers, {
                    'token': this.getToken()
                }),
                body: body
            };
            var url = '' + _consts.CONST.getPath('instagram_modifyAccount', username);
            console.log(url);
            return this.network.sendRequest('' + _consts.CONST.getPath('instagram_modifyAccount', username), setting);
        }
    }, {
        key: 'updateInstagramAccount',
        value: function updateInstagramAccount(username, body) {
            var setting = {
                headers: _extends({}, this.settingPost.headers, {
                    'token': this.getToken()
                }),
                body: body
            };
            // const url = `${CONST.getPath('instagram_modifyAccount', username)}`;
            // console.log(url);
            return this.network.sendRequest('' + _consts.CONST.getPath('instagram_getAccountByUser', username), setting);
        }
    }, {
        key: 'delInstagramAccount',
        value: function delInstagramAccount(username) {
            var setting = {
                method: 'DELETE',
                headers: _extends({}, this.settingPost.headers, {
                    'token': this.getToken()
                })
            };
            return this.network.sendRequest('' + _consts.CONST.getPath('instagram_modifyAccount', username), setting);
        }

        // getInstagramAccount() {
        //     const setting = {
        //         ...this.settingPost,
        //         method: 'GET',
        //         headers: {
        //             ...this.settingPost.headers,
        //             token: this.getToken()
        //         }
        //     };
        //     return this.network.sendRequest(CONST.getPath('instagram_addAccount'), setting);
        // }

    }, {
        key: 'confirm',
        value: function confirm(token) {
            // const confirmUrl = CONST.getPath('confirmation');
            return this.network.sendRequest('' + (_consts.CONST.getPath('confirmation') + token));
        }
    }, {
        key: 'register',
        value: function register(formData) {
            var setting = _extends({}, this.settingPost, {
                body: JSON.stringify(formData)
            });
            return this.network.sendRequest(_consts.CONST.getPath('registration'), setting);
        }

        // todo: move to account-list

    }, {
        key: 'getMetadata',
        value: function getMetadata(cbError) {
            return this.network.sendRequest('' + _consts.CONST.getPath('instagramAccount_getMetaData'), this.getToken('asHeader'), cbError);
        }
    }, {
        key: 'getMetadataLazy',
        value: function getMetadataLazy(cbError) {
            return this.network.sendRequest(_consts.CONST.getPath('instagramAccount_getMetaData') + '?lazy=true', this.getToken('asHeader'), cbError);
        }
    }, {
        key: 'getSecurityKey',
        value: function getSecurityKey(username, checkpointType) {
            var setting = _extends({}, this.settingPost, {
                body: JSON.stringify({ 'type': checkpointType }), // todo: tmp set, it should be 'type'
                headers: _extends({}, this.settingPost.headers, {
                    'token': this.getToken()
                })
            });
            return this.network.sendRequest('' + _consts.CONST.getPath('instagramAccount_checkpoint') + username, setting);
        }
    }, {
        key: 'confirmSecurityKey',
        value: function confirmSecurityKey(key, username) {
            var setting = {
                method: 'DELETE',
                body: JSON.stringify({ 'security_code': key }),
                headers: _extends({}, this.settingPost.headers, {
                    'token': this.getToken()
                })
            };
            return this.network.sendRequest('' + _consts.CONST.getPath('instagramAccount_confirmKey') + username, setting);
        }
    }]);

    return User;
}();

var userInstance = null;

if (!userInstance) {
    userInstance = new User();
}

exports.default = userInstance;

/***/ }),
/* 4 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"]) _i["return"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError("Invalid attempt to destructure non-iterable instance"); } }; }();

var CookieSrv = {
    get: function get(name) {
        var c = document.cookie.match('(?:(?:^|.*; *)' + name + ' *= *([^;]*).*$)|^.*$')[1];
        if (c) {
            return decodeURIComponent(c);
        }
    },
    set: function set(name, value) {
        var opts = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : { path: '/', days: 365 };

        if (opts.days) {
            opts['max-age'] = opts.days * 60 * 60 * 24;
            delete opts.days;
        }
        // eslint-disable-next-line no-param-reassign
        opts = Object.entries(opts).reduce(function (str, _ref) {
            var _ref2 = _slicedToArray(_ref, 2),
                k = _ref2[0],
                v = _ref2[1];

            return str + '; ' + k + '=' + v;
        }, '');
        document.cookie = name + '=' + (encodeURIComponent(value) + opts);
    },
    remove: function remove(name, opts) {
        return CookieSrv.set(name, '', _extends({ 'max-age': -1, path: '/', days: 0 }, opts)
        // path & domain must match cookie being deleted
        );
    } };

/*
class CookieStorage {
    read(key) {
        const value = $.cookie(key);
        return value === undefined ? null : value;
    }

    setCookie(name, value, days) {
        let expires = '';
        if (days) {
            const date = new Date();
            date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));
            expires = `; expires=${date.toUTCString()}`;
        }
        document.cookie = `${name} =${(value || '') + expires}; path=/`;
    }

    getCookie(name) {
        const value = `; ${document.cookie}`;
        const parts = value.split(`; ${name}=`);
        if (parts.length == 2) {
            return parts.pop().split(';').shift();
        }
    }
}
*/

exports.default = CookieSrv;

/***/ }),
/* 5 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.getTasksData = getTasksData;
exports.init = init;

var _apiTaskManager = __webpack_require__(2);

var _apiTaskManager2 = _interopRequireDefault(_apiTaskManager);

var _view = __webpack_require__(1);

var _view2 = _interopRequireDefault(_view);

var _consts = __webpack_require__(0);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var modeRus = function modeRus(mode) {
    switch (mode) {
        case 'AGGRESSIVE':
            return 'Агрессивный';
        case 'MIDDLE':
            return 'Средний';
        case 'SAFE':
            return ' Безопасный';
        default:
            break;
    }
};

function fillListByState(taskState, $list, item) {
    var progress = item.progress,
        created_at = item.created_at,
        task_id = item.task_id,
        type = item.type,
        status = item.status,
        username = item.username,
        mode = item.mode;

    var addItem = function addItem(tplStop) {
        $('<li class="list-group-item p-0 py-2" data-type="' + type + '" data-task-id="' + task_id + '">\n                ' + tplStop + '\n            </li>').appendTo($list);
    };
    var tplPaused = '<div class="card-block">\n        <h4 class="card-title">\u041D\u0430 \u043F\u0430\u0443\u0437\u0435</h4>\n        <div class="text-right">\n            ' + (progress && progress.timestamp ? '<span class="text-muted">' + _view2.default.getFormattedDateUtil(progress.timestamp) + '</span>' : '') + '\n            ' + (created_at ? '<span class="text-muted">' + _view2.default.getFormattedDateUtil(created_at) + '</span>' : '') + '\n        </div>\n        <span class="text-success">10%</span>\n        <div class="progress mb-3">\n            <div class="progress-bar bg-success" role="progressbar" style="width: 10%; height: 6px;" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100"></div>\n        </div>\n        <button class="btn btn-warning js_btn-delete-task">\u0423\u0434\u0430\u043B\u0438\u0442\u044C</button>';
    var tplProgress = '<div class="no-gutters px-2 row task-progress">\n            <div class="col-6 align-items-center d-flex">\n                <img src="' + sessionStorage.getItem(username) + '" class="rounded-circle avatar" alt="\u0430\u0432\u0430\u0442\u0430\u0440"/>\n                <h2 class="mt-0 mb-1 ml-2">' + username + '</h2>\n            </div>\n            <div class="col-6 col-6--with-borders">\n                <p class="pb-1 name"><b>ID:</b> ' + task_id + '</p>\n                ' + (created_at ? '<p class="pb-1"><b>\u0417\u0430\u043F\u0443\u0449\u0435\u043D\u043E:</b> ' + _view2.default.getFormattedDateUtil(created_at, 'showFullTime') + '</p>' : '') + '\n                ' + (mode ? '<p class="pb-1"><b>\u0420\u0435\u0436\u0438\u043C:</b> ' + modeRus(mode) + '</p>' : '') + '\n                <div class="text-center">\n                    <button class="btn btn-outline-primary js_btn-stop-task"><i class="far fa-pause-circle fa-lg"></i></button>\n                    <!--button class="btn btn-warning js_btn-delete-task ml-3"><i class="far fa-trash-alt fa-lg"></i></button-->\n                </div>\n            </div>\n        </div>';
    var tplStop = '<div class="no-gutters px-2 row task-stopped">\n            <div class="col-6 align-items-center d-flex">\n                <img src="' + sessionStorage.getItem(username) + '" class="rounded-circle avatar" alt="\u0430\u0432\u0430\u0442\u0430\u0440"/>\n                <h2 class="mt-0 mb-1 ml-2">' + username + '</h2>\n            </div>\n            <div class="col-6 col-6--with-borders">\n                <p class="pb-1 name"><b>ID:</b> ' + task_id + '</p>\n                ' + (item.status.reason ? '<p class="my-1">' + status.reason + '</p>' : '') + '\n                ' + (created_at ? '<p class="pb-1"><b>\u0417\u0430\u043F\u0443\u0449\u0435\u043D\u043E:</b> ' + _view2.default.getFormattedDateUtil(created_at, 'showFullTime') + '</p>' : '') + '\n                ' + (mode ? '<p class="pb-1"><b>\u0420\u0435\u0436\u0438\u043C:</b> ' + modeRus(mode) + '</p>' : '') + '\n                <div class="text-center">\n                    <button class="btn btn-warning js_btn-delete-task"><i class="far fa-trash-alt fa-lg"></i></button>\n                </div>\n            </div>\n\n        </div>';
    var tplFinished = '<div class="no-gutters px-2 row task-progress">\n            <div class="col-6 align-items-center d-flex">\n                <img src="' + sessionStorage.getItem(username) + '" class="rounded-circle avatar" alt="\u0430\u0432\u0430\u0442\u0430\u0440"/>\n                <h2 class="mt-0 mb-1 ml-2">' + username + '</h2>\n            </div>\n            <div class="col-6 col-6--with-borders">\n                <p class="pb-1 name"><b>ID:</b> ' + task_id + '</p>\n                ' + (created_at ? '<p class="pb-1"><b>\u0417\u0430\u043F\u0443\u0449\u0435\u043D\u043E:</b> ' + _view2.default.getFormattedDateUtil(created_at, 'showFullTime') + '</p>' : '') + '\n                ' + (mode ? '<p class="pb-1"><b>\u0420\u0435\u0436\u0438\u043C:</b> ' + modeRus(mode) + '</p>' : '') + '\n                <div class="text-center">\n                    <!--<button class="btn btn-outline-primary js_btn-stop-task"><i class="far fa-pause-circle fa-lg"></i></button>-->\n                    <button class="btn btn-warning js_btn-delete-task ml-3"><i class="far fa-trash-alt fa-lg"></i></button>\n                </div>\n            </div>\n        </div>';
    switch (taskState) {
        case 'PAUSED':
            addItem(tplPaused);
            break;
        case 'IN_PROGRESS':
            addItem(tplProgress);
            break;
        case 'GLOBAL_PAUSE':
            addItem(tplProgress);
            break;
        case 'STOPPED':
            addItem(tplStop);
            break;
        case 'FINISHED':
            addItem(tplFinished);
            break;
        default:
            break;
    }
}

function fillListMeta($list, items /* , isRuns*/) {
    // const defaultAvatarSrc = CONST.user.defaulAvatar;
    $list.empty();
    if (!items.length) {
        $('<li class="list-group-item py-2">\n                <p>\u041D\u0435\u0442 \u043D\u0438 \u043E\u0434\u043D\u043E\u0439 \u0437\u0430\u0434\u0430\u0447\u0438.</p>\n            </li>').appendTo($list);
        return;
    }
    items.forEach(function (item) {
        // if ((item.status.state === 'STOPPED' || item.status.state === 'FINISHED') && !isRuns) {
        //     fillListByState(item.status.state, $list, item);
        // } else if ((item.status.state === 'IN_PROGRESS' || item.status.state === 'PAUSED') && isRuns) {
        //     fillListByState(item.status.state, $list, item);
        // }
        fillListByState(item.status.state, $list, item);
    });
    if (!$('li', $list).length) {
        $('<li class="list-group-item py-2">\n            <p>\u041D\u0435\u0442 \u043D\u0438 \u043E\u0434\u043D\u043E\u0439 \u0437\u0430\u0434\u0430\u0447\u0438.</p>\n        </li>').appendTo($list);
    }
}

/* eslint-disable no-use-before-define */
function initHandlers(holders, path) {
    var _path = path || {
        type: _consts.CONST.url.tmTypes.followingT,
        subtype: _consts.CONST.url.tmTypes.followingSubT[0]
    };
    var $btnStopTask = $('.js_btn-stop-task');
    var $btnDelTask = $('.js_btn-delete-task');
    var getTaskID = function getTaskID(e) {
        var btn = $(e.target);
        return btn.closest('li').data('task-id');
    };

    $btnStopTask.on('click', function (e) {
        var taskId = getTaskID(e);
        console.log('STOP Task id', taskId);
        _apiTaskManager2.default.stopTaskByID(taskId).then(function (result) {
            console.log(result);
            getTasksData(holders, _path);
        });
    });

    $btnDelTask.on('click', function (e) {
        var taskId = getTaskID(e);
        console.log('DELETE id', taskId);
        _apiTaskManager2.default.deleteTaskByID(taskId).then(function (result) {
            console.log(result);
            getTasksData(holders, _path);
        });
    });
}

function getTasksData(holders, path) {
    var $all = holders.$all;

    var _path = path || {
        type: _consts.CONST.url.tmTypes.followingT,
        subtype: _consts.CONST.url.tmTypes.followingSubT[0]
    };
    _apiTaskManager2.default.getMetadata(_path).then(function (result) {
        // console.log('getMetadata & fillListMeta', result);
        if (result.status.state === 'ok') {
            // fillListMeta($runs, result.data.meta, 'isRuns');
            fillListMeta($all, result.data.meta, 'isAll');
            initHandlers(holders, path);
        }
    });
}

/**
 * Init
 */
function init() {
    var holders = {
        $runs: $('.follow-tasks-runs'),
        $stopped: $('.follow-tasks-stopped'),
        $all: $('.follow-tasks-all')
    };
    getTasksData(holders);
    window.PubSub.subscribe(_consts.CONST.events.tasks.NEW_TASK_CREATED, function (eventName, data) {
        var _path = {
            type: _consts.CONST.url.tmTypes.followingT,
            subtype: _consts.CONST.url.tmTypes.followingSubT[0]
        };
        getTasksData(holders, _path);
    });
}

/***/ }),
/* 6 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.init = init;

var _consts = __webpack_require__(0);

// import 'brutusin-json-forms';
var state = {
    username: ''
};
var wizardFormSelector = '.wizard-form';

/**
 * Init header
 */
function initSteps(formSelector, wizardCfg) {
    var $form = $(formSelector);
    var stepReducer = wizardCfg.stepReducer,
        onSubmitHandler = wizardCfg.onSubmitHandler;

    $('.js_profile-user-follow>.container').removeClass('container');

    $form.find('fieldset:first-child').fadeIn('slow');

    $form.find('input[type="text"]').on('focus', function () {
        $(this).removeClass('input-error');
    });

    // next step
    $form.find('.btn-next').on('click', function () {
        var parent_fieldset = $(this).parents('fieldset');
        var next_step = true;
        var radioBtnActive = parent_fieldset.find('input[name="userAccountRadio"]:checked');

        if (radioBtnActive.length > 0) {
            state.username = radioBtnActive.parents('li').data('username');
        }

        if (stepReducer) {
            stepReducer(parent_fieldset.index(), state);
        }

        parent_fieldset.find('input[type="text"],input[type="email"]').each(function () {
            if ($(this).val() === '') {
                $(this).addClass('input-error');
                next_step = false;
            } else {
                $(this).removeClass('input-error');
            }
        });

        if (next_step) {
            parent_fieldset.fadeOut(400, function () {
                $(this).next().fadeIn();
            });
        }
    });

    // previous step
    $form.find('.btn-previous').on('click', function () {
        // state.username = [...new Set(state.username)];
        $(this).parents('fieldset').fadeOut(400, function () {
            $(this).prev().fadeIn();
        });
    });

    // speed radio-btn group
    $('.js_follow-speed input[type=radio]').on('click', function () {
        // const value = $(this).attr('value');
        // state.user_default_config = {
        //     task_mode: value.toUpperCase()
        // };
    });

    // submit
    $form.on('submit', function (e) {
        $(this).find('input[type="text"],input[type="number"],input[type="email"]').each(function () {
            if ($(this).val() === '') {
                e.preventDefault();
                $(this).addClass('input-error');
            } else {
                $(this).removeClass('input-error');
            }
        });

        if (onSubmitHandler) {
            onSubmitHandler(e);
        }

        console.log('SubmitHandler END');
    });

    // alert close
    $('.form-submit-finish .close').on('click', function (e) {
        console.log('form-submit-finish .close');
        $(this).closest('.form-submit-finish').removeClass('d-block');
        e.stopPropagation();
        // $(this).closest('form-submit-finish').removeClass('d-block');
        // $('#v-pills-runned-tab').trigger('click');
        // window.PubSub.publish(CONST.events.tasks.NEW_TASK_CREATED);
    });

    $('#v-pills-create-task-tab').on('click', function (e) {
        console.log('reset form');
        if ($('fieldset:first-child').css('display') === 'none') {
            $form.find('fieldset').hide('fast', function () {
                $form.find('fieldset:first-child').show('slow');
            });
        }
        $('.form-submit-finish').removeClass('d-block');
        // clear all val in textarea and input (except radio)
        $('fieldset', wizardFormSelector).find('input:not([type="radio"]), textarea').val('');
    });
}

/*
function fixStepIndicator(n) {
    // This function removes the "active" class of all steps...
    var i, x = document.getElementsByClassName("step");
    for (i = 0; i < x.length; i++) {
        x[i].className = x[i].className.replace(" active", "");
    }
    //... and adds the "active" class on the current step:
    x[n].className += " active";
}*/

// wrap list as radiogroup
function modifyAccList() {
    var radioBtnAppend = function radioBtnAppend(idx) {
        return '<div class="">\n            <input type="radio" name="userAccountRadio" id="customRadio-' + idx + '" class="custom-control-input d-none" value="">\n        </div>';
    };
    var radioBtnWrap = function radioBtnWrap(idx) {
        return '<label class="accounts-list--label-wrapper col mb-0 media py-3" for="customRadio-' + idx + '"></label>';
    };
    var $accountsList = $('.accounts-list');
    var $li = $accountsList.find('li.media');
    $li.addClass('js_user-radio').removeClass('py-3 media');

    for (var i = 0; i < $li.length; i++) {
        var currLi = $($li[i]);
        currLi.wrapInner(radioBtnWrap(i)).append(radioBtnAppend(i));
        if (currLi.find('.user-checkpoint .text-danger').length) {
            currLi.remove();
        }
    }

    $('.js_user-radio').on('click', 'input[type=radio]', function (e) {
        var $parentFieldset = $(this).parents('fieldset');
        $('li.active', $parentFieldset).removeClass('active');
        $(this).closest('li').addClass('active');
        $('.btn-next', $parentFieldset).prop('disabled', false);
    });
}

function init(wizardCfg) {
    if ($('.wizard-form').length) {
        initSteps(wizardFormSelector, wizardCfg);
        window.PubSub.subscribe(_consts.CONST.events.instagramAccouns.INSTAGRAM_ACCOUNS_RENDERED, function (eventName, data) {
            modifyAccList();
        });
    }
}

/***/ }),
/* 7 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.init = init;

var _consts = __webpack_require__(0);

var _apiTaskManager = __webpack_require__(2);

var _apiTaskManager2 = _interopRequireDefault(_apiTaskManager);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var MAX_IMG_FILE_SIZE_BYTE = 1048576;
var fileUploadBox = '.file-upload';
var fileUploadContent = '.file-upload-content';

function removeUpload($uploadContainer) {
    var input = $uploadContainer.find('input');
    input.replaceWith(input.clone());
    $uploadContainer.find(fileUploadContent).hide();
    $uploadContainer.find('.image-upload-wrap').show();
}

var $imgUploadWrap = $('.image-upload-wrap');
$imgUploadWrap.bind('dragover', function () {
    $('.image-upload-wrap').addClass('image-dropping');
});
$imgUploadWrap.bind('dragleave', function () {
    $('.image-upload-wrap').removeClass('image-dropping');
});

// function abortRead(reader) {
//     reader.abort();
// }

function errorHandler(evt, reader) {
    switch (evt.target.error.code) {
        case evt.target.error.NOT_FOUND_ERR:
            console.info('File Not Found!');
            break;
        case evt.target.error.NOT_READABLE_ERR:
            console.info('File is not readable');
            break;
        case evt.target.error.ABORT_ERR:
            break; // noop
        default:
            console.info('An error occurred reading this file.');
    }
}

function updateProgress(evt, progress) {
    // evt is an ProgressEvent.
    if (evt.lengthComputable) {
        var percentLoaded = Math.round(evt.loaded / evt.total * 100);
        // Increase the progress bar length.
        if (percentLoaded % 10 === 0) {
            // progress.style.width = `${percentLoaded}%`;
            // progress.textContent = `${percentLoaded}%`;
            console.log(percentLoaded);
        }
    }
}

function isFileTypeOk(acceptedFile) {
    return acceptedFile.type === 'image/jpeg';
}

function isImgSizeOk(acceptedFile) {
    var imgSize = Math.round(acceptedFile.size);
    return MAX_IMG_FILE_SIZE_BYTE > imgSize;
}

function handleSubmit(input, replaceWithCfg) {
    var url = _consts.CONST.getPath('instagramTaskManager_postImageAttachment');
    var token = _apiTaskManager2.default.getToken();
    var acceptedFile = input.files[0];
    console.log('handleSubmit');
    // if (!isImgSizeOk(acceptedFile)) {
    //     console.log('show error message, imgSize to big ');
    //     $(fileUploadBox)
    //         .append(`
    //             <p class="msg-max-size-img text-danger">Максимальный допустимый размер картинки ${MAX_IMG_FILE_SIZE_BYTE}MB</p>
    //         `);
    //     setTimeout(() => {
    //         $('.msg-max-size-img').addClass('d-none');
    //     }, 5000);
    //     return;
    // }
    var formData = new FormData();

    var request = new XMLHttpRequest();

    if (replaceWithCfg && replaceWithCfg.replaceWith) {
        // ** edit USER **
        // PUT http://api.luxgram.ru/v1/instagram-accounts/{username}/photo
        // form-data: "photo" (jpg)
        formData.append('photo', acceptedFile, acceptedFile.name);
        var username = replaceWithCfg.username;

        request.open('PUT', 'http://api.luxgram.ru/v1/instagram-accounts/' + username + '/photo');
        // request.withCredentials = true;
        request.setRequestHeader('token', token);
        request.setRequestHeader('Accept', 'application/json');
        request.setRequestHeader('cache-control', 'no-cache');
        request.send(formData);
        request.addEventListener('readystatechange', function () {
            if (this.readyState === 4) {
                console.log('PUT', this.responseText, this);
                // window.PubSub.publish(CONST.events.autoarnswer.IMAGE_UPLOADED, {'response': this.responseText, 'el': input});
                window.PubSub.publish(_consts.CONST.events.autoarnswer.IMAGE_UPLOADED_AVATAR, { 'response': this.response });
            }
        });
        return;
    }
    formData.append('image', acceptedFile, acceptedFile.name);
    request.open('POST', url);
    // request.withCredentials = true;
    request.setRequestHeader('token', token);
    request.setRequestHeader('Accept', 'application/json');
    request.setRequestHeader('cache-control', 'no-cache');
    request.send(formData);
    request.addEventListener('readystatechange', function () {
        if (this.readyState === 4) {
            console.log('this', this.responseText, this);
            window.PubSub.publish(_consts.CONST.events.autoarnswer.IMAGE_UPLOADED, { 'response': this.responseText, 'el': input });
        }
    });
}

function readURL(input, replaceWithCfg, handleSubmitCb) {
    var replaceWith = replaceWithCfg.replaceWith,
        holderCls = replaceWithCfg.holderCls;

    var holder = holderCls ? holderCls : fileUploadBox;
    var $container = $(input).closest(holder);
    if (input.files && input.files[0]) {
        var reader = new FileReader();
        console.log('readURL');
        if (!isImgSizeOk(input.files[0]) || !isFileTypeOk(input.files[0])) {
            console.log('show error message, imgSize to big ');
            $(fileUploadBox).find('warning-image').remove();
            $(fileUploadBox).append('\n                <div class="warning-image text-danger">\n                    <p>\u0414\u043E\u0441\u0442\u0443\u043F\u043D\u044B\u0439 \u0444\u043E\u0440\u043C\u0430\u0442 \u0438\u0437\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u044F jpeg \u0438\u043B\u0438 jpg</p>\n                    <p class="msg-max-size-img text-danger">\u041C\u0430\u043A\u0441\u0438\u043C\u0430\u043B\u044C\u043D\u044B\u0439 \u0434\u043E\u043F\u0443\u0441\u0442\u0438\u043C\u044B\u0439 \u0440\u0430\u0437\u043C\u0435\u0440 \u043A\u0430\u0440\u0442\u0438\u043D\u043A\u0438 ' + MAX_IMG_FILE_SIZE_BYTE / 1024 / 1024 + 'MB</p>\n                </div>\n            ');
            setTimeout(function () {
                $('.warning-image').addClass('d-none');
            }, 5000);
            return;
        }

        reader.onload = function (e) {
            if (!replaceWith) {
                $container.find('.image-upload-wrap').hide();
                $container.find('.file-upload-image').attr('src', e.target.result);
                $container.find(fileUploadContent).show();
                $container.find('.image-title').html(input.files[0].name);
            } else {
                var imageCls = replaceWithCfg.imageCls;

                $container.find(imageCls).attr('src', e.target.result);
            }
        };

        reader.onerror = errorHandler;
        reader.onprogress = updateProgress;

        reader.readAsDataURL(input.files[0]);
        setTimeout(function () {
            if (typeof handleSubmitCb === 'function') {
                var token = _apiTaskManager2.default.getToken();
                handleSubmitCb(input, token);
            } else {
                handleSubmit(input, replaceWithCfg);
            }
        }, 2000);
        // Read in the image file as a binary string.
        // reader.readAsBinaryString(input.files[0]);
    } else {
        removeUpload($container);
    }
}

function init(replaceWithCfg, handleSubmitCb) {
    var uploadBtnCls = !(replaceWithCfg && replaceWithCfg.replaceWith) ? '.file-upload-btn' : replaceWithCfg.uploadBtnCls;
    var $uploadBtn = $(uploadBtnCls);
    var $uploadInput = $('.file-upload-input');
    var $removeImgBtn = $('.remove-image');

    $uploadBtn.off();
    $uploadInput.off();
    $removeImgBtn.off();

    $uploadBtn.on('click', function (e) {
        var toParentCls = !(replaceWithCfg && replaceWithCfg.replaceWith) ? '.col' : replaceWithCfg.holderCls;
        var input = $(e.target).closest(toParentCls).find(fileUploadBox).find('input.file-upload-input');
        input.trigger('click');
        e.stopPropagation();
    });

    $uploadInput.on('change', function (e) {
        readURL(e.target, replaceWithCfg, handleSubmitCb);
    });

    $removeImgBtn.on('click', function (e) {
        var $container = $(e.target).closest('.col').find(fileUploadBox);
        removeUpload($container);
        $container.removeAttr('attached-img-id');
    });
}

/***/ }),
/* 8 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.init = init;

var _apiTaskManager = __webpack_require__(2);

var _apiTaskManager2 = _interopRequireDefault(_apiTaskManager);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var clsConst = {
    currentPageCls: '',
    tasksList: '',
    logsTabBtn: '',
    pagination: '',
    paginationPgNumber: ''
}; /* eslint-disable no-use-before-define */

var $list = '$(clsConst.tasksList)'; // set in preConfig()
var selectCls = 'someClass';
var getUsername = function getUsername() {
    return $('.' + selectCls + ' option:selected').val();
};
var path = {
    username: getUsername()
};
var currentPage = null;
var intervalId = '';

function initHandlerPagination($previous, $next, dataArray) {
    var $wrapper = $(clsConst.pagination);
    var pagination = dataArray.settings.pagination;


    $previous.on('click', function (e) {
        var $liActive = $wrapper.find('li.page-number.active');
        var page = pagination.previous;
        if (!pagination.previous) {
            $previous.addClass('disabled').prop('disabled', 'disabled');
            return;
        }
        currentPage = pagination.previous;
        $liActive.removeClass('active');
        getLogsData($list, path, page);
    });

    $next.on('click', function (e) {
        var $liActive = $wrapper.find('li.page-number.active');
        var currentActiveIdx = $liActive.index();
        var page = pagination.next;
        if (!pagination.next) {
            return;
        }
        currentPage = pagination.next;
        $liActive.removeClass('active');
        // if (lastPage <= currentActiveIdx + 1) {
        //     $(e.target).parent().addClass('disabled');
        // }
        if (currentActiveIdx && $previous.hasClass('disabled')) {
            $previous.removeClass('disabled');
        }
        getLogsData($list, path, page);
    });

    $(clsConst.logsTabBtn).on('click', function (e) {
        // at this point of time setInterval is working
        currentPage = 1;
    });
    $(clsConst.pagination + ' ' + clsConst.paginationPgNumber).on('click', function (e) {
        e.preventDefault();
        var val = $(e.target).text();
        currentPage = parseInt(val, 10);
        getLogsData($list, path, currentPage);
        console.log(currentPage);
    });
}

function addPagination(dataArray, $wrapper) {
    var pagination = dataArray.settings.pagination;

    var tplPrevious = $('<li class="page-item ' + (!pagination.previous ? 'disabled' : '') + '"><a class="page-link" href="#" ' + (!pagination.previous ? 'tabindex="-1"' : '') + '>\u041D\u0430\u0437\u0430\u0434</a></li>');
    var tplNext = $('<li class="page-item ' + (!pagination.next ? 'disabled' : '') + '"><a class="page-link" href="#" ' + (!pagination.next ? 'tabindex="-1"' : '') + '>\u0412\u043F\u0435\u0440\u0435\u0434</a></li>');

    clearPagination($wrapper);

    if (pagination.next || pagination.pages && pagination.current === pagination.pages[pagination.pages.length - 1]) {
        $wrapper.append(tplPrevious);
        if (pagination && pagination['pages']) {
            pagination['pages'].forEach(function (item) {
                $('<li class="page-item page-number ' + (pagination.current === item ? 'active' : '') + '"><a class="page-link" href="#">' + item + '</a></li>').appendTo($wrapper);
            });
        }
        $wrapper.append(tplNext);
    }
    initHandlerPagination(tplPrevious, tplNext, dataArray);
}

function clearPagination($wrapper) {
    $wrapper.empty();
}

function fillListMeta($list, dataArray, isRuns) {
    var $wrapperPagination = $('.logs-pagination');
    var items = dataArray.logs;
    // const defaultAvatarSrc = CONST.user.defaulAvatar;
    $list.empty();
    if (!items.length) {
        $('<li class="list-group-item py-2">\n            <p>\u041D\u0435\u0442 \u043D\u0438 \u043E\u0434\u043D\u043E\u0433\u043E \u043B\u043E\u0433\u0430.</p>\n        </li>').appendTo($list);
        clearPagination($wrapperPagination);
        return;
    }
    addPagination(dataArray, $wrapperPagination);
    items.forEach(function (item) {
        var level = item.level,
            value = item.value;

        $('<li class="list-group-item p-0 py-2">\n              <div class="media-body d-flex">\n                  <div class="col task-type ' + (level === 'ERROR' ? 'text-danger' : '') + ' ' + (level === 'WARN' ? 'text-warning' : '') + '">\n                      ' + (value ? '' + value : '') + '\n                  </div>\n              </div>\n          </li>').appendTo($list);

        if (!$('li', $list).length) {
            $('<li class="list-group-item py-2" >\n                <p>\u041D\u0435\u0442 \u043D\u0438 \u043E\u0434\u043D\u043E\u0433\u043E \u043B\u043E\u0433\u0430.</p>\n            </li>').appendTo($list);
        }
    });
}

function tabStopReqHandler() {
    var $allAsideTabs = $('#v-pills-tab');
    $allAsideTabs.off();
    $allAsideTabs.on('click', 'a', function (e) {
        e.preventDefault();
        var tab = $(e.target);
        if (tab.attr('id') !== 'v-pills-logs-tab') {
            // console.log('stop req');
            if (intervalId) {
                clearInterval(intervalId);
            }
        }
    });
}

function getLogsData($list, path, page) {
    path.username = getUsername(selectCls);
    var pathArr = [path.type, 'subtype/' + path.subtype, 'account/' + path.username];
    _apiTaskManager2.default.getLogsChatBot(pathArr, page).then(function (result) {
        if (result.status.state === 'ok') {
            fillListMeta($list, result.data);
            tabStopReqHandler();
            var updateInterval = result.data.settings.invoke_in_millis;
            // reset Timer request
            if (intervalId) {
                clearInterval(intervalId);
            }
            if (currentPage <= 1) {
                intervalId = setInterval(function () {
                    // eslint-disable-next-line indent
                    getLogsData($list, path, currentPage);
                }, updateInterval);
            }
        } else {
            $('<li class="list-group-item py-2">\n                <p>\u041D\u0435\u0442 \u0434\u043E\u0441\u0442\u0443\u043F\u0430</p>\n            </li>').appendTo($list);
        }
    });
}

function preConfig(cfg) {
    clsConst = cfg;
    $list = $(clsConst.tasksList);
    path.type = cfg.pathType;
    path.subtype = cfg.pathSubType;
}

function init(_selectCls, cfg) {
    if ($(cfg.currentPageCls).length) {
        selectCls = _selectCls;
        preConfig(cfg);
        if (getUsername()) {
            // console.log(getUsername());
            getLogsData($list, path);
        } else {
            console.log('select user');
        }
    }
}

/***/ }),
/* 9 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.init = init;

var _consts = __webpack_require__(0);

var _user = __webpack_require__(3);

var _user2 = _interopRequireDefault(_user);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var fillDropdownUsersCfg = {};

function fillDropdownUsers(_ref, accounts) {
    var $wrapper = _ref.$wrapper,
        logsState = _ref.logsState,
        OnChangeSelectCb = _ref.OnChangeSelectCb;
    var selectCls = logsState.selectCls;

    var label = 'Выберите аккаунт';
    $wrapper.empty().addClass('border-light-color');
    $('<div class="">' + label + '</div><select name="task-type" class="' + selectCls + '"></select>').appendTo($wrapper);
    accounts.forEach(function (name) {
        $('<option class="list-group-item py-2" value="' + name + '">\n            ' + name + '\n        </option>').appendTo($('.' + selectCls));
    });
    OnChangeSelectCb();
}

function getMetaLazy() {
    _user2.default.getMetadataLazy().then(function (res) {
        if (res.status.state === 'ok' && res.data && res.data.accounts) {
            var cfg = fillDropdownUsersCfg;
            var accounts = res.data.accounts;

            fillDropdownUsers(cfg, accounts);
            window.PubSub.publish(_consts.CONST.events.instagramAccouns.INSTAGRAM_ACCOUNS_RENDERED_LAZY, res.data.accounts);
        }
    });
}

function tabHandler(isComputeMultyDropdown) {
    $('#v-pills-logs-tab').on('click', function (e) {
        getMetaLazy();
    });
}

function init(OnChangeSelect, logsState) {
    var $wrapper = $('.log-users-list');
    Object.assign(fillDropdownUsersCfg, { $wrapper: $wrapper, OnChangeSelectCb: OnChangeSelect, logsState: logsState });
    tabHandler();
}

/***/ }),
/* 10 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.nextBtnvalidateCompetitorsHandler = nextBtnvalidateCompetitorsHandler;
exports.initTagsInput = initTagsInput;

__webpack_require__(51);

var tagsinputSelector = '.bootstrap-tagsinput';

function nextBtnvalidateCompetitorsHandler($input, nextStepBtn, igroreRegexCheck) {
    var englishChars = /^[A-Za-z0-9,._ \n]+$/;
    var checkTextArea = function checkTextArea(e, isInit) {
        var inputvalue = !isInit ? $(e.target).closest('div input').val() : '';
        var text = !isInit ? $(e.target).closest('div').find('.bootstrap-tagsinput input').val() + ',' + inputvalue : '';
        var isRemoved = !isInit && e.type === 'itemRemoved';
        var textOnRemove = isRemoved ? inputvalue : '';
        var removeBorder = function removeBorder() {
            // enable on delete all
            $(e.target).closest('.js_tagsinput-box').find(tagsinputSelector).removeClass('border-danger');
            if (nextStepBtn) {
                // disable on checnge
                nextStepBtn.removeAttr('disabled', 'disabled');
            }
        };
        var addBorder = function addBorder() {
            $(e.target).closest('.js_tagsinput-box').find(tagsinputSelector).addClass('border-danger');
        };
        console.log('text', text);
        if (nextStepBtn) {
            // disable on checnge
            nextStepBtn.attr('disabled', 'disabled');
        }
        var isAddedTextValid = text.length && (englishChars.test(text) || !!igroreRegexCheck);
        var isRemovedTextValid = textOnRemove.length && (englishChars.test(textOnRemove) || !!igroreRegexCheck);

        if ((isAddedTextValid || isRemovedTextValid) && text !== ',') {
            // enable on checnge if lengthText>1
            removeBorder();
        } else if (!isInit) {
            // $(e.target).closest('.js_tagsinput-box').find(tagsinputSelector).addClass('border-danger');
            addBorder();
        }
        if (!textOnRemove.length && isRemoved && !isInit) {
            // enable on delete all
            removeBorder();
        }
    };
    // disable on init
    checkTextArea(null, 'isInit');
    console.log('$competitorsTextArea', $input);

    if (!nextStepBtn) {
        // do not validate anything
        return;
    }

    // event.item: contains the item
    // event.cancel: set to true to prevent the item getting added
    $input.on('beforeItemAdd', checkTextArea);

    // event.item: contains the item
    $input.on('itemRemoved', checkTextArea);
}

function initTagsInput($elInput) {
    $elInput.tagsinput('items');
}

/***/ }),
/* 11 */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(module) {/**
 * Copyright (c) 2010,2011,2012,2013,2014 Morgan Roderick http://roderick.dk
 * License: MIT - http://mrgnrdrck.mit-license.org
 *
 * https://github.com/mroderick/PubSubJS
 */

(function (root, factory){
    'use strict';

    var PubSub = {};
    root.PubSub = PubSub;

    var define = root.define;

    factory(PubSub);

    // AMD support
    if (typeof define === 'function' && define.amd){
        define(function() { return PubSub; });

        // CommonJS and Node.js module support
    } else if (true){
        if (module !== undefined && module.exports) {
            exports = module.exports = PubSub; // Node.js specific `module.exports`
        }
        exports.PubSub = PubSub; // CommonJS module 1.1.1 spec
        module.exports = exports = PubSub; // CommonJS
    }

}(( typeof window === 'object' && window ) || this, function (PubSub){
    'use strict';

    var messages = {},
        lastUid = -1;

    function hasKeys(obj){
        var key;

        for (key in obj){
            if ( obj.hasOwnProperty(key) ){
                return true;
            }
        }
        return false;
    }

    /**
     * Returns a function that throws the passed exception, for use as argument for setTimeout
     * @alias throwException
     * @function
     * @param { Object } ex An Error object
     */
    function throwException( ex ){
        return function reThrowException(){
            throw ex;
        };
    }

    function callSubscriberWithDelayedExceptions( subscriber, message, data ){
        try {
            subscriber( message, data );
        } catch( ex ){
            setTimeout( throwException( ex ), 0);
        }
    }

    function callSubscriberWithImmediateExceptions( subscriber, message, data ){
        subscriber( message, data );
    }

    function deliverMessage( originalMessage, matchedMessage, data, immediateExceptions ){
        var subscribers = messages[matchedMessage],
            callSubscriber = immediateExceptions ? callSubscriberWithImmediateExceptions : callSubscriberWithDelayedExceptions,
            s;

        if ( !messages.hasOwnProperty( matchedMessage ) ) {
            return;
        }

        for (s in subscribers){
            if ( subscribers.hasOwnProperty(s)){
                callSubscriber( subscribers[s], originalMessage, data );
            }
        }
    }

    function createDeliveryFunction( message, data, immediateExceptions ){
        return function deliverNamespaced(){
            var topic = String( message ),
                position = topic.lastIndexOf( '.' );

            // deliver the message as it is now
            deliverMessage(message, message, data, immediateExceptions);

            // trim the hierarchy and deliver message to each level
            while( position !== -1 ){
                topic = topic.substr( 0, position );
                position = topic.lastIndexOf('.');
                deliverMessage( message, topic, data, immediateExceptions );
            }
        };
    }

    function messageHasSubscribers( message ){
        var topic = String( message ),
            found = Boolean(messages.hasOwnProperty( topic ) && hasKeys(messages[topic])),
            position = topic.lastIndexOf( '.' );

        while ( !found && position !== -1 ){
            topic = topic.substr( 0, position );
            position = topic.lastIndexOf( '.' );
            found = Boolean(messages.hasOwnProperty( topic ) && hasKeys(messages[topic]));
        }

        return found;
    }

    function publish( message, data, sync, immediateExceptions ){
        message = (typeof message === 'symbol') ? message.toString() : message;

        var deliver = createDeliveryFunction( message, data, immediateExceptions ),
            hasSubscribers = messageHasSubscribers( message );

        if ( !hasSubscribers ){
            return false;
        }

        if ( sync === true ){
            deliver();
        } else {
            setTimeout( deliver, 0 );
        }
        return true;
    }

    /**
     * Publishes the message, passing the data to it's subscribers
     * @function
     * @alias publish
     * @param { String } message The message to publish
     * @param {} data The data to pass to subscribers
     * @return { Boolean }
     */
    PubSub.publish = function( message, data ){
        return publish( message, data, false, PubSub.immediateExceptions );
    };

    /**
     * Publishes the the message synchronously, passing the data to it's subscribers
     * @function
     * @alias publishSync
     * @param { String } message The message to publish
     * @param {} data The data to pass to subscribers
     * @return { Boolean }
     */
    PubSub.publishSync = function( message, data ){
        return publish( message, data, true, PubSub.immediateExceptions );
    };

    /**
     * Subscribes the passed function to the passed message. Every returned token is unique and should be stored if you need to unsubscribe
     * @function
     * @alias subscribe
     * @param { String } message The message to subscribe to
     * @param { Function } func The function to call when a new message is published
     * @return { String }
     */
    PubSub.subscribe = function( message, func ){
        if ( typeof func !== 'function'){
            return false;
        }

        message = (typeof message === 'symbol') ? message.toString() : message;

        // message is not registered yet
        if ( !messages.hasOwnProperty( message ) ){
            messages[message] = {};
        }

        // forcing token as String, to allow for future expansions without breaking usage
        // and allow for easy use as key names for the 'messages' object
        var token = 'uid_' + String(++lastUid);
        messages[message][token] = func;
        
        // return token for unsubscribing
        return token;
    };

    /**
     * Subscribes the passed function to the passed message once
     * @function
     * @alias subscribeOnce
     * @param { String } message The message to subscribe to
     * @param { Function } func The function to call when a new message is published
     * @return { PubSub }
     */
    PubSub.subscribeOnce = function( message, func ){
        var token = PubSub.subscribe( message, function(){
            // before func apply, unsubscribe message
            PubSub.unsubscribe( token );
            func.apply( this, arguments );
        });
        return PubSub;
    };

    /**
     * Clears all subscriptions
     * @function
     * @public
     * @alias clearAllSubscriptions
     */
    PubSub.clearAllSubscriptions = function clearAllSubscriptions(){
        messages = {};
    };

    /**
     * Clear subscriptions by the topic
     * @function
     * @public
     * @alias clearAllSubscriptions
     */
    PubSub.clearSubscriptions = function clearSubscriptions(topic){
        var m;
        for (m in messages){
            if (messages.hasOwnProperty(m) && m.indexOf(topic) === 0){
                delete messages[m];
            }
        }
    };

    /**
     * Removes subscriptions
     *
     * - When passed a token, removes a specific subscription.
     *
	 * - When passed a function, removes all subscriptions for that function
     *
	 * - When passed a topic, removes all subscriptions for that topic (hierarchy)
     * @function
     * @public
     * @alias subscribeOnce
     * @param { String | Function } value A token, function or topic to unsubscribe from
     * @example // Unsubscribing with a token
     * var token = PubSub.subscribe('mytopic', myFunc);
     * PubSub.unsubscribe(token);
     * @example // Unsubscribing with a function
     * PubSub.unsubscribe(myFunc);
     * @example // Unsubscribing from a topic
     * PubSub.unsubscribe('mytopic');
     */
    PubSub.unsubscribe = function(value){
        var descendantTopicExists = function(topic) {
                var m;
                for ( m in messages ){
                    if ( messages.hasOwnProperty(m) && m.indexOf(topic) === 0 ){
                        // a descendant of the topic exists:
                        return true;
                    }
                }

                return false;
            },
            isTopic    = typeof value === 'string' && ( messages.hasOwnProperty(value) || descendantTopicExists(value) ),
            isToken    = !isTopic && typeof value === 'string',
            isFunction = typeof value === 'function',
            result = false,
            m, message, t;

        if (isTopic){
            PubSub.clearSubscriptions(value);
            return;
        }

        for ( m in messages ){
            if ( messages.hasOwnProperty( m ) ){
                message = messages[m];

                if ( isToken && message[value] ){
                    delete message[value];
                    result = value;
                    // tokens are unique, so we can just stop here
                    break;
                }

                if (isFunction) {
                    for ( t in message ){
                        if (message.hasOwnProperty(t) && message[t] === value){
                            delete message[t];
                            result = true;
                        }
                    }
                }
            }
        }

        return result;
    };
}));

/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(54)(module)))

/***/ }),
/* 12 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.fillPosts = fillPosts;
exports.getPosts = getPosts;

var _consts = __webpack_require__(0);

var _apiTaskManager = __webpack_require__(2);

var _apiTaskManager2 = _interopRequireDefault(_apiTaskManager);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/* ---- modal*/
function fillPosts($list, items, isAppendToList) {
    var addToList = function addToList(isAppendPrevMsg, $li, $list) {
        if (isAppendPrevMsg) {
            $li.insertAfter($list.find('li:last-child'));
        } else {
            $li.appendTo($list);
        }
    };
    if (!isAppendToList) {
        $list.empty();
    }
    items.forEach(function (item, idx) {
        var id = item.id,
            type = item.type;

        var tpl = $('<li class="col-4 list-group list-inline-item m-0 p-0" data-post-id="' + id + '" data-post-type="' + type + '">\n            ' + (item.type === 'photo' ? '<img src="' + item.url + '" class="img-responsive p-2" alt="image" style="max-height: 230px;"/>' : '<div class="' + item.type + ' h-100">\n                    <!--style="background-image: url(' + item.url + ');"-->\n                    <img src="' + item.url + '" class="img-responsive p-2 w-100" alt="video-cover" style="max-height: 200px;"/>\n                    <i class="fas fa-video fa-2x position-absolute text-white align-self-start"></i>\n                  </div>') + '\n        </li>');
        addToList(isAppendToList, tpl, $list); // toDo refactor me, less DOM manipulation
    });
}

function addPagination(modalFooter, cursor) {
    $('#load-more').attr('cursor', cursor);
    modalFooter.removeClass('d-none');
}

function hidePagination(modalFooter) {
    modalFooter.addClass('d-none');
}

function imageSelectHandler($list, modal, targetButton) {
    $('li', $list).on('click', function (e) {
        var imageBoxCls = 'js_uploaded-img-from-posts';
        var imageDelBtnCls = 'js_delete-post-img';
        var imageBoxSelector = '.' + imageBoxCls;
        var $btnLi = $(e.target).closest('li');
        var postId = $btnLi.attr('data-post-id');
        var postType = $btnLi.attr('data-post-type');
        var closestCol = targetButton.closest('.col');
        // targetButton.closest('button').attr('data-post-img-id', imgId);
        console.log('click', postType, postId, modal);
        window.PubSub.publish(_consts.CONST.events.modal.IMAGE_POST_SELECTED, { $btnLi: $btnLi, closestCol: closestCol });
        modal.modal('hide');
        if (targetButton.closest('.col').find(imageBoxSelector).length) {
            targetButton.closest('.col').find(imageBoxSelector).remove();
        }

        var tplImageBox = $('<div class="' + imageBoxCls + ' uploaded-img-from-posts" \n                data-post-id="' + postId + '" data-post-type="' + postType + '">\n                    <button class="btn btn-warning uploaded-img-from-posts--remove-btn ml-2 ' + imageDelBtnCls + '">\u0423\u0434\u0430\u043B\u0438\u0442\u044C</button>\n                </div').prepend($btnLi.find('img'));
        targetButton.closest('.col').append(tplImageBox);

        $('.' + imageDelBtnCls).off().on('click', function (e) {
            var currentImageBox = $(e.target).closest('.col').find(imageBoxSelector);
            currentImageBox.remove();
        });
    });
}

function getPosts(modal, details, _ref) {
    var loadMoreHandler = _ref.loadMoreHandler,
        targetButton = _ref.targetButton;

    _apiTaskManager2.default.getPostsAutomessages(details).then(function (result) {
        // console.log(result);
        if (result.status.state === 'ok') {
            var data = result.data;

            var modalFooter = modal ? $('.modal-footer', modal) : null;
            var $list = $('.modal-body .posts-list', modal);
            if (!data.posts.length) {
                // show message 'no posts found'
                targetButton.popover({
                    container: 'body',
                    content: 'У текущего аккаунта нет ни одного поста',
                    placement: 'bottom'
                });
                setTimeout(function () {
                    targetButton.popover('destroy');
                }, 4000);
                return;
            }

            if (modal) {
                fillPosts($list, data.posts);
                modal.modal('show');
                modal.modal('handleUpdate');
                imageSelectHandler($list, modal, targetButton);
            } else if (data.posts) {
                fillPosts($list, data.posts, 'appendToList');
                imageSelectHandler($list, $('#postsGridModal'), targetButton);
            }

            if (data.pagination && data.pagination.cursor) {
                addPagination(modalFooter, data.pagination.cursor);
                loadMoreHandler(getPosts);
            } else {
                hidePagination($('.modal-footer', modal));
            }
        } else {
            // show message error
        }
    });
}

/***/ }),
/* 13 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.initLogsTab = initLogsTab;

var _view = __webpack_require__(1);

var _view2 = _interopRequireDefault(_view);

var _logs = __webpack_require__(8);

var logs = _interopRequireWildcard(_logs);

var _tabs = __webpack_require__(9);

var tabs = _interopRequireWildcard(_tabs);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function moveInOneRow(userListBox, subTypeBox) {
    if (!subTypeBox.length || !userListBox.length) {
        return;
    }
    userListBox.appendTo(subTypeBox);

    userListBox.addClass('col');
    subTypeBox.addClass('row');
    // add "col-auto" to first column
    subTypeBox.find('.log-subype').addClass('col-auto');
}

/**
 * Cfg
 * @param logsState
 * @param logsSubtypes
 * @param clsConst
 * Cfg-functions
 * @param setUserNameCb
 * @param addDropdown
 */
function initLogsTab(_ref) {
    var logsState = _ref.logsState,
        logsSubtypes = _ref.logsSubtypes,
        clsConst = _ref.clsConst,
        setUserNameCb = _ref.setUserNameCb,
        textRusArray = _ref.textRusArray;
    var selectCls = logsState.selectCls;
    var selectClsLogsTaskType = logsState.selectClsLogsTaskType;


    function dropdownOnSelectCb(e) {
        clsConst.pathSubType = $('.' + selectClsLogsTaskType + ' option:selected').val();
        $('.js_logs-container').addClass('d-block');
        $('option.js_empty-subtype').remove();
    }

    function OnChangeSelect() {
        var usernameSelected = $('.' + selectCls + ' option:selected').val();
        setUserNameCb(usernameSelected);
        logs.init(selectCls, clsConst);
    }
    function handleLogsDropdowns() {
        dropdownOnSelectCb();
        OnChangeSelect();
        $('.' + selectClsLogsTaskType).on('change', function () {
            dropdownOnSelectCb();
            logs.init(selectCls, clsConst);
        });

        $('.' + selectCls).on('change', function () {
            OnChangeSelect();
        });
    }
    _view2.default.addDropdown($(logsState.wrapperSubtype), logsSubtypes, { logsState: logsState, isRenderEmptyOption: false, textRusArray: textRusArray });
    tabs.init(handleLogsDropdowns, logsState); // makes double request : OPTION and GET

    var userListBox = $('.log-users-list ');
    var subTypeBox = $('.log-subype--box');
    moveInOneRow(userListBox, subTypeBox);
}

/***/ }),
/* 14 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.attachTxtFileHandler = attachTxtFileHandler;

var _consts = __webpack_require__(0);

var _apiTaskManager = __webpack_require__(2);

var _apiTaskManager2 = _interopRequireDefault(_apiTaskManager);

var _spinner = __webpack_require__(17);

var _spinner2 = _interopRequireDefault(_spinner);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// import viewUtils from '../../common/js-services/view';

/*
* read file
*/
var fileUploadBox = '';
var MAX_IMG_FILE_SIZE_BYTE = 1048576 * 100;
var FILE_TYPE = 'txt';
function isFileTypeOk(acceptedFile) {
    return acceptedFile.type === 'text/plain';
}

function isImgSizeOk(acceptedFile) {
    var imgSize = Math.round(acceptedFile.size);
    return MAX_IMG_FILE_SIZE_BYTE > imgSize;
}

function handleSubmit(input) {
    var url = _consts.CONST.getPath('instagramTaskManager_postTextAttachment');
    var token = _apiTaskManager2.default.getToken();
    var acceptedFile = input.files[0];
    console.log('handleSubmit follow');
    var formData = new FormData();
    formData.append('file', acceptedFile, acceptedFile.name);

    var request = new XMLHttpRequest();
    request.open('POST', url);
    // request.withCredentials = true;
    request.setRequestHeader('token', token);
    request.setRequestHeader('Accept', 'application/json');
    request.setRequestHeader('cache-control', 'no-cache');
    request.send(formData);
    request.addEventListener('readystatechange', function () {
        if (this.readyState === 4) {
            console.log('this', this.responseText, this);
            window.PubSub.publish(_consts.CONST.events.autoarnswer.TEXT_FILE_UPLOADED, { 'response': this.responseText, 'el': input });
        }
    });
    _spinner2.default.add($('.add-file'), '');
}

function readURL(input) {
    var $container = $(input).closest(fileUploadBox);
    if (input.files && input.files[0]) {
        var reader = new FileReader();
        console.log('readURL');
        if (!isImgSizeOk(input.files[0]) || !isFileTypeOk(input.files[0])) {
            console.log('show error message, imgSize to big ');
            $(fileUploadBox).append('\n                <div class="warning-image text-danger">\n                    <p>\u0414\u043E\u0441\u0442\u0443\u043F\u043D\u044B\u0439 \u0444\u043E\u0440\u043C\u0430\u0442 \u0438\u0437\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u044F ' + FILE_TYPE + '</p>\n                    <p class="msg-max-size-img text-danger">\u041C\u0430\u043A\u0441\u0438\u043C\u0430\u043B\u044C\u043D\u044B\u0439 \u0434\u043E\u043F\u0443\u0441\u0442\u0438\u043C\u044B\u0439 \u0440\u0430\u0437\u043C\u0435\u0440 \u043A\u0430\u0440\u0442\u0438\u043D\u043A\u0438 100 MB</p>\n                </div>\n            ');
            setTimeout(function () {
                $('.warning-image').addClass('d-none');
            }, 5000);
            return;
        }

        reader.onload = function (e) {
            $container.find('.image-upload-wrap').hide();
            $container.find('.file-upload-image').attr('src', e.target.result);
            // $container.find(fileUploadContent).show();
            $container.find('.image-title').html(input.files[0].name);
        };
        // reader.onerror = errorHandler;
        // reader.onprogress = updateProgress;

        reader.readAsDataURL(input.files[0]);
        setTimeout(function () {
            return handleSubmit(input);
        }, 2000);
        // Read in the image file as a binary string.
        // reader.readAsBinaryString(input.files[0]);
    } else {
            // removeUpload($container);
        }
}

function attachTxtFileHandler(_fileUploadBox, onSuccessFileUploadCb) {
    fileUploadBox = _fileUploadBox;
    $('.input-txt-file').change(function () {
        if ($(this).val() !== '') {
            $(this).prev().text('\u0412\u044B\u0431\u0440\u0430\u043D\u043E \u0444\u0430\u0439\u043B\u043E\u0432: ' + $(this)[0].files.length);
            readURL($(this)[0]);
        } else {
            $(this).prev().text('Выберете файл');
        }
    });
    window.PubSub.subscribe(_consts.CONST.events.autoarnswer.TEXT_FILE_UPLOADED, function (e, res) {
        var response = res.response;

        var result = response.length ? JSON.parse(response) : '';
        var imageId = result && result.data && result.data.list_id;
        $(res.el).closest(fileUploadBox).attr('attached-txt-id', imageId);
        if (onSuccessFileUploadCb && typeof onSuccessFileUploadCb === 'function') {
            onSuccessFileUploadCb();
        }
        // make next-btn available
        var nextStep = $('.js_add-new-task fieldset').get(2);
        $(nextStep).find('.btn-next').removeAttr('disabled');
        _spinner2.default.remove();
        console.log('***TEXT_FILE_UPLOADED, onSuccessFileUploadCb', res);
    });
}

/***/ }),
/* 15 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.emoji = undefined;

__webpack_require__(22);

var emoji = exports.emoji = function emoji(clsConst) {
    if (!$(clsConst.page).length) {
        return;
    }
    // eslint-disable-next-line no-unused-vars
    // const m = new MeteorEmoji();
    // eslint-disable-next-line no-unused-vars
    // const ep = new EmojiPicker();
    // const $picker = $('textarea[data-emoji-picker="true"] ~ div');
    // const style = $picker.attr('style');
    // const styleNew = style.replace(clsConst.styles.old, clsConst.styles.new);
    // $picker.attr('style', styleNew);

    $('textarea[data-emoji-picker="true"]').emojioneArea({
        pickerPosition: 'bottom',
        tonesStyle: 'square',
        filtersPosition: 'bottom',
        search: true,
        events: {
            keyup: function keyup(editor, event) {
                console.log(editor.html());
                console.log(this.getText());
            }
        }
    });
};

/***/ }),
/* 16 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"]) _i["return"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError("Invalid attempt to destructure non-iterable instance"); } }; }();

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _view = __webpack_require__(1);

var _view2 = _interopRequireDefault(_view);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var Network = function () {
    function Network() {
        _classCallCheck(this, Network);
    }

    _createClass(Network, [{
        key: 'cbErrorDefault',
        value: function cbErrorDefault(result) {
            var $el = $('#description').length ? $('#description') : $('.error-msg');
            _view2.default.showInfoMessage($el, result.status.state, result.status.message || 'error');
        }
    }, {
        key: 'checkStatus',
        value: function checkStatus(response) {
            if (response.status && response.status >= 200 && response.status < 300) {
                return response;
            } else {
                var error = new Error(response.statusText);
                error.response = response;
                throw error;
            }
        }
    }, {
        key: 'sendRequest',
        value: function sendRequest(URL, OPTS, cbError) {
            var _this = this;

            return fetch(URL, OPTS).then(function (response) {
                return Promise.all([response, response.json()]);
            }).then(function (_ref) {
                var _ref2 = _slicedToArray(_ref, 2),
                    response = _ref2[0],
                    json = _ref2[1];

                if (!response.ok) {
                    if (!cbError) {
                        _this.cbErrorDefault(json);
                    } else {
                        cbError(json); // update view
                    }
                    _this.checkStatus(response);
                    // throw new Error(json.status.message);
                }
                return json;
            });
        }
    }]);

    return Network;
}();

exports.default = Network;

/***/ }),
/* 17 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

// import $ from 'jquery';
// import {CONST} from './consts';
// import Network from './network';
// import CookieStorage from './cookie';
// import PubSub from 'pubsub-js'; // https://www.npmjs.com/package/pubsub-js

// const SPINNER_BASE_TEMPALATE = 'js/ui/tpl/spinner.hbs';
var classes = {
    inline: 'global-inline-spinner',
    overlay: 'global-overlay-spinner',
    fixed: 'global-fixed-spinner',
    button: 'button--load'
};
// const handlebarsTpl = function (name, data, $target) {
//     // var html = this.getTemplate(name)(data);
//     var html = Handlebars.compile(template);
//
//     if ($target) {
//         //for preventing xss
//         $target[0].innerHTML = html;
//     }
//
//     return html;
// };
// const handlebars = this.getService('core.templating.handlebars');

var Spinner = function () {
    function Spinner(_cfg) {
        _classCallCheck(this, Spinner);

        this.startButtonSpinner = function ($el, newCls) {
            $el.addClass(classes.button);
            if ($el.find('.spinner-box--button').length) {
                return;
            }
            $el.prepend('<div class="spinner-box spinner-box--button justify-content-center position-relative p-0 m-0 bg-transparent ' + newCls + '">\n            <div class="spin-animation">\n                <svg aria-hidden="true" data-prefix="far" data-icon="sync-alt" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" \n                    class="fa-fw">\n                    <path fill="currentColor" d="M483.515 28.485L431.35 80.65C386.475 35.767 324.485 8 256 8 123.228 8 14.824 112.338 8.31 243.493 7.971 250.311 13.475 256 20.301 256h28.045c6.353 0 11.613-4.952 11.973-11.294C66.161 141.649 151.453 60 256 60c54.163 0 103.157 21.923 138.614 57.386l-54.128 54.129c-7.56 7.56-2.206 20.485 8.485 20.485H492c6.627 0 12-5.373 12-12V36.971c0-10.691-12.926-16.045-20.485-8.486zM491.699 256h-28.045c-6.353 0-11.613 4.952-11.973 11.294C445.839 370.351 360.547 452 256 452c-54.163 0-103.157-21.923-138.614-57.386l54.128-54.129c7.56-7.56 2.206-20.485-8.485-20.485H20c-6.627 0-12 5.373-12 12v143.029c0 10.691 12.926 16.045 20.485 8.485L80.65 431.35C125.525 476.233 187.516 504 256 504c132.773 0 241.176-104.338 247.69-235.493.339-6.818-5.165-12.507-11.991-12.507z" class=""></path></svg>\n            </div>\n        </div>');
        };

        this.stopButtonSpinner = function ($el) {
            $el.removeClass(classes.button);
        };

        this.cfg = _cfg || {};
        // this.$defaultContainer = $('body');
        $.extend(classes, this.cfg.classes);
        // this._mediator.subscribe(CONST.events.STOP_FIXED_SPINNER, this.stopFixedSpinner.bind(this));
    }
    // _mediator = PubSub;

    _createClass(Spinner, [{
        key: 'start',
        value: function start($el, prewCls) {
            // if (addOrRemove) {
            //     $('#foo').addClass(className);
            // }
            // else {
            //     $('#foo').removeClass(className);
            // }
            $el.find('i').toggleClass(prewCls).addClass('fa-spin fa-spinner');
        }
    }, {
        key: 'stop',
        value: function stop($el, newCls) {
            $el.find('i').toggleClass(newCls).removeClass('fa-spin fa-spinner');
        }
    }, {
        key: 'add',
        value: function add($el, newCls) {
            this.$el = $el;
            $el.prepend('<div class="spinner-box justify-content-center ' + newCls + '">\n            <div class="spin-animation">\n                <svg aria-hidden="true" data-prefix="far" data-icon="sync-alt" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="svg-inline--fa fa-sync-alt fa-w-16 fa-fw fa-2x"><path fill="currentColor" d="M483.515 28.485L431.35 80.65C386.475 35.767 324.485 8 256 8 123.228 8 14.824 112.338 8.31 243.493 7.971 250.311 13.475 256 20.301 256h28.045c6.353 0 11.613-4.952 11.973-11.294C66.161 141.649 151.453 60 256 60c54.163 0 103.157 21.923 138.614 57.386l-54.128 54.129c-7.56 7.56-2.206 20.485 8.485 20.485H492c6.627 0 12-5.373 12-12V36.971c0-10.691-12.926-16.045-20.485-8.486zM491.699 256h-28.045c-6.353 0-11.613 4.952-11.973 11.294C445.839 370.351 360.547 452 256 452c-54.163 0-103.157-21.923-138.614-57.386l54.128-54.129c7.56-7.56 2.206-20.485-8.485-20.485H20c-6.627 0-12 5.373-12 12v143.029c0 10.691 12.926 16.045 20.485 8.485L80.65 431.35C125.525 476.233 187.516 504 256 504c132.773 0 241.176-104.338 247.69-235.493.339-6.818-5.165-12.507-11.991-12.507z" class=""></path></svg>\n            </div>\n        </div>');
        }
    }, {
        key: 'remove',


        /**
         * Finds spinners
         * @param {string} type
         * @param {string} $container
         * @return {?jQuery} spinners
         */
        // _findSpinner = function (type, $container) {
        //     const selector = '.' + type;
        //     let $el = this.$defaultContainer;
        //     if ($container) {
        //         $el = $container;
        //     }
        //
        //     if ($el.find(selector).length > 0) {
        //         return $el.find(selector);
        //     }
        // };

        /**
         *
         * @param {string} $el
         */
        /*
        startContentSpinner = function ($el) {
            const html = handlebarsTpl(
                SPINNER_BASE_TEMPALATE, {
                    imgSrc: CTC.URLS.WAITING_IMAGE,
                    'class': classes.overlay
                });
            $el.prepend(html);
        };
          startInlineContentSpinner = function ($el) {
            const html = handlebarsTpl(
                SPINNER_BASE_TEMPALATE, {
                    imgSrc: CTC.URLS.WAITING_IMAGE,
                    'class': classes.inline
                });
            $el.prepend(html);
        };
        */

        /**
         * Starts global full page fixed spinner
         */
        /*
        startFixedSpinner = function () {
            const spinners = this._findSpinner(classes.fixed);
            if (!(CTC.isEdit() || CTC.isDesign()) && !spinners) {
                const html = handlebarsTpl(
                    SPINNER_BASE_TEMPALATE, {
                        imgSrc: CTC.URLS.WAITING_IMAGE,
                        'class': classes.fixed
                    });
                this.$defaultContainer.prepend(html);
            }
        };
        */

        /**
         * Stops spinners
         * @param {string} type
         * @param {string} $container
         */
        // _stopSpinner = function (type, $container) {
        //     const spinners = this._findSpinner(type, $container);
        //     if (spinners) {
        //         spinners.remove();
        //     }
        // };

        /**
         *
         * @param {string} $el
         */
        // stopContentSpinner = function ($el) {
        //     $el.find('.' + classes.overlay).remove();
        // };

        /**
         *
         * @param {string} $el
         */
        // stopInlineContentSpinner = function ($el) {
        //     $el.find('.' + classes.inline).remove();
        // };

        /**
         * Stops global full page fixed spinner
         */
        // stopFixedSpinner = function () {
        //     this._stopSpinner(classes.fixed);
        // };
        value: function remove() {
            if (this.$el && this.$el.length) {
                this.$el.find('.spinner-box').remove();
            }
        }

        /**
         * Adds spinner icon on button before the button text
         * @param {jQuery} $el
         */


        /**
         * Removes spinner icon from button
         * @param {jQuery} $el
         */

    }]);

    return Spinner;
}();

var spinnerInstance = null;

if (!spinnerInstance) {
    spinnerInstance = new Spinner();
}

exports.default = spinnerInstance;

/***/ }),
/* 18 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
// import {CONST} from './consts';

function dropDown() {

    /**
     * cfg ={ logsState, cbFN() }
     */
    function addDropdown($wrapper, items, cfg) {
        // console.log('addDropdown');
        var textRusArray = cfg.textRusArray,
            logsState = cfg.logsState;
        var selectClsLogsTaskType = logsState.selectClsLogsTaskType;

        var getRus = function getRus(idx) {
            var isTextRusArray = textRusArray && !!textRusArray.length;
            switch (idx) {
                case 0:
                    return isTextRusArray ? textRusArray[idx] : 'По списку';
                case 1:
                    return isTextRusArray ? textRusArray[idx] : 'По активной аудитории конкурентов';
                case 2:
                    return isTextRusArray ? textRusArray[idx] : 'default - (3)';
                default:
                    return 'default';
            }
        };
        var label = 'Выберите тип';
        $wrapper.empty().addClass('border-light-color');
        $('<div class="">' + label + '</div><select name="task-subtype" class="' + selectClsLogsTaskType + '"></select>').appendTo($wrapper);
        if (!items.length) {
            return;
        }
        $('<option class="list-group-item py-2 js_empty-subtype" value="---">---</option>').appendTo($('.' + selectClsLogsTaskType));
        items.forEach(function (name, idx) {
            $('<option class="list-group-item py-2" value="' + name + '">\n                ' + getRus(idx) + '\n            </option>').appendTo($('.' + selectClsLogsTaskType));
        });
        $('.' + selectClsLogsTaskType).on('change', function (e) {
            cfg.dropdownOnSelectCb(e);
        });
    }

    return {
        addDropdown: addDropdown
    };
}

exports.default = dropDown();

/***/ }),
/* 19 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };
// import viewUtils from '../../../common/js-services/view';


exports.init = init;

var _consts = __webpack_require__(0);

var _taskStatus = __webpack_require__(5);

var _dropdown = __webpack_require__(18);

var _dropdown2 = _interopRequireDefault(_dropdown);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var path = {
    type: '',
    subtype: ''
};
var wrappers = {
    $all: $('.tasks-all'),
    $stopped: $('.tasks-stopped')
};
var logsStateStatus = {
    wrapperSubtype: $('.subtype--box')
};

function dropdownOnSelectCb(e) {
    // const {selectClsLogsTaskType} = logsState;
    var subtype = $(e.target).find('option:selected').val();
    var pathUpdated = _extends({}, path, { subtype: subtype });
    $('.js_logs-container').addClass('d-block');
    $('option.js_empty-subtype').remove();
    (0, _taskStatus.getTasksData)(wrappers, pathUpdated);
}

function init(_ref) {
    var isInCorrectPage = _ref.isInCorrectPage,
        initialPath = _ref.initialPath,
        textRusArray = _ref.textRusArray;

    if (!isInCorrectPage) {
        return;
    }
    path = {
        type: initialPath.type,
        subtype: initialPath.subtype
    };

    // todo: merge with viewUtils.js Dropdown
    _dropdown2.default.addDropdown(logsStateStatus.wrapperSubtype, initialPath.subtypes, { logsState: logsStateStatus, dropdownOnSelectCb: dropdownOnSelectCb, textRusArray: textRusArray });

    // getTasksData(wrappers, path);
    window.PubSub.subscribe(_consts.CONST.events.tasks.NEW_TASK_CREATED, function (eventName, data) {
        (0, _taskStatus.getTasksData)(wrappers, path);
    });
}

/***/ }),
/* 20 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.renderItem = undefined;
exports.init = init;

var _user = __webpack_require__(3);

var _user2 = _interopRequireDefault(_user);

var _view = __webpack_require__(1);

var _view2 = _interopRequireDefault(_view);

var _consts = __webpack_require__(0);

var _accountsListBtnSettings = __webpack_require__(39);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var InstagramAccPageCls = '.instagram-accounts-page';
// import Spinner from '../../common/js-services/spinner';
// import PubSub from 'pubsub-js';

var isInstagramAccPage = $(InstagramAccPageCls).length;
var $msgList = $('.accounts-list');
var INSTAGRAM_ACCOUNTS_HREF = 'instagram-accounts';

function addListHandler() {
    var checkpointType = '';

    $('.js_pass-checkpoint-btn').on('click', function (e) {
        var $button = $(e.target);
        var username = $button.data('username');
        checkpointType = $button.data('checkpointType') || checkpointType;
        // $('#security-code').data('checkpointType', checkpointType);
        // todo add 'checkpointType' to modal
        var sendTo = checkpointType === 'PHONE' ? 'телефон' : 'email';
        // Spinner.start($button, 'fa-key');

        if (checkpointType === 'EMAIL_OR_PHONE') {
            e.stopPropagation();

            // инпуты спрятаны,
            // показать серые переключатели (выбрал тип)
            // есть кнопка Запросить код подтверждение
            $('#security-code-phoneOremail').modal({ show: true, username: username });

            // не отправляем реквест
            return;
        }

        _user2.default.getSecurityKey(username, checkpointType).then(function (result) {
            console.log('SecurityKey received:', result.status.state);
            if (result.status.state === 'ok') {
                var $modal = $('#security-code');

                // Spinner.stop($button, 'fa-key');
                $('.js_success-feedback', $modal).empty().text('\u041A\u043B\u044E\u0447 \u043F\u043E\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043D\u0438\u044F \u0431\u044B\u043B \u043E\u0442\u043F\u0440\u0430\u0432\u043B\u0435\u043D \u0412\u0430\u043C \u043D\u0430 ' + sendTo);

                $('#security-code').attr('data-username', username);
            }
        });
    });

    // inside modal
    $('.js_confirm-security-code').on('click', function (e) {
        var btn = $(e.target);
        var username = btn.closest('#security-code').data('username');
        var $keyInput = btn.closest('.modal').find('.modal-dialog form input.js_confirm-key');
        var key = $keyInput.val().trim();
        var $modal = btn.closest('.modal');
        e.stopPropagation();

        if (key.length !== 6) {
            return;
        }
        _user2.default.confirmSecurityKey(key, username).then(function (result) {
            if (result.status.state !== 'ok') {
                return;
            }
            // console.log('js_confirm:', result.status.state, 'close modal');
            $modal.modal('hide');
        }).catch(function (err) {
            console.log('err');
            $('.js_success-feedback', $modal).text('Запрос не отправлен').css('color', 'red');
            console.log(err);
        });
    });

    $('form input[minlength]').on('blur', function () {
        var len = $(this).val().trim().length;
        var minLen = Number($(this).attr('minlength'));
        // const message = minLen <= len ? '' : minLen + ' characters minimum';
        if (minLen !== len) {
            $(this).css('borderColor', 'red');
        } else {
            $(this).css('borderColor', '#ced4da');
        }
        // this.setCustomValidity(message)
    });

    function onHideModal(e) {
        var $modal = $(e.target);
        $modal.find('.first-step').removeClass('d-none');
        $modal.find('.second-step').addClass('d-none');
        $('.js_confirm-key').val('');
        $('.js_success-feedback', $modal).removeAttr('style').empty();
    }
    $('#security-code-phoneOremail').on('hide.bs.modal', onHideModal);
    $('#security-code').on('hide.bs.modal', onHideModal);

    // "PHONE_OR_EMAIL" modal
    $('.js_get-security-code-phoneOremail').on('click', function (e) {
        var $modal = $('#security-code-phoneOremail');
        var typeSelected = $(e.target).closest($modal).find('.js_btn-type-switcher input:checked');
        var checkpointTypeActive = typeSelected.val();
        var sendTo = checkpointTypeActive === 'PHONE' ? 'телефон' : 'email';
        var modalConfig = $modal.data()['bs.modal']._config;
        var username = modalConfig.username;
        _user2.default.getSecurityKey(username, checkpointTypeActive).then(function (result) {
            // при нажатии "Запросить код подтверждение" - отпарляется реквест "старт чекпоинт" появляеться инпут и кнопка других типах
            // get selected button

            // переключатель(серый) и кнопка "Запросить код подтверждение" исчезают
            console.log('SecurityKey received:', result.status.state);
            if (result.status.state === 'ok') {
                $('.first-step', $modal).addClass('d-none');
                $('.second-step', $modal).removeClass('d-none');
                $('.js_success-feedback', $modal).empty().text('\u041A\u043B\u044E\u0447 \u043F\u043E\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043D\u0438\u044F \u0431\u044B\u043B \u043E\u0442\u043F\u0440\u0430\u0432\u043B\u0435\u043D \u0412\u0430\u043C \u043D\u0430 ' + sendTo);
            }
        });
    });
}

var insertItem = function insertItem(data, text, cssCls) {
    var liTpl = '' + (data ? '<li class="list-inline-item ' + cssCls + '"><span class="figure">' + data + '</span><span>' + text + '</span></li>' : '<li class="list-inline-item ' + cssCls + '"><span class="figure">0</span><span>' + text + '</span></li>');
    return liTpl;
};

var stats = function stats(info) {
    var tpl = '<div class="col">\n        <ul class="list-inline text-center counts-list">\n        ' + (info ? insertItem(info['media_count'], 'Публикации', 'media-count') + '\n            ' + insertItem(info['follower_count'], 'Подписчики', 'follower-count') + '\n            ' + insertItem(info['following_count'], 'Подписки', 'following-count') : insertItem(false, 'Публикации', 'media-count') + '\n            ' + insertItem(false, 'Подписчики', 'follower-count') + '\n            ' + insertItem(false, 'Подписки', 'following-count')) + '\n        </ul>\n    </div>';
    return tpl;
};

var checkPointText = function checkPointText(checkpoint, item) {
    if (checkpoint.status === 'TRIGGERED') {
        return '<button class="btn btn-outline-secondary js_pass-checkpoint-btn d-block mx-auto" \n            data-checkpoint-type="' + (checkpoint.type || 'EMAIL') + '"\n            data-username="' + (item.username || '') + '"\n            data-toggle="modal" data-target="#security-code">\n            <i class="fas fa-key"></i>\u041F\u0440\u043E\u0439\u0442\u0438 \u0447\u0435\u043A\u043F\u043E\u0438\u043D\u0442</button>';
    } else if (item.status === 'FAIL') {
        return '<span class="text-danger">Ошибка при добавлении</span>';
    }
};

var addSettingBtn = function addSettingBtn(account) {
    var _account$username = account.username,
        username = _account$username === undefined ? '' : _account$username,
        _account$info = account.info,
        _account$info$name = _account$info.name,
        name = _account$info$name === undefined ? '' : _account$info$name,
        _account$info$email = _account$info.email,
        email = _account$info$email === undefined ? '' : _account$info$email,
        _account$info$url = _account$info.url,
        url = _account$info$url === undefined ? '' : _account$info$url,
        _account$info$biograp = _account$info.biography,
        biography = _account$info$biograp === undefined ? '' : _account$info$biograp,
        _account$info$profile = _account$info.profile_pic_url,
        profile_pic_url = _account$info$profile === undefined ? '' : _account$info$profile,
        follower_count = _account$info.follower_count,
        following_count = _account$info.following_count,
        media_count = _account$info.media_count,
        is_business = _account$info.is_business,
        is_private = _account$info.is_private;

    if (isInstagramAccPage || window.location.href.includes(INSTAGRAM_ACCOUNTS_HREF)) {
        return '<div class="account-setting col-1 d-flex flex-column">\n            <button class="btn btn-outline-success p-1 mb-1 js_acc-edit" \n                data-username="' + username + '"\n                data-name="' + name + '"\n                data-email="' + email + '"\n                data-url="' + url + '"\n                data-biography="' + biography + '"\n                data-img="' + profile_pic_url + '"\n                data-follower_count="' + follower_count + '"\n                data-following_count="' + following_count + '"\n                data-media_count="' + media_count + '"\n                data-is_business="' + is_business + '"\n                data-is_private="' + is_private + '"\n            ><i class="fas fa-pen m-0"></i></button>\n            <button class="btn btn-outline-secondary p-1 mb-1 js_acc-refresh" data-username="' + username + '"><i class="fas fa-retweet m-0"></i></button>\n            <button class="btn btn-outline-danger p-1 js_acc-delete" data-username="' + username + '"><i class="fas fa-trash m-0"></i></button>\n        </div>';
    }
};

var renderItem = exports.renderItem = function renderItem(item, cList, _defaultAvatarSrc) {
    var info = item.info;
    var checkpoint = item.checkpoint || item;
    var defaultAvatarSrc = _defaultAvatarSrc || _consts.CONST.user.defaulAvatar;
    if (!info) {
        return $('<li class="media py-3" data-username="' + item.username + '">\n            <img class="ml-3 rounded" alt="default avatar" src="' + defaultAvatarSrc + '">\n            <div class="media-body d-flex">\n                <div class="col user-info">\n                    ' + (item.username ? '<h4 class="mt-0 mb-1 name">' + item.username + '</h4>' : '') + '\n                </div>\n                <div class="col user-checkpoint">\n                    ' + checkPointText(checkpoint, item) + '\n                </div>\n                ' + stats() + '\n                ' + (addSettingBtn(item) || '') + '\n            </div>\n        </li>').appendTo(cList);
    } else {
        return $('<li class="media py-3" data-username="' + item.username + '">\n        ' + (info['profile_pic_url'] ? '<img class="ml-3 rounded" alt="User photo" src="' + info['profile_pic_url'] + '">' : '<img class="ml-3 rounded" alt="default avatar" src="' + defaultAvatarSrc + '">') + '\n        <div class="media-body d-flex">\n            <div class="col user-info">\n                ' + (item.username ? '<p class="mt-0 mb-1 name lead">' + item.username + '</p>' : '') + '\n                ' + (info.name ? '<h4 class="mt-0 mb-1">' + info.name + '</h4>' : '') + '\n                ' + (info.name ? '' : '' /* ${(info.email) ? `<p class="mt-0 mb-1">${info.email}</p>` : ''}
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      ${(info.phone) ? `<p class="mt-0 mb-1">${info.phone}</p>` : ''} */) + '\n\n            </div>\n            <div class="col user-checkpoint">\n                ' + (checkpoint.status === 'TRIGGERED' ? '<button class="btn btn-outline-secondary js_pass-checkpoint-btn d-block mx-auto"\n                        data-checkpoint-type="' + (checkpoint.type || 'EMAIL') + '"\n                        data-username="' + (item.username || '') + '"\n                        data-toggle="modal" data-target="#security-code">\n                    <i class="fas fa-key"></i>\u041F\u0440\u043E\u0439\u0442\u0438 \u0447\u0435\u043A\u043F\u043E\u0438\u043D\u0442</button>' : '') + '\n            </div>\n            ' + stats(info) + '\n            ' + (addSettingBtn(item) || '') + '\n        </div>\n    </li>');
    }
};

function fillList($list, dataArray) {
    var items = dataArray;
    var cList = $list;
    var defaultAvatarSrc = _consts.CONST.user.defaulAvatar;

    cList.empty().addClass('border-light-color');
    items.forEach(function (item) {
        renderItem(item, cList, defaultAvatarSrc).appendTo(cList);
    });
    window.PubSub.publish(_consts.CONST.events.instagramAccouns.INSTAGRAM_ACCOUNS_RENDERED, { name: name, dataArray: dataArray });
    console.log('INSTAGRAM_ACCOUNS_RENDERED');
}

function checkResponse(result /* , isResendRequest*/) {

    /*
    if (!result.status.state === 'ok' || !result.data || !$msgList.length || isResendRequest) {
        // проверям один раз наличие result.data.accounts.info
        $msgList.empty();
        $(`<li class="media">
            <div class="media-body">
                <h3 class="mt-0 mb-3">Ни одного Аккаунта не добавлено</h3>
            </div>
        </li>`).appendTo($msgList);
        setTimeout(() => {
            resendRequest().then((result) => {
                checkResponse(result, false);
            });
            console.log('Request resend');
        }, 3500);
        return;
    }
    */
    // вывод результатов (data.accounts.info)
    $('.profile-user .spinner-box').addClass('d-none');
    fillList($msgList, result.data.accounts);
    addListHandler();
}
var errMessageFront = 'Не получилось загрузить доступные Instagram аккаунты';
function cbError() {
    _view2.default.showInfoMessage($('.error-msg'), '', errMessageFront);
}

function reloadList() {
    var $msgList = $('.accounts-list');
    // TODO: add spinner
    $('.profile-user .spinner-box').removeClass('d-none');
    _user2.default.getMetadata(cbError).then(function (result) {
        $msgList.empty();
        // todo : reload list
        checkResponse(result);
    }).catch(function (err) {
        setTimeout(function () {
            _view2.default.showInfoMessage($('.error-msg'), err.status || '', errMessageFront);
        }, 3000);
        $('.spinner-box').addClass('d-none');
    });
    var cfg = {
        deleteBtnCls: '.js_acc-delete',
        updateBtnCls: '.js_acc-refresh',
        editBtnCls: '.js_acc-edit'
    };
    (0, _accountsListBtnSettings.settingButtonsHandler)(cfg);
}

// После добавления аккаунта снова дернуть МЕТА и перерисовать список аккаунтов
var addInstagramAccount = function addInstagramAccount(newFormData) {
    var cbError = function cbError(result) {
        console.log('ERROR', result);
        _view2.default.showInfoMessage($('.error-msg'), result.status.state, result.status.message || 'Login error');
        // $(_loginBox).addClass(closeClass).removeClass(openedClass);
    };
    _user2.default.addInstagramAccount(newFormData, cbError).then(function (result) {
        if (result && result.status) {
            console.log(result, result.status);
            reloadList();

            /*
            const $msgList = $('.accounts-list');
            User.getMetadata().then((result) => {
                $msgList.empty();
                // todo : reload list
                console.log(result.data, result.data.accounts);
                checkResponse(result);
            }).catch((err) => {
                setTimeout(() => {
                    viewUtils.showInfoMessage($('.error-msg'),
                        err.status || '',
                        'Не получилось загрузить доступные Instagram аккаунты');
                }, 3000);
                $('.spinner-box').addClass('d-none');
            });
            */

            // viewUtils.showInfoMessage($textAreaDescription,
            //     result.status.state,
            //     result.status.message || 'Login error');
            // $(_loginBox).addClass(closeClass).removeClass(openedClass);
        }
    }).catch(function (err) {
        // todo: render for user
        console.log(err);
    });

    console.log('submit', newFormData);
};

function addOnLoadHandlers() {
    // $('.js_repeat-security-code').on('click', (e) => {

    // });

    $('.js_add-instagram-account').on('click', function (e) {
        var btn = $(e.target);
        var $modalBody = btn.closest('.modal').find('.modal-dialog .modal-body');
        var username = $modalBody.find('input[name="username"]').val().trim();
        var password = $modalBody.find('input[name="pass"]').val().trim();
        var ip = $modalBody.find('input[name="ip"]').val().trim(); // TMP solution
        var port = $modalBody.find('input[name="port"]').val().trim(); // TMP solution
        var usernameProxy = $modalBody.find('input[name="usernameProxy"]').val().trim(); // TMP solution
        var passwordProxy = $modalBody.find('input[name="passProxy"]').val().trim(); // TMP solution
        var $form = $('form', $modalBody);
        var form = $form.get(0);
        var cssValidationClass = 'form-validation';

        e.preventDefault();
        function isValidIpv4Addr(ip) {
            return (/^(?=\d+\.\d+\.\d+\.\d+$)(?:(?:25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\.?){4}$/.test(ip)
            );
        }
        function isValidPort(port) {
            return (/^([0-9]{1,4}|[1-5][0-9]{4}|6[0-4][0-9]{3}|65[0-4][0-9]{2}|655[0-2][0-9]|6553[0-5])$/.test(port)
            );
        }
        // const validator = new Validator($form);
        // console.log(validator.validate());
        if (form.checkValidity()) {
            addInstagramAccount({ username: username, password: password, usernameProxy: usernameProxy, passwordProxy: passwordProxy, ip: ip, port: port });
        } else {
            // Highlight errors
            if (form.reportValidity) {
                form.reportValidity();
            }
            $form.addClass(cssValidationClass);
        }

        if (!username || !password || !ip || !isValidIpv4Addr(ip) || !port || !isValidPort(port) || !usernameProxy || !passwordProxy) {
            e.stopPropagation();
            console.log('not valid fields');
            return;
        }
    });
}

/**
 * Init header
 */
function init() {
    // check we are in profile page
    if (!$msgList.length) {
        return;
    }
    // const token = User.getToken();
    var metadata = _user2.default.getMetadata(cbError);
    // const resendRequest = () => User.getMetadata(token);
    // let isSendReqOnce = false;
    // check we are in profile page
    if (!$msgList.length) {
        return;
    }

    addOnLoadHandlers();

    // может инфо отсутсвовать - сделать еще раз запрос через 3 сек.
    metadata.then(function (result) {
        // проверям один раз наличие result.data.accounts.info
        /*
        let isResendRequest = false;
        if (result.data && result.data.accounts && !isSendReqOnce) {
            result.data.accounts.forEach((item) => {
                if (!item.info) {
                    isResendRequest = true;
                    isSendReqOnce = true;
                    return;
                }
            });
        }
        */
        //    checkResponse(result, isResendRequest);
        checkResponse(result);
        var cfg = {
            deleteBtnCls: '.js_acc-delete',
            updateBtnCls: '.js_acc-refresh',
            editBtnCls: '.js_acc-edit'
        };
        (0, _accountsListBtnSettings.settingButtonsHandler)(cfg);
    }).catch(function (err) {
        setTimeout(function () {
            _view2.default.showInfoMessage($('.error-msg'), err.status || '', 'Не получилось загрузить доступные Instagram аккаунты');
        }, 3000);
        $('.spinner-box').addClass('d-none');
    });

    window.PubSub.subscribe(_consts.CONST.events.instagramAccouns.INSTAGRAM_ACCOUNS_NEED_REFRESH, function (eventName, data) {
        reloadList();
    });
    window.PubSub.subscribe(_consts.CONST.events.instagramAccouns.INSTAGRAM_ACCOUNS_RENDERED, function (eventName, data) {
        var dataArray = data.dataArray;

        dataArray.forEach(function (item) {
            var avatar = item.info && item.info.profile_pic_url || _consts.CONST.user.defaulAvatar;
            sessionStorage.setItem(item.username, avatar);
        });
    });
}

/***/ }),
/* 21 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); // import $ from 'jquery';


var _consts = __webpack_require__(0);

var _network = __webpack_require__(16);

var _network2 = _interopRequireDefault(_network);

var _cookie = __webpack_require__(4);

var _cookie2 = _interopRequireDefault(_cookie);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var UserConversation = function () {
    function UserConversation() {
        _classCallCheck(this, UserConversation);

        this.network = new _network2.default();
        this.cookieStorage = _cookie2.default;
        this.settingPost = {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
                'Accept': 'application/json'
            }
        };
    }

    _createClass(UserConversation, [{
        key: 'isLoggedIn',
        value: function isLoggedIn() {
            return !!this.getToken();
        }
    }, {
        key: 'isEmailConfirmed',
        value: function isEmailConfirmed() {
            return this.cookieStorage.get(_consts.CONST.cookieStorage.emailConfirmed) === 'confirmed';
        }
    }, {
        key: 'getToken',
        value: function getToken() {
            var cookieToken = this.cookieStorage.get(_consts.CONST.cookieStorage.token);
            return cookieToken;
        }
    }, {
        key: 'getMetadata',
        value: function getMetadata(token, cbError) {
            return this.network.sendRequest('' + _consts.CONST.getPath('instagramDirect_getMetaData'), { headers: { 'token': this.getToken() } }, cbError);
        }
    }, {
        key: 'getMetadataDetailUsers',
        value: function getMetadataDetailUsers(details, cbError) {
            var cursor = details.cursor ? '?cursor=' + details.cursor : '';
            return this.network.sendRequest(_consts.CONST.getPath('instagramDirect_getMetaData') + '/' + details.username + cursor, { headers: { 'token': this.getToken() } }, cbError);
        }
    }, {
        key: 'getMetadataDetailConversation',
        value: function getMetadataDetailConversation(token, details, cbError) {
            var cursor = details.cursor ? '?cursor=' + details.cursor : '';
            return this.network.sendRequest(_consts.CONST.getPath('instagramDirect_getMetaData') + '/' + details.username + '/' + details.conversationId + cursor, { headers: { token: token } }, cbError);
        }
    }, {
        key: 'postMetadataDetailConversation',
        value: function postMetadataDetailConversation(token, details, cbError) {
            var setting = _extends({}, this.settingPost, {
                body: JSON.stringify({ 'value': details.value }),
                headers: _extends({}, this.settingPost.headers, {
                    'token': this.getToken()
                })
            });
            return this.network.sendRequest(_consts.CONST.getPath('instagramDirect_postMessage') + '/' + details.username + '/' + details.conversationId + '/text', setting, cbError);
        }
        // --- Request Pending

    }, {
        key: 'getRequestPending',
        value: function getRequestPending(username, cbError) {
            // const cursor = (details.cursor) ? `?cursor=${details.cursor}` : '';
            return this.network.sendRequest(_consts.CONST.getPath('instagramDirect_RequestPending') + '/' + username, { headers: { 'token': this.getToken() } }, cbError);
        }
    }, {
        key: 'putRequestPending',
        value: function putRequestPending(confirmUserData, cbError) {
            var setting = _extends({}, this.settingPost, {
                method: 'PUT',
                headers: _extends({}, this.settingPost.headers, {
                    'token': this.getToken()
                })
            });
            var username = confirmUserData.username,
                conversationId = confirmUserData.conversationId;

            return this.network.sendRequest(_consts.CONST.getPath('instagramDirect_RequestPending') + '/' + username + '/' + conversationId, setting, cbError);
        }
    }, {
        key: 'delRequestPending',
        value: function delRequestPending(confirmUserData, cbError) {
            var setting = {
                method: 'DELETE',
                headers: _extends({}, this.settingPost.headers, {
                    'token': this.getToken()
                })
            };
            var username = confirmUserData.username,
                conversationId = confirmUserData.conversationId;

            return this.network.sendRequest(_consts.CONST.getPath('instagramDirect_RequestPending') + '/' + username + '/' + conversationId, setting, cbError);
        }
    }]);

    return UserConversation;
}();

var userInstance = null;

if (!userInstance) {
    userInstance = new UserConversation();
}

exports.default = userInstance;

/***/ }),
/* 22 */
/***/ (function(module, exports) {

/*!
 * EmojioneArea v3.0.0
 * https://github.com/mervick/emojionearea
 * Copyright Andrey Izman and other contributors
 * Released under the MIT license
 * Date: 2016-05-06T10:33Z
 */
(function(document, window, $) {
    'use strict';

    var unique = 0;
    var eventStorage = {};
    var possibleEvents = {};
    var emojione = window.emojione;
    var readyCallbacks = [];
    function emojioneReady (fn) {
        if (emojione) {
            fn();
        } else {
            readyCallbacks.push(fn);
        }
    };
    var blankImg = 'data:image/gif;base64,R0lGODlhAQABAJH/AP///wAAAMDAwAAAACH5BAEAAAIALAAAAAABAAEAAAICVAEAOw==';
    var slice = [].slice;
    var css_class = "emojionearea";
    var emojioneSupportMode = 0;
    function trigger(self, event, args) {
        var result = true, j = 1;
        if (event) {
            event = event.toLowerCase();
            do {
                var _event = j==1 ? '@' + event : event;
                if (eventStorage[self.id][_event] && eventStorage[self.id][_event].length) {
                    $.each(eventStorage[self.id][_event], function (i, fn) {
                        return result = fn.apply(self, args|| []) !== false;
                    });
                }
            } while (result && !!j--);
        }
        return result;
    }
    function attach(self, element, events, target) {
        target = target || function (event, callerEvent) { return $(callerEvent.currentTarget) };
        $.each(events, function(event, link) {
            event = $.isArray(events) ? link : event;
            (possibleEvents[self.id][link] || (possibleEvents[self.id][link] = []))
                .push([element, event, target]);
        });
    }
    function getTemplate(template, unicode, shortname) {
        return template
            .replace('{name}', shortname || '')
            .replace('{img}', emojione.imagePathPNG + (emojioneSupportMode < 2 ? unicode.toUpperCase() : unicode) + '.png')
            .replace('{uni}', unicode)
            .replace('{alt}', emojione.convert(unicode));
    }
    function shortnameTo(str, template, clear) {
        return str.replace(/:?\+?[\w_\-]+:?/g, function(shortname) {
            shortname = ":" + shortname.replace(/:$/,'').replace(/^:/,'') + ":";
            var unicode = emojione.emojioneList[shortname];
            if (unicode) {
                if (emojioneSupportMode > 3) unicode = unicode.unicode;
                return getTemplate(template, unicode[unicode.length-1], shortname);
            }
            return clear ? '' : shortname;
        });
    };
    function pasteHtmlAtCaret(html) {
        var sel, range;
        if (window.getSelection) {
            sel = window.getSelection();
            if (sel.getRangeAt && sel.rangeCount) {
                range = sel.getRangeAt(0);
                range.deleteContents();
                var el = document.createElement("div");
                el.innerHTML = html;
                var frag = document.createDocumentFragment(), node, lastNode;
                while ( (node = el.firstChild) ) {
                    lastNode = frag.appendChild(node);
                }
                range.insertNode(frag);
                if (lastNode) {
                    range = range.cloneRange();
                    range.setStartAfter(lastNode);
                    range.collapse(true);
                    sel.removeAllRanges();
                    sel.addRange(range);
                }
            }
        } else if (document.selection && document.selection.type != "Control") {
            document.selection.createRange().pasteHTML(html);
        }
    }
    var default_options = {
        attributes: {
            dir               : "ltr",
            spellcheck        : false,
            autocomplete      : "off",
            autocorrect       : "off",
            autocapitalize    : "off",
        },
        placeholder       : null,
        container         : null,
        hideSource        : true,
        shortnames        : true,
        sprite            : true,
        pickerPosition    : "top", // top | bottom | right
        filtersPosition   : "top", // top | bottom
        hidePickerOnBlur  : true,
        buttonTitle       : "Use the TAB key to insert emoji faster",
        tones             : true,
        tonesStyle        : "bullet", // bullet | radio | square | checkbox
        inline            : null, // null - auto
        saveEmojisAs      : "unicode", // unicode | shortname | image
        shortcuts         : true,
        autocomplete      : true,
        autocompleteTones : false,

        filters: {
            tones: {
                title: "Diversity",
                emoji: "santa runner surfer swimmer lifter ear nose point_up_2 point_down point_left point_right punch " +
                "wave ok_hand thumbsup thumbsdown clap open_hands boy girl man woman cop bride_with_veil person_with_blond_hair " +
                "man_with_gua_pi_mao man_with_turban older_man grandma baby construction_worker princess angel " +
                "information_desk_person guardsman dancer nail_care massage haircut muscle spy hand_splayed middle_finger " +
                "vulcan no_good ok_woman bow raising_hand raised_hands person_frowning person_with_pouting_face pray rowboat " +
                "bicyclist mountain_bicyclist walking bath metal point_up basketball_player fist raised_hand v writing_hand"
            },

            smileys_people: {
                icon: "yum",
                title: "Smileys & People",
                emoji: "grinning grimacing grin joy smiley smile sweat_smile laughing innocent wink blush slight_smile " +
                "upside_down relaxed yum relieved heart_eyes kissing_heart kissing kissing_smiling_eyes " +
                "kissing_closed_eyes stuck_out_tongue_winking_eye stuck_out_tongue_closed_eyes stuck_out_tongue " +
                "money_mouth nerd sunglasses hugging smirk no_mouth neutral_face expressionless unamused rolling_eyes " +
                "thinking flushed disappointed worried angry rage pensive confused slight_frown frowning2 persevere " +
                "confounded tired_face weary triumph open_mouth scream fearful cold_sweat hushed frowning anguished " +
                "cry disappointed_relieved sleepy sweat sob dizzy_face astonished zipper_mouth mask thermometer_face " +
                "head_bandage sleeping zzz poop smiling_imp imp japanese_ogre japanese_goblin skull ghost alien robot " +
                "smiley_cat smile_cat joy_cat heart_eyes_cat smirk_cat kissing_cat scream_cat crying_cat_face " +
                "pouting_cat raised_hands clap wave thumbsup thumbsdown punch fist v ok_hand raised_hand open_hands " +
                "muscle pray point_up point_up_2 point_down point_left point_right middle_finger hand_splayed metal " +
                "vulcan writing_hand nail_care lips tongue ear nose eye eyes bust_in_silhouette busts_in_silhouette " +
                "speaking_head baby boy girl man woman person_with_blond_hair older_man older_woman man_with_gua_pi_mao " +
                "man_with_turban cop construction_worker guardsman spy santa angel princess bride_with_veil walking " +
                "runner dancer dancers couple two_men_holding_hands two_women_holding_hands bow information_desk_person " +
                "no_good ok_woman raising_hand person_with_pouting_face person_frowning haircut massage couple_with_heart " +
                "couple_ww couple_mm couplekiss kiss_ww kiss_mm family family_mwg family_mwgb family_mwbb family_mwgg " +
                "family_wwb family_wwg family_wwgb family_wwbb family_wwgg family_mmb family_mmg family_mmgb family_mmbb " +
                "family_mmgg womans_clothes shirt jeans necktie dress bikini kimono lipstick kiss footprints high_heel " +
                "sandal boot mans_shoe athletic_shoe womans_hat tophat helmet_with_cross mortar_board crown school_satchel " +
                "pouch purse handbag briefcase eyeglasses dark_sunglasses ring closed_umbrella"
            },

            animals_nature: {
                icon: "hamster",
                title: "Animals & Nature",
                emoji: "dog cat mouse hamster rabbit bear panda_face koala tiger lion_face cow pig pig_nose frog " +
                "octopus monkey_face see_no_evil hear_no_evil speak_no_evil monkey chicken penguin bird baby_chick " +
                "hatching_chick hatched_chick wolf boar horse unicorn bee bug snail beetle ant spider scorpion crab " +
                "snake turtle tropical_fish fish blowfish dolphin whale whale2 crocodile leopard tiger2 water_buffalo " +
                "ox cow2 dromedary_camel camel elephant goat ram sheep racehorse pig2 rat mouse2 rooster turkey dove " +
                "dog2 poodle cat2 rabbit2 chipmunk feet dragon dragon_face cactus christmas_tree evergreen_tree " +
                "deciduous_tree palm_tree seedling herb shamrock four_leaf_clover bamboo tanabata_tree leaves " +
                "fallen_leaf maple_leaf ear_of_rice hibiscus sunflower rose tulip blossom cherry_blossom bouquet " +
                "mushroom chestnut jack_o_lantern shell spider_web earth_americas earth_africa earth_asia full_moon " +
                "waning_gibbous_moon last_quarter_moon waning_crescent_moon new_moon waxing_crescent_moon " +
                "first_quarter_moon waxing_gibbous_moon new_moon_with_face full_moon_with_face first_quarter_moon_with_face " +
                "last_quarter_moon_with_face sun_with_face crescent_moon star star2 dizzy sparkles comet sunny " +
                "white_sun_small_cloud partly_sunny white_sun_cloud white_sun_rain_cloud cloud cloud_rain " +
                "thunder_cloud_rain cloud_lightning zap fire boom snowflake cloud_snow snowman2 snowman wind_blowing_face " +
                "dash cloud_tornado fog umbrella2 umbrella droplet sweat_drops ocean"
            },

            food_drink: {
                icon: "pizza",
                title: "Food & Drink",
                emoji: "green_apple apple pear tangerine lemon banana watermelon grapes strawberry melon cherries peach " +
                "pineapple tomato eggplant hot_pepper corn sweet_potato honey_pot bread cheese poultry_leg meat_on_bone " +
                "fried_shrimp egg hamburger fries hotdog pizza spaghetti taco burrito ramen stew fish_cake sushi bento " +
                "curry rice_ball rice rice_cracker oden dango shaved_ice ice_cream icecream cake birthday custard candy " +
                "lollipop chocolate_bar popcorn doughnut cookie beer beers wine_glass cocktail tropical_drink champagne " +
                "sake tea coffee baby_bottle fork_and_knife fork_knife_plate"
            },

            activity: {
                icon: "basketball",
                title: "Activity",
                emoji: "soccer basketball football baseball tennis volleyball rugby_football 8ball golf golfer ping_pong " +
                "badminton hockey field_hockey cricket ski skier snowboarder ice_skate bow_and_arrow fishing_pole_and_fish " +
                "rowboat swimmer surfer bath basketball_player lifter bicyclist mountain_bicyclist horse_racing levitate " +
                "trophy running_shirt_with_sash medal military_medal reminder_ribbon rosette ticket tickets performing_arts " +
                "art circus_tent microphone headphones musical_score musical_keyboard saxophone trumpet guitar violin " +
                "clapper video_game space_invader dart game_die slot_machine bowling"
            },

            travel_places: {
                icon: "rocket",
                title: "Travel & Places",
                emoji: "red_car taxi blue_car bus trolleybus race_car police_car ambulance fire_engine minibus truck " +
                "articulated_lorry tractor motorcycle bike rotating_light oncoming_police_car oncoming_bus " +
                "oncoming_automobile oncoming_taxi aerial_tramway mountain_cableway suspension_railway railway_car " +
                "train monorail bullettrain_side bullettrain_front light_rail mountain_railway steam_locomotive train2 " +
                "metro tram station helicopter airplane_small airplane airplane_departure airplane_arriving sailboat " +
                "motorboat speedboat ferry cruise_ship rocket satellite_orbital seat anchor construction fuelpump busstop " +
                "vertical_traffic_light traffic_light checkered_flag ship ferris_wheel roller_coaster carousel_horse " +
                "construction_site foggy tokyo_tower factory fountain rice_scene mountain mountain_snow mount_fuji volcano " +
                "japan camping tent park motorway railway_track sunrise sunrise_over_mountains desert beach island " +
                "city_sunset city_dusk cityscape night_with_stars bridge_at_night milky_way stars sparkler fireworks " +
                "rainbow homes european_castle japanese_castle stadium statue_of_liberty house house_with_garden " +
                "house_abandoned office department_store post_office european_post_office hospital bank hotel " +
                "convenience_store school love_hotel wedding classical_building church mosque synagogue kaaba shinto_shrine"
            },

            objects: {
                icon: "bulb",
                title: "Objects",
                emoji: "watch iphone calling computer keyboard desktop printer mouse_three_button trackball joystick " +
                "compression minidisc floppy_disk cd dvd vhs camera camera_with_flash video_camera movie_camera projector " +
                "film_frames telephone_receiver telephone pager fax tv radio microphone2 level_slider control_knobs " +
                "stopwatch timer alarm_clock clock hourglass_flowing_sand hourglass satellite battery electric_plug bulb " +
                "flashlight candle wastebasket oil money_with_wings dollar yen euro pound moneybag credit_card gem scales " +
                "wrench hammer hammer_pick tools pick nut_and_bolt gear chains gun bomb knife dagger crossed_swords shield " +
                "smoking skull_crossbones coffin urn amphora crystal_ball prayer_beads barber alembic telescope microscope " +
                "hole pill syringe thermometer label bookmark toilet shower bathtub key key2 couch sleeping_accommodation " +
                "bed door bellhop frame_photo map beach_umbrella moyai shopping_bags balloon flags ribbon gift confetti_ball " +
                "tada dolls wind_chime crossed_flags izakaya_lantern envelope envelope_with_arrow incoming_envelope e-mail " +
                "love_letter postbox mailbox_closed mailbox mailbox_with_mail mailbox_with_no_mail package postal_horn " +
                "inbox_tray outbox_tray scroll page_with_curl bookmark_tabs bar_chart chart_with_upwards_trend " +
                "chart_with_downwards_trend page_facing_up date calendar calendar_spiral card_index card_box ballot_box " +
                "file_cabinet clipboard notepad_spiral file_folder open_file_folder dividers newspaper2 newspaper notebook " +
                "closed_book green_book blue_book orange_book notebook_with_decorative_cover ledger books book link " +
                "paperclip paperclips scissors triangular_ruler straight_ruler pushpin round_pushpin triangular_flag_on_post " +
                "flag_white flag_black closed_lock_with_key lock unlock lock_with_ink_pen pen_ballpoint pen_fountain " +
                "black_nib pencil pencil2 crayon paintbrush mag mag_right"
            },

            symbols: {
                icon: "heartpulse",
                title: "Symbols",
                emoji: "heart yellow_heart green_heart blue_heart purple_heart broken_heart heart_exclamation two_hearts " +
                "revolving_hearts heartbeat heartpulse sparkling_heart cupid gift_heart heart_decoration peace cross " +
                "star_and_crescent om_symbol wheel_of_dharma star_of_david six_pointed_star menorah yin_yang orthodox_cross " +
                "place_of_worship ophiuchus aries taurus gemini cancer leo virgo libra scorpius sagittarius capricorn " +
                "aquarius pisces id atom u7a7a u5272 radioactive biohazard mobile_phone_off vibration_mode u6709 u7121 " +
                "u7533 u55b6 u6708 eight_pointed_black_star vs accept white_flower ideograph_advantage secret congratulations " +
                "u5408 u6e80 u7981 a b ab cl o2 sos no_entry name_badge no_entry_sign x o anger hotsprings no_pedestrians " +
                "do_not_litter no_bicycles non-potable_water underage no_mobile_phones exclamation grey_exclamation question " +
                "grey_question bangbang interrobang 100 low_brightness high_brightness trident fleur-de-lis part_alternation_mark " +
                "warning children_crossing beginner recycle u6307 chart sparkle eight_spoked_asterisk negative_squared_cross_mark " +
                "white_check_mark diamond_shape_with_a_dot_inside cyclone loop globe_with_meridians m atm sa passport_control " +
                "customs baggage_claim left_luggage wheelchair no_smoking wc parking potable_water mens womens baby_symbol " +
                "restroom put_litter_in_its_place cinema signal_strength koko ng ok up cool new free zero one two three four " +
                "five six seven eight nine ten 1234 arrow_forward pause_button play_pause stop_button record_button track_next " +
                "track_previous fast_forward rewind twisted_rightwards_arrows repeat repeat_one arrow_backward arrow_up_small " +
                "arrow_down_small arrow_double_up arrow_double_down arrow_right arrow_left arrow_up arrow_down arrow_upper_right " +
                "arrow_lower_right arrow_lower_left arrow_upper_left arrow_up_down left_right_arrow arrows_counterclockwise " +
                "arrow_right_hook leftwards_arrow_with_hook arrow_heading_up arrow_heading_down hash asterisk information_source " +
                "abc abcd capital_abcd symbols musical_note notes wavy_dash curly_loop heavy_check_mark arrows_clockwise " +
                "heavy_plus_sign heavy_minus_sign heavy_division_sign heavy_multiplication_x heavy_dollar_sign currency_exchange " +
                "copyright registered tm end back on top soon ballot_box_with_check radio_button white_circle black_circle " +
                "red_circle large_blue_circle small_orange_diamond small_blue_diamond large_orange_diamond large_blue_diamond " +
                "small_red_triangle black_small_square white_small_square black_large_square white_large_square small_red_triangle_down " +
                "black_medium_square white_medium_square black_medium_small_square white_medium_small_square black_square_button " +
                "white_square_button speaker sound loud_sound mute mega loudspeaker bell no_bell black_joker mahjong spades " +
                "clubs hearts diamonds flower_playing_cards thought_balloon anger_right speech_balloon clock1 clock2 clock3 " +
                "clock4 clock5 clock6 clock7 clock8 clock9 clock10 clock11 clock12 clock130 clock230 clock330 clock430 " +
                "clock530 clock630 clock730 clock830 clock930 clock1030 clock1130 clock1230 eye_in_speech_bubble"
            },

            flags: {
                icon: "flag_gb",
                title: "Flags",
                emoji: "ac af al dz ad ao ai ag ar am aw au at az bs bh bd bb by be bz bj bm bt bo ba bw br bn bg bf bi " +
                "cv kh cm ca ky cf td flag_cl cn co km cg flag_cd cr hr cu cy cz dk dj dm do ec eg sv gq er ee et fk fo " +
                "fj fi fr pf ga gm ge de gh gi gr gl gd gu gt gn gw gy ht hn hk hu is in flag_id ir iq ie il it ci jm jp " +
                "je jo kz ke ki xk kw kg la lv lb ls lr ly li lt lu mo mk mg mw my mv ml mt mh mr mu mx fm md mc mn me " +
                "ms ma mz mm na nr np nl nc nz ni ne flag_ng nu kp no om pk pw ps pa pg py pe ph pl pt pr qa ro ru rw " +
                "sh kn lc vc ws sm st flag_sa sn rs sc sl sg sk si sb so za kr es lk sd sr sz se ch sy tw tj tz th tl " +
                "tg to tt tn tr flag_tm flag_tm ug ua ae gb us vi uy uz vu va ve vn wf eh ye zm zw re ax ta io bq cx " +
                "cc gg im yt nf pn bl pm gs tk bv hm sj um ic ea cp dg as aq vg ck cw eu gf tf gp mq mp sx ss tc "
            }
        }
    };
    function isObject(variable) {
        return typeof variable === 'object';
    };
    function getOptions(options) {
        if (options['filters']) {
            var filters = default_options.filters;
            $.each(options['filters'], function(filter, data) {
                if (!isObject(data) || $.isEmptyObject(data)) {
                    delete filters[filter];
                    return;
                }
                $.each(data, function(key, val) {
                    filters[filter][key] = val;
                });
            });
            options['filters'] = filters;
        }
        return $.extend({}, default_options, options);
    }

    var saveSelection, restoreSelection;
    if (window.getSelection && document.createRange) {
        saveSelection = function(el) {
            var range = window.getSelection().getRangeAt(0);
            var preSelectionRange = range.cloneRange();
            preSelectionRange.selectNodeContents(el);
            preSelectionRange.setEnd(range.startContainer, range.startOffset);
            return preSelectionRange.toString().length;
        };

        restoreSelection = function(el, sel) {
            var charIndex = 0, range = document.createRange();
            range.setStart(el, 0);
            range.collapse(true);
            var nodeStack = [el], node, foundStart = false, stop = false;

            while (!stop && (node = nodeStack.pop())) {
                if (node.nodeType == 3) {
                    var nextCharIndex = charIndex + node.length;
                    if (!foundStart && sel >= charIndex && sel <= nextCharIndex) {
                        range.setStart(node, sel - charIndex);
                        range.setEnd(node, sel - charIndex);
                        stop = true;
                    }
                    charIndex = nextCharIndex;
                } else {
                    var i = node.childNodes.length;
                    while (i--) {
                        nodeStack.push(node.childNodes[i]);
                    }
                }
            }

            sel = window.getSelection();
            sel.removeAllRanges();
            sel.addRange(range);
        }
    } else if (document.selection && document.body.createTextRange) {
        saveSelection = function(el) {
            var selectedTextRange = document.selection.createRange(),
                preSelectionTextRange = document.body.createTextRange();
            preSelectionTextRange.moveToElementText(el);
            preSelectionTextRange.setEndPoint("EndToStart", selectedTextRange);
            var start = preSelectionTextRange.text.length;
            return start + selectedTextRange.text.length;
        };

        restoreSelection = function(el, sel) {
            var textRange = document.body.createTextRange();
            textRange.moveToElementText(el);
            textRange.collapse(true);
            textRange.moveEnd("character", sel);
            textRange.moveStart("character", sel);
            textRange.select();
        };
    }


    var uniRegexp;
    var emojioneVersion = window.emojioneVersion || '2.1.4';

    var cdn_base = "https://cdnjs.cloudflare.com/ajax/libs/emojione/";
    function detectVersion() {
        var version = emojione.cacheBustParam;
        if (!isObject(emojione['jsEscapeMap'])) return '1.5.2';
        if (version === "?v=1.2.4") return '2.0.0';
        if (version === "?v=2.0.1") return '2.1.0'; // v2.0.1 || v2.1.0
        if (version === "?v=2.1.1") return '2.1.1';
        if (version === "?v=2.1.2") return '2.1.2';
        if (version === "?v=2.1.3") return '2.1.3';
        if (version === "?v=2.1.4") return '2.1.4';
        return '2.1.4';
    }
    function getSupportMode(version) {
        switch (version) {
            case '1.5.2': return 0;
            case '2.0.0': return 1;
            case '2.1.0':
            case '2.1.1': return 2;
            case '2.1.2': return 3;
            case '2.1.3':
            case '2.1.4':
            default: return 4;
        }
    }
    if (!emojione || getSupportMode(detectVersion()) < 2) {
        $.getScript(cdn_base + emojioneVersion + "/lib/js/emojione.min.js", function () {
            emojione = window.emojione;
            emojioneVersion = detectVersion();
            emojioneSupportMode = getSupportMode(emojioneVersion);
            cdn_base += emojioneVersion + "/assets";
            var sprite = cdn_base +"/sprites/emojione.sprites.css";
            if (document.createStyleSheet) {
                document.createStyleSheet(sprite);
            } else {
                $('<link/>', {rel: 'stylesheet', href: sprite}).appendTo('head');
            }
            while (readyCallbacks.length) {
                readyCallbacks.shift().call();
            }
        });
    } else {
        emojioneVersion = detectVersion();
        emojioneSupportMode = getSupportMode(emojioneVersion);
        cdn_base += emojioneVersion + "/assets";
    }

    emojioneReady(function() {
        emojione.imagePathPNG = cdn_base + "/png/";
        uniRegexp = new RegExp("<object[^>]*>.*?<\/object>|<span[^>]*>.*?<\/span>|<(?:object|embed|svg|img|div|span|p|a)[^>]*>|("+
            emojione.unicodeRegexp+")", "gi");
    });
    function unicodeTo(str, template) {
        return str.replace(uniRegexp, function(unicodeChar) {
            var map = emojione[(emojioneSupportMode === 0 ? 'jsecapeMap' : 'jsEscapeMap')];
            if (typeof unicodeChar !== 'undefined' && unicodeChar in map) {
                return getTemplate(template, map[unicodeChar]);
            }
            return unicodeChar;
        });
    }
    function htmlFromText(str, self) {
        str = str
            .replace(/&/g, '&amp;')
            .replace(/</g, '&lt;')
            .replace(/>/g, '&gt;')
            .replace(/"/g, '&quot;')
            .replace(/'/g, '&#x27;')
            .replace(/`/g, '&#x60;')
            .replace(/(?:\r\n|\r|\n)/g, '\n')
            .replace(/(\n+)/g, '<div>$1</div>')
            .replace(/\n/g, '<br/>')
            .replace(/<br\/><\/div>/g, '</div>');
        if (self.shortnames) {
            str = emojione.shortnameToUnicode(str);
        }
        return unicodeTo(str, self.emojiTemplate)
            .replace(/\t/g, '&nbsp;&nbsp;&nbsp;&nbsp;')
            .replace(/  /g, '&nbsp;&nbsp;');
    }
    function textFromHtml(str, self) {
        str = str
            .replace(/<img[^>]*alt="([^"]+)"[^>]*>/ig, '$1')
            .replace(/\n|\r/g, '')
            .replace(/<br[^>]*>/ig, '\n')
            .replace(/(?:<(?:div|p|ol|ul|li|pre|code|object)[^>]*>)+/ig, '<div>')
            .replace(/(?:<\/(?:div|p|ol|ul|li|pre|code|object)>)+/ig, '</div>')
            .replace(/\n<div><\/div>/ig, '\n')
            .replace(/<div><\/div>\n/ig, '\n')
            .replace(/(?:<div>)+<\/div>/ig, '\n')
            .replace(/([^\n])<\/div><div>/ig, '$1\n')
            .replace(/(?:<\/div>)+/ig, '</div>')
            .replace(/([^\n])<\/div>([^\n])/ig, '$1\n$2')
            .replace(/<\/div>/ig, '')
            .replace(/([^\n])<div>/ig, '$1\n')
            .replace(/\n<div>/ig, '\n')
            .replace(/<div>\n/ig, '\n\n')
            .replace(/<(?:[^>]+)?>/g, '')
            .replace(/&#8291;/g, '')
            .replace(/&nbsp;/g, ' ')
            .replace(/&lt;/g, '<')
            .replace(/&gt;/g, '>')
            .replace(/&quot;/g, '"')
            .replace(/&#x27;/g, "'")
            .replace(/&#x60;/g, '`')
            .replace(/&amp;/g, '&');

        switch (self.saveEmojisAs) {
            case 'image':
                str = unicodeTo(str, self.emojiTemplate);
                break;
            case 'shortname':
                str = emojione.toShort(str);
        }
        return str;
    }
    function calcButtonPosition() {
        var self = this,
            offset = self.editor[0].offsetWidth - self.editor[0].clientWidth,
            current = parseInt(self.button.css('marginRight'));
        if (current !== offset) {
            self.button.css({marginRight: offset});
            if (self.pickerPosition === 'top') {
                self.picker.css({right: parseInt(self.picker.css('right')) - current + offset});
            }
        }
    }
    function lazyLoading() {
        var self = this;
        if (!self.sprite && self.lasyEmoji[0]) {
            var pickerTop = self.picker.offset().top,
                pickerBottom = pickerTop + self.picker.height() + 20;
            self.lasyEmoji.each(function() {
                var e = $(this), top = e.offset().top;
                if (top > pickerTop && top < pickerBottom) {
                    e.attr("src", e.data("src")).removeClass("lazy-emoji");
                }
            })
            self.lasyEmoji = self.lasyEmoji.filter(".lazy-emoji");
        }
    }
    function selector (prefix, skip_dot) {
        return (skip_dot ? '' : '.') + css_class + (prefix ? ("-" + prefix) : "");
    }
    function div(prefix) {
        var parent = $('<div/>', isObject(prefix) ? prefix : {"class" : selector(prefix, true)});
        $.each(slice.call(arguments).slice(1), function(i, child) {
            if ($.isFunction(child)) {
                child = child.call(parent);
            }
            if (child) {
                $(child).appendTo(parent);
            }
        });
        return parent;
    }
    function init(self, source, options) {
        //calcElapsedTime('init', function() {
        options = getOptions(options);
        self.sprite = options.sprite && emojioneSupportMode < 3;
        self.inline = options.inline === null ? source.is("INPUT") : options.inline;
        self.shortnames = options.shortnames;
        self.pickerPosition = options.pickerPosition;
        self.saveEmojisAs = options.saveEmojisAs;
        self.emojiTemplate = '<img alt="{alt}" class="emojione' + (self.sprite ? '-{uni}" src="' + blankImg + '"/>' : 'emoji" src="{img}"/>');

        var sourceValFunc = source.is("TEXTAREA") || source.is("INPUT") ? "val" : "text",
            editor, button, picker, tones, filters, filtersBtns, emojisList, categories, scrollArea,
            app = div({"class" : css_class + " " + (source.attr("class") || ""), role: "application"},
                editor = self.editor = div('editor').attr({
                    contenteditable: true,
                    placeholder: options["placeholder"] || source.data("placeholder") || source.attr("placeholder") || "",
                    tabindex: 0
                }),
                button = self.button = div('button',
                    div('button-open'),
                    div('button-close')
                ).attr('title', options.buttonTitle),
                picker = self.picker = div('picker',
                    div('wrapper',
                        filters = div('filters'),
                        scrollArea = div('scroll-area',
                            emojisList = div('emojis-list'),
                            tones = div('tones',
                                function() {
                                    if (options.tones) {
                                        this.addClass(selector('tones-' + options.tonesStyle, true));
                                        for (var i = 0; i <= 5; i++) {
                                            this.append($("<i/>", {
                                                "class": "btn-tone btn-tone-" + i + (!i ? " active" : ""),
                                                "data-skin": i,
                                                role: "button"
                                            }));
                                        }
                                    }
                                }
                            )
                        )
                    )
                ).addClass(selector('picker-position-' + options.pickerPosition, true))
                 .addClass(selector('filters-position-' + options.filtersPosition, true))
                 .addClass('hidden')
            );

        $.each(options.attributes, function(attr, value) {
            editor.attr(attr, value);
        });

        $.each(options.filters, function(filter, params) {
            var skin = 0;
            if (filter !== 'tones') {
                $("<i/>", {
                    "class": selector("filter", true) + " " + selector("filter-" + filter, true),
                    "data-filter": filter,
                    title: params.title
                })
                .wrapInner(shortnameTo(params.icon, self.sprite ? '<i class="emojione-{uni}"/>' : '<img class="emojioneemoji" src="{img}"/>'))
                .appendTo(filters);
            } else if (options.tones) {
                skin = 5;
            } else {
                return;
            }
            do {
                var category = div('category').attr({name: filter, "data-tone": skin}).appendTo(emojisList),
                    items = params.emoji.replace(/[\s,;]+/g, '|');
                if (skin > 0) {
                    category.hide();
                    items = items.split('|').join('_tone' + skin + '|') + '_tone' + skin;
                }
                items = shortnameTo(items,
                    self.sprite ?
                    '<i class="emojibtn" role="button" data-name="{name}"><i class="emojione-{uni}"></i></i>' :
                    '<i class="emojibtn" role="button" data-name="{name}"><img class="emojioneemoji lazy-emoji" data-src="{img}"/></i>',
                    true).split('|').join('');
                category.html(items);
                $('<h1/>').text(params.title).prependTo(category);
            } while (--skin > 0);
        });

        options.filters = null;
        if (!self.sprite) {
            self.lasyEmoji = emojisList.find(".lazy-emoji");
        }

        filtersBtns = filters.find(selector("filter"));
        filtersBtns.eq(0).addClass("active");
        categories = emojisList.find(selector("category"));

        if (options.container) {
            $(options.container).wrapInner(app);
        } else {
            app.insertAfter(source);
        }

        if (options.hideSource) {
            source.hide();
        }

        self.setText(source[sourceValFunc]());
        source[sourceValFunc](self.getText());
        calcButtonPosition.apply(self);

        // attach() must be called before any .on() methods !!!
        // 1) attach() stores events into possibleEvents{},
        // 2) .on() calls bindEvent() and stores handlers into eventStorage{},
        // 3) bindEvent() finds events in possibleEvents{} and bind founded via jQuery.on()
        // 4) attached events via jQuery.on() calls trigger()
        // 5) trigger() calls handlers stored into eventStorage{}

        attach(self, emojisList.find(".emojibtn"), {click: "emojibtn.click"});
        attach(self, window, {resize: "!resize"});
        attach(self, tones.children(), {click: "tone.click"});
        attach(self, [picker, button], {mousedown: "!mousedown"}, editor);
        attach(self, button, {click: "button.click"});
        attach(self, editor, {paste :"!paste"}, editor);
        attach(self, editor, ["focus", "blur"], function() { return self.stayFocused ? false : editor; });
        attach(self, picker, {mousedown: "picker.mousedown", mouseup: "picker.mouseup", click: "picker.click",
            keyup: "picker.keyup", keydown: "picker.keydown", keypress: "picker.keypress"});
        attach(self, editor, ["mousedown", "mouseup", "click", "keyup", "keydown", "keypress"]);
        attach(self, picker.find(".emojionearea-filter"), {click: "filter.click"});

        if (isObject(options.events) && !$.isEmptyObject(options.events)) {
            $.each(options.events, function(event, handler) {
                self.on(event.replace(/_/g, '.'), handler);
            });
        }

        var noListenScroll = false;
        scrollArea.on('scroll', function () {
            if (!noListenScroll) {
                lazyLoading.call(self);
                if (scrollArea.is(":not(.skinnable)")) {
                    var item = categories.eq(0), scrollTop = scrollArea.offset().top;
                    categories.each(function (i, e) {
                        if ($(e).offset().top - scrollTop >= 10) {
                            return false;
                        }
                        item = $(e);
                    });
                    var filter = filtersBtns.filter('[data-filter="' + item.attr("name") + '"]');
                    if (filter[0] && !filter.is(".active")) {
                        filtersBtns.removeClass("active");
                        filter.addClass("active");
                    }
                }
            }
        });

        self.on("@filter.click", function(filter) {
            var isActive = filter.is(".active");
            if (scrollArea.is(".skinnable")) {
                if (isActive) return;
                tones.children().eq(0).click();
            }
            noListenScroll = true;
            if (!isActive) {
                filtersBtns.filter(".active").removeClass("active");
                filter.addClass("active");
            }
            var headerOffset = categories.filter('[name="' + filter.data('filter') + '"]').offset().top,
                scroll = scrollArea.scrollTop(),
                offsetTop = scrollArea.offset().top;
            scrollArea.stop().animate({
                scrollTop: headerOffset + scroll - offsetTop - 2
            }, 200, 'swing', function () {
                lazyLoading.call(self);
                noListenScroll = false;
            });
        })

        .on("@picker.show", lazyLoading)

        .on("@tone.click", function(tone) {
            tones.children().removeClass("active");
            var skin = tone.addClass("active").data("skin");
            if (skin) {
                scrollArea.addClass("skinnable");
                categories.hide().filter("[data-tone=" + skin + "]").show();
            } else {
                scrollArea.removeClass("skinnable");
                categories.hide().filter("[data-tone=0]").show();
            }
            lazyLoading.call(self);
        })

        .on("@button.click", function(button) {
            if (button.is(".active")) {
                self.hidePicker();
            } else {
                self.showPicker();
            }
        })

        .on("@!paste", function(editor) {
            self.stayFocused = true;
            // insert invisible character for fix caret position
            pasteHtmlAtCaret('<span>&#8291;</span>');

            var sel = saveSelection(editor[0]),
                editorScrollTop = editor.scrollTop(),
                clipboard = $("<div/>", {contenteditable: true})
                    .css({position: "fixed", left: "-999px", width: "1px", height: "1px", top: "20px", overflow: "hidden"})
                    .appendTo($("BODY"))
                    .focus();

            window.setTimeout(function() {
                var caretID = "caret-" + (new Date()).getTime();
                editor.focus();
                restoreSelection(editor[0], sel);
                var text = textFromHtml(clipboard.html().replace(/\r\n|\n|\r/g, '<br>'), self),
                    html = htmlFromText(text, self);
                pasteHtmlAtCaret(html);
                clipboard.remove();
                pasteHtmlAtCaret('<i id="' + caretID +'"></i>');
                editor.scrollTop(editorScrollTop);
                var caret = $("#" + caretID),
                    top = caret.offset().top - editor.offset().top,
                    height = editor.height();
                if (editorScrollTop + top >= height || editorScrollTop > top) {
                    editor.scrollTop(editorScrollTop + top - 2 * height/3);
                }
                caret.remove();
                self.stayFocused = false;
                calcButtonPosition.apply(self);
                trigger(self, 'paste', [editor, text, html]);
            }, 200);
        })

        .on("@emojibtn.click", function(emojibtn) {
            if (!app.is(".focused")) {
                editor.focus();
            }
            saveSelection(editor[0]);
            pasteHtmlAtCaret(shortnameTo(emojibtn.data("name"), self.emojiTemplate));
        })

        .on("@!resize @keyup @emojibtn.click", calcButtonPosition)

        .on("@!mousedown", function(editor, event) {
            if (!app.is(".focused")) {
                editor.focus();
            }
            event.preventDefault();
            return false;
        })

        .on("@change", function(editor) {
            var html = editor.html().replace(/<\/?(?:div|span|p)[^>]*>/ig, '');
            // clear input: chrome adds <br> when contenteditable is empty
            if (!html.length || /^<br[^>]*>$/i.test(html)) {
                self.editor.html(self.content = '');
            }
            source[sourceValFunc](self.getText());
        })

        .on("@focus", function() {
            app.addClass("focused");
        })

        .on("@blur", function(editor) {
            app.removeClass("focused");

            if (options.hidePickerOnBlur) {
                self.hidePicker();
            }

            var content = editor.html();
            if (self.content !== content) {
                self.content = content;
                trigger(self, 'change', [editor]);
                source.blur().trigger("change");
            } else {
                source.blur();
            }
        });

        if (options.shortcuts) {
            self.on("@keydown", function(_, e) {
                if (!e.ctrlKey) {
                    if (e.which == 9) {
                        e.preventDefault();
                        button.click();
                    }
                    else if (e.which == 27) {
                        e.preventDefault();
                        if (button.is(".active")) {
                            self.hidePicker();
                        }
                    }
                }
            });
        }

        if (options.autocomplete) {
            var autocomplete = function() {
                var events = {};
                if (options.shortcuts) {
                    events.onKeydown = function (e, commands) {
                        if (!e.ctrlKey && e.which == 13) {
                            return commands.KEY_ENTER;
                        }
                    };
                }
                var map = $.map(emojione.emojioneList, function (_, emoji) {
                    return !options.autocompleteTones ? /_tone[12345]/.test(emoji) ? null : emoji : emoji;
                });
                map.sort();
                editor.textcomplete([
                    {
                        id: css_class,
                        match: /(:[\-+\w]*)$/,
                        search: function (term, callback) {
                            callback($.map(map, function (emoji) {
                                return emoji.indexOf(term) === 0 ? emoji : null;
                            }));
                        },
                        template: function (value) {
                            return shortnameTo(value, self.emojiTemplate) + " " + value.replace(/:/g, '');
                        },
                        replace: function (value) {
                            return shortnameTo(value, self.emojiTemplate);
                        },
                        cache: true,
                        maxCount: 15,
                        index: 1
                    }
                ], events);
            };
            if ($.fn.textcomplete) {
                autocomplete();
            } else {
                $.getScript("https://cdn.rawgit.com/yuku-t/jquery-textcomplete/v1.3.4/dist/jquery.textcomplete.js",
                    autocomplete);
            }
        }

        if (self.inline) {
            app.addClass(selector('inline', true));
            self.on("@keydown", function(_, e) {
                if (e.which == 13) {
                    e.preventDefault();
                }
            });
        }

        if (/firefox/i.test(navigator.userAgent)) {
            // disabling resize images on Firefox
            document.execCommand("enableObjectResizing", false, false);
        }

        //}, self.id === 1); // calcElapsedTime()
    };
    var EmojioneArea = function(element, options) {
        var self = this;
        eventStorage[self.id = ++unique] = {};
        possibleEvents[self.id] = {};
        emojioneReady(function() {
            init(self, element, options);
        });
    };
    function bindEvent(self, event) {
        event = event.replace(/^@/, '');
        var id = self.id;
        if (possibleEvents[id][event]) {
            $.each(possibleEvents[id][event], function(i, ev) {
                // ev[0] = element
                // ev[1] = event
                // ev[2] = target
                $.each($.isArray(ev[0]) ? ev[0] : [ev[0]], function(i, el) {
                    $(el).on(ev[1], function() {
                        var args = slice.call(arguments),
                            target = $.isFunction(ev[2]) ? ev[2].apply(self, [event].concat(args)) : ev[2];
                        if (target) {
                            trigger(self, event, [target].concat(args));
                        }
                    });
                });
            });
            possibleEvents[id][event] = null;
        }
    }

    EmojioneArea.prototype.on = function(events, handler) {
        if (events && $.isFunction(handler)) {
            var self = this;
            $.each(events.toLowerCase().split(' '), function(i, event) {
                bindEvent(self, event);
                (eventStorage[self.id][event] || (eventStorage[self.id][event] = [])).push(handler);
            });
        }
        return this;
    };

    EmojioneArea.prototype.off = function(events, handler) {
        if (events) {
            var id = this.id;
            $.each(events.toLowerCase().replace(/_/g, '.').split(' '), function(i, event) {
                if (eventStorage[id][event] && !/^@/.test(event)) {
                    if (handler) {
                        $.each(eventStorage[id][event], function(j, fn) {
                            if (fn === handler) {
                                eventStorage[id][event] = eventStorage[id][event].splice(j, 1);
                            }
                        });
                    } else {
                        eventStorage[id][event] = [];
                    }
                }
            });
        }
        return this;
    };

    EmojioneArea.prototype.setText = function (str) {
        var self = this;
        emojioneReady(function () {
            self.editor.html(htmlFromText(str, self));
            self.content = self.editor.html();
            trigger(self, 'change', [self.editor]);
            calcButtonPosition.apply(self);
        });
        return self;
    }

    EmojioneArea.prototype.getText = function() {
        return textFromHtml(this.editor.html(), this);
    }

    EmojioneArea.prototype.showPicker = function () {
        var self = this;
        if (self._sh_timer) {
            window.clearTimeout(self._sh_timer);
        }
        self.picker.removeClass("hidden");
        self._sh_timer =  window.setTimeout(function() {
            self.button.addClass("active");
        }, 50);
        trigger(self, "picker.show", [self.picker]);
        return self;
    }

    EmojioneArea.prototype.hidePicker = function () {
        var self = this;
        if (self._sh_timer) {
            window.clearTimeout(self._sh_timer);
        }
        self.button.removeClass("active");
        self._sh_timer =  window.setTimeout(function() {
            self.picker.addClass("hidden");
        }, 500);
        trigger(self, "picker.hide", [self.picker]);
        return self;
    }

    $.fn.emojioneArea = function(options) {
        return this.each(function() {
            if (!!this.emojioneArea) return this.emojioneArea;
            $.data(this, 'emojioneArea', this.emojioneArea = new EmojioneArea($(this), options));
            return this.emojioneArea;
        });
    };

}) (document, window, jQuery);

/***/ }),
/* 23 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


__webpack_require__(53);

__webpack_require__(55);

var _pubsubJs = __webpack_require__(11);

var _pubsubJs2 = _interopRequireDefault(_pubsubJs);

var _loginForm = __webpack_require__(40);

var _registerForm = __webpack_require__(44);

var _registerForm2 = _interopRequireDefault(_registerForm);

var _loginPage = __webpack_require__(50);

var _confirmReg = __webpack_require__(35);

var _header = __webpack_require__(38);

var header = _interopRequireWildcard(_header);

var _sidebarMenu = __webpack_require__(45);

var sidebarMenu = _interopRequireWildcard(_sidebarMenu);

var _burgerMenu = __webpack_require__(37);

var burgerMenu = _interopRequireWildcard(_burgerMenu);

var _instagramAccountsList = __webpack_require__(20);

var instagramAccounts = _interopRequireWildcard(_instagramAccountsList);

var _messages = __webpack_require__(41);

var messages = _interopRequireWildcard(_messages);

var _follow = __webpack_require__(36);

var follow = _interopRequireWildcard(_follow);

var _unfollowIndex = __webpack_require__(48);

var unfollow = _interopRequireWildcard(_unfollowIndex);

var _automessagesIndex = __webpack_require__(31);

var automessages = _interopRequireWildcard(_automessagesIndex);

var _chatBotIndex = __webpack_require__(33);

var chatBot = _interopRequireWildcard(_chatBotIndex);

var _autogreetingMain = __webpack_require__(28);

var autogreeting = _interopRequireWildcard(_autogreetingMain);

var _autocommentsIndex = __webpack_require__(25);

var autocomments = _interopRequireWildcard(_autocommentsIndex);

var _storiesIndex = __webpack_require__(46);

var stories = _interopRequireWildcard(_storiesIndex);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// const selectorCssLoginForm = {
//     _loginBox: CONST.uiSelectors.headerLoginBox,
//     _formId: '#js_login-form',
//     _buttonSubmitId: '#js_login_btn',
//     _showLoginBoxBtnId: CONST.uiSelectors.headerNavLoginBtn
// };

/*
* global functions
*/

// import {emojionearea} from 'emojioneArea/dist/emojionearea';
// $.fn.emojionearea = emojionearea;

// components
// import {CONST} from './common/js-services/consts';


// vendor
function setPubSub(PubSub) {
    window.PubSub = PubSub;
}

function initTooltip() {
    $('[data-toggle="tooltip"]').tooltip();
}

var init = function init() {
    setPubSub(_pubsubJs2.default);
    initTooltip();
    // console.log('init js here', CONST.user);
    new _registerForm2.default().init();
    // LoginForm(selectorCssLoginForm).init();
    (0, _loginForm.LoginForm)({
        _loginBox: 'main .login-box',
        _formId: '#js_instagram-add-account',
        _buttonSubmitId: '#js_instagram-add-account--btn',
        _showLoginBoxBtnId: '#js_show-login-box',
        isLoginInstagram: true
    }).init(); // init instagram login form *!/
    (0, _loginPage.LoginPage)({
        _loginBox: '.auth.login .card-signin',
        _formId: '.form-signin',
        _buttonSubmitId: '.form-signin [type="submit"]'
    }).init();

    (0, _confirmReg.confirmationWithRedirect)().init();
    header.initHeader();
    sidebarMenu.initMenu();
    burgerMenu.init();
    follow.init();
    unfollow.init();
    instagramAccounts.init();
    messages.init();
    automessages.init();
    autogreeting.init();
    autocomments.init();
    chatBot.init();
    stories.init();
};

(function () {
    return init();
})();

/***/ }),
/* 24 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
var tplTextField = exports.tplTextField = function tplTextField(mainCls) {
    return $("<div class=\"" + mainCls + " mt-2\">\n    <div class=\"row\">\n        <div class=\"col\">\n            <div class=\"js_tagsinput-box\">\n                <input type=\"text\" placeholder=\"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043A\u043B\u044E\u0447\u0435\u0432\u044B\u0435 \u0441\u043B\u043E\u0432\u0430\" value=\"\" data-role=\"tagsinput\" class=\"form-control answer-words mb-2\" />\n            </div>\n            <div class=\"js_tagsinput-box blacklist-box my-2\">\n                <input type=\"text\" placeholder=\"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043C\u0438\u043D\u0443\u0441 \u0441\u043B\u043E\u0432\u0430\" value=\"\" data-role=\"tagsinput\" class=\"form-control blacklist-words\" />\n            </div>\n        </div>\n        <div class=\"col\">\n            <textarea class=\"form-control answer-messages\" rows=\"4\"\n                data-emoji-picker=\"true\" style=\"padding: 0.25rem 1.75rem 0.25rem 0.25rem; width: 100%;min-height: 42px;\"\n                placeholder=\"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u043E\u043E\u0431\u0449\u0435\u043D\u0438\u0435\"\n            ></textarea>\n            \n        </div>\n    </div>\n</div>");
};

/***/ }),
/* 25 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

exports.init = init;

var _consts = __webpack_require__(0);

var _wizardForm = __webpack_require__(6);

var wizardForm = _interopRequireWildcard(_wizardForm);

var _view = __webpack_require__(1);

var _view2 = _interopRequireDefault(_view);

var _apiTaskManager = __webpack_require__(2);

var _apiTaskManager2 = _interopRequireDefault(_apiTaskManager);

var _tabs = __webpack_require__(9);

var tabs = _interopRequireWildcard(_tabs);

var _autocommentsStatus = __webpack_require__(26);

var autocommentsStatus = _interopRequireWildcard(_autocommentsStatus);

var _logs = __webpack_require__(8);

var logs = _interopRequireWildcard(_logs);

var _imageUpload = __webpack_require__(7);

var imageUpload = _interopRequireWildcard(_imageUpload);

var _emoji = __webpack_require__(15);

var _utilsModal = __webpack_require__(12);

var _addAnswerTemplate = __webpack_require__(24);

var _tagsInput = __webpack_require__(10);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

var getValByCommaSeparator = _view2.default.getValByCommaSeparator;

var usernameSelected = '';
var selectCls = 'js_logs-accounts';
var clsConst = {
    currentPageCls: '.autocomments-page',
    tasksList: '.log-tasks',
    logsTabBtn: '#v-pills-logs-tab',
    pagination: '.logs-pagination',
    paginationPgNumber: '.page-number',
    pathType: _consts.CONST.url.tmTypes.autocommentsT,
    pathSubType: _consts.CONST.url.tmTypes.autocommentsSubT[0]
};
var elSelector = {
    fields: '.autocomments-text-fields',
    keyWord: 'input.answer-words',
    answer: 'textarea.answer-messages',
    fileUploadBox: '.file-upload',
    addPostBtns: '.js_autocomments-add-post'
};
var logsState = {
    selectCls: 'js_logs-accounts',
    selectClsLogsTaskType: 'js_logs-subtypes',
    wrapperSubtype: '.log-subype'
};

function initEmojii() {
    (0, _emoji.emoji)({
        page: clsConst.currentPageCls,
        styles: { old: 'bottom: 30px;', new: 'top: -210px;' }
    });
}

function validateIsEmpty($elements, e) {
    $elements.each(function () {
        if ($(this).val() === '') {
            e.preventDefault();
            $(this).addClass('input-error');
            // validation = false;
            return;
        } else {
            $(this).removeClass('input-error');
        }
    });
}

function onSubmitHandler(e) {
    var fields = $(elSelector.fields);
    var reqBody = [];
    var validation = true;
    var $elementsKeyWord = fields.find(elSelector.keyWord);
    var $elementsAnswer = fields.find(elSelector.answer);

    validateIsEmpty($elementsKeyWord, e);
    validateIsEmpty($elementsAnswer, e);

    fields.each(function (idx, item) {
        var keyWord = getValByCommaSeparator($(item).find(elSelector.keyWord));
        var answer = $(item).find(elSelector.answer).val();
        var imageId = $(item).find(elSelector.fileUploadBox).attr('attached-img-id');
        var $imagePostBox = $(item).find('.js_uploaded-img-from-posts');
        var postItemId = $imagePostBox.data('postId');
        var postItemType = $imagePostBox.data('postType');
        var blacklistWords = $(item).find('input.blacklist-words');
        var blacklistWordsArr = getValByCommaSeparator(blacklistWords);

        if (!keyWord.length || !answer.length) {
            // console.log('keyWord is empty, not push me to request');
            $(item).append('\n                <p class="msg-empty-field text-danger">\u041F\u0443\u0441\u0442\u043E\u0435 \u043F\u043E\u043B\u0435 \u043D\u0435 \u0432\u0430\u043B\u0438\u0434\u043D\u043E</p>\n            ');
            setTimeout(function () {
                $('.msg-empty-field').addClass('d-none');
            }, 5000);
            validation = false;
            return;
        }
        var submitBodyItem = {
            'key_words': keyWord,
            answer: answer,
            blacklist: blacklistWordsArr,
            'attachment': imageId ? {
                'image_id': imageId
            } : undefined
        };

        if (postItemId) {
            submitBodyItem.attachment = _extends({}, submitBodyItem.attachment, {
                post: {
                    id: postItemId,
                    type: postItemType || 'type-error'
                }
            });
        }
        reqBody.push(submitBodyItem);
    });
    if (!validation) {
        // console.log('**alarm **', elSelector.keyWord);
        return;
    }

    var nReqBody = {
        'username': usernameSelected,
        'type': clsConst.pathType,
        'subtype': clsConst.pathSubType,
        'user_default_config': {},
        'user_custom_config': {
            'forms': reqBody
        }
    };

    function cbError(res) {
        var msg = res.status.message;
        $('.form-submit-finish--error').addClass('d-block').find('.alert').append('<p>' + msg + '</p>');
    }
    _apiTaskManager2.default.postStartTask(nReqBody, cbError).then(function (result) {
        if (result.status.state === 'ok') {
            $('.form-submit-finish').find('.alert p').remove();
            $('.form-submit-finish').addClass('d-block').find('.alert').append('<p>task_id: ' + result.data.task_id + '</p>');
        }
    });
}

function initLogsTab() {
    function OnChangeSelect() {
        var selectCls = logsState.selectCls;

        $('.' + selectCls).on('change', function () {
            usernameSelected = $('.' + selectCls + ' option:selected').val();
            // clsConst.pathSubType = logsState.activeSubType;
            logs.init(selectCls, clsConst);
        });
    }
    // addDropdown($(logsState.wrapperSubtype), logsSubtypes, {logsState, dropdownOnSelectCb});
    tabs.init(OnChangeSelect, logsState); // makes double request : OPTION and GET
}

function removeExtraTextFields(e) {
    $(elSelector.fields + ':not(:first-child)').removeClass('d-block');
    e.stopPropagation();
}

/* TODO: refactor -> move initModalHandler to separate file, remove initModalHandler in autogreeting-main.js */
var targetButton = {};

function loadMoreHandler(getPosts) {
    var _this = this;

    $('#load-more').off().on('click', function (e) {
        var $btn = $(e.target);
        var cursor = $btn.attr('cursor');
        console.log('load more click');
        getPosts(null, { userName: usernameSelected, cursor: cursor }, { loadMoreHandler: _this, targetButton: targetButton });
    });
}

function initModalHandler() {

    $('.js_open-posts-gridModal').on('click', function (event) {
        targetButton = $(this); // Button that triggered the modal
        // Update the modal's content
        var modal = $('#postsGridModal');
        (0, _utilsModal.getPosts)(modal, { userName: usernameSelected }, { loadMoreHandler: loadMoreHandler, targetButton: targetButton });
        modal.find('.modal-title').text('Публикации');
    });
}

/* TODO: refactor -> move initModalHandler to separate file END */

/**
 * Init Handlers
 */
function initHandlers() {
    var $competitorsInput = $('.autocomments-text-fields input.answer-words[data-role="tagsinput"]');
    var $blackListInput = $('.autocomments-text-fields input.blacklist-words[data-role="tagsinput"]');
    var nextStepBtn = $('form button[type="submit"]');
    (0, _tagsInput.nextBtnvalidateCompetitorsHandler)($competitorsInput, nextStepBtn, 'ignoreRegexCheck');
    (0, _tagsInput.nextBtnvalidateCompetitorsHandler)($blackListInput, null, 'ignoreRegexCheck');

    // TODO: refactor with autogreet.js initHandlers
    // $('[data-toggle="popover"]').popover(); // init
    $('.js_add-autocomments').on('click', function (e) {
        var lastTextField = $(elSelector.fields).last();
        (0, _addAnswerTemplate.tplTextField)(elSelector.fields.substr(1)).insertAfter(lastTextField);
        imageUpload.init();
        // $('[data-toggle="popover"]').popover(); // reinit
        $('[data-toggle="tooltip"]').tooltip(); // reinit
        initModalHandler();

        var lastTextFieldAfterInsert = $(elSelector.fields).last();
        var $inputAnswerWords = $('input.answer-words[data-role="tagsinput"]', lastTextFieldAfterInsert);
        var $blackListInput = $('input.blacklist-words[data-role="tagsinput"]', lastTextFieldAfterInsert);

        (0, _tagsInput.initTagsInput)($inputAnswerWords); // reinit answer-words
        (0, _tagsInput.initTagsInput)($blackListInput); // reinit blacklist-words
        (0, _tagsInput.nextBtnvalidateCompetitorsHandler)($inputAnswerWords, nextStepBtn, 'ignoreRegexCheck');
        (0, _tagsInput.nextBtnvalidateCompetitorsHandler)($blackListInput, null, 'ignoreRegexCheck');
        initEmojii();
    });

    // alert success close
    $('.form-submit-finish .close').on('click', function (e) {
        // console.log('alert close');
        $('#v-pills-all-tab').trigger('click');
        window.PubSub.publish(_consts.CONST.events.tasks.NEW_TASK_CREATED);
        // removeExtraTextFields(e);
    });

    // alert close
    $('.form-submit-finish--error .close').on('click', function () {
        // console.log('alert close');
        $('#v-pills-all-tab').trigger('click');
        window.PubSub.publish(_consts.CONST.events.tasks.NEW_TASK_CREATED);
        removeExtraTextFields();
    });

    // tabs.init(fillListUsers);
    initLogsTab();
}

function setUserName(state) {
    // console.log('getTasksData', state.username);
    usernameSelected = state.username;
}

function stepReducer(stepNumber, state) {
    switch (stepNumber) {
        case 0:
            setUserName(state);
            // console.log(state, stepNumber);
            break;
        default:
            console.log('default', stepNumber);
    }
}

function init() {
    if ($(clsConst.currentPageCls).length) {
        var wizardCfg = {
            stepReducer: stepReducer,
            onSubmitHandler: onSubmitHandler
        };
        wizardForm.init(wizardCfg);
        initHandlers();
        autocommentsStatus.init();
        // initTagsInput('.blacklist-box input');

        window.PubSub.subscribe(_consts.CONST.events.instagramAccouns.INSTAGRAM_ACCOUNS_RENDERED_LAZY, function (e, accounts) {
            logs.init(selectCls, clsConst);
        });
        // window.PubSub.subscribe(CONST.events.autoarnswer.IMAGE_UPLOADED, (e, res) => {
        //     const {response} = res;
        //     const result = (response.length) ? JSON.parse(response) : '';
        //     const imageId = result && result.data && result.data.image_id;
        //     $(res.el).closest('.file-upload').attr('attached-img-id', imageId);
        //     console.log('image_loaded', res);
        //
        //     // todo: make as callBack
        //     const $imageBox = $(res.el).closest('.col').find('.js_uploaded-img-from-posts');
        //     if ($imageBox.length) {
        //         $imageBox.remove();
        //     }
        // });
        // window.PubSub.subscribe(CONST.events.modal.IMAGE_POST_SELECTED, (e, data) => {
        //     const $imageBox = $(data.closestCol).find('.file-upload-content');
        //     console.log('$imageBox', $imageBox);
        //     if ($imageBox.length) {
        //         $imageBox.hide();
        //     }
        // });
        initEmojii();
    }
}

/***/ }),
/* 26 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.init = init;

var _consts = __webpack_require__(0);

var _taskStatus = __webpack_require__(5);

function init() {
    if ($('.autocomments-page').length) {
        var path = {
            type: _consts.CONST.url.tmTypes.autocommentsT,
            subtype: _consts.CONST.url.tmTypes.autocommentsSubT[0]
        };
        var wrappers = {
            $runs: $('.tasks-runs'),
            $stopped: $('.tasks-stopped'),
            $all: $('.tasks-all')
        };

        // task-status has one subtype, so do not add dropdown
        // render status dropdown
        // const textRusArray = ['По DEFAULT_AUTO_ANSWER'];
        // dropDown.addDropdown(logsStateStatus.wrapperSubtype, CONST.url.tmTypes.storiesSubT, {logsState: logsStateStatus, dropdownOnSelectCb, textRusArray});

        (0, _taskStatus.getTasksData)(wrappers, path);
        // window.PubSub.subscribe(CONST.events.instagramAccouns.INSTAGRAM_ACCOUNS_RENDERED, (eventName, data) => {
        //     getTasksData(wrappers, path);
        //     console.log('**answer-status', eventName, data);
        // });
        window.PubSub.subscribe(_consts.CONST.events.tasks.NEW_TASK_CREATED, function (eventName, data) {
            (0, _taskStatus.getTasksData)(wrappers, path);
        });
    }
}

/***/ }),
/* 27 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
var tplTextFieldGreet = exports.tplTextFieldGreet = function tplTextFieldGreet(mainCls) {
    return $("<div class=\"" + mainCls + "\">\n        <div class=\"row\">\n            <div class=\"col\">\n                <div>                \n                    <textarea class=\"form-control answer-words\" rows=\"4\" \n                        data-emoji-picker=\"true\" placeholder=\"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u043E\u043E\u0431\u0449\u0435\u043D\u0438\u0435\"></textarea>    \n                </div>\n\n                <!-- file-upload -->\n                <div class=\"file-upload-btn-box\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u0438\u0437\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u0435\">\n                    <button class=\"file-upload-btn btn btn-success\" type=\"button\">\n                        <i class=\"far fa-image fa-lg\"></i>\n                    </button>\n                </div>\n\n                <button type=\"button\" class=\"btn btn-success post-upload-btn js_automessages-add-post\"\n                    title=\"\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u043F\u0443\u0431\u043B\u0438\u043A\u0430\u0446\u0438\u044E\"\n                    data-toggle=\"tooltip\"\n                    data-placement=\"top\"\n                    data-post-info=\"todo: get req to user: \">\n                    <span class=\"js_open-posts-gridModal\"\n                        data-container=\"body\" data-toggle=\"popover\" data-placement=\"bottom\" data-content=\"\u0423 \u0442\u0435\u043A\u0443\u0449\u0435\u0433\u043E \u0430\u043A\u043A\u0430\u0443\u043D\u0442\u0430 \u043D\u0435\u0442 \u043D\u0438 \u043E\u0434\u043D\u043E\u0433\u043E \u043F\u043E\u0441\u0442\u0430\">\n                    <i class=\"far fa-images fa-lg\"></i>\n                    </span>\n                </button>\n                \n                <div class=\"mt-2\">\n                    <div class=\"file-upload\">\n                    \n                      <div class=\"image-upload-wrap\">\n                        <input class=\"file-upload-input\" type=\"file\" accept=\".jpg, .jpeg\">\n                      </div>\n                      <div class=\"file-upload-content\">\n                        <img class=\"file-upload-image\" src=\"#\" alt=\"your image\">\n                        <div class=\"image-title-wrap\">\n                          <button type=\"button\" class=\"remove-image btn btn-warning\">\u0423\u0434\u0430\u043B\u0438\u0442\u044C <span class=\"image-title\">\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044C</span></button>\n                        </div>\n                      </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>");
};

/***/ }),
/* 28 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.init = init;

var _consts = __webpack_require__(0);

var _wizardForm = __webpack_require__(6);

var wizardForm = _interopRequireWildcard(_wizardForm);

var _apiTaskManager = __webpack_require__(2);

var _apiTaskManager2 = _interopRequireDefault(_apiTaskManager);

var _tabs = __webpack_require__(9);

var tabs = _interopRequireWildcard(_tabs);

var _autogreetingStatus = __webpack_require__(29);

var chatBotStatus = _interopRequireWildcard(_autogreetingStatus);

var _logs = __webpack_require__(8);

var logs = _interopRequireWildcard(_logs);

var _emoji = __webpack_require__(15);

var _imageUpload = __webpack_require__(7);

var imageUpload = _interopRequireWildcard(_imageUpload);

var _utilsModal = __webpack_require__(12);

var _addGreetTemplate = __webpack_require__(27);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

var usernameSelected = '';
var selectCls = 'js_logs-accounts';
var speedType = '.js_autogreeting-speed';
var clsConst = {
    currentPageCls: '.autogreeting-page',
    tasksList: '.log-tasks',
    logsTabBtn: '#v-pills-logs-tab',
    pagination: '.logs-pagination',
    paginationPgNumber: '.page-number',
    pathType: _consts.CONST.url.tmTypes.autogreetT,
    pathSubType: _consts.CONST.url.tmTypes.autogreetSubT[0]
};
var elSelector = {
    fields: '.autogreeting-text-fields',
    fileUploadBox: '.file-upload'
};
var state = {
    user_default_config: {
        task_mode: 'SAFE'
    }
};

function onSubmitHandler(e) {
    var fields = $(elSelector.fields);
    var reqBody = [];
    var getAttachment = function getAttachment(item) {
        var imageId = $(item).find(elSelector.fileUploadBox).attr('attached-img-id');
        var $imagePostBox = $(item).find('.js_uploaded-img-from-posts');
        var postItemId = $imagePostBox.data('postId');
        var postItemType = $imagePostBox.data('postType');
        var post = {
            id: postItemId,
            type: postItemType || 'type-error'
        };
        var attachment = null;

        if (postItemId) {
            attachment = { post: post };
        } else if (imageId) {
            attachment = { 'image_id': imageId };
        }
        return attachment;
    };
    fields.each(function (idx, item) {
        var message = $(item).find('textarea.answer-words').val();
        // const imageId = $(item).find(elSelector.fileUploadBox).attr('attached-img-id');
        // const $imagePostBox = $(item).find('.js_uploaded-img-from-posts');
        // const postItemId = $imagePostBox.data('postId');
        // const postItemType = $imagePostBox.data('postType');
        // const post = {
        //     id: postItemId,
        //     type: postItemType || 'type-error'
        // };

        // if (postItemId) {
        //     attachment = {post};
        // } else if (imageId) {
        //     attachment = {'image_id': imageId};
        // }

        var attachmentImg = getAttachment(item);
        reqBody.push({
            'answer': message,
            'attachment': attachmentImg ? attachmentImg : undefined
        });
    });
    var nReqBody = {
        'username': usernameSelected || 'the_rostyslav',
        'type': _consts.CONST.url.tmTypes.autogreetT,
        'subtype': _consts.CONST.url.tmTypes.autogreetSubT[0],
        'user_default_config': {
            'task_mode': state.user_default_config.task_mode // todo
        },
        'user_custom_config': {
            'forms': reqBody
        }
    };
    console.log('make request **', nReqBody);
    function cbError(res) {
        var msg = res.status.message;
        $('.form-submit-finish--error').addClass('d-block').find('.alert').append('<p>' + msg + '</p>');
    }
    _apiTaskManager2.default.postStartTask(nReqBody, cbError).then(function (result) {
        console.log('postBot');
        if (result.status.state === 'ok') {
            console.log(JSON.stringify(result));
            $('.form-submit-finish').find('.alert p').remove();
            $('.form-submit-finish').addClass('d-block').find('.alert').append('<p>task_id: ' + result.data.task_id + '</p>');
        }
    });
}

// function fillListUsers($wrapper, data) {
//     $wrapper.empty().addClass('border-light-color');
//     $(`<div class="">Доступные аккаунты</div><select name="task-type" class="${selectCls}"></select>`).appendTo($wrapper);
//     data.forEach((name) => {
//         $(`<option class="list-group-item py-2" value="${name}">
//             ${name}
//         </option>`).appendTo($(`.${selectCls}`));
//     });
//     $(`.${selectCls}`).on('change', function () {
//         usernameSelected = $(`.${selectCls} option:selected`).val();
//         console.log(usernameSelected);
//         logs.init(selectCls, clsConst);
//     });
// }

var logsState = _consts.CONST.logsState;
function initLogsTab() {
    function OnChangeSelect() {
        var selectCls = logsState.selectCls;

        $('.' + selectCls).on('change', function () {
            usernameSelected = $('.' + selectCls + ' option:selected').val();
            // clsConst.pathSubType = logsState.activeSubType;
            logs.init(selectCls, clsConst);
        });
    }
    // addDropdown($(logsState.wrapperSubtype), logsSubtypes, {logsState, dropdownOnSelectCb});
    tabs.init(OnChangeSelect, logsState); // makes double request : OPTION and GET
}

function initEmojii() {
    (0, _emoji.emoji)({
        page: clsConst.currentPageCls,
        styles: { old: 'bottom: 30px;', new: 'top: -210px;' }
    });
}

function removeExtraTextFields() {
    $(elSelector.fields + ':not(:first-child)').remove();
}

/* TODO: refactor -> move initModalHandler to separate file */
var targetButton = {};

function loadMoreHandler(getPosts) {
    var _this = this;

    $('#load-more').on('click', function (e) {
        var $btn = $(e.target);
        var cursor = $btn.attr('cursor');
        console.log('load more click');
        getPosts(null, { userName: usernameSelected, cursor: cursor }, { loadMoreHandler: _this, targetButton: targetButton });
    });
}

function initModalHandler() {
    $('.js_open-posts-gridModal').on('click', function (event) {
        targetButton = $(this); // Button that triggered the modal
        // Update the modal's content
        var modal = $('#postsGridModal');
        (0, _utilsModal.getPosts)(modal, { userName: usernameSelected }, { loadMoreHandler: loadMoreHandler, targetButton: targetButton });
        modal.find('.modal-title').text('Публикации');
    });
}

/* TODO: refactor -> move initModalHandler to separate file END*/

/**
 * Init header
 */
function initHandlers() {
    // TODO: refactor with autogreet.js initHandlers
    $('.js_add-automessages').on('click', function (e) {
        var lastTextField = $(elSelector.fields).last();
        (0, _addGreetTemplate.tplTextFieldGreet)(elSelector.fields.substr(1)).insertAfter(lastTextField);
        initEmojii();
        imageUpload.init();
        $('[data-toggle="tooltip"]').tooltip(); // reinit
        initModalHandler();
    });

    // alert close
    $('.form-submit-finish .close').on('click', function () {
        console.log('alert close');
        $('#v-pills-all-tab').trigger('click');
        window.PubSub.publish(_consts.CONST.events.tasks.NEW_TASK_CREATED);
        removeExtraTextFields();
    });

    // alert close
    $('.form-submit-finish--error .close').on('click', function () {
        console.log('alert close');
        $('#v-pills-all-tab').trigger('click');
        window.PubSub.publish(_consts.CONST.events.tasks.NEW_TASK_CREATED);
        removeExtraTextFields();
    });

    // tabs.init(fillListUsers);
    initLogsTab();
}

function setUserName(state) {
    // console.log('getTasksData', state.username);
    usernameSelected = state.username;
}

function getDataStepSpeed() {

    // TODO: refactor get from - view.fillRadioGroupList
    var fillSpeedList = function fillSpeedList($wrapper, data) {
        var taskModes = data.cfg && data.cfg.task_modes;
        var radioBtnReducer = function radioBtnReducer(item, val) {
            switch (item) {
                case 'AGGRESSIVE':
                    return '<input type="radio" id="' + item + '" name="customRadio" value="' + item + '" class="custom-control-input">\n                    <label class="custom-control-label" for="' + item + '"><strong>\u0410\u0433\u0440\u0435\u0441\u0441\u0438\u0432\u043D\u044B\u0439:</strong> ' + val + ' \u0441\u043E\u043E\u0431\u0449\u0435\u043D\u0438\u0439 \u0432 \u0447\u0430\u0441</label>';
                case 'MIDDLE':
                    return '<input type="radio" id="' + item + '" name="customRadio" value="' + item + '" class="custom-control-input">\n                    <label class="custom-control-label" for="' + item + '"><strong>\u0421\u0440\u0435\u0434\u043D\u0438\u0439:</strong> ' + val + ' \u0441\u043E\u043E\u0431\u0449\u0435\u043D\u0438\u0439 \u0432 \u0447\u0430\u0441</label>';
                case 'SAFE':
                    return '<input type="radio" id="' + item + '" name="customRadio" value="' + item + '" class="custom-control-input" checked>\n                    <label class="custom-control-label" for="' + item + '"><strong>\u0411\u0435\u0437\u043E\u043F\u0430\u0441\u043D\u044B\u0439:</strong> ' + val + ' \u0441\u043E\u043E\u0431\u0449\u0435\u043D\u0438\u0439 \u0432 \u0447\u0430\u0441</label>';
                default:
                    break;
            }
        };
        // console.log('draw speed radioBtn');
        $wrapper.empty();
        for (var item in taskModes) {
            // console.log('structure: ' + item);
            if (Object.prototype.hasOwnProperty.call(taskModes, item)) {
                $('<div class="custom-control custom-radio">\n                ' + radioBtnReducer(item, taskModes[item]) + '\n            </div>').appendTo($wrapper);
            }
        }
    };
    var path = {
        type: clsConst.pathType,
        subtype: clsConst.pathSubType
    };
    // draw criteria
    _apiTaskManager2.default.getDefaultConfigs(path).then(function (result) {
        // console.log('getDefaultConfigs');
        if (result.status.state === 'ok') {
            fillSpeedList($(speedType), result.data.found);
            // speed radio-btn group
            $(speedType + ' input[type=radio]').on('click', function (e) {
                var value = $(e.target).attr('value');
                state.user_default_config.task_mode = value.toUpperCase();
                console.log(state);
            });
        }
    });
}

function stepReducer(stepNumber, state) {
    switch (stepNumber) {
        case 0:
            setUserName(state);
            getDataStepSpeed();
            console.log(state, stepNumber);
            break;
        case 1:
            // console.log(state, stepNumber);
            break;
        default:
            console.log('default', stepNumber);
    }
}

function init() {
    if ($(clsConst.currentPageCls).length) {
        var wizardCfg = {
            stepReducer: stepReducer,
            onSubmitHandler: onSubmitHandler
        };
        wizardForm.init(wizardCfg);
        initHandlers();
        chatBotStatus.init(clsConst);
        window.PubSub.subscribe(_consts.CONST.events.instagramAccouns.INSTAGRAM_ACCOUNS_RENDERED_LAZY, function (e, accounts) {
            // console.log(accounts);
            logs.init(selectCls, clsConst);
        });

        initModalHandler();
        initEmojii();
        // imageUpload.init();
        window.PubSub.subscribe(_consts.CONST.events.autoarnswer.IMAGE_UPLOADED, function (e, res) {
            var response = res.response;

            var result = response.length ? JSON.parse(response) : '';
            var imageId = result && result.data && result.data.image_id;
            $(res.el).closest('.file-upload').attr('attached-img-id', imageId);
            console.log('image_loaded', res);

            // todo: make as callBack
            var $imageBox = $(res.el).closest('.col').find('.js_uploaded-img-from-posts');
            if ($imageBox.length) {
                $imageBox.remove();
            }
        });
        window.PubSub.subscribe(_consts.CONST.events.modal.IMAGE_POST_SELECTED, function (e, data) {
            var $imageBox = $(data.closestCol).find('.file-upload-content');
            console.log('$imageBox', $imageBox);
            if ($imageBox.length) {
                $imageBox.hide();
            }
        });
    }
}

/***/ }),
/* 29 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.init = init;

var _consts = __webpack_require__(0);

var _taskStatus = __webpack_require__(5);

function init(cfg) {
    if ($(cfg.currentPageCls).length) {
        var pathType = cfg.pathType,
            pathSubType = cfg.pathSubType;

        var path = {
            type: pathType,
            subtype: pathSubType };
        var wrappers = {
            $runs: $('.tasks-runs'),
            $all: $('.tasks-all')
        };
        (0, _taskStatus.getTasksData)(wrappers, path);
        window.PubSub.subscribe(_consts.CONST.events.tasks.NEW_TASK_CREATED, function (eventName, data) {
            console.log('getTasksData **NEW_TASK_CREATED**', eventName, data);
            (0, _taskStatus.getTasksData)(wrappers, path);
        });
    }
}

/***/ }),
/* 30 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
var tplTextField = exports.tplTextField = function tplTextField(mainCls) {
    return $("<div class=\"" + mainCls + " mt-2\">\n    <div class=\"row\">\n        <div class=\"col\">\n            <div class=\"js_tagsinput-box\">\n                <input type=\"text\" placeholder=\"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043A\u043B\u044E\u0447\u0435\u0432\u044B\u0435 \u0441\u043B\u043E\u0432\u0430\" value=\"\" data-role=\"tagsinput\" class=\"form-control answer-words mb-2\" />\n            </div>\n            <div class=\"js_tagsinput-box blacklist-box my-2\">\n                <input type=\"text\" placeholder=\"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043C\u0438\u043D\u0443\u0441 \u0441\u043B\u043E\u0432\u0430\" value=\"\" data-role=\"tagsinput\" class=\"form-control blacklist-words\" />\n            </div>\n        </div>\n        <div class=\"col\">\n            <textarea class=\"form-control answer-messages\" rows=\"4\"\n                data-emoji-picker=\"true\" style=\"padding: 0.25rem 1.75rem 0.25rem 0.25rem; width: 100%;min-height: 42px;\"\n                placeholder=\"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u043E\u043E\u0431\u0449\u0435\u043D\u0438\u0435\"\n            ></textarea>\n            <!-- file-upload -->\n            <div class=\"file-upload-btn-box\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u0438\u0437\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u0435\">\n                <button class=\"file-upload-btn btn btn-success\" type=\"button\">\n                    <i class=\"far fa-image fa-lg\"></i>\n                </button>\n            </div>\n            <!-- Button trigger modal -->\n            <button type=\"button\" class=\"btn btn-success post-upload-btn js_automessages-add-post\"\n                title=\"\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u043F\u0443\u0431\u043B\u0438\u043A\u0430\u0446\u0438\u044E\"\n                data-toggle=\"tooltip\"\n                data-placement=\"top\"\n                data-post-info=\"todo: get req to user: \">\n                <span class=\"js_open-posts-gridModal\"\n                    data-container=\"body\" data-toggle=\"popover\" data-placement=\"bottom\" data-content=\"\u0423 \u0442\u0435\u043A\u0443\u0449\u0435\u0433\u043E \u0430\u043A\u043A\u0430\u0443\u043D\u0442\u0430 \u043D\u0435\u0442 \u043D\u0438 \u043E\u0434\u043D\u043E\u0433\u043E \u043F\u043E\u0441\u0442\u0430\">\n                <i class=\"far fa-images fa-lg\"></i>\n                </span>\n            </button>\n\n            <div class=\"mt-2\">\n                <div class=\"file-upload\">\n                    <div class=\"image-upload-wrap\">\n                        <input class=\"file-upload-input\" type='file' accept=\".jpg, .jpeg\" />\n                    </div>\n                    <div class=\"file-upload-content\">\n                        <img class=\"file-upload-image\" src=\"#\" alt=\"your image\" />\n                        <div class=\"image-title-wrap\">\n                        <button type=\"button\" class=\"remove-image btn btn-warning\">\u0423\u0434\u0430\u043B\u0438\u0442\u044C <span class=\"image-title\">\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044C</span></button>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>");
};

/***/ }),
/* 31 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

exports.init = init;

var _consts = __webpack_require__(0);

var _wizardForm = __webpack_require__(6);

var wizardForm = _interopRequireWildcard(_wizardForm);

var _view = __webpack_require__(1);

var _view2 = _interopRequireDefault(_view);

var _apiTaskManager = __webpack_require__(2);

var _apiTaskManager2 = _interopRequireDefault(_apiTaskManager);

var _tabs = __webpack_require__(9);

var tabs = _interopRequireWildcard(_tabs);

var _automessagesStatus = __webpack_require__(32);

var automessagesStatus = _interopRequireWildcard(_automessagesStatus);

var _logs = __webpack_require__(8);

var logs = _interopRequireWildcard(_logs);

var _imageUpload = __webpack_require__(7);

var imageUpload = _interopRequireWildcard(_imageUpload);

var _emoji = __webpack_require__(15);

var _utilsModal = __webpack_require__(12);

var _addAnswerTemplate = __webpack_require__(30);

var _tagsInput = __webpack_require__(10);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

var getValByCommaSeparator = _view2.default.getValByCommaSeparator;

var usernameSelected = '';
var selectCls = 'js_logs-accounts';
var clsConst = {
    currentPageCls: '.automessages-page',
    tasksList: '.log-tasks',
    logsTabBtn: '#v-pills-logs-tab',
    pagination: '.logs-pagination',
    paginationPgNumber: '.page-number',
    pathType: _consts.CONST.url.tmTypes.automessagesT,
    pathSubType: _consts.CONST.url.tmTypes.automessagesSubT[0]
};
var elSelector = {
    fields: '.automessages-text-fields',
    keyWord: 'input.answer-words',
    answer: 'textarea.answer-messages',
    fileUploadBox: '.file-upload',
    addPostBtns: '.js_automessages-add-post'
};
var logsState = {
    selectCls: 'js_logs-accounts',
    selectClsLogsTaskType: 'js_logs-subtypes',
    wrapperSubtype: '.log-subype'
};

function initEmojii() {
    (0, _emoji.emoji)({
        page: clsConst.currentPageCls,
        styles: { old: 'bottom: 30px;', new: 'top: -210px;' }
    });
}

function validateIsEmpty($elements, e) {
    $elements.each(function () {
        if ($(this).val() === '') {
            e.preventDefault();
            $(this).addClass('input-error');
            // validation = false;
            return;
        } else {
            $(this).removeClass('input-error');
        }
    });
}

function onSubmitHandler(e) {
    var fields = $(elSelector.fields);
    var reqBody = [];
    var validation = true;
    var $elementsKeyWord = fields.find(elSelector.keyWord);
    var $elementsAnswer = fields.find(elSelector.answer);

    validateIsEmpty($elementsKeyWord, e);
    validateIsEmpty($elementsAnswer, e);

    fields.each(function (idx, item) {
        var keyWord = getValByCommaSeparator($(item).find(elSelector.keyWord));
        var answer = $(item).find(elSelector.answer).val();
        var imageId = $(item).find(elSelector.fileUploadBox).attr('attached-img-id');
        var $imagePostBox = $(item).find('.js_uploaded-img-from-posts');
        var postItemId = $imagePostBox.data('postId');
        var postItemType = $imagePostBox.data('postType');
        var blacklistWords = $(item).find('input.blacklist-words');
        var blacklistWordsArr = getValByCommaSeparator(blacklistWords);

        if (!keyWord.length || !answer.length) {
            // console.log('keyWord is empty, not push me to request');
            $(item).append('\n                <p class="msg-empty-field text-danger">\u041F\u0443\u0441\u0442\u043E\u0435 \u043F\u043E\u043B\u0435 \u043D\u0435 \u0432\u0430\u043B\u0438\u0434\u043D\u043E</p>\n            ');
            setTimeout(function () {
                $('.msg-empty-field').addClass('d-none');
            }, 5000);
            validation = false;
            return;
        }
        var submitBodyItem = {
            'key_words': keyWord,
            answer: answer,
            blacklist: blacklistWordsArr,
            'attachment': imageId ? {
                'image_id': imageId
            } : undefined
        };

        if (postItemId) {
            submitBodyItem.attachment = _extends({}, submitBodyItem.attachment, {
                post: {
                    id: postItemId,
                    type: postItemType || 'type-error'
                }
            });
        }
        reqBody.push(submitBodyItem);
    });
    if (!validation) {
        // console.log('**alarm **', elSelector.keyWord);
        return;
    }

    var nReqBody = {
        'username': usernameSelected,
        'type': clsConst.pathType,
        'subtype': clsConst.pathSubType,
        'user_default_config': {},
        'user_custom_config': {
            'forms': reqBody
        }
    };

    // console.log('make request here**', nReqBody);
    function cbError(res) {
        var msg = res.status.message;
        $('.form-submit-finish--error').addClass('d-block').find('.alert').append('<p>' + msg + '</p>');
    }
    _apiTaskManager2.default.postStartTask(nReqBody, cbError).then(function (result) {
        if (result.status.state === 'ok') {
            $('.form-submit-finish').find('.alert p').remove();
            $('.form-submit-finish').addClass('d-block').find('.alert').append('<p>task_id: ' + result.data.task_id + '</p>');
        }
    });
}

function initLogsTab() {
    function OnChangeSelect() {
        var selectCls = logsState.selectCls;

        $('.' + selectCls).on('change', function () {
            usernameSelected = $('.' + selectCls + ' option:selected').val();
            // clsConst.pathSubType = logsState.activeSubType;
            logs.init(selectCls, clsConst);
        });
    }
    // addDropdown($(logsState.wrapperSubtype), logsSubtypes, {logsState, dropdownOnSelectCb});
    tabs.init(OnChangeSelect, logsState); // makes double request : OPTION and GET
}

function removeExtraTextFields(e) {
    $(elSelector.fields + ':not(:first-child)').removeClass('d-block');
    e.stopPropagation();
}

/* TODO: refactor -> move initModalHandler to separate file, remove initModalHandler in autogreeting-main.js */
var targetButton = {};

function loadMoreHandler(getPosts) {
    var _this = this;

    $('#load-more').off().on('click', function (e) {
        var $btn = $(e.target);
        var cursor = $btn.attr('cursor');
        console.log('load more click');
        getPosts(null, { userName: usernameSelected, cursor: cursor }, { loadMoreHandler: _this, targetButton: targetButton });
    });
}

function initModalHandler() {

    $('.js_open-posts-gridModal').on('click', function (event) {
        targetButton = $(this); // Button that triggered the modal
        // Update the modal's content
        var modal = $('#postsGridModal');
        (0, _utilsModal.getPosts)(modal, { userName: usernameSelected }, { loadMoreHandler: loadMoreHandler, targetButton: targetButton });
        modal.find('.modal-title').text('Публикации');
    });
}

/* TODO: refactor -> move initModalHandler to separate file END */

/**
 * Init Handlers
 */
function initHandlers() {
    var $competitorsInput = $('.automessages-text-fields input.answer-words[data-role="tagsinput"]');
    var $blackListInput = $('.automessages-text-fields input.blacklist-words[data-role="tagsinput"]');
    var nextStepBtn = $('form button[type="submit"]');
    (0, _tagsInput.nextBtnvalidateCompetitorsHandler)($competitorsInput, nextStepBtn, 'ignoreRegexCheck');
    (0, _tagsInput.nextBtnvalidateCompetitorsHandler)($blackListInput, null, 'ignoreRegexCheck');

    // TODO: refactor with autogreet.js initHandlers
    // $('[data-toggle="popover"]').popover(); // init
    $('.js_add-automessages').on('click', function (e) {
        var lastTextField = $(elSelector.fields).last();
        (0, _addAnswerTemplate.tplTextField)(elSelector.fields.substr(1)).insertAfter(lastTextField);
        initEmojii();
        imageUpload.init();
        // $('[data-toggle="popover"]').popover(); // reinit
        $('[data-toggle="tooltip"]').tooltip(); // reinit
        initModalHandler();

        // const $input = $('input[data-role="tagsinput"]', lastTextField);
        // initTagsInput();
        // nextBtnvalidateCompetitorsHandler($input, nextStepBtn);

        var lastTextFieldAfterInsert = $(elSelector.fields).last();
        var $inputAnswerWords = $('input.answer-words[data-role="tagsinput"]', lastTextFieldAfterInsert);
        var $blackListInput = $('input.blacklist-words[data-role="tagsinput"]', lastTextFieldAfterInsert);

        (0, _tagsInput.initTagsInput)($inputAnswerWords); // reinit answer-words
        (0, _tagsInput.initTagsInput)($blackListInput); // reinit blacklist-words
        (0, _tagsInput.nextBtnvalidateCompetitorsHandler)($inputAnswerWords, nextStepBtn, 'ignoreRegexCheck');
        (0, _tagsInput.nextBtnvalidateCompetitorsHandler)($blackListInput, null, 'ignoreRegexCheck');
    });

    // alert success close
    $('.form-submit-finish .close').on('click', function (e) {
        // console.log('alert close');
        $('#v-pills-all-tab').trigger('click');
        window.PubSub.publish(_consts.CONST.events.tasks.NEW_TASK_CREATED);
        // removeExtraTextFields(e);
    });

    // alert close
    $('.form-submit-finish--error .close').on('click', function () {
        // console.log('alert close');
        $('#v-pills-all-tab').trigger('click');
        window.PubSub.publish(_consts.CONST.events.tasks.NEW_TASK_CREATED);
        removeExtraTextFields();
    });

    // tabs.init(fillListUsers);
    initLogsTab();
}

function setUserName(state) {
    // console.log('getTasksData', state.username);
    usernameSelected = state.username;
}

function stepReducer(stepNumber, state) {
    switch (stepNumber) {
        case 0:
            setUserName(state);
            // console.log(state, stepNumber);
            break;
        default:
            console.log('default', stepNumber);
    }
}

function init() {
    if ($(clsConst.currentPageCls).length) {
        var wizardCfg = {
            stepReducer: stepReducer,
            onSubmitHandler: onSubmitHandler
        };
        wizardForm.init(wizardCfg);
        initHandlers();
        automessagesStatus.init();
        initModalHandler();
        initEmojii();
        imageUpload.init();
        // initTagsInput();

        window.PubSub.subscribe(_consts.CONST.events.instagramAccouns.INSTAGRAM_ACCOUNS_RENDERED_LAZY, function (e, accounts) {
            logs.init(selectCls, clsConst);
        });
        window.PubSub.subscribe(_consts.CONST.events.autoarnswer.IMAGE_UPLOADED, function (e, res) {
            var response = res.response;

            var result = response.length ? JSON.parse(response) : '';
            var imageId = result && result.data && result.data.image_id;
            $(res.el).closest('.file-upload').attr('attached-img-id', imageId);
            console.log('image_loaded', res);

            // todo: make as callBack
            var $imageBox = $(res.el).closest('.col').find('.js_uploaded-img-from-posts');
            if ($imageBox.length) {
                $imageBox.remove();
            }
        });
        window.PubSub.subscribe(_consts.CONST.events.modal.IMAGE_POST_SELECTED, function (e, data) {
            var $imageBox = $(data.closestCol).find('.file-upload-content');
            console.log('$imageBox', $imageBox);
            if ($imageBox.length) {
                $imageBox.hide();
            }
        });
    }
}

/***/ }),
/* 32 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.init = init;

var _consts = __webpack_require__(0);

var _taskStatus = __webpack_require__(5);

function init() {
    if ($('.automessages-page').length) {
        var path = {
            type: _consts.CONST.url.tmTypes.automessagesT,
            subtype: _consts.CONST.url.tmTypes.automessagesSubT[0]
        };
        var wrappers = {
            $runs: $('.tasks-runs'),
            $stopped: $('.tasks-stopped'),
            $all: $('.tasks-all')
        };

        // task-status has one subtype, so do not add dropdown
        // render status dropdown
        // const textRusArray = ['По DEFAULT_AUTO_ANSWER'];
        // dropDown.addDropdown(logsStateStatus.wrapperSubtype, CONST.url.tmTypes.storiesSubT, {logsState: logsStateStatus, dropdownOnSelectCb, textRusArray});

        (0, _taskStatus.getTasksData)(wrappers, path);
        // window.PubSub.subscribe(CONST.events.instagramAccouns.INSTAGRAM_ACCOUNS_RENDERED, (eventName, data) => {
        //     getTasksData(wrappers, path);
        //     console.log('**answer-status', eventName, data);
        // });
        window.PubSub.subscribe(_consts.CONST.events.tasks.NEW_TASK_CREATED, function (eventName, data) {
            (0, _taskStatus.getTasksData)(wrappers, path);
        });
    }
}

/***/ }),
/* 33 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.init = init;

var _consts = __webpack_require__(0);

var _wizardForm = __webpack_require__(6);

var wizardForm = _interopRequireWildcard(_wizardForm);

var _apiTaskManager = __webpack_require__(2);

var _apiTaskManager2 = _interopRequireDefault(_apiTaskManager);

var _tabs = __webpack_require__(9);

var tabs = _interopRequireWildcard(_tabs);

var _chatBotStatus = __webpack_require__(34);

var chatBotStatus = _interopRequireWildcard(_chatBotStatus);

var _logs = __webpack_require__(8);

var chatBotLogs = _interopRequireWildcard(_logs);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

var usernameSelected = '';
// import User from '../../common/js-services/user';

var selectCls = 'js_logs-accounts';
var clsConst = {
    currentPageCls: '.bot-page',
    tasksList: '.log-tasks',
    logsTabBtn: '#v-pills-logs-tab',
    pagination: '.logs-pagination',
    paginationPgNumber: '.page-number',
    pathType: _consts.CONST.url.tmTypes.chatBotT,
    pathSubType: _consts.CONST.url.tmTypes.chatBotSubT[0]
};

function onSubmitHandler(e) {
    var fields = $('.bot-text-fields');
    var keyWords = function keyWords($el) {
        return $el.val().trim().replace(/ /g, '').split(',').filter(function (i) {
            return i.length > 0;
        });
    };
    var reqBody = [];
    fields.each(function (idx, item) {
        var keyWord = keyWords($(item).find('textarea.answer-words'));
        var answer = $(item).find('textarea.answer-messages').val();
        reqBody.push({ 'key_words': keyWord, answer: answer });
    });
    var nReqBody = {
        'username': usernameSelected,
        'type': clsConst.pathType,
        'subtype': clsConst.pathSubType,
        'user_default_config': {},
        'user_custom_config': {
            'forms': reqBody
        }
    };

    // console.log('make request here**', nReqBody);
    function cbError(res) {
        var msg = res.status.message;
        $('.form-submit-finish--error').addClass('d-block').find('.alert').append('<p>' + msg + '</p>');
    }
    _apiTaskManager2.default.postStartTask(nReqBody, cbError).then(function (result) {
        // console.log('postBot');
        if (result.status.state === 'ok') {
            // console.log(JSON.stringify(result));
            $('.form-submit-finish').find('.alert p').remove();
            $('.form-submit-finish').addClass('d-block').find('.alert').append('<p>task_id: ' + result.data.task_id + '</p>');
        }
    });
}

function fillListUsers($wrapper, accounts) {
    $wrapper.empty().addClass('border-light-color');
    $('<div class="">\u0414\u043E\u0441\u0442\u0443\u043F\u043D\u044B\u0435 \u0430\u043A\u043A\u0430\u0443\u043D\u0442\u044B</div><select name="task-type" class="' + selectCls + '"></select>').appendTo($wrapper);
    accounts.forEach(function (name) {
        $('<option class="list-group-item py-2" value="' + name + '">\n            ' + name + '\n        </option>').appendTo($('.' + selectCls));
    });
    $('.' + selectCls).on('change', function () {
        usernameSelected = $('.' + selectCls + ' option:selected').val();
        // console.log(usernameSelected);
        chatBotLogs.init(selectCls, clsConst);
    });
}

// function getMetaLazy($wrapper, cbFillListUsers) {
//     User.getMetadataLazy().then((res) => {
//         if (res.status.state === 'ok' && res.data && res.data.accounts) {
//             cbFillListUsers($wrapper, res.data.accounts);
//             chatBotLogs.init(selectCls, clsConst);
//         }
//     });
// }

/**
 * Init header
 */
function initHandlers() {
    var tplTextField = function tplTextField() {
        return $('<div class="bot-text-fields mt-2">\n        <div class="row">\n            <div class="col">\n                <textarea class="form-control answer-words" rows="4" placeholder="\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043A\u043B\u044E\u0447\u0435\u0432\u044B\u0435 \u0441\u043B\u043E\u0432\u0430 \u0438\u043B\u0438 \u0444\u0440\u0430\u0437\u044B \u0447\u0435\u0440\u0435\u0437 \u0437\u0430\u043F\u044F\u0442\u0443\u044E, \u043F\u0440\u0438 \u043A\u043E\u0442\u043E\u0440\u044B\u0445 \u0431\u0443\u0434\u0435\u0442 \u0441\u0440\u0430\u0431\u0430\u0442\u044B\u0432\u0430\u0442\u044C \u0447\u0430\u0442-\u0431\u043E\u0442"></textarea>\n            </div>\n            <div class="col">\n                <textarea class="form-control answer-messages" rows="4" placeholder="\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u043E\u043E\u0431\u0449\u0435\u043D\u0438\u0435, \u043A\u043E\u0442\u043E\u0440\u043E\u0435 \u0431\u0443\u0434\u0435\u0442 \u043E\u0442\u043F\u0440\u0430\u0432\u043B\u044F\u0442\u044C\u0441\u044F, \u0435\u0441\u043B\u0438 \u043F\u0440\u0438\u0441\u0443\u0442\u0441\u0442\u0432\u043E\u0432\u0430\u043B\u0438 \u043A\u043B\u044E\u0447.\u0441\u043B\u043E\u0432\u0430 \u0438\u043B\u0438 \u0444\u0440\u0430\u0437\u044B \u0438\u0437 \u0441\u0442\u043E\u043B\u0431\u0446\u0430 \u0441\u043B\u0435\u0432\u0430"></textarea>\n            </div>\n        </div>\n    </div>');
    };

    $('.js_add-bot').on('click', function (e) {
        var lastTextField = $('.bot-text-fields').last();
        tplTextField().insertAfter(lastTextField);
    });

    // alert close
    $('.form-submit-finish .close').on('click', function () {
        // console.log('alert close');
        $('#v-pills-all-tab').trigger('click');
        window.PubSub.publish(_consts.CONST.events.tasks.NEW_TASK_CREATED);
    });

    // alert close
    $('.form-submit-finish--error .close').on('click', function () {
        // console.log('alert close');
        $('#v-pills-all-tab').trigger('click');
        window.PubSub.publish(_consts.CONST.events.tasks.NEW_TASK_CREATED);
    });

    /*
    $('#v-pills-logs-tab').on('click', (e) => {
        // at this point of time setInterval is working
        const $wrapper = $('.log-users-list');
        getMetaLazy($wrapper, fillListUsers);
        // chatBotLogs.init(selectCls, clsConst);
    });
    */
    tabs.init(fillListUsers);
}

function setUserName(state) {
    // console.log('getTasksData', state.username);
    usernameSelected = state.username;
}

function stepReducer(stepNumber, state) {
    switch (stepNumber) {
        case 0:
            setUserName(state);
            // console.log(state, stepNumber);
            break;
        default:
            console.log('default', stepNumber);
    }
}

function init() {
    if ($('.bot-page').length) {
        var wizardCfg = {
            stepReducer: stepReducer,
            onSubmitHandler: onSubmitHandler
        };
        wizardForm.init(wizardCfg);
        initHandlers();
        chatBotStatus.init();
        window.PubSub.subscribe(_consts.CONST.events.instagramAccouns.INSTAGRAM_ACCOUNS_RENDERED_LAZY, function (e, accounts) {
            // console.log(accounts);
            chatBotLogs.init(selectCls, clsConst);
        });
    }
}

/***/ }),
/* 34 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.init = init;

var _consts = __webpack_require__(0);

var _taskStatus = __webpack_require__(5);

function init() {
    if ($('.bot-page').length) {
        var path = {
            type: _consts.CONST.url.tmTypes.chatBotT,
            subtype: _consts.CONST.url.tmTypes.chatBotSubT[0]
        };
        var wrappers = {
            $runs: $('.tasks-runs'),
            $stopped: $('.tasks-stopped')
        };
        (0, _taskStatus.getTasksData)(wrappers, path);
        // window.PubSub.subscribe(CONST.events.instagramAccouns.INSTAGRAM_ACCOUNS_RENDERED, (eventName, data) => {
        //     getTasksData(wrappers, path);
        //     console.log('**answer-status', eventName, data);
        // });
        window.PubSub.subscribe(_consts.CONST.events.tasks.NEW_TASK_CREATED, function (eventName, data) {
            (0, _taskStatus.getTasksData)(wrappers, path);
        });
    }
}

/***/ }),
/* 35 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.confirmationWithRedirect = confirmationWithRedirect;

var _user = __webpack_require__(3);

var _user2 = _interopRequireDefault(_user);

var _consts = __webpack_require__(0);

var _cookie = __webpack_require__(4);

var _cookie2 = _interopRequireDefault(_cookie);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var parseQueryString = function parseQueryString() {

    var str = window.location.search;
    var objURL = {};

    str.replace(new RegExp('([^?=&]+)(=([^&]*))?', 'g'), function ($0, $1, $2) {
        objURL[$1] = $2;
    });
    return objURL;
}; /* eslint-disable sort-vars */
// import $ from 'jquery';
function confirmationWithRedirect() {
    var user = _user2.default;
    var params = parseQueryString();
    // Example how to use it:

    var sendConfirm = function sendConfirm(token) {
        user.confirm(token).then(function (result) {
            if (result.status && result.status.state === 'ok') {

                // save the item
                _cookie2.default.set(_consts.CONST.cookieStorage.emailConfirmed, 'confirmed');
                _cookie2.default.set(_consts.CONST.cookieStorage.token, result.data.token);

                // window.location = confirm-registration.html?token='from server';

                // retrieve the object in a string form
                var customersDataString = sessionStorage.getItem('customersData');
                console.log(customersDataString);
                console.log('request succeeded with JSON response', result);
                $('.confirm-registration').append('<p>confirmation status: ' + result.status.state + '</p>');
                setTimeout(function () {
                    window.location = './profile.html';
                }, 1000);
            } else if (result.status) {
                console.log(result);
            } else {
                console.log(result);
            }
        });
    };

    var redirect = function redirect() {
        // eslint-disable-next-line dot-notation
        var token = params['token'];

        if (!location.pathname.indexOf('confirm-registration')) {
            return;
        }
        if (token) {
            console.log('send req to ', token);
            sendConfirm(token);
        }
    };

    function init() {
        redirect();
    }

    return {
        init: init
    };
}

/***/ }),
/* 36 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; // import * as followStatus from './follow-status';


exports.modifyAccList = modifyAccList;
exports.init = init;

var _taskStatusBySubtype = __webpack_require__(19);

var followStatusBySubtype = _interopRequireWildcard(_taskStatusBySubtype);

var _consts = __webpack_require__(0);

var _apiTaskManager = __webpack_require__(2);

var _apiTaskManager2 = _interopRequireDefault(_apiTaskManager);

var _view = __webpack_require__(1);

var _view2 = _interopRequireDefault(_view);

var _followReadFileTxt = __webpack_require__(14);

__webpack_require__(52);

var _logsTabs = __webpack_require__(13);

var _tagsInput = __webpack_require__(10);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

var state = {
    username: '',
    subtype: _consts.CONST.url.tmTypes.followingSubT[0], // default value
    user_default_config: {
        task_mode: 'SAFE'
    }
};

function fillListMeta($list, dataArray) {
    var items = dataArray;
    // const defaultAvatarSrc = CONST.user.defaulAvatar;
    $list.empty().addClass('border-light-color');
    $('<li class="list-group-item py-2"><h3>UserTaskManager</h3></li>').appendTo($list);
    items.forEach(function (item) {
        // const info = item.info;
        // const checkpoint = item.checkpoint || item;
        $('<li class="list-group-item py-2" data-username="' + item.type + '">\n                <div class="media-body d-flex">\n                    <div class="col task-type">\n                        ' + (item.task_id ? '<p class="mt-0 mb-1 name">' + item.task_id + '</p>' : '') + '\n                    </div>\n                    <div class="col task-subtype">\n                        ' + (item.subtype ? '<p class="mt-0 mb-1 name">' + item.subtype + '</p>' : '') + '\n                    </div>\n                    <div class="col task-progress">\n                        ' + (item.status.state === 'STOPPED' ? '<p class="mt-0 mb-1 name">\u041E\u0441\u0442\u0430\u043D\u043E\u0432\u043B\u0435\u043D\u043E - ' + item.status.reason + '</p>' : '') + '\n                    </div>\n                    <!--<div class="col task-progress">\n                        ' + (item.progress ? '<p class="mt-0 mb-1 name">\u041A\u043E\u043B\u0438\u0447\u0435\u0441\u0442\u0432\u043E - ' + item.progress.count + '</p>\n                                <p class="mt-0 mb-1 name">\u041F\u0440\u043E\u0446\u0435\u043D\u0442 - ' + item.progress.percent + '</p>' : '') + '\n                    </div>-->\n                </div>\n            </li>').appendTo($list);
    });
}

/*
function fillListTypes($wrapper, data) {
    const structureObj = data['structure'];

    $wrapper.empty().addClass('border-light-color');
    $('<div class="">Тип задания</div><select name="task-type" id="task-types"></select>').appendTo($wrapper);
    for (const type in structureObj) {
        // console.log('structure: ' + item);
        if (Object.prototype.hasOwnProperty.call(structureObj, type)) {
            $(`<option class="list-group-item py-2" ${(type !== 'FOLLOWING') ? 'disabled="disabled"' : ''}
                value = "${JSON.stringify({type, subtype: structureObj[type]})}">
                ${type}
            </option>`).appendTo($('#task-types'));
        }
    }
}
*/

function getTasksData(path) {
    _apiTaskManager2.default.getMetadata(path).then(function (result) {
        if (result.status.state === 'ok') {
            fillListMeta($('.follow-tasks-list'), result.data.meta);
        }
    });
}

function getDataStep2() {
    var path = {
        type: _consts.CONST.url.tmTypes.followingT,
        subtype: state.subtype || _consts.CONST.url.tmTypes.followingSubT[0]
    };
    getTasksData(path);
}

function getDataStepSpeed(stepNumber) {
    var fillSpeedList = _view2.default.fillRadioGroupList;
    var path = {
        type: _consts.CONST.url.tmTypes.followingT,
        subtype: state.subtype || _consts.CONST.url.tmTypes.followingSubT[0]
    };
    function toggleAddTextBtn(subtype) {
        if (path.subtype === 'FOLLOWING_BY_LIST') {
            // show txt fileUpload
            $('.add-file').addClass('d-block');
            $('.add-competitors').addClass('d-none').removeClass('d-block');
            var nextStep = $('.js_add-new-task fieldset').get(stepNumber + 1);
            $(nextStep).find('.btn-next').attr('disabled', 'disabled');
            // console.log(nextStepProceedBtn);
        } else {
            // show competitors
            $('.add-competitors').addClass('d-block');
            $('.add-file').addClass('d-none').removeClass('d-block');
            var _nextStep = $('.js_add-new-task fieldset').get(stepNumber + 1);
            $(_nextStep).find('.btn-next').removeAttr('disabled');
        }
    }
    console.log('path.subtype', path.subtype);

    toggleAddTextBtn(path.subtype);

    // draw criteria
    _apiTaskManager2.default.getDefaultConfigs(path).then(function (result) {
        console.log('getDefaultConfigs');
        if (result.status.state === 'ok') {
            var task_modes = result.data.found.cfg.task_modes;


            fillSpeedList($('.js_follow-speed'), task_modes);
            $('.js_follow-speed input[type=radio]').on('click', function () {
                var value = $(this).attr('value');
                state.user_default_config = {
                    task_mode: value.toUpperCase()
                };
            });
        }
    });
}
function setCompetitors() {
    var competitors = _view2.default.getValByCommaSeparator($('.follow-form').find('#followers'));

    state['user_custom_config'] = {
        competitors: competitors
    };
}

function stepReducer(stepNumber) {
    var $competitorsTextArea = $('.js_follow-competitors');
    var nextStepBtn = $competitorsTextArea.closest('.add-competitors').find('.btn-next');
    switch (stepNumber) {
        case 0:
            getDataStep2(state.username);
            // console.log(state);
            break;
        case 1:
            getDataStepSpeed(stepNumber);
            (0, _tagsInput.nextBtnvalidateCompetitorsHandler)($competitorsTextArea, nextStepBtn);
            break;
        case 2:
            setCompetitors();
            break;
        default:
            console.log('default', stepNumber);
    }
}

function cbError(res) {
    var msg = res.status.message;
    $('.form-submit-finish--error').addClass('d-block').find('.alert').append('<p>' + msg + '</p>');
}

/**
 * Init header
 */
function initSteps(formSelector) {
    var $form = $(formSelector);
    $('.js_profile-user-follow>.container').removeClass('container');

    (0, _followReadFileTxt.attachTxtFileHandler)('.file-upload-container');

    $form.find('fieldset:first-child').fadeIn('slow');

    $form.find('input[type="text"]').on('focus', function () {
        $(this).removeClass('input-error');
    });

    // next step
    $form.find('.btn-next').on('click', function () {
        var parent_fieldset = $(this).parents('fieldset');
        var next_step = true;
        var radioBtnActive = parent_fieldset.find('input[name="userAccountRadio"]:checked');

        if (radioBtnActive.length > 0) {
            state.username = radioBtnActive.parents('li').data('username');
        }
        stepReducer(parent_fieldset.index(), state);

        parent_fieldset.find('input[type="text"],input[type="email"]').each(function () {
            if ($(this).val() === '') {
                $(this).addClass('input-error');
                next_step = false;
            } else {
                $(this).removeClass('input-error');
            }
            if ($(this).parent().hasClass('bootstrap-tagsinput')) {
                next_step = true;
            }
        });

        if (next_step) {
            parent_fieldset.fadeOut(400, function () {
                $(this).next().fadeIn();
            });
        }
    });

    // previous step
    $form.find('.btn-previous').on('click', function () {
        // state.username = [...new Set(state.username)];
        $(this).parents('fieldset').fadeOut(400, function () {
            $(this).prev().fadeIn();
        });
    });

    // speed radio-btn group
    // $('.js_follow-speed input[type=radio]').on('click', function () {
    //     const value = $(this).attr('value');
    //     state.user_default_config = {
    //         task_mode: value.toUpperCase()
    //     };
    // });

    $('.js_get-follow-type input[type=radio]').on('click', function (e) {
        var value = $(e.target).attr('value');
        state.subtype = value.toUpperCase();
        // console.log(state);
    });

    // submit
    $form.on('submit', function (e) {

        state.user_default_config = _extends({}, state.user_default_config, {
            criteria: {}
        });
        var limit = document.forms['follow-form']['limit'];
        var have_posts = {
            from: document.forms['follow-form']['have_posts_from'].value,
            to: document.forms['follow-form']['have_posts_to'].value
        };
        var have_followers = {
            from: document.forms['follow-form']['have_followers_from'].value,
            to: document.forms['follow-form']['have_followers_to'].value
        };
        var have_followings = {
            from: document.forms['follow-form']['have_followings_from'].value,
            to: document.forms['follow-form']['have_followings_to'].value
        };

        if (limit.value === '') {
            limit.focus();
            return false;
        }
        state['user_default_config'].criteria = {
            limit: limit.value,
            'unfollow_then': !!$('#unfollow_then:checked').length,
            'follow_on_closed_profiles': !!$('#follow_on_closed_profiles:checked').length,
            have_posts: have_posts,
            have_followers: have_followers,
            have_followings: have_followings
        };

        $(this).find('input[type="text"],input[type="number"],input[type="email"]').each(function () {
            if ($(this).val() === '') {
                e.preventDefault();
                $(this).addClass('input-error');
            } else {
                $(this).removeClass('input-error');
            }
        });

        state.type = _consts.CONST.url.tmTypes.followingT; // 'FOLLOWING';
        // console.log('----+ state.subtype +----', state.subtype);
        if (state.subtype === 'FOLLOWING_BY_LIST') {
            // text file should be added
            state['user_custom_config'].attachment = {
                'list_id': $('.add-file .file-upload-container').attr('attached-txt-id')
            };
        }
        if (state.subtype === _consts.CONST.url.tmTypes.followingSubT[1]) {
            // const competitors = getValByCommaSeparator($(form).find(elSelector.competitors));
            // state.user_custom_config = {
            //     competitors: 'competitors'
            // };
        }
        console.log('make request**  post: StartFollowingList', state);

        _apiTaskManager2.default.postStartFollowingList(state, cbError).then(function (result) {
            if (result.status.state === 'ok') {
                console.log(JSON.stringify(result));
                $('.form-submit-finish').find('.alert p').remove();
                $('.form-submit-finish').addClass('d-block').find('.alert').append('<p>task_id: ' + result.data.task_id + '</p>');
            }
        });
    });

    // alert close
    $('.form-submit-finish .close').on('click', function () {
        // $(this).closest('form-submit-finish').removeClass('d-block');
        $('#v-pills-all-tab').trigger('click');
        window.PubSub.publish(_consts.CONST.events.tasks.NEW_TASK_CREATED);
    });

    // alert close
    $('.form-submit-finish--error .close').on('click', function () {
        // console.log('alert close');
        $('#v-pills-all-tab').trigger('click');
        window.PubSub.publish(_consts.CONST.events.tasks.NEW_TASK_CREATED);
    });

    // prev btn: clear-competitors
    $('.js_follow-clear-competitors').on('click', function () {
        var $competitorsTextArea = $('.js_follow-competitors');
        $competitorsTextArea.val('');
    });
}

// eslint-disable-next-line no-unused-vars
var usernameSelected = '';
var clsConst = {
    currentPageCls: '.follow',
    tasksList: '.log-tasks',
    logsTabBtn: '#v-pills-logs-tab',
    pagination: '.logs-pagination',
    paginationPgNumber: '.page-number',
    pathType: _consts.CONST.url.tmTypes.followingT,
    pathSubType: _consts.CONST.url.tmTypes.followingSubT[0]
};

function setUserNameCb(_usernameSelected) {
    usernameSelected = _usernameSelected;
}

/*
function fixStepIndicator(n) {
    // This function removes the "active" class of all steps...
    var i, x = document.getElementsByClassName("step");
    for (i = 0; i < x.length; i++) {
        x[i].className = x[i].className.replace(" active", "");
    }
    //... and adds the "active" class on the current step:
    x[n].className += " active";
}*/

// TODO : use from wizard
function modifyAccList() {
    // const radioBtn = (idx) => `<div class="col custom-control custom-radio js_user-radio">
    //         <input type="radio" name="userAccountRadio" id="customRadio-${idx}" class="custom-control-input" value="">
    //         <label class="custom-control-label" for="customRadio-${idx}">Подписаться</label>
    //     </div>`;
    var radioBtnAppend = function radioBtnAppend(idx) {
        return '<div class="">\n            <input type="radio" name="userAccountRadio" id="customRadio-' + idx + '" class="custom-control-input d-none" value="">\n        </div>';
    };
    var radioBtnWrap = function radioBtnWrap(idx) {
        return '<label class="accounts-list--label-wrapper col mb-0 media py-3" for="customRadio-' + idx + '"></label>';
    };
    var $accountsList = $('.accounts-list');
    var $li = $accountsList.find('li.media');
    $li.addClass('js_user-radio').removeClass('py-3 media');

    for (var i = 0; i < $li.length; i++) {
        // $($li[i]).append(radioBtn(i));
        $($li[i]).wrapInner(radioBtnWrap(i)).append(radioBtnAppend(i));
    }

    $('.js_user-radio').on('click', 'input[type=radio]', function (e) {
        var $parentFieldset = $(this).parents('fieldset');
        $('li.active', $parentFieldset).removeClass('active');
        $(this).closest('li').addClass('active');
        $('.btn-next', $parentFieldset).prop('disabled', false);
    });
}

/* working demo : http://brutusin.org/json-forms/#13
function formFromJson() {
    const schema = {
        "type": "object",
        "properties": {
            "prop1": {
                "type": "integer"
            },
            "prop2": {
                "type": "integer",
                "required": true
            },
            "prop3": {
                "type": "integer",
                "required": true
            },
            "composite1": {
                "type": "object",
                "properties": {
                    "nested1": {
                        "type": "number",
                        "required": true
                    },
                    "nested2": {
                        "type": "number",
                        "required": true
                    }
                },
                "required": [
                    "nested1",
                    "nested2"
                ]
            },
            "composite2": {
                "type": "object",
                "properties": {
                    "nested1": {
                        "type": "number",
                        "required": true
                    },
                    "nested2": {
                        "type": "number",
                        "required": true
                    }
                },
                "required": [
                    "nested1",
                    "nested2"
                ]
            }
        },
        "required": [
            "prop1",
            "prop2",
            "composite1"
        ]
    };
    const BrutusinForms = window.brutusin['json-forms'];
    const bf = BrutusinForms.create(schema);
    const container = document.getElementById('form1');
    console.log(window.brutusin);
    bf.render(container, data);
}*/

function init() {
    var isInCorrectPage = $('.follow').length;
    if (isInCorrectPage) {
        var initialPath = {
            type: _consts.CONST.url.tmTypes.followingT,
            subtype: _consts.CONST.url.tmTypes.followingSubT[0],
            subtypes: _consts.CONST.url.tmTypes.followingSubT
        };
        followStatusBySubtype.init({ isInCorrectPage: isInCorrectPage, initialPath: initialPath });
        initSteps('.follow-form');
        console.log(clsConst.currentPageCls);
        var textRusArray = ['По списку', 'По активной аудитории конкурентов'];
        (0, _logsTabs.initLogsTab)({ logsState: _consts.CONST.logsState, logsSubtypes: initialPath.subtypes, clsConst: clsConst, setUserNameCb: setUserNameCb, textRusArray: textRusArray });
        // initTagsInput();

        // TODO : use wizard.init()
        window.PubSub.subscribe(_consts.CONST.events.instagramAccouns.INSTAGRAM_ACCOUNS_RENDERED, function (eventName, data) {
            modifyAccList();
            // console.log('modifyAccList');
        });
    }
}

/***/ }),
/* 37 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.init = init;
// import $ from 'jquery';

// const hamburgerButtonCls = '#aside_mobile__button';
// const hamburgerMenuCls = '.aside-burger-menu';
// const hamburgerMenuOpenedClass = 'burger-menu--closed';
// const hamburgerButtonCloseClass = 'burger-menu__button--close';
var selectorsEl = {
    leftMenu: {
        hamburgerButtonCls: '#aside_mobile__button',
        hamburgerMenuCls: '.aside-burger-menu',
        hamburgerMenuOpenedClass: 'burger-menu--closed',
        hamburgerButtonCloseClass: 'burger-menu__button--close'
    },
    rightMenu: {
        hamburgerButtonCls: '#header_mobile_toggler',
        hamburgerMenuCls: '.r-side-burger-menu',
        hamburgerMenuOpenedClass: 'r-side-burger-menu--open',
        hamburgerButtonCloseClass: 'burger-menu-right__button--close'
    },
    subHeader: {
        hamburgerButtonCls: '#header_mobile_topbar_toggler',
        hamburgerMenuCls: '.sub-header',
        hamburgerMenuOpenedClass: 'sub-header--open',
        hamburgerButtonCloseClass: 'sub-header-button--close'
    }
};

/**
 * Toggle hamburger menu popover
 */
function toggleHamburgerMenu(menuName) {
    var _selectorsEl$menuName = selectorsEl[menuName],
        hamburgerMenuCls = _selectorsEl$menuName.hamburgerMenuCls,
        hamburgerButtonCls = _selectorsEl$menuName.hamburgerButtonCls,
        hamburgerButtonCloseClass = _selectorsEl$menuName.hamburgerButtonCloseClass,
        hamburgerMenuOpenedClass = _selectorsEl$menuName.hamburgerMenuOpenedClass;

    $(hamburgerButtonCls).toggleClass(hamburgerButtonCloseClass);
    $(hamburgerMenuCls).toggleClass(hamburgerMenuOpenedClass);
}

/**
 * Init hamburger menu
 */
function init() {
    var leftMenu = 'leftMenu';
    var rightMenu = 'rightMenu';
    var subHeader = 'subHeader';

    $(selectorsEl[leftMenu].hamburgerButtonCls).on('click', toggleHamburgerMenu.bind(this, leftMenu));
    $(selectorsEl[rightMenu].hamburgerButtonCls).on('click', toggleHamburgerMenu.bind(this, rightMenu));
    $(selectorsEl[subHeader].hamburgerButtonCls).on('click', toggleHamburgerMenu.bind(this, subHeader));
}

/***/ }),
/* 38 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.initHeader = initHeader;

var _user = __webpack_require__(3);

var _user2 = _interopRequireDefault(_user);

var _consts = __webpack_require__(0);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// import $ from 'jquery';
var selectorLoginState = '.js_message_logged--text';
// import PubSub from 'pubsub-js'; // https://www.npmjs.com/package/pubsub-js

var selectorEmailConfirmState = '.js_email-confirm--text';
var closeClass = 'd-none';
var openedClass = 'd-block';

function emailNotConfirmed() {
    var $emailnMsg = $(selectorEmailConfirmState);
    $emailnMsg.text('**emailNotConfirmed** Email не подтвержден.').css('color', 'lightcoral');
}

function onLoginSubscribe(msg, data) {
    // console.log('onLoginSubscribe', msg, data);
    $(_consts.CONST.uiSelectors.headerNavLoginBtn).addClass(closeClass).removeClass(openedClass);
    $(_consts.CONST.uiSelectors.headerRegBtn).addClass(closeClass).removeClass(openedClass);
    $(_consts.CONST.uiSelectors.headerLoginBox).addClass(closeClass).removeClass(openedClass);

    $('.nav-link.js_logOut').addClass(openedClass).removeClass(closeClass); // show
    var $loginMsg = $(selectorLoginState);
    $loginMsg.text('**onLoginSubscribe** вы залогинились в Luxgram успешно').css('color', 'lightblue');
    var isEmailConfirmed = _user2.default.isEmailConfirmed();
    if (!isEmailConfirmed) {
        emailNotConfirmed();
    }
}

function showLogout() {
    // check is logged
    var isLogged = _user2.default.isLoggedIn();
    var isEmailConfirmed = _user2.default.isEmailConfirmed();
    if (!isEmailConfirmed) {
        emailNotConfirmed();
    }
    // console.log('isLogged', isLogged);
    if (isLogged) {
        $('.nav-link.js_logOut').parent().show();
        $('.js_email-confirm--text').text('вы залогинились успешно');
        var oldURL = document.referrer;
        // console.log(oldURL);
        if (oldURL.includes('confirm-registration')) {
            $('.js_message_logged--text').text('вы подтвердили регистрацию');
        }
        onLoginSubscribe();
    } else {
        $(selectorLoginState).text('Привет анонимный пользователь');
        $(selectorEmailConfirmState).empty();
    }
}

/**
 * Init header
 */
function initHeader() {
    // check other handler in login-form.js
    // const $loginBox = $(CONST.uiSelectors.headerLoginBox);
    // const $registerBox = $(CONST.uiSelectors.headerRegBox);

    // PubSub.subscribe(CONST.events.USER_LOGGED, onLoginSubscribe);

    showLogout();

    // $(CONST.uiSelectors.headerRegBtn).on('click', () => {
    //     $loginBox.hide();
    //     $registerBox.css({'top': 0, 'right': 0})
    //         .addClass('bg-light border mt-5 mx-auto position-absolute px-3 d-block')
    //         .removeClass('d-none');
    // });

    // $(CONST.uiSelectors.headerNavLoginBtn).on('click', () => {
    //     $loginBox.addClass('d-block').removeClass('d-none');
    //     $registerBox.addClass('d-none').removeClass('d-block');
    // });
}

/***/ }),
/* 39 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

exports.settingButtonsHandler = settingButtonsHandler;

var _user = __webpack_require__(3);

var _user2 = _interopRequireDefault(_user);

var _consts = __webpack_require__(0);

var _instagramAccountsList = __webpack_require__(20);

var _spinner = __webpack_require__(17);

var _spinner2 = _interopRequireDefault(_spinner);

var _imageUpload = __webpack_require__(7);

var imageUpload = _interopRequireWildcard(_imageUpload);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function updateButtonsDataAttr(settingButtonsHandlerCb) {
    var cfg = {
        deleteBtnCls: '.js_acc-delete',
        updateBtnCls: '.js_acc-refresh',
        editBtnCls: '.js_acc-edit'
    };
    // $(cfg.editBtnCls).off();
    $(cfg.updateBtnCls).off(); // Reload button clear listener
    // $(cfg.deleteBtnCls).off();
    settingButtonsHandlerCb(cfg);
}

function settingButtonsHandler(classCfg) {
    var deleteBtnCls = classCfg.deleteBtnCls,
        updateBtnCls = classCfg.updateBtnCls,
        editBtnCls = classCfg.editBtnCls;

    var modalConfirm = $('#delete-user-promt');
    var username = '';
    var userOriginal = {};
    var replaceWithCfg = {
        replaceWith: true,
        holderCls: '.modal-image-holder',
        uploadBtnCls: '.js_edit-profile-img-upd',
        imageCls: 'img.user-avatar'
    };
    imageUpload.init(replaceWithCfg);
    // image-upload subscriber
    window.PubSub.subscribe(_consts.CONST.events.autoarnswer.IMAGE_UPLOADED_AVATAR, function (e, res) {
        var result = JSON.parse(res.response);
        var profile_pic_url = result.data.profile.profile_pic_url;

        userOriginal.$li.find('img').attr('src', profile_pic_url);
        console.log('userOriginal', userOriginal);
    });
    // DELETE .../instagram-accounts/{username}
    $(deleteBtnCls).on('click', function (e) {
        username = $(e.target).closest(deleteBtnCls).data('username');
        modalConfirm.modal('show');
    });
    $('.js_acc-delete-confirm').on('click', function (e) {
        _user2.default.delInstagramAccount(username).then(function (result) {
            console.log(result);
            if (result.status.state === 'ok') {
                modalConfirm.hide();
                window.PubSub.publish(_consts.CONST.events.instagramAccouns.INSTAGRAM_ACCOUNS_NEED_REFRESH);
            }
        });
    });

    // GET instagram-accounts/meta/{username}
    $(updateBtnCls).on('click', function (e) {
        var $li = $(e.target).closest('li');
        var username = $(e.target).closest(updateBtnCls).data('username');
        var defaultAvatarSrc = _consts.CONST.user.defaulAvatar;
        _spinner2.default.add($li, '');
        _user2.default.updateInstagramAccount(username).then(function (result) {
            console.log(result);
            var account = result.data.account;

            $li.replaceWith((0, _instagramAccountsList.renderItem)(account, $li, defaultAvatarSrc));

            /*
            const cfg = {
                deleteBtnCls: '.js_acc-delete',
                updateBtnCls: '.js_acc-refresh',
                editBtnCls: '.js_acc-edit'
            };
            // $(cfg.editBtnCls).off();
            $(cfg.updateBtnCls).off(); // Reload button clear listener
            // $(cfg.deleteBtnCls).off();
            settingButtonsHandler(cfg);
            */
            updateButtonsDataAttr(settingButtonsHandler);
            _spinner2.default.remove();
        });
    });

    // PUT instagram-accounts/{username}
    var modalEdit = $('#edit-user-promt');
    $(editBtnCls).on('click', function (e) {
        var $li = $(e.target).closest('li');
        var $editBtn = $li.find(editBtnCls);
        var username = $editBtn.data('username');
        var login = $editBtn.data('name');
        var site = $editBtn.data('url');
        var about = $editBtn.data('biography');
        var imgSrc = $editBtn.data('img');
        var isBusiness = $editBtn.data('is_business');
        var isPrivate = $editBtn.data('is_private');
        // 'is_business'=true

        var $form = modalEdit.find('form').get(0);
        var formFields = {
            login: $form['login'],
            username: $form['username'],
            site: $form['site'],
            about: $form['biography'],
            userAvatarImg: $form['userAvatar']
        };
        userOriginal = {
            login: login,
            username: username,
            site: site,
            about: about,
            $li: $li,
            followerC: $editBtn.data('follower_count'),
            followingC: $editBtn.data('following_count'),
            mediaC: $editBtn.data('media_count')
        };
        replaceWithCfg.username = username;

        formFields.login.value = login;
        formFields.username.value = username;
        formFields.site.value = site;
        formFields.about.value = about;
        formFields.userAvatarImg.src = imgSrc;
        var $profileBox = modalEdit.find('.bussines-profile');
        if (isBusiness) {
            $profileBox.addClass('d-none').removeClass('d-block');
        } else {
            $profileBox.addClass('d-block');
            // isPrivat, todo:refactor me
            if (isPrivate) {
                $profileBox.find('.js_btn-prof-type-switcher #closed-profile-on').closest('label').addClass('active').find('#closed-profile-on').attr('checked', 'checked');
                // off - disable
                $profileBox.find('.js_btn-prof-type-switcher #closed-profile-off').closest('label').removeClass('active').find('#closed-profile-off').attr('checked', false);
            } else {
                $profileBox.find('.js_btn-prof-type-switcher #closed-profile-off').closest('label').addClass('active').find('#closed-profile-off').attr('checked', 'checked');
                // on - disable
                $profileBox.find('.js_btn-prof-type-switcher #closed-profile-on').closest('label').removeClass('active').find('#closed-profile-on').attr('checked', false);
            }
        }
        window.PubSub.subscribe('update_data_private_on_acc_list', function (e, value) {
            $editBtn.data('is_private', value !== 'closed-profile-off');
        });
        modalEdit.modal('show');
    });
    $('.js_edit-profile-modify').on('click', function (e) {
        var $form = modalEdit.find('form').get(0);
        var formFields = {
            login: $form['login'],
            username: $form['username'],
            site: $form['site'],
            about: $form['biography'],
            userAvatarImg: $form['userAvatar']
        };
        var body = {
            // 'username': (userOriginal.username !== formFields.username.value) ? formFields.username.value : '',
            // 'name': formFields.login.value,
            // 'biography': formFields.about.value,
            // 'url': formFields.site.value,
            // 'open': isOpen
        };
        var updateDataAttrUsername = false;
        if (userOriginal.username !== formFields.username.value) {
            body['username'] = formFields.username.value;
            updateDataAttrUsername = true;
        }
        if (userOriginal.login !== formFields.login.value) {
            body['name'] = formFields.login.value;
        }
        if (userOriginal.about !== formFields.about.value) {
            body['biography'] = formFields.about.value;
        }
        if (userOriginal.site !== formFields.site.value) {
            body['url'] = formFields.site.value;
        }
        // ----validate
        if (formFields.about.value === '') {
            console.info('about.value is empty');
        }

        _user2.default.editInstagramAccount(userOriginal.username || '', JSON.stringify(body)).then(function (result) {
            if (result.status.state === 'ok') {
                console.log('/*UPDATE VIEW HERE*/');
                var profile = result.data.profile;

                profile.info = result.data.profile;
                profile.info = _extends({}, profile.info, {
                    follower_count: userOriginal.followerC,
                    following_count: userOriginal.followingC,
                    media_count: userOriginal.mediaC
                });
                userOriginal.$li.replaceWith((0, _instagramAccountsList.renderItem)(profile, userOriginal.$li, false));
                updateButtonsDataAttr(settingButtonsHandler);
                if (updateDataAttrUsername) {
                    var $editBtn = userOriginal.$li.find(editBtnCls);
                    $editBtn.data('username', profile.info.username);
                    updateDataAttrUsername = false;
                }
                modalConfirm.hide();
            }
        });
    });
    // const modeSelector = $('.js_btn-prof-type-switcher');
    $('.js_btn-prof-type-switcher label').on('click', function (e) {
        var value = $(e.target).find('input[type=radio]').attr('value');
        // console.log('click', value);
        var isOpen = value === 'closed-profile-off';
        var body = {
            'open': isOpen
        };
        _user2.default.editInstagramAccount(userOriginal.username || '', JSON.stringify(body)).then(function (result) {
            if (result.status.state === 'ok') {
                console.log('result', result);
                window.PubSub.publish('update_data_private_on_acc_list', value);
            }
        });
    });
}

/***/ }),
/* 40 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.LoginForm = LoginForm;

var _user = __webpack_require__(3);

var _user2 = _interopRequireDefault(_user);

var _pubsubJs = __webpack_require__(11);

var _pubsubJs2 = _interopRequireDefault(_pubsubJs);

var _cookie = __webpack_require__(4);

var _cookie2 = _interopRequireDefault(_cookie);

var _view = __webpack_require__(1);

var _view2 = _interopRequireDefault(_view);

var _consts = __webpack_require__(0);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// window.$ = $;

// import Validator from '../../common/js-services/form-validator';
function LoginForm(selectorCss) {
    var _this = this;

    var _formId = selectorCss._formId,
        _buttonSubmitId = selectorCss._buttonSubmitId,
        _showLoginBoxBtnId = selectorCss._showLoginBoxBtnId,
        _loginBox = selectorCss._loginBox;

    var user = _user2.default,
        // service
    $form = $(_formId),
        $email = $form.find('input[name="mail"]'),
        $textAreaDescription = $('#description');
    // const openedClass = 'd-block';
    // const closeClass = 'd-none';

    var userLoginHeader = function userLoginHeader(_formData) {
        var cbError = function cbError(result) {
            $(_loginBox).append('<p>result.status.message</p>');
        };

        return user.login(_formData, cbError).then(function (result) {
            if (result && result.data && result.data.token) {
                // save the item
                _cookie2.default.set(_consts.CONST.cookieStorage.token, result.data.token);
                $('.nav-link.js_logOut').parent().show();
                // console.log('request succeeded with JSON response', result);
                _view2.default.showInfoMessage($textAreaDescription, result.status.state, result.status.message || 'Login succsess');
            } else if (result.status) {
                console.log(result);
                _view2.default.showInfoMessage(_this.$textAreaDescription, '<p>status: ' + result.status.state + '</p><p> message: ' + result.status.message + '</p>');
            } else {
                console.log(result);
            }
        }).then(function (result) {
            if (result && result.status) {
                console.log(result);
                _view2.default.showInfoMessage($textAreaDescription, result.status.state, result.status.message || 'Login error');
            }
        });
    };

    var submitForm = function submitForm(formDataObj) {
        var email = $email.val(),
            password = $form.find('input[name="pass"]').val(),
            _formData = formDataObj || { email: email, password: password };

        if (selectorCss.isLoginInstagram) {
            // todo: delete me
            // addInstagramAccount({username: $form.find('input[name="username"]').val(), password});
        } else {
            $email.val($email.val().toLocaleLowerCase());
            userLoginHeader(_formData).then(function () {
                _pubsubJs2.default.publish(_consts.CONST.events.USER_LOGGED, 'login');
            });
        }
    };

    var logOut = function logOut() {
        _cookie2.default.remove(_consts.CONST.cookieStorage.token);
        _pubsubJs2.default.publish(_consts.CONST.events.USER_LOGOUT);
    };

    var bindEvents = function bindEvents() {
        var $showLoginBoxBtnId = $(_showLoginBoxBtnId);
        var $loginBox = $(_loginBox);
        var openedClass = 'd-block';
        var closeClass = 'd-none';

        $showLoginBoxBtnId.on('click', function () {
            if (!selectorCss.isLoginInstagram) {
                $loginBox.css({ 'top': 0, 'right': 0 }).addClass('bg-light border mt-5 mx-auto position-absolute');
            }
            $loginBox.addClass(openedClass).removeClass(closeClass);
        });

        var $buttonSubmit = $(_buttonSubmitId),
            cssValidationClass = 'form-validation';

        $buttonSubmit.on('click', function (e) {
            e.preventDefault();
            var form = $form.get(0);
            // const validator = new Validator($form);
            // console.log(validator.validate());
            if (form.checkValidity() && _view2.default.isEmail($email.val())) {
                submitForm();
            } else {
                // Highlight errors
                if (form.reportValidity) {
                    form.reportValidity();
                }
                $form.addClass(cssValidationClass);
            }
        });

        $('.nav-link.js_logOut').on('click', function (e) {
            e.preventDefault();
            logOut();
            $(e.target).parent().hide();
            _view2.default.showInfoMessage($textAreaDescription, 'Logged out');
        });

        _pubsubJs2.default.subscribe(_consts.CONST.events.USER_LOGOUT, function (msg) {
            $(_consts.CONST.uiSelectors.headerNavLoginBtn).addClass(openedClass).removeClass(closeClass); // .show();
            $(_consts.CONST.uiSelectors.headerRegBtn).addClass(openedClass).removeClass(closeClass);
            $('.nav-link.js_logOut').addClass(closeClass).removeClass(openedClass); // .hide();
            var selectorLoginState = '.js_message_logged--text';
            $(selectorLoginState).text('Вы вышли из аккаунта');
        });

        $(document).on('click', function (event) {
            var isLoginBtnClick = $(event.target).closest('nav.navbar').find($loginBox).length;
            var isAddInstagramBtnClicked = $(event.target).attr('id') === _consts.CONST.uiSelectors.instagram.addAccountBtnId;

            if (!isLoginBtnClick && $loginBox.hasClass(openedClass) && !isAddInstagramBtnClicked) {
                $loginBox.addClass(closeClass).removeClass(openedClass);
            }
        });
    };

    function init() {
        bindEvents();
    }

    return {
        init: init
    };
} // https://www.npmjs.com/package/pubsub-js
/* eslint-disable sort-vars */
// import $ from 'jquery';

/***/ }),
/* 41 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.init = init;

__webpack_require__(22);

var _user = __webpack_require__(3);

var _user2 = _interopRequireDefault(_user);

var _apiUserDirect = __webpack_require__(21);

var _apiUserDirect2 = _interopRequireDefault(_apiUserDirect);

var _utils = __webpack_require__(43);

var _spinner = __webpack_require__(17);

var _spinner2 = _interopRequireDefault(_spinner);

var _consts = __webpack_require__(0);

var _imageUpload = __webpack_require__(7);

var imageUpload = _interopRequireWildcard(_imageUpload);

var _requests = __webpack_require__(42);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// import MeteorEmoji from 'meteor-emoji';
// import EmojiPicker from 'vanilla-emoji-picker';
var token = _user2.default.getToken();
// import PubSub from 'pubsub-js';// https://www.npmjs.com/package/pubsub-js

// import qq from 'fine-uploader'; // todo: fine-uploade

var $msgList = $('.messages-list');
var stateCfg = {
    pageIncrement: 0,
    loadingFlag: false,
    setSingleVal: false
};
var updateInterval = '';
var intervalId = false;
var cursor = '';
var intervalUserList = false;
var initialVal = '';
var flagInitialVal = true;
var currentUserData = {
    useravatar: 'link',
    username: 'name'
};
var scrollLoaderState = {
    cursor: 'pagination.prev_cursor',
    firstLoad: true,
    allMsgLoaded: false
};

var renderResults = function renderResults(cfg) {
    var data = cfg.dataArray,
        ulElement = cfg.$list,
        stateCfg = cfg.stateCfg;


    function showMessage(element, message, /* optional */clearList) {
        // $btnGET.attr('disabled', false);

        if (clearList) {
            $('li', element).remove();
        }
        element.css({ 'overflow': 'auto' });
        $('<li/>').addClass('list-group-item text-center').text(message).appendTo(ulElement);
    }

    if (stateCfg.loadingFlag === 'FINAL_PAGE') {
        return false; // exit if has reached last page
    }

    // show fail msg
    if (data === 'FAIL') {
        showMessage(ulElement, 'Failure, possible key not correct.', true);
        return false;
    }

    if (stateCfg.loadingFlag === 'STOP_LOAD' && data.length !== 0) {
        stateCfg.loadingFlag = 'FINAL_PAGE';
        showMessage(ulElement, 'No more results.', false);
        // $liFooter.hide();
        return false;
    }

    if (data === null || !data.length) {
        showMessage(ulElement, 'No results found.', true);
        return false;
    }

    (0, _utils.fillMassagesList)(cfg);
};

function isInMessagePage() {
    var $msgList = $('.messages-list');
    var $userList = $('.messages-user-list');
    return !!$msgList.length && !!$userList.length;
}

// todo: get from emojii.js
$(document).ready(function () {
    if (!isInMessagePage()) {
        return;
    }
    // eslint-disable-next-line no-unused-vars
    // const ep = new EmojiPicker();
    // // const m = new MeteorEmoji();
    // const $picker = $('textarea[data-emoji-picker="true"] ~ div');
    // const style = $picker.attr('style');
    // const styleNew = style.replace('top: 20px;', 'top: -210px;');
    // $picker.attr('style', styleNew);

    $('textarea[data-emoji-picker="true"]').emojioneArea({
        pickerPosition: 'top',
        tonesStyle: 'square',
        filtersPosition: 'bottom',
        autocomplete: true
        // events: {
        //     keyup (editor, event) {
        //         console.log(editor.html());
        //         console.log(this.getText());
        //     }
        // }
    });

    // todo: fine-uploade
    /*
    // eslint-disable-next-line no-unused-vars
    const restrictedUploader = new qq.FineUploader({
        element: document.getElementById('fine-uploader-validation'),
        template: 'qq-template-validation',
        request: {
            endpoint: '/server/uploads'
        },
        thumbnails: {
            placeholders: {
                waitingPath: 'https://fineuploader.com/source/placeholders/waiting-generic.png', // '/source/placeholders/waiting-generic.png',
                notAvailablePath: 'https://fineuploader.com/server/waiting-generic.png' // '/source/placeholders/not_available-generic.png'
            }
        },
        validation: {
            allowedExtensions: ['jpeg', 'jpg'],
            itemLimit: 3,
            sizeLimit: 500 * 1024
        }
    });
    */
});
var isTimeOutRunned = false;
function getAndFillUserListCursor(loadMoreCbArgsCursor, section, username) {
    var $userList = $('.messages-user-list');
    if (loadMoreCbArgsCursor) {
        console.log('UserConversation', username);
        _apiUserDirect2.default.getMetadataDetailUsers({ cursor: loadMoreCbArgsCursor, username: username }).then(function (result) {
            if (!result.data) {
                return;
            }
            var data = result.data;
            // data.meta.sort((a, b) => a['username'].localeCompare(b['username']));

            (0, _utils.appendUserList)($userList, data.meta, { cursor: loadMoreCbArgsCursor, section: section, username: username });
            var pagination = data.pagination;

            if (pagination && pagination.prev_cursor) {
                // make one more req?
                console.error('found more pagination, but list not updated');
                // TODO
            } else {
                // hide show more
                var $collapse = $('#collapse-' + section).closest('li');
                $collapse.find('.js_load-more-box').addClass('d-none');
                // stop rerender list
                console.error('stop updating user list');
                clearInterval(intervalUserList);
            }
            console.log('section', section);
        });
    }
}

function getAndFillUserList(isActiveFirst, userList) {
    var $userList = userList || $('.messages-user-list');
    var prevActiveDialogId = '';
    if (!isActiveFirst) {
        prevActiveDialogId = $userList.find('li .collapse.show').attr('id');
    }

    _apiUserDirect2.default.getMetadata(token).then(function (result) {
        if (!result.data) {
            return;
        }
        var data = result.data;

        data.meta.sort(function (a, b) {
            return a['username'].localeCompare(b['username']);
        });
        // messages-user-list from utils.js
        (0, _utils.fillUserList)($userList, data.meta, getAndFillUserListCursor);
        if (data.settings && data.settings.invoke_in_millis) {
            updateInterval = data.settings.invoke_in_millis;
            updateInterval = updateInterval > 6000 ? updateInterval : 10000;
        }
        if (isActiveFirst) {
            $userList.find('li:first-child .collapse').addClass('show');
        } else {
            $('#' + prevActiveDialogId).addClass('show');
        }
        // if (data.pagination && data.pagination.prev_cursor) {
        //     const conversationToAdd = {
        //         tpl: `<div class="list-footer text-center" style="display: none;" id="load-more-box">
        //                 <button id="js_-accordion-more_btn" type="button" class="btn btn-submit">SHOW MORE</button>
        //             </div>`
        //     };
        //     console.log('start add pagination to accordioin', conversationToAdd);
        //     addMoreUsersAccordion(data.meta, conversationToAdd);
        // }
        // do it once
        if (!isTimeOutRunned) {
            intervalUserList = setInterval(function () {
                console.log('setInterval');
                getAndFillUserList();
            }, updateInterval);
            isTimeOutRunned = true;
        }
    });
}

function addPagination(pagination, cbFn) {
    if (scrollLoaderState.allMsgLoaded) {
        return;
    }
    if (scrollLoaderState.firstLoad) {
        scrollLoaderState.cursor = pagination.prev_cursor;
        scrollLoaderState.firstLoad = false;
    }
    var userData = $msgList.data('conversation');
    var username = userData.username,
        conversationId = userData.conversationId;
    // console.log('cursor: ', scrollLoaderState.cursor);

    _spinner2.default.add($('#mainChatPart'), 'my-5 py-5');
    _apiUserDirect2.default.getMetadataDetailConversation(token, { username: username, conversationId: conversationId, cursor: scrollLoaderState.cursor }).then(function (result) {
        // console.log('firstLoad:', scrollLoaderState.firstLoad, result.data.meta);
        var newCursor = result.data.meta.pagination && result.data.meta.pagination.prev_cursor;
        _spinner2.default.remove();
        renderResults({
            $list: $msgList,
            dataArray: result.data.meta.messages,
            isAppendPrevMsg: 'appentPrevMsg',
            stateCfg: stateCfg,
            currentUserData: currentUserData
        });
        // set new cursor
        if (newCursor) {
            // console.log('**', scrollLoaderState.cursor);
            scrollLoaderState.cursor = newCursor;
            $msgList.scrollTop($msgList.scrollTop() + 30);
        } else {
            // all msg loaded
            scrollLoaderState.allMsgLoaded = true;
        }

        // stop update interval
        if (intervalId) {
            clearInterval(intervalId);
            cbFn(newCursor);
        }
    });
}

function scrollHandler(scrollDelay, pagination) {
    var recentScroll = false;
    var makeReqOnce = true;
    cursor = pagination && pagination.prev_cursor ? pagination.prev_cursor : null;
    function checkIsOnce(newCursor) {
        if (newCursor !== cursor) {
            cursor = newCursor;
            makeReqOnce = true;
            console.log('prevCursor', newCursor);
        }
    }

    setTimeout(function () {
        $msgList.on('scroll', function () {
            var scrollTop = $(this).scrollTop();
            if (!recentScroll) {
                if (scrollTop + $(this).innerHeight() >= this.scrollHeight) {
                    // $messages.text('end reached');
                } else if (scrollTop <= 45) {
                    // $messages.text('Top reached');
                    // console.log('pagination');
                    if (pagination && makeReqOnce) {
                        makeReqOnce = false;
                        addPagination(pagination, checkIsOnce);
                        // console.log('go');
                    } else {
                        $('.messages-list-box').find('.load-more').remove();
                    }
                } else {
                    // $messages.text('');
                }
                recentScroll = true;
                window.setTimeout(function () {
                    recentScroll = false;
                }, 50);
            }
        });
    }, scrollDelay + 200);
}

function getAndFillConversation(_ref, isScrollDown, isClickFromRequestConfirm) {
    var username = _ref.username,
        conversationId = _ref.conversationId,
        useravatar = _ref.useravatar;

    var TIME_SCROLL = 10;
    _apiUserDirect2.default.getMetadataDetailConversation(token, { username: username, conversationId: conversationId }).then(function (result) {
        // messages-list from utils
        currentUserData.useravatar = useravatar;
        currentUserData.username = username;
        (0, _utils.fillMassagesList)({ $list: $msgList, dataArray: result.data.meta.messages, stateCfg: stateCfg, currentUserData: currentUserData });
        $('#mainChatPart').removeClass('d-none');
        _spinner2.default.remove();
        if (isClickFromRequestConfirm) {
            // clicked on request
            $('.js_send-message-box').addClass('d-none');
        } else {
            // clicked on normal conversation
            $('.js_send-message-box').removeClass('d-none');
        }
        $('.messages-list').attr('data-conversation', JSON.stringify({ username: username, conversationId: conversationId }));

        if (isScrollDown) {
            setTimeout(function () {
                $msgList.animate({
                    scrollTop: $msgList[0].scrollHeight - $msgList[0].clientHeight
                }, TIME_SCROLL);
            }, TIME_SCROLL * 2);
            // save first value
            if (flagInitialVal) {
                initialVal = result.data.meta.messages[result.data.meta.messages.length - 1];
                console.log(initialVal);
                flagInitialVal = false;
            }
        }

        scrollHandler(TIME_SCROLL, result.data.meta.pagination);
    });
}

function imageLoadSubmitCb(input, token) {
    var userData = $msgList.data('conversation');
    var username = userData.username,
        conversationId = userData.conversationId;

    var url = _consts.CONST.getPath('instagramDirect_Basic') + '/' + username + '/' + conversationId + '/photo';
    var acceptedFile = input.files[0];
    console.log('**handleSubmitCb');
    var formData = new FormData();
    var request = new XMLHttpRequest();

    _spinner2.default.startButtonSpinner($('.file-upload-btn'), 'spinner-box--sendMsg');

    formData.append('photo', acceptedFile, acceptedFile.name);
    request.open('POST', url);
    // request.withCredentials = true;
    request.setRequestHeader('token', token);
    request.setRequestHeader('Accept', 'application/json');
    request.setRequestHeader('cache-control', 'no-cache');
    request.send(formData);
    request.addEventListener('readystatechange', function () {
        if (this.readyState === 4) {
            console.log('this', this.responseText, this);
            input.value = '';
            window.PubSub.publish(_consts.CONST.events.autoarnswer.IMAGE_UPLOADED, { 'response': this.responseText, 'el': input });
        }
    });
}

function addHandlers() {
    var conversationId = '';
    var $textArea = $('#sendMessageTextArea');
    $textArea.val('');

    $('#sendMessageButton').on('click', function (e) {
        var value = $textArea.val();
        var userData = $msgList.data('conversation');
        var username = userData.username,
            conversationId = userData.conversationId,
            useravatar = userData.useravatar;

        _spinner2.default.startButtonSpinner($(e.target), 'spinner-box--sendMsg');
        _apiUserDirect2.default.postMetadataDetailConversation(token, { username: username, conversationId: conversationId, value: value }).then(function (result) {
            if (result && result.status && result.status.state === 'ok') {
                getAndFillConversation({ username: username, conversationId: conversationId, useravatar: useravatar });
                $textArea.val('');
                _spinner2.default.remove();
                // window.PubSub.publish(CONST.events.messages.RECIEVE_NEW_MESSAGE, {username, conversationId, value, result});
            }
        });
    });

    (0, _utils.messageAreaHendler)($textArea, $('#sendMessageButton'));

    function userShowConversetionHandler(e, userData) {
        console.log('click');
        var isClickFromRequestConfirm = userData;
        var userDataFromLiGroup = '';
        if (isClickFromRequestConfirm) {
            $('.js_send-message-box').addClass('d-none');
        } else {
            // clicked on normal conversation
            userDataFromLiGroup = $(e.target).closest('.list-group-item').data();
            $('.confirm-buttons-box').addClass('d-none');
            $('.js_send-message-box').removeClass('d-none');
        }

        var _ref2 = userData || userDataFromLiGroup,
            username = _ref2.username,
            useravatar = _ref2.useravatar;

        e.stopPropagation();
        var $targetBtn = $(e.target).closest('.media');
        var $title = $targetBtn.find('.title');
        conversationId = $targetBtn.data('conversation-id');
        if ($title.hasClass('font-weight-bold')) {
            $title.removeClass('font-weight-bold');
            $targetBtn.find('.summary-dot').addClass('d-none');
        }
        _spinner2.default.remove();
        _spinner2.default.add($('#mainChatPart'), 'my-5 py-5');
        getAndFillConversation({ username: username, conversationId: conversationId, useravatar: useravatar }, 'isScrollDown', isClickFromRequestConfirm);
        flagInitialVal = true; // reset first value flag
        // resend request
        if (intervalId) {
            clearInterval(intervalId);
        }
        intervalId = setInterval(function () {
            conversationId = $(e.target).closest('.media').data('conversation-id');
            console.log(intervalId, conversationId);
            getAndFillConversation({ username: username, conversationId: conversationId, useravatar: useravatar }, false, isClickFromRequestConfirm);
        }, updateInterval);
    }

    $(document).on('click', '.list-group-item .collapse', userShowConversetionHandler);
    $(document).on('click', '.js_messages-request', function (e) {
        var userData = $(e.target).closest('.list-group-item').data();
        userShowConversetionHandler(e, userData);
        console.log('addConfigButtons', conversationId);
        (0, _requests.addConfirgButtons)(conversationId, userData.username);
    });

    window.PubSub.subscribe(_consts.CONST.events.messages.RECIEVE_NEW_MESSAGE, function (eventName, data) {
        var username = data.username,
            conversationId = data.conversationId,
            value = data.value,
            resultFromServer = data.resultFromServer;

        var $dialog = $('.messages-user-list .list-group-item[data-username="' + username + '"] div[data-conversation-id="' + conversationId + '"]');
        console.log('resultFromServer: ', resultFromServer);
        $dialog.find('.summary').text(value);
    });

    // send image {igUsername}/{id}/photo
    imageUpload.init(false, imageLoadSubmitCb);
}

function init() {
    // check we are in correct page (messages)
    if (!isInMessagePage()) {
        return;
    }

    getAndFillUserList('setActiveFirst');
    addHandlers();
    var cfg = {
        username: 'your_dieta',
        fillUserListFn: _utils.fillUserList
    };
    (0, _requests.initRequests)(cfg);
}

/***/ }),
/* 42 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.addConfirgButtons = undefined;
exports.initRequests = initRequests;

var _apiUserDirect = __webpack_require__(21);

var _apiUserDirect2 = _interopRequireDefault(_apiUserDirect);

var _user = __webpack_require__(3);

var _user2 = _interopRequireDefault(_user);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/*
Endpoint на получение запросов: GET http://api.luxgram.ru/v1/instagram-direct/pending/{username}
Это ендпоинт должен быть вызван только при нажатии на текст с количеством запросов.
*/
// const cfgT = {
//     username: 'your_dieta',
//     getAndFillUserListFn: 'getAndFillUserList_Function'
// };
var confirmUserData = {};
var addConfirgButtons = exports.addConfirgButtons = function addConfirgButtons(conversationId, username) {
    console.log('addConfirgButtons proceed', username, conversationId);
    var $confirmBtnBox = $('.js_request-confirm-box');
    $confirmBtnBox.removeClass('d-none');
    confirmUserData.username = username;
    confirmUserData.conversationId = conversationId;
};
var conversationDetail = function conversationDetail(items) {
    var tpl = '';
    items.forEach(function (item) {
        var srcImg = item.profilePicUrl;

        if (items.length > 1) {
            tpl += '<img src="' + srcImg + '" alt=\'image\' class="media-photo mr-1 media-photo--group" style="width: 24px;">';
        } else {
            tpl += '<img src="' + srcImg + '" alt=\'image\' class="media-photo mr-1" style="width: 24px;">';
        }
    });
    return tpl;
};

var addConversations = function addConversations(conversations) {
    var tpl = '';
    conversations.forEach(function (item) {
        var users = item.users,
            id = item.id,
            title = item.title;
        // const isUnread = item['is_unread'];
        // const lastMessage = item['lastMessage'];
        // const isLastMsg = lastMessage && (parseInt(lastMessage.length, 10));
        // const isAddDot = isLastMsg > 0 && users.length > 1 && isUnread;

        tpl += '\n                <div class="media p-1 js_messages-request messages-request" data-conversation-id="' + id + '">\n                    ' + conversationDetail(users) + '\n                    <div class="media-body">\n                        <h5 class="title">' + title + '</h5>\n                    </div>\n                </div>\n            ';
    });
    return tpl;
};

var getRequestPending = function getRequestPending(username, elId) {
    // const username = 'your_dieta';
    _apiUserDirect2.default.getRequestPending(username).then(function (result) {
        var requests = result.data.requests;

        console.log('result', requests);
        var tpl = addConversations(requests, elId);
        $(tpl).appendTo($('#' + elId));
    });
};

function fillUserList($list, dataArray, loadMoreCbFunction) {
    var items = dataArray;
    var cList = $list;
    var tpl = '';
    // const loadMoreBox = (idx, prev_cursor) => `<div class="list-footer text-center js_load-more-box" data-idx="${idx}" data-cursor="${prev_cursor}">
    //     <button type="button" class="btn btn-outline-secondary btn-sm btn-submit">Загрузить еще</button>
    // </div>`;
    cList.empty().addClass('border-light-color');
    // todo: fix hard-code  img src="https://i.imgur.com/jNNT4LE.png"
    items.forEach(function (item, idx) {
        // const {pagination} = item;
        var elId = 'collapse-req-' + idx;
        // const {conversations} = item;
        console.log(item.pending_requests);
        if (item.pending_requests) {
            getRequestPending(item.username, elId);
            tpl += '<li class="list-group-item" data-toggle="collapse" data-target="#' + elId + '" \n                data-username="' + item.username + '"\n                data-userAvatar="' + item.profile_pic_url + '"\n                aria-expanded="true" aria-controls="collapse-' + idx + '">\n            <div class="conversation-head mb-1 media pb-2" id="heading-' + idx + '">\n                <span class="mr-3">\n                    <img src="' + item.profile_pic_url + '" alt="avatar"\n                    class="media-photo rounded-circle">\n                </span>\n                <div class="media-body">\n                    <h4 class="title">\n                        ' + item.username + '\n                    </h4>\n                </div>\n            </div>\n            <div id="' + elId + '" class="collapse" aria-labelledby="heading-' + idx + '" data-parent="#accordion-requests">\n                <!-- getRequestPending(item.username, elId) -->\n            </div>\n            <!-- {(pagination && pagination.prev_cursor) ? \'loadMoreBox(idx, pagination.prev_cursor)\' : \'\'} -->\n        </li>';
        }
    });
    $(tpl).appendTo(cList);

    // $('.js_load-more-box button').on('click', (e) => {
    //     const $btn = $(e.target);
    //     const $btnBox = $btn.closest('.js_load-more-box');
    //     const section = $btnBox.data('idx');
    //     const cursor = $btnBox.data('cursor');
    //     const username = $btnBox.closest('li').data('username');

    //     console.log('click', section, cursor);
    //     loadMoreCbFunction(cursor, section, username);
    //     e.stopPropagation();
    // });
}

var token = _user2.default.getToken();
function getAndFillUserList(isActiveFirst, userList) {
    var $userList = userList || $('.messages-user-list');
    var prevActiveDialogId = '';
    if (!isActiveFirst) {
        prevActiveDialogId = $userList.find('li .collapse.show').attr('id');
    }

    _apiUserDirect2.default.getMetadata(token).then(function (result) {
        if (!result.data) {
            return;
        }
        var data = result.data;

        data.meta.sort(function (a, b) {
            return a['username'].localeCompare(b['username']);
        });
        // messages-user-list from utils.js
        fillUserList($userList, data.meta /* getAndFillUserListCursor*/);
        // if (data.settings && data.settings.invoke_in_millis) {
        //     updateInterval = data.settings.invoke_in_millis;
        //     updateInterval = (updateInterval > 6000) ? updateInterval : 10000;
        // }
        if (isActiveFirst) {
            $userList.find('li:first-child .collapse').addClass('show');
        } else {
            $('#' + prevActiveDialogId).addClass('show');
        }

        // do it once
        // if (!isTimeOutRunned) {
        //     intervalUserList = setInterval(() => {
        //         console.log('setInterval');
        //         getAndFillUserList();
        //     }, updateInterval);
        //     isTimeOutRunned = true;
        // }
    });
}

function initHandlers() {
    var $confirmBtnBox = $('.js_request-confirm-box');
    var $reqConfirmBtn = $('.js_request-confirm', $confirmBtnBox);
    var $reqRejectBtn = $('.js_request-reject', $confirmBtnBox);

    $reqConfirmBtn.on('click', function (e) {
        // PUT http://api.luxgram.ru/v1/instagram-direct/pending/{username}/{id}
        _apiUserDirect2.default.putRequestPending(confirmUserData).then(function (result) {
            if (result.status.state === 'ok') {
                console.info('result: ', result);
                $confirmBtnBox.addClass('d-none');
                $('.js_show-messages-user-list').trigger('click');
            }
        });
    });
    $reqRejectBtn.on('click', function (e) {
        _apiUserDirect2.default.delRequestPending(confirmUserData).then(function (result) {
            if (result.status.state === 'ok') {
                console.info('result: ', result);
                $confirmBtnBox.addClass('d-none');
                $('.js_show-messages-user-list').trigger('click');
            }
        });
    });

    var $showUserList = $('.js_show-messages-user-list');
    $showUserList.on('click', function (e) {
        $(e.target).closest('.user-requests-box').removeClass('user-requests-box--show');
        $('.user-list-box').removeClass('user-list-box--hide');
        $('#mainChatPart').addClass('d-none');
    });
}
function initRequests(cfg) {
    var $list = $('.messages-requests-list');
    getAndFillUserList('setActiveFirst', $list);
    initHandlers();
}

/***/ }),
/* 43 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.messageAreaHendler = exports.addConversations = undefined;
exports.clearMassagesList = clearMassagesList;
exports.fillMassagesList = fillMassagesList;
exports.appendUserList = appendUserList;
exports.fillUserList = fillUserList;

var _view = __webpack_require__(1);

var _view2 = _interopRequireDefault(_view);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// import UserConversation from '../../common/js-services/api-user-direct';

function clearMassagesList($list, stateCfg) {
    stateCfg.pageIncrement = 0;
    $list.empty();
}
function fillMassagesList(_ref) {
    var $list = _ref.$list,
        dataArray = _ref.dataArray,
        isAppendPrevMsg = _ref.isAppendPrevMsg,
        stateCfg = _ref.stateCfg,
        currentUserData = _ref.currentUserData;

    var items = dataArray;
    var cList = $list;
    // const listDataConversation = $('.messages-list').attr('data-conversation');
    // const currentUsername = JSON.parse(listDataConversation);
    var insertMsg = function insertMsg(value, message, cssCls) {
        var str = '';
        var valueWithUrl = '';
        var type = message.type,
            caption = message.caption;
        // const userHeader = {username, profile_pic_url};
        // if (cssCls === 'text-right') {
        //     userHeader.username = currentUserData.username;
        //     userHeader.profile_pic_url = currentUserData.useravatar;
        // }

        if (type === 'TEXT') {
            // eslint-disable-next-line no-useless-escape
            var regex = /[(http(s)?):\/\/(www\.)?a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_\+.~#?&//=]*)/gm;
            var subst = '<a href=$& target="_blank">$&</a>';
            valueWithUrl = value.replace(regex, subst);
        }
        switch (type.toLowerCase()) {
            case 'photo':
                str = '<div class="chat-img">\n                    <img src="' + value + '" alt="Content Image" class="content-image">\n                </div>';
                break;
            case 'video':
                str = '<div class="chat-video">\n                    <a target="_blank" href="' + value + '" class="position-relative">\n                        <i class="fa-3x fa-play-circle far position-absolute text-white chat-video--icon"></i>\n                        <img src="' + message.preview_value + '" alt="Content Image" class="chat-video--image">\n                    </a>\n                </div>';
                break;
            case 'gif':
                str = '<div class="chat-img">\n                    <img src="' + value + '" alt="Content Image" class="content-image">\n                </div>';
                break;
            case 'like':
                str = '<div class="chat-text ' + cssCls + '" >' + value + '</div>';
                break;
            case 'post':
                str = '<div class="chat-post-message">\n                    <a target="_blank" href="' + value + '" class="text-body text-decoration-none">\n                        <div class="chat-post-message--header">\n                            <img src="' + message.profile_pic_url + '" alt="Content Image" class="user-avatar mr-3">\n                            ' + message.username + '\n                            <i class="fas fa-chevron-right"></i>\n                        </div>\n                        <img src="' + message.preview_value + '" alt="Content Image" class="content-image">\n                        ' + (caption ? '<p class="chat-post-caption m-3">' + caption + '<p>' : '') + '\n                    </a>\n                </div>';
                break;
            case 'text':
                str = '<div class="chat-text ' + cssCls + '" >' + valueWithUrl + '</div>';
                break;
            default:
                str = '<div class="chat-text ' + cssCls + '" >' + value + '</div>';
        }
        return str;
    };
    var addToList = function addToList(isAppendPrevMsg, $li, $list) {
        if (isAppendPrevMsg) {
            $li.insertBefore($list.find('li:first-child'));
        } else {
            $li.appendTo($list);
        }
    };
    if (isAppendPrevMsg) {
        // console.log('isAppentPrevMsg to', cList);
    } else {
        cList.empty().addClass('border-light-color');
        clearMassagesList(cList, stateCfg);
        // add margin-auto to make masseges on bottom
        $('<li class="mt-auto"></li>').appendTo(cList);
    }
    items.forEach(function (item) {
        var message = item;
        var value = message.value.replace(/(?:\r\n|\r|\n)/g, '<br />');
        // const value = message.value;

        if (message.side.toLowerCase() === 'left') {
            var $li = $('<li class="chat-item chat-item-left col flex-column-reverse" value="' + message.value + '">\n                <div class="d-flex">\n                ' + (message['profile_pic_url'] ? '<div class="chat-img-box"> \n                            <img src="' + message['profile_pic_url'] + '" alt="User Avatar" class="">\n                        </div>' : '') + '\n                <div>\n                    <p class="chat-username text-muted">' + message.username + '</p>\n                    ' + insertMsg(value, message, 'text-left') + '\n                </div>\n                    <small class="chat-time-text">' + _view2.default.getFormattedDateUtil(message.timestamp) + '</small>\n                </div>\n                </div>\n            </li>');
            addToList(isAppendPrevMsg, $li, cList); // toDo refactor me, less DOM manipulation
        } else {
            var _$li = $('<li class="chat-item chat-item-right col flex-column-reverse" value="' + message.value + '">\n                <div class="d-flex justify-content-end">\n                    ' + insertMsg(value, message, 'text-right') + '\n                    <small class="pull-right chat-time-text">' + _view2.default.getFormattedDateUtil(message.timestamp) + '</small>\n                    </div>\n            </li>');
            addToList(isAppendPrevMsg, _$li, cList); // toDo refactor me, less DOM manipulation
        }
    });
}

var conversationDetail = function conversationDetail(items) {
    var tpl = '';
    items.forEach(function (item) {
        if (items.length > 1) {
            tpl += '<img src="' + item['profile_pic_url'] + '" alt=\'image\' class="media-photo mr-1 media-photo--group" style="width: 24px;">';
        } else {
            tpl += '<img src="' + item['profile_pic_url'] + '" alt=\'image\' class="media-photo mr-1" style="width: 24px;">';
        }
    });
    return tpl;
};
var addConversations = exports.addConversations = function addConversations(conversations) {
    var tpl = '';
    conversations.forEach(function (item) {
        var isUnread = item['is_unread'];
        var lastMessage = item['last_message'];
        var isLastMsg = lastMessage && parseInt(lastMessage.length, 10);
        var isAddDot = isLastMsg > 0 && item.to.length > 1 && isUnread;
        tpl += '\n                <div class="media p-1" data-conversation-id="' + item.id + '">\n                    ' + conversationDetail(item.to) + '\n                    <div class="media-body">\n                        ' + (isAddDot || isUnread ? '<span class="summary-dot"></span>' : '') + '\n                        <!-- {isUnread ? \'<span class="summary-dot"></span>\' : \'\'} -->\n                        <h5 class="title ' + (isUnread ? 'font-weight-bold' : '') + ' ' + (isAddDot ? 'mr-2' : '') + '">' + item.title + '</h5>\n                        ' + (isLastMsg > 0 && item.to.length === 1 ? '<p class="summary text-muted">' + lastMessage + '</p>' : '') + '\n                    </div>\n                </div>\n            ';
    });
    return tpl;
};

function appendUserList($list, item, details) {
    var cursor = details.cursor,
        section = details.section,
        username = details.username;

    var $collapse = $('#collapse-' + section);
    console.log(cursor, username);
    $collapse.append(addConversations(item.conversations));
    // ${addConversations(item.conversations, idx)}
}

function fillUserList($list, dataArray, loadMoreCbFunction) {
    var items = dataArray;
    var cList = $list;
    var tpl = '';
    var loadMoreBox = function loadMoreBox(idx, prev_cursor) {
        return '<div class="list-footer text-center js_load-more-box" data-idx="' + idx + '" data-cursor="' + prev_cursor + '">\n        <button type="button" class="btn btn-outline-secondary btn-sm btn-submit">\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044C \u0435\u0449\u0435</button>\n    </div>';
    };
    cList.empty().addClass('border-light-color');
    // todo: fix hard-code  img src="https://i.imgur.com/jNNT4LE.png"
    items.forEach(function (item, idx) {
        var pagination = item.pagination;

        console.log(item.pending_requests);
        tpl += '<li class="list-group-item" data-toggle="collapse" data-target="#collapse-' + idx + '" \n                data-username="' + item.username + '"\n                data-userAvatar="' + item.profile_pic_url + '"\n                aria-expanded="true" aria-controls="collapse-' + idx + '">\n            <div class="conversation-head mb-1 media pb-2" id="heading-' + idx + '">\n                <span class="mr-3">\n                    <img src="' + item.profile_pic_url + '" alt="avatar"\n                    class="media-photo rounded-circle">\n                </span>\n                ' + (item['unread_conversations'] > 0 ? '<span class="badge badge-secondary position-absolute p-2">' + item['unread_conversations'] + '</span>' : '') + '\n                <div class="media-body">\n                    <h4 class="title">\n                        ' + item.username + '\n                    </h4>\n                    ' + (item.pending_requests ? '<p class="js_show-request-box btn btn-outline-dark btn-sm">' + item.pending_requests + ' \u0437\u0430\u043F\u0440\u043E\u0441' + (item.pending_requests > 1 ? 'a' : '') + '</p>' : '') + '\n                </div>\n            </div>\n            <div id="collapse-' + idx + '" class="collapse" aria-labelledby="heading-' + idx + '" data-parent="#accordion">\n                ' + addConversations(item.conversations) + '\n            </div>\n            ' + (pagination && pagination.prev_cursor ? loadMoreBox(idx, pagination.prev_cursor) : '') + '\n        </li>';
    });
    $(tpl).appendTo(cList);
    $('.js_load-more-box button').on('click', function (e) {
        var $btn = $(e.target);
        var $btnBox = $btn.closest('.js_load-more-box');
        var section = $btnBox.data('idx');
        var cursor = $btnBox.data('cursor');
        var username = $btnBox.closest('li').data('username');

        console.log('click', section, cursor);
        loadMoreCbFunction(cursor, section, username);
        e.stopPropagation();
    });
    $('.js_show-request-box').on('click', function (e) {
        $(e.target).closest('.user-list-box').addClass('user-list-box--hide');
        $('.user-requests-box').addClass('user-requests-box--show');
        e.stopPropagation();
    });
}

var messageAreaHendler = exports.messageAreaHendler = function messageAreaHendler($textArea, $sendMessageButton) {
    $textArea.on('keydown', function (e) {
        if (e.keyCode === 13) {
            if (e.ctrlKey) {
                // console.log('ctrl+enter');
                e.preventDefault();
                e.target.value += '\n';
            } else {
                if (e.target.value.trim().length) {
                    $sendMessageButton.trigger('click');
                }
                e.preventDefault();
            }
        }
    });
};

// export const addMoreUsersAccordion = (conversations, conversationToAdd) => {
// const $btnMoreBox = $('#load-more-box');
// const $btnMore = $('button', $btnMoreBox);
// $btnMoreBox.show();
// console.log('start add pagination to accordioin', conversationToAdd);
// conversations.forEach((item, idx) => {
//     if (item.pagination && item.pagination.prev_cursor) {
//         console.log('conversation - >', item.pagination);
//         $btnMore.on('click', () => {
//             console.log('click - >', item.pagination);
//             const details = {
//                 username: '',
//                 cursor: item.pagination.prev_cursor
//             };
//             UserConversation.getMetadataDetailUsers(details).then((result) => {
//                 if (!result.data) {
//                     return;
//                 }
//                 console.log('**getMetadataDetailUsers** result - >', result);
//             });
//         });
//     }
// });
// };

/***/ }),
/* 44 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); // import $ from 'jquery';
// https://www.npmjs.com/package/pubsub-js


var _pubsubJs = __webpack_require__(11);

var _pubsubJs2 = _interopRequireDefault(_pubsubJs);

var _user = __webpack_require__(3);

var _user2 = _interopRequireDefault(_user);

var _cookie = __webpack_require__(4);

var _cookie2 = _interopRequireDefault(_cookie);

var _consts = __webpack_require__(0);

var _view = __webpack_require__(1);

var _view2 = _interopRequireDefault(_view);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var selectorCls = {
    form: '.auth.register .form-signin',
    submitBtn: '[type="submit"]'
};

var RegisterForm = function () {
    function RegisterForm() {
        _classCallCheck(this, RegisterForm);

        this.user = _user2.default;
        this.$form = $(selectorCls.form);
        this.$email = this.$form.find('input[name="mail"]');
        this.$textAreaDescription = $('.register--confirm');
        this.formData = { 'email': 'test1_email@m.ru', 'password': 'password' };
    }

    _createClass(RegisterForm, [{
        key: 'init',
        value: function init() {
            if ($('.auth.register').length) {
                this.bindEvents();
            }
        }
    }, {
        key: 'submitForm',
        value: function submitForm(formDataObj) {
            var _this = this;

            var email = this.$email.val();
            var borderDangerCls = 'border-danger';
            var $password = this.$form.find('input[name="pass"]'),
                $passwordConfirm = this.$form.find('input[name="pass-confirm"]'),
                password = this.$form.find('input[name="pass"]').val(),
                passwordConfirm = this.$form.find('input[name="pass-confirm"]').val();

            // Highlight errors
            if (passwordConfirm !== password) {
                $password.addClass(borderDangerCls);
                $passwordConfirm.addClass(borderDangerCls);
                return;
            } else {
                $password.removeClass(borderDangerCls);
                $passwordConfirm.removeClass(borderDangerCls);
            }
            this.$email.val(this.$email.val().toLocaleLowerCase());
            this.formData = formDataObj || { email: email, password: password };

            this.user.register(this.formData).then(function (result) {
                if (result.data && result.data.token) {

                    // save the item
                    _cookie2.default.set(_consts.CONST.cookieStorage.emailConfirmed, 'false');
                    _cookie2.default.set(_consts.CONST.cookieStorage.token, result.data.token);
                    _pubsubJs2.default.publish(_consts.CONST.events.USER_LOGGED);
                    // viewUtils.showInfoMessage(this.$textAreaDescription,
                    //     result.status.state,
                    //     result.status.message || 'Register and Login succsess');
                } else {
                    _view2.default.showInfoMessage(_this.$textAreaDescription, result.status.state, result.status.message || 'no result.data found');
                }
            }).then(function (result) {
                if (result && result.status) {
                    console.log(result);
                    _view2.default.showInfoMessage(_this.$textAreaDescription, result.status.state);
                    $('.login-box').show();
                }
            }).catch(function (error) {
                var modal = $('#register-error-modal');
                modal.modal('show');

                console.log('request failed', error);
                // viewUtils.showInfoMessage(this.$textAreaDescription,
                //     error.message);
            });
        }
    }, {
        key: 'bindEvents',
        value: function bindEvents() {
            var _this2 = this;

            var registerBox = _consts.CONST.uiSelectors.headerRegBox; // 'nav .register-box';
            var openedClass = 'd-block';
            var closeClass = 'd-none';
            var $btn = $(selectorCls.submitBtn),
                cssValidationClass = 'form-validation';

            $btn.on('click', function (e) {
                var form = _this2.$form.get(0);
                e.preventDefault();

                if (!$btn.is(':disabled')) {
                    if (form.checkValidity()) {
                        // $btn.attr('disabled', true);
                        _this2.submitForm();
                    } else {
                        // Highlight errors
                        if (form.reportValidity) {
                            form.reportValidity();
                        }
                        _this2.$form.addClass(cssValidationClass);
                    }
                }
            });

            _pubsubJs2.default.subscribe(_consts.CONST.events.USER_LOGGED, function () {
                // $('.register--confirm').removeClass('d-none');
                window.location.href = './registration-success.html';
            });

            $(document).on('click', function (event) {
                var isRegBtnClick = $(event.target).closest('nav.navbar').find('.register-box').length;

                if (!isRegBtnClick && $(registerBox).hasClass(openedClass)) {
                    $(registerBox).addClass(closeClass).removeClass(openedClass);
                }
            });
        }
    }]);

    return RegisterForm;
}();

exports.default = RegisterForm;

/***/ }),
/* 45 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.initMenu = initMenu;

/**
 * Init Menu
 */
function initMenu() {
    var urlToCheck = ['instagram-accounts', 'automessages', 'stories', 'autogreeting', 'autocomments', 'follow', 'unfollow', 'messages', 'chat-bot'];
    var pathName = window.location.pathname;
    urlToCheck.forEach(function (item) {
        var isActiveUrl = pathName === '/instagram-integration/' + item + '.html' || pathName === '/' + item + '.html';
        if (isActiveUrl) {
            $('nav.aside-burger-menu a[href*="/' + item + '"]').addClass('text-info').removeClass('text-light');
            // console.info('item found', item, activeMenuItem);
        }
    });
}

/***/ }),
/* 46 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

exports.init = init;

var _consts = __webpack_require__(0);

var _apiTaskManager = __webpack_require__(2);

var _apiTaskManager2 = _interopRequireDefault(_apiTaskManager);

var _view = __webpack_require__(1);

var _view2 = _interopRequireDefault(_view);

var _wizardForm = __webpack_require__(6);

var wizardForm = _interopRequireWildcard(_wizardForm);

var _storiesStatus = __webpack_require__(47);

var storiesStatus = _interopRequireWildcard(_storiesStatus);

var _logsTabs = __webpack_require__(13);

var _followReadFileTxt = __webpack_require__(14);

var _tagsInput = __webpack_require__(10);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var getValByCommaSeparator = _view2.default.getValByCommaSeparator,
    fillRadioGroupList = _view2.default.fillRadioGroupList;

var usernameSelected = '';
var logsState = _consts.CONST.logsState;
var clsConst = {
    currentPageCls: '.stories-page',
    tasksList: '.log-tasks',
    logsTabBtn: '#v-pills-logs-tab',
    pagination: '.logs-pagination',
    paginationPgNumber: '.page-number',
    pathType: _consts.CONST.url.tmTypes.storiesT,
    pathSubType: _consts.CONST.url.tmTypes.storiesSubT[0]
};
var elSelector = {
    wizardForm: '.wizard-form',
    wizardFormName: 'wizard-form',
    fields: '.automessages-text-fields',
    taskMode: '.js_task-mode',
    competitors: '.js_stories-competitors input[data-role="tagsinput"]'
};
var state = {
    subtype: _consts.CONST.url.tmTypes.storiesSubT[0],
    user_default_config: {
        task_mode: 'SAFE'
    }
};

function onSubmitHandler(e) {
    var wizardFormName = elSelector.wizardFormName;

    var form = document.forms[wizardFormName];
    var limit = form['limit'];

    if (limit.value === '') {
        limit.focus();
        return false;
    }

    var body = _extends({}, state, {
        user_default_config: _extends({}, state.user_default_config, {
            criteria: {
                max_views: limit.value
            }
        }),
        user_custom_config: {},
        type: clsConst.pathType,
        username: usernameSelected
    });

    if (body.subtype === _consts.CONST.url.tmTypes.storiesSubT[2]) {
        var competitors = getValByCommaSeparator($(form).find(elSelector.competitors));
        body.user_custom_config = {
            competitors: competitors
        };
    }
    if (body.subtype === _consts.CONST.url.tmTypes.storiesSubT[0]) {
        // text file should be added
        body['user_custom_config'].attachment = {
            'list_id': $('.stories__file-upload-box .file-upload-container').attr('attached-txt-id')
        };
        delete body.user_default_config.criteria.max_views;
    }

    $(form).find('input[type="text"],input[type="number"],input[type="email"]').each(function () {
        if ($(this).val() === '') {
            e.preventDefault();
            $(this).addClass('input-error');
        } else {
            $(this).removeClass('input-error');
        }
    });

    console.log('onSubmitHandler **request**  post: StartFollowingList', body);

    function cbError(res) {
        var msg = res.status.message;
        $('.form-submit-finish--error').addClass('d-block').find('.alert').append('<p>' + msg + '</p>');
    }

    _apiTaskManager2.default.postStartFollowingList(body, cbError).then(function (result) {
        if (result.status.state === 'ok') {
            console.log(JSON.stringify(result));
            $('.form-submit-finish').find('.alert p').remove();
            $('.form-submit-finish').addClass('d-block').find('.alert').append('<p>task_id: ' + result.data.task_id + '</p>');
        }
    });
}

function setUserNameCb(_usernameSelected) {
    usernameSelected = _usernameSelected;
}

function setUserNameFirstStep(state) {
    usernameSelected = state.username;
}

// todo: refactor with follow.js -- 'nextBtnvalidateCompetitorsHandler()'
var containerCls = '.js_add-settings-step-4';
var $container = $(containerCls);
var $competitorsTextArea = $container.find('input[data-role="tagsinput"]');
var nextStepBtn = $container.find('.js_stories-competitors-btn');

/**
 * Init Handlers
 */
function initHandlers() {

    (0, _followReadFileTxt.attachTxtFileHandler)('.file-upload-container');
    (0, _tagsInput.nextBtnvalidateCompetitorsHandler)($competitorsTextArea, nextStepBtn);

    // radio-group step 2
    $('.js_get-stories-type input[type=radio]').on('click', function (e) {
        var value = $(e.target).attr('value');
        state.subtype = value.toUpperCase();
        if (state.subtype === _consts.CONST.url.tmTypes.storiesSubT[1]) {
            nextStepBtn.removeAttr('disabled', 'disabled'); // enable button 'Запустить'
        } else {
            nextStepBtn.attr('disabled', 'disabled');
        }
        console.log(state);
    });

    // alert close
    $('.form-submit-finish .close').on('click', function () {
        // console.log('alert close');
        $('#v-pills-all-tab').trigger('click');
        window.PubSub.publish(_consts.CONST.events.tasks.NEW_TASK_CREATED);
    });

    // alert error close
    $('.form-submit-finish--error .close').on('click', function () {
        // console.log('alert close');
        $('#v-pills-all-tab').trigger('click');
        window.PubSub.publish(_consts.CONST.events.tasks.NEW_TASK_CREATED);
    });
}

function renderTaskMode(defaultCfg) {
    var task_modes = defaultCfg.cfg.task_modes;
    var taskModeSelector = elSelector.taskMode;


    fillRadioGroupList($(taskModeSelector), task_modes, 'просмотров');

    $(taskModeSelector + ' input[type=radio]').on('click', function (e) {
        var value = $(e.target).attr('value');
        state.user_default_config.task_mode = value.toUpperCase();
    });
}

function getConfig() {
    var path = {
        type: clsConst.pathType,
        subtype: state.subtype
    };
    var cbError = function cbError(res) {
        var msg = res.status.message;
        $('.form-submit-finish--error').addClass('d-block').find('.alert').append('<p>' + msg + '</p>');
    };

    _apiTaskManager2.default.getStoriesConfig(path, cbError).then(function (result) {
        if (result.status.state !== 'ok') {
            return;
        }
        var found = result.data.found;

        var limitVal = found.cfg.criteria.max_views;
        renderTaskMode(found);
        $('#limit').val(limitVal);
    });
}

function addTextArea(stepNumber) {
    var wizardForm = elSelector.wizardForm;

    var fieldLast = $(wizardForm + ' fieldset').get(stepNumber + 1);
    if (state.subtype === _consts.CONST.url.tmTypes.storiesSubT[2]) {
        (0, _tagsInput.nextBtnvalidateCompetitorsHandler)($competitorsTextArea, nextStepBtn);
        $(fieldLast).find('.js_stories-competitors').removeClass('d-none');
        console.log('end');
    } else {
        $(fieldLast).find('.js_stories-competitors').addClass('d-none');
    }
}

function addFileUploadBox(stepNumber) {
    var wizardForm = elSelector.wizardForm;

    var fieldLast = $(wizardForm + ' fieldset').get(stepNumber + 1);
    var $fileUploadBox = $(fieldLast).find('.stories__file-upload-box');
    var $titleStepBox = $(fieldLast).find('.js_add-file-title');
    var $addSettings = $(fieldLast).find('.js_add-settings-step-4');
    if (state.subtype === _consts.CONST.url.tmTypes.storiesSubT[0]) {
        $fileUploadBox.removeClass('d-none');
        $('.js_validate-txt-file-is-uploaded').attr('disabled', 'disabled');
        $titleStepBox.removeClass('d-none');
        $addSettings.addClass('d-none');
    } else {
        $fileUploadBox.addClass('d-none');
        $titleStepBox.addClass('d-none');
        $addSettings.removeClass('d-none');
    }
    console.log('addFileUploadBox done');
}

function stepReducer(stepNumber, state) {
    switch (stepNumber) {
        case 0:
            // console.log(state, stepNumber);
            setUserNameFirstStep(state);
            break;
        case 1:
            // console.log(state, stepNumber);
            getConfig();
            break;
        case 2:
            console.log(state, stepNumber);
            addTextArea(stepNumber);
            addFileUploadBox(stepNumber);
            break;
        default:
            console.log('default', stepNumber);
    }
}

function init() {
    var isInCurrentPage = $(clsConst.currentPageCls).length;
    if (!isInCurrentPage) {
        return;
    }
    console.log(clsConst.currentPageCls);
    var wizardCfg = {
        stepReducer: stepReducer,
        onSubmitHandler: onSubmitHandler
    };
    wizardForm.init(wizardCfg);
    initHandlers();
    var textRusArray = ['По списку', 'По подписчикам', 'По активной аудитории конкурентов'];
    (0, _logsTabs.initLogsTab)({ logsState: logsState, logsSubtypes: _consts.CONST.url.tmTypes.storiesSubT, clsConst: clsConst, setUserNameCb: setUserNameCb, textRusArray: textRusArray });
    storiesStatus.init({
        isInStoriesPage: isInCurrentPage
    });
    // initTagsInput();

    // window.PubSub.subscribe(CONST.events.instagramAccouns.INSTAGRAM_ACCOUNS_RENDERED_LAZY, (e, accounts) => {
    //     console.log('INSTAGRAM_ACCOUNS_RENDERED_LAZY');
    //     console.log('logsSubtypes', logsSubtypes);
    //     console.log('accounts', accounts);
    // });
    window.PubSub.subscribe(_consts.CONST.events.autoarnswer.TEXT_FILE_UPLOADED, function (e, res) {
        $('.js_validate-txt-file-is-uploaded').removeAttr('disabled');
    });
}

/***/ }),
/* 47 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; // TODO: refactor -> delete me, use task-status-by-subtype.js

// import viewUtils from '../../common/js-services/view';


exports.init = init;

var _consts = __webpack_require__(0);

var _taskStatus = __webpack_require__(5);

var _dropdown = __webpack_require__(18);

var _dropdown2 = _interopRequireDefault(_dropdown);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var path = {
    type: _consts.CONST.url.tmTypes.storiesT,
    subtype: _consts.CONST.url.tmTypes.storiesSubT[0]
};
var wrappers = {
    $all: $('.tasks-all'),
    $stopped: $('.tasks-stopped')
};
var logsStateStatus = {
    wrapperSubtype: $('.subtype--box')
};

function dropdownOnSelectCb(e) {
    // const {selectClsLogsTaskType} = logsState;
    var subtype = $(e.target).find('option:selected').val();
    var pathUpdated = _extends({}, path, { subtype: subtype });
    $('.js_logs-container').addClass('d-block');
    $('option.js_empty-subtype').remove();
    (0, _taskStatus.getTasksData)(wrappers, pathUpdated);
}

function init(_ref) {
    var isInStoriesPage = _ref.isInStoriesPage;

    if (!isInStoriesPage) {
        return;
    }
    // toDO : refactor
    // render status dropdown
    var textRusArray = ['По списку', 'По подписчикам', 'По активной аудитории конкурентов'];
    _dropdown2.default.addDropdown(logsStateStatus.wrapperSubtype, _consts.CONST.url.tmTypes.storiesSubT, { logsState: logsStateStatus, dropdownOnSelectCb: dropdownOnSelectCb, textRusArray: textRusArray });

    // getTasksData(wrappers, path);
    window.PubSub.subscribe(_consts.CONST.events.tasks.NEW_TASK_CREATED, function (eventName, data) {
        (0, _taskStatus.getTasksData)(wrappers, path);
    });
}

/***/ }),
/* 48 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

exports.init = init;

var _consts = __webpack_require__(0);

var _apiTaskManager = __webpack_require__(2);

var _apiTaskManager2 = _interopRequireDefault(_apiTaskManager);

var _view = __webpack_require__(1);

var _view2 = _interopRequireDefault(_view);

var _followReadFileTxt = __webpack_require__(14);

var _wizardForm = __webpack_require__(6);

var wizardForm = _interopRequireWildcard(_wizardForm);

var _unfollowStatus = __webpack_require__(49);

var tabStatus = _interopRequireWildcard(_unfollowStatus);

var _logsTabs = __webpack_require__(13);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var fillRadioGroupList = _view2.default.fillRadioGroupList;


var usernameSelected = '';
var logsSubtypes = _consts.CONST.url.tmTypes.unfollowingSubT;
var clsConst = {
    currentPageCls: '.unfollow-page',
    tasksList: '.log-tasks',
    logsTabBtn: '#v-pills-logs-tab',
    pagination: '.logs-pagination',
    paginationPgNumber: '.page-number',
    pathType: _consts.CONST.url.tmTypes.unfollowingT,
    pathSubType: _consts.CONST.url.tmTypes.unfollowingSubT[0]
};
var elSelector = {
    wizardForm: '.wizard-form',
    wizardFormName: 'wizard-form',
    fields: '.automessages-text-fields',
    taskMode: '.js_task-mode',
    typeRadioGroup: '.js_get-unfollow-type',
    competitors: 'textarea.stories-competitors'
};
var state = {
    subtype: _consts.CONST.url.tmTypes.unfollowingSubT[0],
    user_default_config: {
        task_mode: 'SAFE'
    }
};

function onSubmitHandler(e) {
    var wizardFormName = elSelector.wizardFormName;

    var form = document.forms[wizardFormName];

    var body = _extends({}, state, {
        user_custom_config: {
            // attachment: {
            //     'list_id': 'id_static'
            // }
        },
        type: clsConst.pathType,
        username: usernameSelected
    });

    if (state.subtype === _consts.CONST.url.tmTypes.unfollowingSubT[0]) {
        // text file should be added
        body['user_custom_config'].attachment = {
            'list_id': $('.add-file .file-upload-container').attr('attached-txt-id')
        };
    }

    $(form).find('input[type="text"],input[type="number"],input[type="email"]').each(function () {
        if ($(this).val() === '') {
            e.preventDefault();
            $(this).addClass('input-error');
        } else {
            $(this).removeClass('input-error');
        }
    });

    console.log('onSubmitHandler **request**  post: StartFollowingList', body);

    _apiTaskManager2.default.postStartFollowingList(body).then(function (result) {
        if (result.status.state === 'ok') {
            console.log(JSON.stringify(result));
            $('.form-submit-finish').find('.alert p').remove();
            $('.form-submit-finish').addClass('d-block').find('.alert').append('<p>task_id: ' + result.data.task_id + '</p>');
        }
    });
}

/**
 * Init Handlers
 */
function initHandlers() {

    $(elSelector.typeRadioGroup + ' input[type=radio]').on('click', function (e) {
        var value = $(e.target).attr('value');
        state.subtype = value.toUpperCase();
        console.log(state);
    });

    // alert close
    $('.form-submit-finish .close').on('click', function () {
        // console.log('alert close');
        $('#v-pills-all-tab').trigger('click');
        window.PubSub.publish(_consts.CONST.events.tasks.NEW_TASK_CREATED);
    });

    // alert close
    $('.form-submit-finish--error .close').on('click', function () {
        // console.log('alert close');
        $('#v-pills-all-tab').trigger('click');
        window.PubSub.publish(_consts.CONST.events.tasks.NEW_TASK_CREATED);
    });
}

function onSuccessFileUploadCb() {
    var wizardForm = elSelector.wizardForm;


    $(wizardForm).find('button[type="submit"]').attr('disabled', false);
}

function addUploadButton(subtype) {
    function toggleAddTextBtn(subtype) {
        if (subtype === _consts.CONST.url.tmTypes.unfollowingSubT[0]) {
            // show txt fileUpload
            $('.add-file').addClass('d-block');
            // $('.add-competitors').addClass('d-none').removeClass('d-block');
        } else {
            // hide txt fileUpload
            // $('.add-competitors').addClass('d-block');
            $('.add-file').addClass('d-none').removeClass('d-block');
            onSuccessFileUploadCb();
        }
    }
    toggleAddTextBtn(subtype);
    // console.log('addUploadButton', CONST.url.tmTypes.unfollowingSubT[0]);
}

function renderTaskMode(defaultCfg) {
    var task_modes = defaultCfg.cfg.task_modes;
    var taskModeSelector = elSelector.taskMode;


    fillRadioGroupList($(taskModeSelector), task_modes, 'отписок');
    addUploadButton(defaultCfg.id.subtype);

    $(taskModeSelector + ' input[type=radio]').on('click', function (e) {
        var value = $(e.target).attr('value');
        state.user_default_config.task_mode = value.toUpperCase();
    });
}

function getConfig() {
    var path = {
        type: clsConst.pathType,
        subtype: state.subtype
    };
    var cbError = function cbError(res) {
        var msg = res.status.message;
        $('.form-submit-finish--error').addClass('d-block').find('.alert').append('<p>' + msg + '</p>');
    };

    _apiTaskManager2.default.getStoriesConfig(path, cbError).then(function (result) {
        if (result.status.state !== 'ok') {
            return;
        }
        var found = result.data.found;
        // $('#limit').val(limitVal);
        // const limitVal = found.cfg.criteria.max_views;

        renderTaskMode(found);
    });
}

function setUserNameCb(_usernameSelected) {
    usernameSelected = _usernameSelected;
}

function setUserNameFirstStep(state) {
    usernameSelected = state.username;
}

function checkTitleStep3(stepNumber) {
    var wizardForm = elSelector.wizardForm;

    var title = $(wizardForm + ' h3').get(stepNumber + 1);
    if (state.subtype === _consts.CONST.url.tmTypes.unfollowingSubT[0]) {
        $(title).text('Выберите режим и добавьте файл с пользователями');
    } else {
        $(title).text('Выберите режим');
    }
}

function addTextArea(stepNumber) {
    var wizardForm = elSelector.wizardForm;

    if (state.subtype === _consts.CONST.url.tmTypes.unfollowingSubT[1]) {
        var fieldLast = $(wizardForm + ' fieldset').get(stepNumber + 1);
        var tpl = '<div class="row">\n            <label class="">\u041A\u043E\u043D\u043A\u0443\u0440\u0435\u043D\u0442\u044B</label>\n            <textarea class="form-control stories-competitors mb-2" rows="1"></textarea></div>';
        $(fieldLast).find('.form-bottom>.row').after(tpl);
        console.log('end');
    }
}

function stepReducer(stepNumber, state) {
    switch (stepNumber) {
        case 0:
            // console.log(state, stepNumber);
            setUserNameFirstStep(state);
            break;
        case 1:
            // console.log(state, stepNumber);
            getConfig();
            checkTitleStep3(stepNumber);
            break;
        case 2:
            // THis step is upreachable
            console.log(state, stepNumber);
            addTextArea(stepNumber);
            break;
        default:
            console.log('default', stepNumber);
    }
}

function init() {
    var isInCurrentPage = $(clsConst.currentPageCls).length;
    if (!isInCurrentPage) {
        return;
    }
    console.log(clsConst.currentPageCls);
    var wizardCfg = {
        stepReducer: stepReducer,
        onSubmitHandler: onSubmitHandler
    };
    wizardForm.init(wizardCfg);
    initHandlers();
    (0, _followReadFileTxt.attachTxtFileHandler)('.file-upload-container', onSuccessFileUploadCb);
    var textRusArray = ['По списку', 'От всех', 'От невзаимных'];
    (0, _logsTabs.initLogsTab)({ logsState: _consts.CONST.logsState, logsSubtypes: logsSubtypes, clsConst: clsConst, setUserNameCb: setUserNameCb, textRusArray: textRusArray });
    tabStatus.init({
        isInStoriesPage: isInCurrentPage
    });
    // window.PubSub.subscribe(CONST.events.autoarnswer.IMAGE_UPLOADED, (e, res) => {
    //     const result = JSON.parse(res.response);
    //     const imageId = result && result.data && result.data.image_id;
    //     $(res.el).closest('.file-upload').attr('attached-img-id', imageId);
    //     console.log('image_loaded', res);
    // });
}

/***/ }),
/* 49 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.init = init;

var _consts = __webpack_require__(0);

var _taskStatusBySubtype = __webpack_require__(19);

var followStatusBySubtype = _interopRequireWildcard(_taskStatusBySubtype);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

// TODO: refactor -> delete me
// import {getTasksData} from '../_shared/task-status/task-status';
// import viewUtils from '../../common/js-services/view';
// import dropDown from '../_shared/dropdown/dropdown';

// const path = {
//     type: CONST.url.tmTypes.storiesT,
//     subtype: CONST.url.tmTypes.storiesSubT[0]
// };
// const wrappers = {
//     $all: $('.tasks-all'),
//     $stopped: $('.tasks-stopped')
// };
// const logsStateStatus = {
//     wrapperSubtype: $('.subtype--box')
//     // selectClsLogsTaskType: 'subtype-select-wrapper'
// };
//
// function dropdownOnSelectCb(e) {
//     // const {selectClsLogsTaskType} = logsState;
//     const subtype = $(e.target).find('option:selected').val();
//     const pathUpdated = {...path, subtype};
//     $('.js_logs-container').addClass('d-block');
//     $('option.js_empty-subtype').remove();
//     getTasksData(wrappers, pathUpdated);
// }

function init(_ref) {
    var isInStoriesPage = _ref.isInStoriesPage;

    if (!isInStoriesPage) {
        return;
    }
    var initialPath = {
        type: _consts.CONST.url.tmTypes.unfollowingT,
        subtype: _consts.CONST.url.tmTypes.unfollowingSubT[0],
        subtypes: _consts.CONST.url.tmTypes.unfollowingSubT
    };

    var textRusArray = ['По списку', 'От всех', 'От невзаимных'];
    followStatusBySubtype.init({ isInCorrectPage: isInStoriesPage, initialPath: initialPath, textRusArray: textRusArray });

    // todo: merge with stories-satus.js
    // dropDown.addDropdown(logsStateStatus.wrapperSubtype, CONST.url.tmTypes.storiesSubT, {logsState: logsStateStatus, dropdownOnSelectCb});

    // getTasksData(wrappers, path);
    // window.PubSub.subscribe(CONST.events.tasks.NEW_TASK_CREATED, (eventName, data) => {
    //     getTasksData(wrappers, path);
    // });
}

/***/ }),
/* 50 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.LoginPage = LoginPage;

var _user = __webpack_require__(3);

var _user2 = _interopRequireDefault(_user);

var _pubsubJs = __webpack_require__(11);

var _pubsubJs2 = _interopRequireDefault(_pubsubJs);

var _cookie = __webpack_require__(4);

var _cookie2 = _interopRequireDefault(_cookie);

var _view = __webpack_require__(1);

var _view2 = _interopRequireDefault(_view);

var _consts = __webpack_require__(0);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// window.$ = $;

// import Validator from '../../common/js-services/form-validator';
function LoginPage(selectorCss) {
    var _this = this;

    var _formId = selectorCss._formId,
        _buttonSubmitId = selectorCss._buttonSubmitId,
        _loginBox = selectorCss._loginBox;

    var user = _user2.default,
        // service
    $form = $(_formId),
        $email = $form.find('input[name="mail"]'),
        $textAreaDescription = $('#description');
    // const openedClass = 'd-block';
    // const closeClass = 'd-none';

    var userLoginHeader = function userLoginHeader(_formData) {
        var cbError = function cbError(result) {
            // $(_loginBox).append(`<p>${result.status.message}</p>`);
            var modal = $('#error-modal');
            modal.modal('show');
            console.log(result.status.message);
        };

        return user.login(_formData, cbError).then(function (result) {
            if (result && result.data && result.data.token) {
                // save the item
                _cookie2.default.set(_consts.CONST.cookieStorage.token, result.data.token);
                $('.nav-link.js_logOut').parent().show();
                // console.log('request succeeded with JSON response', result);
                _view2.default.showInfoMessage($textAreaDescription, result.status.state, result.status.message || 'Login succsess');
            } else if (result.status) {
                console.log(result);
                _view2.default.showInfoMessage(_this.$textAreaDescription, '<p>status: ' + result.status.state + '</p><p> message: ' + result.status.message + '</p>');
            } else {
                console.log(result);
            }
        }).then(function (result) {
            if (result && result.status) {
                console.log(result);
                _view2.default.showInfoMessage($textAreaDescription, result.status.state, result.status.message || 'Login error');
            }
        });
    };

    var submitForm = function submitForm(formDataObj) {
        var email = $email.val(),
            password = $form.find('input[name="pass"]').val(),
            _formData = formDataObj || { email: email, password: password };

        if (selectorCss.isLoginInstagram) {
            // todo: delete me
            // addInstagramAccount({username: $form.find('input[name="username"]').val(), password});
        } else {
            $email.val($email.val().toLocaleLowerCase());
            userLoginHeader(_formData).then(function () {
                // PubSub.publish(CONST.events.USER_LOGGED, 'login');
                window.location.href = './instagram-accounts.html';
            });
        }
    };

    var logOut = function logOut() {
        _cookie2.default.remove(_consts.CONST.cookieStorage.token);
        _pubsubJs2.default.publish(_consts.CONST.events.USER_LOGOUT);
    };

    var bindEvents = function bindEvents() {
        // const $showLoginBoxBtnId = $(_showLoginBoxBtnId);
        var $loginBox = $(_loginBox);
        var openedClass = 'd-block';
        var closeClass = 'd-none';

        // $showLoginBoxBtnId.on('click', () => {
        //     if (!selectorCss.isLoginInstagram) {
        //         $loginBox.css({'top': 0, 'right': 0})
        //             .addClass('bg-light border mt-5 mx-auto position-absolute');
        //     }
        //     $loginBox.addClass(openedClass).removeClass(closeClass);
        // });

        var $buttonSubmit = $(_buttonSubmitId),
            cssValidationClass = 'form-validation';

        $buttonSubmit.on('click', function (e) {
            e.preventDefault();
            var form = $form.get(0);
            // const validator = new Validator($form);
            console.log(_view2.default, _view2.default.isEmail($email.val()));

            if (form.checkValidity() && _view2.default.isEmail($email.val())) {
                submitForm();
            } else {
                // Highlight errors
                if (form.reportValidity) {
                    form.reportValidity();
                }
                $form.addClass(cssValidationClass);
            }
        });

        $('.nav-link.js_logOut').on('click', function (e) {
            e.preventDefault();
            logOut();
            $(e.target).parent().hide();
            _view2.default.showInfoMessage($textAreaDescription, 'Logged out');
        });

        _pubsubJs2.default.subscribe(_consts.CONST.events.USER_LOGOUT, function (msg) {
            $(_consts.CONST.uiSelectors.headerNavLoginBtn).addClass(openedClass).removeClass(closeClass); // .show();
            $(_consts.CONST.uiSelectors.headerRegBtn).addClass(openedClass).removeClass(closeClass);
            $('.nav-link.js_logOut').addClass(closeClass).removeClass(openedClass); // .hide();
            var selectorLoginState = '.js_message_logged--text';
            $(selectorLoginState).text('Вы вышли из аккаунта');
        });

        $(document).on('click', function (event) {
            var isLoginBtnClick = $(event.target).closest('nav.navbar').find($loginBox).length;
            var isAddInstagramBtnClicked = $(event.target).attr('id') === _consts.CONST.uiSelectors.instagram.addAccountBtnId;

            if (!isLoginBtnClick && $loginBox.hasClass(openedClass) && !isAddInstagramBtnClicked) {
                $loginBox.addClass(closeClass).removeClass(openedClass);
            }
        });
    };

    function init() {
        if ($('.auth.login').length) {
            bindEvents();
        }
    }

    return {
        init: init
    };
} // https://www.npmjs.com/package/pubsub-js
/* eslint-disable sort-vars */
// import $ from 'jquery';

/***/ }),
/* 51 */
/***/ (function(module, exports) {

/*
 * bootstrap-tagsinput v0.7.1 by Tim Schlechter
 * 
 */

!function(a){"use strict";function b(b,c){this.isInit=!0,this.itemsArray=[],this.$element=a(b),this.$element.hide(),this.isSelect="SELECT"===b.tagName,this.multiple=this.isSelect&&b.hasAttribute("multiple"),this.objectItems=c&&c.itemValue,this.placeholderText=b.hasAttribute("placeholder")?this.$element.attr("placeholder"):"",this.inputSize=Math.max(1,this.placeholderText.length),this.$container=a('<div class="bootstrap-tagsinput"></div>'),this.$input=a('<input type="text" placeholder="'+this.placeholderText+'"/>').appendTo(this.$container),this.$element.before(this.$container),this.build(c),this.isInit=!1}function c(a,b){if("function"!=typeof a[b]){var c=a[b];a[b]=function(a){return a[c]}}}function d(a,b){if("function"!=typeof a[b]){var c=a[b];a[b]=function(){return c}}}function e(a){return a?i.text(a).html():""}function f(a){var b=0;if(document.selection){a.focus();var c=document.selection.createRange();c.moveStart("character",-a.value.length),b=c.text.length}else(a.selectionStart||"0"==a.selectionStart)&&(b=a.selectionStart);return b}function g(b,c){var d=!1;return a.each(c,function(a,c){if("number"==typeof c&&b.which===c)return d=!0,!1;if(b.which===c.which){var e=!c.hasOwnProperty("altKey")||b.altKey===c.altKey,f=!c.hasOwnProperty("shiftKey")||b.shiftKey===c.shiftKey,g=!c.hasOwnProperty("ctrlKey")||b.ctrlKey===c.ctrlKey;if(e&&f&&g)return d=!0,!1}}),d}var h={tagClass:function(a){return"label label-info"},itemValue:function(a){return a?a.toString():a},itemText:function(a){return this.itemValue(a)},itemTitle:function(a){return null},freeInput:!0,addOnBlur:!0,maxTags:void 0,maxChars:void 0,confirmKeys:[13,44],delimiter:",",delimiterRegex:null,cancelConfirmKeysOnEmpty:!1,onTagExists:function(a,b){b.hide().fadeIn()},trimValue:!1,allowDuplicates:!1};b.prototype={constructor:b,add:function(b,c,d){var f=this;if(!(f.options.maxTags&&f.itemsArray.length>=f.options.maxTags)&&(b===!1||b)){if("string"==typeof b&&f.options.trimValue&&(b=a.trim(b)),"object"==typeof b&&!f.objectItems)throw"Can't add objects when itemValue option is not set";if(!b.toString().match(/^\s*$/)){if(f.isSelect&&!f.multiple&&f.itemsArray.length>0&&f.remove(f.itemsArray[0]),"string"==typeof b&&"INPUT"===this.$element[0].tagName){var g=f.options.delimiterRegex?f.options.delimiterRegex:f.options.delimiter,h=b.split(g);if(h.length>1){for(var i=0;i<h.length;i++)this.add(h[i],!0);return void(c||f.pushVal())}}var j=f.options.itemValue(b),k=f.options.itemText(b),l=f.options.tagClass(b),m=f.options.itemTitle(b),n=a.grep(f.itemsArray,function(a){return f.options.itemValue(a)===j})[0];if(!n||f.options.allowDuplicates){if(!(f.items().toString().length+b.length+1>f.options.maxInputLength)){var o=a.Event("beforeItemAdd",{item:b,cancel:!1,options:d});if(f.$element.trigger(o),!o.cancel){f.itemsArray.push(b);var p=a('<span class="tag '+e(l)+(null!==m?'" title="'+m:"")+'">'+e(k)+'<span data-role="remove"></span></span>');p.data("item",b),f.findInputWrapper().before(p),p.after(" ");var q=a('option[value="'+encodeURIComponent(j)+'"]',f.$element).length||a('option[value="'+e(j)+'"]',f.$element).length;if(f.isSelect&&!q){var r=a("<option selected>"+e(k)+"</option>");r.data("item",b),r.attr("value",j),f.$element.append(r)}c||f.pushVal(),(f.options.maxTags===f.itemsArray.length||f.items().toString().length===f.options.maxInputLength)&&f.$container.addClass("bootstrap-tagsinput-max"),a(".typeahead, .twitter-typeahead",f.$container).length&&f.$input.typeahead("val",""),this.isInit?f.$element.trigger(a.Event("itemAddedOnInit",{item:b,options:d})):f.$element.trigger(a.Event("itemAdded",{item:b,options:d}))}}}else if(f.options.onTagExists){var s=a(".tag",f.$container).filter(function(){return a(this).data("item")===n});f.options.onTagExists(b,s)}}}},remove:function(b,c,d){var e=this;if(e.objectItems&&(b="object"==typeof b?a.grep(e.itemsArray,function(a){return e.options.itemValue(a)==e.options.itemValue(b)}):a.grep(e.itemsArray,function(a){return e.options.itemValue(a)==b}),b=b[b.length-1]),b){var f=a.Event("beforeItemRemove",{item:b,cancel:!1,options:d});if(e.$element.trigger(f),f.cancel)return;a(".tag",e.$container).filter(function(){return a(this).data("item")===b}).remove(),a("option",e.$element).filter(function(){return a(this).data("item")===b}).remove(),-1!==a.inArray(b,e.itemsArray)&&e.itemsArray.splice(a.inArray(b,e.itemsArray),1)}c||e.pushVal(),e.options.maxTags>e.itemsArray.length&&e.$container.removeClass("bootstrap-tagsinput-max"),e.$element.trigger(a.Event("itemRemoved",{item:b,options:d}))},removeAll:function(){var b=this;for(a(".tag",b.$container).remove(),a("option",b.$element).remove();b.itemsArray.length>0;)b.itemsArray.pop();b.pushVal()},refresh:function(){var b=this;a(".tag",b.$container).each(function(){var c=a(this),d=c.data("item"),f=b.options.itemValue(d),g=b.options.itemText(d),h=b.options.tagClass(d);if(c.attr("class",null),c.addClass("tag "+e(h)),c.contents().filter(function(){return 3==this.nodeType})[0].nodeValue=e(g),b.isSelect){var i=a("option",b.$element).filter(function(){return a(this).data("item")===d});i.attr("value",f)}})},items:function(){return this.itemsArray},pushVal:function(){var b=this,c=a.map(b.items(),function(a){return b.options.itemValue(a).toString()});b.$element.val(c,!0).trigger("change")},build:function(b){var e=this;if(e.options=a.extend({},h,b),e.objectItems&&(e.options.freeInput=!1),c(e.options,"itemValue"),c(e.options,"itemText"),d(e.options,"tagClass"),e.options.typeahead){var i=e.options.typeahead||{};d(i,"source"),e.$input.typeahead(a.extend({},i,{source:function(b,c){function d(a){for(var b=[],d=0;d<a.length;d++){var g=e.options.itemText(a[d]);f[g]=a[d],b.push(g)}c(b)}this.map={};var f=this.map,g=i.source(b);a.isFunction(g.success)?g.success(d):a.isFunction(g.then)?g.then(d):a.when(g).then(d)},updater:function(a){return e.add(this.map[a]),this.map[a]},matcher:function(a){return-1!==a.toLowerCase().indexOf(this.query.trim().toLowerCase())},sorter:function(a){return a.sort()},highlighter:function(a){var b=new RegExp("("+this.query+")","gi");return a.replace(b,"<strong>$1</strong>")}}))}if(e.options.typeaheadjs){var j=null,k={},l=e.options.typeaheadjs;a.isArray(l)?(j=l[0],k=l[1]):k=l,e.$input.typeahead(j,k).on("typeahead:selected",a.proxy(function(a,b){k.valueKey?e.add(b[k.valueKey]):e.add(b),e.$input.typeahead("val","")},e))}e.$container.on("click",a.proxy(function(a){e.$element.attr("disabled")||e.$input.removeAttr("disabled"),e.$input.focus()},e)),e.options.addOnBlur&&e.options.freeInput&&e.$input.on("focusout",a.proxy(function(b){0===a(".typeahead, .twitter-typeahead",e.$container).length&&(e.add(e.$input.val()),e.$input.val(""))},e)),e.$container.on("keydown","input",a.proxy(function(b){var c=a(b.target),d=e.findInputWrapper();if(e.$element.attr("disabled"))return void e.$input.attr("disabled","disabled");switch(b.which){case 8:if(0===f(c[0])){var g=d.prev();g.length&&e.remove(g.data("item"))}break;case 46:if(0===f(c[0])){var h=d.next();h.length&&e.remove(h.data("item"))}break;case 37:var i=d.prev();0===c.val().length&&i[0]&&(i.before(d),c.focus());break;case 39:var j=d.next();0===c.val().length&&j[0]&&(j.after(d),c.focus())}var k=c.val().length;Math.ceil(k/5);c.attr("size",Math.max(this.inputSize,c.val().length))},e)),e.$container.on("keypress","input",a.proxy(function(b){var c=a(b.target);if(e.$element.attr("disabled"))return void e.$input.attr("disabled","disabled");var d=c.val(),f=e.options.maxChars&&d.length>=e.options.maxChars;e.options.freeInput&&(g(b,e.options.confirmKeys)||f)&&(0!==d.length&&(e.add(f?d.substr(0,e.options.maxChars):d),c.val("")),e.options.cancelConfirmKeysOnEmpty===!1&&b.preventDefault());var h=c.val().length;Math.ceil(h/5);c.attr("size",Math.max(this.inputSize,c.val().length))},e)),e.$container.on("click","[data-role=remove]",a.proxy(function(b){e.$element.attr("disabled")||e.remove(a(b.target).closest(".tag").data("item"))},e)),e.options.itemValue===h.itemValue&&("INPUT"===e.$element[0].tagName?e.add(e.$element.val()):a("option",e.$element).each(function(){e.add(a(this).attr("value"),!0)}))},destroy:function(){var a=this;a.$container.off("keypress","input"),a.$container.off("click","[role=remove]"),a.$container.remove(),a.$element.removeData("tagsinput"),a.$element.show()},focus:function(){this.$input.focus()},input:function(){return this.$input},findInputWrapper:function(){for(var b=this.$input[0],c=this.$container[0];b&&b.parentNode!==c;)b=b.parentNode;return a(b)}},a.fn.tagsinput=function(c,d,e){var f=[];return this.each(function(){var g=a(this).data("tagsinput");if(g)if(c||d){if(void 0!==g[c]){if(3===g[c].length&&void 0!==e)var h=g[c](d,null,e);else var h=g[c](d);void 0!==h&&f.push(h)}}else f.push(g);else g=new b(this,c),a(this).data("tagsinput",g),f.push(g),"SELECT"===this.tagName&&a("option",a(this)).attr("selected","selected"),a(this).val(a(this).val())}),"string"==typeof c?f.length>1?f:f[0]:f},a.fn.tagsinput.Constructor=b;var i=a("<div />");a(function(){a("input[data-role=tagsinput], select[multiple][data-role=tagsinput]").tagsinput()})}(window.jQuery);
//# sourceMappingURL=bootstrap-tagsinput.min.js.map

/***/ }),
/* 52 */
/***/ (function(module, exports) {

if("undefined"==typeof brutusin)window.brutusin=new Object;else if("object"!=typeof brutusin)throw"brutusin global variable already exists";!function(){String.prototype.startsWith||(String.prototype.startsWith=function(e,t){return t=t||0,this.indexOf(e,t)===t}),String.prototype.endsWith||(String.prototype.endsWith=function(e,t){var r=this.toString();(void 0===t||t>r.length)&&(t=r.length),t-=e.length;var n=r.indexOf(e,t);return-1!==n&&n===t}),String.prototype.includes||(String.prototype.includes=function(){"use strict";return-1!==String.prototype.indexOf.apply(this,arguments)}),String.prototype.format||(String.prototype.format=function(){for(var e=this,t=0;t<arguments.length;t++){var r=new RegExp("\\{"+t+"\\}","gi");e=e.replace(r,arguments[t])}return e});var BrutusinForms=new Object;BrutusinForms.messages={validationError:"Validation error",required:"This field is **required**",invalidValue:"Invalid field value",addpropNameExistent:"This property is already present in the object",addpropNameRequired:"A name is required",minItems:"At least `{0}` items are required",maxItems:"At most `{0}` items are allowed",pattern:"Value does not match pattern: `{0}`",minLength:"Value must be **at least** `{0}` characters long",maxLength:"Value must be **at most** `{0}` characters long",multipleOf:"Value must be **multiple of** `{0}`",minimum:"Value must be **greater or equal than** `{0}`",exclusiveMinimum:"Value must be **greater than** `{0}`",maximum:"Value must be **lower or equal than** `{0}`",exclusiveMaximum:"Value must be **lower than** `{0}`",minProperties:"At least `{0}` properties are required",maxProperties:"At most `{0}` properties are allowed",uniqueItems:"Array items must be unique",addItem:"Add item","true":"True","false":"False"},BrutusinForms.decorators=new Array,BrutusinForms.addDecorator=function(e){BrutusinForms.decorators[BrutusinForms.decorators.length]=e},BrutusinForms.onResolutionStarted=function(e){},BrutusinForms.onResolutionFinished=function(e){},BrutusinForms.onValidationError=function(e,t){e.focus(),e.className.includes(" error")||(e.className+=" error"),alert(t)},BrutusinForms.onValidationSuccess=function(e){e.className=e.className.replace(" error","")},BrutusinForms.postRender=null,BrutusinForms.instances=new Array,BrutusinForms.create=function(schema){function validateDepencyMapIsAcyclic(){function e(t,r,n){if(r.hasOwnProperty(n))return void(error="Schema dependency graph has cycles");if(r[n]=null,!t.hasOwnProperty(n)){t[n]=null;var a=dependencyMap[n];if(a)for(var i=0;i<a.length;i++)e(t,r,a[i]);delete r[n]}}var t=new Object;for(var r in dependencyMap)t.hasOwnProperty(r)||e(t,new Object,r)}function appendChild(e,t,r){e.appendChild(t);for(var n=0;n<BrutusinForms.decorators.length;n++)BrutusinForms.decorators[n](t,r)}function createPseudoSchema(e){var t=new Object;for(var r in e)"items"!==r&&"properties"!==r&&"additionalProperties"!==r&&("pattern"===r?t[r]=new RegExp(e[r]):t[r]=e[r]);return t}function getDefinition(e){var t=e.split("/"),r=root;for(var n in t)"0"!==n&&(r=r[t[n]]);return r}function containsStr(e,t){for(var r=0;r<e.length;r++)if(e[r]==t)return!0;return!1}function renameRequiredPropeties(e){if(e)if(e.hasOwnProperty("oneOf"))for(var t in e.oneOf)renameRequiredPropeties(e.oneOf[t]);else if(e.hasOwnProperty("$ref")){var r=getDefinition(e.$ref);renameRequiredPropeties(r)}else if("object"===e.type){if(e.properties){e.hasOwnProperty("required")&&Array.isArray(e.required)&&(e.requiredProperties=e.required,delete e.required);for(var n in e.properties)renameRequiredPropeties(e.properties[n])}if(e.patternProperties)for(var a in e.patternProperties){var i=e.patternProperties[a];(i.hasOwnProperty("type")||i.hasOwnProperty("$ref")||i.hasOwnProperty("oneOf"))&&renameRequiredPropeties(e.patternProperties[a])}e.additionalProperties&&(e.additionalProperties.hasOwnProperty("type")||e.additionalProperties.hasOwnProperty("oneOf"))&&renameRequiredPropeties(e.additionalProperties)}else"array"===e.type&&renameRequiredPropeties(e.items)}function populateSchemaMap(e,t){var r=createPseudoSchema(t);if(r.$id=e,schemaMap[e]=r,t){if(t.hasOwnProperty("oneOf")){r.oneOf=new Array,r.type="oneOf";for(var n in t.oneOf){var a=e+"."+n;r.oneOf[n]=a,populateSchemaMap(a,t.oneOf[n])}}else if(t.hasOwnProperty("$ref")){var i=getDefinition(t.$ref);if(i){if(t.hasOwnProperty("title")||t.hasOwnProperty("description")){var o={};for(var s in i)o[s]=i[s];t.hasOwnProperty("title")&&(o.title=t.title),t.hasOwnProperty("description")&&(o.description=t.description),i=o}populateSchemaMap(e,i)}}else if("object"===t.type){if(t.properties){r.properties=new Object;for(var s in t.properties){var a=e+"."+s;r.properties[s]=a;var u=t.properties[s];t.requiredProperties&&(containsStr(t.requiredProperties,s)?u.required=!0:u.required=!1),populateSchemaMap(a,u)}}if(t.patternProperties){r.patternProperties=new Object;for(var l in t.patternProperties){var d=e+"["+l+"]";r.patternProperties[l]=d;var p=t.patternProperties[l];p.hasOwnProperty("type")||p.hasOwnProperty("$ref")||p.hasOwnProperty("oneOf")?populateSchemaMap(d,t.patternProperties[l]):populateSchemaMap(d,SCHEMA_ANY)}}if(t.additionalProperties){var a=e+"[*]";r.additionalProperties=a,t.additionalProperties.hasOwnProperty("type")||t.additionalProperties.hasOwnProperty("oneOf")?populateSchemaMap(a,t.additionalProperties):populateSchemaMap(a,SCHEMA_ANY)}}else"array"===t.type&&(r.items=e+"[#]",populateSchemaMap(r.items,t.items));if(t.hasOwnProperty("dependsOn")){null===t.dependsOn&&(t.dependsOn=["$"]);for(var c=new Array,n=0;n<t.dependsOn.length;n++)t.dependsOn[n]?t.dependsOn[n].startsWith("$")?c[n]=t.dependsOn[n]:e.endsWith("]")?c[n]=e+"."+t.dependsOn[n]:c[n]=e.substring(0,e.lastIndexOf("."))+"."+t.dependsOn[n]:c[n]="$";schemaMap[e].dependsOn=c;for(var n=0;n<c.length;n++){var m=dependencyMap[c[n]];m||(m=new Array,dependencyMap[c[n]]=m),m[m.length]=e}}}}function renderTitle(e,t,r){if(e&&t){var n=document.createElement("label");"any"!==r.type&&"object"!==r.type&&"array"!==r.type&&(n.htmlFor=getInputId());var a=document.createTextNode(t+":");if(appendChild(n,a,r),r.description&&(n.title=r.description),r.required){var i=document.createElement("sup");appendChild(i,document.createTextNode("*"),r),appendChild(n,i,r),n.className="required"}appendChild(e,n,r)}}function getInputId(){return formId+"_"+inputCounter}function validate(e){var t=!0;if(e.hasOwnProperty("getValidationError")){var r=e.getValidationError();r?(BrutusinForms.onValidationError(e,r),t=!1):BrutusinForms.onValidationSuccess(e)}if(e.childNodes)for(var n=0;n<e.childNodes.length;n++)validate(e.childNodes[n])||(t=!1);return t}function clear(e){if(e)for(;e.firstChild;)e.removeChild(e.firstChild)}function render(e,t,r,n,a,i){var o=getSchemaId(r),s=getSchema(o);renderInfoMap[o]=new Object,renderInfoMap[o].titleContainer=e,renderInfoMap[o].container=t,renderInfoMap[o].parentObject=n,renderInfoMap[o].propertyProvider=a,renderInfoMap[o].value=i,clear(e),clear(t);var u=renderers[s.type];if(u&&!s.dependsOn)s.title?renderTitle(e,s.title,s):a&&renderTitle(e,a.getValue(),s),i||(i="undefined"!=typeof initialValue&&null!==initialValue?getInitialValue(r):s["default"]),u(t,r,n,a,i);else if(s.$ref&&obj.schemaResolver){var l=function(e){if(e&&e.hasOwnProperty(r)&&JSON.stringify(schemaMap[r])!==JSON.stringify(e[r])){cleanSchemaMap(r),cleanData(r),populateSchemaMap(r,e[r]);var t=renderInfoMap[r];t&&render(t.titleContainer,t.container,r,t.parentObject,t.propertyProvider,t.value)}BrutusinForms.onResolutionFinished(n)};BrutusinForms.onResolutionStarted(n),obj.schemaResolver([r],obj.getData(),l)}}function createPropertyProvider(e,t){var r=new Object;return r.getValue=e,r.onchange=t,r}function getInitialValue(id){var ret;try{eval("ret = initialValue"+id.substring(1))}catch(e){ret=null}return ret}function getValue(schema,input){if("function"==typeof input.getValue)return input.getValue();var value;return value="select"===input.tagName.toLowerCase()?input.options[input.selectedIndex].value:input.value,""===value?null:("integer"===schema.type?(value=parseInt(value),isFinite(value)||(value=null)):"number"===schema.type?(value=parseFloat(value),isFinite(value)||(value=null)):"boolean"===schema.type?"input"===input.tagName.toLowerCase()?(value=input.checked,value||(value=!1)):"select"===input.tagName.toLowerCase()&&(value="true"===input.value?!0:"false"===input.value?!1:null):"any"===schema.type&&value&&eval("value="+value),value)}function getSchemaId(e){return e.replace(/\["[^"]*"\]/g,"[*]").replace(/\[\d*\]/g,"[#]")}function getParentSchemaId(e){return e.substring(0,e.lastIndexOf("."))}function getSchema(e){return schemaMap[e]}function cleanSchemaMap(e){for(var t in schemaMap)e.startsWith(t)&&delete schemaMap[t]}function cleanData(e){var t=new Expression(e);t.visit(data,function(e,t,r){delete t[r]})}function onDependencyChanged(e,t){var r=dependencyMap[e];if(r&&obj.schemaResolver){var n=function(e){if(e)for(var r in e)if(JSON.stringify(schemaMap[r])!==JSON.stringify(e[r])){cleanSchemaMap(r),cleanData(r),populateSchemaMap(r,e[r]);var n=renderInfoMap[r];n&&render(n.titleContainer,n.container,r,n.parentObject,n.propertyProvider,n.value)}BrutusinForms.onResolutionFinished(t)};BrutusinForms.onResolutionStarted(t),obj.schemaResolver(r,obj.getData(),n)}}function Expression(e){function t(e){if(null===e)return null;for(var t=new Array,r=null,n=0,a=0;a<e.length;a++)'"'===e.charAt(a)?null===r?r='"':'"'===r&&(r=null,t[t.length]=e.substring(n,a+1).trim(),n=a+1):"'"===e.charAt(a)?null===r?r="'":"'"===r&&(r=null,t[t.length]=e.substring(n,a+1).trim(),n=a+1):"["===e.charAt(a)?null===r&&(n!==a&&(t[t.length]=e.substring(n,a).trim()),t[t.length]="[",n=a+1):"]"===e.charAt(a)?null===r&&(n!==a&&(t[t.length]=e.substring(n,a).trim()),t[t.length]="]",n=a+1):"."===e.charAt(a)?null===r&&(n!==a&&(t[t.length]=e.substring(n,a).trim()),n=a+1):a===e.length-1&&(t[t.length]=e.substring(n,a+1).trim());return t}(null===e||0===e.length||"."===e)&&(e="$");for(var r=new Array,n=t(e),a=!1,i=0,o="",s=0;s<n.length;s++){var u=n[s];if("["===u){if(a)throw"Error parsing expression '"+e+"': Nested [ found";a=!0,i=0,o+=u}else if("]"===u){if(!a)throw"Error parsing expression '"+e+"': Unbalanced ] found";a=!1,o+=u,r[r.length]=o,o=""}else if(a){if(i>0)throw"Error parsing expression '"+e+"': Multiple tokens found inside a bracket";o+=u,i++}else r[r.length]=u;if(s===n.length-1&&a)throw"Error parsing expression '"+e+"': Unbalanced [ found"}this.exp=e,this.queue=r,this.visit=function(e,t){function r(e,n,a,i,o){if(null!=a){var s=n.shift();if("$"===s){e="$";var s=n.shift()}if(s)if(Array.isArray(a)){if(!s.startsWith("["))throw"Node '"+e+"' is of type array";var u=s.substring(1,s.length-1);if(u.equals("#"))for(var l=0;l<a.length;l++){var d=a[l];r(e+s,n.slice(0),d,a,l),r(e+"["+l+"]",n.slice(0),d,a,l)}else if("$"===u){var d=a[a.length-1];r(e+s,n.slice(0),d,a,a.length-1)}else{var p=parseInt(u);if(isNaN(p))throw"Element '"+u+"' of node '"+e+"' is not an integer, or the '$' last element symbol,  or the wilcard symbol '#'";if(0>p)throw"Element '"+u+"' of node '"+e+"' is lower than zero";var d=a[p];r(e+s,n.slice(0),d,a,p)}}else{if("object"!=typeof a)throw"boolean"==typeof a||"number"==typeof a||"string"==typeof a?"Node is leaf but still are tokens remaining: "+s:"Node type '"+typeof a+"' not supported for index field '"+e+"'";if("[*]"===s)for(var c in a){var d=a[c];r(e+s,n.slice(0),d,a,c),r(e+'["'+c+'"]',n.slice(0),d,a,c)}else{var d;if(s.startsWith("[")){var u=s.substring(1,s.length-1);if(!u.startsWith('"')&&!u.startsWith("'"))throw"Element '"+u+"' of node '"+e+"' must be a string expression or wilcard '*'";u=u.substring(1,u.length()-1),e+=s,d=a[u]}else e=e.length>0?e+"."+s:s,d=a[s];r(e,n,d,a,s)}}else t(a,i,o)}}r(this.exp,this.queue,e)}}var SCHEMA_ANY={type:"any"},obj=new Object,schemaMap=new Object,dependencyMap=new Object,renderInfoMap=new Object,container,data,error,initialValue,inputCounter=0,root=schema,formId="BrutusinForms#"+BrutusinForms.instances.length;renameRequiredPropeties(schema),populateSchemaMap("$",schema),validateDepencyMapIsAcyclic();var renderers=new Object;return renderers.integer=function(e,t,r,n,a){renderers.string(e,t,r,n,a)},renderers.number=function(e,t,r,n,a){renderers.string(e,t,r,n,a)},renderers.any=function(e,t,r,n,a){renderers.string(e,t,r,n,a)},renderers.string=function(e,t,r,n,a){var i,o=getSchemaId(t),s=getParentSchemaId(o),u=getSchema(o),l=getSchema(s);if("any"===u.type)i=document.createElement("textarea"),a&&(i.value=JSON.stringify(a,null,4),u.readOnly&&(i.disabled=!0));else if(u.media)i=document.createElement("input"),i.type="file",appendChild(i,d,u);else if(u["enum"]){if(i=document.createElement("select"),!u.required){var d=document.createElement("option"),p=document.createTextNode("");d.value="",appendChild(d,p,u),appendChild(i,d,u)}for(var c=0,m=0;m<u["enum"].length;m++){var d=document.createElement("option"),p=document.createTextNode(u["enum"][m]);d.value=u["enum"][m],appendChild(d,p,u),appendChild(i,d,u),a&&u["enum"][m]===a&&(c=m,u.required||c++,u.readOnly&&(i.disabled=!0))}1===u["enum"].length?i.selectedIndex=1:i.selectedIndex=c}else{if(i=document.createElement("input"),"integer"===u.type||"number"===u.type)i.type="number",i.step=u.step?""+u.step:"any","number"!=typeof a&&(a=null);else if("date-time"===u.format)try{i.type="datetime-local"}catch(f){i.type="text"}else"email"===u.format?i.type="email":"text"===u.format?i=document.createElement("textarea"):i.type="text";null!==a&&"undefined"!=typeof a&&(i.value=a,u.readOnly&&(i.disabled=!0))}return i.schema=o,i.setAttribute("autocorrect","off"),i.getValidationError=function(){try{var e=getValue(u,i);if(null===e){if(u.required){if(!l||"object"!==l.type)return BrutusinForms.messages.required;if(l.required)return BrutusinForms.messages.required;for(var t in r)if(null!==r[t])return BrutusinForms.messages.required}}else{if(u.pattern&&!u.pattern.test(e))return BrutusinForms.messages.pattern.format(u.pattern.source);if(u.minLength&&(!e||u.minLength>e.length))return BrutusinForms.messages.minLength.format(u.minLength);if(u.maxLength&&e&&u.maxLength<e.length)return BrutusinForms.messages.maxLength.format(u.maxLength)}if(null!==e&&!isNaN(e)){if(u.multipleOf&&e%u.multipleOf!==0)return BrutusinForms.messages.multipleOf.format(u.multipleOf);if(u.hasOwnProperty("maximum")){if(u.exclusiveMaximum&&e>=u.maximum)return BrutusinForms.messages.exclusiveMaximum.format(u.maximum);if(!u.exclusiveMaximum&&e>u.maximum)return BrutusinForms.messages.maximum.format(u.maximum)}if(u.hasOwnProperty("minimum")){if(u.exclusiveMinimum&&e<=u.minimum)return BrutusinForms.messages.exclusiveMinimum.format(u.minimum);if(!u.exclusiveMinimum&&e<u.minimum)return BrutusinForms.messages.minimum.format(u.minimum)}}}catch(n){return BrutusinForms.messages.invalidValue}},i.onchange=function(){var e;try{e=getValue(u,i)}catch(t){e=null}r?r[n.getValue()]=e:data=e,onDependencyChanged(o,i)},u.description&&(i.title=u.description,i.placeholder=u.description),i.onchange(),i.id=getInputId(),inputCounter++,appendChild(e,i,u),r},renderers["boolean"]=function(e,t,r,n,a){var i,o=getSchemaId(t),s=getSchema(o);if(s.required)i=document.createElement("input"),i.type="checkbox",a===!0&&(i.checked=!0);else{i=document.createElement("select");var u=document.createElement("option"),l=document.createTextNode("");l.value="",appendChild(u,l,s),appendChild(i,u,s);var d=document.createElement("option"),p=document.createTextNode(BrutusinForms.messages["true"]);d.value="true",appendChild(d,p,s),appendChild(i,d,s);var c=document.createElement("option"),m=document.createTextNode(BrutusinForms.messages["false"]);c.value="false",appendChild(c,m,s),appendChild(i,c,s),a===!0?i.selectedIndex=1:a===!1&&(i.selectedIndex=2)}i.onchange=function(){r?r[n.getValue()]=getValue(s,i):data=getValue(s,i),onDependencyChanged(o,i)},i.schema=o,i.id=getInputId(),inputCounter++,s.description&&(i.title=s.description),i.onchange(),appendChild(e,i,s)},renderers.oneOf=function(e,t,r,n,a){var i=getSchemaId(t),o=getSchema(i),s=document.createElement("select"),u=document.createElement("div");u.innerHTML="",s.type="select",s.schema=i;var l=document.createElement("option");l.value=null,appendChild(s,l,o);for(var d=0;d<o.oneOf.length;d++){var p=document.createElement("option"),c=i+"."+d,m=getSchema(c),f=document.createTextNode(m.title);if(p.value=o.oneOf[d],appendChild(p,f,o),appendChild(s,p,o),void 0!==a&&null!==a&&(o.readOnly&&(s.disabled=!0),a.hasOwnProperty("type")&&m.hasOwnProperty("properties")&&m.properties.hasOwnProperty("type"))){var h=getSchema(m.properties.type);a.type===h["enum"][0]&&(s.selectedIndex=d+1,render(null,u,t+"."+(s.selectedIndex-1),r,n,a))}}s.onchange=function(){render(null,u,t+"."+(s.selectedIndex-1),r,n,a)},appendChild(e,s,o),appendChild(e,u,o)},renderers.object=function(e,t,r,n,a){function i(e){var t=new Object;return t.getValue=function(){return e},t.onchange=function(e){},t}function o(e,t,r,n,a,i){var o=getSchemaId(r),s=getSchema(o),u=t.tBodies[0],l=document.createElement("tr"),d=document.createElement("td");d.className="add-prop-name";var p=document.createElement("table"),c=document.createElement("tr"),m=document.createElement("td"),f=document.createElement("td"),h="$"+Object.keys(e).length+"$",v=document.createElement("td");v.className="prop-value";var g=document.createElement("input");g.type="text";var y;i&&(y=RegExp(i)),g.getValidationError=function(){return g.previousValue!==g.value&&e.hasOwnProperty(g.value)?BrutusinForms.messages.addpropNameExistent:g.value?void 0:BrutusinForms.messages.addpropNameRequired};var b=createPropertyProvider(function(){if(g.value){if(!y)return g.value;if(-1!==g.value.search(y))return g.value}return h},function(t){b.getValue()!==t&&(t&&e.hasOwnProperty(t)||(t=h),(e.hasOwnProperty(t)||y&&-1===b.getValue().search(y))&&(e[b.getValue()]=e[t],delete e[t]))});g.onblur=function(){if(g.previousValue!==g.value){for(var t=g.value,r=1;g.previousValue!==t&&e.hasOwnProperty(t);)t=g.value+"("+r+")",r++;return g.value=t,b.onchange(g.previousValue),void(g.previousValue=g.value)}};var P=document.createElement("button");P.setAttribute("type","button"),P.className="remove",appendChild(P,document.createTextNode("x"),s),P.onclick=function(){delete e[g.value],t.deleteRow(l.rowIndex),g.value=null,b.onchange(g.previousValue)},appendChild(m,g,s),appendChild(f,P,s),appendChild(c,m,s),appendChild(c,f,s),appendChild(p,c,s),appendChild(d,p,s),void 0!==i&&(g.placeholder=i),appendChild(l,d,s),appendChild(l,v,s),appendChild(u,l,s),appendChild(t,u,s),render(null,v,r,e,b,a),n&&(g.value=n,g.onblur())}var s=getSchemaId(t),u=getSchema(s),l=new Object;r?(n.getValue()||0===n.getValue())&&(r[n.getValue()]=l):data=l;var d=document.createElement("table");d.className="object";var p=document.createElement("tbody");appendChild(d,p,u);var c=0;if(u.hasOwnProperty("properties")){c=u.properties.length;for(var m in u.properties){var f=document.createElement("tr"),h=document.createElement("td");h.className="prop-name";var v=t+"."+m,g=getSchema(getSchemaId(v)),y=document.createElement("td");y.className="prop-value",appendChild(p,f,g),appendChild(f,h,g),appendChild(f,y,g);var b=i(m),P=null;a&&(P=a[m]),render(h,y,v,l,b,P)}}var O=[];if(u.patternProperties||u.additionalProperties){var w=document.createElement("div");if(appendChild(w,d,u),u.patternProperties)for(var x in u.patternProperties){var C=u.patternProperties[x],E=document.createElement("div");E.className="add-pattern-div";var S=document.createElement("button");if(S.setAttribute("type","button"),S.pattern=x,S.id=t+"["+x+"]",S.onclick=function(){o(l,d,this.id,void 0,void 0,this.pattern)},(u.maxProperties||u.minProperties)&&(S.getValidationError=function(){return u.minProperties&&c+d.rows.length<u.minProperties?BrutusinForms.messages.minProperties.format(u.minProperties):u.maxProperties&&c+d.rows.length>u.maxProperties?BrutusinForms.messages.maxProperties.format(u.maxProperties):void 0}),C.description&&(S.title=C.description),appendChild(S,document.createTextNode("Add "+x),u),appendChild(E,S,u),a)for(var I in a)if(!u.properties||!u.properties.hasOwnProperty(I)){var N=RegExp(x);-1!==I.search(N)&&-1===O.indexOf(I)&&(o(l,d,t+"["+x+"]",I,a[I],x),O.push(I))}appendChild(w,E,u)}if(u.additionalProperties){var F=getSchema(u.additionalProperties),S=document.createElement("button");if(S.setAttribute("type","button"),S.onclick=function(){o(l,d,t+"[*]",void 0)},(u.maxProperties||u.minProperties)&&(S.getValidationError=function(){return u.minProperties&&c+d.rows.length<u.minProperties?BrutusinForms.messages.minProperties.format(u.minProperties):u.maxProperties&&c+d.rows.length>u.maxProperties?BrutusinForms.messages.maxProperties.format(u.maxProperties):void 0}),F.description&&(S.title=F.description),appendChild(S,document.createTextNode("Add"),u),appendChild(w,S,u),a)for(var I in a)u.properties&&u.properties.hasOwnProperty(I)||-1===O.indexOf(I)&&o(l,d,t+'["'+m+'"]',I,a[I])}appendChild(e,w,u)}else appendChild(e,d,u)},renderers.array=function(e,t,r,n,a){function i(e,t,r,n,a){var i=getSchemaId(r),o=getSchema(i),s=document.createElement("tbody"),u=document.createElement("tr");u.className="item";var l=document.createElement("td");l.className="item-index";var d=document.createElement("td");d.className="item-action";var p=document.createElement("td");p.className="item-value";var c=document.createElement("button");c.setAttribute("type","button"),c.className="remove",a===!0&&(c.disabled=!0),appendChild(c,document.createTextNode("x"),o);var m=function(){for(var e=0;e<t.rows.length;e++){var r=t.rows[e];r.cells[0].innerHTML=e+1}};c.onclick=function(){e.splice(u.rowIndex,1),t.deleteRow(u.rowIndex),m()},appendChild(d,c,o);var f=document.createTextNode(t.rows.length+1);appendChild(l,f,o),appendChild(u,l,o),appendChild(u,d,o),appendChild(u,p,o),appendChild(s,u,o),appendChild(t,s,o);var h=createPropertyProvider(function(){return u.rowIndex});render(null,p,r,e,h,n)}var o=getSchemaId(t),s=getSchema(o),u=getSchema(s.items),l=new Array;r?(n.getValue()||0===n.getValue())&&(r[n.getValue()]=l):data=l,n&&(n.onchange=function(e){delete r[e],r[n.getValue()]=l});var d=document.createElement("div"),p=document.createElement("table");p.className="array",appendChild(d,p,s),appendChild(e,d,s);var c=document.createElement("button");if(s.readOnly&&(c.disabled=!0),c.setAttribute("type","button"),c.getValidationError=function(){if(s.minItems&&s.minItems>p.rows.length)return BrutusinForms.messages.minItems.format(s.minItems);if(s.maxItems&&s.maxItems<p.rows.length)return BrutusinForms.messages.maxItems.format(s.maxItems);if(s.uniqueItems)for(var e=0;e<l.length;e++)for(var t=e+1;t<l.length;t++)if(JSON.stringify(l[e])===JSON.stringify(l[t]))return BrutusinForms.messages.uniqueItems},c.onclick=function(){i(l,p,t+"[#]",null)},u.description&&(c.title=u.description),appendChild(c,document.createTextNode(BrutusinForms.messages.addItem),s),appendChild(d,p,s),appendChild(d,c,s),a&&a instanceof Array)for(var m=0;m<a.length;m++)i(l,p,t+"["+m+"]",a[m],s.readOnly);appendChild(e,d,s)},obj.render=function(e,t){container=e,initialValue=t;var r=document.createElement("form");if(r.className="brutusin-form",r.onsubmit=function(e){return!1},container?appendChild(container,r):appendChild(document.body,r),error){var n=document.createElement("label"),a=document.createTextNode(error);appendChild(n,a),n.className="error-message",appendChild(r,n)}else render(null,r,"$",null,null);dependencyMap.hasOwnProperty("$")&&onDependencyChanged("$"),BrutusinForms.postRender&&BrutusinForms.postRender(obj)},obj.getRenderingContainer=function(){return container},obj.validate=function(){return validate(container)},obj.getData=function(){function e(t,r){if(null===s&&(s=SCHEMA_ANY),r.$ref&&(r=getDefinition(r.$ref)),t instanceof Array){if(0===t.length)return null;for(var n=new Array,a=0;a<t.length;a++)n[a]=e(t[a],r.items);return n}if(""===t)return null;if(t instanceof Object){var n=new Object,i=!1;for(var o in t)if(!o.startsWith("$")||!o.endsWith("$")){var s=null;if(r.hasOwnProperty("properties")&&r.properties.hasOwnProperty(o)&&(s=r.properties[o]),null===s&&r.hasOwnProperty("additionalProperties")&&"object"==typeof r.additionalProperties&&(s=r.additionalProperties),null===s&&r.hasOwnProperty("patternProperties"))for(var u in r.patternProperties){var l=RegExp(u);if(-1!==o.search(l)){s=r.patternProperties[u];break}}var d=e(t[o],s);null!==d&&(n[o]=d,i=!0)}return i||r.required?n:null}return t}return container?e(data,schema):null},BrutusinForms.instances[BrutusinForms.instances.length]=obj,obj},brutusin["json-forms"]=BrutusinForms}();

/***/ }),
/* 53 */
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin

/***/ }),
/* 54 */
/***/ (function(module, exports) {

module.exports = function(module) {
	if(!module.webpackPolyfill) {
		module.deprecate = function() {};
		module.paths = [];
		// module.parent = undefined by default
		if(!module.children) module.children = [];
		Object.defineProperty(module, "loaded", {
			enumerable: true,
			get: function() {
				return module.l;
			}
		});
		Object.defineProperty(module, "id", {
			enumerable: true,
			get: function() {
				return module.i;
			}
		});
		module.webpackPolyfill = 1;
	}
	return module;
};


/***/ }),
/* 55 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony export (immutable) */ __webpack_exports__["Headers"] = Headers;
/* harmony export (immutable) */ __webpack_exports__["Request"] = Request;
/* harmony export (immutable) */ __webpack_exports__["Response"] = Response;
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DOMException", function() { return DOMException; });
/* harmony export (immutable) */ __webpack_exports__["fetch"] = fetch;
var support = {
  searchParams: 'URLSearchParams' in self,
  iterable: 'Symbol' in self && 'iterator' in Symbol,
  blob:
    'FileReader' in self &&
    'Blob' in self &&
    (function() {
      try {
        new Blob()
        return true
      } catch (e) {
        return false
      }
    })(),
  formData: 'FormData' in self,
  arrayBuffer: 'ArrayBuffer' in self
}

function isDataView(obj) {
  return obj && DataView.prototype.isPrototypeOf(obj)
}

if (support.arrayBuffer) {
  var viewClasses = [
    '[object Int8Array]',
    '[object Uint8Array]',
    '[object Uint8ClampedArray]',
    '[object Int16Array]',
    '[object Uint16Array]',
    '[object Int32Array]',
    '[object Uint32Array]',
    '[object Float32Array]',
    '[object Float64Array]'
  ]

  var isArrayBufferView =
    ArrayBuffer.isView ||
    function(obj) {
      return obj && viewClasses.indexOf(Object.prototype.toString.call(obj)) > -1
    }
}

function normalizeName(name) {
  if (typeof name !== 'string') {
    name = String(name)
  }
  if (/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(name)) {
    throw new TypeError('Invalid character in header field name')
  }
  return name.toLowerCase()
}

function normalizeValue(value) {
  if (typeof value !== 'string') {
    value = String(value)
  }
  return value
}

// Build a destructive iterator for the value list
function iteratorFor(items) {
  var iterator = {
    next: function() {
      var value = items.shift()
      return {done: value === undefined, value: value}
    }
  }

  if (support.iterable) {
    iterator[Symbol.iterator] = function() {
      return iterator
    }
  }

  return iterator
}

function Headers(headers) {
  this.map = {}

  if (headers instanceof Headers) {
    headers.forEach(function(value, name) {
      this.append(name, value)
    }, this)
  } else if (Array.isArray(headers)) {
    headers.forEach(function(header) {
      this.append(header[0], header[1])
    }, this)
  } else if (headers) {
    Object.getOwnPropertyNames(headers).forEach(function(name) {
      this.append(name, headers[name])
    }, this)
  }
}

Headers.prototype.append = function(name, value) {
  name = normalizeName(name)
  value = normalizeValue(value)
  var oldValue = this.map[name]
  this.map[name] = oldValue ? oldValue + ', ' + value : value
}

Headers.prototype['delete'] = function(name) {
  delete this.map[normalizeName(name)]
}

Headers.prototype.get = function(name) {
  name = normalizeName(name)
  return this.has(name) ? this.map[name] : null
}

Headers.prototype.has = function(name) {
  return this.map.hasOwnProperty(normalizeName(name))
}

Headers.prototype.set = function(name, value) {
  this.map[normalizeName(name)] = normalizeValue(value)
}

Headers.prototype.forEach = function(callback, thisArg) {
  for (var name in this.map) {
    if (this.map.hasOwnProperty(name)) {
      callback.call(thisArg, this.map[name], name, this)
    }
  }
}

Headers.prototype.keys = function() {
  var items = []
  this.forEach(function(value, name) {
    items.push(name)
  })
  return iteratorFor(items)
}

Headers.prototype.values = function() {
  var items = []
  this.forEach(function(value) {
    items.push(value)
  })
  return iteratorFor(items)
}

Headers.prototype.entries = function() {
  var items = []
  this.forEach(function(value, name) {
    items.push([name, value])
  })
  return iteratorFor(items)
}

if (support.iterable) {
  Headers.prototype[Symbol.iterator] = Headers.prototype.entries
}

function consumed(body) {
  if (body.bodyUsed) {
    return Promise.reject(new TypeError('Already read'))
  }
  body.bodyUsed = true
}

function fileReaderReady(reader) {
  return new Promise(function(resolve, reject) {
    reader.onload = function() {
      resolve(reader.result)
    }
    reader.onerror = function() {
      reject(reader.error)
    }
  })
}

function readBlobAsArrayBuffer(blob) {
  var reader = new FileReader()
  var promise = fileReaderReady(reader)
  reader.readAsArrayBuffer(blob)
  return promise
}

function readBlobAsText(blob) {
  var reader = new FileReader()
  var promise = fileReaderReady(reader)
  reader.readAsText(blob)
  return promise
}

function readArrayBufferAsText(buf) {
  var view = new Uint8Array(buf)
  var chars = new Array(view.length)

  for (var i = 0; i < view.length; i++) {
    chars[i] = String.fromCharCode(view[i])
  }
  return chars.join('')
}

function bufferClone(buf) {
  if (buf.slice) {
    return buf.slice(0)
  } else {
    var view = new Uint8Array(buf.byteLength)
    view.set(new Uint8Array(buf))
    return view.buffer
  }
}

function Body() {
  this.bodyUsed = false

  this._initBody = function(body) {
    this._bodyInit = body
    if (!body) {
      this._bodyText = ''
    } else if (typeof body === 'string') {
      this._bodyText = body
    } else if (support.blob && Blob.prototype.isPrototypeOf(body)) {
      this._bodyBlob = body
    } else if (support.formData && FormData.prototype.isPrototypeOf(body)) {
      this._bodyFormData = body
    } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {
      this._bodyText = body.toString()
    } else if (support.arrayBuffer && support.blob && isDataView(body)) {
      this._bodyArrayBuffer = bufferClone(body.buffer)
      // IE 10-11 can't handle a DataView body.
      this._bodyInit = new Blob([this._bodyArrayBuffer])
    } else if (support.arrayBuffer && (ArrayBuffer.prototype.isPrototypeOf(body) || isArrayBufferView(body))) {
      this._bodyArrayBuffer = bufferClone(body)
    } else {
      this._bodyText = body = Object.prototype.toString.call(body)
    }

    if (!this.headers.get('content-type')) {
      if (typeof body === 'string') {
        this.headers.set('content-type', 'text/plain;charset=UTF-8')
      } else if (this._bodyBlob && this._bodyBlob.type) {
        this.headers.set('content-type', this._bodyBlob.type)
      } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {
        this.headers.set('content-type', 'application/x-www-form-urlencoded;charset=UTF-8')
      }
    }
  }

  if (support.blob) {
    this.blob = function() {
      var rejected = consumed(this)
      if (rejected) {
        return rejected
      }

      if (this._bodyBlob) {
        return Promise.resolve(this._bodyBlob)
      } else if (this._bodyArrayBuffer) {
        return Promise.resolve(new Blob([this._bodyArrayBuffer]))
      } else if (this._bodyFormData) {
        throw new Error('could not read FormData body as blob')
      } else {
        return Promise.resolve(new Blob([this._bodyText]))
      }
    }

    this.arrayBuffer = function() {
      if (this._bodyArrayBuffer) {
        return consumed(this) || Promise.resolve(this._bodyArrayBuffer)
      } else {
        return this.blob().then(readBlobAsArrayBuffer)
      }
    }
  }

  this.text = function() {
    var rejected = consumed(this)
    if (rejected) {
      return rejected
    }

    if (this._bodyBlob) {
      return readBlobAsText(this._bodyBlob)
    } else if (this._bodyArrayBuffer) {
      return Promise.resolve(readArrayBufferAsText(this._bodyArrayBuffer))
    } else if (this._bodyFormData) {
      throw new Error('could not read FormData body as text')
    } else {
      return Promise.resolve(this._bodyText)
    }
  }

  if (support.formData) {
    this.formData = function() {
      return this.text().then(decode)
    }
  }

  this.json = function() {
    return this.text().then(JSON.parse)
  }

  return this
}

// HTTP methods whose capitalization should be normalized
var methods = ['DELETE', 'GET', 'HEAD', 'OPTIONS', 'POST', 'PUT']

function normalizeMethod(method) {
  var upcased = method.toUpperCase()
  return methods.indexOf(upcased) > -1 ? upcased : method
}

function Request(input, options) {
  options = options || {}
  var body = options.body

  if (input instanceof Request) {
    if (input.bodyUsed) {
      throw new TypeError('Already read')
    }
    this.url = input.url
    this.credentials = input.credentials
    if (!options.headers) {
      this.headers = new Headers(input.headers)
    }
    this.method = input.method
    this.mode = input.mode
    this.signal = input.signal
    if (!body && input._bodyInit != null) {
      body = input._bodyInit
      input.bodyUsed = true
    }
  } else {
    this.url = String(input)
  }

  this.credentials = options.credentials || this.credentials || 'same-origin'
  if (options.headers || !this.headers) {
    this.headers = new Headers(options.headers)
  }
  this.method = normalizeMethod(options.method || this.method || 'GET')
  this.mode = options.mode || this.mode || null
  this.signal = options.signal || this.signal
  this.referrer = null

  if ((this.method === 'GET' || this.method === 'HEAD') && body) {
    throw new TypeError('Body not allowed for GET or HEAD requests')
  }
  this._initBody(body)
}

Request.prototype.clone = function() {
  return new Request(this, {body: this._bodyInit})
}

function decode(body) {
  var form = new FormData()
  body
    .trim()
    .split('&')
    .forEach(function(bytes) {
      if (bytes) {
        var split = bytes.split('=')
        var name = split.shift().replace(/\+/g, ' ')
        var value = split.join('=').replace(/\+/g, ' ')
        form.append(decodeURIComponent(name), decodeURIComponent(value))
      }
    })
  return form
}

function parseHeaders(rawHeaders) {
  var headers = new Headers()
  // Replace instances of \r\n and \n followed by at least one space or horizontal tab with a space
  // https://tools.ietf.org/html/rfc7230#section-3.2
  var preProcessedHeaders = rawHeaders.replace(/\r?\n[\t ]+/g, ' ')
  preProcessedHeaders.split(/\r?\n/).forEach(function(line) {
    var parts = line.split(':')
    var key = parts.shift().trim()
    if (key) {
      var value = parts.join(':').trim()
      headers.append(key, value)
    }
  })
  return headers
}

Body.call(Request.prototype)

function Response(bodyInit, options) {
  if (!options) {
    options = {}
  }

  this.type = 'default'
  this.status = options.status === undefined ? 200 : options.status
  this.ok = this.status >= 200 && this.status < 300
  this.statusText = 'statusText' in options ? options.statusText : 'OK'
  this.headers = new Headers(options.headers)
  this.url = options.url || ''
  this._initBody(bodyInit)
}

Body.call(Response.prototype)

Response.prototype.clone = function() {
  return new Response(this._bodyInit, {
    status: this.status,
    statusText: this.statusText,
    headers: new Headers(this.headers),
    url: this.url
  })
}

Response.error = function() {
  var response = new Response(null, {status: 0, statusText: ''})
  response.type = 'error'
  return response
}

var redirectStatuses = [301, 302, 303, 307, 308]

Response.redirect = function(url, status) {
  if (redirectStatuses.indexOf(status) === -1) {
    throw new RangeError('Invalid status code')
  }

  return new Response(null, {status: status, headers: {location: url}})
}

var DOMException = self.DOMException
try {
  new DOMException()
} catch (err) {
  DOMException = function(message, name) {
    this.message = message
    this.name = name
    var error = Error(message)
    this.stack = error.stack
  }
  DOMException.prototype = Object.create(Error.prototype)
  DOMException.prototype.constructor = DOMException
}

function fetch(input, init) {
  return new Promise(function(resolve, reject) {
    var request = new Request(input, init)

    if (request.signal && request.signal.aborted) {
      return reject(new DOMException('Aborted', 'AbortError'))
    }

    var xhr = new XMLHttpRequest()

    function abortXhr() {
      xhr.abort()
    }

    xhr.onload = function() {
      var options = {
        status: xhr.status,
        statusText: xhr.statusText,
        headers: parseHeaders(xhr.getAllResponseHeaders() || '')
      }
      options.url = 'responseURL' in xhr ? xhr.responseURL : options.headers.get('X-Request-URL')
      var body = 'response' in xhr ? xhr.response : xhr.responseText
      resolve(new Response(body, options))
    }

    xhr.onerror = function() {
      reject(new TypeError('Network request failed'))
    }

    xhr.ontimeout = function() {
      reject(new TypeError('Network request failed'))
    }

    xhr.onabort = function() {
      reject(new DOMException('Aborted', 'AbortError'))
    }

    xhr.open(request.method, request.url, true)

    if (request.credentials === 'include') {
      xhr.withCredentials = true
    } else if (request.credentials === 'omit') {
      xhr.withCredentials = false
    }

    if ('responseType' in xhr && support.blob) {
      xhr.responseType = 'blob'
    }

    request.headers.forEach(function(value, name) {
      xhr.setRequestHeader(name, value)
    })

    if (request.signal) {
      request.signal.addEventListener('abort', abortXhr)

      xhr.onreadystatechange = function() {
        // DONE (success or failure)
        if (xhr.readyState === 4) {
          request.signal.removeEventListener('abort', abortXhr)
        }
      }
    }

    xhr.send(typeof request._bodyInit === 'undefined' ? null : request._bodyInit)
  })
}

fetch.polyfill = true

if (!self.fetch) {
  self.fetch = fetch
  self.Headers = Headers
  self.Request = Request
  self.Response = Response
}


/***/ }),
/* 56 */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__(23);


/***/ })
/******/ ]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAgNTU3Y2I0MjJlM2MyMjYwYmEyNGQiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbW1vbi9qcy1zZXJ2aWNlcy9jb25zdHMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbW1vbi9qcy1zZXJ2aWNlcy92aWV3LmpzIiwid2VicGFjazovLy8uL3NyYy9jb21tb24vanMtc2VydmljZXMvYXBpLXRhc2stbWFuYWdlci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tbW9uL2pzLXNlcnZpY2VzL3VzZXIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbW1vbi9qcy1zZXJ2aWNlcy9jb29raWUuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Jsb2Nrcy9fc2hhcmVkL3Rhc2stc3RhdHVzL3Rhc2stc3RhdHVzLmpzIiwid2VicGFjazovLy8uL3NyYy9ibG9ja3Mvd2l6YXJkLWZvcm0vd2l6YXJkLWZvcm0uanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Jsb2Nrcy9fc2hhcmVkL2ltYWdlLXVwbG9hZC9pbWFnZS11cGxvYWQuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Jsb2Nrcy9fc2hhcmVkL2xvZ3MvbG9ncy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYmxvY2tzL19zaGFyZWQvdGVicy1waWxzL3RhYnMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Jsb2Nrcy9fc2hhcmVkL3RhZ3MtaW5wdXQvdGFncy1pbnB1dC5qcyIsIndlYnBhY2s6Ly8vLi9+L3B1YnN1Yi1qcy9zcmMvcHVic3ViLmpzIiwid2VicGFjazovLy8uL3NyYy9ibG9ja3MvX3NoYXJlZC9nZXRQb3N0c01vZGFsL3V0aWxzLW1vZGFsLmpzIiwid2VicGFjazovLy8uL3NyYy9ibG9ja3MvX3NoYXJlZC9sb2dzL2xvZ3MtdGFicy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYmxvY2tzL2ZvbGxvdy9mb2xsb3ctcmVhZC1maWxlLXR4dC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tbW9uL2pzLXNlcnZpY2VzL2Vtb2ppLmpzIiwid2VicGFjazovLy8uL3NyYy9jb21tb24vanMtc2VydmljZXMvbmV0d29yay5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tbW9uL2pzLXNlcnZpY2VzL3NwaW5uZXIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Jsb2Nrcy9fc2hhcmVkL2Ryb3Bkb3duL2Ryb3Bkb3duLmpzIiwid2VicGFjazovLy8uL3NyYy9ibG9ja3MvX3NoYXJlZC90YXNrLXN0YXR1cy90YXNrLXN0YXR1cy1ieS1zdWJ0eXBlLmpzIiwid2VicGFjazovLy8uL3NyYy9ibG9ja3MvaW5zdGFncmFtLWFjY291bnRzLWxpc3QvaW5zdGFncmFtLWFjY291bnRzLWxpc3QuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbW1vbi9qcy1zZXJ2aWNlcy9hcGktdXNlci1kaXJlY3QuanMiLCJ3ZWJwYWNrOi8vLy4vfi9lbW9qaW9uZUFyZWEvZGlzdC9lbW9qaW9uZWFyZWEuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Jvb3RzdHJhcC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYmxvY2tzL2F1dG9jb21tZW50cy9hZGRBbnN3ZXJUZW1wbGF0ZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYmxvY2tzL2F1dG9jb21tZW50cy9hdXRvY29tbWVudHMtaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Jsb2Nrcy9hdXRvY29tbWVudHMvYXV0b2NvbW1lbnRzLXN0YXR1cy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYmxvY2tzL2F1dG9ncmVldGluZy9hZGRHcmVldFRlbXBsYXRlLmpzIiwid2VicGFjazovLy8uL3NyYy9ibG9ja3MvYXV0b2dyZWV0aW5nL2F1dG9ncmVldGluZy1tYWluLmpzIiwid2VicGFjazovLy8uL3NyYy9ibG9ja3MvYXV0b2dyZWV0aW5nL2F1dG9ncmVldGluZy1zdGF0dXMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Jsb2Nrcy9hdXRvbWVzc2FnZXMvYWRkQW5zd2VyVGVtcGxhdGUuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Jsb2Nrcy9hdXRvbWVzc2FnZXMvYXV0b21lc3NhZ2VzLWluZGV4LmpzIiwid2VicGFjazovLy8uL3NyYy9ibG9ja3MvYXV0b21lc3NhZ2VzL2F1dG9tZXNzYWdlcy1zdGF0dXMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Jsb2Nrcy9jaGF0LWJvdC9jaGF0LWJvdC1pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYmxvY2tzL2NoYXQtYm90L2NoYXQtYm90LXN0YXR1cy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYmxvY2tzL2NvbmZpcm0tcmVnL2NvbmZpcm0tcmVnLmpzIiwid2VicGFjazovLy8uL3NyYy9ibG9ja3MvZm9sbG93L2ZvbGxvdy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYmxvY2tzL2hlYWRlci9idXJnZXItbWVudS9idXJnZXItbWVudS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYmxvY2tzL2hlYWRlci9oZWFkZXIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Jsb2Nrcy9pbnN0YWdyYW0tYWNjb3VudHMtbGlzdC9hY2NvdW50cy1saXN0LWJ0bi1zZXR0aW5ncy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYmxvY2tzL2xvZ2luLWZvcm0vbG9naW4tZm9ybS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYmxvY2tzL21lc3NhZ2VzL21lc3NhZ2VzLmpzIiwid2VicGFjazovLy8uL3NyYy9ibG9ja3MvbWVzc2FnZXMvcmVxdWVzdHMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Jsb2Nrcy9tZXNzYWdlcy91dGlscy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYmxvY2tzL3JlZ2lzdGVyLWZvcm0vcmVnaXN0ZXItZm9ybS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYmxvY2tzL3NpZGViYXItbWVudS9zaWRlYmFyLW1lbnUuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Jsb2Nrcy9zdG9yaWVzL3N0b3JpZXMtaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Jsb2Nrcy9zdG9yaWVzL3N0b3JpZXMtc3RhdHVzLmpzIiwid2VicGFjazovLy8uL3NyYy9ibG9ja3MvdW5mb2xsb3cvdW5mb2xsb3ctaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Jsb2Nrcy91bmZvbGxvdy91bmZvbGxvdy1zdGF0dXMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BhZ2VzL19hdXRoL2xvZ2luLXBhZ2UuanMiLCJ3ZWJwYWNrOi8vLy4vfi9ib290c3RyYXAtdGFnc2lucHV0L2Rpc3QvYm9vdHN0cmFwLXRhZ3NpbnB1dC5taW4uanMiLCJ3ZWJwYWNrOi8vLy4vfi9icnV0dXNpbi1qc29uLWZvcm1zL2Rpc3QvanMvYnJ1dHVzaW4tanNvbi1mb3Jtcy5taW4uanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Jhc2Uuc2NzcyIsIndlYnBhY2s6Ly8vKHdlYnBhY2spL2J1aWxkaW4vbW9kdWxlLmpzIiwid2VicGFjazovLy8uL34vd2hhdHdnLWZldGNoL2ZldGNoLmpzIl0sIm5hbWVzIjpbIkNPTlNUIiwidXJsIiwidG1UeXBlcyIsImZvbGxvd2luZ1QiLCJmb2xsb3dpbmdTdWJUIiwidW5mb2xsb3dpbmdUIiwidW5mb2xsb3dpbmdTdWJUIiwiY2hhdEJvdFQiLCJjaGF0Qm90U3ViVCIsImF1dG9tZXNzYWdlc1QiLCJhdXRvbWVzc2FnZXNTdWJUIiwiYXV0b2dyZWV0VCIsImF1dG9ncmVldFN1YlQiLCJzdG9yaWVzVCIsInN0b3JpZXNTdWJUIiwiYXV0b2NvbW1lbnRzVCIsImF1dG9jb21tZW50c1N1YlQiLCJiYXNlIiwicmVnaXN0cmF0aW9uIiwibG9naW4iLCJjb25maXJtYXRpb24iLCJpbnN0YWdyYW1fYWRkQWNjb3VudCIsImluc3RhZ3JhbUFjY291bnRfZ2V0TWV0YURhdGEiLCJpbnN0YWdyYW1fZ2V0QWNjb3VudEJ5VXNlciIsInVzZXJuYW1lIiwiaW5zdGFncmFtX21vZGlmeUFjY291bnQiLCJpbnN0YWdyYW1UYXNrTWFuYWdlcl9nZXRQb3N0cyIsImFjY291bnROYW1lIiwiaW5zdGFncmFtQWNjb3VudF9jaGVja3BvaW50IiwiaW5zdGFncmFtQWNjb3VudF9jb25maXJtS2V5IiwiaW5zdGFncmFtRGlyZWN0X0Jhc2ljIiwiaW5zdGFncmFtRGlyZWN0X3Bvc3RNZXNzYWdlIiwiaW5zdGFncmFtRGlyZWN0X2dldE1ldGFEYXRhIiwiaW5zdGFncmFtRGlyZWN0X1JlcXVlc3RQZW5kaW5nIiwiaW5zdGFncmFtVGFza01hbmFnZXIiLCJpbnN0YWdyYW1UYXNrTWFuYWdlcl9nZXRNZXRhRGF0YSIsImluc3RhZ3JhbVRhc2tNYW5hZ2VyX2dldFRhc2tCeVR5cGVzIiwiaW5zdGFncmFtVGFza01hbmFnZXJfZ2V0RGVmYXVsdENvbmZpZ3MiLCJpbnN0YWdyYW1UYXNrTWFuYWdlcl9wb3N0U3RhcnRGb2xsb3dpbmdMaXN0IiwiaW5zdGFncmFtVGFza01hbmFnZXJfcG9zdFN0YXJ0VGFzayIsImluc3RhZ3JhbVRhc2tNYW5hZ2VyX2dldFRhc2tUeXBlcyIsImluc3RhZ3JhbVRhc2tNYW5hZ2VyX3B1dFN0b3BUYXNrQnlJRCIsImlkIiwiaW5zdGFncmFtVGFza01hbmFnZXJfZGVsUmVtb3ZlVGFza0J5SUQiLCJpbnN0YWdyYW1UYXNrTWFuYWdlcl9wb3N0SW1hZ2VBdHRhY2htZW50IiwiaW5zdGFncmFtVGFza01hbmFnZXJfcG9zdFRleHRBdHRhY2htZW50IiwiaW5zdGFncmFtVGFza01hbmFnZXJfZ2V0TG9nc0NoYXRCb3QiLCJ1c2VyIiwiZGVmYXVsQXZhdGFyIiwiZW1haWwiLCJwYXNzd29yZCIsInRva2VuIiwiY29va2llU3RvcmFnZSIsImVtYWlsQ29uZmlybWVkIiwidWlTZWxlY3RvcnMiLCJoZWFkZXJMb2dpbkJveCIsImhlYWRlck5hdkxvZ2luQnRuIiwiaGVhZGVyUmVnQm94IiwiaGVhZGVyUmVnQnRuIiwiaW5zdGFncmFtIiwiYWRkQWNjb3VudEJ0blNlbGVjdG9yIiwiYWRkQWNjb3VudEJ0bklkIiwiZXZlbnRzIiwiVVNFUl9MT0dHRUQiLCJVU0VSX0xPR09VVCIsIlVTRVJfRU1BSUxfQ09ORklSTUVEIiwiU1RPUF9GSVhFRF9TUElOTkVSIiwibWVzc2FnZXMiLCJSRUNJRVZFX05FV19NRVNTQUdFIiwiaW5zdGFncmFtQWNjb3VucyIsIklOU1RBR1JBTV9BQ0NPVU5TX05FRURfUkVGUkVTSCIsIklOU1RBR1JBTV9BQ0NPVU5TX1JFTkRFUkVEIiwiSU5TVEFHUkFNX0FDQ09VTlNfUkVOREVSRURfTEFaWSIsIm1vZGFsIiwiSU1BR0VfUE9TVF9TRUxFQ1RFRCIsIklNQUdFX1VQTE9BREVEX0FWQVRBUiIsImF1dG9hcm5zd2VyIiwiSU1BR0VfVVBMT0FERUQiLCJURVhUX0ZJTEVfVVBMT0FERUQiLCJ0YXNrcyIsIk5FV19UQVNLX0NSRUFURUQiLCJsb2dzIiwiU1RPUF9MT0dTIiwibG9nc1N0YXRlIiwic2VsZWN0Q2xzIiwic2VsZWN0Q2xzTG9nc1Rhc2tUeXBlIiwid3JhcHBlclN1YnR5cGUiLCJnZXRQYXRoIiwibmFtZSIsImdldFBhdGhUeXBlU3VidHlwZSIsInBhdGgiLCJwYWdlIiwidHlwZSIsInN1YnR5cGUiLCJnZXRQYXRoQnlBcnIiLCJhcnJheSIsInJlZHVjZXIiLCJhY2N1bXVsYXRvciIsImN1cnJlbnRWYWx1ZSIsInJlZHVjZSIsInZpZXdVdGlscyIsInNob3dJbmZvTWVzc2FnZSIsInNlbGVjdG9yIiwibWVzc2FnZTEiLCJtZXNzYWdlMiIsIiQiLCJlbXB0eSIsImFwcGVuZCIsImZpbGxMaXN0IiwiJGxpc3QiLCJkYXRhQXJyYXkiLCJpdGVtcyIsImNMaXN0IiwiZm9yRWFjaCIsIml0ZW0iLCJpIiwibGkiLCJhcHBlbmRUbyIsImFkZENsYXNzIiwidGV4dCIsImlzRW1haWwiLCJyZWdleCIsInRlc3QiLCJnZXRGb3JtYXR0ZWREYXRlVXRpbCIsInRTdGFtcCIsInNob3dGdWxsVGltZSIsImRhdGUiLCJEYXRlIiwibW9udGgiLCJnZXRNb250aCIsImRheSIsImdldERhdGUiLCJob3VyIiwiZ2V0SG91cnMiLCJtaW4iLCJnZXRNaW51dGVzIiwic3RyIiwiZ2V0RnVsbFllYXIiLCJpc0VtcHR5Iiwib2JqIiwiT2JqZWN0Iiwia2V5cyIsImxlbmd0aCIsImZpbGxSYWRpb0dyb3VwTGlzdCIsIiR3cmFwcGVyIiwidGFza01vZGVzIiwiX2FjdGlvblRleHQiLCJjb25zb2xlIiwiaW5mbyIsImFjdGlvblRleHQiLCJyYWRpb0J0blJlZHVjZXIiLCJ2YWwiLCJsb2ciLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJnZXRWYWxCeUNvbW1hU2VwYXJhdG9yIiwiJGVsIiwidHJpbSIsInNwbGl0IiwibWFwIiwicmVwbGFjZSIsImZpbHRlciIsImFkZERyb3Bkb3duIiwiY2ZnIiwidGV4dFJ1c0FycmF5IiwibGFiZWwiLCJnZXRSdXMiLCJpZHgiLCJpc1RleHRVbmZvbGxvdyIsImlzUmVuZGVyRW1wdHlPcHRpb24iLCJkcm9wZG93bk9uU2VsZWN0Q2IiLCJvbiIsIm9ialRvQXJyIiwiaW5jbHVkZXMiLCJ2YWx1ZXMiLCJVc2VyVGFza01hbmFnZXIiLCJuZXR3b3JrIiwic2V0dGluZ1Bvc3QiLCJtZXRob2QiLCJoZWFkZXJzIiwicG9zdFN0YXJ0Rm9sbG93aW5nTGlzdCIsInBvc3RTdGFydFRhc2siLCJhc0hlYWRlciIsImNvb2tpZVRva2VuIiwiZ2V0IiwiY2JFcnJvciIsInBhdGhBcnIiLCJzZW5kUmVxdWVzdCIsImdldFRva2VuIiwicHVzaCIsImRldGFpbHMiLCJ0YXNrSWQiLCJzZXR0aW5nIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJwYXRoQXJyYXkiLCJjdXJzb3IiLCJ1cmxCeVVzZXJOYW1lIiwidXNlck5hbWUiLCJ1c2VySW5zdGFuY2UiLCJVc2VyIiwiZm9ybURhdGEiLCJpcCIsInBvcnQiLCJ1c2VybmFtZVByb3h5IiwicGFzc3dvcmRQcm94eSIsInByb3h5VE1QIiwiY2hlY2twb2ludFR5cGUiLCJrZXkiLCJDb29raWVTcnYiLCJjIiwiZG9jdW1lbnQiLCJjb29raWUiLCJtYXRjaCIsImRlY29kZVVSSUNvbXBvbmVudCIsInNldCIsInZhbHVlIiwib3B0cyIsImRheXMiLCJlbnRyaWVzIiwiayIsInYiLCJlbmNvZGVVUklDb21wb25lbnQiLCJyZW1vdmUiLCJnZXRUYXNrc0RhdGEiLCJpbml0IiwibW9kZVJ1cyIsIm1vZGUiLCJmaWxsTGlzdEJ5U3RhdGUiLCJ0YXNrU3RhdGUiLCJwcm9ncmVzcyIsImNyZWF0ZWRfYXQiLCJ0YXNrX2lkIiwic3RhdHVzIiwiYWRkSXRlbSIsInRwbFN0b3AiLCJ0cGxQYXVzZWQiLCJ0aW1lc3RhbXAiLCJ0cGxQcm9ncmVzcyIsInNlc3Npb25TdG9yYWdlIiwiZ2V0SXRlbSIsInJlYXNvbiIsInRwbEZpbmlzaGVkIiwiZmlsbExpc3RNZXRhIiwic3RhdGUiLCJpbml0SGFuZGxlcnMiLCJob2xkZXJzIiwiX3BhdGgiLCIkYnRuU3RvcFRhc2siLCIkYnRuRGVsVGFzayIsImdldFRhc2tJRCIsImUiLCJidG4iLCJ0YXJnZXQiLCJjbG9zZXN0IiwiZGF0YSIsInN0b3BUYXNrQnlJRCIsInRoZW4iLCJyZXN1bHQiLCJkZWxldGVUYXNrQnlJRCIsIiRhbGwiLCJnZXRNZXRhZGF0YSIsIm1ldGEiLCIkcnVucyIsIiRzdG9wcGVkIiwid2luZG93IiwiUHViU3ViIiwic3Vic2NyaWJlIiwiZXZlbnROYW1lIiwid2l6YXJkRm9ybVNlbGVjdG9yIiwiaW5pdFN0ZXBzIiwiZm9ybVNlbGVjdG9yIiwid2l6YXJkQ2ZnIiwiJGZvcm0iLCJzdGVwUmVkdWNlciIsIm9uU3VibWl0SGFuZGxlciIsInJlbW92ZUNsYXNzIiwiZmluZCIsImZhZGVJbiIsInBhcmVudF9maWVsZHNldCIsInBhcmVudHMiLCJuZXh0X3N0ZXAiLCJyYWRpb0J0bkFjdGl2ZSIsImluZGV4IiwiZWFjaCIsImZhZGVPdXQiLCJuZXh0IiwicHJldiIsInByZXZlbnREZWZhdWx0Iiwic3RvcFByb3BhZ2F0aW9uIiwiY3NzIiwiaGlkZSIsInNob3ciLCJtb2RpZnlBY2NMaXN0IiwicmFkaW9CdG5BcHBlbmQiLCJyYWRpb0J0bldyYXAiLCIkYWNjb3VudHNMaXN0IiwiJGxpIiwiY3VyckxpIiwid3JhcElubmVyIiwiJHBhcmVudEZpZWxkc2V0IiwicHJvcCIsIk1BWF9JTUdfRklMRV9TSVpFX0JZVEUiLCJmaWxlVXBsb2FkQm94IiwiZmlsZVVwbG9hZENvbnRlbnQiLCJyZW1vdmVVcGxvYWQiLCIkdXBsb2FkQ29udGFpbmVyIiwiaW5wdXQiLCJyZXBsYWNlV2l0aCIsImNsb25lIiwiJGltZ1VwbG9hZFdyYXAiLCJiaW5kIiwiZXJyb3JIYW5kbGVyIiwiZXZ0IiwicmVhZGVyIiwiZXJyb3IiLCJjb2RlIiwiTk9UX0ZPVU5EX0VSUiIsIk5PVF9SRUFEQUJMRV9FUlIiLCJBQk9SVF9FUlIiLCJ1cGRhdGVQcm9ncmVzcyIsImxlbmd0aENvbXB1dGFibGUiLCJwZXJjZW50TG9hZGVkIiwiTWF0aCIsInJvdW5kIiwibG9hZGVkIiwidG90YWwiLCJpc0ZpbGVUeXBlT2siLCJhY2NlcHRlZEZpbGUiLCJpc0ltZ1NpemVPayIsImltZ1NpemUiLCJzaXplIiwiaGFuZGxlU3VibWl0IiwicmVwbGFjZVdpdGhDZmciLCJmaWxlcyIsIkZvcm1EYXRhIiwicmVxdWVzdCIsIlhNTEh0dHBSZXF1ZXN0Iiwib3BlbiIsInNldFJlcXVlc3RIZWFkZXIiLCJzZW5kIiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlYWR5U3RhdGUiLCJyZXNwb25zZVRleHQiLCJwdWJsaXNoIiwicmVzcG9uc2UiLCJyZWFkVVJMIiwiaGFuZGxlU3VibWl0Q2IiLCJob2xkZXJDbHMiLCJob2xkZXIiLCIkY29udGFpbmVyIiwiRmlsZVJlYWRlciIsInNldFRpbWVvdXQiLCJvbmxvYWQiLCJhdHRyIiwiaHRtbCIsImltYWdlQ2xzIiwib25lcnJvciIsIm9ucHJvZ3Jlc3MiLCJyZWFkQXNEYXRhVVJMIiwidXBsb2FkQnRuQ2xzIiwiJHVwbG9hZEJ0biIsIiR1cGxvYWRJbnB1dCIsIiRyZW1vdmVJbWdCdG4iLCJvZmYiLCJ0b1BhcmVudENscyIsInRyaWdnZXIiLCJyZW1vdmVBdHRyIiwiY2xzQ29uc3QiLCJjdXJyZW50UGFnZUNscyIsInRhc2tzTGlzdCIsImxvZ3NUYWJCdG4iLCJwYWdpbmF0aW9uIiwicGFnaW5hdGlvblBnTnVtYmVyIiwiZ2V0VXNlcm5hbWUiLCJjdXJyZW50UGFnZSIsImludGVydmFsSWQiLCJpbml0SGFuZGxlclBhZ2luYXRpb24iLCIkcHJldmlvdXMiLCIkbmV4dCIsInNldHRpbmdzIiwiJGxpQWN0aXZlIiwicHJldmlvdXMiLCJnZXRMb2dzRGF0YSIsImN1cnJlbnRBY3RpdmVJZHgiLCJoYXNDbGFzcyIsInBhcnNlSW50IiwiYWRkUGFnaW5hdGlvbiIsInRwbFByZXZpb3VzIiwidHBsTmV4dCIsImNsZWFyUGFnaW5hdGlvbiIsInBhZ2VzIiwiY3VycmVudCIsImlzUnVucyIsIiR3cmFwcGVyUGFnaW5hdGlvbiIsImxldmVsIiwidGFiU3RvcFJlcUhhbmRsZXIiLCIkYWxsQXNpZGVUYWJzIiwidGFiIiwiY2xlYXJJbnRlcnZhbCIsImdldExvZ3NDaGF0Qm90IiwidXBkYXRlSW50ZXJ2YWwiLCJpbnZva2VfaW5fbWlsbGlzIiwic2V0SW50ZXJ2YWwiLCJwcmVDb25maWciLCJwYXRoVHlwZSIsInBhdGhTdWJUeXBlIiwiX3NlbGVjdENscyIsImZpbGxEcm9wZG93blVzZXJzQ2ZnIiwiZmlsbERyb3Bkb3duVXNlcnMiLCJhY2NvdW50cyIsIk9uQ2hhbmdlU2VsZWN0Q2IiLCJnZXRNZXRhTGF6eSIsImdldE1ldGFkYXRhTGF6eSIsInJlcyIsInRhYkhhbmRsZXIiLCJpc0NvbXB1dGVNdWx0eURyb3Bkb3duIiwiT25DaGFuZ2VTZWxlY3QiLCJhc3NpZ24iLCJuZXh0QnRudmFsaWRhdGVDb21wZXRpdG9yc0hhbmRsZXIiLCJpbml0VGFnc0lucHV0IiwidGFnc2lucHV0U2VsZWN0b3IiLCIkaW5wdXQiLCJuZXh0U3RlcEJ0biIsImlncm9yZVJlZ2V4Q2hlY2siLCJlbmdsaXNoQ2hhcnMiLCJjaGVja1RleHRBcmVhIiwiaXNJbml0IiwiaW5wdXR2YWx1ZSIsImlzUmVtb3ZlZCIsInRleHRPblJlbW92ZSIsInJlbW92ZUJvcmRlciIsImFkZEJvcmRlciIsImlzQWRkZWRUZXh0VmFsaWQiLCJpc1JlbW92ZWRUZXh0VmFsaWQiLCIkZWxJbnB1dCIsInRhZ3NpbnB1dCIsImZpbGxQb3N0cyIsImdldFBvc3RzIiwiaXNBcHBlbmRUb0xpc3QiLCJhZGRUb0xpc3QiLCJpc0FwcGVuZFByZXZNc2ciLCJpbnNlcnRBZnRlciIsInRwbCIsIm1vZGFsRm9vdGVyIiwiaGlkZVBhZ2luYXRpb24iLCJpbWFnZVNlbGVjdEhhbmRsZXIiLCJ0YXJnZXRCdXR0b24iLCJpbWFnZUJveENscyIsImltYWdlRGVsQnRuQ2xzIiwiaW1hZ2VCb3hTZWxlY3RvciIsIiRidG5MaSIsInBvc3RJZCIsInBvc3RUeXBlIiwiY2xvc2VzdENvbCIsInRwbEltYWdlQm94IiwicHJlcGVuZCIsImN1cnJlbnRJbWFnZUJveCIsImxvYWRNb3JlSGFuZGxlciIsImdldFBvc3RzQXV0b21lc3NhZ2VzIiwicG9zdHMiLCJwb3BvdmVyIiwiY29udGFpbmVyIiwiY29udGVudCIsInBsYWNlbWVudCIsImluaXRMb2dzVGFiIiwidGFicyIsIm1vdmVJbk9uZVJvdyIsInVzZXJMaXN0Qm94Iiwic3ViVHlwZUJveCIsImxvZ3NTdWJ0eXBlcyIsInNldFVzZXJOYW1lQ2IiLCJ1c2VybmFtZVNlbGVjdGVkIiwiaGFuZGxlTG9nc0Ryb3Bkb3ducyIsImF0dGFjaFR4dEZpbGVIYW5kbGVyIiwiRklMRV9UWVBFIiwiYWRkIiwiX2ZpbGVVcGxvYWRCb3giLCJvblN1Y2Nlc3NGaWxlVXBsb2FkQ2IiLCJjaGFuZ2UiLCJwYXJzZSIsImltYWdlSWQiLCJsaXN0X2lkIiwiZWwiLCJuZXh0U3RlcCIsImVtb2ppIiwiZW1vamlvbmVBcmVhIiwicGlja2VyUG9zaXRpb24iLCJ0b25lc1N0eWxlIiwiZmlsdGVyc1Bvc2l0aW9uIiwic2VhcmNoIiwia2V5dXAiLCJlZGl0b3IiLCJldmVudCIsImdldFRleHQiLCJOZXR3b3JrIiwibWVzc2FnZSIsIkVycm9yIiwic3RhdHVzVGV4dCIsIlVSTCIsIk9QVFMiLCJmZXRjaCIsIlByb21pc2UiLCJhbGwiLCJqc29uIiwib2siLCJjYkVycm9yRGVmYXVsdCIsImNoZWNrU3RhdHVzIiwiY2xhc3NlcyIsImlubGluZSIsIm92ZXJsYXkiLCJmaXhlZCIsImJ1dHRvbiIsIlNwaW5uZXIiLCJfY2ZnIiwic3RhcnRCdXR0b25TcGlubmVyIiwibmV3Q2xzIiwic3RvcEJ1dHRvblNwaW5uZXIiLCJleHRlbmQiLCJwcmV3Q2xzIiwidG9nZ2xlQ2xhc3MiLCJzcGlubmVySW5zdGFuY2UiLCJkcm9wRG93biIsImlzVGV4dFJ1c0FycmF5Iiwid3JhcHBlcnMiLCJsb2dzU3RhdGVTdGF0dXMiLCJwYXRoVXBkYXRlZCIsImlzSW5Db3JyZWN0UGFnZSIsImluaXRpYWxQYXRoIiwic3VidHlwZXMiLCJJbnN0YWdyYW1BY2NQYWdlQ2xzIiwiaXNJbnN0YWdyYW1BY2NQYWdlIiwiJG1zZ0xpc3QiLCJJTlNUQUdSQU1fQUNDT1VOVFNfSFJFRiIsImFkZExpc3RIYW5kbGVyIiwiJGJ1dHRvbiIsInNlbmRUbyIsImdldFNlY3VyaXR5S2V5IiwiJG1vZGFsIiwiJGtleUlucHV0IiwiY29uZmlybVNlY3VyaXR5S2V5IiwiY2F0Y2giLCJlcnIiLCJsZW4iLCJtaW5MZW4iLCJOdW1iZXIiLCJvbkhpZGVNb2RhbCIsInR5cGVTZWxlY3RlZCIsImNoZWNrcG9pbnRUeXBlQWN0aXZlIiwibW9kYWxDb25maWciLCJfY29uZmlnIiwiaW5zZXJ0SXRlbSIsImNzc0NscyIsImxpVHBsIiwic3RhdHMiLCJjaGVja1BvaW50VGV4dCIsImNoZWNrcG9pbnQiLCJhZGRTZXR0aW5nQnRuIiwiYWNjb3VudCIsImJpb2dyYXBoeSIsInByb2ZpbGVfcGljX3VybCIsImZvbGxvd2VyX2NvdW50IiwiZm9sbG93aW5nX2NvdW50IiwibWVkaWFfY291bnQiLCJpc19idXNpbmVzcyIsImlzX3ByaXZhdGUiLCJsb2NhdGlvbiIsImhyZWYiLCJyZW5kZXJJdGVtIiwiX2RlZmF1bHRBdmF0YXJTcmMiLCJkZWZhdWx0QXZhdGFyU3JjIiwiY2hlY2tSZXNwb25zZSIsImVyck1lc3NhZ2VGcm9udCIsInJlbG9hZExpc3QiLCJkZWxldGVCdG5DbHMiLCJ1cGRhdGVCdG5DbHMiLCJlZGl0QnRuQ2xzIiwiYWRkSW5zdGFncmFtQWNjb3VudCIsIm5ld0Zvcm1EYXRhIiwiYWRkT25Mb2FkSGFuZGxlcnMiLCIkbW9kYWxCb2R5IiwiZm9ybSIsImNzc1ZhbGlkYXRpb25DbGFzcyIsImlzVmFsaWRJcHY0QWRkciIsImlzVmFsaWRQb3J0IiwiY2hlY2tWYWxpZGl0eSIsInJlcG9ydFZhbGlkaXR5IiwibWV0YWRhdGEiLCJhdmF0YXIiLCJzZXRJdGVtIiwiVXNlckNvbnZlcnNhdGlvbiIsImNvbnZlcnNhdGlvbklkIiwiY29uZmlybVVzZXJEYXRhIiwiaGVhZGVyIiwic2lkZWJhck1lbnUiLCJidXJnZXJNZW51IiwiaW5zdGFncmFtQWNjb3VudHMiLCJmb2xsb3ciLCJ1bmZvbGxvdyIsImF1dG9tZXNzYWdlcyIsImNoYXRCb3QiLCJhdXRvZ3JlZXRpbmciLCJhdXRvY29tbWVudHMiLCJzdG9yaWVzIiwic2V0UHViU3ViIiwiaW5pdFRvb2x0aXAiLCJ0b29sdGlwIiwiX2xvZ2luQm94IiwiX2Zvcm1JZCIsIl9idXR0b25TdWJtaXRJZCIsIl9zaG93TG9naW5Cb3hCdG5JZCIsImlzTG9naW5JbnN0YWdyYW0iLCJpbml0SGVhZGVyIiwiaW5pdE1lbnUiLCJ0cGxUZXh0RmllbGQiLCJtYWluQ2xzIiwid2l6YXJkRm9ybSIsImF1dG9jb21tZW50c1N0YXR1cyIsImltYWdlVXBsb2FkIiwiZWxTZWxlY3RvciIsImZpZWxkcyIsImtleVdvcmQiLCJhbnN3ZXIiLCJhZGRQb3N0QnRucyIsImluaXRFbW9qaWkiLCJzdHlsZXMiLCJvbGQiLCJuZXciLCJ2YWxpZGF0ZUlzRW1wdHkiLCIkZWxlbWVudHMiLCJyZXFCb2R5IiwidmFsaWRhdGlvbiIsIiRlbGVtZW50c0tleVdvcmQiLCIkZWxlbWVudHNBbnN3ZXIiLCIkaW1hZ2VQb3N0Qm94IiwicG9zdEl0ZW1JZCIsInBvc3RJdGVtVHlwZSIsImJsYWNrbGlzdFdvcmRzIiwiYmxhY2tsaXN0V29yZHNBcnIiLCJzdWJtaXRCb2R5SXRlbSIsImJsYWNrbGlzdCIsInVuZGVmaW5lZCIsImF0dGFjaG1lbnQiLCJwb3N0IiwiblJlcUJvZHkiLCJtc2ciLCJyZW1vdmVFeHRyYVRleHRGaWVsZHMiLCIkYnRuIiwiaW5pdE1vZGFsSGFuZGxlciIsIiRjb21wZXRpdG9yc0lucHV0IiwiJGJsYWNrTGlzdElucHV0IiwibGFzdFRleHRGaWVsZCIsImxhc3QiLCJzdWJzdHIiLCJsYXN0VGV4dEZpZWxkQWZ0ZXJJbnNlcnQiLCIkaW5wdXRBbnN3ZXJXb3JkcyIsInNldFVzZXJOYW1lIiwic3RlcE51bWJlciIsInRwbFRleHRGaWVsZEdyZWV0IiwiY2hhdEJvdFN0YXR1cyIsInNwZWVkVHlwZSIsInVzZXJfZGVmYXVsdF9jb25maWciLCJ0YXNrX21vZGUiLCJnZXRBdHRhY2htZW50IiwiYXR0YWNobWVudEltZyIsImdldERhdGFTdGVwU3BlZWQiLCJmaWxsU3BlZWRMaXN0IiwidGFza19tb2RlcyIsImdldERlZmF1bHRDb25maWdzIiwiZm91bmQiLCJ0b1VwcGVyQ2FzZSIsImltYWdlX2lkIiwiJGltYWdlQm94IiwiYXV0b21lc3NhZ2VzU3RhdHVzIiwiY2hhdEJvdExvZ3MiLCJrZXlXb3JkcyIsImZpbGxMaXN0VXNlcnMiLCJjb25maXJtYXRpb25XaXRoUmVkaXJlY3QiLCJwYXJzZVF1ZXJ5U3RyaW5nIiwib2JqVVJMIiwiUmVnRXhwIiwiJDAiLCIkMSIsIiQyIiwicGFyYW1zIiwic2VuZENvbmZpcm0iLCJjb25maXJtIiwiY3VzdG9tZXJzRGF0YVN0cmluZyIsInJlZGlyZWN0IiwicGF0aG5hbWUiLCJpbmRleE9mIiwiZm9sbG93U3RhdHVzQnlTdWJ0eXBlIiwiY291bnQiLCJwZXJjZW50IiwiZ2V0RGF0YVN0ZXAyIiwidG9nZ2xlQWRkVGV4dEJ0biIsInNldENvbXBldGl0b3JzIiwiY29tcGV0aXRvcnMiLCIkY29tcGV0aXRvcnNUZXh0QXJlYSIsInBhcmVudCIsImNyaXRlcmlhIiwibGltaXQiLCJmb3JtcyIsImhhdmVfcG9zdHMiLCJmcm9tIiwidG8iLCJoYXZlX2ZvbGxvd2VycyIsImhhdmVfZm9sbG93aW5ncyIsImZvY3VzIiwiX3VzZXJuYW1lU2VsZWN0ZWQiLCJzZWxlY3RvcnNFbCIsImxlZnRNZW51IiwiaGFtYnVyZ2VyQnV0dG9uQ2xzIiwiaGFtYnVyZ2VyTWVudUNscyIsImhhbWJ1cmdlck1lbnVPcGVuZWRDbGFzcyIsImhhbWJ1cmdlckJ1dHRvbkNsb3NlQ2xhc3MiLCJyaWdodE1lbnUiLCJzdWJIZWFkZXIiLCJ0b2dnbGVIYW1idXJnZXJNZW51IiwibWVudU5hbWUiLCJzZWxlY3RvckxvZ2luU3RhdGUiLCJzZWxlY3RvckVtYWlsQ29uZmlybVN0YXRlIiwiY2xvc2VDbGFzcyIsIm9wZW5lZENsYXNzIiwiZW1haWxOb3RDb25maXJtZWQiLCIkZW1haWxuTXNnIiwib25Mb2dpblN1YnNjcmliZSIsIiRsb2dpbk1zZyIsImlzRW1haWxDb25maXJtZWQiLCJzaG93TG9nb3V0IiwiaXNMb2dnZWQiLCJpc0xvZ2dlZEluIiwib2xkVVJMIiwicmVmZXJyZXIiLCJzZXR0aW5nQnV0dG9uc0hhbmRsZXIiLCJ1cGRhdGVCdXR0b25zRGF0YUF0dHIiLCJzZXR0aW5nQnV0dG9uc0hhbmRsZXJDYiIsImNsYXNzQ2ZnIiwibW9kYWxDb25maXJtIiwidXNlck9yaWdpbmFsIiwicHJvZmlsZSIsImRlbEluc3RhZ3JhbUFjY291bnQiLCJ1cGRhdGVJbnN0YWdyYW1BY2NvdW50IiwibW9kYWxFZGl0IiwiJGVkaXRCdG4iLCJzaXRlIiwiYWJvdXQiLCJpbWdTcmMiLCJpc0J1c2luZXNzIiwiaXNQcml2YXRlIiwiZm9ybUZpZWxkcyIsInVzZXJBdmF0YXJJbWciLCJmb2xsb3dlckMiLCJmb2xsb3dpbmdDIiwibWVkaWFDIiwic3JjIiwiJHByb2ZpbGVCb3giLCJ1cGRhdGVEYXRhQXR0clVzZXJuYW1lIiwiZWRpdEluc3RhZ3JhbUFjY291bnQiLCJpc09wZW4iLCJMb2dpbkZvcm0iLCJzZWxlY3RvckNzcyIsIiRlbWFpbCIsIiR0ZXh0QXJlYURlc2NyaXB0aW9uIiwidXNlckxvZ2luSGVhZGVyIiwiX2Zvcm1EYXRhIiwic3VibWl0Rm9ybSIsImZvcm1EYXRhT2JqIiwidG9Mb2NhbGVMb3dlckNhc2UiLCJsb2dPdXQiLCJiaW5kRXZlbnRzIiwiJHNob3dMb2dpbkJveEJ0bklkIiwiJGxvZ2luQm94IiwiJGJ1dHRvblN1Ym1pdCIsImlzTG9naW5CdG5DbGljayIsImlzQWRkSW5zdGFncmFtQnRuQ2xpY2tlZCIsInN0YXRlQ2ZnIiwicGFnZUluY3JlbWVudCIsImxvYWRpbmdGbGFnIiwic2V0U2luZ2xlVmFsIiwiaW50ZXJ2YWxVc2VyTGlzdCIsImluaXRpYWxWYWwiLCJmbGFnSW5pdGlhbFZhbCIsImN1cnJlbnRVc2VyRGF0YSIsInVzZXJhdmF0YXIiLCJzY3JvbGxMb2FkZXJTdGF0ZSIsImZpcnN0TG9hZCIsImFsbE1zZ0xvYWRlZCIsInJlbmRlclJlc3VsdHMiLCJ1bEVsZW1lbnQiLCJzaG93TWVzc2FnZSIsImVsZW1lbnQiLCJjbGVhckxpc3QiLCJpc0luTWVzc2FnZVBhZ2UiLCIkdXNlckxpc3QiLCJyZWFkeSIsImF1dG9jb21wbGV0ZSIsImlzVGltZU91dFJ1bm5lZCIsImdldEFuZEZpbGxVc2VyTGlzdEN1cnNvciIsImxvYWRNb3JlQ2JBcmdzQ3Vyc29yIiwic2VjdGlvbiIsImdldE1ldGFkYXRhRGV0YWlsVXNlcnMiLCJwcmV2X2N1cnNvciIsIiRjb2xsYXBzZSIsImdldEFuZEZpbGxVc2VyTGlzdCIsImlzQWN0aXZlRmlyc3QiLCJ1c2VyTGlzdCIsInByZXZBY3RpdmVEaWFsb2dJZCIsInNvcnQiLCJhIiwiYiIsImxvY2FsZUNvbXBhcmUiLCJjYkZuIiwidXNlckRhdGEiLCJnZXRNZXRhZGF0YURldGFpbENvbnZlcnNhdGlvbiIsIm5ld0N1cnNvciIsInNjcm9sbFRvcCIsInNjcm9sbEhhbmRsZXIiLCJzY3JvbGxEZWxheSIsInJlY2VudFNjcm9sbCIsIm1ha2VSZXFPbmNlIiwiY2hlY2tJc09uY2UiLCJpbm5lckhlaWdodCIsInNjcm9sbEhlaWdodCIsImdldEFuZEZpbGxDb252ZXJzYXRpb24iLCJpc1Njcm9sbERvd24iLCJpc0NsaWNrRnJvbVJlcXVlc3RDb25maXJtIiwiVElNRV9TQ1JPTEwiLCJhbmltYXRlIiwiY2xpZW50SGVpZ2h0IiwiaW1hZ2VMb2FkU3VibWl0Q2IiLCJhZGRIYW5kbGVycyIsIiR0ZXh0QXJlYSIsInBvc3RNZXRhZGF0YURldGFpbENvbnZlcnNhdGlvbiIsInVzZXJTaG93Q29udmVyc2V0aW9uSGFuZGxlciIsInVzZXJEYXRhRnJvbUxpR3JvdXAiLCIkdGFyZ2V0QnRuIiwiJHRpdGxlIiwicmVzdWx0RnJvbVNlcnZlciIsIiRkaWFsb2ciLCJmaWxsVXNlckxpc3RGbiIsImluaXRSZXF1ZXN0cyIsImFkZENvbmZpcmdCdXR0b25zIiwiJGNvbmZpcm1CdG5Cb3giLCJjb252ZXJzYXRpb25EZXRhaWwiLCJzcmNJbWciLCJwcm9maWxlUGljVXJsIiwiYWRkQ29udmVyc2F0aW9ucyIsImNvbnZlcnNhdGlvbnMiLCJ1c2VycyIsInRpdGxlIiwiZ2V0UmVxdWVzdFBlbmRpbmciLCJlbElkIiwicmVxdWVzdHMiLCJmaWxsVXNlckxpc3QiLCJsb2FkTW9yZUNiRnVuY3Rpb24iLCJwZW5kaW5nX3JlcXVlc3RzIiwiJHJlcUNvbmZpcm1CdG4iLCIkcmVxUmVqZWN0QnRuIiwicHV0UmVxdWVzdFBlbmRpbmciLCJkZWxSZXF1ZXN0UGVuZGluZyIsIiRzaG93VXNlckxpc3QiLCJjbGVhck1hc3NhZ2VzTGlzdCIsImZpbGxNYXNzYWdlc0xpc3QiLCJhcHBlbmRVc2VyTGlzdCIsImluc2VydE1zZyIsInZhbHVlV2l0aFVybCIsImNhcHRpb24iLCJzdWJzdCIsInRvTG93ZXJDYXNlIiwicHJldmlld192YWx1ZSIsImluc2VydEJlZm9yZSIsInNpZGUiLCJpc1VucmVhZCIsImxhc3RNZXNzYWdlIiwiaXNMYXN0TXNnIiwiaXNBZGREb3QiLCJsb2FkTW9yZUJveCIsIiRidG5Cb3giLCJtZXNzYWdlQXJlYUhlbmRsZXIiLCIkc2VuZE1lc3NhZ2VCdXR0b24iLCJrZXlDb2RlIiwiY3RybEtleSIsInNlbGVjdG9yQ2xzIiwic3VibWl0QnRuIiwiUmVnaXN0ZXJGb3JtIiwiYm9yZGVyRGFuZ2VyQ2xzIiwiJHBhc3N3b3JkIiwiJHBhc3N3b3JkQ29uZmlybSIsInBhc3N3b3JkQ29uZmlybSIsInJlZ2lzdGVyIiwicmVnaXN0ZXJCb3giLCJpcyIsImlzUmVnQnRuQ2xpY2siLCJ1cmxUb0NoZWNrIiwicGF0aE5hbWUiLCJpc0FjdGl2ZVVybCIsInN0b3JpZXNTdGF0dXMiLCJ3aXphcmRGb3JtTmFtZSIsInRhc2tNb2RlIiwibWF4X3ZpZXdzIiwidXNlcl9jdXN0b21fY29uZmlnIiwic2V0VXNlck5hbWVGaXJzdFN0ZXAiLCJjb250YWluZXJDbHMiLCJyZW5kZXJUYXNrTW9kZSIsImRlZmF1bHRDZmciLCJ0YXNrTW9kZVNlbGVjdG9yIiwiZ2V0Q29uZmlnIiwiZ2V0U3Rvcmllc0NvbmZpZyIsImxpbWl0VmFsIiwiYWRkVGV4dEFyZWEiLCJmaWVsZExhc3QiLCJhZGRGaWxlVXBsb2FkQm94IiwiJGZpbGVVcGxvYWRCb3giLCIkdGl0bGVTdGVwQm94IiwiJGFkZFNldHRpbmdzIiwiaXNJbkN1cnJlbnRQYWdlIiwiaXNJblN0b3JpZXNQYWdlIiwidGFiU3RhdHVzIiwidHlwZVJhZGlvR3JvdXAiLCJhZGRVcGxvYWRCdXR0b24iLCJjaGVja1RpdGxlU3RlcDMiLCJhZnRlciIsIkxvZ2luUGFnZSJdLCJtYXBwaW5ncyI6IjtBQUFBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOzs7QUFHQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxtREFBMkMsY0FBYzs7QUFFekQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFLO0FBQ0w7QUFDQTs7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O0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBEQUEwRDtBQUMxRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsS0FBSztBQUM1Qix1QkFBdUIsSUFBSTtBQUMzQix1QkFBdUIsSUFBSTtBQUMzQix1QkFBdUIsSUFBSTtBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7O0FBRWI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTs7QUFFYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhOztBQUViO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7O0FBRWI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTs7QUFFYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7O0FBRWI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTs7QUFFYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7O0FBRWI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCLGFBQWE7QUFDYjtBQUNBO0FBQ0EsMEJBQTBCO0FBQzFCOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7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O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLDRCQUE0QixxQkFBcUI7QUFDakQ7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQSxxQ0FBcUMsMEJBQTBCO0FBQy9EO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSw2QkFBNkIsMEJBQTBCLGVBQWU7QUFDdEU7O0FBRUE7QUFDQTtBQUNBO0FBQ0EsQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxLQUFLOztBQUVMO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwiZmlsZSI6ImluZGV4LWFwcC5qcyIsInNvdXJjZXNDb250ZW50IjpbIiBcdC8vIFRoZSBtb2R1bGUgY2FjaGVcbiBcdHZhciBpbnN0YWxsZWRNb2R1bGVzID0ge307XG5cbiBcdC8vIFRoZSByZXF1aXJlIGZ1bmN0aW9uXG4gXHRmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKSB7XG5cbiBcdFx0Ly8gQ2hlY2sgaWYgbW9kdWxlIGlzIGluIGNhY2hlXG4gXHRcdGlmKGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdKSB7XG4gXHRcdFx0cmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7XG4gXHRcdH1cbiBcdFx0Ly8gQ3JlYXRlIGEgbmV3IG1vZHVsZSAoYW5kIHB1dCBpdCBpbnRvIHRoZSBjYWNoZSlcbiBcdFx0dmFyIG1vZHVsZSA9IGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdID0ge1xuIFx0XHRcdGk6IG1vZHVsZUlkLFxuIFx0XHRcdGw6IGZhbHNlLFxuIFx0XHRcdGV4cG9ydHM6IHt9XG4gXHRcdH07XG5cbiBcdFx0Ly8gRXhlY3V0ZSB0aGUgbW9kdWxlIGZ1bmN0aW9uXG4gXHRcdG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsIG1vZHVsZSwgbW9kdWxlLmV4cG9ydHMsIF9fd2VicGFja19yZXF1aXJlX18pO1xuXG4gXHRcdC8vIEZsYWcgdGhlIG1vZHVsZSBhcyBsb2FkZWRcbiBcdFx0bW9kdWxlLmwgPSB0cnVlO1xuXG4gXHRcdC8vIFJldHVybiB0aGUgZXhwb3J0cyBvZiB0aGUgbW9kdWxlXG4gXHRcdHJldHVybiBtb2R1bGUuZXhwb3J0cztcbiBcdH1cblxuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZXMgb2JqZWN0IChfX3dlYnBhY2tfbW9kdWxlc19fKVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5tID0gbW9kdWxlcztcblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGUgY2FjaGVcbiBcdF9fd2VicGFja19yZXF1aXJlX18uYyA9IGluc3RhbGxlZE1vZHVsZXM7XG5cbiBcdC8vIGlkZW50aXR5IGZ1bmN0aW9uIGZvciBjYWxsaW5nIGhhcm1vbnkgaW1wb3J0cyB3aXRoIHRoZSBjb3JyZWN0IGNvbnRleHRcbiBcdF9fd2VicGFja19yZXF1aXJlX18uaSA9IGZ1bmN0aW9uKHZhbHVlKSB7IHJldHVybiB2YWx1ZTsgfTtcblxuIFx0Ly8gZGVmaW5lIGdldHRlciBmdW5jdGlvbiBmb3IgaGFybW9ueSBleHBvcnRzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQgPSBmdW5jdGlvbihleHBvcnRzLCBuYW1lLCBnZXR0ZXIpIHtcbiBcdFx0aWYoIV9fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLCBuYW1lKSkge1xuIFx0XHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCBuYW1lLCB7XG4gXHRcdFx0XHRjb25maWd1cmFibGU6IGZhbHNlLFxuIFx0XHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcbiBcdFx0XHRcdGdldDogZ2V0dGVyXG4gXHRcdFx0fSk7XG4gXHRcdH1cbiBcdH07XG5cbiBcdC8vIGdldERlZmF1bHRFeHBvcnQgZnVuY3Rpb24gZm9yIGNvbXBhdGliaWxpdHkgd2l0aCBub24taGFybW9ueSBtb2R1bGVzXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm4gPSBmdW5jdGlvbihtb2R1bGUpIHtcbiBcdFx0dmFyIGdldHRlciA9IG1vZHVsZSAmJiBtb2R1bGUuX19lc01vZHVsZSA/XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0RGVmYXVsdCgpIHsgcmV0dXJuIG1vZHVsZVsnZGVmYXVsdCddOyB9IDpcbiBcdFx0XHRmdW5jdGlvbiBnZXRNb2R1bGVFeHBvcnRzKCkgeyByZXR1cm4gbW9kdWxlOyB9O1xuIFx0XHRfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLCAnYScsIGdldHRlcik7XG4gXHRcdHJldHVybiBnZXR0ZXI7XG4gXHR9O1xuXG4gXHQvLyBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGxcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubyA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHsgcmV0dXJuIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChvYmplY3QsIHByb3BlcnR5KTsgfTtcblxuIFx0Ly8gX193ZWJwYWNrX3B1YmxpY19wYXRoX19cbiBcdF9fd2VicGFja19yZXF1aXJlX18ucCA9IFwiXCI7XG5cbiBcdC8vIExvYWQgZW50cnkgbW9kdWxlIGFuZCByZXR1cm4gZXhwb3J0c1xuIFx0cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zID0gNTYpO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHdlYnBhY2svYm9vdHN0cmFwIDU1N2NiNDIyZTNjMjI2MGJhMjRkIiwiZXhwb3J0IGNvbnN0IENPTlNUID0ge1xyXG4gICAgdXJsOiB7XHJcbiAgICAgICAgdG1UeXBlczoge1xyXG4gICAgICAgICAgICBmb2xsb3dpbmdUOiAnRk9MTE9XSU5HJyxcclxuICAgICAgICAgICAgZm9sbG93aW5nU3ViVDogWydGT0xMT1dJTkdfQllfTElTVCcsICdGT0xMT1dJTkdfQllfQUNUSVZFX0FVRElFTkNFJ10sXHJcbiAgICAgICAgICAgIHVuZm9sbG93aW5nVDogJ1VORk9MTE9XSU5HJyxcclxuICAgICAgICAgICAgdW5mb2xsb3dpbmdTdWJUOiBbJ1VORk9MTE9XSU5HX0JZX0xJU1QnLCAnVU5GT0xMT1dJTkdfQllfQUxMJywgJ1VORk9MTE9XSU5HX0JZX05PTl9SRUNJUFJPQ0FMJ10sXHJcbiAgICAgICAgICAgIGNoYXRCb3RUOiAnQ0hBVF9CT1QnLFxyXG4gICAgICAgICAgICBjaGF0Qm90U3ViVDogWydERUZBVUxUX0NIQVRfQk9UJ10sXHJcbiAgICAgICAgICAgIGF1dG9tZXNzYWdlc1Q6ICdBVVRPX0FOU1dFUicsXHJcbiAgICAgICAgICAgIGF1dG9tZXNzYWdlc1N1YlQ6IFsnREVGQVVMVF9BVVRPX0FOU1dFUiddLFxyXG4gICAgICAgICAgICBhdXRvZ3JlZXRUOiAnQVVUT19HUkVFVElORycsXHJcbiAgICAgICAgICAgIGF1dG9ncmVldFN1YlQ6IFsnREVGQVVMVF9BVVRPX0dSRUVUSU5HJ10sXHJcbiAgICAgICAgICAgIHN0b3JpZXNUOiAnU1RPUklFUycsXHJcbiAgICAgICAgICAgIHN0b3JpZXNTdWJUOiBbJ1NUT1JJRVNfQllfTElTVCcsICdTVE9SSUVTX0JZX0ZPTExPV0VSUycsICdTVE9SSUVTX0JZX0FDVElWRV9BVURJRU5DRSddLFxyXG4gICAgICAgICAgICBhdXRvY29tbWVudHNUOiAnQVVUT19DT01NRU5UJyxcclxuICAgICAgICAgICAgYXV0b2NvbW1lbnRzU3ViVDogWydERUZBVUxUX0FVVE9fQ09NTUVOVCddXHJcbiAgICAgICAgfSxcclxuICAgICAgICBiYXNlOiAnaHR0cDovL2FwaS5sdXhncmFtLnJ1L3YxLycsXHJcbiAgICAgICAgcmVnaXN0cmF0aW9uOiAncmVnaXN0cmF0aW9uL2Jhc2ljLycsXHJcbiAgICAgICAgbG9naW46ICdyZWdpc3RyYXRpb24vYmFzaWMvbG9naW4nLFxyXG4gICAgICAgIGNvbmZpcm1hdGlvbjogJ3JlZ2lzdHJhdGlvbi9iYXNpYy9jb25maXJtYXRpb24/dG9rZW4nLFxyXG5cclxuICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgICAgICAgaW5zdGFncmFtX2FkZEFjY291bnQ6ICdpbnN0YWdyYW0tYWNjb3VudHMvJyxcclxuICAgICAgICBpbnN0YWdyYW1BY2NvdW50X2dldE1ldGFEYXRhOiAnaW5zdGFncmFtLWFjY291bnRzL21ldGEnLFxyXG4gICAgICAgIGluc3RhZ3JhbV9nZXRBY2NvdW50QnlVc2VyOiB1c2VybmFtZSA9PiBgaW5zdGFncmFtLWFjY291bnRzL21ldGEvJHt1c2VybmFtZX1gLFxyXG4gICAgICAgIGluc3RhZ3JhbV9tb2RpZnlBY2NvdW50OiB1c2VybmFtZSA9PiBgaW5zdGFncmFtLWFjY291bnRzLyR7dXNlcm5hbWV9YCxcclxuICAgICAgICBpbnN0YWdyYW1UYXNrTWFuYWdlcl9nZXRQb3N0czogYWNjb3VudE5hbWUgPT4gYGluc3RhZ3JhbS1hY2NvdW50cy8ke2FjY291bnROYW1lfS9wb3N0c2AsXHJcblxyXG4gICAgICAgIC8vIC1pbnN0YWdyYW0tYWNjb3VudHMtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICAgICAgICBpbnN0YWdyYW1BY2NvdW50X2NoZWNrcG9pbnQ6ICdpbnN0YWdyYW0tYWNjb3VudHMvY2hlY2twb2ludC8nLFxyXG4gICAgICAgIGluc3RhZ3JhbUFjY291bnRfY29uZmlybUtleTogJ2luc3RhZ3JhbS1hY2NvdW50cy9jaGVja3BvaW50LycsXHJcblxyXG4gICAgICAgIC8vIC1pbnN0YWdyYW0tZGlyZWN0LS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgICAgICAgaW5zdGFncmFtRGlyZWN0X0Jhc2ljOiAnaW5zdGFncmFtLWRpcmVjdCcsXHJcbiAgICAgICAgaW5zdGFncmFtRGlyZWN0X3Bvc3RNZXNzYWdlOiAnaW5zdGFncmFtLWRpcmVjdC8nLFxyXG4gICAgICAgIGluc3RhZ3JhbURpcmVjdF9nZXRNZXRhRGF0YTogJ2luc3RhZ3JhbS1kaXJlY3QvbWV0YScsXHJcbiAgICAgICAgaW5zdGFncmFtRGlyZWN0X1JlcXVlc3RQZW5kaW5nOiAnaW5zdGFncmFtLWRpcmVjdC9wZW5kaW5nJyxcclxuICAgICAgICAvLyBodHRwOi8vYXBpLmx1eGdyYW0ucnUvdjEvaW5zdGFncmFtLWRpcmVjdC97dXNlcm5hbWV9L3tpZH0vcGhvdG9cclxuXHJcbiAgICAgICAgLy8gLWluc3RhZ3JhbS10YXNrLW1hbmFnZXItLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICAgICAgICBpbnN0YWdyYW1UYXNrTWFuYWdlcjogJ2luc3RhZ3JhbS10YXNrLW1hbmFnZXIvJyxcclxuICAgICAgICBpbnN0YWdyYW1UYXNrTWFuYWdlcl9nZXRNZXRhRGF0YTogJ2luc3RhZ3JhbS10YXNrLW1hbmFnZXIvbWV0YScsXHJcbiAgICAgICAgaW5zdGFncmFtVGFza01hbmFnZXJfZ2V0VGFza0J5VHlwZXM6ICdpbnN0YWdyYW0tdGFzay1tYW5hZ2VyL21ldGEvdHlwZS8nLFxyXG4gICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tXHJcbiAgICAgICAgaW5zdGFncmFtVGFza01hbmFnZXJfZ2V0RGVmYXVsdENvbmZpZ3M6ICdpbnN0YWdyYW0tdGFzay1tYW5hZ2VyL2NvbmZpZy90eXBlJywgLy8ge1RZUEV9L3N1YnR5cGUve1NVQlRZUEV9XHJcbiAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS1cclxuICAgICAgICBpbnN0YWdyYW1UYXNrTWFuYWdlcl9wb3N0U3RhcnRGb2xsb3dpbmdMaXN0OiAnaW5zdGFncmFtLXRhc2stbWFuYWdlci90YXNrJyxcclxuICAgICAgICBpbnN0YWdyYW1UYXNrTWFuYWdlcl9wb3N0U3RhcnRUYXNrOiAnaW5zdGFncmFtLXRhc2stbWFuYWdlci90YXNrJyxcclxuICAgICAgICBpbnN0YWdyYW1UYXNrTWFuYWdlcl9nZXRUYXNrVHlwZXM6ICdpbnN0YWdyYW0tdGFzay1tYW5hZ2VyL3Rhc2svdHlwZXMnLFxyXG4gICAgICAgIGluc3RhZ3JhbVRhc2tNYW5hZ2VyX3B1dFN0b3BUYXNrQnlJRDogaWQgPT4gYGluc3RhZ3JhbS10YXNrLW1hbmFnZXIvdGFzay8ke2lkfWAsXHJcbiAgICAgICAgaW5zdGFncmFtVGFza01hbmFnZXJfZGVsUmVtb3ZlVGFza0J5SUQ6IGlkID0+IGBpbnN0YWdyYW0tdGFzay1tYW5hZ2VyL3Rhc2svJHtpZH1gLFxyXG4gICAgICAgIGluc3RhZ3JhbVRhc2tNYW5hZ2VyX3Bvc3RJbWFnZUF0dGFjaG1lbnQ6ICdpbnN0YWdyYW0tdGFzay1tYW5hZ2VyL3Rhc2svYXR0YWNobWVudC9pbWFnZScsXHJcbiAgICAgICAgaW5zdGFncmFtVGFza01hbmFnZXJfcG9zdFRleHRBdHRhY2htZW50OiAnaW5zdGFncmFtLXRhc2stbWFuYWdlci90YXNrL2F0dGFjaG1lbnQvdXNlcnNfbGlzdCcsXHJcbiAgICAgICAgaW5zdGFncmFtVGFza01hbmFnZXJfZ2V0TG9nc0NoYXRCb3Q6ICdpbnN0YWdyYW0tdGFzay1tYW5hZ2VyL2xvZ3MvdHlwZS8nIC8vIHtUWVBFfS9zdWJ0eXBlL3tTVUJUWVBFfS9hY2NvdW50L3t1c2VybmFtZX0/cGFnZT17cGFnZX1cclxuICAgIH0sXHJcbiAgICB1c2VyOiB7XHJcbiAgICAgICAgZGVmYXVsQXZhdGFyOiAnaHR0cHM6Ly9pLmltZ3VyLmNvbS9qTk5UNExFLnBuZycsIC8vIHRvZG86IGdldCBmcm9tIGRlc2lnbmVyXHJcbiAgICAgICAgZW1haWw6ICcnLFxyXG4gICAgICAgIHBhc3N3b3JkOiAnJyxcclxuICAgICAgICB0b2tlbjogJydcclxuICAgIH0sXHJcbiAgICBjb29raWVTdG9yYWdlOiB7XHJcbiAgICAgICAgdG9rZW46ICd1c2VyX2xvZ2dlZCcsXHJcbiAgICAgICAgZW1haWxDb25maXJtZWQ6ICdlbWFpbF9jb25maXJtZWQnXHJcbiAgICB9LFxyXG4gICAgdWlTZWxlY3RvcnM6IHtcclxuICAgICAgICBoZWFkZXJMb2dpbkJveDogJ25hdiAubG9naW4tYm94JyxcclxuICAgICAgICBoZWFkZXJOYXZMb2dpbkJ0bjogJ25hdiB1bCBsaSAuanNfbG9naW4nLFxyXG4gICAgICAgIGhlYWRlclJlZ0JveDogJ25hdiAucmVnaXN0ZXItYm94JyxcclxuICAgICAgICBoZWFkZXJSZWdCdG46ICduYXYgdWwgbGkgLmpzX3JlZ2lzdGVyJyxcclxuICAgICAgICBpbnN0YWdyYW06IHtcclxuICAgICAgICAgICAgYWRkQWNjb3VudEJ0blNlbGVjdG9yOiAnI2pzX3Nob3ctbG9naW4tYm94JyxcclxuICAgICAgICAgICAgYWRkQWNjb3VudEJ0bklkOiAnanNfc2hvdy1sb2dpbi1ib3gnXHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIGV2ZW50czoge1xyXG4gICAgICAgIFVTRVJfTE9HR0VEOiAndXNlcl9sb2dnZWQnLFxyXG4gICAgICAgIFVTRVJfTE9HT1VUOiAndXNlcl9sb2dvdXQnLFxyXG4gICAgICAgIFVTRVJfRU1BSUxfQ09ORklSTUVEOiAndXNlcl9lbWFpbF9jb25maXJtZWQnLFxyXG4gICAgICAgIFNUT1BfRklYRURfU1BJTk5FUjogJ3N0b3BfZml4ZWRfc3Bpbm5lcicsXHJcbiAgICAgICAgbWVzc2FnZXM6IHtcclxuICAgICAgICAgICAgUkVDSUVWRV9ORVdfTUVTU0FHRTogJ3JlY2VpdmVfbmV3X21lc3NhZ2UnXHJcbiAgICAgICAgfSxcclxuICAgICAgICBpbnN0YWdyYW1BY2NvdW5zOiB7XHJcbiAgICAgICAgICAgIElOU1RBR1JBTV9BQ0NPVU5TX05FRURfUkVGUkVTSDogJ2luc3RhZ3JhbV9hY2NvdW5zX25lZWRfcmVmcmVzaCcsXHJcbiAgICAgICAgICAgIElOU1RBR1JBTV9BQ0NPVU5TX1JFTkRFUkVEOiAnaW5zdGFncmFtX2FjY291bnNfcmVuZGVyZWQnLFxyXG4gICAgICAgICAgICBJTlNUQUdSQU1fQUNDT1VOU19SRU5ERVJFRF9MQVpZOiAnaW5zdGFncmFtX2FjY291bnNfcmVuZGVyZWRfbGF6eSdcclxuICAgICAgICB9LFxyXG4gICAgICAgIG1vZGFsOiB7XHJcbiAgICAgICAgICAgIElNQUdFX1BPU1RfU0VMRUNURUQ6ICdpbWFnZV9wb3N0X3NlbGVjdGVkJyxcclxuICAgICAgICAgICAgSU1BR0VfVVBMT0FERURfQVZBVEFSOiAnSU1BR0VfVVBMT0FERURfQVZBVEFSJ1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgYXV0b2FybnN3ZXI6IHtcclxuICAgICAgICAgICAgSU1BR0VfVVBMT0FERUQ6ICdpbWFnZV9sb2FkZWQnLFxyXG4gICAgICAgICAgICBURVhUX0ZJTEVfVVBMT0FERUQ6ICd0ZXh0X2ZpbGVfdXBsb2FkZWQnXHJcbiAgICAgICAgfSxcclxuICAgICAgICB0YXNrczoge1xyXG4gICAgICAgICAgICBORVdfVEFTS19DUkVBVEVEOiAnbmV3X3Rhc2tfY3JlYXRlZCdcclxuICAgICAgICB9LFxyXG4gICAgICAgIGxvZ3M6IHtcclxuICAgICAgICAgICAgU1RPUF9MT0dTOiAnc3RvcF9sb2dzJ1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBsb2dzU3RhdGU6IHtcclxuICAgICAgICBzZWxlY3RDbHM6ICdqc19sb2dzLWFjY291bnRzJyxcclxuICAgICAgICBzZWxlY3RDbHNMb2dzVGFza1R5cGU6ICdqc19sb2dzLXN1YnR5cGVzJyxcclxuICAgICAgICB3cmFwcGVyU3VidHlwZTogJy5sb2ctc3VieXBlJ1xyXG4gICAgfSxcclxuICAgIGdldFBhdGgobmFtZSwgaWQpIHtcclxuICAgICAgICBpZiAodHlwZW9mIHRoaXMudXJsW25hbWVdID09PSAnZnVuY3Rpb24nICYmIGlkKSB7XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnVybC5iYXNlICsgdGhpcy51cmxbbmFtZV0oaWQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcy51cmwuYmFzZSArIHRoaXMudXJsW25hbWVdO1xyXG4gICAgfSxcclxuICAgIGdldFBhdGhUeXBlU3VidHlwZShuYW1lLCBwYXRoLCBwYWdlKSB7XHJcbiAgICAgICAgY29uc3Qge3R5cGUsIHN1YnR5cGUsIHVzZXJuYW1lfSA9IHBhdGg7XHJcbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLnVybFtuYW1lXSA9PT0gJ2Z1bmN0aW9uJyAmJiB0eXBlICYmIHN1YnR5cGUpIHtcclxuICAgICAgICAgICAgaWYgKHVzZXJuYW1lICYmIHBhZ2UpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnVybC5iYXNlICsgdGhpcy51cmxbbmFtZV0ocGF0aCwgcGFnZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKHVzZXJuYW1lKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy51cmwuYmFzZSArIHRoaXMudXJsW25hbWVdKHBhdGgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnVybC5iYXNlICsgdGhpcy51cmxbbmFtZV0odHlwZSwgc3VidHlwZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzLnVybC5iYXNlICsgdGhpcy51cmxbbmFtZV07XHJcbiAgICB9LFxyXG4gICAgZ2V0UGF0aEJ5QXJyKG5hbWUsIGFycmF5LCBwYWdlKSB7XHJcbiAgICAgICAgY29uc3QgYmFzZSA9IHRoaXMudXJsLmJhc2UgKyB0aGlzLnVybFtuYW1lXTtcclxuICAgICAgICBjb25zdCByZWR1Y2VyID0gKGFjY3VtdWxhdG9yLCBjdXJyZW50VmFsdWUpID0+IGAke2FjY3VtdWxhdG9yfS8ke2N1cnJlbnRWYWx1ZX1gO1xyXG4gICAgICAgIGNvbnN0IHVybCA9IGJhc2UgKyBhcnJheS5yZWR1Y2UocmVkdWNlcik7IC8vICR7dHlwZX0vc3VidHlwZS8ke3N1YnR5cGV9XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2codXJsKTtcclxuICAgICAgICBpZiAocGFnZSkge1xyXG4gICAgICAgICAgICByZXR1cm4gYCR7dXJsfT9wYWdlPSR7cGFnZX1gO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdXJsO1xyXG4gICAgfVxyXG59O1xyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvY29tbW9uL2pzLXNlcnZpY2VzL2NvbnN0cy5qcyIsIi8vIGltcG9ydCAkIGZyb20gJ2pxdWVyeSc7XHJcbi8vIGltcG9ydCB7Q09OU1R9IGZyb20gJy4vY29uc3RzJztcclxuXHJcbmZ1bmN0aW9uIHZpZXdVdGlscygpIHtcclxuICAgIGZ1bmN0aW9uIHNob3dJbmZvTWVzc2FnZShzZWxlY3RvciwgbWVzc2FnZTEsIG1lc3NhZ2UyKSB7XHJcbiAgICAgICAgJChzZWxlY3RvcikuZW1wdHkoKVxyXG4gICAgICAgICAgICAuYXBwZW5kKGAkeyhtZXNzYWdlMSkgPyBgPHA+c3RhdHVzOiAke21lc3NhZ2UxfTwvcD5gIDogJyd9YClcclxuICAgICAgICAgICAgLmFwcGVuZChgPHA+JHttZXNzYWdlMn0gPC9wPmApO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGZpbGxMaXN0KCRsaXN0LCBkYXRhQXJyYXkpIHtcclxuICAgICAgICBjb25zdCBpdGVtcyA9IGRhdGFBcnJheTtcclxuICAgICAgICBjb25zdCBjTGlzdCA9ICRsaXN0O1xyXG4gICAgICAgIGNMaXN0LmVtcHR5KCk7XHJcbiAgICAgICAgaXRlbXMuZm9yRWFjaCgoaXRlbSwgaSkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBsaSA9ICQoJzxsaSBjbGFzcz1cImxpc3QtZ3JvdXAtaXRlbVwiPjwvbGk+JylcclxuICAgICAgICAgICAgICAgIC5hcHBlbmRUbyhjTGlzdCk7XHJcbiAgICAgICAgICAgICQoJzxhLz4nKS5hZGRDbGFzcygndWktYWxsJylcclxuICAgICAgICAgICAgICAgIC50ZXh0KGl0ZW0udXNlcm5hbWUpXHJcbiAgICAgICAgICAgICAgICAuYXBwZW5kVG8obGkpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGlzRW1haWwoZW1haWwpIHtcclxuICAgICAgICAvKiBlc2xpbnQtZGlzYWJsZSAqL1xyXG4gICAgICAgIGNvbnN0IHJlZ2V4ID0gL14oW2EtekEtWjAtOV8uKy1dKStcXEAoKFthLXpBLVowLTktXSkrXFwuKSsoW2EtekEtWjAtOV17Miw0fSkrJC87XHJcbiAgICAgICAgcmV0dXJuIHJlZ2V4LnRlc3QoZW1haWwpO1xyXG4gICAgICAgIC8qIGVzbGludC1lbmFibGUgKi9cclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBnZXRGb3JtYXR0ZWREYXRlVXRpbCh0U3RhbXAsIHNob3dGdWxsVGltZSkge1xyXG4gICAgICAgIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZSh0U3RhbXApO1xyXG5cclxuICAgICAgICBsZXQgbW9udGggPSBkYXRlLmdldE1vbnRoKCkgKyAxO1xyXG4gICAgICAgIGxldCBkYXkgPSBkYXRlLmdldERhdGUoKTtcclxuICAgICAgICBsZXQgaG91ciA9IGRhdGUuZ2V0SG91cnMoKTtcclxuICAgICAgICBsZXQgbWluID0gZGF0ZS5nZXRNaW51dGVzKCk7XHJcbiAgICAgICAgLy8gbGV0IHNlYyA9IGRhdGUuZ2V0U2Vjb25kcygpO1xyXG5cclxuICAgICAgICBtb250aCA9IChtb250aCA8IDEwID8gJzAnIDogJycpICsgbW9udGg7XHJcbiAgICAgICAgZGF5ID0gKGRheSA8IDEwID8gJzAnIDogJycpICsgZGF5O1xyXG4gICAgICAgIGhvdXIgPSAoaG91ciA8IDEwID8gJzAnIDogJycpICsgaG91cjtcclxuICAgICAgICBtaW4gPSAobWluIDwgMTAgPyAnMCcgOiAnJykgKyBtaW47XHJcbiAgICAgICAgLy8gc2VjID0gKHNlYyA8IDEwID8gJzAnIDogJycpICsgc2VjO1xyXG5cclxuICAgICAgICBsZXQgc3RyID0gJyc7XHJcbiAgICAgICAgaWYgKCFzaG93RnVsbFRpbWUpIHtcclxuICAgICAgICAgICAgc3RyID0gYCR7aG91cn06JHttaW59YDtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBzdHIgPSBgJHtkYXRlLmdldEZ1bGxZZWFyKCl9LSR7bW9udGh9LSR7ZGF5fSAke2hvdXJ9OiR7bWlufToke3NlY31gO1xyXG4gICAgICAgICAgICBzdHIgPSBgJHtkYXl9LSR7bW9udGh9LSR7ZGF0ZS5nZXRGdWxsWWVhcigpfSAke2hvdXJ9OiR7bWlufWA7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZXR1cm4gc3RyO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGlzRW1wdHkob2JqKSB7XHJcbiAgICAgICAgcmV0dXJuICFvYmogfHwgT2JqZWN0LmtleXMob2JqKS5sZW5ndGggPT09IDA7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZmlsbFJhZGlvR3JvdXBMaXN0KCR3cmFwcGVyLCB0YXNrTW9kZXMsIF9hY3Rpb25UZXh0KSB7XHJcbiAgICAgICAgaWYgKGlzRW1wdHkodGFza01vZGVzKSkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmluZm8oJ3Rhc2tNb2RlcyBpcyBlbXB0eScpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBhY3Rpb25UZXh0ID0gX2FjdGlvblRleHQgfHwgJ9C/0L7QtNC/0LjRgdC+0LonOyAvLyB0b2RvXHJcbiAgICAgICAgY29uc3QgcmFkaW9CdG5SZWR1Y2VyID0gZnVuY3Rpb24gKGl0ZW0sIHZhbCkge1xyXG4gICAgICAgICAgICBzd2l0Y2ggKGl0ZW0pIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ0FHR1JFU1NJVkUnOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgPGlucHV0IHR5cGU9XCJyYWRpb1wiIGlkPVwiJHtpdGVtfVwiIG5hbWU9XCJjdXN0b21SYWRpb1wiIHZhbHVlPVwiJHtpdGVtfVwiIGNsYXNzPVwiY3VzdG9tLWNvbnRyb2wtaW5wdXRcIj5cclxuICAgICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3M9XCJjdXN0b20tY29udHJvbC1sYWJlbFwiIGZvcj1cIiR7aXRlbX1cIj48c3Ryb25nPtCQ0LPRgNC10YHRgdC40LLQvdGL0Lk6PC9zdHJvbmc+ICR7dmFsfSAke2FjdGlvblRleHR9INCyINGH0LDRgTwvbGFiZWw+YDtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ01JRERMRSc6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChgPGlucHV0IHR5cGU9XCJyYWRpb1wiIGlkPVwiJHtpdGVtfVwiIG5hbWU9XCJjdXN0b21SYWRpb1wiIHZhbHVlPVwiJHtpdGVtfVwiIGNsYXNzPVwiY3VzdG9tLWNvbnRyb2wtaW5wdXRcIj5cclxuICAgICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3M9XCJjdXN0b20tY29udHJvbC1sYWJlbFwiIGZvcj1cIiR7aXRlbX1cIj48c3Ryb25nPtCh0YDQtdC00L3QuNC5Ojwvc3Ryb25nPiAke3ZhbH0gJHthY3Rpb25UZXh0fSDQsiDRh9Cw0YE8L2xhYmVsPmApO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnU0FGRSc6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGA8aW5wdXQgdHlwZT1cInJhZGlvXCIgaWQ9XCIke2l0ZW19XCIgbmFtZT1cImN1c3RvbVJhZGlvXCIgdmFsdWU9XCIke2l0ZW19XCIgY2xhc3M9XCJjdXN0b20tY29udHJvbC1pbnB1dFwiIGNoZWNrZWQ+XHJcbiAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzPVwiY3VzdG9tLWNvbnRyb2wtbGFiZWxcIiBmb3I9XCIke2l0ZW19XCI+PHN0cm9uZz7QkdC10LfQvtC/0LDRgdC90YvQuTo8L3N0cm9uZz4gJHt2YWx9ICR7YWN0aW9uVGV4dH0g0LIg0YfQsNGBPC9sYWJlbD5gO1xyXG4gICAgICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnZGVmYXVsdCcsIGl0ZW0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgIC8vIGNvbnNvbGUubG9nKCdkcmF3IHNwZWVkIHJhZGlvQnRuJyk7XHJcbiAgICAgICAgJHdyYXBwZXIuZW1wdHkoKTtcclxuICAgICAgICBmb3IgKGNvbnN0IGl0ZW0gaW4gdGFza01vZGVzKSB7XHJcbiAgICAgIC8vIGNvbnNvbGUubG9nKCdzdHJ1Y3R1cmU6ICcgKyBpdGVtKTtcclxuICAgICAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0YXNrTW9kZXMsIGl0ZW0pKSB7XHJcbiAgICAgICAgICAgICAgICAkKGA8ZGl2IGNsYXNzPVwiY3VzdG9tLWNvbnRyb2wgY3VzdG9tLXJhZGlvXCI+XHJcbiAgICAgICAgICAgICAgICAke3JhZGlvQnRuUmVkdWNlcihpdGVtLCB0YXNrTW9kZXNbaXRlbV0pfVxyXG4gICAgICAgICAgICA8L2Rpdj5gKS5hcHBlbmRUbygkd3JhcHBlcik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZ2V0VmFsQnlDb21tYVNlcGFyYXRvcigkZWwpIHtcclxuICAgICAgICByZXR1cm4gJGVsLnZhbCgpXHJcbiAgICAgICAgICAgICAgICAudHJpbSgpXHJcbiAgICAgICAgICAgICAgICAuc3BsaXQoJywnKVxyXG4gICAgICAgICAgICAgICAgLm1hcChpID0+IGkudHJpbSgpLnJlcGxhY2UoJ+KGtScsICcnKSlcclxuICAgICAgICAgICAgICAgIC5maWx0ZXIoaSA9PiBpLmxlbmd0aCA+IDApXHJcbiAgICAgICAgICAgIDtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIGNmZyA9eyBsb2dzU3RhdGUsIGNiRk4oKSB9XHJcbiAgICAgKi9cclxuICAgIGZ1bmN0aW9uIGFkZERyb3Bkb3duKCR3cmFwcGVyLCBpdGVtcywgY2ZnKSB7XHJcbiAgICAgICAgY29uc3Qge3RleHRSdXNBcnJheSwgbG9nc1N0YXRlfSA9IGNmZztcclxuICAgICAgICBjb25zdCB7c2VsZWN0Q2xzTG9nc1Rhc2tUeXBlfSA9IGxvZ3NTdGF0ZTtcclxuICAgICAgICBjb25zdCBsYWJlbCA9ICfQktGL0LHQtdGA0LjRgtC1INGC0LjQvyc7XHJcbiAgICAgICAgY29uc3QgZ2V0UnVzID0gKGlkeCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBpc1RleHRVbmZvbGxvdyA9IHRleHRSdXNBcnJheSAmJiAhIXRleHRSdXNBcnJheS5sZW5ndGg7XHJcbiAgICAgICAgICAgIHN3aXRjaCAoaWR4KSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDAgOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAoaXNUZXh0VW5mb2xsb3cpID8gdGV4dFJ1c0FycmF5W2lkeF0gOiAn0J/QviDQv9C+0LTQv9C40YHRh9C40LrQsNC8JztcclxuICAgICAgICAgICAgICAgIGNhc2UgMSA6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChpc1RleHRVbmZvbGxvdykgPyB0ZXh0UnVzQXJyYXlbaWR4XSA6ICfQn9C+INCw0LrRgtC40LLQvdC+0Lkg0LDRg9C00LjRgtC+0YDQuNC4INC60L7QvdC60YPRgNC10L3RgtC+0LInO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAyIDpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKGlzVGV4dFVuZm9sbG93KSA/IHRleHRSdXNBcnJheVtpZHhdIDogJ2RlZmF1bHQgLSAoMyknO1xyXG4gICAgICAgICAgICAgICAgZGVmYXVsdDogcmV0dXJuICdkZWZhdWx0JztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgJHdyYXBwZXIuZW1wdHkoKS5hZGRDbGFzcygnYm9yZGVyLWxpZ2h0LWNvbG9yJyk7XHJcbiAgICAgICAgJChgPGRpdiBjbGFzcz1cIlwiPiR7bGFiZWx9PC9kaXY+PHNlbGVjdCBuYW1lPVwidGFzay1zdWJ0eXBlXCIgY2xhc3M9XCIke3NlbGVjdENsc0xvZ3NUYXNrVHlwZX1cIj48L3NlbGVjdD5gKS5hcHBlbmRUbygkd3JhcHBlcik7XHJcbiAgICAgICAgaWYgKCFpdGVtcy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoY2ZnLmlzUmVuZGVyRW1wdHlPcHRpb24pIHtcclxuICAgICAgICAgICAgJCgnPG9wdGlvbiBjbGFzcz1cImxpc3QtZ3JvdXAtaXRlbSBweS0yIGpzX2VtcHR5LXN1YnR5cGVcIiB2YWx1ZT1cIi0tLVwiPi0tLTwvb3B0aW9uPicpLmFwcGVuZFRvKCQoYC4ke3NlbGVjdENsc0xvZ3NUYXNrVHlwZX1gKSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGl0ZW1zLmZvckVhY2goKG5hbWUsIGlkeCkgPT4ge1xyXG4gICAgICAgICAgICAkKGA8b3B0aW9uIGNsYXNzPVwibGlzdC1ncm91cC1pdGVtIHB5LTJcIiB2YWx1ZT1cIiR7bmFtZX1cIj5cclxuICAgICAgICAgICAgICAgICR7Z2V0UnVzKGlkeCl9XHJcbiAgICAgICAgICAgIDwvb3B0aW9uPmApLmFwcGVuZFRvKCQoYC4ke3NlbGVjdENsc0xvZ3NUYXNrVHlwZX1gKSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgaWYgKGNmZy5kcm9wZG93bk9uU2VsZWN0Q2IpIHtcclxuICAgICAgICAgICAgJChgLiR7c2VsZWN0Q2xzTG9nc1Rhc2tUeXBlfWApLm9uKCdjaGFuZ2UnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBjZmcuZHJvcGRvd25PblNlbGVjdENiKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIHNob3dJbmZvTWVzc2FnZSxcclxuICAgICAgICBmaWxsTGlzdCxcclxuICAgICAgICBmaWxsUmFkaW9Hcm91cExpc3QsXHJcbiAgICAgICAgaXNFbWFpbCxcclxuICAgICAgICBnZXRGb3JtYXR0ZWREYXRlVXRpbCxcclxuICAgICAgICBnZXRWYWxCeUNvbW1hU2VwYXJhdG9yLFxyXG4gICAgICAgIGFkZERyb3Bkb3duXHJcbiAgICB9O1xyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCB2aWV3VXRpbHMoKTtcclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2NvbW1vbi9qcy1zZXJ2aWNlcy92aWV3LmpzIiwiLy8gaW1wb3J0ICQgZnJvbSAnanF1ZXJ5JztcclxuaW1wb3J0IHtDT05TVH0gZnJvbSAnLi9jb25zdHMnO1xyXG5pbXBvcnQgTmV0d29yayBmcm9tICcuL25ldHdvcmsnO1xyXG5pbXBvcnQgQ29va2llU3RvcmFnZSBmcm9tICcuL2Nvb2tpZSc7XHJcblxyXG5jb25zdCBvYmpUb0FyciA9IChvYmopID0+IHtcclxuICAgIGlmIChvYmogJiYgb2JqLnN1YnR5cGUpIHtcclxuICAgICAgICBpZiAoIW9iai5zdWJ0eXBlLmluY2x1ZGVzKCdzdWJ0eXBlLycpKSB7XHJcbiAgICAgICAgICAgIG9iai5zdWJ0eXBlID0gYHN1YnR5cGUvJHtvYmouc3VidHlwZX1gO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiBPYmplY3QudmFsdWVzKG9iaik7XHJcbn07XHJcblxyXG5jbGFzcyBVc2VyVGFza01hbmFnZXIge1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRoaXMubmV0d29yayA9IG5ldyBOZXR3b3JrKCk7XHJcbiAgICAgICAgdGhpcy5jb29raWVTdG9yYWdlID0gQ29va2llU3RvcmFnZTtcclxuICAgICAgICB0aGlzLnNldHRpbmdQb3N0ID0ge1xyXG4gICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcclxuICAgICAgICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcclxuICAgICAgICAgICAgICAgICdBY2NlcHQnOiAnYXBwbGljYXRpb24vanNvbidcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgdGhpcy5wb3N0U3RhcnRGb2xsb3dpbmdMaXN0ID0gdGhpcy5wb3N0U3RhcnRGb2xsb3dpbmdMaXN0O1xyXG4gICAgICAgIHRoaXMucG9zdFN0YXJ0VGFzayA9IHRoaXMucG9zdFN0YXJ0VGFzaztcclxuICAgIH1cclxuXHJcbiAgICAvLyBpc0xvZ2dlZEluKCkge1xyXG4gICAgLy8gICAgIHJldHVybiAhIXRoaXMuZ2V0VG9rZW4oKTtcclxuICAgIC8vIH1cclxuICAgIC8vXHJcbiAgICAvLyBpc0VtYWlsQ29uZmlybWVkKCkge1xyXG4gICAgLy8gICAgIHJldHVybiAodGhpcy5jb29raWVTdG9yYWdlLmdldChDT05TVC5jb29raWVTdG9yYWdlLmVtYWlsQ29uZmlybWVkKSA9PT0gJ2NvbmZpcm1lZCcpO1xyXG4gICAgLy8gfVxyXG4gICAgZ2V0VG9rZW4oYXNIZWFkZXIpIHtcclxuICAgICAgICBjb25zdCBjb29raWVUb2tlbiA9IHRoaXMuY29va2llU3RvcmFnZS5nZXQoQ09OU1QuY29va2llU3RvcmFnZS50b2tlbik7XHJcbiAgICAgICAgcmV0dXJuIChhc0hlYWRlcikgPyB7aGVhZGVyczoge3Rva2VuOiBjb29raWVUb2tlbn19IDogY29va2llVG9rZW47XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0TWV0YWRhdGEocGF0aCwgY2JFcnJvcikge1xyXG4gICAgICAgIGNvbnN0IHBhdGhBcnIgPSBvYmpUb0FycihwYXRoKTtcclxuICAgICAgICByZXR1cm4gdGhpcy5uZXR3b3JrLnNlbmRSZXF1ZXN0KGAke0NPTlNULmdldFBhdGhCeUFycignaW5zdGFncmFtVGFza01hbmFnZXJfZ2V0VGFza0J5VHlwZXMnLCBwYXRoQXJyKX1gLFxyXG4gICAgICAgICAgICB0aGlzLmdldFRva2VuKCdhc0hlYWRlcicpLCBjYkVycm9yKTtcclxuICAgIH1cclxuICAgIGdldE1ldGFkYXRhTGF6eShwYXRoLCBjYkVycm9yKSB7XHJcbiAgICAgICAgY29uc3QgcGF0aEFyciA9IG9ialRvQXJyKHBhdGgpO1xyXG4gICAgICAgIHBhdGhBcnIucHVzaCgnP2xhenk9dHJ1ZScpO1xyXG4gICAgICAgIHJldHVybiB0aGlzLm5ldHdvcmsuc2VuZFJlcXVlc3QoYCR7Q09OU1QuZ2V0UGF0aEJ5QXJyKCdpbnN0YWdyYW1UYXNrTWFuYWdlcl9nZXRUYXNrQnlUeXBlcycsIHBhdGhBcnIpfWAsXHJcbiAgICAgICAgICAgIHRoaXMuZ2V0VG9rZW4oJ2FzSGVhZGVyJyksIGNiRXJyb3IpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldFRhc2tUeXBlcyhkZXRhaWxzLCBjYkVycm9yKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubmV0d29yay5zZW5kUmVxdWVzdChgJHtDT05TVC5nZXRQYXRoKCdpbnN0YWdyYW1UYXNrTWFuYWdlcl9nZXRUYXNrVHlwZXMnKX1gLFxyXG4gICAgICAgICAgICB0aGlzLmdldFRva2VuKCdhc0hlYWRlcicpLCBjYkVycm9yKTtcclxuICAgIH1cclxuXHJcbiAgICBzdG9wVGFza0J5SUQodGFza0lkLCBjYkVycm9yKSB7XHJcbiAgICAgICAgY29uc3Qgc2V0dGluZyA9IHtcclxuICAgICAgICAgICAgLi4udGhpcy5zZXR0aW5nUG9zdCxcclxuICAgICAgICAgICAgbWV0aG9kOiAnUFVUJyxcclxuICAgICAgICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICAgICAgICAgLi4udGhpcy5zZXR0aW5nUG9zdC5oZWFkZXJzLFxyXG4gICAgICAgICAgICAgICAgJ3Rva2VuJzogdGhpcy5nZXRUb2tlbigpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIGNvbnN0IHVybCA9IENPTlNULmdldFBhdGgoJ2luc3RhZ3JhbVRhc2tNYW5hZ2VyX3B1dFN0b3BUYXNrQnlJRCcsIHRhc2tJZCk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubmV0d29yay5zZW5kUmVxdWVzdCh1cmwsXHJcbiAgICAgICAgICAgIHNldHRpbmcsIGNiRXJyb3IpO1xyXG4gICAgfVxyXG5cclxuICAgIGRlbGV0ZVRhc2tCeUlEKHRhc2tJZCwgY2JFcnJvcikge1xyXG4gICAgICAgIGNvbnN0IHNldHRpbmcgPSB7XHJcbiAgICAgICAgICAgIC4uLnRoaXMuc2V0dGluZ1Bvc3QsXHJcbiAgICAgICAgICAgIG1ldGhvZDogJ0RFTEVURScsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAgICAgICAgIC4uLnRoaXMuc2V0dGluZ1Bvc3QuaGVhZGVycyxcclxuICAgICAgICAgICAgICAgICd0b2tlbic6IHRoaXMuZ2V0VG9rZW4oKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICBjb25zdCB1cmwgPSBDT05TVC5nZXRQYXRoKCdpbnN0YWdyYW1UYXNrTWFuYWdlcl9kZWxSZW1vdmVUYXNrQnlJRCcsIHRhc2tJZCk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubmV0d29yay5zZW5kUmVxdWVzdCh1cmwsXHJcbiAgICAgICAgICAgIHNldHRpbmcsIGNiRXJyb3IpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldERlZmF1bHRDb25maWdzKHBhdGgsIGNiRXJyb3IpIHtcclxuICAgICAgICBjb25zdCB1cmwgPSBgJHtDT05TVC5nZXRQYXRoKCdpbnN0YWdyYW1UYXNrTWFuYWdlcl9nZXREZWZhdWx0Q29uZmlncycpfS8ke3BhdGgudHlwZX0vc3VidHlwZS8ke3BhdGguc3VidHlwZX1gO1xyXG4gICAgICAgIHJldHVybiB0aGlzLm5ldHdvcmsuc2VuZFJlcXVlc3QodXJsLFxyXG4gICAgICAgICAgICB0aGlzLmdldFRva2VuKCdhc0hlYWRlcicpLCBjYkVycm9yKTtcclxuICAgIH1cclxuXHJcbiAgICBwb3N0U3RhcnRGb2xsb3dpbmdMaXN0KGJvZHksIGNiRXJyb3IsIHBhdGgpIHtcclxuICAgICAgICBjb25zdCBzZXR0aW5nID0ge1xyXG4gICAgICAgICAgICAuLi50aGlzLnNldHRpbmdQb3N0LFxyXG4gICAgICAgICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgICAgICAgICAuLi50aGlzLnNldHRpbmdQb3N0LmhlYWRlcnMsXHJcbiAgICAgICAgICAgICAgICAndG9rZW4nOiB0aGlzLmdldFRva2VuKCksXHJcbiAgICAgICAgICAgICAgICAnWC1BdXRoLVRva2VuJzogJ2UyZjQzMzZhYmVhNDQwNDg5YzUxYzVjMTAyOTRlYTEyJ1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICBzZXR0aW5nLmJvZHkgPSBKU09OLnN0cmluZ2lmeShib2R5KTtcclxuICAgICAgICBjb25zdCB1cmwgPSBwYXRoID8gYCR7Q09OU1QuZ2V0UGF0aChwYXRoKX1gIDogYCR7Q09OU1QuZ2V0UGF0aCgnaW5zdGFncmFtVGFza01hbmFnZXJfcG9zdFN0YXJ0Rm9sbG93aW5nTGlzdCcpfWA7XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzLm5ldHdvcmsuc2VuZFJlcXVlc3QodXJsLFxyXG4gICAgICAgICAgICBzZXR0aW5nLCBjYkVycm9yKTtcclxuICAgIH1cclxuXHJcbiAgICBwb3N0U3RhcnRUYXNrKGJvZHksIGNiRXJyb3IpIHtcclxuICAgICAgICBjb25zdCBwYXRoID0gJ2luc3RhZ3JhbVRhc2tNYW5hZ2VyX3Bvc3RTdGFydFRhc2snO1xyXG4gICAgICAgIHJldHVybiB0aGlzLnBvc3RTdGFydEZvbGxvd2luZ0xpc3QoYm9keSwgY2JFcnJvciwgcGF0aCk7XHJcbiAgICB9XHJcbiAgICBwb3N0U3RhcnRDb21tZW50cyhib2R5LCBjYkVycm9yKSB7XHJcbiAgICAgICAgY29uc3QgcGF0aCA9ICdpbnN0YWdyYW1UYXNrTWFuYWdlcl9wb3N0U3RhcnRUYXNrJztcclxuICAgICAgICByZXR1cm4gdGhpcy5wb3N0U3RhcnRGb2xsb3dpbmdMaXN0KGJvZHksIGNiRXJyb3IsIHBhdGgpO1xyXG4gICAgfVxyXG4gICAgcG9zdEltYWdlQXV0b21lc3NhZ2VzKGJvZHksIGNiRXJyb3IpIHtcclxuICAgICAgICBjb25zdCBzZXR0aW5nID0ge1xyXG4gICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcclxuICAgICAgICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICAgICAgICAgJ3Rva2VuJzogdGhpcy5nZXRUb2tlbigpLFxyXG4gICAgICAgICAgICAgICAgJ0FjY2VwdCc6ICdhcHBsaWNhdGlvbi9qc29uJyxcclxuICAgICAgICAgICAgICAgICdDb250ZW50LXR5cGUnOiAnbXVsdGlwYXJ0L2Zvcm0tZGF0YSdcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgc2V0dGluZy5ib2R5ID0gSlNPTi5zdHJpbmdpZnkoYm9keSk7XHJcbiAgICAgICAgY29uc3QgdXJsID0gYCR7Q09OU1QuZ2V0UGF0aCgnaW5zdGFncmFtVGFza01hbmFnZXJfcG9zdEltYWdlQXR0YWNobWVudCcpfWA7XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzLm5ldHdvcmsuc2VuZFJlcXVlc3QodXJsLFxyXG4gICAgICAgICAgICBzZXR0aW5nLCBjYkVycm9yKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRMb2dzQ2hhdEJvdChwYXRoQXJyYXksIHBhZ2UsIGNiRXJyb3IpIHtcclxuICAgICAgICAvLyBjb25zdCBwYXRoQXJyID0gb2JqVG9BcnIocGF0aCk7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coJ2NvbnZlcnQgcGF0aCBhcyBBUlInLCBwYXRoQXJyYXksIHBhZ2UpO1xyXG4gICAgICAgIHJldHVybiB0aGlzLm5ldHdvcmsuc2VuZFJlcXVlc3QoYCR7Q09OU1QuZ2V0UGF0aEJ5QXJyKCdpbnN0YWdyYW1UYXNrTWFuYWdlcl9nZXRMb2dzQ2hhdEJvdCcsIHBhdGhBcnJheSwgcGFnZSl9YCxcclxuICAgICAgICAgICAgdGhpcy5nZXRUb2tlbignYXNIZWFkZXInKSwgY2JFcnJvcik7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0UG9zdHNBdXRvbWVzc2FnZXMoZGV0YWlscywgY2JFcnJvcikge1xyXG4gICAgICAgIGNvbnN0IGN1cnNvciA9IChkZXRhaWxzLmN1cnNvcikgPyBgP2N1cnNvcj0ke2RldGFpbHMuY3Vyc29yfWAgOiAnJztcclxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcGFyYW0tcmVhc3NpZ25cclxuICAgICAgICBjb25zdCB1cmxCeVVzZXJOYW1lID0gYCR7Q09OU1QuZ2V0UGF0aCgnaW5zdGFncmFtVGFza01hbmFnZXJfZ2V0UG9zdHMnLCBkZXRhaWxzLnVzZXJOYW1lIHx8ICd1c2VyX25vdF9zZWxlY3RlZCcpfSR7Y3Vyc29yfWA7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubmV0d29yay5zZW5kUmVxdWVzdCh1cmxCeVVzZXJOYW1lLFxyXG4gICAgICAgICAgICB0aGlzLmdldFRva2VuKCdhc0hlYWRlcicpLCBjYkVycm9yKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRTdG9yaWVzQ29uZmlnKHBhdGgsIGNiRXJyb3IpIHtcclxuICAgICAgICBjb25zdCB1cmwgPSBgJHtDT05TVC5nZXRQYXRoKCdpbnN0YWdyYW1UYXNrTWFuYWdlcl9nZXREZWZhdWx0Q29uZmlncycpfS8ke3BhdGgudHlwZX0vc3VidHlwZS8ke3BhdGguc3VidHlwZX1gO1xyXG4gICAgICAgIHJldHVybiB0aGlzLm5ldHdvcmsuc2VuZFJlcXVlc3QodXJsLFxyXG4gICAgICAgICAgdGhpcy5nZXRUb2tlbignYXNIZWFkZXInKSwgY2JFcnJvcik7XHJcbiAgICB9XHJcblxyXG59XHJcblxyXG5sZXQgdXNlckluc3RhbmNlID0gbnVsbDtcclxuXHJcbmlmICghdXNlckluc3RhbmNlKSB7XHJcbiAgICB1c2VySW5zdGFuY2UgPSBuZXcgVXNlclRhc2tNYW5hZ2VyKCk7XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IHVzZXJJbnN0YW5jZTtcclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2NvbW1vbi9qcy1zZXJ2aWNlcy9hcGktdGFzay1tYW5hZ2VyLmpzIiwiLy8gaW1wb3J0ICQgZnJvbSAnanF1ZXJ5JztcclxuaW1wb3J0IHtDT05TVH0gZnJvbSAnLi9jb25zdHMnO1xyXG5pbXBvcnQgTmV0d29yayBmcm9tICcuL25ldHdvcmsnO1xyXG5pbXBvcnQgQ29va2llU3RvcmFnZSBmcm9tICcuL2Nvb2tpZSc7XHJcblxyXG5jbGFzcyBVc2VyIHtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB0aGlzLm5ldHdvcmsgPSBuZXcgTmV0d29yaygpO1xyXG4gICAgICAgIHRoaXMuY29va2llU3RvcmFnZSA9IENvb2tpZVN0b3JhZ2U7XHJcbiAgICAgICAgdGhpcy5zZXR0aW5nUG9zdCA9IHtcclxuICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXHJcbiAgICAgICAgICAgICAgICAnQWNjZXB0JzogJ2FwcGxpY2F0aW9uL2pzb24nXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIGlzTG9nZ2VkSW4oKSB7XHJcbiAgICAgICAgcmV0dXJuICEhdGhpcy5nZXRUb2tlbigpO1xyXG4gICAgfVxyXG5cclxuICAgIGlzRW1haWxDb25maXJtZWQoKSB7XHJcbiAgICAgICAgcmV0dXJuICh0aGlzLmNvb2tpZVN0b3JhZ2UuZ2V0KENPTlNULmNvb2tpZVN0b3JhZ2UuZW1haWxDb25maXJtZWQpID09PSAnY29uZmlybWVkJyk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0VG9rZW4oYXNIZWFkZXIpIHtcclxuICAgICAgICBjb25zdCBjb29raWVUb2tlbiA9IHRoaXMuY29va2llU3RvcmFnZS5nZXQoQ09OU1QuY29va2llU3RvcmFnZS50b2tlbik7XHJcbiAgICAgICAgcmV0dXJuIChhc0hlYWRlcikgPyB7aGVhZGVyczoge3Rva2VuOiBjb29raWVUb2tlbn19IDogY29va2llVG9rZW47XHJcbiAgICB9XHJcblxyXG4gICAgbG9naW4oZm9ybURhdGEsIGNiRXJyb3IpIHtcclxuICAgICAgICBjb25zdCBzZXR0aW5nID0gey4uLnRoaXMuc2V0dGluZ1Bvc3QsIGJvZHk6IEpTT04uc3RyaW5naWZ5KGZvcm1EYXRhKX07XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubmV0d29yay5zZW5kUmVxdWVzdChDT05TVC5nZXRQYXRoKCdsb2dpbicpLCBzZXR0aW5nLCBjYkVycm9yKTtcclxuICAgIH1cclxuXHJcbiAgICBhZGRJbnN0YWdyYW1BY2NvdW50KGZvcm1EYXRhLCBjYkVycm9yKSB7XHJcbiAgICAgICAgY29uc3Qge3VzZXJuYW1lLCBwYXNzd29yZCwgaXAsIHBvcnQsIHVzZXJuYW1lUHJveHksIHBhc3N3b3JkUHJveHl9ID0gZm9ybURhdGE7XHJcblxyXG4gICAgICAgIC8vIFRPRE86IGRlbCBwcm94eVRNUCBhZnRlciBiZXRhLXRlc3RpbmdcclxuICAgICAgICBjb25zdCBwcm94eVRNUCA9IHtcclxuICAgICAgICAgICAgJ3Byb3h5Jzoge1xyXG4gICAgICAgICAgICAgICAgJ2hvc3QnOiBpcCxcclxuICAgICAgICAgICAgICAgIHBvcnQsXHJcbiAgICAgICAgICAgICAgICB1c2VybmFtZTogdXNlcm5hbWVQcm94eSxcclxuICAgICAgICAgICAgICAgIHBhc3N3b3JkOiBwYXNzd29yZFByb3h5XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIGNvbnN0IGJvZHkgPSBKU09OLnN0cmluZ2lmeSh7dXNlcm5hbWUsXHJcbiAgICAgICAgICAgIHBhc3N3b3JkLFxyXG4gICAgICAgICAgICAuLi5wcm94eVRNUCAvLyBUT0RPOiBkZWwgcHJveHlUTVAgYWZ0ZXIgYmV0YS10ZXN0aW5nXHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgY29uc3Qgc2V0dGluZyA9IHtcclxuICAgICAgICAgICAgLi4udGhpcy5zZXR0aW5nUG9zdCxcclxuICAgICAgICAgICAgYm9keSxcclxuICAgICAgICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICAgICAgICAgLi4udGhpcy5zZXR0aW5nUG9zdC5oZWFkZXJzLFxyXG4gICAgICAgICAgICAgICAgdG9rZW46IHRoaXMuZ2V0VG9rZW4oKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXMubmV0d29yay5zZW5kUmVxdWVzdChDT05TVC5nZXRQYXRoKCdpbnN0YWdyYW1fYWRkQWNjb3VudCcpLCBzZXR0aW5nLCBjYkVycm9yKTtcclxuICAgIH1cclxuICAgIGVkaXRJbnN0YWdyYW1BY2NvdW50KHVzZXJuYW1lLCBib2R5KSB7XHJcbiAgICAgICAgY29uc3Qgc2V0dGluZyA9IHtcclxuICAgICAgICAgICAgbWV0aG9kOiAnUFVUJyxcclxuICAgICAgICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICAgICAgICAgLi4udGhpcy5zZXR0aW5nUG9zdC5oZWFkZXJzLFxyXG4gICAgICAgICAgICAgICAgJ3Rva2VuJzogdGhpcy5nZXRUb2tlbigpXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGJvZHlcclxuICAgICAgICB9O1xyXG4gICAgICAgIGNvbnN0IHVybCA9IGAke0NPTlNULmdldFBhdGgoJ2luc3RhZ3JhbV9tb2RpZnlBY2NvdW50JywgdXNlcm5hbWUpfWA7XHJcbiAgICAgICAgY29uc29sZS5sb2codXJsKTtcclxuICAgICAgICByZXR1cm4gdGhpcy5uZXR3b3JrLnNlbmRSZXF1ZXN0KGAke0NPTlNULmdldFBhdGgoJ2luc3RhZ3JhbV9tb2RpZnlBY2NvdW50JywgdXNlcm5hbWUpfWAsIHNldHRpbmcpO1xyXG4gICAgfVxyXG4gICAgdXBkYXRlSW5zdGFncmFtQWNjb3VudCh1c2VybmFtZSwgYm9keSkge1xyXG4gICAgICAgIGNvbnN0IHNldHRpbmcgPSB7XHJcbiAgICAgICAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAgICAgICAgIC4uLnRoaXMuc2V0dGluZ1Bvc3QuaGVhZGVycyxcclxuICAgICAgICAgICAgICAgICd0b2tlbic6IHRoaXMuZ2V0VG9rZW4oKVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBib2R5XHJcbiAgICAgICAgfTtcclxuICAgICAgICAvLyBjb25zdCB1cmwgPSBgJHtDT05TVC5nZXRQYXRoKCdpbnN0YWdyYW1fbW9kaWZ5QWNjb3VudCcsIHVzZXJuYW1lKX1gO1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKHVybCk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubmV0d29yay5zZW5kUmVxdWVzdChgJHtDT05TVC5nZXRQYXRoKCdpbnN0YWdyYW1fZ2V0QWNjb3VudEJ5VXNlcicsIHVzZXJuYW1lKX1gLCBzZXR0aW5nKTtcclxuICAgIH1cclxuICAgIGRlbEluc3RhZ3JhbUFjY291bnQodXNlcm5hbWUpIHtcclxuICAgICAgICBjb25zdCBzZXR0aW5nID0ge1xyXG4gICAgICAgICAgICBtZXRob2Q6ICdERUxFVEUnLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgICAgICAgICAuLi50aGlzLnNldHRpbmdQb3N0LmhlYWRlcnMsXHJcbiAgICAgICAgICAgICAgICAndG9rZW4nOiB0aGlzLmdldFRva2VuKClcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubmV0d29yay5zZW5kUmVxdWVzdChgJHtDT05TVC5nZXRQYXRoKCdpbnN0YWdyYW1fbW9kaWZ5QWNjb3VudCcsIHVzZXJuYW1lKX1gLCBzZXR0aW5nKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBnZXRJbnN0YWdyYW1BY2NvdW50KCkge1xyXG4gICAgLy8gICAgIGNvbnN0IHNldHRpbmcgPSB7XHJcbiAgICAvLyAgICAgICAgIC4uLnRoaXMuc2V0dGluZ1Bvc3QsXHJcbiAgICAvLyAgICAgICAgIG1ldGhvZDogJ0dFVCcsXHJcbiAgICAvLyAgICAgICAgIGhlYWRlcnM6IHtcclxuICAgIC8vICAgICAgICAgICAgIC4uLnRoaXMuc2V0dGluZ1Bvc3QuaGVhZGVycyxcclxuICAgIC8vICAgICAgICAgICAgIHRva2VuOiB0aGlzLmdldFRva2VuKClcclxuICAgIC8vICAgICAgICAgfVxyXG4gICAgLy8gICAgIH07XHJcbiAgICAvLyAgICAgcmV0dXJuIHRoaXMubmV0d29yay5zZW5kUmVxdWVzdChDT05TVC5nZXRQYXRoKCdpbnN0YWdyYW1fYWRkQWNjb3VudCcpLCBzZXR0aW5nKTtcclxuICAgIC8vIH1cclxuXHJcbiAgICBjb25maXJtKHRva2VuKSB7XHJcbiAgICAgICAgLy8gY29uc3QgY29uZmlybVVybCA9IENPTlNULmdldFBhdGgoJ2NvbmZpcm1hdGlvbicpO1xyXG4gICAgICAgIHJldHVybiB0aGlzLm5ldHdvcmsuc2VuZFJlcXVlc3QoYCR7Q09OU1QuZ2V0UGF0aCgnY29uZmlybWF0aW9uJykgKyB0b2tlbn1gKTtcclxuICAgIH1cclxuXHJcbiAgICByZWdpc3Rlcihmb3JtRGF0YSkge1xyXG4gICAgICAgIGNvbnN0IHNldHRpbmcgPSB7XHJcbiAgICAgICAgICAgIC4uLnRoaXMuc2V0dGluZ1Bvc3QsXHJcbiAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KGZvcm1EYXRhKVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubmV0d29yay5zZW5kUmVxdWVzdChDT05TVC5nZXRQYXRoKCdyZWdpc3RyYXRpb24nKSwgc2V0dGluZyk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gdG9kbzogbW92ZSB0byBhY2NvdW50LWxpc3RcclxuICAgIGdldE1ldGFkYXRhKGNiRXJyb3IpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5uZXR3b3JrLnNlbmRSZXF1ZXN0KGAke0NPTlNULmdldFBhdGgoJ2luc3RhZ3JhbUFjY291bnRfZ2V0TWV0YURhdGEnKX1gLFxyXG4gICAgICAgICAgICB0aGlzLmdldFRva2VuKCdhc0hlYWRlcicpLCBjYkVycm9yKTtcclxuICAgIH1cclxuICAgIGdldE1ldGFkYXRhTGF6eShjYkVycm9yKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubmV0d29yay5zZW5kUmVxdWVzdChgJHtDT05TVC5nZXRQYXRoKCdpbnN0YWdyYW1BY2NvdW50X2dldE1ldGFEYXRhJyl9P2xhenk9dHJ1ZWAsXHJcbiAgICAgICAgICAgIHRoaXMuZ2V0VG9rZW4oJ2FzSGVhZGVyJyksIGNiRXJyb3IpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldFNlY3VyaXR5S2V5KHVzZXJuYW1lLCBjaGVja3BvaW50VHlwZSkge1xyXG4gICAgICAgIGNvbnN0IHNldHRpbmcgPSB7XHJcbiAgICAgICAgICAgIC4uLnRoaXMuc2V0dGluZ1Bvc3QsXHJcbiAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsndHlwZSc6IGNoZWNrcG9pbnRUeXBlfSksIC8vIHRvZG86IHRtcCBzZXQsIGl0IHNob3VsZCBiZSAndHlwZSdcclxuICAgICAgICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICAgICAgICAgLi4udGhpcy5zZXR0aW5nUG9zdC5oZWFkZXJzLFxyXG4gICAgICAgICAgICAgICAgJ3Rva2VuJzogdGhpcy5nZXRUb2tlbigpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIHJldHVybiB0aGlzLm5ldHdvcmsuc2VuZFJlcXVlc3QoYCR7Q09OU1QuZ2V0UGF0aCgnaW5zdGFncmFtQWNjb3VudF9jaGVja3BvaW50Jyl9JHt1c2VybmFtZX1gLCBzZXR0aW5nKTtcclxuICAgIH1cclxuXHJcbiAgICBjb25maXJtU2VjdXJpdHlLZXkoa2V5LCB1c2VybmFtZSkge1xyXG4gICAgICAgIGNvbnN0IHNldHRpbmcgPSB7XHJcbiAgICAgICAgICAgIG1ldGhvZDogJ0RFTEVURScsXHJcbiAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsnc2VjdXJpdHlfY29kZSc6IGtleX0pLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgICAgICAgICAuLi50aGlzLnNldHRpbmdQb3N0LmhlYWRlcnMsXHJcbiAgICAgICAgICAgICAgICAndG9rZW4nOiB0aGlzLmdldFRva2VuKClcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubmV0d29yay5zZW5kUmVxdWVzdChgJHtDT05TVC5nZXRQYXRoKCdpbnN0YWdyYW1BY2NvdW50X2NvbmZpcm1LZXknKX0ke3VzZXJuYW1lfWAsIHNldHRpbmcpO1xyXG4gICAgfVxyXG5cclxufVxyXG5cclxubGV0IHVzZXJJbnN0YW5jZSA9IG51bGw7XHJcblxyXG5pZiAoIXVzZXJJbnN0YW5jZSkge1xyXG4gICAgdXNlckluc3RhbmNlID0gbmV3IFVzZXIoKTtcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgdXNlckluc3RhbmNlO1xyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvY29tbW9uL2pzLXNlcnZpY2VzL3VzZXIuanMiLCJcclxuY29uc3QgQ29va2llU3J2ID0ge1xyXG4gICAgZ2V0OiBuYW1lID0+IHtcclxuICAgICAgICBjb25zdCBjID0gZG9jdW1lbnQuY29va2llLm1hdGNoKGAoPzooPzpefC4qOyAqKSR7bmFtZX0gKj0gKihbXjtdKikuKiQpfF4uKiRgKVsxXTtcclxuICAgICAgICBpZiAoYykge1xyXG4gICAgICAgICAgICByZXR1cm4gZGVjb2RlVVJJQ29tcG9uZW50KGMpO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBzZXQ6IChuYW1lLCB2YWx1ZSwgb3B0cyA9IHtwYXRoOiAnLycsIGRheXM6IDM2NX0pID0+IHtcclxuICAgICAgICBpZiAob3B0cy5kYXlzKSB7XHJcbiAgICAgICAgICAgIG9wdHNbJ21heC1hZ2UnXSA9IG9wdHMuZGF5cyAqIDYwICogNjAgKiAyNDtcclxuICAgICAgICAgICAgZGVsZXRlIG9wdHMuZGF5cztcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXBhcmFtLXJlYXNzaWduXHJcbiAgICAgICAgb3B0cyA9IE9iamVjdC5lbnRyaWVzKG9wdHMpLnJlZHVjZSgoc3RyLCBbaywgdl0pID0+IGAke3N0cn07ICR7a309JHt2fWAsICcnKTtcclxuICAgICAgICBkb2N1bWVudC5jb29raWUgPSBgJHtuYW1lfT0ke2VuY29kZVVSSUNvbXBvbmVudCh2YWx1ZSkgKyBvcHRzfWA7XHJcbiAgICB9LFxyXG4gICAgcmVtb3ZlOiAobmFtZSwgb3B0cykgPT4gQ29va2llU3J2LnNldChuYW1lLCAnJywgeydtYXgtYWdlJzogLTEsIHBhdGg6ICcvJywgZGF5czogMCwgLi4ub3B0c30pXHJcbiAgICAvLyBwYXRoICYgZG9tYWluIG11c3QgbWF0Y2ggY29va2llIGJlaW5nIGRlbGV0ZWRcclxufTtcclxuXHJcbi8qXHJcbmNsYXNzIENvb2tpZVN0b3JhZ2Uge1xyXG4gICAgcmVhZChrZXkpIHtcclxuICAgICAgICBjb25zdCB2YWx1ZSA9ICQuY29va2llKGtleSk7XHJcbiAgICAgICAgcmV0dXJuIHZhbHVlID09PSB1bmRlZmluZWQgPyBudWxsIDogdmFsdWU7XHJcbiAgICB9XHJcblxyXG4gICAgc2V0Q29va2llKG5hbWUsIHZhbHVlLCBkYXlzKSB7XHJcbiAgICAgICAgbGV0IGV4cGlyZXMgPSAnJztcclxuICAgICAgICBpZiAoZGF5cykge1xyXG4gICAgICAgICAgICBjb25zdCBkYXRlID0gbmV3IERhdGUoKTtcclxuICAgICAgICAgICAgZGF0ZS5zZXRUaW1lKGRhdGUuZ2V0VGltZSgpICsgKGRheXMgKiAyNCAqIDYwICogNjAgKiAxMDAwKSk7XHJcbiAgICAgICAgICAgIGV4cGlyZXMgPSBgOyBleHBpcmVzPSR7ZGF0ZS50b1VUQ1N0cmluZygpfWA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGRvY3VtZW50LmNvb2tpZSA9IGAke25hbWV9ID0keyh2YWx1ZSB8fCAnJykgKyBleHBpcmVzfTsgcGF0aD0vYDtcclxuICAgIH1cclxuXHJcbiAgICBnZXRDb29raWUobmFtZSkge1xyXG4gICAgICAgIGNvbnN0IHZhbHVlID0gYDsgJHtkb2N1bWVudC5jb29raWV9YDtcclxuICAgICAgICBjb25zdCBwYXJ0cyA9IHZhbHVlLnNwbGl0KGA7ICR7bmFtZX09YCk7XHJcbiAgICAgICAgaWYgKHBhcnRzLmxlbmd0aCA9PSAyKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBwYXJ0cy5wb3AoKS5zcGxpdCgnOycpLnNoaWZ0KCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbiovXHJcblxyXG5leHBvcnQgZGVmYXVsdCBDb29raWVTcnY7XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9jb21tb24vanMtc2VydmljZXMvY29va2llLmpzIiwiaW1wb3J0IFVzZXJUYXNrTWFuYWdlciBmcm9tICcuLi8uLi8uLi9jb21tb24vanMtc2VydmljZXMvYXBpLXRhc2stbWFuYWdlcic7XHJcbmltcG9ydCB2aWV3VXRpbHMgZnJvbSAnLi4vLi4vLi4vY29tbW9uL2pzLXNlcnZpY2VzL3ZpZXcnO1xyXG5pbXBvcnQge0NPTlNUfSBmcm9tICcuLi8uLi8uLi9jb21tb24vanMtc2VydmljZXMvY29uc3RzJztcclxuXHJcbmNvbnN0IG1vZGVSdXMgPSAobW9kZSkgPT4ge1xyXG4gICAgc3dpdGNoIChtb2RlKSB7XHJcbiAgICAgICAgY2FzZSAnQUdHUkVTU0lWRSc6XHJcbiAgICAgICAgICAgIHJldHVybiAn0JDQs9GA0LXRgdGB0LjQstC90YvQuSc7XHJcbiAgICAgICAgY2FzZSAnTUlERExFJzpcclxuICAgICAgICAgICAgcmV0dXJuICfQodGA0LXQtNC90LjQuSc7XHJcbiAgICAgICAgY2FzZSAnU0FGRSc6XHJcbiAgICAgICAgICAgIHJldHVybiAnINCR0LXQt9C+0L/QsNGB0L3Ri9C5JztcclxuICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICBicmVhaztcclxuICAgIH1cclxufTtcclxuXHJcbmZ1bmN0aW9uIGZpbGxMaXN0QnlTdGF0ZSh0YXNrU3RhdGUsICRsaXN0LCBpdGVtKSB7XHJcbiAgICBjb25zdCB7cHJvZ3Jlc3MsIGNyZWF0ZWRfYXQsIHRhc2tfaWQsIHR5cGUsIHN0YXR1cywgdXNlcm5hbWUsIG1vZGV9ID0gaXRlbTtcclxuICAgIGNvbnN0IGFkZEl0ZW0gPSAodHBsU3RvcCkgPT4ge1xyXG4gICAgICAgICQoYDxsaSBjbGFzcz1cImxpc3QtZ3JvdXAtaXRlbSBwLTAgcHktMlwiIGRhdGEtdHlwZT1cIiR7dHlwZX1cIiBkYXRhLXRhc2staWQ9XCIke3Rhc2tfaWR9XCI+XHJcbiAgICAgICAgICAgICAgICAke3RwbFN0b3B9XHJcbiAgICAgICAgICAgIDwvbGk+YCkuYXBwZW5kVG8oJGxpc3QpO1xyXG4gICAgfTtcclxuICAgIGNvbnN0IHRwbFBhdXNlZCA9IGA8ZGl2IGNsYXNzPVwiY2FyZC1ibG9ja1wiPlxyXG4gICAgICAgIDxoNCBjbGFzcz1cImNhcmQtdGl0bGVcIj7QndCwINC/0LDRg9C30LU8L2g0PlxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJ0ZXh0LXJpZ2h0XCI+XHJcbiAgICAgICAgICAgICR7KHByb2dyZXNzICYmIHByb2dyZXNzLnRpbWVzdGFtcCkgPyBgPHNwYW4gY2xhc3M9XCJ0ZXh0LW11dGVkXCI+JHt2aWV3VXRpbHMuZ2V0Rm9ybWF0dGVkRGF0ZVV0aWwocHJvZ3Jlc3MudGltZXN0YW1wKX08L3NwYW4+YCA6ICcnfVxyXG4gICAgICAgICAgICAke2NyZWF0ZWRfYXQgPyBgPHNwYW4gY2xhc3M9XCJ0ZXh0LW11dGVkXCI+JHt2aWV3VXRpbHMuZ2V0Rm9ybWF0dGVkRGF0ZVV0aWwoY3JlYXRlZF9hdCl9PC9zcGFuPmAgOiAnJ31cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8c3BhbiBjbGFzcz1cInRleHQtc3VjY2Vzc1wiPjEwJTwvc3Bhbj5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwicHJvZ3Jlc3MgbWItM1wiPlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwicHJvZ3Jlc3MtYmFyIGJnLXN1Y2Nlc3NcIiByb2xlPVwicHJvZ3Jlc3NiYXJcIiBzdHlsZT1cIndpZHRoOiAxMCU7IGhlaWdodDogNnB4O1wiIGFyaWEtdmFsdWVub3c9XCIyNVwiIGFyaWEtdmFsdWVtaW49XCIwXCIgYXJpYS12YWx1ZW1heD1cIjEwMFwiPjwvZGl2PlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDxidXR0b24gY2xhc3M9XCJidG4gYnRuLXdhcm5pbmcganNfYnRuLWRlbGV0ZS10YXNrXCI+0KPQtNCw0LvQuNGC0Yw8L2J1dHRvbj5gO1xyXG4gICAgY29uc3QgdHBsUHJvZ3Jlc3MgPSBgPGRpdiBjbGFzcz1cIm5vLWd1dHRlcnMgcHgtMiByb3cgdGFzay1wcm9ncmVzc1wiPlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLTYgYWxpZ24taXRlbXMtY2VudGVyIGQtZmxleFwiPlxyXG4gICAgICAgICAgICAgICAgPGltZyBzcmM9XCIke3Nlc3Npb25TdG9yYWdlLmdldEl0ZW0odXNlcm5hbWUpfVwiIGNsYXNzPVwicm91bmRlZC1jaXJjbGUgYXZhdGFyXCIgYWx0PVwi0LDQstCw0YLQsNGAXCIvPlxyXG4gICAgICAgICAgICAgICAgPGgyIGNsYXNzPVwibXQtMCBtYi0xIG1sLTJcIj4ke3VzZXJuYW1lfTwvaDI+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLTYgY29sLTYtLXdpdGgtYm9yZGVyc1wiPlxyXG4gICAgICAgICAgICAgICAgPHAgY2xhc3M9XCJwYi0xIG5hbWVcIj48Yj5JRDo8L2I+ICR7dGFza19pZH08L3A+XHJcbiAgICAgICAgICAgICAgICAke2NyZWF0ZWRfYXQgPyBgPHAgY2xhc3M9XCJwYi0xXCI+PGI+0JfQsNC/0YPRidC10L3Qvjo8L2I+ICR7dmlld1V0aWxzLmdldEZvcm1hdHRlZERhdGVVdGlsKGNyZWF0ZWRfYXQsICdzaG93RnVsbFRpbWUnKX08L3A+YCA6ICcnfVxyXG4gICAgICAgICAgICAgICAgJHttb2RlID8gYDxwIGNsYXNzPVwicGItMVwiPjxiPtCg0LXQttC40Lw6PC9iPiAke21vZGVSdXMobW9kZSl9PC9wPmAgOiAnJ31cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0ZXh0LWNlbnRlclwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJidG4gYnRuLW91dGxpbmUtcHJpbWFyeSBqc19idG4tc3RvcC10YXNrXCI+PGkgY2xhc3M9XCJmYXIgZmEtcGF1c2UtY2lyY2xlIGZhLWxnXCI+PC9pPjwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgIDwhLS1idXR0b24gY2xhc3M9XCJidG4gYnRuLXdhcm5pbmcganNfYnRuLWRlbGV0ZS10YXNrIG1sLTNcIj48aSBjbGFzcz1cImZhciBmYS10cmFzaC1hbHQgZmEtbGdcIj48L2k+PC9idXR0b24tLT5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L2Rpdj5gO1xyXG4gICAgY29uc3QgdHBsU3RvcCA9IGA8ZGl2IGNsYXNzPVwibm8tZ3V0dGVycyBweC0yIHJvdyB0YXNrLXN0b3BwZWRcIj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbC02IGFsaWduLWl0ZW1zLWNlbnRlciBkLWZsZXhcIj5cclxuICAgICAgICAgICAgICAgIDxpbWcgc3JjPVwiJHtzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKHVzZXJuYW1lKX1cIiBjbGFzcz1cInJvdW5kZWQtY2lyY2xlIGF2YXRhclwiIGFsdD1cItCw0LLQsNGC0LDRgFwiLz5cclxuICAgICAgICAgICAgICAgIDxoMiBjbGFzcz1cIm10LTAgbWItMSBtbC0yXCI+JHt1c2VybmFtZX08L2gyPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbC02IGNvbC02LS13aXRoLWJvcmRlcnNcIj5cclxuICAgICAgICAgICAgICAgIDxwIGNsYXNzPVwicGItMSBuYW1lXCI+PGI+SUQ6PC9iPiAke3Rhc2tfaWR9PC9wPlxyXG4gICAgICAgICAgICAgICAgJHsoaXRlbS5zdGF0dXMucmVhc29uKSA/IGA8cCBjbGFzcz1cIm15LTFcIj4ke3N0YXR1cy5yZWFzb259PC9wPmAgOiAnJ31cclxuICAgICAgICAgICAgICAgICR7Y3JlYXRlZF9hdCA/IGA8cCBjbGFzcz1cInBiLTFcIj48Yj7Ql9Cw0L/Rg9GJ0LXQvdC+OjwvYj4gJHt2aWV3VXRpbHMuZ2V0Rm9ybWF0dGVkRGF0ZVV0aWwoY3JlYXRlZF9hdCwgJ3Nob3dGdWxsVGltZScpfTwvcD5gIDogJyd9XHJcbiAgICAgICAgICAgICAgICAke21vZGUgPyBgPHAgY2xhc3M9XCJwYi0xXCI+PGI+0KDQtdC20LjQvDo8L2I+ICR7bW9kZVJ1cyhtb2RlKX08L3A+YCA6ICcnfVxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInRleHQtY2VudGVyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImJ0biBidG4td2FybmluZyBqc19idG4tZGVsZXRlLXRhc2tcIj48aSBjbGFzcz1cImZhciBmYS10cmFzaC1hbHQgZmEtbGdcIj48L2k+PC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgIDwvZGl2PmA7XHJcbiAgICBjb25zdCB0cGxGaW5pc2hlZCA9IGA8ZGl2IGNsYXNzPVwibm8tZ3V0dGVycyBweC0yIHJvdyB0YXNrLXByb2dyZXNzXCI+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtNiBhbGlnbi1pdGVtcy1jZW50ZXIgZC1mbGV4XCI+XHJcbiAgICAgICAgICAgICAgICA8aW1nIHNyYz1cIiR7c2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSh1c2VybmFtZSl9XCIgY2xhc3M9XCJyb3VuZGVkLWNpcmNsZSBhdmF0YXJcIiBhbHQ9XCLQsNCy0LDRgtCw0YBcIi8+XHJcbiAgICAgICAgICAgICAgICA8aDIgY2xhc3M9XCJtdC0wIG1iLTEgbWwtMlwiPiR7dXNlcm5hbWV9PC9oMj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtNiBjb2wtNi0td2l0aC1ib3JkZXJzXCI+XHJcbiAgICAgICAgICAgICAgICA8cCBjbGFzcz1cInBiLTEgbmFtZVwiPjxiPklEOjwvYj4gJHt0YXNrX2lkfTwvcD5cclxuICAgICAgICAgICAgICAgICR7Y3JlYXRlZF9hdCA/IGA8cCBjbGFzcz1cInBiLTFcIj48Yj7Ql9Cw0L/Rg9GJ0LXQvdC+OjwvYj4gJHt2aWV3VXRpbHMuZ2V0Rm9ybWF0dGVkRGF0ZVV0aWwoY3JlYXRlZF9hdCwgJ3Nob3dGdWxsVGltZScpfTwvcD5gIDogJyd9XHJcbiAgICAgICAgICAgICAgICAke21vZGUgPyBgPHAgY2xhc3M9XCJwYi0xXCI+PGI+0KDQtdC20LjQvDo8L2I+ICR7bW9kZVJ1cyhtb2RlKX08L3A+YCA6ICcnfVxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInRleHQtY2VudGVyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPCEtLTxidXR0b24gY2xhc3M9XCJidG4gYnRuLW91dGxpbmUtcHJpbWFyeSBqc19idG4tc3RvcC10YXNrXCI+PGkgY2xhc3M9XCJmYXIgZmEtcGF1c2UtY2lyY2xlIGZhLWxnXCI+PC9pPjwvYnV0dG9uPi0tPlxyXG4gICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJidG4gYnRuLXdhcm5pbmcganNfYnRuLWRlbGV0ZS10YXNrIG1sLTNcIj48aSBjbGFzcz1cImZhciBmYS10cmFzaC1hbHQgZmEtbGdcIj48L2k+PC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPC9kaXY+YDtcclxuICAgIHN3aXRjaCAodGFza1N0YXRlKSB7XHJcbiAgICAgICAgY2FzZSAnUEFVU0VEJzpcclxuICAgICAgICAgICAgYWRkSXRlbSh0cGxQYXVzZWQpO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlICdJTl9QUk9HUkVTUyc6XHJcbiAgICAgICAgICAgIGFkZEl0ZW0odHBsUHJvZ3Jlc3MpO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlICdHTE9CQUxfUEFVU0UnOlxyXG4gICAgICAgICAgICBhZGRJdGVtKHRwbFByb2dyZXNzKTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSAnU1RPUFBFRCc6XHJcbiAgICAgICAgICAgIGFkZEl0ZW0odHBsU3RvcCk7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgJ0ZJTklTSEVEJzpcclxuICAgICAgICAgICAgYWRkSXRlbSh0cGxGaW5pc2hlZCk7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBmaWxsTGlzdE1ldGEoJGxpc3QsIGl0ZW1zLyogLCBpc1J1bnMqLykge1xyXG4gICAgLy8gY29uc3QgZGVmYXVsdEF2YXRhclNyYyA9IENPTlNULnVzZXIuZGVmYXVsQXZhdGFyO1xyXG4gICAgJGxpc3QuZW1wdHkoKTtcclxuICAgIGlmICghaXRlbXMubGVuZ3RoKSB7XHJcbiAgICAgICAgJChgPGxpIGNsYXNzPVwibGlzdC1ncm91cC1pdGVtIHB5LTJcIj5cclxuICAgICAgICAgICAgICAgIDxwPtCd0LXRgiDQvdC4INC+0LTQvdC+0Lkg0LfQsNC00LDRh9C4LjwvcD5cclxuICAgICAgICAgICAgPC9saT5gKS5hcHBlbmRUbygkbGlzdCk7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgaXRlbXMuZm9yRWFjaCgoaXRlbSkgPT4ge1xyXG4gICAgICAgIC8vIGlmICgoaXRlbS5zdGF0dXMuc3RhdGUgPT09ICdTVE9QUEVEJyB8fCBpdGVtLnN0YXR1cy5zdGF0ZSA9PT0gJ0ZJTklTSEVEJykgJiYgIWlzUnVucykge1xyXG4gICAgICAgIC8vICAgICBmaWxsTGlzdEJ5U3RhdGUoaXRlbS5zdGF0dXMuc3RhdGUsICRsaXN0LCBpdGVtKTtcclxuICAgICAgICAvLyB9IGVsc2UgaWYgKChpdGVtLnN0YXR1cy5zdGF0ZSA9PT0gJ0lOX1BST0dSRVNTJyB8fCBpdGVtLnN0YXR1cy5zdGF0ZSA9PT0gJ1BBVVNFRCcpICYmIGlzUnVucykge1xyXG4gICAgICAgIC8vICAgICBmaWxsTGlzdEJ5U3RhdGUoaXRlbS5zdGF0dXMuc3RhdGUsICRsaXN0LCBpdGVtKTtcclxuICAgICAgICAvLyB9XHJcbiAgICAgICAgZmlsbExpc3RCeVN0YXRlKGl0ZW0uc3RhdHVzLnN0YXRlLCAkbGlzdCwgaXRlbSk7XHJcbiAgICB9KTtcclxuICAgIGlmICghJCgnbGknLCAkbGlzdCkubGVuZ3RoKSB7XHJcbiAgICAgICAgJChgPGxpIGNsYXNzPVwibGlzdC1ncm91cC1pdGVtIHB5LTJcIj5cclxuICAgICAgICAgICAgPHA+0J3QtdGCINC90Lgg0L7QtNC90L7QuSDQt9Cw0LTQsNGH0LguPC9wPlxyXG4gICAgICAgIDwvbGk+YCkuYXBwZW5kVG8oJGxpc3QpO1xyXG4gICAgfVxyXG59XHJcblxyXG4vKiBlc2xpbnQtZGlzYWJsZSBuby11c2UtYmVmb3JlLWRlZmluZSAqL1xyXG5mdW5jdGlvbiBpbml0SGFuZGxlcnMoaG9sZGVycywgcGF0aCkge1xyXG4gICAgY29uc3QgX3BhdGggPSBwYXRoIHx8IHtcclxuICAgICAgICB0eXBlOiBDT05TVC51cmwudG1UeXBlcy5mb2xsb3dpbmdULFxyXG4gICAgICAgIHN1YnR5cGU6IENPTlNULnVybC50bVR5cGVzLmZvbGxvd2luZ1N1YlRbMF1cclxuICAgIH07XHJcbiAgICBjb25zdCAkYnRuU3RvcFRhc2sgPSAkKCcuanNfYnRuLXN0b3AtdGFzaycpO1xyXG4gICAgY29uc3QgJGJ0bkRlbFRhc2sgPSAkKCcuanNfYnRuLWRlbGV0ZS10YXNrJyk7XHJcbiAgICBjb25zdCBnZXRUYXNrSUQgPSAoZSkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGJ0biA9ICQoZS50YXJnZXQpO1xyXG4gICAgICAgIHJldHVybiBidG4uY2xvc2VzdCgnbGknKS5kYXRhKCd0YXNrLWlkJyk7XHJcbiAgICB9O1xyXG5cclxuICAgICRidG5TdG9wVGFzay5vbignY2xpY2snLCAoZSkgPT4ge1xyXG4gICAgICAgIGNvbnN0IHRhc2tJZCA9IGdldFRhc2tJRChlKTtcclxuICAgICAgICBjb25zb2xlLmxvZygnU1RPUCBUYXNrIGlkJywgdGFza0lkKTtcclxuICAgICAgICBVc2VyVGFza01hbmFnZXIuc3RvcFRhc2tCeUlEKHRhc2tJZCkudGhlbigocmVzdWx0KSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3VsdCk7XHJcbiAgICAgICAgICAgIGdldFRhc2tzRGF0YShob2xkZXJzLCBfcGF0aCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAkYnRuRGVsVGFzay5vbignY2xpY2snLCAoZSkgPT4ge1xyXG4gICAgICAgIGNvbnN0IHRhc2tJZCA9IGdldFRhc2tJRChlKTtcclxuICAgICAgICBjb25zb2xlLmxvZygnREVMRVRFIGlkJywgdGFza0lkKTtcclxuICAgICAgICBVc2VyVGFza01hbmFnZXIuZGVsZXRlVGFza0J5SUQodGFza0lkKS50aGVuKChyZXN1bHQpID0+IHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2cocmVzdWx0KTtcclxuICAgICAgICAgICAgZ2V0VGFza3NEYXRhKGhvbGRlcnMsIF9wYXRoKTtcclxuICAgICAgICB9KTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0VGFza3NEYXRhKGhvbGRlcnMsIHBhdGgpIHtcclxuICAgIGNvbnN0IHsvKiAkcnVucywqLyRhbGx9ID0gaG9sZGVycztcclxuICAgIGNvbnN0IF9wYXRoID0gcGF0aCB8fCB7XHJcbiAgICAgICAgdHlwZTogQ09OU1QudXJsLnRtVHlwZXMuZm9sbG93aW5nVCxcclxuICAgICAgICBzdWJ0eXBlOiBDT05TVC51cmwudG1UeXBlcy5mb2xsb3dpbmdTdWJUWzBdXHJcbiAgICB9O1xyXG4gICAgVXNlclRhc2tNYW5hZ2VyLmdldE1ldGFkYXRhKF9wYXRoKS50aGVuKChyZXN1bHQpID0+IHtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZygnZ2V0TWV0YWRhdGEgJiBmaWxsTGlzdE1ldGEnLCByZXN1bHQpO1xyXG4gICAgICAgIGlmIChyZXN1bHQuc3RhdHVzLnN0YXRlID09PSAnb2snKSB7XHJcbiAgICAgICAgICAgIC8vIGZpbGxMaXN0TWV0YSgkcnVucywgcmVzdWx0LmRhdGEubWV0YSwgJ2lzUnVucycpO1xyXG4gICAgICAgICAgICBmaWxsTGlzdE1ldGEoJGFsbCwgcmVzdWx0LmRhdGEubWV0YSwgJ2lzQWxsJyk7XHJcbiAgICAgICAgICAgIGluaXRIYW5kbGVycyhob2xkZXJzLCBwYXRoKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEluaXRcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBpbml0KCkge1xyXG4gICAgY29uc3QgaG9sZGVycyA9IHtcclxuICAgICAgICAkcnVuczogJCgnLmZvbGxvdy10YXNrcy1ydW5zJyksXHJcbiAgICAgICAgJHN0b3BwZWQ6ICQoJy5mb2xsb3ctdGFza3Mtc3RvcHBlZCcpLFxyXG4gICAgICAgICRhbGw6ICQoJy5mb2xsb3ctdGFza3MtYWxsJylcclxuICAgIH07XHJcbiAgICBnZXRUYXNrc0RhdGEoaG9sZGVycyk7XHJcbiAgICB3aW5kb3cuUHViU3ViLnN1YnNjcmliZShDT05TVC5ldmVudHMudGFza3MuTkVXX1RBU0tfQ1JFQVRFRCwgKGV2ZW50TmFtZSwgZGF0YSkgPT4ge1xyXG4gICAgICAgIGNvbnN0IF9wYXRoID0ge1xyXG4gICAgICAgICAgICB0eXBlOiBDT05TVC51cmwudG1UeXBlcy5mb2xsb3dpbmdULFxyXG4gICAgICAgICAgICBzdWJ0eXBlOiBDT05TVC51cmwudG1UeXBlcy5mb2xsb3dpbmdTdWJUWzBdXHJcbiAgICAgICAgfTtcclxuICAgICAgICBnZXRUYXNrc0RhdGEoaG9sZGVycywgX3BhdGgpO1xyXG4gICAgfSk7XHJcbn1cclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2Jsb2Nrcy9fc2hhcmVkL3Rhc2stc3RhdHVzL3Rhc2stc3RhdHVzLmpzIiwiaW1wb3J0IHtDT05TVH0gZnJvbSAnLi4vLi4vY29tbW9uL2pzLXNlcnZpY2VzL2NvbnN0cyc7XHJcbi8vIGltcG9ydCAnYnJ1dHVzaW4tanNvbi1mb3Jtcyc7XHJcbmNvbnN0IHN0YXRlID0ge1xyXG4gICAgdXNlcm5hbWU6ICcnXHJcbn07XHJcbmNvbnN0IHdpemFyZEZvcm1TZWxlY3RvciA9ICcud2l6YXJkLWZvcm0nO1xyXG5cclxuLyoqXHJcbiAqIEluaXQgaGVhZGVyXHJcbiAqL1xyXG5mdW5jdGlvbiBpbml0U3RlcHMoZm9ybVNlbGVjdG9yLCB3aXphcmRDZmcpIHtcclxuICAgIGNvbnN0ICRmb3JtID0gJChmb3JtU2VsZWN0b3IpO1xyXG4gICAgY29uc3Qge3N0ZXBSZWR1Y2VyLCBvblN1Ym1pdEhhbmRsZXJ9ID0gd2l6YXJkQ2ZnO1xyXG4gICAgJCgnLmpzX3Byb2ZpbGUtdXNlci1mb2xsb3c+LmNvbnRhaW5lcicpLnJlbW92ZUNsYXNzKCdjb250YWluZXInKTtcclxuXHJcbiAgICAkZm9ybS5maW5kKCdmaWVsZHNldDpmaXJzdC1jaGlsZCcpLmZhZGVJbignc2xvdycpO1xyXG5cclxuICAgICRmb3JtLmZpbmQoJ2lucHV0W3R5cGU9XCJ0ZXh0XCJdJykub24oJ2ZvY3VzJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICQodGhpcykucmVtb3ZlQ2xhc3MoJ2lucHV0LWVycm9yJyk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBuZXh0IHN0ZXBcclxuICAgICRmb3JtLmZpbmQoJy5idG4tbmV4dCcpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBjb25zdCBwYXJlbnRfZmllbGRzZXQgPSAkKHRoaXMpLnBhcmVudHMoJ2ZpZWxkc2V0Jyk7XHJcbiAgICAgICAgbGV0IG5leHRfc3RlcCA9IHRydWU7XHJcbiAgICAgICAgY29uc3QgcmFkaW9CdG5BY3RpdmUgPSBwYXJlbnRfZmllbGRzZXQuZmluZCgnaW5wdXRbbmFtZT1cInVzZXJBY2NvdW50UmFkaW9cIl06Y2hlY2tlZCcpO1xyXG5cclxuICAgICAgICBpZiAocmFkaW9CdG5BY3RpdmUubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICBzdGF0ZS51c2VybmFtZSA9IHJhZGlvQnRuQWN0aXZlLnBhcmVudHMoJ2xpJykuZGF0YSgndXNlcm5hbWUnKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmIChzdGVwUmVkdWNlcikge1xyXG4gICAgICAgICAgICBzdGVwUmVkdWNlcihwYXJlbnRfZmllbGRzZXQuaW5kZXgoKSwgc3RhdGUpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcGFyZW50X2ZpZWxkc2V0LmZpbmQoJ2lucHV0W3R5cGU9XCJ0ZXh0XCJdLGlucHV0W3R5cGU9XCJlbWFpbFwiXScpLmVhY2goZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAoJCh0aGlzKS52YWwoKSA9PT0gJycpIHtcclxuICAgICAgICAgICAgICAgICQodGhpcykuYWRkQ2xhc3MoJ2lucHV0LWVycm9yJyk7XHJcbiAgICAgICAgICAgICAgICBuZXh0X3N0ZXAgPSBmYWxzZTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICQodGhpcykucmVtb3ZlQ2xhc3MoJ2lucHV0LWVycm9yJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgaWYgKG5leHRfc3RlcCkge1xyXG4gICAgICAgICAgICBwYXJlbnRfZmllbGRzZXQuZmFkZU91dCg0MDAsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICQodGhpcykubmV4dCgpLmZhZGVJbigpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gcHJldmlvdXMgc3RlcFxyXG4gICAgJGZvcm0uZmluZCgnLmJ0bi1wcmV2aW91cycpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAvLyBzdGF0ZS51c2VybmFtZSA9IFsuLi5uZXcgU2V0KHN0YXRlLnVzZXJuYW1lKV07XHJcbiAgICAgICAgJCh0aGlzKS5wYXJlbnRzKCdmaWVsZHNldCcpLmZhZGVPdXQoNDAwLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICQodGhpcykucHJldigpLmZhZGVJbigpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gc3BlZWQgcmFkaW8tYnRuIGdyb3VwXHJcbiAgICAkKCcuanNfZm9sbG93LXNwZWVkIGlucHV0W3R5cGU9cmFkaW9dJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIC8vIGNvbnN0IHZhbHVlID0gJCh0aGlzKS5hdHRyKCd2YWx1ZScpO1xyXG4gICAgICAgIC8vIHN0YXRlLnVzZXJfZGVmYXVsdF9jb25maWcgPSB7XHJcbiAgICAgICAgLy8gICAgIHRhc2tfbW9kZTogdmFsdWUudG9VcHBlckNhc2UoKVxyXG4gICAgICAgIC8vIH07XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBzdWJtaXRcclxuICAgICRmb3JtLm9uKCdzdWJtaXQnLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICQodGhpcykuZmluZCgnaW5wdXRbdHlwZT1cInRleHRcIl0saW5wdXRbdHlwZT1cIm51bWJlclwiXSxpbnB1dFt0eXBlPVwiZW1haWxcIl0nKS5lYWNoKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKCQodGhpcykudmFsKCkgPT09ICcnKSB7XHJcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICAgICAkKHRoaXMpLmFkZENsYXNzKCdpbnB1dC1lcnJvcicpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgJCh0aGlzKS5yZW1vdmVDbGFzcygnaW5wdXQtZXJyb3InKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBpZiAob25TdWJtaXRIYW5kbGVyKSB7XHJcbiAgICAgICAgICAgIG9uU3VibWl0SGFuZGxlcihlKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnNvbGUubG9nKCdTdWJtaXRIYW5kbGVyIEVORCcpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gYWxlcnQgY2xvc2VcclxuICAgICQoJy5mb3JtLXN1Ym1pdC1maW5pc2ggLmNsb3NlJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICBjb25zb2xlLmxvZygnZm9ybS1zdWJtaXQtZmluaXNoIC5jbG9zZScpO1xyXG4gICAgICAgICQodGhpcykuY2xvc2VzdCgnLmZvcm0tc3VibWl0LWZpbmlzaCcpLnJlbW92ZUNsYXNzKCdkLWJsb2NrJyk7XHJcbiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICAvLyAkKHRoaXMpLmNsb3Nlc3QoJ2Zvcm0tc3VibWl0LWZpbmlzaCcpLnJlbW92ZUNsYXNzKCdkLWJsb2NrJyk7XHJcbiAgICAgICAgLy8gJCgnI3YtcGlsbHMtcnVubmVkLXRhYicpLnRyaWdnZXIoJ2NsaWNrJyk7XHJcbiAgICAgICAgLy8gd2luZG93LlB1YlN1Yi5wdWJsaXNoKENPTlNULmV2ZW50cy50YXNrcy5ORVdfVEFTS19DUkVBVEVEKTtcclxuICAgIH0pO1xyXG5cclxuICAgICQoJyN2LXBpbGxzLWNyZWF0ZS10YXNrLXRhYicpLm9uKCdjbGljaycsIChlKSA9PiB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ3Jlc2V0IGZvcm0nKTtcclxuICAgICAgICBpZiAoJCgnZmllbGRzZXQ6Zmlyc3QtY2hpbGQnKS5jc3MoJ2Rpc3BsYXknKSA9PT0gJ25vbmUnKSB7XHJcbiAgICAgICAgICAgICRmb3JtLmZpbmQoJ2ZpZWxkc2V0JykuaGlkZSgnZmFzdCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICRmb3JtLmZpbmQoJ2ZpZWxkc2V0OmZpcnN0LWNoaWxkJykuc2hvdygnc2xvdycpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgJCgnLmZvcm0tc3VibWl0LWZpbmlzaCcpLnJlbW92ZUNsYXNzKCdkLWJsb2NrJyk7XHJcbiAgICAgICAgLy8gY2xlYXIgYWxsIHZhbCBpbiB0ZXh0YXJlYSBhbmQgaW5wdXQgKGV4Y2VwdCByYWRpbylcclxuICAgICAgICAkKCdmaWVsZHNldCcsIHdpemFyZEZvcm1TZWxlY3RvcikuZmluZCgnaW5wdXQ6bm90KFt0eXBlPVwicmFkaW9cIl0pLCB0ZXh0YXJlYScpLnZhbCgnJyk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuLypcclxuZnVuY3Rpb24gZml4U3RlcEluZGljYXRvcihuKSB7XHJcbiAgICAvLyBUaGlzIGZ1bmN0aW9uIHJlbW92ZXMgdGhlIFwiYWN0aXZlXCIgY2xhc3Mgb2YgYWxsIHN0ZXBzLi4uXHJcbiAgICB2YXIgaSwgeCA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJzdGVwXCIpO1xyXG4gICAgZm9yIChpID0gMDsgaSA8IHgubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICB4W2ldLmNsYXNzTmFtZSA9IHhbaV0uY2xhc3NOYW1lLnJlcGxhY2UoXCIgYWN0aXZlXCIsIFwiXCIpO1xyXG4gICAgfVxyXG4gICAgLy8uLi4gYW5kIGFkZHMgdGhlIFwiYWN0aXZlXCIgY2xhc3Mgb24gdGhlIGN1cnJlbnQgc3RlcDpcclxuICAgIHhbbl0uY2xhc3NOYW1lICs9IFwiIGFjdGl2ZVwiO1xyXG59Ki9cclxuXHJcbi8vIHdyYXAgbGlzdCBhcyByYWRpb2dyb3VwXHJcbmZ1bmN0aW9uIG1vZGlmeUFjY0xpc3QoKSB7XHJcbiAgICBjb25zdCByYWRpb0J0bkFwcGVuZCA9IChpZHgpID0+IGA8ZGl2IGNsYXNzPVwiXCI+XHJcbiAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwicmFkaW9cIiBuYW1lPVwidXNlckFjY291bnRSYWRpb1wiIGlkPVwiY3VzdG9tUmFkaW8tJHtpZHh9XCIgY2xhc3M9XCJjdXN0b20tY29udHJvbC1pbnB1dCBkLW5vbmVcIiB2YWx1ZT1cIlwiPlxyXG4gICAgICAgIDwvZGl2PmA7XHJcbiAgICBjb25zdCByYWRpb0J0bldyYXAgPSAoaWR4KSA9PiBgPGxhYmVsIGNsYXNzPVwiYWNjb3VudHMtbGlzdC0tbGFiZWwtd3JhcHBlciBjb2wgbWItMCBtZWRpYSBweS0zXCIgZm9yPVwiY3VzdG9tUmFkaW8tJHtpZHh9XCI+PC9sYWJlbD5gO1xyXG4gICAgY29uc3QgJGFjY291bnRzTGlzdCA9ICQoJy5hY2NvdW50cy1saXN0Jyk7XHJcbiAgICBjb25zdCAkbGkgPSAkYWNjb3VudHNMaXN0LmZpbmQoJ2xpLm1lZGlhJyk7XHJcbiAgICAkbGkuYWRkQ2xhc3MoJ2pzX3VzZXItcmFkaW8nKS5yZW1vdmVDbGFzcygncHktMyBtZWRpYScpO1xyXG5cclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgJGxpLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgY29uc3QgY3VyckxpID0gJCgkbGlbaV0pO1xyXG4gICAgICAgIGN1cnJMaS53cmFwSW5uZXIocmFkaW9CdG5XcmFwKGkpKS5hcHBlbmQocmFkaW9CdG5BcHBlbmQoaSkpO1xyXG4gICAgICAgIGlmIChjdXJyTGkuZmluZCgnLnVzZXItY2hlY2twb2ludCAudGV4dC1kYW5nZXInKS5sZW5ndGgpIHtcclxuICAgICAgICAgICAgY3VyckxpLnJlbW92ZSgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAkKCcuanNfdXNlci1yYWRpbycpLm9uKCdjbGljaycsICdpbnB1dFt0eXBlPXJhZGlvXScsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgY29uc3QgJHBhcmVudEZpZWxkc2V0ID0gJCh0aGlzKS5wYXJlbnRzKCdmaWVsZHNldCcpO1xyXG4gICAgICAgICQoJ2xpLmFjdGl2ZScsICRwYXJlbnRGaWVsZHNldCkucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgICAgICQodGhpcykuY2xvc2VzdCgnbGknKS5hZGRDbGFzcygnYWN0aXZlJyk7XHJcbiAgICAgICAgJCgnLmJ0bi1uZXh0JywgJHBhcmVudEZpZWxkc2V0KS5wcm9wKCdkaXNhYmxlZCcsIGZhbHNlKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaW5pdCh3aXphcmRDZmcpIHtcclxuICAgIGlmICgkKCcud2l6YXJkLWZvcm0nKS5sZW5ndGgpIHtcclxuICAgICAgICBpbml0U3RlcHMod2l6YXJkRm9ybVNlbGVjdG9yLCB3aXphcmRDZmcpO1xyXG4gICAgICAgIHdpbmRvdy5QdWJTdWIuc3Vic2NyaWJlKENPTlNULmV2ZW50cy5pbnN0YWdyYW1BY2NvdW5zLklOU1RBR1JBTV9BQ0NPVU5TX1JFTkRFUkVELCAoZXZlbnROYW1lLCBkYXRhKSA9PiB7XHJcbiAgICAgICAgICAgIG1vZGlmeUFjY0xpc3QoKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufVxyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvYmxvY2tzL3dpemFyZC1mb3JtL3dpemFyZC1mb3JtLmpzIiwiaW1wb3J0IHtDT05TVH0gZnJvbSAnLi4vLi4vLi4vY29tbW9uL2pzLXNlcnZpY2VzL2NvbnN0cyc7XHJcbmltcG9ydCBVc2VyVGFza01hbmFnZXIgZnJvbSAnLi4vLi4vLi4vY29tbW9uL2pzLXNlcnZpY2VzL2FwaS10YXNrLW1hbmFnZXInO1xyXG5cclxuY29uc3QgTUFYX0lNR19GSUxFX1NJWkVfQllURSA9IDEwNDg1NzY7XHJcbmNvbnN0IGZpbGVVcGxvYWRCb3ggPSAnLmZpbGUtdXBsb2FkJztcclxuY29uc3QgZmlsZVVwbG9hZENvbnRlbnQgPSAnLmZpbGUtdXBsb2FkLWNvbnRlbnQnO1xyXG5cclxuZnVuY3Rpb24gcmVtb3ZlVXBsb2FkKCR1cGxvYWRDb250YWluZXIpIHtcclxuICAgIGNvbnN0IGlucHV0ID0gJHVwbG9hZENvbnRhaW5lci5maW5kKCdpbnB1dCcpO1xyXG4gICAgaW5wdXQucmVwbGFjZVdpdGgoaW5wdXQuY2xvbmUoKSk7XHJcbiAgICAkdXBsb2FkQ29udGFpbmVyLmZpbmQoZmlsZVVwbG9hZENvbnRlbnQpLmhpZGUoKTtcclxuICAgICR1cGxvYWRDb250YWluZXIuZmluZCgnLmltYWdlLXVwbG9hZC13cmFwJykuc2hvdygpO1xyXG59XHJcblxyXG5jb25zdCAkaW1nVXBsb2FkV3JhcCA9ICQoJy5pbWFnZS11cGxvYWQtd3JhcCcpO1xyXG4kaW1nVXBsb2FkV3JhcC5iaW5kKCdkcmFnb3ZlcicsIGZ1bmN0aW9uICgpIHtcclxuICAgICQoJy5pbWFnZS11cGxvYWQtd3JhcCcpLmFkZENsYXNzKCdpbWFnZS1kcm9wcGluZycpO1xyXG59KTtcclxuJGltZ1VwbG9hZFdyYXAuYmluZCgnZHJhZ2xlYXZlJywgZnVuY3Rpb24gKCkge1xyXG4gICAgJCgnLmltYWdlLXVwbG9hZC13cmFwJykucmVtb3ZlQ2xhc3MoJ2ltYWdlLWRyb3BwaW5nJyk7XHJcbn0pO1xyXG5cclxuLy8gZnVuY3Rpb24gYWJvcnRSZWFkKHJlYWRlcikge1xyXG4vLyAgICAgcmVhZGVyLmFib3J0KCk7XHJcbi8vIH1cclxuXHJcbmZ1bmN0aW9uIGVycm9ySGFuZGxlcihldnQsIHJlYWRlcikge1xyXG4gICAgc3dpdGNoIChldnQudGFyZ2V0LmVycm9yLmNvZGUpIHtcclxuICAgICAgICBjYXNlIGV2dC50YXJnZXQuZXJyb3IuTk9UX0ZPVU5EX0VSUjpcclxuICAgICAgICAgICAgY29uc29sZS5pbmZvKCdGaWxlIE5vdCBGb3VuZCEnKTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSBldnQudGFyZ2V0LmVycm9yLk5PVF9SRUFEQUJMRV9FUlI6XHJcbiAgICAgICAgICAgIGNvbnNvbGUuaW5mbygnRmlsZSBpcyBub3QgcmVhZGFibGUnKTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSBldnQudGFyZ2V0LmVycm9yLkFCT1JUX0VSUjpcclxuICAgICAgICAgICAgYnJlYWs7IC8vIG5vb3BcclxuICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICBjb25zb2xlLmluZm8oJ0FuIGVycm9yIG9jY3VycmVkIHJlYWRpbmcgdGhpcyBmaWxlLicpO1xyXG4gICAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiB1cGRhdGVQcm9ncmVzcyhldnQsIHByb2dyZXNzKSB7XHJcbiAgICAvLyBldnQgaXMgYW4gUHJvZ3Jlc3NFdmVudC5cclxuICAgIGlmIChldnQubGVuZ3RoQ29tcHV0YWJsZSkge1xyXG4gICAgICAgIGNvbnN0IHBlcmNlbnRMb2FkZWQgPSBNYXRoLnJvdW5kKChldnQubG9hZGVkIC8gZXZ0LnRvdGFsKSAqIDEwMCk7XHJcbiAgICAgIC8vIEluY3JlYXNlIHRoZSBwcm9ncmVzcyBiYXIgbGVuZ3RoLlxyXG4gICAgICAgIGlmIChwZXJjZW50TG9hZGVkICUgMTAgPT09IDApIHtcclxuICAgICAgICAgICAgLy8gcHJvZ3Jlc3Muc3R5bGUud2lkdGggPSBgJHtwZXJjZW50TG9hZGVkfSVgO1xyXG4gICAgICAgICAgICAvLyBwcm9ncmVzcy50ZXh0Q29udGVudCA9IGAke3BlcmNlbnRMb2FkZWR9JWA7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHBlcmNlbnRMb2FkZWQpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cclxuZnVuY3Rpb24gaXNGaWxlVHlwZU9rKGFjY2VwdGVkRmlsZSkge1xyXG4gICAgcmV0dXJuIGFjY2VwdGVkRmlsZS50eXBlID09PSAnaW1hZ2UvanBlZyc7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGlzSW1nU2l6ZU9rKGFjY2VwdGVkRmlsZSkge1xyXG4gICAgY29uc3QgaW1nU2l6ZSA9IE1hdGgucm91bmQoYWNjZXB0ZWRGaWxlLnNpemUpO1xyXG4gICAgcmV0dXJuIE1BWF9JTUdfRklMRV9TSVpFX0JZVEUgPiBpbWdTaXplO1xyXG59XHJcblxyXG5mdW5jdGlvbiBoYW5kbGVTdWJtaXQoaW5wdXQsIHJlcGxhY2VXaXRoQ2ZnKSB7XHJcbiAgICBjb25zdCB1cmwgPSBDT05TVC5nZXRQYXRoKCdpbnN0YWdyYW1UYXNrTWFuYWdlcl9wb3N0SW1hZ2VBdHRhY2htZW50Jyk7XHJcbiAgICBjb25zdCB0b2tlbiA9IFVzZXJUYXNrTWFuYWdlci5nZXRUb2tlbigpO1xyXG4gICAgY29uc3QgYWNjZXB0ZWRGaWxlID0gaW5wdXQuZmlsZXNbMF07XHJcbiAgICBjb25zb2xlLmxvZygnaGFuZGxlU3VibWl0Jyk7XHJcbiAgICAvLyBpZiAoIWlzSW1nU2l6ZU9rKGFjY2VwdGVkRmlsZSkpIHtcclxuICAgIC8vICAgICBjb25zb2xlLmxvZygnc2hvdyBlcnJvciBtZXNzYWdlLCBpbWdTaXplIHRvIGJpZyAnKTtcclxuICAgIC8vICAgICAkKGZpbGVVcGxvYWRCb3gpXHJcbiAgICAvLyAgICAgICAgIC5hcHBlbmQoYFxyXG4gICAgLy8gICAgICAgICAgICAgPHAgY2xhc3M9XCJtc2ctbWF4LXNpemUtaW1nIHRleHQtZGFuZ2VyXCI+0JzQsNC60YHQuNC80LDQu9GM0L3Ri9C5INC00L7Qv9GD0YHRgtC40LzRi9C5INGA0LDQt9C80LXRgCDQutCw0YDRgtC40L3QutC4ICR7TUFYX0lNR19GSUxFX1NJWkVfQllURX1NQjwvcD5cclxuICAgIC8vICAgICAgICAgYCk7XHJcbiAgICAvLyAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAvLyAgICAgICAgICQoJy5tc2ctbWF4LXNpemUtaW1nJykuYWRkQ2xhc3MoJ2Qtbm9uZScpO1xyXG4gICAgLy8gICAgIH0sIDUwMDApO1xyXG4gICAgLy8gICAgIHJldHVybjtcclxuICAgIC8vIH1cclxuICAgIGNvbnN0IGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCk7XHJcblxyXG4gICAgY29uc3QgcmVxdWVzdCA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xyXG5cclxuICAgIGlmIChyZXBsYWNlV2l0aENmZyAmJiByZXBsYWNlV2l0aENmZy5yZXBsYWNlV2l0aCkge1xyXG4gICAgICAgIC8vICoqIGVkaXQgVVNFUiAqKlxyXG4gICAgICAgIC8vIFBVVCBodHRwOi8vYXBpLmx1eGdyYW0ucnUvdjEvaW5zdGFncmFtLWFjY291bnRzL3t1c2VybmFtZX0vcGhvdG9cclxuICAgICAgICAvLyBmb3JtLWRhdGE6IFwicGhvdG9cIiAoanBnKVxyXG4gICAgICAgIGZvcm1EYXRhLmFwcGVuZCgncGhvdG8nLCBhY2NlcHRlZEZpbGUsIGFjY2VwdGVkRmlsZS5uYW1lKTtcclxuICAgICAgICBjb25zdCB7dXNlcm5hbWV9ID0gcmVwbGFjZVdpdGhDZmc7XHJcbiAgICAgICAgcmVxdWVzdC5vcGVuKCdQVVQnLCBgaHR0cDovL2FwaS5sdXhncmFtLnJ1L3YxL2luc3RhZ3JhbS1hY2NvdW50cy8ke3VzZXJuYW1lfS9waG90b2ApO1xyXG4gICAgICAgIC8vIHJlcXVlc3Qud2l0aENyZWRlbnRpYWxzID0gdHJ1ZTtcclxuICAgICAgICByZXF1ZXN0LnNldFJlcXVlc3RIZWFkZXIoJ3Rva2VuJywgdG9rZW4pO1xyXG4gICAgICAgIHJlcXVlc3Quc2V0UmVxdWVzdEhlYWRlcignQWNjZXB0JywgJ2FwcGxpY2F0aW9uL2pzb24nKTtcclxuICAgICAgICByZXF1ZXN0LnNldFJlcXVlc3RIZWFkZXIoJ2NhY2hlLWNvbnRyb2wnLCAnbm8tY2FjaGUnKTtcclxuICAgICAgICByZXF1ZXN0LnNlbmQoZm9ybURhdGEpO1xyXG4gICAgICAgIHJlcXVlc3QuYWRkRXZlbnRMaXN0ZW5lcigncmVhZHlzdGF0ZWNoYW5nZScsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKHRoaXMucmVhZHlTdGF0ZSA9PT0gNCkge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ1BVVCcsIHRoaXMucmVzcG9uc2VUZXh0LCB0aGlzKTtcclxuICAgICAgICAgICAgICAgIC8vIHdpbmRvdy5QdWJTdWIucHVibGlzaChDT05TVC5ldmVudHMuYXV0b2FybnN3ZXIuSU1BR0VfVVBMT0FERUQsIHsncmVzcG9uc2UnOiB0aGlzLnJlc3BvbnNlVGV4dCwgJ2VsJzogaW5wdXR9KTtcclxuICAgICAgICAgICAgICAgIHdpbmRvdy5QdWJTdWIucHVibGlzaChDT05TVC5ldmVudHMuYXV0b2FybnN3ZXIuSU1BR0VfVVBMT0FERURfQVZBVEFSLCB7J3Jlc3BvbnNlJzogdGhpcy5yZXNwb25zZX0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgZm9ybURhdGEuYXBwZW5kKCdpbWFnZScsIGFjY2VwdGVkRmlsZSwgYWNjZXB0ZWRGaWxlLm5hbWUpO1xyXG4gICAgcmVxdWVzdC5vcGVuKCdQT1NUJywgdXJsKTtcclxuICAgIC8vIHJlcXVlc3Qud2l0aENyZWRlbnRpYWxzID0gdHJ1ZTtcclxuICAgIHJlcXVlc3Quc2V0UmVxdWVzdEhlYWRlcigndG9rZW4nLCB0b2tlbik7XHJcbiAgICByZXF1ZXN0LnNldFJlcXVlc3RIZWFkZXIoJ0FjY2VwdCcsICdhcHBsaWNhdGlvbi9qc29uJyk7XHJcbiAgICByZXF1ZXN0LnNldFJlcXVlc3RIZWFkZXIoJ2NhY2hlLWNvbnRyb2wnLCAnbm8tY2FjaGUnKTtcclxuICAgIHJlcXVlc3Quc2VuZChmb3JtRGF0YSk7XHJcbiAgICByZXF1ZXN0LmFkZEV2ZW50TGlzdGVuZXIoJ3JlYWR5c3RhdGVjaGFuZ2UnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMucmVhZHlTdGF0ZSA9PT0gNCkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygndGhpcycsIHRoaXMucmVzcG9uc2VUZXh0LCB0aGlzKTtcclxuICAgICAgICAgICAgd2luZG93LlB1YlN1Yi5wdWJsaXNoKENPTlNULmV2ZW50cy5hdXRvYXJuc3dlci5JTUFHRV9VUExPQURFRCwgeydyZXNwb25zZSc6IHRoaXMucmVzcG9uc2VUZXh0LCAnZWwnOiBpbnB1dH0pO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiByZWFkVVJMKGlucHV0LCByZXBsYWNlV2l0aENmZywgaGFuZGxlU3VibWl0Q2IpIHtcclxuICAgIGNvbnN0IHtyZXBsYWNlV2l0aCwgaG9sZGVyQ2xzfSA9IHJlcGxhY2VXaXRoQ2ZnO1xyXG4gICAgY29uc3QgaG9sZGVyID0gKGhvbGRlckNscykgPyBob2xkZXJDbHMgOiBmaWxlVXBsb2FkQm94O1xyXG4gICAgY29uc3QgJGNvbnRhaW5lciA9ICQoaW5wdXQpLmNsb3Nlc3QoaG9sZGVyKTtcclxuICAgIGlmIChpbnB1dC5maWxlcyAmJiBpbnB1dC5maWxlc1swXSkge1xyXG4gICAgICAgIGNvbnN0IHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ3JlYWRVUkwnKTtcclxuICAgICAgICBpZiAoIWlzSW1nU2l6ZU9rKGlucHV0LmZpbGVzWzBdKSB8fCAhaXNGaWxlVHlwZU9rKGlucHV0LmZpbGVzWzBdKSkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnc2hvdyBlcnJvciBtZXNzYWdlLCBpbWdTaXplIHRvIGJpZyAnKTtcclxuICAgICAgICAgICAgJChmaWxlVXBsb2FkQm94KS5maW5kKCd3YXJuaW5nLWltYWdlJykucmVtb3ZlKCk7XHJcbiAgICAgICAgICAgICQoZmlsZVVwbG9hZEJveCkuYXBwZW5kKGBcclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ3YXJuaW5nLWltYWdlIHRleHQtZGFuZ2VyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPHA+0JTQvtGB0YLRg9C/0L3Ri9C5INGE0L7RgNC80LDRgiDQuNC30L7QsdGA0LDQttC10L3QuNGPIGpwZWcg0LjQu9C4IGpwZzwvcD5cclxuICAgICAgICAgICAgICAgICAgICA8cCBjbGFzcz1cIm1zZy1tYXgtc2l6ZS1pbWcgdGV4dC1kYW5nZXJcIj7QnNCw0LrRgdC40LzQsNC70YzQvdGL0Lkg0LTQvtC/0YPRgdGC0LjQvNGL0Lkg0YDQsNC30LzQtdGAINC60LDRgNGC0LjQvdC60LggJHtNQVhfSU1HX0ZJTEVfU0laRV9CWVRFIC8gMTAyNCAvIDEwMjR9TUI8L3A+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgYCk7XHJcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgJCgnLndhcm5pbmctaW1hZ2UnKS5hZGRDbGFzcygnZC1ub25lJyk7XHJcbiAgICAgICAgICAgIH0sIDUwMDApO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZWFkZXIub25sb2FkID0gZnVuY3Rpb24oZSkge1xyXG4gICAgICAgICAgICBpZiAoIXJlcGxhY2VXaXRoKSB7XHJcbiAgICAgICAgICAgICAgICAkY29udGFpbmVyLmZpbmQoJy5pbWFnZS11cGxvYWQtd3JhcCcpLmhpZGUoKTtcclxuICAgICAgICAgICAgICAgICRjb250YWluZXIuZmluZCgnLmZpbGUtdXBsb2FkLWltYWdlJykuYXR0cignc3JjJywgZS50YXJnZXQucmVzdWx0KTtcclxuICAgICAgICAgICAgICAgICRjb250YWluZXIuZmluZChmaWxlVXBsb2FkQ29udGVudCkuc2hvdygpO1xyXG4gICAgICAgICAgICAgICAgJGNvbnRhaW5lci5maW5kKCcuaW1hZ2UtdGl0bGUnKS5odG1sKGlucHV0LmZpbGVzWzBdLm5hbWUpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgY29uc3Qge2ltYWdlQ2xzfSA9IHJlcGxhY2VXaXRoQ2ZnO1xyXG4gICAgICAgICAgICAgICAgJGNvbnRhaW5lci5maW5kKGltYWdlQ2xzKS5hdHRyKCdzcmMnLCBlLnRhcmdldC5yZXN1bHQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgcmVhZGVyLm9uZXJyb3IgPSBlcnJvckhhbmRsZXI7XHJcbiAgICAgICAgcmVhZGVyLm9ucHJvZ3Jlc3MgPSB1cGRhdGVQcm9ncmVzcztcclxuXHJcbiAgICAgICAgcmVhZGVyLnJlYWRBc0RhdGFVUkwoaW5wdXQuZmlsZXNbMF0pO1xyXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAodHlwZW9mIGhhbmRsZVN1Ym1pdENiID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB0b2tlbiA9IFVzZXJUYXNrTWFuYWdlci5nZXRUb2tlbigpO1xyXG4gICAgICAgICAgICAgICAgaGFuZGxlU3VibWl0Q2IoaW5wdXQsIHRva2VuKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGhhbmRsZVN1Ym1pdChpbnB1dCwgcmVwbGFjZVdpdGhDZmcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSwgMjAwMCk7XHJcbiAgICAgICAgLy8gUmVhZCBpbiB0aGUgaW1hZ2UgZmlsZSBhcyBhIGJpbmFyeSBzdHJpbmcuXHJcbiAgICAgICAgLy8gcmVhZGVyLnJlYWRBc0JpbmFyeVN0cmluZyhpbnB1dC5maWxlc1swXSk7XHJcblxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICByZW1vdmVVcGxvYWQoJGNvbnRhaW5lcik7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBpbml0KHJlcGxhY2VXaXRoQ2ZnLCBoYW5kbGVTdWJtaXRDYikge1xyXG4gICAgY29uc3QgdXBsb2FkQnRuQ2xzID0gKCEocmVwbGFjZVdpdGhDZmcgJiYgcmVwbGFjZVdpdGhDZmcucmVwbGFjZVdpdGgpKSA/ICcuZmlsZS11cGxvYWQtYnRuJyA6IHJlcGxhY2VXaXRoQ2ZnLnVwbG9hZEJ0bkNscztcclxuICAgIGNvbnN0ICR1cGxvYWRCdG4gPSAkKHVwbG9hZEJ0bkNscyk7XHJcbiAgICBjb25zdCAkdXBsb2FkSW5wdXQgPSAkKCcuZmlsZS11cGxvYWQtaW5wdXQnKTtcclxuICAgIGNvbnN0ICRyZW1vdmVJbWdCdG4gPSAkKCcucmVtb3ZlLWltYWdlJyk7XHJcblxyXG4gICAgJHVwbG9hZEJ0bi5vZmYoKTtcclxuICAgICR1cGxvYWRJbnB1dC5vZmYoKTtcclxuICAgICRyZW1vdmVJbWdCdG4ub2ZmKCk7XHJcblxyXG4gICAgJHVwbG9hZEJ0bi5vbignY2xpY2snLCAoZSkgPT4ge1xyXG4gICAgICAgIGNvbnN0IHRvUGFyZW50Q2xzID0gKCEocmVwbGFjZVdpdGhDZmcgJiYgcmVwbGFjZVdpdGhDZmcucmVwbGFjZVdpdGgpKSA/ICcuY29sJyA6IHJlcGxhY2VXaXRoQ2ZnLmhvbGRlckNscztcclxuICAgICAgICBjb25zdCBpbnB1dCA9ICQoZS50YXJnZXQpLmNsb3Nlc3QodG9QYXJlbnRDbHMpLmZpbmQoZmlsZVVwbG9hZEJveCkuZmluZCgnaW5wdXQuZmlsZS11cGxvYWQtaW5wdXQnKTtcclxuICAgICAgICBpbnB1dC50cmlnZ2VyKCdjbGljaycpO1xyXG4gICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAkdXBsb2FkSW5wdXQub24oJ2NoYW5nZScsIChlKSA9PiB7XHJcbiAgICAgICAgcmVhZFVSTChlLnRhcmdldCwgcmVwbGFjZVdpdGhDZmcsIGhhbmRsZVN1Ym1pdENiKTtcclxuICAgIH0pO1xyXG5cclxuICAgICRyZW1vdmVJbWdCdG4ub24oJ2NsaWNrJywgKGUpID0+IHtcclxuICAgICAgICBjb25zdCAkY29udGFpbmVyID0gJChlLnRhcmdldCkuY2xvc2VzdCgnLmNvbCcpLmZpbmQoZmlsZVVwbG9hZEJveCk7XHJcbiAgICAgICAgcmVtb3ZlVXBsb2FkKCRjb250YWluZXIpO1xyXG4gICAgICAgICRjb250YWluZXIucmVtb3ZlQXR0cignYXR0YWNoZWQtaW1nLWlkJyk7XHJcbiAgICB9KTtcclxufVxyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvYmxvY2tzL19zaGFyZWQvaW1hZ2UtdXBsb2FkL2ltYWdlLXVwbG9hZC5qcyIsIi8qIGVzbGludC1kaXNhYmxlIG5vLXVzZS1iZWZvcmUtZGVmaW5lICovXHJcbmltcG9ydCBVc2VyVGFza01hbmFnZXIgZnJvbSAnLi4vLi4vLi4vY29tbW9uL2pzLXNlcnZpY2VzL2FwaS10YXNrLW1hbmFnZXInO1xyXG5cclxubGV0IGNsc0NvbnN0ID0ge1xyXG4gICAgY3VycmVudFBhZ2VDbHM6ICcnLFxyXG4gICAgdGFza3NMaXN0OiAnJyxcclxuICAgIGxvZ3NUYWJCdG46ICcnLFxyXG4gICAgcGFnaW5hdGlvbjogJycsXHJcbiAgICBwYWdpbmF0aW9uUGdOdW1iZXI6ICcnXHJcbn07XHJcbmxldCAkbGlzdCA9ICckKGNsc0NvbnN0LnRhc2tzTGlzdCknOyAvLyBzZXQgaW4gcHJlQ29uZmlnKClcclxubGV0IHNlbGVjdENscyA9ICdzb21lQ2xhc3MnO1xyXG5jb25zdCBnZXRVc2VybmFtZSA9ICgpID0+ICQoYC4ke3NlbGVjdENsc30gb3B0aW9uOnNlbGVjdGVkYCkudmFsKCk7XHJcbmNvbnN0IHBhdGggPSB7XHJcbiAgICB1c2VybmFtZTogZ2V0VXNlcm5hbWUoKVxyXG59O1xyXG5sZXQgY3VycmVudFBhZ2UgPSBudWxsO1xyXG5sZXQgaW50ZXJ2YWxJZCA9ICcnO1xyXG5cclxuZnVuY3Rpb24gaW5pdEhhbmRsZXJQYWdpbmF0aW9uKCRwcmV2aW91cywgJG5leHQsIGRhdGFBcnJheSkge1xyXG4gICAgY29uc3QgJHdyYXBwZXIgPSAkKGNsc0NvbnN0LnBhZ2luYXRpb24pO1xyXG4gICAgY29uc3Qge3BhZ2luYXRpb259ID0gZGF0YUFycmF5LnNldHRpbmdzO1xyXG5cclxuICAgICRwcmV2aW91cy5vbignY2xpY2snLCAoZSkgPT4ge1xyXG4gICAgICAgIGNvbnN0ICRsaUFjdGl2ZSA9ICR3cmFwcGVyLmZpbmQoJ2xpLnBhZ2UtbnVtYmVyLmFjdGl2ZScpO1xyXG4gICAgICAgIGNvbnN0IHBhZ2UgPSBwYWdpbmF0aW9uLnByZXZpb3VzO1xyXG4gICAgICAgIGlmICghcGFnaW5hdGlvbi5wcmV2aW91cykge1xyXG4gICAgICAgICAgICAkcHJldmlvdXMuYWRkQ2xhc3MoJ2Rpc2FibGVkJykucHJvcCgnZGlzYWJsZWQnLCAnZGlzYWJsZWQnKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjdXJyZW50UGFnZSA9IHBhZ2luYXRpb24ucHJldmlvdXM7XHJcbiAgICAgICAgJGxpQWN0aXZlLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcclxuICAgICAgICBnZXRMb2dzRGF0YSgkbGlzdCwgcGF0aCwgcGFnZSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAkbmV4dC5vbignY2xpY2snLCAoZSkgPT4ge1xyXG4gICAgICAgIGNvbnN0ICRsaUFjdGl2ZSA9ICR3cmFwcGVyLmZpbmQoJ2xpLnBhZ2UtbnVtYmVyLmFjdGl2ZScpO1xyXG4gICAgICAgIGNvbnN0IGN1cnJlbnRBY3RpdmVJZHggPSAkbGlBY3RpdmUuaW5kZXgoKTtcclxuICAgICAgICBjb25zdCBwYWdlID0gcGFnaW5hdGlvbi5uZXh0O1xyXG4gICAgICAgIGlmICghcGFnaW5hdGlvbi5uZXh0KSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgY3VycmVudFBhZ2UgPSBwYWdpbmF0aW9uLm5leHQ7XHJcbiAgICAgICAgJGxpQWN0aXZlLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcclxuICAgICAgICAvLyBpZiAobGFzdFBhZ2UgPD0gY3VycmVudEFjdGl2ZUlkeCArIDEpIHtcclxuICAgICAgICAvLyAgICAgJChlLnRhcmdldCkucGFyZW50KCkuYWRkQ2xhc3MoJ2Rpc2FibGVkJyk7XHJcbiAgICAgICAgLy8gfVxyXG4gICAgICAgIGlmIChjdXJyZW50QWN0aXZlSWR4ICYmICRwcmV2aW91cy5oYXNDbGFzcygnZGlzYWJsZWQnKSkge1xyXG4gICAgICAgICAgICAkcHJldmlvdXMucmVtb3ZlQ2xhc3MoJ2Rpc2FibGVkJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGdldExvZ3NEYXRhKCRsaXN0LCBwYXRoLCBwYWdlKTtcclxuICAgIH0pO1xyXG5cclxuICAgICQoY2xzQ29uc3QubG9nc1RhYkJ0bikub24oJ2NsaWNrJywgKGUpID0+IHtcclxuICAgICAgICAvLyBhdCB0aGlzIHBvaW50IG9mIHRpbWUgc2V0SW50ZXJ2YWwgaXMgd29ya2luZ1xyXG4gICAgICAgIGN1cnJlbnRQYWdlID0gMTtcclxuICAgIH0pO1xyXG4gICAgJChgJHtjbHNDb25zdC5wYWdpbmF0aW9ufSAke2Nsc0NvbnN0LnBhZ2luYXRpb25QZ051bWJlcn1gKS5vbignY2xpY2snLCAoZSkgPT4ge1xyXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICBjb25zdCB2YWwgPSAkKGUudGFyZ2V0KS50ZXh0KCk7XHJcbiAgICAgICAgY3VycmVudFBhZ2UgPSBwYXJzZUludCh2YWwsIDEwKTtcclxuICAgICAgICBnZXRMb2dzRGF0YSgkbGlzdCwgcGF0aCwgY3VycmVudFBhZ2UpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGN1cnJlbnRQYWdlKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBhZGRQYWdpbmF0aW9uKGRhdGFBcnJheSwgJHdyYXBwZXIpIHtcclxuICAgIGNvbnN0IHtwYWdpbmF0aW9ufSA9IGRhdGFBcnJheS5zZXR0aW5ncztcclxuICAgIGNvbnN0IHRwbFByZXZpb3VzID0gJChgPGxpIGNsYXNzPVwicGFnZS1pdGVtICR7KCFwYWdpbmF0aW9uLnByZXZpb3VzKSA/ICdkaXNhYmxlZCcgOiAnJ31cIj48YSBjbGFzcz1cInBhZ2UtbGlua1wiIGhyZWY9XCIjXCIgJHsoIXBhZ2luYXRpb24ucHJldmlvdXMpID8gJ3RhYmluZGV4PVwiLTFcIicgOiAnJ30+0J3QsNC30LDQtDwvYT48L2xpPmApO1xyXG4gICAgY29uc3QgdHBsTmV4dCA9ICQoYDxsaSBjbGFzcz1cInBhZ2UtaXRlbSAkeyghcGFnaW5hdGlvbi5uZXh0KSA/ICdkaXNhYmxlZCcgOiAnJ31cIj48YSBjbGFzcz1cInBhZ2UtbGlua1wiIGhyZWY9XCIjXCIgJHsoIXBhZ2luYXRpb24ubmV4dCkgPyAndGFiaW5kZXg9XCItMVwiJyA6ICcnfT7QktC/0LXRgNC10LQ8L2E+PC9saT5gKTtcclxuXHJcbiAgICBjbGVhclBhZ2luYXRpb24oJHdyYXBwZXIpO1xyXG5cclxuICAgIGlmIChwYWdpbmF0aW9uLm5leHQgfHwgcGFnaW5hdGlvbi5wYWdlcyAmJiAocGFnaW5hdGlvbi5jdXJyZW50ID09PSBwYWdpbmF0aW9uLnBhZ2VzW3BhZ2luYXRpb24ucGFnZXMubGVuZ3RoIC0gMV0pKSB7XHJcbiAgICAgICAgJHdyYXBwZXIuYXBwZW5kKHRwbFByZXZpb3VzKTtcclxuICAgICAgICBpZiAocGFnaW5hdGlvbiAmJiBwYWdpbmF0aW9uWydwYWdlcyddKSB7XHJcbiAgICAgICAgICAgIHBhZ2luYXRpb25bJ3BhZ2VzJ10uZm9yRWFjaCgoaXRlbSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgJChgPGxpIGNsYXNzPVwicGFnZS1pdGVtIHBhZ2UtbnVtYmVyICR7KHBhZ2luYXRpb24uY3VycmVudCA9PT0gaXRlbSkgPyAnYWN0aXZlJyA6ICcnfVwiPjxhIGNsYXNzPVwicGFnZS1saW5rXCIgaHJlZj1cIiNcIj4ke2l0ZW19PC9hPjwvbGk+YCkuYXBwZW5kVG8oJHdyYXBwZXIpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgJHdyYXBwZXIuYXBwZW5kKHRwbE5leHQpO1xyXG4gICAgfVxyXG4gICAgaW5pdEhhbmRsZXJQYWdpbmF0aW9uKHRwbFByZXZpb3VzLCB0cGxOZXh0LCBkYXRhQXJyYXkpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBjbGVhclBhZ2luYXRpb24oJHdyYXBwZXIpIHtcclxuICAgICR3cmFwcGVyLmVtcHR5KCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGZpbGxMaXN0TWV0YSgkbGlzdCwgZGF0YUFycmF5LCBpc1J1bnMpIHtcclxuICAgIGNvbnN0ICR3cmFwcGVyUGFnaW5hdGlvbiA9ICQoJy5sb2dzLXBhZ2luYXRpb24nKTtcclxuICAgIGNvbnN0IGl0ZW1zID0gZGF0YUFycmF5LmxvZ3M7XHJcbiAgICAvLyBjb25zdCBkZWZhdWx0QXZhdGFyU3JjID0gQ09OU1QudXNlci5kZWZhdWxBdmF0YXI7XHJcbiAgICAkbGlzdC5lbXB0eSgpO1xyXG4gICAgaWYgKCFpdGVtcy5sZW5ndGgpIHtcclxuICAgICAgICAkKGA8bGkgY2xhc3M9XCJsaXN0LWdyb3VwLWl0ZW0gcHktMlwiPlxyXG4gICAgICAgICAgICA8cD7QndC10YIg0L3QuCDQvtC00L3QvtCz0L4g0LvQvtCz0LAuPC9wPlxyXG4gICAgICAgIDwvbGk+YCkuYXBwZW5kVG8oJGxpc3QpO1xyXG4gICAgICAgIGNsZWFyUGFnaW5hdGlvbigkd3JhcHBlclBhZ2luYXRpb24pO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGFkZFBhZ2luYXRpb24oZGF0YUFycmF5LCAkd3JhcHBlclBhZ2luYXRpb24pO1xyXG4gICAgaXRlbXMuZm9yRWFjaCgoaXRlbSkgPT4ge1xyXG4gICAgICAgIGNvbnN0IHtsZXZlbCwgdmFsdWV9ID0gaXRlbTtcclxuICAgICAgICAkKGA8bGkgY2xhc3M9XCJsaXN0LWdyb3VwLWl0ZW0gcC0wIHB5LTJcIj5cclxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibWVkaWEtYm9keSBkLWZsZXhcIj5cclxuICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbCB0YXNrLXR5cGUgJHsobGV2ZWwgPT09ICdFUlJPUicpID8gJ3RleHQtZGFuZ2VyJyA6ICcnfSAkeyhsZXZlbCA9PT0gJ1dBUk4nKSA/ICd0ZXh0LXdhcm5pbmcnIDogJyd9XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAkeyh2YWx1ZSkgPyBgJHt2YWx1ZX1gIDogJyd9XHJcbiAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgPC9saT5gKS5hcHBlbmRUbygkbGlzdCk7XHJcblxyXG4gICAgICAgIGlmICghJCgnbGknLCAkbGlzdCkubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICQoYDxsaSBjbGFzcz1cImxpc3QtZ3JvdXAtaXRlbSBweS0yXCIgPlxyXG4gICAgICAgICAgICAgICAgPHA+0J3QtdGCINC90Lgg0L7QtNC90L7Qs9C+INC70L7Qs9CwLjwvcD5cclxuICAgICAgICAgICAgPC9saT5gKS5hcHBlbmRUbygkbGlzdCk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHRhYlN0b3BSZXFIYW5kbGVyKCkge1xyXG4gICAgY29uc3QgJGFsbEFzaWRlVGFicyA9ICQoJyN2LXBpbGxzLXRhYicpO1xyXG4gICAgJGFsbEFzaWRlVGFicy5vZmYoKTtcclxuICAgICRhbGxBc2lkZVRhYnMub24oJ2NsaWNrJywgJ2EnLCAoZSkgPT4ge1xyXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICBjb25zdCB0YWIgPSAkKGUudGFyZ2V0KTtcclxuICAgICAgICBpZiAodGFiLmF0dHIoJ2lkJykgIT09ICd2LXBpbGxzLWxvZ3MtdGFiJykge1xyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZygnc3RvcCByZXEnKTtcclxuICAgICAgICAgICAgaWYgKGludGVydmFsSWQpIHtcclxuICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWxJZCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gZ2V0TG9nc0RhdGEoJGxpc3QsIHBhdGgsIHBhZ2UpIHtcclxuICAgIHBhdGgudXNlcm5hbWUgPSBnZXRVc2VybmFtZShzZWxlY3RDbHMpO1xyXG4gICAgY29uc3QgcGF0aEFyciA9IFtwYXRoLnR5cGUsIGBzdWJ0eXBlLyR7cGF0aC5zdWJ0eXBlfWAsIGBhY2NvdW50LyR7cGF0aC51c2VybmFtZX1gXTtcclxuICAgIFVzZXJUYXNrTWFuYWdlci5nZXRMb2dzQ2hhdEJvdChwYXRoQXJyLCBwYWdlKS50aGVuKChyZXN1bHQpID0+IHtcclxuICAgICAgICBpZiAocmVzdWx0LnN0YXR1cy5zdGF0ZSA9PT0gJ29rJykge1xyXG4gICAgICAgICAgICBmaWxsTGlzdE1ldGEoJGxpc3QsIHJlc3VsdC5kYXRhKTtcclxuICAgICAgICAgICAgdGFiU3RvcFJlcUhhbmRsZXIoKTtcclxuICAgICAgICAgICAgY29uc3QgdXBkYXRlSW50ZXJ2YWwgPSByZXN1bHQuZGF0YS5zZXR0aW5ncy5pbnZva2VfaW5fbWlsbGlzO1xyXG4gICAgICAgICAgICAvLyByZXNldCBUaW1lciByZXF1ZXN0XHJcbiAgICAgICAgICAgIGlmIChpbnRlcnZhbElkKSB7XHJcbiAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKGludGVydmFsSWQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmIChjdXJyZW50UGFnZSA8PSAxKSB7XHJcbiAgICAgICAgICAgICAgICBpbnRlcnZhbElkID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBpbmRlbnRcclxuICAgICAgICAgICAgICAgICAgICBnZXRMb2dzRGF0YSgkbGlzdCwgcGF0aCwgY3VycmVudFBhZ2UpO1xyXG4gICAgICAgICAgICAgICAgfSwgdXBkYXRlSW50ZXJ2YWwpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgJChgPGxpIGNsYXNzPVwibGlzdC1ncm91cC1pdGVtIHB5LTJcIj5cclxuICAgICAgICAgICAgICAgIDxwPtCd0LXRgiDQtNC+0YHRgtGD0L/QsDwvcD5cclxuICAgICAgICAgICAgPC9saT5gKS5hcHBlbmRUbygkbGlzdCk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHByZUNvbmZpZyhjZmcpIHtcclxuICAgIGNsc0NvbnN0ID0gY2ZnO1xyXG4gICAgJGxpc3QgPSAkKGNsc0NvbnN0LnRhc2tzTGlzdCk7XHJcbiAgICBwYXRoLnR5cGUgPSBjZmcucGF0aFR5cGU7XHJcbiAgICBwYXRoLnN1YnR5cGUgPSBjZmcucGF0aFN1YlR5cGU7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBpbml0KF9zZWxlY3RDbHMsIGNmZykge1xyXG4gICAgaWYgKCQoY2ZnLmN1cnJlbnRQYWdlQ2xzKS5sZW5ndGgpIHtcclxuICAgICAgICBzZWxlY3RDbHMgPSBfc2VsZWN0Q2xzO1xyXG4gICAgICAgIHByZUNvbmZpZyhjZmcpO1xyXG4gICAgICAgIGlmIChnZXRVc2VybmFtZSgpKSB7XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGdldFVzZXJuYW1lKCkpO1xyXG4gICAgICAgICAgICBnZXRMb2dzRGF0YSgkbGlzdCwgcGF0aCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ3NlbGVjdCB1c2VyJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9ibG9ja3MvX3NoYXJlZC9sb2dzL2xvZ3MuanMiLCJpbXBvcnQge0NPTlNUfSBmcm9tICcuLi8uLi8uLi9jb21tb24vanMtc2VydmljZXMvY29uc3RzJztcclxuaW1wb3J0IFVzZXIgZnJvbSAnLi4vLi4vLi4vY29tbW9uL2pzLXNlcnZpY2VzL3VzZXInO1xyXG5cclxuY29uc3QgZmlsbERyb3Bkb3duVXNlcnNDZmcgPSB7fTtcclxuXHJcbmZ1bmN0aW9uIGZpbGxEcm9wZG93blVzZXJzKHskd3JhcHBlciwgbG9nc1N0YXRlLCBPbkNoYW5nZVNlbGVjdENifSwgYWNjb3VudHMpIHtcclxuICAgIGNvbnN0IHtzZWxlY3RDbHN9ID0gbG9nc1N0YXRlO1xyXG4gICAgY29uc3QgbGFiZWwgPSAn0JLRi9Cx0LXRgNC40YLQtSDQsNC60LrQsNGD0L3Rgic7XHJcbiAgICAkd3JhcHBlci5lbXB0eSgpLmFkZENsYXNzKCdib3JkZXItbGlnaHQtY29sb3InKTtcclxuICAgICQoYDxkaXYgY2xhc3M9XCJcIj4ke2xhYmVsfTwvZGl2PjxzZWxlY3QgbmFtZT1cInRhc2stdHlwZVwiIGNsYXNzPVwiJHtzZWxlY3RDbHN9XCI+PC9zZWxlY3Q+YCkuYXBwZW5kVG8oJHdyYXBwZXIpO1xyXG4gICAgYWNjb3VudHMuZm9yRWFjaCgobmFtZSkgPT4ge1xyXG4gICAgICAgICQoYDxvcHRpb24gY2xhc3M9XCJsaXN0LWdyb3VwLWl0ZW0gcHktMlwiIHZhbHVlPVwiJHtuYW1lfVwiPlxyXG4gICAgICAgICAgICAke25hbWV9XHJcbiAgICAgICAgPC9vcHRpb24+YCkuYXBwZW5kVG8oJChgLiR7c2VsZWN0Q2xzfWApKTtcclxuICAgIH0pO1xyXG4gICAgT25DaGFuZ2VTZWxlY3RDYigpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBnZXRNZXRhTGF6eSgpIHtcclxuICAgIFVzZXIuZ2V0TWV0YWRhdGFMYXp5KCkudGhlbigocmVzKSA9PiB7XHJcbiAgICAgICAgaWYgKHJlcy5zdGF0dXMuc3RhdGUgPT09ICdvaycgJiYgcmVzLmRhdGEgJiYgcmVzLmRhdGEuYWNjb3VudHMpIHtcclxuICAgICAgICAgICAgY29uc3QgY2ZnID0gZmlsbERyb3Bkb3duVXNlcnNDZmc7XHJcbiAgICAgICAgICAgIGNvbnN0IHthY2NvdW50c30gPSByZXMuZGF0YTtcclxuICAgICAgICAgICAgZmlsbERyb3Bkb3duVXNlcnMoY2ZnLCBhY2NvdW50cyk7XHJcbiAgICAgICAgICAgIHdpbmRvdy5QdWJTdWIucHVibGlzaChDT05TVC5ldmVudHMuaW5zdGFncmFtQWNjb3Vucy5JTlNUQUdSQU1fQUNDT1VOU19SRU5ERVJFRF9MQVpZLCByZXMuZGF0YS5hY2NvdW50cyk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHRhYkhhbmRsZXIoaXNDb21wdXRlTXVsdHlEcm9wZG93bikge1xyXG4gICAgJCgnI3YtcGlsbHMtbG9ncy10YWInKS5vbignY2xpY2snLCAoZSkgPT4ge1xyXG4gICAgICAgIGdldE1ldGFMYXp5KCk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGluaXQoT25DaGFuZ2VTZWxlY3QsIGxvZ3NTdGF0ZSkge1xyXG4gICAgY29uc3QgJHdyYXBwZXIgPSAkKCcubG9nLXVzZXJzLWxpc3QnKTtcclxuICAgIE9iamVjdC5hc3NpZ24oZmlsbERyb3Bkb3duVXNlcnNDZmcsIHskd3JhcHBlciwgT25DaGFuZ2VTZWxlY3RDYjogT25DaGFuZ2VTZWxlY3QsIGxvZ3NTdGF0ZX0pO1xyXG4gICAgdGFiSGFuZGxlcigpO1xyXG59XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9ibG9ja3MvX3NoYXJlZC90ZWJzLXBpbHMvdGFicy5qcyIsImltcG9ydCAnYm9vdHN0cmFwLXRhZ3NpbnB1dC9kaXN0L2Jvb3RzdHJhcC10YWdzaW5wdXQubWluLmpzJztcclxuXHJcbmNvbnN0IHRhZ3NpbnB1dFNlbGVjdG9yID0gJy5ib290c3RyYXAtdGFnc2lucHV0JztcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBuZXh0QnRudmFsaWRhdGVDb21wZXRpdG9yc0hhbmRsZXIoJGlucHV0LCBuZXh0U3RlcEJ0biwgaWdyb3JlUmVnZXhDaGVjaykge1xyXG4gICAgY29uc3QgZW5nbGlzaENoYXJzID0gL15bQS1aYS16MC05LC5fIFxcbl0rJC87XHJcbiAgICBjb25zdCBjaGVja1RleHRBcmVhID0gKGUsIGlzSW5pdCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGlucHV0dmFsdWUgPSAoIWlzSW5pdCkgPyAkKGUudGFyZ2V0KS5jbG9zZXN0KCdkaXYgaW5wdXQnKS52YWwoKSA6ICcnO1xyXG4gICAgICAgIGNvbnN0IHRleHQgPSAoIWlzSW5pdCkgPyBgJHskKGUudGFyZ2V0KS5jbG9zZXN0KCdkaXYnKS5maW5kKCcuYm9vdHN0cmFwLXRhZ3NpbnB1dCBpbnB1dCcpLnZhbCgpfSwke2lucHV0dmFsdWV9YCA6ICcnO1xyXG4gICAgICAgIGNvbnN0IGlzUmVtb3ZlZCA9ICghaXNJbml0ICYmIGUudHlwZSA9PT0gJ2l0ZW1SZW1vdmVkJyk7XHJcbiAgICAgICAgY29uc3QgdGV4dE9uUmVtb3ZlID0gKGlzUmVtb3ZlZCkgPyBpbnB1dHZhbHVlIDogJyc7XHJcbiAgICAgICAgY29uc3QgcmVtb3ZlQm9yZGVyID0gKCkgPT4ge1xyXG4gICAgICAgICAgICAvLyBlbmFibGUgb24gZGVsZXRlIGFsbFxyXG4gICAgICAgICAgICAkKGUudGFyZ2V0KS5jbG9zZXN0KCcuanNfdGFnc2lucHV0LWJveCcpLmZpbmQodGFnc2lucHV0U2VsZWN0b3IpLnJlbW92ZUNsYXNzKCdib3JkZXItZGFuZ2VyJyk7XHJcbiAgICAgICAgICAgIGlmIChuZXh0U3RlcEJ0bikge1xyXG4gICAgICAgICAgICAgICAgLy8gZGlzYWJsZSBvbiBjaGVjbmdlXHJcbiAgICAgICAgICAgICAgICBuZXh0U3RlcEJ0bi5yZW1vdmVBdHRyKCdkaXNhYmxlZCcsICdkaXNhYmxlZCcpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICBjb25zdCBhZGRCb3JkZXIgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgICQoZS50YXJnZXQpLmNsb3Nlc3QoJy5qc190YWdzaW5wdXQtYm94JykuZmluZCh0YWdzaW5wdXRTZWxlY3RvcikuYWRkQ2xhc3MoJ2JvcmRlci1kYW5nZXInKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCd0ZXh0JywgdGV4dCk7XHJcbiAgICAgICAgaWYgKG5leHRTdGVwQnRuKSB7XHJcbiAgICAgICAgICAgIC8vIGRpc2FibGUgb24gY2hlY25nZVxyXG4gICAgICAgICAgICBuZXh0U3RlcEJ0bi5hdHRyKCdkaXNhYmxlZCcsICdkaXNhYmxlZCcpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBpc0FkZGVkVGV4dFZhbGlkID0gdGV4dC5sZW5ndGggJiYgKGVuZ2xpc2hDaGFycy50ZXN0KHRleHQpIHx8ICEhaWdyb3JlUmVnZXhDaGVjayk7XHJcbiAgICAgICAgY29uc3QgaXNSZW1vdmVkVGV4dFZhbGlkID0gdGV4dE9uUmVtb3ZlLmxlbmd0aCAmJiAoZW5nbGlzaENoYXJzLnRlc3QodGV4dE9uUmVtb3ZlKSB8fCAhIWlncm9yZVJlZ2V4Q2hlY2spO1xyXG5cclxuICAgICAgICBpZiAoKGlzQWRkZWRUZXh0VmFsaWQgfHwgaXNSZW1vdmVkVGV4dFZhbGlkKSAmJiB0ZXh0ICE9PSAnLCcpIHtcclxuICAgICAgICAgICAgLy8gZW5hYmxlIG9uIGNoZWNuZ2UgaWYgbGVuZ3RoVGV4dD4xXHJcbiAgICAgICAgICAgIHJlbW92ZUJvcmRlcigpO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoIWlzSW5pdCkge1xyXG4gICAgICAgICAgICAvLyAkKGUudGFyZ2V0KS5jbG9zZXN0KCcuanNfdGFnc2lucHV0LWJveCcpLmZpbmQodGFnc2lucHV0U2VsZWN0b3IpLmFkZENsYXNzKCdib3JkZXItZGFuZ2VyJyk7XHJcbiAgICAgICAgICAgIGFkZEJvcmRlcigpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoIXRleHRPblJlbW92ZS5sZW5ndGggJiYgaXNSZW1vdmVkICYmICFpc0luaXQpIHtcclxuICAgICAgICAgICAgLy8gZW5hYmxlIG9uIGRlbGV0ZSBhbGxcclxuICAgICAgICAgICAgcmVtb3ZlQm9yZGVyKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIC8vIGRpc2FibGUgb24gaW5pdFxyXG4gICAgY2hlY2tUZXh0QXJlYShudWxsLCAnaXNJbml0Jyk7XHJcbiAgICBjb25zb2xlLmxvZygnJGNvbXBldGl0b3JzVGV4dEFyZWEnLCAkaW5wdXQpO1xyXG5cclxuICAgIGlmICghbmV4dFN0ZXBCdG4pIHtcclxuICAgICAgICAvLyBkbyBub3QgdmFsaWRhdGUgYW55dGhpbmdcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgLy8gZXZlbnQuaXRlbTogY29udGFpbnMgdGhlIGl0ZW1cclxuICAgIC8vIGV2ZW50LmNhbmNlbDogc2V0IHRvIHRydWUgdG8gcHJldmVudCB0aGUgaXRlbSBnZXR0aW5nIGFkZGVkXHJcbiAgICAkaW5wdXQub24oJ2JlZm9yZUl0ZW1BZGQnLCBjaGVja1RleHRBcmVhKTtcclxuXHJcbiAgICAvLyBldmVudC5pdGVtOiBjb250YWlucyB0aGUgaXRlbVxyXG4gICAgJGlucHV0Lm9uKCdpdGVtUmVtb3ZlZCcsIGNoZWNrVGV4dEFyZWEpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaW5pdFRhZ3NJbnB1dCAoJGVsSW5wdXQpIHtcclxuICAgICRlbElucHV0LnRhZ3NpbnB1dCgnaXRlbXMnKTtcclxufVxyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvYmxvY2tzL19zaGFyZWQvdGFncy1pbnB1dC90YWdzLWlucHV0LmpzIiwiLyoqXG4gKiBDb3B5cmlnaHQgKGMpIDIwMTAsMjAxMSwyMDEyLDIwMTMsMjAxNCBNb3JnYW4gUm9kZXJpY2sgaHR0cDovL3JvZGVyaWNrLmRrXG4gKiBMaWNlbnNlOiBNSVQgLSBodHRwOi8vbXJnbnJkcmNrLm1pdC1saWNlbnNlLm9yZ1xuICpcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9tcm9kZXJpY2svUHViU3ViSlNcbiAqL1xuXG4oZnVuY3Rpb24gKHJvb3QsIGZhY3Rvcnkpe1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIHZhciBQdWJTdWIgPSB7fTtcbiAgICByb290LlB1YlN1YiA9IFB1YlN1YjtcblxuICAgIHZhciBkZWZpbmUgPSByb290LmRlZmluZTtcblxuICAgIGZhY3RvcnkoUHViU3ViKTtcblxuICAgIC8vIEFNRCBzdXBwb3J0XG4gICAgaWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCl7XG4gICAgICAgIGRlZmluZShmdW5jdGlvbigpIHsgcmV0dXJuIFB1YlN1YjsgfSk7XG5cbiAgICAgICAgLy8gQ29tbW9uSlMgYW5kIE5vZGUuanMgbW9kdWxlIHN1cHBvcnRcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBleHBvcnRzID09PSAnb2JqZWN0Jyl7XG4gICAgICAgIGlmIChtb2R1bGUgIT09IHVuZGVmaW5lZCAmJiBtb2R1bGUuZXhwb3J0cykge1xuICAgICAgICAgICAgZXhwb3J0cyA9IG1vZHVsZS5leHBvcnRzID0gUHViU3ViOyAvLyBOb2RlLmpzIHNwZWNpZmljIGBtb2R1bGUuZXhwb3J0c2BcbiAgICAgICAgfVxuICAgICAgICBleHBvcnRzLlB1YlN1YiA9IFB1YlN1YjsgLy8gQ29tbW9uSlMgbW9kdWxlIDEuMS4xIHNwZWNcbiAgICAgICAgbW9kdWxlLmV4cG9ydHMgPSBleHBvcnRzID0gUHViU3ViOyAvLyBDb21tb25KU1xuICAgIH1cblxufSgoIHR5cGVvZiB3aW5kb3cgPT09ICdvYmplY3QnICYmIHdpbmRvdyApIHx8IHRoaXMsIGZ1bmN0aW9uIChQdWJTdWIpe1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIHZhciBtZXNzYWdlcyA9IHt9LFxuICAgICAgICBsYXN0VWlkID0gLTE7XG5cbiAgICBmdW5jdGlvbiBoYXNLZXlzKG9iail7XG4gICAgICAgIHZhciBrZXk7XG5cbiAgICAgICAgZm9yIChrZXkgaW4gb2JqKXtcbiAgICAgICAgICAgIGlmICggb2JqLmhhc093blByb3BlcnR5KGtleSkgKXtcbiAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUmV0dXJucyBhIGZ1bmN0aW9uIHRoYXQgdGhyb3dzIHRoZSBwYXNzZWQgZXhjZXB0aW9uLCBmb3IgdXNlIGFzIGFyZ3VtZW50IGZvciBzZXRUaW1lb3V0XG4gICAgICogQGFsaWFzIHRocm93RXhjZXB0aW9uXG4gICAgICogQGZ1bmN0aW9uXG4gICAgICogQHBhcmFtIHsgT2JqZWN0IH0gZXggQW4gRXJyb3Igb2JqZWN0XG4gICAgICovXG4gICAgZnVuY3Rpb24gdGhyb3dFeGNlcHRpb24oIGV4ICl7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiByZVRocm93RXhjZXB0aW9uKCl7XG4gICAgICAgICAgICB0aHJvdyBleDtcbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjYWxsU3Vic2NyaWJlcldpdGhEZWxheWVkRXhjZXB0aW9ucyggc3Vic2NyaWJlciwgbWVzc2FnZSwgZGF0YSApe1xuICAgICAgICB0cnkge1xuICAgICAgICAgICAgc3Vic2NyaWJlciggbWVzc2FnZSwgZGF0YSApO1xuICAgICAgICB9IGNhdGNoKCBleCApe1xuICAgICAgICAgICAgc2V0VGltZW91dCggdGhyb3dFeGNlcHRpb24oIGV4ICksIDApO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY2FsbFN1YnNjcmliZXJXaXRoSW1tZWRpYXRlRXhjZXB0aW9ucyggc3Vic2NyaWJlciwgbWVzc2FnZSwgZGF0YSApe1xuICAgICAgICBzdWJzY3JpYmVyKCBtZXNzYWdlLCBkYXRhICk7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gZGVsaXZlck1lc3NhZ2UoIG9yaWdpbmFsTWVzc2FnZSwgbWF0Y2hlZE1lc3NhZ2UsIGRhdGEsIGltbWVkaWF0ZUV4Y2VwdGlvbnMgKXtcbiAgICAgICAgdmFyIHN1YnNjcmliZXJzID0gbWVzc2FnZXNbbWF0Y2hlZE1lc3NhZ2VdLFxuICAgICAgICAgICAgY2FsbFN1YnNjcmliZXIgPSBpbW1lZGlhdGVFeGNlcHRpb25zID8gY2FsbFN1YnNjcmliZXJXaXRoSW1tZWRpYXRlRXhjZXB0aW9ucyA6IGNhbGxTdWJzY3JpYmVyV2l0aERlbGF5ZWRFeGNlcHRpb25zLFxuICAgICAgICAgICAgcztcblxuICAgICAgICBpZiAoICFtZXNzYWdlcy5oYXNPd25Qcm9wZXJ0eSggbWF0Y2hlZE1lc3NhZ2UgKSApIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAocyBpbiBzdWJzY3JpYmVycyl7XG4gICAgICAgICAgICBpZiAoIHN1YnNjcmliZXJzLmhhc093blByb3BlcnR5KHMpKXtcbiAgICAgICAgICAgICAgICBjYWxsU3Vic2NyaWJlciggc3Vic2NyaWJlcnNbc10sIG9yaWdpbmFsTWVzc2FnZSwgZGF0YSApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY3JlYXRlRGVsaXZlcnlGdW5jdGlvbiggbWVzc2FnZSwgZGF0YSwgaW1tZWRpYXRlRXhjZXB0aW9ucyApe1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gZGVsaXZlck5hbWVzcGFjZWQoKXtcbiAgICAgICAgICAgIHZhciB0b3BpYyA9IFN0cmluZyggbWVzc2FnZSApLFxuICAgICAgICAgICAgICAgIHBvc2l0aW9uID0gdG9waWMubGFzdEluZGV4T2YoICcuJyApO1xuXG4gICAgICAgICAgICAvLyBkZWxpdmVyIHRoZSBtZXNzYWdlIGFzIGl0IGlzIG5vd1xuICAgICAgICAgICAgZGVsaXZlck1lc3NhZ2UobWVzc2FnZSwgbWVzc2FnZSwgZGF0YSwgaW1tZWRpYXRlRXhjZXB0aW9ucyk7XG5cbiAgICAgICAgICAgIC8vIHRyaW0gdGhlIGhpZXJhcmNoeSBhbmQgZGVsaXZlciBtZXNzYWdlIHRvIGVhY2ggbGV2ZWxcbiAgICAgICAgICAgIHdoaWxlKCBwb3NpdGlvbiAhPT0gLTEgKXtcbiAgICAgICAgICAgICAgICB0b3BpYyA9IHRvcGljLnN1YnN0ciggMCwgcG9zaXRpb24gKTtcbiAgICAgICAgICAgICAgICBwb3NpdGlvbiA9IHRvcGljLmxhc3RJbmRleE9mKCcuJyk7XG4gICAgICAgICAgICAgICAgZGVsaXZlck1lc3NhZ2UoIG1lc3NhZ2UsIHRvcGljLCBkYXRhLCBpbW1lZGlhdGVFeGNlcHRpb25zICk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gbWVzc2FnZUhhc1N1YnNjcmliZXJzKCBtZXNzYWdlICl7XG4gICAgICAgIHZhciB0b3BpYyA9IFN0cmluZyggbWVzc2FnZSApLFxuICAgICAgICAgICAgZm91bmQgPSBCb29sZWFuKG1lc3NhZ2VzLmhhc093blByb3BlcnR5KCB0b3BpYyApICYmIGhhc0tleXMobWVzc2FnZXNbdG9waWNdKSksXG4gICAgICAgICAgICBwb3NpdGlvbiA9IHRvcGljLmxhc3RJbmRleE9mKCAnLicgKTtcblxuICAgICAgICB3aGlsZSAoICFmb3VuZCAmJiBwb3NpdGlvbiAhPT0gLTEgKXtcbiAgICAgICAgICAgIHRvcGljID0gdG9waWMuc3Vic3RyKCAwLCBwb3NpdGlvbiApO1xuICAgICAgICAgICAgcG9zaXRpb24gPSB0b3BpYy5sYXN0SW5kZXhPZiggJy4nICk7XG4gICAgICAgICAgICBmb3VuZCA9IEJvb2xlYW4obWVzc2FnZXMuaGFzT3duUHJvcGVydHkoIHRvcGljICkgJiYgaGFzS2V5cyhtZXNzYWdlc1t0b3BpY10pKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiBmb3VuZDtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBwdWJsaXNoKCBtZXNzYWdlLCBkYXRhLCBzeW5jLCBpbW1lZGlhdGVFeGNlcHRpb25zICl7XG4gICAgICAgIG1lc3NhZ2UgPSAodHlwZW9mIG1lc3NhZ2UgPT09ICdzeW1ib2wnKSA/IG1lc3NhZ2UudG9TdHJpbmcoKSA6IG1lc3NhZ2U7XG5cbiAgICAgICAgdmFyIGRlbGl2ZXIgPSBjcmVhdGVEZWxpdmVyeUZ1bmN0aW9uKCBtZXNzYWdlLCBkYXRhLCBpbW1lZGlhdGVFeGNlcHRpb25zICksXG4gICAgICAgICAgICBoYXNTdWJzY3JpYmVycyA9IG1lc3NhZ2VIYXNTdWJzY3JpYmVycyggbWVzc2FnZSApO1xuXG4gICAgICAgIGlmICggIWhhc1N1YnNjcmliZXJzICl7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoIHN5bmMgPT09IHRydWUgKXtcbiAgICAgICAgICAgIGRlbGl2ZXIoKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHNldFRpbWVvdXQoIGRlbGl2ZXIsIDAgKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBQdWJsaXNoZXMgdGhlIG1lc3NhZ2UsIHBhc3NpbmcgdGhlIGRhdGEgdG8gaXQncyBzdWJzY3JpYmVyc1xuICAgICAqIEBmdW5jdGlvblxuICAgICAqIEBhbGlhcyBwdWJsaXNoXG4gICAgICogQHBhcmFtIHsgU3RyaW5nIH0gbWVzc2FnZSBUaGUgbWVzc2FnZSB0byBwdWJsaXNoXG4gICAgICogQHBhcmFtIHt9IGRhdGEgVGhlIGRhdGEgdG8gcGFzcyB0byBzdWJzY3JpYmVyc1xuICAgICAqIEByZXR1cm4geyBCb29sZWFuIH1cbiAgICAgKi9cbiAgICBQdWJTdWIucHVibGlzaCA9IGZ1bmN0aW9uKCBtZXNzYWdlLCBkYXRhICl7XG4gICAgICAgIHJldHVybiBwdWJsaXNoKCBtZXNzYWdlLCBkYXRhLCBmYWxzZSwgUHViU3ViLmltbWVkaWF0ZUV4Y2VwdGlvbnMgKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUHVibGlzaGVzIHRoZSB0aGUgbWVzc2FnZSBzeW5jaHJvbm91c2x5LCBwYXNzaW5nIHRoZSBkYXRhIHRvIGl0J3Mgc3Vic2NyaWJlcnNcbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKiBAYWxpYXMgcHVibGlzaFN5bmNcbiAgICAgKiBAcGFyYW0geyBTdHJpbmcgfSBtZXNzYWdlIFRoZSBtZXNzYWdlIHRvIHB1Ymxpc2hcbiAgICAgKiBAcGFyYW0ge30gZGF0YSBUaGUgZGF0YSB0byBwYXNzIHRvIHN1YnNjcmliZXJzXG4gICAgICogQHJldHVybiB7IEJvb2xlYW4gfVxuICAgICAqL1xuICAgIFB1YlN1Yi5wdWJsaXNoU3luYyA9IGZ1bmN0aW9uKCBtZXNzYWdlLCBkYXRhICl7XG4gICAgICAgIHJldHVybiBwdWJsaXNoKCBtZXNzYWdlLCBkYXRhLCB0cnVlLCBQdWJTdWIuaW1tZWRpYXRlRXhjZXB0aW9ucyApO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTdWJzY3JpYmVzIHRoZSBwYXNzZWQgZnVuY3Rpb24gdG8gdGhlIHBhc3NlZCBtZXNzYWdlLiBFdmVyeSByZXR1cm5lZCB0b2tlbiBpcyB1bmlxdWUgYW5kIHNob3VsZCBiZSBzdG9yZWQgaWYgeW91IG5lZWQgdG8gdW5zdWJzY3JpYmVcbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKiBAYWxpYXMgc3Vic2NyaWJlXG4gICAgICogQHBhcmFtIHsgU3RyaW5nIH0gbWVzc2FnZSBUaGUgbWVzc2FnZSB0byBzdWJzY3JpYmUgdG9cbiAgICAgKiBAcGFyYW0geyBGdW5jdGlvbiB9IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGNhbGwgd2hlbiBhIG5ldyBtZXNzYWdlIGlzIHB1Ymxpc2hlZFxuICAgICAqIEByZXR1cm4geyBTdHJpbmcgfVxuICAgICAqL1xuICAgIFB1YlN1Yi5zdWJzY3JpYmUgPSBmdW5jdGlvbiggbWVzc2FnZSwgZnVuYyApe1xuICAgICAgICBpZiAoIHR5cGVvZiBmdW5jICE9PSAnZnVuY3Rpb24nKXtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIG1lc3NhZ2UgPSAodHlwZW9mIG1lc3NhZ2UgPT09ICdzeW1ib2wnKSA/IG1lc3NhZ2UudG9TdHJpbmcoKSA6IG1lc3NhZ2U7XG5cbiAgICAgICAgLy8gbWVzc2FnZSBpcyBub3QgcmVnaXN0ZXJlZCB5ZXRcbiAgICAgICAgaWYgKCAhbWVzc2FnZXMuaGFzT3duUHJvcGVydHkoIG1lc3NhZ2UgKSApe1xuICAgICAgICAgICAgbWVzc2FnZXNbbWVzc2FnZV0gPSB7fTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vIGZvcmNpbmcgdG9rZW4gYXMgU3RyaW5nLCB0byBhbGxvdyBmb3IgZnV0dXJlIGV4cGFuc2lvbnMgd2l0aG91dCBicmVha2luZyB1c2FnZVxuICAgICAgICAvLyBhbmQgYWxsb3cgZm9yIGVhc3kgdXNlIGFzIGtleSBuYW1lcyBmb3IgdGhlICdtZXNzYWdlcycgb2JqZWN0XG4gICAgICAgIHZhciB0b2tlbiA9ICd1aWRfJyArIFN0cmluZygrK2xhc3RVaWQpO1xuICAgICAgICBtZXNzYWdlc1ttZXNzYWdlXVt0b2tlbl0gPSBmdW5jO1xuICAgICAgICBcbiAgICAgICAgLy8gcmV0dXJuIHRva2VuIGZvciB1bnN1YnNjcmliaW5nXG4gICAgICAgIHJldHVybiB0b2tlbjtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU3Vic2NyaWJlcyB0aGUgcGFzc2VkIGZ1bmN0aW9uIHRvIHRoZSBwYXNzZWQgbWVzc2FnZSBvbmNlXG4gICAgICogQGZ1bmN0aW9uXG4gICAgICogQGFsaWFzIHN1YnNjcmliZU9uY2VcbiAgICAgKiBAcGFyYW0geyBTdHJpbmcgfSBtZXNzYWdlIFRoZSBtZXNzYWdlIHRvIHN1YnNjcmliZSB0b1xuICAgICAqIEBwYXJhbSB7IEZ1bmN0aW9uIH0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gY2FsbCB3aGVuIGEgbmV3IG1lc3NhZ2UgaXMgcHVibGlzaGVkXG4gICAgICogQHJldHVybiB7IFB1YlN1YiB9XG4gICAgICovXG4gICAgUHViU3ViLnN1YnNjcmliZU9uY2UgPSBmdW5jdGlvbiggbWVzc2FnZSwgZnVuYyApe1xuICAgICAgICB2YXIgdG9rZW4gPSBQdWJTdWIuc3Vic2NyaWJlKCBtZXNzYWdlLCBmdW5jdGlvbigpe1xuICAgICAgICAgICAgLy8gYmVmb3JlIGZ1bmMgYXBwbHksIHVuc3Vic2NyaWJlIG1lc3NhZ2VcbiAgICAgICAgICAgIFB1YlN1Yi51bnN1YnNjcmliZSggdG9rZW4gKTtcbiAgICAgICAgICAgIGZ1bmMuYXBwbHkoIHRoaXMsIGFyZ3VtZW50cyApO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIFB1YlN1YjtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2xlYXJzIGFsbCBzdWJzY3JpcHRpb25zXG4gICAgICogQGZ1bmN0aW9uXG4gICAgICogQHB1YmxpY1xuICAgICAqIEBhbGlhcyBjbGVhckFsbFN1YnNjcmlwdGlvbnNcbiAgICAgKi9cbiAgICBQdWJTdWIuY2xlYXJBbGxTdWJzY3JpcHRpb25zID0gZnVuY3Rpb24gY2xlYXJBbGxTdWJzY3JpcHRpb25zKCl7XG4gICAgICAgIG1lc3NhZ2VzID0ge307XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENsZWFyIHN1YnNjcmlwdGlvbnMgYnkgdGhlIHRvcGljXG4gICAgICogQGZ1bmN0aW9uXG4gICAgICogQHB1YmxpY1xuICAgICAqIEBhbGlhcyBjbGVhckFsbFN1YnNjcmlwdGlvbnNcbiAgICAgKi9cbiAgICBQdWJTdWIuY2xlYXJTdWJzY3JpcHRpb25zID0gZnVuY3Rpb24gY2xlYXJTdWJzY3JpcHRpb25zKHRvcGljKXtcbiAgICAgICAgdmFyIG07XG4gICAgICAgIGZvciAobSBpbiBtZXNzYWdlcyl7XG4gICAgICAgICAgICBpZiAobWVzc2FnZXMuaGFzT3duUHJvcGVydHkobSkgJiYgbS5pbmRleE9mKHRvcGljKSA9PT0gMCl7XG4gICAgICAgICAgICAgICAgZGVsZXRlIG1lc3NhZ2VzW21dO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFJlbW92ZXMgc3Vic2NyaXB0aW9uc1xuICAgICAqXG4gICAgICogLSBXaGVuIHBhc3NlZCBhIHRva2VuLCByZW1vdmVzIGEgc3BlY2lmaWMgc3Vic2NyaXB0aW9uLlxuICAgICAqXG5cdCAqIC0gV2hlbiBwYXNzZWQgYSBmdW5jdGlvbiwgcmVtb3ZlcyBhbGwgc3Vic2NyaXB0aW9ucyBmb3IgdGhhdCBmdW5jdGlvblxuICAgICAqXG5cdCAqIC0gV2hlbiBwYXNzZWQgYSB0b3BpYywgcmVtb3ZlcyBhbGwgc3Vic2NyaXB0aW9ucyBmb3IgdGhhdCB0b3BpYyAoaGllcmFyY2h5KVxuICAgICAqIEBmdW5jdGlvblxuICAgICAqIEBwdWJsaWNcbiAgICAgKiBAYWxpYXMgc3Vic2NyaWJlT25jZVxuICAgICAqIEBwYXJhbSB7IFN0cmluZyB8IEZ1bmN0aW9uIH0gdmFsdWUgQSB0b2tlbiwgZnVuY3Rpb24gb3IgdG9waWMgdG8gdW5zdWJzY3JpYmUgZnJvbVxuICAgICAqIEBleGFtcGxlIC8vIFVuc3Vic2NyaWJpbmcgd2l0aCBhIHRva2VuXG4gICAgICogdmFyIHRva2VuID0gUHViU3ViLnN1YnNjcmliZSgnbXl0b3BpYycsIG15RnVuYyk7XG4gICAgICogUHViU3ViLnVuc3Vic2NyaWJlKHRva2VuKTtcbiAgICAgKiBAZXhhbXBsZSAvLyBVbnN1YnNjcmliaW5nIHdpdGggYSBmdW5jdGlvblxuICAgICAqIFB1YlN1Yi51bnN1YnNjcmliZShteUZ1bmMpO1xuICAgICAqIEBleGFtcGxlIC8vIFVuc3Vic2NyaWJpbmcgZnJvbSBhIHRvcGljXG4gICAgICogUHViU3ViLnVuc3Vic2NyaWJlKCdteXRvcGljJyk7XG4gICAgICovXG4gICAgUHViU3ViLnVuc3Vic2NyaWJlID0gZnVuY3Rpb24odmFsdWUpe1xuICAgICAgICB2YXIgZGVzY2VuZGFudFRvcGljRXhpc3RzID0gZnVuY3Rpb24odG9waWMpIHtcbiAgICAgICAgICAgICAgICB2YXIgbTtcbiAgICAgICAgICAgICAgICBmb3IgKCBtIGluIG1lc3NhZ2VzICl7XG4gICAgICAgICAgICAgICAgICAgIGlmICggbWVzc2FnZXMuaGFzT3duUHJvcGVydHkobSkgJiYgbS5pbmRleE9mKHRvcGljKSA9PT0gMCApe1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gYSBkZXNjZW5kYW50IG9mIHRoZSB0b3BpYyBleGlzdHM6XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgIH0sXG4gICAgICAgICAgICBpc1RvcGljICAgID0gdHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJyAmJiAoIG1lc3NhZ2VzLmhhc093blByb3BlcnR5KHZhbHVlKSB8fCBkZXNjZW5kYW50VG9waWNFeGlzdHModmFsdWUpICksXG4gICAgICAgICAgICBpc1Rva2VuICAgID0gIWlzVG9waWMgJiYgdHlwZW9mIHZhbHVlID09PSAnc3RyaW5nJyxcbiAgICAgICAgICAgIGlzRnVuY3Rpb24gPSB0eXBlb2YgdmFsdWUgPT09ICdmdW5jdGlvbicsXG4gICAgICAgICAgICByZXN1bHQgPSBmYWxzZSxcbiAgICAgICAgICAgIG0sIG1lc3NhZ2UsIHQ7XG5cbiAgICAgICAgaWYgKGlzVG9waWMpe1xuICAgICAgICAgICAgUHViU3ViLmNsZWFyU3Vic2NyaXB0aW9ucyh2YWx1ZSk7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKCBtIGluIG1lc3NhZ2VzICl7XG4gICAgICAgICAgICBpZiAoIG1lc3NhZ2VzLmhhc093blByb3BlcnR5KCBtICkgKXtcbiAgICAgICAgICAgICAgICBtZXNzYWdlID0gbWVzc2FnZXNbbV07XG5cbiAgICAgICAgICAgICAgICBpZiAoIGlzVG9rZW4gJiYgbWVzc2FnZVt2YWx1ZV0gKXtcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIG1lc3NhZ2VbdmFsdWVdO1xuICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgLy8gdG9rZW5zIGFyZSB1bmlxdWUsIHNvIHdlIGNhbiBqdXN0IHN0b3AgaGVyZVxuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICBpZiAoaXNGdW5jdGlvbikge1xuICAgICAgICAgICAgICAgICAgICBmb3IgKCB0IGluIG1lc3NhZ2UgKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChtZXNzYWdlLmhhc093blByb3BlcnR5KHQpICYmIG1lc3NhZ2VbdF0gPT09IHZhbHVlKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZWxldGUgbWVzc2FnZVt0XTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9O1xufSkpO1xuXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L3B1YnN1Yi1qcy9zcmMvcHVic3ViLmpzXG4vLyBtb2R1bGUgaWQgPSAxMVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJpbXBvcnQge0NPTlNUfSBmcm9tICcuLi8uLi8uLi9jb21tb24vanMtc2VydmljZXMvY29uc3RzJztcclxuaW1wb3J0IFVzZXJUYXNrTWFuYWdlciBmcm9tICcuLi8uLi8uLi9jb21tb24vanMtc2VydmljZXMvYXBpLXRhc2stbWFuYWdlcic7XHJcblxyXG4vKiAtLS0tIG1vZGFsKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGZpbGxQb3N0cygkbGlzdCwgaXRlbXMsIGlzQXBwZW5kVG9MaXN0KSB7XHJcbiAgICBjb25zdCBhZGRUb0xpc3QgPSAoaXNBcHBlbmRQcmV2TXNnLCAkbGksICRsaXN0KSA9PiB7XHJcbiAgICAgICAgaWYgKGlzQXBwZW5kUHJldk1zZykge1xyXG4gICAgICAgICAgICAkbGkuaW5zZXJ0QWZ0ZXIoJGxpc3QuZmluZCgnbGk6bGFzdC1jaGlsZCcpKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAkbGkuYXBwZW5kVG8oJGxpc3QpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBpZiAoIWlzQXBwZW5kVG9MaXN0KSB7XHJcbiAgICAgICAgJGxpc3QuZW1wdHkoKTtcclxuICAgIH1cclxuICAgIGl0ZW1zLmZvckVhY2goKGl0ZW0sIGlkeCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IHtpZCwgdHlwZX0gPSBpdGVtO1xyXG4gICAgICAgIGNvbnN0IHRwbCA9ICQoYDxsaSBjbGFzcz1cImNvbC00IGxpc3QtZ3JvdXAgbGlzdC1pbmxpbmUtaXRlbSBtLTAgcC0wXCIgZGF0YS1wb3N0LWlkPVwiJHtpZH1cIiBkYXRhLXBvc3QtdHlwZT1cIiR7dHlwZX1cIj5cclxuICAgICAgICAgICAgJHsoaXRlbS50eXBlID09PSAncGhvdG8nKVxyXG4gICAgICAgICAgICAgICAgPyBgPGltZyBzcmM9XCIke2l0ZW0udXJsfVwiIGNsYXNzPVwiaW1nLXJlc3BvbnNpdmUgcC0yXCIgYWx0PVwiaW1hZ2VcIiBzdHlsZT1cIm1heC1oZWlnaHQ6IDIzMHB4O1wiLz5gXHJcbiAgICAgICAgICAgICAgICA6IGA8ZGl2IGNsYXNzPVwiJHtpdGVtLnR5cGV9IGgtMTAwXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPCEtLXN0eWxlPVwiYmFja2dyb3VuZC1pbWFnZTogdXJsKCR7aXRlbS51cmx9KTtcIi0tPlxyXG4gICAgICAgICAgICAgICAgICAgIDxpbWcgc3JjPVwiJHtpdGVtLnVybH1cIiBjbGFzcz1cImltZy1yZXNwb25zaXZlIHAtMiB3LTEwMFwiIGFsdD1cInZpZGVvLWNvdmVyXCIgc3R5bGU9XCJtYXgtaGVpZ2h0OiAyMDBweDtcIi8+XHJcbiAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9XCJmYXMgZmEtdmlkZW8gZmEtMnggcG9zaXRpb24tYWJzb2x1dGUgdGV4dC13aGl0ZSBhbGlnbi1zZWxmLXN0YXJ0XCI+PC9pPlxyXG4gICAgICAgICAgICAgICAgICA8L2Rpdj5gXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICA8L2xpPmApO1xyXG4gICAgICAgIGFkZFRvTGlzdChpc0FwcGVuZFRvTGlzdCwgdHBsLCAkbGlzdCk7IC8vIHRvRG8gcmVmYWN0b3IgbWUsIGxlc3MgRE9NIG1hbmlwdWxhdGlvblxyXG4gICAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGFkZFBhZ2luYXRpb24obW9kYWxGb290ZXIsIGN1cnNvcikge1xyXG4gICAgJCgnI2xvYWQtbW9yZScpLmF0dHIoJ2N1cnNvcicsIGN1cnNvcik7XHJcbiAgICBtb2RhbEZvb3Rlci5yZW1vdmVDbGFzcygnZC1ub25lJyk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGhpZGVQYWdpbmF0aW9uKG1vZGFsRm9vdGVyKSB7XHJcbiAgICBtb2RhbEZvb3Rlci5hZGRDbGFzcygnZC1ub25lJyk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGltYWdlU2VsZWN0SGFuZGxlcigkbGlzdCwgbW9kYWwsIHRhcmdldEJ1dHRvbikge1xyXG4gICAgJCgnbGknLCAkbGlzdCkub24oJ2NsaWNrJywgKGUpID0+IHtcclxuICAgICAgICBjb25zdCBpbWFnZUJveENscyA9ICdqc191cGxvYWRlZC1pbWctZnJvbS1wb3N0cyc7XHJcbiAgICAgICAgY29uc3QgaW1hZ2VEZWxCdG5DbHMgPSAnanNfZGVsZXRlLXBvc3QtaW1nJztcclxuICAgICAgICBjb25zdCBpbWFnZUJveFNlbGVjdG9yID0gYC4ke2ltYWdlQm94Q2xzfWA7XHJcbiAgICAgICAgY29uc3QgJGJ0bkxpID0gJChlLnRhcmdldCkuY2xvc2VzdCgnbGknKTtcclxuICAgICAgICBjb25zdCBwb3N0SWQgPSAkYnRuTGkuYXR0cignZGF0YS1wb3N0LWlkJyk7XHJcbiAgICAgICAgY29uc3QgcG9zdFR5cGUgPSAkYnRuTGkuYXR0cignZGF0YS1wb3N0LXR5cGUnKTtcclxuICAgICAgICBjb25zdCBjbG9zZXN0Q29sID0gdGFyZ2V0QnV0dG9uLmNsb3Nlc3QoJy5jb2wnKTtcclxuICAgICAgICAvLyB0YXJnZXRCdXR0b24uY2xvc2VzdCgnYnV0dG9uJykuYXR0cignZGF0YS1wb3N0LWltZy1pZCcsIGltZ0lkKTtcclxuICAgICAgICBjb25zb2xlLmxvZygnY2xpY2snLCBwb3N0VHlwZSwgcG9zdElkLCBtb2RhbCk7XHJcbiAgICAgICAgd2luZG93LlB1YlN1Yi5wdWJsaXNoKENPTlNULmV2ZW50cy5tb2RhbC5JTUFHRV9QT1NUX1NFTEVDVEVELFxyXG4gICAgICAgICAgICB7JGJ0bkxpLCBjbG9zZXN0Q29sfSk7XHJcbiAgICAgICAgbW9kYWwubW9kYWwoJ2hpZGUnKTtcclxuICAgICAgICBpZiAodGFyZ2V0QnV0dG9uLmNsb3Nlc3QoJy5jb2wnKS5maW5kKGltYWdlQm94U2VsZWN0b3IpLmxlbmd0aCkge1xyXG4gICAgICAgICAgICB0YXJnZXRCdXR0b24uY2xvc2VzdCgnLmNvbCcpLmZpbmQoaW1hZ2VCb3hTZWxlY3RvcikucmVtb3ZlKCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zdCB0cGxJbWFnZUJveCA9ICQoYDxkaXYgY2xhc3M9XCIke2ltYWdlQm94Q2xzfSB1cGxvYWRlZC1pbWctZnJvbS1wb3N0c1wiIFxyXG4gICAgICAgICAgICAgICAgZGF0YS1wb3N0LWlkPVwiJHtwb3N0SWR9XCIgZGF0YS1wb3N0LXR5cGU9XCIke3Bvc3RUeXBlfVwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJidG4gYnRuLXdhcm5pbmcgdXBsb2FkZWQtaW1nLWZyb20tcG9zdHMtLXJlbW92ZS1idG4gbWwtMiAke2ltYWdlRGVsQnRuQ2xzfVwiPtCj0LTQsNC70LjRgtGMPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICA8L2RpdmApLnByZXBlbmQoJGJ0bkxpLmZpbmQoJ2ltZycpKTtcclxuICAgICAgICB0YXJnZXRCdXR0b24uY2xvc2VzdCgnLmNvbCcpLmFwcGVuZCh0cGxJbWFnZUJveCk7XHJcblxyXG4gICAgICAgICQoYC4ke2ltYWdlRGVsQnRuQ2xzfWApLm9mZigpLm9uKCdjbGljaycsIChlKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGN1cnJlbnRJbWFnZUJveCA9ICQoZS50YXJnZXQpLmNsb3Nlc3QoJy5jb2wnKS5maW5kKGltYWdlQm94U2VsZWN0b3IpO1xyXG4gICAgICAgICAgICBjdXJyZW50SW1hZ2VCb3gucmVtb3ZlKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldFBvc3RzKG1vZGFsLCBkZXRhaWxzLCB7bG9hZE1vcmVIYW5kbGVyLCB0YXJnZXRCdXR0b259KSB7XHJcbiAgICBVc2VyVGFza01hbmFnZXIuZ2V0UG9zdHNBdXRvbWVzc2FnZXMoZGV0YWlscykudGhlbigocmVzdWx0KSA9PiB7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2cocmVzdWx0KTtcclxuICAgICAgICBpZiAocmVzdWx0LnN0YXR1cy5zdGF0ZSA9PT0gJ29rJykge1xyXG4gICAgICAgICAgICBjb25zdCB7ZGF0YX0gPSByZXN1bHQ7XHJcbiAgICAgICAgICAgIGNvbnN0IG1vZGFsRm9vdGVyID0gbW9kYWwgPyAkKCcubW9kYWwtZm9vdGVyJywgbW9kYWwpIDogbnVsbDtcclxuICAgICAgICAgICAgY29uc3QgJGxpc3QgPSAkKCcubW9kYWwtYm9keSAucG9zdHMtbGlzdCcsIG1vZGFsKTtcclxuICAgICAgICAgICAgaWYgKCFkYXRhLnBvc3RzLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgLy8gc2hvdyBtZXNzYWdlICdubyBwb3N0cyBmb3VuZCdcclxuICAgICAgICAgICAgICAgIHRhcmdldEJ1dHRvbi5wb3BvdmVyKHtcclxuICAgICAgICAgICAgICAgICAgICBjb250YWluZXI6ICdib2R5JyxcclxuICAgICAgICAgICAgICAgICAgICBjb250ZW50OiAn0KMg0YLQtdC60YPRidC10LPQviDQsNC60LrQsNGD0L3RgtCwINC90LXRgiDQvdC4INC+0LTQvdC+0LPQviDQv9C+0YHRgtCwJyxcclxuICAgICAgICAgICAgICAgICAgICBwbGFjZW1lbnQ6ICdib3R0b20nXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRhcmdldEJ1dHRvbi5wb3BvdmVyKCdkZXN0cm95Jyk7XHJcbiAgICAgICAgICAgICAgICB9LCA0MDAwKTtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKG1vZGFsKSB7XHJcbiAgICAgICAgICAgICAgICBmaWxsUG9zdHMoJGxpc3QsIGRhdGEucG9zdHMpO1xyXG4gICAgICAgICAgICAgICAgbW9kYWwubW9kYWwoJ3Nob3cnKTtcclxuICAgICAgICAgICAgICAgIG1vZGFsLm1vZGFsKCdoYW5kbGVVcGRhdGUnKTtcclxuICAgICAgICAgICAgICAgIGltYWdlU2VsZWN0SGFuZGxlcigkbGlzdCwgbW9kYWwsIHRhcmdldEJ1dHRvbik7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoZGF0YS5wb3N0cykge1xyXG4gICAgICAgICAgICAgICAgZmlsbFBvc3RzKCRsaXN0LCBkYXRhLnBvc3RzLCAnYXBwZW5kVG9MaXN0Jyk7XHJcbiAgICAgICAgICAgICAgICBpbWFnZVNlbGVjdEhhbmRsZXIoJGxpc3QsICQoJyNwb3N0c0dyaWRNb2RhbCcpLCB0YXJnZXRCdXR0b24pO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAoZGF0YS5wYWdpbmF0aW9uICYmIGRhdGEucGFnaW5hdGlvbi5jdXJzb3IpIHtcclxuICAgICAgICAgICAgICAgIGFkZFBhZ2luYXRpb24obW9kYWxGb290ZXIsIGRhdGEucGFnaW5hdGlvbi5jdXJzb3IpO1xyXG4gICAgICAgICAgICAgICAgbG9hZE1vcmVIYW5kbGVyKGdldFBvc3RzKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGhpZGVQYWdpbmF0aW9uKCQoJy5tb2RhbC1mb290ZXInLCBtb2RhbCkpO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIHNob3cgbWVzc2FnZSBlcnJvclxyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG59XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9ibG9ja3MvX3NoYXJlZC9nZXRQb3N0c01vZGFsL3V0aWxzLW1vZGFsLmpzIiwiaW1wb3J0IHZpZXdVdGlscyBmcm9tICcuLi8uLi8uLi9jb21tb24vanMtc2VydmljZXMvdmlldyc7XHJcbmltcG9ydCAqIGFzIGxvZ3MgZnJvbSAnLi9sb2dzJztcclxuaW1wb3J0ICogYXMgdGFicyBmcm9tICcuLi8uLi9fc2hhcmVkL3RlYnMtcGlscy90YWJzJztcclxuXHJcbmZ1bmN0aW9uIG1vdmVJbk9uZVJvdyh1c2VyTGlzdEJveCwgc3ViVHlwZUJveCkge1xyXG4gICAgaWYgKCFzdWJUeXBlQm94Lmxlbmd0aCB8fCAhdXNlckxpc3RCb3gubGVuZ3RoKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgdXNlckxpc3RCb3guYXBwZW5kVG8oc3ViVHlwZUJveCk7XHJcblxyXG4gICAgdXNlckxpc3RCb3guYWRkQ2xhc3MoJ2NvbCcpO1xyXG4gICAgc3ViVHlwZUJveC5hZGRDbGFzcygncm93Jyk7XHJcbiAgICAvLyBhZGQgXCJjb2wtYXV0b1wiIHRvIGZpcnN0IGNvbHVtblxyXG4gICAgc3ViVHlwZUJveC5maW5kKCcubG9nLXN1YnlwZScpLmFkZENsYXNzKCdjb2wtYXV0bycpO1xyXG59XHJcblxyXG4vKipcclxuICogQ2ZnXHJcbiAqIEBwYXJhbSBsb2dzU3RhdGVcclxuICogQHBhcmFtIGxvZ3NTdWJ0eXBlc1xyXG4gKiBAcGFyYW0gY2xzQ29uc3RcclxuICogQ2ZnLWZ1bmN0aW9uc1xyXG4gKiBAcGFyYW0gc2V0VXNlck5hbWVDYlxyXG4gKiBAcGFyYW0gYWRkRHJvcGRvd25cclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBpbml0TG9nc1RhYih7bG9nc1N0YXRlLCBsb2dzU3VidHlwZXMsIGNsc0NvbnN0LCBzZXRVc2VyTmFtZUNiLCB0ZXh0UnVzQXJyYXl9KSB7XHJcbiAgICBjb25zdCB7c2VsZWN0Q2xzfSA9IGxvZ3NTdGF0ZTtcclxuICAgIGNvbnN0IHtzZWxlY3RDbHNMb2dzVGFza1R5cGV9ID0gbG9nc1N0YXRlO1xyXG5cclxuICAgIGZ1bmN0aW9uIGRyb3Bkb3duT25TZWxlY3RDYihlKSB7XHJcbiAgICAgICAgY2xzQ29uc3QucGF0aFN1YlR5cGUgPSAkKGAuJHtzZWxlY3RDbHNMb2dzVGFza1R5cGV9IG9wdGlvbjpzZWxlY3RlZGApLnZhbCgpO1xyXG4gICAgICAgICQoJy5qc19sb2dzLWNvbnRhaW5lcicpLmFkZENsYXNzKCdkLWJsb2NrJyk7XHJcbiAgICAgICAgJCgnb3B0aW9uLmpzX2VtcHR5LXN1YnR5cGUnKS5yZW1vdmUoKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBPbkNoYW5nZVNlbGVjdCgpIHtcclxuICAgICAgICBjb25zdCB1c2VybmFtZVNlbGVjdGVkID0gJChgLiR7c2VsZWN0Q2xzfSBvcHRpb246c2VsZWN0ZWRgKS52YWwoKTtcclxuICAgICAgICBzZXRVc2VyTmFtZUNiKHVzZXJuYW1lU2VsZWN0ZWQpO1xyXG4gICAgICAgIGxvZ3MuaW5pdChzZWxlY3RDbHMsIGNsc0NvbnN0KTtcclxuICAgIH1cclxuICAgIGZ1bmN0aW9uIGhhbmRsZUxvZ3NEcm9wZG93bnMoKSB7XHJcbiAgICAgICAgZHJvcGRvd25PblNlbGVjdENiKCk7XHJcbiAgICAgICAgT25DaGFuZ2VTZWxlY3QoKTtcclxuICAgICAgICAkKGAuJHtzZWxlY3RDbHNMb2dzVGFza1R5cGV9YCkub24oJ2NoYW5nZScsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgZHJvcGRvd25PblNlbGVjdENiKCk7XHJcbiAgICAgICAgICAgIGxvZ3MuaW5pdChzZWxlY3RDbHMsIGNsc0NvbnN0KTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgJChgLiR7c2VsZWN0Q2xzfWApLm9uKCdjaGFuZ2UnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIE9uQ2hhbmdlU2VsZWN0KCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbiAgICB2aWV3VXRpbHMuYWRkRHJvcGRvd24oJChsb2dzU3RhdGUud3JhcHBlclN1YnR5cGUpLCBsb2dzU3VidHlwZXMsIHtsb2dzU3RhdGUsIGlzUmVuZGVyRW1wdHlPcHRpb246IGZhbHNlLCB0ZXh0UnVzQXJyYXl9KTtcclxuICAgIHRhYnMuaW5pdChoYW5kbGVMb2dzRHJvcGRvd25zLCBsb2dzU3RhdGUpOyAvLyBtYWtlcyBkb3VibGUgcmVxdWVzdCA6IE9QVElPTiBhbmQgR0VUXHJcblxyXG4gICAgY29uc3QgdXNlckxpc3RCb3ggPSAkKCcubG9nLXVzZXJzLWxpc3QgJyk7XHJcbiAgICBjb25zdCBzdWJUeXBlQm94ID0gJCgnLmxvZy1zdWJ5cGUtLWJveCcpO1xyXG4gICAgbW92ZUluT25lUm93KHVzZXJMaXN0Qm94LCBzdWJUeXBlQm94KTtcclxufVxyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvYmxvY2tzL19zaGFyZWQvbG9ncy9sb2dzLXRhYnMuanMiLCJpbXBvcnQge0NPTlNUfSBmcm9tICcuLi8uLi9jb21tb24vanMtc2VydmljZXMvY29uc3RzJztcclxuaW1wb3J0IFVzZXJUYXNrTWFuYWdlciBmcm9tICcuLi8uLi9jb21tb24vanMtc2VydmljZXMvYXBpLXRhc2stbWFuYWdlcic7XHJcbmltcG9ydCBTcGlubmVyIGZyb20gJy4uLy4uL2NvbW1vbi9qcy1zZXJ2aWNlcy9zcGlubmVyJztcclxuLy8gaW1wb3J0IHZpZXdVdGlscyBmcm9tICcuLi8uLi9jb21tb24vanMtc2VydmljZXMvdmlldyc7XHJcblxyXG4vKlxyXG4qIHJlYWQgZmlsZVxyXG4qL1xyXG5sZXQgZmlsZVVwbG9hZEJveCA9ICcnO1xyXG5jb25zdCBNQVhfSU1HX0ZJTEVfU0laRV9CWVRFID0gMTA0ODU3NiAqIDEwMDtcclxuY29uc3QgRklMRV9UWVBFID0gJ3R4dCc7XHJcbmZ1bmN0aW9uIGlzRmlsZVR5cGVPayhhY2NlcHRlZEZpbGUpIHtcclxuICAgIHJldHVybiBhY2NlcHRlZEZpbGUudHlwZSA9PT0gJ3RleHQvcGxhaW4nO1xyXG59XHJcblxyXG5mdW5jdGlvbiBpc0ltZ1NpemVPayhhY2NlcHRlZEZpbGUpIHtcclxuICAgIGNvbnN0IGltZ1NpemUgPSBNYXRoLnJvdW5kKGFjY2VwdGVkRmlsZS5zaXplKTtcclxuICAgIHJldHVybiBNQVhfSU1HX0ZJTEVfU0laRV9CWVRFID4gaW1nU2l6ZTtcclxufVxyXG5cclxuZnVuY3Rpb24gaGFuZGxlU3VibWl0KGlucHV0KSB7XHJcbiAgICBjb25zdCB1cmwgPSBDT05TVC5nZXRQYXRoKCdpbnN0YWdyYW1UYXNrTWFuYWdlcl9wb3N0VGV4dEF0dGFjaG1lbnQnKTtcclxuICAgIGNvbnN0IHRva2VuID0gVXNlclRhc2tNYW5hZ2VyLmdldFRva2VuKCk7XHJcbiAgICBjb25zdCBhY2NlcHRlZEZpbGUgPSBpbnB1dC5maWxlc1swXTtcclxuICAgIGNvbnNvbGUubG9nKCdoYW5kbGVTdWJtaXQgZm9sbG93Jyk7XHJcbiAgICBjb25zdCBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpO1xyXG4gICAgZm9ybURhdGEuYXBwZW5kKCdmaWxlJywgYWNjZXB0ZWRGaWxlLCBhY2NlcHRlZEZpbGUubmFtZSk7XHJcblxyXG4gICAgY29uc3QgcmVxdWVzdCA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xyXG4gICAgcmVxdWVzdC5vcGVuKCdQT1NUJywgdXJsKTtcclxuICAgIC8vIHJlcXVlc3Qud2l0aENyZWRlbnRpYWxzID0gdHJ1ZTtcclxuICAgIHJlcXVlc3Quc2V0UmVxdWVzdEhlYWRlcigndG9rZW4nLCB0b2tlbik7XHJcbiAgICByZXF1ZXN0LnNldFJlcXVlc3RIZWFkZXIoJ0FjY2VwdCcsICdhcHBsaWNhdGlvbi9qc29uJyk7XHJcbiAgICByZXF1ZXN0LnNldFJlcXVlc3RIZWFkZXIoJ2NhY2hlLWNvbnRyb2wnLCAnbm8tY2FjaGUnKTtcclxuICAgIHJlcXVlc3Quc2VuZChmb3JtRGF0YSk7XHJcbiAgICByZXF1ZXN0LmFkZEV2ZW50TGlzdGVuZXIoJ3JlYWR5c3RhdGVjaGFuZ2UnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMucmVhZHlTdGF0ZSA9PT0gNCkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygndGhpcycsIHRoaXMucmVzcG9uc2VUZXh0LCB0aGlzKTtcclxuICAgICAgICAgICAgd2luZG93LlB1YlN1Yi5wdWJsaXNoKENPTlNULmV2ZW50cy5hdXRvYXJuc3dlci5URVhUX0ZJTEVfVVBMT0FERUQsIHsncmVzcG9uc2UnOiB0aGlzLnJlc3BvbnNlVGV4dCwgJ2VsJzogaW5wdXR9KTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuICAgIFNwaW5uZXIuYWRkKCQoJy5hZGQtZmlsZScpLCAnJyk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHJlYWRVUkwoaW5wdXQpIHtcclxuICAgIGNvbnN0ICRjb250YWluZXIgPSAkKGlucHV0KS5jbG9zZXN0KGZpbGVVcGxvYWRCb3gpO1xyXG4gICAgaWYgKGlucHV0LmZpbGVzICYmIGlucHV0LmZpbGVzWzBdKSB7XHJcbiAgICAgICAgY29uc3QgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcclxuICAgICAgICBjb25zb2xlLmxvZygncmVhZFVSTCcpO1xyXG4gICAgICAgIGlmICghaXNJbWdTaXplT2soaW5wdXQuZmlsZXNbMF0pIHx8ICFpc0ZpbGVUeXBlT2soaW5wdXQuZmlsZXNbMF0pKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdzaG93IGVycm9yIG1lc3NhZ2UsIGltZ1NpemUgdG8gYmlnICcpO1xyXG4gICAgICAgICAgICAkKGZpbGVVcGxvYWRCb3gpLmFwcGVuZChgXHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwid2FybmluZy1pbWFnZSB0ZXh0LWRhbmdlclwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxwPtCU0L7RgdGC0YPQv9C90YvQuSDRhNC+0YDQvNCw0YIg0LjQt9C+0LHRgNCw0LbQtdC90LjRjyAke0ZJTEVfVFlQRX08L3A+XHJcbiAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3M9XCJtc2ctbWF4LXNpemUtaW1nIHRleHQtZGFuZ2VyXCI+0JzQsNC60YHQuNC80LDQu9GM0L3Ri9C5INC00L7Qv9GD0YHRgtC40LzRi9C5INGA0LDQt9C80LXRgCDQutCw0YDRgtC40L3QutC4IDEwMCBNQjwvcD5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICBgKTtcclxuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAkKCcud2FybmluZy1pbWFnZScpLmFkZENsYXNzKCdkLW5vbmUnKTtcclxuICAgICAgICAgICAgfSwgNTAwMCk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJlYWRlci5vbmxvYWQgPSBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgICAgICRjb250YWluZXIuZmluZCgnLmltYWdlLXVwbG9hZC13cmFwJykuaGlkZSgpO1xyXG4gICAgICAgICAgICAkY29udGFpbmVyLmZpbmQoJy5maWxlLXVwbG9hZC1pbWFnZScpLmF0dHIoJ3NyYycsIGUudGFyZ2V0LnJlc3VsdCk7XHJcbiAgICAgICAgICAgIC8vICRjb250YWluZXIuZmluZChmaWxlVXBsb2FkQ29udGVudCkuc2hvdygpO1xyXG4gICAgICAgICAgICAkY29udGFpbmVyLmZpbmQoJy5pbWFnZS10aXRsZScpLmh0bWwoaW5wdXQuZmlsZXNbMF0ubmFtZSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICAvLyByZWFkZXIub25lcnJvciA9IGVycm9ySGFuZGxlcjtcclxuICAgICAgICAvLyByZWFkZXIub25wcm9ncmVzcyA9IHVwZGF0ZVByb2dyZXNzO1xyXG5cclxuICAgICAgICByZWFkZXIucmVhZEFzRGF0YVVSTChpbnB1dC5maWxlc1swXSk7XHJcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiBoYW5kbGVTdWJtaXQoaW5wdXQpLCAyMDAwKTtcclxuICAgICAgICAvLyBSZWFkIGluIHRoZSBpbWFnZSBmaWxlIGFzIGEgYmluYXJ5IHN0cmluZy5cclxuICAgICAgICAvLyByZWFkZXIucmVhZEFzQmluYXJ5U3RyaW5nKGlucHV0LmZpbGVzWzBdKTtcclxuXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIC8vIHJlbW92ZVVwbG9hZCgkY29udGFpbmVyKTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGF0dGFjaFR4dEZpbGVIYW5kbGVyKF9maWxlVXBsb2FkQm94LCBvblN1Y2Nlc3NGaWxlVXBsb2FkQ2IpIHtcclxuICAgIGZpbGVVcGxvYWRCb3ggPSBfZmlsZVVwbG9hZEJveDtcclxuICAgICQoJy5pbnB1dC10eHQtZmlsZScpLmNoYW5nZShmdW5jdGlvbigpIHtcclxuICAgICAgICBpZiAoJCh0aGlzKS52YWwoKSAhPT0gJycpIHtcclxuICAgICAgICAgICAgJCh0aGlzKS5wcmV2KCkudGV4dChg0JLRi9Cx0YDQsNC90L4g0YTQsNC50LvQvtCyOiAkeyQodGhpcylbMF0uZmlsZXMubGVuZ3RofWApO1xyXG4gICAgICAgICAgICByZWFkVVJMKCQodGhpcylbMF0pO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICQodGhpcykucHJldigpLnRleHQoJ9CS0YvQsdC10YDQtdGC0LUg0YTQsNC50LsnKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuICAgIHdpbmRvdy5QdWJTdWIuc3Vic2NyaWJlKENPTlNULmV2ZW50cy5hdXRvYXJuc3dlci5URVhUX0ZJTEVfVVBMT0FERUQsIChlLCByZXMpID0+IHtcclxuICAgICAgICBjb25zdCB7cmVzcG9uc2V9ID0gcmVzO1xyXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IChyZXNwb25zZS5sZW5ndGgpID8gSlNPTi5wYXJzZShyZXNwb25zZSkgOiAnJztcclxuICAgICAgICBjb25zdCBpbWFnZUlkID0gcmVzdWx0ICYmIHJlc3VsdC5kYXRhICYmIHJlc3VsdC5kYXRhLmxpc3RfaWQ7XHJcbiAgICAgICAgJChyZXMuZWwpLmNsb3Nlc3QoZmlsZVVwbG9hZEJveCkuYXR0cignYXR0YWNoZWQtdHh0LWlkJywgaW1hZ2VJZCk7XHJcbiAgICAgICAgaWYgKG9uU3VjY2Vzc0ZpbGVVcGxvYWRDYiAmJiB0eXBlb2Ygb25TdWNjZXNzRmlsZVVwbG9hZENiID09PSAnZnVuY3Rpb24nKSB7XHJcbiAgICAgICAgICAgIG9uU3VjY2Vzc0ZpbGVVcGxvYWRDYigpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBtYWtlIG5leHQtYnRuIGF2YWlsYWJsZVxyXG4gICAgICAgIGNvbnN0IG5leHRTdGVwID0gJCgnLmpzX2FkZC1uZXctdGFzayBmaWVsZHNldCcpLmdldCgyKTtcclxuICAgICAgICAkKG5leHRTdGVwKS5maW5kKCcuYnRuLW5leHQnKS5yZW1vdmVBdHRyKCdkaXNhYmxlZCcpO1xyXG4gICAgICAgIFNwaW5uZXIucmVtb3ZlKCk7XHJcbiAgICAgICAgY29uc29sZS5sb2coJyoqKlRFWFRfRklMRV9VUExPQURFRCwgb25TdWNjZXNzRmlsZVVwbG9hZENiJywgcmVzKTtcclxuICAgIH0pO1xyXG59XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9ibG9ja3MvZm9sbG93L2ZvbGxvdy1yZWFkLWZpbGUtdHh0LmpzIiwiaW1wb3J0ICdlbW9qaW9uZUFyZWEnO1xyXG5cclxuZXhwb3J0IGNvbnN0IGVtb2ppID0gKGNsc0NvbnN0KSA9PiB7XHJcbiAgICBpZiAoISQoY2xzQ29uc3QucGFnZSkubGVuZ3RoKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVudXNlZC12YXJzXHJcbiAgICAvLyBjb25zdCBtID0gbmV3IE1ldGVvckVtb2ppKCk7XHJcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLXZhcnNcclxuICAgIC8vIGNvbnN0IGVwID0gbmV3IEVtb2ppUGlja2VyKCk7XHJcbiAgICAvLyBjb25zdCAkcGlja2VyID0gJCgndGV4dGFyZWFbZGF0YS1lbW9qaS1waWNrZXI9XCJ0cnVlXCJdIH4gZGl2Jyk7XHJcbiAgICAvLyBjb25zdCBzdHlsZSA9ICRwaWNrZXIuYXR0cignc3R5bGUnKTtcclxuICAgIC8vIGNvbnN0IHN0eWxlTmV3ID0gc3R5bGUucmVwbGFjZShjbHNDb25zdC5zdHlsZXMub2xkLCBjbHNDb25zdC5zdHlsZXMubmV3KTtcclxuICAgIC8vICRwaWNrZXIuYXR0cignc3R5bGUnLCBzdHlsZU5ldyk7XHJcblxyXG4gICAgJCgndGV4dGFyZWFbZGF0YS1lbW9qaS1waWNrZXI9XCJ0cnVlXCJdJykuZW1vamlvbmVBcmVhKHtcclxuICAgICAgICBwaWNrZXJQb3NpdGlvbjogJ2JvdHRvbScsXHJcbiAgICAgICAgdG9uZXNTdHlsZTogJ3NxdWFyZScsXHJcbiAgICAgICAgZmlsdGVyc1Bvc2l0aW9uOiAnYm90dG9tJyxcclxuICAgICAgICBzZWFyY2g6IHRydWUsXHJcbiAgICAgICAgZXZlbnRzOiB7XHJcbiAgICAgICAgICAgIGtleXVwIChlZGl0b3IsIGV2ZW50KSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlZGl0b3IuaHRtbCgpKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMuZ2V0VGV4dCgpKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG59O1xyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvY29tbW9uL2pzLXNlcnZpY2VzL2Vtb2ppLmpzIiwiaW1wb3J0IHZpZXdVdGlscyBmcm9tICcuL3ZpZXcnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTmV0d29yayB7XHJcblxyXG4gICAgY2JFcnJvckRlZmF1bHQocmVzdWx0KSB7XHJcbiAgICAgICAgY29uc3QgJGVsID0gKCQoJyNkZXNjcmlwdGlvbicpLmxlbmd0aCkgPyAkKCcjZGVzY3JpcHRpb24nKSA6ICQoJy5lcnJvci1tc2cnKTtcclxuICAgICAgICB2aWV3VXRpbHMuc2hvd0luZm9NZXNzYWdlKCRlbCxcclxuICAgICAgICAgICAgcmVzdWx0LnN0YXR1cy5zdGF0ZSxcclxuICAgICAgICAgICAgcmVzdWx0LnN0YXR1cy5tZXNzYWdlIHx8ICdlcnJvcicpO1xyXG4gICAgfVxyXG5cclxuICAgIGNoZWNrU3RhdHVzKHJlc3BvbnNlKSB7XHJcbiAgICAgICAgaWYgKHJlc3BvbnNlLnN0YXR1cyAmJiByZXNwb25zZS5zdGF0dXMgPj0gMjAwICYmIHJlc3BvbnNlLnN0YXR1cyA8IDMwMCkge1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzcG9uc2U7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgY29uc3QgZXJyb3IgPSBuZXcgRXJyb3IocmVzcG9uc2Uuc3RhdHVzVGV4dCk7XHJcbiAgICAgICAgICAgIGVycm9yLnJlc3BvbnNlID0gcmVzcG9uc2U7XHJcbiAgICAgICAgICAgIHRocm93IGVycm9yO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBzZW5kUmVxdWVzdChVUkwsIE9QVFMsIGNiRXJyb3IpIHtcclxuICAgICAgICByZXR1cm4gZmV0Y2goVVJMLCBPUFRTKVxyXG4gICAgICAgICAgICAudGhlbihyZXNwb25zZSA9PiBQcm9taXNlLmFsbChbcmVzcG9uc2UsIHJlc3BvbnNlLmpzb24oKV0pKVxyXG4gICAgICAgICAgICAudGhlbigoW3Jlc3BvbnNlLCBqc29uXSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFyZXNwb25zZS5vaykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICghY2JFcnJvcikge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNiRXJyb3JEZWZhdWx0KGpzb24pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNiRXJyb3IoanNvbik7IC8vIHVwZGF0ZSB2aWV3XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2hlY2tTdGF0dXMocmVzcG9uc2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIHRocm93IG5ldyBFcnJvcihqc29uLnN0YXR1cy5tZXNzYWdlKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiBqc29uO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgIH1cclxufVxyXG5cclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2NvbW1vbi9qcy1zZXJ2aWNlcy9uZXR3b3JrLmpzIiwiLy8gaW1wb3J0ICQgZnJvbSAnanF1ZXJ5JztcclxuLy8gaW1wb3J0IHtDT05TVH0gZnJvbSAnLi9jb25zdHMnO1xyXG4vLyBpbXBvcnQgTmV0d29yayBmcm9tICcuL25ldHdvcmsnO1xyXG4vLyBpbXBvcnQgQ29va2llU3RvcmFnZSBmcm9tICcuL2Nvb2tpZSc7XHJcbi8vIGltcG9ydCBQdWJTdWIgZnJvbSAncHVic3ViLWpzJzsgLy8gaHR0cHM6Ly93d3cubnBtanMuY29tL3BhY2thZ2UvcHVic3ViLWpzXHJcblxyXG4vLyBjb25zdCBTUElOTkVSX0JBU0VfVEVNUEFMQVRFID0gJ2pzL3VpL3RwbC9zcGlubmVyLmhicyc7XHJcbmNvbnN0IGNsYXNzZXMgPSB7XHJcbiAgICBpbmxpbmU6ICdnbG9iYWwtaW5saW5lLXNwaW5uZXInLFxyXG4gICAgb3ZlcmxheTogJ2dsb2JhbC1vdmVybGF5LXNwaW5uZXInLFxyXG4gICAgZml4ZWQ6ICdnbG9iYWwtZml4ZWQtc3Bpbm5lcicsXHJcbiAgICBidXR0b246ICdidXR0b24tLWxvYWQnXHJcbn07XHJcbi8vIGNvbnN0IGhhbmRsZWJhcnNUcGwgPSBmdW5jdGlvbiAobmFtZSwgZGF0YSwgJHRhcmdldCkge1xyXG4vLyAgICAgLy8gdmFyIGh0bWwgPSB0aGlzLmdldFRlbXBsYXRlKG5hbWUpKGRhdGEpO1xyXG4vLyAgICAgdmFyIGh0bWwgPSBIYW5kbGViYXJzLmNvbXBpbGUodGVtcGxhdGUpO1xyXG4vL1xyXG4vLyAgICAgaWYgKCR0YXJnZXQpIHtcclxuLy8gICAgICAgICAvL2ZvciBwcmV2ZW50aW5nIHhzc1xyXG4vLyAgICAgICAgICR0YXJnZXRbMF0uaW5uZXJIVE1MID0gaHRtbDtcclxuLy8gICAgIH1cclxuLy9cclxuLy8gICAgIHJldHVybiBodG1sO1xyXG4vLyB9O1xyXG4vLyBjb25zdCBoYW5kbGViYXJzID0gdGhpcy5nZXRTZXJ2aWNlKCdjb3JlLnRlbXBsYXRpbmcuaGFuZGxlYmFycycpO1xyXG5cclxuY2xhc3MgU3Bpbm5lciB7XHJcblxyXG4gICAgY29uc3RydWN0b3IoX2NmZykge1xyXG4gICAgICAgIHRoaXMuY2ZnID0gX2NmZyB8fCB7fTtcclxuICAgICAgICAvLyB0aGlzLiRkZWZhdWx0Q29udGFpbmVyID0gJCgnYm9keScpO1xyXG4gICAgICAgICQuZXh0ZW5kKGNsYXNzZXMsIHRoaXMuY2ZnLmNsYXNzZXMpO1xyXG4gICAgICAgIC8vIHRoaXMuX21lZGlhdG9yLnN1YnNjcmliZShDT05TVC5ldmVudHMuU1RPUF9GSVhFRF9TUElOTkVSLCB0aGlzLnN0b3BGaXhlZFNwaW5uZXIuYmluZCh0aGlzKSk7XHJcbiAgICB9XHJcbiAgICAvLyBfbWVkaWF0b3IgPSBQdWJTdWI7XHJcblxyXG4gICAgc3RhcnQoJGVsLCBwcmV3Q2xzKSB7XHJcbiAgICAgICAgLy8gaWYgKGFkZE9yUmVtb3ZlKSB7XHJcbiAgICAgICAgLy8gICAgICQoJyNmb28nKS5hZGRDbGFzcyhjbGFzc05hbWUpO1xyXG4gICAgICAgIC8vIH1cclxuICAgICAgICAvLyBlbHNlIHtcclxuICAgICAgICAvLyAgICAgJCgnI2ZvbycpLnJlbW92ZUNsYXNzKGNsYXNzTmFtZSk7XHJcbiAgICAgICAgLy8gfVxyXG4gICAgICAgICRlbC5maW5kKCdpJykudG9nZ2xlQ2xhc3MocHJld0NscykuYWRkQ2xhc3MoJ2ZhLXNwaW4gZmEtc3Bpbm5lcicpO1xyXG4gICAgfVxyXG5cclxuICAgIHN0b3AoJGVsLCBuZXdDbHMpIHtcclxuICAgICAgICAkZWwuZmluZCgnaScpLnRvZ2dsZUNsYXNzKG5ld0NscykucmVtb3ZlQ2xhc3MoJ2ZhLXNwaW4gZmEtc3Bpbm5lcicpO1xyXG4gICAgfVxyXG5cclxuICAgIGFkZCgkZWwsIG5ld0Nscykge1xyXG4gICAgICAgIHRoaXMuJGVsID0gJGVsO1xyXG4gICAgICAgICRlbC5wcmVwZW5kKGA8ZGl2IGNsYXNzPVwic3Bpbm5lci1ib3gganVzdGlmeS1jb250ZW50LWNlbnRlciAke25ld0Nsc31cIj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInNwaW4tYW5pbWF0aW9uXCI+XHJcbiAgICAgICAgICAgICAgICA8c3ZnIGFyaWEtaGlkZGVuPVwidHJ1ZVwiIGRhdGEtcHJlZml4PVwiZmFyXCIgZGF0YS1pY29uPVwic3luYy1hbHRcIiByb2xlPVwiaW1nXCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHZpZXdCb3g9XCIwIDAgNTEyIDUxMlwiIGNsYXNzPVwic3ZnLWlubGluZS0tZmEgZmEtc3luYy1hbHQgZmEtdy0xNiBmYS1mdyBmYS0yeFwiPjxwYXRoIGZpbGw9XCJjdXJyZW50Q29sb3JcIiBkPVwiTTQ4My41MTUgMjguNDg1TDQzMS4zNSA4MC42NUMzODYuNDc1IDM1Ljc2NyAzMjQuNDg1IDggMjU2IDggMTIzLjIyOCA4IDE0LjgyNCAxMTIuMzM4IDguMzEgMjQzLjQ5MyA3Ljk3MSAyNTAuMzExIDEzLjQ3NSAyNTYgMjAuMzAxIDI1NmgyOC4wNDVjNi4zNTMgMCAxMS42MTMtNC45NTIgMTEuOTczLTExLjI5NEM2Ni4xNjEgMTQxLjY0OSAxNTEuNDUzIDYwIDI1NiA2MGM1NC4xNjMgMCAxMDMuMTU3IDIxLjkyMyAxMzguNjE0IDU3LjM4NmwtNTQuMTI4IDU0LjEyOWMtNy41NiA3LjU2LTIuMjA2IDIwLjQ4NSA4LjQ4NSAyMC40ODVINDkyYzYuNjI3IDAgMTItNS4zNzMgMTItMTJWMzYuOTcxYzAtMTAuNjkxLTEyLjkyNi0xNi4wNDUtMjAuNDg1LTguNDg2ek00OTEuNjk5IDI1NmgtMjguMDQ1Yy02LjM1MyAwLTExLjYxMyA0Ljk1Mi0xMS45NzMgMTEuMjk0QzQ0NS44MzkgMzcwLjM1MSAzNjAuNTQ3IDQ1MiAyNTYgNDUyYy01NC4xNjMgMC0xMDMuMTU3LTIxLjkyMy0xMzguNjE0LTU3LjM4Nmw1NC4xMjgtNTQuMTI5YzcuNTYtNy41NiAyLjIwNi0yMC40ODUtOC40ODUtMjAuNDg1SDIwYy02LjYyNyAwLTEyIDUuMzczLTEyIDEydjE0My4wMjljMCAxMC42OTEgMTIuOTI2IDE2LjA0NSAyMC40ODUgOC40ODVMODAuNjUgNDMxLjM1QzEyNS41MjUgNDc2LjIzMyAxODcuNTE2IDUwNCAyNTYgNTA0YzEzMi43NzMgMCAyNDEuMTc2LTEwNC4zMzggMjQ3LjY5LTIzNS40OTMuMzM5LTYuODE4LTUuMTY1LTEyLjUwNy0xMS45OTEtMTIuNTA3elwiIGNsYXNzPVwiXCI+PC9wYXRoPjwvc3ZnPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L2Rpdj5gKTtcclxuICAgIH1cclxuXHJcbiAgICByZW1vdmUoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMuJGVsICYmIHRoaXMuJGVsLmxlbmd0aCkge1xyXG4gICAgICAgICAgICB0aGlzLiRlbC5maW5kKCcuc3Bpbm5lci1ib3gnKS5yZW1vdmUoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBBZGRzIHNwaW5uZXIgaWNvbiBvbiBidXR0b24gYmVmb3JlIHRoZSBidXR0b24gdGV4dFxyXG4gICAgICogQHBhcmFtIHtqUXVlcnl9ICRlbFxyXG4gICAgICovXHJcbiAgICBzdGFydEJ1dHRvblNwaW5uZXIgPSBmdW5jdGlvbiAoJGVsLCBuZXdDbHMpIHtcclxuICAgICAgICAkZWwuYWRkQ2xhc3MoY2xhc3Nlcy5idXR0b24pO1xyXG4gICAgICAgIGlmICgkZWwuZmluZCgnLnNwaW5uZXItYm94LS1idXR0b24nKS5sZW5ndGgpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICAkZWwucHJlcGVuZChgPGRpdiBjbGFzcz1cInNwaW5uZXItYm94IHNwaW5uZXItYm94LS1idXR0b24ganVzdGlmeS1jb250ZW50LWNlbnRlciBwb3NpdGlvbi1yZWxhdGl2ZSBwLTAgbS0wIGJnLXRyYW5zcGFyZW50ICR7bmV3Q2xzfVwiPlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwic3Bpbi1hbmltYXRpb25cIj5cclxuICAgICAgICAgICAgICAgIDxzdmcgYXJpYS1oaWRkZW49XCJ0cnVlXCIgZGF0YS1wcmVmaXg9XCJmYXJcIiBkYXRhLWljb249XCJzeW5jLWFsdFwiIHJvbGU9XCJpbWdcIiB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgdmlld0JveD1cIjAgMCA1MTIgNTEyXCIgXHJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJmYS1md1wiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxwYXRoIGZpbGw9XCJjdXJyZW50Q29sb3JcIiBkPVwiTTQ4My41MTUgMjguNDg1TDQzMS4zNSA4MC42NUMzODYuNDc1IDM1Ljc2NyAzMjQuNDg1IDggMjU2IDggMTIzLjIyOCA4IDE0LjgyNCAxMTIuMzM4IDguMzEgMjQzLjQ5MyA3Ljk3MSAyNTAuMzExIDEzLjQ3NSAyNTYgMjAuMzAxIDI1NmgyOC4wNDVjNi4zNTMgMCAxMS42MTMtNC45NTIgMTEuOTczLTExLjI5NEM2Ni4xNjEgMTQxLjY0OSAxNTEuNDUzIDYwIDI1NiA2MGM1NC4xNjMgMCAxMDMuMTU3IDIxLjkyMyAxMzguNjE0IDU3LjM4NmwtNTQuMTI4IDU0LjEyOWMtNy41NiA3LjU2LTIuMjA2IDIwLjQ4NSA4LjQ4NSAyMC40ODVINDkyYzYuNjI3IDAgMTItNS4zNzMgMTItMTJWMzYuOTcxYzAtMTAuNjkxLTEyLjkyNi0xNi4wNDUtMjAuNDg1LTguNDg2ek00OTEuNjk5IDI1NmgtMjguMDQ1Yy02LjM1MyAwLTExLjYxMyA0Ljk1Mi0xMS45NzMgMTEuMjk0QzQ0NS44MzkgMzcwLjM1MSAzNjAuNTQ3IDQ1MiAyNTYgNDUyYy01NC4xNjMgMC0xMDMuMTU3LTIxLjkyMy0xMzguNjE0LTU3LjM4Nmw1NC4xMjgtNTQuMTI5YzcuNTYtNy41NiAyLjIwNi0yMC40ODUtOC40ODUtMjAuNDg1SDIwYy02LjYyNyAwLTEyIDUuMzczLTEyIDEydjE0My4wMjljMCAxMC42OTEgMTIuOTI2IDE2LjA0NSAyMC40ODUgOC40ODVMODAuNjUgNDMxLjM1QzEyNS41MjUgNDc2LjIzMyAxODcuNTE2IDUwNCAyNTYgNTA0YzEzMi43NzMgMCAyNDEuMTc2LTEwNC4zMzggMjQ3LjY5LTIzNS40OTMuMzM5LTYuODE4LTUuMTY1LTEyLjUwNy0xMS45OTEtMTIuNTA3elwiIGNsYXNzPVwiXCI+PC9wYXRoPjwvc3ZnPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L2Rpdj5gKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIFJlbW92ZXMgc3Bpbm5lciBpY29uIGZyb20gYnV0dG9uXHJcbiAgICAgKiBAcGFyYW0ge2pRdWVyeX0gJGVsXHJcbiAgICAgKi9cclxuICAgIHN0b3BCdXR0b25TcGlubmVyID0gZnVuY3Rpb24gKCRlbCkge1xyXG4gICAgICAgICRlbC5yZW1vdmVDbGFzcyhjbGFzc2VzLmJ1dHRvbik7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBGaW5kcyBzcGlubmVyc1xyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHR5cGVcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSAkY29udGFpbmVyXHJcbiAgICAgKiBAcmV0dXJuIHs/alF1ZXJ5fSBzcGlubmVyc1xyXG4gICAgICovXHJcbiAgICAvLyBfZmluZFNwaW5uZXIgPSBmdW5jdGlvbiAodHlwZSwgJGNvbnRhaW5lcikge1xyXG4gICAgLy8gICAgIGNvbnN0IHNlbGVjdG9yID0gJy4nICsgdHlwZTtcclxuICAgIC8vICAgICBsZXQgJGVsID0gdGhpcy4kZGVmYXVsdENvbnRhaW5lcjtcclxuICAgIC8vICAgICBpZiAoJGNvbnRhaW5lcikge1xyXG4gICAgLy8gICAgICAgICAkZWwgPSAkY29udGFpbmVyO1xyXG4gICAgLy8gICAgIH1cclxuICAgIC8vXHJcbiAgICAvLyAgICAgaWYgKCRlbC5maW5kKHNlbGVjdG9yKS5sZW5ndGggPiAwKSB7XHJcbiAgICAvLyAgICAgICAgIHJldHVybiAkZWwuZmluZChzZWxlY3Rvcik7XHJcbiAgICAvLyAgICAgfVxyXG4gICAgLy8gfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gJGVsXHJcbiAgICAgKi9cclxuICAgIC8qXHJcbiAgICBzdGFydENvbnRlbnRTcGlubmVyID0gZnVuY3Rpb24gKCRlbCkge1xyXG4gICAgICAgIGNvbnN0IGh0bWwgPSBoYW5kbGViYXJzVHBsKFxyXG4gICAgICAgICAgICBTUElOTkVSX0JBU0VfVEVNUEFMQVRFLCB7XHJcbiAgICAgICAgICAgICAgICBpbWdTcmM6IENUQy5VUkxTLldBSVRJTkdfSU1BR0UsXHJcbiAgICAgICAgICAgICAgICAnY2xhc3MnOiBjbGFzc2VzLm92ZXJsYXlcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgJGVsLnByZXBlbmQoaHRtbCk7XHJcbiAgICB9O1xyXG5cclxuICAgIHN0YXJ0SW5saW5lQ29udGVudFNwaW5uZXIgPSBmdW5jdGlvbiAoJGVsKSB7XHJcbiAgICAgICAgY29uc3QgaHRtbCA9IGhhbmRsZWJhcnNUcGwoXHJcbiAgICAgICAgICAgIFNQSU5ORVJfQkFTRV9URU1QQUxBVEUsIHtcclxuICAgICAgICAgICAgICAgIGltZ1NyYzogQ1RDLlVSTFMuV0FJVElOR19JTUFHRSxcclxuICAgICAgICAgICAgICAgICdjbGFzcyc6IGNsYXNzZXMuaW5saW5lXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICRlbC5wcmVwZW5kKGh0bWwpO1xyXG4gICAgfTtcclxuICAgICovXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBTdGFydHMgZ2xvYmFsIGZ1bGwgcGFnZSBmaXhlZCBzcGlubmVyXHJcbiAgICAgKi9cclxuICAgIC8qXHJcbiAgICBzdGFydEZpeGVkU3Bpbm5lciA9IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBjb25zdCBzcGlubmVycyA9IHRoaXMuX2ZpbmRTcGlubmVyKGNsYXNzZXMuZml4ZWQpO1xyXG4gICAgICAgIGlmICghKENUQy5pc0VkaXQoKSB8fCBDVEMuaXNEZXNpZ24oKSkgJiYgIXNwaW5uZXJzKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGh0bWwgPSBoYW5kbGViYXJzVHBsKFxyXG4gICAgICAgICAgICAgICAgU1BJTk5FUl9CQVNFX1RFTVBBTEFURSwge1xyXG4gICAgICAgICAgICAgICAgICAgIGltZ1NyYzogQ1RDLlVSTFMuV0FJVElOR19JTUFHRSxcclxuICAgICAgICAgICAgICAgICAgICAnY2xhc3MnOiBjbGFzc2VzLmZpeGVkXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdGhpcy4kZGVmYXVsdENvbnRhaW5lci5wcmVwZW5kKGh0bWwpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICAqL1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogU3RvcHMgc3Bpbm5lcnNcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gJGNvbnRhaW5lclxyXG4gICAgICovXHJcbiAgICAvLyBfc3RvcFNwaW5uZXIgPSBmdW5jdGlvbiAodHlwZSwgJGNvbnRhaW5lcikge1xyXG4gICAgLy8gICAgIGNvbnN0IHNwaW5uZXJzID0gdGhpcy5fZmluZFNwaW5uZXIodHlwZSwgJGNvbnRhaW5lcik7XHJcbiAgICAvLyAgICAgaWYgKHNwaW5uZXJzKSB7XHJcbiAgICAvLyAgICAgICAgIHNwaW5uZXJzLnJlbW92ZSgpO1xyXG4gICAgLy8gICAgIH1cclxuICAgIC8vIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9ICRlbFxyXG4gICAgICovXHJcbiAgICAvLyBzdG9wQ29udGVudFNwaW5uZXIgPSBmdW5jdGlvbiAoJGVsKSB7XHJcbiAgICAvLyAgICAgJGVsLmZpbmQoJy4nICsgY2xhc3Nlcy5vdmVybGF5KS5yZW1vdmUoKTtcclxuICAgIC8vIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9ICRlbFxyXG4gICAgICovXHJcbiAgICAvLyBzdG9wSW5saW5lQ29udGVudFNwaW5uZXIgPSBmdW5jdGlvbiAoJGVsKSB7XHJcbiAgICAvLyAgICAgJGVsLmZpbmQoJy4nICsgY2xhc3Nlcy5pbmxpbmUpLnJlbW92ZSgpO1xyXG4gICAgLy8gfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqIFN0b3BzIGdsb2JhbCBmdWxsIHBhZ2UgZml4ZWQgc3Bpbm5lclxyXG4gICAgICovXHJcbiAgICAvLyBzdG9wRml4ZWRTcGlubmVyID0gZnVuY3Rpb24gKCkge1xyXG4gICAgLy8gICAgIHRoaXMuX3N0b3BTcGlubmVyKGNsYXNzZXMuZml4ZWQpO1xyXG4gICAgLy8gfTtcclxufVxyXG5cclxubGV0IHNwaW5uZXJJbnN0YW5jZSA9IG51bGw7XHJcblxyXG5pZiAoIXNwaW5uZXJJbnN0YW5jZSkge1xyXG4gICAgc3Bpbm5lckluc3RhbmNlID0gbmV3IFNwaW5uZXIoKTtcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgc3Bpbm5lckluc3RhbmNlO1xyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvY29tbW9uL2pzLXNlcnZpY2VzL3NwaW5uZXIuanMiLCIvLyBpbXBvcnQge0NPTlNUfSBmcm9tICcuL2NvbnN0cyc7XHJcblxyXG5mdW5jdGlvbiBkcm9wRG93bigpIHtcclxuXHJcbiAgICAvKipcclxuICAgICAqIGNmZyA9eyBsb2dzU3RhdGUsIGNiRk4oKSB9XHJcbiAgICAgKi9cclxuICAgIGZ1bmN0aW9uIGFkZERyb3Bkb3duKCR3cmFwcGVyLCBpdGVtcywgY2ZnKSB7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coJ2FkZERyb3Bkb3duJyk7XHJcbiAgICAgICAgY29uc3Qge3RleHRSdXNBcnJheSwgbG9nc1N0YXRlfSA9IGNmZztcclxuICAgICAgICBjb25zdCB7c2VsZWN0Q2xzTG9nc1Rhc2tUeXBlfSA9IGxvZ3NTdGF0ZTtcclxuICAgICAgICBjb25zdCBnZXRSdXMgPSAoaWR4KSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGlzVGV4dFJ1c0FycmF5ID0gdGV4dFJ1c0FycmF5ICYmICEhdGV4dFJ1c0FycmF5Lmxlbmd0aDtcclxuICAgICAgICAgICAgc3dpdGNoIChpZHgpIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgMCA6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChpc1RleHRSdXNBcnJheSkgPyB0ZXh0UnVzQXJyYXlbaWR4XSA6ICfQn9C+INGB0L/QuNGB0LrRgyc7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDEgOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAoaXNUZXh0UnVzQXJyYXkpID8gdGV4dFJ1c0FycmF5W2lkeF0gOiAn0J/QviDQsNC60YLQuNCy0L3QvtC5INCw0YPQtNC40YLQvtGA0LjQuCDQutC+0L3QutGD0YDQtdC90YLQvtCyJztcclxuICAgICAgICAgICAgICAgIGNhc2UgMiA6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChpc1RleHRSdXNBcnJheSkgPyB0ZXh0UnVzQXJyYXlbaWR4XSA6ICdkZWZhdWx0IC0gKDMpJztcclxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6IHJldHVybiAnZGVmYXVsdCc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIGNvbnN0IGxhYmVsID0gJ9CS0YvQsdC10YDQuNGC0LUg0YLQuNC/JztcclxuICAgICAgICAkd3JhcHBlci5lbXB0eSgpLmFkZENsYXNzKCdib3JkZXItbGlnaHQtY29sb3InKTtcclxuICAgICAgICAkKGA8ZGl2IGNsYXNzPVwiXCI+JHtsYWJlbH08L2Rpdj48c2VsZWN0IG5hbWU9XCJ0YXNrLXN1YnR5cGVcIiBjbGFzcz1cIiR7c2VsZWN0Q2xzTG9nc1Rhc2tUeXBlfVwiPjwvc2VsZWN0PmApLmFwcGVuZFRvKCR3cmFwcGVyKTtcclxuICAgICAgICBpZiAoIWl0ZW1zLmxlbmd0aCkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgICQoJzxvcHRpb24gY2xhc3M9XCJsaXN0LWdyb3VwLWl0ZW0gcHktMiBqc19lbXB0eS1zdWJ0eXBlXCIgdmFsdWU9XCItLS1cIj4tLS08L29wdGlvbj4nKS5hcHBlbmRUbygkKGAuJHtzZWxlY3RDbHNMb2dzVGFza1R5cGV9YCkpO1xyXG4gICAgICAgIGl0ZW1zLmZvckVhY2goKG5hbWUsIGlkeCkgPT4ge1xyXG4gICAgICAgICAgICAkKGA8b3B0aW9uIGNsYXNzPVwibGlzdC1ncm91cC1pdGVtIHB5LTJcIiB2YWx1ZT1cIiR7bmFtZX1cIj5cclxuICAgICAgICAgICAgICAgICR7Z2V0UnVzKGlkeCl9XHJcbiAgICAgICAgICAgIDwvb3B0aW9uPmApLmFwcGVuZFRvKCQoYC4ke3NlbGVjdENsc0xvZ3NUYXNrVHlwZX1gKSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgJChgLiR7c2VsZWN0Q2xzTG9nc1Rhc2tUeXBlfWApLm9uKCdjaGFuZ2UnLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgICAgICBjZmcuZHJvcGRvd25PblNlbGVjdENiKGUpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgYWRkRHJvcGRvd25cclxuICAgIH07XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGRyb3BEb3duKCk7XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9ibG9ja3MvX3NoYXJlZC9kcm9wZG93bi9kcm9wZG93bi5qcyIsImltcG9ydCB7Q09OU1R9IGZyb20gJy4uLy4uLy4uL2NvbW1vbi9qcy1zZXJ2aWNlcy9jb25zdHMnO1xyXG5pbXBvcnQge2dldFRhc2tzRGF0YX0gZnJvbSAnLi4vLi4vX3NoYXJlZC90YXNrLXN0YXR1cy90YXNrLXN0YXR1cyc7XHJcbi8vIGltcG9ydCB2aWV3VXRpbHMgZnJvbSAnLi4vLi4vLi4vY29tbW9uL2pzLXNlcnZpY2VzL3ZpZXcnO1xyXG5pbXBvcnQgZHJvcERvd24gZnJvbSAnLi4vLi4vX3NoYXJlZC9kcm9wZG93bi9kcm9wZG93bic7XHJcblxyXG5sZXQgcGF0aCA9IHtcclxuICAgIHR5cGU6ICcnLFxyXG4gICAgc3VidHlwZTogJydcclxufTtcclxuY29uc3Qgd3JhcHBlcnMgPSB7XHJcbiAgICAkYWxsOiAkKCcudGFza3MtYWxsJyksXHJcbiAgICAkc3RvcHBlZDogJCgnLnRhc2tzLXN0b3BwZWQnKVxyXG59O1xyXG5jb25zdCBsb2dzU3RhdGVTdGF0dXMgPSB7XHJcbiAgICB3cmFwcGVyU3VidHlwZTogJCgnLnN1YnR5cGUtLWJveCcpXHJcbn07XHJcblxyXG5mdW5jdGlvbiBkcm9wZG93bk9uU2VsZWN0Q2IoZSkge1xyXG4gICAgLy8gY29uc3Qge3NlbGVjdENsc0xvZ3NUYXNrVHlwZX0gPSBsb2dzU3RhdGU7XHJcbiAgICBjb25zdCBzdWJ0eXBlID0gJChlLnRhcmdldCkuZmluZCgnb3B0aW9uOnNlbGVjdGVkJykudmFsKCk7XHJcbiAgICBjb25zdCBwYXRoVXBkYXRlZCA9IHsuLi5wYXRoLCBzdWJ0eXBlfTtcclxuICAgICQoJy5qc19sb2dzLWNvbnRhaW5lcicpLmFkZENsYXNzKCdkLWJsb2NrJyk7XHJcbiAgICAkKCdvcHRpb24uanNfZW1wdHktc3VidHlwZScpLnJlbW92ZSgpO1xyXG4gICAgZ2V0VGFza3NEYXRhKHdyYXBwZXJzLCBwYXRoVXBkYXRlZCk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBpbml0KHtpc0luQ29ycmVjdFBhZ2UsIGluaXRpYWxQYXRoLCB0ZXh0UnVzQXJyYXl9KSB7XHJcbiAgICBpZiAoIWlzSW5Db3JyZWN0UGFnZSkge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIHBhdGggPSB7XHJcbiAgICAgICAgdHlwZTogaW5pdGlhbFBhdGgudHlwZSxcclxuICAgICAgICBzdWJ0eXBlOiBpbml0aWFsUGF0aC5zdWJ0eXBlXHJcbiAgICB9O1xyXG5cclxuICAgIC8vIHRvZG86IG1lcmdlIHdpdGggdmlld1V0aWxzLmpzIERyb3Bkb3duXHJcbiAgICBkcm9wRG93bi5hZGREcm9wZG93bihcclxuICAgICAgICBsb2dzU3RhdGVTdGF0dXMud3JhcHBlclN1YnR5cGUsXHJcbiAgICAgICAgaW5pdGlhbFBhdGguc3VidHlwZXMsXHJcbiAgICAgICAge2xvZ3NTdGF0ZTogbG9nc1N0YXRlU3RhdHVzLCBkcm9wZG93bk9uU2VsZWN0Q2IsIHRleHRSdXNBcnJheX1cclxuICAgICk7XHJcblxyXG4gICAgLy8gZ2V0VGFza3NEYXRhKHdyYXBwZXJzLCBwYXRoKTtcclxuICAgIHdpbmRvdy5QdWJTdWIuc3Vic2NyaWJlKENPTlNULmV2ZW50cy50YXNrcy5ORVdfVEFTS19DUkVBVEVELCAoZXZlbnROYW1lLCBkYXRhKSA9PiB7XHJcbiAgICAgICAgZ2V0VGFza3NEYXRhKHdyYXBwZXJzLCBwYXRoKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvYmxvY2tzL19zaGFyZWQvdGFzay1zdGF0dXMvdGFzay1zdGF0dXMtYnktc3VidHlwZS5qcyIsImltcG9ydCBVc2VyIGZyb20gJy4uLy4uL2NvbW1vbi9qcy1zZXJ2aWNlcy91c2VyJztcclxuLy8gaW1wb3J0IFNwaW5uZXIgZnJvbSAnLi4vLi4vY29tbW9uL2pzLXNlcnZpY2VzL3NwaW5uZXInO1xyXG4vLyBpbXBvcnQgUHViU3ViIGZyb20gJ3B1YnN1Yi1qcyc7XHJcbmltcG9ydCB2aWV3VXRpbHMgZnJvbSAnLi4vLi4vY29tbW9uL2pzLXNlcnZpY2VzL3ZpZXcnO1xyXG5pbXBvcnQge0NPTlNUfSBmcm9tICcuLi8uLi9jb21tb24vanMtc2VydmljZXMvY29uc3RzJztcclxuaW1wb3J0IHtzZXR0aW5nQnV0dG9uc0hhbmRsZXJ9IGZyb20gJy4vYWNjb3VudHMtbGlzdC1idG4tc2V0dGluZ3MnO1xyXG5cclxuY29uc3QgSW5zdGFncmFtQWNjUGFnZUNscyA9ICcuaW5zdGFncmFtLWFjY291bnRzLXBhZ2UnO1xyXG5jb25zdCBpc0luc3RhZ3JhbUFjY1BhZ2UgPSAkKEluc3RhZ3JhbUFjY1BhZ2VDbHMpLmxlbmd0aDtcclxuY29uc3QgJG1zZ0xpc3QgPSAkKCcuYWNjb3VudHMtbGlzdCcpO1xyXG5jb25zdCBJTlNUQUdSQU1fQUNDT1VOVFNfSFJFRiA9ICdpbnN0YWdyYW0tYWNjb3VudHMnO1xyXG5cclxuZnVuY3Rpb24gYWRkTGlzdEhhbmRsZXIoKSB7XHJcbiAgICBsZXQgY2hlY2twb2ludFR5cGUgPSAnJztcclxuXHJcbiAgICAkKCcuanNfcGFzcy1jaGVja3BvaW50LWJ0bicpLm9uKCdjbGljaycsIChlKSA9PiB7XHJcbiAgICAgICAgY29uc3QgJGJ1dHRvbiA9ICQoZS50YXJnZXQpO1xyXG4gICAgICAgIGNvbnN0IHVzZXJuYW1lID0gJGJ1dHRvbi5kYXRhKCd1c2VybmFtZScpO1xyXG4gICAgICAgIGNoZWNrcG9pbnRUeXBlID0gJGJ1dHRvbi5kYXRhKCdjaGVja3BvaW50VHlwZScpIHx8IGNoZWNrcG9pbnRUeXBlO1xyXG4gICAgICAgIC8vICQoJyNzZWN1cml0eS1jb2RlJykuZGF0YSgnY2hlY2twb2ludFR5cGUnLCBjaGVja3BvaW50VHlwZSk7XHJcbiAgICAgICAgLy8gdG9kbyBhZGQgJ2NoZWNrcG9pbnRUeXBlJyB0byBtb2RhbFxyXG4gICAgICAgIGNvbnN0IHNlbmRUbyA9IChjaGVja3BvaW50VHlwZSA9PT0gJ1BIT05FJykgPyAn0YLQtdC70LXRhNC+0L0nIDogJ2VtYWlsJztcclxuICAgICAgICAvLyBTcGlubmVyLnN0YXJ0KCRidXR0b24sICdmYS1rZXknKTtcclxuXHJcbiAgICAgICAgaWYgKGNoZWNrcG9pbnRUeXBlID09PSAnRU1BSUxfT1JfUEhPTkUnKSB7XHJcbiAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcblxyXG4gICAgICAgICAgICAvLyDQuNC90L/Rg9GC0Ysg0YHQv9GA0Y/RgtCw0L3RiyxcclxuICAgICAgICAgICAgLy8g0L/QvtC60LDQt9Cw0YLRjCDRgdC10YDRi9C1INC/0LXRgNC10LrQu9GO0YfQsNGC0LXQu9C4ICjQstGL0LHRgNCw0Lsg0YLQuNC/KVxyXG4gICAgICAgICAgICAvLyDQtdGB0YLRjCDQutC90L7Qv9C60LAg0JfQsNC/0YDQvtGB0LjRgtGMINC60L7QtCDQv9C+0LTRgtCy0LXRgNC20LTQtdC90LjQtVxyXG4gICAgICAgICAgICAkKCcjc2VjdXJpdHktY29kZS1waG9uZU9yZW1haWwnKS5tb2RhbCh7c2hvdzogdHJ1ZSwgdXNlcm5hbWV9KTtcclxuXHJcbiAgICAgICAgICAgIC8vINC90LUg0L7RgtC/0YDQsNCy0LvRj9C10Lwg0YDQtdC60LLQtdGB0YJcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgVXNlci5nZXRTZWN1cml0eUtleSh1c2VybmFtZSwgY2hlY2twb2ludFR5cGUpLnRoZW4oKHJlc3VsdCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnU2VjdXJpdHlLZXkgcmVjZWl2ZWQ6JywgcmVzdWx0LnN0YXR1cy5zdGF0ZSk7XHJcbiAgICAgICAgICAgIGlmIChyZXN1bHQuc3RhdHVzLnN0YXRlID09PSAnb2snKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCAkbW9kYWwgPSAkKCcjc2VjdXJpdHktY29kZScpO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIFNwaW5uZXIuc3RvcCgkYnV0dG9uLCAnZmEta2V5Jyk7XHJcbiAgICAgICAgICAgICAgICAkKCcuanNfc3VjY2Vzcy1mZWVkYmFjaycsICRtb2RhbCkuZW1wdHkoKS50ZXh0KGDQmtC70Y7RhyDQv9C+0LTRgtCy0LXRgNC20LTQtdC90LjRjyDQsdGL0Lsg0L7RgtC/0YDQsNCy0LvQtdC9INCS0LDQvCDQvdCwICR7c2VuZFRvfWApO1xyXG5cclxuICAgICAgICAgICAgICAgICQoJyNzZWN1cml0eS1jb2RlJykuYXR0cignZGF0YS11c2VybmFtZScsIHVzZXJuYW1lKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gaW5zaWRlIG1vZGFsXHJcbiAgICAkKCcuanNfY29uZmlybS1zZWN1cml0eS1jb2RlJykub24oJ2NsaWNrJywgKGUpID0+IHtcclxuICAgICAgICBjb25zdCBidG4gPSAkKGUudGFyZ2V0KTtcclxuICAgICAgICBjb25zdCB1c2VybmFtZSA9IGJ0bi5jbG9zZXN0KCcjc2VjdXJpdHktY29kZScpLmRhdGEoJ3VzZXJuYW1lJyk7XHJcbiAgICAgICAgY29uc3QgJGtleUlucHV0ID0gYnRuLmNsb3Nlc3QoJy5tb2RhbCcpLmZpbmQoJy5tb2RhbC1kaWFsb2cgZm9ybSBpbnB1dC5qc19jb25maXJtLWtleScpO1xyXG4gICAgICAgIGNvbnN0IGtleSA9ICRrZXlJbnB1dC52YWwoKS50cmltKCk7XHJcbiAgICAgICAgY29uc3QgJG1vZGFsID0gYnRuLmNsb3Nlc3QoJy5tb2RhbCcpO1xyXG4gICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcblxyXG4gICAgICAgIGlmIChrZXkubGVuZ3RoICE9PSA2KSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgVXNlci5jb25maXJtU2VjdXJpdHlLZXkoa2V5LCB1c2VybmFtZSkudGhlbigocmVzdWx0KSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChyZXN1bHQuc3RhdHVzLnN0YXRlICE9PSAnb2snKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ2pzX2NvbmZpcm06JywgcmVzdWx0LnN0YXR1cy5zdGF0ZSwgJ2Nsb3NlIG1vZGFsJyk7XHJcbiAgICAgICAgICAgICRtb2RhbC5tb2RhbCgnaGlkZScpO1xyXG4gICAgICAgIH0pLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ2VycicpO1xyXG4gICAgICAgICAgICAkKCcuanNfc3VjY2Vzcy1mZWVkYmFjaycsICRtb2RhbCkudGV4dCgn0JfQsNC/0YDQvtGBINC90LUg0L7RgtC/0YDQsNCy0LvQtdC9JykuY3NzKCdjb2xvcicsICdyZWQnKTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKTtcclxuICAgICAgICB9KTtcclxuICAgIH0pO1xyXG5cclxuICAgICQoJ2Zvcm0gaW5wdXRbbWlubGVuZ3RoXScpLm9uKCdibHVyJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGNvbnN0IGxlbiA9ICQodGhpcykudmFsKCkudHJpbSgpLmxlbmd0aDtcclxuICAgICAgICBjb25zdCBtaW5MZW4gPSBOdW1iZXIoJCh0aGlzKS5hdHRyKCdtaW5sZW5ndGgnKSk7XHJcbiAgICAgICAgLy8gY29uc3QgbWVzc2FnZSA9IG1pbkxlbiA8PSBsZW4gPyAnJyA6IG1pbkxlbiArICcgY2hhcmFjdGVycyBtaW5pbXVtJztcclxuICAgICAgICBpZiAobWluTGVuICE9PSBsZW4pIHtcclxuICAgICAgICAgICAgJCh0aGlzKS5jc3MoJ2JvcmRlckNvbG9yJywgJ3JlZCcpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICQodGhpcykuY3NzKCdib3JkZXJDb2xvcicsICcjY2VkNGRhJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIHRoaXMuc2V0Q3VzdG9tVmFsaWRpdHkobWVzc2FnZSlcclxuICAgIH0pO1xyXG5cclxuICAgIGZ1bmN0aW9uIG9uSGlkZU1vZGFsKGUpIHtcclxuICAgICAgICBjb25zdCAkbW9kYWwgPSAkKGUudGFyZ2V0KTtcclxuICAgICAgICAkbW9kYWwuZmluZCgnLmZpcnN0LXN0ZXAnKS5yZW1vdmVDbGFzcygnZC1ub25lJyk7XHJcbiAgICAgICAgJG1vZGFsLmZpbmQoJy5zZWNvbmQtc3RlcCcpLmFkZENsYXNzKCdkLW5vbmUnKTtcclxuICAgICAgICAkKCcuanNfY29uZmlybS1rZXknKS52YWwoJycpO1xyXG4gICAgICAgICQoJy5qc19zdWNjZXNzLWZlZWRiYWNrJywgJG1vZGFsKS5yZW1vdmVBdHRyKCdzdHlsZScpLmVtcHR5KCk7XHJcbiAgICB9XHJcbiAgICAkKCcjc2VjdXJpdHktY29kZS1waG9uZU9yZW1haWwnKS5vbignaGlkZS5icy5tb2RhbCcsIG9uSGlkZU1vZGFsKTtcclxuICAgICQoJyNzZWN1cml0eS1jb2RlJykub24oJ2hpZGUuYnMubW9kYWwnLCBvbkhpZGVNb2RhbCk7XHJcblxyXG4gICAgLy8gXCJQSE9ORV9PUl9FTUFJTFwiIG1vZGFsXHJcbiAgICAkKCcuanNfZ2V0LXNlY3VyaXR5LWNvZGUtcGhvbmVPcmVtYWlsJykub24oJ2NsaWNrJywgKGUpID0+IHtcclxuICAgICAgICBjb25zdCAkbW9kYWwgPSAkKCcjc2VjdXJpdHktY29kZS1waG9uZU9yZW1haWwnKTtcclxuICAgICAgICBjb25zdCB0eXBlU2VsZWN0ZWQgPSAkKGUudGFyZ2V0KS5jbG9zZXN0KCRtb2RhbCkuZmluZCgnLmpzX2J0bi10eXBlLXN3aXRjaGVyIGlucHV0OmNoZWNrZWQnKTtcclxuICAgICAgICBjb25zdCBjaGVja3BvaW50VHlwZUFjdGl2ZSA9IHR5cGVTZWxlY3RlZC52YWwoKTtcclxuICAgICAgICBjb25zdCBzZW5kVG8gPSAoY2hlY2twb2ludFR5cGVBY3RpdmUgPT09ICdQSE9ORScpID8gJ9GC0LXQu9C10YTQvtC9JyA6ICdlbWFpbCc7XHJcbiAgICAgICAgY29uc3QgbW9kYWxDb25maWcgPSAkbW9kYWwuZGF0YSgpWydicy5tb2RhbCddLl9jb25maWc7XHJcbiAgICAgICAgY29uc3QgdXNlcm5hbWUgPSBtb2RhbENvbmZpZy51c2VybmFtZTtcclxuICAgICAgICBVc2VyLmdldFNlY3VyaXR5S2V5KHVzZXJuYW1lLCBjaGVja3BvaW50VHlwZUFjdGl2ZSkudGhlbigocmVzdWx0KSA9PiB7XHJcbiAgICAgICAgICAgIC8vINC/0YDQuCDQvdCw0LbQsNGC0LjQuCBcItCX0LDQv9GA0L7RgdC40YLRjCDQutC+0LQg0L/QvtC00YLQstC10YDQttC00LXQvdC40LVcIiAtINC+0YLQv9Cw0YDQu9GP0LXRgtGB0Y8g0YDQtdC60LLQtdGB0YIgXCLRgdGC0LDRgNGCINGH0LXQutC/0L7QuNC90YJcIiDQv9C+0Y/QstC70Y/QtdGC0YzRgdGPINC40L3Qv9GD0YIg0Lgg0LrQvdC+0L/QutCwINC00YDRg9Cz0LjRhSDRgtC40L/QsNGFXHJcbiAgICAgICAgICAgIC8vIGdldCBzZWxlY3RlZCBidXR0b25cclxuXHJcbiAgICAgICAgICAgIC8vINC/0LXRgNC10LrQu9GO0YfQsNGC0LXQu9GMKNGB0LXRgNGL0LkpINC4INC60L3QvtC/0LrQsCBcItCX0LDQv9GA0L7RgdC40YLRjCDQutC+0LQg0L/QvtC00YLQstC10YDQttC00LXQvdC40LVcIiDQuNGB0YfQtdC30LDRjtGCXHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdTZWN1cml0eUtleSByZWNlaXZlZDonLCByZXN1bHQuc3RhdHVzLnN0YXRlKTtcclxuICAgICAgICAgICAgaWYgKHJlc3VsdC5zdGF0dXMuc3RhdGUgPT09ICdvaycpIHtcclxuICAgICAgICAgICAgICAgICQoJy5maXJzdC1zdGVwJywgJG1vZGFsKS5hZGRDbGFzcygnZC1ub25lJyk7XHJcbiAgICAgICAgICAgICAgICAkKCcuc2Vjb25kLXN0ZXAnLCAkbW9kYWwpLnJlbW92ZUNsYXNzKCdkLW5vbmUnKTtcclxuICAgICAgICAgICAgICAgICQoJy5qc19zdWNjZXNzLWZlZWRiYWNrJywgJG1vZGFsKS5lbXB0eSgpLnRleHQoYNCa0LvRjtGHINC/0L7QtNGC0LLQtdGA0LbQtNC10L3QuNGPINCx0YvQuyDQvtGC0L/RgNCw0LLQu9C10L0g0JLQsNC8INC90LAgJHtzZW5kVG99YCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5jb25zdCBpbnNlcnRJdGVtID0gKGRhdGEsIHRleHQsIGNzc0NscykgPT4ge1xyXG4gICAgY29uc3QgbGlUcGwgPSBgJHsoZGF0YSlcclxuICAgICAgICA/IGA8bGkgY2xhc3M9XCJsaXN0LWlubGluZS1pdGVtICR7Y3NzQ2xzfVwiPjxzcGFuIGNsYXNzPVwiZmlndXJlXCI+JHtkYXRhfTwvc3Bhbj48c3Bhbj4ke3RleHR9PC9zcGFuPjwvbGk+YFxyXG4gICAgICAgIDogYDxsaSBjbGFzcz1cImxpc3QtaW5saW5lLWl0ZW0gJHtjc3NDbHN9XCI+PHNwYW4gY2xhc3M9XCJmaWd1cmVcIj4wPC9zcGFuPjxzcGFuPiR7dGV4dH08L3NwYW4+PC9saT5gfWA7XHJcbiAgICByZXR1cm4gbGlUcGw7XHJcbn07XHJcblxyXG5jb25zdCBzdGF0cyA9IChpbmZvKSA9PiB7XHJcbiAgICBjb25zdCB0cGwgPSBgPGRpdiBjbGFzcz1cImNvbFwiPlxyXG4gICAgICAgIDx1bCBjbGFzcz1cImxpc3QtaW5saW5lIHRleHQtY2VudGVyIGNvdW50cy1saXN0XCI+XHJcbiAgICAgICAgJHsoaW5mbylcclxuICAgICAgICAgID8gYCR7aW5zZXJ0SXRlbShpbmZvWydtZWRpYV9jb3VudCddLCAn0J/Rg9Cx0LvQuNC60LDRhtC40LgnLCAnbWVkaWEtY291bnQnKX1cclxuICAgICAgICAgICAgJHtpbnNlcnRJdGVtKGluZm9bJ2ZvbGxvd2VyX2NvdW50J10sICfQn9C+0LTQv9C40YHRh9C40LrQuCcsICdmb2xsb3dlci1jb3VudCcpfVxyXG4gICAgICAgICAgICAke2luc2VydEl0ZW0oaW5mb1snZm9sbG93aW5nX2NvdW50J10sICfQn9C+0LTQv9C40YHQutC4JywgJ2ZvbGxvd2luZy1jb3VudCcpfWBcclxuICAgICAgICAgIDogYCR7aW5zZXJ0SXRlbShmYWxzZSwgJ9Cf0YPQsdC70LjQutCw0YbQuNC4JywgJ21lZGlhLWNvdW50Jyl9XHJcbiAgICAgICAgICAgICR7aW5zZXJ0SXRlbShmYWxzZSwgJ9Cf0L7QtNC/0LjRgdGH0LjQutC4JywgJ2ZvbGxvd2VyLWNvdW50Jyl9XHJcbiAgICAgICAgICAgICR7aW5zZXJ0SXRlbShmYWxzZSwgJ9Cf0L7QtNC/0LjRgdC60LgnLCAnZm9sbG93aW5nLWNvdW50Jyl9YFxyXG4gICAgICAgIH1cclxuICAgICAgICA8L3VsPlxyXG4gICAgPC9kaXY+YDtcclxuICAgIHJldHVybiB0cGw7XHJcbn07XHJcblxyXG5jb25zdCBjaGVja1BvaW50VGV4dCA9IChjaGVja3BvaW50LCBpdGVtKSA9PiB7XHJcbiAgICBpZiAoY2hlY2twb2ludC5zdGF0dXMgPT09ICdUUklHR0VSRUQnKSB7XHJcbiAgICAgICAgcmV0dXJuIGA8YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi1vdXRsaW5lLXNlY29uZGFyeSBqc19wYXNzLWNoZWNrcG9pbnQtYnRuIGQtYmxvY2sgbXgtYXV0b1wiIFxyXG4gICAgICAgICAgICBkYXRhLWNoZWNrcG9pbnQtdHlwZT1cIiR7Y2hlY2twb2ludC50eXBlIHx8ICdFTUFJTCd9XCJcclxuICAgICAgICAgICAgZGF0YS11c2VybmFtZT1cIiR7aXRlbS51c2VybmFtZSB8fCAnJ31cIlxyXG4gICAgICAgICAgICBkYXRhLXRvZ2dsZT1cIm1vZGFsXCIgZGF0YS10YXJnZXQ9XCIjc2VjdXJpdHktY29kZVwiPlxyXG4gICAgICAgICAgICA8aSBjbGFzcz1cImZhcyBmYS1rZXlcIj48L2k+0J/RgNC+0LnRgtC4INGH0LXQutC/0L7QuNC90YI8L2J1dHRvbj5gO1xyXG4gICAgfSBlbHNlIGlmIChpdGVtLnN0YXR1cyA9PT0gJ0ZBSUwnKSB7XHJcbiAgICAgICAgcmV0dXJuICc8c3BhbiBjbGFzcz1cInRleHQtZGFuZ2VyXCI+0J7RiNC40LHQutCwINC/0YDQuCDQtNC+0LHQsNCy0LvQtdC90LjQuDwvc3Bhbj4nO1xyXG4gICAgfVxyXG59O1xyXG5cclxuY29uc3QgYWRkU2V0dGluZ0J0biA9IChhY2NvdW50KSA9PiB7XHJcbiAgICBjb25zdCB7dXNlcm5hbWUgPSAnJyxcclxuICAgICAgICBpbmZvOiB7bmFtZSA9ICcnLCBlbWFpbCA9ICcnLCB1cmwgPSAnJywgYmlvZ3JhcGh5ID0gJycsIHByb2ZpbGVfcGljX3VybCA9ICcnLCBmb2xsb3dlcl9jb3VudCwgZm9sbG93aW5nX2NvdW50LCBtZWRpYV9jb3VudCwgaXNfYnVzaW5lc3MsIGlzX3ByaXZhdGV9XHJcbiAgICB9ID0gYWNjb3VudDtcclxuICAgIGlmIChpc0luc3RhZ3JhbUFjY1BhZ2UgfHwgd2luZG93LmxvY2F0aW9uLmhyZWYuaW5jbHVkZXMoSU5TVEFHUkFNX0FDQ09VTlRTX0hSRUYpKSB7XHJcbiAgICAgICAgcmV0dXJuIGA8ZGl2IGNsYXNzPVwiYWNjb3VudC1zZXR0aW5nIGNvbC0xIGQtZmxleCBmbGV4LWNvbHVtblwiPlxyXG4gICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi1vdXRsaW5lLXN1Y2Nlc3MgcC0xIG1iLTEganNfYWNjLWVkaXRcIiBcclxuICAgICAgICAgICAgICAgIGRhdGEtdXNlcm5hbWU9XCIke3VzZXJuYW1lfVwiXHJcbiAgICAgICAgICAgICAgICBkYXRhLW5hbWU9XCIke25hbWV9XCJcclxuICAgICAgICAgICAgICAgIGRhdGEtZW1haWw9XCIke2VtYWlsfVwiXHJcbiAgICAgICAgICAgICAgICBkYXRhLXVybD1cIiR7dXJsfVwiXHJcbiAgICAgICAgICAgICAgICBkYXRhLWJpb2dyYXBoeT1cIiR7YmlvZ3JhcGh5fVwiXHJcbiAgICAgICAgICAgICAgICBkYXRhLWltZz1cIiR7cHJvZmlsZV9waWNfdXJsfVwiXHJcbiAgICAgICAgICAgICAgICBkYXRhLWZvbGxvd2VyX2NvdW50PVwiJHtmb2xsb3dlcl9jb3VudH1cIlxyXG4gICAgICAgICAgICAgICAgZGF0YS1mb2xsb3dpbmdfY291bnQ9XCIke2ZvbGxvd2luZ19jb3VudH1cIlxyXG4gICAgICAgICAgICAgICAgZGF0YS1tZWRpYV9jb3VudD1cIiR7bWVkaWFfY291bnR9XCJcclxuICAgICAgICAgICAgICAgIGRhdGEtaXNfYnVzaW5lc3M9XCIke2lzX2J1c2luZXNzfVwiXHJcbiAgICAgICAgICAgICAgICBkYXRhLWlzX3ByaXZhdGU9XCIke2lzX3ByaXZhdGV9XCJcclxuICAgICAgICAgICAgPjxpIGNsYXNzPVwiZmFzIGZhLXBlbiBtLTBcIj48L2k+PC9idXR0b24+XHJcbiAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJidG4gYnRuLW91dGxpbmUtc2Vjb25kYXJ5IHAtMSBtYi0xIGpzX2FjYy1yZWZyZXNoXCIgZGF0YS11c2VybmFtZT1cIiR7dXNlcm5hbWV9XCI+PGkgY2xhc3M9XCJmYXMgZmEtcmV0d2VldCBtLTBcIj48L2k+PC9idXR0b24+XHJcbiAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJidG4gYnRuLW91dGxpbmUtZGFuZ2VyIHAtMSBqc19hY2MtZGVsZXRlXCIgZGF0YS11c2VybmFtZT1cIiR7dXNlcm5hbWV9XCI+PGkgY2xhc3M9XCJmYXMgZmEtdHJhc2ggbS0wXCI+PC9pPjwvYnV0dG9uPlxyXG4gICAgICAgIDwvZGl2PmA7XHJcbiAgICB9XHJcbn07XHJcblxyXG5leHBvcnQgY29uc3QgcmVuZGVySXRlbSA9IChpdGVtLCBjTGlzdCwgX2RlZmF1bHRBdmF0YXJTcmMpID0+IHtcclxuICAgIGNvbnN0IGluZm8gPSBpdGVtLmluZm87XHJcbiAgICBjb25zdCBjaGVja3BvaW50ID0gaXRlbS5jaGVja3BvaW50IHx8IGl0ZW07XHJcbiAgICBjb25zdCBkZWZhdWx0QXZhdGFyU3JjID0gX2RlZmF1bHRBdmF0YXJTcmMgfHwgQ09OU1QudXNlci5kZWZhdWxBdmF0YXI7XHJcbiAgICBpZiAoIWluZm8pIHtcclxuICAgICAgICByZXR1cm4gJChgPGxpIGNsYXNzPVwibWVkaWEgcHktM1wiIGRhdGEtdXNlcm5hbWU9XCIke2l0ZW0udXNlcm5hbWV9XCI+XHJcbiAgICAgICAgICAgIDxpbWcgY2xhc3M9XCJtbC0zIHJvdW5kZWRcIiBhbHQ9XCJkZWZhdWx0IGF2YXRhclwiIHNyYz1cIiR7ZGVmYXVsdEF2YXRhclNyY31cIj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1lZGlhLWJvZHkgZC1mbGV4XCI+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sIHVzZXItaW5mb1wiPlxyXG4gICAgICAgICAgICAgICAgICAgICR7KGl0ZW0udXNlcm5hbWUpID8gYDxoNCBjbGFzcz1cIm10LTAgbWItMSBuYW1lXCI+JHtpdGVtLnVzZXJuYW1lfTwvaDQ+YCA6ICcnfVxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sIHVzZXItY2hlY2twb2ludFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICR7Y2hlY2tQb2ludFRleHQoY2hlY2twb2ludCwgaXRlbSl9XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICR7c3RhdHMoKX1cclxuICAgICAgICAgICAgICAgICR7YWRkU2V0dGluZ0J0bihpdGVtKSB8fCAnJ31cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPC9saT5gKS5hcHBlbmRUbyhjTGlzdCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIHJldHVybiAkKGA8bGkgY2xhc3M9XCJtZWRpYSBweS0zXCIgZGF0YS11c2VybmFtZT1cIiR7aXRlbS51c2VybmFtZX1cIj5cclxuICAgICAgICAkeyhpbmZvWydwcm9maWxlX3BpY191cmwnXSlcclxuICAgICAgICAgICAgPyBgPGltZyBjbGFzcz1cIm1sLTMgcm91bmRlZFwiIGFsdD1cIlVzZXIgcGhvdG9cIiBzcmM9XCIke2luZm9bJ3Byb2ZpbGVfcGljX3VybCddfVwiPmBcclxuICAgICAgICAgICAgOiBgPGltZyBjbGFzcz1cIm1sLTMgcm91bmRlZFwiIGFsdD1cImRlZmF1bHQgYXZhdGFyXCIgc3JjPVwiJHtkZWZhdWx0QXZhdGFyU3JjfVwiPmB9XHJcbiAgICAgICAgPGRpdiBjbGFzcz1cIm1lZGlhLWJvZHkgZC1mbGV4XCI+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wgdXNlci1pbmZvXCI+XHJcbiAgICAgICAgICAgICAgICAkeyhpdGVtLnVzZXJuYW1lKSA/IGA8cCBjbGFzcz1cIm10LTAgbWItMSBuYW1lIGxlYWRcIj4ke2l0ZW0udXNlcm5hbWV9PC9wPmAgOiAnJ31cclxuICAgICAgICAgICAgICAgICR7KGluZm8ubmFtZSkgPyBgPGg0IGNsYXNzPVwibXQtMCBtYi0xXCI+JHtpbmZvLm5hbWV9PC9oND5gIDogJyd9XHJcbiAgICAgICAgICAgICAgICAkeyhpbmZvLm5hbWUpID8gJycgOiAnJyAgLyogJHsoaW5mby5lbWFpbCkgPyBgPHAgY2xhc3M9XCJtdC0wIG1iLTFcIj4ke2luZm8uZW1haWx9PC9wPmAgOiAnJ31cclxuICAgICAgICAgICAgICAgICAkeyhpbmZvLnBob25lKSA/IGA8cCBjbGFzcz1cIm10LTAgbWItMVwiPiR7aW5mby5waG9uZX08L3A+YCA6ICcnfSAqLyB9XHJcblxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbCB1c2VyLWNoZWNrcG9pbnRcIj5cclxuICAgICAgICAgICAgICAgICR7KGNoZWNrcG9pbnQuc3RhdHVzID09PSAnVFJJR0dFUkVEJylcclxuICAgICAgICAgICAgICAgID8gYDxidXR0b24gY2xhc3M9XCJidG4gYnRuLW91dGxpbmUtc2Vjb25kYXJ5IGpzX3Bhc3MtY2hlY2twb2ludC1idG4gZC1ibG9jayBteC1hdXRvXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS1jaGVja3BvaW50LXR5cGU9XCIke2NoZWNrcG9pbnQudHlwZSB8fCAnRU1BSUwnfVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEtdXNlcm5hbWU9XCIke2l0ZW0udXNlcm5hbWUgfHwgJyd9XCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS10b2dnbGU9XCJtb2RhbFwiIGRhdGEtdGFyZ2V0PVwiI3NlY3VyaXR5LWNvZGVcIj5cclxuICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz1cImZhcyBmYS1rZXlcIj48L2k+0J/RgNC+0LnRgtC4INGH0LXQutC/0L7QuNC90YI8L2J1dHRvbj5gXHJcbiAgICAgICAgICAgICAgICA6ICcnfVxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgJHtzdGF0cyhpbmZvKX1cclxuICAgICAgICAgICAgJHthZGRTZXR0aW5nQnRuKGl0ZW0pIHx8ICcnfVxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgPC9saT5gKTtcclxuICAgIH1cclxufTtcclxuXHJcbmZ1bmN0aW9uIGZpbGxMaXN0KCRsaXN0LCBkYXRhQXJyYXkpIHtcclxuICAgIGNvbnN0IGl0ZW1zID0gZGF0YUFycmF5O1xyXG4gICAgY29uc3QgY0xpc3QgPSAkbGlzdDtcclxuICAgIGNvbnN0IGRlZmF1bHRBdmF0YXJTcmMgPSBDT05TVC51c2VyLmRlZmF1bEF2YXRhcjtcclxuXHJcbiAgICBjTGlzdC5lbXB0eSgpLmFkZENsYXNzKCdib3JkZXItbGlnaHQtY29sb3InKTtcclxuICAgIGl0ZW1zLmZvckVhY2goKGl0ZW0pID0+IHtcclxuICAgICAgICByZW5kZXJJdGVtKGl0ZW0sIGNMaXN0LCBkZWZhdWx0QXZhdGFyU3JjKS5hcHBlbmRUbyhjTGlzdCk7XHJcbiAgICB9KTtcclxuICAgIHdpbmRvdy5QdWJTdWIucHVibGlzaChDT05TVC5ldmVudHMuaW5zdGFncmFtQWNjb3Vucy5JTlNUQUdSQU1fQUNDT1VOU19SRU5ERVJFRCwge25hbWUsIGRhdGFBcnJheX0pO1xyXG4gICAgY29uc29sZS5sb2coJ0lOU1RBR1JBTV9BQ0NPVU5TX1JFTkRFUkVEJyk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNoZWNrUmVzcG9uc2UgKHJlc3VsdCAvKiAsIGlzUmVzZW5kUmVxdWVzdCovKSB7XHJcblxyXG4gICAgLypcclxuICAgIGlmICghcmVzdWx0LnN0YXR1cy5zdGF0ZSA9PT0gJ29rJyB8fCAhcmVzdWx0LmRhdGEgfHwgISRtc2dMaXN0Lmxlbmd0aCB8fCBpc1Jlc2VuZFJlcXVlc3QpIHtcclxuICAgICAgICAvLyDQv9GA0L7QstC10YDRj9C8INC+0LTQuNC9INGA0LDQtyDQvdCw0LvQuNGH0LjQtSByZXN1bHQuZGF0YS5hY2NvdW50cy5pbmZvXHJcbiAgICAgICAgJG1zZ0xpc3QuZW1wdHkoKTtcclxuICAgICAgICAkKGA8bGkgY2xhc3M9XCJtZWRpYVwiPlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwibWVkaWEtYm9keVwiPlxyXG4gICAgICAgICAgICAgICAgPGgzIGNsYXNzPVwibXQtMCBtYi0zXCI+0J3QuCDQvtC00L3QvtCz0L4g0JDQutC60LDRg9C90YLQsCDQvdC1INC00L7QsdCw0LLQu9C10L3QvjwvaDM+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvbGk+YCkuYXBwZW5kVG8oJG1zZ0xpc3QpO1xyXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICByZXNlbmRSZXF1ZXN0KCkudGhlbigocmVzdWx0KSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjaGVja1Jlc3BvbnNlKHJlc3VsdCwgZmFsc2UpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ1JlcXVlc3QgcmVzZW5kJyk7XHJcbiAgICAgICAgfSwgMzUwMCk7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgKi9cclxuICAgIC8vINCy0YvQstC+0LQg0YDQtdC30YPQu9GM0YLQsNGC0L7QsiAoZGF0YS5hY2NvdW50cy5pbmZvKVxyXG4gICAgJCgnLnByb2ZpbGUtdXNlciAuc3Bpbm5lci1ib3gnKS5hZGRDbGFzcygnZC1ub25lJyk7XHJcbiAgICBmaWxsTGlzdCgkbXNnTGlzdCwgcmVzdWx0LmRhdGEuYWNjb3VudHMpO1xyXG4gICAgYWRkTGlzdEhhbmRsZXIoKTtcclxufVxyXG5jb25zdCBlcnJNZXNzYWdlRnJvbnQgPSAn0J3QtSDQv9C+0LvRg9GH0LjQu9C+0YHRjCDQt9Cw0LPRgNGD0LfQuNGC0Ywg0LTQvtGB0YLRg9C/0L3Ri9C1IEluc3RhZ3JhbSDQsNC60LrQsNGD0L3RgtGLJztcclxuZnVuY3Rpb24gY2JFcnJvcigpIHtcclxuICAgIHZpZXdVdGlscy5zaG93SW5mb01lc3NhZ2UoJCgnLmVycm9yLW1zZycpLFxyXG4gICAgICAgICcnLFxyXG4gICAgICAgIGVyck1lc3NhZ2VGcm9udCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHJlbG9hZExpc3QoKSB7XHJcbiAgICBjb25zdCAkbXNnTGlzdCA9ICQoJy5hY2NvdW50cy1saXN0Jyk7XHJcbiAgICAvLyBUT0RPOiBhZGQgc3Bpbm5lclxyXG4gICAgJCgnLnByb2ZpbGUtdXNlciAuc3Bpbm5lci1ib3gnKS5yZW1vdmVDbGFzcygnZC1ub25lJyk7XHJcbiAgICBVc2VyLmdldE1ldGFkYXRhKGNiRXJyb3IpLnRoZW4oKHJlc3VsdCkgPT4ge1xyXG4gICAgICAgICRtc2dMaXN0LmVtcHR5KCk7XHJcbiAgICAgICAgLy8gdG9kbyA6IHJlbG9hZCBsaXN0XHJcbiAgICAgICAgY2hlY2tSZXNwb25zZShyZXN1bHQpO1xyXG4gICAgfSkuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICB2aWV3VXRpbHMuc2hvd0luZm9NZXNzYWdlKCQoJy5lcnJvci1tc2cnKSxcclxuICAgICAgICAgICAgICAgIGVyci5zdGF0dXMgfHwgJycsXHJcbiAgICAgICAgICAgICAgICBlcnJNZXNzYWdlRnJvbnQpO1xyXG4gICAgICAgIH0sIDMwMDApO1xyXG4gICAgICAgICQoJy5zcGlubmVyLWJveCcpLmFkZENsYXNzKCdkLW5vbmUnKTtcclxuICAgIH0pO1xyXG4gICAgY29uc3QgY2ZnID0ge1xyXG4gICAgICAgIGRlbGV0ZUJ0bkNsczogJy5qc19hY2MtZGVsZXRlJyxcclxuICAgICAgICB1cGRhdGVCdG5DbHM6ICcuanNfYWNjLXJlZnJlc2gnLFxyXG4gICAgICAgIGVkaXRCdG5DbHM6ICcuanNfYWNjLWVkaXQnXHJcbiAgICB9O1xyXG4gICAgc2V0dGluZ0J1dHRvbnNIYW5kbGVyKGNmZyk7XHJcbn1cclxuXHJcbi8vINCf0L7RgdC70LUg0LTQvtCx0LDQstC70LXQvdC40Y8g0LDQutC60LDRg9C90YLQsCDRgdC90L7QstCwINC00LXRgNC90YPRgtGMINCc0JXQotCQINC4INC/0LXRgNC10YDQuNGB0L7QstCw0YLRjCDRgdC/0LjRgdC+0Log0LDQutC60LDRg9C90YLQvtCyXHJcbmNvbnN0IGFkZEluc3RhZ3JhbUFjY291bnQgPSAobmV3Rm9ybURhdGEpID0+IHtcclxuICAgIGNvbnN0IGNiRXJyb3IgPSAocmVzdWx0KSA9PiB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ0VSUk9SJywgcmVzdWx0KTtcclxuICAgICAgICB2aWV3VXRpbHMuc2hvd0luZm9NZXNzYWdlKCQoJy5lcnJvci1tc2cnKSxcclxuICAgICAgICAgICAgcmVzdWx0LnN0YXR1cy5zdGF0ZSxcclxuICAgICAgICAgICAgcmVzdWx0LnN0YXR1cy5tZXNzYWdlIHx8ICdMb2dpbiBlcnJvcicpO1xyXG4gICAgICAgIC8vICQoX2xvZ2luQm94KS5hZGRDbGFzcyhjbG9zZUNsYXNzKS5yZW1vdmVDbGFzcyhvcGVuZWRDbGFzcyk7XHJcbiAgICB9O1xyXG4gICAgVXNlci5hZGRJbnN0YWdyYW1BY2NvdW50KG5ld0Zvcm1EYXRhLCBjYkVycm9yKS50aGVuKChyZXN1bHQpID0+IHtcclxuICAgICAgICBpZiAocmVzdWx0ICYmIHJlc3VsdC5zdGF0dXMpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2cocmVzdWx0LCByZXN1bHQuc3RhdHVzKTtcclxuICAgICAgICAgICAgcmVsb2FkTGlzdCgpO1xyXG5cclxuICAgICAgICAgICAgLypcclxuICAgICAgICAgICAgY29uc3QgJG1zZ0xpc3QgPSAkKCcuYWNjb3VudHMtbGlzdCcpO1xyXG4gICAgICAgICAgICBVc2VyLmdldE1ldGFkYXRhKCkudGhlbigocmVzdWx0KSA9PiB7XHJcbiAgICAgICAgICAgICAgICAkbXNnTGlzdC5lbXB0eSgpO1xyXG4gICAgICAgICAgICAgICAgLy8gdG9kbyA6IHJlbG9hZCBsaXN0XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXN1bHQuZGF0YSwgcmVzdWx0LmRhdGEuYWNjb3VudHMpO1xyXG4gICAgICAgICAgICAgICAgY2hlY2tSZXNwb25zZShyZXN1bHQpO1xyXG4gICAgICAgICAgICB9KS5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB2aWV3VXRpbHMuc2hvd0luZm9NZXNzYWdlKCQoJy5lcnJvci1tc2cnKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgZXJyLnN0YXR1cyB8fCAnJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgJ9Cd0LUg0L/QvtC70YPRh9C40LvQvtGB0Ywg0LfQsNCz0YDRg9C30LjRgtGMINC00L7RgdGC0YPQv9C90YvQtSBJbnN0YWdyYW0g0LDQutC60LDRg9C90YLRiycpO1xyXG4gICAgICAgICAgICAgICAgfSwgMzAwMCk7XHJcbiAgICAgICAgICAgICAgICAkKCcuc3Bpbm5lci1ib3gnKS5hZGRDbGFzcygnZC1ub25lJyk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAqL1xyXG5cclxuICAgICAgICAgICAgLy8gdmlld1V0aWxzLnNob3dJbmZvTWVzc2FnZSgkdGV4dEFyZWFEZXNjcmlwdGlvbixcclxuICAgICAgICAgICAgLy8gICAgIHJlc3VsdC5zdGF0dXMuc3RhdGUsXHJcbiAgICAgICAgICAgIC8vICAgICByZXN1bHQuc3RhdHVzLm1lc3NhZ2UgfHwgJ0xvZ2luIGVycm9yJyk7XHJcbiAgICAgICAgICAgIC8vICQoX2xvZ2luQm94KS5hZGRDbGFzcyhjbG9zZUNsYXNzKS5yZW1vdmVDbGFzcyhvcGVuZWRDbGFzcyk7XHJcbiAgICAgICAgfVxyXG4gICAgfSkuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICAgIC8vIHRvZG86IHJlbmRlciBmb3IgdXNlclxyXG4gICAgICAgIGNvbnNvbGUubG9nKGVycik7XHJcbiAgICB9KTtcclxuXHJcbiAgICBjb25zb2xlLmxvZygnc3VibWl0JywgbmV3Rm9ybURhdGEpO1xyXG59O1xyXG5cclxuZnVuY3Rpb24gYWRkT25Mb2FkSGFuZGxlcnMoKSB7XHJcbiAgICAvLyAkKCcuanNfcmVwZWF0LXNlY3VyaXR5LWNvZGUnKS5vbignY2xpY2snLCAoZSkgPT4ge1xyXG5cclxuICAgIC8vIH0pO1xyXG5cclxuICAgICQoJy5qc19hZGQtaW5zdGFncmFtLWFjY291bnQnKS5vbignY2xpY2snLCAoZSkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGJ0biA9ICQoZS50YXJnZXQpO1xyXG4gICAgICAgIGNvbnN0ICRtb2RhbEJvZHkgPSBidG4uY2xvc2VzdCgnLm1vZGFsJykuZmluZCgnLm1vZGFsLWRpYWxvZyAubW9kYWwtYm9keScpO1xyXG4gICAgICAgIGNvbnN0IHVzZXJuYW1lID0gJG1vZGFsQm9keS5maW5kKCdpbnB1dFtuYW1lPVwidXNlcm5hbWVcIl0nKS52YWwoKS50cmltKCk7XHJcbiAgICAgICAgY29uc3QgcGFzc3dvcmQgPSAkbW9kYWxCb2R5LmZpbmQoJ2lucHV0W25hbWU9XCJwYXNzXCJdJykudmFsKCkudHJpbSgpO1xyXG4gICAgICAgIGNvbnN0IGlwID0gJG1vZGFsQm9keS5maW5kKCdpbnB1dFtuYW1lPVwiaXBcIl0nKS52YWwoKS50cmltKCk7IC8vIFRNUCBzb2x1dGlvblxyXG4gICAgICAgIGNvbnN0IHBvcnQgPSAkbW9kYWxCb2R5LmZpbmQoJ2lucHV0W25hbWU9XCJwb3J0XCJdJykudmFsKCkudHJpbSgpOyAvLyBUTVAgc29sdXRpb25cclxuICAgICAgICBjb25zdCB1c2VybmFtZVByb3h5ID0gJG1vZGFsQm9keS5maW5kKCdpbnB1dFtuYW1lPVwidXNlcm5hbWVQcm94eVwiXScpLnZhbCgpLnRyaW0oKTsgLy8gVE1QIHNvbHV0aW9uXHJcbiAgICAgICAgY29uc3QgcGFzc3dvcmRQcm94eSA9ICRtb2RhbEJvZHkuZmluZCgnaW5wdXRbbmFtZT1cInBhc3NQcm94eVwiXScpLnZhbCgpLnRyaW0oKTsgLy8gVE1QIHNvbHV0aW9uXHJcbiAgICAgICAgY29uc3QgJGZvcm0gPSAkKCdmb3JtJywgJG1vZGFsQm9keSk7XHJcbiAgICAgICAgY29uc3QgZm9ybSA9ICRmb3JtLmdldCgwKTtcclxuICAgICAgICBjb25zdCBjc3NWYWxpZGF0aW9uQ2xhc3MgPSAnZm9ybS12YWxpZGF0aW9uJztcclxuXHJcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIGZ1bmN0aW9uIGlzVmFsaWRJcHY0QWRkcihpcCkge1xyXG4gICAgICAgICAgICByZXR1cm4gKC9eKD89XFxkK1xcLlxcZCtcXC5cXGQrXFwuXFxkKyQpKD86KD86MjVbMC01XXwyWzAtNF1bMC05XXwxWzAtOV17Mn18WzEtOV1bMC05XXxbMC05XSlcXC4/KXs0fSQvKS50ZXN0KGlwKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZnVuY3Rpb24gaXNWYWxpZFBvcnQocG9ydCkge1xyXG4gICAgICAgICAgICByZXR1cm4gKC9eKFswLTldezEsNH18WzEtNV1bMC05XXs0fXw2WzAtNF1bMC05XXszfXw2NVswLTRdWzAtOV17Mn18NjU1WzAtMl1bMC05XXw2NTUzWzAtNV0pJC8pLnRlc3QocG9ydCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGNvbnN0IHZhbGlkYXRvciA9IG5ldyBWYWxpZGF0b3IoJGZvcm0pO1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKHZhbGlkYXRvci52YWxpZGF0ZSgpKTtcclxuICAgICAgICBpZiAoZm9ybS5jaGVja1ZhbGlkaXR5KCkpIHtcclxuICAgICAgICAgICAgYWRkSW5zdGFncmFtQWNjb3VudCh7dXNlcm5hbWUsIHBhc3N3b3JkLCB1c2VybmFtZVByb3h5LCBwYXNzd29yZFByb3h5LCBpcCwgcG9ydH0pO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIEhpZ2hsaWdodCBlcnJvcnNcclxuICAgICAgICAgICAgaWYgKGZvcm0ucmVwb3J0VmFsaWRpdHkpIHtcclxuICAgICAgICAgICAgICAgIGZvcm0ucmVwb3J0VmFsaWRpdHkoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAkZm9ybS5hZGRDbGFzcyhjc3NWYWxpZGF0aW9uQ2xhc3MpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKCF1c2VybmFtZSB8fCAhcGFzc3dvcmQgfHwgIWlwIHx8ICFpc1ZhbGlkSXB2NEFkZHIoaXApIHx8ICFwb3J0IHx8ICFpc1ZhbGlkUG9ydChwb3J0KSB8fCAhdXNlcm5hbWVQcm94eSB8fCAhcGFzc3dvcmRQcm94eSkge1xyXG4gICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnbm90IHZhbGlkIGZpZWxkcycpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBJbml0IGhlYWRlclxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGluaXQoKSB7XHJcbiAgICAvLyBjaGVjayB3ZSBhcmUgaW4gcHJvZmlsZSBwYWdlXHJcbiAgICBpZiAoISRtc2dMaXN0Lmxlbmd0aCkge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIC8vIGNvbnN0IHRva2VuID0gVXNlci5nZXRUb2tlbigpO1xyXG4gICAgY29uc3QgbWV0YWRhdGEgPSBVc2VyLmdldE1ldGFkYXRhKGNiRXJyb3IpO1xyXG4gICAgLy8gY29uc3QgcmVzZW5kUmVxdWVzdCA9ICgpID0+IFVzZXIuZ2V0TWV0YWRhdGEodG9rZW4pO1xyXG4gICAgLy8gbGV0IGlzU2VuZFJlcU9uY2UgPSBmYWxzZTtcclxuICAgIC8vIGNoZWNrIHdlIGFyZSBpbiBwcm9maWxlIHBhZ2VcclxuICAgIGlmICghJG1zZ0xpc3QubGVuZ3RoKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGFkZE9uTG9hZEhhbmRsZXJzKCk7XHJcblxyXG4gICAgLy8g0LzQvtC20LXRgiDQuNC90YTQviDQvtGC0YHRg9GC0YHQstC+0LLQsNGC0YwgLSDRgdC00LXQu9Cw0YLRjCDQtdGJ0LUg0YDQsNC3INC30LDQv9GA0L7RgSDRh9C10YDQtdC3IDMg0YHQtdC6LlxyXG4gICAgbWV0YWRhdGEudGhlbigocmVzdWx0KSA9PiB7XHJcbiAgICAgICAgLy8g0L/RgNC+0LLQtdGA0Y/QvCDQvtC00LjQvSDRgNCw0Lcg0L3QsNC70LjRh9C40LUgcmVzdWx0LmRhdGEuYWNjb3VudHMuaW5mb1xyXG4gICAgICAgIC8qXHJcbiAgICAgICAgbGV0IGlzUmVzZW5kUmVxdWVzdCA9IGZhbHNlO1xyXG4gICAgICAgIGlmIChyZXN1bHQuZGF0YSAmJiByZXN1bHQuZGF0YS5hY2NvdW50cyAmJiAhaXNTZW5kUmVxT25jZSkge1xyXG4gICAgICAgICAgICByZXN1bHQuZGF0YS5hY2NvdW50cy5mb3JFYWNoKChpdGVtKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIWl0ZW0uaW5mbykge1xyXG4gICAgICAgICAgICAgICAgICAgIGlzUmVzZW5kUmVxdWVzdCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgaXNTZW5kUmVxT25jZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgKi9cclxuICAgIC8vICAgIGNoZWNrUmVzcG9uc2UocmVzdWx0LCBpc1Jlc2VuZFJlcXVlc3QpO1xyXG4gICAgICAgIGNoZWNrUmVzcG9uc2UocmVzdWx0KTtcclxuICAgICAgICBjb25zdCBjZmcgPSB7XHJcbiAgICAgICAgICAgIGRlbGV0ZUJ0bkNsczogJy5qc19hY2MtZGVsZXRlJyxcclxuICAgICAgICAgICAgdXBkYXRlQnRuQ2xzOiAnLmpzX2FjYy1yZWZyZXNoJyxcclxuICAgICAgICAgICAgZWRpdEJ0bkNsczogJy5qc19hY2MtZWRpdCdcclxuICAgICAgICB9O1xyXG4gICAgICAgIHNldHRpbmdCdXR0b25zSGFuZGxlcihjZmcpO1xyXG4gICAgfSkuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICB2aWV3VXRpbHMuc2hvd0luZm9NZXNzYWdlKCQoJy5lcnJvci1tc2cnKSxcclxuICAgICAgICAgICAgICAgIGVyci5zdGF0dXMgfHwgJycsXHJcbiAgICAgICAgICAgICAgICAn0J3QtSDQv9C+0LvRg9GH0LjQu9C+0YHRjCDQt9Cw0LPRgNGD0LfQuNGC0Ywg0LTQvtGB0YLRg9C/0L3Ri9C1IEluc3RhZ3JhbSDQsNC60LrQsNGD0L3RgtGLJyk7XHJcbiAgICAgICAgfSwgMzAwMCk7XHJcbiAgICAgICAgJCgnLnNwaW5uZXItYm94JykuYWRkQ2xhc3MoJ2Qtbm9uZScpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgd2luZG93LlB1YlN1Yi5zdWJzY3JpYmUoQ09OU1QuZXZlbnRzLmluc3RhZ3JhbUFjY291bnMuSU5TVEFHUkFNX0FDQ09VTlNfTkVFRF9SRUZSRVNILCAoZXZlbnROYW1lLCBkYXRhKSA9PiB7XHJcbiAgICAgICAgcmVsb2FkTGlzdCgpO1xyXG4gICAgfSk7XHJcbiAgICB3aW5kb3cuUHViU3ViLnN1YnNjcmliZShDT05TVC5ldmVudHMuaW5zdGFncmFtQWNjb3Vucy5JTlNUQUdSQU1fQUNDT1VOU19SRU5ERVJFRCwgKGV2ZW50TmFtZSwgZGF0YSkgPT4ge1xyXG4gICAgICAgIGNvbnN0IHtkYXRhQXJyYXl9ID0gZGF0YTtcclxuICAgICAgICBkYXRhQXJyYXkuZm9yRWFjaChpdGVtID0+IHtcclxuICAgICAgICAgICAgY29uc3QgYXZhdGFyID0gaXRlbS5pbmZvICYmIGl0ZW0uaW5mby5wcm9maWxlX3BpY191cmwgfHwgQ09OU1QudXNlci5kZWZhdWxBdmF0YXI7XHJcbiAgICAgICAgICAgIHNlc3Npb25TdG9yYWdlLnNldEl0ZW0oaXRlbS51c2VybmFtZSwgYXZhdGFyKTtcclxuICAgICAgICB9KTtcclxuICAgIH0pO1xyXG59XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9ibG9ja3MvaW5zdGFncmFtLWFjY291bnRzLWxpc3QvaW5zdGFncmFtLWFjY291bnRzLWxpc3QuanMiLCIvLyBpbXBvcnQgJCBmcm9tICdqcXVlcnknO1xyXG5pbXBvcnQge0NPTlNUfSBmcm9tICcuL2NvbnN0cyc7XHJcbmltcG9ydCBOZXR3b3JrIGZyb20gJy4vbmV0d29yayc7XHJcbmltcG9ydCBDb29raWVTdG9yYWdlIGZyb20gJy4vY29va2llJztcclxuXHJcbmNsYXNzIFVzZXJDb252ZXJzYXRpb24ge1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRoaXMubmV0d29yayA9IG5ldyBOZXR3b3JrKCk7XHJcbiAgICAgICAgdGhpcy5jb29raWVTdG9yYWdlID0gQ29va2llU3RvcmFnZTtcclxuICAgICAgICB0aGlzLnNldHRpbmdQb3N0ID0ge1xyXG4gICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcclxuICAgICAgICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcclxuICAgICAgICAgICAgICAgICdBY2NlcHQnOiAnYXBwbGljYXRpb24vanNvbidcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgaXNMb2dnZWRJbigpIHtcclxuICAgICAgICByZXR1cm4gISF0aGlzLmdldFRva2VuKCk7XHJcbiAgICB9XHJcblxyXG4gICAgaXNFbWFpbENvbmZpcm1lZCgpIHtcclxuICAgICAgICByZXR1cm4gKHRoaXMuY29va2llU3RvcmFnZS5nZXQoQ09OU1QuY29va2llU3RvcmFnZS5lbWFpbENvbmZpcm1lZCkgPT09ICdjb25maXJtZWQnKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRUb2tlbigpIHtcclxuICAgICAgICBjb25zdCBjb29raWVUb2tlbiA9IHRoaXMuY29va2llU3RvcmFnZS5nZXQoQ09OU1QuY29va2llU3RvcmFnZS50b2tlbik7XHJcbiAgICAgICAgcmV0dXJuIGNvb2tpZVRva2VuO1xyXG4gICAgfVxyXG5cclxuICAgIGdldE1ldGFkYXRhKHRva2VuLCBjYkVycm9yKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubmV0d29yay5zZW5kUmVxdWVzdChgJHtDT05TVC5nZXRQYXRoKCdpbnN0YWdyYW1EaXJlY3RfZ2V0TWV0YURhdGEnKX1gLCB7aGVhZGVyczogeyd0b2tlbic6IHRoaXMuZ2V0VG9rZW4oKX19LCBjYkVycm9yKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRNZXRhZGF0YURldGFpbFVzZXJzKGRldGFpbHMsIGNiRXJyb3IpIHtcclxuICAgICAgICBjb25zdCBjdXJzb3IgPSAoZGV0YWlscy5jdXJzb3IpID8gYD9jdXJzb3I9JHtkZXRhaWxzLmN1cnNvcn1gIDogJyc7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubmV0d29yay5zZW5kUmVxdWVzdChgJHtDT05TVC5nZXRQYXRoKCdpbnN0YWdyYW1EaXJlY3RfZ2V0TWV0YURhdGEnKX0vJHtkZXRhaWxzLnVzZXJuYW1lfSR7Y3Vyc29yfWAsXHJcbiAgICAgICAgIHtoZWFkZXJzOiB7J3Rva2VuJzogdGhpcy5nZXRUb2tlbigpfX0sIGNiRXJyb3IpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldE1ldGFkYXRhRGV0YWlsQ29udmVyc2F0aW9uKHRva2VuLCBkZXRhaWxzLCBjYkVycm9yKSB7XHJcbiAgICAgICAgY29uc3QgY3Vyc29yID0gKGRldGFpbHMuY3Vyc29yKSA/IGA/Y3Vyc29yPSR7ZGV0YWlscy5jdXJzb3J9YCA6ICcnO1xyXG4gICAgICAgIHJldHVybiB0aGlzLm5ldHdvcmsuc2VuZFJlcXVlc3QoYCR7Q09OU1QuZ2V0UGF0aCgnaW5zdGFncmFtRGlyZWN0X2dldE1ldGFEYXRhJyl9LyR7ZGV0YWlscy51c2VybmFtZX0vJHtkZXRhaWxzLmNvbnZlcnNhdGlvbklkfSR7Y3Vyc29yfWAsXHJcbiAgICAgICAgICAgIHtoZWFkZXJzOiB7dG9rZW59fSwgY2JFcnJvcik7XHJcbiAgICB9XHJcbiAgICBwb3N0TWV0YWRhdGFEZXRhaWxDb252ZXJzYXRpb24odG9rZW4sIGRldGFpbHMsIGNiRXJyb3IpIHtcclxuICAgICAgICBjb25zdCBzZXR0aW5nID0ge1xyXG4gICAgICAgICAgICAuLi50aGlzLnNldHRpbmdQb3N0LFxyXG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7J3ZhbHVlJzogZGV0YWlscy52YWx1ZX0pLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgICAgICAgICAuLi50aGlzLnNldHRpbmdQb3N0LmhlYWRlcnMsXHJcbiAgICAgICAgICAgICAgICAndG9rZW4nOiB0aGlzLmdldFRva2VuKClcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubmV0d29yay5zZW5kUmVxdWVzdChgJHtDT05TVC5nZXRQYXRoKCdpbnN0YWdyYW1EaXJlY3RfcG9zdE1lc3NhZ2UnKX0vJHtkZXRhaWxzLnVzZXJuYW1lfS8ke2RldGFpbHMuY29udmVyc2F0aW9uSWR9L3RleHRgLFxyXG4gICAgICAgICAgICBzZXR0aW5nLCBjYkVycm9yKTtcclxuICAgIH1cclxuICAgIC8vIC0tLSBSZXF1ZXN0IFBlbmRpbmdcclxuICAgIGdldFJlcXVlc3RQZW5kaW5nKHVzZXJuYW1lLCBjYkVycm9yKSB7XHJcbiAgICAgICAgLy8gY29uc3QgY3Vyc29yID0gKGRldGFpbHMuY3Vyc29yKSA/IGA/Y3Vyc29yPSR7ZGV0YWlscy5jdXJzb3J9YCA6ICcnO1xyXG4gICAgICAgIHJldHVybiB0aGlzLm5ldHdvcmsuc2VuZFJlcXVlc3QoYCR7Q09OU1QuZ2V0UGF0aCgnaW5zdGFncmFtRGlyZWN0X1JlcXVlc3RQZW5kaW5nJyl9LyR7dXNlcm5hbWV9YCxcclxuICAgICAgICB7aGVhZGVyczogeyd0b2tlbic6IHRoaXMuZ2V0VG9rZW4oKX19LCBjYkVycm9yKTtcclxuICAgIH1cclxuICAgIHB1dFJlcXVlc3RQZW5kaW5nKGNvbmZpcm1Vc2VyRGF0YSwgY2JFcnJvcikge1xyXG4gICAgICAgIGNvbnN0IHNldHRpbmcgPSB7XHJcbiAgICAgICAgICAgIC4uLnRoaXMuc2V0dGluZ1Bvc3QsXHJcbiAgICAgICAgICAgIG1ldGhvZDogJ1BVVCcsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAgICAgICAgIC4uLnRoaXMuc2V0dGluZ1Bvc3QuaGVhZGVycyxcclxuICAgICAgICAgICAgICAgICd0b2tlbic6IHRoaXMuZ2V0VG9rZW4oKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICBjb25zdCB7dXNlcm5hbWUsIGNvbnZlcnNhdGlvbklkfSA9IGNvbmZpcm1Vc2VyRGF0YTtcclxuICAgICAgICByZXR1cm4gdGhpcy5uZXR3b3JrLnNlbmRSZXF1ZXN0KGAke0NPTlNULmdldFBhdGgoJ2luc3RhZ3JhbURpcmVjdF9SZXF1ZXN0UGVuZGluZycpfS8ke3VzZXJuYW1lfS8ke2NvbnZlcnNhdGlvbklkfWAsXHJcbiAgICAgICAgICAgIHNldHRpbmcsIGNiRXJyb3IpO1xyXG4gICAgfVxyXG4gICAgZGVsUmVxdWVzdFBlbmRpbmcoY29uZmlybVVzZXJEYXRhLCBjYkVycm9yKSB7XHJcbiAgICAgICAgY29uc3Qgc2V0dGluZyA9IHtcclxuICAgICAgICAgICAgbWV0aG9kOiAnREVMRVRFJyxcclxuICAgICAgICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICAgICAgICAgLi4udGhpcy5zZXR0aW5nUG9zdC5oZWFkZXJzLFxyXG4gICAgICAgICAgICAgICAgJ3Rva2VuJzogdGhpcy5nZXRUb2tlbigpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIGNvbnN0IHt1c2VybmFtZSwgY29udmVyc2F0aW9uSWR9ID0gY29uZmlybVVzZXJEYXRhO1xyXG4gICAgICAgIHJldHVybiB0aGlzLm5ldHdvcmsuc2VuZFJlcXVlc3QoYCR7Q09OU1QuZ2V0UGF0aCgnaW5zdGFncmFtRGlyZWN0X1JlcXVlc3RQZW5kaW5nJyl9LyR7dXNlcm5hbWV9LyR7Y29udmVyc2F0aW9uSWR9YCxcclxuICAgICAgICAgICAgc2V0dGluZywgY2JFcnJvcik7XHJcbiAgICB9XHJcblxyXG59XHJcblxyXG5sZXQgdXNlckluc3RhbmNlID0gbnVsbDtcclxuXHJcbmlmICghdXNlckluc3RhbmNlKSB7XHJcbiAgICB1c2VySW5zdGFuY2UgPSBuZXcgVXNlckNvbnZlcnNhdGlvbigpO1xyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCB1c2VySW5zdGFuY2U7XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9jb21tb24vanMtc2VydmljZXMvYXBpLXVzZXItZGlyZWN0LmpzIiwiLyohXG4gKiBFbW9qaW9uZUFyZWEgdjMuMC4wXG4gKiBodHRwczovL2dpdGh1Yi5jb20vbWVydmljay9lbW9qaW9uZWFyZWFcbiAqIENvcHlyaWdodCBBbmRyZXkgSXptYW4gYW5kIG90aGVyIGNvbnRyaWJ1dG9yc1xuICogUmVsZWFzZWQgdW5kZXIgdGhlIE1JVCBsaWNlbnNlXG4gKiBEYXRlOiAyMDE2LTA1LTA2VDEwOjMzWlxuICovXG4oZnVuY3Rpb24oZG9jdW1lbnQsIHdpbmRvdywgJCkge1xuICAgICd1c2Ugc3RyaWN0JztcblxuICAgIHZhciB1bmlxdWUgPSAwO1xuICAgIHZhciBldmVudFN0b3JhZ2UgPSB7fTtcbiAgICB2YXIgcG9zc2libGVFdmVudHMgPSB7fTtcbiAgICB2YXIgZW1vamlvbmUgPSB3aW5kb3cuZW1vamlvbmU7XG4gICAgdmFyIHJlYWR5Q2FsbGJhY2tzID0gW107XG4gICAgZnVuY3Rpb24gZW1vamlvbmVSZWFkeSAoZm4pIHtcbiAgICAgICAgaWYgKGVtb2ppb25lKSB7XG4gICAgICAgICAgICBmbigpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVhZHlDYWxsYmFja3MucHVzaChmbik7XG4gICAgICAgIH1cbiAgICB9O1xuICAgIHZhciBibGFua0ltZyA9ICdkYXRhOmltYWdlL2dpZjtiYXNlNjQsUjBsR09EbGhBUUFCQUpIL0FQLy8vd0FBQU1EQXdBQUFBQ0g1QkFFQUFBSUFMQUFBQUFBQkFBRUFBQUlDVkFFQU93PT0nO1xuICAgIHZhciBzbGljZSA9IFtdLnNsaWNlO1xuICAgIHZhciBjc3NfY2xhc3MgPSBcImVtb2ppb25lYXJlYVwiO1xuICAgIHZhciBlbW9qaW9uZVN1cHBvcnRNb2RlID0gMDtcbiAgICBmdW5jdGlvbiB0cmlnZ2VyKHNlbGYsIGV2ZW50LCBhcmdzKSB7XG4gICAgICAgIHZhciByZXN1bHQgPSB0cnVlLCBqID0gMTtcbiAgICAgICAgaWYgKGV2ZW50KSB7XG4gICAgICAgICAgICBldmVudCA9IGV2ZW50LnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICBkbyB7XG4gICAgICAgICAgICAgICAgdmFyIF9ldmVudCA9IGo9PTEgPyAnQCcgKyBldmVudCA6IGV2ZW50O1xuICAgICAgICAgICAgICAgIGlmIChldmVudFN0b3JhZ2Vbc2VsZi5pZF1bX2V2ZW50XSAmJiBldmVudFN0b3JhZ2Vbc2VsZi5pZF1bX2V2ZW50XS5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgJC5lYWNoKGV2ZW50U3RvcmFnZVtzZWxmLmlkXVtfZXZlbnRdLCBmdW5jdGlvbiAoaSwgZm4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiByZXN1bHQgPSBmbi5hcHBseShzZWxmLCBhcmdzfHwgW10pICE9PSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSB3aGlsZSAocmVzdWx0ICYmICEhai0tKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH1cbiAgICBmdW5jdGlvbiBhdHRhY2goc2VsZiwgZWxlbWVudCwgZXZlbnRzLCB0YXJnZXQpIHtcbiAgICAgICAgdGFyZ2V0ID0gdGFyZ2V0IHx8IGZ1bmN0aW9uIChldmVudCwgY2FsbGVyRXZlbnQpIHsgcmV0dXJuICQoY2FsbGVyRXZlbnQuY3VycmVudFRhcmdldCkgfTtcbiAgICAgICAgJC5lYWNoKGV2ZW50cywgZnVuY3Rpb24oZXZlbnQsIGxpbmspIHtcbiAgICAgICAgICAgIGV2ZW50ID0gJC5pc0FycmF5KGV2ZW50cykgPyBsaW5rIDogZXZlbnQ7XG4gICAgICAgICAgICAocG9zc2libGVFdmVudHNbc2VsZi5pZF1bbGlua10gfHwgKHBvc3NpYmxlRXZlbnRzW3NlbGYuaWRdW2xpbmtdID0gW10pKVxuICAgICAgICAgICAgICAgIC5wdXNoKFtlbGVtZW50LCBldmVudCwgdGFyZ2V0XSk7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRUZW1wbGF0ZSh0ZW1wbGF0ZSwgdW5pY29kZSwgc2hvcnRuYW1lKSB7XG4gICAgICAgIHJldHVybiB0ZW1wbGF0ZVxuICAgICAgICAgICAgLnJlcGxhY2UoJ3tuYW1lfScsIHNob3J0bmFtZSB8fCAnJylcbiAgICAgICAgICAgIC5yZXBsYWNlKCd7aW1nfScsIGVtb2ppb25lLmltYWdlUGF0aFBORyArIChlbW9qaW9uZVN1cHBvcnRNb2RlIDwgMiA/IHVuaWNvZGUudG9VcHBlckNhc2UoKSA6IHVuaWNvZGUpICsgJy5wbmcnKVxuICAgICAgICAgICAgLnJlcGxhY2UoJ3t1bml9JywgdW5pY29kZSlcbiAgICAgICAgICAgIC5yZXBsYWNlKCd7YWx0fScsIGVtb2ppb25lLmNvbnZlcnQodW5pY29kZSkpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBzaG9ydG5hbWVUbyhzdHIsIHRlbXBsYXRlLCBjbGVhcikge1xuICAgICAgICByZXR1cm4gc3RyLnJlcGxhY2UoLzo/XFwrP1tcXHdfXFwtXSs6Py9nLCBmdW5jdGlvbihzaG9ydG5hbWUpIHtcbiAgICAgICAgICAgIHNob3J0bmFtZSA9IFwiOlwiICsgc2hvcnRuYW1lLnJlcGxhY2UoLzokLywnJykucmVwbGFjZSgvXjovLCcnKSArIFwiOlwiO1xuICAgICAgICAgICAgdmFyIHVuaWNvZGUgPSBlbW9qaW9uZS5lbW9qaW9uZUxpc3Rbc2hvcnRuYW1lXTtcbiAgICAgICAgICAgIGlmICh1bmljb2RlKSB7XG4gICAgICAgICAgICAgICAgaWYgKGVtb2ppb25lU3VwcG9ydE1vZGUgPiAzKSB1bmljb2RlID0gdW5pY29kZS51bmljb2RlO1xuICAgICAgICAgICAgICAgIHJldHVybiBnZXRUZW1wbGF0ZSh0ZW1wbGF0ZSwgdW5pY29kZVt1bmljb2RlLmxlbmd0aC0xXSwgc2hvcnRuYW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBjbGVhciA/ICcnIDogc2hvcnRuYW1lO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIGZ1bmN0aW9uIHBhc3RlSHRtbEF0Q2FyZXQoaHRtbCkge1xuICAgICAgICB2YXIgc2VsLCByYW5nZTtcbiAgICAgICAgaWYgKHdpbmRvdy5nZXRTZWxlY3Rpb24pIHtcbiAgICAgICAgICAgIHNlbCA9IHdpbmRvdy5nZXRTZWxlY3Rpb24oKTtcbiAgICAgICAgICAgIGlmIChzZWwuZ2V0UmFuZ2VBdCAmJiBzZWwucmFuZ2VDb3VudCkge1xuICAgICAgICAgICAgICAgIHJhbmdlID0gc2VsLmdldFJhbmdlQXQoMCk7XG4gICAgICAgICAgICAgICAgcmFuZ2UuZGVsZXRlQ29udGVudHMoKTtcbiAgICAgICAgICAgICAgICB2YXIgZWwgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xuICAgICAgICAgICAgICAgIGVsLmlubmVySFRNTCA9IGh0bWw7XG4gICAgICAgICAgICAgICAgdmFyIGZyYWcgPSBkb2N1bWVudC5jcmVhdGVEb2N1bWVudEZyYWdtZW50KCksIG5vZGUsIGxhc3ROb2RlO1xuICAgICAgICAgICAgICAgIHdoaWxlICggKG5vZGUgPSBlbC5maXJzdENoaWxkKSApIHtcbiAgICAgICAgICAgICAgICAgICAgbGFzdE5vZGUgPSBmcmFnLmFwcGVuZENoaWxkKG5vZGUpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByYW5nZS5pbnNlcnROb2RlKGZyYWcpO1xuICAgICAgICAgICAgICAgIGlmIChsYXN0Tm9kZSkge1xuICAgICAgICAgICAgICAgICAgICByYW5nZSA9IHJhbmdlLmNsb25lUmFuZ2UoKTtcbiAgICAgICAgICAgICAgICAgICAgcmFuZ2Uuc2V0U3RhcnRBZnRlcihsYXN0Tm9kZSk7XG4gICAgICAgICAgICAgICAgICAgIHJhbmdlLmNvbGxhcHNlKHRydWUpO1xuICAgICAgICAgICAgICAgICAgICBzZWwucmVtb3ZlQWxsUmFuZ2VzKCk7XG4gICAgICAgICAgICAgICAgICAgIHNlbC5hZGRSYW5nZShyYW5nZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2UgaWYgKGRvY3VtZW50LnNlbGVjdGlvbiAmJiBkb2N1bWVudC5zZWxlY3Rpb24udHlwZSAhPSBcIkNvbnRyb2xcIikge1xuICAgICAgICAgICAgZG9jdW1lbnQuc2VsZWN0aW9uLmNyZWF0ZVJhbmdlKCkucGFzdGVIVE1MKGh0bWwpO1xuICAgICAgICB9XG4gICAgfVxuICAgIHZhciBkZWZhdWx0X29wdGlvbnMgPSB7XG4gICAgICAgIGF0dHJpYnV0ZXM6IHtcbiAgICAgICAgICAgIGRpciAgICAgICAgICAgICAgIDogXCJsdHJcIixcbiAgICAgICAgICAgIHNwZWxsY2hlY2sgICAgICAgIDogZmFsc2UsXG4gICAgICAgICAgICBhdXRvY29tcGxldGUgICAgICA6IFwib2ZmXCIsXG4gICAgICAgICAgICBhdXRvY29ycmVjdCAgICAgICA6IFwib2ZmXCIsXG4gICAgICAgICAgICBhdXRvY2FwaXRhbGl6ZSAgICA6IFwib2ZmXCIsXG4gICAgICAgIH0sXG4gICAgICAgIHBsYWNlaG9sZGVyICAgICAgIDogbnVsbCxcbiAgICAgICAgY29udGFpbmVyICAgICAgICAgOiBudWxsLFxuICAgICAgICBoaWRlU291cmNlICAgICAgICA6IHRydWUsXG4gICAgICAgIHNob3J0bmFtZXMgICAgICAgIDogdHJ1ZSxcbiAgICAgICAgc3ByaXRlICAgICAgICAgICAgOiB0cnVlLFxuICAgICAgICBwaWNrZXJQb3NpdGlvbiAgICA6IFwidG9wXCIsIC8vIHRvcCB8IGJvdHRvbSB8IHJpZ2h0XG4gICAgICAgIGZpbHRlcnNQb3NpdGlvbiAgIDogXCJ0b3BcIiwgLy8gdG9wIHwgYm90dG9tXG4gICAgICAgIGhpZGVQaWNrZXJPbkJsdXIgIDogdHJ1ZSxcbiAgICAgICAgYnV0dG9uVGl0bGUgICAgICAgOiBcIlVzZSB0aGUgVEFCIGtleSB0byBpbnNlcnQgZW1vamkgZmFzdGVyXCIsXG4gICAgICAgIHRvbmVzICAgICAgICAgICAgIDogdHJ1ZSxcbiAgICAgICAgdG9uZXNTdHlsZSAgICAgICAgOiBcImJ1bGxldFwiLCAvLyBidWxsZXQgfCByYWRpbyB8IHNxdWFyZSB8IGNoZWNrYm94XG4gICAgICAgIGlubGluZSAgICAgICAgICAgIDogbnVsbCwgLy8gbnVsbCAtIGF1dG9cbiAgICAgICAgc2F2ZUVtb2ppc0FzICAgICAgOiBcInVuaWNvZGVcIiwgLy8gdW5pY29kZSB8IHNob3J0bmFtZSB8IGltYWdlXG4gICAgICAgIHNob3J0Y3V0cyAgICAgICAgIDogdHJ1ZSxcbiAgICAgICAgYXV0b2NvbXBsZXRlICAgICAgOiB0cnVlLFxuICAgICAgICBhdXRvY29tcGxldGVUb25lcyA6IGZhbHNlLFxuXG4gICAgICAgIGZpbHRlcnM6IHtcbiAgICAgICAgICAgIHRvbmVzOiB7XG4gICAgICAgICAgICAgICAgdGl0bGU6IFwiRGl2ZXJzaXR5XCIsXG4gICAgICAgICAgICAgICAgZW1vamk6IFwic2FudGEgcnVubmVyIHN1cmZlciBzd2ltbWVyIGxpZnRlciBlYXIgbm9zZSBwb2ludF91cF8yIHBvaW50X2Rvd24gcG9pbnRfbGVmdCBwb2ludF9yaWdodCBwdW5jaCBcIiArXG4gICAgICAgICAgICAgICAgXCJ3YXZlIG9rX2hhbmQgdGh1bWJzdXAgdGh1bWJzZG93biBjbGFwIG9wZW5faGFuZHMgYm95IGdpcmwgbWFuIHdvbWFuIGNvcCBicmlkZV93aXRoX3ZlaWwgcGVyc29uX3dpdGhfYmxvbmRfaGFpciBcIiArXG4gICAgICAgICAgICAgICAgXCJtYW5fd2l0aF9ndWFfcGlfbWFvIG1hbl93aXRoX3R1cmJhbiBvbGRlcl9tYW4gZ3JhbmRtYSBiYWJ5IGNvbnN0cnVjdGlvbl93b3JrZXIgcHJpbmNlc3MgYW5nZWwgXCIgK1xuICAgICAgICAgICAgICAgIFwiaW5mb3JtYXRpb25fZGVza19wZXJzb24gZ3VhcmRzbWFuIGRhbmNlciBuYWlsX2NhcmUgbWFzc2FnZSBoYWlyY3V0IG11c2NsZSBzcHkgaGFuZF9zcGxheWVkIG1pZGRsZV9maW5nZXIgXCIgK1xuICAgICAgICAgICAgICAgIFwidnVsY2FuIG5vX2dvb2Qgb2tfd29tYW4gYm93IHJhaXNpbmdfaGFuZCByYWlzZWRfaGFuZHMgcGVyc29uX2Zyb3duaW5nIHBlcnNvbl93aXRoX3BvdXRpbmdfZmFjZSBwcmF5IHJvd2JvYXQgXCIgK1xuICAgICAgICAgICAgICAgIFwiYmljeWNsaXN0IG1vdW50YWluX2JpY3ljbGlzdCB3YWxraW5nIGJhdGggbWV0YWwgcG9pbnRfdXAgYmFza2V0YmFsbF9wbGF5ZXIgZmlzdCByYWlzZWRfaGFuZCB2IHdyaXRpbmdfaGFuZFwiXG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICBzbWlsZXlzX3Blb3BsZToge1xuICAgICAgICAgICAgICAgIGljb246IFwieXVtXCIsXG4gICAgICAgICAgICAgICAgdGl0bGU6IFwiU21pbGV5cyAmIFBlb3BsZVwiLFxuICAgICAgICAgICAgICAgIGVtb2ppOiBcImdyaW5uaW5nIGdyaW1hY2luZyBncmluIGpveSBzbWlsZXkgc21pbGUgc3dlYXRfc21pbGUgbGF1Z2hpbmcgaW5ub2NlbnQgd2luayBibHVzaCBzbGlnaHRfc21pbGUgXCIgK1xuICAgICAgICAgICAgICAgIFwidXBzaWRlX2Rvd24gcmVsYXhlZCB5dW0gcmVsaWV2ZWQgaGVhcnRfZXllcyBraXNzaW5nX2hlYXJ0IGtpc3Npbmcga2lzc2luZ19zbWlsaW5nX2V5ZXMgXCIgK1xuICAgICAgICAgICAgICAgIFwia2lzc2luZ19jbG9zZWRfZXllcyBzdHVja19vdXRfdG9uZ3VlX3dpbmtpbmdfZXllIHN0dWNrX291dF90b25ndWVfY2xvc2VkX2V5ZXMgc3R1Y2tfb3V0X3Rvbmd1ZSBcIiArXG4gICAgICAgICAgICAgICAgXCJtb25leV9tb3V0aCBuZXJkIHN1bmdsYXNzZXMgaHVnZ2luZyBzbWlyayBub19tb3V0aCBuZXV0cmFsX2ZhY2UgZXhwcmVzc2lvbmxlc3MgdW5hbXVzZWQgcm9sbGluZ19leWVzIFwiICtcbiAgICAgICAgICAgICAgICBcInRoaW5raW5nIGZsdXNoZWQgZGlzYXBwb2ludGVkIHdvcnJpZWQgYW5ncnkgcmFnZSBwZW5zaXZlIGNvbmZ1c2VkIHNsaWdodF9mcm93biBmcm93bmluZzIgcGVyc2V2ZXJlIFwiICtcbiAgICAgICAgICAgICAgICBcImNvbmZvdW5kZWQgdGlyZWRfZmFjZSB3ZWFyeSB0cml1bXBoIG9wZW5fbW91dGggc2NyZWFtIGZlYXJmdWwgY29sZF9zd2VhdCBodXNoZWQgZnJvd25pbmcgYW5ndWlzaGVkIFwiICtcbiAgICAgICAgICAgICAgICBcImNyeSBkaXNhcHBvaW50ZWRfcmVsaWV2ZWQgc2xlZXB5IHN3ZWF0IHNvYiBkaXp6eV9mYWNlIGFzdG9uaXNoZWQgemlwcGVyX21vdXRoIG1hc2sgdGhlcm1vbWV0ZXJfZmFjZSBcIiArXG4gICAgICAgICAgICAgICAgXCJoZWFkX2JhbmRhZ2Ugc2xlZXBpbmcgenp6IHBvb3Agc21pbGluZ19pbXAgaW1wIGphcGFuZXNlX29ncmUgamFwYW5lc2VfZ29ibGluIHNrdWxsIGdob3N0IGFsaWVuIHJvYm90IFwiICtcbiAgICAgICAgICAgICAgICBcInNtaWxleV9jYXQgc21pbGVfY2F0IGpveV9jYXQgaGVhcnRfZXllc19jYXQgc21pcmtfY2F0IGtpc3NpbmdfY2F0IHNjcmVhbV9jYXQgY3J5aW5nX2NhdF9mYWNlIFwiICtcbiAgICAgICAgICAgICAgICBcInBvdXRpbmdfY2F0IHJhaXNlZF9oYW5kcyBjbGFwIHdhdmUgdGh1bWJzdXAgdGh1bWJzZG93biBwdW5jaCBmaXN0IHYgb2tfaGFuZCByYWlzZWRfaGFuZCBvcGVuX2hhbmRzIFwiICtcbiAgICAgICAgICAgICAgICBcIm11c2NsZSBwcmF5IHBvaW50X3VwIHBvaW50X3VwXzIgcG9pbnRfZG93biBwb2ludF9sZWZ0IHBvaW50X3JpZ2h0IG1pZGRsZV9maW5nZXIgaGFuZF9zcGxheWVkIG1ldGFsIFwiICtcbiAgICAgICAgICAgICAgICBcInZ1bGNhbiB3cml0aW5nX2hhbmQgbmFpbF9jYXJlIGxpcHMgdG9uZ3VlIGVhciBub3NlIGV5ZSBleWVzIGJ1c3RfaW5fc2lsaG91ZXR0ZSBidXN0c19pbl9zaWxob3VldHRlIFwiICtcbiAgICAgICAgICAgICAgICBcInNwZWFraW5nX2hlYWQgYmFieSBib3kgZ2lybCBtYW4gd29tYW4gcGVyc29uX3dpdGhfYmxvbmRfaGFpciBvbGRlcl9tYW4gb2xkZXJfd29tYW4gbWFuX3dpdGhfZ3VhX3BpX21hbyBcIiArXG4gICAgICAgICAgICAgICAgXCJtYW5fd2l0aF90dXJiYW4gY29wIGNvbnN0cnVjdGlvbl93b3JrZXIgZ3VhcmRzbWFuIHNweSBzYW50YSBhbmdlbCBwcmluY2VzcyBicmlkZV93aXRoX3ZlaWwgd2Fsa2luZyBcIiArXG4gICAgICAgICAgICAgICAgXCJydW5uZXIgZGFuY2VyIGRhbmNlcnMgY291cGxlIHR3b19tZW5faG9sZGluZ19oYW5kcyB0d29fd29tZW5faG9sZGluZ19oYW5kcyBib3cgaW5mb3JtYXRpb25fZGVza19wZXJzb24gXCIgK1xuICAgICAgICAgICAgICAgIFwibm9fZ29vZCBva193b21hbiByYWlzaW5nX2hhbmQgcGVyc29uX3dpdGhfcG91dGluZ19mYWNlIHBlcnNvbl9mcm93bmluZyBoYWlyY3V0IG1hc3NhZ2UgY291cGxlX3dpdGhfaGVhcnQgXCIgK1xuICAgICAgICAgICAgICAgIFwiY291cGxlX3d3IGNvdXBsZV9tbSBjb3VwbGVraXNzIGtpc3Nfd3cga2lzc19tbSBmYW1pbHkgZmFtaWx5X213ZyBmYW1pbHlfbXdnYiBmYW1pbHlfbXdiYiBmYW1pbHlfbXdnZyBcIiArXG4gICAgICAgICAgICAgICAgXCJmYW1pbHlfd3diIGZhbWlseV93d2cgZmFtaWx5X3d3Z2IgZmFtaWx5X3d3YmIgZmFtaWx5X3d3Z2cgZmFtaWx5X21tYiBmYW1pbHlfbW1nIGZhbWlseV9tbWdiIGZhbWlseV9tbWJiIFwiICtcbiAgICAgICAgICAgICAgICBcImZhbWlseV9tbWdnIHdvbWFuc19jbG90aGVzIHNoaXJ0IGplYW5zIG5lY2t0aWUgZHJlc3MgYmlraW5pIGtpbW9ubyBsaXBzdGljayBraXNzIGZvb3RwcmludHMgaGlnaF9oZWVsIFwiICtcbiAgICAgICAgICAgICAgICBcInNhbmRhbCBib290IG1hbnNfc2hvZSBhdGhsZXRpY19zaG9lIHdvbWFuc19oYXQgdG9waGF0IGhlbG1ldF93aXRoX2Nyb3NzIG1vcnRhcl9ib2FyZCBjcm93biBzY2hvb2xfc2F0Y2hlbCBcIiArXG4gICAgICAgICAgICAgICAgXCJwb3VjaCBwdXJzZSBoYW5kYmFnIGJyaWVmY2FzZSBleWVnbGFzc2VzIGRhcmtfc3VuZ2xhc3NlcyByaW5nIGNsb3NlZF91bWJyZWxsYVwiXG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICBhbmltYWxzX25hdHVyZToge1xuICAgICAgICAgICAgICAgIGljb246IFwiaGFtc3RlclwiLFxuICAgICAgICAgICAgICAgIHRpdGxlOiBcIkFuaW1hbHMgJiBOYXR1cmVcIixcbiAgICAgICAgICAgICAgICBlbW9qaTogXCJkb2cgY2F0IG1vdXNlIGhhbXN0ZXIgcmFiYml0IGJlYXIgcGFuZGFfZmFjZSBrb2FsYSB0aWdlciBsaW9uX2ZhY2UgY293IHBpZyBwaWdfbm9zZSBmcm9nIFwiICtcbiAgICAgICAgICAgICAgICBcIm9jdG9wdXMgbW9ua2V5X2ZhY2Ugc2VlX25vX2V2aWwgaGVhcl9ub19ldmlsIHNwZWFrX25vX2V2aWwgbW9ua2V5IGNoaWNrZW4gcGVuZ3VpbiBiaXJkIGJhYnlfY2hpY2sgXCIgK1xuICAgICAgICAgICAgICAgIFwiaGF0Y2hpbmdfY2hpY2sgaGF0Y2hlZF9jaGljayB3b2xmIGJvYXIgaG9yc2UgdW5pY29ybiBiZWUgYnVnIHNuYWlsIGJlZXRsZSBhbnQgc3BpZGVyIHNjb3JwaW9uIGNyYWIgXCIgK1xuICAgICAgICAgICAgICAgIFwic25ha2UgdHVydGxlIHRyb3BpY2FsX2Zpc2ggZmlzaCBibG93ZmlzaCBkb2xwaGluIHdoYWxlIHdoYWxlMiBjcm9jb2RpbGUgbGVvcGFyZCB0aWdlcjIgd2F0ZXJfYnVmZmFsbyBcIiArXG4gICAgICAgICAgICAgICAgXCJveCBjb3cyIGRyb21lZGFyeV9jYW1lbCBjYW1lbCBlbGVwaGFudCBnb2F0IHJhbSBzaGVlcCByYWNlaG9yc2UgcGlnMiByYXQgbW91c2UyIHJvb3N0ZXIgdHVya2V5IGRvdmUgXCIgK1xuICAgICAgICAgICAgICAgIFwiZG9nMiBwb29kbGUgY2F0MiByYWJiaXQyIGNoaXBtdW5rIGZlZXQgZHJhZ29uIGRyYWdvbl9mYWNlIGNhY3R1cyBjaHJpc3RtYXNfdHJlZSBldmVyZ3JlZW5fdHJlZSBcIiArXG4gICAgICAgICAgICAgICAgXCJkZWNpZHVvdXNfdHJlZSBwYWxtX3RyZWUgc2VlZGxpbmcgaGVyYiBzaGFtcm9jayBmb3VyX2xlYWZfY2xvdmVyIGJhbWJvbyB0YW5hYmF0YV90cmVlIGxlYXZlcyBcIiArXG4gICAgICAgICAgICAgICAgXCJmYWxsZW5fbGVhZiBtYXBsZV9sZWFmIGVhcl9vZl9yaWNlIGhpYmlzY3VzIHN1bmZsb3dlciByb3NlIHR1bGlwIGJsb3Nzb20gY2hlcnJ5X2Jsb3Nzb20gYm91cXVldCBcIiArXG4gICAgICAgICAgICAgICAgXCJtdXNocm9vbSBjaGVzdG51dCBqYWNrX29fbGFudGVybiBzaGVsbCBzcGlkZXJfd2ViIGVhcnRoX2FtZXJpY2FzIGVhcnRoX2FmcmljYSBlYXJ0aF9hc2lhIGZ1bGxfbW9vbiBcIiArXG4gICAgICAgICAgICAgICAgXCJ3YW5pbmdfZ2liYm91c19tb29uIGxhc3RfcXVhcnRlcl9tb29uIHdhbmluZ19jcmVzY2VudF9tb29uIG5ld19tb29uIHdheGluZ19jcmVzY2VudF9tb29uIFwiICtcbiAgICAgICAgICAgICAgICBcImZpcnN0X3F1YXJ0ZXJfbW9vbiB3YXhpbmdfZ2liYm91c19tb29uIG5ld19tb29uX3dpdGhfZmFjZSBmdWxsX21vb25fd2l0aF9mYWNlIGZpcnN0X3F1YXJ0ZXJfbW9vbl93aXRoX2ZhY2UgXCIgK1xuICAgICAgICAgICAgICAgIFwibGFzdF9xdWFydGVyX21vb25fd2l0aF9mYWNlIHN1bl93aXRoX2ZhY2UgY3Jlc2NlbnRfbW9vbiBzdGFyIHN0YXIyIGRpenp5IHNwYXJrbGVzIGNvbWV0IHN1bm55IFwiICtcbiAgICAgICAgICAgICAgICBcIndoaXRlX3N1bl9zbWFsbF9jbG91ZCBwYXJ0bHlfc3Vubnkgd2hpdGVfc3VuX2Nsb3VkIHdoaXRlX3N1bl9yYWluX2Nsb3VkIGNsb3VkIGNsb3VkX3JhaW4gXCIgK1xuICAgICAgICAgICAgICAgIFwidGh1bmRlcl9jbG91ZF9yYWluIGNsb3VkX2xpZ2h0bmluZyB6YXAgZmlyZSBib29tIHNub3dmbGFrZSBjbG91ZF9zbm93IHNub3dtYW4yIHNub3dtYW4gd2luZF9ibG93aW5nX2ZhY2UgXCIgK1xuICAgICAgICAgICAgICAgIFwiZGFzaCBjbG91ZF90b3JuYWRvIGZvZyB1bWJyZWxsYTIgdW1icmVsbGEgZHJvcGxldCBzd2VhdF9kcm9wcyBvY2VhblwiXG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICBmb29kX2RyaW5rOiB7XG4gICAgICAgICAgICAgICAgaWNvbjogXCJwaXp6YVwiLFxuICAgICAgICAgICAgICAgIHRpdGxlOiBcIkZvb2QgJiBEcmlua1wiLFxuICAgICAgICAgICAgICAgIGVtb2ppOiBcImdyZWVuX2FwcGxlIGFwcGxlIHBlYXIgdGFuZ2VyaW5lIGxlbW9uIGJhbmFuYSB3YXRlcm1lbG9uIGdyYXBlcyBzdHJhd2JlcnJ5IG1lbG9uIGNoZXJyaWVzIHBlYWNoIFwiICtcbiAgICAgICAgICAgICAgICBcInBpbmVhcHBsZSB0b21hdG8gZWdncGxhbnQgaG90X3BlcHBlciBjb3JuIHN3ZWV0X3BvdGF0byBob25leV9wb3QgYnJlYWQgY2hlZXNlIHBvdWx0cnlfbGVnIG1lYXRfb25fYm9uZSBcIiArXG4gICAgICAgICAgICAgICAgXCJmcmllZF9zaHJpbXAgZWdnIGhhbWJ1cmdlciBmcmllcyBob3Rkb2cgcGl6emEgc3BhZ2hldHRpIHRhY28gYnVycml0byByYW1lbiBzdGV3IGZpc2hfY2FrZSBzdXNoaSBiZW50byBcIiArXG4gICAgICAgICAgICAgICAgXCJjdXJyeSByaWNlX2JhbGwgcmljZSByaWNlX2NyYWNrZXIgb2RlbiBkYW5nbyBzaGF2ZWRfaWNlIGljZV9jcmVhbSBpY2VjcmVhbSBjYWtlIGJpcnRoZGF5IGN1c3RhcmQgY2FuZHkgXCIgK1xuICAgICAgICAgICAgICAgIFwibG9sbGlwb3AgY2hvY29sYXRlX2JhciBwb3Bjb3JuIGRvdWdobnV0IGNvb2tpZSBiZWVyIGJlZXJzIHdpbmVfZ2xhc3MgY29ja3RhaWwgdHJvcGljYWxfZHJpbmsgY2hhbXBhZ25lIFwiICtcbiAgICAgICAgICAgICAgICBcInNha2UgdGVhIGNvZmZlZSBiYWJ5X2JvdHRsZSBmb3JrX2FuZF9rbmlmZSBmb3JrX2tuaWZlX3BsYXRlXCJcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIGFjdGl2aXR5OiB7XG4gICAgICAgICAgICAgICAgaWNvbjogXCJiYXNrZXRiYWxsXCIsXG4gICAgICAgICAgICAgICAgdGl0bGU6IFwiQWN0aXZpdHlcIixcbiAgICAgICAgICAgICAgICBlbW9qaTogXCJzb2NjZXIgYmFza2V0YmFsbCBmb290YmFsbCBiYXNlYmFsbCB0ZW5uaXMgdm9sbGV5YmFsbCBydWdieV9mb290YmFsbCA4YmFsbCBnb2xmIGdvbGZlciBwaW5nX3BvbmcgXCIgK1xuICAgICAgICAgICAgICAgIFwiYmFkbWludG9uIGhvY2tleSBmaWVsZF9ob2NrZXkgY3JpY2tldCBza2kgc2tpZXIgc25vd2JvYXJkZXIgaWNlX3NrYXRlIGJvd19hbmRfYXJyb3cgZmlzaGluZ19wb2xlX2FuZF9maXNoIFwiICtcbiAgICAgICAgICAgICAgICBcInJvd2JvYXQgc3dpbW1lciBzdXJmZXIgYmF0aCBiYXNrZXRiYWxsX3BsYXllciBsaWZ0ZXIgYmljeWNsaXN0IG1vdW50YWluX2JpY3ljbGlzdCBob3JzZV9yYWNpbmcgbGV2aXRhdGUgXCIgK1xuICAgICAgICAgICAgICAgIFwidHJvcGh5IHJ1bm5pbmdfc2hpcnRfd2l0aF9zYXNoIG1lZGFsIG1pbGl0YXJ5X21lZGFsIHJlbWluZGVyX3JpYmJvbiByb3NldHRlIHRpY2tldCB0aWNrZXRzIHBlcmZvcm1pbmdfYXJ0cyBcIiArXG4gICAgICAgICAgICAgICAgXCJhcnQgY2lyY3VzX3RlbnQgbWljcm9waG9uZSBoZWFkcGhvbmVzIG11c2ljYWxfc2NvcmUgbXVzaWNhbF9rZXlib2FyZCBzYXhvcGhvbmUgdHJ1bXBldCBndWl0YXIgdmlvbGluIFwiICtcbiAgICAgICAgICAgICAgICBcImNsYXBwZXIgdmlkZW9fZ2FtZSBzcGFjZV9pbnZhZGVyIGRhcnQgZ2FtZV9kaWUgc2xvdF9tYWNoaW5lIGJvd2xpbmdcIlxuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgdHJhdmVsX3BsYWNlczoge1xuICAgICAgICAgICAgICAgIGljb246IFwicm9ja2V0XCIsXG4gICAgICAgICAgICAgICAgdGl0bGU6IFwiVHJhdmVsICYgUGxhY2VzXCIsXG4gICAgICAgICAgICAgICAgZW1vamk6IFwicmVkX2NhciB0YXhpIGJsdWVfY2FyIGJ1cyB0cm9sbGV5YnVzIHJhY2VfY2FyIHBvbGljZV9jYXIgYW1idWxhbmNlIGZpcmVfZW5naW5lIG1pbmlidXMgdHJ1Y2sgXCIgK1xuICAgICAgICAgICAgICAgIFwiYXJ0aWN1bGF0ZWRfbG9ycnkgdHJhY3RvciBtb3RvcmN5Y2xlIGJpa2Ugcm90YXRpbmdfbGlnaHQgb25jb21pbmdfcG9saWNlX2NhciBvbmNvbWluZ19idXMgXCIgK1xuICAgICAgICAgICAgICAgIFwib25jb21pbmdfYXV0b21vYmlsZSBvbmNvbWluZ190YXhpIGFlcmlhbF90cmFtd2F5IG1vdW50YWluX2NhYmxld2F5IHN1c3BlbnNpb25fcmFpbHdheSByYWlsd2F5X2NhciBcIiArXG4gICAgICAgICAgICAgICAgXCJ0cmFpbiBtb25vcmFpbCBidWxsZXR0cmFpbl9zaWRlIGJ1bGxldHRyYWluX2Zyb250IGxpZ2h0X3JhaWwgbW91bnRhaW5fcmFpbHdheSBzdGVhbV9sb2NvbW90aXZlIHRyYWluMiBcIiArXG4gICAgICAgICAgICAgICAgXCJtZXRybyB0cmFtIHN0YXRpb24gaGVsaWNvcHRlciBhaXJwbGFuZV9zbWFsbCBhaXJwbGFuZSBhaXJwbGFuZV9kZXBhcnR1cmUgYWlycGxhbmVfYXJyaXZpbmcgc2FpbGJvYXQgXCIgK1xuICAgICAgICAgICAgICAgIFwibW90b3Jib2F0IHNwZWVkYm9hdCBmZXJyeSBjcnVpc2Vfc2hpcCByb2NrZXQgc2F0ZWxsaXRlX29yYml0YWwgc2VhdCBhbmNob3IgY29uc3RydWN0aW9uIGZ1ZWxwdW1wIGJ1c3N0b3AgXCIgK1xuICAgICAgICAgICAgICAgIFwidmVydGljYWxfdHJhZmZpY19saWdodCB0cmFmZmljX2xpZ2h0IGNoZWNrZXJlZF9mbGFnIHNoaXAgZmVycmlzX3doZWVsIHJvbGxlcl9jb2FzdGVyIGNhcm91c2VsX2hvcnNlIFwiICtcbiAgICAgICAgICAgICAgICBcImNvbnN0cnVjdGlvbl9zaXRlIGZvZ2d5IHRva3lvX3Rvd2VyIGZhY3RvcnkgZm91bnRhaW4gcmljZV9zY2VuZSBtb3VudGFpbiBtb3VudGFpbl9zbm93IG1vdW50X2Z1amkgdm9sY2FubyBcIiArXG4gICAgICAgICAgICAgICAgXCJqYXBhbiBjYW1waW5nIHRlbnQgcGFyayBtb3RvcndheSByYWlsd2F5X3RyYWNrIHN1bnJpc2Ugc3VucmlzZV9vdmVyX21vdW50YWlucyBkZXNlcnQgYmVhY2ggaXNsYW5kIFwiICtcbiAgICAgICAgICAgICAgICBcImNpdHlfc3Vuc2V0IGNpdHlfZHVzayBjaXR5c2NhcGUgbmlnaHRfd2l0aF9zdGFycyBicmlkZ2VfYXRfbmlnaHQgbWlsa3lfd2F5IHN0YXJzIHNwYXJrbGVyIGZpcmV3b3JrcyBcIiArXG4gICAgICAgICAgICAgICAgXCJyYWluYm93IGhvbWVzIGV1cm9wZWFuX2Nhc3RsZSBqYXBhbmVzZV9jYXN0bGUgc3RhZGl1bSBzdGF0dWVfb2ZfbGliZXJ0eSBob3VzZSBob3VzZV93aXRoX2dhcmRlbiBcIiArXG4gICAgICAgICAgICAgICAgXCJob3VzZV9hYmFuZG9uZWQgb2ZmaWNlIGRlcGFydG1lbnRfc3RvcmUgcG9zdF9vZmZpY2UgZXVyb3BlYW5fcG9zdF9vZmZpY2UgaG9zcGl0YWwgYmFuayBob3RlbCBcIiArXG4gICAgICAgICAgICAgICAgXCJjb252ZW5pZW5jZV9zdG9yZSBzY2hvb2wgbG92ZV9ob3RlbCB3ZWRkaW5nIGNsYXNzaWNhbF9idWlsZGluZyBjaHVyY2ggbW9zcXVlIHN5bmFnb2d1ZSBrYWFiYSBzaGludG9fc2hyaW5lXCJcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIG9iamVjdHM6IHtcbiAgICAgICAgICAgICAgICBpY29uOiBcImJ1bGJcIixcbiAgICAgICAgICAgICAgICB0aXRsZTogXCJPYmplY3RzXCIsXG4gICAgICAgICAgICAgICAgZW1vamk6IFwid2F0Y2ggaXBob25lIGNhbGxpbmcgY29tcHV0ZXIga2V5Ym9hcmQgZGVza3RvcCBwcmludGVyIG1vdXNlX3RocmVlX2J1dHRvbiB0cmFja2JhbGwgam95c3RpY2sgXCIgK1xuICAgICAgICAgICAgICAgIFwiY29tcHJlc3Npb24gbWluaWRpc2MgZmxvcHB5X2Rpc2sgY2QgZHZkIHZocyBjYW1lcmEgY2FtZXJhX3dpdGhfZmxhc2ggdmlkZW9fY2FtZXJhIG1vdmllX2NhbWVyYSBwcm9qZWN0b3IgXCIgK1xuICAgICAgICAgICAgICAgIFwiZmlsbV9mcmFtZXMgdGVsZXBob25lX3JlY2VpdmVyIHRlbGVwaG9uZSBwYWdlciBmYXggdHYgcmFkaW8gbWljcm9waG9uZTIgbGV2ZWxfc2xpZGVyIGNvbnRyb2xfa25vYnMgXCIgK1xuICAgICAgICAgICAgICAgIFwic3RvcHdhdGNoIHRpbWVyIGFsYXJtX2Nsb2NrIGNsb2NrIGhvdXJnbGFzc19mbG93aW5nX3NhbmQgaG91cmdsYXNzIHNhdGVsbGl0ZSBiYXR0ZXJ5IGVsZWN0cmljX3BsdWcgYnVsYiBcIiArXG4gICAgICAgICAgICAgICAgXCJmbGFzaGxpZ2h0IGNhbmRsZSB3YXN0ZWJhc2tldCBvaWwgbW9uZXlfd2l0aF93aW5ncyBkb2xsYXIgeWVuIGV1cm8gcG91bmQgbW9uZXliYWcgY3JlZGl0X2NhcmQgZ2VtIHNjYWxlcyBcIiArXG4gICAgICAgICAgICAgICAgXCJ3cmVuY2ggaGFtbWVyIGhhbW1lcl9waWNrIHRvb2xzIHBpY2sgbnV0X2FuZF9ib2x0IGdlYXIgY2hhaW5zIGd1biBib21iIGtuaWZlIGRhZ2dlciBjcm9zc2VkX3N3b3JkcyBzaGllbGQgXCIgK1xuICAgICAgICAgICAgICAgIFwic21va2luZyBza3VsbF9jcm9zc2JvbmVzIGNvZmZpbiB1cm4gYW1waG9yYSBjcnlzdGFsX2JhbGwgcHJheWVyX2JlYWRzIGJhcmJlciBhbGVtYmljIHRlbGVzY29wZSBtaWNyb3Njb3BlIFwiICtcbiAgICAgICAgICAgICAgICBcImhvbGUgcGlsbCBzeXJpbmdlIHRoZXJtb21ldGVyIGxhYmVsIGJvb2ttYXJrIHRvaWxldCBzaG93ZXIgYmF0aHR1YiBrZXkga2V5MiBjb3VjaCBzbGVlcGluZ19hY2NvbW1vZGF0aW9uIFwiICtcbiAgICAgICAgICAgICAgICBcImJlZCBkb29yIGJlbGxob3AgZnJhbWVfcGhvdG8gbWFwIGJlYWNoX3VtYnJlbGxhIG1veWFpIHNob3BwaW5nX2JhZ3MgYmFsbG9vbiBmbGFncyByaWJib24gZ2lmdCBjb25mZXR0aV9iYWxsIFwiICtcbiAgICAgICAgICAgICAgICBcInRhZGEgZG9sbHMgd2luZF9jaGltZSBjcm9zc2VkX2ZsYWdzIGl6YWtheWFfbGFudGVybiBlbnZlbG9wZSBlbnZlbG9wZV93aXRoX2Fycm93IGluY29taW5nX2VudmVsb3BlIGUtbWFpbCBcIiArXG4gICAgICAgICAgICAgICAgXCJsb3ZlX2xldHRlciBwb3N0Ym94IG1haWxib3hfY2xvc2VkIG1haWxib3ggbWFpbGJveF93aXRoX21haWwgbWFpbGJveF93aXRoX25vX21haWwgcGFja2FnZSBwb3N0YWxfaG9ybiBcIiArXG4gICAgICAgICAgICAgICAgXCJpbmJveF90cmF5IG91dGJveF90cmF5IHNjcm9sbCBwYWdlX3dpdGhfY3VybCBib29rbWFya190YWJzIGJhcl9jaGFydCBjaGFydF93aXRoX3Vwd2FyZHNfdHJlbmQgXCIgK1xuICAgICAgICAgICAgICAgIFwiY2hhcnRfd2l0aF9kb3dud2FyZHNfdHJlbmQgcGFnZV9mYWNpbmdfdXAgZGF0ZSBjYWxlbmRhciBjYWxlbmRhcl9zcGlyYWwgY2FyZF9pbmRleCBjYXJkX2JveCBiYWxsb3RfYm94IFwiICtcbiAgICAgICAgICAgICAgICBcImZpbGVfY2FiaW5ldCBjbGlwYm9hcmQgbm90ZXBhZF9zcGlyYWwgZmlsZV9mb2xkZXIgb3Blbl9maWxlX2ZvbGRlciBkaXZpZGVycyBuZXdzcGFwZXIyIG5ld3NwYXBlciBub3RlYm9vayBcIiArXG4gICAgICAgICAgICAgICAgXCJjbG9zZWRfYm9vayBncmVlbl9ib29rIGJsdWVfYm9vayBvcmFuZ2VfYm9vayBub3RlYm9va193aXRoX2RlY29yYXRpdmVfY292ZXIgbGVkZ2VyIGJvb2tzIGJvb2sgbGluayBcIiArXG4gICAgICAgICAgICAgICAgXCJwYXBlcmNsaXAgcGFwZXJjbGlwcyBzY2lzc29ycyB0cmlhbmd1bGFyX3J1bGVyIHN0cmFpZ2h0X3J1bGVyIHB1c2hwaW4gcm91bmRfcHVzaHBpbiB0cmlhbmd1bGFyX2ZsYWdfb25fcG9zdCBcIiArXG4gICAgICAgICAgICAgICAgXCJmbGFnX3doaXRlIGZsYWdfYmxhY2sgY2xvc2VkX2xvY2tfd2l0aF9rZXkgbG9jayB1bmxvY2sgbG9ja193aXRoX2lua19wZW4gcGVuX2JhbGxwb2ludCBwZW5fZm91bnRhaW4gXCIgK1xuICAgICAgICAgICAgICAgIFwiYmxhY2tfbmliIHBlbmNpbCBwZW5jaWwyIGNyYXlvbiBwYWludGJydXNoIG1hZyBtYWdfcmlnaHRcIlxuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgc3ltYm9sczoge1xuICAgICAgICAgICAgICAgIGljb246IFwiaGVhcnRwdWxzZVwiLFxuICAgICAgICAgICAgICAgIHRpdGxlOiBcIlN5bWJvbHNcIixcbiAgICAgICAgICAgICAgICBlbW9qaTogXCJoZWFydCB5ZWxsb3dfaGVhcnQgZ3JlZW5faGVhcnQgYmx1ZV9oZWFydCBwdXJwbGVfaGVhcnQgYnJva2VuX2hlYXJ0IGhlYXJ0X2V4Y2xhbWF0aW9uIHR3b19oZWFydHMgXCIgK1xuICAgICAgICAgICAgICAgIFwicmV2b2x2aW5nX2hlYXJ0cyBoZWFydGJlYXQgaGVhcnRwdWxzZSBzcGFya2xpbmdfaGVhcnQgY3VwaWQgZ2lmdF9oZWFydCBoZWFydF9kZWNvcmF0aW9uIHBlYWNlIGNyb3NzIFwiICtcbiAgICAgICAgICAgICAgICBcInN0YXJfYW5kX2NyZXNjZW50IG9tX3N5bWJvbCB3aGVlbF9vZl9kaGFybWEgc3Rhcl9vZl9kYXZpZCBzaXhfcG9pbnRlZF9zdGFyIG1lbm9yYWggeWluX3lhbmcgb3J0aG9kb3hfY3Jvc3MgXCIgK1xuICAgICAgICAgICAgICAgIFwicGxhY2Vfb2Zfd29yc2hpcCBvcGhpdWNodXMgYXJpZXMgdGF1cnVzIGdlbWluaSBjYW5jZXIgbGVvIHZpcmdvIGxpYnJhIHNjb3JwaXVzIHNhZ2l0dGFyaXVzIGNhcHJpY29ybiBcIiArXG4gICAgICAgICAgICAgICAgXCJhcXVhcml1cyBwaXNjZXMgaWQgYXRvbSB1N2E3YSB1NTI3MiByYWRpb2FjdGl2ZSBiaW9oYXphcmQgbW9iaWxlX3Bob25lX29mZiB2aWJyYXRpb25fbW9kZSB1NjcwOSB1NzEyMSBcIiArXG4gICAgICAgICAgICAgICAgXCJ1NzUzMyB1NTViNiB1NjcwOCBlaWdodF9wb2ludGVkX2JsYWNrX3N0YXIgdnMgYWNjZXB0IHdoaXRlX2Zsb3dlciBpZGVvZ3JhcGhfYWR2YW50YWdlIHNlY3JldCBjb25ncmF0dWxhdGlvbnMgXCIgK1xuICAgICAgICAgICAgICAgIFwidTU0MDggdTZlODAgdTc5ODEgYSBiIGFiIGNsIG8yIHNvcyBub19lbnRyeSBuYW1lX2JhZGdlIG5vX2VudHJ5X3NpZ24geCBvIGFuZ2VyIGhvdHNwcmluZ3Mgbm9fcGVkZXN0cmlhbnMgXCIgK1xuICAgICAgICAgICAgICAgIFwiZG9fbm90X2xpdHRlciBub19iaWN5Y2xlcyBub24tcG90YWJsZV93YXRlciB1bmRlcmFnZSBub19tb2JpbGVfcGhvbmVzIGV4Y2xhbWF0aW9uIGdyZXlfZXhjbGFtYXRpb24gcXVlc3Rpb24gXCIgK1xuICAgICAgICAgICAgICAgIFwiZ3JleV9xdWVzdGlvbiBiYW5nYmFuZyBpbnRlcnJvYmFuZyAxMDAgbG93X2JyaWdodG5lc3MgaGlnaF9icmlnaHRuZXNzIHRyaWRlbnQgZmxldXItZGUtbGlzIHBhcnRfYWx0ZXJuYXRpb25fbWFyayBcIiArXG4gICAgICAgICAgICAgICAgXCJ3YXJuaW5nIGNoaWxkcmVuX2Nyb3NzaW5nIGJlZ2lubmVyIHJlY3ljbGUgdTYzMDcgY2hhcnQgc3BhcmtsZSBlaWdodF9zcG9rZWRfYXN0ZXJpc2sgbmVnYXRpdmVfc3F1YXJlZF9jcm9zc19tYXJrIFwiICtcbiAgICAgICAgICAgICAgICBcIndoaXRlX2NoZWNrX21hcmsgZGlhbW9uZF9zaGFwZV93aXRoX2FfZG90X2luc2lkZSBjeWNsb25lIGxvb3AgZ2xvYmVfd2l0aF9tZXJpZGlhbnMgbSBhdG0gc2EgcGFzc3BvcnRfY29udHJvbCBcIiArXG4gICAgICAgICAgICAgICAgXCJjdXN0b21zIGJhZ2dhZ2VfY2xhaW0gbGVmdF9sdWdnYWdlIHdoZWVsY2hhaXIgbm9fc21va2luZyB3YyBwYXJraW5nIHBvdGFibGVfd2F0ZXIgbWVucyB3b21lbnMgYmFieV9zeW1ib2wgXCIgK1xuICAgICAgICAgICAgICAgIFwicmVzdHJvb20gcHV0X2xpdHRlcl9pbl9pdHNfcGxhY2UgY2luZW1hIHNpZ25hbF9zdHJlbmd0aCBrb2tvIG5nIG9rIHVwIGNvb2wgbmV3IGZyZWUgemVybyBvbmUgdHdvIHRocmVlIGZvdXIgXCIgK1xuICAgICAgICAgICAgICAgIFwiZml2ZSBzaXggc2V2ZW4gZWlnaHQgbmluZSB0ZW4gMTIzNCBhcnJvd19mb3J3YXJkIHBhdXNlX2J1dHRvbiBwbGF5X3BhdXNlIHN0b3BfYnV0dG9uIHJlY29yZF9idXR0b24gdHJhY2tfbmV4dCBcIiArXG4gICAgICAgICAgICAgICAgXCJ0cmFja19wcmV2aW91cyBmYXN0X2ZvcndhcmQgcmV3aW5kIHR3aXN0ZWRfcmlnaHR3YXJkc19hcnJvd3MgcmVwZWF0IHJlcGVhdF9vbmUgYXJyb3dfYmFja3dhcmQgYXJyb3dfdXBfc21hbGwgXCIgK1xuICAgICAgICAgICAgICAgIFwiYXJyb3dfZG93bl9zbWFsbCBhcnJvd19kb3VibGVfdXAgYXJyb3dfZG91YmxlX2Rvd24gYXJyb3dfcmlnaHQgYXJyb3dfbGVmdCBhcnJvd191cCBhcnJvd19kb3duIGFycm93X3VwcGVyX3JpZ2h0IFwiICtcbiAgICAgICAgICAgICAgICBcImFycm93X2xvd2VyX3JpZ2h0IGFycm93X2xvd2VyX2xlZnQgYXJyb3dfdXBwZXJfbGVmdCBhcnJvd191cF9kb3duIGxlZnRfcmlnaHRfYXJyb3cgYXJyb3dzX2NvdW50ZXJjbG9ja3dpc2UgXCIgK1xuICAgICAgICAgICAgICAgIFwiYXJyb3dfcmlnaHRfaG9vayBsZWZ0d2FyZHNfYXJyb3dfd2l0aF9ob29rIGFycm93X2hlYWRpbmdfdXAgYXJyb3dfaGVhZGluZ19kb3duIGhhc2ggYXN0ZXJpc2sgaW5mb3JtYXRpb25fc291cmNlIFwiICtcbiAgICAgICAgICAgICAgICBcImFiYyBhYmNkIGNhcGl0YWxfYWJjZCBzeW1ib2xzIG11c2ljYWxfbm90ZSBub3RlcyB3YXZ5X2Rhc2ggY3VybHlfbG9vcCBoZWF2eV9jaGVja19tYXJrIGFycm93c19jbG9ja3dpc2UgXCIgK1xuICAgICAgICAgICAgICAgIFwiaGVhdnlfcGx1c19zaWduIGhlYXZ5X21pbnVzX3NpZ24gaGVhdnlfZGl2aXNpb25fc2lnbiBoZWF2eV9tdWx0aXBsaWNhdGlvbl94IGhlYXZ5X2RvbGxhcl9zaWduIGN1cnJlbmN5X2V4Y2hhbmdlIFwiICtcbiAgICAgICAgICAgICAgICBcImNvcHlyaWdodCByZWdpc3RlcmVkIHRtIGVuZCBiYWNrIG9uIHRvcCBzb29uIGJhbGxvdF9ib3hfd2l0aF9jaGVjayByYWRpb19idXR0b24gd2hpdGVfY2lyY2xlIGJsYWNrX2NpcmNsZSBcIiArXG4gICAgICAgICAgICAgICAgXCJyZWRfY2lyY2xlIGxhcmdlX2JsdWVfY2lyY2xlIHNtYWxsX29yYW5nZV9kaWFtb25kIHNtYWxsX2JsdWVfZGlhbW9uZCBsYXJnZV9vcmFuZ2VfZGlhbW9uZCBsYXJnZV9ibHVlX2RpYW1vbmQgXCIgK1xuICAgICAgICAgICAgICAgIFwic21hbGxfcmVkX3RyaWFuZ2xlIGJsYWNrX3NtYWxsX3NxdWFyZSB3aGl0ZV9zbWFsbF9zcXVhcmUgYmxhY2tfbGFyZ2Vfc3F1YXJlIHdoaXRlX2xhcmdlX3NxdWFyZSBzbWFsbF9yZWRfdHJpYW5nbGVfZG93biBcIiArXG4gICAgICAgICAgICAgICAgXCJibGFja19tZWRpdW1fc3F1YXJlIHdoaXRlX21lZGl1bV9zcXVhcmUgYmxhY2tfbWVkaXVtX3NtYWxsX3NxdWFyZSB3aGl0ZV9tZWRpdW1fc21hbGxfc3F1YXJlIGJsYWNrX3NxdWFyZV9idXR0b24gXCIgK1xuICAgICAgICAgICAgICAgIFwid2hpdGVfc3F1YXJlX2J1dHRvbiBzcGVha2VyIHNvdW5kIGxvdWRfc291bmQgbXV0ZSBtZWdhIGxvdWRzcGVha2VyIGJlbGwgbm9fYmVsbCBibGFja19qb2tlciBtYWhqb25nIHNwYWRlcyBcIiArXG4gICAgICAgICAgICAgICAgXCJjbHVicyBoZWFydHMgZGlhbW9uZHMgZmxvd2VyX3BsYXlpbmdfY2FyZHMgdGhvdWdodF9iYWxsb29uIGFuZ2VyX3JpZ2h0IHNwZWVjaF9iYWxsb29uIGNsb2NrMSBjbG9jazIgY2xvY2szIFwiICtcbiAgICAgICAgICAgICAgICBcImNsb2NrNCBjbG9jazUgY2xvY2s2IGNsb2NrNyBjbG9jazggY2xvY2s5IGNsb2NrMTAgY2xvY2sxMSBjbG9jazEyIGNsb2NrMTMwIGNsb2NrMjMwIGNsb2NrMzMwIGNsb2NrNDMwIFwiICtcbiAgICAgICAgICAgICAgICBcImNsb2NrNTMwIGNsb2NrNjMwIGNsb2NrNzMwIGNsb2NrODMwIGNsb2NrOTMwIGNsb2NrMTAzMCBjbG9jazExMzAgY2xvY2sxMjMwIGV5ZV9pbl9zcGVlY2hfYnViYmxlXCJcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIGZsYWdzOiB7XG4gICAgICAgICAgICAgICAgaWNvbjogXCJmbGFnX2diXCIsXG4gICAgICAgICAgICAgICAgdGl0bGU6IFwiRmxhZ3NcIixcbiAgICAgICAgICAgICAgICBlbW9qaTogXCJhYyBhZiBhbCBkeiBhZCBhbyBhaSBhZyBhciBhbSBhdyBhdSBhdCBheiBicyBiaCBiZCBiYiBieSBiZSBieiBiaiBibSBidCBibyBiYSBidyBiciBibiBiZyBiZiBiaSBcIiArXG4gICAgICAgICAgICAgICAgXCJjdiBraCBjbSBjYSBreSBjZiB0ZCBmbGFnX2NsIGNuIGNvIGttIGNnIGZsYWdfY2QgY3IgaHIgY3UgY3kgY3ogZGsgZGogZG0gZG8gZWMgZWcgc3YgZ3EgZXIgZWUgZXQgZmsgZm8gXCIgK1xuICAgICAgICAgICAgICAgIFwiZmogZmkgZnIgcGYgZ2EgZ20gZ2UgZGUgZ2ggZ2kgZ3IgZ2wgZ2QgZ3UgZ3QgZ24gZ3cgZ3kgaHQgaG4gaGsgaHUgaXMgaW4gZmxhZ19pZCBpciBpcSBpZSBpbCBpdCBjaSBqbSBqcCBcIiArXG4gICAgICAgICAgICAgICAgXCJqZSBqbyBreiBrZSBraSB4ayBrdyBrZyBsYSBsdiBsYiBscyBsciBseSBsaSBsdCBsdSBtbyBtayBtZyBtdyBteSBtdiBtbCBtdCBtaCBtciBtdSBteCBmbSBtZCBtYyBtbiBtZSBcIiArXG4gICAgICAgICAgICAgICAgXCJtcyBtYSBteiBtbSBuYSBuciBucCBubCBuYyBueiBuaSBuZSBmbGFnX25nIG51IGtwIG5vIG9tIHBrIHB3IHBzIHBhIHBnIHB5IHBlIHBoIHBsIHB0IHByIHFhIHJvIHJ1IHJ3IFwiICtcbiAgICAgICAgICAgICAgICBcInNoIGtuIGxjIHZjIHdzIHNtIHN0IGZsYWdfc2Egc24gcnMgc2Mgc2wgc2cgc2sgc2kgc2Igc28gemEga3IgZXMgbGsgc2Qgc3Igc3ogc2UgY2ggc3kgdHcgdGogdHogdGggdGwgXCIgK1xuICAgICAgICAgICAgICAgIFwidGcgdG8gdHQgdG4gdHIgZmxhZ190bSBmbGFnX3RtIHVnIHVhIGFlIGdiIHVzIHZpIHV5IHV6IHZ1IHZhIHZlIHZuIHdmIGVoIHllIHptIHp3IHJlIGF4IHRhIGlvIGJxIGN4IFwiICtcbiAgICAgICAgICAgICAgICBcImNjIGdnIGltIHl0IG5mIHBuIGJsIHBtIGdzIHRrIGJ2IGhtIHNqIHVtIGljIGVhIGNwIGRnIGFzIGFxIHZnIGNrIGN3IGV1IGdmIHRmIGdwIG1xIG1wIHN4IHNzIHRjIFwiXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuICAgIGZ1bmN0aW9uIGlzT2JqZWN0KHZhcmlhYmxlKSB7XG4gICAgICAgIHJldHVybiB0eXBlb2YgdmFyaWFibGUgPT09ICdvYmplY3QnO1xuICAgIH07XG4gICAgZnVuY3Rpb24gZ2V0T3B0aW9ucyhvcHRpb25zKSB7XG4gICAgICAgIGlmIChvcHRpb25zWydmaWx0ZXJzJ10pIHtcbiAgICAgICAgICAgIHZhciBmaWx0ZXJzID0gZGVmYXVsdF9vcHRpb25zLmZpbHRlcnM7XG4gICAgICAgICAgICAkLmVhY2gob3B0aW9uc1snZmlsdGVycyddLCBmdW5jdGlvbihmaWx0ZXIsIGRhdGEpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWlzT2JqZWN0KGRhdGEpIHx8ICQuaXNFbXB0eU9iamVjdChkYXRhKSkge1xuICAgICAgICAgICAgICAgICAgICBkZWxldGUgZmlsdGVyc1tmaWx0ZXJdO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICQuZWFjaChkYXRhLCBmdW5jdGlvbihrZXksIHZhbCkge1xuICAgICAgICAgICAgICAgICAgICBmaWx0ZXJzW2ZpbHRlcl1ba2V5XSA9IHZhbDtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgb3B0aW9uc1snZmlsdGVycyddID0gZmlsdGVycztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gJC5leHRlbmQoe30sIGRlZmF1bHRfb3B0aW9ucywgb3B0aW9ucyk7XG4gICAgfVxuXG4gICAgdmFyIHNhdmVTZWxlY3Rpb24sIHJlc3RvcmVTZWxlY3Rpb247XG4gICAgaWYgKHdpbmRvdy5nZXRTZWxlY3Rpb24gJiYgZG9jdW1lbnQuY3JlYXRlUmFuZ2UpIHtcbiAgICAgICAgc2F2ZVNlbGVjdGlvbiA9IGZ1bmN0aW9uKGVsKSB7XG4gICAgICAgICAgICB2YXIgcmFuZ2UgPSB3aW5kb3cuZ2V0U2VsZWN0aW9uKCkuZ2V0UmFuZ2VBdCgwKTtcbiAgICAgICAgICAgIHZhciBwcmVTZWxlY3Rpb25SYW5nZSA9IHJhbmdlLmNsb25lUmFuZ2UoKTtcbiAgICAgICAgICAgIHByZVNlbGVjdGlvblJhbmdlLnNlbGVjdE5vZGVDb250ZW50cyhlbCk7XG4gICAgICAgICAgICBwcmVTZWxlY3Rpb25SYW5nZS5zZXRFbmQocmFuZ2Uuc3RhcnRDb250YWluZXIsIHJhbmdlLnN0YXJ0T2Zmc2V0KTtcbiAgICAgICAgICAgIHJldHVybiBwcmVTZWxlY3Rpb25SYW5nZS50b1N0cmluZygpLmxlbmd0aDtcbiAgICAgICAgfTtcblxuICAgICAgICByZXN0b3JlU2VsZWN0aW9uID0gZnVuY3Rpb24oZWwsIHNlbCkge1xuICAgICAgICAgICAgdmFyIGNoYXJJbmRleCA9IDAsIHJhbmdlID0gZG9jdW1lbnQuY3JlYXRlUmFuZ2UoKTtcbiAgICAgICAgICAgIHJhbmdlLnNldFN0YXJ0KGVsLCAwKTtcbiAgICAgICAgICAgIHJhbmdlLmNvbGxhcHNlKHRydWUpO1xuICAgICAgICAgICAgdmFyIG5vZGVTdGFjayA9IFtlbF0sIG5vZGUsIGZvdW5kU3RhcnQgPSBmYWxzZSwgc3RvcCA9IGZhbHNlO1xuXG4gICAgICAgICAgICB3aGlsZSAoIXN0b3AgJiYgKG5vZGUgPSBub2RlU3RhY2sucG9wKCkpKSB7XG4gICAgICAgICAgICAgICAgaWYgKG5vZGUubm9kZVR5cGUgPT0gMykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgbmV4dENoYXJJbmRleCA9IGNoYXJJbmRleCArIG5vZGUubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIWZvdW5kU3RhcnQgJiYgc2VsID49IGNoYXJJbmRleCAmJiBzZWwgPD0gbmV4dENoYXJJbmRleCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmFuZ2Uuc2V0U3RhcnQobm9kZSwgc2VsIC0gY2hhckluZGV4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJhbmdlLnNldEVuZChub2RlLCBzZWwgLSBjaGFySW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgc3RvcCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgY2hhckluZGV4ID0gbmV4dENoYXJJbmRleDtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB2YXIgaSA9IG5vZGUuY2hpbGROb2Rlcy5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgIHdoaWxlIChpLS0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5vZGVTdGFjay5wdXNoKG5vZGUuY2hpbGROb2Rlc1tpXSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHNlbCA9IHdpbmRvdy5nZXRTZWxlY3Rpb24oKTtcbiAgICAgICAgICAgIHNlbC5yZW1vdmVBbGxSYW5nZXMoKTtcbiAgICAgICAgICAgIHNlbC5hZGRSYW5nZShyYW5nZSk7XG4gICAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGRvY3VtZW50LnNlbGVjdGlvbiAmJiBkb2N1bWVudC5ib2R5LmNyZWF0ZVRleHRSYW5nZSkge1xuICAgICAgICBzYXZlU2VsZWN0aW9uID0gZnVuY3Rpb24oZWwpIHtcbiAgICAgICAgICAgIHZhciBzZWxlY3RlZFRleHRSYW5nZSA9IGRvY3VtZW50LnNlbGVjdGlvbi5jcmVhdGVSYW5nZSgpLFxuICAgICAgICAgICAgICAgIHByZVNlbGVjdGlvblRleHRSYW5nZSA9IGRvY3VtZW50LmJvZHkuY3JlYXRlVGV4dFJhbmdlKCk7XG4gICAgICAgICAgICBwcmVTZWxlY3Rpb25UZXh0UmFuZ2UubW92ZVRvRWxlbWVudFRleHQoZWwpO1xuICAgICAgICAgICAgcHJlU2VsZWN0aW9uVGV4dFJhbmdlLnNldEVuZFBvaW50KFwiRW5kVG9TdGFydFwiLCBzZWxlY3RlZFRleHRSYW5nZSk7XG4gICAgICAgICAgICB2YXIgc3RhcnQgPSBwcmVTZWxlY3Rpb25UZXh0UmFuZ2UudGV4dC5sZW5ndGg7XG4gICAgICAgICAgICByZXR1cm4gc3RhcnQgKyBzZWxlY3RlZFRleHRSYW5nZS50ZXh0Lmxlbmd0aDtcbiAgICAgICAgfTtcblxuICAgICAgICByZXN0b3JlU2VsZWN0aW9uID0gZnVuY3Rpb24oZWwsIHNlbCkge1xuICAgICAgICAgICAgdmFyIHRleHRSYW5nZSA9IGRvY3VtZW50LmJvZHkuY3JlYXRlVGV4dFJhbmdlKCk7XG4gICAgICAgICAgICB0ZXh0UmFuZ2UubW92ZVRvRWxlbWVudFRleHQoZWwpO1xuICAgICAgICAgICAgdGV4dFJhbmdlLmNvbGxhcHNlKHRydWUpO1xuICAgICAgICAgICAgdGV4dFJhbmdlLm1vdmVFbmQoXCJjaGFyYWN0ZXJcIiwgc2VsKTtcbiAgICAgICAgICAgIHRleHRSYW5nZS5tb3ZlU3RhcnQoXCJjaGFyYWN0ZXJcIiwgc2VsKTtcbiAgICAgICAgICAgIHRleHRSYW5nZS5zZWxlY3QoKTtcbiAgICAgICAgfTtcbiAgICB9XG5cblxuICAgIHZhciB1bmlSZWdleHA7XG4gICAgdmFyIGVtb2ppb25lVmVyc2lvbiA9IHdpbmRvdy5lbW9qaW9uZVZlcnNpb24gfHwgJzIuMS40JztcblxuICAgIHZhciBjZG5fYmFzZSA9IFwiaHR0cHM6Ly9jZG5qcy5jbG91ZGZsYXJlLmNvbS9hamF4L2xpYnMvZW1vamlvbmUvXCI7XG4gICAgZnVuY3Rpb24gZGV0ZWN0VmVyc2lvbigpIHtcbiAgICAgICAgdmFyIHZlcnNpb24gPSBlbW9qaW9uZS5jYWNoZUJ1c3RQYXJhbTtcbiAgICAgICAgaWYgKCFpc09iamVjdChlbW9qaW9uZVsnanNFc2NhcGVNYXAnXSkpIHJldHVybiAnMS41LjInO1xuICAgICAgICBpZiAodmVyc2lvbiA9PT0gXCI/dj0xLjIuNFwiKSByZXR1cm4gJzIuMC4wJztcbiAgICAgICAgaWYgKHZlcnNpb24gPT09IFwiP3Y9Mi4wLjFcIikgcmV0dXJuICcyLjEuMCc7IC8vIHYyLjAuMSB8fCB2Mi4xLjBcbiAgICAgICAgaWYgKHZlcnNpb24gPT09IFwiP3Y9Mi4xLjFcIikgcmV0dXJuICcyLjEuMSc7XG4gICAgICAgIGlmICh2ZXJzaW9uID09PSBcIj92PTIuMS4yXCIpIHJldHVybiAnMi4xLjInO1xuICAgICAgICBpZiAodmVyc2lvbiA9PT0gXCI/dj0yLjEuM1wiKSByZXR1cm4gJzIuMS4zJztcbiAgICAgICAgaWYgKHZlcnNpb24gPT09IFwiP3Y9Mi4xLjRcIikgcmV0dXJuICcyLjEuNCc7XG4gICAgICAgIHJldHVybiAnMi4xLjQnO1xuICAgIH1cbiAgICBmdW5jdGlvbiBnZXRTdXBwb3J0TW9kZSh2ZXJzaW9uKSB7XG4gICAgICAgIHN3aXRjaCAodmVyc2lvbikge1xuICAgICAgICAgICAgY2FzZSAnMS41LjInOiByZXR1cm4gMDtcbiAgICAgICAgICAgIGNhc2UgJzIuMC4wJzogcmV0dXJuIDE7XG4gICAgICAgICAgICBjYXNlICcyLjEuMCc6XG4gICAgICAgICAgICBjYXNlICcyLjEuMSc6IHJldHVybiAyO1xuICAgICAgICAgICAgY2FzZSAnMi4xLjInOiByZXR1cm4gMztcbiAgICAgICAgICAgIGNhc2UgJzIuMS4zJzpcbiAgICAgICAgICAgIGNhc2UgJzIuMS40JzpcbiAgICAgICAgICAgIGRlZmF1bHQ6IHJldHVybiA0O1xuICAgICAgICB9XG4gICAgfVxuICAgIGlmICghZW1vamlvbmUgfHwgZ2V0U3VwcG9ydE1vZGUoZGV0ZWN0VmVyc2lvbigpKSA8IDIpIHtcbiAgICAgICAgJC5nZXRTY3JpcHQoY2RuX2Jhc2UgKyBlbW9qaW9uZVZlcnNpb24gKyBcIi9saWIvanMvZW1vamlvbmUubWluLmpzXCIsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGVtb2ppb25lID0gd2luZG93LmVtb2ppb25lO1xuICAgICAgICAgICAgZW1vamlvbmVWZXJzaW9uID0gZGV0ZWN0VmVyc2lvbigpO1xuICAgICAgICAgICAgZW1vamlvbmVTdXBwb3J0TW9kZSA9IGdldFN1cHBvcnRNb2RlKGVtb2ppb25lVmVyc2lvbik7XG4gICAgICAgICAgICBjZG5fYmFzZSArPSBlbW9qaW9uZVZlcnNpb24gKyBcIi9hc3NldHNcIjtcbiAgICAgICAgICAgIHZhciBzcHJpdGUgPSBjZG5fYmFzZSArXCIvc3ByaXRlcy9lbW9qaW9uZS5zcHJpdGVzLmNzc1wiO1xuICAgICAgICAgICAgaWYgKGRvY3VtZW50LmNyZWF0ZVN0eWxlU2hlZXQpIHtcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5jcmVhdGVTdHlsZVNoZWV0KHNwcml0ZSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICQoJzxsaW5rLz4nLCB7cmVsOiAnc3R5bGVzaGVldCcsIGhyZWY6IHNwcml0ZX0pLmFwcGVuZFRvKCdoZWFkJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB3aGlsZSAocmVhZHlDYWxsYmFja3MubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgcmVhZHlDYWxsYmFja3Muc2hpZnQoKS5jYWxsKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGVtb2ppb25lVmVyc2lvbiA9IGRldGVjdFZlcnNpb24oKTtcbiAgICAgICAgZW1vamlvbmVTdXBwb3J0TW9kZSA9IGdldFN1cHBvcnRNb2RlKGVtb2ppb25lVmVyc2lvbik7XG4gICAgICAgIGNkbl9iYXNlICs9IGVtb2ppb25lVmVyc2lvbiArIFwiL2Fzc2V0c1wiO1xuICAgIH1cblxuICAgIGVtb2ppb25lUmVhZHkoZnVuY3Rpb24oKSB7XG4gICAgICAgIGVtb2ppb25lLmltYWdlUGF0aFBORyA9IGNkbl9iYXNlICsgXCIvcG5nL1wiO1xuICAgICAgICB1bmlSZWdleHAgPSBuZXcgUmVnRXhwKFwiPG9iamVjdFtePl0qPi4qPzxcXC9vYmplY3Q+fDxzcGFuW14+XSo+Lio/PFxcL3NwYW4+fDwoPzpvYmplY3R8ZW1iZWR8c3ZnfGltZ3xkaXZ8c3BhbnxwfGEpW14+XSo+fChcIitcbiAgICAgICAgICAgIGVtb2ppb25lLnVuaWNvZGVSZWdleHArXCIpXCIsIFwiZ2lcIik7XG4gICAgfSk7XG4gICAgZnVuY3Rpb24gdW5pY29kZVRvKHN0ciwgdGVtcGxhdGUpIHtcbiAgICAgICAgcmV0dXJuIHN0ci5yZXBsYWNlKHVuaVJlZ2V4cCwgZnVuY3Rpb24odW5pY29kZUNoYXIpIHtcbiAgICAgICAgICAgIHZhciBtYXAgPSBlbW9qaW9uZVsoZW1vamlvbmVTdXBwb3J0TW9kZSA9PT0gMCA/ICdqc2VjYXBlTWFwJyA6ICdqc0VzY2FwZU1hcCcpXTtcbiAgICAgICAgICAgIGlmICh0eXBlb2YgdW5pY29kZUNoYXIgIT09ICd1bmRlZmluZWQnICYmIHVuaWNvZGVDaGFyIGluIG1hcCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBnZXRUZW1wbGF0ZSh0ZW1wbGF0ZSwgbWFwW3VuaWNvZGVDaGFyXSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdW5pY29kZUNoYXI7XG4gICAgICAgIH0pO1xuICAgIH1cbiAgICBmdW5jdGlvbiBodG1sRnJvbVRleHQoc3RyLCBzZWxmKSB7XG4gICAgICAgIHN0ciA9IHN0clxuICAgICAgICAgICAgLnJlcGxhY2UoLyYvZywgJyZhbXA7JylcbiAgICAgICAgICAgIC5yZXBsYWNlKC88L2csICcmbHQ7JylcbiAgICAgICAgICAgIC5yZXBsYWNlKC8+L2csICcmZ3Q7JylcbiAgICAgICAgICAgIC5yZXBsYWNlKC9cIi9nLCAnJnF1b3Q7JylcbiAgICAgICAgICAgIC5yZXBsYWNlKC8nL2csICcmI3gyNzsnKVxuICAgICAgICAgICAgLnJlcGxhY2UoL2AvZywgJyYjeDYwOycpXG4gICAgICAgICAgICAucmVwbGFjZSgvKD86XFxyXFxufFxccnxcXG4pL2csICdcXG4nKVxuICAgICAgICAgICAgLnJlcGxhY2UoLyhcXG4rKS9nLCAnPGRpdj4kMTwvZGl2PicpXG4gICAgICAgICAgICAucmVwbGFjZSgvXFxuL2csICc8YnIvPicpXG4gICAgICAgICAgICAucmVwbGFjZSgvPGJyXFwvPjxcXC9kaXY+L2csICc8L2Rpdj4nKTtcbiAgICAgICAgaWYgKHNlbGYuc2hvcnRuYW1lcykge1xuICAgICAgICAgICAgc3RyID0gZW1vamlvbmUuc2hvcnRuYW1lVG9Vbmljb2RlKHN0cik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHVuaWNvZGVUbyhzdHIsIHNlbGYuZW1vamlUZW1wbGF0ZSlcbiAgICAgICAgICAgIC5yZXBsYWNlKC9cXHQvZywgJyZuYnNwOyZuYnNwOyZuYnNwOyZuYnNwOycpXG4gICAgICAgICAgICAucmVwbGFjZSgvICAvZywgJyZuYnNwOyZuYnNwOycpO1xuICAgIH1cbiAgICBmdW5jdGlvbiB0ZXh0RnJvbUh0bWwoc3RyLCBzZWxmKSB7XG4gICAgICAgIHN0ciA9IHN0clxuICAgICAgICAgICAgLnJlcGxhY2UoLzxpbWdbXj5dKmFsdD1cIihbXlwiXSspXCJbXj5dKj4vaWcsICckMScpXG4gICAgICAgICAgICAucmVwbGFjZSgvXFxufFxcci9nLCAnJylcbiAgICAgICAgICAgIC5yZXBsYWNlKC88YnJbXj5dKj4vaWcsICdcXG4nKVxuICAgICAgICAgICAgLnJlcGxhY2UoLyg/OjwoPzpkaXZ8cHxvbHx1bHxsaXxwcmV8Y29kZXxvYmplY3QpW14+XSo+KSsvaWcsICc8ZGl2PicpXG4gICAgICAgICAgICAucmVwbGFjZSgvKD86PFxcLyg/OmRpdnxwfG9sfHVsfGxpfHByZXxjb2RlfG9iamVjdCk+KSsvaWcsICc8L2Rpdj4nKVxuICAgICAgICAgICAgLnJlcGxhY2UoL1xcbjxkaXY+PFxcL2Rpdj4vaWcsICdcXG4nKVxuICAgICAgICAgICAgLnJlcGxhY2UoLzxkaXY+PFxcL2Rpdj5cXG4vaWcsICdcXG4nKVxuICAgICAgICAgICAgLnJlcGxhY2UoLyg/OjxkaXY+KSs8XFwvZGl2Pi9pZywgJ1xcbicpXG4gICAgICAgICAgICAucmVwbGFjZSgvKFteXFxuXSk8XFwvZGl2PjxkaXY+L2lnLCAnJDFcXG4nKVxuICAgICAgICAgICAgLnJlcGxhY2UoLyg/OjxcXC9kaXY+KSsvaWcsICc8L2Rpdj4nKVxuICAgICAgICAgICAgLnJlcGxhY2UoLyhbXlxcbl0pPFxcL2Rpdj4oW15cXG5dKS9pZywgJyQxXFxuJDInKVxuICAgICAgICAgICAgLnJlcGxhY2UoLzxcXC9kaXY+L2lnLCAnJylcbiAgICAgICAgICAgIC5yZXBsYWNlKC8oW15cXG5dKTxkaXY+L2lnLCAnJDFcXG4nKVxuICAgICAgICAgICAgLnJlcGxhY2UoL1xcbjxkaXY+L2lnLCAnXFxuJylcbiAgICAgICAgICAgIC5yZXBsYWNlKC88ZGl2Plxcbi9pZywgJ1xcblxcbicpXG4gICAgICAgICAgICAucmVwbGFjZSgvPCg/OltePl0rKT8+L2csICcnKVxuICAgICAgICAgICAgLnJlcGxhY2UoLyYjODI5MTsvZywgJycpXG4gICAgICAgICAgICAucmVwbGFjZSgvJm5ic3A7L2csICcgJylcbiAgICAgICAgICAgIC5yZXBsYWNlKC8mbHQ7L2csICc8JylcbiAgICAgICAgICAgIC5yZXBsYWNlKC8mZ3Q7L2csICc+JylcbiAgICAgICAgICAgIC5yZXBsYWNlKC8mcXVvdDsvZywgJ1wiJylcbiAgICAgICAgICAgIC5yZXBsYWNlKC8mI3gyNzsvZywgXCInXCIpXG4gICAgICAgICAgICAucmVwbGFjZSgvJiN4NjA7L2csICdgJylcbiAgICAgICAgICAgIC5yZXBsYWNlKC8mYW1wOy9nLCAnJicpO1xuXG4gICAgICAgIHN3aXRjaCAoc2VsZi5zYXZlRW1vamlzQXMpIHtcbiAgICAgICAgICAgIGNhc2UgJ2ltYWdlJzpcbiAgICAgICAgICAgICAgICBzdHIgPSB1bmljb2RlVG8oc3RyLCBzZWxmLmVtb2ppVGVtcGxhdGUpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAnc2hvcnRuYW1lJzpcbiAgICAgICAgICAgICAgICBzdHIgPSBlbW9qaW9uZS50b1Nob3J0KHN0cik7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHN0cjtcbiAgICB9XG4gICAgZnVuY3Rpb24gY2FsY0J1dHRvblBvc2l0aW9uKCkge1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXMsXG4gICAgICAgICAgICBvZmZzZXQgPSBzZWxmLmVkaXRvclswXS5vZmZzZXRXaWR0aCAtIHNlbGYuZWRpdG9yWzBdLmNsaWVudFdpZHRoLFxuICAgICAgICAgICAgY3VycmVudCA9IHBhcnNlSW50KHNlbGYuYnV0dG9uLmNzcygnbWFyZ2luUmlnaHQnKSk7XG4gICAgICAgIGlmIChjdXJyZW50ICE9PSBvZmZzZXQpIHtcbiAgICAgICAgICAgIHNlbGYuYnV0dG9uLmNzcyh7bWFyZ2luUmlnaHQ6IG9mZnNldH0pO1xuICAgICAgICAgICAgaWYgKHNlbGYucGlja2VyUG9zaXRpb24gPT09ICd0b3AnKSB7XG4gICAgICAgICAgICAgICAgc2VsZi5waWNrZXIuY3NzKHtyaWdodDogcGFyc2VJbnQoc2VsZi5waWNrZXIuY3NzKCdyaWdodCcpKSAtIGN1cnJlbnQgKyBvZmZzZXR9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBsYXp5TG9hZGluZygpIHtcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICBpZiAoIXNlbGYuc3ByaXRlICYmIHNlbGYubGFzeUVtb2ppWzBdKSB7XG4gICAgICAgICAgICB2YXIgcGlja2VyVG9wID0gc2VsZi5waWNrZXIub2Zmc2V0KCkudG9wLFxuICAgICAgICAgICAgICAgIHBpY2tlckJvdHRvbSA9IHBpY2tlclRvcCArIHNlbGYucGlja2VyLmhlaWdodCgpICsgMjA7XG4gICAgICAgICAgICBzZWxmLmxhc3lFbW9qaS5lYWNoKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHZhciBlID0gJCh0aGlzKSwgdG9wID0gZS5vZmZzZXQoKS50b3A7XG4gICAgICAgICAgICAgICAgaWYgKHRvcCA+IHBpY2tlclRvcCAmJiB0b3AgPCBwaWNrZXJCb3R0b20pIHtcbiAgICAgICAgICAgICAgICAgICAgZS5hdHRyKFwic3JjXCIsIGUuZGF0YShcInNyY1wiKSkucmVtb3ZlQ2xhc3MoXCJsYXp5LWVtb2ppXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICBzZWxmLmxhc3lFbW9qaSA9IHNlbGYubGFzeUVtb2ppLmZpbHRlcihcIi5sYXp5LWVtb2ppXCIpO1xuICAgICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIHNlbGVjdG9yIChwcmVmaXgsIHNraXBfZG90KSB7XG4gICAgICAgIHJldHVybiAoc2tpcF9kb3QgPyAnJyA6ICcuJykgKyBjc3NfY2xhc3MgKyAocHJlZml4ID8gKFwiLVwiICsgcHJlZml4KSA6IFwiXCIpO1xuICAgIH1cbiAgICBmdW5jdGlvbiBkaXYocHJlZml4KSB7XG4gICAgICAgIHZhciBwYXJlbnQgPSAkKCc8ZGl2Lz4nLCBpc09iamVjdChwcmVmaXgpID8gcHJlZml4IDoge1wiY2xhc3NcIiA6IHNlbGVjdG9yKHByZWZpeCwgdHJ1ZSl9KTtcbiAgICAgICAgJC5lYWNoKHNsaWNlLmNhbGwoYXJndW1lbnRzKS5zbGljZSgxKSwgZnVuY3Rpb24oaSwgY2hpbGQpIHtcbiAgICAgICAgICAgIGlmICgkLmlzRnVuY3Rpb24oY2hpbGQpKSB7XG4gICAgICAgICAgICAgICAgY2hpbGQgPSBjaGlsZC5jYWxsKHBhcmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoY2hpbGQpIHtcbiAgICAgICAgICAgICAgICAkKGNoaWxkKS5hcHBlbmRUbyhwYXJlbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHBhcmVudDtcbiAgICB9XG4gICAgZnVuY3Rpb24gaW5pdChzZWxmLCBzb3VyY2UsIG9wdGlvbnMpIHtcbiAgICAgICAgLy9jYWxjRWxhcHNlZFRpbWUoJ2luaXQnLCBmdW5jdGlvbigpIHtcbiAgICAgICAgb3B0aW9ucyA9IGdldE9wdGlvbnMob3B0aW9ucyk7XG4gICAgICAgIHNlbGYuc3ByaXRlID0gb3B0aW9ucy5zcHJpdGUgJiYgZW1vamlvbmVTdXBwb3J0TW9kZSA8IDM7XG4gICAgICAgIHNlbGYuaW5saW5lID0gb3B0aW9ucy5pbmxpbmUgPT09IG51bGwgPyBzb3VyY2UuaXMoXCJJTlBVVFwiKSA6IG9wdGlvbnMuaW5saW5lO1xuICAgICAgICBzZWxmLnNob3J0bmFtZXMgPSBvcHRpb25zLnNob3J0bmFtZXM7XG4gICAgICAgIHNlbGYucGlja2VyUG9zaXRpb24gPSBvcHRpb25zLnBpY2tlclBvc2l0aW9uO1xuICAgICAgICBzZWxmLnNhdmVFbW9qaXNBcyA9IG9wdGlvbnMuc2F2ZUVtb2ppc0FzO1xuICAgICAgICBzZWxmLmVtb2ppVGVtcGxhdGUgPSAnPGltZyBhbHQ9XCJ7YWx0fVwiIGNsYXNzPVwiZW1vamlvbmUnICsgKHNlbGYuc3ByaXRlID8gJy17dW5pfVwiIHNyYz1cIicgKyBibGFua0ltZyArICdcIi8+JyA6ICdlbW9qaVwiIHNyYz1cIntpbWd9XCIvPicpO1xuXG4gICAgICAgIHZhciBzb3VyY2VWYWxGdW5jID0gc291cmNlLmlzKFwiVEVYVEFSRUFcIikgfHwgc291cmNlLmlzKFwiSU5QVVRcIikgPyBcInZhbFwiIDogXCJ0ZXh0XCIsXG4gICAgICAgICAgICBlZGl0b3IsIGJ1dHRvbiwgcGlja2VyLCB0b25lcywgZmlsdGVycywgZmlsdGVyc0J0bnMsIGVtb2ppc0xpc3QsIGNhdGVnb3JpZXMsIHNjcm9sbEFyZWEsXG4gICAgICAgICAgICBhcHAgPSBkaXYoe1wiY2xhc3NcIiA6IGNzc19jbGFzcyArIFwiIFwiICsgKHNvdXJjZS5hdHRyKFwiY2xhc3NcIikgfHwgXCJcIiksIHJvbGU6IFwiYXBwbGljYXRpb25cIn0sXG4gICAgICAgICAgICAgICAgZWRpdG9yID0gc2VsZi5lZGl0b3IgPSBkaXYoJ2VkaXRvcicpLmF0dHIoe1xuICAgICAgICAgICAgICAgICAgICBjb250ZW50ZWRpdGFibGU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyOiBvcHRpb25zW1wicGxhY2Vob2xkZXJcIl0gfHwgc291cmNlLmRhdGEoXCJwbGFjZWhvbGRlclwiKSB8fCBzb3VyY2UuYXR0cihcInBsYWNlaG9sZGVyXCIpIHx8IFwiXCIsXG4gICAgICAgICAgICAgICAgICAgIHRhYmluZGV4OiAwXG4gICAgICAgICAgICAgICAgfSksXG4gICAgICAgICAgICAgICAgYnV0dG9uID0gc2VsZi5idXR0b24gPSBkaXYoJ2J1dHRvbicsXG4gICAgICAgICAgICAgICAgICAgIGRpdignYnV0dG9uLW9wZW4nKSxcbiAgICAgICAgICAgICAgICAgICAgZGl2KCdidXR0b24tY2xvc2UnKVxuICAgICAgICAgICAgICAgICkuYXR0cigndGl0bGUnLCBvcHRpb25zLmJ1dHRvblRpdGxlKSxcbiAgICAgICAgICAgICAgICBwaWNrZXIgPSBzZWxmLnBpY2tlciA9IGRpdigncGlja2VyJyxcbiAgICAgICAgICAgICAgICAgICAgZGl2KCd3cmFwcGVyJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbHRlcnMgPSBkaXYoJ2ZpbHRlcnMnKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNjcm9sbEFyZWEgPSBkaXYoJ3Njcm9sbC1hcmVhJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlbW9qaXNMaXN0ID0gZGl2KCdlbW9qaXMtbGlzdCcpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvbmVzID0gZGl2KCd0b25lcycsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMudG9uZXMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZENsYXNzKHNlbGVjdG9yKCd0b25lcy0nICsgb3B0aW9ucy50b25lc1N0eWxlLCB0cnVlKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPD0gNTsgaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYXBwZW5kKCQoXCI8aS8+XCIsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiY2xhc3NcIjogXCJidG4tdG9uZSBidG4tdG9uZS1cIiArIGkgKyAoIWkgPyBcIiBhY3RpdmVcIiA6IFwiXCIpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJkYXRhLXNraW5cIjogaSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvbGU6IFwiYnV0dG9uXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICkuYWRkQ2xhc3Moc2VsZWN0b3IoJ3BpY2tlci1wb3NpdGlvbi0nICsgb3B0aW9ucy5waWNrZXJQb3NpdGlvbiwgdHJ1ZSkpXG4gICAgICAgICAgICAgICAgIC5hZGRDbGFzcyhzZWxlY3RvcignZmlsdGVycy1wb3NpdGlvbi0nICsgb3B0aW9ucy5maWx0ZXJzUG9zaXRpb24sIHRydWUpKVxuICAgICAgICAgICAgICAgICAuYWRkQ2xhc3MoJ2hpZGRlbicpXG4gICAgICAgICAgICApO1xuXG4gICAgICAgICQuZWFjaChvcHRpb25zLmF0dHJpYnV0ZXMsIGZ1bmN0aW9uKGF0dHIsIHZhbHVlKSB7XG4gICAgICAgICAgICBlZGl0b3IuYXR0cihhdHRyLCB2YWx1ZSk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgICQuZWFjaChvcHRpb25zLmZpbHRlcnMsIGZ1bmN0aW9uKGZpbHRlciwgcGFyYW1zKSB7XG4gICAgICAgICAgICB2YXIgc2tpbiA9IDA7XG4gICAgICAgICAgICBpZiAoZmlsdGVyICE9PSAndG9uZXMnKSB7XG4gICAgICAgICAgICAgICAgJChcIjxpLz5cIiwge1xuICAgICAgICAgICAgICAgICAgICBcImNsYXNzXCI6IHNlbGVjdG9yKFwiZmlsdGVyXCIsIHRydWUpICsgXCIgXCIgKyBzZWxlY3RvcihcImZpbHRlci1cIiArIGZpbHRlciwgdHJ1ZSksXG4gICAgICAgICAgICAgICAgICAgIFwiZGF0YS1maWx0ZXJcIjogZmlsdGVyLFxuICAgICAgICAgICAgICAgICAgICB0aXRsZTogcGFyYW1zLnRpdGxlXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAud3JhcElubmVyKHNob3J0bmFtZVRvKHBhcmFtcy5pY29uLCBzZWxmLnNwcml0ZSA/ICc8aSBjbGFzcz1cImVtb2ppb25lLXt1bml9XCIvPicgOiAnPGltZyBjbGFzcz1cImVtb2ppb25lZW1vamlcIiBzcmM9XCJ7aW1nfVwiLz4nKSlcbiAgICAgICAgICAgICAgICAuYXBwZW5kVG8oZmlsdGVycyk7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKG9wdGlvbnMudG9uZXMpIHtcbiAgICAgICAgICAgICAgICBza2luID0gNTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZG8ge1xuICAgICAgICAgICAgICAgIHZhciBjYXRlZ29yeSA9IGRpdignY2F0ZWdvcnknKS5hdHRyKHtuYW1lOiBmaWx0ZXIsIFwiZGF0YS10b25lXCI6IHNraW59KS5hcHBlbmRUbyhlbW9qaXNMaXN0KSxcbiAgICAgICAgICAgICAgICAgICAgaXRlbXMgPSBwYXJhbXMuZW1vamkucmVwbGFjZSgvW1xccyw7XSsvZywgJ3wnKTtcbiAgICAgICAgICAgICAgICBpZiAoc2tpbiA+IDApIHtcbiAgICAgICAgICAgICAgICAgICAgY2F0ZWdvcnkuaGlkZSgpO1xuICAgICAgICAgICAgICAgICAgICBpdGVtcyA9IGl0ZW1zLnNwbGl0KCd8Jykuam9pbignX3RvbmUnICsgc2tpbiArICd8JykgKyAnX3RvbmUnICsgc2tpbjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaXRlbXMgPSBzaG9ydG5hbWVUbyhpdGVtcyxcbiAgICAgICAgICAgICAgICAgICAgc2VsZi5zcHJpdGUgP1xuICAgICAgICAgICAgICAgICAgICAnPGkgY2xhc3M9XCJlbW9qaWJ0blwiIHJvbGU9XCJidXR0b25cIiBkYXRhLW5hbWU9XCJ7bmFtZX1cIj48aSBjbGFzcz1cImVtb2ppb25lLXt1bml9XCI+PC9pPjwvaT4nIDpcbiAgICAgICAgICAgICAgICAgICAgJzxpIGNsYXNzPVwiZW1vamlidG5cIiByb2xlPVwiYnV0dG9uXCIgZGF0YS1uYW1lPVwie25hbWV9XCI+PGltZyBjbGFzcz1cImVtb2ppb25lZW1vamkgbGF6eS1lbW9qaVwiIGRhdGEtc3JjPVwie2ltZ31cIi8+PC9pPicsXG4gICAgICAgICAgICAgICAgICAgIHRydWUpLnNwbGl0KCd8Jykuam9pbignJyk7XG4gICAgICAgICAgICAgICAgY2F0ZWdvcnkuaHRtbChpdGVtcyk7XG4gICAgICAgICAgICAgICAgJCgnPGgxLz4nKS50ZXh0KHBhcmFtcy50aXRsZSkucHJlcGVuZFRvKGNhdGVnb3J5KTtcbiAgICAgICAgICAgIH0gd2hpbGUgKC0tc2tpbiA+IDApO1xuICAgICAgICB9KTtcblxuICAgICAgICBvcHRpb25zLmZpbHRlcnMgPSBudWxsO1xuICAgICAgICBpZiAoIXNlbGYuc3ByaXRlKSB7XG4gICAgICAgICAgICBzZWxmLmxhc3lFbW9qaSA9IGVtb2ppc0xpc3QuZmluZChcIi5sYXp5LWVtb2ppXCIpO1xuICAgICAgICB9XG5cbiAgICAgICAgZmlsdGVyc0J0bnMgPSBmaWx0ZXJzLmZpbmQoc2VsZWN0b3IoXCJmaWx0ZXJcIikpO1xuICAgICAgICBmaWx0ZXJzQnRucy5lcSgwKS5hZGRDbGFzcyhcImFjdGl2ZVwiKTtcbiAgICAgICAgY2F0ZWdvcmllcyA9IGVtb2ppc0xpc3QuZmluZChzZWxlY3RvcihcImNhdGVnb3J5XCIpKTtcblxuICAgICAgICBpZiAob3B0aW9ucy5jb250YWluZXIpIHtcbiAgICAgICAgICAgICQob3B0aW9ucy5jb250YWluZXIpLndyYXBJbm5lcihhcHApO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgYXBwLmluc2VydEFmdGVyKHNvdXJjZSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAob3B0aW9ucy5oaWRlU291cmNlKSB7XG4gICAgICAgICAgICBzb3VyY2UuaGlkZSgpO1xuICAgICAgICB9XG5cbiAgICAgICAgc2VsZi5zZXRUZXh0KHNvdXJjZVtzb3VyY2VWYWxGdW5jXSgpKTtcbiAgICAgICAgc291cmNlW3NvdXJjZVZhbEZ1bmNdKHNlbGYuZ2V0VGV4dCgpKTtcbiAgICAgICAgY2FsY0J1dHRvblBvc2l0aW9uLmFwcGx5KHNlbGYpO1xuXG4gICAgICAgIC8vIGF0dGFjaCgpIG11c3QgYmUgY2FsbGVkIGJlZm9yZSBhbnkgLm9uKCkgbWV0aG9kcyAhISFcbiAgICAgICAgLy8gMSkgYXR0YWNoKCkgc3RvcmVzIGV2ZW50cyBpbnRvIHBvc3NpYmxlRXZlbnRze30sXG4gICAgICAgIC8vIDIpIC5vbigpIGNhbGxzIGJpbmRFdmVudCgpIGFuZCBzdG9yZXMgaGFuZGxlcnMgaW50byBldmVudFN0b3JhZ2V7fSxcbiAgICAgICAgLy8gMykgYmluZEV2ZW50KCkgZmluZHMgZXZlbnRzIGluIHBvc3NpYmxlRXZlbnRze30gYW5kIGJpbmQgZm91bmRlZCB2aWEgalF1ZXJ5Lm9uKClcbiAgICAgICAgLy8gNCkgYXR0YWNoZWQgZXZlbnRzIHZpYSBqUXVlcnkub24oKSBjYWxscyB0cmlnZ2VyKClcbiAgICAgICAgLy8gNSkgdHJpZ2dlcigpIGNhbGxzIGhhbmRsZXJzIHN0b3JlZCBpbnRvIGV2ZW50U3RvcmFnZXt9XG5cbiAgICAgICAgYXR0YWNoKHNlbGYsIGVtb2ppc0xpc3QuZmluZChcIi5lbW9qaWJ0blwiKSwge2NsaWNrOiBcImVtb2ppYnRuLmNsaWNrXCJ9KTtcbiAgICAgICAgYXR0YWNoKHNlbGYsIHdpbmRvdywge3Jlc2l6ZTogXCIhcmVzaXplXCJ9KTtcbiAgICAgICAgYXR0YWNoKHNlbGYsIHRvbmVzLmNoaWxkcmVuKCksIHtjbGljazogXCJ0b25lLmNsaWNrXCJ9KTtcbiAgICAgICAgYXR0YWNoKHNlbGYsIFtwaWNrZXIsIGJ1dHRvbl0sIHttb3VzZWRvd246IFwiIW1vdXNlZG93blwifSwgZWRpdG9yKTtcbiAgICAgICAgYXR0YWNoKHNlbGYsIGJ1dHRvbiwge2NsaWNrOiBcImJ1dHRvbi5jbGlja1wifSk7XG4gICAgICAgIGF0dGFjaChzZWxmLCBlZGl0b3IsIHtwYXN0ZSA6XCIhcGFzdGVcIn0sIGVkaXRvcik7XG4gICAgICAgIGF0dGFjaChzZWxmLCBlZGl0b3IsIFtcImZvY3VzXCIsIFwiYmx1clwiXSwgZnVuY3Rpb24oKSB7IHJldHVybiBzZWxmLnN0YXlGb2N1c2VkID8gZmFsc2UgOiBlZGl0b3I7IH0pO1xuICAgICAgICBhdHRhY2goc2VsZiwgcGlja2VyLCB7bW91c2Vkb3duOiBcInBpY2tlci5tb3VzZWRvd25cIiwgbW91c2V1cDogXCJwaWNrZXIubW91c2V1cFwiLCBjbGljazogXCJwaWNrZXIuY2xpY2tcIixcbiAgICAgICAgICAgIGtleXVwOiBcInBpY2tlci5rZXl1cFwiLCBrZXlkb3duOiBcInBpY2tlci5rZXlkb3duXCIsIGtleXByZXNzOiBcInBpY2tlci5rZXlwcmVzc1wifSk7XG4gICAgICAgIGF0dGFjaChzZWxmLCBlZGl0b3IsIFtcIm1vdXNlZG93blwiLCBcIm1vdXNldXBcIiwgXCJjbGlja1wiLCBcImtleXVwXCIsIFwia2V5ZG93blwiLCBcImtleXByZXNzXCJdKTtcbiAgICAgICAgYXR0YWNoKHNlbGYsIHBpY2tlci5maW5kKFwiLmVtb2ppb25lYXJlYS1maWx0ZXJcIiksIHtjbGljazogXCJmaWx0ZXIuY2xpY2tcIn0pO1xuXG4gICAgICAgIGlmIChpc09iamVjdChvcHRpb25zLmV2ZW50cykgJiYgISQuaXNFbXB0eU9iamVjdChvcHRpb25zLmV2ZW50cykpIHtcbiAgICAgICAgICAgICQuZWFjaChvcHRpb25zLmV2ZW50cywgZnVuY3Rpb24oZXZlbnQsIGhhbmRsZXIpIHtcbiAgICAgICAgICAgICAgICBzZWxmLm9uKGV2ZW50LnJlcGxhY2UoL18vZywgJy4nKSwgaGFuZGxlcik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIHZhciBub0xpc3RlblNjcm9sbCA9IGZhbHNlO1xuICAgICAgICBzY3JvbGxBcmVhLm9uKCdzY3JvbGwnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZiAoIW5vTGlzdGVuU2Nyb2xsKSB7XG4gICAgICAgICAgICAgICAgbGF6eUxvYWRpbmcuY2FsbChzZWxmKTtcbiAgICAgICAgICAgICAgICBpZiAoc2Nyb2xsQXJlYS5pcyhcIjpub3QoLnNraW5uYWJsZSlcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGl0ZW0gPSBjYXRlZ29yaWVzLmVxKDApLCBzY3JvbGxUb3AgPSBzY3JvbGxBcmVhLm9mZnNldCgpLnRvcDtcbiAgICAgICAgICAgICAgICAgICAgY2F0ZWdvcmllcy5lYWNoKGZ1bmN0aW9uIChpLCBlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoJChlKS5vZmZzZXQoKS50b3AgLSBzY3JvbGxUb3AgPj0gMTApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICBpdGVtID0gJChlKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHZhciBmaWx0ZXIgPSBmaWx0ZXJzQnRucy5maWx0ZXIoJ1tkYXRhLWZpbHRlcj1cIicgKyBpdGVtLmF0dHIoXCJuYW1lXCIpICsgJ1wiXScpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoZmlsdGVyWzBdICYmICFmaWx0ZXIuaXMoXCIuYWN0aXZlXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBmaWx0ZXJzQnRucy5yZW1vdmVDbGFzcyhcImFjdGl2ZVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbHRlci5hZGRDbGFzcyhcImFjdGl2ZVwiKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgc2VsZi5vbihcIkBmaWx0ZXIuY2xpY2tcIiwgZnVuY3Rpb24oZmlsdGVyKSB7XG4gICAgICAgICAgICB2YXIgaXNBY3RpdmUgPSBmaWx0ZXIuaXMoXCIuYWN0aXZlXCIpO1xuICAgICAgICAgICAgaWYgKHNjcm9sbEFyZWEuaXMoXCIuc2tpbm5hYmxlXCIpKSB7XG4gICAgICAgICAgICAgICAgaWYgKGlzQWN0aXZlKSByZXR1cm47XG4gICAgICAgICAgICAgICAgdG9uZXMuY2hpbGRyZW4oKS5lcSgwKS5jbGljaygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbm9MaXN0ZW5TY3JvbGwgPSB0cnVlO1xuICAgICAgICAgICAgaWYgKCFpc0FjdGl2ZSkge1xuICAgICAgICAgICAgICAgIGZpbHRlcnNCdG5zLmZpbHRlcihcIi5hY3RpdmVcIikucmVtb3ZlQ2xhc3MoXCJhY3RpdmVcIik7XG4gICAgICAgICAgICAgICAgZmlsdGVyLmFkZENsYXNzKFwiYWN0aXZlXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdmFyIGhlYWRlck9mZnNldCA9IGNhdGVnb3JpZXMuZmlsdGVyKCdbbmFtZT1cIicgKyBmaWx0ZXIuZGF0YSgnZmlsdGVyJykgKyAnXCJdJykub2Zmc2V0KCkudG9wLFxuICAgICAgICAgICAgICAgIHNjcm9sbCA9IHNjcm9sbEFyZWEuc2Nyb2xsVG9wKCksXG4gICAgICAgICAgICAgICAgb2Zmc2V0VG9wID0gc2Nyb2xsQXJlYS5vZmZzZXQoKS50b3A7XG4gICAgICAgICAgICBzY3JvbGxBcmVhLnN0b3AoKS5hbmltYXRlKHtcbiAgICAgICAgICAgICAgICBzY3JvbGxUb3A6IGhlYWRlck9mZnNldCArIHNjcm9sbCAtIG9mZnNldFRvcCAtIDJcbiAgICAgICAgICAgIH0sIDIwMCwgJ3N3aW5nJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgICAgIGxhenlMb2FkaW5nLmNhbGwoc2VsZik7XG4gICAgICAgICAgICAgICAgbm9MaXN0ZW5TY3JvbGwgPSBmYWxzZTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9KVxuXG4gICAgICAgIC5vbihcIkBwaWNrZXIuc2hvd1wiLCBsYXp5TG9hZGluZylcblxuICAgICAgICAub24oXCJAdG9uZS5jbGlja1wiLCBmdW5jdGlvbih0b25lKSB7XG4gICAgICAgICAgICB0b25lcy5jaGlsZHJlbigpLnJlbW92ZUNsYXNzKFwiYWN0aXZlXCIpO1xuICAgICAgICAgICAgdmFyIHNraW4gPSB0b25lLmFkZENsYXNzKFwiYWN0aXZlXCIpLmRhdGEoXCJza2luXCIpO1xuICAgICAgICAgICAgaWYgKHNraW4pIHtcbiAgICAgICAgICAgICAgICBzY3JvbGxBcmVhLmFkZENsYXNzKFwic2tpbm5hYmxlXCIpO1xuICAgICAgICAgICAgICAgIGNhdGVnb3JpZXMuaGlkZSgpLmZpbHRlcihcIltkYXRhLXRvbmU9XCIgKyBza2luICsgXCJdXCIpLnNob3coKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgc2Nyb2xsQXJlYS5yZW1vdmVDbGFzcyhcInNraW5uYWJsZVwiKTtcbiAgICAgICAgICAgICAgICBjYXRlZ29yaWVzLmhpZGUoKS5maWx0ZXIoXCJbZGF0YS10b25lPTBdXCIpLnNob3coKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxhenlMb2FkaW5nLmNhbGwoc2VsZik7XG4gICAgICAgIH0pXG5cbiAgICAgICAgLm9uKFwiQGJ1dHRvbi5jbGlja1wiLCBmdW5jdGlvbihidXR0b24pIHtcbiAgICAgICAgICAgIGlmIChidXR0b24uaXMoXCIuYWN0aXZlXCIpKSB7XG4gICAgICAgICAgICAgICAgc2VsZi5oaWRlUGlja2VyKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHNlbGYuc2hvd1BpY2tlcigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KVxuXG4gICAgICAgIC5vbihcIkAhcGFzdGVcIiwgZnVuY3Rpb24oZWRpdG9yKSB7XG4gICAgICAgICAgICBzZWxmLnN0YXlGb2N1c2VkID0gdHJ1ZTtcbiAgICAgICAgICAgIC8vIGluc2VydCBpbnZpc2libGUgY2hhcmFjdGVyIGZvciBmaXggY2FyZXQgcG9zaXRpb25cbiAgICAgICAgICAgIHBhc3RlSHRtbEF0Q2FyZXQoJzxzcGFuPiYjODI5MTs8L3NwYW4+Jyk7XG5cbiAgICAgICAgICAgIHZhciBzZWwgPSBzYXZlU2VsZWN0aW9uKGVkaXRvclswXSksXG4gICAgICAgICAgICAgICAgZWRpdG9yU2Nyb2xsVG9wID0gZWRpdG9yLnNjcm9sbFRvcCgpLFxuICAgICAgICAgICAgICAgIGNsaXBib2FyZCA9ICQoXCI8ZGl2Lz5cIiwge2NvbnRlbnRlZGl0YWJsZTogdHJ1ZX0pXG4gICAgICAgICAgICAgICAgICAgIC5jc3Moe3Bvc2l0aW9uOiBcImZpeGVkXCIsIGxlZnQ6IFwiLTk5OXB4XCIsIHdpZHRoOiBcIjFweFwiLCBoZWlnaHQ6IFwiMXB4XCIsIHRvcDogXCIyMHB4XCIsIG92ZXJmbG93OiBcImhpZGRlblwifSlcbiAgICAgICAgICAgICAgICAgICAgLmFwcGVuZFRvKCQoXCJCT0RZXCIpKVxuICAgICAgICAgICAgICAgICAgICAuZm9jdXMoKTtcblxuICAgICAgICAgICAgd2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgdmFyIGNhcmV0SUQgPSBcImNhcmV0LVwiICsgKG5ldyBEYXRlKCkpLmdldFRpbWUoKTtcbiAgICAgICAgICAgICAgICBlZGl0b3IuZm9jdXMoKTtcbiAgICAgICAgICAgICAgICByZXN0b3JlU2VsZWN0aW9uKGVkaXRvclswXSwgc2VsKTtcbiAgICAgICAgICAgICAgICB2YXIgdGV4dCA9IHRleHRGcm9tSHRtbChjbGlwYm9hcmQuaHRtbCgpLnJlcGxhY2UoL1xcclxcbnxcXG58XFxyL2csICc8YnI+JyksIHNlbGYpLFxuICAgICAgICAgICAgICAgICAgICBodG1sID0gaHRtbEZyb21UZXh0KHRleHQsIHNlbGYpO1xuICAgICAgICAgICAgICAgIHBhc3RlSHRtbEF0Q2FyZXQoaHRtbCk7XG4gICAgICAgICAgICAgICAgY2xpcGJvYXJkLnJlbW92ZSgpO1xuICAgICAgICAgICAgICAgIHBhc3RlSHRtbEF0Q2FyZXQoJzxpIGlkPVwiJyArIGNhcmV0SUQgKydcIj48L2k+Jyk7XG4gICAgICAgICAgICAgICAgZWRpdG9yLnNjcm9sbFRvcChlZGl0b3JTY3JvbGxUb3ApO1xuICAgICAgICAgICAgICAgIHZhciBjYXJldCA9ICQoXCIjXCIgKyBjYXJldElEKSxcbiAgICAgICAgICAgICAgICAgICAgdG9wID0gY2FyZXQub2Zmc2V0KCkudG9wIC0gZWRpdG9yLm9mZnNldCgpLnRvcCxcbiAgICAgICAgICAgICAgICAgICAgaGVpZ2h0ID0gZWRpdG9yLmhlaWdodCgpO1xuICAgICAgICAgICAgICAgIGlmIChlZGl0b3JTY3JvbGxUb3AgKyB0b3AgPj0gaGVpZ2h0IHx8IGVkaXRvclNjcm9sbFRvcCA+IHRvcCkge1xuICAgICAgICAgICAgICAgICAgICBlZGl0b3Iuc2Nyb2xsVG9wKGVkaXRvclNjcm9sbFRvcCArIHRvcCAtIDIgKiBoZWlnaHQvMyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNhcmV0LnJlbW92ZSgpO1xuICAgICAgICAgICAgICAgIHNlbGYuc3RheUZvY3VzZWQgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBjYWxjQnV0dG9uUG9zaXRpb24uYXBwbHkoc2VsZik7XG4gICAgICAgICAgICAgICAgdHJpZ2dlcihzZWxmLCAncGFzdGUnLCBbZWRpdG9yLCB0ZXh0LCBodG1sXSk7XG4gICAgICAgICAgICB9LCAyMDApO1xuICAgICAgICB9KVxuXG4gICAgICAgIC5vbihcIkBlbW9qaWJ0bi5jbGlja1wiLCBmdW5jdGlvbihlbW9qaWJ0bikge1xuICAgICAgICAgICAgaWYgKCFhcHAuaXMoXCIuZm9jdXNlZFwiKSkge1xuICAgICAgICAgICAgICAgIGVkaXRvci5mb2N1cygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc2F2ZVNlbGVjdGlvbihlZGl0b3JbMF0pO1xuICAgICAgICAgICAgcGFzdGVIdG1sQXRDYXJldChzaG9ydG5hbWVUbyhlbW9qaWJ0bi5kYXRhKFwibmFtZVwiKSwgc2VsZi5lbW9qaVRlbXBsYXRlKSk7XG4gICAgICAgIH0pXG5cbiAgICAgICAgLm9uKFwiQCFyZXNpemUgQGtleXVwIEBlbW9qaWJ0bi5jbGlja1wiLCBjYWxjQnV0dG9uUG9zaXRpb24pXG5cbiAgICAgICAgLm9uKFwiQCFtb3VzZWRvd25cIiwgZnVuY3Rpb24oZWRpdG9yLCBldmVudCkge1xuICAgICAgICAgICAgaWYgKCFhcHAuaXMoXCIuZm9jdXNlZFwiKSkge1xuICAgICAgICAgICAgICAgIGVkaXRvci5mb2N1cygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfSlcblxuICAgICAgICAub24oXCJAY2hhbmdlXCIsIGZ1bmN0aW9uKGVkaXRvcikge1xuICAgICAgICAgICAgdmFyIGh0bWwgPSBlZGl0b3IuaHRtbCgpLnJlcGxhY2UoLzxcXC8/KD86ZGl2fHNwYW58cClbXj5dKj4vaWcsICcnKTtcbiAgICAgICAgICAgIC8vIGNsZWFyIGlucHV0OiBjaHJvbWUgYWRkcyA8YnI+IHdoZW4gY29udGVudGVkaXRhYmxlIGlzIGVtcHR5XG4gICAgICAgICAgICBpZiAoIWh0bWwubGVuZ3RoIHx8IC9ePGJyW14+XSo+JC9pLnRlc3QoaHRtbCkpIHtcbiAgICAgICAgICAgICAgICBzZWxmLmVkaXRvci5odG1sKHNlbGYuY29udGVudCA9ICcnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNvdXJjZVtzb3VyY2VWYWxGdW5jXShzZWxmLmdldFRleHQoKSk7XG4gICAgICAgIH0pXG5cbiAgICAgICAgLm9uKFwiQGZvY3VzXCIsIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgYXBwLmFkZENsYXNzKFwiZm9jdXNlZFwiKTtcbiAgICAgICAgfSlcblxuICAgICAgICAub24oXCJAYmx1clwiLCBmdW5jdGlvbihlZGl0b3IpIHtcbiAgICAgICAgICAgIGFwcC5yZW1vdmVDbGFzcyhcImZvY3VzZWRcIik7XG5cbiAgICAgICAgICAgIGlmIChvcHRpb25zLmhpZGVQaWNrZXJPbkJsdXIpIHtcbiAgICAgICAgICAgICAgICBzZWxmLmhpZGVQaWNrZXIoKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgdmFyIGNvbnRlbnQgPSBlZGl0b3IuaHRtbCgpO1xuICAgICAgICAgICAgaWYgKHNlbGYuY29udGVudCAhPT0gY29udGVudCkge1xuICAgICAgICAgICAgICAgIHNlbGYuY29udGVudCA9IGNvbnRlbnQ7XG4gICAgICAgICAgICAgICAgdHJpZ2dlcihzZWxmLCAnY2hhbmdlJywgW2VkaXRvcl0pO1xuICAgICAgICAgICAgICAgIHNvdXJjZS5ibHVyKCkudHJpZ2dlcihcImNoYW5nZVwiKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgc291cmNlLmJsdXIoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG5cbiAgICAgICAgaWYgKG9wdGlvbnMuc2hvcnRjdXRzKSB7XG4gICAgICAgICAgICBzZWxmLm9uKFwiQGtleWRvd25cIiwgZnVuY3Rpb24oXywgZSkge1xuICAgICAgICAgICAgICAgIGlmICghZS5jdHJsS2V5KSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChlLndoaWNoID09IDkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGJ1dHRvbi5jbGljaygpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGVsc2UgaWYgKGUud2hpY2ggPT0gMjcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChidXR0b24uaXMoXCIuYWN0aXZlXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZi5oaWRlUGlja2VyKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChvcHRpb25zLmF1dG9jb21wbGV0ZSkge1xuICAgICAgICAgICAgdmFyIGF1dG9jb21wbGV0ZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHZhciBldmVudHMgPSB7fTtcbiAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy5zaG9ydGN1dHMpIHtcbiAgICAgICAgICAgICAgICAgICAgZXZlbnRzLm9uS2V5ZG93biA9IGZ1bmN0aW9uIChlLCBjb21tYW5kcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCFlLmN0cmxLZXkgJiYgZS53aGljaCA9PSAxMykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBjb21tYW5kcy5LRVlfRU5URVI7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHZhciBtYXAgPSAkLm1hcChlbW9qaW9uZS5lbW9qaW9uZUxpc3QsIGZ1bmN0aW9uIChfLCBlbW9qaSkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gIW9wdGlvbnMuYXV0b2NvbXBsZXRlVG9uZXMgPyAvX3RvbmVbMTIzNDVdLy50ZXN0KGVtb2ppKSA/IG51bGwgOiBlbW9qaSA6IGVtb2ppO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIG1hcC5zb3J0KCk7XG4gICAgICAgICAgICAgICAgZWRpdG9yLnRleHRjb21wbGV0ZShbXG4gICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlkOiBjc3NfY2xhc3MsXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXRjaDogLyg6W1xcLStcXHddKikkLyxcbiAgICAgICAgICAgICAgICAgICAgICAgIHNlYXJjaDogZnVuY3Rpb24gKHRlcm0sIGNhbGxiYWNrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2soJC5tYXAobWFwLCBmdW5jdGlvbiAoZW1vamkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGVtb2ppLmluZGV4T2YodGVybSkgPT09IDAgPyBlbW9qaSA6IG51bGw7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBsYXRlOiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gc2hvcnRuYW1lVG8odmFsdWUsIHNlbGYuZW1vamlUZW1wbGF0ZSkgKyBcIiBcIiArIHZhbHVlLnJlcGxhY2UoLzovZywgJycpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlcGxhY2U6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzaG9ydG5hbWVUbyh2YWx1ZSwgc2VsZi5lbW9qaVRlbXBsYXRlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICBjYWNoZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1heENvdW50OiAxNSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGluZGV4OiAxXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBdLCBldmVudHMpO1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGlmICgkLmZuLnRleHRjb21wbGV0ZSkge1xuICAgICAgICAgICAgICAgIGF1dG9jb21wbGV0ZSgpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAkLmdldFNjcmlwdChcImh0dHBzOi8vY2RuLnJhd2dpdC5jb20veXVrdS10L2pxdWVyeS10ZXh0Y29tcGxldGUvdjEuMy40L2Rpc3QvanF1ZXJ5LnRleHRjb21wbGV0ZS5qc1wiLFxuICAgICAgICAgICAgICAgICAgICBhdXRvY29tcGxldGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKHNlbGYuaW5saW5lKSB7XG4gICAgICAgICAgICBhcHAuYWRkQ2xhc3Moc2VsZWN0b3IoJ2lubGluZScsIHRydWUpKTtcbiAgICAgICAgICAgIHNlbGYub24oXCJAa2V5ZG93blwiLCBmdW5jdGlvbihfLCBlKSB7XG4gICAgICAgICAgICAgICAgaWYgKGUud2hpY2ggPT0gMTMpIHtcbiAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKC9maXJlZm94L2kudGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSkge1xuICAgICAgICAgICAgLy8gZGlzYWJsaW5nIHJlc2l6ZSBpbWFnZXMgb24gRmlyZWZveFxuICAgICAgICAgICAgZG9jdW1lbnQuZXhlY0NvbW1hbmQoXCJlbmFibGVPYmplY3RSZXNpemluZ1wiLCBmYWxzZSwgZmFsc2UpO1xuICAgICAgICB9XG5cbiAgICAgICAgLy99LCBzZWxmLmlkID09PSAxKTsgLy8gY2FsY0VsYXBzZWRUaW1lKClcbiAgICB9O1xuICAgIHZhciBFbW9qaW9uZUFyZWEgPSBmdW5jdGlvbihlbGVtZW50LCBvcHRpb25zKSB7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgZXZlbnRTdG9yYWdlW3NlbGYuaWQgPSArK3VuaXF1ZV0gPSB7fTtcbiAgICAgICAgcG9zc2libGVFdmVudHNbc2VsZi5pZF0gPSB7fTtcbiAgICAgICAgZW1vamlvbmVSZWFkeShmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGluaXQoc2VsZiwgZWxlbWVudCwgb3B0aW9ucyk7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgZnVuY3Rpb24gYmluZEV2ZW50KHNlbGYsIGV2ZW50KSB7XG4gICAgICAgIGV2ZW50ID0gZXZlbnQucmVwbGFjZSgvXkAvLCAnJyk7XG4gICAgICAgIHZhciBpZCA9IHNlbGYuaWQ7XG4gICAgICAgIGlmIChwb3NzaWJsZUV2ZW50c1tpZF1bZXZlbnRdKSB7XG4gICAgICAgICAgICAkLmVhY2gocG9zc2libGVFdmVudHNbaWRdW2V2ZW50XSwgZnVuY3Rpb24oaSwgZXYpIHtcbiAgICAgICAgICAgICAgICAvLyBldlswXSA9IGVsZW1lbnRcbiAgICAgICAgICAgICAgICAvLyBldlsxXSA9IGV2ZW50XG4gICAgICAgICAgICAgICAgLy8gZXZbMl0gPSB0YXJnZXRcbiAgICAgICAgICAgICAgICAkLmVhY2goJC5pc0FycmF5KGV2WzBdKSA/IGV2WzBdIDogW2V2WzBdXSwgZnVuY3Rpb24oaSwgZWwpIHtcbiAgICAgICAgICAgICAgICAgICAgJChlbCkub24oZXZbMV0sIGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGFyZ3MgPSBzbGljZS5jYWxsKGFyZ3VtZW50cyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFyZ2V0ID0gJC5pc0Z1bmN0aW9uKGV2WzJdKSA/IGV2WzJdLmFwcGx5KHNlbGYsIFtldmVudF0uY29uY2F0KGFyZ3MpKSA6IGV2WzJdO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHRhcmdldCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRyaWdnZXIoc2VsZiwgZXZlbnQsIFt0YXJnZXRdLmNvbmNhdChhcmdzKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBwb3NzaWJsZUV2ZW50c1tpZF1bZXZlbnRdID0gbnVsbDtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIEVtb2ppb25lQXJlYS5wcm90b3R5cGUub24gPSBmdW5jdGlvbihldmVudHMsIGhhbmRsZXIpIHtcbiAgICAgICAgaWYgKGV2ZW50cyAmJiAkLmlzRnVuY3Rpb24oaGFuZGxlcikpIHtcbiAgICAgICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgICAgICQuZWFjaChldmVudHMudG9Mb3dlckNhc2UoKS5zcGxpdCgnICcpLCBmdW5jdGlvbihpLCBldmVudCkge1xuICAgICAgICAgICAgICAgIGJpbmRFdmVudChzZWxmLCBldmVudCk7XG4gICAgICAgICAgICAgICAgKGV2ZW50U3RvcmFnZVtzZWxmLmlkXVtldmVudF0gfHwgKGV2ZW50U3RvcmFnZVtzZWxmLmlkXVtldmVudF0gPSBbXSkpLnB1c2goaGFuZGxlcik7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgRW1vamlvbmVBcmVhLnByb3RvdHlwZS5vZmYgPSBmdW5jdGlvbihldmVudHMsIGhhbmRsZXIpIHtcbiAgICAgICAgaWYgKGV2ZW50cykge1xuICAgICAgICAgICAgdmFyIGlkID0gdGhpcy5pZDtcbiAgICAgICAgICAgICQuZWFjaChldmVudHMudG9Mb3dlckNhc2UoKS5yZXBsYWNlKC9fL2csICcuJykuc3BsaXQoJyAnKSwgZnVuY3Rpb24oaSwgZXZlbnQpIHtcbiAgICAgICAgICAgICAgICBpZiAoZXZlbnRTdG9yYWdlW2lkXVtldmVudF0gJiYgIS9eQC8udGVzdChldmVudCkpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGhhbmRsZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICQuZWFjaChldmVudFN0b3JhZ2VbaWRdW2V2ZW50XSwgZnVuY3Rpb24oaiwgZm4pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoZm4gPT09IGhhbmRsZXIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRTdG9yYWdlW2lkXVtldmVudF0gPSBldmVudFN0b3JhZ2VbaWRdW2V2ZW50XS5zcGxpY2UoaiwgMSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBldmVudFN0b3JhZ2VbaWRdW2V2ZW50XSA9IFtdO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIEVtb2ppb25lQXJlYS5wcm90b3R5cGUuc2V0VGV4dCA9IGZ1bmN0aW9uIChzdHIpIHtcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICBlbW9qaW9uZVJlYWR5KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIHNlbGYuZWRpdG9yLmh0bWwoaHRtbEZyb21UZXh0KHN0ciwgc2VsZikpO1xuICAgICAgICAgICAgc2VsZi5jb250ZW50ID0gc2VsZi5lZGl0b3IuaHRtbCgpO1xuICAgICAgICAgICAgdHJpZ2dlcihzZWxmLCAnY2hhbmdlJywgW3NlbGYuZWRpdG9yXSk7XG4gICAgICAgICAgICBjYWxjQnV0dG9uUG9zaXRpb24uYXBwbHkoc2VsZik7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gc2VsZjtcbiAgICB9XG5cbiAgICBFbW9qaW9uZUFyZWEucHJvdG90eXBlLmdldFRleHQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgcmV0dXJuIHRleHRGcm9tSHRtbCh0aGlzLmVkaXRvci5odG1sKCksIHRoaXMpO1xuICAgIH1cblxuICAgIEVtb2ppb25lQXJlYS5wcm90b3R5cGUuc2hvd1BpY2tlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICBpZiAoc2VsZi5fc2hfdGltZXIpIHtcbiAgICAgICAgICAgIHdpbmRvdy5jbGVhclRpbWVvdXQoc2VsZi5fc2hfdGltZXIpO1xuICAgICAgICB9XG4gICAgICAgIHNlbGYucGlja2VyLnJlbW92ZUNsYXNzKFwiaGlkZGVuXCIpO1xuICAgICAgICBzZWxmLl9zaF90aW1lciA9ICB3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHNlbGYuYnV0dG9uLmFkZENsYXNzKFwiYWN0aXZlXCIpO1xuICAgICAgICB9LCA1MCk7XG4gICAgICAgIHRyaWdnZXIoc2VsZiwgXCJwaWNrZXIuc2hvd1wiLCBbc2VsZi5waWNrZXJdKTtcbiAgICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfVxuXG4gICAgRW1vamlvbmVBcmVhLnByb3RvdHlwZS5oaWRlUGlja2VyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgIGlmIChzZWxmLl9zaF90aW1lcikge1xuICAgICAgICAgICAgd2luZG93LmNsZWFyVGltZW91dChzZWxmLl9zaF90aW1lcik7XG4gICAgICAgIH1cbiAgICAgICAgc2VsZi5idXR0b24ucmVtb3ZlQ2xhc3MoXCJhY3RpdmVcIik7XG4gICAgICAgIHNlbGYuX3NoX3RpbWVyID0gIHdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgc2VsZi5waWNrZXIuYWRkQ2xhc3MoXCJoaWRkZW5cIik7XG4gICAgICAgIH0sIDUwMCk7XG4gICAgICAgIHRyaWdnZXIoc2VsZiwgXCJwaWNrZXIuaGlkZVwiLCBbc2VsZi5waWNrZXJdKTtcbiAgICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfVxuXG4gICAgJC5mbi5lbW9qaW9uZUFyZWEgPSBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgICAgIHJldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBpZiAoISF0aGlzLmVtb2ppb25lQXJlYSkgcmV0dXJuIHRoaXMuZW1vamlvbmVBcmVhO1xuICAgICAgICAgICAgJC5kYXRhKHRoaXMsICdlbW9qaW9uZUFyZWEnLCB0aGlzLmVtb2ppb25lQXJlYSA9IG5ldyBFbW9qaW9uZUFyZWEoJCh0aGlzKSwgb3B0aW9ucykpO1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuZW1vamlvbmVBcmVhO1xuICAgICAgICB9KTtcbiAgICB9O1xuXG59KSAoZG9jdW1lbnQsIHdpbmRvdywgalF1ZXJ5KTtcblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vZW1vamlvbmVBcmVhL2Rpc3QvZW1vamlvbmVhcmVhLmpzXG4vLyBtb2R1bGUgaWQgPSAyMlxuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJpbXBvcnQgJy4vYmFzZS5zY3NzJztcclxuXHJcbi8vIHZlbmRvclxyXG5pbXBvcnQgJ3doYXR3Zy1mZXRjaCc7XHJcbmltcG9ydCBQdWJTdWIgZnJvbSAncHVic3ViLWpzJztcclxuLy8gaW1wb3J0IHtlbW9qaW9uZWFyZWF9IGZyb20gJ2Vtb2ppb25lQXJlYS9kaXN0L2Vtb2ppb25lYXJlYSc7XHJcbi8vICQuZm4uZW1vamlvbmVhcmVhID0gZW1vamlvbmVhcmVhO1xyXG5cclxuLy8gY29tcG9uZW50c1xyXG4vLyBpbXBvcnQge0NPTlNUfSBmcm9tICcuL2NvbW1vbi9qcy1zZXJ2aWNlcy9jb25zdHMnO1xyXG5pbXBvcnQge0xvZ2luRm9ybX0gZnJvbSAnLi9ibG9ja3MvbG9naW4tZm9ybS9sb2dpbi1mb3JtJztcclxuaW1wb3J0IFJlZ2lzdGVyRm9ybSBmcm9tICcuL2Jsb2Nrcy9yZWdpc3Rlci1mb3JtL3JlZ2lzdGVyLWZvcm0nO1xyXG5pbXBvcnQge0xvZ2luUGFnZX0gZnJvbSAnLi9wYWdlcy9fYXV0aC9sb2dpbi1wYWdlJztcclxuaW1wb3J0IHtjb25maXJtYXRpb25XaXRoUmVkaXJlY3R9IGZyb20gJy4vYmxvY2tzL2NvbmZpcm0tcmVnL2NvbmZpcm0tcmVnJztcclxuaW1wb3J0ICogYXMgaGVhZGVyIGZyb20gJy4vYmxvY2tzL2hlYWRlci9oZWFkZXInO1xyXG5pbXBvcnQgKiBhcyBzaWRlYmFyTWVudSBmcm9tICcuL2Jsb2Nrcy9zaWRlYmFyLW1lbnUvc2lkZWJhci1tZW51JztcclxuaW1wb3J0ICogYXMgYnVyZ2VyTWVudSBmcm9tICcuL2Jsb2Nrcy9oZWFkZXIvYnVyZ2VyLW1lbnUvYnVyZ2VyLW1lbnUnO1xyXG5pbXBvcnQgKiBhcyBpbnN0YWdyYW1BY2NvdW50cyBmcm9tICcuL2Jsb2Nrcy9pbnN0YWdyYW0tYWNjb3VudHMtbGlzdC9pbnN0YWdyYW0tYWNjb3VudHMtbGlzdCc7XHJcbmltcG9ydCAqIGFzIG1lc3NhZ2VzIGZyb20gJy4vYmxvY2tzL21lc3NhZ2VzL21lc3NhZ2VzJztcclxuaW1wb3J0ICogYXMgZm9sbG93IGZyb20gJy4vYmxvY2tzL2ZvbGxvdy9mb2xsb3cnO1xyXG5pbXBvcnQgKiBhcyB1bmZvbGxvdyBmcm9tICcuL2Jsb2Nrcy91bmZvbGxvdy91bmZvbGxvdy1pbmRleCc7XHJcbmltcG9ydCAqIGFzIGF1dG9tZXNzYWdlcyBmcm9tICcuL2Jsb2Nrcy9hdXRvbWVzc2FnZXMvYXV0b21lc3NhZ2VzLWluZGV4JztcclxuaW1wb3J0ICogYXMgY2hhdEJvdCBmcm9tICcuL2Jsb2Nrcy9jaGF0LWJvdC9jaGF0LWJvdC1pbmRleCc7XHJcbmltcG9ydCAqIGFzIGF1dG9ncmVldGluZyBmcm9tICcuL2Jsb2Nrcy9hdXRvZ3JlZXRpbmcvYXV0b2dyZWV0aW5nLW1haW4nO1xyXG5pbXBvcnQgKiBhcyBhdXRvY29tbWVudHMgZnJvbSAnLi9ibG9ja3MvYXV0b2NvbW1lbnRzL2F1dG9jb21tZW50cy1pbmRleCc7XHJcbmltcG9ydCAqIGFzIHN0b3JpZXMgZnJvbSAnLi9ibG9ja3Mvc3Rvcmllcy9zdG9yaWVzLWluZGV4JztcclxuXHJcbi8vIGNvbnN0IHNlbGVjdG9yQ3NzTG9naW5Gb3JtID0ge1xyXG4vLyAgICAgX2xvZ2luQm94OiBDT05TVC51aVNlbGVjdG9ycy5oZWFkZXJMb2dpbkJveCxcclxuLy8gICAgIF9mb3JtSWQ6ICcjanNfbG9naW4tZm9ybScsXHJcbi8vICAgICBfYnV0dG9uU3VibWl0SWQ6ICcjanNfbG9naW5fYnRuJyxcclxuLy8gICAgIF9zaG93TG9naW5Cb3hCdG5JZDogQ09OU1QudWlTZWxlY3RvcnMuaGVhZGVyTmF2TG9naW5CdG5cclxuLy8gfTtcclxuXHJcbi8qXHJcbiogZ2xvYmFsIGZ1bmN0aW9uc1xyXG4qL1xyXG5mdW5jdGlvbiBzZXRQdWJTdWIoUHViU3ViKSB7XHJcbiAgICB3aW5kb3cuUHViU3ViID0gUHViU3ViO1xyXG59XHJcblxyXG5mdW5jdGlvbiBpbml0VG9vbHRpcCgpIHtcclxuICAgICQoJ1tkYXRhLXRvZ2dsZT1cInRvb2x0aXBcIl0nKS50b29sdGlwKCk7XHJcbn1cclxuXHJcbmNvbnN0IGluaXQgPSAoKSA9PiB7XHJcbiAgICBzZXRQdWJTdWIoUHViU3ViKTtcclxuICAgIGluaXRUb29sdGlwKCk7XHJcbiAgICAvLyBjb25zb2xlLmxvZygnaW5pdCBqcyBoZXJlJywgQ09OU1QudXNlcik7XHJcbiAgICAobmV3IFJlZ2lzdGVyRm9ybSgpKS5pbml0KCk7XHJcbiAgICAvLyBMb2dpbkZvcm0oc2VsZWN0b3JDc3NMb2dpbkZvcm0pLmluaXQoKTtcclxuICAgIExvZ2luRm9ybSh7XHJcbiAgICAgICAgX2xvZ2luQm94OiAnbWFpbiAubG9naW4tYm94JyxcclxuICAgICAgICBfZm9ybUlkOiAnI2pzX2luc3RhZ3JhbS1hZGQtYWNjb3VudCcsXHJcbiAgICAgICAgX2J1dHRvblN1Ym1pdElkOiAnI2pzX2luc3RhZ3JhbS1hZGQtYWNjb3VudC0tYnRuJyxcclxuICAgICAgICBfc2hvd0xvZ2luQm94QnRuSWQ6ICcjanNfc2hvdy1sb2dpbi1ib3gnLFxyXG4gICAgICAgIGlzTG9naW5JbnN0YWdyYW06IHRydWVcclxuICAgIH0pLmluaXQoKTsgLy8gaW5pdCBpbnN0YWdyYW0gbG9naW4gZm9ybSAqIS9cclxuICAgIExvZ2luUGFnZSh7XHJcbiAgICAgICAgX2xvZ2luQm94OiAnLmF1dGgubG9naW4gLmNhcmQtc2lnbmluJyxcclxuICAgICAgICBfZm9ybUlkOiAnLmZvcm0tc2lnbmluJyxcclxuICAgICAgICBfYnV0dG9uU3VibWl0SWQ6ICcuZm9ybS1zaWduaW4gW3R5cGU9XCJzdWJtaXRcIl0nXHJcbiAgICB9KS5pbml0KCk7XHJcblxyXG4gICAgY29uZmlybWF0aW9uV2l0aFJlZGlyZWN0KCkuaW5pdCgpO1xyXG4gICAgaGVhZGVyLmluaXRIZWFkZXIoKTtcclxuICAgIHNpZGViYXJNZW51LmluaXRNZW51KCk7XHJcbiAgICBidXJnZXJNZW51LmluaXQoKTtcclxuICAgIGZvbGxvdy5pbml0KCk7XHJcbiAgICB1bmZvbGxvdy5pbml0KCk7XHJcbiAgICBpbnN0YWdyYW1BY2NvdW50cy5pbml0KCk7XHJcbiAgICBtZXNzYWdlcy5pbml0KCk7XHJcbiAgICBhdXRvbWVzc2FnZXMuaW5pdCgpO1xyXG4gICAgYXV0b2dyZWV0aW5nLmluaXQoKTtcclxuICAgIGF1dG9jb21tZW50cy5pbml0KCk7XHJcbiAgICBjaGF0Qm90LmluaXQoKTtcclxuICAgIHN0b3JpZXMuaW5pdCgpO1xyXG59O1xyXG5cclxuKCgpID0+IGluaXQoKSkoKTtcclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2Jvb3RzdHJhcC5qcyIsImV4cG9ydCBjb25zdCB0cGxUZXh0RmllbGQgPSAobWFpbkNscykgPT5cclxuJChgPGRpdiBjbGFzcz1cIiR7bWFpbkNsc30gbXQtMlwiPlxyXG4gICAgPGRpdiBjbGFzcz1cInJvd1wiPlxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJjb2xcIj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImpzX3RhZ3NpbnB1dC1ib3hcIj5cclxuICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIHBsYWNlaG9sZGVyPVwi0JLQstC10LTQuNGC0LUg0LrQu9GO0YfQtdCy0YvQtSDRgdC70L7QstCwXCIgdmFsdWU9XCJcIiBkYXRhLXJvbGU9XCJ0YWdzaW5wdXRcIiBjbGFzcz1cImZvcm0tY29udHJvbCBhbnN3ZXItd29yZHMgbWItMlwiIC8+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwianNfdGFnc2lucHV0LWJveCBibGFja2xpc3QtYm94IG15LTJcIj5cclxuICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIHBsYWNlaG9sZGVyPVwi0JLQstC10LTQuNGC0LUg0LzQuNC90YPRgSDRgdC70L7QstCwXCIgdmFsdWU9XCJcIiBkYXRhLXJvbGU9XCJ0YWdzaW5wdXRcIiBjbGFzcz1cImZvcm0tY29udHJvbCBibGFja2xpc3Qtd29yZHNcIiAvPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwiY29sXCI+XHJcbiAgICAgICAgICAgIDx0ZXh0YXJlYSBjbGFzcz1cImZvcm0tY29udHJvbCBhbnN3ZXItbWVzc2FnZXNcIiByb3dzPVwiNFwiXHJcbiAgICAgICAgICAgICAgICBkYXRhLWVtb2ppLXBpY2tlcj1cInRydWVcIiBzdHlsZT1cInBhZGRpbmc6IDAuMjVyZW0gMS43NXJlbSAwLjI1cmVtIDAuMjVyZW07IHdpZHRoOiAxMDAlO21pbi1oZWlnaHQ6IDQycHg7XCJcclxuICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwi0JLQstC10LTQuNGC0LUg0YHQvtC+0LHRidC10L3QuNC1XCJcclxuICAgICAgICAgICAgPjwvdGV4dGFyZWE+XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgPC9kaXY+XHJcbjwvZGl2PmApO1xyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvYmxvY2tzL2F1dG9jb21tZW50cy9hZGRBbnN3ZXJUZW1wbGF0ZS5qcyIsImltcG9ydCB7Q09OU1R9IGZyb20gJy4uLy4uL2NvbW1vbi9qcy1zZXJ2aWNlcy9jb25zdHMnO1xyXG5pbXBvcnQgKiBhcyB3aXphcmRGb3JtIGZyb20gJy4uLy4uL2Jsb2Nrcy93aXphcmQtZm9ybS93aXphcmQtZm9ybSc7XHJcbmltcG9ydCB2aWV3VXRpbHMgZnJvbSAnLi4vLi4vY29tbW9uL2pzLXNlcnZpY2VzL3ZpZXcnO1xyXG5pbXBvcnQgVXNlclRhc2tNYW5hZ2VyIGZyb20gJy4uLy4uL2NvbW1vbi9qcy1zZXJ2aWNlcy9hcGktdGFzay1tYW5hZ2VyJztcclxuaW1wb3J0ICogYXMgdGFicyBmcm9tICcuLi9fc2hhcmVkL3RlYnMtcGlscy90YWJzJztcclxuaW1wb3J0ICogYXMgYXV0b2NvbW1lbnRzU3RhdHVzIGZyb20gJy4vYXV0b2NvbW1lbnRzLXN0YXR1cyc7XHJcbmltcG9ydCAqIGFzIGxvZ3MgZnJvbSAnLi4vX3NoYXJlZC9sb2dzL2xvZ3MnO1xyXG5pbXBvcnQgKiBhcyBpbWFnZVVwbG9hZCBmcm9tICcuLi9fc2hhcmVkL2ltYWdlLXVwbG9hZC9pbWFnZS11cGxvYWQnO1xyXG5pbXBvcnQge2Vtb2ppfSBmcm9tICcuLi8uLi9jb21tb24vanMtc2VydmljZXMvZW1vamknO1xyXG5pbXBvcnQge2dldFBvc3RzfSBmcm9tICcuLi9fc2hhcmVkL2dldFBvc3RzTW9kYWwvdXRpbHMtbW9kYWwnO1xyXG5pbXBvcnQge3RwbFRleHRGaWVsZH0gZnJvbSAnLi9hZGRBbnN3ZXJUZW1wbGF0ZSc7XHJcbmltcG9ydCB7aW5pdFRhZ3NJbnB1dCwgbmV4dEJ0bnZhbGlkYXRlQ29tcGV0aXRvcnNIYW5kbGVyfSBmcm9tICcuLi9fc2hhcmVkL3RhZ3MtaW5wdXQvdGFncy1pbnB1dCc7XHJcblxyXG5jb25zdCB7Z2V0VmFsQnlDb21tYVNlcGFyYXRvcn0gPSB2aWV3VXRpbHM7XHJcbmxldCB1c2VybmFtZVNlbGVjdGVkID0gJyc7XHJcbmNvbnN0IHNlbGVjdENscyA9ICdqc19sb2dzLWFjY291bnRzJztcclxuY29uc3QgY2xzQ29uc3QgPSB7XHJcbiAgICBjdXJyZW50UGFnZUNsczogJy5hdXRvY29tbWVudHMtcGFnZScsXHJcbiAgICB0YXNrc0xpc3Q6ICcubG9nLXRhc2tzJyxcclxuICAgIGxvZ3NUYWJCdG46ICcjdi1waWxscy1sb2dzLXRhYicsXHJcbiAgICBwYWdpbmF0aW9uOiAnLmxvZ3MtcGFnaW5hdGlvbicsXHJcbiAgICBwYWdpbmF0aW9uUGdOdW1iZXI6ICcucGFnZS1udW1iZXInLFxyXG4gICAgcGF0aFR5cGU6IENPTlNULnVybC50bVR5cGVzLmF1dG9jb21tZW50c1QsXHJcbiAgICBwYXRoU3ViVHlwZTogQ09OU1QudXJsLnRtVHlwZXMuYXV0b2NvbW1lbnRzU3ViVFswXVxyXG59O1xyXG5jb25zdCBlbFNlbGVjdG9yID0ge1xyXG4gICAgZmllbGRzOiAnLmF1dG9jb21tZW50cy10ZXh0LWZpZWxkcycsXHJcbiAgICBrZXlXb3JkOiAnaW5wdXQuYW5zd2VyLXdvcmRzJyxcclxuICAgIGFuc3dlcjogJ3RleHRhcmVhLmFuc3dlci1tZXNzYWdlcycsXHJcbiAgICBmaWxlVXBsb2FkQm94OiAnLmZpbGUtdXBsb2FkJyxcclxuICAgIGFkZFBvc3RCdG5zOiAnLmpzX2F1dG9jb21tZW50cy1hZGQtcG9zdCdcclxufTtcclxuY29uc3QgbG9nc1N0YXRlID0ge1xyXG4gICAgc2VsZWN0Q2xzOiAnanNfbG9ncy1hY2NvdW50cycsXHJcbiAgICBzZWxlY3RDbHNMb2dzVGFza1R5cGU6ICdqc19sb2dzLXN1YnR5cGVzJyxcclxuICAgIHdyYXBwZXJTdWJ0eXBlOiAnLmxvZy1zdWJ5cGUnXHJcbn07XHJcblxyXG5mdW5jdGlvbiBpbml0RW1vamlpKCkge1xyXG4gICAgZW1vamkoe1xyXG4gICAgICAgIHBhZ2U6IGNsc0NvbnN0LmN1cnJlbnRQYWdlQ2xzLFxyXG4gICAgICAgIHN0eWxlczoge29sZDogJ2JvdHRvbTogMzBweDsnLCBuZXc6ICd0b3A6IC0yMTBweDsnfVxyXG4gICAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHZhbGlkYXRlSXNFbXB0eSgkZWxlbWVudHMsIGUpIHtcclxuICAgICRlbGVtZW50cy5lYWNoKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAoJCh0aGlzKS52YWwoKSA9PT0gJycpIHtcclxuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAkKHRoaXMpLmFkZENsYXNzKCdpbnB1dC1lcnJvcicpO1xyXG4gICAgICAgICAgICAvLyB2YWxpZGF0aW9uID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAkKHRoaXMpLnJlbW92ZUNsYXNzKCdpbnB1dC1lcnJvcicpO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBvblN1Ym1pdEhhbmRsZXIoZSkge1xyXG4gICAgY29uc3QgZmllbGRzID0gJChlbFNlbGVjdG9yLmZpZWxkcyk7XHJcbiAgICBjb25zdCByZXFCb2R5ID0gW107XHJcbiAgICBsZXQgdmFsaWRhdGlvbiA9IHRydWU7XHJcbiAgICBjb25zdCAkZWxlbWVudHNLZXlXb3JkID0gZmllbGRzLmZpbmQoZWxTZWxlY3Rvci5rZXlXb3JkKTtcclxuICAgIGNvbnN0ICRlbGVtZW50c0Fuc3dlciA9IGZpZWxkcy5maW5kKGVsU2VsZWN0b3IuYW5zd2VyKTtcclxuXHJcbiAgICB2YWxpZGF0ZUlzRW1wdHkoJGVsZW1lbnRzS2V5V29yZCwgZSk7XHJcbiAgICB2YWxpZGF0ZUlzRW1wdHkoJGVsZW1lbnRzQW5zd2VyLCBlKTtcclxuXHJcbiAgICBmaWVsZHMuZWFjaCgoaWR4LCBpdGVtKSA9PiB7XHJcbiAgICAgICAgY29uc3Qga2V5V29yZCA9IGdldFZhbEJ5Q29tbWFTZXBhcmF0b3IoJChpdGVtKS5maW5kKGVsU2VsZWN0b3Iua2V5V29yZCkpO1xyXG4gICAgICAgIGNvbnN0IGFuc3dlciA9ICQoaXRlbSkuZmluZChlbFNlbGVjdG9yLmFuc3dlcikudmFsKCk7XHJcbiAgICAgICAgY29uc3QgaW1hZ2VJZCA9ICQoaXRlbSkuZmluZChlbFNlbGVjdG9yLmZpbGVVcGxvYWRCb3gpLmF0dHIoJ2F0dGFjaGVkLWltZy1pZCcpO1xyXG4gICAgICAgIGNvbnN0ICRpbWFnZVBvc3RCb3ggPSAkKGl0ZW0pLmZpbmQoJy5qc191cGxvYWRlZC1pbWctZnJvbS1wb3N0cycpO1xyXG4gICAgICAgIGNvbnN0IHBvc3RJdGVtSWQgPSAkaW1hZ2VQb3N0Qm94LmRhdGEoJ3Bvc3RJZCcpO1xyXG4gICAgICAgIGNvbnN0IHBvc3RJdGVtVHlwZSA9ICRpbWFnZVBvc3RCb3guZGF0YSgncG9zdFR5cGUnKTtcclxuICAgICAgICBjb25zdCBibGFja2xpc3RXb3JkcyA9ICQoaXRlbSkuZmluZCgnaW5wdXQuYmxhY2tsaXN0LXdvcmRzJyk7XHJcbiAgICAgICAgY29uc3QgYmxhY2tsaXN0V29yZHNBcnIgPSBnZXRWYWxCeUNvbW1hU2VwYXJhdG9yKGJsYWNrbGlzdFdvcmRzKTtcclxuXHJcbiAgICAgICAgaWYgKCFrZXlXb3JkLmxlbmd0aCB8fCAhYW5zd2VyLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZygna2V5V29yZCBpcyBlbXB0eSwgbm90IHB1c2ggbWUgdG8gcmVxdWVzdCcpO1xyXG4gICAgICAgICAgICAkKGl0ZW0pLmFwcGVuZChgXHJcbiAgICAgICAgICAgICAgICA8cCBjbGFzcz1cIm1zZy1lbXB0eS1maWVsZCB0ZXh0LWRhbmdlclwiPtCf0YPRgdGC0L7QtSDQv9C+0LvQtSDQvdC1INCy0LDQu9C40LTQvdC+PC9wPlxyXG4gICAgICAgICAgICBgKTtcclxuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAkKCcubXNnLWVtcHR5LWZpZWxkJykuYWRkQ2xhc3MoJ2Qtbm9uZScpO1xyXG4gICAgICAgICAgICB9LCA1MDAwKTtcclxuICAgICAgICAgICAgdmFsaWRhdGlvbiA9IGZhbHNlO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHN1Ym1pdEJvZHlJdGVtID0ge1xyXG4gICAgICAgICAgICAna2V5X3dvcmRzJzoga2V5V29yZCxcclxuICAgICAgICAgICAgYW5zd2VyLFxyXG4gICAgICAgICAgICBibGFja2xpc3Q6IGJsYWNrbGlzdFdvcmRzQXJyLFxyXG4gICAgICAgICAgICAnYXR0YWNobWVudCc6IGltYWdlSWQgPyB7XHJcbiAgICAgICAgICAgICAgICAnaW1hZ2VfaWQnOiBpbWFnZUlkXHJcbiAgICAgICAgICAgIH0gOiB1bmRlZmluZWRcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICBpZiAocG9zdEl0ZW1JZCkge1xyXG4gICAgICAgICAgICBzdWJtaXRCb2R5SXRlbS5hdHRhY2htZW50ID0ge1xyXG4gICAgICAgICAgICAgICAgLi4uc3VibWl0Qm9keUl0ZW0uYXR0YWNobWVudCxcclxuICAgICAgICAgICAgICAgIHBvc3Q6IHtcclxuICAgICAgICAgICAgICAgICAgICBpZDogcG9zdEl0ZW1JZCxcclxuICAgICAgICAgICAgICAgICAgICB0eXBlOiBwb3N0SXRlbVR5cGUgfHwgJ3R5cGUtZXJyb3InXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJlcUJvZHkucHVzaChzdWJtaXRCb2R5SXRlbSk7XHJcbiAgICB9KTtcclxuICAgIGlmICghdmFsaWRhdGlvbikge1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCcqKmFsYXJtICoqJywgZWxTZWxlY3Rvci5rZXlXb3JkKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgblJlcUJvZHkgPSB7XHJcbiAgICAgICAgJ3VzZXJuYW1lJzogdXNlcm5hbWVTZWxlY3RlZCxcclxuICAgICAgICAndHlwZSc6IGNsc0NvbnN0LnBhdGhUeXBlLFxyXG4gICAgICAgICdzdWJ0eXBlJzogY2xzQ29uc3QucGF0aFN1YlR5cGUsXHJcbiAgICAgICAgJ3VzZXJfZGVmYXVsdF9jb25maWcnOiB7fSxcclxuICAgICAgICAndXNlcl9jdXN0b21fY29uZmlnJzoge1xyXG4gICAgICAgICAgICAnZm9ybXMnOiByZXFCb2R5XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICBmdW5jdGlvbiBjYkVycm9yKHJlcykge1xyXG4gICAgICAgIGNvbnN0IG1zZyA9IHJlcy5zdGF0dXMubWVzc2FnZTtcclxuICAgICAgICAkKCcuZm9ybS1zdWJtaXQtZmluaXNoLS1lcnJvcicpLmFkZENsYXNzKCdkLWJsb2NrJylcclxuICAgICAgICAuZmluZCgnLmFsZXJ0JykuYXBwZW5kKGA8cD4ke21zZ308L3A+YCk7XHJcbiAgICB9XHJcbiAgICBVc2VyVGFza01hbmFnZXIucG9zdFN0YXJ0VGFzayhuUmVxQm9keSwgY2JFcnJvcikudGhlbigocmVzdWx0KSA9PiB7XHJcbiAgICAgICAgaWYgKHJlc3VsdC5zdGF0dXMuc3RhdGUgPT09ICdvaycpIHtcclxuICAgICAgICAgICAgJCgnLmZvcm0tc3VibWl0LWZpbmlzaCcpLmZpbmQoJy5hbGVydCBwJykucmVtb3ZlKCk7XHJcbiAgICAgICAgICAgICQoJy5mb3JtLXN1Ym1pdC1maW5pc2gnKS5hZGRDbGFzcygnZC1ibG9jaycpXHJcbiAgICAgICAgICAgICAgICAuZmluZCgnLmFsZXJ0JykuYXBwZW5kKGA8cD50YXNrX2lkOiAke3Jlc3VsdC5kYXRhLnRhc2tfaWR9PC9wPmApO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBpbml0TG9nc1RhYigpIHtcclxuICAgIGZ1bmN0aW9uIE9uQ2hhbmdlU2VsZWN0KCkge1xyXG4gICAgICAgIGNvbnN0IHtzZWxlY3RDbHN9ID0gbG9nc1N0YXRlO1xyXG4gICAgICAgICQoYC4ke3NlbGVjdENsc31gKS5vbignY2hhbmdlJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB1c2VybmFtZVNlbGVjdGVkID0gJChgLiR7c2VsZWN0Q2xzfSBvcHRpb246c2VsZWN0ZWRgKS52YWwoKTtcclxuICAgICAgICAgICAgLy8gY2xzQ29uc3QucGF0aFN1YlR5cGUgPSBsb2dzU3RhdGUuYWN0aXZlU3ViVHlwZTtcclxuICAgICAgICAgICAgbG9ncy5pbml0KHNlbGVjdENscywgY2xzQ29uc3QpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgLy8gYWRkRHJvcGRvd24oJChsb2dzU3RhdGUud3JhcHBlclN1YnR5cGUpLCBsb2dzU3VidHlwZXMsIHtsb2dzU3RhdGUsIGRyb3Bkb3duT25TZWxlY3RDYn0pO1xyXG4gICAgdGFicy5pbml0KE9uQ2hhbmdlU2VsZWN0LCBsb2dzU3RhdGUpOyAvLyBtYWtlcyBkb3VibGUgcmVxdWVzdCA6IE9QVElPTiBhbmQgR0VUXHJcbn1cclxuXHJcbmZ1bmN0aW9uIHJlbW92ZUV4dHJhVGV4dEZpZWxkcyhlKSB7XHJcbiAgICAkKGAke2VsU2VsZWN0b3IuZmllbGRzfTpub3QoOmZpcnN0LWNoaWxkKWApLnJlbW92ZUNsYXNzKCdkLWJsb2NrJyk7XHJcbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG59XHJcblxyXG4vKiBUT0RPOiByZWZhY3RvciAtPiBtb3ZlIGluaXRNb2RhbEhhbmRsZXIgdG8gc2VwYXJhdGUgZmlsZSwgcmVtb3ZlIGluaXRNb2RhbEhhbmRsZXIgaW4gYXV0b2dyZWV0aW5nLW1haW4uanMgKi9cclxubGV0IHRhcmdldEJ1dHRvbiA9IHt9O1xyXG5cclxuZnVuY3Rpb24gbG9hZE1vcmVIYW5kbGVyKGdldFBvc3RzKSB7XHJcbiAgICAkKCcjbG9hZC1tb3JlJykub2ZmKCkub24oJ2NsaWNrJywgKGUpID0+IHtcclxuICAgICAgICBjb25zdCAkYnRuID0gJChlLnRhcmdldCk7XHJcbiAgICAgICAgY29uc3QgY3Vyc29yID0gJGJ0bi5hdHRyKCdjdXJzb3InKTtcclxuICAgICAgICBjb25zb2xlLmxvZygnbG9hZCBtb3JlIGNsaWNrJyk7XHJcbiAgICAgICAgZ2V0UG9zdHMobnVsbCwge3VzZXJOYW1lOiB1c2VybmFtZVNlbGVjdGVkLCBjdXJzb3J9LCB7bG9hZE1vcmVIYW5kbGVyOiB0aGlzLCB0YXJnZXRCdXR0b259KTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBpbml0TW9kYWxIYW5kbGVyKCkge1xyXG5cclxuICAgICQoJy5qc19vcGVuLXBvc3RzLWdyaWRNb2RhbCcpLm9uKCdjbGljaycsIGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgIHRhcmdldEJ1dHRvbiA9ICQodGhpcyk7IC8vIEJ1dHRvbiB0aGF0IHRyaWdnZXJlZCB0aGUgbW9kYWxcclxuICAgICAgICAvLyBVcGRhdGUgdGhlIG1vZGFsJ3MgY29udGVudFxyXG4gICAgICAgIGNvbnN0IG1vZGFsID0gJCgnI3Bvc3RzR3JpZE1vZGFsJyk7XHJcbiAgICAgICAgZ2V0UG9zdHMobW9kYWwsIHt1c2VyTmFtZTogdXNlcm5hbWVTZWxlY3RlZH0sIHtsb2FkTW9yZUhhbmRsZXIsIHRhcmdldEJ1dHRvbn0pO1xyXG4gICAgICAgIG1vZGFsLmZpbmQoJy5tb2RhbC10aXRsZScpLnRleHQoJ9Cf0YPQsdC70LjQutCw0YbQuNC4Jyk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuLyogVE9ETzogcmVmYWN0b3IgLT4gbW92ZSBpbml0TW9kYWxIYW5kbGVyIHRvIHNlcGFyYXRlIGZpbGUgRU5EICovXHJcblxyXG4vKipcclxuICogSW5pdCBIYW5kbGVyc1xyXG4gKi9cclxuZnVuY3Rpb24gaW5pdEhhbmRsZXJzKCkge1xyXG4gICAgY29uc3QgJGNvbXBldGl0b3JzSW5wdXQgPSAkKCcuYXV0b2NvbW1lbnRzLXRleHQtZmllbGRzIGlucHV0LmFuc3dlci13b3Jkc1tkYXRhLXJvbGU9XCJ0YWdzaW5wdXRcIl0nKTtcclxuICAgIGNvbnN0ICRibGFja0xpc3RJbnB1dCA9ICQoJy5hdXRvY29tbWVudHMtdGV4dC1maWVsZHMgaW5wdXQuYmxhY2tsaXN0LXdvcmRzW2RhdGEtcm9sZT1cInRhZ3NpbnB1dFwiXScpO1xyXG4gICAgY29uc3QgbmV4dFN0ZXBCdG4gPSAkKCdmb3JtIGJ1dHRvblt0eXBlPVwic3VibWl0XCJdJyk7XHJcbiAgICBuZXh0QnRudmFsaWRhdGVDb21wZXRpdG9yc0hhbmRsZXIoJGNvbXBldGl0b3JzSW5wdXQsIG5leHRTdGVwQnRuLCAnaWdub3JlUmVnZXhDaGVjaycpO1xyXG4gICAgbmV4dEJ0bnZhbGlkYXRlQ29tcGV0aXRvcnNIYW5kbGVyKCRibGFja0xpc3RJbnB1dCwgbnVsbCwgJ2lnbm9yZVJlZ2V4Q2hlY2snKTtcclxuXHJcbiAgICAvLyBUT0RPOiByZWZhY3RvciB3aXRoIGF1dG9ncmVldC5qcyBpbml0SGFuZGxlcnNcclxuICAgIC8vICQoJ1tkYXRhLXRvZ2dsZT1cInBvcG92ZXJcIl0nKS5wb3BvdmVyKCk7IC8vIGluaXRcclxuICAgICQoJy5qc19hZGQtYXV0b2NvbW1lbnRzJykub24oJ2NsaWNrJywgKGUpID0+IHtcclxuICAgICAgICBjb25zdCBsYXN0VGV4dEZpZWxkID0gJChlbFNlbGVjdG9yLmZpZWxkcykubGFzdCgpO1xyXG4gICAgICAgIHRwbFRleHRGaWVsZChlbFNlbGVjdG9yLmZpZWxkcy5zdWJzdHIoMSkpLmluc2VydEFmdGVyKGxhc3RUZXh0RmllbGQpO1xyXG4gICAgICAgIGltYWdlVXBsb2FkLmluaXQoKTtcclxuICAgICAgICAvLyAkKCdbZGF0YS10b2dnbGU9XCJwb3BvdmVyXCJdJykucG9wb3ZlcigpOyAvLyByZWluaXRcclxuICAgICAgICAkKCdbZGF0YS10b2dnbGU9XCJ0b29sdGlwXCJdJykudG9vbHRpcCgpOyAvLyByZWluaXRcclxuICAgICAgICBpbml0TW9kYWxIYW5kbGVyKCk7XHJcblxyXG4gICAgICAgIGNvbnN0IGxhc3RUZXh0RmllbGRBZnRlckluc2VydCA9ICQoZWxTZWxlY3Rvci5maWVsZHMpLmxhc3QoKTtcclxuICAgICAgICBjb25zdCAkaW5wdXRBbnN3ZXJXb3JkcyA9ICQoJ2lucHV0LmFuc3dlci13b3Jkc1tkYXRhLXJvbGU9XCJ0YWdzaW5wdXRcIl0nLCBsYXN0VGV4dEZpZWxkQWZ0ZXJJbnNlcnQpO1xyXG4gICAgICAgIGNvbnN0ICRibGFja0xpc3RJbnB1dCA9ICQoJ2lucHV0LmJsYWNrbGlzdC13b3Jkc1tkYXRhLXJvbGU9XCJ0YWdzaW5wdXRcIl0nLCBsYXN0VGV4dEZpZWxkQWZ0ZXJJbnNlcnQpO1xyXG5cclxuICAgICAgICBpbml0VGFnc0lucHV0KCRpbnB1dEFuc3dlcldvcmRzKTsgLy8gcmVpbml0IGFuc3dlci13b3Jkc1xyXG4gICAgICAgIGluaXRUYWdzSW5wdXQoJGJsYWNrTGlzdElucHV0KTsgLy8gcmVpbml0IGJsYWNrbGlzdC13b3Jkc1xyXG4gICAgICAgIG5leHRCdG52YWxpZGF0ZUNvbXBldGl0b3JzSGFuZGxlcigkaW5wdXRBbnN3ZXJXb3JkcywgbmV4dFN0ZXBCdG4sICdpZ25vcmVSZWdleENoZWNrJyk7XHJcbiAgICAgICAgbmV4dEJ0bnZhbGlkYXRlQ29tcGV0aXRvcnNIYW5kbGVyKCRibGFja0xpc3RJbnB1dCwgbnVsbCwgJ2lnbm9yZVJlZ2V4Q2hlY2snKTtcclxuICAgICAgICBpbml0RW1vamlpKCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBhbGVydCBzdWNjZXNzIGNsb3NlXHJcbiAgICAkKCcuZm9ybS1zdWJtaXQtZmluaXNoIC5jbG9zZScpLm9uKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coJ2FsZXJ0IGNsb3NlJyk7XHJcbiAgICAgICAgJCgnI3YtcGlsbHMtYWxsLXRhYicpLnRyaWdnZXIoJ2NsaWNrJyk7XHJcbiAgICAgICAgd2luZG93LlB1YlN1Yi5wdWJsaXNoKENPTlNULmV2ZW50cy50YXNrcy5ORVdfVEFTS19DUkVBVEVEKTtcclxuICAgICAgICAvLyByZW1vdmVFeHRyYVRleHRGaWVsZHMoZSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBhbGVydCBjbG9zZVxyXG4gICAgJCgnLmZvcm0tc3VibWl0LWZpbmlzaC0tZXJyb3IgLmNsb3NlJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCdhbGVydCBjbG9zZScpO1xyXG4gICAgICAgICQoJyN2LXBpbGxzLWFsbC10YWInKS50cmlnZ2VyKCdjbGljaycpO1xyXG4gICAgICAgIHdpbmRvdy5QdWJTdWIucHVibGlzaChDT05TVC5ldmVudHMudGFza3MuTkVXX1RBU0tfQ1JFQVRFRCk7XHJcbiAgICAgICAgcmVtb3ZlRXh0cmFUZXh0RmllbGRzKCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyB0YWJzLmluaXQoZmlsbExpc3RVc2Vycyk7XHJcbiAgICBpbml0TG9nc1RhYigpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBzZXRVc2VyTmFtZShzdGF0ZSkge1xyXG4gICAgLy8gY29uc29sZS5sb2coJ2dldFRhc2tzRGF0YScsIHN0YXRlLnVzZXJuYW1lKTtcclxuICAgIHVzZXJuYW1lU2VsZWN0ZWQgPSBzdGF0ZS51c2VybmFtZTtcclxufVxyXG5cclxuZnVuY3Rpb24gc3RlcFJlZHVjZXIoc3RlcE51bWJlciwgc3RhdGUpIHtcclxuICAgIHN3aXRjaCAoc3RlcE51bWJlcikge1xyXG4gICAgICAgIGNhc2UgMDpcclxuICAgICAgICAgICAgc2V0VXNlck5hbWUoc3RhdGUpO1xyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhzdGF0ZSwgc3RlcE51bWJlcik7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdkZWZhdWx0Jywgc3RlcE51bWJlcik7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBpbml0KCkge1xyXG4gICAgaWYgKCQoY2xzQ29uc3QuY3VycmVudFBhZ2VDbHMpLmxlbmd0aCkge1xyXG4gICAgICAgIGNvbnN0IHdpemFyZENmZyA9IHtcclxuICAgICAgICAgICAgc3RlcFJlZHVjZXIsXHJcbiAgICAgICAgICAgIG9uU3VibWl0SGFuZGxlclxyXG4gICAgICAgIH07XHJcbiAgICAgICAgd2l6YXJkRm9ybS5pbml0KHdpemFyZENmZyk7XHJcbiAgICAgICAgaW5pdEhhbmRsZXJzKCk7XHJcbiAgICAgICAgYXV0b2NvbW1lbnRzU3RhdHVzLmluaXQoKTtcclxuICAgICAgICAvLyBpbml0VGFnc0lucHV0KCcuYmxhY2tsaXN0LWJveCBpbnB1dCcpO1xyXG5cclxuICAgICAgICB3aW5kb3cuUHViU3ViLnN1YnNjcmliZShDT05TVC5ldmVudHMuaW5zdGFncmFtQWNjb3Vucy5JTlNUQUdSQU1fQUNDT1VOU19SRU5ERVJFRF9MQVpZLCAoZSwgYWNjb3VudHMpID0+IHtcclxuICAgICAgICAgICAgbG9ncy5pbml0KHNlbGVjdENscywgY2xzQ29uc3QpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vIHdpbmRvdy5QdWJTdWIuc3Vic2NyaWJlKENPTlNULmV2ZW50cy5hdXRvYXJuc3dlci5JTUFHRV9VUExPQURFRCwgKGUsIHJlcykgPT4ge1xyXG4gICAgICAgIC8vICAgICBjb25zdCB7cmVzcG9uc2V9ID0gcmVzO1xyXG4gICAgICAgIC8vICAgICBjb25zdCByZXN1bHQgPSAocmVzcG9uc2UubGVuZ3RoKSA/IEpTT04ucGFyc2UocmVzcG9uc2UpIDogJyc7XHJcbiAgICAgICAgLy8gICAgIGNvbnN0IGltYWdlSWQgPSByZXN1bHQgJiYgcmVzdWx0LmRhdGEgJiYgcmVzdWx0LmRhdGEuaW1hZ2VfaWQ7XHJcbiAgICAgICAgLy8gICAgICQocmVzLmVsKS5jbG9zZXN0KCcuZmlsZS11cGxvYWQnKS5hdHRyKCdhdHRhY2hlZC1pbWctaWQnLCBpbWFnZUlkKTtcclxuICAgICAgICAvLyAgICAgY29uc29sZS5sb2coJ2ltYWdlX2xvYWRlZCcsIHJlcyk7XHJcbiAgICAgICAgLy9cclxuICAgICAgICAvLyAgICAgLy8gdG9kbzogbWFrZSBhcyBjYWxsQmFja1xyXG4gICAgICAgIC8vICAgICBjb25zdCAkaW1hZ2VCb3ggPSAkKHJlcy5lbCkuY2xvc2VzdCgnLmNvbCcpLmZpbmQoJy5qc191cGxvYWRlZC1pbWctZnJvbS1wb3N0cycpO1xyXG4gICAgICAgIC8vICAgICBpZiAoJGltYWdlQm94Lmxlbmd0aCkge1xyXG4gICAgICAgIC8vICAgICAgICAgJGltYWdlQm94LnJlbW92ZSgpO1xyXG4gICAgICAgIC8vICAgICB9XHJcbiAgICAgICAgLy8gfSk7XHJcbiAgICAgICAgLy8gd2luZG93LlB1YlN1Yi5zdWJzY3JpYmUoQ09OU1QuZXZlbnRzLm1vZGFsLklNQUdFX1BPU1RfU0VMRUNURUQsIChlLCBkYXRhKSA9PiB7XHJcbiAgICAgICAgLy8gICAgIGNvbnN0ICRpbWFnZUJveCA9ICQoZGF0YS5jbG9zZXN0Q29sKS5maW5kKCcuZmlsZS11cGxvYWQtY29udGVudCcpO1xyXG4gICAgICAgIC8vICAgICBjb25zb2xlLmxvZygnJGltYWdlQm94JywgJGltYWdlQm94KTtcclxuICAgICAgICAvLyAgICAgaWYgKCRpbWFnZUJveC5sZW5ndGgpIHtcclxuICAgICAgICAvLyAgICAgICAgICRpbWFnZUJveC5oaWRlKCk7XHJcbiAgICAgICAgLy8gICAgIH1cclxuICAgICAgICAvLyB9KTtcclxuICAgICAgICBpbml0RW1vamlpKCk7XHJcbiAgICB9XHJcbn1cclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2Jsb2Nrcy9hdXRvY29tbWVudHMvYXV0b2NvbW1lbnRzLWluZGV4LmpzIiwiaW1wb3J0IHtDT05TVH0gZnJvbSAnLi4vLi4vY29tbW9uL2pzLXNlcnZpY2VzL2NvbnN0cyc7XHJcbmltcG9ydCB7Z2V0VGFza3NEYXRhfSBmcm9tICcuLi9fc2hhcmVkL3Rhc2stc3RhdHVzL3Rhc2stc3RhdHVzJztcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBpbml0KCkge1xyXG4gICAgaWYgKCQoJy5hdXRvY29tbWVudHMtcGFnZScpLmxlbmd0aCkge1xyXG4gICAgICAgIGNvbnN0IHBhdGggPSB7XHJcbiAgICAgICAgICAgIHR5cGU6IENPTlNULnVybC50bVR5cGVzLmF1dG9jb21tZW50c1QsXHJcbiAgICAgICAgICAgIHN1YnR5cGU6IENPTlNULnVybC50bVR5cGVzLmF1dG9jb21tZW50c1N1YlRbMF1cclxuICAgICAgICB9O1xyXG4gICAgICAgIGNvbnN0IHdyYXBwZXJzID0ge1xyXG4gICAgICAgICAgICAkcnVuczogJCgnLnRhc2tzLXJ1bnMnKSxcclxuICAgICAgICAgICAgJHN0b3BwZWQ6ICQoJy50YXNrcy1zdG9wcGVkJyksXHJcbiAgICAgICAgICAgICRhbGw6ICQoJy50YXNrcy1hbGwnKVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIC8vIHRhc2stc3RhdHVzIGhhcyBvbmUgc3VidHlwZSwgc28gZG8gbm90IGFkZCBkcm9wZG93blxyXG4gICAgICAgIC8vIHJlbmRlciBzdGF0dXMgZHJvcGRvd25cclxuICAgICAgICAvLyBjb25zdCB0ZXh0UnVzQXJyYXkgPSBbJ9Cf0L4gREVGQVVMVF9BVVRPX0FOU1dFUiddO1xyXG4gICAgICAgIC8vIGRyb3BEb3duLmFkZERyb3Bkb3duKGxvZ3NTdGF0ZVN0YXR1cy53cmFwcGVyU3VidHlwZSwgQ09OU1QudXJsLnRtVHlwZXMuc3Rvcmllc1N1YlQsIHtsb2dzU3RhdGU6IGxvZ3NTdGF0ZVN0YXR1cywgZHJvcGRvd25PblNlbGVjdENiLCB0ZXh0UnVzQXJyYXl9KTtcclxuXHJcbiAgICAgICAgZ2V0VGFza3NEYXRhKHdyYXBwZXJzLCBwYXRoKTtcclxuICAgICAgICAvLyB3aW5kb3cuUHViU3ViLnN1YnNjcmliZShDT05TVC5ldmVudHMuaW5zdGFncmFtQWNjb3Vucy5JTlNUQUdSQU1fQUNDT1VOU19SRU5ERVJFRCwgKGV2ZW50TmFtZSwgZGF0YSkgPT4ge1xyXG4gICAgICAgIC8vICAgICBnZXRUYXNrc0RhdGEod3JhcHBlcnMsIHBhdGgpO1xyXG4gICAgICAgIC8vICAgICBjb25zb2xlLmxvZygnKiphbnN3ZXItc3RhdHVzJywgZXZlbnROYW1lLCBkYXRhKTtcclxuICAgICAgICAvLyB9KTtcclxuICAgICAgICB3aW5kb3cuUHViU3ViLnN1YnNjcmliZShDT05TVC5ldmVudHMudGFza3MuTkVXX1RBU0tfQ1JFQVRFRCwgKGV2ZW50TmFtZSwgZGF0YSkgPT4ge1xyXG4gICAgICAgICAgICBnZXRUYXNrc0RhdGEod3JhcHBlcnMsIHBhdGgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59XHJcblxyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvYmxvY2tzL2F1dG9jb21tZW50cy9hdXRvY29tbWVudHMtc3RhdHVzLmpzIiwiZXhwb3J0IGNvbnN0IHRwbFRleHRGaWVsZEdyZWV0ID0gKG1haW5DbHMpID0+XHJcbiQoYDxkaXYgY2xhc3M9XCIke21haW5DbHN9XCI+XHJcbiAgICAgICAgPGRpdiBjbGFzcz1cInJvd1wiPlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sXCI+XHJcbiAgICAgICAgICAgICAgICA8ZGl2PiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICA8dGV4dGFyZWEgY2xhc3M9XCJmb3JtLWNvbnRyb2wgYW5zd2VyLXdvcmRzXCIgcm93cz1cIjRcIiBcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS1lbW9qaS1waWNrZXI9XCJ0cnVlXCIgcGxhY2Vob2xkZXI9XCLQktCy0LXQtNC40YLQtSDRgdC+0L7QsdGJ0LXQvdC40LVcIj48L3RleHRhcmVhPiAgICBcclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgICAgICAgICAgIDwhLS0gZmlsZS11cGxvYWQgLS0+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmlsZS11cGxvYWQtYnRuLWJveFwiIGRhdGEtdG9nZ2xlPVwidG9vbHRpcFwiIGRhdGEtcGxhY2VtZW50PVwidG9wXCIgdGl0bGU9XCLQlNC+0LHQsNCy0LjRgtGMINC40LfQvtCx0YDQsNC20LXQvdC40LVcIj5cclxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwiZmlsZS11cGxvYWQtYnRuIGJ0biBidG4tc3VjY2Vzc1wiIHR5cGU9XCJidXR0b25cIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9XCJmYXIgZmEtaW1hZ2UgZmEtbGdcIj48L2k+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImJ0biBidG4tc3VjY2VzcyBwb3N0LXVwbG9hZC1idG4ganNfYXV0b21lc3NhZ2VzLWFkZC1wb3N0XCJcclxuICAgICAgICAgICAgICAgICAgICB0aXRsZT1cItCU0L7QsdCw0LLQuNGC0Ywg0L/Rg9Cx0LvQuNC60LDRhtC40Y5cIlxyXG4gICAgICAgICAgICAgICAgICAgIGRhdGEtdG9nZ2xlPVwidG9vbHRpcFwiXHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YS1wbGFjZW1lbnQ9XCJ0b3BcIlxyXG4gICAgICAgICAgICAgICAgICAgIGRhdGEtcG9zdC1pbmZvPVwidG9kbzogZ2V0IHJlcSB0byB1c2VyOiBcIj5cclxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImpzX29wZW4tcG9zdHMtZ3JpZE1vZGFsXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS1jb250YWluZXI9XCJib2R5XCIgZGF0YS10b2dnbGU9XCJwb3BvdmVyXCIgZGF0YS1wbGFjZW1lbnQ9XCJib3R0b21cIiBkYXRhLWNvbnRlbnQ9XCLQoyDRgtC10LrRg9GJ0LXQs9C+INCw0LrQutCw0YPQvdGC0LAg0L3QtdGCINC90Lgg0L7QtNC90L7Qs9C+INC/0L7RgdGC0LBcIj5cclxuICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz1cImZhciBmYS1pbWFnZXMgZmEtbGdcIj48L2k+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtdC0yXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZpbGUtdXBsb2FkXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaW1hZ2UtdXBsb2FkLXdyYXBcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IGNsYXNzPVwiZmlsZS11cGxvYWQtaW5wdXRcIiB0eXBlPVwiZmlsZVwiIGFjY2VwdD1cIi5qcGcsIC5qcGVnXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmaWxlLXVwbG9hZC1jb250ZW50XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxpbWcgY2xhc3M9XCJmaWxlLXVwbG9hZC1pbWFnZVwiIHNyYz1cIiNcIiBhbHQ9XCJ5b3VyIGltYWdlXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJpbWFnZS10aXRsZS13cmFwXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJyZW1vdmUtaW1hZ2UgYnRuIGJ0bi13YXJuaW5nXCI+0KPQtNCw0LvQuNGC0YwgPHNwYW4gY2xhc3M9XCJpbWFnZS10aXRsZVwiPtCX0LDQs9GA0YPQt9C40YLRjDwvc3Bhbj48L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgIDwvZGl2PmApO1xyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvYmxvY2tzL2F1dG9ncmVldGluZy9hZGRHcmVldFRlbXBsYXRlLmpzIiwiaW1wb3J0IHtDT05TVH0gZnJvbSAnLi4vLi4vY29tbW9uL2pzLXNlcnZpY2VzL2NvbnN0cyc7XHJcbmltcG9ydCAqIGFzIHdpemFyZEZvcm0gZnJvbSAnLi4vLi4vYmxvY2tzL3dpemFyZC1mb3JtL3dpemFyZC1mb3JtJztcclxuaW1wb3J0IFVzZXJUYXNrTWFuYWdlciBmcm9tICcuLi8uLi9jb21tb24vanMtc2VydmljZXMvYXBpLXRhc2stbWFuYWdlcic7XHJcbmltcG9ydCAqIGFzIHRhYnMgZnJvbSAnLi4vX3NoYXJlZC90ZWJzLXBpbHMvdGFicyc7XHJcbmltcG9ydCAqIGFzIGNoYXRCb3RTdGF0dXMgZnJvbSAnLi9hdXRvZ3JlZXRpbmctc3RhdHVzJztcclxuaW1wb3J0ICogYXMgbG9ncyBmcm9tICcuLi9fc2hhcmVkL2xvZ3MvbG9ncyc7XHJcbmltcG9ydCB7ZW1vaml9IGZyb20gJy4uLy4uL2NvbW1vbi9qcy1zZXJ2aWNlcy9lbW9qaSc7XHJcbmltcG9ydCAqIGFzIGltYWdlVXBsb2FkIGZyb20gJy4uL19zaGFyZWQvaW1hZ2UtdXBsb2FkL2ltYWdlLXVwbG9hZCc7XHJcbmltcG9ydCB7Z2V0UG9zdHN9IGZyb20gJy4uL19zaGFyZWQvZ2V0UG9zdHNNb2RhbC91dGlscy1tb2RhbCc7XHJcbmltcG9ydCB7dHBsVGV4dEZpZWxkR3JlZXR9IGZyb20gJy4vYWRkR3JlZXRUZW1wbGF0ZSc7XHJcblxyXG5sZXQgdXNlcm5hbWVTZWxlY3RlZCA9ICcnO1xyXG5jb25zdCBzZWxlY3RDbHMgPSAnanNfbG9ncy1hY2NvdW50cyc7XHJcbmNvbnN0IHNwZWVkVHlwZSA9ICcuanNfYXV0b2dyZWV0aW5nLXNwZWVkJztcclxuY29uc3QgY2xzQ29uc3QgPSB7XHJcbiAgICBjdXJyZW50UGFnZUNsczogJy5hdXRvZ3JlZXRpbmctcGFnZScsXHJcbiAgICB0YXNrc0xpc3Q6ICcubG9nLXRhc2tzJyxcclxuICAgIGxvZ3NUYWJCdG46ICcjdi1waWxscy1sb2dzLXRhYicsXHJcbiAgICBwYWdpbmF0aW9uOiAnLmxvZ3MtcGFnaW5hdGlvbicsXHJcbiAgICBwYWdpbmF0aW9uUGdOdW1iZXI6ICcucGFnZS1udW1iZXInLFxyXG4gICAgcGF0aFR5cGU6IENPTlNULnVybC50bVR5cGVzLmF1dG9ncmVldFQsXHJcbiAgICBwYXRoU3ViVHlwZTogQ09OU1QudXJsLnRtVHlwZXMuYXV0b2dyZWV0U3ViVFswXVxyXG59O1xyXG5jb25zdCBlbFNlbGVjdG9yID0ge1xyXG4gICAgZmllbGRzOiAnLmF1dG9ncmVldGluZy10ZXh0LWZpZWxkcycsXHJcbiAgICBmaWxlVXBsb2FkQm94OiAnLmZpbGUtdXBsb2FkJ1xyXG59O1xyXG5jb25zdCBzdGF0ZSA9IHtcclxuICAgIHVzZXJfZGVmYXVsdF9jb25maWc6IHtcclxuICAgICAgICB0YXNrX21vZGU6ICdTQUZFJ1xyXG4gICAgfVxyXG59O1xyXG5cclxuZnVuY3Rpb24gb25TdWJtaXRIYW5kbGVyKGUpIHtcclxuICAgIGNvbnN0IGZpZWxkcyA9ICQoZWxTZWxlY3Rvci5maWVsZHMpO1xyXG4gICAgY29uc3QgcmVxQm9keSA9IFtdO1xyXG4gICAgY29uc3QgZ2V0QXR0YWNobWVudCA9IChpdGVtKSA9PiB7XHJcbiAgICAgICAgY29uc3QgaW1hZ2VJZCA9ICQoaXRlbSkuZmluZChlbFNlbGVjdG9yLmZpbGVVcGxvYWRCb3gpLmF0dHIoJ2F0dGFjaGVkLWltZy1pZCcpO1xyXG4gICAgICAgIGNvbnN0ICRpbWFnZVBvc3RCb3ggPSAkKGl0ZW0pLmZpbmQoJy5qc191cGxvYWRlZC1pbWctZnJvbS1wb3N0cycpO1xyXG4gICAgICAgIGNvbnN0IHBvc3RJdGVtSWQgPSAkaW1hZ2VQb3N0Qm94LmRhdGEoJ3Bvc3RJZCcpO1xyXG4gICAgICAgIGNvbnN0IHBvc3RJdGVtVHlwZSA9ICRpbWFnZVBvc3RCb3guZGF0YSgncG9zdFR5cGUnKTtcclxuICAgICAgICBjb25zdCBwb3N0ID0ge1xyXG4gICAgICAgICAgICBpZDogcG9zdEl0ZW1JZCxcclxuICAgICAgICAgICAgdHlwZTogcG9zdEl0ZW1UeXBlIHx8ICd0eXBlLWVycm9yJ1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgbGV0IGF0dGFjaG1lbnQgPSBudWxsO1xyXG5cclxuICAgICAgICBpZiAocG9zdEl0ZW1JZCkge1xyXG4gICAgICAgICAgICBhdHRhY2htZW50ID0ge3Bvc3R9O1xyXG4gICAgICAgIH0gZWxzZSBpZiAoaW1hZ2VJZCkge1xyXG4gICAgICAgICAgICBhdHRhY2htZW50ID0geydpbWFnZV9pZCc6IGltYWdlSWR9O1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gYXR0YWNobWVudDtcclxuICAgIH07XHJcbiAgICBmaWVsZHMuZWFjaCgoaWR4LCBpdGVtKSA9PiB7XHJcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9ICQoaXRlbSkuZmluZCgndGV4dGFyZWEuYW5zd2VyLXdvcmRzJykudmFsKCk7XHJcbiAgICAgICAgLy8gY29uc3QgaW1hZ2VJZCA9ICQoaXRlbSkuZmluZChlbFNlbGVjdG9yLmZpbGVVcGxvYWRCb3gpLmF0dHIoJ2F0dGFjaGVkLWltZy1pZCcpO1xyXG4gICAgICAgIC8vIGNvbnN0ICRpbWFnZVBvc3RCb3ggPSAkKGl0ZW0pLmZpbmQoJy5qc191cGxvYWRlZC1pbWctZnJvbS1wb3N0cycpO1xyXG4gICAgICAgIC8vIGNvbnN0IHBvc3RJdGVtSWQgPSAkaW1hZ2VQb3N0Qm94LmRhdGEoJ3Bvc3RJZCcpO1xyXG4gICAgICAgIC8vIGNvbnN0IHBvc3RJdGVtVHlwZSA9ICRpbWFnZVBvc3RCb3guZGF0YSgncG9zdFR5cGUnKTtcclxuICAgICAgICAvLyBjb25zdCBwb3N0ID0ge1xyXG4gICAgICAgIC8vICAgICBpZDogcG9zdEl0ZW1JZCxcclxuICAgICAgICAvLyAgICAgdHlwZTogcG9zdEl0ZW1UeXBlIHx8ICd0eXBlLWVycm9yJ1xyXG4gICAgICAgIC8vIH07XHJcblxyXG4gICAgICAgIC8vIGlmIChwb3N0SXRlbUlkKSB7XHJcbiAgICAgICAgLy8gICAgIGF0dGFjaG1lbnQgPSB7cG9zdH07XHJcbiAgICAgICAgLy8gfSBlbHNlIGlmIChpbWFnZUlkKSB7XHJcbiAgICAgICAgLy8gICAgIGF0dGFjaG1lbnQgPSB7J2ltYWdlX2lkJzogaW1hZ2VJZH07XHJcbiAgICAgICAgLy8gfVxyXG5cclxuICAgICAgICBjb25zdCBhdHRhY2htZW50SW1nID0gZ2V0QXR0YWNobWVudChpdGVtKTtcclxuICAgICAgICByZXFCb2R5LnB1c2goe1xyXG4gICAgICAgICAgICAnYW5zd2VyJzogbWVzc2FnZSxcclxuICAgICAgICAgICAgJ2F0dGFjaG1lbnQnOiAoYXR0YWNobWVudEltZykgPyBhdHRhY2htZW50SW1nIDogdW5kZWZpbmVkXHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxuICAgIGNvbnN0IG5SZXFCb2R5ID0ge1xyXG4gICAgICAgICd1c2VybmFtZSc6IHVzZXJuYW1lU2VsZWN0ZWQgfHwgJ3RoZV9yb3N0eXNsYXYnLFxyXG4gICAgICAgICd0eXBlJzogQ09OU1QudXJsLnRtVHlwZXMuYXV0b2dyZWV0VCxcclxuICAgICAgICAnc3VidHlwZSc6IENPTlNULnVybC50bVR5cGVzLmF1dG9ncmVldFN1YlRbMF0sXHJcbiAgICAgICAgJ3VzZXJfZGVmYXVsdF9jb25maWcnOiB7XHJcbiAgICAgICAgICAgICd0YXNrX21vZGUnOiBzdGF0ZS51c2VyX2RlZmF1bHRfY29uZmlnLnRhc2tfbW9kZSAvLyB0b2RvXHJcbiAgICAgICAgfSxcclxuICAgICAgICAndXNlcl9jdXN0b21fY29uZmlnJzoge1xyXG4gICAgICAgICAgICAnZm9ybXMnOiByZXFCb2R5XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIGNvbnNvbGUubG9nKCdtYWtlIHJlcXVlc3QgKionLCBuUmVxQm9keSk7XHJcbiAgICBmdW5jdGlvbiBjYkVycm9yKHJlcykge1xyXG4gICAgICAgIGNvbnN0IG1zZyA9IHJlcy5zdGF0dXMubWVzc2FnZTtcclxuICAgICAgICAkKCcuZm9ybS1zdWJtaXQtZmluaXNoLS1lcnJvcicpLmFkZENsYXNzKCdkLWJsb2NrJylcclxuICAgICAgICAuZmluZCgnLmFsZXJ0JykuYXBwZW5kKGA8cD4ke21zZ308L3A+YCk7XHJcbiAgICB9XHJcbiAgICBVc2VyVGFza01hbmFnZXIucG9zdFN0YXJ0VGFzayhuUmVxQm9keSwgY2JFcnJvcikudGhlbigocmVzdWx0KSA9PiB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ3Bvc3RCb3QnKTtcclxuICAgICAgICBpZiAocmVzdWx0LnN0YXR1cy5zdGF0ZSA9PT0gJ29rJykge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhKU09OLnN0cmluZ2lmeShyZXN1bHQpKTtcclxuICAgICAgICAgICAgJCgnLmZvcm0tc3VibWl0LWZpbmlzaCcpLmZpbmQoJy5hbGVydCBwJykucmVtb3ZlKCk7XHJcbiAgICAgICAgICAgICQoJy5mb3JtLXN1Ym1pdC1maW5pc2gnKS5hZGRDbGFzcygnZC1ibG9jaycpXHJcbiAgICAgICAgICAgICAgICAuZmluZCgnLmFsZXJ0JykuYXBwZW5kKGA8cD50YXNrX2lkOiAke3Jlc3VsdC5kYXRhLnRhc2tfaWR9PC9wPmApO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG59XHJcblxyXG4vLyBmdW5jdGlvbiBmaWxsTGlzdFVzZXJzKCR3cmFwcGVyLCBkYXRhKSB7XHJcbi8vICAgICAkd3JhcHBlci5lbXB0eSgpLmFkZENsYXNzKCdib3JkZXItbGlnaHQtY29sb3InKTtcclxuLy8gICAgICQoYDxkaXYgY2xhc3M9XCJcIj7QlNC+0YHRgtGD0L/QvdGL0LUg0LDQutC60LDRg9C90YLRizwvZGl2PjxzZWxlY3QgbmFtZT1cInRhc2stdHlwZVwiIGNsYXNzPVwiJHtzZWxlY3RDbHN9XCI+PC9zZWxlY3Q+YCkuYXBwZW5kVG8oJHdyYXBwZXIpO1xyXG4vLyAgICAgZGF0YS5mb3JFYWNoKChuYW1lKSA9PiB7XHJcbi8vICAgICAgICAgJChgPG9wdGlvbiBjbGFzcz1cImxpc3QtZ3JvdXAtaXRlbSBweS0yXCIgdmFsdWU9XCIke25hbWV9XCI+XHJcbi8vICAgICAgICAgICAgICR7bmFtZX1cclxuLy8gICAgICAgICA8L29wdGlvbj5gKS5hcHBlbmRUbygkKGAuJHtzZWxlY3RDbHN9YCkpO1xyXG4vLyAgICAgfSk7XHJcbi8vICAgICAkKGAuJHtzZWxlY3RDbHN9YCkub24oJ2NoYW5nZScsIGZ1bmN0aW9uICgpIHtcclxuLy8gICAgICAgICB1c2VybmFtZVNlbGVjdGVkID0gJChgLiR7c2VsZWN0Q2xzfSBvcHRpb246c2VsZWN0ZWRgKS52YWwoKTtcclxuLy8gICAgICAgICBjb25zb2xlLmxvZyh1c2VybmFtZVNlbGVjdGVkKTtcclxuLy8gICAgICAgICBsb2dzLmluaXQoc2VsZWN0Q2xzLCBjbHNDb25zdCk7XHJcbi8vICAgICB9KTtcclxuLy8gfVxyXG5cclxuY29uc3QgbG9nc1N0YXRlID0gQ09OU1QubG9nc1N0YXRlO1xyXG5mdW5jdGlvbiBpbml0TG9nc1RhYigpIHtcclxuICAgIGZ1bmN0aW9uIE9uQ2hhbmdlU2VsZWN0KCkge1xyXG4gICAgICAgIGNvbnN0IHtzZWxlY3RDbHN9ID0gbG9nc1N0YXRlO1xyXG4gICAgICAgICQoYC4ke3NlbGVjdENsc31gKS5vbignY2hhbmdlJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB1c2VybmFtZVNlbGVjdGVkID0gJChgLiR7c2VsZWN0Q2xzfSBvcHRpb246c2VsZWN0ZWRgKS52YWwoKTtcclxuICAgICAgICAgICAgLy8gY2xzQ29uc3QucGF0aFN1YlR5cGUgPSBsb2dzU3RhdGUuYWN0aXZlU3ViVHlwZTtcclxuICAgICAgICAgICAgbG9ncy5pbml0KHNlbGVjdENscywgY2xzQ29uc3QpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgLy8gYWRkRHJvcGRvd24oJChsb2dzU3RhdGUud3JhcHBlclN1YnR5cGUpLCBsb2dzU3VidHlwZXMsIHtsb2dzU3RhdGUsIGRyb3Bkb3duT25TZWxlY3RDYn0pO1xyXG4gICAgdGFicy5pbml0KE9uQ2hhbmdlU2VsZWN0LCBsb2dzU3RhdGUpOyAvLyBtYWtlcyBkb3VibGUgcmVxdWVzdCA6IE9QVElPTiBhbmQgR0VUXHJcbn1cclxuXHJcbmZ1bmN0aW9uIGluaXRFbW9qaWkoKSB7XHJcbiAgICBlbW9qaSh7XHJcbiAgICAgICAgcGFnZTogY2xzQ29uc3QuY3VycmVudFBhZ2VDbHMsXHJcbiAgICAgICAgc3R5bGVzOiB7b2xkOiAnYm90dG9tOiAzMHB4OycsIG5ldzogJ3RvcDogLTIxMHB4Oyd9XHJcbiAgICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gcmVtb3ZlRXh0cmFUZXh0RmllbGRzKCkge1xyXG4gICAgJChgJHtlbFNlbGVjdG9yLmZpZWxkc306bm90KDpmaXJzdC1jaGlsZClgKS5yZW1vdmUoKTtcclxufVxyXG5cclxuLyogVE9ETzogcmVmYWN0b3IgLT4gbW92ZSBpbml0TW9kYWxIYW5kbGVyIHRvIHNlcGFyYXRlIGZpbGUgKi9cclxubGV0IHRhcmdldEJ1dHRvbiA9IHt9O1xyXG5cclxuZnVuY3Rpb24gbG9hZE1vcmVIYW5kbGVyKGdldFBvc3RzKSB7XHJcbiAgICAkKCcjbG9hZC1tb3JlJykub24oJ2NsaWNrJywgKGUpID0+IHtcclxuICAgICAgICBjb25zdCAkYnRuID0gJChlLnRhcmdldCk7XHJcbiAgICAgICAgY29uc3QgY3Vyc29yID0gJGJ0bi5hdHRyKCdjdXJzb3InKTtcclxuICAgICAgICBjb25zb2xlLmxvZygnbG9hZCBtb3JlIGNsaWNrJyk7XHJcbiAgICAgICAgZ2V0UG9zdHMobnVsbCwge3VzZXJOYW1lOiB1c2VybmFtZVNlbGVjdGVkLCBjdXJzb3J9LCB7bG9hZE1vcmVIYW5kbGVyOiB0aGlzLCB0YXJnZXRCdXR0b259KTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBpbml0TW9kYWxIYW5kbGVyKCkge1xyXG4gICAgJCgnLmpzX29wZW4tcG9zdHMtZ3JpZE1vZGFsJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgdGFyZ2V0QnV0dG9uID0gJCh0aGlzKTsgLy8gQnV0dG9uIHRoYXQgdHJpZ2dlcmVkIHRoZSBtb2RhbFxyXG4gICAgICAgIC8vIFVwZGF0ZSB0aGUgbW9kYWwncyBjb250ZW50XHJcbiAgICAgICAgY29uc3QgbW9kYWwgPSAkKCcjcG9zdHNHcmlkTW9kYWwnKTtcclxuICAgICAgICBnZXRQb3N0cyhtb2RhbCwge3VzZXJOYW1lOiB1c2VybmFtZVNlbGVjdGVkfSwge2xvYWRNb3JlSGFuZGxlciwgdGFyZ2V0QnV0dG9ufSk7XHJcbiAgICAgICAgbW9kYWwuZmluZCgnLm1vZGFsLXRpdGxlJykudGV4dCgn0J/Rg9Cx0LvQuNC60LDRhtC40LgnKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG4vKiBUT0RPOiByZWZhY3RvciAtPiBtb3ZlIGluaXRNb2RhbEhhbmRsZXIgdG8gc2VwYXJhdGUgZmlsZSBFTkQqL1xyXG5cclxuLyoqXHJcbiAqIEluaXQgaGVhZGVyXHJcbiAqL1xyXG5mdW5jdGlvbiBpbml0SGFuZGxlcnMoKSB7XHJcbiAgICAvLyBUT0RPOiByZWZhY3RvciB3aXRoIGF1dG9ncmVldC5qcyBpbml0SGFuZGxlcnNcclxuICAgICQoJy5qc19hZGQtYXV0b21lc3NhZ2VzJykub24oJ2NsaWNrJywgKGUpID0+IHtcclxuICAgICAgICBjb25zdCBsYXN0VGV4dEZpZWxkID0gJChlbFNlbGVjdG9yLmZpZWxkcykubGFzdCgpO1xyXG4gICAgICAgIHRwbFRleHRGaWVsZEdyZWV0KGVsU2VsZWN0b3IuZmllbGRzLnN1YnN0cigxKSkuaW5zZXJ0QWZ0ZXIobGFzdFRleHRGaWVsZCk7XHJcbiAgICAgICAgaW5pdEVtb2ppaSgpO1xyXG4gICAgICAgIGltYWdlVXBsb2FkLmluaXQoKTtcclxuICAgICAgICAkKCdbZGF0YS10b2dnbGU9XCJ0b29sdGlwXCJdJykudG9vbHRpcCgpOyAvLyByZWluaXRcclxuICAgICAgICBpbml0TW9kYWxIYW5kbGVyKCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBhbGVydCBjbG9zZVxyXG4gICAgJCgnLmZvcm0tc3VibWl0LWZpbmlzaCAuY2xvc2UnKS5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ2FsZXJ0IGNsb3NlJyk7XHJcbiAgICAgICAgJCgnI3YtcGlsbHMtYWxsLXRhYicpLnRyaWdnZXIoJ2NsaWNrJyk7XHJcbiAgICAgICAgd2luZG93LlB1YlN1Yi5wdWJsaXNoKENPTlNULmV2ZW50cy50YXNrcy5ORVdfVEFTS19DUkVBVEVEKTtcclxuICAgICAgICByZW1vdmVFeHRyYVRleHRGaWVsZHMoKTtcclxuICAgIH0pO1xyXG5cclxuICAgIC8vIGFsZXJ0IGNsb3NlXHJcbiAgICAkKCcuZm9ybS1zdWJtaXQtZmluaXNoLS1lcnJvciAuY2xvc2UnKS5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ2FsZXJ0IGNsb3NlJyk7XHJcbiAgICAgICAgJCgnI3YtcGlsbHMtYWxsLXRhYicpLnRyaWdnZXIoJ2NsaWNrJyk7XHJcbiAgICAgICAgd2luZG93LlB1YlN1Yi5wdWJsaXNoKENPTlNULmV2ZW50cy50YXNrcy5ORVdfVEFTS19DUkVBVEVEKTtcclxuICAgICAgICByZW1vdmVFeHRyYVRleHRGaWVsZHMoKTtcclxuICAgIH0pO1xyXG5cclxuICAgIC8vIHRhYnMuaW5pdChmaWxsTGlzdFVzZXJzKTtcclxuICAgIGluaXRMb2dzVGFiKCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHNldFVzZXJOYW1lKHN0YXRlKSB7XHJcbiAgICAvLyBjb25zb2xlLmxvZygnZ2V0VGFza3NEYXRhJywgc3RhdGUudXNlcm5hbWUpO1xyXG4gICAgdXNlcm5hbWVTZWxlY3RlZCA9IHN0YXRlLnVzZXJuYW1lO1xyXG59XHJcblxyXG5mdW5jdGlvbiBnZXREYXRhU3RlcFNwZWVkKCkge1xyXG5cclxuICAgIC8vIFRPRE86IHJlZmFjdG9yIGdldCBmcm9tIC0gdmlldy5maWxsUmFkaW9Hcm91cExpc3RcclxuICAgIGNvbnN0IGZpbGxTcGVlZExpc3QgPSBmdW5jdGlvbiAoJHdyYXBwZXIsIGRhdGEpIHtcclxuICAgICAgICBjb25zdCB0YXNrTW9kZXMgPSBkYXRhLmNmZyAmJiBkYXRhLmNmZy50YXNrX21vZGVzO1xyXG4gICAgICAgIGNvbnN0IHJhZGlvQnRuUmVkdWNlciA9IGZ1bmN0aW9uIChpdGVtLCB2YWwpIHtcclxuICAgICAgICAgICAgc3dpdGNoIChpdGVtKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdBR0dSRVNTSVZFJzpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYDxpbnB1dCB0eXBlPVwicmFkaW9cIiBpZD1cIiR7aXRlbX1cIiBuYW1lPVwiY3VzdG9tUmFkaW9cIiB2YWx1ZT1cIiR7aXRlbX1cIiBjbGFzcz1cImN1c3RvbS1jb250cm9sLWlucHV0XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzPVwiY3VzdG9tLWNvbnRyb2wtbGFiZWxcIiBmb3I9XCIke2l0ZW19XCI+PHN0cm9uZz7QkNCz0YDQtdGB0YHQuNCy0L3Ri9C5Ojwvc3Ryb25nPiAke3ZhbH0g0YHQvtC+0LHRidC10L3QuNC5INCyINGH0LDRgTwvbGFiZWw+YDtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ01JRERMRSc6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChgPGlucHV0IHR5cGU9XCJyYWRpb1wiIGlkPVwiJHtpdGVtfVwiIG5hbWU9XCJjdXN0b21SYWRpb1wiIHZhbHVlPVwiJHtpdGVtfVwiIGNsYXNzPVwiY3VzdG9tLWNvbnRyb2wtaW5wdXRcIj5cclxuICAgICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3M9XCJjdXN0b20tY29udHJvbC1sYWJlbFwiIGZvcj1cIiR7aXRlbX1cIj48c3Ryb25nPtCh0YDQtdC00L3QuNC5Ojwvc3Ryb25nPiAke3ZhbH0g0YHQvtC+0LHRidC10L3QuNC5INCyINGH0LDRgTwvbGFiZWw+YCk7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdTQUZFJzpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYDxpbnB1dCB0eXBlPVwicmFkaW9cIiBpZD1cIiR7aXRlbX1cIiBuYW1lPVwiY3VzdG9tUmFkaW9cIiB2YWx1ZT1cIiR7aXRlbX1cIiBjbGFzcz1cImN1c3RvbS1jb250cm9sLWlucHV0XCIgY2hlY2tlZD5cclxuICAgICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3M9XCJjdXN0b20tY29udHJvbC1sYWJlbFwiIGZvcj1cIiR7aXRlbX1cIj48c3Ryb25nPtCR0LXQt9C+0L/QsNGB0L3Ri9C5Ojwvc3Ryb25nPiAke3ZhbH0g0YHQvtC+0LHRidC10L3QuNC5INCyINGH0LDRgTwvbGFiZWw+YDtcclxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCdkcmF3IHNwZWVkIHJhZGlvQnRuJyk7XHJcbiAgICAgICAgJHdyYXBwZXIuZW1wdHkoKTtcclxuICAgICAgICBmb3IgKGNvbnN0IGl0ZW0gaW4gdGFza01vZGVzKSB7XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdzdHJ1Y3R1cmU6ICcgKyBpdGVtKTtcclxuICAgICAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0YXNrTW9kZXMsIGl0ZW0pKSB7XHJcbiAgICAgICAgICAgICAgICAkKGA8ZGl2IGNsYXNzPVwiY3VzdG9tLWNvbnRyb2wgY3VzdG9tLXJhZGlvXCI+XHJcbiAgICAgICAgICAgICAgICAke3JhZGlvQnRuUmVkdWNlcihpdGVtLCB0YXNrTW9kZXNbaXRlbV0pfVxyXG4gICAgICAgICAgICA8L2Rpdj5gKS5hcHBlbmRUbygkd3JhcHBlcik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgY29uc3QgcGF0aCA9IHtcclxuICAgICAgICB0eXBlOiBjbHNDb25zdC5wYXRoVHlwZSxcclxuICAgICAgICBzdWJ0eXBlOiBjbHNDb25zdC5wYXRoU3ViVHlwZVxyXG4gICAgfTtcclxuICAgIC8vIGRyYXcgY3JpdGVyaWFcclxuICAgIFVzZXJUYXNrTWFuYWdlci5nZXREZWZhdWx0Q29uZmlncyhwYXRoKS50aGVuKChyZXN1bHQpID0+IHtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZygnZ2V0RGVmYXVsdENvbmZpZ3MnKTtcclxuICAgICAgICBpZiAocmVzdWx0LnN0YXR1cy5zdGF0ZSA9PT0gJ29rJykge1xyXG4gICAgICAgICAgICBmaWxsU3BlZWRMaXN0KCQoc3BlZWRUeXBlKSwgcmVzdWx0LmRhdGEuZm91bmQpO1xyXG4gICAgICAgICAgICAvLyBzcGVlZCByYWRpby1idG4gZ3JvdXBcclxuICAgICAgICAgICAgJChgJHtzcGVlZFR5cGV9IGlucHV0W3R5cGU9cmFkaW9dYCkub24oJ2NsaWNrJywgKGUpID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gJChlLnRhcmdldCkuYXR0cigndmFsdWUnKTtcclxuICAgICAgICAgICAgICAgIHN0YXRlLnVzZXJfZGVmYXVsdF9jb25maWcudGFza19tb2RlID0gdmFsdWUudG9VcHBlckNhc2UoKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHN0YXRlKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHN0ZXBSZWR1Y2VyKHN0ZXBOdW1iZXIsIHN0YXRlKSB7XHJcbiAgICBzd2l0Y2ggKHN0ZXBOdW1iZXIpIHtcclxuICAgICAgICBjYXNlIDA6XHJcbiAgICAgICAgICAgIHNldFVzZXJOYW1lKHN0YXRlKTtcclxuICAgICAgICAgICAgZ2V0RGF0YVN0ZXBTcGVlZCgpO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhzdGF0ZSwgc3RlcE51bWJlcik7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coc3RhdGUsIHN0ZXBOdW1iZXIpO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnZGVmYXVsdCcsIHN0ZXBOdW1iZXIpO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaW5pdCgpIHtcclxuICAgIGlmICgkKGNsc0NvbnN0LmN1cnJlbnRQYWdlQ2xzKS5sZW5ndGgpIHtcclxuICAgICAgICBjb25zdCB3aXphcmRDZmcgPSB7XHJcbiAgICAgICAgICAgIHN0ZXBSZWR1Y2VyLFxyXG4gICAgICAgICAgICBvblN1Ym1pdEhhbmRsZXJcclxuICAgICAgICB9O1xyXG4gICAgICAgIHdpemFyZEZvcm0uaW5pdCh3aXphcmRDZmcpO1xyXG4gICAgICAgIGluaXRIYW5kbGVycygpO1xyXG4gICAgICAgIGNoYXRCb3RTdGF0dXMuaW5pdChjbHNDb25zdCk7XHJcbiAgICAgICAgd2luZG93LlB1YlN1Yi5zdWJzY3JpYmUoQ09OU1QuZXZlbnRzLmluc3RhZ3JhbUFjY291bnMuSU5TVEFHUkFNX0FDQ09VTlNfUkVOREVSRURfTEFaWSwgKGUsIGFjY291bnRzKSA9PiB7XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGFjY291bnRzKTtcclxuICAgICAgICAgICAgbG9ncy5pbml0KHNlbGVjdENscywgY2xzQ29uc3QpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBpbml0TW9kYWxIYW5kbGVyKCk7XHJcbiAgICAgICAgaW5pdEVtb2ppaSgpO1xyXG4gICAgICAgIC8vIGltYWdlVXBsb2FkLmluaXQoKTtcclxuICAgICAgICB3aW5kb3cuUHViU3ViLnN1YnNjcmliZShDT05TVC5ldmVudHMuYXV0b2FybnN3ZXIuSU1BR0VfVVBMT0FERUQsIChlLCByZXMpID0+IHtcclxuICAgICAgICAgICAgY29uc3Qge3Jlc3BvbnNlfSA9IHJlcztcclxuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gKHJlc3BvbnNlLmxlbmd0aCkgPyBKU09OLnBhcnNlKHJlc3BvbnNlKSA6ICcnO1xyXG4gICAgICAgICAgICBjb25zdCBpbWFnZUlkID0gcmVzdWx0ICYmIHJlc3VsdC5kYXRhICYmIHJlc3VsdC5kYXRhLmltYWdlX2lkO1xyXG4gICAgICAgICAgICAkKHJlcy5lbCkuY2xvc2VzdCgnLmZpbGUtdXBsb2FkJykuYXR0cignYXR0YWNoZWQtaW1nLWlkJywgaW1hZ2VJZCk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdpbWFnZV9sb2FkZWQnLCByZXMpO1xyXG5cclxuICAgICAgICAgICAgLy8gdG9kbzogbWFrZSBhcyBjYWxsQmFja1xyXG4gICAgICAgICAgICBjb25zdCAkaW1hZ2VCb3ggPSAkKHJlcy5lbCkuY2xvc2VzdCgnLmNvbCcpLmZpbmQoJy5qc191cGxvYWRlZC1pbWctZnJvbS1wb3N0cycpO1xyXG4gICAgICAgICAgICBpZiAoJGltYWdlQm94Lmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgJGltYWdlQm94LnJlbW92ZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgd2luZG93LlB1YlN1Yi5zdWJzY3JpYmUoQ09OU1QuZXZlbnRzLm1vZGFsLklNQUdFX1BPU1RfU0VMRUNURUQsIChlLCBkYXRhKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0ICRpbWFnZUJveCA9ICQoZGF0YS5jbG9zZXN0Q29sKS5maW5kKCcuZmlsZS11cGxvYWQtY29udGVudCcpO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnJGltYWdlQm94JywgJGltYWdlQm94KTtcclxuICAgICAgICAgICAgaWYgKCRpbWFnZUJveC5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICRpbWFnZUJveC5oaWRlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxufVxyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvYmxvY2tzL2F1dG9ncmVldGluZy9hdXRvZ3JlZXRpbmctbWFpbi5qcyIsImltcG9ydCB7Q09OU1R9IGZyb20gJy4uLy4uL2NvbW1vbi9qcy1zZXJ2aWNlcy9jb25zdHMnO1xyXG5pbXBvcnQge2dldFRhc2tzRGF0YX0gZnJvbSAnLi4vX3NoYXJlZC90YXNrLXN0YXR1cy90YXNrLXN0YXR1cyc7XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaW5pdChjZmcpIHtcclxuICAgIGlmICgkKGNmZy5jdXJyZW50UGFnZUNscykubGVuZ3RoKSB7XHJcbiAgICAgICAgY29uc3Qge3BhdGhUeXBlLCBwYXRoU3ViVHlwZX0gPSBjZmc7XHJcbiAgICAgICAgY29uc3QgcGF0aCA9IHtcclxuICAgICAgICAgICAgdHlwZTogcGF0aFR5cGUsXHJcbiAgICAgICAgICAgIHN1YnR5cGU6IHBhdGhTdWJUeXBlfTtcclxuICAgICAgICBjb25zdCB3cmFwcGVycyA9IHtcclxuICAgICAgICAgICAgJHJ1bnM6ICQoJy50YXNrcy1ydW5zJyksXHJcbiAgICAgICAgICAgICRhbGw6ICQoJy50YXNrcy1hbGwnKVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgZ2V0VGFza3NEYXRhKHdyYXBwZXJzLCBwYXRoKTtcclxuICAgICAgICB3aW5kb3cuUHViU3ViLnN1YnNjcmliZShDT05TVC5ldmVudHMudGFza3MuTkVXX1RBU0tfQ1JFQVRFRCwgKGV2ZW50TmFtZSwgZGF0YSkgPT4ge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnZ2V0VGFza3NEYXRhICoqTkVXX1RBU0tfQ1JFQVRFRCoqJywgZXZlbnROYW1lLCBkYXRhKTtcclxuICAgICAgICAgICAgZ2V0VGFza3NEYXRhKHdyYXBwZXJzLCBwYXRoKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufVxyXG5cclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2Jsb2Nrcy9hdXRvZ3JlZXRpbmcvYXV0b2dyZWV0aW5nLXN0YXR1cy5qcyIsImV4cG9ydCBjb25zdCB0cGxUZXh0RmllbGQgPSAobWFpbkNscykgPT5cclxuJChgPGRpdiBjbGFzcz1cIiR7bWFpbkNsc30gbXQtMlwiPlxyXG4gICAgPGRpdiBjbGFzcz1cInJvd1wiPlxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJjb2xcIj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImpzX3RhZ3NpbnB1dC1ib3hcIj5cclxuICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIHBsYWNlaG9sZGVyPVwi0JLQstC10LTQuNGC0LUg0LrQu9GO0YfQtdCy0YvQtSDRgdC70L7QstCwXCIgdmFsdWU9XCJcIiBkYXRhLXJvbGU9XCJ0YWdzaW5wdXRcIiBjbGFzcz1cImZvcm0tY29udHJvbCBhbnN3ZXItd29yZHMgbWItMlwiIC8+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwianNfdGFnc2lucHV0LWJveCBibGFja2xpc3QtYm94IG15LTJcIj5cclxuICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIHBsYWNlaG9sZGVyPVwi0JLQstC10LTQuNGC0LUg0LzQuNC90YPRgSDRgdC70L7QstCwXCIgdmFsdWU9XCJcIiBkYXRhLXJvbGU9XCJ0YWdzaW5wdXRcIiBjbGFzcz1cImZvcm0tY29udHJvbCBibGFja2xpc3Qtd29yZHNcIiAvPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwiY29sXCI+XHJcbiAgICAgICAgICAgIDx0ZXh0YXJlYSBjbGFzcz1cImZvcm0tY29udHJvbCBhbnN3ZXItbWVzc2FnZXNcIiByb3dzPVwiNFwiXHJcbiAgICAgICAgICAgICAgICBkYXRhLWVtb2ppLXBpY2tlcj1cInRydWVcIiBzdHlsZT1cInBhZGRpbmc6IDAuMjVyZW0gMS43NXJlbSAwLjI1cmVtIDAuMjVyZW07IHdpZHRoOiAxMDAlO21pbi1oZWlnaHQ6IDQycHg7XCJcclxuICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwi0JLQstC10LTQuNGC0LUg0YHQvtC+0LHRidC10L3QuNC1XCJcclxuICAgICAgICAgICAgPjwvdGV4dGFyZWE+XHJcbiAgICAgICAgICAgIDwhLS0gZmlsZS11cGxvYWQgLS0+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmaWxlLXVwbG9hZC1idG4tYm94XCIgZGF0YS10b2dnbGU9XCJ0b29sdGlwXCIgZGF0YS1wbGFjZW1lbnQ9XCJ0b3BcIiB0aXRsZT1cItCU0L7QsdCw0LLQuNGC0Ywg0LjQt9C+0LHRgNCw0LbQtdC90LjQtVwiPlxyXG4gICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImZpbGUtdXBsb2FkLWJ0biBidG4gYnRuLXN1Y2Nlc3NcIiB0eXBlPVwiYnV0dG9uXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9XCJmYXIgZmEtaW1hZ2UgZmEtbGdcIj48L2k+XHJcbiAgICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwhLS0gQnV0dG9uIHRyaWdnZXIgbW9kYWwgLS0+XHJcbiAgICAgICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiYnRuIGJ0bi1zdWNjZXNzIHBvc3QtdXBsb2FkLWJ0biBqc19hdXRvbWVzc2FnZXMtYWRkLXBvc3RcIlxyXG4gICAgICAgICAgICAgICAgdGl0bGU9XCLQlNC+0LHQsNCy0LjRgtGMINC/0YPQsdC70LjQutCw0YbQuNGOXCJcclxuICAgICAgICAgICAgICAgIGRhdGEtdG9nZ2xlPVwidG9vbHRpcFwiXHJcbiAgICAgICAgICAgICAgICBkYXRhLXBsYWNlbWVudD1cInRvcFwiXHJcbiAgICAgICAgICAgICAgICBkYXRhLXBvc3QtaW5mbz1cInRvZG86IGdldCByZXEgdG8gdXNlcjogXCI+XHJcbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImpzX29wZW4tcG9zdHMtZ3JpZE1vZGFsXCJcclxuICAgICAgICAgICAgICAgICAgICBkYXRhLWNvbnRhaW5lcj1cImJvZHlcIiBkYXRhLXRvZ2dsZT1cInBvcG92ZXJcIiBkYXRhLXBsYWNlbWVudD1cImJvdHRvbVwiIGRhdGEtY29udGVudD1cItCjINGC0LXQutGD0YnQtdCz0L4g0LDQutC60LDRg9C90YLQsCDQvdC10YIg0L3QuCDQvtC00L3QvtCz0L4g0L/QvtGB0YLQsFwiPlxyXG4gICAgICAgICAgICAgICAgPGkgY2xhc3M9XCJmYXIgZmEtaW1hZ2VzIGZhLWxnXCI+PC9pPlxyXG4gICAgICAgICAgICAgICAgPC9zcGFuPlxyXG4gICAgICAgICAgICA8L2J1dHRvbj5cclxuXHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtdC0yXCI+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmlsZS11cGxvYWRcIj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaW1hZ2UtdXBsb2FkLXdyYXBcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IGNsYXNzPVwiZmlsZS11cGxvYWQtaW5wdXRcIiB0eXBlPSdmaWxlJyBhY2NlcHQ9XCIuanBnLCAuanBlZ1wiIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZpbGUtdXBsb2FkLWNvbnRlbnRcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGltZyBjbGFzcz1cImZpbGUtdXBsb2FkLWltYWdlXCIgc3JjPVwiI1wiIGFsdD1cInlvdXIgaW1hZ2VcIiAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaW1hZ2UtdGl0bGUtd3JhcFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cInJlbW92ZS1pbWFnZSBidG4gYnRuLXdhcm5pbmdcIj7Qo9C00LDQu9C40YLRjCA8c3BhbiBjbGFzcz1cImltYWdlLXRpdGxlXCI+0JfQsNCz0YDRg9C30LjRgtGMPC9zcGFuPjwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgIDwvZGl2PlxyXG48L2Rpdj5gKTtcclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2Jsb2Nrcy9hdXRvbWVzc2FnZXMvYWRkQW5zd2VyVGVtcGxhdGUuanMiLCJpbXBvcnQge0NPTlNUfSBmcm9tICcuLi8uLi9jb21tb24vanMtc2VydmljZXMvY29uc3RzJztcclxuaW1wb3J0ICogYXMgd2l6YXJkRm9ybSBmcm9tICcuLi8uLi9ibG9ja3Mvd2l6YXJkLWZvcm0vd2l6YXJkLWZvcm0nO1xyXG5pbXBvcnQgdmlld1V0aWxzIGZyb20gJy4uLy4uL2NvbW1vbi9qcy1zZXJ2aWNlcy92aWV3JztcclxuaW1wb3J0IFVzZXJUYXNrTWFuYWdlciBmcm9tICcuLi8uLi9jb21tb24vanMtc2VydmljZXMvYXBpLXRhc2stbWFuYWdlcic7XHJcbmltcG9ydCAqIGFzIHRhYnMgZnJvbSAnLi4vX3NoYXJlZC90ZWJzLXBpbHMvdGFicyc7XHJcbmltcG9ydCAqIGFzIGF1dG9tZXNzYWdlc1N0YXR1cyBmcm9tICcuL2F1dG9tZXNzYWdlcy1zdGF0dXMnO1xyXG5pbXBvcnQgKiBhcyBsb2dzIGZyb20gJy4uL19zaGFyZWQvbG9ncy9sb2dzJztcclxuaW1wb3J0ICogYXMgaW1hZ2VVcGxvYWQgZnJvbSAnLi4vX3NoYXJlZC9pbWFnZS11cGxvYWQvaW1hZ2UtdXBsb2FkJztcclxuaW1wb3J0IHtlbW9qaX0gZnJvbSAnLi4vLi4vY29tbW9uL2pzLXNlcnZpY2VzL2Vtb2ppJztcclxuaW1wb3J0IHtnZXRQb3N0c30gZnJvbSAnLi4vX3NoYXJlZC9nZXRQb3N0c01vZGFsL3V0aWxzLW1vZGFsJztcclxuaW1wb3J0IHt0cGxUZXh0RmllbGR9IGZyb20gJy4vYWRkQW5zd2VyVGVtcGxhdGUnO1xyXG5pbXBvcnQge2luaXRUYWdzSW5wdXQsIG5leHRCdG52YWxpZGF0ZUNvbXBldGl0b3JzSGFuZGxlcn0gZnJvbSAnLi4vX3NoYXJlZC90YWdzLWlucHV0L3RhZ3MtaW5wdXQnO1xyXG5cclxuY29uc3Qge2dldFZhbEJ5Q29tbWFTZXBhcmF0b3J9ID0gdmlld1V0aWxzO1xyXG5sZXQgdXNlcm5hbWVTZWxlY3RlZCA9ICcnO1xyXG5jb25zdCBzZWxlY3RDbHMgPSAnanNfbG9ncy1hY2NvdW50cyc7XHJcbmNvbnN0IGNsc0NvbnN0ID0ge1xyXG4gICAgY3VycmVudFBhZ2VDbHM6ICcuYXV0b21lc3NhZ2VzLXBhZ2UnLFxyXG4gICAgdGFza3NMaXN0OiAnLmxvZy10YXNrcycsXHJcbiAgICBsb2dzVGFiQnRuOiAnI3YtcGlsbHMtbG9ncy10YWInLFxyXG4gICAgcGFnaW5hdGlvbjogJy5sb2dzLXBhZ2luYXRpb24nLFxyXG4gICAgcGFnaW5hdGlvblBnTnVtYmVyOiAnLnBhZ2UtbnVtYmVyJyxcclxuICAgIHBhdGhUeXBlOiBDT05TVC51cmwudG1UeXBlcy5hdXRvbWVzc2FnZXNULFxyXG4gICAgcGF0aFN1YlR5cGU6IENPTlNULnVybC50bVR5cGVzLmF1dG9tZXNzYWdlc1N1YlRbMF1cclxufTtcclxuY29uc3QgZWxTZWxlY3RvciA9IHtcclxuICAgIGZpZWxkczogJy5hdXRvbWVzc2FnZXMtdGV4dC1maWVsZHMnLFxyXG4gICAga2V5V29yZDogJ2lucHV0LmFuc3dlci13b3JkcycsXHJcbiAgICBhbnN3ZXI6ICd0ZXh0YXJlYS5hbnN3ZXItbWVzc2FnZXMnLFxyXG4gICAgZmlsZVVwbG9hZEJveDogJy5maWxlLXVwbG9hZCcsXHJcbiAgICBhZGRQb3N0QnRuczogJy5qc19hdXRvbWVzc2FnZXMtYWRkLXBvc3QnXHJcbn07XHJcbmNvbnN0IGxvZ3NTdGF0ZSA9IHtcclxuICAgIHNlbGVjdENsczogJ2pzX2xvZ3MtYWNjb3VudHMnLFxyXG4gICAgc2VsZWN0Q2xzTG9nc1Rhc2tUeXBlOiAnanNfbG9ncy1zdWJ0eXBlcycsXHJcbiAgICB3cmFwcGVyU3VidHlwZTogJy5sb2ctc3VieXBlJ1xyXG59O1xyXG5cclxuZnVuY3Rpb24gaW5pdEVtb2ppaSgpIHtcclxuICAgIGVtb2ppKHtcclxuICAgICAgICBwYWdlOiBjbHNDb25zdC5jdXJyZW50UGFnZUNscyxcclxuICAgICAgICBzdHlsZXM6IHtvbGQ6ICdib3R0b206IDMwcHg7JywgbmV3OiAndG9wOiAtMjEwcHg7J31cclxuICAgIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiB2YWxpZGF0ZUlzRW1wdHkoJGVsZW1lbnRzLCBlKSB7XHJcbiAgICAkZWxlbWVudHMuZWFjaChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKCQodGhpcykudmFsKCkgPT09ICcnKSB7XHJcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgJCh0aGlzKS5hZGRDbGFzcygnaW5wdXQtZXJyb3InKTtcclxuICAgICAgICAgICAgLy8gdmFsaWRhdGlvbiA9IGZhbHNlO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgJCh0aGlzKS5yZW1vdmVDbGFzcygnaW5wdXQtZXJyb3InKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gb25TdWJtaXRIYW5kbGVyKGUpIHtcclxuICAgIGNvbnN0IGZpZWxkcyA9ICQoZWxTZWxlY3Rvci5maWVsZHMpO1xyXG4gICAgY29uc3QgcmVxQm9keSA9IFtdO1xyXG4gICAgbGV0IHZhbGlkYXRpb24gPSB0cnVlO1xyXG4gICAgY29uc3QgJGVsZW1lbnRzS2V5V29yZCA9IGZpZWxkcy5maW5kKGVsU2VsZWN0b3Iua2V5V29yZCk7XHJcbiAgICBjb25zdCAkZWxlbWVudHNBbnN3ZXIgPSBmaWVsZHMuZmluZChlbFNlbGVjdG9yLmFuc3dlcik7XHJcblxyXG4gICAgdmFsaWRhdGVJc0VtcHR5KCRlbGVtZW50c0tleVdvcmQsIGUpO1xyXG4gICAgdmFsaWRhdGVJc0VtcHR5KCRlbGVtZW50c0Fuc3dlciwgZSk7XHJcblxyXG4gICAgZmllbGRzLmVhY2goKGlkeCwgaXRlbSkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGtleVdvcmQgPSBnZXRWYWxCeUNvbW1hU2VwYXJhdG9yKCQoaXRlbSkuZmluZChlbFNlbGVjdG9yLmtleVdvcmQpKTtcclxuICAgICAgICBjb25zdCBhbnN3ZXIgPSAkKGl0ZW0pLmZpbmQoZWxTZWxlY3Rvci5hbnN3ZXIpLnZhbCgpO1xyXG4gICAgICAgIGNvbnN0IGltYWdlSWQgPSAkKGl0ZW0pLmZpbmQoZWxTZWxlY3Rvci5maWxlVXBsb2FkQm94KS5hdHRyKCdhdHRhY2hlZC1pbWctaWQnKTtcclxuICAgICAgICBjb25zdCAkaW1hZ2VQb3N0Qm94ID0gJChpdGVtKS5maW5kKCcuanNfdXBsb2FkZWQtaW1nLWZyb20tcG9zdHMnKTtcclxuICAgICAgICBjb25zdCBwb3N0SXRlbUlkID0gJGltYWdlUG9zdEJveC5kYXRhKCdwb3N0SWQnKTtcclxuICAgICAgICBjb25zdCBwb3N0SXRlbVR5cGUgPSAkaW1hZ2VQb3N0Qm94LmRhdGEoJ3Bvc3RUeXBlJyk7XHJcbiAgICAgICAgY29uc3QgYmxhY2tsaXN0V29yZHMgPSAkKGl0ZW0pLmZpbmQoJ2lucHV0LmJsYWNrbGlzdC13b3JkcycpO1xyXG4gICAgICAgIGNvbnN0IGJsYWNrbGlzdFdvcmRzQXJyID0gZ2V0VmFsQnlDb21tYVNlcGFyYXRvcihibGFja2xpc3RXb3Jkcyk7XHJcblxyXG4gICAgICAgIGlmICgha2V5V29yZC5sZW5ndGggfHwgIWFuc3dlci5sZW5ndGgpIHtcclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ2tleVdvcmQgaXMgZW1wdHksIG5vdCBwdXNoIG1lIHRvIHJlcXVlc3QnKTtcclxuICAgICAgICAgICAgJChpdGVtKS5hcHBlbmQoYFxyXG4gICAgICAgICAgICAgICAgPHAgY2xhc3M9XCJtc2ctZW1wdHktZmllbGQgdGV4dC1kYW5nZXJcIj7Qn9GD0YHRgtC+0LUg0L/QvtC70LUg0L3QtSDQstCw0LvQuNC00L3QvjwvcD5cclxuICAgICAgICAgICAgYCk7XHJcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgJCgnLm1zZy1lbXB0eS1maWVsZCcpLmFkZENsYXNzKCdkLW5vbmUnKTtcclxuICAgICAgICAgICAgfSwgNTAwMCk7XHJcbiAgICAgICAgICAgIHZhbGlkYXRpb24gPSBmYWxzZTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBzdWJtaXRCb2R5SXRlbSA9IHtcclxuICAgICAgICAgICAgJ2tleV93b3Jkcyc6IGtleVdvcmQsXHJcbiAgICAgICAgICAgIGFuc3dlcixcclxuICAgICAgICAgICAgYmxhY2tsaXN0OiBibGFja2xpc3RXb3Jkc0FycixcclxuICAgICAgICAgICAgJ2F0dGFjaG1lbnQnOiBpbWFnZUlkID8ge1xyXG4gICAgICAgICAgICAgICAgJ2ltYWdlX2lkJzogaW1hZ2VJZFxyXG4gICAgICAgICAgICB9IDogdW5kZWZpbmVkXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgaWYgKHBvc3RJdGVtSWQpIHtcclxuICAgICAgICAgICAgc3VibWl0Qm9keUl0ZW0uYXR0YWNobWVudCA9IHtcclxuICAgICAgICAgICAgICAgIC4uLnN1Ym1pdEJvZHlJdGVtLmF0dGFjaG1lbnQsXHJcbiAgICAgICAgICAgICAgICBwb3N0OiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWQ6IHBvc3RJdGVtSWQsXHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogcG9zdEl0ZW1UeXBlIHx8ICd0eXBlLWVycm9yJ1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXFCb2R5LnB1c2goc3VibWl0Qm9keUl0ZW0pO1xyXG4gICAgfSk7XHJcbiAgICBpZiAoIXZhbGlkYXRpb24pIHtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZygnKiphbGFybSAqKicsIGVsU2VsZWN0b3Iua2V5V29yZCk7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IG5SZXFCb2R5ID0ge1xyXG4gICAgICAgICd1c2VybmFtZSc6IHVzZXJuYW1lU2VsZWN0ZWQsXHJcbiAgICAgICAgJ3R5cGUnOiBjbHNDb25zdC5wYXRoVHlwZSxcclxuICAgICAgICAnc3VidHlwZSc6IGNsc0NvbnN0LnBhdGhTdWJUeXBlLFxyXG4gICAgICAgICd1c2VyX2RlZmF1bHRfY29uZmlnJzoge30sXHJcbiAgICAgICAgJ3VzZXJfY3VzdG9tX2NvbmZpZyc6IHtcclxuICAgICAgICAgICAgJ2Zvcm1zJzogcmVxQm9keVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLy8gY29uc29sZS5sb2coJ21ha2UgcmVxdWVzdCBoZXJlKionLCBuUmVxQm9keSk7XHJcbiAgICBmdW5jdGlvbiBjYkVycm9yKHJlcykge1xyXG4gICAgICAgIGNvbnN0IG1zZyA9IHJlcy5zdGF0dXMubWVzc2FnZTtcclxuICAgICAgICAkKCcuZm9ybS1zdWJtaXQtZmluaXNoLS1lcnJvcicpLmFkZENsYXNzKCdkLWJsb2NrJylcclxuICAgICAgICAuZmluZCgnLmFsZXJ0JykuYXBwZW5kKGA8cD4ke21zZ308L3A+YCk7XHJcbiAgICB9XHJcbiAgICBVc2VyVGFza01hbmFnZXIucG9zdFN0YXJ0VGFzayhuUmVxQm9keSwgY2JFcnJvcikudGhlbigocmVzdWx0KSA9PiB7XHJcbiAgICAgICAgaWYgKHJlc3VsdC5zdGF0dXMuc3RhdGUgPT09ICdvaycpIHtcclxuICAgICAgICAgICAgJCgnLmZvcm0tc3VibWl0LWZpbmlzaCcpLmZpbmQoJy5hbGVydCBwJykucmVtb3ZlKCk7XHJcbiAgICAgICAgICAgICQoJy5mb3JtLXN1Ym1pdC1maW5pc2gnKS5hZGRDbGFzcygnZC1ibG9jaycpXHJcbiAgICAgICAgICAgICAgICAuZmluZCgnLmFsZXJ0JykuYXBwZW5kKGA8cD50YXNrX2lkOiAke3Jlc3VsdC5kYXRhLnRhc2tfaWR9PC9wPmApO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBpbml0TG9nc1RhYigpIHtcclxuICAgIGZ1bmN0aW9uIE9uQ2hhbmdlU2VsZWN0KCkge1xyXG4gICAgICAgIGNvbnN0IHtzZWxlY3RDbHN9ID0gbG9nc1N0YXRlO1xyXG4gICAgICAgICQoYC4ke3NlbGVjdENsc31gKS5vbignY2hhbmdlJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB1c2VybmFtZVNlbGVjdGVkID0gJChgLiR7c2VsZWN0Q2xzfSBvcHRpb246c2VsZWN0ZWRgKS52YWwoKTtcclxuICAgICAgICAgICAgLy8gY2xzQ29uc3QucGF0aFN1YlR5cGUgPSBsb2dzU3RhdGUuYWN0aXZlU3ViVHlwZTtcclxuICAgICAgICAgICAgbG9ncy5pbml0KHNlbGVjdENscywgY2xzQ29uc3QpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgLy8gYWRkRHJvcGRvd24oJChsb2dzU3RhdGUud3JhcHBlclN1YnR5cGUpLCBsb2dzU3VidHlwZXMsIHtsb2dzU3RhdGUsIGRyb3Bkb3duT25TZWxlY3RDYn0pO1xyXG4gICAgdGFicy5pbml0KE9uQ2hhbmdlU2VsZWN0LCBsb2dzU3RhdGUpOyAvLyBtYWtlcyBkb3VibGUgcmVxdWVzdCA6IE9QVElPTiBhbmQgR0VUXHJcbn1cclxuXHJcbmZ1bmN0aW9uIHJlbW92ZUV4dHJhVGV4dEZpZWxkcyhlKSB7XHJcbiAgICAkKGAke2VsU2VsZWN0b3IuZmllbGRzfTpub3QoOmZpcnN0LWNoaWxkKWApLnJlbW92ZUNsYXNzKCdkLWJsb2NrJyk7XHJcbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG59XHJcblxyXG4vKiBUT0RPOiByZWZhY3RvciAtPiBtb3ZlIGluaXRNb2RhbEhhbmRsZXIgdG8gc2VwYXJhdGUgZmlsZSwgcmVtb3ZlIGluaXRNb2RhbEhhbmRsZXIgaW4gYXV0b2dyZWV0aW5nLW1haW4uanMgKi9cclxubGV0IHRhcmdldEJ1dHRvbiA9IHt9O1xyXG5cclxuZnVuY3Rpb24gbG9hZE1vcmVIYW5kbGVyKGdldFBvc3RzKSB7XHJcbiAgICAkKCcjbG9hZC1tb3JlJykub2ZmKCkub24oJ2NsaWNrJywgKGUpID0+IHtcclxuICAgICAgICBjb25zdCAkYnRuID0gJChlLnRhcmdldCk7XHJcbiAgICAgICAgY29uc3QgY3Vyc29yID0gJGJ0bi5hdHRyKCdjdXJzb3InKTtcclxuICAgICAgICBjb25zb2xlLmxvZygnbG9hZCBtb3JlIGNsaWNrJyk7XHJcbiAgICAgICAgZ2V0UG9zdHMobnVsbCwge3VzZXJOYW1lOiB1c2VybmFtZVNlbGVjdGVkLCBjdXJzb3J9LCB7bG9hZE1vcmVIYW5kbGVyOiB0aGlzLCB0YXJnZXRCdXR0b259KTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBpbml0TW9kYWxIYW5kbGVyKCkge1xyXG5cclxuICAgICQoJy5qc19vcGVuLXBvc3RzLWdyaWRNb2RhbCcpLm9uKCdjbGljaycsIGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgIHRhcmdldEJ1dHRvbiA9ICQodGhpcyk7IC8vIEJ1dHRvbiB0aGF0IHRyaWdnZXJlZCB0aGUgbW9kYWxcclxuICAgICAgICAvLyBVcGRhdGUgdGhlIG1vZGFsJ3MgY29udGVudFxyXG4gICAgICAgIGNvbnN0IG1vZGFsID0gJCgnI3Bvc3RzR3JpZE1vZGFsJyk7XHJcbiAgICAgICAgZ2V0UG9zdHMobW9kYWwsIHt1c2VyTmFtZTogdXNlcm5hbWVTZWxlY3RlZH0sIHtsb2FkTW9yZUhhbmRsZXIsIHRhcmdldEJ1dHRvbn0pO1xyXG4gICAgICAgIG1vZGFsLmZpbmQoJy5tb2RhbC10aXRsZScpLnRleHQoJ9Cf0YPQsdC70LjQutCw0YbQuNC4Jyk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuLyogVE9ETzogcmVmYWN0b3IgLT4gbW92ZSBpbml0TW9kYWxIYW5kbGVyIHRvIHNlcGFyYXRlIGZpbGUgRU5EICovXHJcblxyXG4vKipcclxuICogSW5pdCBIYW5kbGVyc1xyXG4gKi9cclxuZnVuY3Rpb24gaW5pdEhhbmRsZXJzKCkge1xyXG4gICAgY29uc3QgJGNvbXBldGl0b3JzSW5wdXQgPSAkKCcuYXV0b21lc3NhZ2VzLXRleHQtZmllbGRzIGlucHV0LmFuc3dlci13b3Jkc1tkYXRhLXJvbGU9XCJ0YWdzaW5wdXRcIl0nKTtcclxuICAgIGNvbnN0ICRibGFja0xpc3RJbnB1dCA9ICQoJy5hdXRvbWVzc2FnZXMtdGV4dC1maWVsZHMgaW5wdXQuYmxhY2tsaXN0LXdvcmRzW2RhdGEtcm9sZT1cInRhZ3NpbnB1dFwiXScpO1xyXG4gICAgY29uc3QgbmV4dFN0ZXBCdG4gPSAkKCdmb3JtIGJ1dHRvblt0eXBlPVwic3VibWl0XCJdJyk7XHJcbiAgICBuZXh0QnRudmFsaWRhdGVDb21wZXRpdG9yc0hhbmRsZXIoJGNvbXBldGl0b3JzSW5wdXQsIG5leHRTdGVwQnRuLCAnaWdub3JlUmVnZXhDaGVjaycpO1xyXG4gICAgbmV4dEJ0bnZhbGlkYXRlQ29tcGV0aXRvcnNIYW5kbGVyKCRibGFja0xpc3RJbnB1dCwgbnVsbCwgJ2lnbm9yZVJlZ2V4Q2hlY2snKTtcclxuXHJcbiAgICAvLyBUT0RPOiByZWZhY3RvciB3aXRoIGF1dG9ncmVldC5qcyBpbml0SGFuZGxlcnNcclxuICAgIC8vICQoJ1tkYXRhLXRvZ2dsZT1cInBvcG92ZXJcIl0nKS5wb3BvdmVyKCk7IC8vIGluaXRcclxuICAgICQoJy5qc19hZGQtYXV0b21lc3NhZ2VzJykub24oJ2NsaWNrJywgKGUpID0+IHtcclxuICAgICAgICBjb25zdCBsYXN0VGV4dEZpZWxkID0gJChlbFNlbGVjdG9yLmZpZWxkcykubGFzdCgpO1xyXG4gICAgICAgIHRwbFRleHRGaWVsZChlbFNlbGVjdG9yLmZpZWxkcy5zdWJzdHIoMSkpLmluc2VydEFmdGVyKGxhc3RUZXh0RmllbGQpO1xyXG4gICAgICAgIGluaXRFbW9qaWkoKTtcclxuICAgICAgICBpbWFnZVVwbG9hZC5pbml0KCk7XHJcbiAgICAgICAgLy8gJCgnW2RhdGEtdG9nZ2xlPVwicG9wb3ZlclwiXScpLnBvcG92ZXIoKTsgLy8gcmVpbml0XHJcbiAgICAgICAgJCgnW2RhdGEtdG9nZ2xlPVwidG9vbHRpcFwiXScpLnRvb2x0aXAoKTsgLy8gcmVpbml0XHJcbiAgICAgICAgaW5pdE1vZGFsSGFuZGxlcigpO1xyXG5cclxuICAgICAgICAvLyBjb25zdCAkaW5wdXQgPSAkKCdpbnB1dFtkYXRhLXJvbGU9XCJ0YWdzaW5wdXRcIl0nLCBsYXN0VGV4dEZpZWxkKTtcclxuICAgICAgICAvLyBpbml0VGFnc0lucHV0KCk7XHJcbiAgICAgICAgLy8gbmV4dEJ0bnZhbGlkYXRlQ29tcGV0aXRvcnNIYW5kbGVyKCRpbnB1dCwgbmV4dFN0ZXBCdG4pO1xyXG5cclxuICAgICAgICBjb25zdCBsYXN0VGV4dEZpZWxkQWZ0ZXJJbnNlcnQgPSAkKGVsU2VsZWN0b3IuZmllbGRzKS5sYXN0KCk7XHJcbiAgICAgICAgY29uc3QgJGlucHV0QW5zd2VyV29yZHMgPSAkKCdpbnB1dC5hbnN3ZXItd29yZHNbZGF0YS1yb2xlPVwidGFnc2lucHV0XCJdJywgbGFzdFRleHRGaWVsZEFmdGVySW5zZXJ0KTtcclxuICAgICAgICBjb25zdCAkYmxhY2tMaXN0SW5wdXQgPSAkKCdpbnB1dC5ibGFja2xpc3Qtd29yZHNbZGF0YS1yb2xlPVwidGFnc2lucHV0XCJdJywgbGFzdFRleHRGaWVsZEFmdGVySW5zZXJ0KTtcclxuXHJcbiAgICAgICAgaW5pdFRhZ3NJbnB1dCgkaW5wdXRBbnN3ZXJXb3Jkcyk7IC8vIHJlaW5pdCBhbnN3ZXItd29yZHNcclxuICAgICAgICBpbml0VGFnc0lucHV0KCRibGFja0xpc3RJbnB1dCk7IC8vIHJlaW5pdCBibGFja2xpc3Qtd29yZHNcclxuICAgICAgICBuZXh0QnRudmFsaWRhdGVDb21wZXRpdG9yc0hhbmRsZXIoJGlucHV0QW5zd2VyV29yZHMsIG5leHRTdGVwQnRuLCAnaWdub3JlUmVnZXhDaGVjaycpO1xyXG4gICAgICAgIG5leHRCdG52YWxpZGF0ZUNvbXBldGl0b3JzSGFuZGxlcigkYmxhY2tMaXN0SW5wdXQsIG51bGwsICdpZ25vcmVSZWdleENoZWNrJyk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBhbGVydCBzdWNjZXNzIGNsb3NlXHJcbiAgICAkKCcuZm9ybS1zdWJtaXQtZmluaXNoIC5jbG9zZScpLm9uKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coJ2FsZXJ0IGNsb3NlJyk7XHJcbiAgICAgICAgJCgnI3YtcGlsbHMtYWxsLXRhYicpLnRyaWdnZXIoJ2NsaWNrJyk7XHJcbiAgICAgICAgd2luZG93LlB1YlN1Yi5wdWJsaXNoKENPTlNULmV2ZW50cy50YXNrcy5ORVdfVEFTS19DUkVBVEVEKTtcclxuICAgICAgICAvLyByZW1vdmVFeHRyYVRleHRGaWVsZHMoZSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBhbGVydCBjbG9zZVxyXG4gICAgJCgnLmZvcm0tc3VibWl0LWZpbmlzaC0tZXJyb3IgLmNsb3NlJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCdhbGVydCBjbG9zZScpO1xyXG4gICAgICAgICQoJyN2LXBpbGxzLWFsbC10YWInKS50cmlnZ2VyKCdjbGljaycpO1xyXG4gICAgICAgIHdpbmRvdy5QdWJTdWIucHVibGlzaChDT05TVC5ldmVudHMudGFza3MuTkVXX1RBU0tfQ1JFQVRFRCk7XHJcbiAgICAgICAgcmVtb3ZlRXh0cmFUZXh0RmllbGRzKCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyB0YWJzLmluaXQoZmlsbExpc3RVc2Vycyk7XHJcbiAgICBpbml0TG9nc1RhYigpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBzZXRVc2VyTmFtZShzdGF0ZSkge1xyXG4gICAgLy8gY29uc29sZS5sb2coJ2dldFRhc2tzRGF0YScsIHN0YXRlLnVzZXJuYW1lKTtcclxuICAgIHVzZXJuYW1lU2VsZWN0ZWQgPSBzdGF0ZS51c2VybmFtZTtcclxufVxyXG5cclxuZnVuY3Rpb24gc3RlcFJlZHVjZXIoc3RlcE51bWJlciwgc3RhdGUpIHtcclxuICAgIHN3aXRjaCAoc3RlcE51bWJlcikge1xyXG4gICAgICAgIGNhc2UgMDpcclxuICAgICAgICAgICAgc2V0VXNlck5hbWUoc3RhdGUpO1xyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhzdGF0ZSwgc3RlcE51bWJlcik7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdkZWZhdWx0Jywgc3RlcE51bWJlcik7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBpbml0KCkge1xyXG4gICAgaWYgKCQoY2xzQ29uc3QuY3VycmVudFBhZ2VDbHMpLmxlbmd0aCkge1xyXG4gICAgICAgIGNvbnN0IHdpemFyZENmZyA9IHtcclxuICAgICAgICAgICAgc3RlcFJlZHVjZXIsXHJcbiAgICAgICAgICAgIG9uU3VibWl0SGFuZGxlclxyXG4gICAgICAgIH07XHJcbiAgICAgICAgd2l6YXJkRm9ybS5pbml0KHdpemFyZENmZyk7XHJcbiAgICAgICAgaW5pdEhhbmRsZXJzKCk7XHJcbiAgICAgICAgYXV0b21lc3NhZ2VzU3RhdHVzLmluaXQoKTtcclxuICAgICAgICBpbml0TW9kYWxIYW5kbGVyKCk7XHJcbiAgICAgICAgaW5pdEVtb2ppaSgpO1xyXG4gICAgICAgIGltYWdlVXBsb2FkLmluaXQoKTtcclxuICAgICAgICAvLyBpbml0VGFnc0lucHV0KCk7XHJcblxyXG4gICAgICAgIHdpbmRvdy5QdWJTdWIuc3Vic2NyaWJlKENPTlNULmV2ZW50cy5pbnN0YWdyYW1BY2NvdW5zLklOU1RBR1JBTV9BQ0NPVU5TX1JFTkRFUkVEX0xBWlksIChlLCBhY2NvdW50cykgPT4ge1xyXG4gICAgICAgICAgICBsb2dzLmluaXQoc2VsZWN0Q2xzLCBjbHNDb25zdCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgd2luZG93LlB1YlN1Yi5zdWJzY3JpYmUoQ09OU1QuZXZlbnRzLmF1dG9hcm5zd2VyLklNQUdFX1VQTE9BREVELCAoZSwgcmVzKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IHtyZXNwb25zZX0gPSByZXM7XHJcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IChyZXNwb25zZS5sZW5ndGgpID8gSlNPTi5wYXJzZShyZXNwb25zZSkgOiAnJztcclxuICAgICAgICAgICAgY29uc3QgaW1hZ2VJZCA9IHJlc3VsdCAmJiByZXN1bHQuZGF0YSAmJiByZXN1bHQuZGF0YS5pbWFnZV9pZDtcclxuICAgICAgICAgICAgJChyZXMuZWwpLmNsb3Nlc3QoJy5maWxlLXVwbG9hZCcpLmF0dHIoJ2F0dGFjaGVkLWltZy1pZCcsIGltYWdlSWQpO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnaW1hZ2VfbG9hZGVkJywgcmVzKTtcclxuXHJcbiAgICAgICAgICAgIC8vIHRvZG86IG1ha2UgYXMgY2FsbEJhY2tcclxuICAgICAgICAgICAgY29uc3QgJGltYWdlQm94ID0gJChyZXMuZWwpLmNsb3Nlc3QoJy5jb2wnKS5maW5kKCcuanNfdXBsb2FkZWQtaW1nLWZyb20tcG9zdHMnKTtcclxuICAgICAgICAgICAgaWYgKCRpbWFnZUJveC5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICRpbWFnZUJveC5yZW1vdmUoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHdpbmRvdy5QdWJTdWIuc3Vic2NyaWJlKENPTlNULmV2ZW50cy5tb2RhbC5JTUFHRV9QT1NUX1NFTEVDVEVELCAoZSwgZGF0YSkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCAkaW1hZ2VCb3ggPSAkKGRhdGEuY2xvc2VzdENvbCkuZmluZCgnLmZpbGUtdXBsb2FkLWNvbnRlbnQnKTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJyRpbWFnZUJveCcsICRpbWFnZUJveCk7XHJcbiAgICAgICAgICAgIGlmICgkaW1hZ2VCb3gubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAkaW1hZ2VCb3guaGlkZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2Jsb2Nrcy9hdXRvbWVzc2FnZXMvYXV0b21lc3NhZ2VzLWluZGV4LmpzIiwiaW1wb3J0IHtDT05TVH0gZnJvbSAnLi4vLi4vY29tbW9uL2pzLXNlcnZpY2VzL2NvbnN0cyc7XHJcbmltcG9ydCB7Z2V0VGFza3NEYXRhfSBmcm9tICcuLi9fc2hhcmVkL3Rhc2stc3RhdHVzL3Rhc2stc3RhdHVzJztcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBpbml0KCkge1xyXG4gICAgaWYgKCQoJy5hdXRvbWVzc2FnZXMtcGFnZScpLmxlbmd0aCkge1xyXG4gICAgICAgIGNvbnN0IHBhdGggPSB7XHJcbiAgICAgICAgICAgIHR5cGU6IENPTlNULnVybC50bVR5cGVzLmF1dG9tZXNzYWdlc1QsXHJcbiAgICAgICAgICAgIHN1YnR5cGU6IENPTlNULnVybC50bVR5cGVzLmF1dG9tZXNzYWdlc1N1YlRbMF1cclxuICAgICAgICB9O1xyXG4gICAgICAgIGNvbnN0IHdyYXBwZXJzID0ge1xyXG4gICAgICAgICAgICAkcnVuczogJCgnLnRhc2tzLXJ1bnMnKSxcclxuICAgICAgICAgICAgJHN0b3BwZWQ6ICQoJy50YXNrcy1zdG9wcGVkJyksXHJcbiAgICAgICAgICAgICRhbGw6ICQoJy50YXNrcy1hbGwnKVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIC8vIHRhc2stc3RhdHVzIGhhcyBvbmUgc3VidHlwZSwgc28gZG8gbm90IGFkZCBkcm9wZG93blxyXG4gICAgICAgIC8vIHJlbmRlciBzdGF0dXMgZHJvcGRvd25cclxuICAgICAgICAvLyBjb25zdCB0ZXh0UnVzQXJyYXkgPSBbJ9Cf0L4gREVGQVVMVF9BVVRPX0FOU1dFUiddO1xyXG4gICAgICAgIC8vIGRyb3BEb3duLmFkZERyb3Bkb3duKGxvZ3NTdGF0ZVN0YXR1cy53cmFwcGVyU3VidHlwZSwgQ09OU1QudXJsLnRtVHlwZXMuc3Rvcmllc1N1YlQsIHtsb2dzU3RhdGU6IGxvZ3NTdGF0ZVN0YXR1cywgZHJvcGRvd25PblNlbGVjdENiLCB0ZXh0UnVzQXJyYXl9KTtcclxuXHJcbiAgICAgICAgZ2V0VGFza3NEYXRhKHdyYXBwZXJzLCBwYXRoKTtcclxuICAgICAgICAvLyB3aW5kb3cuUHViU3ViLnN1YnNjcmliZShDT05TVC5ldmVudHMuaW5zdGFncmFtQWNjb3Vucy5JTlNUQUdSQU1fQUNDT1VOU19SRU5ERVJFRCwgKGV2ZW50TmFtZSwgZGF0YSkgPT4ge1xyXG4gICAgICAgIC8vICAgICBnZXRUYXNrc0RhdGEod3JhcHBlcnMsIHBhdGgpO1xyXG4gICAgICAgIC8vICAgICBjb25zb2xlLmxvZygnKiphbnN3ZXItc3RhdHVzJywgZXZlbnROYW1lLCBkYXRhKTtcclxuICAgICAgICAvLyB9KTtcclxuICAgICAgICB3aW5kb3cuUHViU3ViLnN1YnNjcmliZShDT05TVC5ldmVudHMudGFza3MuTkVXX1RBU0tfQ1JFQVRFRCwgKGV2ZW50TmFtZSwgZGF0YSkgPT4ge1xyXG4gICAgICAgICAgICBnZXRUYXNrc0RhdGEod3JhcHBlcnMsIHBhdGgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59XHJcblxyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvYmxvY2tzL2F1dG9tZXNzYWdlcy9hdXRvbWVzc2FnZXMtc3RhdHVzLmpzIiwiaW1wb3J0IHtDT05TVH0gZnJvbSAnLi4vLi4vY29tbW9uL2pzLXNlcnZpY2VzL2NvbnN0cyc7XHJcbmltcG9ydCAqIGFzIHdpemFyZEZvcm0gZnJvbSAnLi4vLi4vYmxvY2tzL3dpemFyZC1mb3JtL3dpemFyZC1mb3JtJztcclxuaW1wb3J0IFVzZXJUYXNrTWFuYWdlciBmcm9tICcuLi8uLi9jb21tb24vanMtc2VydmljZXMvYXBpLXRhc2stbWFuYWdlcic7XHJcbi8vIGltcG9ydCBVc2VyIGZyb20gJy4uLy4uL2NvbW1vbi9qcy1zZXJ2aWNlcy91c2VyJztcclxuaW1wb3J0ICogYXMgdGFicyBmcm9tICcuLi9fc2hhcmVkL3RlYnMtcGlscy90YWJzJztcclxuaW1wb3J0ICogYXMgY2hhdEJvdFN0YXR1cyBmcm9tICcuL2NoYXQtYm90LXN0YXR1cyc7XHJcbmltcG9ydCAqIGFzIGNoYXRCb3RMb2dzIGZyb20gJy4uL19zaGFyZWQvbG9ncy9sb2dzJztcclxuXHJcbmxldCB1c2VybmFtZVNlbGVjdGVkID0gJyc7XHJcbmNvbnN0IHNlbGVjdENscyA9ICdqc19sb2dzLWFjY291bnRzJztcclxuY29uc3QgY2xzQ29uc3QgPSB7XHJcbiAgICBjdXJyZW50UGFnZUNsczogJy5ib3QtcGFnZScsXHJcbiAgICB0YXNrc0xpc3Q6ICcubG9nLXRhc2tzJyxcclxuICAgIGxvZ3NUYWJCdG46ICcjdi1waWxscy1sb2dzLXRhYicsXHJcbiAgICBwYWdpbmF0aW9uOiAnLmxvZ3MtcGFnaW5hdGlvbicsXHJcbiAgICBwYWdpbmF0aW9uUGdOdW1iZXI6ICcucGFnZS1udW1iZXInLFxyXG4gICAgcGF0aFR5cGU6IENPTlNULnVybC50bVR5cGVzLmNoYXRCb3RULFxyXG4gICAgcGF0aFN1YlR5cGU6IENPTlNULnVybC50bVR5cGVzLmNoYXRCb3RTdWJUWzBdXHJcbn07XHJcblxyXG5mdW5jdGlvbiBvblN1Ym1pdEhhbmRsZXIoZSkge1xyXG4gICAgY29uc3QgZmllbGRzID0gJCgnLmJvdC10ZXh0LWZpZWxkcycpO1xyXG4gICAgY29uc3Qga2V5V29yZHMgPSAkZWwgPT4gJGVsLnZhbCgpXHJcbiAgICAgICAgLnRyaW0oKVxyXG4gICAgICAgIC5yZXBsYWNlKC8gL2csICcnKVxyXG4gICAgICAgIC5zcGxpdCgnLCcpXHJcbiAgICAgICAgLmZpbHRlcihpID0+IGkubGVuZ3RoID4gMCk7XHJcbiAgICBjb25zdCByZXFCb2R5ID0gW107XHJcbiAgICBmaWVsZHMuZWFjaCgoaWR4LCBpdGVtKSA9PiB7XHJcbiAgICAgICAgY29uc3Qga2V5V29yZCA9IGtleVdvcmRzKCQoaXRlbSkuZmluZCgndGV4dGFyZWEuYW5zd2VyLXdvcmRzJykpO1xyXG4gICAgICAgIGNvbnN0IGFuc3dlciA9ICQoaXRlbSkuZmluZCgndGV4dGFyZWEuYW5zd2VyLW1lc3NhZ2VzJykudmFsKCk7XHJcbiAgICAgICAgcmVxQm9keS5wdXNoKHsna2V5X3dvcmRzJzoga2V5V29yZCwgYW5zd2VyfSk7XHJcbiAgICB9KTtcclxuICAgIGNvbnN0IG5SZXFCb2R5ID0ge1xyXG4gICAgICAgICd1c2VybmFtZSc6IHVzZXJuYW1lU2VsZWN0ZWQsXHJcbiAgICAgICAgJ3R5cGUnOiBjbHNDb25zdC5wYXRoVHlwZSxcclxuICAgICAgICAnc3VidHlwZSc6IGNsc0NvbnN0LnBhdGhTdWJUeXBlLFxyXG4gICAgICAgICd1c2VyX2RlZmF1bHRfY29uZmlnJzoge30sXHJcbiAgICAgICAgJ3VzZXJfY3VzdG9tX2NvbmZpZyc6IHtcclxuICAgICAgICAgICAgJ2Zvcm1zJzogcmVxQm9keVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLy8gY29uc29sZS5sb2coJ21ha2UgcmVxdWVzdCBoZXJlKionLCBuUmVxQm9keSk7XHJcbiAgICBmdW5jdGlvbiBjYkVycm9yKHJlcykge1xyXG4gICAgICAgIGNvbnN0IG1zZyA9IHJlcy5zdGF0dXMubWVzc2FnZTtcclxuICAgICAgICAkKCcuZm9ybS1zdWJtaXQtZmluaXNoLS1lcnJvcicpLmFkZENsYXNzKCdkLWJsb2NrJylcclxuICAgICAgICAuZmluZCgnLmFsZXJ0JykuYXBwZW5kKGA8cD4ke21zZ308L3A+YCk7XHJcbiAgICB9XHJcbiAgICBVc2VyVGFza01hbmFnZXIucG9zdFN0YXJ0VGFzayhuUmVxQm9keSwgY2JFcnJvcikudGhlbigocmVzdWx0KSA9PiB7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coJ3Bvc3RCb3QnKTtcclxuICAgICAgICBpZiAocmVzdWx0LnN0YXR1cy5zdGF0ZSA9PT0gJ29rJykge1xyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhKU09OLnN0cmluZ2lmeShyZXN1bHQpKTtcclxuICAgICAgICAgICAgJCgnLmZvcm0tc3VibWl0LWZpbmlzaCcpLmZpbmQoJy5hbGVydCBwJykucmVtb3ZlKCk7XHJcbiAgICAgICAgICAgICQoJy5mb3JtLXN1Ym1pdC1maW5pc2gnKS5hZGRDbGFzcygnZC1ibG9jaycpXHJcbiAgICAgICAgICAgICAgICAuZmluZCgnLmFsZXJ0JykuYXBwZW5kKGA8cD50YXNrX2lkOiAke3Jlc3VsdC5kYXRhLnRhc2tfaWR9PC9wPmApO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBmaWxsTGlzdFVzZXJzKCR3cmFwcGVyLCBhY2NvdW50cykge1xyXG4gICAgJHdyYXBwZXIuZW1wdHkoKS5hZGRDbGFzcygnYm9yZGVyLWxpZ2h0LWNvbG9yJyk7XHJcbiAgICAkKGA8ZGl2IGNsYXNzPVwiXCI+0JTQvtGB0YLRg9C/0L3Ri9C1INCw0LrQutCw0YPQvdGC0Ys8L2Rpdj48c2VsZWN0IG5hbWU9XCJ0YXNrLXR5cGVcIiBjbGFzcz1cIiR7c2VsZWN0Q2xzfVwiPjwvc2VsZWN0PmApLmFwcGVuZFRvKCR3cmFwcGVyKTtcclxuICAgIGFjY291bnRzLmZvckVhY2goKG5hbWUpID0+IHtcclxuICAgICAgICAkKGA8b3B0aW9uIGNsYXNzPVwibGlzdC1ncm91cC1pdGVtIHB5LTJcIiB2YWx1ZT1cIiR7bmFtZX1cIj5cclxuICAgICAgICAgICAgJHtuYW1lfVxyXG4gICAgICAgIDwvb3B0aW9uPmApLmFwcGVuZFRvKCQoYC4ke3NlbGVjdENsc31gKSk7XHJcbiAgICB9KTtcclxuICAgICQoYC4ke3NlbGVjdENsc31gKS5vbignY2hhbmdlJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHVzZXJuYW1lU2VsZWN0ZWQgPSAkKGAuJHtzZWxlY3RDbHN9IG9wdGlvbjpzZWxlY3RlZGApLnZhbCgpO1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKHVzZXJuYW1lU2VsZWN0ZWQpO1xyXG4gICAgICAgIGNoYXRCb3RMb2dzLmluaXQoc2VsZWN0Q2xzLCBjbHNDb25zdCk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuLy8gZnVuY3Rpb24gZ2V0TWV0YUxhenkoJHdyYXBwZXIsIGNiRmlsbExpc3RVc2Vycykge1xyXG4vLyAgICAgVXNlci5nZXRNZXRhZGF0YUxhenkoKS50aGVuKChyZXMpID0+IHtcclxuLy8gICAgICAgICBpZiAocmVzLnN0YXR1cy5zdGF0ZSA9PT0gJ29rJyAmJiByZXMuZGF0YSAmJiByZXMuZGF0YS5hY2NvdW50cykge1xyXG4vLyAgICAgICAgICAgICBjYkZpbGxMaXN0VXNlcnMoJHdyYXBwZXIsIHJlcy5kYXRhLmFjY291bnRzKTtcclxuLy8gICAgICAgICAgICAgY2hhdEJvdExvZ3MuaW5pdChzZWxlY3RDbHMsIGNsc0NvbnN0KTtcclxuLy8gICAgICAgICB9XHJcbi8vICAgICB9KTtcclxuLy8gfVxyXG5cclxuLyoqXHJcbiAqIEluaXQgaGVhZGVyXHJcbiAqL1xyXG5mdW5jdGlvbiBpbml0SGFuZGxlcnMoKSB7XHJcbiAgICBjb25zdCB0cGxUZXh0RmllbGQgPSAoKSA9PiAkKGA8ZGl2IGNsYXNzPVwiYm90LXRleHQtZmllbGRzIG10LTJcIj5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwicm93XCI+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2xcIj5cclxuICAgICAgICAgICAgICAgIDx0ZXh0YXJlYSBjbGFzcz1cImZvcm0tY29udHJvbCBhbnN3ZXItd29yZHNcIiByb3dzPVwiNFwiIHBsYWNlaG9sZGVyPVwi0JLQstC10LTQuNGC0LUg0LrQu9GO0YfQtdCy0YvQtSDRgdC70L7QstCwINC40LvQuCDRhNGA0LDQt9GLINGH0LXRgNC10Lcg0LfQsNC/0Y/RgtGD0Y4sINC/0YDQuCDQutC+0YLQvtGA0YvRhSDQsdGD0LTQtdGCINGB0YDQsNCx0LDRgtGL0LLQsNGC0Ywg0YfQsNGCLdCx0L7RglwiPjwvdGV4dGFyZWE+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sXCI+XHJcbiAgICAgICAgICAgICAgICA8dGV4dGFyZWEgY2xhc3M9XCJmb3JtLWNvbnRyb2wgYW5zd2VyLW1lc3NhZ2VzXCIgcm93cz1cIjRcIiBwbGFjZWhvbGRlcj1cItCS0LLQtdC00LjRgtC1INGB0L7QvtCx0YnQtdC90LjQtSwg0LrQvtGC0L7RgNC+0LUg0LHRg9C00LXRgiDQvtGC0L/RgNCw0LLQu9GP0YLRjNGB0Y8sINC10YHQu9C4INC/0YDQuNGB0YPRgtGB0YLQstC+0LLQsNC70Lgg0LrQu9GO0Ycu0YHQu9C+0LLQsCDQuNC70Lgg0YTRgNCw0LfRiyDQuNC3INGB0YLQvtC70LHRhtCwINGB0LvQtdCy0LBcIj48L3RleHRhcmVhPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgIDwvZGl2PmApO1xyXG5cclxuICAgICQoJy5qc19hZGQtYm90Jykub24oJ2NsaWNrJywgKGUpID0+IHtcclxuICAgICAgICBjb25zdCBsYXN0VGV4dEZpZWxkID0gJCgnLmJvdC10ZXh0LWZpZWxkcycpLmxhc3QoKTtcclxuICAgICAgICB0cGxUZXh0RmllbGQoKS5pbnNlcnRBZnRlcihsYXN0VGV4dEZpZWxkKTtcclxuICAgIH0pO1xyXG5cclxuICAgIC8vIGFsZXJ0IGNsb3NlXHJcbiAgICAkKCcuZm9ybS1zdWJtaXQtZmluaXNoIC5jbG9zZScpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZygnYWxlcnQgY2xvc2UnKTtcclxuICAgICAgICAkKCcjdi1waWxscy1hbGwtdGFiJykudHJpZ2dlcignY2xpY2snKTtcclxuICAgICAgICB3aW5kb3cuUHViU3ViLnB1Ymxpc2goQ09OU1QuZXZlbnRzLnRhc2tzLk5FV19UQVNLX0NSRUFURUQpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gYWxlcnQgY2xvc2VcclxuICAgICQoJy5mb3JtLXN1Ym1pdC1maW5pc2gtLWVycm9yIC5jbG9zZScpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZygnYWxlcnQgY2xvc2UnKTtcclxuICAgICAgICAkKCcjdi1waWxscy1hbGwtdGFiJykudHJpZ2dlcignY2xpY2snKTtcclxuICAgICAgICB3aW5kb3cuUHViU3ViLnB1Ymxpc2goQ09OU1QuZXZlbnRzLnRhc2tzLk5FV19UQVNLX0NSRUFURUQpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLypcclxuICAgICQoJyN2LXBpbGxzLWxvZ3MtdGFiJykub24oJ2NsaWNrJywgKGUpID0+IHtcclxuICAgICAgICAvLyBhdCB0aGlzIHBvaW50IG9mIHRpbWUgc2V0SW50ZXJ2YWwgaXMgd29ya2luZ1xyXG4gICAgICAgIGNvbnN0ICR3cmFwcGVyID0gJCgnLmxvZy11c2Vycy1saXN0Jyk7XHJcbiAgICAgICAgZ2V0TWV0YUxhenkoJHdyYXBwZXIsIGZpbGxMaXN0VXNlcnMpO1xyXG4gICAgICAgIC8vIGNoYXRCb3RMb2dzLmluaXQoc2VsZWN0Q2xzLCBjbHNDb25zdCk7XHJcbiAgICB9KTtcclxuICAgICovXHJcbiAgICB0YWJzLmluaXQoZmlsbExpc3RVc2Vycyk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHNldFVzZXJOYW1lKHN0YXRlKSB7XHJcbiAgICAvLyBjb25zb2xlLmxvZygnZ2V0VGFza3NEYXRhJywgc3RhdGUudXNlcm5hbWUpO1xyXG4gICAgdXNlcm5hbWVTZWxlY3RlZCA9IHN0YXRlLnVzZXJuYW1lO1xyXG59XHJcblxyXG5mdW5jdGlvbiBzdGVwUmVkdWNlcihzdGVwTnVtYmVyLCBzdGF0ZSkge1xyXG4gICAgc3dpdGNoIChzdGVwTnVtYmVyKSB7XHJcbiAgICAgICAgY2FzZSAwOlxyXG4gICAgICAgICAgICBzZXRVc2VyTmFtZShzdGF0ZSk7XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHN0YXRlLCBzdGVwTnVtYmVyKTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ2RlZmF1bHQnLCBzdGVwTnVtYmVyKTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGluaXQoKSB7XHJcbiAgICBpZiAoJCgnLmJvdC1wYWdlJykubGVuZ3RoKSB7XHJcbiAgICAgICAgY29uc3Qgd2l6YXJkQ2ZnID0ge1xyXG4gICAgICAgICAgICBzdGVwUmVkdWNlcixcclxuICAgICAgICAgICAgb25TdWJtaXRIYW5kbGVyXHJcbiAgICAgICAgfTtcclxuICAgICAgICB3aXphcmRGb3JtLmluaXQod2l6YXJkQ2ZnKTtcclxuICAgICAgICBpbml0SGFuZGxlcnMoKTtcclxuICAgICAgICBjaGF0Qm90U3RhdHVzLmluaXQoKTtcclxuICAgICAgICB3aW5kb3cuUHViU3ViLnN1YnNjcmliZShDT05TVC5ldmVudHMuaW5zdGFncmFtQWNjb3Vucy5JTlNUQUdSQU1fQUNDT1VOU19SRU5ERVJFRF9MQVpZLCAoZSwgYWNjb3VudHMpID0+IHtcclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coYWNjb3VudHMpO1xyXG4gICAgICAgICAgICBjaGF0Qm90TG9ncy5pbml0KHNlbGVjdENscywgY2xzQ29uc3QpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9ibG9ja3MvY2hhdC1ib3QvY2hhdC1ib3QtaW5kZXguanMiLCJpbXBvcnQge0NPTlNUfSBmcm9tICcuLi8uLi9jb21tb24vanMtc2VydmljZXMvY29uc3RzJztcbmltcG9ydCB7Z2V0VGFza3NEYXRhfSBmcm9tICcuLi9fc2hhcmVkL3Rhc2stc3RhdHVzL3Rhc2stc3RhdHVzJztcblxuZXhwb3J0IGZ1bmN0aW9uIGluaXQoKSB7XG4gICAgaWYgKCQoJy5ib3QtcGFnZScpLmxlbmd0aCkge1xuICAgICAgICBjb25zdCBwYXRoID0ge1xuICAgICAgICAgICAgdHlwZTogQ09OU1QudXJsLnRtVHlwZXMuY2hhdEJvdFQsXG4gICAgICAgICAgICBzdWJ0eXBlOiBDT05TVC51cmwudG1UeXBlcy5jaGF0Qm90U3ViVFswXVxuICAgICAgICB9O1xuICAgICAgICBjb25zdCB3cmFwcGVycyA9IHtcbiAgICAgICAgICAgICRydW5zOiAkKCcudGFza3MtcnVucycpLFxuICAgICAgICAgICAgJHN0b3BwZWQ6ICQoJy50YXNrcy1zdG9wcGVkJylcbiAgICAgICAgfTtcbiAgICAgICAgZ2V0VGFza3NEYXRhKHdyYXBwZXJzLCBwYXRoKTtcbiAgICAgICAgLy8gd2luZG93LlB1YlN1Yi5zdWJzY3JpYmUoQ09OU1QuZXZlbnRzLmluc3RhZ3JhbUFjY291bnMuSU5TVEFHUkFNX0FDQ09VTlNfUkVOREVSRUQsIChldmVudE5hbWUsIGRhdGEpID0+IHtcbiAgICAgICAgLy8gICAgIGdldFRhc2tzRGF0YSh3cmFwcGVycywgcGF0aCk7XG4gICAgICAgIC8vICAgICBjb25zb2xlLmxvZygnKiphbnN3ZXItc3RhdHVzJywgZXZlbnROYW1lLCBkYXRhKTtcbiAgICAgICAgLy8gfSk7XG4gICAgICAgIHdpbmRvdy5QdWJTdWIuc3Vic2NyaWJlKENPTlNULmV2ZW50cy50YXNrcy5ORVdfVEFTS19DUkVBVEVELCAoZXZlbnROYW1lLCBkYXRhKSA9PiB7XG4gICAgICAgICAgICBnZXRUYXNrc0RhdGEod3JhcHBlcnMsIHBhdGgpO1xuICAgICAgICB9KTtcbiAgICB9XG59XG5cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9ibG9ja3MvY2hhdC1ib3QvY2hhdC1ib3Qtc3RhdHVzLmpzIiwiLyogZXNsaW50LWRpc2FibGUgc29ydC12YXJzICovXHJcbi8vIGltcG9ydCAkIGZyb20gJ2pxdWVyeSc7XHJcbmltcG9ydCBVc2VyIGZyb20gJy4uLy4uL2NvbW1vbi9qcy1zZXJ2aWNlcy91c2VyJztcclxuaW1wb3J0IHtDT05TVH0gZnJvbSAnLi4vLi4vY29tbW9uL2pzLXNlcnZpY2VzL2NvbnN0cyc7XHJcbmltcG9ydCBjb29raWVTdG9yYWdlIGZyb20gJy4uLy4uL2NvbW1vbi9qcy1zZXJ2aWNlcy9jb29raWUnO1xyXG5cclxuY29uc3QgcGFyc2VRdWVyeVN0cmluZyA9IGZ1bmN0aW9uKCkge1xyXG5cclxuICAgIGNvbnN0IHN0ciA9IHdpbmRvdy5sb2NhdGlvbi5zZWFyY2g7XHJcbiAgICBjb25zdCBvYmpVUkwgPSB7fTtcclxuXHJcbiAgICBzdHIucmVwbGFjZShcclxuICAgICAgbmV3IFJlZ0V4cCgnKFtePz0mXSspKD0oW14mXSopKT8nLCAnZycpLFxyXG4gICAgICAgIGZ1bmN0aW9uKCQwLCAkMSwgJDIpIHtcclxuICAgICAgICAgICAgb2JqVVJMWyQxXSA9ICQyO1xyXG4gICAgICAgIH1cclxuICApO1xyXG4gICAgcmV0dXJuIG9ialVSTDtcclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBjb25maXJtYXRpb25XaXRoUmVkaXJlY3QoKSB7XHJcbiAgICBjb25zdCB1c2VyID0gVXNlcjtcclxuICAgIGNvbnN0IHBhcmFtcyA9IHBhcnNlUXVlcnlTdHJpbmcoKTtcclxuICAgIC8vIEV4YW1wbGUgaG93IHRvIHVzZSBpdDpcclxuXHJcbiAgICBjb25zdCBzZW5kQ29uZmlybSA9IGZ1bmN0aW9uICh0b2tlbikge1xyXG4gICAgICAgIHVzZXIuY29uZmlybSh0b2tlbikudGhlbigocmVzdWx0KSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChyZXN1bHQuc3RhdHVzICYmIHJlc3VsdC5zdGF0dXMuc3RhdGUgPT09ICdvaycpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBzYXZlIHRoZSBpdGVtXHJcbiAgICAgICAgICAgICAgICBjb29raWVTdG9yYWdlLnNldChDT05TVC5jb29raWVTdG9yYWdlLmVtYWlsQ29uZmlybWVkLCAnY29uZmlybWVkJyk7XHJcbiAgICAgICAgICAgICAgICBjb29raWVTdG9yYWdlLnNldChDT05TVC5jb29raWVTdG9yYWdlLnRva2VuLCByZXN1bHQuZGF0YS50b2tlbik7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gd2luZG93LmxvY2F0aW9uID0gY29uZmlybS1yZWdpc3RyYXRpb24uaHRtbD90b2tlbj0nZnJvbSBzZXJ2ZXInO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIHJldHJpZXZlIHRoZSBvYmplY3QgaW4gYSBzdHJpbmcgZm9ybVxyXG4gICAgICAgICAgICAgICAgY29uc3QgY3VzdG9tZXJzRGF0YVN0cmluZyA9IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ2N1c3RvbWVyc0RhdGEnKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGN1c3RvbWVyc0RhdGFTdHJpbmcpO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ3JlcXVlc3Qgc3VjY2VlZGVkIHdpdGggSlNPTiByZXNwb25zZScsIHJlc3VsdCk7XHJcbiAgICAgICAgICAgICAgICAkKCcuY29uZmlybS1yZWdpc3RyYXRpb24nKS5hcHBlbmQoYDxwPmNvbmZpcm1hdGlvbiBzdGF0dXM6ICR7cmVzdWx0LnN0YXR1cy5zdGF0ZX08L3A+YCk7XHJcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24gPSAnLi9wcm9maWxlLmh0bWwnO1xyXG4gICAgICAgICAgICAgICAgfSwgMTAwMCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAocmVzdWx0LnN0YXR1cykge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzdWx0KTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3VsdCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH07XHJcblxyXG4gICAgY29uc3QgcmVkaXJlY3QgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZG90LW5vdGF0aW9uXHJcbiAgICAgICAgY29uc3QgdG9rZW4gPSBwYXJhbXNbJ3Rva2VuJ107XHJcblxyXG4gICAgICAgIGlmICghbG9jYXRpb24ucGF0aG5hbWUuaW5kZXhPZignY29uZmlybS1yZWdpc3RyYXRpb24nKSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0b2tlbikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnc2VuZCByZXEgdG8gJywgdG9rZW4pO1xyXG4gICAgICAgICAgICBzZW5kQ29uZmlybSh0b2tlbik7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICBmdW5jdGlvbiBpbml0KCkge1xyXG4gICAgICAgIHJlZGlyZWN0KCk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICBpbml0XHJcbiAgICB9O1xyXG59XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9ibG9ja3MvY29uZmlybS1yZWcvY29uZmlybS1yZWcuanMiLCIvLyBpbXBvcnQgKiBhcyBmb2xsb3dTdGF0dXMgZnJvbSAnLi9mb2xsb3ctc3RhdHVzJztcclxuaW1wb3J0ICogYXMgZm9sbG93U3RhdHVzQnlTdWJ0eXBlIGZyb20gJy4uLy4uL2Jsb2Nrcy9fc2hhcmVkL3Rhc2stc3RhdHVzL3Rhc2stc3RhdHVzLWJ5LXN1YnR5cGUnO1xyXG5pbXBvcnQge0NPTlNUfSBmcm9tICcuLi8uLi9jb21tb24vanMtc2VydmljZXMvY29uc3RzJztcclxuaW1wb3J0IFVzZXJUYXNrTWFuYWdlciBmcm9tICcuLi8uLi9jb21tb24vanMtc2VydmljZXMvYXBpLXRhc2stbWFuYWdlcic7XHJcbmltcG9ydCB2aWV3VXRpbHMgZnJvbSAnLi4vLi4vY29tbW9uL2pzLXNlcnZpY2VzL3ZpZXcnO1xyXG5pbXBvcnQge2F0dGFjaFR4dEZpbGVIYW5kbGVyfSBmcm9tICcuL2ZvbGxvdy1yZWFkLWZpbGUtdHh0JztcclxuaW1wb3J0ICdicnV0dXNpbi1qc29uLWZvcm1zJztcclxuaW1wb3J0IHtpbml0TG9nc1RhYn0gZnJvbSAnLi4vX3NoYXJlZC9sb2dzL2xvZ3MtdGFicyc7XHJcbmltcG9ydCB7LyogaW5pdFRhZ3NJbnB1dCwgKi9uZXh0QnRudmFsaWRhdGVDb21wZXRpdG9yc0hhbmRsZXJ9IGZyb20gJy4uL19zaGFyZWQvdGFncy1pbnB1dC90YWdzLWlucHV0JztcclxuXHJcbmNvbnN0IHN0YXRlID0ge1xyXG4gICAgdXNlcm5hbWU6ICcnLFxyXG4gICAgc3VidHlwZTogQ09OU1QudXJsLnRtVHlwZXMuZm9sbG93aW5nU3ViVFswXSwgLy8gZGVmYXVsdCB2YWx1ZVxyXG4gICAgdXNlcl9kZWZhdWx0X2NvbmZpZzoge1xyXG4gICAgICAgIHRhc2tfbW9kZTogJ1NBRkUnXHJcbiAgICB9XHJcbn07XHJcblxyXG5mdW5jdGlvbiBmaWxsTGlzdE1ldGEoJGxpc3QsIGRhdGFBcnJheSkge1xyXG4gICAgY29uc3QgaXRlbXMgPSBkYXRhQXJyYXk7XHJcbiAgICAvLyBjb25zdCBkZWZhdWx0QXZhdGFyU3JjID0gQ09OU1QudXNlci5kZWZhdWxBdmF0YXI7XHJcbiAgICAkbGlzdC5lbXB0eSgpLmFkZENsYXNzKCdib3JkZXItbGlnaHQtY29sb3InKTtcclxuICAgICQoJzxsaSBjbGFzcz1cImxpc3QtZ3JvdXAtaXRlbSBweS0yXCI+PGgzPlVzZXJUYXNrTWFuYWdlcjwvaDM+PC9saT4nKS5hcHBlbmRUbygkbGlzdCk7XHJcbiAgICBpdGVtcy5mb3JFYWNoKChpdGVtKSA9PiB7XHJcbiAgICAgICAgLy8gY29uc3QgaW5mbyA9IGl0ZW0uaW5mbztcclxuICAgICAgICAvLyBjb25zdCBjaGVja3BvaW50ID0gaXRlbS5jaGVja3BvaW50IHx8IGl0ZW07XHJcbiAgICAgICAgJChgPGxpIGNsYXNzPVwibGlzdC1ncm91cC1pdGVtIHB5LTJcIiBkYXRhLXVzZXJuYW1lPVwiJHtpdGVtLnR5cGV9XCI+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibWVkaWEtYm9keSBkLWZsZXhcIj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sIHRhc2stdHlwZVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkeyhpdGVtLnRhc2tfaWQpID8gYDxwIGNsYXNzPVwibXQtMCBtYi0xIG5hbWVcIj4ke2l0ZW0udGFza19pZH08L3A+YCA6ICcnfVxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wgdGFzay1zdWJ0eXBlXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICR7KGl0ZW0uc3VidHlwZSkgPyBgPHAgY2xhc3M9XCJtdC0wIG1iLTEgbmFtZVwiPiR7aXRlbS5zdWJ0eXBlfTwvcD5gIDogJyd9XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbCB0YXNrLXByb2dyZXNzXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICR7KGl0ZW0uc3RhdHVzLnN0YXRlID09PSAnU1RPUFBFRCcpID8gYDxwIGNsYXNzPVwibXQtMCBtYi0xIG5hbWVcIj7QntGB0YLQsNC90L7QstC70LXQvdC+IC0gJHtpdGVtLnN0YXR1cy5yZWFzb259PC9wPmAgOiAnJ31cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8IS0tPGRpdiBjbGFzcz1cImNvbCB0YXNrLXByb2dyZXNzXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICR7KGl0ZW0ucHJvZ3Jlc3MpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IGA8cCBjbGFzcz1cIm10LTAgbWItMSBuYW1lXCI+0JrQvtC70LjRh9C10YHRgtCy0L4gLSAke2l0ZW0ucHJvZ3Jlc3MuY291bnR9PC9wPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzPVwibXQtMCBtYi0xIG5hbWVcIj7Qn9GA0L7RhtC10L3RgiAtICR7aXRlbS5wcm9ncmVzcy5wZXJjZW50fTwvcD5gIDogJyd9XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+LS0+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPC9saT5gKS5hcHBlbmRUbygkbGlzdCk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuLypcclxuZnVuY3Rpb24gZmlsbExpc3RUeXBlcygkd3JhcHBlciwgZGF0YSkge1xyXG4gICAgY29uc3Qgc3RydWN0dXJlT2JqID0gZGF0YVsnc3RydWN0dXJlJ107XHJcblxyXG4gICAgJHdyYXBwZXIuZW1wdHkoKS5hZGRDbGFzcygnYm9yZGVyLWxpZ2h0LWNvbG9yJyk7XHJcbiAgICAkKCc8ZGl2IGNsYXNzPVwiXCI+0KLQuNC/INC30LDQtNCw0L3QuNGPPC9kaXY+PHNlbGVjdCBuYW1lPVwidGFzay10eXBlXCIgaWQ9XCJ0YXNrLXR5cGVzXCI+PC9zZWxlY3Q+JykuYXBwZW5kVG8oJHdyYXBwZXIpO1xyXG4gICAgZm9yIChjb25zdCB0eXBlIGluIHN0cnVjdHVyZU9iaikge1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCdzdHJ1Y3R1cmU6ICcgKyBpdGVtKTtcclxuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHN0cnVjdHVyZU9iaiwgdHlwZSkpIHtcclxuICAgICAgICAgICAgJChgPG9wdGlvbiBjbGFzcz1cImxpc3QtZ3JvdXAtaXRlbSBweS0yXCIgJHsodHlwZSAhPT0gJ0ZPTExPV0lORycpID8gJ2Rpc2FibGVkPVwiZGlzYWJsZWRcIicgOiAnJ31cclxuICAgICAgICAgICAgICAgIHZhbHVlID0gXCIke0pTT04uc3RyaW5naWZ5KHt0eXBlLCBzdWJ0eXBlOiBzdHJ1Y3R1cmVPYmpbdHlwZV19KX1cIj5cclxuICAgICAgICAgICAgICAgICR7dHlwZX1cclxuICAgICAgICAgICAgPC9vcHRpb24+YCkuYXBwZW5kVG8oJCgnI3Rhc2stdHlwZXMnKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbiovXHJcblxyXG5mdW5jdGlvbiBnZXRUYXNrc0RhdGEocGF0aCkge1xyXG4gICAgVXNlclRhc2tNYW5hZ2VyLmdldE1ldGFkYXRhKHBhdGgpLnRoZW4oKHJlc3VsdCkgPT4ge1xyXG4gICAgICAgIGlmIChyZXN1bHQuc3RhdHVzLnN0YXRlID09PSAnb2snKSB7XHJcbiAgICAgICAgICAgIGZpbGxMaXN0TWV0YSgkKCcuZm9sbG93LXRhc2tzLWxpc3QnKSwgcmVzdWx0LmRhdGEubWV0YSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdldERhdGFTdGVwMigpIHtcclxuICAgIGNvbnN0IHBhdGggPSB7XHJcbiAgICAgICAgdHlwZTogQ09OU1QudXJsLnRtVHlwZXMuZm9sbG93aW5nVCxcclxuICAgICAgICBzdWJ0eXBlOiBzdGF0ZS5zdWJ0eXBlIHx8IENPTlNULnVybC50bVR5cGVzLmZvbGxvd2luZ1N1YlRbMF1cclxuICAgIH07XHJcbiAgICBnZXRUYXNrc0RhdGEocGF0aCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdldERhdGFTdGVwU3BlZWQoc3RlcE51bWJlcikge1xyXG4gICAgY29uc3QgZmlsbFNwZWVkTGlzdCA9IHZpZXdVdGlscy5maWxsUmFkaW9Hcm91cExpc3Q7XHJcbiAgICBjb25zdCBwYXRoID0ge1xyXG4gICAgICAgIHR5cGU6IENPTlNULnVybC50bVR5cGVzLmZvbGxvd2luZ1QsXHJcbiAgICAgICAgc3VidHlwZTogc3RhdGUuc3VidHlwZSB8fCBDT05TVC51cmwudG1UeXBlcy5mb2xsb3dpbmdTdWJUWzBdXHJcbiAgICB9O1xyXG4gICAgZnVuY3Rpb24gdG9nZ2xlQWRkVGV4dEJ0bihzdWJ0eXBlKSB7XHJcbiAgICAgICAgaWYgKHBhdGguc3VidHlwZSA9PT0gJ0ZPTExPV0lOR19CWV9MSVNUJykge1xyXG4gICAgICAgICAgICAvLyBzaG93IHR4dCBmaWxlVXBsb2FkXHJcbiAgICAgICAgICAgICQoJy5hZGQtZmlsZScpLmFkZENsYXNzKCdkLWJsb2NrJyk7XHJcbiAgICAgICAgICAgICQoJy5hZGQtY29tcGV0aXRvcnMnKS5hZGRDbGFzcygnZC1ub25lJykucmVtb3ZlQ2xhc3MoJ2QtYmxvY2snKTtcclxuICAgICAgICAgICAgY29uc3QgbmV4dFN0ZXAgPSAkKCcuanNfYWRkLW5ldy10YXNrIGZpZWxkc2V0JykuZ2V0KHN0ZXBOdW1iZXIgKyAxKTtcclxuICAgICAgICAgICAgJChuZXh0U3RlcCkuZmluZCgnLmJ0bi1uZXh0JykuYXR0cignZGlzYWJsZWQnLCAnZGlzYWJsZWQnKTtcclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2cobmV4dFN0ZXBQcm9jZWVkQnRuKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBzaG93IGNvbXBldGl0b3JzXHJcbiAgICAgICAgICAgICQoJy5hZGQtY29tcGV0aXRvcnMnKS5hZGRDbGFzcygnZC1ibG9jaycpO1xyXG4gICAgICAgICAgICAkKCcuYWRkLWZpbGUnKS5hZGRDbGFzcygnZC1ub25lJykucmVtb3ZlQ2xhc3MoJ2QtYmxvY2snKTtcclxuICAgICAgICAgICAgY29uc3QgbmV4dFN0ZXAgPSAkKCcuanNfYWRkLW5ldy10YXNrIGZpZWxkc2V0JykuZ2V0KHN0ZXBOdW1iZXIgKyAxKTtcclxuICAgICAgICAgICAgJChuZXh0U3RlcCkuZmluZCgnLmJ0bi1uZXh0JykucmVtb3ZlQXR0cignZGlzYWJsZWQnKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBjb25zb2xlLmxvZygncGF0aC5zdWJ0eXBlJywgcGF0aC5zdWJ0eXBlKTtcclxuXHJcbiAgICB0b2dnbGVBZGRUZXh0QnRuKHBhdGguc3VidHlwZSk7XHJcblxyXG4gICAgLy8gZHJhdyBjcml0ZXJpYVxyXG4gICAgVXNlclRhc2tNYW5hZ2VyLmdldERlZmF1bHRDb25maWdzKHBhdGgpLnRoZW4oKHJlc3VsdCkgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdnZXREZWZhdWx0Q29uZmlncycpO1xyXG4gICAgICAgIGlmIChyZXN1bHQuc3RhdHVzLnN0YXRlID09PSAnb2snKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHtcclxuICAgICAgICAgICAgICBkYXRhOiB7XHJcbiAgICAgICAgICAgICAgICBmb3VuZDoge1xyXG4gICAgICAgICAgICAgICAgICBjZmc6IHtcclxuICAgICAgICAgICAgICAgICAgICB0YXNrX21vZGVzXHJcbiAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gPSByZXN1bHQ7XHJcblxyXG4gICAgICAgICAgICBmaWxsU3BlZWRMaXN0KCQoJy5qc19mb2xsb3ctc3BlZWQnKSwgdGFza19tb2Rlcyk7XHJcbiAgICAgICAgICAgICQoJy5qc19mb2xsb3ctc3BlZWQgaW5wdXRbdHlwZT1yYWRpb10nKS5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZSA9ICQodGhpcykuYXR0cigndmFsdWUnKTtcclxuICAgICAgICAgICAgICAgIHN0YXRlLnVzZXJfZGVmYXVsdF9jb25maWcgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGFza19tb2RlOiB2YWx1ZS50b1VwcGVyQ2FzZSgpXHJcbiAgICAgICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxufVxyXG5mdW5jdGlvbiBzZXRDb21wZXRpdG9ycygpIHtcclxuICAgIGNvbnN0IGNvbXBldGl0b3JzID0gdmlld1V0aWxzLmdldFZhbEJ5Q29tbWFTZXBhcmF0b3IoJCgnLmZvbGxvdy1mb3JtJykuZmluZCgnI2ZvbGxvd2VycycpKTtcclxuXHJcbiAgICBzdGF0ZVsndXNlcl9jdXN0b21fY29uZmlnJ10gPSB7XHJcbiAgICAgICAgY29tcGV0aXRvcnNcclxuICAgIH07XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHN0ZXBSZWR1Y2VyKHN0ZXBOdW1iZXIpIHtcclxuICAgIGNvbnN0ICRjb21wZXRpdG9yc1RleHRBcmVhID0gJCgnLmpzX2ZvbGxvdy1jb21wZXRpdG9ycycpO1xyXG4gICAgY29uc3QgbmV4dFN0ZXBCdG4gPSAkY29tcGV0aXRvcnNUZXh0QXJlYS5jbG9zZXN0KCcuYWRkLWNvbXBldGl0b3JzJykuZmluZCgnLmJ0bi1uZXh0Jyk7XHJcbiAgICBzd2l0Y2ggKHN0ZXBOdW1iZXIpIHtcclxuICAgICAgICBjYXNlIDA6XHJcbiAgICAgICAgICAgIGdldERhdGFTdGVwMihzdGF0ZS51c2VybmFtZSk7XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHN0YXRlKTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICBnZXREYXRhU3RlcFNwZWVkKHN0ZXBOdW1iZXIpO1xyXG4gICAgICAgICAgICBuZXh0QnRudmFsaWRhdGVDb21wZXRpdG9yc0hhbmRsZXIoJGNvbXBldGl0b3JzVGV4dEFyZWEsIG5leHRTdGVwQnRuKTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSAyOlxyXG4gICAgICAgICAgICBzZXRDb21wZXRpdG9ycygpO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnZGVmYXVsdCcsIHN0ZXBOdW1iZXIpO1xyXG4gICAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBjYkVycm9yKHJlcykge1xyXG4gICAgY29uc3QgbXNnID0gcmVzLnN0YXR1cy5tZXNzYWdlO1xyXG4gICAgJCgnLmZvcm0tc3VibWl0LWZpbmlzaC0tZXJyb3InKS5hZGRDbGFzcygnZC1ibG9jaycpXHJcbiAgICAgICAgLmZpbmQoJy5hbGVydCcpLmFwcGVuZChgPHA+JHttc2d9PC9wPmApO1xyXG59XHJcblxyXG4vKipcclxuICogSW5pdCBoZWFkZXJcclxuICovXHJcbmZ1bmN0aW9uIGluaXRTdGVwcyhmb3JtU2VsZWN0b3IpIHtcclxuICAgIGNvbnN0ICRmb3JtID0gJChmb3JtU2VsZWN0b3IpO1xyXG4gICAgJCgnLmpzX3Byb2ZpbGUtdXNlci1mb2xsb3c+LmNvbnRhaW5lcicpLnJlbW92ZUNsYXNzKCdjb250YWluZXInKTtcclxuXHJcbiAgICBhdHRhY2hUeHRGaWxlSGFuZGxlcignLmZpbGUtdXBsb2FkLWNvbnRhaW5lcicpO1xyXG5cclxuICAgICRmb3JtLmZpbmQoJ2ZpZWxkc2V0OmZpcnN0LWNoaWxkJykuZmFkZUluKCdzbG93Jyk7XHJcblxyXG4gICAgJGZvcm0uZmluZCgnaW5wdXRbdHlwZT1cInRleHRcIl0nKS5vbignZm9jdXMnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgJCh0aGlzKS5yZW1vdmVDbGFzcygnaW5wdXQtZXJyb3InKTtcclxuICAgIH0pO1xyXG5cclxuICAgIC8vIG5leHQgc3RlcFxyXG4gICAgJGZvcm0uZmluZCgnLmJ0bi1uZXh0Jykub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGNvbnN0IHBhcmVudF9maWVsZHNldCA9ICQodGhpcykucGFyZW50cygnZmllbGRzZXQnKTtcclxuICAgICAgICBsZXQgbmV4dF9zdGVwID0gdHJ1ZTtcclxuICAgICAgICBjb25zdCByYWRpb0J0bkFjdGl2ZSA9IHBhcmVudF9maWVsZHNldC5maW5kKCdpbnB1dFtuYW1lPVwidXNlckFjY291bnRSYWRpb1wiXTpjaGVja2VkJyk7XHJcblxyXG4gICAgICAgIGlmIChyYWRpb0J0bkFjdGl2ZS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgIHN0YXRlLnVzZXJuYW1lID0gcmFkaW9CdG5BY3RpdmUucGFyZW50cygnbGknKS5kYXRhKCd1c2VybmFtZScpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBzdGVwUmVkdWNlcihwYXJlbnRfZmllbGRzZXQuaW5kZXgoKSwgc3RhdGUpO1xyXG5cclxuICAgICAgICBwYXJlbnRfZmllbGRzZXQuZmluZCgnaW5wdXRbdHlwZT1cInRleHRcIl0saW5wdXRbdHlwZT1cImVtYWlsXCJdJykuZWFjaChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmICgkKHRoaXMpLnZhbCgpID09PSAnJykge1xyXG4gICAgICAgICAgICAgICAgJCh0aGlzKS5hZGRDbGFzcygnaW5wdXQtZXJyb3InKTtcclxuICAgICAgICAgICAgICAgIG5leHRfc3RlcCA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgJCh0aGlzKS5yZW1vdmVDbGFzcygnaW5wdXQtZXJyb3InKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoJCh0aGlzKS5wYXJlbnQoKS5oYXNDbGFzcygnYm9vdHN0cmFwLXRhZ3NpbnB1dCcpKSB7XHJcbiAgICAgICAgICAgICAgICBuZXh0X3N0ZXAgPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGlmIChuZXh0X3N0ZXApIHtcclxuICAgICAgICAgICAgcGFyZW50X2ZpZWxkc2V0LmZhZGVPdXQoNDAwLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAkKHRoaXMpLm5leHQoKS5mYWRlSW4oKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH0pO1xyXG5cclxuICAgIC8vIHByZXZpb3VzIHN0ZXBcclxuICAgICRmb3JtLmZpbmQoJy5idG4tcHJldmlvdXMnKS5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgLy8gc3RhdGUudXNlcm5hbWUgPSBbLi4ubmV3IFNldChzdGF0ZS51c2VybmFtZSldO1xyXG4gICAgICAgICQodGhpcykucGFyZW50cygnZmllbGRzZXQnKS5mYWRlT3V0KDQwMCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAkKHRoaXMpLnByZXYoKS5mYWRlSW4oKTtcclxuICAgICAgICB9KTtcclxuICAgIH0pO1xyXG5cclxuICAgIC8vIHNwZWVkIHJhZGlvLWJ0biBncm91cFxyXG4gICAgLy8gJCgnLmpzX2ZvbGxvdy1zcGVlZCBpbnB1dFt0eXBlPXJhZGlvXScpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcclxuICAgIC8vICAgICBjb25zdCB2YWx1ZSA9ICQodGhpcykuYXR0cigndmFsdWUnKTtcclxuICAgIC8vICAgICBzdGF0ZS51c2VyX2RlZmF1bHRfY29uZmlnID0ge1xyXG4gICAgLy8gICAgICAgICB0YXNrX21vZGU6IHZhbHVlLnRvVXBwZXJDYXNlKClcclxuICAgIC8vICAgICB9O1xyXG4gICAgLy8gfSk7XHJcblxyXG4gICAgJCgnLmpzX2dldC1mb2xsb3ctdHlwZSBpbnB1dFt0eXBlPXJhZGlvXScpLm9uKCdjbGljaycsIChlKSA9PiB7XHJcbiAgICAgICAgY29uc3QgdmFsdWUgPSAkKGUudGFyZ2V0KS5hdHRyKCd2YWx1ZScpO1xyXG4gICAgICAgIHN0YXRlLnN1YnR5cGUgPSB2YWx1ZS50b1VwcGVyQ2FzZSgpO1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKHN0YXRlKTtcclxuICAgIH0pO1xyXG5cclxuICAgIC8vIHN1Ym1pdFxyXG4gICAgJGZvcm0ub24oJ3N1Ym1pdCcsIGZ1bmN0aW9uIChlKSB7XHJcblxyXG4gICAgICAgIHN0YXRlLnVzZXJfZGVmYXVsdF9jb25maWcgPSB7XHJcbiAgICAgICAgICAgIC4uLnN0YXRlLnVzZXJfZGVmYXVsdF9jb25maWcsXHJcbiAgICAgICAgICAgIGNyaXRlcmlhOiB7fVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgY29uc3QgbGltaXQgPSBkb2N1bWVudC5mb3Jtc1snZm9sbG93LWZvcm0nXVsnbGltaXQnXTtcclxuICAgICAgICBjb25zdCBoYXZlX3Bvc3RzID0ge1xyXG4gICAgICAgICAgICBmcm9tOiBkb2N1bWVudC5mb3Jtc1snZm9sbG93LWZvcm0nXVsnaGF2ZV9wb3N0c19mcm9tJ10udmFsdWUsXHJcbiAgICAgICAgICAgIHRvOiBkb2N1bWVudC5mb3Jtc1snZm9sbG93LWZvcm0nXVsnaGF2ZV9wb3N0c190byddLnZhbHVlXHJcbiAgICAgICAgfTtcclxuICAgICAgICBjb25zdCBoYXZlX2ZvbGxvd2VycyA9IHtcclxuICAgICAgICAgICAgZnJvbTogZG9jdW1lbnQuZm9ybXNbJ2ZvbGxvdy1mb3JtJ11bJ2hhdmVfZm9sbG93ZXJzX2Zyb20nXS52YWx1ZSxcclxuICAgICAgICAgICAgdG86IGRvY3VtZW50LmZvcm1zWydmb2xsb3ctZm9ybSddWydoYXZlX2ZvbGxvd2Vyc190byddLnZhbHVlXHJcbiAgICAgICAgfTtcclxuICAgICAgICBjb25zdCBoYXZlX2ZvbGxvd2luZ3MgPSB7XHJcbiAgICAgICAgICAgIGZyb206IGRvY3VtZW50LmZvcm1zWydmb2xsb3ctZm9ybSddWydoYXZlX2ZvbGxvd2luZ3NfZnJvbSddLnZhbHVlLFxyXG4gICAgICAgICAgICB0bzogZG9jdW1lbnQuZm9ybXNbJ2ZvbGxvdy1mb3JtJ11bJ2hhdmVfZm9sbG93aW5nc190byddLnZhbHVlXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgaWYgKGxpbWl0LnZhbHVlID09PSAnJykge1xyXG4gICAgICAgICAgICBsaW1pdC5mb2N1cygpO1xyXG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHN0YXRlWyd1c2VyX2RlZmF1bHRfY29uZmlnJ10uY3JpdGVyaWEgPSB7XHJcbiAgICAgICAgICAgIGxpbWl0OiBsaW1pdC52YWx1ZSxcclxuICAgICAgICAgICAgJ3VuZm9sbG93X3RoZW4nOiAhISQoJyN1bmZvbGxvd190aGVuOmNoZWNrZWQnKS5sZW5ndGgsXHJcbiAgICAgICAgICAgICdmb2xsb3dfb25fY2xvc2VkX3Byb2ZpbGVzJzogISEkKCcjZm9sbG93X29uX2Nsb3NlZF9wcm9maWxlczpjaGVja2VkJykubGVuZ3RoLFxyXG4gICAgICAgICAgICBoYXZlX3Bvc3RzLFxyXG4gICAgICAgICAgICBoYXZlX2ZvbGxvd2VycyxcclxuICAgICAgICAgICAgaGF2ZV9mb2xsb3dpbmdzXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgJCh0aGlzKS5maW5kKCdpbnB1dFt0eXBlPVwidGV4dFwiXSxpbnB1dFt0eXBlPVwibnVtYmVyXCJdLGlucHV0W3R5cGU9XCJlbWFpbFwiXScpLmVhY2goZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAoJCh0aGlzKS52YWwoKSA9PT0gJycpIHtcclxuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgICAgICQodGhpcykuYWRkQ2xhc3MoJ2lucHV0LWVycm9yJyk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAkKHRoaXMpLnJlbW92ZUNsYXNzKCdpbnB1dC1lcnJvcicpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHN0YXRlLnR5cGUgPSBDT05TVC51cmwudG1UeXBlcy5mb2xsb3dpbmdUOyAvLyAnRk9MTE9XSU5HJztcclxuICAgICAgICAvLyBjb25zb2xlLmxvZygnLS0tLSsgc3RhdGUuc3VidHlwZSArLS0tLScsIHN0YXRlLnN1YnR5cGUpO1xyXG4gICAgICAgIGlmIChzdGF0ZS5zdWJ0eXBlID09PSAnRk9MTE9XSU5HX0JZX0xJU1QnKSB7XHJcbiAgICAgICAgICAgIC8vIHRleHQgZmlsZSBzaG91bGQgYmUgYWRkZWRcclxuICAgICAgICAgICAgc3RhdGVbJ3VzZXJfY3VzdG9tX2NvbmZpZyddLmF0dGFjaG1lbnQgPSB7XHJcbiAgICAgICAgICAgICAgICAnbGlzdF9pZCc6ICQoJy5hZGQtZmlsZSAuZmlsZS11cGxvYWQtY29udGFpbmVyJykuYXR0cignYXR0YWNoZWQtdHh0LWlkJylcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHN0YXRlLnN1YnR5cGUgPT09IENPTlNULnVybC50bVR5cGVzLmZvbGxvd2luZ1N1YlRbMV0pIHtcclxuICAgICAgICAgICAgLy8gY29uc3QgY29tcGV0aXRvcnMgPSBnZXRWYWxCeUNvbW1hU2VwYXJhdG9yKCQoZm9ybSkuZmluZChlbFNlbGVjdG9yLmNvbXBldGl0b3JzKSk7XHJcbiAgICAgICAgICAgIC8vIHN0YXRlLnVzZXJfY3VzdG9tX2NvbmZpZyA9IHtcclxuICAgICAgICAgICAgLy8gICAgIGNvbXBldGl0b3JzOiAnY29tcGV0aXRvcnMnXHJcbiAgICAgICAgICAgIC8vIH07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnNvbGUubG9nKCdtYWtlIHJlcXVlc3QqKiAgcG9zdDogU3RhcnRGb2xsb3dpbmdMaXN0Jywgc3RhdGUpO1xyXG5cclxuICAgICAgICBVc2VyVGFza01hbmFnZXIucG9zdFN0YXJ0Rm9sbG93aW5nTGlzdChzdGF0ZSwgY2JFcnJvcikudGhlbigocmVzdWx0KSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChyZXN1bHQuc3RhdHVzLnN0YXRlID09PSAnb2snKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhKU09OLnN0cmluZ2lmeShyZXN1bHQpKTtcclxuICAgICAgICAgICAgICAgICQoJy5mb3JtLXN1Ym1pdC1maW5pc2gnKS5maW5kKCcuYWxlcnQgcCcpLnJlbW92ZSgpO1xyXG4gICAgICAgICAgICAgICAgJCgnLmZvcm0tc3VibWl0LWZpbmlzaCcpLmFkZENsYXNzKCdkLWJsb2NrJylcclxuICAgICAgICAgICAgICAgICAgICAuZmluZCgnLmFsZXJ0JykuYXBwZW5kKGA8cD50YXNrX2lkOiAke3Jlc3VsdC5kYXRhLnRhc2tfaWR9PC9wPmApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gYWxlcnQgY2xvc2VcclxuICAgICQoJy5mb3JtLXN1Ym1pdC1maW5pc2ggLmNsb3NlJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIC8vICQodGhpcykuY2xvc2VzdCgnZm9ybS1zdWJtaXQtZmluaXNoJykucmVtb3ZlQ2xhc3MoJ2QtYmxvY2snKTtcclxuICAgICAgICAkKCcjdi1waWxscy1hbGwtdGFiJykudHJpZ2dlcignY2xpY2snKTtcclxuICAgICAgICB3aW5kb3cuUHViU3ViLnB1Ymxpc2goQ09OU1QuZXZlbnRzLnRhc2tzLk5FV19UQVNLX0NSRUFURUQpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gYWxlcnQgY2xvc2VcclxuICAgICQoJy5mb3JtLXN1Ym1pdC1maW5pc2gtLWVycm9yIC5jbG9zZScpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZygnYWxlcnQgY2xvc2UnKTtcclxuICAgICAgICAkKCcjdi1waWxscy1hbGwtdGFiJykudHJpZ2dlcignY2xpY2snKTtcclxuICAgICAgICB3aW5kb3cuUHViU3ViLnB1Ymxpc2goQ09OU1QuZXZlbnRzLnRhc2tzLk5FV19UQVNLX0NSRUFURUQpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gcHJldiBidG46IGNsZWFyLWNvbXBldGl0b3JzXHJcbiAgICAkKCcuanNfZm9sbG93LWNsZWFyLWNvbXBldGl0b3JzJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGNvbnN0ICRjb21wZXRpdG9yc1RleHRBcmVhID0gJCgnLmpzX2ZvbGxvdy1jb21wZXRpdG9ycycpO1xyXG4gICAgICAgICRjb21wZXRpdG9yc1RleHRBcmVhLnZhbCgnJyk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVudXNlZC12YXJzXHJcbmxldCB1c2VybmFtZVNlbGVjdGVkID0gJyc7XHJcbmNvbnN0IGNsc0NvbnN0ID0ge1xyXG4gICAgY3VycmVudFBhZ2VDbHM6ICcuZm9sbG93JyxcclxuICAgIHRhc2tzTGlzdDogJy5sb2ctdGFza3MnLFxyXG4gICAgbG9nc1RhYkJ0bjogJyN2LXBpbGxzLWxvZ3MtdGFiJyxcclxuICAgIHBhZ2luYXRpb246ICcubG9ncy1wYWdpbmF0aW9uJyxcclxuICAgIHBhZ2luYXRpb25QZ051bWJlcjogJy5wYWdlLW51bWJlcicsXHJcbiAgICBwYXRoVHlwZTogQ09OU1QudXJsLnRtVHlwZXMuZm9sbG93aW5nVCxcclxuICAgIHBhdGhTdWJUeXBlOiBDT05TVC51cmwudG1UeXBlcy5mb2xsb3dpbmdTdWJUWzBdXHJcbn07XHJcblxyXG5mdW5jdGlvbiBzZXRVc2VyTmFtZUNiKF91c2VybmFtZVNlbGVjdGVkKSB7XHJcbiAgICB1c2VybmFtZVNlbGVjdGVkID0gX3VzZXJuYW1lU2VsZWN0ZWQ7XHJcbn1cclxuXHJcbi8qXHJcbmZ1bmN0aW9uIGZpeFN0ZXBJbmRpY2F0b3Iobikge1xyXG4gICAgLy8gVGhpcyBmdW5jdGlvbiByZW1vdmVzIHRoZSBcImFjdGl2ZVwiIGNsYXNzIG9mIGFsbCBzdGVwcy4uLlxyXG4gICAgdmFyIGksIHggPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwic3RlcFwiKTtcclxuICAgIGZvciAoaSA9IDA7IGkgPCB4Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgeFtpXS5jbGFzc05hbWUgPSB4W2ldLmNsYXNzTmFtZS5yZXBsYWNlKFwiIGFjdGl2ZVwiLCBcIlwiKTtcclxuICAgIH1cclxuICAgIC8vLi4uIGFuZCBhZGRzIHRoZSBcImFjdGl2ZVwiIGNsYXNzIG9uIHRoZSBjdXJyZW50IHN0ZXA6XHJcbiAgICB4W25dLmNsYXNzTmFtZSArPSBcIiBhY3RpdmVcIjtcclxufSovXHJcblxyXG4vLyBUT0RPIDogdXNlIGZyb20gd2l6YXJkXHJcbmV4cG9ydCBmdW5jdGlvbiBtb2RpZnlBY2NMaXN0KCkge1xyXG4gICAgLy8gY29uc3QgcmFkaW9CdG4gPSAoaWR4KSA9PiBgPGRpdiBjbGFzcz1cImNvbCBjdXN0b20tY29udHJvbCBjdXN0b20tcmFkaW8ganNfdXNlci1yYWRpb1wiPlxyXG4gICAgLy8gICAgICAgICA8aW5wdXQgdHlwZT1cInJhZGlvXCIgbmFtZT1cInVzZXJBY2NvdW50UmFkaW9cIiBpZD1cImN1c3RvbVJhZGlvLSR7aWR4fVwiIGNsYXNzPVwiY3VzdG9tLWNvbnRyb2wtaW5wdXRcIiB2YWx1ZT1cIlwiPlxyXG4gICAgLy8gICAgICAgICA8bGFiZWwgY2xhc3M9XCJjdXN0b20tY29udHJvbC1sYWJlbFwiIGZvcj1cImN1c3RvbVJhZGlvLSR7aWR4fVwiPtCf0L7QtNC/0LjRgdCw0YLRjNGB0Y88L2xhYmVsPlxyXG4gICAgLy8gICAgIDwvZGl2PmA7XHJcbiAgICBjb25zdCByYWRpb0J0bkFwcGVuZCA9IChpZHgpID0+IGA8ZGl2IGNsYXNzPVwiXCI+XHJcbiAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwicmFkaW9cIiBuYW1lPVwidXNlckFjY291bnRSYWRpb1wiIGlkPVwiY3VzdG9tUmFkaW8tJHtpZHh9XCIgY2xhc3M9XCJjdXN0b20tY29udHJvbC1pbnB1dCBkLW5vbmVcIiB2YWx1ZT1cIlwiPlxyXG4gICAgICAgIDwvZGl2PmA7XHJcbiAgICBjb25zdCByYWRpb0J0bldyYXAgPSAoaWR4KSA9PiBgPGxhYmVsIGNsYXNzPVwiYWNjb3VudHMtbGlzdC0tbGFiZWwtd3JhcHBlciBjb2wgbWItMCBtZWRpYSBweS0zXCIgZm9yPVwiY3VzdG9tUmFkaW8tJHtpZHh9XCI+PC9sYWJlbD5gO1xyXG4gICAgY29uc3QgJGFjY291bnRzTGlzdCA9ICQoJy5hY2NvdW50cy1saXN0Jyk7XHJcbiAgICBjb25zdCAkbGkgPSAkYWNjb3VudHNMaXN0LmZpbmQoJ2xpLm1lZGlhJyk7XHJcbiAgICAkbGkuYWRkQ2xhc3MoJ2pzX3VzZXItcmFkaW8nKS5yZW1vdmVDbGFzcygncHktMyBtZWRpYScpO1xyXG5cclxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgJGxpLmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgLy8gJCgkbGlbaV0pLmFwcGVuZChyYWRpb0J0bihpKSk7XHJcbiAgICAgICAgJCgkbGlbaV0pLndyYXBJbm5lcihyYWRpb0J0bldyYXAoaSkpLmFwcGVuZChyYWRpb0J0bkFwcGVuZChpKSk7XHJcbiAgICB9XHJcblxyXG4gICAgJCgnLmpzX3VzZXItcmFkaW8nKS5vbignY2xpY2snLCAnaW5wdXRbdHlwZT1yYWRpb10nLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgIGNvbnN0ICRwYXJlbnRGaWVsZHNldCA9ICQodGhpcykucGFyZW50cygnZmllbGRzZXQnKTtcclxuICAgICAgICAkKCdsaS5hY3RpdmUnLCAkcGFyZW50RmllbGRzZXQpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcclxuICAgICAgICAkKHRoaXMpLmNsb3Nlc3QoJ2xpJykuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgICAgICQoJy5idG4tbmV4dCcsICRwYXJlbnRGaWVsZHNldCkucHJvcCgnZGlzYWJsZWQnLCBmYWxzZSk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuLyogd29ya2luZyBkZW1vIDogaHR0cDovL2JydXR1c2luLm9yZy9qc29uLWZvcm1zLyMxM1xyXG5mdW5jdGlvbiBmb3JtRnJvbUpzb24oKSB7XHJcbiAgICBjb25zdCBzY2hlbWEgPSB7XHJcbiAgICAgICAgXCJ0eXBlXCI6IFwib2JqZWN0XCIsXHJcbiAgICAgICAgXCJwcm9wZXJ0aWVzXCI6IHtcclxuICAgICAgICAgICAgXCJwcm9wMVwiOiB7XHJcbiAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJpbnRlZ2VyXCJcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgXCJwcm9wMlwiOiB7XHJcbiAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJpbnRlZ2VyXCIsXHJcbiAgICAgICAgICAgICAgICBcInJlcXVpcmVkXCI6IHRydWVcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgXCJwcm9wM1wiOiB7XHJcbiAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJpbnRlZ2VyXCIsXHJcbiAgICAgICAgICAgICAgICBcInJlcXVpcmVkXCI6IHRydWVcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgXCJjb21wb3NpdGUxXCI6IHtcclxuICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcIm9iamVjdFwiLFxyXG4gICAgICAgICAgICAgICAgXCJwcm9wZXJ0aWVzXCI6IHtcclxuICAgICAgICAgICAgICAgICAgICBcIm5lc3RlZDFcIjoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJudW1iZXJcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJyZXF1aXJlZFwiOiB0cnVlXHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICBcIm5lc3RlZDJcIjoge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJudW1iZXJcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJyZXF1aXJlZFwiOiB0cnVlXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIFwicmVxdWlyZWRcIjogW1xyXG4gICAgICAgICAgICAgICAgICAgIFwibmVzdGVkMVwiLFxyXG4gICAgICAgICAgICAgICAgICAgIFwibmVzdGVkMlwiXHJcbiAgICAgICAgICAgICAgICBdXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIFwiY29tcG9zaXRlMlwiOiB7XHJcbiAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJvYmplY3RcIixcclxuICAgICAgICAgICAgICAgIFwicHJvcGVydGllc1wiOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgXCJuZXN0ZWQxXCI6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwibnVtYmVyXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwicmVxdWlyZWRcIjogdHJ1ZVxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgXCJuZXN0ZWQyXCI6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwibnVtYmVyXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwicmVxdWlyZWRcIjogdHJ1ZVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBcInJlcXVpcmVkXCI6IFtcclxuICAgICAgICAgICAgICAgICAgICBcIm5lc3RlZDFcIixcclxuICAgICAgICAgICAgICAgICAgICBcIm5lc3RlZDJcIlxyXG4gICAgICAgICAgICAgICAgXVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICBcInJlcXVpcmVkXCI6IFtcclxuICAgICAgICAgICAgXCJwcm9wMVwiLFxyXG4gICAgICAgICAgICBcInByb3AyXCIsXHJcbiAgICAgICAgICAgIFwiY29tcG9zaXRlMVwiXHJcbiAgICAgICAgXVxyXG4gICAgfTtcclxuICAgIGNvbnN0IEJydXR1c2luRm9ybXMgPSB3aW5kb3cuYnJ1dHVzaW5bJ2pzb24tZm9ybXMnXTtcclxuICAgIGNvbnN0IGJmID0gQnJ1dHVzaW5Gb3Jtcy5jcmVhdGUoc2NoZW1hKTtcclxuICAgIGNvbnN0IGNvbnRhaW5lciA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdmb3JtMScpO1xyXG4gICAgY29uc29sZS5sb2cod2luZG93LmJydXR1c2luKTtcclxuICAgIGJmLnJlbmRlcihjb250YWluZXIsIGRhdGEpO1xyXG59Ki9cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBpbml0KCkge1xyXG4gICAgY29uc3QgaXNJbkNvcnJlY3RQYWdlID0gJCgnLmZvbGxvdycpLmxlbmd0aDtcclxuICAgIGlmIChpc0luQ29ycmVjdFBhZ2UpIHtcclxuICAgICAgICBjb25zdCBpbml0aWFsUGF0aCA9IHtcclxuICAgICAgICAgICAgdHlwZTogQ09OU1QudXJsLnRtVHlwZXMuZm9sbG93aW5nVCxcclxuICAgICAgICAgICAgc3VidHlwZTogQ09OU1QudXJsLnRtVHlwZXMuZm9sbG93aW5nU3ViVFswXSxcclxuICAgICAgICAgICAgc3VidHlwZXM6IENPTlNULnVybC50bVR5cGVzLmZvbGxvd2luZ1N1YlRcclxuICAgICAgICB9O1xyXG4gICAgICAgIGZvbGxvd1N0YXR1c0J5U3VidHlwZS5pbml0KHtpc0luQ29ycmVjdFBhZ2UsIGluaXRpYWxQYXRofSk7XHJcbiAgICAgICAgaW5pdFN0ZXBzKCcuZm9sbG93LWZvcm0nKTtcclxuICAgICAgICBjb25zb2xlLmxvZyhjbHNDb25zdC5jdXJyZW50UGFnZUNscyk7XHJcbiAgICAgICAgY29uc3QgdGV4dFJ1c0FycmF5ID0gWyfQn9C+INGB0L/QuNGB0LrRgycsICfQn9C+INCw0LrRgtC40LLQvdC+0Lkg0LDRg9C00LjRgtC+0YDQuNC4INC60L7QvdC60YPRgNC10L3RgtC+0LInXTtcclxuICAgICAgICBpbml0TG9nc1RhYih7bG9nc1N0YXRlOiBDT05TVC5sb2dzU3RhdGUsIGxvZ3NTdWJ0eXBlczogaW5pdGlhbFBhdGguc3VidHlwZXMsIGNsc0NvbnN0LCBzZXRVc2VyTmFtZUNiLCB0ZXh0UnVzQXJyYXl9KTtcclxuICAgICAgICAvLyBpbml0VGFnc0lucHV0KCk7XHJcblxyXG4gICAgICAgIC8vIFRPRE8gOiB1c2Ugd2l6YXJkLmluaXQoKVxyXG4gICAgICAgIHdpbmRvdy5QdWJTdWIuc3Vic2NyaWJlKENPTlNULmV2ZW50cy5pbnN0YWdyYW1BY2NvdW5zLklOU1RBR1JBTV9BQ0NPVU5TX1JFTkRFUkVELCAoZXZlbnROYW1lLCBkYXRhKSA9PiB7XHJcbiAgICAgICAgICAgIG1vZGlmeUFjY0xpc3QoKTtcclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ21vZGlmeUFjY0xpc3QnKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufVxyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvYmxvY2tzL2ZvbGxvdy9mb2xsb3cuanMiLCIvLyBpbXBvcnQgJCBmcm9tICdqcXVlcnknO1xyXG5cclxuLy8gY29uc3QgaGFtYnVyZ2VyQnV0dG9uQ2xzID0gJyNhc2lkZV9tb2JpbGVfX2J1dHRvbic7XHJcbi8vIGNvbnN0IGhhbWJ1cmdlck1lbnVDbHMgPSAnLmFzaWRlLWJ1cmdlci1tZW51JztcclxuLy8gY29uc3QgaGFtYnVyZ2VyTWVudU9wZW5lZENsYXNzID0gJ2J1cmdlci1tZW51LS1jbG9zZWQnO1xyXG4vLyBjb25zdCBoYW1idXJnZXJCdXR0b25DbG9zZUNsYXNzID0gJ2J1cmdlci1tZW51X19idXR0b24tLWNsb3NlJztcclxuY29uc3Qgc2VsZWN0b3JzRWwgPSB7XHJcbiAgICBsZWZ0TWVudToge1xyXG4gICAgICAgIGhhbWJ1cmdlckJ1dHRvbkNsczogJyNhc2lkZV9tb2JpbGVfX2J1dHRvbicsXHJcbiAgICAgICAgaGFtYnVyZ2VyTWVudUNsczogJy5hc2lkZS1idXJnZXItbWVudScsXHJcbiAgICAgICAgaGFtYnVyZ2VyTWVudU9wZW5lZENsYXNzOiAnYnVyZ2VyLW1lbnUtLWNsb3NlZCcsXHJcbiAgICAgICAgaGFtYnVyZ2VyQnV0dG9uQ2xvc2VDbGFzczogJ2J1cmdlci1tZW51X19idXR0b24tLWNsb3NlJ1xyXG4gICAgfSxcclxuICAgIHJpZ2h0TWVudToge1xyXG4gICAgICAgIGhhbWJ1cmdlckJ1dHRvbkNsczogJyNoZWFkZXJfbW9iaWxlX3RvZ2dsZXInLFxyXG4gICAgICAgIGhhbWJ1cmdlck1lbnVDbHM6ICcuci1zaWRlLWJ1cmdlci1tZW51JyxcclxuICAgICAgICBoYW1idXJnZXJNZW51T3BlbmVkQ2xhc3M6ICdyLXNpZGUtYnVyZ2VyLW1lbnUtLW9wZW4nLFxyXG4gICAgICAgIGhhbWJ1cmdlckJ1dHRvbkNsb3NlQ2xhc3M6ICdidXJnZXItbWVudS1yaWdodF9fYnV0dG9uLS1jbG9zZSdcclxuICAgIH0sXHJcbiAgICBzdWJIZWFkZXI6IHtcclxuICAgICAgICBoYW1idXJnZXJCdXR0b25DbHM6ICcjaGVhZGVyX21vYmlsZV90b3BiYXJfdG9nZ2xlcicsXHJcbiAgICAgICAgaGFtYnVyZ2VyTWVudUNsczogJy5zdWItaGVhZGVyJyxcclxuICAgICAgICBoYW1idXJnZXJNZW51T3BlbmVkQ2xhc3M6ICdzdWItaGVhZGVyLS1vcGVuJyxcclxuICAgICAgICBoYW1idXJnZXJCdXR0b25DbG9zZUNsYXNzOiAnc3ViLWhlYWRlci1idXR0b24tLWNsb3NlJ1xyXG4gICAgfVxyXG59O1xyXG5cclxuLyoqXHJcbiAqIFRvZ2dsZSBoYW1idXJnZXIgbWVudSBwb3BvdmVyXHJcbiAqL1xyXG5mdW5jdGlvbiB0b2dnbGVIYW1idXJnZXJNZW51KG1lbnVOYW1lKSB7XHJcbiAgICBjb25zdCB7aGFtYnVyZ2VyTWVudUNscywgaGFtYnVyZ2VyQnV0dG9uQ2xzLCBoYW1idXJnZXJCdXR0b25DbG9zZUNsYXNzLCBoYW1idXJnZXJNZW51T3BlbmVkQ2xhc3N9ID0gc2VsZWN0b3JzRWxbbWVudU5hbWVdO1xyXG4gICAgJChoYW1idXJnZXJCdXR0b25DbHMpLnRvZ2dsZUNsYXNzKGhhbWJ1cmdlckJ1dHRvbkNsb3NlQ2xhc3MpO1xyXG4gICAgJChoYW1idXJnZXJNZW51Q2xzKS50b2dnbGVDbGFzcyhoYW1idXJnZXJNZW51T3BlbmVkQ2xhc3MpO1xyXG59XHJcblxyXG4vKipcclxuICogSW5pdCBoYW1idXJnZXIgbWVudVxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGluaXQoKSB7XHJcbiAgICBjb25zdCBsZWZ0TWVudSA9ICdsZWZ0TWVudSc7XHJcbiAgICBjb25zdCByaWdodE1lbnUgPSAncmlnaHRNZW51JztcclxuICAgIGNvbnN0IHN1YkhlYWRlciA9ICdzdWJIZWFkZXInO1xyXG5cclxuICAgICQoc2VsZWN0b3JzRWxbbGVmdE1lbnVdLmhhbWJ1cmdlckJ1dHRvbkNscykub24oJ2NsaWNrJywgdG9nZ2xlSGFtYnVyZ2VyTWVudS5iaW5kKHRoaXMsIGxlZnRNZW51KSk7XHJcbiAgICAkKHNlbGVjdG9yc0VsW3JpZ2h0TWVudV0uaGFtYnVyZ2VyQnV0dG9uQ2xzKS5vbignY2xpY2snLCB0b2dnbGVIYW1idXJnZXJNZW51LmJpbmQodGhpcywgcmlnaHRNZW51KSk7XHJcbiAgICAkKHNlbGVjdG9yc0VsW3N1YkhlYWRlcl0uaGFtYnVyZ2VyQnV0dG9uQ2xzKS5vbignY2xpY2snLCB0b2dnbGVIYW1idXJnZXJNZW51LmJpbmQodGhpcywgc3ViSGVhZGVyKSk7XHJcbn1cclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2Jsb2Nrcy9oZWFkZXIvYnVyZ2VyLW1lbnUvYnVyZ2VyLW1lbnUuanMiLCIvLyBpbXBvcnQgJCBmcm9tICdqcXVlcnknO1xuaW1wb3J0IFVzZXIgZnJvbSAnLi4vLi4vY29tbW9uL2pzLXNlcnZpY2VzL3VzZXInO1xuLy8gaW1wb3J0IFB1YlN1YiBmcm9tICdwdWJzdWItanMnOyAvLyBodHRwczovL3d3dy5ucG1qcy5jb20vcGFja2FnZS9wdWJzdWItanNcbmltcG9ydCB7Q09OU1R9IGZyb20gJy4uLy4uL2NvbW1vbi9qcy1zZXJ2aWNlcy9jb25zdHMnO1xuXG5jb25zdCBzZWxlY3RvckxvZ2luU3RhdGUgPSAnLmpzX21lc3NhZ2VfbG9nZ2VkLS10ZXh0JztcbmNvbnN0IHNlbGVjdG9yRW1haWxDb25maXJtU3RhdGUgPSAnLmpzX2VtYWlsLWNvbmZpcm0tLXRleHQnO1xuY29uc3QgY2xvc2VDbGFzcyA9ICdkLW5vbmUnO1xuY29uc3Qgb3BlbmVkQ2xhc3MgPSAnZC1ibG9jayc7XG5cbmZ1bmN0aW9uIGVtYWlsTm90Q29uZmlybWVkKCkge1xuICAgIGNvbnN0ICRlbWFpbG5Nc2cgPSAkKHNlbGVjdG9yRW1haWxDb25maXJtU3RhdGUpO1xuICAgICRlbWFpbG5Nc2cudGV4dCgnKiplbWFpbE5vdENvbmZpcm1lZCoqIEVtYWlsINC90LUg0L/QvtC00YLQstC10YDQttC00LXQvS4nKS5jc3MoJ2NvbG9yJywgJ2xpZ2h0Y29yYWwnKTtcbn1cblxuZnVuY3Rpb24gb25Mb2dpblN1YnNjcmliZShtc2csIGRhdGEpIHtcbiAgICAvLyBjb25zb2xlLmxvZygnb25Mb2dpblN1YnNjcmliZScsIG1zZywgZGF0YSk7XG4gICAgJChDT05TVC51aVNlbGVjdG9ycy5oZWFkZXJOYXZMb2dpbkJ0bikuYWRkQ2xhc3MoY2xvc2VDbGFzcykucmVtb3ZlQ2xhc3Mob3BlbmVkQ2xhc3MpO1xuICAgICQoQ09OU1QudWlTZWxlY3RvcnMuaGVhZGVyUmVnQnRuKS5hZGRDbGFzcyhjbG9zZUNsYXNzKS5yZW1vdmVDbGFzcyhvcGVuZWRDbGFzcyk7XG4gICAgJChDT05TVC51aVNlbGVjdG9ycy5oZWFkZXJMb2dpbkJveCkuYWRkQ2xhc3MoY2xvc2VDbGFzcykucmVtb3ZlQ2xhc3Mob3BlbmVkQ2xhc3MpO1xuXG4gICAgJCgnLm5hdi1saW5rLmpzX2xvZ091dCcpLmFkZENsYXNzKG9wZW5lZENsYXNzKS5yZW1vdmVDbGFzcyhjbG9zZUNsYXNzKTsgLy8gc2hvd1xuICAgIGNvbnN0ICRsb2dpbk1zZyA9ICQoc2VsZWN0b3JMb2dpblN0YXRlKTtcbiAgICAkbG9naW5Nc2cudGV4dCgnKipvbkxvZ2luU3Vic2NyaWJlKiog0LLRiyDQt9Cw0LvQvtCz0LjQvdC40LvQuNGB0Ywg0LIgTHV4Z3JhbSDRg9GB0L/QtdGI0L3QvicpLmNzcygnY29sb3InLCAnbGlnaHRibHVlJyk7XG4gICAgY29uc3QgaXNFbWFpbENvbmZpcm1lZCA9IFVzZXIuaXNFbWFpbENvbmZpcm1lZCgpO1xuICAgIGlmICghaXNFbWFpbENvbmZpcm1lZCkge1xuICAgICAgICBlbWFpbE5vdENvbmZpcm1lZCgpO1xuICAgIH1cbn1cblxuZnVuY3Rpb24gc2hvd0xvZ291dCgpIHtcbiAgICAvLyBjaGVjayBpcyBsb2dnZWRcbiAgICBjb25zdCBpc0xvZ2dlZCA9IFVzZXIuaXNMb2dnZWRJbigpO1xuICAgIGNvbnN0IGlzRW1haWxDb25maXJtZWQgPSBVc2VyLmlzRW1haWxDb25maXJtZWQoKTtcbiAgICBpZiAoIWlzRW1haWxDb25maXJtZWQpIHtcbiAgICAgICAgZW1haWxOb3RDb25maXJtZWQoKTtcbiAgICB9XG4gICAgLy8gY29uc29sZS5sb2coJ2lzTG9nZ2VkJywgaXNMb2dnZWQpO1xuICAgIGlmIChpc0xvZ2dlZCkge1xuICAgICAgICAkKCcubmF2LWxpbmsuanNfbG9nT3V0JykucGFyZW50KCkuc2hvdygpO1xuICAgICAgICAkKCcuanNfZW1haWwtY29uZmlybS0tdGV4dCcpLnRleHQoJ9Cy0Ysg0LfQsNC70L7Qs9C40L3QuNC70LjRgdGMINGD0YHQv9C10YjQvdC+Jyk7XG4gICAgICAgIGNvbnN0IG9sZFVSTCA9IGRvY3VtZW50LnJlZmVycmVyO1xuICAgICAgICAvLyBjb25zb2xlLmxvZyhvbGRVUkwpO1xuICAgICAgICBpZiAob2xkVVJMLmluY2x1ZGVzKCdjb25maXJtLXJlZ2lzdHJhdGlvbicpKSB7XG4gICAgICAgICAgICAkKCcuanNfbWVzc2FnZV9sb2dnZWQtLXRleHQnKS50ZXh0KCfQstGLINC/0L7QtNGC0LLQtdGA0LTQuNC70Lgg0YDQtdCz0LjRgdGC0YDQsNGG0LjRjicpO1xuICAgICAgICB9XG4gICAgICAgIG9uTG9naW5TdWJzY3JpYmUoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgICAkKHNlbGVjdG9yTG9naW5TdGF0ZSkudGV4dCgn0J/RgNC40LLQtdGCINCw0L3QvtC90LjQvNC90YvQuSDQv9C+0LvRjNC30L7QstCw0YLQtdC70YwnKTtcbiAgICAgICAgJChzZWxlY3RvckVtYWlsQ29uZmlybVN0YXRlKS5lbXB0eSgpO1xuICAgIH1cbn1cblxuLyoqXG4gKiBJbml0IGhlYWRlclxuICovXG5leHBvcnQgZnVuY3Rpb24gaW5pdEhlYWRlcigpIHtcbiAgIC8vIGNoZWNrIG90aGVyIGhhbmRsZXIgaW4gbG9naW4tZm9ybS5qc1xuICAgIC8vIGNvbnN0ICRsb2dpbkJveCA9ICQoQ09OU1QudWlTZWxlY3RvcnMuaGVhZGVyTG9naW5Cb3gpO1xuICAgIC8vIGNvbnN0ICRyZWdpc3RlckJveCA9ICQoQ09OU1QudWlTZWxlY3RvcnMuaGVhZGVyUmVnQm94KTtcblxuICAgIC8vIFB1YlN1Yi5zdWJzY3JpYmUoQ09OU1QuZXZlbnRzLlVTRVJfTE9HR0VELCBvbkxvZ2luU3Vic2NyaWJlKTtcblxuICAgIHNob3dMb2dvdXQoKTtcblxuICAgIC8vICQoQ09OU1QudWlTZWxlY3RvcnMuaGVhZGVyUmVnQnRuKS5vbignY2xpY2snLCAoKSA9PiB7XG4gICAgLy8gICAgICRsb2dpbkJveC5oaWRlKCk7XG4gICAgLy8gICAgICRyZWdpc3RlckJveC5jc3Moeyd0b3AnOiAwLCAncmlnaHQnOiAwfSlcbiAgICAvLyAgICAgICAgIC5hZGRDbGFzcygnYmctbGlnaHQgYm9yZGVyIG10LTUgbXgtYXV0byBwb3NpdGlvbi1hYnNvbHV0ZSBweC0zIGQtYmxvY2snKVxuICAgIC8vICAgICAgICAgLnJlbW92ZUNsYXNzKCdkLW5vbmUnKTtcbiAgICAvLyB9KTtcblxuICAgIC8vICQoQ09OU1QudWlTZWxlY3RvcnMuaGVhZGVyTmF2TG9naW5CdG4pLm9uKCdjbGljaycsICgpID0+IHtcbiAgICAvLyAgICAgJGxvZ2luQm94LmFkZENsYXNzKCdkLWJsb2NrJykucmVtb3ZlQ2xhc3MoJ2Qtbm9uZScpO1xuICAgIC8vICAgICAkcmVnaXN0ZXJCb3guYWRkQ2xhc3MoJ2Qtbm9uZScpLnJlbW92ZUNsYXNzKCdkLWJsb2NrJyk7XG4gICAgLy8gfSk7XG59XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvYmxvY2tzL2hlYWRlci9oZWFkZXIuanMiLCJpbXBvcnQgVXNlciBmcm9tICcuLi8uLi9jb21tb24vanMtc2VydmljZXMvdXNlcic7XHJcbmltcG9ydCB7Q09OU1R9IGZyb20gJy4uLy4uL2NvbW1vbi9qcy1zZXJ2aWNlcy9jb25zdHMnO1xyXG5pbXBvcnQge3JlbmRlckl0ZW19IGZyb20gJy4vaW5zdGFncmFtLWFjY291bnRzLWxpc3QnO1xyXG5pbXBvcnQgU3Bpbm5lciBmcm9tICcuLi8uLi9jb21tb24vanMtc2VydmljZXMvc3Bpbm5lcic7XHJcbmltcG9ydCAqIGFzIGltYWdlVXBsb2FkIGZyb20gJy4uL19zaGFyZWQvaW1hZ2UtdXBsb2FkL2ltYWdlLXVwbG9hZCc7XHJcblxyXG5mdW5jdGlvbiB1cGRhdGVCdXR0b25zRGF0YUF0dHIgKHNldHRpbmdCdXR0b25zSGFuZGxlckNiKSB7XHJcbiAgICBjb25zdCBjZmcgPSB7XHJcbiAgICAgICAgZGVsZXRlQnRuQ2xzOiAnLmpzX2FjYy1kZWxldGUnLFxyXG4gICAgICAgIHVwZGF0ZUJ0bkNsczogJy5qc19hY2MtcmVmcmVzaCcsXHJcbiAgICAgICAgZWRpdEJ0bkNsczogJy5qc19hY2MtZWRpdCdcclxuICAgIH07XHJcbiAgICAvLyAkKGNmZy5lZGl0QnRuQ2xzKS5vZmYoKTtcclxuICAgICQoY2ZnLnVwZGF0ZUJ0bkNscykub2ZmKCk7IC8vIFJlbG9hZCBidXR0b24gY2xlYXIgbGlzdGVuZXJcclxuICAgIC8vICQoY2ZnLmRlbGV0ZUJ0bkNscykub2ZmKCk7XHJcbiAgICBzZXR0aW5nQnV0dG9uc0hhbmRsZXJDYihjZmcpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gc2V0dGluZ0J1dHRvbnNIYW5kbGVyKGNsYXNzQ2ZnKSB7XHJcbiAgICBjb25zdCB7ZGVsZXRlQnRuQ2xzLCB1cGRhdGVCdG5DbHMsIGVkaXRCdG5DbHN9ID0gY2xhc3NDZmc7XHJcbiAgICBjb25zdCBtb2RhbENvbmZpcm0gPSAkKCcjZGVsZXRlLXVzZXItcHJvbXQnKTtcclxuICAgIGxldCB1c2VybmFtZSA9ICcnO1xyXG4gICAgbGV0IHVzZXJPcmlnaW5hbCA9IHt9O1xyXG4gICAgY29uc3QgcmVwbGFjZVdpdGhDZmcgPSB7XHJcbiAgICAgICAgcmVwbGFjZVdpdGg6IHRydWUsXHJcbiAgICAgICAgaG9sZGVyQ2xzOiAnLm1vZGFsLWltYWdlLWhvbGRlcicsXHJcbiAgICAgICAgdXBsb2FkQnRuQ2xzOiAnLmpzX2VkaXQtcHJvZmlsZS1pbWctdXBkJyxcclxuICAgICAgICBpbWFnZUNsczogJ2ltZy51c2VyLWF2YXRhcidcclxuICAgIH07XHJcbiAgICBpbWFnZVVwbG9hZC5pbml0KHJlcGxhY2VXaXRoQ2ZnKTtcclxuICAgIC8vIGltYWdlLXVwbG9hZCBzdWJzY3JpYmVyXHJcbiAgICB3aW5kb3cuUHViU3ViLnN1YnNjcmliZShDT05TVC5ldmVudHMuYXV0b2FybnN3ZXIuSU1BR0VfVVBMT0FERURfQVZBVEFSLCAoZSwgcmVzKSA9PiB7XHJcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gSlNPTi5wYXJzZShyZXMucmVzcG9uc2UpO1xyXG4gICAgICAgIGNvbnN0IHtwcm9maWxlX3BpY191cmx9ID0gcmVzdWx0LmRhdGEucHJvZmlsZTtcclxuICAgICAgICB1c2VyT3JpZ2luYWwuJGxpLmZpbmQoJ2ltZycpLmF0dHIoJ3NyYycsIHByb2ZpbGVfcGljX3VybCk7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ3VzZXJPcmlnaW5hbCcsIHVzZXJPcmlnaW5hbCk7XHJcbiAgICB9KTtcclxuICAgIC8vIERFTEVURSAuLi4vaW5zdGFncmFtLWFjY291bnRzL3t1c2VybmFtZX1cclxuICAgICQoZGVsZXRlQnRuQ2xzKS5vbignY2xpY2snLCAoZSkgPT4ge1xyXG4gICAgICAgIHVzZXJuYW1lID0gJChlLnRhcmdldCkuY2xvc2VzdChkZWxldGVCdG5DbHMpLmRhdGEoJ3VzZXJuYW1lJyk7XHJcbiAgICAgICAgbW9kYWxDb25maXJtLm1vZGFsKCdzaG93Jyk7XHJcbiAgICB9KTtcclxuICAgICQoJy5qc19hY2MtZGVsZXRlLWNvbmZpcm0nKS5vbignY2xpY2snLCAoZSkgPT4ge1xyXG4gICAgICAgIFVzZXIuZGVsSW5zdGFncmFtQWNjb3VudCh1c2VybmFtZSkudGhlbigocmVzdWx0KSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3VsdCk7XHJcbiAgICAgICAgICAgIGlmIChyZXN1bHQuc3RhdHVzLnN0YXRlID09PSAnb2snKSB7XHJcbiAgICAgICAgICAgICAgICBtb2RhbENvbmZpcm0uaGlkZSgpO1xyXG4gICAgICAgICAgICAgICAgd2luZG93LlB1YlN1Yi5wdWJsaXNoKENPTlNULmV2ZW50cy5pbnN0YWdyYW1BY2NvdW5zLklOU1RBR1JBTV9BQ0NPVU5TX05FRURfUkVGUkVTSCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH0pO1xyXG5cclxuICAgIC8vIEdFVCBpbnN0YWdyYW0tYWNjb3VudHMvbWV0YS97dXNlcm5hbWV9XHJcbiAgICAkKHVwZGF0ZUJ0bkNscykub24oJ2NsaWNrJywgKGUpID0+IHtcclxuICAgICAgICBjb25zdCAkbGkgPSAkKGUudGFyZ2V0KS5jbG9zZXN0KCdsaScpO1xyXG4gICAgICAgIGNvbnN0IHVzZXJuYW1lID0gJChlLnRhcmdldCkuY2xvc2VzdCh1cGRhdGVCdG5DbHMpLmRhdGEoJ3VzZXJuYW1lJyk7XHJcbiAgICAgICAgY29uc3QgZGVmYXVsdEF2YXRhclNyYyA9IENPTlNULnVzZXIuZGVmYXVsQXZhdGFyO1xyXG4gICAgICAgIFNwaW5uZXIuYWRkKCRsaSwgJycpO1xyXG4gICAgICAgIFVzZXIudXBkYXRlSW5zdGFncmFtQWNjb3VudCh1c2VybmFtZSkudGhlbigocmVzdWx0KSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3VsdCk7XHJcbiAgICAgICAgICAgIGNvbnN0IHtkYXRhOiB7YWNjb3VudH19ID0gcmVzdWx0O1xyXG4gICAgICAgICAgICAkbGkucmVwbGFjZVdpdGgocmVuZGVySXRlbShhY2NvdW50LCAkbGksIGRlZmF1bHRBdmF0YXJTcmMpKTtcclxuXHJcbiAgICAgICAgICAgIC8qXHJcbiAgICAgICAgICAgIGNvbnN0IGNmZyA9IHtcclxuICAgICAgICAgICAgICAgIGRlbGV0ZUJ0bkNsczogJy5qc19hY2MtZGVsZXRlJyxcclxuICAgICAgICAgICAgICAgIHVwZGF0ZUJ0bkNsczogJy5qc19hY2MtcmVmcmVzaCcsXHJcbiAgICAgICAgICAgICAgICBlZGl0QnRuQ2xzOiAnLmpzX2FjYy1lZGl0J1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgICAgICAvLyAkKGNmZy5lZGl0QnRuQ2xzKS5vZmYoKTtcclxuICAgICAgICAgICAgJChjZmcudXBkYXRlQnRuQ2xzKS5vZmYoKTsgLy8gUmVsb2FkIGJ1dHRvbiBjbGVhciBsaXN0ZW5lclxyXG4gICAgICAgICAgICAvLyAkKGNmZy5kZWxldGVCdG5DbHMpLm9mZigpO1xyXG4gICAgICAgICAgICBzZXR0aW5nQnV0dG9uc0hhbmRsZXIoY2ZnKTtcclxuICAgICAgICAgICAgKi9cclxuICAgICAgICAgICAgdXBkYXRlQnV0dG9uc0RhdGFBdHRyKHNldHRpbmdCdXR0b25zSGFuZGxlcik7XHJcbiAgICAgICAgICAgIFNwaW5uZXIucmVtb3ZlKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBQVVQgaW5zdGFncmFtLWFjY291bnRzL3t1c2VybmFtZX1cclxuICAgIGNvbnN0IG1vZGFsRWRpdCA9ICQoJyNlZGl0LXVzZXItcHJvbXQnKTtcclxuICAgICQoZWRpdEJ0bkNscykub24oJ2NsaWNrJywgKGUpID0+IHtcclxuICAgICAgICBjb25zdCAkbGkgPSAkKGUudGFyZ2V0KS5jbG9zZXN0KCdsaScpO1xyXG4gICAgICAgIGNvbnN0ICRlZGl0QnRuID0gJGxpLmZpbmQoZWRpdEJ0bkNscyk7XHJcbiAgICAgICAgY29uc3QgdXNlcm5hbWUgPSAkZWRpdEJ0bi5kYXRhKCd1c2VybmFtZScpO1xyXG4gICAgICAgIGNvbnN0IGxvZ2luID0gJGVkaXRCdG4uZGF0YSgnbmFtZScpO1xyXG4gICAgICAgIGNvbnN0IHNpdGUgPSAkZWRpdEJ0bi5kYXRhKCd1cmwnKTtcclxuICAgICAgICBjb25zdCBhYm91dCA9ICRlZGl0QnRuLmRhdGEoJ2Jpb2dyYXBoeScpO1xyXG4gICAgICAgIGNvbnN0IGltZ1NyYyA9ICRlZGl0QnRuLmRhdGEoJ2ltZycpO1xyXG4gICAgICAgIGNvbnN0IGlzQnVzaW5lc3MgPSAkZWRpdEJ0bi5kYXRhKCdpc19idXNpbmVzcycpO1xyXG4gICAgICAgIGNvbnN0IGlzUHJpdmF0ZSA9ICRlZGl0QnRuLmRhdGEoJ2lzX3ByaXZhdGUnKTtcclxuICAgICAgICAvLyAnaXNfYnVzaW5lc3MnPXRydWVcclxuXHJcbiAgICAgICAgY29uc3QgJGZvcm0gPSBtb2RhbEVkaXQuZmluZCgnZm9ybScpLmdldCgwKTtcclxuICAgICAgICBjb25zdCBmb3JtRmllbGRzID0ge1xyXG4gICAgICAgICAgICBsb2dpbjogJGZvcm1bJ2xvZ2luJ10sXHJcbiAgICAgICAgICAgIHVzZXJuYW1lOiAkZm9ybVsndXNlcm5hbWUnXSxcclxuICAgICAgICAgICAgc2l0ZTogJGZvcm1bJ3NpdGUnXSxcclxuICAgICAgICAgICAgYWJvdXQ6ICRmb3JtWydiaW9ncmFwaHknXSxcclxuICAgICAgICAgICAgdXNlckF2YXRhckltZzogJGZvcm1bJ3VzZXJBdmF0YXInXVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgdXNlck9yaWdpbmFsID0ge1xyXG4gICAgICAgICAgICBsb2dpbixcclxuICAgICAgICAgICAgdXNlcm5hbWUsXHJcbiAgICAgICAgICAgIHNpdGUsXHJcbiAgICAgICAgICAgIGFib3V0LFxyXG4gICAgICAgICAgICAkbGksXHJcbiAgICAgICAgICAgIGZvbGxvd2VyQzogJGVkaXRCdG4uZGF0YSgnZm9sbG93ZXJfY291bnQnKSxcclxuICAgICAgICAgICAgZm9sbG93aW5nQzogJGVkaXRCdG4uZGF0YSgnZm9sbG93aW5nX2NvdW50JyksXHJcbiAgICAgICAgICAgIG1lZGlhQzogJGVkaXRCdG4uZGF0YSgnbWVkaWFfY291bnQnKVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgcmVwbGFjZVdpdGhDZmcudXNlcm5hbWUgPSB1c2VybmFtZTtcclxuXHJcbiAgICAgICAgZm9ybUZpZWxkcy5sb2dpbi52YWx1ZSA9IGxvZ2luO1xyXG4gICAgICAgIGZvcm1GaWVsZHMudXNlcm5hbWUudmFsdWUgPSB1c2VybmFtZTtcclxuICAgICAgICBmb3JtRmllbGRzLnNpdGUudmFsdWUgPSBzaXRlO1xyXG4gICAgICAgIGZvcm1GaWVsZHMuYWJvdXQudmFsdWUgPSBhYm91dDtcclxuICAgICAgICBmb3JtRmllbGRzLnVzZXJBdmF0YXJJbWcuc3JjID0gaW1nU3JjO1xyXG4gICAgICAgIGNvbnN0ICRwcm9maWxlQm94ID0gbW9kYWxFZGl0LmZpbmQoJy5idXNzaW5lcy1wcm9maWxlJyk7XHJcbiAgICAgICAgaWYgKGlzQnVzaW5lc3MpIHtcclxuICAgICAgICAgICAgJHByb2ZpbGVCb3guYWRkQ2xhc3MoJ2Qtbm9uZScpLnJlbW92ZUNsYXNzKCdkLWJsb2NrJyk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgJHByb2ZpbGVCb3guYWRkQ2xhc3MoJ2QtYmxvY2snKTtcclxuICAgICAgICAgICAgLy8gaXNQcml2YXQsIHRvZG86cmVmYWN0b3IgbWVcclxuICAgICAgICAgICAgaWYgKGlzUHJpdmF0ZSkge1xyXG4gICAgICAgICAgICAgICAgJHByb2ZpbGVCb3guZmluZCgnLmpzX2J0bi1wcm9mLXR5cGUtc3dpdGNoZXIgI2Nsb3NlZC1wcm9maWxlLW9uJykuY2xvc2VzdCgnbGFiZWwnKS5hZGRDbGFzcygnYWN0aXZlJylcclxuICAgICAgICAgICAgICAgICAgICAuZmluZCgnI2Nsb3NlZC1wcm9maWxlLW9uJykuYXR0cignY2hlY2tlZCcsICdjaGVja2VkJyk7XHJcbiAgICAgICAgICAgICAgICAvLyBvZmYgLSBkaXNhYmxlXHJcbiAgICAgICAgICAgICAgICAkcHJvZmlsZUJveC5maW5kKCcuanNfYnRuLXByb2YtdHlwZS1zd2l0Y2hlciAjY2xvc2VkLXByb2ZpbGUtb2ZmJykuY2xvc2VzdCgnbGFiZWwnKS5yZW1vdmVDbGFzcygnYWN0aXZlJylcclxuICAgICAgICAgICAgICAgICAgICAuZmluZCgnI2Nsb3NlZC1wcm9maWxlLW9mZicpLmF0dHIoJ2NoZWNrZWQnLCBmYWxzZSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAkcHJvZmlsZUJveC5maW5kKCcuanNfYnRuLXByb2YtdHlwZS1zd2l0Y2hlciAjY2xvc2VkLXByb2ZpbGUtb2ZmJykuY2xvc2VzdCgnbGFiZWwnKS5hZGRDbGFzcygnYWN0aXZlJylcclxuICAgICAgICAgICAgICAgICAgICAuZmluZCgnI2Nsb3NlZC1wcm9maWxlLW9mZicpLmF0dHIoJ2NoZWNrZWQnLCAnY2hlY2tlZCcpO1xyXG4gICAgICAgICAgICAgICAgLy8gb24gLSBkaXNhYmxlXHJcbiAgICAgICAgICAgICAgICAkcHJvZmlsZUJveC5maW5kKCcuanNfYnRuLXByb2YtdHlwZS1zd2l0Y2hlciAjY2xvc2VkLXByb2ZpbGUtb24nKS5jbG9zZXN0KCdsYWJlbCcpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKVxyXG4gICAgICAgICAgICAgICAgICAgIC5maW5kKCcjY2xvc2VkLXByb2ZpbGUtb24nKS5hdHRyKCdjaGVja2VkJywgZmFsc2UpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHdpbmRvdy5QdWJTdWIuc3Vic2NyaWJlKCd1cGRhdGVfZGF0YV9wcml2YXRlX29uX2FjY19saXN0JywgKGUsIHZhbHVlKSA9PiB7XHJcbiAgICAgICAgICAgICRlZGl0QnRuLmRhdGEoJ2lzX3ByaXZhdGUnLCB2YWx1ZSAhPT0gJ2Nsb3NlZC1wcm9maWxlLW9mZicpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIG1vZGFsRWRpdC5tb2RhbCgnc2hvdycpO1xyXG4gICAgfSk7XHJcbiAgICAkKCcuanNfZWRpdC1wcm9maWxlLW1vZGlmeScpLm9uKCdjbGljaycsIChlKSA9PiB7XHJcbiAgICAgICAgY29uc3QgJGZvcm0gPSBtb2RhbEVkaXQuZmluZCgnZm9ybScpLmdldCgwKTtcclxuICAgICAgICBjb25zdCBmb3JtRmllbGRzID0ge1xyXG4gICAgICAgICAgICBsb2dpbjogJGZvcm1bJ2xvZ2luJ10sXHJcbiAgICAgICAgICAgIHVzZXJuYW1lOiAkZm9ybVsndXNlcm5hbWUnXSxcclxuICAgICAgICAgICAgc2l0ZTogJGZvcm1bJ3NpdGUnXSxcclxuICAgICAgICAgICAgYWJvdXQ6ICRmb3JtWydiaW9ncmFwaHknXSxcclxuICAgICAgICAgICAgdXNlckF2YXRhckltZzogJGZvcm1bJ3VzZXJBdmF0YXInXVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgY29uc3QgYm9keSA9IHtcclxuICAgICAgICAgICAgLy8gJ3VzZXJuYW1lJzogKHVzZXJPcmlnaW5hbC51c2VybmFtZSAhPT0gZm9ybUZpZWxkcy51c2VybmFtZS52YWx1ZSkgPyBmb3JtRmllbGRzLnVzZXJuYW1lLnZhbHVlIDogJycsXHJcbiAgICAgICAgICAgIC8vICduYW1lJzogZm9ybUZpZWxkcy5sb2dpbi52YWx1ZSxcclxuICAgICAgICAgICAgLy8gJ2Jpb2dyYXBoeSc6IGZvcm1GaWVsZHMuYWJvdXQudmFsdWUsXHJcbiAgICAgICAgICAgIC8vICd1cmwnOiBmb3JtRmllbGRzLnNpdGUudmFsdWUsXHJcbiAgICAgICAgICAgIC8vICdvcGVuJzogaXNPcGVuXHJcbiAgICAgICAgfTtcclxuICAgICAgICBsZXQgdXBkYXRlRGF0YUF0dHJVc2VybmFtZSA9IGZhbHNlO1xyXG4gICAgICAgIGlmICh1c2VyT3JpZ2luYWwudXNlcm5hbWUgIT09IGZvcm1GaWVsZHMudXNlcm5hbWUudmFsdWUpIHtcclxuICAgICAgICAgICAgYm9keVsndXNlcm5hbWUnXSA9IGZvcm1GaWVsZHMudXNlcm5hbWUudmFsdWU7XHJcbiAgICAgICAgICAgIHVwZGF0ZURhdGFBdHRyVXNlcm5hbWUgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodXNlck9yaWdpbmFsLmxvZ2luICE9PSBmb3JtRmllbGRzLmxvZ2luLnZhbHVlKSB7XHJcbiAgICAgICAgICAgIGJvZHlbJ25hbWUnXSA9IGZvcm1GaWVsZHMubG9naW4udmFsdWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh1c2VyT3JpZ2luYWwuYWJvdXQgIT09IGZvcm1GaWVsZHMuYWJvdXQudmFsdWUpIHtcclxuICAgICAgICAgICAgYm9keVsnYmlvZ3JhcGh5J10gPSBmb3JtRmllbGRzLmFib3V0LnZhbHVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodXNlck9yaWdpbmFsLnNpdGUgIT09IGZvcm1GaWVsZHMuc2l0ZS52YWx1ZSkge1xyXG4gICAgICAgICAgICBib2R5Wyd1cmwnXSA9IGZvcm1GaWVsZHMuc2l0ZS52YWx1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gLS0tLXZhbGlkYXRlXHJcbiAgICAgICAgaWYgKGZvcm1GaWVsZHMuYWJvdXQudmFsdWUgPT09ICcnKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuaW5mbygnYWJvdXQudmFsdWUgaXMgZW1wdHknKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIFVzZXIuZWRpdEluc3RhZ3JhbUFjY291bnQodXNlck9yaWdpbmFsLnVzZXJuYW1lIHx8ICcnLCBKU09OLnN0cmluZ2lmeShib2R5KSkudGhlbigocmVzdWx0KSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChyZXN1bHQuc3RhdHVzLnN0YXRlID09PSAnb2snKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnLypVUERBVEUgVklFVyBIRVJFKi8nKTtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHtkYXRhOiB7cHJvZmlsZX19ID0gcmVzdWx0O1xyXG4gICAgICAgICAgICAgICAgcHJvZmlsZS5pbmZvID0gcmVzdWx0LmRhdGEucHJvZmlsZTtcclxuICAgICAgICAgICAgICAgIHByb2ZpbGUuaW5mbyA9IHtcclxuICAgICAgICAgICAgICAgICAgICAuLi5wcm9maWxlLmluZm8sXHJcbiAgICAgICAgICAgICAgICAgICAgZm9sbG93ZXJfY291bnQ6IHVzZXJPcmlnaW5hbC5mb2xsb3dlckMsXHJcbiAgICAgICAgICAgICAgICAgICAgZm9sbG93aW5nX2NvdW50OiB1c2VyT3JpZ2luYWwuZm9sbG93aW5nQyxcclxuICAgICAgICAgICAgICAgICAgICBtZWRpYV9jb3VudDogdXNlck9yaWdpbmFsLm1lZGlhQ1xyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgICAgIHVzZXJPcmlnaW5hbC4kbGkucmVwbGFjZVdpdGgocmVuZGVySXRlbShwcm9maWxlLCB1c2VyT3JpZ2luYWwuJGxpLCBmYWxzZSkpO1xyXG4gICAgICAgICAgICAgICAgdXBkYXRlQnV0dG9uc0RhdGFBdHRyKHNldHRpbmdCdXR0b25zSGFuZGxlcik7XHJcbiAgICAgICAgICAgICAgICBpZiAodXBkYXRlRGF0YUF0dHJVc2VybmFtZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnN0ICRlZGl0QnRuID0gdXNlck9yaWdpbmFsLiRsaS5maW5kKGVkaXRCdG5DbHMpO1xyXG4gICAgICAgICAgICAgICAgICAgICRlZGl0QnRuLmRhdGEoJ3VzZXJuYW1lJywgcHJvZmlsZS5pbmZvLnVzZXJuYW1lKTtcclxuICAgICAgICAgICAgICAgICAgICB1cGRhdGVEYXRhQXR0clVzZXJuYW1lID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBtb2RhbENvbmZpcm0uaGlkZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxuICAgIC8vIGNvbnN0IG1vZGVTZWxlY3RvciA9ICQoJy5qc19idG4tcHJvZi10eXBlLXN3aXRjaGVyJyk7XHJcbiAgICAkKCcuanNfYnRuLXByb2YtdHlwZS1zd2l0Y2hlciBsYWJlbCcpLm9uKCdjbGljaycsIChlKSA9PiB7XHJcbiAgICAgICAgY29uc3QgdmFsdWUgPSAkKGUudGFyZ2V0KS5maW5kKCdpbnB1dFt0eXBlPXJhZGlvXScpLmF0dHIoJ3ZhbHVlJyk7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coJ2NsaWNrJywgdmFsdWUpO1xyXG4gICAgICAgIGNvbnN0IGlzT3BlbiA9IHZhbHVlID09PSAnY2xvc2VkLXByb2ZpbGUtb2ZmJztcclxuICAgICAgICBjb25zdCBib2R5ID0ge1xyXG4gICAgICAgICAgICAnb3Blbic6IGlzT3BlblxyXG4gICAgICAgIH07XHJcbiAgICAgICAgVXNlci5lZGl0SW5zdGFncmFtQWNjb3VudCh1c2VyT3JpZ2luYWwudXNlcm5hbWUgfHwgJycsIEpTT04uc3RyaW5naWZ5KGJvZHkpKS50aGVuKChyZXN1bHQpID0+IHtcclxuICAgICAgICAgICAgaWYgKHJlc3VsdC5zdGF0dXMuc3RhdGUgPT09ICdvaycpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdyZXN1bHQnLCByZXN1bHQpO1xyXG4gICAgICAgICAgICAgICAgd2luZG93LlB1YlN1Yi5wdWJsaXNoKCd1cGRhdGVfZGF0YV9wcml2YXRlX29uX2FjY19saXN0JywgdmFsdWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxufVxyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvYmxvY2tzL2luc3RhZ3JhbS1hY2NvdW50cy1saXN0L2FjY291bnRzLWxpc3QtYnRuLXNldHRpbmdzLmpzIiwiLyogZXNsaW50LWRpc2FibGUgc29ydC12YXJzICovXHJcbi8vIGltcG9ydCAkIGZyb20gJ2pxdWVyeSc7XHJcbmltcG9ydCBVc2VyIGZyb20gJy4uLy4uL2NvbW1vbi9qcy1zZXJ2aWNlcy91c2VyJztcclxuaW1wb3J0IFB1YlN1YiBmcm9tICdwdWJzdWItanMnOyAvLyBodHRwczovL3d3dy5ucG1qcy5jb20vcGFja2FnZS9wdWJzdWItanNcclxuaW1wb3J0IGNvb2tpZVN0b3JhZ2UgZnJvbSAnLi4vLi4vY29tbW9uL2pzLXNlcnZpY2VzL2Nvb2tpZSc7XHJcbi8vIGltcG9ydCBWYWxpZGF0b3IgZnJvbSAnLi4vLi4vY29tbW9uL2pzLXNlcnZpY2VzL2Zvcm0tdmFsaWRhdG9yJztcclxuaW1wb3J0IHZpZXdVdGlscyBmcm9tICcuLi8uLi9jb21tb24vanMtc2VydmljZXMvdmlldyc7XHJcbmltcG9ydCB7Q09OU1R9IGZyb20gJy4uLy4uL2NvbW1vbi9qcy1zZXJ2aWNlcy9jb25zdHMnO1xyXG5cclxuLy8gd2luZG93LiQgPSAkO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIExvZ2luRm9ybShzZWxlY3RvckNzcykge1xyXG4gICAgY29uc3Qge19mb3JtSWQsIF9idXR0b25TdWJtaXRJZCwgX3Nob3dMb2dpbkJveEJ0bklkLCBfbG9naW5Cb3h9ID0gc2VsZWN0b3JDc3M7XHJcbiAgICBjb25zdCB1c2VyID0gVXNlciwgLy8gc2VydmljZVxyXG4gICAgICAgICRmb3JtID0gJChfZm9ybUlkKSxcclxuICAgICAgICAkZW1haWwgPSAkZm9ybS5maW5kKCdpbnB1dFtuYW1lPVwibWFpbFwiXScpLFxyXG4gICAgICAgICR0ZXh0QXJlYURlc2NyaXB0aW9uID0gJCgnI2Rlc2NyaXB0aW9uJyk7XHJcbiAgICAvLyBjb25zdCBvcGVuZWRDbGFzcyA9ICdkLWJsb2NrJztcclxuICAgIC8vIGNvbnN0IGNsb3NlQ2xhc3MgPSAnZC1ub25lJztcclxuXHJcbiAgICBjb25zdCB1c2VyTG9naW5IZWFkZXIgPSAoX2Zvcm1EYXRhKSA9PiB7XHJcbiAgICAgICAgY29uc3QgY2JFcnJvciA9IChyZXN1bHQpID0+IHtcclxuICAgICAgICAgICAgJChfbG9naW5Cb3gpLmFwcGVuZCgnPHA+cmVzdWx0LnN0YXR1cy5tZXNzYWdlPC9wPicpO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHJldHVybiB1c2VyLmxvZ2luKF9mb3JtRGF0YSwgY2JFcnJvcilcclxuICAgICAgICAgICAgLnRoZW4oKHJlc3VsdCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdCAmJiByZXN1bHQuZGF0YSAmJiByZXN1bHQuZGF0YS50b2tlbikge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIHNhdmUgdGhlIGl0ZW1cclxuICAgICAgICAgICAgICAgICAgICBjb29raWVTdG9yYWdlLnNldChDT05TVC5jb29raWVTdG9yYWdlLnRva2VuLCByZXN1bHQuZGF0YS50b2tlbik7XHJcbiAgICAgICAgICAgICAgICAgICAgJCgnLm5hdi1saW5rLmpzX2xvZ091dCcpLnBhcmVudCgpLnNob3coKTtcclxuICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZygncmVxdWVzdCBzdWNjZWVkZWQgd2l0aCBKU09OIHJlc3BvbnNlJywgcmVzdWx0KTtcclxuICAgICAgICAgICAgICAgICAgICB2aWV3VXRpbHMuc2hvd0luZm9NZXNzYWdlKCR0ZXh0QXJlYURlc2NyaXB0aW9uLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQuc3RhdHVzLnN0YXRlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQuc3RhdHVzLm1lc3NhZ2UgfHwgJ0xvZ2luIHN1Y2NzZXNzJyk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHJlc3VsdC5zdGF0dXMpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXN1bHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIHZpZXdVdGlscy5zaG93SW5mb01lc3NhZ2UodGhpcy4kdGV4dEFyZWFEZXNjcmlwdGlvbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgYDxwPnN0YXR1czogJHtyZXN1bHQuc3RhdHVzLnN0YXRlfTwvcD48cD4gbWVzc2FnZTogJHtyZXN1bHQuc3RhdHVzLm1lc3NhZ2V9PC9wPmApO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXN1bHQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KS50aGVuKChyZXN1bHQpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChyZXN1bHQgJiYgcmVzdWx0LnN0YXR1cykge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3VsdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmlld1V0aWxzLnNob3dJbmZvTWVzc2FnZSgkdGV4dEFyZWFEZXNjcmlwdGlvbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnN0YXR1cy5zdGF0ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnN0YXR1cy5tZXNzYWdlIHx8ICdMb2dpbiBlcnJvcicpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgIH07XHJcblxyXG4gICAgY29uc3Qgc3VibWl0Rm9ybSA9IGZ1bmN0aW9uKGZvcm1EYXRhT2JqKSB7XHJcbiAgICAgICAgY29uc3QgZW1haWwgPSAkZW1haWwudmFsKCksXHJcbiAgICAgICAgICAgIHBhc3N3b3JkID0gJGZvcm0uZmluZCgnaW5wdXRbbmFtZT1cInBhc3NcIl0nKS52YWwoKSxcclxuICAgICAgICAgICAgX2Zvcm1EYXRhID0gZm9ybURhdGFPYmogfHwge2VtYWlsLCBwYXNzd29yZH07XHJcblxyXG4gICAgICAgIGlmIChzZWxlY3RvckNzcy5pc0xvZ2luSW5zdGFncmFtKSB7XHJcbiAgICAgICAgICAgIC8vIHRvZG86IGRlbGV0ZSBtZVxyXG4gICAgICAgICAgICAvLyBhZGRJbnN0YWdyYW1BY2NvdW50KHt1c2VybmFtZTogJGZvcm0uZmluZCgnaW5wdXRbbmFtZT1cInVzZXJuYW1lXCJdJykudmFsKCksIHBhc3N3b3JkfSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgJGVtYWlsLnZhbCgkZW1haWwudmFsKCkudG9Mb2NhbGVMb3dlckNhc2UoKSk7XHJcbiAgICAgICAgICAgIHVzZXJMb2dpbkhlYWRlcihfZm9ybURhdGEpLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgUHViU3ViLnB1Ymxpc2goQ09OU1QuZXZlbnRzLlVTRVJfTE9HR0VELCAnbG9naW4nKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICBjb25zdCBsb2dPdXQgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICBjb29raWVTdG9yYWdlLnJlbW92ZShDT05TVC5jb29raWVTdG9yYWdlLnRva2VuKTtcclxuICAgICAgICBQdWJTdWIucHVibGlzaChDT05TVC5ldmVudHMuVVNFUl9MT0dPVVQpO1xyXG4gICAgfTtcclxuXHJcbiAgICBjb25zdCBiaW5kRXZlbnRzID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgY29uc3QgJHNob3dMb2dpbkJveEJ0bklkID0gJChfc2hvd0xvZ2luQm94QnRuSWQpO1xyXG4gICAgICAgIGNvbnN0ICRsb2dpbkJveCA9ICQoX2xvZ2luQm94KTtcclxuICAgICAgICBjb25zdCBvcGVuZWRDbGFzcyA9ICdkLWJsb2NrJztcclxuICAgICAgICBjb25zdCBjbG9zZUNsYXNzID0gJ2Qtbm9uZSc7XHJcblxyXG4gICAgICAgICRzaG93TG9naW5Cb3hCdG5JZC5vbignY2xpY2snLCAoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICghc2VsZWN0b3JDc3MuaXNMb2dpbkluc3RhZ3JhbSkge1xyXG4gICAgICAgICAgICAgICAgJGxvZ2luQm94LmNzcyh7J3RvcCc6IDAsICdyaWdodCc6IDB9KVxyXG4gICAgICAgICAgICAgICAgICAgIC5hZGRDbGFzcygnYmctbGlnaHQgYm9yZGVyIG10LTUgbXgtYXV0byBwb3NpdGlvbi1hYnNvbHV0ZScpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICRsb2dpbkJveC5hZGRDbGFzcyhvcGVuZWRDbGFzcykucmVtb3ZlQ2xhc3MoY2xvc2VDbGFzcyk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGNvbnN0ICRidXR0b25TdWJtaXQgPSAkKF9idXR0b25TdWJtaXRJZCksXHJcbiAgICAgICAgICAgIGNzc1ZhbGlkYXRpb25DbGFzcyA9ICdmb3JtLXZhbGlkYXRpb24nO1xyXG5cclxuICAgICAgICAkYnV0dG9uU3VibWl0Lm9uKCdjbGljaycsIChlKSA9PiB7XHJcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgY29uc3QgZm9ybSA9ICRmb3JtLmdldCgwKTtcclxuICAgICAgICAgICAgLy8gY29uc3QgdmFsaWRhdG9yID0gbmV3IFZhbGlkYXRvcigkZm9ybSk7XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHZhbGlkYXRvci52YWxpZGF0ZSgpKTtcclxuICAgICAgICAgICAgaWYgKGZvcm0uY2hlY2tWYWxpZGl0eSgpICYmIHZpZXdVdGlscy5pc0VtYWlsKCRlbWFpbC52YWwoKSkpIHtcclxuICAgICAgICAgICAgICAgIHN1Ym1pdEZvcm0oKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8vIEhpZ2hsaWdodCBlcnJvcnNcclxuICAgICAgICAgICAgICAgIGlmIChmb3JtLnJlcG9ydFZhbGlkaXR5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9ybS5yZXBvcnRWYWxpZGl0eSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgJGZvcm0uYWRkQ2xhc3MoY3NzVmFsaWRhdGlvbkNsYXNzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAkKCcubmF2LWxpbmsuanNfbG9nT3V0Jykub24oJ2NsaWNrJywgKGUpID0+IHtcclxuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICBsb2dPdXQoKTtcclxuICAgICAgICAgICAgJChlLnRhcmdldCkucGFyZW50KCkuaGlkZSgpO1xyXG4gICAgICAgICAgICB2aWV3VXRpbHMuc2hvd0luZm9NZXNzYWdlKCR0ZXh0QXJlYURlc2NyaXB0aW9uLCAnTG9nZ2VkIG91dCcpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBQdWJTdWIuc3Vic2NyaWJlKENPTlNULmV2ZW50cy5VU0VSX0xPR09VVCwgKG1zZykgPT4ge1xyXG4gICAgICAgICAgICAkKENPTlNULnVpU2VsZWN0b3JzLmhlYWRlck5hdkxvZ2luQnRuKS5hZGRDbGFzcyhvcGVuZWRDbGFzcykucmVtb3ZlQ2xhc3MoY2xvc2VDbGFzcyk7IC8vIC5zaG93KCk7XHJcbiAgICAgICAgICAgICQoQ09OU1QudWlTZWxlY3RvcnMuaGVhZGVyUmVnQnRuKS5hZGRDbGFzcyhvcGVuZWRDbGFzcykucmVtb3ZlQ2xhc3MoY2xvc2VDbGFzcyk7XHJcbiAgICAgICAgICAgICQoJy5uYXYtbGluay5qc19sb2dPdXQnKS5hZGRDbGFzcyhjbG9zZUNsYXNzKS5yZW1vdmVDbGFzcyhvcGVuZWRDbGFzcyk7IC8vIC5oaWRlKCk7XHJcbiAgICAgICAgICAgIGNvbnN0IHNlbGVjdG9yTG9naW5TdGF0ZSA9ICcuanNfbWVzc2FnZV9sb2dnZWQtLXRleHQnO1xyXG4gICAgICAgICAgICAkKHNlbGVjdG9yTG9naW5TdGF0ZSkudGV4dCgn0JLRiyDQstGL0YjQu9C4INC40Lcg0LDQutC60LDRg9C90YLQsCcpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAkKGRvY3VtZW50KS5vbignY2xpY2snLCAoZXZlbnQpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgaXNMb2dpbkJ0bkNsaWNrID0gJChldmVudC50YXJnZXQpLmNsb3Nlc3QoJ25hdi5uYXZiYXInKS5maW5kKCRsb2dpbkJveCkubGVuZ3RoO1xyXG4gICAgICAgICAgICBjb25zdCBpc0FkZEluc3RhZ3JhbUJ0bkNsaWNrZWQgPSAkKGV2ZW50LnRhcmdldCkuYXR0cignaWQnKSA9PT0gQ09OU1QudWlTZWxlY3RvcnMuaW5zdGFncmFtLmFkZEFjY291bnRCdG5JZDtcclxuXHJcbiAgICAgICAgICAgIGlmICghaXNMb2dpbkJ0bkNsaWNrICYmICRsb2dpbkJveC5oYXNDbGFzcyhvcGVuZWRDbGFzcykgJiYgIWlzQWRkSW5zdGFncmFtQnRuQ2xpY2tlZCkge1xyXG4gICAgICAgICAgICAgICAgJGxvZ2luQm94LmFkZENsYXNzKGNsb3NlQ2xhc3MpLnJlbW92ZUNsYXNzKG9wZW5lZENsYXNzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuXHJcbiAgICBmdW5jdGlvbiBpbml0KCkge1xyXG4gICAgICAgIGJpbmRFdmVudHMoKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIGluaXRcclxuICAgIH07XHJcbn1cclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2Jsb2Nrcy9sb2dpbi1mb3JtL2xvZ2luLWZvcm0uanMiLCIvLyBpbXBvcnQgTWV0ZW9yRW1vamkgZnJvbSAnbWV0ZW9yLWVtb2ppJztcclxuLy8gaW1wb3J0IEVtb2ppUGlja2VyIGZyb20gJ3ZhbmlsbGEtZW1vamktcGlja2VyJztcclxuaW1wb3J0ICdlbW9qaW9uZUFyZWEnO1xyXG4vLyBpbXBvcnQgcXEgZnJvbSAnZmluZS11cGxvYWRlcic7IC8vIHRvZG86IGZpbmUtdXBsb2FkZVxyXG5pbXBvcnQgVXNlciBmcm9tICcuLi8uLi9jb21tb24vanMtc2VydmljZXMvdXNlcic7XHJcbmltcG9ydCBVc2VyQ29udmVyc2F0aW9uIGZyb20gJy4uLy4uL2NvbW1vbi9qcy1zZXJ2aWNlcy9hcGktdXNlci1kaXJlY3QnO1xyXG5pbXBvcnQge2ZpbGxNYXNzYWdlc0xpc3QsIGZpbGxVc2VyTGlzdCwgbWVzc2FnZUFyZWFIZW5kbGVyLCAvKiBhZGRNb3JlVXNlcnNBY2NvcmRpb24sKi8gYXBwZW5kVXNlckxpc3R9IGZyb20gJy4vdXRpbHMnO1xyXG5pbXBvcnQgU3Bpbm5lciBmcm9tICcuLi8uLi9jb21tb24vanMtc2VydmljZXMvc3Bpbm5lcic7XHJcbi8vIGltcG9ydCBQdWJTdWIgZnJvbSAncHVic3ViLWpzJzsvLyBodHRwczovL3d3dy5ucG1qcy5jb20vcGFja2FnZS9wdWJzdWItanNcclxuaW1wb3J0IHtDT05TVH0gZnJvbSAnLi4vLi4vY29tbW9uL2pzLXNlcnZpY2VzL2NvbnN0cyc7XHJcbmltcG9ydCAqIGFzIGltYWdlVXBsb2FkIGZyb20gJy4uL19zaGFyZWQvaW1hZ2UtdXBsb2FkL2ltYWdlLXVwbG9hZCc7XHJcbmltcG9ydCB7aW5pdFJlcXVlc3RzLCBhZGRDb25maXJnQnV0dG9uc30gZnJvbSAnLi9yZXF1ZXN0cyc7XHJcblxyXG5jb25zdCB0b2tlbiA9IFVzZXIuZ2V0VG9rZW4oKTtcclxuY29uc3QgJG1zZ0xpc3QgPSAkKCcubWVzc2FnZXMtbGlzdCcpO1xyXG5jb25zdCBzdGF0ZUNmZyA9IHtcclxuICAgIHBhZ2VJbmNyZW1lbnQ6IDAsXHJcbiAgICBsb2FkaW5nRmxhZzogZmFsc2UsXHJcbiAgICBzZXRTaW5nbGVWYWw6IGZhbHNlXHJcbn07XHJcbmxldCB1cGRhdGVJbnRlcnZhbCA9ICcnO1xyXG5sZXQgaW50ZXJ2YWxJZCA9IGZhbHNlO1xyXG5sZXQgY3Vyc29yID0gJyc7XHJcbmxldCBpbnRlcnZhbFVzZXJMaXN0ID0gZmFsc2U7XHJcbmxldCBpbml0aWFsVmFsID0gJyc7XHJcbmxldCBmbGFnSW5pdGlhbFZhbCA9IHRydWU7XHJcbmNvbnN0IGN1cnJlbnRVc2VyRGF0YSA9IHtcclxuICAgIHVzZXJhdmF0YXI6ICdsaW5rJyxcclxuICAgIHVzZXJuYW1lOiAnbmFtZSdcclxufTtcclxuY29uc3Qgc2Nyb2xsTG9hZGVyU3RhdGUgPSB7XHJcbiAgICBjdXJzb3I6ICdwYWdpbmF0aW9uLnByZXZfY3Vyc29yJyxcclxuICAgIGZpcnN0TG9hZDogdHJ1ZSxcclxuICAgIGFsbE1zZ0xvYWRlZDogZmFsc2VcclxufTtcclxuXHJcbmNvbnN0IHJlbmRlclJlc3VsdHMgPSBmdW5jdGlvbiAoY2ZnKSB7XHJcbiAgICBjb25zdCB7ZGF0YUFycmF5OiBkYXRhLCAkbGlzdDogdWxFbGVtZW50LCBzdGF0ZUNmZ30gPSBjZmc7XHJcblxyXG4gICAgZnVuY3Rpb24gc2hvd01lc3NhZ2UoZWxlbWVudCwgbWVzc2FnZSwgLyogb3B0aW9uYWwgKi9jbGVhckxpc3QpIHtcclxuICAgICAgICAvLyAkYnRuR0VULmF0dHIoJ2Rpc2FibGVkJywgZmFsc2UpO1xyXG5cclxuICAgICAgICBpZiAoY2xlYXJMaXN0KSB7XHJcbiAgICAgICAgICAgICQoJ2xpJywgZWxlbWVudCkucmVtb3ZlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGVsZW1lbnQuY3NzKHsnb3ZlcmZsb3cnOiAnYXV0byd9KTtcclxuICAgICAgICAkKCc8bGkvPicpXHJcbiAgICAgICAgICAgIC5hZGRDbGFzcygnbGlzdC1ncm91cC1pdGVtIHRleHQtY2VudGVyJylcclxuICAgICAgICAgICAgLnRleHQobWVzc2FnZSlcclxuICAgICAgICAgICAgLmFwcGVuZFRvKHVsRWxlbWVudCk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHN0YXRlQ2ZnLmxvYWRpbmdGbGFnID09PSAnRklOQUxfUEFHRScpIHtcclxuICAgICAgICByZXR1cm4gZmFsc2U7IC8vIGV4aXQgaWYgaGFzIHJlYWNoZWQgbGFzdCBwYWdlXHJcbiAgICB9XHJcblxyXG4gICAgLy8gc2hvdyBmYWlsIG1zZ1xyXG4gICAgaWYgKGRhdGEgPT09ICdGQUlMJykge1xyXG4gICAgICAgIHNob3dNZXNzYWdlKHVsRWxlbWVudCwgJ0ZhaWx1cmUsIHBvc3NpYmxlIGtleSBub3QgY29ycmVjdC4nLCB0cnVlKTtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKHN0YXRlQ2ZnLmxvYWRpbmdGbGFnID09PSAnU1RPUF9MT0FEJyAmJiBkYXRhLmxlbmd0aCAhPT0gMCkge1xyXG4gICAgICAgIHN0YXRlQ2ZnLmxvYWRpbmdGbGFnID0gJ0ZJTkFMX1BBR0UnO1xyXG4gICAgICAgIHNob3dNZXNzYWdlKHVsRWxlbWVudCwgJ05vIG1vcmUgcmVzdWx0cy4nLCBmYWxzZSk7XHJcbiAgICAgICAgLy8gJGxpRm9vdGVyLmhpZGUoKTtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGRhdGEgPT09IG51bGwgfHwgIWRhdGEubGVuZ3RoKSB7XHJcbiAgICAgICAgc2hvd01lc3NhZ2UodWxFbGVtZW50LCAnTm8gcmVzdWx0cyBmb3VuZC4nLCB0cnVlKTtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgZmlsbE1hc3NhZ2VzTGlzdChjZmcpO1xyXG59O1xyXG5cclxuZnVuY3Rpb24gaXNJbk1lc3NhZ2VQYWdlKCkge1xyXG4gICAgY29uc3QgJG1zZ0xpc3QgPSAkKCcubWVzc2FnZXMtbGlzdCcpO1xyXG4gICAgY29uc3QgJHVzZXJMaXN0ID0gJCgnLm1lc3NhZ2VzLXVzZXItbGlzdCcpO1xyXG4gICAgcmV0dXJuICEhJG1zZ0xpc3QubGVuZ3RoICYmICEhJHVzZXJMaXN0Lmxlbmd0aDtcclxufVxyXG5cclxuLy8gdG9kbzogZ2V0IGZyb20gZW1vamlpLmpzXHJcbiQoZG9jdW1lbnQpLnJlYWR5KCgpID0+IHtcclxuICAgIGlmICghaXNJbk1lc3NhZ2VQYWdlKCkpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLXZhcnNcclxuICAgIC8vIGNvbnN0IGVwID0gbmV3IEVtb2ppUGlja2VyKCk7XHJcbiAgICAvLyAvLyBjb25zdCBtID0gbmV3IE1ldGVvckVtb2ppKCk7XHJcbiAgICAvLyBjb25zdCAkcGlja2VyID0gJCgndGV4dGFyZWFbZGF0YS1lbW9qaS1waWNrZXI9XCJ0cnVlXCJdIH4gZGl2Jyk7XHJcbiAgICAvLyBjb25zdCBzdHlsZSA9ICRwaWNrZXIuYXR0cignc3R5bGUnKTtcclxuICAgIC8vIGNvbnN0IHN0eWxlTmV3ID0gc3R5bGUucmVwbGFjZSgndG9wOiAyMHB4OycsICd0b3A6IC0yMTBweDsnKTtcclxuICAgIC8vICRwaWNrZXIuYXR0cignc3R5bGUnLCBzdHlsZU5ldyk7XHJcblxyXG4gICAgJCgndGV4dGFyZWFbZGF0YS1lbW9qaS1waWNrZXI9XCJ0cnVlXCJdJykuZW1vamlvbmVBcmVhKHtcclxuICAgICAgICBwaWNrZXJQb3NpdGlvbjogJ3RvcCcsXHJcbiAgICAgICAgdG9uZXNTdHlsZTogJ3NxdWFyZScsXHJcbiAgICAgICAgZmlsdGVyc1Bvc2l0aW9uOiAnYm90dG9tJyxcclxuICAgICAgICBhdXRvY29tcGxldGU6IHRydWVcclxuICAgICAgICAvLyBldmVudHM6IHtcclxuICAgICAgICAvLyAgICAga2V5dXAgKGVkaXRvciwgZXZlbnQpIHtcclxuICAgICAgICAvLyAgICAgICAgIGNvbnNvbGUubG9nKGVkaXRvci5odG1sKCkpO1xyXG4gICAgICAgIC8vICAgICAgICAgY29uc29sZS5sb2codGhpcy5nZXRUZXh0KCkpO1xyXG4gICAgICAgIC8vICAgICB9XHJcbiAgICAgICAgLy8gfVxyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gdG9kbzogZmluZS11cGxvYWRlXHJcbiAgICAvKlxyXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVudXNlZC12YXJzXHJcbiAgICBjb25zdCByZXN0cmljdGVkVXBsb2FkZXIgPSBuZXcgcXEuRmluZVVwbG9hZGVyKHtcclxuICAgICAgICBlbGVtZW50OiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZmluZS11cGxvYWRlci12YWxpZGF0aW9uJyksXHJcbiAgICAgICAgdGVtcGxhdGU6ICdxcS10ZW1wbGF0ZS12YWxpZGF0aW9uJyxcclxuICAgICAgICByZXF1ZXN0OiB7XHJcbiAgICAgICAgICAgIGVuZHBvaW50OiAnL3NlcnZlci91cGxvYWRzJ1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgdGh1bWJuYWlsczoge1xyXG4gICAgICAgICAgICBwbGFjZWhvbGRlcnM6IHtcclxuICAgICAgICAgICAgICAgIHdhaXRpbmdQYXRoOiAnaHR0cHM6Ly9maW5ldXBsb2FkZXIuY29tL3NvdXJjZS9wbGFjZWhvbGRlcnMvd2FpdGluZy1nZW5lcmljLnBuZycsIC8vICcvc291cmNlL3BsYWNlaG9sZGVycy93YWl0aW5nLWdlbmVyaWMucG5nJyxcclxuICAgICAgICAgICAgICAgIG5vdEF2YWlsYWJsZVBhdGg6ICdodHRwczovL2ZpbmV1cGxvYWRlci5jb20vc2VydmVyL3dhaXRpbmctZ2VuZXJpYy5wbmcnIC8vICcvc291cmNlL3BsYWNlaG9sZGVycy9ub3RfYXZhaWxhYmxlLWdlbmVyaWMucG5nJ1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICB2YWxpZGF0aW9uOiB7XHJcbiAgICAgICAgICAgIGFsbG93ZWRFeHRlbnNpb25zOiBbJ2pwZWcnLCAnanBnJ10sXHJcbiAgICAgICAgICAgIGl0ZW1MaW1pdDogMyxcclxuICAgICAgICAgICAgc2l6ZUxpbWl0OiA1MDAgKiAxMDI0XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICAqL1xyXG59KTtcclxubGV0IGlzVGltZU91dFJ1bm5lZCA9IGZhbHNlO1xyXG5mdW5jdGlvbiBnZXRBbmRGaWxsVXNlckxpc3RDdXJzb3IobG9hZE1vcmVDYkFyZ3NDdXJzb3IsIHNlY3Rpb24sIHVzZXJuYW1lKSB7XHJcbiAgICBjb25zdCAkdXNlckxpc3QgPSAkKCcubWVzc2FnZXMtdXNlci1saXN0Jyk7XHJcbiAgICBpZiAobG9hZE1vcmVDYkFyZ3NDdXJzb3IpIHtcclxuICAgICAgICBjb25zb2xlLmxvZygnVXNlckNvbnZlcnNhdGlvbicsIHVzZXJuYW1lKTtcclxuICAgICAgICBVc2VyQ29udmVyc2F0aW9uLmdldE1ldGFkYXRhRGV0YWlsVXNlcnMoe2N1cnNvcjogbG9hZE1vcmVDYkFyZ3NDdXJzb3IsIHVzZXJuYW1lfSkudGhlbigocmVzdWx0KSA9PiB7XHJcbiAgICAgICAgICAgIGlmICghcmVzdWx0LmRhdGEpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zdCB7ZGF0YX0gPSByZXN1bHQ7XHJcbiAgICAgICAgICAgIC8vIGRhdGEubWV0YS5zb3J0KChhLCBiKSA9PiBhWyd1c2VybmFtZSddLmxvY2FsZUNvbXBhcmUoYlsndXNlcm5hbWUnXSkpO1xyXG4gICAgICAgICAgICBhcHBlbmRVc2VyTGlzdCgkdXNlckxpc3QsIGRhdGEubWV0YSwge2N1cnNvcjogbG9hZE1vcmVDYkFyZ3NDdXJzb3IsIHNlY3Rpb24sIHVzZXJuYW1lfSk7XHJcbiAgICAgICAgICAgIGNvbnN0IHtwYWdpbmF0aW9ufSA9IGRhdGE7XHJcbiAgICAgICAgICAgIGlmIChwYWdpbmF0aW9uICYmIHBhZ2luYXRpb24ucHJldl9jdXJzb3IpIHtcclxuICAgICAgICAgICAgICAvLyBtYWtlIG9uZSBtb3JlIHJlcT9cclxuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ2ZvdW5kIG1vcmUgcGFnaW5hdGlvbiwgYnV0IGxpc3Qgbm90IHVwZGF0ZWQnKTtcclxuICAgICAgICAgICAgICAgIC8vIFRPRE9cclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8vIGhpZGUgc2hvdyBtb3JlXHJcbiAgICAgICAgICAgICAgICBjb25zdCAkY29sbGFwc2UgPSAkKGAjY29sbGFwc2UtJHtzZWN0aW9ufWApLmNsb3Nlc3QoJ2xpJyk7XHJcbiAgICAgICAgICAgICAgICAkY29sbGFwc2UuZmluZCgnLmpzX2xvYWQtbW9yZS1ib3gnKS5hZGRDbGFzcygnZC1ub25lJyk7XHJcbiAgICAgICAgICAgICAgICAvLyBzdG9wIHJlcmVuZGVyIGxpc3RcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ3N0b3AgdXBkYXRpbmcgdXNlciBsaXN0Jyk7XHJcbiAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKGludGVydmFsVXNlckxpc3QpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdzZWN0aW9uJywgc2VjdGlvbik7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdldEFuZEZpbGxVc2VyTGlzdChpc0FjdGl2ZUZpcnN0LCB1c2VyTGlzdCkge1xyXG4gICAgY29uc3QgJHVzZXJMaXN0ID0gdXNlckxpc3QgfHwgJCgnLm1lc3NhZ2VzLXVzZXItbGlzdCcpO1xyXG4gICAgbGV0IHByZXZBY3RpdmVEaWFsb2dJZCA9ICcnO1xyXG4gICAgaWYgKCFpc0FjdGl2ZUZpcnN0KSB7XHJcbiAgICAgICAgcHJldkFjdGl2ZURpYWxvZ0lkID0gJHVzZXJMaXN0LmZpbmQoJ2xpIC5jb2xsYXBzZS5zaG93JykuYXR0cignaWQnKTtcclxuICAgIH1cclxuXHJcbiAgICBVc2VyQ29udmVyc2F0aW9uLmdldE1ldGFkYXRhKHRva2VuKS50aGVuKChyZXN1bHQpID0+IHtcclxuICAgICAgICBpZiAoIXJlc3VsdC5kYXRhKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3Qge2RhdGF9ID0gcmVzdWx0O1xyXG4gICAgICAgIGRhdGEubWV0YS5zb3J0KChhLCBiKSA9PiBhWyd1c2VybmFtZSddLmxvY2FsZUNvbXBhcmUoYlsndXNlcm5hbWUnXSkpO1xyXG4gICAgICAgIC8vIG1lc3NhZ2VzLXVzZXItbGlzdCBmcm9tIHV0aWxzLmpzXHJcbiAgICAgICAgZmlsbFVzZXJMaXN0KCR1c2VyTGlzdCwgZGF0YS5tZXRhLCBnZXRBbmRGaWxsVXNlckxpc3RDdXJzb3IpO1xyXG4gICAgICAgIGlmIChkYXRhLnNldHRpbmdzICYmIGRhdGEuc2V0dGluZ3MuaW52b2tlX2luX21pbGxpcykge1xyXG4gICAgICAgICAgICB1cGRhdGVJbnRlcnZhbCA9IGRhdGEuc2V0dGluZ3MuaW52b2tlX2luX21pbGxpcztcclxuICAgICAgICAgICAgdXBkYXRlSW50ZXJ2YWwgPSAodXBkYXRlSW50ZXJ2YWwgPiA2MDAwKSA/IHVwZGF0ZUludGVydmFsIDogMTAwMDA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChpc0FjdGl2ZUZpcnN0KSB7XHJcbiAgICAgICAgICAgICR1c2VyTGlzdC5maW5kKCdsaTpmaXJzdC1jaGlsZCAuY29sbGFwc2UnKS5hZGRDbGFzcygnc2hvdycpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICQoYCMke3ByZXZBY3RpdmVEaWFsb2dJZH1gKS5hZGRDbGFzcygnc2hvdycpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBpZiAoZGF0YS5wYWdpbmF0aW9uICYmIGRhdGEucGFnaW5hdGlvbi5wcmV2X2N1cnNvcikge1xyXG4gICAgICAgIC8vICAgICBjb25zdCBjb252ZXJzYXRpb25Ub0FkZCA9IHtcclxuICAgICAgICAvLyAgICAgICAgIHRwbDogYDxkaXYgY2xhc3M9XCJsaXN0LWZvb3RlciB0ZXh0LWNlbnRlclwiIHN0eWxlPVwiZGlzcGxheTogbm9uZTtcIiBpZD1cImxvYWQtbW9yZS1ib3hcIj5cclxuICAgICAgICAvLyAgICAgICAgICAgICAgICAgPGJ1dHRvbiBpZD1cImpzXy1hY2NvcmRpb24tbW9yZV9idG5cIiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJidG4gYnRuLXN1Ym1pdFwiPlNIT1cgTU9SRTwvYnV0dG9uPlxyXG4gICAgICAgIC8vICAgICAgICAgICAgIDwvZGl2PmBcclxuICAgICAgICAvLyAgICAgfTtcclxuICAgICAgICAvLyAgICAgY29uc29sZS5sb2coJ3N0YXJ0IGFkZCBwYWdpbmF0aW9uIHRvIGFjY29yZGlvaW4nLCBjb252ZXJzYXRpb25Ub0FkZCk7XHJcbiAgICAgICAgLy8gICAgIGFkZE1vcmVVc2Vyc0FjY29yZGlvbihkYXRhLm1ldGEsIGNvbnZlcnNhdGlvblRvQWRkKTtcclxuICAgICAgICAvLyB9XHJcbiAgICAgICAgLy8gZG8gaXQgb25jZVxyXG4gICAgICAgIGlmICghaXNUaW1lT3V0UnVubmVkKSB7XHJcbiAgICAgICAgICAgIGludGVydmFsVXNlckxpc3QgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnc2V0SW50ZXJ2YWwnKTtcclxuICAgICAgICAgICAgICAgIGdldEFuZEZpbGxVc2VyTGlzdCgpO1xyXG4gICAgICAgICAgICB9LCB1cGRhdGVJbnRlcnZhbCk7XHJcbiAgICAgICAgICAgIGlzVGltZU91dFJ1bm5lZCA9IHRydWU7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGFkZFBhZ2luYXRpb24ocGFnaW5hdGlvbiwgY2JGbikge1xyXG4gICAgaWYgKHNjcm9sbExvYWRlclN0YXRlLmFsbE1zZ0xvYWRlZCkge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGlmIChzY3JvbGxMb2FkZXJTdGF0ZS5maXJzdExvYWQpIHtcclxuICAgICAgICBzY3JvbGxMb2FkZXJTdGF0ZS5jdXJzb3IgPSBwYWdpbmF0aW9uLnByZXZfY3Vyc29yO1xyXG4gICAgICAgIHNjcm9sbExvYWRlclN0YXRlLmZpcnN0TG9hZCA9IGZhbHNlO1xyXG4gICAgfVxyXG4gICAgY29uc3QgdXNlckRhdGEgPSAkbXNnTGlzdC5kYXRhKCdjb252ZXJzYXRpb24nKTtcclxuICAgIGNvbnN0IHt1c2VybmFtZSwgY29udmVyc2F0aW9uSWR9ID0gdXNlckRhdGE7XHJcbiAgICAvLyBjb25zb2xlLmxvZygnY3Vyc29yOiAnLCBzY3JvbGxMb2FkZXJTdGF0ZS5jdXJzb3IpO1xyXG4gICAgU3Bpbm5lci5hZGQoJCgnI21haW5DaGF0UGFydCcpLCAnbXktNSBweS01Jyk7XHJcbiAgICBVc2VyQ29udmVyc2F0aW9uLmdldE1ldGFkYXRhRGV0YWlsQ29udmVyc2F0aW9uKHRva2VuLCB7dXNlcm5hbWUsIGNvbnZlcnNhdGlvbklkLCBjdXJzb3I6IHNjcm9sbExvYWRlclN0YXRlLmN1cnNvcn0pLnRoZW4oKHJlc3VsdCkgPT4ge1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCdmaXJzdExvYWQ6Jywgc2Nyb2xsTG9hZGVyU3RhdGUuZmlyc3RMb2FkLCByZXN1bHQuZGF0YS5tZXRhKTtcclxuICAgICAgICBjb25zdCBuZXdDdXJzb3IgPSByZXN1bHQuZGF0YS5tZXRhLnBhZ2luYXRpb24gJiYgcmVzdWx0LmRhdGEubWV0YS5wYWdpbmF0aW9uLnByZXZfY3Vyc29yO1xyXG4gICAgICAgIFNwaW5uZXIucmVtb3ZlKCk7XHJcbiAgICAgICAgcmVuZGVyUmVzdWx0cyh7XHJcbiAgICAgICAgICAgICRsaXN0OiAkbXNnTGlzdCxcclxuICAgICAgICAgICAgZGF0YUFycmF5OiByZXN1bHQuZGF0YS5tZXRhLm1lc3NhZ2VzLFxyXG4gICAgICAgICAgICBpc0FwcGVuZFByZXZNc2c6ICdhcHBlbnRQcmV2TXNnJyxcclxuICAgICAgICAgICAgc3RhdGVDZmcsXHJcbiAgICAgICAgICAgIGN1cnJlbnRVc2VyRGF0YVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vIHNldCBuZXcgY3Vyc29yXHJcbiAgICAgICAgaWYgKG5ld0N1cnNvcikge1xyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZygnKionLCBzY3JvbGxMb2FkZXJTdGF0ZS5jdXJzb3IpO1xyXG4gICAgICAgICAgICBzY3JvbGxMb2FkZXJTdGF0ZS5jdXJzb3IgPSBuZXdDdXJzb3I7XHJcbiAgICAgICAgICAgICRtc2dMaXN0LnNjcm9sbFRvcCgkbXNnTGlzdC5zY3JvbGxUb3AoKSArIDMwKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBhbGwgbXNnIGxvYWRlZFxyXG4gICAgICAgICAgICBzY3JvbGxMb2FkZXJTdGF0ZS5hbGxNc2dMb2FkZWQgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gc3RvcCB1cGRhdGUgaW50ZXJ2YWxcclxuICAgICAgICBpZiAoaW50ZXJ2YWxJZCkge1xyXG4gICAgICAgICAgICBjbGVhckludGVydmFsKGludGVydmFsSWQpO1xyXG4gICAgICAgICAgICBjYkZuKG5ld0N1cnNvcik7XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBzY3JvbGxIYW5kbGVyKHNjcm9sbERlbGF5LCBwYWdpbmF0aW9uKSB7XHJcbiAgICBsZXQgcmVjZW50U2Nyb2xsID0gZmFsc2U7XHJcbiAgICBsZXQgbWFrZVJlcU9uY2UgPSB0cnVlO1xyXG4gICAgY3Vyc29yID0gKHBhZ2luYXRpb24gJiYgcGFnaW5hdGlvbi5wcmV2X2N1cnNvcikgPyBwYWdpbmF0aW9uLnByZXZfY3Vyc29yIDogbnVsbDtcclxuICAgIGZ1bmN0aW9uIGNoZWNrSXNPbmNlKG5ld0N1cnNvcikge1xyXG4gICAgICAgIGlmIChuZXdDdXJzb3IgIT09IGN1cnNvcikge1xyXG4gICAgICAgICAgICBjdXJzb3IgPSBuZXdDdXJzb3I7XHJcbiAgICAgICAgICAgIG1ha2VSZXFPbmNlID0gdHJ1ZTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ3ByZXZDdXJzb3InLCBuZXdDdXJzb3IpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAkbXNnTGlzdC5vbignc2Nyb2xsJywgZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHNjcm9sbFRvcCA9ICQodGhpcykuc2Nyb2xsVG9wKCk7XHJcbiAgICAgICAgICAgIGlmICghcmVjZW50U2Nyb2xsKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoc2Nyb2xsVG9wICsgJCh0aGlzKS5pbm5lckhlaWdodCgpID49IHRoaXMuc2Nyb2xsSGVpZ2h0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gJG1lc3NhZ2VzLnRleHQoJ2VuZCByZWFjaGVkJyk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHNjcm9sbFRvcCA8PSA0NSkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vICRtZXNzYWdlcy50ZXh0KCdUb3AgcmVhY2hlZCcpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdwYWdpbmF0aW9uJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBhZ2luYXRpb24gJiYgbWFrZVJlcU9uY2UpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbWFrZVJlcU9uY2UgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYWRkUGFnaW5hdGlvbihwYWdpbmF0aW9uLCBjaGVja0lzT25jZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdnbycpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICQoJy5tZXNzYWdlcy1saXN0LWJveCcpLmZpbmQoJy5sb2FkLW1vcmUnKS5yZW1vdmUoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vICRtZXNzYWdlcy50ZXh0KCcnKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJlY2VudFNjcm9sbCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB3aW5kb3cuc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgcmVjZW50U2Nyb2xsID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICB9LCA1MCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH0sIChzY3JvbGxEZWxheSArIDIwMCkpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBnZXRBbmRGaWxsQ29udmVyc2F0aW9uKHt1c2VybmFtZSwgY29udmVyc2F0aW9uSWQsIHVzZXJhdmF0YXJ9LCBpc1Njcm9sbERvd24sIGlzQ2xpY2tGcm9tUmVxdWVzdENvbmZpcm0pIHtcclxuICAgIGNvbnN0IFRJTUVfU0NST0xMID0gMTA7XHJcbiAgICBVc2VyQ29udmVyc2F0aW9uLmdldE1ldGFkYXRhRGV0YWlsQ29udmVyc2F0aW9uKHRva2VuLCB7dXNlcm5hbWUsIGNvbnZlcnNhdGlvbklkfSkudGhlbigocmVzdWx0KSA9PiB7XHJcbiAgICAgICAgLy8gbWVzc2FnZXMtbGlzdCBmcm9tIHV0aWxzXHJcbiAgICAgICAgY3VycmVudFVzZXJEYXRhLnVzZXJhdmF0YXIgPSB1c2VyYXZhdGFyO1xyXG4gICAgICAgIGN1cnJlbnRVc2VyRGF0YS51c2VybmFtZSA9IHVzZXJuYW1lO1xyXG4gICAgICAgIGZpbGxNYXNzYWdlc0xpc3QoeyRsaXN0OiAkbXNnTGlzdCwgZGF0YUFycmF5OiByZXN1bHQuZGF0YS5tZXRhLm1lc3NhZ2VzLCBzdGF0ZUNmZywgY3VycmVudFVzZXJEYXRhfSk7XHJcbiAgICAgICAgJCgnI21haW5DaGF0UGFydCcpLnJlbW92ZUNsYXNzKCdkLW5vbmUnKTtcclxuICAgICAgICBTcGlubmVyLnJlbW92ZSgpO1xyXG4gICAgICAgIGlmIChpc0NsaWNrRnJvbVJlcXVlc3RDb25maXJtKSB7XHJcbiAgICAgICAgICAgIC8vIGNsaWNrZWQgb24gcmVxdWVzdFxyXG4gICAgICAgICAgICAkKCcuanNfc2VuZC1tZXNzYWdlLWJveCcpLmFkZENsYXNzKCdkLW5vbmUnKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBjbGlja2VkIG9uIG5vcm1hbCBjb252ZXJzYXRpb25cclxuICAgICAgICAgICAgJCgnLmpzX3NlbmQtbWVzc2FnZS1ib3gnKS5yZW1vdmVDbGFzcygnZC1ub25lJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgICQoJy5tZXNzYWdlcy1saXN0JykuYXR0cignZGF0YS1jb252ZXJzYXRpb24nLCBKU09OLnN0cmluZ2lmeSh7dXNlcm5hbWUsIGNvbnZlcnNhdGlvbklkfSkpO1xyXG5cclxuICAgICAgICBpZiAoaXNTY3JvbGxEb3duKSB7XHJcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgJG1zZ0xpc3QuYW5pbWF0ZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgc2Nyb2xsVG9wOiAkbXNnTGlzdFswXS5zY3JvbGxIZWlnaHQgLSAkbXNnTGlzdFswXS5jbGllbnRIZWlnaHRcclxuICAgICAgICAgICAgICAgIH0sIFRJTUVfU0NST0xMKTtcclxuICAgICAgICAgICAgfSwgVElNRV9TQ1JPTEwgKiAyKTtcclxuICAgICAgICAgICAgLy8gc2F2ZSBmaXJzdCB2YWx1ZVxyXG4gICAgICAgICAgICBpZiAoZmxhZ0luaXRpYWxWYWwpIHtcclxuICAgICAgICAgICAgICAgIGluaXRpYWxWYWwgPSByZXN1bHQuZGF0YS5tZXRhLm1lc3NhZ2VzW3Jlc3VsdC5kYXRhLm1ldGEubWVzc2FnZXMubGVuZ3RoIC0gMV07XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhpbml0aWFsVmFsKTtcclxuICAgICAgICAgICAgICAgIGZsYWdJbml0aWFsVmFsID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHNjcm9sbEhhbmRsZXIoVElNRV9TQ1JPTEwsIHJlc3VsdC5kYXRhLm1ldGEucGFnaW5hdGlvbik7XHJcbiAgICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gaW1hZ2VMb2FkU3VibWl0Q2IoaW5wdXQsIHRva2VuKSB7XHJcbiAgICBjb25zdCB1c2VyRGF0YSA9ICRtc2dMaXN0LmRhdGEoJ2NvbnZlcnNhdGlvbicpO1xyXG4gICAgY29uc3Qge3VzZXJuYW1lLCBjb252ZXJzYXRpb25JZH0gPSB1c2VyRGF0YTtcclxuICAgIGNvbnN0IHVybCA9IGAke0NPTlNULmdldFBhdGgoJ2luc3RhZ3JhbURpcmVjdF9CYXNpYycpfS8ke3VzZXJuYW1lfS8ke2NvbnZlcnNhdGlvbklkfS9waG90b2A7XHJcbiAgICBjb25zdCBhY2NlcHRlZEZpbGUgPSBpbnB1dC5maWxlc1swXTtcclxuICAgIGNvbnNvbGUubG9nKCcqKmhhbmRsZVN1Ym1pdENiJyk7XHJcbiAgICBjb25zdCBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpO1xyXG4gICAgY29uc3QgcmVxdWVzdCA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpO1xyXG5cclxuICAgIFNwaW5uZXIuc3RhcnRCdXR0b25TcGlubmVyKCQoJy5maWxlLXVwbG9hZC1idG4nKSwgJ3NwaW5uZXItYm94LS1zZW5kTXNnJyk7XHJcblxyXG4gICAgZm9ybURhdGEuYXBwZW5kKCdwaG90bycsIGFjY2VwdGVkRmlsZSwgYWNjZXB0ZWRGaWxlLm5hbWUpO1xyXG4gICAgcmVxdWVzdC5vcGVuKCdQT1NUJywgdXJsKTtcclxuICAgIC8vIHJlcXVlc3Qud2l0aENyZWRlbnRpYWxzID0gdHJ1ZTtcclxuICAgIHJlcXVlc3Quc2V0UmVxdWVzdEhlYWRlcigndG9rZW4nLCB0b2tlbik7XHJcbiAgICByZXF1ZXN0LnNldFJlcXVlc3RIZWFkZXIoJ0FjY2VwdCcsICdhcHBsaWNhdGlvbi9qc29uJyk7XHJcbiAgICByZXF1ZXN0LnNldFJlcXVlc3RIZWFkZXIoJ2NhY2hlLWNvbnRyb2wnLCAnbm8tY2FjaGUnKTtcclxuICAgIHJlcXVlc3Quc2VuZChmb3JtRGF0YSk7XHJcbiAgICByZXF1ZXN0LmFkZEV2ZW50TGlzdGVuZXIoJ3JlYWR5c3RhdGVjaGFuZ2UnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKHRoaXMucmVhZHlTdGF0ZSA9PT0gNCkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygndGhpcycsIHRoaXMucmVzcG9uc2VUZXh0LCB0aGlzKTtcclxuICAgICAgICAgICAgaW5wdXQudmFsdWUgPSAnJztcclxuICAgICAgICAgICAgd2luZG93LlB1YlN1Yi5wdWJsaXNoKENPTlNULmV2ZW50cy5hdXRvYXJuc3dlci5JTUFHRV9VUExPQURFRCwgeydyZXNwb25zZSc6IHRoaXMucmVzcG9uc2VUZXh0LCAnZWwnOiBpbnB1dH0pO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBhZGRIYW5kbGVycygpIHtcclxuICAgIGxldCBjb252ZXJzYXRpb25JZCA9ICcnO1xyXG4gICAgY29uc3QgJHRleHRBcmVhID0gJCgnI3NlbmRNZXNzYWdlVGV4dEFyZWEnKTtcclxuICAgICR0ZXh0QXJlYS52YWwoJycpO1xyXG5cclxuICAgICQoJyNzZW5kTWVzc2FnZUJ1dHRvbicpLm9uKCdjbGljaycsIChlKSA9PiB7XHJcbiAgICAgICAgY29uc3QgdmFsdWUgPSAkdGV4dEFyZWEudmFsKCk7XHJcbiAgICAgICAgY29uc3QgdXNlckRhdGEgPSAkbXNnTGlzdC5kYXRhKCdjb252ZXJzYXRpb24nKTtcclxuICAgICAgICBjb25zdCB7dXNlcm5hbWUsIGNvbnZlcnNhdGlvbklkLCB1c2VyYXZhdGFyfSA9IHVzZXJEYXRhO1xyXG4gICAgICAgIFNwaW5uZXIuc3RhcnRCdXR0b25TcGlubmVyKCQoZS50YXJnZXQpLCAnc3Bpbm5lci1ib3gtLXNlbmRNc2cnKTtcclxuICAgICAgICBVc2VyQ29udmVyc2F0aW9uLnBvc3RNZXRhZGF0YURldGFpbENvbnZlcnNhdGlvbih0b2tlbiwge3VzZXJuYW1lLCBjb252ZXJzYXRpb25JZCwgdmFsdWV9KS50aGVuKChyZXN1bHQpID0+IHtcclxuICAgICAgICAgICAgaWYgKHJlc3VsdCAmJiByZXN1bHQuc3RhdHVzICYmIHJlc3VsdC5zdGF0dXMuc3RhdGUgPT09ICdvaycpIHtcclxuICAgICAgICAgICAgICAgIGdldEFuZEZpbGxDb252ZXJzYXRpb24oe3VzZXJuYW1lLCBjb252ZXJzYXRpb25JZCwgdXNlcmF2YXRhcn0pO1xyXG4gICAgICAgICAgICAgICAgJHRleHRBcmVhLnZhbCgnJyk7XHJcbiAgICAgICAgICAgICAgICBTcGlubmVyLnJlbW92ZSgpO1xyXG4gICAgICAgICAgICAgICAgLy8gd2luZG93LlB1YlN1Yi5wdWJsaXNoKENPTlNULmV2ZW50cy5tZXNzYWdlcy5SRUNJRVZFX05FV19NRVNTQUdFLCB7dXNlcm5hbWUsIGNvbnZlcnNhdGlvbklkLCB2YWx1ZSwgcmVzdWx0fSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH0pO1xyXG5cclxuICAgIG1lc3NhZ2VBcmVhSGVuZGxlcigkdGV4dEFyZWEsICQoJyNzZW5kTWVzc2FnZUJ1dHRvbicpKTtcclxuXHJcbiAgICBmdW5jdGlvbiB1c2VyU2hvd0NvbnZlcnNldGlvbkhhbmRsZXIoZSwgdXNlckRhdGEpIHtcclxuICAgICAgICBjb25zb2xlLmxvZygnY2xpY2snKTtcclxuICAgICAgICBjb25zdCBpc0NsaWNrRnJvbVJlcXVlc3RDb25maXJtID0gdXNlckRhdGE7XHJcbiAgICAgICAgbGV0IHVzZXJEYXRhRnJvbUxpR3JvdXAgPSAnJztcclxuICAgICAgICBpZiAoaXNDbGlja0Zyb21SZXF1ZXN0Q29uZmlybSkge1xyXG4gICAgICAgICAgICAkKCcuanNfc2VuZC1tZXNzYWdlLWJveCcpLmFkZENsYXNzKCdkLW5vbmUnKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBjbGlja2VkIG9uIG5vcm1hbCBjb252ZXJzYXRpb25cclxuICAgICAgICAgICAgdXNlckRhdGFGcm9tTGlHcm91cCA9ICQoZS50YXJnZXQpLmNsb3Nlc3QoJy5saXN0LWdyb3VwLWl0ZW0nKS5kYXRhKCk7XHJcbiAgICAgICAgICAgICQoJy5jb25maXJtLWJ1dHRvbnMtYm94JykuYWRkQ2xhc3MoJ2Qtbm9uZScpO1xyXG4gICAgICAgICAgICAkKCcuanNfc2VuZC1tZXNzYWdlLWJveCcpLnJlbW92ZUNsYXNzKCdkLW5vbmUnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3Qge3VzZXJuYW1lLCB1c2VyYXZhdGFyfSA9IHVzZXJEYXRhIHx8IHVzZXJEYXRhRnJvbUxpR3JvdXA7XHJcbiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICBjb25zdCAkdGFyZ2V0QnRuID0gJChlLnRhcmdldCkuY2xvc2VzdCgnLm1lZGlhJyk7XHJcbiAgICAgICAgY29uc3QgJHRpdGxlID0gJHRhcmdldEJ0bi5maW5kKCcudGl0bGUnKTtcclxuICAgICAgICBjb252ZXJzYXRpb25JZCA9ICR0YXJnZXRCdG4uZGF0YSgnY29udmVyc2F0aW9uLWlkJyk7XHJcbiAgICAgICAgaWYgKCR0aXRsZS5oYXNDbGFzcygnZm9udC13ZWlnaHQtYm9sZCcpKSB7XHJcbiAgICAgICAgICAgICR0aXRsZS5yZW1vdmVDbGFzcygnZm9udC13ZWlnaHQtYm9sZCcpO1xyXG4gICAgICAgICAgICAkdGFyZ2V0QnRuLmZpbmQoJy5zdW1tYXJ5LWRvdCcpLmFkZENsYXNzKCdkLW5vbmUnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgU3Bpbm5lci5yZW1vdmUoKTtcclxuICAgICAgICBTcGlubmVyLmFkZCgkKCcjbWFpbkNoYXRQYXJ0JyksICdteS01IHB5LTUnKTtcclxuICAgICAgICBnZXRBbmRGaWxsQ29udmVyc2F0aW9uKHt1c2VybmFtZSwgY29udmVyc2F0aW9uSWQsIHVzZXJhdmF0YXJ9LCAnaXNTY3JvbGxEb3duJywgaXNDbGlja0Zyb21SZXF1ZXN0Q29uZmlybSk7XHJcbiAgICAgICAgZmxhZ0luaXRpYWxWYWwgPSB0cnVlOyAvLyByZXNldCBmaXJzdCB2YWx1ZSBmbGFnXHJcbiAgICAgICAgLy8gcmVzZW5kIHJlcXVlc3RcclxuICAgICAgICBpZiAoaW50ZXJ2YWxJZCkge1xyXG4gICAgICAgICAgICBjbGVhckludGVydmFsKGludGVydmFsSWQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpbnRlcnZhbElkID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xyXG4gICAgICAgICAgICBjb252ZXJzYXRpb25JZCA9ICQoZS50YXJnZXQpLmNsb3Nlc3QoJy5tZWRpYScpLmRhdGEoJ2NvbnZlcnNhdGlvbi1pZCcpO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhpbnRlcnZhbElkLCBjb252ZXJzYXRpb25JZCk7XHJcbiAgICAgICAgICAgIGdldEFuZEZpbGxDb252ZXJzYXRpb24oe3VzZXJuYW1lLCBjb252ZXJzYXRpb25JZCwgdXNlcmF2YXRhcn0sIGZhbHNlLCBpc0NsaWNrRnJvbVJlcXVlc3RDb25maXJtKTtcclxuICAgICAgICB9LCB1cGRhdGVJbnRlcnZhbCk7XHJcblxyXG4gICAgfVxyXG5cclxuICAgICQoZG9jdW1lbnQpLm9uKCdjbGljaycsICcubGlzdC1ncm91cC1pdGVtIC5jb2xsYXBzZScsIHVzZXJTaG93Q29udmVyc2V0aW9uSGFuZGxlcik7XHJcbiAgICAkKGRvY3VtZW50KS5vbignY2xpY2snLCAnLmpzX21lc3NhZ2VzLXJlcXVlc3QnLCBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgY29uc3QgdXNlckRhdGEgPSAkKGUudGFyZ2V0KS5jbG9zZXN0KCcubGlzdC1ncm91cC1pdGVtJykuZGF0YSgpO1xyXG4gICAgICAgIHVzZXJTaG93Q29udmVyc2V0aW9uSGFuZGxlcihlLCB1c2VyRGF0YSk7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ2FkZENvbmZpZ0J1dHRvbnMnLCBjb252ZXJzYXRpb25JZCk7XHJcbiAgICAgICAgYWRkQ29uZmlyZ0J1dHRvbnMoY29udmVyc2F0aW9uSWQsIHVzZXJEYXRhLnVzZXJuYW1lKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHdpbmRvdy5QdWJTdWIuc3Vic2NyaWJlKENPTlNULmV2ZW50cy5tZXNzYWdlcy5SRUNJRVZFX05FV19NRVNTQUdFLCAoZXZlbnROYW1lLCBkYXRhKSA9PiB7XHJcbiAgICAgICAgY29uc3Qge3VzZXJuYW1lLCBjb252ZXJzYXRpb25JZCwgdmFsdWUsIHJlc3VsdEZyb21TZXJ2ZXJ9ID0gZGF0YTtcclxuICAgICAgICBjb25zdCAkZGlhbG9nID0gJChgLm1lc3NhZ2VzLXVzZXItbGlzdCAubGlzdC1ncm91cC1pdGVtW2RhdGEtdXNlcm5hbWU9XCIke3VzZXJuYW1lfVwiXSBkaXZbZGF0YS1jb252ZXJzYXRpb24taWQ9XCIke2NvbnZlcnNhdGlvbklkfVwiXWApO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdyZXN1bHRGcm9tU2VydmVyOiAnLCByZXN1bHRGcm9tU2VydmVyKTtcclxuICAgICAgICAkZGlhbG9nLmZpbmQoJy5zdW1tYXJ5JykudGV4dCh2YWx1ZSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBzZW5kIGltYWdlIHtpZ1VzZXJuYW1lfS97aWR9L3Bob3RvXHJcbiAgICBpbWFnZVVwbG9hZC5pbml0KGZhbHNlLCBpbWFnZUxvYWRTdWJtaXRDYik7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBpbml0KCkge1xyXG4gICAgLy8gY2hlY2sgd2UgYXJlIGluIGNvcnJlY3QgcGFnZSAobWVzc2FnZXMpXHJcbiAgICBpZiAoIWlzSW5NZXNzYWdlUGFnZSgpKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGdldEFuZEZpbGxVc2VyTGlzdCgnc2V0QWN0aXZlRmlyc3QnKTtcclxuICAgIGFkZEhhbmRsZXJzKCk7XHJcbiAgICBjb25zdCBjZmcgPSB7XHJcbiAgICAgICAgdXNlcm5hbWU6ICd5b3VyX2RpZXRhJyxcclxuICAgICAgICBmaWxsVXNlckxpc3RGbjogZmlsbFVzZXJMaXN0XHJcbiAgICB9O1xyXG4gICAgaW5pdFJlcXVlc3RzKGNmZyk7XHJcbn1cclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2Jsb2Nrcy9tZXNzYWdlcy9tZXNzYWdlcy5qcyIsImltcG9ydCBVc2VyQ29udmVyc2F0aW9uIGZyb20gJy4uLy4uL2NvbW1vbi9qcy1zZXJ2aWNlcy9hcGktdXNlci1kaXJlY3QnO1xyXG5pbXBvcnQgVXNlciBmcm9tICcuLi8uLi9jb21tb24vanMtc2VydmljZXMvdXNlcic7XHJcblxyXG4vKlxyXG5FbmRwb2ludCDQvdCwINC/0L7Qu9GD0YfQtdC90LjQtSDQt9Cw0L/RgNC+0YHQvtCyOiBHRVQgaHR0cDovL2FwaS5sdXhncmFtLnJ1L3YxL2luc3RhZ3JhbS1kaXJlY3QvcGVuZGluZy97dXNlcm5hbWV9XHJcbtCt0YLQviDQtdC90LTQv9C+0LjQvdGCINC00L7Qu9C20LXQvSDQsdGL0YLRjCDQstGL0LfQstCw0L0g0YLQvtC70YzQutC+INC/0YDQuCDQvdCw0LbQsNGC0LjQuCDQvdCwINGC0LXQutGB0YIg0YEg0LrQvtC70LjRh9C10YHRgtCy0L7QvCDQt9Cw0L/RgNC+0YHQvtCyLlxyXG4qL1xyXG4vLyBjb25zdCBjZmdUID0ge1xyXG4vLyAgICAgdXNlcm5hbWU6ICd5b3VyX2RpZXRhJyxcclxuLy8gICAgIGdldEFuZEZpbGxVc2VyTGlzdEZuOiAnZ2V0QW5kRmlsbFVzZXJMaXN0X0Z1bmN0aW9uJ1xyXG4vLyB9O1xyXG5jb25zdCBjb25maXJtVXNlckRhdGEgPSB7fTtcclxuZXhwb3J0IGNvbnN0IGFkZENvbmZpcmdCdXR0b25zID0gKGNvbnZlcnNhdGlvbklkLCB1c2VybmFtZSkgPT4ge1xyXG4gICAgY29uc29sZS5sb2coJ2FkZENvbmZpcmdCdXR0b25zIHByb2NlZWQnLCB1c2VybmFtZSwgY29udmVyc2F0aW9uSWQpO1xyXG4gICAgY29uc3QgJGNvbmZpcm1CdG5Cb3ggPSAkKCcuanNfcmVxdWVzdC1jb25maXJtLWJveCcpO1xyXG4gICAgJGNvbmZpcm1CdG5Cb3gucmVtb3ZlQ2xhc3MoJ2Qtbm9uZScpO1xyXG4gICAgY29uZmlybVVzZXJEYXRhLnVzZXJuYW1lID0gdXNlcm5hbWU7XHJcbiAgICBjb25maXJtVXNlckRhdGEuY29udmVyc2F0aW9uSWQgPSBjb252ZXJzYXRpb25JZDtcclxufTtcclxuY29uc3QgY29udmVyc2F0aW9uRGV0YWlsID0gZnVuY3Rpb24oaXRlbXMpIHtcclxuICAgIGxldCB0cGwgPSAnJztcclxuICAgIGl0ZW1zLmZvckVhY2goKGl0ZW0pID0+IHtcclxuICAgICAgICBjb25zdCB7cHJvZmlsZVBpY1VybDogc3JjSW1nfSA9IGl0ZW07XHJcbiAgICAgICAgaWYgKGl0ZW1zLmxlbmd0aCA+IDEpIHtcclxuICAgICAgICAgICAgdHBsICs9IGA8aW1nIHNyYz1cIiR7c3JjSW1nfVwiIGFsdD0naW1hZ2UnIGNsYXNzPVwibWVkaWEtcGhvdG8gbXItMSBtZWRpYS1waG90by0tZ3JvdXBcIiBzdHlsZT1cIndpZHRoOiAyNHB4O1wiPmA7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdHBsICs9IGA8aW1nIHNyYz1cIiR7c3JjSW1nfVwiIGFsdD0naW1hZ2UnIGNsYXNzPVwibWVkaWEtcGhvdG8gbXItMVwiIHN0eWxlPVwid2lkdGg6IDI0cHg7XCI+YDtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuICAgIHJldHVybiB0cGw7XHJcbn07XHJcblxyXG5jb25zdCBhZGRDb252ZXJzYXRpb25zID0gZnVuY3Rpb24oY29udmVyc2F0aW9ucykge1xyXG4gICAgbGV0IHRwbCA9ICcnO1xyXG4gICAgY29udmVyc2F0aW9ucy5mb3JFYWNoKChpdGVtKSA9PiB7XHJcbiAgICAgICAgY29uc3Qge3VzZXJzLCBpZCwgdGl0bGV9ID0gaXRlbTtcclxuICAgICAgICAvLyBjb25zdCBpc1VucmVhZCA9IGl0ZW1bJ2lzX3VucmVhZCddO1xyXG4gICAgICAgIC8vIGNvbnN0IGxhc3RNZXNzYWdlID0gaXRlbVsnbGFzdE1lc3NhZ2UnXTtcclxuICAgICAgICAvLyBjb25zdCBpc0xhc3RNc2cgPSBsYXN0TWVzc2FnZSAmJiAocGFyc2VJbnQobGFzdE1lc3NhZ2UubGVuZ3RoLCAxMCkpO1xyXG4gICAgICAgIC8vIGNvbnN0IGlzQWRkRG90ID0gaXNMYXN0TXNnID4gMCAmJiB1c2Vycy5sZW5ndGggPiAxICYmIGlzVW5yZWFkO1xyXG4gICAgICAgIHRwbCArPSBgXHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibWVkaWEgcC0xIGpzX21lc3NhZ2VzLXJlcXVlc3QgbWVzc2FnZXMtcmVxdWVzdFwiIGRhdGEtY29udmVyc2F0aW9uLWlkPVwiJHtpZH1cIj5cclxuICAgICAgICAgICAgICAgICAgICAke2NvbnZlcnNhdGlvbkRldGFpbCh1c2Vycyl9XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1lZGlhLWJvZHlcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGg1IGNsYXNzPVwidGl0bGVcIj4ke3RpdGxlfTwvaDU+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgYDtcclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIHRwbDtcclxufTtcclxuXHJcbmNvbnN0IGdldFJlcXVlc3RQZW5kaW5nID0gZnVuY3Rpb24odXNlcm5hbWUsIGVsSWQpIHtcclxuICAgIC8vIGNvbnN0IHVzZXJuYW1lID0gJ3lvdXJfZGlldGEnO1xyXG4gICAgVXNlckNvbnZlcnNhdGlvbi5nZXRSZXF1ZXN0UGVuZGluZyh1c2VybmFtZSkudGhlbigocmVzdWx0KSA9PiB7XHJcbiAgICAgICAgY29uc3Qge2RhdGE6IHtyZXF1ZXN0c319ID0gcmVzdWx0O1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdyZXN1bHQnLCByZXF1ZXN0cyk7XHJcbiAgICAgICAgY29uc3QgdHBsID0gYWRkQ29udmVyc2F0aW9ucyhyZXF1ZXN0cywgZWxJZCk7XHJcbiAgICAgICAgJCh0cGwpLmFwcGVuZFRvKCQoYCMke2VsSWR9YCkpO1xyXG4gICAgfSk7XHJcbn07XHJcblxyXG5mdW5jdGlvbiBmaWxsVXNlckxpc3QoJGxpc3QsIGRhdGFBcnJheSwgbG9hZE1vcmVDYkZ1bmN0aW9uKSB7XHJcbiAgICBjb25zdCBpdGVtcyA9IGRhdGFBcnJheTtcclxuICAgIGNvbnN0IGNMaXN0ID0gJGxpc3Q7XHJcbiAgICBsZXQgdHBsID0gJyc7XHJcbiAgICAvLyBjb25zdCBsb2FkTW9yZUJveCA9IChpZHgsIHByZXZfY3Vyc29yKSA9PiBgPGRpdiBjbGFzcz1cImxpc3QtZm9vdGVyIHRleHQtY2VudGVyIGpzX2xvYWQtbW9yZS1ib3hcIiBkYXRhLWlkeD1cIiR7aWR4fVwiIGRhdGEtY3Vyc29yPVwiJHtwcmV2X2N1cnNvcn1cIj5cclxuICAgIC8vICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImJ0biBidG4tb3V0bGluZS1zZWNvbmRhcnkgYnRuLXNtIGJ0bi1zdWJtaXRcIj7Ql9Cw0LPRgNGD0LfQuNGC0Ywg0LXRidC1PC9idXR0b24+XHJcbiAgICAvLyA8L2Rpdj5gO1xyXG4gICAgY0xpc3QuZW1wdHkoKS5hZGRDbGFzcygnYm9yZGVyLWxpZ2h0LWNvbG9yJyk7XHJcbiAgICAvLyB0b2RvOiBmaXggaGFyZC1jb2RlICBpbWcgc3JjPVwiaHR0cHM6Ly9pLmltZ3VyLmNvbS9qTk5UNExFLnBuZ1wiXHJcbiAgICBpdGVtcy5mb3JFYWNoKChpdGVtLCBpZHgpID0+IHtcclxuICAgICAgICAvLyBjb25zdCB7cGFnaW5hdGlvbn0gPSBpdGVtO1xyXG4gICAgICAgIGNvbnN0IGVsSWQgPSBgY29sbGFwc2UtcmVxLSR7aWR4fWA7XHJcbiAgICAgICAgLy8gY29uc3Qge2NvbnZlcnNhdGlvbnN9ID0gaXRlbTtcclxuICAgICAgICBjb25zb2xlLmxvZyhpdGVtLnBlbmRpbmdfcmVxdWVzdHMpO1xyXG4gICAgICAgIGlmIChpdGVtLnBlbmRpbmdfcmVxdWVzdHMpIHtcclxuICAgICAgICAgICAgZ2V0UmVxdWVzdFBlbmRpbmcoaXRlbS51c2VybmFtZSwgZWxJZCk7XHJcbiAgICAgICAgICAgIHRwbCArPSBgPGxpIGNsYXNzPVwibGlzdC1ncm91cC1pdGVtXCIgZGF0YS10b2dnbGU9XCJjb2xsYXBzZVwiIGRhdGEtdGFyZ2V0PVwiIyR7ZWxJZH1cIiBcclxuICAgICAgICAgICAgICAgIGRhdGEtdXNlcm5hbWU9XCIke2l0ZW0udXNlcm5hbWV9XCJcclxuICAgICAgICAgICAgICAgIGRhdGEtdXNlckF2YXRhcj1cIiR7aXRlbS5wcm9maWxlX3BpY191cmx9XCJcclxuICAgICAgICAgICAgICAgIGFyaWEtZXhwYW5kZWQ9XCJ0cnVlXCIgYXJpYS1jb250cm9scz1cImNvbGxhcHNlLSR7aWR4fVwiPlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29udmVyc2F0aW9uLWhlYWQgbWItMSBtZWRpYSBwYi0yXCIgaWQ9XCJoZWFkaW5nLSR7aWR4fVwiPlxyXG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJtci0zXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGltZyBzcmM9XCIke2l0ZW0ucHJvZmlsZV9waWNfdXJsfVwiIGFsdD1cImF2YXRhclwiXHJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJtZWRpYS1waG90byByb3VuZGVkLWNpcmNsZVwiPlxyXG4gICAgICAgICAgICAgICAgPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1lZGlhLWJvZHlcIj5cclxuICAgICAgICAgICAgICAgICAgICA8aDQgY2xhc3M9XCJ0aXRsZVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAke2l0ZW0udXNlcm5hbWV9XHJcbiAgICAgICAgICAgICAgICAgICAgPC9oND5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPGRpdiBpZD1cIiR7ZWxJZH1cIiBjbGFzcz1cImNvbGxhcHNlXCIgYXJpYS1sYWJlbGxlZGJ5PVwiaGVhZGluZy0ke2lkeH1cIiBkYXRhLXBhcmVudD1cIiNhY2NvcmRpb24tcmVxdWVzdHNcIj5cclxuICAgICAgICAgICAgICAgIDwhLS0gZ2V0UmVxdWVzdFBlbmRpbmcoaXRlbS51c2VybmFtZSwgZWxJZCkgLS0+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8IS0tIHsocGFnaW5hdGlvbiAmJiBwYWdpbmF0aW9uLnByZXZfY3Vyc29yKSA/ICdsb2FkTW9yZUJveChpZHgsIHBhZ2luYXRpb24ucHJldl9jdXJzb3IpJyA6ICcnfSAtLT5cclxuICAgICAgICA8L2xpPmA7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICAkKHRwbCkuYXBwZW5kVG8oY0xpc3QpO1xyXG5cclxuICAgIC8vICQoJy5qc19sb2FkLW1vcmUtYm94IGJ1dHRvbicpLm9uKCdjbGljaycsIChlKSA9PiB7XHJcbiAgICAvLyAgICAgY29uc3QgJGJ0biA9ICQoZS50YXJnZXQpO1xyXG4gICAgLy8gICAgIGNvbnN0ICRidG5Cb3ggPSAkYnRuLmNsb3Nlc3QoJy5qc19sb2FkLW1vcmUtYm94Jyk7XHJcbiAgICAvLyAgICAgY29uc3Qgc2VjdGlvbiA9ICRidG5Cb3guZGF0YSgnaWR4Jyk7XHJcbiAgICAvLyAgICAgY29uc3QgY3Vyc29yID0gJGJ0bkJveC5kYXRhKCdjdXJzb3InKTtcclxuICAgIC8vICAgICBjb25zdCB1c2VybmFtZSA9ICRidG5Cb3guY2xvc2VzdCgnbGknKS5kYXRhKCd1c2VybmFtZScpO1xyXG5cclxuICAgIC8vICAgICBjb25zb2xlLmxvZygnY2xpY2snLCBzZWN0aW9uLCBjdXJzb3IpO1xyXG4gICAgLy8gICAgIGxvYWRNb3JlQ2JGdW5jdGlvbihjdXJzb3IsIHNlY3Rpb24sIHVzZXJuYW1lKTtcclxuICAgIC8vICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgLy8gfSk7XHJcbn1cclxuXHJcbmNvbnN0IHRva2VuID0gVXNlci5nZXRUb2tlbigpO1xyXG5mdW5jdGlvbiBnZXRBbmRGaWxsVXNlckxpc3QoaXNBY3RpdmVGaXJzdCwgdXNlckxpc3QpIHtcclxuICAgIGNvbnN0ICR1c2VyTGlzdCA9IHVzZXJMaXN0IHx8ICQoJy5tZXNzYWdlcy11c2VyLWxpc3QnKTtcclxuICAgIGxldCBwcmV2QWN0aXZlRGlhbG9nSWQgPSAnJztcclxuICAgIGlmICghaXNBY3RpdmVGaXJzdCkge1xyXG4gICAgICAgIHByZXZBY3RpdmVEaWFsb2dJZCA9ICR1c2VyTGlzdC5maW5kKCdsaSAuY29sbGFwc2Uuc2hvdycpLmF0dHIoJ2lkJyk7XHJcbiAgICB9XHJcblxyXG4gICAgVXNlckNvbnZlcnNhdGlvbi5nZXRNZXRhZGF0YSh0b2tlbikudGhlbigocmVzdWx0KSA9PiB7XHJcbiAgICAgICAgaWYgKCFyZXN1bHQuZGF0YSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHtkYXRhfSA9IHJlc3VsdDtcclxuICAgICAgICBkYXRhLm1ldGEuc29ydCgoYSwgYikgPT4gYVsndXNlcm5hbWUnXS5sb2NhbGVDb21wYXJlKGJbJ3VzZXJuYW1lJ10pKTtcclxuICAgICAgICAvLyBtZXNzYWdlcy11c2VyLWxpc3QgZnJvbSB1dGlscy5qc1xyXG4gICAgICAgIGZpbGxVc2VyTGlzdCgkdXNlckxpc3QsIGRhdGEubWV0YSAvKiBnZXRBbmRGaWxsVXNlckxpc3RDdXJzb3IqLyk7XHJcbiAgICAgICAgLy8gaWYgKGRhdGEuc2V0dGluZ3MgJiYgZGF0YS5zZXR0aW5ncy5pbnZva2VfaW5fbWlsbGlzKSB7XHJcbiAgICAgICAgLy8gICAgIHVwZGF0ZUludGVydmFsID0gZGF0YS5zZXR0aW5ncy5pbnZva2VfaW5fbWlsbGlzO1xyXG4gICAgICAgIC8vICAgICB1cGRhdGVJbnRlcnZhbCA9ICh1cGRhdGVJbnRlcnZhbCA+IDYwMDApID8gdXBkYXRlSW50ZXJ2YWwgOiAxMDAwMDtcclxuICAgICAgICAvLyB9XHJcbiAgICAgICAgaWYgKGlzQWN0aXZlRmlyc3QpIHtcclxuICAgICAgICAgICAgJHVzZXJMaXN0LmZpbmQoJ2xpOmZpcnN0LWNoaWxkIC5jb2xsYXBzZScpLmFkZENsYXNzKCdzaG93Jyk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgJChgIyR7cHJldkFjdGl2ZURpYWxvZ0lkfWApLmFkZENsYXNzKCdzaG93Jyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICAvLyBkbyBpdCBvbmNlXHJcbiAgICAgICAgLy8gaWYgKCFpc1RpbWVPdXRSdW5uZWQpIHtcclxuICAgICAgICAvLyAgICAgaW50ZXJ2YWxVc2VyTGlzdCA9IHNldEludGVydmFsKCgpID0+IHtcclxuICAgICAgICAvLyAgICAgICAgIGNvbnNvbGUubG9nKCdzZXRJbnRlcnZhbCcpO1xyXG4gICAgICAgIC8vICAgICAgICAgZ2V0QW5kRmlsbFVzZXJMaXN0KCk7XHJcbiAgICAgICAgLy8gICAgIH0sIHVwZGF0ZUludGVydmFsKTtcclxuICAgICAgICAvLyAgICAgaXNUaW1lT3V0UnVubmVkID0gdHJ1ZTtcclxuICAgICAgICAvLyB9XHJcbiAgICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gaW5pdEhhbmRsZXJzKCkge1xyXG4gICAgY29uc3QgJGNvbmZpcm1CdG5Cb3ggPSAkKCcuanNfcmVxdWVzdC1jb25maXJtLWJveCcpO1xyXG4gICAgY29uc3QgJHJlcUNvbmZpcm1CdG4gPSAkKCcuanNfcmVxdWVzdC1jb25maXJtJywgJGNvbmZpcm1CdG5Cb3gpO1xyXG4gICAgY29uc3QgJHJlcVJlamVjdEJ0biA9ICQoJy5qc19yZXF1ZXN0LXJlamVjdCcsICRjb25maXJtQnRuQm94KTtcclxuXHJcbiAgICAkcmVxQ29uZmlybUJ0bi5vbignY2xpY2snLCAoZSkgPT4ge1xyXG4gICAgICAgIC8vIFBVVCBodHRwOi8vYXBpLmx1eGdyYW0ucnUvdjEvaW5zdGFncmFtLWRpcmVjdC9wZW5kaW5nL3t1c2VybmFtZX0ve2lkfVxyXG4gICAgICAgIFVzZXJDb252ZXJzYXRpb24ucHV0UmVxdWVzdFBlbmRpbmcoY29uZmlybVVzZXJEYXRhKS50aGVuKChyZXN1bHQpID0+IHtcclxuICAgICAgICAgICAgaWYgKHJlc3VsdC5zdGF0dXMuc3RhdGUgPT09ICdvaycpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUuaW5mbygncmVzdWx0OiAnLCByZXN1bHQpO1xyXG4gICAgICAgICAgICAgICAgJGNvbmZpcm1CdG5Cb3guYWRkQ2xhc3MoJ2Qtbm9uZScpO1xyXG4gICAgICAgICAgICAgICAgJCgnLmpzX3Nob3ctbWVzc2FnZXMtdXNlci1saXN0JykudHJpZ2dlcignY2xpY2snKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcbiAgICAkcmVxUmVqZWN0QnRuLm9uKCdjbGljaycsIChlKSA9PiB7XHJcbiAgICAgICAgVXNlckNvbnZlcnNhdGlvbi5kZWxSZXF1ZXN0UGVuZGluZyhjb25maXJtVXNlckRhdGEpLnRoZW4oKHJlc3VsdCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAocmVzdWx0LnN0YXR1cy5zdGF0ZSA9PT0gJ29rJykge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5pbmZvKCdyZXN1bHQ6ICcsIHJlc3VsdCk7XHJcbiAgICAgICAgICAgICAgICAkY29uZmlybUJ0bkJveC5hZGRDbGFzcygnZC1ub25lJyk7XHJcbiAgICAgICAgICAgICAgICAkKCcuanNfc2hvdy1tZXNzYWdlcy11c2VyLWxpc3QnKS50cmlnZ2VyKCdjbGljaycpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBjb25zdCAkc2hvd1VzZXJMaXN0ID0gJCgnLmpzX3Nob3ctbWVzc2FnZXMtdXNlci1saXN0Jyk7XHJcbiAgICAkc2hvd1VzZXJMaXN0Lm9uKCdjbGljaycsIChlKSA9PiB7XHJcbiAgICAgICAgJChlLnRhcmdldCkuY2xvc2VzdCgnLnVzZXItcmVxdWVzdHMtYm94JykucmVtb3ZlQ2xhc3MoJ3VzZXItcmVxdWVzdHMtYm94LS1zaG93Jyk7XHJcbiAgICAgICAgJCgnLnVzZXItbGlzdC1ib3gnKS5yZW1vdmVDbGFzcygndXNlci1saXN0LWJveC0taGlkZScpO1xyXG4gICAgICAgICQoJyNtYWluQ2hhdFBhcnQnKS5hZGRDbGFzcygnZC1ub25lJyk7XHJcbiAgICB9KTtcclxufVxyXG5leHBvcnQgZnVuY3Rpb24gaW5pdFJlcXVlc3RzKGNmZykge1xyXG4gICAgY29uc3QgJGxpc3QgPSAkKCcubWVzc2FnZXMtcmVxdWVzdHMtbGlzdCcpO1xyXG4gICAgZ2V0QW5kRmlsbFVzZXJMaXN0KCdzZXRBY3RpdmVGaXJzdCcsICRsaXN0KTtcclxuICAgIGluaXRIYW5kbGVycygpO1xyXG59XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9ibG9ja3MvbWVzc2FnZXMvcmVxdWVzdHMuanMiLCJpbXBvcnQgdmlld1V0aWxzIGZyb20gJy4uLy4uL2NvbW1vbi9qcy1zZXJ2aWNlcy92aWV3JztcclxuLy8gaW1wb3J0IFVzZXJDb252ZXJzYXRpb24gZnJvbSAnLi4vLi4vY29tbW9uL2pzLXNlcnZpY2VzL2FwaS11c2VyLWRpcmVjdCc7XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gY2xlYXJNYXNzYWdlc0xpc3QoJGxpc3QsIHN0YXRlQ2ZnKSB7XHJcbiAgICBzdGF0ZUNmZy5wYWdlSW5jcmVtZW50ID0gMDtcclxuICAgICRsaXN0LmVtcHR5KCk7XHJcbn1cclxuZXhwb3J0IGZ1bmN0aW9uIGZpbGxNYXNzYWdlc0xpc3QoeyRsaXN0LCBkYXRhQXJyYXksIGlzQXBwZW5kUHJldk1zZywgc3RhdGVDZmcsIGN1cnJlbnRVc2VyRGF0YX0pIHtcclxuICAgIGNvbnN0IGl0ZW1zID0gZGF0YUFycmF5O1xyXG4gICAgY29uc3QgY0xpc3QgPSAkbGlzdDtcclxuICAgIC8vIGNvbnN0IGxpc3REYXRhQ29udmVyc2F0aW9uID0gJCgnLm1lc3NhZ2VzLWxpc3QnKS5hdHRyKCdkYXRhLWNvbnZlcnNhdGlvbicpO1xyXG4gICAgLy8gY29uc3QgY3VycmVudFVzZXJuYW1lID0gSlNPTi5wYXJzZShsaXN0RGF0YUNvbnZlcnNhdGlvbik7XHJcbiAgICBjb25zdCBpbnNlcnRNc2cgPSAodmFsdWUsIG1lc3NhZ2UsIGNzc0NscykgPT4ge1xyXG4gICAgICAgIGxldCBzdHIgPSAnJztcclxuICAgICAgICBsZXQgdmFsdWVXaXRoVXJsID0gJyc7XHJcbiAgICAgICAgY29uc3Qge3R5cGUsIC8qIHVzZXJuYW1lLCBwcm9maWxlX3BpY191cmwsICovIGNhcHRpb259ID0gbWVzc2FnZTtcclxuICAgICAgICAvLyBjb25zdCB1c2VySGVhZGVyID0ge3VzZXJuYW1lLCBwcm9maWxlX3BpY191cmx9O1xyXG4gICAgICAgIC8vIGlmIChjc3NDbHMgPT09ICd0ZXh0LXJpZ2h0Jykge1xyXG4gICAgICAgIC8vICAgICB1c2VySGVhZGVyLnVzZXJuYW1lID0gY3VycmVudFVzZXJEYXRhLnVzZXJuYW1lO1xyXG4gICAgICAgIC8vICAgICB1c2VySGVhZGVyLnByb2ZpbGVfcGljX3VybCA9IGN1cnJlbnRVc2VyRGF0YS51c2VyYXZhdGFyO1xyXG4gICAgICAgIC8vIH1cclxuICAgICAgICBpZiAodHlwZSA9PT0gJ1RFWFQnKSB7XHJcbiAgICAgICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11c2VsZXNzLWVzY2FwZVxyXG4gICAgICAgICAgICBjb25zdCByZWdleCA9IC9bKGh0dHAocyk/KTpcXC9cXC8od3d3XFwuKT9hLXpBLVowLTlAOiUuX1xcK34jPV17MiwyNTZ9XFwuW2Etel17Miw2fVxcYihbLWEtekEtWjAtOUA6JV9cXCsufiM/Ji8vPV0qKS9nbTtcclxuICAgICAgICAgICAgY29uc3Qgc3Vic3QgPSAnPGEgaHJlZj0kJiB0YXJnZXQ9XCJfYmxhbmtcIj4kJjwvYT4nO1xyXG4gICAgICAgICAgICB2YWx1ZVdpdGhVcmwgPSB2YWx1ZS5yZXBsYWNlKHJlZ2V4LCBzdWJzdCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHN3aXRjaCAodHlwZS50b0xvd2VyQ2FzZSgpKSB7XHJcbiAgICAgICAgICAgIGNhc2UgJ3Bob3RvJzpcclxuICAgICAgICAgICAgICAgIHN0ciA9IGA8ZGl2IGNsYXNzPVwiY2hhdC1pbWdcIj5cclxuICAgICAgICAgICAgICAgICAgICA8aW1nIHNyYz1cIiR7dmFsdWV9XCIgYWx0PVwiQ29udGVudCBJbWFnZVwiIGNsYXNzPVwiY29udGVudC1pbWFnZVwiPlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+YDtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICd2aWRlbyc6XHJcbiAgICAgICAgICAgICAgICBzdHIgPSBgPGRpdiBjbGFzcz1cImNoYXQtdmlkZW9cIj5cclxuICAgICAgICAgICAgICAgICAgICA8YSB0YXJnZXQ9XCJfYmxhbmtcIiBocmVmPVwiJHt2YWx1ZX1cIiBjbGFzcz1cInBvc2l0aW9uLXJlbGF0aXZlXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzPVwiZmEtM3ggZmEtcGxheS1jaXJjbGUgZmFyIHBvc2l0aW9uLWFic29sdXRlIHRleHQtd2hpdGUgY2hhdC12aWRlby0taWNvblwiPjwvaT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGltZyBzcmM9XCIke21lc3NhZ2UucHJldmlld192YWx1ZX1cIiBhbHQ9XCJDb250ZW50IEltYWdlXCIgY2xhc3M9XCJjaGF0LXZpZGVvLS1pbWFnZVwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvYT5cclxuICAgICAgICAgICAgICAgIDwvZGl2PmA7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAnZ2lmJzpcclxuICAgICAgICAgICAgICAgIHN0ciA9IGA8ZGl2IGNsYXNzPVwiY2hhdC1pbWdcIj5cclxuICAgICAgICAgICAgICAgICAgICA8aW1nIHNyYz1cIiR7dmFsdWV9XCIgYWx0PVwiQ29udGVudCBJbWFnZVwiIGNsYXNzPVwiY29udGVudC1pbWFnZVwiPlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+YDtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICdsaWtlJzpcclxuICAgICAgICAgICAgICAgIHN0ciA9IGA8ZGl2IGNsYXNzPVwiY2hhdC10ZXh0ICR7Y3NzQ2xzfVwiID4ke3ZhbHVlfTwvZGl2PmA7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAncG9zdCc6XHJcbiAgICAgICAgICAgICAgICBzdHIgPSBgPGRpdiBjbGFzcz1cImNoYXQtcG9zdC1tZXNzYWdlXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGEgdGFyZ2V0PVwiX2JsYW5rXCIgaHJlZj1cIiR7dmFsdWV9XCIgY2xhc3M9XCJ0ZXh0LWJvZHkgdGV4dC1kZWNvcmF0aW9uLW5vbmVcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNoYXQtcG9zdC1tZXNzYWdlLS1oZWFkZXJcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbWcgc3JjPVwiJHttZXNzYWdlLnByb2ZpbGVfcGljX3VybH1cIiBhbHQ9XCJDb250ZW50IEltYWdlXCIgY2xhc3M9XCJ1c2VyLWF2YXRhciBtci0zXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAke21lc3NhZ2UudXNlcm5hbWV9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz1cImZhcyBmYS1jaGV2cm9uLXJpZ2h0XCI+PC9pPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGltZyBzcmM9XCIke21lc3NhZ2UucHJldmlld192YWx1ZX1cIiBhbHQ9XCJDb250ZW50IEltYWdlXCIgY2xhc3M9XCJjb250ZW50LWltYWdlXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICR7KGNhcHRpb24pID8gYDxwIGNsYXNzPVwiY2hhdC1wb3N0LWNhcHRpb24gbS0zXCI+JHtjYXB0aW9ufTxwPmAgOiAnJ31cclxuICAgICAgICAgICAgICAgICAgICA8L2E+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5gO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgJ3RleHQnOlxyXG4gICAgICAgICAgICAgICAgc3RyID0gYDxkaXYgY2xhc3M9XCJjaGF0LXRleHQgJHtjc3NDbHN9XCIgPiR7dmFsdWVXaXRoVXJsfTwvZGl2PmA7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgZGVmYXVsdDogc3RyID0gYDxkaXYgY2xhc3M9XCJjaGF0LXRleHQgJHtjc3NDbHN9XCIgPiR7dmFsdWV9PC9kaXY+YDtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHN0cjtcclxuICAgIH07XHJcbiAgICBjb25zdCBhZGRUb0xpc3QgPSAoaXNBcHBlbmRQcmV2TXNnLCAkbGksICRsaXN0KSA9PiB7XHJcbiAgICAgICAgaWYgKGlzQXBwZW5kUHJldk1zZykge1xyXG4gICAgICAgICAgICAkbGkuaW5zZXJ0QmVmb3JlKCRsaXN0LmZpbmQoJ2xpOmZpcnN0LWNoaWxkJykpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICRsaS5hcHBlbmRUbygkbGlzdCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIGlmIChpc0FwcGVuZFByZXZNc2cpIHtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZygnaXNBcHBlbnRQcmV2TXNnIHRvJywgY0xpc3QpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICBjTGlzdC5lbXB0eSgpLmFkZENsYXNzKCdib3JkZXItbGlnaHQtY29sb3InKTtcclxuICAgICAgICBjbGVhck1hc3NhZ2VzTGlzdChjTGlzdCwgc3RhdGVDZmcpO1xyXG4gICAgICAgIC8vIGFkZCBtYXJnaW4tYXV0byB0byBtYWtlIG1hc3NlZ2VzIG9uIGJvdHRvbVxyXG4gICAgICAgICQoJzxsaSBjbGFzcz1cIm10LWF1dG9cIj48L2xpPicpLmFwcGVuZFRvKGNMaXN0KTtcclxuICAgIH1cclxuICAgIGl0ZW1zLmZvckVhY2goKGl0ZW0pID0+IHtcclxuICAgICAgICBjb25zdCBtZXNzYWdlID0gaXRlbTtcclxuICAgICAgICBjb25zdCB2YWx1ZSA9IG1lc3NhZ2UudmFsdWUucmVwbGFjZSgvKD86XFxyXFxufFxccnxcXG4pL2csICc8YnIgLz4nKTtcclxuICAgICAgICAvLyBjb25zdCB2YWx1ZSA9IG1lc3NhZ2UudmFsdWU7XHJcblxyXG4gICAgICAgIGlmIChtZXNzYWdlLnNpZGUudG9Mb3dlckNhc2UoKSA9PT0gJ2xlZnQnKSB7XHJcbiAgICAgICAgICAgIGNvbnN0ICRsaSA9ICQoYDxsaSBjbGFzcz1cImNoYXQtaXRlbSBjaGF0LWl0ZW0tbGVmdCBjb2wgZmxleC1jb2x1bW4tcmV2ZXJzZVwiIHZhbHVlPVwiJHttZXNzYWdlLnZhbHVlfVwiPlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImQtZmxleFwiPlxyXG4gICAgICAgICAgICAgICAgJHsobWVzc2FnZVsncHJvZmlsZV9waWNfdXJsJ10pXHJcbiAgICAgICAgICAgICAgICA/IGA8ZGl2IGNsYXNzPVwiY2hhdC1pbWctYm94XCI+IFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGltZyBzcmM9XCIke21lc3NhZ2VbJ3Byb2ZpbGVfcGljX3VybCddfVwiIGFsdD1cIlVzZXIgQXZhdGFyXCIgY2xhc3M9XCJcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+YFxyXG4gICAgICAgICAgICAgICAgOiAnJ1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgPGRpdj5cclxuICAgICAgICAgICAgICAgICAgICA8cCBjbGFzcz1cImNoYXQtdXNlcm5hbWUgdGV4dC1tdXRlZFwiPiR7bWVzc2FnZS51c2VybmFtZX08L3A+XHJcbiAgICAgICAgICAgICAgICAgICAgJHtpbnNlcnRNc2codmFsdWUsIG1lc3NhZ2UsICd0ZXh0LWxlZnQnKX1cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDxzbWFsbCBjbGFzcz1cImNoYXQtdGltZS10ZXh0XCI+JHt2aWV3VXRpbHMuZ2V0Rm9ybWF0dGVkRGF0ZVV0aWwobWVzc2FnZS50aW1lc3RhbXApfTwvc21hbGw+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8L2xpPmApO1xyXG4gICAgICAgICAgICBhZGRUb0xpc3QoaXNBcHBlbmRQcmV2TXNnLCAkbGksIGNMaXN0KTsgLy8gdG9EbyByZWZhY3RvciBtZSwgbGVzcyBET00gbWFuaXB1bGF0aW9uXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgY29uc3QgJGxpID0gJChgPGxpIGNsYXNzPVwiY2hhdC1pdGVtIGNoYXQtaXRlbS1yaWdodCBjb2wgZmxleC1jb2x1bW4tcmV2ZXJzZVwiIHZhbHVlPVwiJHttZXNzYWdlLnZhbHVlfVwiPlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImQtZmxleCBqdXN0aWZ5LWNvbnRlbnQtZW5kXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgJHtpbnNlcnRNc2codmFsdWUsIG1lc3NhZ2UsICd0ZXh0LXJpZ2h0Jyl9XHJcbiAgICAgICAgICAgICAgICAgICAgPHNtYWxsIGNsYXNzPVwicHVsbC1yaWdodCBjaGF0LXRpbWUtdGV4dFwiPiR7dmlld1V0aWxzLmdldEZvcm1hdHRlZERhdGVVdGlsKG1lc3NhZ2UudGltZXN0YW1wKX08L3NtYWxsPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8L2xpPmApO1xyXG4gICAgICAgICAgICBhZGRUb0xpc3QoaXNBcHBlbmRQcmV2TXNnLCAkbGksIGNMaXN0KTsgLy8gdG9EbyByZWZhY3RvciBtZSwgbGVzcyBET00gbWFuaXB1bGF0aW9uXHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbn1cclxuXHJcbmNvbnN0IGNvbnZlcnNhdGlvbkRldGFpbCA9IGZ1bmN0aW9uKGl0ZW1zKSB7XHJcbiAgICBsZXQgdHBsID0gJyc7XHJcbiAgICBpdGVtcy5mb3JFYWNoKChpdGVtKSA9PiB7XHJcbiAgICAgICAgaWYgKGl0ZW1zLmxlbmd0aCA+IDEpIHtcclxuICAgICAgICAgICAgdHBsICs9IGA8aW1nIHNyYz1cIiR7aXRlbVsncHJvZmlsZV9waWNfdXJsJ119XCIgYWx0PSdpbWFnZScgY2xhc3M9XCJtZWRpYS1waG90byBtci0xIG1lZGlhLXBob3RvLS1ncm91cFwiIHN0eWxlPVwid2lkdGg6IDI0cHg7XCI+YDtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICB0cGwgKz0gYDxpbWcgc3JjPVwiJHtpdGVtWydwcm9maWxlX3BpY191cmwnXX1cIiBhbHQ9J2ltYWdlJyBjbGFzcz1cIm1lZGlhLXBob3RvIG1yLTFcIiBzdHlsZT1cIndpZHRoOiAyNHB4O1wiPmA7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gdHBsO1xyXG59O1xyXG5leHBvcnQgY29uc3QgYWRkQ29udmVyc2F0aW9ucyA9IGZ1bmN0aW9uKGNvbnZlcnNhdGlvbnMpIHtcclxuICAgIGxldCB0cGwgPSAnJztcclxuICAgIGNvbnZlcnNhdGlvbnMuZm9yRWFjaCgoaXRlbSkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGlzVW5yZWFkID0gaXRlbVsnaXNfdW5yZWFkJ107XHJcbiAgICAgICAgY29uc3QgbGFzdE1lc3NhZ2UgPSBpdGVtWydsYXN0X21lc3NhZ2UnXTtcclxuICAgICAgICBjb25zdCBpc0xhc3RNc2cgPSBsYXN0TWVzc2FnZSAmJiAocGFyc2VJbnQobGFzdE1lc3NhZ2UubGVuZ3RoLCAxMCkpO1xyXG4gICAgICAgIGNvbnN0IGlzQWRkRG90ID0gaXNMYXN0TXNnID4gMCAmJiBpdGVtLnRvLmxlbmd0aCA+IDEgJiYgaXNVbnJlYWQ7XHJcbiAgICAgICAgdHBsICs9IGBcclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtZWRpYSBwLTFcIiBkYXRhLWNvbnZlcnNhdGlvbi1pZD1cIiR7aXRlbS5pZH1cIj5cclxuICAgICAgICAgICAgICAgICAgICAke2NvbnZlcnNhdGlvbkRldGFpbChpdGVtLnRvKX1cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibWVkaWEtYm9keVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkeyhpc0FkZERvdCB8fCBpc1VucmVhZClcclxuICAgICAgICAgICAgPyAnPHNwYW4gY2xhc3M9XCJzdW1tYXJ5LWRvdFwiPjwvc3Bhbj4nXHJcbiAgICAgICAgICAgIDogJydcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8IS0tIHtpc1VucmVhZCA/ICc8c3BhbiBjbGFzcz1cInN1bW1hcnktZG90XCI+PC9zcGFuPicgOiAnJ30gLS0+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxoNSBjbGFzcz1cInRpdGxlICR7aXNVbnJlYWQgPyAnZm9udC13ZWlnaHQtYm9sZCcgOiAnJ30gJHsoaXNBZGREb3QpID8gJ21yLTInIDogJyd9XCI+JHtpdGVtLnRpdGxlfTwvaDU+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICR7KGlzTGFzdE1zZyA+IDAgJiYgaXRlbS50by5sZW5ndGggPT09IDEpXHJcbiAgICAgICAgICAgID8gYDxwIGNsYXNzPVwic3VtbWFyeSB0ZXh0LW11dGVkXCI+JHtsYXN0TWVzc2FnZX08L3A+YFxyXG4gICAgICAgICAgICA6ICcnXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICBgO1xyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gdHBsO1xyXG59O1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGFwcGVuZFVzZXJMaXN0KCRsaXN0LCBpdGVtLCBkZXRhaWxzKSB7XHJcbiAgICBjb25zdCB7Y3Vyc29yLCBzZWN0aW9uLCB1c2VybmFtZX0gPSBkZXRhaWxzO1xyXG4gICAgY29uc3QgJGNvbGxhcHNlID0gJChgI2NvbGxhcHNlLSR7c2VjdGlvbn1gKTtcclxuICAgIGNvbnNvbGUubG9nKGN1cnNvciwgdXNlcm5hbWUpO1xyXG4gICAgJGNvbGxhcHNlLmFwcGVuZChhZGRDb252ZXJzYXRpb25zKGl0ZW0uY29udmVyc2F0aW9ucykpO1xyXG4gICAgLy8gJHthZGRDb252ZXJzYXRpb25zKGl0ZW0uY29udmVyc2F0aW9ucywgaWR4KX1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGZpbGxVc2VyTGlzdCgkbGlzdCwgZGF0YUFycmF5LCBsb2FkTW9yZUNiRnVuY3Rpb24pIHtcclxuICAgIGNvbnN0IGl0ZW1zID0gZGF0YUFycmF5O1xyXG4gICAgY29uc3QgY0xpc3QgPSAkbGlzdDtcclxuICAgIGxldCB0cGwgPSAnJztcclxuICAgIGNvbnN0IGxvYWRNb3JlQm94ID0gKGlkeCwgcHJldl9jdXJzb3IpID0+IGA8ZGl2IGNsYXNzPVwibGlzdC1mb290ZXIgdGV4dC1jZW50ZXIganNfbG9hZC1tb3JlLWJveFwiIGRhdGEtaWR4PVwiJHtpZHh9XCIgZGF0YS1jdXJzb3I9XCIke3ByZXZfY3Vyc29yfVwiPlxyXG4gICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiYnRuIGJ0bi1vdXRsaW5lLXNlY29uZGFyeSBidG4tc20gYnRuLXN1Ym1pdFwiPtCX0LDQs9GA0YPQt9C40YLRjCDQtdGJ0LU8L2J1dHRvbj5cclxuICAgIDwvZGl2PmA7XHJcbiAgICBjTGlzdC5lbXB0eSgpLmFkZENsYXNzKCdib3JkZXItbGlnaHQtY29sb3InKTtcclxuICAgIC8vIHRvZG86IGZpeCBoYXJkLWNvZGUgIGltZyBzcmM9XCJodHRwczovL2kuaW1ndXIuY29tL2pOTlQ0TEUucG5nXCJcclxuICAgIGl0ZW1zLmZvckVhY2goKGl0ZW0sIGlkeCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IHtwYWdpbmF0aW9ufSA9IGl0ZW07XHJcbiAgICAgICAgY29uc29sZS5sb2coaXRlbS5wZW5kaW5nX3JlcXVlc3RzKTtcclxuICAgICAgICB0cGwgKz0gYDxsaSBjbGFzcz1cImxpc3QtZ3JvdXAtaXRlbVwiIGRhdGEtdG9nZ2xlPVwiY29sbGFwc2VcIiBkYXRhLXRhcmdldD1cIiNjb2xsYXBzZS0ke2lkeH1cIiBcclxuICAgICAgICAgICAgICAgIGRhdGEtdXNlcm5hbWU9XCIke2l0ZW0udXNlcm5hbWV9XCJcclxuICAgICAgICAgICAgICAgIGRhdGEtdXNlckF2YXRhcj1cIiR7aXRlbS5wcm9maWxlX3BpY191cmx9XCJcclxuICAgICAgICAgICAgICAgIGFyaWEtZXhwYW5kZWQ9XCJ0cnVlXCIgYXJpYS1jb250cm9scz1cImNvbGxhcHNlLSR7aWR4fVwiPlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29udmVyc2F0aW9uLWhlYWQgbWItMSBtZWRpYSBwYi0yXCIgaWQ9XCJoZWFkaW5nLSR7aWR4fVwiPlxyXG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJtci0zXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGltZyBzcmM9XCIke2l0ZW0ucHJvZmlsZV9waWNfdXJsfVwiIGFsdD1cImF2YXRhclwiXHJcbiAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJtZWRpYS1waG90byByb3VuZGVkLWNpcmNsZVwiPlxyXG4gICAgICAgICAgICAgICAgPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgJHsoaXRlbVsndW5yZWFkX2NvbnZlcnNhdGlvbnMnXSA+IDApID8gYDxzcGFuIGNsYXNzPVwiYmFkZ2UgYmFkZ2Utc2Vjb25kYXJ5IHBvc2l0aW9uLWFic29sdXRlIHAtMlwiPiR7aXRlbVsndW5yZWFkX2NvbnZlcnNhdGlvbnMnXX08L3NwYW4+YCA6ICcnfVxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1lZGlhLWJvZHlcIj5cclxuICAgICAgICAgICAgICAgICAgICA8aDQgY2xhc3M9XCJ0aXRsZVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAke2l0ZW0udXNlcm5hbWV9XHJcbiAgICAgICAgICAgICAgICAgICAgPC9oND5cclxuICAgICAgICAgICAgICAgICAgICAkeyhpdGVtLnBlbmRpbmdfcmVxdWVzdHMpID8gYDxwIGNsYXNzPVwianNfc2hvdy1yZXF1ZXN0LWJveCBidG4gYnRuLW91dGxpbmUtZGFyayBidG4tc21cIj4ke2l0ZW0ucGVuZGluZ19yZXF1ZXN0c30g0LfQsNC/0YDQvtGBJHsoaXRlbS5wZW5kaW5nX3JlcXVlc3RzID4gMSkgPyAnYScgOiAnJ308L3A+YCA6ICcnfVxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8ZGl2IGlkPVwiY29sbGFwc2UtJHtpZHh9XCIgY2xhc3M9XCJjb2xsYXBzZVwiIGFyaWEtbGFiZWxsZWRieT1cImhlYWRpbmctJHtpZHh9XCIgZGF0YS1wYXJlbnQ9XCIjYWNjb3JkaW9uXCI+XHJcbiAgICAgICAgICAgICAgICAke2FkZENvbnZlcnNhdGlvbnMoaXRlbS5jb252ZXJzYXRpb25zKX1cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICR7KHBhZ2luYXRpb24gJiYgcGFnaW5hdGlvbi5wcmV2X2N1cnNvcikgPyBsb2FkTW9yZUJveChpZHgsIHBhZ2luYXRpb24ucHJldl9jdXJzb3IpIDogJyd9XHJcbiAgICAgICAgPC9saT5gO1xyXG4gICAgfSk7XHJcbiAgICAkKHRwbCkuYXBwZW5kVG8oY0xpc3QpO1xyXG4gICAgJCgnLmpzX2xvYWQtbW9yZS1ib3ggYnV0dG9uJykub24oJ2NsaWNrJywgKGUpID0+IHtcclxuICAgICAgICBjb25zdCAkYnRuID0gJChlLnRhcmdldCk7XHJcbiAgICAgICAgY29uc3QgJGJ0bkJveCA9ICRidG4uY2xvc2VzdCgnLmpzX2xvYWQtbW9yZS1ib3gnKTtcclxuICAgICAgICBjb25zdCBzZWN0aW9uID0gJGJ0bkJveC5kYXRhKCdpZHgnKTtcclxuICAgICAgICBjb25zdCBjdXJzb3IgPSAkYnRuQm94LmRhdGEoJ2N1cnNvcicpO1xyXG4gICAgICAgIGNvbnN0IHVzZXJuYW1lID0gJGJ0bkJveC5jbG9zZXN0KCdsaScpLmRhdGEoJ3VzZXJuYW1lJyk7XHJcblxyXG4gICAgICAgIGNvbnNvbGUubG9nKCdjbGljaycsIHNlY3Rpb24sIGN1cnNvcik7XHJcbiAgICAgICAgbG9hZE1vcmVDYkZ1bmN0aW9uKGN1cnNvciwgc2VjdGlvbiwgdXNlcm5hbWUpO1xyXG4gICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICB9KTtcclxuICAgICQoJy5qc19zaG93LXJlcXVlc3QtYm94Jykub24oJ2NsaWNrJywgKGUpID0+IHtcclxuICAgICAgICAkKGUudGFyZ2V0KS5jbG9zZXN0KCcudXNlci1saXN0LWJveCcpLmFkZENsYXNzKCd1c2VyLWxpc3QtYm94LS1oaWRlJyk7XHJcbiAgICAgICAgJCgnLnVzZXItcmVxdWVzdHMtYm94JykuYWRkQ2xhc3MoJ3VzZXItcmVxdWVzdHMtYm94LS1zaG93Jyk7XHJcbiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5leHBvcnQgY29uc3QgbWVzc2FnZUFyZWFIZW5kbGVyID0gKCR0ZXh0QXJlYSwgJHNlbmRNZXNzYWdlQnV0dG9uKSA9PiB7XHJcbiAgICAkdGV4dEFyZWEub24oJ2tleWRvd24nLCAoZSkgPT4ge1xyXG4gICAgICAgIGlmIChlLmtleUNvZGUgPT09IDEzKSB7XHJcbiAgICAgICAgICAgIGlmIChlLmN0cmxLZXkpIHtcclxuICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdjdHJsK2VudGVyJyk7XHJcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICAgICBlLnRhcmdldC52YWx1ZSArPSAnXFxuJztcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGlmIChlLnRhcmdldC52YWx1ZS50cmltKCkubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgJHNlbmRNZXNzYWdlQnV0dG9uLnRyaWdnZXIoJ2NsaWNrJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9KTtcclxufTtcclxuXHJcbi8vIGV4cG9ydCBjb25zdCBhZGRNb3JlVXNlcnNBY2NvcmRpb24gPSAoY29udmVyc2F0aW9ucywgY29udmVyc2F0aW9uVG9BZGQpID0+IHtcclxuICAgIC8vIGNvbnN0ICRidG5Nb3JlQm94ID0gJCgnI2xvYWQtbW9yZS1ib3gnKTtcclxuICAgIC8vIGNvbnN0ICRidG5Nb3JlID0gJCgnYnV0dG9uJywgJGJ0bk1vcmVCb3gpO1xyXG4gICAgLy8gJGJ0bk1vcmVCb3guc2hvdygpO1xyXG4gICAgLy8gY29uc29sZS5sb2coJ3N0YXJ0IGFkZCBwYWdpbmF0aW9uIHRvIGFjY29yZGlvaW4nLCBjb252ZXJzYXRpb25Ub0FkZCk7XHJcbiAgICAvLyBjb252ZXJzYXRpb25zLmZvckVhY2goKGl0ZW0sIGlkeCkgPT4ge1xyXG4gICAgLy8gICAgIGlmIChpdGVtLnBhZ2luYXRpb24gJiYgaXRlbS5wYWdpbmF0aW9uLnByZXZfY3Vyc29yKSB7XHJcbiAgICAvLyAgICAgICAgIGNvbnNvbGUubG9nKCdjb252ZXJzYXRpb24gLSA+JywgaXRlbS5wYWdpbmF0aW9uKTtcclxuICAgIC8vICAgICAgICAgJGJ0bk1vcmUub24oJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgLy8gICAgICAgICAgICAgY29uc29sZS5sb2coJ2NsaWNrIC0gPicsIGl0ZW0ucGFnaW5hdGlvbik7XHJcbiAgICAvLyAgICAgICAgICAgICBjb25zdCBkZXRhaWxzID0ge1xyXG4gICAgLy8gICAgICAgICAgICAgICAgIHVzZXJuYW1lOiAnJyxcclxuICAgIC8vICAgICAgICAgICAgICAgICBjdXJzb3I6IGl0ZW0ucGFnaW5hdGlvbi5wcmV2X2N1cnNvclxyXG4gICAgLy8gICAgICAgICAgICAgfTtcclxuICAgIC8vICAgICAgICAgICAgIFVzZXJDb252ZXJzYXRpb24uZ2V0TWV0YWRhdGFEZXRhaWxVc2VycyhkZXRhaWxzKS50aGVuKChyZXN1bHQpID0+IHtcclxuICAgIC8vICAgICAgICAgICAgICAgICBpZiAoIXJlc3VsdC5kYXRhKSB7XHJcbiAgICAvLyAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgIC8vICAgICAgICAgICAgICAgICB9XHJcbiAgICAvLyAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJyoqZ2V0TWV0YWRhdGFEZXRhaWxVc2VycyoqIHJlc3VsdCAtID4nLCByZXN1bHQpO1xyXG4gICAgLy8gICAgICAgICAgICAgfSk7XHJcbiAgICAvLyAgICAgICAgIH0pO1xyXG4gICAgLy8gICAgIH1cclxuICAgIC8vIH0pO1xyXG4vLyB9O1xyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvYmxvY2tzL21lc3NhZ2VzL3V0aWxzLmpzIiwiLy8gaW1wb3J0ICQgZnJvbSAnanF1ZXJ5JztcclxuaW1wb3J0IFB1YlN1YiBmcm9tICdwdWJzdWItanMnOyAvLyBodHRwczovL3d3dy5ucG1qcy5jb20vcGFja2FnZS9wdWJzdWItanNcclxuaW1wb3J0IFVzZXIgZnJvbSAnLi4vLi4vY29tbW9uL2pzLXNlcnZpY2VzL3VzZXInO1xyXG5pbXBvcnQgY29va2llU3RvcmFnZSBmcm9tICcuLi8uLi9jb21tb24vanMtc2VydmljZXMvY29va2llJztcclxuaW1wb3J0IHtDT05TVH0gZnJvbSAnLi4vLi4vY29tbW9uL2pzLXNlcnZpY2VzL2NvbnN0cyc7XHJcbmltcG9ydCB2aWV3VXRpbHMgZnJvbSAnLi4vLi4vY29tbW9uL2pzLXNlcnZpY2VzL3ZpZXcnO1xyXG5cclxuY29uc3Qgc2VsZWN0b3JDbHMgPSB7XHJcbiAgICBmb3JtOiAnLmF1dGgucmVnaXN0ZXIgLmZvcm0tc2lnbmluJyxcclxuICAgIHN1Ym1pdEJ0bjogJ1t0eXBlPVwic3VibWl0XCJdJ1xyXG59O1xyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBSZWdpc3RlckZvcm0ge1xyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy51c2VyID0gVXNlcjtcclxuICAgICAgICB0aGlzLiRmb3JtID0gJChzZWxlY3RvckNscy5mb3JtKTtcclxuICAgICAgICB0aGlzLiRlbWFpbCA9IHRoaXMuJGZvcm0uZmluZCgnaW5wdXRbbmFtZT1cIm1haWxcIl0nKTtcclxuICAgICAgICB0aGlzLiR0ZXh0QXJlYURlc2NyaXB0aW9uID0gJCgnLnJlZ2lzdGVyLS1jb25maXJtJyk7XHJcbiAgICAgICAgdGhpcy5mb3JtRGF0YSA9IHsnZW1haWwnOiAndGVzdDFfZW1haWxAbS5ydScsICdwYXNzd29yZCc6ICdwYXNzd29yZCd9O1xyXG4gICAgfVxyXG5cclxuICAgIGluaXQoKSB7XHJcbiAgICAgICAgaWYgKCQoJy5hdXRoLnJlZ2lzdGVyJykubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIHRoaXMuYmluZEV2ZW50cygpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBzdWJtaXRGb3JtKGZvcm1EYXRhT2JqKSB7XHJcbiAgICAgICAgY29uc3QgZW1haWwgPSB0aGlzLiRlbWFpbC52YWwoKTtcclxuICAgICAgICBjb25zdCBib3JkZXJEYW5nZXJDbHMgPSAnYm9yZGVyLWRhbmdlcic7XHJcbiAgICAgICAgY29uc3QgJHBhc3N3b3JkID0gdGhpcy4kZm9ybS5maW5kKCdpbnB1dFtuYW1lPVwicGFzc1wiXScpLFxyXG4gICAgICAgICAgICAkcGFzc3dvcmRDb25maXJtID0gdGhpcy4kZm9ybS5maW5kKCdpbnB1dFtuYW1lPVwicGFzcy1jb25maXJtXCJdJyksXHJcbiAgICAgICAgICAgIHBhc3N3b3JkID0gdGhpcy4kZm9ybS5maW5kKCdpbnB1dFtuYW1lPVwicGFzc1wiXScpLnZhbCgpLFxyXG4gICAgICAgICAgICBwYXNzd29yZENvbmZpcm0gPSB0aGlzLiRmb3JtLmZpbmQoJ2lucHV0W25hbWU9XCJwYXNzLWNvbmZpcm1cIl0nKS52YWwoKTtcclxuXHJcbiAgICAgICAgLy8gSGlnaGxpZ2h0IGVycm9yc1xyXG4gICAgICAgIGlmIChwYXNzd29yZENvbmZpcm0gIT09IHBhc3N3b3JkKSB7XHJcbiAgICAgICAgICAgICRwYXNzd29yZC5hZGRDbGFzcyhib3JkZXJEYW5nZXJDbHMpO1xyXG4gICAgICAgICAgICAkcGFzc3dvcmRDb25maXJtLmFkZENsYXNzKGJvcmRlckRhbmdlckNscyk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAkcGFzc3dvcmQucmVtb3ZlQ2xhc3MoYm9yZGVyRGFuZ2VyQ2xzKTtcclxuICAgICAgICAgICAgJHBhc3N3b3JkQ29uZmlybS5yZW1vdmVDbGFzcyhib3JkZXJEYW5nZXJDbHMpO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLiRlbWFpbC52YWwodGhpcy4kZW1haWwudmFsKCkudG9Mb2NhbGVMb3dlckNhc2UoKSk7XHJcbiAgICAgICAgdGhpcy5mb3JtRGF0YSA9IGZvcm1EYXRhT2JqIHx8IHtlbWFpbCwgcGFzc3dvcmR9O1xyXG5cclxuICAgICAgICB0aGlzLnVzZXIucmVnaXN0ZXIodGhpcy5mb3JtRGF0YSlcclxuICAgICAgICAgICAgLnRoZW4oKHJlc3VsdCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdC5kYXRhICYmIHJlc3VsdC5kYXRhLnRva2VuKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgIC8vIHNhdmUgdGhlIGl0ZW1cclxuICAgICAgICAgICAgICAgICAgICBjb29raWVTdG9yYWdlLnNldChDT05TVC5jb29raWVTdG9yYWdlLmVtYWlsQ29uZmlybWVkLCAnZmFsc2UnKTtcclxuICAgICAgICAgICAgICAgICAgICBjb29raWVTdG9yYWdlLnNldChDT05TVC5jb29raWVTdG9yYWdlLnRva2VuLCByZXN1bHQuZGF0YS50b2tlbik7XHJcbiAgICAgICAgICAgICAgICAgICAgUHViU3ViLnB1Ymxpc2goQ09OU1QuZXZlbnRzLlVTRVJfTE9HR0VEKTtcclxuICAgICAgICAgICAgICAgICAgICAvLyB2aWV3VXRpbHMuc2hvd0luZm9NZXNzYWdlKHRoaXMuJHRleHRBcmVhRGVzY3JpcHRpb24sXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgIHJlc3VsdC5zdGF0dXMuc3RhdGUsXHJcbiAgICAgICAgICAgICAgICAgICAgLy8gICAgIHJlc3VsdC5zdGF0dXMubWVzc2FnZSB8fCAnUmVnaXN0ZXIgYW5kIExvZ2luIHN1Y2NzZXNzJyk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIHZpZXdVdGlscy5zaG93SW5mb01lc3NhZ2UodGhpcy4kdGV4dEFyZWFEZXNjcmlwdGlvbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnN0YXR1cy5zdGF0ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnN0YXR1cy5tZXNzYWdlIHx8ICdubyByZXN1bHQuZGF0YSBmb3VuZCcpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KS50aGVuKChyZXN1bHQpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChyZXN1bHQgJiYgcmVzdWx0LnN0YXR1cykge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3VsdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmlld1V0aWxzLnNob3dJbmZvTWVzc2FnZSh0aGlzLiR0ZXh0QXJlYURlc2NyaXB0aW9uLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQuc3RhdHVzLnN0YXRlKTtcclxuICAgICAgICAgICAgICAgICAgICAkKCcubG9naW4tYm94Jykuc2hvdygpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KS5jYXRjaCgoZXJyb3IpID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IG1vZGFsID0gJCgnI3JlZ2lzdGVyLWVycm9yLW1vZGFsJyk7XHJcbiAgICAgICAgICAgICAgICBtb2RhbC5tb2RhbCgnc2hvdycpO1xyXG5cclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdyZXF1ZXN0IGZhaWxlZCcsIGVycm9yKTtcclxuICAgICAgICAgICAgICAgIC8vIHZpZXdVdGlscy5zaG93SW5mb01lc3NhZ2UodGhpcy4kdGV4dEFyZWFEZXNjcmlwdGlvbixcclxuICAgICAgICAgICAgICAgIC8vICAgICBlcnJvci5tZXNzYWdlKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgYmluZEV2ZW50cygpIHtcclxuICAgICAgICBjb25zdCByZWdpc3RlckJveCA9IENPTlNULnVpU2VsZWN0b3JzLmhlYWRlclJlZ0JveDsgLy8gJ25hdiAucmVnaXN0ZXItYm94JztcclxuICAgICAgICBjb25zdCBvcGVuZWRDbGFzcyA9ICdkLWJsb2NrJztcclxuICAgICAgICBjb25zdCBjbG9zZUNsYXNzID0gJ2Qtbm9uZSc7XHJcbiAgICAgICAgY29uc3QgJGJ0biA9ICQoc2VsZWN0b3JDbHMuc3VibWl0QnRuKSxcclxuICAgICAgICAgICAgY3NzVmFsaWRhdGlvbkNsYXNzID0gJ2Zvcm0tdmFsaWRhdGlvbic7XHJcblxyXG4gICAgICAgICRidG4ub24oJ2NsaWNrJywgKGUpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgZm9ybSA9IHRoaXMuJGZvcm0uZ2V0KDApO1xyXG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcblxyXG4gICAgICAgICAgICBpZiAoISRidG4uaXMoJzpkaXNhYmxlZCcpKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZm9ybS5jaGVja1ZhbGlkaXR5KCkpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyAkYnRuLmF0dHIoJ2Rpc2FibGVkJywgdHJ1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zdWJtaXRGb3JtKCk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIEhpZ2hsaWdodCBlcnJvcnNcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZm9ybS5yZXBvcnRWYWxpZGl0eSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3JtLnJlcG9ydFZhbGlkaXR5KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuJGZvcm0uYWRkQ2xhc3MoY3NzVmFsaWRhdGlvbkNsYXNzKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBQdWJTdWIuc3Vic2NyaWJlKENPTlNULmV2ZW50cy5VU0VSX0xPR0dFRCwgKCkgPT4ge1xyXG4gICAgICAgICAgICAvLyAkKCcucmVnaXN0ZXItLWNvbmZpcm0nKS5yZW1vdmVDbGFzcygnZC1ub25lJyk7XHJcbiAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gJy4vcmVnaXN0cmF0aW9uLXN1Y2Nlc3MuaHRtbCc7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICQoZG9jdW1lbnQpLm9uKCdjbGljaycsIChldmVudCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBpc1JlZ0J0bkNsaWNrID0gJChldmVudC50YXJnZXQpLmNsb3Nlc3QoJ25hdi5uYXZiYXInKS5maW5kKCcucmVnaXN0ZXItYm94JykubGVuZ3RoO1xyXG5cclxuICAgICAgICAgICAgaWYgKCFpc1JlZ0J0bkNsaWNrICYmICQocmVnaXN0ZXJCb3gpLmhhc0NsYXNzKG9wZW5lZENsYXNzKSkge1xyXG4gICAgICAgICAgICAgICAgJChyZWdpc3RlckJveCkuYWRkQ2xhc3MoY2xvc2VDbGFzcykucmVtb3ZlQ2xhc3Mob3BlbmVkQ2xhc3MpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2Jsb2Nrcy9yZWdpc3Rlci1mb3JtL3JlZ2lzdGVyLWZvcm0uanMiLCJcclxuLyoqXHJcbiAqIEluaXQgTWVudVxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGluaXRNZW51KCkge1xyXG4gICAgY29uc3QgdXJsVG9DaGVjayA9IFtcclxuICAgICAgICAnaW5zdGFncmFtLWFjY291bnRzJyxcclxuICAgICAgICAnYXV0b21lc3NhZ2VzJyxcclxuICAgICAgICAnc3RvcmllcycsXHJcbiAgICAgICAgJ2F1dG9ncmVldGluZycsXHJcbiAgICAgICAgJ2F1dG9jb21tZW50cycsXHJcbiAgICAgICAgJ2ZvbGxvdycsXHJcbiAgICAgICAgJ3VuZm9sbG93JyxcclxuICAgICAgICAnbWVzc2FnZXMnLFxyXG4gICAgICAgICdjaGF0LWJvdCdcclxuICAgIF07XHJcbiAgICBjb25zdCBwYXRoTmFtZSA9IHdpbmRvdy5sb2NhdGlvbi5wYXRobmFtZTtcclxuICAgIHVybFRvQ2hlY2suZm9yRWFjaChpdGVtID0+IHtcclxuICAgICAgICBjb25zdCBpc0FjdGl2ZVVybCA9IChwYXRoTmFtZSA9PT0gYC9pbnN0YWdyYW0taW50ZWdyYXRpb24vJHtpdGVtfS5odG1sYCB8fCBwYXRoTmFtZSA9PT0gYC8ke2l0ZW19Lmh0bWxgKTtcclxuICAgICAgICBpZiAoaXNBY3RpdmVVcmwpIHtcclxuICAgICAgICAgICAgJChgbmF2LmFzaWRlLWJ1cmdlci1tZW51IGFbaHJlZio9XCIvJHtpdGVtfVwiXWApXHJcbiAgICAgICAgICAgICAgICAuYWRkQ2xhc3MoJ3RleHQtaW5mbycpXHJcbiAgICAgICAgICAgICAgICAucmVtb3ZlQ2xhc3MoJ3RleHQtbGlnaHQnKTtcclxuICAgICAgICAgICAgLy8gY29uc29sZS5pbmZvKCdpdGVtIGZvdW5kJywgaXRlbSwgYWN0aXZlTWVudUl0ZW0pO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG59XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9ibG9ja3Mvc2lkZWJhci1tZW51L3NpZGViYXItbWVudS5qcyIsImltcG9ydCB7Q09OU1R9IGZyb20gJy4uLy4uL2NvbW1vbi9qcy1zZXJ2aWNlcy9jb25zdHMnO1xyXG5pbXBvcnQgVXNlclRhc2tNYW5hZ2VyIGZyb20gJy4uLy4uL2NvbW1vbi9qcy1zZXJ2aWNlcy9hcGktdGFzay1tYW5hZ2VyJztcclxuaW1wb3J0IHZpZXdVdGlscyBmcm9tICcuLi8uLi9jb21tb24vanMtc2VydmljZXMvdmlldyc7XHJcbmltcG9ydCAqIGFzIHdpemFyZEZvcm0gZnJvbSAnLi4vLi4vYmxvY2tzL3dpemFyZC1mb3JtL3dpemFyZC1mb3JtJztcclxuaW1wb3J0ICogYXMgc3Rvcmllc1N0YXR1cyBmcm9tICcuL3N0b3JpZXMtc3RhdHVzJztcclxuaW1wb3J0IHtpbml0TG9nc1RhYn0gZnJvbSAnLi4vX3NoYXJlZC9sb2dzL2xvZ3MtdGFicyc7XHJcbmltcG9ydCB7YXR0YWNoVHh0RmlsZUhhbmRsZXJ9IGZyb20gJy4uL2ZvbGxvdy9mb2xsb3ctcmVhZC1maWxlLXR4dCc7XHJcbmltcG9ydCB7LyogaW5pdFRhZ3NJbnB1dCwgKi9uZXh0QnRudmFsaWRhdGVDb21wZXRpdG9yc0hhbmRsZXJ9IGZyb20gJy4uL19zaGFyZWQvdGFncy1pbnB1dC90YWdzLWlucHV0JztcclxuXHJcbmNvbnN0IHtnZXRWYWxCeUNvbW1hU2VwYXJhdG9yLCBmaWxsUmFkaW9Hcm91cExpc3R9ID0gdmlld1V0aWxzO1xyXG5sZXQgdXNlcm5hbWVTZWxlY3RlZCA9ICcnO1xyXG5jb25zdCBsb2dzU3RhdGUgPSBDT05TVC5sb2dzU3RhdGU7XHJcbmNvbnN0IGNsc0NvbnN0ID0ge1xyXG4gICAgY3VycmVudFBhZ2VDbHM6ICcuc3Rvcmllcy1wYWdlJyxcclxuICAgIHRhc2tzTGlzdDogJy5sb2ctdGFza3MnLFxyXG4gICAgbG9nc1RhYkJ0bjogJyN2LXBpbGxzLWxvZ3MtdGFiJyxcclxuICAgIHBhZ2luYXRpb246ICcubG9ncy1wYWdpbmF0aW9uJyxcclxuICAgIHBhZ2luYXRpb25QZ051bWJlcjogJy5wYWdlLW51bWJlcicsXHJcbiAgICBwYXRoVHlwZTogQ09OU1QudXJsLnRtVHlwZXMuc3Rvcmllc1QsXHJcbiAgICBwYXRoU3ViVHlwZTogQ09OU1QudXJsLnRtVHlwZXMuc3Rvcmllc1N1YlRbMF1cclxufTtcclxuY29uc3QgZWxTZWxlY3RvciA9IHtcclxuICAgIHdpemFyZEZvcm06ICcud2l6YXJkLWZvcm0nLFxyXG4gICAgd2l6YXJkRm9ybU5hbWU6ICd3aXphcmQtZm9ybScsXHJcbiAgICBmaWVsZHM6ICcuYXV0b21lc3NhZ2VzLXRleHQtZmllbGRzJyxcclxuICAgIHRhc2tNb2RlOiAnLmpzX3Rhc2stbW9kZScsXHJcbiAgICBjb21wZXRpdG9yczogJy5qc19zdG9yaWVzLWNvbXBldGl0b3JzIGlucHV0W2RhdGEtcm9sZT1cInRhZ3NpbnB1dFwiXSdcclxufTtcclxuY29uc3Qgc3RhdGUgPSB7XHJcbiAgICBzdWJ0eXBlOiBDT05TVC51cmwudG1UeXBlcy5zdG9yaWVzU3ViVFswXSxcclxuICAgIHVzZXJfZGVmYXVsdF9jb25maWc6IHtcclxuICAgICAgICB0YXNrX21vZGU6ICdTQUZFJ1xyXG4gICAgfVxyXG59O1xyXG5cclxuZnVuY3Rpb24gb25TdWJtaXRIYW5kbGVyKGUpIHtcclxuICAgIGNvbnN0IHt3aXphcmRGb3JtTmFtZX0gPSBlbFNlbGVjdG9yO1xyXG4gICAgY29uc3QgZm9ybSA9IGRvY3VtZW50LmZvcm1zW3dpemFyZEZvcm1OYW1lXTtcclxuICAgIGNvbnN0IGxpbWl0ID0gZm9ybVsnbGltaXQnXTtcclxuXHJcbiAgICBpZiAobGltaXQudmFsdWUgPT09ICcnKSB7XHJcbiAgICAgICAgbGltaXQuZm9jdXMoKTtcclxuICAgICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgYm9keSA9IHtcclxuICAgICAgICAuLi5zdGF0ZSxcclxuICAgICAgICB1c2VyX2RlZmF1bHRfY29uZmlnOiB7XHJcbiAgICAgICAgICAgIC4uLnN0YXRlLnVzZXJfZGVmYXVsdF9jb25maWcsXHJcbiAgICAgICAgICAgIGNyaXRlcmlhOiB7XHJcbiAgICAgICAgICAgICAgICBtYXhfdmlld3M6IGxpbWl0LnZhbHVlXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LFxyXG4gICAgICAgIHVzZXJfY3VzdG9tX2NvbmZpZzoge30sXHJcbiAgICAgICAgdHlwZTogY2xzQ29uc3QucGF0aFR5cGUsXHJcbiAgICAgICAgdXNlcm5hbWU6IHVzZXJuYW1lU2VsZWN0ZWRcclxuICAgIH07XHJcblxyXG4gICAgaWYgKGJvZHkuc3VidHlwZSA9PT0gQ09OU1QudXJsLnRtVHlwZXMuc3Rvcmllc1N1YlRbMl0pIHtcclxuICAgICAgICBjb25zdCBjb21wZXRpdG9ycyA9IGdldFZhbEJ5Q29tbWFTZXBhcmF0b3IoJChmb3JtKS5maW5kKGVsU2VsZWN0b3IuY29tcGV0aXRvcnMpKTtcclxuICAgICAgICBib2R5LnVzZXJfY3VzdG9tX2NvbmZpZyA9IHtcclxuICAgICAgICAgICAgY29tcGV0aXRvcnNcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG4gICAgaWYgKGJvZHkuc3VidHlwZSA9PT0gQ09OU1QudXJsLnRtVHlwZXMuc3Rvcmllc1N1YlRbMF0pIHtcclxuICAgICAgICAvLyB0ZXh0IGZpbGUgc2hvdWxkIGJlIGFkZGVkXHJcbiAgICAgICAgYm9keVsndXNlcl9jdXN0b21fY29uZmlnJ10uYXR0YWNobWVudCA9IHtcclxuICAgICAgICAgICAgJ2xpc3RfaWQnOiAkKCcuc3Rvcmllc19fZmlsZS11cGxvYWQtYm94IC5maWxlLXVwbG9hZC1jb250YWluZXInKS5hdHRyKCdhdHRhY2hlZC10eHQtaWQnKVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgZGVsZXRlIGJvZHkudXNlcl9kZWZhdWx0X2NvbmZpZy5jcml0ZXJpYS5tYXhfdmlld3M7XHJcbiAgICB9XHJcblxyXG4gICAgJChmb3JtKS5maW5kKCdpbnB1dFt0eXBlPVwidGV4dFwiXSxpbnB1dFt0eXBlPVwibnVtYmVyXCJdLGlucHV0W3R5cGU9XCJlbWFpbFwiXScpLmVhY2goZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmICgkKHRoaXMpLnZhbCgpID09PSAnJykge1xyXG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICQodGhpcykuYWRkQ2xhc3MoJ2lucHV0LWVycm9yJyk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgJCh0aGlzKS5yZW1vdmVDbGFzcygnaW5wdXQtZXJyb3InKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICBjb25zb2xlLmxvZygnb25TdWJtaXRIYW5kbGVyICoqcmVxdWVzdCoqICBwb3N0OiBTdGFydEZvbGxvd2luZ0xpc3QnLCBib2R5KTtcclxuXHJcbiAgICBmdW5jdGlvbiBjYkVycm9yKHJlcykge1xyXG4gICAgICAgIGNvbnN0IG1zZyA9IHJlcy5zdGF0dXMubWVzc2FnZTtcclxuICAgICAgICAkKCcuZm9ybS1zdWJtaXQtZmluaXNoLS1lcnJvcicpLmFkZENsYXNzKCdkLWJsb2NrJylcclxuICAgICAgICAuZmluZCgnLmFsZXJ0JykuYXBwZW5kKGA8cD4ke21zZ308L3A+YCk7XHJcbiAgICB9XHJcblxyXG4gICAgVXNlclRhc2tNYW5hZ2VyLnBvc3RTdGFydEZvbGxvd2luZ0xpc3QoYm9keSwgY2JFcnJvcikudGhlbigocmVzdWx0KSA9PiB7XHJcbiAgICAgICAgaWYgKHJlc3VsdC5zdGF0dXMuc3RhdGUgPT09ICdvaycpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coSlNPTi5zdHJpbmdpZnkocmVzdWx0KSk7XHJcbiAgICAgICAgICAgICQoJy5mb3JtLXN1Ym1pdC1maW5pc2gnKS5maW5kKCcuYWxlcnQgcCcpLnJlbW92ZSgpO1xyXG4gICAgICAgICAgICAkKCcuZm9ybS1zdWJtaXQtZmluaXNoJykuYWRkQ2xhc3MoJ2QtYmxvY2snKVxyXG4gICAgICAgICAgICAgICAgLmZpbmQoJy5hbGVydCcpLmFwcGVuZChgPHA+dGFza19pZDogJHtyZXN1bHQuZGF0YS50YXNrX2lkfTwvcD5gKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gc2V0VXNlck5hbWVDYihfdXNlcm5hbWVTZWxlY3RlZCkge1xyXG4gICAgdXNlcm5hbWVTZWxlY3RlZCA9IF91c2VybmFtZVNlbGVjdGVkO1xyXG59XHJcblxyXG5mdW5jdGlvbiBzZXRVc2VyTmFtZUZpcnN0U3RlcChzdGF0ZSkge1xyXG4gICAgdXNlcm5hbWVTZWxlY3RlZCA9IHN0YXRlLnVzZXJuYW1lO1xyXG59XHJcblxyXG4vLyB0b2RvOiByZWZhY3RvciB3aXRoIGZvbGxvdy5qcyAtLSAnbmV4dEJ0bnZhbGlkYXRlQ29tcGV0aXRvcnNIYW5kbGVyKCknXHJcbmNvbnN0IGNvbnRhaW5lckNscyA9ICcuanNfYWRkLXNldHRpbmdzLXN0ZXAtNCc7XHJcbmNvbnN0ICRjb250YWluZXIgPSAkKGNvbnRhaW5lckNscyk7XHJcbmNvbnN0ICRjb21wZXRpdG9yc1RleHRBcmVhID0gJGNvbnRhaW5lci5maW5kKCdpbnB1dFtkYXRhLXJvbGU9XCJ0YWdzaW5wdXRcIl0nKTtcclxuY29uc3QgbmV4dFN0ZXBCdG4gPSAkY29udGFpbmVyLmZpbmQoJy5qc19zdG9yaWVzLWNvbXBldGl0b3JzLWJ0bicpO1xyXG5cclxuLyoqXHJcbiAqIEluaXQgSGFuZGxlcnNcclxuICovXHJcbmZ1bmN0aW9uIGluaXRIYW5kbGVycygpIHtcclxuXHJcbiAgICBhdHRhY2hUeHRGaWxlSGFuZGxlcignLmZpbGUtdXBsb2FkLWNvbnRhaW5lcicpO1xyXG4gICAgbmV4dEJ0bnZhbGlkYXRlQ29tcGV0aXRvcnNIYW5kbGVyKCRjb21wZXRpdG9yc1RleHRBcmVhLCBuZXh0U3RlcEJ0bik7XHJcblxyXG4gICAgLy8gcmFkaW8tZ3JvdXAgc3RlcCAyXHJcbiAgICAkKCcuanNfZ2V0LXN0b3JpZXMtdHlwZSBpbnB1dFt0eXBlPXJhZGlvXScpLm9uKCdjbGljaycsIChlKSA9PiB7XHJcbiAgICAgICAgY29uc3QgdmFsdWUgPSAkKGUudGFyZ2V0KS5hdHRyKCd2YWx1ZScpO1xyXG4gICAgICAgIHN0YXRlLnN1YnR5cGUgPSB2YWx1ZS50b1VwcGVyQ2FzZSgpO1xyXG4gICAgICAgIGlmIChzdGF0ZS5zdWJ0eXBlID09PSBDT05TVC51cmwudG1UeXBlcy5zdG9yaWVzU3ViVFsxXSkge1xyXG4gICAgICAgICAgICBuZXh0U3RlcEJ0bi5yZW1vdmVBdHRyKCdkaXNhYmxlZCcsICdkaXNhYmxlZCcpOyAvLyBlbmFibGUgYnV0dG9uICfQl9Cw0L/Rg9GB0YLQuNGC0YwnXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgbmV4dFN0ZXBCdG4uYXR0cignZGlzYWJsZWQnLCAnZGlzYWJsZWQnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc29sZS5sb2coc3RhdGUpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gYWxlcnQgY2xvc2VcclxuICAgICQoJy5mb3JtLXN1Ym1pdC1maW5pc2ggLmNsb3NlJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCdhbGVydCBjbG9zZScpO1xyXG4gICAgICAgICQoJyN2LXBpbGxzLWFsbC10YWInKS50cmlnZ2VyKCdjbGljaycpO1xyXG4gICAgICAgIHdpbmRvdy5QdWJTdWIucHVibGlzaChDT05TVC5ldmVudHMudGFza3MuTkVXX1RBU0tfQ1JFQVRFRCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBhbGVydCBlcnJvciBjbG9zZVxyXG4gICAgJCgnLmZvcm0tc3VibWl0LWZpbmlzaC0tZXJyb3IgLmNsb3NlJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCdhbGVydCBjbG9zZScpO1xyXG4gICAgICAgICQoJyN2LXBpbGxzLWFsbC10YWInKS50cmlnZ2VyKCdjbGljaycpO1xyXG4gICAgICAgIHdpbmRvdy5QdWJTdWIucHVibGlzaChDT05TVC5ldmVudHMudGFza3MuTkVXX1RBU0tfQ1JFQVRFRCk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gcmVuZGVyVGFza01vZGUoZGVmYXVsdENmZykge1xyXG4gICAgY29uc3Qge2NmZzoge3Rhc2tfbW9kZXN9fSA9IGRlZmF1bHRDZmc7XHJcbiAgICBjb25zdCB7dGFza01vZGU6IHRhc2tNb2RlU2VsZWN0b3J9ID0gZWxTZWxlY3RvcjtcclxuXHJcbiAgICBmaWxsUmFkaW9Hcm91cExpc3QoJCh0YXNrTW9kZVNlbGVjdG9yKSwgdGFza19tb2RlcywgJ9C/0YDQvtGB0LzQvtGC0YDQvtCyJyk7XHJcblxyXG4gICAgJChgJHt0YXNrTW9kZVNlbGVjdG9yfSBpbnB1dFt0eXBlPXJhZGlvXWApLm9uKCdjbGljaycsIChlKSA9PiB7XHJcbiAgICAgICAgY29uc3QgdmFsdWUgPSAkKGUudGFyZ2V0KS5hdHRyKCd2YWx1ZScpO1xyXG4gICAgICAgIHN0YXRlLnVzZXJfZGVmYXVsdF9jb25maWcudGFza19tb2RlID0gdmFsdWUudG9VcHBlckNhc2UoKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBnZXRDb25maWcoKSB7XHJcbiAgICBjb25zdCBwYXRoID0ge1xyXG4gICAgICAgIHR5cGU6IGNsc0NvbnN0LnBhdGhUeXBlLFxyXG4gICAgICAgIHN1YnR5cGU6IHN0YXRlLnN1YnR5cGVcclxuICAgIH07XHJcbiAgICBjb25zdCBjYkVycm9yID0gZnVuY3Rpb24ocmVzKSB7XHJcbiAgICAgICAgY29uc3QgbXNnID0gcmVzLnN0YXR1cy5tZXNzYWdlO1xyXG4gICAgICAgICQoJy5mb3JtLXN1Ym1pdC1maW5pc2gtLWVycm9yJykuYWRkQ2xhc3MoJ2QtYmxvY2snKVxyXG4gICAgICAuZmluZCgnLmFsZXJ0JykuYXBwZW5kKGA8cD4ke21zZ308L3A+YCk7XHJcbiAgICB9O1xyXG5cclxuICAgIFVzZXJUYXNrTWFuYWdlci5nZXRTdG9yaWVzQ29uZmlnKHBhdGgsIGNiRXJyb3IpLnRoZW4oKHJlc3VsdCkgPT4ge1xyXG4gICAgICAgIGlmIChyZXN1bHQuc3RhdHVzLnN0YXRlICE9PSAnb2snKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3Qge1xyXG4gICAgICAgICAgICBkYXRhOiB7XHJcbiAgICAgICAgICAgICAgICBmb3VuZFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSA9IHJlc3VsdDtcclxuICAgICAgICBjb25zdCBsaW1pdFZhbCA9IGZvdW5kLmNmZy5jcml0ZXJpYS5tYXhfdmlld3M7XHJcbiAgICAgICAgcmVuZGVyVGFza01vZGUoZm91bmQpO1xyXG4gICAgICAgICQoJyNsaW1pdCcpLnZhbChsaW1pdFZhbCk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gYWRkVGV4dEFyZWEoc3RlcE51bWJlcikge1xyXG4gICAgY29uc3Qge3dpemFyZEZvcm19ID0gZWxTZWxlY3RvcjtcclxuICAgIGNvbnN0IGZpZWxkTGFzdCA9ICQoYCR7d2l6YXJkRm9ybX0gZmllbGRzZXRgKS5nZXQoc3RlcE51bWJlciArIDEpO1xyXG4gICAgaWYgKHN0YXRlLnN1YnR5cGUgPT09IENPTlNULnVybC50bVR5cGVzLnN0b3JpZXNTdWJUWzJdKSB7XHJcbiAgICAgICAgbmV4dEJ0bnZhbGlkYXRlQ29tcGV0aXRvcnNIYW5kbGVyKCRjb21wZXRpdG9yc1RleHRBcmVhLCBuZXh0U3RlcEJ0bik7XHJcbiAgICAgICAgJChmaWVsZExhc3QpLmZpbmQoJy5qc19zdG9yaWVzLWNvbXBldGl0b3JzJykucmVtb3ZlQ2xhc3MoJ2Qtbm9uZScpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdlbmQnKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgJChmaWVsZExhc3QpLmZpbmQoJy5qc19zdG9yaWVzLWNvbXBldGl0b3JzJykuYWRkQ2xhc3MoJ2Qtbm9uZScpO1xyXG4gICAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBhZGRGaWxlVXBsb2FkQm94KHN0ZXBOdW1iZXIpIHtcclxuICAgIGNvbnN0IHt3aXphcmRGb3JtfSA9IGVsU2VsZWN0b3I7XHJcbiAgICBjb25zdCBmaWVsZExhc3QgPSAkKGAke3dpemFyZEZvcm19IGZpZWxkc2V0YCkuZ2V0KHN0ZXBOdW1iZXIgKyAxKTtcclxuICAgIGNvbnN0ICRmaWxlVXBsb2FkQm94ID0gJChmaWVsZExhc3QpLmZpbmQoJy5zdG9yaWVzX19maWxlLXVwbG9hZC1ib3gnKTtcclxuICAgIGNvbnN0ICR0aXRsZVN0ZXBCb3ggPSAkKGZpZWxkTGFzdCkuZmluZCgnLmpzX2FkZC1maWxlLXRpdGxlJyk7XHJcbiAgICBjb25zdCAkYWRkU2V0dGluZ3MgPSAkKGZpZWxkTGFzdCkuZmluZCgnLmpzX2FkZC1zZXR0aW5ncy1zdGVwLTQnKTtcclxuICAgIGlmIChzdGF0ZS5zdWJ0eXBlID09PSBDT05TVC51cmwudG1UeXBlcy5zdG9yaWVzU3ViVFswXSkge1xyXG4gICAgICAgICRmaWxlVXBsb2FkQm94LnJlbW92ZUNsYXNzKCdkLW5vbmUnKTtcclxuICAgICAgICAkKCcuanNfdmFsaWRhdGUtdHh0LWZpbGUtaXMtdXBsb2FkZWQnKS5hdHRyKCdkaXNhYmxlZCcsICdkaXNhYmxlZCcpO1xyXG4gICAgICAgICR0aXRsZVN0ZXBCb3gucmVtb3ZlQ2xhc3MoJ2Qtbm9uZScpO1xyXG4gICAgICAgICRhZGRTZXR0aW5ncy5hZGRDbGFzcygnZC1ub25lJyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgICRmaWxlVXBsb2FkQm94LmFkZENsYXNzKCdkLW5vbmUnKTtcclxuICAgICAgICAkdGl0bGVTdGVwQm94LmFkZENsYXNzKCdkLW5vbmUnKTtcclxuICAgICAgICAkYWRkU2V0dGluZ3MucmVtb3ZlQ2xhc3MoJ2Qtbm9uZScpO1xyXG4gICAgfVxyXG4gICAgY29uc29sZS5sb2coJ2FkZEZpbGVVcGxvYWRCb3ggZG9uZScpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBzdGVwUmVkdWNlcihzdGVwTnVtYmVyLCBzdGF0ZSkge1xyXG4gICAgc3dpdGNoIChzdGVwTnVtYmVyKSB7XHJcbiAgICAgICAgY2FzZSAwOlxyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhzdGF0ZSwgc3RlcE51bWJlcik7XHJcbiAgICAgICAgICAgIHNldFVzZXJOYW1lRmlyc3RTdGVwKHN0YXRlKTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhzdGF0ZSwgc3RlcE51bWJlcik7XHJcbiAgICAgICAgICAgIGdldENvbmZpZygpO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlIDI6XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHN0YXRlLCBzdGVwTnVtYmVyKTtcclxuICAgICAgICAgICAgYWRkVGV4dEFyZWEoc3RlcE51bWJlcik7XHJcbiAgICAgICAgICAgIGFkZEZpbGVVcGxvYWRCb3goc3RlcE51bWJlcik7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdkZWZhdWx0Jywgc3RlcE51bWJlcik7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBpbml0KCkge1xyXG4gICAgY29uc3QgaXNJbkN1cnJlbnRQYWdlID0gJChjbHNDb25zdC5jdXJyZW50UGFnZUNscykubGVuZ3RoO1xyXG4gICAgaWYgKCFpc0luQ3VycmVudFBhZ2UpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBjb25zb2xlLmxvZyhjbHNDb25zdC5jdXJyZW50UGFnZUNscyk7XHJcbiAgICBjb25zdCB3aXphcmRDZmcgPSB7XHJcbiAgICAgICAgc3RlcFJlZHVjZXIsXHJcbiAgICAgICAgb25TdWJtaXRIYW5kbGVyXHJcbiAgICB9O1xyXG4gICAgd2l6YXJkRm9ybS5pbml0KHdpemFyZENmZyk7XHJcbiAgICBpbml0SGFuZGxlcnMoKTtcclxuICAgIGNvbnN0IHRleHRSdXNBcnJheSA9IFsn0J/QviDRgdC/0LjRgdC60YMnLCAn0J/QviDQv9C+0LTQv9C40YHRh9C40LrQsNC8JywgJ9Cf0L4g0LDQutGC0LjQstC90L7QuSDQsNGD0LTQuNGC0L7RgNC40Lgg0LrQvtC90LrRg9GA0LXQvdGC0L7QsiddO1xyXG4gICAgaW5pdExvZ3NUYWIoe2xvZ3NTdGF0ZSwgbG9nc1N1YnR5cGVzOiBDT05TVC51cmwudG1UeXBlcy5zdG9yaWVzU3ViVCwgY2xzQ29uc3QsIHNldFVzZXJOYW1lQ2IsIHRleHRSdXNBcnJheX0pO1xyXG4gICAgc3Rvcmllc1N0YXR1cy5pbml0KHtcclxuICAgICAgICBpc0luU3Rvcmllc1BhZ2U6IGlzSW5DdXJyZW50UGFnZVxyXG4gICAgfSk7XHJcbiAgICAvLyBpbml0VGFnc0lucHV0KCk7XHJcblxyXG4gICAgLy8gd2luZG93LlB1YlN1Yi5zdWJzY3JpYmUoQ09OU1QuZXZlbnRzLmluc3RhZ3JhbUFjY291bnMuSU5TVEFHUkFNX0FDQ09VTlNfUkVOREVSRURfTEFaWSwgKGUsIGFjY291bnRzKSA9PiB7XHJcbiAgICAvLyAgICAgY29uc29sZS5sb2coJ0lOU1RBR1JBTV9BQ0NPVU5TX1JFTkRFUkVEX0xBWlknKTtcclxuICAgIC8vICAgICBjb25zb2xlLmxvZygnbG9nc1N1YnR5cGVzJywgbG9nc1N1YnR5cGVzKTtcclxuICAgIC8vICAgICBjb25zb2xlLmxvZygnYWNjb3VudHMnLCBhY2NvdW50cyk7XHJcbiAgICAvLyB9KTtcclxuICAgIHdpbmRvdy5QdWJTdWIuc3Vic2NyaWJlKENPTlNULmV2ZW50cy5hdXRvYXJuc3dlci5URVhUX0ZJTEVfVVBMT0FERUQsIChlLCByZXMpID0+IHtcclxuICAgICAgICAkKCcuanNfdmFsaWRhdGUtdHh0LWZpbGUtaXMtdXBsb2FkZWQnKS5yZW1vdmVBdHRyKCdkaXNhYmxlZCcpO1xyXG4gICAgfSk7XHJcbn1cclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2Jsb2Nrcy9zdG9yaWVzL3N0b3JpZXMtaW5kZXguanMiLCIvLyBUT0RPOiByZWZhY3RvciAtPiBkZWxldGUgbWUsIHVzZSB0YXNrLXN0YXR1cy1ieS1zdWJ0eXBlLmpzXHJcbmltcG9ydCB7Q09OU1R9IGZyb20gJy4uLy4uL2NvbW1vbi9qcy1zZXJ2aWNlcy9jb25zdHMnO1xyXG5pbXBvcnQge2dldFRhc2tzRGF0YX0gZnJvbSAnLi4vX3NoYXJlZC90YXNrLXN0YXR1cy90YXNrLXN0YXR1cyc7XHJcbi8vIGltcG9ydCB2aWV3VXRpbHMgZnJvbSAnLi4vLi4vY29tbW9uL2pzLXNlcnZpY2VzL3ZpZXcnO1xyXG5pbXBvcnQgZHJvcERvd24gZnJvbSAnLi4vX3NoYXJlZC9kcm9wZG93bi9kcm9wZG93bic7XHJcblxyXG5jb25zdCBwYXRoID0ge1xyXG4gICAgdHlwZTogQ09OU1QudXJsLnRtVHlwZXMuc3Rvcmllc1QsXHJcbiAgICBzdWJ0eXBlOiBDT05TVC51cmwudG1UeXBlcy5zdG9yaWVzU3ViVFswXVxyXG59O1xyXG5jb25zdCB3cmFwcGVycyA9IHtcclxuICAgICRhbGw6ICQoJy50YXNrcy1hbGwnKSxcclxuICAgICRzdG9wcGVkOiAkKCcudGFza3Mtc3RvcHBlZCcpXHJcbn07XHJcbmNvbnN0IGxvZ3NTdGF0ZVN0YXR1cyA9IHtcclxuICAgIHdyYXBwZXJTdWJ0eXBlOiAkKCcuc3VidHlwZS0tYm94JylcclxufTtcclxuXHJcbmZ1bmN0aW9uIGRyb3Bkb3duT25TZWxlY3RDYihlKSB7XHJcbiAgICAvLyBjb25zdCB7c2VsZWN0Q2xzTG9nc1Rhc2tUeXBlfSA9IGxvZ3NTdGF0ZTtcclxuICAgIGNvbnN0IHN1YnR5cGUgPSAkKGUudGFyZ2V0KS5maW5kKCdvcHRpb246c2VsZWN0ZWQnKS52YWwoKTtcclxuICAgIGNvbnN0IHBhdGhVcGRhdGVkID0gey4uLnBhdGgsIHN1YnR5cGV9O1xyXG4gICAgJCgnLmpzX2xvZ3MtY29udGFpbmVyJykuYWRkQ2xhc3MoJ2QtYmxvY2snKTtcclxuICAgICQoJ29wdGlvbi5qc19lbXB0eS1zdWJ0eXBlJykucmVtb3ZlKCk7XHJcbiAgICBnZXRUYXNrc0RhdGEod3JhcHBlcnMsIHBhdGhVcGRhdGVkKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGluaXQoe2lzSW5TdG9yaWVzUGFnZX0pIHtcclxuICAgIGlmICghaXNJblN0b3JpZXNQYWdlKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgLy8gdG9ETyA6IHJlZmFjdG9yXHJcbiAgICAvLyByZW5kZXIgc3RhdHVzIGRyb3Bkb3duXHJcbiAgICBjb25zdCB0ZXh0UnVzQXJyYXkgPSBbJ9Cf0L4g0YHQv9C40YHQutGDJywgJ9Cf0L4g0L/QvtC00L/QuNGB0YfQuNC60LDQvCcsICfQn9C+INCw0LrRgtC40LLQvdC+0Lkg0LDRg9C00LjRgtC+0YDQuNC4INC60L7QvdC60YPRgNC10L3RgtC+0LInXTtcclxuICAgIGRyb3BEb3duLmFkZERyb3Bkb3duKGxvZ3NTdGF0ZVN0YXR1cy53cmFwcGVyU3VidHlwZSwgQ09OU1QudXJsLnRtVHlwZXMuc3Rvcmllc1N1YlQsIHtsb2dzU3RhdGU6IGxvZ3NTdGF0ZVN0YXR1cywgZHJvcGRvd25PblNlbGVjdENiLCB0ZXh0UnVzQXJyYXl9KTtcclxuXHJcbiAgICAvLyBnZXRUYXNrc0RhdGEod3JhcHBlcnMsIHBhdGgpO1xyXG4gICAgd2luZG93LlB1YlN1Yi5zdWJzY3JpYmUoQ09OU1QuZXZlbnRzLnRhc2tzLk5FV19UQVNLX0NSRUFURUQsIChldmVudE5hbWUsIGRhdGEpID0+IHtcclxuICAgICAgICBnZXRUYXNrc0RhdGEod3JhcHBlcnMsIHBhdGgpO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9ibG9ja3Mvc3Rvcmllcy9zdG9yaWVzLXN0YXR1cy5qcyIsImltcG9ydCB7Q09OU1R9IGZyb20gJy4uLy4uL2NvbW1vbi9qcy1zZXJ2aWNlcy9jb25zdHMnO1xyXG5pbXBvcnQgVXNlclRhc2tNYW5hZ2VyIGZyb20gJy4uLy4uL2NvbW1vbi9qcy1zZXJ2aWNlcy9hcGktdGFzay1tYW5hZ2VyJztcclxuaW1wb3J0IHZpZXdVdGlscyBmcm9tICcuLi8uLi9jb21tb24vanMtc2VydmljZXMvdmlldyc7XHJcbmNvbnN0IHtmaWxsUmFkaW9Hcm91cExpc3R9ID0gdmlld1V0aWxzO1xyXG5pbXBvcnQge2F0dGFjaFR4dEZpbGVIYW5kbGVyfSBmcm9tICcuLi9mb2xsb3cvZm9sbG93LXJlYWQtZmlsZS10eHQnO1xyXG5cclxuaW1wb3J0ICogYXMgd2l6YXJkRm9ybSBmcm9tICcuLi8uLi9ibG9ja3Mvd2l6YXJkLWZvcm0vd2l6YXJkLWZvcm0nO1xyXG5pbXBvcnQgKiBhcyB0YWJTdGF0dXMgZnJvbSAnLi91bmZvbGxvdy1zdGF0dXMnO1xyXG5pbXBvcnQge2luaXRMb2dzVGFifSBmcm9tICcuLi9fc2hhcmVkL2xvZ3MvbG9ncy10YWJzJztcclxuXHJcbmxldCB1c2VybmFtZVNlbGVjdGVkID0gJyc7XHJcbmNvbnN0IGxvZ3NTdWJ0eXBlcyA9IENPTlNULnVybC50bVR5cGVzLnVuZm9sbG93aW5nU3ViVDtcclxuY29uc3QgY2xzQ29uc3QgPSB7XHJcbiAgICBjdXJyZW50UGFnZUNsczogJy51bmZvbGxvdy1wYWdlJyxcclxuICAgIHRhc2tzTGlzdDogJy5sb2ctdGFza3MnLFxyXG4gICAgbG9nc1RhYkJ0bjogJyN2LXBpbGxzLWxvZ3MtdGFiJyxcclxuICAgIHBhZ2luYXRpb246ICcubG9ncy1wYWdpbmF0aW9uJyxcclxuICAgIHBhZ2luYXRpb25QZ051bWJlcjogJy5wYWdlLW51bWJlcicsXHJcbiAgICBwYXRoVHlwZTogQ09OU1QudXJsLnRtVHlwZXMudW5mb2xsb3dpbmdULFxyXG4gICAgcGF0aFN1YlR5cGU6IENPTlNULnVybC50bVR5cGVzLnVuZm9sbG93aW5nU3ViVFswXVxyXG59O1xyXG5jb25zdCBlbFNlbGVjdG9yID0ge1xyXG4gICAgd2l6YXJkRm9ybTogJy53aXphcmQtZm9ybScsXHJcbiAgICB3aXphcmRGb3JtTmFtZTogJ3dpemFyZC1mb3JtJyxcclxuICAgIGZpZWxkczogJy5hdXRvbWVzc2FnZXMtdGV4dC1maWVsZHMnLFxyXG4gICAgdGFza01vZGU6ICcuanNfdGFzay1tb2RlJyxcclxuICAgIHR5cGVSYWRpb0dyb3VwOiAnLmpzX2dldC11bmZvbGxvdy10eXBlJyxcclxuICAgIGNvbXBldGl0b3JzOiAndGV4dGFyZWEuc3Rvcmllcy1jb21wZXRpdG9ycydcclxufTtcclxuY29uc3Qgc3RhdGUgPSB7XHJcbiAgICBzdWJ0eXBlOiBDT05TVC51cmwudG1UeXBlcy51bmZvbGxvd2luZ1N1YlRbMF0sXHJcbiAgICB1c2VyX2RlZmF1bHRfY29uZmlnOiB7XHJcbiAgICAgICAgdGFza19tb2RlOiAnU0FGRSdcclxuICAgIH1cclxufTtcclxuXHJcbmZ1bmN0aW9uIG9uU3VibWl0SGFuZGxlcihlKSB7XHJcbiAgICBjb25zdCB7d2l6YXJkRm9ybU5hbWV9ID0gZWxTZWxlY3RvcjtcclxuICAgIGNvbnN0IGZvcm0gPSBkb2N1bWVudC5mb3Jtc1t3aXphcmRGb3JtTmFtZV07XHJcblxyXG4gICAgY29uc3QgYm9keSA9IHtcclxuICAgICAgICAuLi5zdGF0ZSxcclxuICAgICAgICB1c2VyX2N1c3RvbV9jb25maWc6IHtcclxuICAgICAgICAgICAgLy8gYXR0YWNobWVudDoge1xyXG4gICAgICAgICAgICAvLyAgICAgJ2xpc3RfaWQnOiAnaWRfc3RhdGljJ1xyXG4gICAgICAgICAgICAvLyB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICB0eXBlOiBjbHNDb25zdC5wYXRoVHlwZSxcclxuICAgICAgICB1c2VybmFtZTogdXNlcm5hbWVTZWxlY3RlZFxyXG4gICAgfTtcclxuXHJcbiAgICBpZiAoc3RhdGUuc3VidHlwZSA9PT0gQ09OU1QudXJsLnRtVHlwZXMudW5mb2xsb3dpbmdTdWJUWzBdKSB7XHJcbiAgICAgICAgLy8gdGV4dCBmaWxlIHNob3VsZCBiZSBhZGRlZFxyXG4gICAgICAgIGJvZHlbJ3VzZXJfY3VzdG9tX2NvbmZpZyddLmF0dGFjaG1lbnQgPSB7XHJcbiAgICAgICAgICAgICdsaXN0X2lkJzogJCgnLmFkZC1maWxlIC5maWxlLXVwbG9hZC1jb250YWluZXInKS5hdHRyKCdhdHRhY2hlZC10eHQtaWQnKVxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgJChmb3JtKS5maW5kKCdpbnB1dFt0eXBlPVwidGV4dFwiXSxpbnB1dFt0eXBlPVwibnVtYmVyXCJdLGlucHV0W3R5cGU9XCJlbWFpbFwiXScpLmVhY2goZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmICgkKHRoaXMpLnZhbCgpID09PSAnJykge1xyXG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICQodGhpcykuYWRkQ2xhc3MoJ2lucHV0LWVycm9yJyk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgJCh0aGlzKS5yZW1vdmVDbGFzcygnaW5wdXQtZXJyb3InKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICBjb25zb2xlLmxvZygnb25TdWJtaXRIYW5kbGVyICoqcmVxdWVzdCoqICBwb3N0OiBTdGFydEZvbGxvd2luZ0xpc3QnLCBib2R5KTtcclxuXHJcbiAgICBVc2VyVGFza01hbmFnZXIucG9zdFN0YXJ0Rm9sbG93aW5nTGlzdChib2R5KS50aGVuKChyZXN1bHQpID0+IHtcclxuICAgICAgICBpZiAocmVzdWx0LnN0YXR1cy5zdGF0ZSA9PT0gJ29rJykge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhKU09OLnN0cmluZ2lmeShyZXN1bHQpKTtcclxuICAgICAgICAgICAgJCgnLmZvcm0tc3VibWl0LWZpbmlzaCcpLmZpbmQoJy5hbGVydCBwJykucmVtb3ZlKCk7XHJcbiAgICAgICAgICAgICQoJy5mb3JtLXN1Ym1pdC1maW5pc2gnKS5hZGRDbGFzcygnZC1ibG9jaycpXHJcbiAgICAgICAgICAgICAgICAuZmluZCgnLmFsZXJ0JykuYXBwZW5kKGA8cD50YXNrX2lkOiAke3Jlc3VsdC5kYXRhLnRhc2tfaWR9PC9wPmApO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG59XHJcblxyXG4vKipcclxuICogSW5pdCBIYW5kbGVyc1xyXG4gKi9cclxuZnVuY3Rpb24gaW5pdEhhbmRsZXJzKCkge1xyXG5cclxuICAgICQoYCR7ZWxTZWxlY3Rvci50eXBlUmFkaW9Hcm91cH0gaW5wdXRbdHlwZT1yYWRpb11gKS5vbignY2xpY2snLCAoZSkgPT4ge1xyXG4gICAgICAgIGNvbnN0IHZhbHVlID0gJChlLnRhcmdldCkuYXR0cigndmFsdWUnKTtcclxuICAgICAgICBzdGF0ZS5zdWJ0eXBlID0gdmFsdWUudG9VcHBlckNhc2UoKTtcclxuICAgICAgICBjb25zb2xlLmxvZyhzdGF0ZSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBhbGVydCBjbG9zZVxyXG4gICAgJCgnLmZvcm0tc3VibWl0LWZpbmlzaCAuY2xvc2UnKS5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coJ2FsZXJ0IGNsb3NlJyk7XHJcbiAgICAgICAgJCgnI3YtcGlsbHMtYWxsLXRhYicpLnRyaWdnZXIoJ2NsaWNrJyk7XHJcbiAgICAgICAgd2luZG93LlB1YlN1Yi5wdWJsaXNoKENPTlNULmV2ZW50cy50YXNrcy5ORVdfVEFTS19DUkVBVEVEKTtcclxuICAgIH0pO1xyXG5cclxuICAgIC8vIGFsZXJ0IGNsb3NlXHJcbiAgICAkKCcuZm9ybS1zdWJtaXQtZmluaXNoLS1lcnJvciAuY2xvc2UnKS5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coJ2FsZXJ0IGNsb3NlJyk7XHJcbiAgICAgICAgJCgnI3YtcGlsbHMtYWxsLXRhYicpLnRyaWdnZXIoJ2NsaWNrJyk7XHJcbiAgICAgICAgd2luZG93LlB1YlN1Yi5wdWJsaXNoKENPTlNULmV2ZW50cy50YXNrcy5ORVdfVEFTS19DUkVBVEVEKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBvblN1Y2Nlc3NGaWxlVXBsb2FkQ2IoKSB7XHJcbiAgICBjb25zdCB7d2l6YXJkRm9ybX0gPSBlbFNlbGVjdG9yO1xyXG5cclxuICAgICQod2l6YXJkRm9ybSkuZmluZCgnYnV0dG9uW3R5cGU9XCJzdWJtaXRcIl0nKS5hdHRyKCdkaXNhYmxlZCcsIGZhbHNlKTtcclxufVxyXG5cclxuZnVuY3Rpb24gYWRkVXBsb2FkQnV0dG9uKHN1YnR5cGUpIHtcclxuICAgIGZ1bmN0aW9uIHRvZ2dsZUFkZFRleHRCdG4oc3VidHlwZSkge1xyXG4gICAgICAgIGlmIChzdWJ0eXBlID09PSBDT05TVC51cmwudG1UeXBlcy51bmZvbGxvd2luZ1N1YlRbMF0pIHtcclxuICAgICAgICAgICAgLy8gc2hvdyB0eHQgZmlsZVVwbG9hZFxyXG4gICAgICAgICAgICAkKCcuYWRkLWZpbGUnKS5hZGRDbGFzcygnZC1ibG9jaycpO1xyXG4gICAgICAgICAgICAvLyAkKCcuYWRkLWNvbXBldGl0b3JzJykuYWRkQ2xhc3MoJ2Qtbm9uZScpLnJlbW92ZUNsYXNzKCdkLWJsb2NrJyk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgLy8gaGlkZSB0eHQgZmlsZVVwbG9hZFxyXG4gICAgICAgICAgICAvLyAkKCcuYWRkLWNvbXBldGl0b3JzJykuYWRkQ2xhc3MoJ2QtYmxvY2snKTtcclxuICAgICAgICAgICAgJCgnLmFkZC1maWxlJykuYWRkQ2xhc3MoJ2Qtbm9uZScpLnJlbW92ZUNsYXNzKCdkLWJsb2NrJyk7XHJcbiAgICAgICAgICAgIG9uU3VjY2Vzc0ZpbGVVcGxvYWRDYigpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHRvZ2dsZUFkZFRleHRCdG4oc3VidHlwZSk7XHJcbiAgICAvLyBjb25zb2xlLmxvZygnYWRkVXBsb2FkQnV0dG9uJywgQ09OU1QudXJsLnRtVHlwZXMudW5mb2xsb3dpbmdTdWJUWzBdKTtcclxufVxyXG5cclxuZnVuY3Rpb24gcmVuZGVyVGFza01vZGUoZGVmYXVsdENmZykge1xyXG4gICAgY29uc3Qge2NmZzoge3Rhc2tfbW9kZXN9fSA9IGRlZmF1bHRDZmc7XHJcbiAgICBjb25zdCB7dGFza01vZGU6IHRhc2tNb2RlU2VsZWN0b3J9ID0gZWxTZWxlY3RvcjtcclxuXHJcbiAgICBmaWxsUmFkaW9Hcm91cExpc3QoJCh0YXNrTW9kZVNlbGVjdG9yKSwgdGFza19tb2RlcywgJ9C+0YLQv9C40YHQvtC6Jyk7XHJcbiAgICBhZGRVcGxvYWRCdXR0b24oZGVmYXVsdENmZy5pZC5zdWJ0eXBlKTtcclxuXHJcbiAgICAkKGAke3Rhc2tNb2RlU2VsZWN0b3J9IGlucHV0W3R5cGU9cmFkaW9dYCkub24oJ2NsaWNrJywgKGUpID0+IHtcclxuICAgICAgICBjb25zdCB2YWx1ZSA9ICQoZS50YXJnZXQpLmF0dHIoJ3ZhbHVlJyk7XHJcbiAgICAgICAgc3RhdGUudXNlcl9kZWZhdWx0X2NvbmZpZy50YXNrX21vZGUgPSB2YWx1ZS50b1VwcGVyQ2FzZSgpO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdldENvbmZpZygpIHtcclxuICAgIGNvbnN0IHBhdGggPSB7XHJcbiAgICAgICAgdHlwZTogY2xzQ29uc3QucGF0aFR5cGUsXHJcbiAgICAgICAgc3VidHlwZTogc3RhdGUuc3VidHlwZVxyXG4gICAgfTtcclxuICAgIGNvbnN0IGNiRXJyb3IgPSBmdW5jdGlvbihyZXMpIHtcclxuICAgICAgICBjb25zdCBtc2cgPSByZXMuc3RhdHVzLm1lc3NhZ2U7XHJcbiAgICAgICAgJCgnLmZvcm0tc3VibWl0LWZpbmlzaC0tZXJyb3InKS5hZGRDbGFzcygnZC1ibG9jaycpXHJcbiAgICAgIC5maW5kKCcuYWxlcnQnKS5hcHBlbmQoYDxwPiR7bXNnfTwvcD5gKTtcclxuICAgIH07XHJcblxyXG4gICAgVXNlclRhc2tNYW5hZ2VyLmdldFN0b3JpZXNDb25maWcocGF0aCwgY2JFcnJvcikudGhlbigocmVzdWx0KSA9PiB7XHJcbiAgICAgICAgaWYgKHJlc3VsdC5zdGF0dXMuc3RhdGUgIT09ICdvaycpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCB7XHJcbiAgICAgICAgICAgIGRhdGE6IHtcclxuICAgICAgICAgICAgICAgIGZvdW5kXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9ID0gcmVzdWx0O1xyXG4gICAgICAgIC8vICQoJyNsaW1pdCcpLnZhbChsaW1pdFZhbCk7XHJcbiAgICAgICAgLy8gY29uc3QgbGltaXRWYWwgPSBmb3VuZC5jZmcuY3JpdGVyaWEubWF4X3ZpZXdzO1xyXG4gICAgICAgIHJlbmRlclRhc2tNb2RlKGZvdW5kKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBzZXRVc2VyTmFtZUNiKF91c2VybmFtZVNlbGVjdGVkKSB7XHJcbiAgICB1c2VybmFtZVNlbGVjdGVkID0gX3VzZXJuYW1lU2VsZWN0ZWQ7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHNldFVzZXJOYW1lRmlyc3RTdGVwKHN0YXRlKSB7XHJcbiAgICB1c2VybmFtZVNlbGVjdGVkID0gc3RhdGUudXNlcm5hbWU7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNoZWNrVGl0bGVTdGVwMyhzdGVwTnVtYmVyKSB7XHJcbiAgICBjb25zdCB7d2l6YXJkRm9ybX0gPSBlbFNlbGVjdG9yO1xyXG4gICAgY29uc3QgdGl0bGUgPSAkKGAke3dpemFyZEZvcm19IGgzYCkuZ2V0KHN0ZXBOdW1iZXIgKyAxKTtcclxuICAgIGlmIChzdGF0ZS5zdWJ0eXBlID09PSBDT05TVC51cmwudG1UeXBlcy51bmZvbGxvd2luZ1N1YlRbMF0pIHtcclxuICAgICAgICAkKHRpdGxlKS50ZXh0KCfQktGL0LHQtdGA0LjRgtC1INGA0LXQttC40Lwg0Lgg0LTQvtCx0LDQstGM0YLQtSDRhNCw0LnQuyDRgSDQv9C+0LvRjNC30L7QstCw0YLQtdC70Y/QvNC4Jyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgICQodGl0bGUpLnRleHQoJ9CS0YvQsdC10YDQuNGC0LUg0YDQtdC20LjQvCcpO1xyXG4gICAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBhZGRUZXh0QXJlYShzdGVwTnVtYmVyKSB7XHJcbiAgICBjb25zdCB7d2l6YXJkRm9ybX0gPSBlbFNlbGVjdG9yO1xyXG4gICAgaWYgKHN0YXRlLnN1YnR5cGUgPT09IENPTlNULnVybC50bVR5cGVzLnVuZm9sbG93aW5nU3ViVFsxXSkge1xyXG4gICAgICAgIGNvbnN0IGZpZWxkTGFzdCA9ICQoYCR7d2l6YXJkRm9ybX0gZmllbGRzZXRgKS5nZXQoc3RlcE51bWJlciArIDEpO1xyXG4gICAgICAgIGNvbnN0IHRwbCA9IGA8ZGl2IGNsYXNzPVwicm93XCI+XHJcbiAgICAgICAgICAgIDxsYWJlbCBjbGFzcz1cIlwiPtCa0L7QvdC60YPRgNC10L3RgtGLPC9sYWJlbD5cclxuICAgICAgICAgICAgPHRleHRhcmVhIGNsYXNzPVwiZm9ybS1jb250cm9sIHN0b3JpZXMtY29tcGV0aXRvcnMgbWItMlwiIHJvd3M9XCIxXCI+PC90ZXh0YXJlYT48L2Rpdj5gO1xyXG4gICAgICAgICQoZmllbGRMYXN0KS5maW5kKCcuZm9ybS1ib3R0b20+LnJvdycpLmFmdGVyKHRwbCk7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ2VuZCcpO1xyXG4gICAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBzdGVwUmVkdWNlcihzdGVwTnVtYmVyLCBzdGF0ZSkge1xyXG4gICAgc3dpdGNoIChzdGVwTnVtYmVyKSB7XHJcbiAgICAgICAgY2FzZSAwOlxyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhzdGF0ZSwgc3RlcE51bWJlcik7XHJcbiAgICAgICAgICAgIHNldFVzZXJOYW1lRmlyc3RTdGVwKHN0YXRlKTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhzdGF0ZSwgc3RlcE51bWJlcik7XHJcbiAgICAgICAgICAgIGdldENvbmZpZygpO1xyXG4gICAgICAgICAgICBjaGVja1RpdGxlU3RlcDMoc3RlcE51bWJlcik7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgMjpcclxuICAgICAgICAgICAgLy8gVEhpcyBzdGVwIGlzIHVwcmVhY2hhYmxlXHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHN0YXRlLCBzdGVwTnVtYmVyKTtcclxuICAgICAgICAgICAgYWRkVGV4dEFyZWEoc3RlcE51bWJlcik7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdkZWZhdWx0Jywgc3RlcE51bWJlcik7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBpbml0KCkge1xyXG4gICAgY29uc3QgaXNJbkN1cnJlbnRQYWdlID0gJChjbHNDb25zdC5jdXJyZW50UGFnZUNscykubGVuZ3RoO1xyXG4gICAgaWYgKCFpc0luQ3VycmVudFBhZ2UpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBjb25zb2xlLmxvZyhjbHNDb25zdC5jdXJyZW50UGFnZUNscyk7XHJcbiAgICBjb25zdCB3aXphcmRDZmcgPSB7XHJcbiAgICAgICAgc3RlcFJlZHVjZXIsXHJcbiAgICAgICAgb25TdWJtaXRIYW5kbGVyXHJcbiAgICB9O1xyXG4gICAgd2l6YXJkRm9ybS5pbml0KHdpemFyZENmZyk7XHJcbiAgICBpbml0SGFuZGxlcnMoKTtcclxuICAgIGF0dGFjaFR4dEZpbGVIYW5kbGVyKCcuZmlsZS11cGxvYWQtY29udGFpbmVyJywgb25TdWNjZXNzRmlsZVVwbG9hZENiKTtcclxuICAgIGNvbnN0IHRleHRSdXNBcnJheSA9IFsn0J/QviDRgdC/0LjRgdC60YMnLCAn0J7RgiDQstGB0LXRhScsICfQntGCINC90LXQstC30LDQuNC80L3Ri9GFJ107XHJcbiAgICBpbml0TG9nc1RhYih7bG9nc1N0YXRlOiBDT05TVC5sb2dzU3RhdGUsIGxvZ3NTdWJ0eXBlcywgY2xzQ29uc3QsIHNldFVzZXJOYW1lQ2IsIHRleHRSdXNBcnJheX0pO1xyXG4gICAgdGFiU3RhdHVzLmluaXQoe1xyXG4gICAgICAgIGlzSW5TdG9yaWVzUGFnZTogaXNJbkN1cnJlbnRQYWdlXHJcbiAgICB9KTtcclxuICAgIC8vIHdpbmRvdy5QdWJTdWIuc3Vic2NyaWJlKENPTlNULmV2ZW50cy5hdXRvYXJuc3dlci5JTUFHRV9VUExPQURFRCwgKGUsIHJlcykgPT4ge1xyXG4gICAgLy8gICAgIGNvbnN0IHJlc3VsdCA9IEpTT04ucGFyc2UocmVzLnJlc3BvbnNlKTtcclxuICAgIC8vICAgICBjb25zdCBpbWFnZUlkID0gcmVzdWx0ICYmIHJlc3VsdC5kYXRhICYmIHJlc3VsdC5kYXRhLmltYWdlX2lkO1xyXG4gICAgLy8gICAgICQocmVzLmVsKS5jbG9zZXN0KCcuZmlsZS11cGxvYWQnKS5hdHRyKCdhdHRhY2hlZC1pbWctaWQnLCBpbWFnZUlkKTtcclxuICAgIC8vICAgICBjb25zb2xlLmxvZygnaW1hZ2VfbG9hZGVkJywgcmVzKTtcclxuICAgIC8vIH0pO1xyXG5cclxufVxyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvYmxvY2tzL3VuZm9sbG93L3VuZm9sbG93LWluZGV4LmpzIiwiaW1wb3J0IHtDT05TVH0gZnJvbSAnLi4vLi4vY29tbW9uL2pzLXNlcnZpY2VzL2NvbnN0cyc7XHJcbmltcG9ydCAqIGFzIGZvbGxvd1N0YXR1c0J5U3VidHlwZSBmcm9tICcuLi8uLi9ibG9ja3MvX3NoYXJlZC90YXNrLXN0YXR1cy90YXNrLXN0YXR1cy1ieS1zdWJ0eXBlJztcclxuXHJcbi8vIFRPRE86IHJlZmFjdG9yIC0+IGRlbGV0ZSBtZVxyXG4vLyBpbXBvcnQge2dldFRhc2tzRGF0YX0gZnJvbSAnLi4vX3NoYXJlZC90YXNrLXN0YXR1cy90YXNrLXN0YXR1cyc7XHJcbi8vIGltcG9ydCB2aWV3VXRpbHMgZnJvbSAnLi4vLi4vY29tbW9uL2pzLXNlcnZpY2VzL3ZpZXcnO1xyXG4vLyBpbXBvcnQgZHJvcERvd24gZnJvbSAnLi4vX3NoYXJlZC9kcm9wZG93bi9kcm9wZG93bic7XHJcblxyXG4vLyBjb25zdCBwYXRoID0ge1xyXG4vLyAgICAgdHlwZTogQ09OU1QudXJsLnRtVHlwZXMuc3Rvcmllc1QsXHJcbi8vICAgICBzdWJ0eXBlOiBDT05TVC51cmwudG1UeXBlcy5zdG9yaWVzU3ViVFswXVxyXG4vLyB9O1xyXG4vLyBjb25zdCB3cmFwcGVycyA9IHtcclxuLy8gICAgICRhbGw6ICQoJy50YXNrcy1hbGwnKSxcclxuLy8gICAgICRzdG9wcGVkOiAkKCcudGFza3Mtc3RvcHBlZCcpXHJcbi8vIH07XHJcbi8vIGNvbnN0IGxvZ3NTdGF0ZVN0YXR1cyA9IHtcclxuLy8gICAgIHdyYXBwZXJTdWJ0eXBlOiAkKCcuc3VidHlwZS0tYm94JylcclxuLy8gICAgIC8vIHNlbGVjdENsc0xvZ3NUYXNrVHlwZTogJ3N1YnR5cGUtc2VsZWN0LXdyYXBwZXInXHJcbi8vIH07XHJcbi8vXHJcbi8vIGZ1bmN0aW9uIGRyb3Bkb3duT25TZWxlY3RDYihlKSB7XHJcbi8vICAgICAvLyBjb25zdCB7c2VsZWN0Q2xzTG9nc1Rhc2tUeXBlfSA9IGxvZ3NTdGF0ZTtcclxuLy8gICAgIGNvbnN0IHN1YnR5cGUgPSAkKGUudGFyZ2V0KS5maW5kKCdvcHRpb246c2VsZWN0ZWQnKS52YWwoKTtcclxuLy8gICAgIGNvbnN0IHBhdGhVcGRhdGVkID0gey4uLnBhdGgsIHN1YnR5cGV9O1xyXG4vLyAgICAgJCgnLmpzX2xvZ3MtY29udGFpbmVyJykuYWRkQ2xhc3MoJ2QtYmxvY2snKTtcclxuLy8gICAgICQoJ29wdGlvbi5qc19lbXB0eS1zdWJ0eXBlJykucmVtb3ZlKCk7XHJcbi8vICAgICBnZXRUYXNrc0RhdGEod3JhcHBlcnMsIHBhdGhVcGRhdGVkKTtcclxuLy8gfVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGluaXQoe2lzSW5TdG9yaWVzUGFnZX0pIHtcclxuICAgIGlmICghaXNJblN0b3JpZXNQYWdlKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgY29uc3QgaW5pdGlhbFBhdGggPSB7XHJcbiAgICAgICAgdHlwZTogQ09OU1QudXJsLnRtVHlwZXMudW5mb2xsb3dpbmdULFxyXG4gICAgICAgIHN1YnR5cGU6IENPTlNULnVybC50bVR5cGVzLnVuZm9sbG93aW5nU3ViVFswXSxcclxuICAgICAgICBzdWJ0eXBlczogQ09OU1QudXJsLnRtVHlwZXMudW5mb2xsb3dpbmdTdWJUXHJcbiAgICB9O1xyXG5cclxuICAgIGNvbnN0IHRleHRSdXNBcnJheSA9IFsn0J/QviDRgdC/0LjRgdC60YMnLCAn0J7RgiDQstGB0LXRhScsICfQntGCINC90LXQstC30LDQuNC80L3Ri9GFJ107XHJcbiAgICBmb2xsb3dTdGF0dXNCeVN1YnR5cGUuaW5pdCh7aXNJbkNvcnJlY3RQYWdlOiBpc0luU3Rvcmllc1BhZ2UsIGluaXRpYWxQYXRoLCB0ZXh0UnVzQXJyYXl9KTtcclxuXHJcbiAgICAvLyB0b2RvOiBtZXJnZSB3aXRoIHN0b3JpZXMtc2F0dXMuanNcclxuICAgIC8vIGRyb3BEb3duLmFkZERyb3Bkb3duKGxvZ3NTdGF0ZVN0YXR1cy53cmFwcGVyU3VidHlwZSwgQ09OU1QudXJsLnRtVHlwZXMuc3Rvcmllc1N1YlQsIHtsb2dzU3RhdGU6IGxvZ3NTdGF0ZVN0YXR1cywgZHJvcGRvd25PblNlbGVjdENifSk7XHJcblxyXG4gICAgLy8gZ2V0VGFza3NEYXRhKHdyYXBwZXJzLCBwYXRoKTtcclxuICAgIC8vIHdpbmRvdy5QdWJTdWIuc3Vic2NyaWJlKENPTlNULmV2ZW50cy50YXNrcy5ORVdfVEFTS19DUkVBVEVELCAoZXZlbnROYW1lLCBkYXRhKSA9PiB7XHJcbiAgICAvLyAgICAgZ2V0VGFza3NEYXRhKHdyYXBwZXJzLCBwYXRoKTtcclxuICAgIC8vIH0pO1xyXG59XHJcblxyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvYmxvY2tzL3VuZm9sbG93L3VuZm9sbG93LXN0YXR1cy5qcyIsIi8qIGVzbGludC1kaXNhYmxlIHNvcnQtdmFycyAqL1xyXG4vLyBpbXBvcnQgJCBmcm9tICdqcXVlcnknO1xyXG5pbXBvcnQgVXNlciBmcm9tICcuLi8uLi9jb21tb24vanMtc2VydmljZXMvdXNlcic7XHJcbmltcG9ydCBQdWJTdWIgZnJvbSAncHVic3ViLWpzJzsgLy8gaHR0cHM6Ly93d3cubnBtanMuY29tL3BhY2thZ2UvcHVic3ViLWpzXHJcbmltcG9ydCBjb29raWVTdG9yYWdlIGZyb20gJy4uLy4uL2NvbW1vbi9qcy1zZXJ2aWNlcy9jb29raWUnO1xyXG4vLyBpbXBvcnQgVmFsaWRhdG9yIGZyb20gJy4uLy4uL2NvbW1vbi9qcy1zZXJ2aWNlcy9mb3JtLXZhbGlkYXRvcic7XHJcbmltcG9ydCB2aWV3VXRpbHMgZnJvbSAnLi4vLi4vY29tbW9uL2pzLXNlcnZpY2VzL3ZpZXcnO1xyXG5pbXBvcnQge0NPTlNUfSBmcm9tICcuLi8uLi9jb21tb24vanMtc2VydmljZXMvY29uc3RzJztcclxuXHJcbi8vIHdpbmRvdy4kID0gJDtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBMb2dpblBhZ2Uoc2VsZWN0b3JDc3MpIHtcclxuICAgIGNvbnN0IHtfZm9ybUlkLCBfYnV0dG9uU3VibWl0SWQsIF9sb2dpbkJveH0gPSBzZWxlY3RvckNzcztcclxuICAgIGNvbnN0IHVzZXIgPSBVc2VyLCAvLyBzZXJ2aWNlXHJcbiAgICAgICAgJGZvcm0gPSAkKF9mb3JtSWQpLFxyXG4gICAgICAgICRlbWFpbCA9ICRmb3JtLmZpbmQoJ2lucHV0W25hbWU9XCJtYWlsXCJdJyksXHJcbiAgICAgICAgJHRleHRBcmVhRGVzY3JpcHRpb24gPSAkKCcjZGVzY3JpcHRpb24nKTtcclxuICAgIC8vIGNvbnN0IG9wZW5lZENsYXNzID0gJ2QtYmxvY2snO1xyXG4gICAgLy8gY29uc3QgY2xvc2VDbGFzcyA9ICdkLW5vbmUnO1xyXG5cclxuICAgIGNvbnN0IHVzZXJMb2dpbkhlYWRlciA9IChfZm9ybURhdGEpID0+IHtcclxuICAgICAgICBjb25zdCBjYkVycm9yID0gKHJlc3VsdCkgPT4ge1xyXG4gICAgICAgICAgICAvLyAkKF9sb2dpbkJveCkuYXBwZW5kKGA8cD4ke3Jlc3VsdC5zdGF0dXMubWVzc2FnZX08L3A+YCk7XHJcbiAgICAgICAgICAgIGNvbnN0IG1vZGFsID0gJCgnI2Vycm9yLW1vZGFsJyk7XHJcbiAgICAgICAgICAgIG1vZGFsLm1vZGFsKCdzaG93Jyk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3VsdC5zdGF0dXMubWVzc2FnZSk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHVzZXIubG9naW4oX2Zvcm1EYXRhLCBjYkVycm9yKVxyXG4gICAgICAgICAgICAudGhlbigocmVzdWx0KSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0ICYmIHJlc3VsdC5kYXRhICYmIHJlc3VsdC5kYXRhLnRva2VuKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gc2F2ZSB0aGUgaXRlbVxyXG4gICAgICAgICAgICAgICAgICAgIGNvb2tpZVN0b3JhZ2Uuc2V0KENPTlNULmNvb2tpZVN0b3JhZ2UudG9rZW4sIHJlc3VsdC5kYXRhLnRva2VuKTtcclxuICAgICAgICAgICAgICAgICAgICAkKCcubmF2LWxpbmsuanNfbG9nT3V0JykucGFyZW50KCkuc2hvdygpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdyZXF1ZXN0IHN1Y2NlZWRlZCB3aXRoIEpTT04gcmVzcG9uc2UnLCByZXN1bHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIHZpZXdVdGlscy5zaG93SW5mb01lc3NhZ2UoJHRleHRBcmVhRGVzY3JpcHRpb24sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5zdGF0dXMuc3RhdGUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5zdGF0dXMubWVzc2FnZSB8fCAnTG9naW4gc3VjY3Nlc3MnKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocmVzdWx0LnN0YXR1cykge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3VsdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmlld1V0aWxzLnNob3dJbmZvTWVzc2FnZSh0aGlzLiR0ZXh0QXJlYURlc2NyaXB0aW9uLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBgPHA+c3RhdHVzOiAke3Jlc3VsdC5zdGF0dXMuc3RhdGV9PC9wPjxwPiBtZXNzYWdlOiAke3Jlc3VsdC5zdGF0dXMubWVzc2FnZX08L3A+YCk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3VsdCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pLnRoZW4oKHJlc3VsdCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdCAmJiByZXN1bHQuc3RhdHVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzdWx0KTtcclxuICAgICAgICAgICAgICAgICAgICB2aWV3VXRpbHMuc2hvd0luZm9NZXNzYWdlKCR0ZXh0QXJlYURlc2NyaXB0aW9uLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQuc3RhdHVzLnN0YXRlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQuc3RhdHVzLm1lc3NhZ2UgfHwgJ0xvZ2luIGVycm9yJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgfTtcclxuXHJcbiAgICBjb25zdCBzdWJtaXRGb3JtID0gZnVuY3Rpb24oZm9ybURhdGFPYmopIHtcclxuICAgICAgICBjb25zdCBlbWFpbCA9ICRlbWFpbC52YWwoKSxcclxuICAgICAgICAgICAgcGFzc3dvcmQgPSAkZm9ybS5maW5kKCdpbnB1dFtuYW1lPVwicGFzc1wiXScpLnZhbCgpLFxyXG4gICAgICAgICAgICBfZm9ybURhdGEgPSBmb3JtRGF0YU9iaiB8fCB7ZW1haWwsIHBhc3N3b3JkfTtcclxuXHJcbiAgICAgICAgaWYgKHNlbGVjdG9yQ3NzLmlzTG9naW5JbnN0YWdyYW0pIHtcclxuICAgICAgICAgICAgLy8gdG9kbzogZGVsZXRlIG1lXHJcbiAgICAgICAgICAgIC8vIGFkZEluc3RhZ3JhbUFjY291bnQoe3VzZXJuYW1lOiAkZm9ybS5maW5kKCdpbnB1dFtuYW1lPVwidXNlcm5hbWVcIl0nKS52YWwoKSwgcGFzc3dvcmR9KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAkZW1haWwudmFsKCRlbWFpbC52YWwoKS50b0xvY2FsZUxvd2VyQ2FzZSgpKTtcclxuICAgICAgICAgICAgdXNlckxvZ2luSGVhZGVyKF9mb3JtRGF0YSkudGhlbigoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAvLyBQdWJTdWIucHVibGlzaChDT05TVC5ldmVudHMuVVNFUl9MT0dHRUQsICdsb2dpbicpO1xyXG4gICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSAnLi9pbnN0YWdyYW0tYWNjb3VudHMuaHRtbCc7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgY29uc3QgbG9nT3V0ID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgY29va2llU3RvcmFnZS5yZW1vdmUoQ09OU1QuY29va2llU3RvcmFnZS50b2tlbik7XHJcbiAgICAgICAgUHViU3ViLnB1Ymxpc2goQ09OU1QuZXZlbnRzLlVTRVJfTE9HT1VUKTtcclxuICAgIH07XHJcblxyXG4gICAgY29uc3QgYmluZEV2ZW50cyA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIC8vIGNvbnN0ICRzaG93TG9naW5Cb3hCdG5JZCA9ICQoX3Nob3dMb2dpbkJveEJ0bklkKTtcclxuICAgICAgICBjb25zdCAkbG9naW5Cb3ggPSAkKF9sb2dpbkJveCk7XHJcbiAgICAgICAgY29uc3Qgb3BlbmVkQ2xhc3MgPSAnZC1ibG9jayc7XHJcbiAgICAgICAgY29uc3QgY2xvc2VDbGFzcyA9ICdkLW5vbmUnO1xyXG5cclxuICAgICAgICAvLyAkc2hvd0xvZ2luQm94QnRuSWQub24oJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgICAgIC8vICAgICBpZiAoIXNlbGVjdG9yQ3NzLmlzTG9naW5JbnN0YWdyYW0pIHtcclxuICAgICAgICAvLyAgICAgICAgICRsb2dpbkJveC5jc3Moeyd0b3AnOiAwLCAncmlnaHQnOiAwfSlcclxuICAgICAgICAvLyAgICAgICAgICAgICAuYWRkQ2xhc3MoJ2JnLWxpZ2h0IGJvcmRlciBtdC01IG14LWF1dG8gcG9zaXRpb24tYWJzb2x1dGUnKTtcclxuICAgICAgICAvLyAgICAgfVxyXG4gICAgICAgIC8vICAgICAkbG9naW5Cb3guYWRkQ2xhc3Mob3BlbmVkQ2xhc3MpLnJlbW92ZUNsYXNzKGNsb3NlQ2xhc3MpO1xyXG4gICAgICAgIC8vIH0pO1xyXG5cclxuICAgICAgICBjb25zdCAkYnV0dG9uU3VibWl0ID0gJChfYnV0dG9uU3VibWl0SWQpLFxyXG4gICAgICAgICAgICBjc3NWYWxpZGF0aW9uQ2xhc3MgPSAnZm9ybS12YWxpZGF0aW9uJztcclxuXHJcbiAgICAgICAgJGJ1dHRvblN1Ym1pdC5vbignY2xpY2snLCAoZSkgPT4ge1xyXG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgIGNvbnN0IGZvcm0gPSAkZm9ybS5nZXQoMCk7XHJcbiAgICAgICAgICAgIC8vIGNvbnN0IHZhbGlkYXRvciA9IG5ldyBWYWxpZGF0b3IoJGZvcm0pO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyh2aWV3VXRpbHMsIHZpZXdVdGlscy5pc0VtYWlsKCRlbWFpbC52YWwoKSkpO1xyXG5cclxuICAgICAgICAgICAgaWYgKGZvcm0uY2hlY2tWYWxpZGl0eSgpICYmIHZpZXdVdGlscy5pc0VtYWlsKCRlbWFpbC52YWwoKSkpIHtcclxuICAgICAgICAgICAgICAgIHN1Ym1pdEZvcm0oKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8vIEhpZ2hsaWdodCBlcnJvcnNcclxuICAgICAgICAgICAgICAgIGlmIChmb3JtLnJlcG9ydFZhbGlkaXR5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9ybS5yZXBvcnRWYWxpZGl0eSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgJGZvcm0uYWRkQ2xhc3MoY3NzVmFsaWRhdGlvbkNsYXNzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAkKCcubmF2LWxpbmsuanNfbG9nT3V0Jykub24oJ2NsaWNrJywgKGUpID0+IHtcclxuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICBsb2dPdXQoKTtcclxuICAgICAgICAgICAgJChlLnRhcmdldCkucGFyZW50KCkuaGlkZSgpO1xyXG4gICAgICAgICAgICB2aWV3VXRpbHMuc2hvd0luZm9NZXNzYWdlKCR0ZXh0QXJlYURlc2NyaXB0aW9uLCAnTG9nZ2VkIG91dCcpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBQdWJTdWIuc3Vic2NyaWJlKENPTlNULmV2ZW50cy5VU0VSX0xPR09VVCwgKG1zZykgPT4ge1xyXG4gICAgICAgICAgICAkKENPTlNULnVpU2VsZWN0b3JzLmhlYWRlck5hdkxvZ2luQnRuKS5hZGRDbGFzcyhvcGVuZWRDbGFzcykucmVtb3ZlQ2xhc3MoY2xvc2VDbGFzcyk7IC8vIC5zaG93KCk7XHJcbiAgICAgICAgICAgICQoQ09OU1QudWlTZWxlY3RvcnMuaGVhZGVyUmVnQnRuKS5hZGRDbGFzcyhvcGVuZWRDbGFzcykucmVtb3ZlQ2xhc3MoY2xvc2VDbGFzcyk7XHJcbiAgICAgICAgICAgICQoJy5uYXYtbGluay5qc19sb2dPdXQnKS5hZGRDbGFzcyhjbG9zZUNsYXNzKS5yZW1vdmVDbGFzcyhvcGVuZWRDbGFzcyk7IC8vIC5oaWRlKCk7XHJcbiAgICAgICAgICAgIGNvbnN0IHNlbGVjdG9yTG9naW5TdGF0ZSA9ICcuanNfbWVzc2FnZV9sb2dnZWQtLXRleHQnO1xyXG4gICAgICAgICAgICAkKHNlbGVjdG9yTG9naW5TdGF0ZSkudGV4dCgn0JLRiyDQstGL0YjQu9C4INC40Lcg0LDQutC60LDRg9C90YLQsCcpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAkKGRvY3VtZW50KS5vbignY2xpY2snLCAoZXZlbnQpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgaXNMb2dpbkJ0bkNsaWNrID0gJChldmVudC50YXJnZXQpLmNsb3Nlc3QoJ25hdi5uYXZiYXInKS5maW5kKCRsb2dpbkJveCkubGVuZ3RoO1xyXG4gICAgICAgICAgICBjb25zdCBpc0FkZEluc3RhZ3JhbUJ0bkNsaWNrZWQgPSAkKGV2ZW50LnRhcmdldCkuYXR0cignaWQnKSA9PT0gQ09OU1QudWlTZWxlY3RvcnMuaW5zdGFncmFtLmFkZEFjY291bnRCdG5JZDtcclxuXHJcbiAgICAgICAgICAgIGlmICghaXNMb2dpbkJ0bkNsaWNrICYmICRsb2dpbkJveC5oYXNDbGFzcyhvcGVuZWRDbGFzcykgJiYgIWlzQWRkSW5zdGFncmFtQnRuQ2xpY2tlZCkge1xyXG4gICAgICAgICAgICAgICAgJGxvZ2luQm94LmFkZENsYXNzKGNsb3NlQ2xhc3MpLnJlbW92ZUNsYXNzKG9wZW5lZENsYXNzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuXHJcbiAgICBmdW5jdGlvbiBpbml0KCkge1xyXG4gICAgICAgIGlmICgkKCcuYXV0aC5sb2dpbicpLmxlbmd0aCkge1xyXG4gICAgICAgICAgICBiaW5kRXZlbnRzKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgaW5pdFxyXG4gICAgfTtcclxufVxyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvcGFnZXMvX2F1dGgvbG9naW4tcGFnZS5qcyIsIi8qXG4gKiBib290c3RyYXAtdGFnc2lucHV0IHYwLjcuMSBieSBUaW0gU2NobGVjaHRlclxuICogXG4gKi9cblxuIWZ1bmN0aW9uKGEpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGIoYixjKXt0aGlzLmlzSW5pdD0hMCx0aGlzLml0ZW1zQXJyYXk9W10sdGhpcy4kZWxlbWVudD1hKGIpLHRoaXMuJGVsZW1lbnQuaGlkZSgpLHRoaXMuaXNTZWxlY3Q9XCJTRUxFQ1RcIj09PWIudGFnTmFtZSx0aGlzLm11bHRpcGxlPXRoaXMuaXNTZWxlY3QmJmIuaGFzQXR0cmlidXRlKFwibXVsdGlwbGVcIiksdGhpcy5vYmplY3RJdGVtcz1jJiZjLml0ZW1WYWx1ZSx0aGlzLnBsYWNlaG9sZGVyVGV4dD1iLmhhc0F0dHJpYnV0ZShcInBsYWNlaG9sZGVyXCIpP3RoaXMuJGVsZW1lbnQuYXR0cihcInBsYWNlaG9sZGVyXCIpOlwiXCIsdGhpcy5pbnB1dFNpemU9TWF0aC5tYXgoMSx0aGlzLnBsYWNlaG9sZGVyVGV4dC5sZW5ndGgpLHRoaXMuJGNvbnRhaW5lcj1hKCc8ZGl2IGNsYXNzPVwiYm9vdHN0cmFwLXRhZ3NpbnB1dFwiPjwvZGl2PicpLHRoaXMuJGlucHV0PWEoJzxpbnB1dCB0eXBlPVwidGV4dFwiIHBsYWNlaG9sZGVyPVwiJyt0aGlzLnBsYWNlaG9sZGVyVGV4dCsnXCIvPicpLmFwcGVuZFRvKHRoaXMuJGNvbnRhaW5lciksdGhpcy4kZWxlbWVudC5iZWZvcmUodGhpcy4kY29udGFpbmVyKSx0aGlzLmJ1aWxkKGMpLHRoaXMuaXNJbml0PSExfWZ1bmN0aW9uIGMoYSxiKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBhW2JdKXt2YXIgYz1hW2JdO2FbYl09ZnVuY3Rpb24oYSl7cmV0dXJuIGFbY119fX1mdW5jdGlvbiBkKGEsYil7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgYVtiXSl7dmFyIGM9YVtiXTthW2JdPWZ1bmN0aW9uKCl7cmV0dXJuIGN9fX1mdW5jdGlvbiBlKGEpe3JldHVybiBhP2kudGV4dChhKS5odG1sKCk6XCJcIn1mdW5jdGlvbiBmKGEpe3ZhciBiPTA7aWYoZG9jdW1lbnQuc2VsZWN0aW9uKXthLmZvY3VzKCk7dmFyIGM9ZG9jdW1lbnQuc2VsZWN0aW9uLmNyZWF0ZVJhbmdlKCk7Yy5tb3ZlU3RhcnQoXCJjaGFyYWN0ZXJcIiwtYS52YWx1ZS5sZW5ndGgpLGI9Yy50ZXh0Lmxlbmd0aH1lbHNlKGEuc2VsZWN0aW9uU3RhcnR8fFwiMFwiPT1hLnNlbGVjdGlvblN0YXJ0KSYmKGI9YS5zZWxlY3Rpb25TdGFydCk7cmV0dXJuIGJ9ZnVuY3Rpb24gZyhiLGMpe3ZhciBkPSExO3JldHVybiBhLmVhY2goYyxmdW5jdGlvbihhLGMpe2lmKFwibnVtYmVyXCI9PXR5cGVvZiBjJiZiLndoaWNoPT09YylyZXR1cm4gZD0hMCwhMTtpZihiLndoaWNoPT09Yy53aGljaCl7dmFyIGU9IWMuaGFzT3duUHJvcGVydHkoXCJhbHRLZXlcIil8fGIuYWx0S2V5PT09Yy5hbHRLZXksZj0hYy5oYXNPd25Qcm9wZXJ0eShcInNoaWZ0S2V5XCIpfHxiLnNoaWZ0S2V5PT09Yy5zaGlmdEtleSxnPSFjLmhhc093blByb3BlcnR5KFwiY3RybEtleVwiKXx8Yi5jdHJsS2V5PT09Yy5jdHJsS2V5O2lmKGUmJmYmJmcpcmV0dXJuIGQ9ITAsITF9fSksZH12YXIgaD17dGFnQ2xhc3M6ZnVuY3Rpb24oYSl7cmV0dXJuXCJsYWJlbCBsYWJlbC1pbmZvXCJ9LGl0ZW1WYWx1ZTpmdW5jdGlvbihhKXtyZXR1cm4gYT9hLnRvU3RyaW5nKCk6YX0saXRlbVRleHQ6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuaXRlbVZhbHVlKGEpfSxpdGVtVGl0bGU6ZnVuY3Rpb24oYSl7cmV0dXJuIG51bGx9LGZyZWVJbnB1dDohMCxhZGRPbkJsdXI6ITAsbWF4VGFnczp2b2lkIDAsbWF4Q2hhcnM6dm9pZCAwLGNvbmZpcm1LZXlzOlsxMyw0NF0sZGVsaW1pdGVyOlwiLFwiLGRlbGltaXRlclJlZ2V4Om51bGwsY2FuY2VsQ29uZmlybUtleXNPbkVtcHR5OiExLG9uVGFnRXhpc3RzOmZ1bmN0aW9uKGEsYil7Yi5oaWRlKCkuZmFkZUluKCl9LHRyaW1WYWx1ZTohMSxhbGxvd0R1cGxpY2F0ZXM6ITF9O2IucHJvdG90eXBlPXtjb25zdHJ1Y3RvcjpiLGFkZDpmdW5jdGlvbihiLGMsZCl7dmFyIGY9dGhpcztpZighKGYub3B0aW9ucy5tYXhUYWdzJiZmLml0ZW1zQXJyYXkubGVuZ3RoPj1mLm9wdGlvbnMubWF4VGFncykmJihiPT09ITF8fGIpKXtpZihcInN0cmluZ1wiPT10eXBlb2YgYiYmZi5vcHRpb25zLnRyaW1WYWx1ZSYmKGI9YS50cmltKGIpKSxcIm9iamVjdFwiPT10eXBlb2YgYiYmIWYub2JqZWN0SXRlbXMpdGhyb3dcIkNhbid0IGFkZCBvYmplY3RzIHdoZW4gaXRlbVZhbHVlIG9wdGlvbiBpcyBub3Qgc2V0XCI7aWYoIWIudG9TdHJpbmcoKS5tYXRjaCgvXlxccyokLykpe2lmKGYuaXNTZWxlY3QmJiFmLm11bHRpcGxlJiZmLml0ZW1zQXJyYXkubGVuZ3RoPjAmJmYucmVtb3ZlKGYuaXRlbXNBcnJheVswXSksXCJzdHJpbmdcIj09dHlwZW9mIGImJlwiSU5QVVRcIj09PXRoaXMuJGVsZW1lbnRbMF0udGFnTmFtZSl7dmFyIGc9Zi5vcHRpb25zLmRlbGltaXRlclJlZ2V4P2Yub3B0aW9ucy5kZWxpbWl0ZXJSZWdleDpmLm9wdGlvbnMuZGVsaW1pdGVyLGg9Yi5zcGxpdChnKTtpZihoLmxlbmd0aD4xKXtmb3IodmFyIGk9MDtpPGgubGVuZ3RoO2krKyl0aGlzLmFkZChoW2ldLCEwKTtyZXR1cm4gdm9pZChjfHxmLnB1c2hWYWwoKSl9fXZhciBqPWYub3B0aW9ucy5pdGVtVmFsdWUoYiksaz1mLm9wdGlvbnMuaXRlbVRleHQoYiksbD1mLm9wdGlvbnMudGFnQ2xhc3MoYiksbT1mLm9wdGlvbnMuaXRlbVRpdGxlKGIpLG49YS5ncmVwKGYuaXRlbXNBcnJheSxmdW5jdGlvbihhKXtyZXR1cm4gZi5vcHRpb25zLml0ZW1WYWx1ZShhKT09PWp9KVswXTtpZighbnx8Zi5vcHRpb25zLmFsbG93RHVwbGljYXRlcyl7aWYoIShmLml0ZW1zKCkudG9TdHJpbmcoKS5sZW5ndGgrYi5sZW5ndGgrMT5mLm9wdGlvbnMubWF4SW5wdXRMZW5ndGgpKXt2YXIgbz1hLkV2ZW50KFwiYmVmb3JlSXRlbUFkZFwiLHtpdGVtOmIsY2FuY2VsOiExLG9wdGlvbnM6ZH0pO2lmKGYuJGVsZW1lbnQudHJpZ2dlcihvKSwhby5jYW5jZWwpe2YuaXRlbXNBcnJheS5wdXNoKGIpO3ZhciBwPWEoJzxzcGFuIGNsYXNzPVwidGFnICcrZShsKSsobnVsbCE9PW0/J1wiIHRpdGxlPVwiJyttOlwiXCIpKydcIj4nK2UoaykrJzxzcGFuIGRhdGEtcm9sZT1cInJlbW92ZVwiPjwvc3Bhbj48L3NwYW4+Jyk7cC5kYXRhKFwiaXRlbVwiLGIpLGYuZmluZElucHV0V3JhcHBlcigpLmJlZm9yZShwKSxwLmFmdGVyKFwiIFwiKTt2YXIgcT1hKCdvcHRpb25bdmFsdWU9XCInK2VuY29kZVVSSUNvbXBvbmVudChqKSsnXCJdJyxmLiRlbGVtZW50KS5sZW5ndGh8fGEoJ29wdGlvblt2YWx1ZT1cIicrZShqKSsnXCJdJyxmLiRlbGVtZW50KS5sZW5ndGg7aWYoZi5pc1NlbGVjdCYmIXEpe3ZhciByPWEoXCI8b3B0aW9uIHNlbGVjdGVkPlwiK2UoaykrXCI8L29wdGlvbj5cIik7ci5kYXRhKFwiaXRlbVwiLGIpLHIuYXR0cihcInZhbHVlXCIsaiksZi4kZWxlbWVudC5hcHBlbmQocil9Y3x8Zi5wdXNoVmFsKCksKGYub3B0aW9ucy5tYXhUYWdzPT09Zi5pdGVtc0FycmF5Lmxlbmd0aHx8Zi5pdGVtcygpLnRvU3RyaW5nKCkubGVuZ3RoPT09Zi5vcHRpb25zLm1heElucHV0TGVuZ3RoKSYmZi4kY29udGFpbmVyLmFkZENsYXNzKFwiYm9vdHN0cmFwLXRhZ3NpbnB1dC1tYXhcIiksYShcIi50eXBlYWhlYWQsIC50d2l0dGVyLXR5cGVhaGVhZFwiLGYuJGNvbnRhaW5lcikubGVuZ3RoJiZmLiRpbnB1dC50eXBlYWhlYWQoXCJ2YWxcIixcIlwiKSx0aGlzLmlzSW5pdD9mLiRlbGVtZW50LnRyaWdnZXIoYS5FdmVudChcIml0ZW1BZGRlZE9uSW5pdFwiLHtpdGVtOmIsb3B0aW9uczpkfSkpOmYuJGVsZW1lbnQudHJpZ2dlcihhLkV2ZW50KFwiaXRlbUFkZGVkXCIse2l0ZW06YixvcHRpb25zOmR9KSl9fX1lbHNlIGlmKGYub3B0aW9ucy5vblRhZ0V4aXN0cyl7dmFyIHM9YShcIi50YWdcIixmLiRjb250YWluZXIpLmZpbHRlcihmdW5jdGlvbigpe3JldHVybiBhKHRoaXMpLmRhdGEoXCJpdGVtXCIpPT09bn0pO2Yub3B0aW9ucy5vblRhZ0V4aXN0cyhiLHMpfX19fSxyZW1vdmU6ZnVuY3Rpb24oYixjLGQpe3ZhciBlPXRoaXM7aWYoZS5vYmplY3RJdGVtcyYmKGI9XCJvYmplY3RcIj09dHlwZW9mIGI/YS5ncmVwKGUuaXRlbXNBcnJheSxmdW5jdGlvbihhKXtyZXR1cm4gZS5vcHRpb25zLml0ZW1WYWx1ZShhKT09ZS5vcHRpb25zLml0ZW1WYWx1ZShiKX0pOmEuZ3JlcChlLml0ZW1zQXJyYXksZnVuY3Rpb24oYSl7cmV0dXJuIGUub3B0aW9ucy5pdGVtVmFsdWUoYSk9PWJ9KSxiPWJbYi5sZW5ndGgtMV0pLGIpe3ZhciBmPWEuRXZlbnQoXCJiZWZvcmVJdGVtUmVtb3ZlXCIse2l0ZW06YixjYW5jZWw6ITEsb3B0aW9uczpkfSk7aWYoZS4kZWxlbWVudC50cmlnZ2VyKGYpLGYuY2FuY2VsKXJldHVybjthKFwiLnRhZ1wiLGUuJGNvbnRhaW5lcikuZmlsdGVyKGZ1bmN0aW9uKCl7cmV0dXJuIGEodGhpcykuZGF0YShcIml0ZW1cIik9PT1ifSkucmVtb3ZlKCksYShcIm9wdGlvblwiLGUuJGVsZW1lbnQpLmZpbHRlcihmdW5jdGlvbigpe3JldHVybiBhKHRoaXMpLmRhdGEoXCJpdGVtXCIpPT09Yn0pLnJlbW92ZSgpLC0xIT09YS5pbkFycmF5KGIsZS5pdGVtc0FycmF5KSYmZS5pdGVtc0FycmF5LnNwbGljZShhLmluQXJyYXkoYixlLml0ZW1zQXJyYXkpLDEpfWN8fGUucHVzaFZhbCgpLGUub3B0aW9ucy5tYXhUYWdzPmUuaXRlbXNBcnJheS5sZW5ndGgmJmUuJGNvbnRhaW5lci5yZW1vdmVDbGFzcyhcImJvb3RzdHJhcC10YWdzaW5wdXQtbWF4XCIpLGUuJGVsZW1lbnQudHJpZ2dlcihhLkV2ZW50KFwiaXRlbVJlbW92ZWRcIix7aXRlbTpiLG9wdGlvbnM6ZH0pKX0scmVtb3ZlQWxsOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcztmb3IoYShcIi50YWdcIixiLiRjb250YWluZXIpLnJlbW92ZSgpLGEoXCJvcHRpb25cIixiLiRlbGVtZW50KS5yZW1vdmUoKTtiLml0ZW1zQXJyYXkubGVuZ3RoPjA7KWIuaXRlbXNBcnJheS5wb3AoKTtiLnB1c2hWYWwoKX0scmVmcmVzaDpmdW5jdGlvbigpe3ZhciBiPXRoaXM7YShcIi50YWdcIixiLiRjb250YWluZXIpLmVhY2goZnVuY3Rpb24oKXt2YXIgYz1hKHRoaXMpLGQ9Yy5kYXRhKFwiaXRlbVwiKSxmPWIub3B0aW9ucy5pdGVtVmFsdWUoZCksZz1iLm9wdGlvbnMuaXRlbVRleHQoZCksaD1iLm9wdGlvbnMudGFnQ2xhc3MoZCk7aWYoYy5hdHRyKFwiY2xhc3NcIixudWxsKSxjLmFkZENsYXNzKFwidGFnIFwiK2UoaCkpLGMuY29udGVudHMoKS5maWx0ZXIoZnVuY3Rpb24oKXtyZXR1cm4gMz09dGhpcy5ub2RlVHlwZX0pWzBdLm5vZGVWYWx1ZT1lKGcpLGIuaXNTZWxlY3Qpe3ZhciBpPWEoXCJvcHRpb25cIixiLiRlbGVtZW50KS5maWx0ZXIoZnVuY3Rpb24oKXtyZXR1cm4gYSh0aGlzKS5kYXRhKFwiaXRlbVwiKT09PWR9KTtpLmF0dHIoXCJ2YWx1ZVwiLGYpfX0pfSxpdGVtczpmdW5jdGlvbigpe3JldHVybiB0aGlzLml0ZW1zQXJyYXl9LHB1c2hWYWw6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLGM9YS5tYXAoYi5pdGVtcygpLGZ1bmN0aW9uKGEpe3JldHVybiBiLm9wdGlvbnMuaXRlbVZhbHVlKGEpLnRvU3RyaW5nKCl9KTtiLiRlbGVtZW50LnZhbChjLCEwKS50cmlnZ2VyKFwiY2hhbmdlXCIpfSxidWlsZDpmdW5jdGlvbihiKXt2YXIgZT10aGlzO2lmKGUub3B0aW9ucz1hLmV4dGVuZCh7fSxoLGIpLGUub2JqZWN0SXRlbXMmJihlLm9wdGlvbnMuZnJlZUlucHV0PSExKSxjKGUub3B0aW9ucyxcIml0ZW1WYWx1ZVwiKSxjKGUub3B0aW9ucyxcIml0ZW1UZXh0XCIpLGQoZS5vcHRpb25zLFwidGFnQ2xhc3NcIiksZS5vcHRpb25zLnR5cGVhaGVhZCl7dmFyIGk9ZS5vcHRpb25zLnR5cGVhaGVhZHx8e307ZChpLFwic291cmNlXCIpLGUuJGlucHV0LnR5cGVhaGVhZChhLmV4dGVuZCh7fSxpLHtzb3VyY2U6ZnVuY3Rpb24oYixjKXtmdW5jdGlvbiBkKGEpe2Zvcih2YXIgYj1bXSxkPTA7ZDxhLmxlbmd0aDtkKyspe3ZhciBnPWUub3B0aW9ucy5pdGVtVGV4dChhW2RdKTtmW2ddPWFbZF0sYi5wdXNoKGcpfWMoYil9dGhpcy5tYXA9e307dmFyIGY9dGhpcy5tYXAsZz1pLnNvdXJjZShiKTthLmlzRnVuY3Rpb24oZy5zdWNjZXNzKT9nLnN1Y2Nlc3MoZCk6YS5pc0Z1bmN0aW9uKGcudGhlbik/Zy50aGVuKGQpOmEud2hlbihnKS50aGVuKGQpfSx1cGRhdGVyOmZ1bmN0aW9uKGEpe3JldHVybiBlLmFkZCh0aGlzLm1hcFthXSksdGhpcy5tYXBbYV19LG1hdGNoZXI6ZnVuY3Rpb24oYSl7cmV0dXJuLTEhPT1hLnRvTG93ZXJDYXNlKCkuaW5kZXhPZih0aGlzLnF1ZXJ5LnRyaW0oKS50b0xvd2VyQ2FzZSgpKX0sc29ydGVyOmZ1bmN0aW9uKGEpe3JldHVybiBhLnNvcnQoKX0saGlnaGxpZ2h0ZXI6ZnVuY3Rpb24oYSl7dmFyIGI9bmV3IFJlZ0V4cChcIihcIit0aGlzLnF1ZXJ5K1wiKVwiLFwiZ2lcIik7cmV0dXJuIGEucmVwbGFjZShiLFwiPHN0cm9uZz4kMTwvc3Ryb25nPlwiKX19KSl9aWYoZS5vcHRpb25zLnR5cGVhaGVhZGpzKXt2YXIgaj1udWxsLGs9e30sbD1lLm9wdGlvbnMudHlwZWFoZWFkanM7YS5pc0FycmF5KGwpPyhqPWxbMF0saz1sWzFdKTprPWwsZS4kaW5wdXQudHlwZWFoZWFkKGosaykub24oXCJ0eXBlYWhlYWQ6c2VsZWN0ZWRcIixhLnByb3h5KGZ1bmN0aW9uKGEsYil7ay52YWx1ZUtleT9lLmFkZChiW2sudmFsdWVLZXldKTplLmFkZChiKSxlLiRpbnB1dC50eXBlYWhlYWQoXCJ2YWxcIixcIlwiKX0sZSkpfWUuJGNvbnRhaW5lci5vbihcImNsaWNrXCIsYS5wcm94eShmdW5jdGlvbihhKXtlLiRlbGVtZW50LmF0dHIoXCJkaXNhYmxlZFwiKXx8ZS4kaW5wdXQucmVtb3ZlQXR0cihcImRpc2FibGVkXCIpLGUuJGlucHV0LmZvY3VzKCl9LGUpKSxlLm9wdGlvbnMuYWRkT25CbHVyJiZlLm9wdGlvbnMuZnJlZUlucHV0JiZlLiRpbnB1dC5vbihcImZvY3Vzb3V0XCIsYS5wcm94eShmdW5jdGlvbihiKXswPT09YShcIi50eXBlYWhlYWQsIC50d2l0dGVyLXR5cGVhaGVhZFwiLGUuJGNvbnRhaW5lcikubGVuZ3RoJiYoZS5hZGQoZS4kaW5wdXQudmFsKCkpLGUuJGlucHV0LnZhbChcIlwiKSl9LGUpKSxlLiRjb250YWluZXIub24oXCJrZXlkb3duXCIsXCJpbnB1dFwiLGEucHJveHkoZnVuY3Rpb24oYil7dmFyIGM9YShiLnRhcmdldCksZD1lLmZpbmRJbnB1dFdyYXBwZXIoKTtpZihlLiRlbGVtZW50LmF0dHIoXCJkaXNhYmxlZFwiKSlyZXR1cm4gdm9pZCBlLiRpbnB1dC5hdHRyKFwiZGlzYWJsZWRcIixcImRpc2FibGVkXCIpO3N3aXRjaChiLndoaWNoKXtjYXNlIDg6aWYoMD09PWYoY1swXSkpe3ZhciBnPWQucHJldigpO2cubGVuZ3RoJiZlLnJlbW92ZShnLmRhdGEoXCJpdGVtXCIpKX1icmVhaztjYXNlIDQ2OmlmKDA9PT1mKGNbMF0pKXt2YXIgaD1kLm5leHQoKTtoLmxlbmd0aCYmZS5yZW1vdmUoaC5kYXRhKFwiaXRlbVwiKSl9YnJlYWs7Y2FzZSAzNzp2YXIgaT1kLnByZXYoKTswPT09Yy52YWwoKS5sZW5ndGgmJmlbMF0mJihpLmJlZm9yZShkKSxjLmZvY3VzKCkpO2JyZWFrO2Nhc2UgMzk6dmFyIGo9ZC5uZXh0KCk7MD09PWMudmFsKCkubGVuZ3RoJiZqWzBdJiYoai5hZnRlcihkKSxjLmZvY3VzKCkpfXZhciBrPWMudmFsKCkubGVuZ3RoO01hdGguY2VpbChrLzUpO2MuYXR0cihcInNpemVcIixNYXRoLm1heCh0aGlzLmlucHV0U2l6ZSxjLnZhbCgpLmxlbmd0aCkpfSxlKSksZS4kY29udGFpbmVyLm9uKFwia2V5cHJlc3NcIixcImlucHV0XCIsYS5wcm94eShmdW5jdGlvbihiKXt2YXIgYz1hKGIudGFyZ2V0KTtpZihlLiRlbGVtZW50LmF0dHIoXCJkaXNhYmxlZFwiKSlyZXR1cm4gdm9pZCBlLiRpbnB1dC5hdHRyKFwiZGlzYWJsZWRcIixcImRpc2FibGVkXCIpO3ZhciBkPWMudmFsKCksZj1lLm9wdGlvbnMubWF4Q2hhcnMmJmQubGVuZ3RoPj1lLm9wdGlvbnMubWF4Q2hhcnM7ZS5vcHRpb25zLmZyZWVJbnB1dCYmKGcoYixlLm9wdGlvbnMuY29uZmlybUtleXMpfHxmKSYmKDAhPT1kLmxlbmd0aCYmKGUuYWRkKGY/ZC5zdWJzdHIoMCxlLm9wdGlvbnMubWF4Q2hhcnMpOmQpLGMudmFsKFwiXCIpKSxlLm9wdGlvbnMuY2FuY2VsQ29uZmlybUtleXNPbkVtcHR5PT09ITEmJmIucHJldmVudERlZmF1bHQoKSk7dmFyIGg9Yy52YWwoKS5sZW5ndGg7TWF0aC5jZWlsKGgvNSk7Yy5hdHRyKFwic2l6ZVwiLE1hdGgubWF4KHRoaXMuaW5wdXRTaXplLGMudmFsKCkubGVuZ3RoKSl9LGUpKSxlLiRjb250YWluZXIub24oXCJjbGlja1wiLFwiW2RhdGEtcm9sZT1yZW1vdmVdXCIsYS5wcm94eShmdW5jdGlvbihiKXtlLiRlbGVtZW50LmF0dHIoXCJkaXNhYmxlZFwiKXx8ZS5yZW1vdmUoYShiLnRhcmdldCkuY2xvc2VzdChcIi50YWdcIikuZGF0YShcIml0ZW1cIikpfSxlKSksZS5vcHRpb25zLml0ZW1WYWx1ZT09PWguaXRlbVZhbHVlJiYoXCJJTlBVVFwiPT09ZS4kZWxlbWVudFswXS50YWdOYW1lP2UuYWRkKGUuJGVsZW1lbnQudmFsKCkpOmEoXCJvcHRpb25cIixlLiRlbGVtZW50KS5lYWNoKGZ1bmN0aW9uKCl7ZS5hZGQoYSh0aGlzKS5hdHRyKFwidmFsdWVcIiksITApfSkpfSxkZXN0cm95OmZ1bmN0aW9uKCl7dmFyIGE9dGhpczthLiRjb250YWluZXIub2ZmKFwia2V5cHJlc3NcIixcImlucHV0XCIpLGEuJGNvbnRhaW5lci5vZmYoXCJjbGlja1wiLFwiW3JvbGU9cmVtb3ZlXVwiKSxhLiRjb250YWluZXIucmVtb3ZlKCksYS4kZWxlbWVudC5yZW1vdmVEYXRhKFwidGFnc2lucHV0XCIpLGEuJGVsZW1lbnQuc2hvdygpfSxmb2N1czpmdW5jdGlvbigpe3RoaXMuJGlucHV0LmZvY3VzKCl9LGlucHV0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJGlucHV0fSxmaW5kSW5wdXRXcmFwcGVyOmZ1bmN0aW9uKCl7Zm9yKHZhciBiPXRoaXMuJGlucHV0WzBdLGM9dGhpcy4kY29udGFpbmVyWzBdO2ImJmIucGFyZW50Tm9kZSE9PWM7KWI9Yi5wYXJlbnROb2RlO3JldHVybiBhKGIpfX0sYS5mbi50YWdzaW5wdXQ9ZnVuY3Rpb24oYyxkLGUpe3ZhciBmPVtdO3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgZz1hKHRoaXMpLmRhdGEoXCJ0YWdzaW5wdXRcIik7aWYoZylpZihjfHxkKXtpZih2b2lkIDAhPT1nW2NdKXtpZigzPT09Z1tjXS5sZW5ndGgmJnZvaWQgMCE9PWUpdmFyIGg9Z1tjXShkLG51bGwsZSk7ZWxzZSB2YXIgaD1nW2NdKGQpO3ZvaWQgMCE9PWgmJmYucHVzaChoKX19ZWxzZSBmLnB1c2goZyk7ZWxzZSBnPW5ldyBiKHRoaXMsYyksYSh0aGlzKS5kYXRhKFwidGFnc2lucHV0XCIsZyksZi5wdXNoKGcpLFwiU0VMRUNUXCI9PT10aGlzLnRhZ05hbWUmJmEoXCJvcHRpb25cIixhKHRoaXMpKS5hdHRyKFwic2VsZWN0ZWRcIixcInNlbGVjdGVkXCIpLGEodGhpcykudmFsKGEodGhpcykudmFsKCkpfSksXCJzdHJpbmdcIj09dHlwZW9mIGM/Zi5sZW5ndGg+MT9mOmZbMF06Zn0sYS5mbi50YWdzaW5wdXQuQ29uc3RydWN0b3I9Yjt2YXIgaT1hKFwiPGRpdiAvPlwiKTthKGZ1bmN0aW9uKCl7YShcImlucHV0W2RhdGEtcm9sZT10YWdzaW5wdXRdLCBzZWxlY3RbbXVsdGlwbGVdW2RhdGEtcm9sZT10YWdzaW5wdXRdXCIpLnRhZ3NpbnB1dCgpfSl9KHdpbmRvdy5qUXVlcnkpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Ym9vdHN0cmFwLXRhZ3NpbnB1dC5taW4uanMubWFwXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2Jvb3RzdHJhcC10YWdzaW5wdXQvZGlzdC9ib290c3RyYXAtdGFnc2lucHV0Lm1pbi5qc1xuLy8gbW9kdWxlIGlkID0gNTFcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiaWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIGJydXR1c2luKXdpbmRvdy5icnV0dXNpbj1uZXcgT2JqZWN0O2Vsc2UgaWYoXCJvYmplY3RcIiE9dHlwZW9mIGJydXR1c2luKXRocm93XCJicnV0dXNpbiBnbG9iYWwgdmFyaWFibGUgYWxyZWFkeSBleGlzdHNcIjshZnVuY3Rpb24oKXtTdHJpbmcucHJvdG90eXBlLnN0YXJ0c1dpdGh8fChTdHJpbmcucHJvdG90eXBlLnN0YXJ0c1dpdGg9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdD10fHwwLHRoaXMuaW5kZXhPZihlLHQpPT09dH0pLFN0cmluZy5wcm90b3R5cGUuZW5kc1dpdGh8fChTdHJpbmcucHJvdG90eXBlLmVuZHNXaXRoPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcy50b1N0cmluZygpOyh2b2lkIDA9PT10fHx0PnIubGVuZ3RoKSYmKHQ9ci5sZW5ndGgpLHQtPWUubGVuZ3RoO3ZhciBuPXIuaW5kZXhPZihlLHQpO3JldHVybi0xIT09biYmbj09PXR9KSxTdHJpbmcucHJvdG90eXBlLmluY2x1ZGVzfHwoU3RyaW5nLnByb3RvdHlwZS5pbmNsdWRlcz1mdW5jdGlvbigpe1widXNlIHN0cmljdFwiO3JldHVybi0xIT09U3RyaW5nLnByb3RvdHlwZS5pbmRleE9mLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0pLFN0cmluZy5wcm90b3R5cGUuZm9ybWF0fHwoU3RyaW5nLnByb3RvdHlwZS5mb3JtYXQ9ZnVuY3Rpb24oKXtmb3IodmFyIGU9dGhpcyx0PTA7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIHI9bmV3IFJlZ0V4cChcIlxcXFx7XCIrdCtcIlxcXFx9XCIsXCJnaVwiKTtlPWUucmVwbGFjZShyLGFyZ3VtZW50c1t0XSl9cmV0dXJuIGV9KTt2YXIgQnJ1dHVzaW5Gb3Jtcz1uZXcgT2JqZWN0O0JydXR1c2luRm9ybXMubWVzc2FnZXM9e3ZhbGlkYXRpb25FcnJvcjpcIlZhbGlkYXRpb24gZXJyb3JcIixyZXF1aXJlZDpcIlRoaXMgZmllbGQgaXMgKipyZXF1aXJlZCoqXCIsaW52YWxpZFZhbHVlOlwiSW52YWxpZCBmaWVsZCB2YWx1ZVwiLGFkZHByb3BOYW1lRXhpc3RlbnQ6XCJUaGlzIHByb3BlcnR5IGlzIGFscmVhZHkgcHJlc2VudCBpbiB0aGUgb2JqZWN0XCIsYWRkcHJvcE5hbWVSZXF1aXJlZDpcIkEgbmFtZSBpcyByZXF1aXJlZFwiLG1pbkl0ZW1zOlwiQXQgbGVhc3QgYHswfWAgaXRlbXMgYXJlIHJlcXVpcmVkXCIsbWF4SXRlbXM6XCJBdCBtb3N0IGB7MH1gIGl0ZW1zIGFyZSBhbGxvd2VkXCIscGF0dGVybjpcIlZhbHVlIGRvZXMgbm90IG1hdGNoIHBhdHRlcm46IGB7MH1gXCIsbWluTGVuZ3RoOlwiVmFsdWUgbXVzdCBiZSAqKmF0IGxlYXN0KiogYHswfWAgY2hhcmFjdGVycyBsb25nXCIsbWF4TGVuZ3RoOlwiVmFsdWUgbXVzdCBiZSAqKmF0IG1vc3QqKiBgezB9YCBjaGFyYWN0ZXJzIGxvbmdcIixtdWx0aXBsZU9mOlwiVmFsdWUgbXVzdCBiZSAqKm11bHRpcGxlIG9mKiogYHswfWBcIixtaW5pbXVtOlwiVmFsdWUgbXVzdCBiZSAqKmdyZWF0ZXIgb3IgZXF1YWwgdGhhbioqIGB7MH1gXCIsZXhjbHVzaXZlTWluaW11bTpcIlZhbHVlIG11c3QgYmUgKipncmVhdGVyIHRoYW4qKiBgezB9YFwiLG1heGltdW06XCJWYWx1ZSBtdXN0IGJlICoqbG93ZXIgb3IgZXF1YWwgdGhhbioqIGB7MH1gXCIsZXhjbHVzaXZlTWF4aW11bTpcIlZhbHVlIG11c3QgYmUgKipsb3dlciB0aGFuKiogYHswfWBcIixtaW5Qcm9wZXJ0aWVzOlwiQXQgbGVhc3QgYHswfWAgcHJvcGVydGllcyBhcmUgcmVxdWlyZWRcIixtYXhQcm9wZXJ0aWVzOlwiQXQgbW9zdCBgezB9YCBwcm9wZXJ0aWVzIGFyZSBhbGxvd2VkXCIsdW5pcXVlSXRlbXM6XCJBcnJheSBpdGVtcyBtdXN0IGJlIHVuaXF1ZVwiLGFkZEl0ZW06XCJBZGQgaXRlbVwiLFwidHJ1ZVwiOlwiVHJ1ZVwiLFwiZmFsc2VcIjpcIkZhbHNlXCJ9LEJydXR1c2luRm9ybXMuZGVjb3JhdG9ycz1uZXcgQXJyYXksQnJ1dHVzaW5Gb3Jtcy5hZGREZWNvcmF0b3I9ZnVuY3Rpb24oZSl7QnJ1dHVzaW5Gb3Jtcy5kZWNvcmF0b3JzW0JydXR1c2luRm9ybXMuZGVjb3JhdG9ycy5sZW5ndGhdPWV9LEJydXR1c2luRm9ybXMub25SZXNvbHV0aW9uU3RhcnRlZD1mdW5jdGlvbihlKXt9LEJydXR1c2luRm9ybXMub25SZXNvbHV0aW9uRmluaXNoZWQ9ZnVuY3Rpb24oZSl7fSxCcnV0dXNpbkZvcm1zLm9uVmFsaWRhdGlvbkVycm9yPWZ1bmN0aW9uKGUsdCl7ZS5mb2N1cygpLGUuY2xhc3NOYW1lLmluY2x1ZGVzKFwiIGVycm9yXCIpfHwoZS5jbGFzc05hbWUrPVwiIGVycm9yXCIpLGFsZXJ0KHQpfSxCcnV0dXNpbkZvcm1zLm9uVmFsaWRhdGlvblN1Y2Nlc3M9ZnVuY3Rpb24oZSl7ZS5jbGFzc05hbWU9ZS5jbGFzc05hbWUucmVwbGFjZShcIiBlcnJvclwiLFwiXCIpfSxCcnV0dXNpbkZvcm1zLnBvc3RSZW5kZXI9bnVsbCxCcnV0dXNpbkZvcm1zLmluc3RhbmNlcz1uZXcgQXJyYXksQnJ1dHVzaW5Gb3Jtcy5jcmVhdGU9ZnVuY3Rpb24oc2NoZW1hKXtmdW5jdGlvbiB2YWxpZGF0ZURlcGVuY3lNYXBJc0FjeWNsaWMoKXtmdW5jdGlvbiBlKHQscixuKXtpZihyLmhhc093blByb3BlcnR5KG4pKXJldHVybiB2b2lkKGVycm9yPVwiU2NoZW1hIGRlcGVuZGVuY3kgZ3JhcGggaGFzIGN5Y2xlc1wiKTtpZihyW25dPW51bGwsIXQuaGFzT3duUHJvcGVydHkobikpe3Rbbl09bnVsbDt2YXIgYT1kZXBlbmRlbmN5TWFwW25dO2lmKGEpZm9yKHZhciBpPTA7aTxhLmxlbmd0aDtpKyspZSh0LHIsYVtpXSk7ZGVsZXRlIHJbbl19fXZhciB0PW5ldyBPYmplY3Q7Zm9yKHZhciByIGluIGRlcGVuZGVuY3lNYXApdC5oYXNPd25Qcm9wZXJ0eShyKXx8ZSh0LG5ldyBPYmplY3Qscil9ZnVuY3Rpb24gYXBwZW5kQ2hpbGQoZSx0LHIpe2UuYXBwZW5kQ2hpbGQodCk7Zm9yKHZhciBuPTA7bjxCcnV0dXNpbkZvcm1zLmRlY29yYXRvcnMubGVuZ3RoO24rKylCcnV0dXNpbkZvcm1zLmRlY29yYXRvcnNbbl0odCxyKX1mdW5jdGlvbiBjcmVhdGVQc2V1ZG9TY2hlbWEoZSl7dmFyIHQ9bmV3IE9iamVjdDtmb3IodmFyIHIgaW4gZSlcIml0ZW1zXCIhPT1yJiZcInByb3BlcnRpZXNcIiE9PXImJlwiYWRkaXRpb25hbFByb3BlcnRpZXNcIiE9PXImJihcInBhdHRlcm5cIj09PXI/dFtyXT1uZXcgUmVnRXhwKGVbcl0pOnRbcl09ZVtyXSk7cmV0dXJuIHR9ZnVuY3Rpb24gZ2V0RGVmaW5pdGlvbihlKXt2YXIgdD1lLnNwbGl0KFwiL1wiKSxyPXJvb3Q7Zm9yKHZhciBuIGluIHQpXCIwXCIhPT1uJiYocj1yW3Rbbl1dKTtyZXR1cm4gcn1mdW5jdGlvbiBjb250YWluc1N0cihlLHQpe2Zvcih2YXIgcj0wO3I8ZS5sZW5ndGg7cisrKWlmKGVbcl09PXQpcmV0dXJuITA7cmV0dXJuITF9ZnVuY3Rpb24gcmVuYW1lUmVxdWlyZWRQcm9wZXRpZXMoZSl7aWYoZSlpZihlLmhhc093blByb3BlcnR5KFwib25lT2ZcIikpZm9yKHZhciB0IGluIGUub25lT2YpcmVuYW1lUmVxdWlyZWRQcm9wZXRpZXMoZS5vbmVPZlt0XSk7ZWxzZSBpZihlLmhhc093blByb3BlcnR5KFwiJHJlZlwiKSl7dmFyIHI9Z2V0RGVmaW5pdGlvbihlLiRyZWYpO3JlbmFtZVJlcXVpcmVkUHJvcGV0aWVzKHIpfWVsc2UgaWYoXCJvYmplY3RcIj09PWUudHlwZSl7aWYoZS5wcm9wZXJ0aWVzKXtlLmhhc093blByb3BlcnR5KFwicmVxdWlyZWRcIikmJkFycmF5LmlzQXJyYXkoZS5yZXF1aXJlZCkmJihlLnJlcXVpcmVkUHJvcGVydGllcz1lLnJlcXVpcmVkLGRlbGV0ZSBlLnJlcXVpcmVkKTtmb3IodmFyIG4gaW4gZS5wcm9wZXJ0aWVzKXJlbmFtZVJlcXVpcmVkUHJvcGV0aWVzKGUucHJvcGVydGllc1tuXSl9aWYoZS5wYXR0ZXJuUHJvcGVydGllcylmb3IodmFyIGEgaW4gZS5wYXR0ZXJuUHJvcGVydGllcyl7dmFyIGk9ZS5wYXR0ZXJuUHJvcGVydGllc1thXTsoaS5oYXNPd25Qcm9wZXJ0eShcInR5cGVcIil8fGkuaGFzT3duUHJvcGVydHkoXCIkcmVmXCIpfHxpLmhhc093blByb3BlcnR5KFwib25lT2ZcIikpJiZyZW5hbWVSZXF1aXJlZFByb3BldGllcyhlLnBhdHRlcm5Qcm9wZXJ0aWVzW2FdKX1lLmFkZGl0aW9uYWxQcm9wZXJ0aWVzJiYoZS5hZGRpdGlvbmFsUHJvcGVydGllcy5oYXNPd25Qcm9wZXJ0eShcInR5cGVcIil8fGUuYWRkaXRpb25hbFByb3BlcnRpZXMuaGFzT3duUHJvcGVydHkoXCJvbmVPZlwiKSkmJnJlbmFtZVJlcXVpcmVkUHJvcGV0aWVzKGUuYWRkaXRpb25hbFByb3BlcnRpZXMpfWVsc2VcImFycmF5XCI9PT1lLnR5cGUmJnJlbmFtZVJlcXVpcmVkUHJvcGV0aWVzKGUuaXRlbXMpfWZ1bmN0aW9uIHBvcHVsYXRlU2NoZW1hTWFwKGUsdCl7dmFyIHI9Y3JlYXRlUHNldWRvU2NoZW1hKHQpO2lmKHIuJGlkPWUsc2NoZW1hTWFwW2VdPXIsdCl7aWYodC5oYXNPd25Qcm9wZXJ0eShcIm9uZU9mXCIpKXtyLm9uZU9mPW5ldyBBcnJheSxyLnR5cGU9XCJvbmVPZlwiO2Zvcih2YXIgbiBpbiB0Lm9uZU9mKXt2YXIgYT1lK1wiLlwiK247ci5vbmVPZltuXT1hLHBvcHVsYXRlU2NoZW1hTWFwKGEsdC5vbmVPZltuXSl9fWVsc2UgaWYodC5oYXNPd25Qcm9wZXJ0eShcIiRyZWZcIikpe3ZhciBpPWdldERlZmluaXRpb24odC4kcmVmKTtpZihpKXtpZih0Lmhhc093blByb3BlcnR5KFwidGl0bGVcIil8fHQuaGFzT3duUHJvcGVydHkoXCJkZXNjcmlwdGlvblwiKSl7dmFyIG89e307Zm9yKHZhciBzIGluIGkpb1tzXT1pW3NdO3QuaGFzT3duUHJvcGVydHkoXCJ0aXRsZVwiKSYmKG8udGl0bGU9dC50aXRsZSksdC5oYXNPd25Qcm9wZXJ0eShcImRlc2NyaXB0aW9uXCIpJiYoby5kZXNjcmlwdGlvbj10LmRlc2NyaXB0aW9uKSxpPW99cG9wdWxhdGVTY2hlbWFNYXAoZSxpKX19ZWxzZSBpZihcIm9iamVjdFwiPT09dC50eXBlKXtpZih0LnByb3BlcnRpZXMpe3IucHJvcGVydGllcz1uZXcgT2JqZWN0O2Zvcih2YXIgcyBpbiB0LnByb3BlcnRpZXMpe3ZhciBhPWUrXCIuXCIrcztyLnByb3BlcnRpZXNbc109YTt2YXIgdT10LnByb3BlcnRpZXNbc107dC5yZXF1aXJlZFByb3BlcnRpZXMmJihjb250YWluc1N0cih0LnJlcXVpcmVkUHJvcGVydGllcyxzKT91LnJlcXVpcmVkPSEwOnUucmVxdWlyZWQ9ITEpLHBvcHVsYXRlU2NoZW1hTWFwKGEsdSl9fWlmKHQucGF0dGVyblByb3BlcnRpZXMpe3IucGF0dGVyblByb3BlcnRpZXM9bmV3IE9iamVjdDtmb3IodmFyIGwgaW4gdC5wYXR0ZXJuUHJvcGVydGllcyl7dmFyIGQ9ZStcIltcIitsK1wiXVwiO3IucGF0dGVyblByb3BlcnRpZXNbbF09ZDt2YXIgcD10LnBhdHRlcm5Qcm9wZXJ0aWVzW2xdO3AuaGFzT3duUHJvcGVydHkoXCJ0eXBlXCIpfHxwLmhhc093blByb3BlcnR5KFwiJHJlZlwiKXx8cC5oYXNPd25Qcm9wZXJ0eShcIm9uZU9mXCIpP3BvcHVsYXRlU2NoZW1hTWFwKGQsdC5wYXR0ZXJuUHJvcGVydGllc1tsXSk6cG9wdWxhdGVTY2hlbWFNYXAoZCxTQ0hFTUFfQU5ZKX19aWYodC5hZGRpdGlvbmFsUHJvcGVydGllcyl7dmFyIGE9ZStcIlsqXVwiO3IuYWRkaXRpb25hbFByb3BlcnRpZXM9YSx0LmFkZGl0aW9uYWxQcm9wZXJ0aWVzLmhhc093blByb3BlcnR5KFwidHlwZVwiKXx8dC5hZGRpdGlvbmFsUHJvcGVydGllcy5oYXNPd25Qcm9wZXJ0eShcIm9uZU9mXCIpP3BvcHVsYXRlU2NoZW1hTWFwKGEsdC5hZGRpdGlvbmFsUHJvcGVydGllcyk6cG9wdWxhdGVTY2hlbWFNYXAoYSxTQ0hFTUFfQU5ZKX19ZWxzZVwiYXJyYXlcIj09PXQudHlwZSYmKHIuaXRlbXM9ZStcIlsjXVwiLHBvcHVsYXRlU2NoZW1hTWFwKHIuaXRlbXMsdC5pdGVtcykpO2lmKHQuaGFzT3duUHJvcGVydHkoXCJkZXBlbmRzT25cIikpe251bGw9PT10LmRlcGVuZHNPbiYmKHQuZGVwZW5kc09uPVtcIiRcIl0pO2Zvcih2YXIgYz1uZXcgQXJyYXksbj0wO248dC5kZXBlbmRzT24ubGVuZ3RoO24rKyl0LmRlcGVuZHNPbltuXT90LmRlcGVuZHNPbltuXS5zdGFydHNXaXRoKFwiJFwiKT9jW25dPXQuZGVwZW5kc09uW25dOmUuZW5kc1dpdGgoXCJdXCIpP2Nbbl09ZStcIi5cIit0LmRlcGVuZHNPbltuXTpjW25dPWUuc3Vic3RyaW5nKDAsZS5sYXN0SW5kZXhPZihcIi5cIikpK1wiLlwiK3QuZGVwZW5kc09uW25dOmNbbl09XCIkXCI7c2NoZW1hTWFwW2VdLmRlcGVuZHNPbj1jO2Zvcih2YXIgbj0wO248Yy5sZW5ndGg7bisrKXt2YXIgbT1kZXBlbmRlbmN5TWFwW2Nbbl1dO218fChtPW5ldyBBcnJheSxkZXBlbmRlbmN5TWFwW2Nbbl1dPW0pLG1bbS5sZW5ndGhdPWV9fX19ZnVuY3Rpb24gcmVuZGVyVGl0bGUoZSx0LHIpe2lmKGUmJnQpe3ZhciBuPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsYWJlbFwiKTtcImFueVwiIT09ci50eXBlJiZcIm9iamVjdFwiIT09ci50eXBlJiZcImFycmF5XCIhPT1yLnR5cGUmJihuLmh0bWxGb3I9Z2V0SW5wdXRJZCgpKTt2YXIgYT1kb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSh0K1wiOlwiKTtpZihhcHBlbmRDaGlsZChuLGEsciksci5kZXNjcmlwdGlvbiYmKG4udGl0bGU9ci5kZXNjcmlwdGlvbiksci5yZXF1aXJlZCl7dmFyIGk9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN1cFwiKTthcHBlbmRDaGlsZChpLGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKFwiKlwiKSxyKSxhcHBlbmRDaGlsZChuLGksciksbi5jbGFzc05hbWU9XCJyZXF1aXJlZFwifWFwcGVuZENoaWxkKGUsbixyKX19ZnVuY3Rpb24gZ2V0SW5wdXRJZCgpe3JldHVybiBmb3JtSWQrXCJfXCIraW5wdXRDb3VudGVyfWZ1bmN0aW9uIHZhbGlkYXRlKGUpe3ZhciB0PSEwO2lmKGUuaGFzT3duUHJvcGVydHkoXCJnZXRWYWxpZGF0aW9uRXJyb3JcIikpe3ZhciByPWUuZ2V0VmFsaWRhdGlvbkVycm9yKCk7cj8oQnJ1dHVzaW5Gb3Jtcy5vblZhbGlkYXRpb25FcnJvcihlLHIpLHQ9ITEpOkJydXR1c2luRm9ybXMub25WYWxpZGF0aW9uU3VjY2VzcyhlKX1pZihlLmNoaWxkTm9kZXMpZm9yKHZhciBuPTA7bjxlLmNoaWxkTm9kZXMubGVuZ3RoO24rKyl2YWxpZGF0ZShlLmNoaWxkTm9kZXNbbl0pfHwodD0hMSk7cmV0dXJuIHR9ZnVuY3Rpb24gY2xlYXIoZSl7aWYoZSlmb3IoO2UuZmlyc3RDaGlsZDspZS5yZW1vdmVDaGlsZChlLmZpcnN0Q2hpbGQpfWZ1bmN0aW9uIHJlbmRlcihlLHQscixuLGEsaSl7dmFyIG89Z2V0U2NoZW1hSWQocikscz1nZXRTY2hlbWEobyk7cmVuZGVySW5mb01hcFtvXT1uZXcgT2JqZWN0LHJlbmRlckluZm9NYXBbb10udGl0bGVDb250YWluZXI9ZSxyZW5kZXJJbmZvTWFwW29dLmNvbnRhaW5lcj10LHJlbmRlckluZm9NYXBbb10ucGFyZW50T2JqZWN0PW4scmVuZGVySW5mb01hcFtvXS5wcm9wZXJ0eVByb3ZpZGVyPWEscmVuZGVySW5mb01hcFtvXS52YWx1ZT1pLGNsZWFyKGUpLGNsZWFyKHQpO3ZhciB1PXJlbmRlcmVyc1tzLnR5cGVdO2lmKHUmJiFzLmRlcGVuZHNPbilzLnRpdGxlP3JlbmRlclRpdGxlKGUscy50aXRsZSxzKTphJiZyZW5kZXJUaXRsZShlLGEuZ2V0VmFsdWUoKSxzKSxpfHwoaT1cInVuZGVmaW5lZFwiIT10eXBlb2YgaW5pdGlhbFZhbHVlJiZudWxsIT09aW5pdGlhbFZhbHVlP2dldEluaXRpYWxWYWx1ZShyKTpzW1wiZGVmYXVsdFwiXSksdSh0LHIsbixhLGkpO2Vsc2UgaWYocy4kcmVmJiZvYmouc2NoZW1hUmVzb2x2ZXIpe3ZhciBsPWZ1bmN0aW9uKGUpe2lmKGUmJmUuaGFzT3duUHJvcGVydHkocikmJkpTT04uc3RyaW5naWZ5KHNjaGVtYU1hcFtyXSkhPT1KU09OLnN0cmluZ2lmeShlW3JdKSl7Y2xlYW5TY2hlbWFNYXAociksY2xlYW5EYXRhKHIpLHBvcHVsYXRlU2NoZW1hTWFwKHIsZVtyXSk7dmFyIHQ9cmVuZGVySW5mb01hcFtyXTt0JiZyZW5kZXIodC50aXRsZUNvbnRhaW5lcix0LmNvbnRhaW5lcixyLHQucGFyZW50T2JqZWN0LHQucHJvcGVydHlQcm92aWRlcix0LnZhbHVlKX1CcnV0dXNpbkZvcm1zLm9uUmVzb2x1dGlvbkZpbmlzaGVkKG4pfTtCcnV0dXNpbkZvcm1zLm9uUmVzb2x1dGlvblN0YXJ0ZWQobiksb2JqLnNjaGVtYVJlc29sdmVyKFtyXSxvYmouZ2V0RGF0YSgpLGwpfX1mdW5jdGlvbiBjcmVhdGVQcm9wZXJ0eVByb3ZpZGVyKGUsdCl7dmFyIHI9bmV3IE9iamVjdDtyZXR1cm4gci5nZXRWYWx1ZT1lLHIub25jaGFuZ2U9dCxyfWZ1bmN0aW9uIGdldEluaXRpYWxWYWx1ZShpZCl7dmFyIHJldDt0cnl7ZXZhbChcInJldCA9IGluaXRpYWxWYWx1ZVwiK2lkLnN1YnN0cmluZygxKSl9Y2F0Y2goZSl7cmV0PW51bGx9cmV0dXJuIHJldH1mdW5jdGlvbiBnZXRWYWx1ZShzY2hlbWEsaW5wdXQpe2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIGlucHV0LmdldFZhbHVlKXJldHVybiBpbnB1dC5nZXRWYWx1ZSgpO3ZhciB2YWx1ZTtyZXR1cm4gdmFsdWU9XCJzZWxlY3RcIj09PWlucHV0LnRhZ05hbWUudG9Mb3dlckNhc2UoKT9pbnB1dC5vcHRpb25zW2lucHV0LnNlbGVjdGVkSW5kZXhdLnZhbHVlOmlucHV0LnZhbHVlLFwiXCI9PT12YWx1ZT9udWxsOihcImludGVnZXJcIj09PXNjaGVtYS50eXBlPyh2YWx1ZT1wYXJzZUludCh2YWx1ZSksaXNGaW5pdGUodmFsdWUpfHwodmFsdWU9bnVsbCkpOlwibnVtYmVyXCI9PT1zY2hlbWEudHlwZT8odmFsdWU9cGFyc2VGbG9hdCh2YWx1ZSksaXNGaW5pdGUodmFsdWUpfHwodmFsdWU9bnVsbCkpOlwiYm9vbGVhblwiPT09c2NoZW1hLnR5cGU/XCJpbnB1dFwiPT09aW5wdXQudGFnTmFtZS50b0xvd2VyQ2FzZSgpPyh2YWx1ZT1pbnB1dC5jaGVja2VkLHZhbHVlfHwodmFsdWU9ITEpKTpcInNlbGVjdFwiPT09aW5wdXQudGFnTmFtZS50b0xvd2VyQ2FzZSgpJiYodmFsdWU9XCJ0cnVlXCI9PT1pbnB1dC52YWx1ZT8hMDpcImZhbHNlXCI9PT1pbnB1dC52YWx1ZT8hMTpudWxsKTpcImFueVwiPT09c2NoZW1hLnR5cGUmJnZhbHVlJiZldmFsKFwidmFsdWU9XCIrdmFsdWUpLHZhbHVlKX1mdW5jdGlvbiBnZXRTY2hlbWFJZChlKXtyZXR1cm4gZS5yZXBsYWNlKC9cXFtcIlteXCJdKlwiXFxdL2csXCJbKl1cIikucmVwbGFjZSgvXFxbXFxkKlxcXS9nLFwiWyNdXCIpfWZ1bmN0aW9uIGdldFBhcmVudFNjaGVtYUlkKGUpe3JldHVybiBlLnN1YnN0cmluZygwLGUubGFzdEluZGV4T2YoXCIuXCIpKX1mdW5jdGlvbiBnZXRTY2hlbWEoZSl7cmV0dXJuIHNjaGVtYU1hcFtlXX1mdW5jdGlvbiBjbGVhblNjaGVtYU1hcChlKXtmb3IodmFyIHQgaW4gc2NoZW1hTWFwKWUuc3RhcnRzV2l0aCh0KSYmZGVsZXRlIHNjaGVtYU1hcFt0XX1mdW5jdGlvbiBjbGVhbkRhdGEoZSl7dmFyIHQ9bmV3IEV4cHJlc3Npb24oZSk7dC52aXNpdChkYXRhLGZ1bmN0aW9uKGUsdCxyKXtkZWxldGUgdFtyXX0pfWZ1bmN0aW9uIG9uRGVwZW5kZW5jeUNoYW5nZWQoZSx0KXt2YXIgcj1kZXBlbmRlbmN5TWFwW2VdO2lmKHImJm9iai5zY2hlbWFSZXNvbHZlcil7dmFyIG49ZnVuY3Rpb24oZSl7aWYoZSlmb3IodmFyIHIgaW4gZSlpZihKU09OLnN0cmluZ2lmeShzY2hlbWFNYXBbcl0pIT09SlNPTi5zdHJpbmdpZnkoZVtyXSkpe2NsZWFuU2NoZW1hTWFwKHIpLGNsZWFuRGF0YShyKSxwb3B1bGF0ZVNjaGVtYU1hcChyLGVbcl0pO3ZhciBuPXJlbmRlckluZm9NYXBbcl07biYmcmVuZGVyKG4udGl0bGVDb250YWluZXIsbi5jb250YWluZXIscixuLnBhcmVudE9iamVjdCxuLnByb3BlcnR5UHJvdmlkZXIsbi52YWx1ZSl9QnJ1dHVzaW5Gb3Jtcy5vblJlc29sdXRpb25GaW5pc2hlZCh0KX07QnJ1dHVzaW5Gb3Jtcy5vblJlc29sdXRpb25TdGFydGVkKHQpLG9iai5zY2hlbWFSZXNvbHZlcihyLG9iai5nZXREYXRhKCksbil9fWZ1bmN0aW9uIEV4cHJlc3Npb24oZSl7ZnVuY3Rpb24gdChlKXtpZihudWxsPT09ZSlyZXR1cm4gbnVsbDtmb3IodmFyIHQ9bmV3IEFycmF5LHI9bnVsbCxuPTAsYT0wO2E8ZS5sZW5ndGg7YSsrKSdcIic9PT1lLmNoYXJBdChhKT9udWxsPT09cj9yPSdcIic6J1wiJz09PXImJihyPW51bGwsdFt0Lmxlbmd0aF09ZS5zdWJzdHJpbmcobixhKzEpLnRyaW0oKSxuPWErMSk6XCInXCI9PT1lLmNoYXJBdChhKT9udWxsPT09cj9yPVwiJ1wiOlwiJ1wiPT09ciYmKHI9bnVsbCx0W3QubGVuZ3RoXT1lLnN1YnN0cmluZyhuLGErMSkudHJpbSgpLG49YSsxKTpcIltcIj09PWUuY2hhckF0KGEpP251bGw9PT1yJiYobiE9PWEmJih0W3QubGVuZ3RoXT1lLnN1YnN0cmluZyhuLGEpLnRyaW0oKSksdFt0Lmxlbmd0aF09XCJbXCIsbj1hKzEpOlwiXVwiPT09ZS5jaGFyQXQoYSk/bnVsbD09PXImJihuIT09YSYmKHRbdC5sZW5ndGhdPWUuc3Vic3RyaW5nKG4sYSkudHJpbSgpKSx0W3QubGVuZ3RoXT1cIl1cIixuPWErMSk6XCIuXCI9PT1lLmNoYXJBdChhKT9udWxsPT09ciYmKG4hPT1hJiYodFt0Lmxlbmd0aF09ZS5zdWJzdHJpbmcobixhKS50cmltKCkpLG49YSsxKTphPT09ZS5sZW5ndGgtMSYmKHRbdC5sZW5ndGhdPWUuc3Vic3RyaW5nKG4sYSsxKS50cmltKCkpO3JldHVybiB0fShudWxsPT09ZXx8MD09PWUubGVuZ3RofHxcIi5cIj09PWUpJiYoZT1cIiRcIik7Zm9yKHZhciByPW5ldyBBcnJheSxuPXQoZSksYT0hMSxpPTAsbz1cIlwiLHM9MDtzPG4ubGVuZ3RoO3MrKyl7dmFyIHU9bltzXTtpZihcIltcIj09PXUpe2lmKGEpdGhyb3dcIkVycm9yIHBhcnNpbmcgZXhwcmVzc2lvbiAnXCIrZStcIic6IE5lc3RlZCBbIGZvdW5kXCI7YT0hMCxpPTAsbys9dX1lbHNlIGlmKFwiXVwiPT09dSl7aWYoIWEpdGhyb3dcIkVycm9yIHBhcnNpbmcgZXhwcmVzc2lvbiAnXCIrZStcIic6IFVuYmFsYW5jZWQgXSBmb3VuZFwiO2E9ITEsbys9dSxyW3IubGVuZ3RoXT1vLG89XCJcIn1lbHNlIGlmKGEpe2lmKGk+MCl0aHJvd1wiRXJyb3IgcGFyc2luZyBleHByZXNzaW9uICdcIitlK1wiJzogTXVsdGlwbGUgdG9rZW5zIGZvdW5kIGluc2lkZSBhIGJyYWNrZXRcIjtvKz11LGkrK31lbHNlIHJbci5sZW5ndGhdPXU7aWYocz09PW4ubGVuZ3RoLTEmJmEpdGhyb3dcIkVycm9yIHBhcnNpbmcgZXhwcmVzc2lvbiAnXCIrZStcIic6IFVuYmFsYW5jZWQgWyBmb3VuZFwifXRoaXMuZXhwPWUsdGhpcy5xdWV1ZT1yLHRoaXMudmlzaXQ9ZnVuY3Rpb24oZSx0KXtmdW5jdGlvbiByKGUsbixhLGksbyl7aWYobnVsbCE9YSl7dmFyIHM9bi5zaGlmdCgpO2lmKFwiJFwiPT09cyl7ZT1cIiRcIjt2YXIgcz1uLnNoaWZ0KCl9aWYocylpZihBcnJheS5pc0FycmF5KGEpKXtpZighcy5zdGFydHNXaXRoKFwiW1wiKSl0aHJvd1wiTm9kZSAnXCIrZStcIicgaXMgb2YgdHlwZSBhcnJheVwiO3ZhciB1PXMuc3Vic3RyaW5nKDEscy5sZW5ndGgtMSk7aWYodS5lcXVhbHMoXCIjXCIpKWZvcih2YXIgbD0wO2w8YS5sZW5ndGg7bCsrKXt2YXIgZD1hW2xdO3IoZStzLG4uc2xpY2UoMCksZCxhLGwpLHIoZStcIltcIitsK1wiXVwiLG4uc2xpY2UoMCksZCxhLGwpfWVsc2UgaWYoXCIkXCI9PT11KXt2YXIgZD1hW2EubGVuZ3RoLTFdO3IoZStzLG4uc2xpY2UoMCksZCxhLGEubGVuZ3RoLTEpfWVsc2V7dmFyIHA9cGFyc2VJbnQodSk7aWYoaXNOYU4ocCkpdGhyb3dcIkVsZW1lbnQgJ1wiK3UrXCInIG9mIG5vZGUgJ1wiK2UrXCInIGlzIG5vdCBhbiBpbnRlZ2VyLCBvciB0aGUgJyQnIGxhc3QgZWxlbWVudCBzeW1ib2wsICBvciB0aGUgd2lsY2FyZCBzeW1ib2wgJyMnXCI7aWYoMD5wKXRocm93XCJFbGVtZW50ICdcIit1K1wiJyBvZiBub2RlICdcIitlK1wiJyBpcyBsb3dlciB0aGFuIHplcm9cIjt2YXIgZD1hW3BdO3IoZStzLG4uc2xpY2UoMCksZCxhLHApfX1lbHNle2lmKFwib2JqZWN0XCIhPXR5cGVvZiBhKXRocm93XCJib29sZWFuXCI9PXR5cGVvZiBhfHxcIm51bWJlclwiPT10eXBlb2YgYXx8XCJzdHJpbmdcIj09dHlwZW9mIGE/XCJOb2RlIGlzIGxlYWYgYnV0IHN0aWxsIGFyZSB0b2tlbnMgcmVtYWluaW5nOiBcIitzOlwiTm9kZSB0eXBlICdcIit0eXBlb2YgYStcIicgbm90IHN1cHBvcnRlZCBmb3IgaW5kZXggZmllbGQgJ1wiK2UrXCInXCI7aWYoXCJbKl1cIj09PXMpZm9yKHZhciBjIGluIGEpe3ZhciBkPWFbY107cihlK3Msbi5zbGljZSgwKSxkLGEsYykscihlKydbXCInK2MrJ1wiXScsbi5zbGljZSgwKSxkLGEsYyl9ZWxzZXt2YXIgZDtpZihzLnN0YXJ0c1dpdGgoXCJbXCIpKXt2YXIgdT1zLnN1YnN0cmluZygxLHMubGVuZ3RoLTEpO2lmKCF1LnN0YXJ0c1dpdGgoJ1wiJykmJiF1LnN0YXJ0c1dpdGgoXCInXCIpKXRocm93XCJFbGVtZW50ICdcIit1K1wiJyBvZiBub2RlICdcIitlK1wiJyBtdXN0IGJlIGEgc3RyaW5nIGV4cHJlc3Npb24gb3Igd2lsY2FyZCAnKidcIjt1PXUuc3Vic3RyaW5nKDEsdS5sZW5ndGgoKS0xKSxlKz1zLGQ9YVt1XX1lbHNlIGU9ZS5sZW5ndGg+MD9lK1wiLlwiK3M6cyxkPWFbc107cihlLG4sZCxhLHMpfX1lbHNlIHQoYSxpLG8pfX1yKHRoaXMuZXhwLHRoaXMucXVldWUsZSl9fXZhciBTQ0hFTUFfQU5ZPXt0eXBlOlwiYW55XCJ9LG9iaj1uZXcgT2JqZWN0LHNjaGVtYU1hcD1uZXcgT2JqZWN0LGRlcGVuZGVuY3lNYXA9bmV3IE9iamVjdCxyZW5kZXJJbmZvTWFwPW5ldyBPYmplY3QsY29udGFpbmVyLGRhdGEsZXJyb3IsaW5pdGlhbFZhbHVlLGlucHV0Q291bnRlcj0wLHJvb3Q9c2NoZW1hLGZvcm1JZD1cIkJydXR1c2luRm9ybXMjXCIrQnJ1dHVzaW5Gb3Jtcy5pbnN0YW5jZXMubGVuZ3RoO3JlbmFtZVJlcXVpcmVkUHJvcGV0aWVzKHNjaGVtYSkscG9wdWxhdGVTY2hlbWFNYXAoXCIkXCIsc2NoZW1hKSx2YWxpZGF0ZURlcGVuY3lNYXBJc0FjeWNsaWMoKTt2YXIgcmVuZGVyZXJzPW5ldyBPYmplY3Q7cmV0dXJuIHJlbmRlcmVycy5pbnRlZ2VyPWZ1bmN0aW9uKGUsdCxyLG4sYSl7cmVuZGVyZXJzLnN0cmluZyhlLHQscixuLGEpfSxyZW5kZXJlcnMubnVtYmVyPWZ1bmN0aW9uKGUsdCxyLG4sYSl7cmVuZGVyZXJzLnN0cmluZyhlLHQscixuLGEpfSxyZW5kZXJlcnMuYW55PWZ1bmN0aW9uKGUsdCxyLG4sYSl7cmVuZGVyZXJzLnN0cmluZyhlLHQscixuLGEpfSxyZW5kZXJlcnMuc3RyaW5nPWZ1bmN0aW9uKGUsdCxyLG4sYSl7dmFyIGksbz1nZXRTY2hlbWFJZCh0KSxzPWdldFBhcmVudFNjaGVtYUlkKG8pLHU9Z2V0U2NoZW1hKG8pLGw9Z2V0U2NoZW1hKHMpO2lmKFwiYW55XCI9PT11LnR5cGUpaT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGV4dGFyZWFcIiksYSYmKGkudmFsdWU9SlNPTi5zdHJpbmdpZnkoYSxudWxsLDQpLHUucmVhZE9ubHkmJihpLmRpc2FibGVkPSEwKSk7ZWxzZSBpZih1Lm1lZGlhKWk9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpLGkudHlwZT1cImZpbGVcIixhcHBlbmRDaGlsZChpLGQsdSk7ZWxzZSBpZih1W1wiZW51bVwiXSl7aWYoaT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic2VsZWN0XCIpLCF1LnJlcXVpcmVkKXt2YXIgZD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwib3B0aW9uXCIpLHA9ZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoXCJcIik7ZC52YWx1ZT1cIlwiLGFwcGVuZENoaWxkKGQscCx1KSxhcHBlbmRDaGlsZChpLGQsdSl9Zm9yKHZhciBjPTAsbT0wO208dVtcImVudW1cIl0ubGVuZ3RoO20rKyl7dmFyIGQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIm9wdGlvblwiKSxwPWRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHVbXCJlbnVtXCJdW21dKTtkLnZhbHVlPXVbXCJlbnVtXCJdW21dLGFwcGVuZENoaWxkKGQscCx1KSxhcHBlbmRDaGlsZChpLGQsdSksYSYmdVtcImVudW1cIl1bbV09PT1hJiYoYz1tLHUucmVxdWlyZWR8fGMrKyx1LnJlYWRPbmx5JiYoaS5kaXNhYmxlZD0hMCkpfTE9PT11W1wiZW51bVwiXS5sZW5ndGg/aS5zZWxlY3RlZEluZGV4PTE6aS5zZWxlY3RlZEluZGV4PWN9ZWxzZXtpZihpPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKSxcImludGVnZXJcIj09PXUudHlwZXx8XCJudW1iZXJcIj09PXUudHlwZSlpLnR5cGU9XCJudW1iZXJcIixpLnN0ZXA9dS5zdGVwP1wiXCIrdS5zdGVwOlwiYW55XCIsXCJudW1iZXJcIiE9dHlwZW9mIGEmJihhPW51bGwpO2Vsc2UgaWYoXCJkYXRlLXRpbWVcIj09PXUuZm9ybWF0KXRyeXtpLnR5cGU9XCJkYXRldGltZS1sb2NhbFwifWNhdGNoKGYpe2kudHlwZT1cInRleHRcIn1lbHNlXCJlbWFpbFwiPT09dS5mb3JtYXQ/aS50eXBlPVwiZW1haWxcIjpcInRleHRcIj09PXUuZm9ybWF0P2k9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRleHRhcmVhXCIpOmkudHlwZT1cInRleHRcIjtudWxsIT09YSYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGEmJihpLnZhbHVlPWEsdS5yZWFkT25seSYmKGkuZGlzYWJsZWQ9ITApKX1yZXR1cm4gaS5zY2hlbWE9byxpLnNldEF0dHJpYnV0ZShcImF1dG9jb3JyZWN0XCIsXCJvZmZcIiksaS5nZXRWYWxpZGF0aW9uRXJyb3I9ZnVuY3Rpb24oKXt0cnl7dmFyIGU9Z2V0VmFsdWUodSxpKTtpZihudWxsPT09ZSl7aWYodS5yZXF1aXJlZCl7aWYoIWx8fFwib2JqZWN0XCIhPT1sLnR5cGUpcmV0dXJuIEJydXR1c2luRm9ybXMubWVzc2FnZXMucmVxdWlyZWQ7aWYobC5yZXF1aXJlZClyZXR1cm4gQnJ1dHVzaW5Gb3Jtcy5tZXNzYWdlcy5yZXF1aXJlZDtmb3IodmFyIHQgaW4gcilpZihudWxsIT09clt0XSlyZXR1cm4gQnJ1dHVzaW5Gb3Jtcy5tZXNzYWdlcy5yZXF1aXJlZH19ZWxzZXtpZih1LnBhdHRlcm4mJiF1LnBhdHRlcm4udGVzdChlKSlyZXR1cm4gQnJ1dHVzaW5Gb3Jtcy5tZXNzYWdlcy5wYXR0ZXJuLmZvcm1hdCh1LnBhdHRlcm4uc291cmNlKTtpZih1Lm1pbkxlbmd0aCYmKCFlfHx1Lm1pbkxlbmd0aD5lLmxlbmd0aCkpcmV0dXJuIEJydXR1c2luRm9ybXMubWVzc2FnZXMubWluTGVuZ3RoLmZvcm1hdCh1Lm1pbkxlbmd0aCk7aWYodS5tYXhMZW5ndGgmJmUmJnUubWF4TGVuZ3RoPGUubGVuZ3RoKXJldHVybiBCcnV0dXNpbkZvcm1zLm1lc3NhZ2VzLm1heExlbmd0aC5mb3JtYXQodS5tYXhMZW5ndGgpfWlmKG51bGwhPT1lJiYhaXNOYU4oZSkpe2lmKHUubXVsdGlwbGVPZiYmZSV1Lm11bHRpcGxlT2YhPT0wKXJldHVybiBCcnV0dXNpbkZvcm1zLm1lc3NhZ2VzLm11bHRpcGxlT2YuZm9ybWF0KHUubXVsdGlwbGVPZik7aWYodS5oYXNPd25Qcm9wZXJ0eShcIm1heGltdW1cIikpe2lmKHUuZXhjbHVzaXZlTWF4aW11bSYmZT49dS5tYXhpbXVtKXJldHVybiBCcnV0dXNpbkZvcm1zLm1lc3NhZ2VzLmV4Y2x1c2l2ZU1heGltdW0uZm9ybWF0KHUubWF4aW11bSk7aWYoIXUuZXhjbHVzaXZlTWF4aW11bSYmZT51Lm1heGltdW0pcmV0dXJuIEJydXR1c2luRm9ybXMubWVzc2FnZXMubWF4aW11bS5mb3JtYXQodS5tYXhpbXVtKX1pZih1Lmhhc093blByb3BlcnR5KFwibWluaW11bVwiKSl7aWYodS5leGNsdXNpdmVNaW5pbXVtJiZlPD11Lm1pbmltdW0pcmV0dXJuIEJydXR1c2luRm9ybXMubWVzc2FnZXMuZXhjbHVzaXZlTWluaW11bS5mb3JtYXQodS5taW5pbXVtKTtpZighdS5leGNsdXNpdmVNaW5pbXVtJiZlPHUubWluaW11bSlyZXR1cm4gQnJ1dHVzaW5Gb3Jtcy5tZXNzYWdlcy5taW5pbXVtLmZvcm1hdCh1Lm1pbmltdW0pfX19Y2F0Y2gobil7cmV0dXJuIEJydXR1c2luRm9ybXMubWVzc2FnZXMuaW52YWxpZFZhbHVlfX0saS5vbmNoYW5nZT1mdW5jdGlvbigpe3ZhciBlO3RyeXtlPWdldFZhbHVlKHUsaSl9Y2F0Y2godCl7ZT1udWxsfXI/cltuLmdldFZhbHVlKCldPWU6ZGF0YT1lLG9uRGVwZW5kZW5jeUNoYW5nZWQobyxpKX0sdS5kZXNjcmlwdGlvbiYmKGkudGl0bGU9dS5kZXNjcmlwdGlvbixpLnBsYWNlaG9sZGVyPXUuZGVzY3JpcHRpb24pLGkub25jaGFuZ2UoKSxpLmlkPWdldElucHV0SWQoKSxpbnB1dENvdW50ZXIrKyxhcHBlbmRDaGlsZChlLGksdSkscn0scmVuZGVyZXJzW1wiYm9vbGVhblwiXT1mdW5jdGlvbihlLHQscixuLGEpe3ZhciBpLG89Z2V0U2NoZW1hSWQodCkscz1nZXRTY2hlbWEobyk7aWYocy5yZXF1aXJlZClpPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKSxpLnR5cGU9XCJjaGVja2JveFwiLGE9PT0hMCYmKGkuY2hlY2tlZD0hMCk7ZWxzZXtpPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzZWxlY3RcIik7dmFyIHU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIm9wdGlvblwiKSxsPWRvY3VtZW50LmNyZWF0ZVRleHROb2RlKFwiXCIpO2wudmFsdWU9XCJcIixhcHBlbmRDaGlsZCh1LGwscyksYXBwZW5kQ2hpbGQoaSx1LHMpO3ZhciBkPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJvcHRpb25cIikscD1kb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShCcnV0dXNpbkZvcm1zLm1lc3NhZ2VzW1widHJ1ZVwiXSk7ZC52YWx1ZT1cInRydWVcIixhcHBlbmRDaGlsZChkLHAscyksYXBwZW5kQ2hpbGQoaSxkLHMpO3ZhciBjPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJvcHRpb25cIiksbT1kb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShCcnV0dXNpbkZvcm1zLm1lc3NhZ2VzW1wiZmFsc2VcIl0pO2MudmFsdWU9XCJmYWxzZVwiLGFwcGVuZENoaWxkKGMsbSxzKSxhcHBlbmRDaGlsZChpLGMscyksYT09PSEwP2kuc2VsZWN0ZWRJbmRleD0xOmE9PT0hMSYmKGkuc2VsZWN0ZWRJbmRleD0yKX1pLm9uY2hhbmdlPWZ1bmN0aW9uKCl7cj9yW24uZ2V0VmFsdWUoKV09Z2V0VmFsdWUocyxpKTpkYXRhPWdldFZhbHVlKHMsaSksb25EZXBlbmRlbmN5Q2hhbmdlZChvLGkpfSxpLnNjaGVtYT1vLGkuaWQ9Z2V0SW5wdXRJZCgpLGlucHV0Q291bnRlcisrLHMuZGVzY3JpcHRpb24mJihpLnRpdGxlPXMuZGVzY3JpcHRpb24pLGkub25jaGFuZ2UoKSxhcHBlbmRDaGlsZChlLGkscyl9LHJlbmRlcmVycy5vbmVPZj1mdW5jdGlvbihlLHQscixuLGEpe3ZhciBpPWdldFNjaGVtYUlkKHQpLG89Z2V0U2NoZW1hKGkpLHM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNlbGVjdFwiKSx1PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7dS5pbm5lckhUTUw9XCJcIixzLnR5cGU9XCJzZWxlY3RcIixzLnNjaGVtYT1pO3ZhciBsPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJvcHRpb25cIik7bC52YWx1ZT1udWxsLGFwcGVuZENoaWxkKHMsbCxvKTtmb3IodmFyIGQ9MDtkPG8ub25lT2YubGVuZ3RoO2QrKyl7dmFyIHA9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIm9wdGlvblwiKSxjPWkrXCIuXCIrZCxtPWdldFNjaGVtYShjKSxmPWRvY3VtZW50LmNyZWF0ZVRleHROb2RlKG0udGl0bGUpO2lmKHAudmFsdWU9by5vbmVPZltkXSxhcHBlbmRDaGlsZChwLGYsbyksYXBwZW5kQ2hpbGQocyxwLG8pLHZvaWQgMCE9PWEmJm51bGwhPT1hJiYoby5yZWFkT25seSYmKHMuZGlzYWJsZWQ9ITApLGEuaGFzT3duUHJvcGVydHkoXCJ0eXBlXCIpJiZtLmhhc093blByb3BlcnR5KFwicHJvcGVydGllc1wiKSYmbS5wcm9wZXJ0aWVzLmhhc093blByb3BlcnR5KFwidHlwZVwiKSkpe3ZhciBoPWdldFNjaGVtYShtLnByb3BlcnRpZXMudHlwZSk7YS50eXBlPT09aFtcImVudW1cIl1bMF0mJihzLnNlbGVjdGVkSW5kZXg9ZCsxLHJlbmRlcihudWxsLHUsdCtcIi5cIisocy5zZWxlY3RlZEluZGV4LTEpLHIsbixhKSl9fXMub25jaGFuZ2U9ZnVuY3Rpb24oKXtyZW5kZXIobnVsbCx1LHQrXCIuXCIrKHMuc2VsZWN0ZWRJbmRleC0xKSxyLG4sYSl9LGFwcGVuZENoaWxkKGUscyxvKSxhcHBlbmRDaGlsZChlLHUsbyl9LHJlbmRlcmVycy5vYmplY3Q9ZnVuY3Rpb24oZSx0LHIsbixhKXtmdW5jdGlvbiBpKGUpe3ZhciB0PW5ldyBPYmplY3Q7cmV0dXJuIHQuZ2V0VmFsdWU9ZnVuY3Rpb24oKXtyZXR1cm4gZX0sdC5vbmNoYW5nZT1mdW5jdGlvbihlKXt9LHR9ZnVuY3Rpb24gbyhlLHQscixuLGEsaSl7dmFyIG89Z2V0U2NoZW1hSWQocikscz1nZXRTY2hlbWEobyksdT10LnRCb2RpZXNbMF0sbD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidHJcIiksZD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGRcIik7ZC5jbGFzc05hbWU9XCJhZGQtcHJvcC1uYW1lXCI7dmFyIHA9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRhYmxlXCIpLGM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRyXCIpLG09ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRkXCIpLGY9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRkXCIpLGg9XCIkXCIrT2JqZWN0LmtleXMoZSkubGVuZ3RoK1wiJFwiLHY9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRkXCIpO3YuY2xhc3NOYW1lPVwicHJvcC12YWx1ZVwiO3ZhciBnPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtnLnR5cGU9XCJ0ZXh0XCI7dmFyIHk7aSYmKHk9UmVnRXhwKGkpKSxnLmdldFZhbGlkYXRpb25FcnJvcj1mdW5jdGlvbigpe3JldHVybiBnLnByZXZpb3VzVmFsdWUhPT1nLnZhbHVlJiZlLmhhc093blByb3BlcnR5KGcudmFsdWUpP0JydXR1c2luRm9ybXMubWVzc2FnZXMuYWRkcHJvcE5hbWVFeGlzdGVudDpnLnZhbHVlP3ZvaWQgMDpCcnV0dXNpbkZvcm1zLm1lc3NhZ2VzLmFkZHByb3BOYW1lUmVxdWlyZWR9O3ZhciBiPWNyZWF0ZVByb3BlcnR5UHJvdmlkZXIoZnVuY3Rpb24oKXtpZihnLnZhbHVlKXtpZigheSlyZXR1cm4gZy52YWx1ZTtpZigtMSE9PWcudmFsdWUuc2VhcmNoKHkpKXJldHVybiBnLnZhbHVlfXJldHVybiBofSxmdW5jdGlvbih0KXtiLmdldFZhbHVlKCkhPT10JiYodCYmZS5oYXNPd25Qcm9wZXJ0eSh0KXx8KHQ9aCksKGUuaGFzT3duUHJvcGVydHkodCl8fHkmJi0xPT09Yi5nZXRWYWx1ZSgpLnNlYXJjaCh5KSkmJihlW2IuZ2V0VmFsdWUoKV09ZVt0XSxkZWxldGUgZVt0XSkpfSk7Zy5vbmJsdXI9ZnVuY3Rpb24oKXtpZihnLnByZXZpb3VzVmFsdWUhPT1nLnZhbHVlKXtmb3IodmFyIHQ9Zy52YWx1ZSxyPTE7Zy5wcmV2aW91c1ZhbHVlIT09dCYmZS5oYXNPd25Qcm9wZXJ0eSh0KTspdD1nLnZhbHVlK1wiKFwiK3IrXCIpXCIscisrO3JldHVybiBnLnZhbHVlPXQsYi5vbmNoYW5nZShnLnByZXZpb3VzVmFsdWUpLHZvaWQoZy5wcmV2aW91c1ZhbHVlPWcudmFsdWUpfX07dmFyIFA9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtQLnNldEF0dHJpYnV0ZShcInR5cGVcIixcImJ1dHRvblwiKSxQLmNsYXNzTmFtZT1cInJlbW92ZVwiLGFwcGVuZENoaWxkKFAsZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoXCJ4XCIpLHMpLFAub25jbGljaz1mdW5jdGlvbigpe2RlbGV0ZSBlW2cudmFsdWVdLHQuZGVsZXRlUm93KGwucm93SW5kZXgpLGcudmFsdWU9bnVsbCxiLm9uY2hhbmdlKGcucHJldmlvdXNWYWx1ZSl9LGFwcGVuZENoaWxkKG0sZyxzKSxhcHBlbmRDaGlsZChmLFAscyksYXBwZW5kQ2hpbGQoYyxtLHMpLGFwcGVuZENoaWxkKGMsZixzKSxhcHBlbmRDaGlsZChwLGMscyksYXBwZW5kQ2hpbGQoZCxwLHMpLHZvaWQgMCE9PWkmJihnLnBsYWNlaG9sZGVyPWkpLGFwcGVuZENoaWxkKGwsZCxzKSxhcHBlbmRDaGlsZChsLHYscyksYXBwZW5kQ2hpbGQodSxsLHMpLGFwcGVuZENoaWxkKHQsdSxzKSxyZW5kZXIobnVsbCx2LHIsZSxiLGEpLG4mJihnLnZhbHVlPW4sZy5vbmJsdXIoKSl9dmFyIHM9Z2V0U2NoZW1hSWQodCksdT1nZXRTY2hlbWEocyksbD1uZXcgT2JqZWN0O3I/KG4uZ2V0VmFsdWUoKXx8MD09PW4uZ2V0VmFsdWUoKSkmJihyW24uZ2V0VmFsdWUoKV09bCk6ZGF0YT1sO3ZhciBkPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0YWJsZVwiKTtkLmNsYXNzTmFtZT1cIm9iamVjdFwiO3ZhciBwPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0Ym9keVwiKTthcHBlbmRDaGlsZChkLHAsdSk7dmFyIGM9MDtpZih1Lmhhc093blByb3BlcnR5KFwicHJvcGVydGllc1wiKSl7Yz11LnByb3BlcnRpZXMubGVuZ3RoO2Zvcih2YXIgbSBpbiB1LnByb3BlcnRpZXMpe3ZhciBmPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0clwiKSxoPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0ZFwiKTtoLmNsYXNzTmFtZT1cInByb3AtbmFtZVwiO3ZhciB2PXQrXCIuXCIrbSxnPWdldFNjaGVtYShnZXRTY2hlbWFJZCh2KSkseT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGRcIik7eS5jbGFzc05hbWU9XCJwcm9wLXZhbHVlXCIsYXBwZW5kQ2hpbGQocCxmLGcpLGFwcGVuZENoaWxkKGYsaCxnKSxhcHBlbmRDaGlsZChmLHksZyk7dmFyIGI9aShtKSxQPW51bGw7YSYmKFA9YVttXSkscmVuZGVyKGgseSx2LGwsYixQKX19dmFyIE89W107aWYodS5wYXR0ZXJuUHJvcGVydGllc3x8dS5hZGRpdGlvbmFsUHJvcGVydGllcyl7dmFyIHc9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtpZihhcHBlbmRDaGlsZCh3LGQsdSksdS5wYXR0ZXJuUHJvcGVydGllcylmb3IodmFyIHggaW4gdS5wYXR0ZXJuUHJvcGVydGllcyl7dmFyIEM9dS5wYXR0ZXJuUHJvcGVydGllc1t4XSxFPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7RS5jbGFzc05hbWU9XCJhZGQtcGF0dGVybi1kaXZcIjt2YXIgUz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO2lmKFMuc2V0QXR0cmlidXRlKFwidHlwZVwiLFwiYnV0dG9uXCIpLFMucGF0dGVybj14LFMuaWQ9dCtcIltcIit4K1wiXVwiLFMub25jbGljaz1mdW5jdGlvbigpe28obCxkLHRoaXMuaWQsdm9pZCAwLHZvaWQgMCx0aGlzLnBhdHRlcm4pfSwodS5tYXhQcm9wZXJ0aWVzfHx1Lm1pblByb3BlcnRpZXMpJiYoUy5nZXRWYWxpZGF0aW9uRXJyb3I9ZnVuY3Rpb24oKXtyZXR1cm4gdS5taW5Qcm9wZXJ0aWVzJiZjK2Qucm93cy5sZW5ndGg8dS5taW5Qcm9wZXJ0aWVzP0JydXR1c2luRm9ybXMubWVzc2FnZXMubWluUHJvcGVydGllcy5mb3JtYXQodS5taW5Qcm9wZXJ0aWVzKTp1Lm1heFByb3BlcnRpZXMmJmMrZC5yb3dzLmxlbmd0aD51Lm1heFByb3BlcnRpZXM/QnJ1dHVzaW5Gb3Jtcy5tZXNzYWdlcy5tYXhQcm9wZXJ0aWVzLmZvcm1hdCh1Lm1heFByb3BlcnRpZXMpOnZvaWQgMH0pLEMuZGVzY3JpcHRpb24mJihTLnRpdGxlPUMuZGVzY3JpcHRpb24pLGFwcGVuZENoaWxkKFMsZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoXCJBZGQgXCIreCksdSksYXBwZW5kQ2hpbGQoRSxTLHUpLGEpZm9yKHZhciBJIGluIGEpaWYoIXUucHJvcGVydGllc3x8IXUucHJvcGVydGllcy5oYXNPd25Qcm9wZXJ0eShJKSl7dmFyIE49UmVnRXhwKHgpOy0xIT09SS5zZWFyY2goTikmJi0xPT09Ty5pbmRleE9mKEkpJiYobyhsLGQsdCtcIltcIit4K1wiXVwiLEksYVtJXSx4KSxPLnB1c2goSSkpfWFwcGVuZENoaWxkKHcsRSx1KX1pZih1LmFkZGl0aW9uYWxQcm9wZXJ0aWVzKXt2YXIgRj1nZXRTY2hlbWEodS5hZGRpdGlvbmFsUHJvcGVydGllcyksUz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO2lmKFMuc2V0QXR0cmlidXRlKFwidHlwZVwiLFwiYnV0dG9uXCIpLFMub25jbGljaz1mdW5jdGlvbigpe28obCxkLHQrXCJbKl1cIix2b2lkIDApfSwodS5tYXhQcm9wZXJ0aWVzfHx1Lm1pblByb3BlcnRpZXMpJiYoUy5nZXRWYWxpZGF0aW9uRXJyb3I9ZnVuY3Rpb24oKXtyZXR1cm4gdS5taW5Qcm9wZXJ0aWVzJiZjK2Qucm93cy5sZW5ndGg8dS5taW5Qcm9wZXJ0aWVzP0JydXR1c2luRm9ybXMubWVzc2FnZXMubWluUHJvcGVydGllcy5mb3JtYXQodS5taW5Qcm9wZXJ0aWVzKTp1Lm1heFByb3BlcnRpZXMmJmMrZC5yb3dzLmxlbmd0aD51Lm1heFByb3BlcnRpZXM/QnJ1dHVzaW5Gb3Jtcy5tZXNzYWdlcy5tYXhQcm9wZXJ0aWVzLmZvcm1hdCh1Lm1heFByb3BlcnRpZXMpOnZvaWQgMH0pLEYuZGVzY3JpcHRpb24mJihTLnRpdGxlPUYuZGVzY3JpcHRpb24pLGFwcGVuZENoaWxkKFMsZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoXCJBZGRcIiksdSksYXBwZW5kQ2hpbGQodyxTLHUpLGEpZm9yKHZhciBJIGluIGEpdS5wcm9wZXJ0aWVzJiZ1LnByb3BlcnRpZXMuaGFzT3duUHJvcGVydHkoSSl8fC0xPT09Ty5pbmRleE9mKEkpJiZvKGwsZCx0KydbXCInK20rJ1wiXScsSSxhW0ldKX1hcHBlbmRDaGlsZChlLHcsdSl9ZWxzZSBhcHBlbmRDaGlsZChlLGQsdSl9LHJlbmRlcmVycy5hcnJheT1mdW5jdGlvbihlLHQscixuLGEpe2Z1bmN0aW9uIGkoZSx0LHIsbixhKXt2YXIgaT1nZXRTY2hlbWFJZChyKSxvPWdldFNjaGVtYShpKSxzPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0Ym9keVwiKSx1PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0clwiKTt1LmNsYXNzTmFtZT1cIml0ZW1cIjt2YXIgbD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGRcIik7bC5jbGFzc05hbWU9XCJpdGVtLWluZGV4XCI7dmFyIGQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRkXCIpO2QuY2xhc3NOYW1lPVwiaXRlbS1hY3Rpb25cIjt2YXIgcD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGRcIik7cC5jbGFzc05hbWU9XCJpdGVtLXZhbHVlXCI7dmFyIGM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtjLnNldEF0dHJpYnV0ZShcInR5cGVcIixcImJ1dHRvblwiKSxjLmNsYXNzTmFtZT1cInJlbW92ZVwiLGE9PT0hMCYmKGMuZGlzYWJsZWQ9ITApLGFwcGVuZENoaWxkKGMsZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoXCJ4XCIpLG8pO3ZhciBtPWZ1bmN0aW9uKCl7Zm9yKHZhciBlPTA7ZTx0LnJvd3MubGVuZ3RoO2UrKyl7dmFyIHI9dC5yb3dzW2VdO3IuY2VsbHNbMF0uaW5uZXJIVE1MPWUrMX19O2Mub25jbGljaz1mdW5jdGlvbigpe2Uuc3BsaWNlKHUucm93SW5kZXgsMSksdC5kZWxldGVSb3codS5yb3dJbmRleCksbSgpfSxhcHBlbmRDaGlsZChkLGMsbyk7dmFyIGY9ZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUodC5yb3dzLmxlbmd0aCsxKTthcHBlbmRDaGlsZChsLGYsbyksYXBwZW5kQ2hpbGQodSxsLG8pLGFwcGVuZENoaWxkKHUsZCxvKSxhcHBlbmRDaGlsZCh1LHAsbyksYXBwZW5kQ2hpbGQocyx1LG8pLGFwcGVuZENoaWxkKHQscyxvKTt2YXIgaD1jcmVhdGVQcm9wZXJ0eVByb3ZpZGVyKGZ1bmN0aW9uKCl7cmV0dXJuIHUucm93SW5kZXh9KTtyZW5kZXIobnVsbCxwLHIsZSxoLG4pfXZhciBvPWdldFNjaGVtYUlkKHQpLHM9Z2V0U2NoZW1hKG8pLHU9Z2V0U2NoZW1hKHMuaXRlbXMpLGw9bmV3IEFycmF5O3I/KG4uZ2V0VmFsdWUoKXx8MD09PW4uZ2V0VmFsdWUoKSkmJihyW24uZ2V0VmFsdWUoKV09bCk6ZGF0YT1sLG4mJihuLm9uY2hhbmdlPWZ1bmN0aW9uKGUpe2RlbGV0ZSByW2VdLHJbbi5nZXRWYWx1ZSgpXT1sfSk7dmFyIGQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSxwPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0YWJsZVwiKTtwLmNsYXNzTmFtZT1cImFycmF5XCIsYXBwZW5kQ2hpbGQoZCxwLHMpLGFwcGVuZENoaWxkKGUsZCxzKTt2YXIgYz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO2lmKHMucmVhZE9ubHkmJihjLmRpc2FibGVkPSEwKSxjLnNldEF0dHJpYnV0ZShcInR5cGVcIixcImJ1dHRvblwiKSxjLmdldFZhbGlkYXRpb25FcnJvcj1mdW5jdGlvbigpe2lmKHMubWluSXRlbXMmJnMubWluSXRlbXM+cC5yb3dzLmxlbmd0aClyZXR1cm4gQnJ1dHVzaW5Gb3Jtcy5tZXNzYWdlcy5taW5JdGVtcy5mb3JtYXQocy5taW5JdGVtcyk7aWYocy5tYXhJdGVtcyYmcy5tYXhJdGVtczxwLnJvd3MubGVuZ3RoKXJldHVybiBCcnV0dXNpbkZvcm1zLm1lc3NhZ2VzLm1heEl0ZW1zLmZvcm1hdChzLm1heEl0ZW1zKTtpZihzLnVuaXF1ZUl0ZW1zKWZvcih2YXIgZT0wO2U8bC5sZW5ndGg7ZSsrKWZvcih2YXIgdD1lKzE7dDxsLmxlbmd0aDt0KyspaWYoSlNPTi5zdHJpbmdpZnkobFtlXSk9PT1KU09OLnN0cmluZ2lmeShsW3RdKSlyZXR1cm4gQnJ1dHVzaW5Gb3Jtcy5tZXNzYWdlcy51bmlxdWVJdGVtc30sYy5vbmNsaWNrPWZ1bmN0aW9uKCl7aShsLHAsdCtcIlsjXVwiLG51bGwpfSx1LmRlc2NyaXB0aW9uJiYoYy50aXRsZT11LmRlc2NyaXB0aW9uKSxhcHBlbmRDaGlsZChjLGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKEJydXR1c2luRm9ybXMubWVzc2FnZXMuYWRkSXRlbSkscyksYXBwZW5kQ2hpbGQoZCxwLHMpLGFwcGVuZENoaWxkKGQsYyxzKSxhJiZhIGluc3RhbmNlb2YgQXJyYXkpZm9yKHZhciBtPTA7bTxhLmxlbmd0aDttKyspaShsLHAsdCtcIltcIittK1wiXVwiLGFbbV0scy5yZWFkT25seSk7YXBwZW5kQ2hpbGQoZSxkLHMpfSxvYmoucmVuZGVyPWZ1bmN0aW9uKGUsdCl7Y29udGFpbmVyPWUsaW5pdGlhbFZhbHVlPXQ7dmFyIHI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImZvcm1cIik7aWYoci5jbGFzc05hbWU9XCJicnV0dXNpbi1mb3JtXCIsci5vbnN1Ym1pdD1mdW5jdGlvbihlKXtyZXR1cm4hMX0sY29udGFpbmVyP2FwcGVuZENoaWxkKGNvbnRhaW5lcixyKTphcHBlbmRDaGlsZChkb2N1bWVudC5ib2R5LHIpLGVycm9yKXt2YXIgbj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGFiZWxcIiksYT1kb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShlcnJvcik7YXBwZW5kQ2hpbGQobixhKSxuLmNsYXNzTmFtZT1cImVycm9yLW1lc3NhZ2VcIixhcHBlbmRDaGlsZChyLG4pfWVsc2UgcmVuZGVyKG51bGwscixcIiRcIixudWxsLG51bGwpO2RlcGVuZGVuY3lNYXAuaGFzT3duUHJvcGVydHkoXCIkXCIpJiZvbkRlcGVuZGVuY3lDaGFuZ2VkKFwiJFwiKSxCcnV0dXNpbkZvcm1zLnBvc3RSZW5kZXImJkJydXR1c2luRm9ybXMucG9zdFJlbmRlcihvYmopfSxvYmouZ2V0UmVuZGVyaW5nQ29udGFpbmVyPWZ1bmN0aW9uKCl7cmV0dXJuIGNvbnRhaW5lcn0sb2JqLnZhbGlkYXRlPWZ1bmN0aW9uKCl7cmV0dXJuIHZhbGlkYXRlKGNvbnRhaW5lcil9LG9iai5nZXREYXRhPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0LHIpe2lmKG51bGw9PT1zJiYocz1TQ0hFTUFfQU5ZKSxyLiRyZWYmJihyPWdldERlZmluaXRpb24oci4kcmVmKSksdCBpbnN0YW5jZW9mIEFycmF5KXtpZigwPT09dC5sZW5ndGgpcmV0dXJuIG51bGw7Zm9yKHZhciBuPW5ldyBBcnJheSxhPTA7YTx0Lmxlbmd0aDthKyspblthXT1lKHRbYV0sci5pdGVtcyk7cmV0dXJuIG59aWYoXCJcIj09PXQpcmV0dXJuIG51bGw7aWYodCBpbnN0YW5jZW9mIE9iamVjdCl7dmFyIG49bmV3IE9iamVjdCxpPSExO2Zvcih2YXIgbyBpbiB0KWlmKCFvLnN0YXJ0c1dpdGgoXCIkXCIpfHwhby5lbmRzV2l0aChcIiRcIikpe3ZhciBzPW51bGw7aWYoci5oYXNPd25Qcm9wZXJ0eShcInByb3BlcnRpZXNcIikmJnIucHJvcGVydGllcy5oYXNPd25Qcm9wZXJ0eShvKSYmKHM9ci5wcm9wZXJ0aWVzW29dKSxudWxsPT09cyYmci5oYXNPd25Qcm9wZXJ0eShcImFkZGl0aW9uYWxQcm9wZXJ0aWVzXCIpJiZcIm9iamVjdFwiPT10eXBlb2Ygci5hZGRpdGlvbmFsUHJvcGVydGllcyYmKHM9ci5hZGRpdGlvbmFsUHJvcGVydGllcyksbnVsbD09PXMmJnIuaGFzT3duUHJvcGVydHkoXCJwYXR0ZXJuUHJvcGVydGllc1wiKSlmb3IodmFyIHUgaW4gci5wYXR0ZXJuUHJvcGVydGllcyl7dmFyIGw9UmVnRXhwKHUpO2lmKC0xIT09by5zZWFyY2gobCkpe3M9ci5wYXR0ZXJuUHJvcGVydGllc1t1XTticmVha319dmFyIGQ9ZSh0W29dLHMpO251bGwhPT1kJiYobltvXT1kLGk9ITApfXJldHVybiBpfHxyLnJlcXVpcmVkP246bnVsbH1yZXR1cm4gdH1yZXR1cm4gY29udGFpbmVyP2UoZGF0YSxzY2hlbWEpOm51bGx9LEJydXR1c2luRm9ybXMuaW5zdGFuY2VzW0JydXR1c2luRm9ybXMuaW5zdGFuY2VzLmxlbmd0aF09b2JqLG9ian0sYnJ1dHVzaW5bXCJqc29uLWZvcm1zXCJdPUJydXR1c2luRm9ybXN9KCk7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2JydXR1c2luLWpzb24tZm9ybXMvZGlzdC9qcy9icnV0dXNpbi1qc29uLWZvcm1zLm1pbi5qc1xuLy8gbW9kdWxlIGlkID0gNTJcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiLy8gcmVtb3ZlZCBieSBleHRyYWN0LXRleHQtd2VicGFjay1wbHVnaW5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy9iYXNlLnNjc3Ncbi8vIG1vZHVsZSBpZCA9IDUzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24obW9kdWxlKSB7XHJcblx0aWYoIW1vZHVsZS53ZWJwYWNrUG9seWZpbGwpIHtcclxuXHRcdG1vZHVsZS5kZXByZWNhdGUgPSBmdW5jdGlvbigpIHt9O1xyXG5cdFx0bW9kdWxlLnBhdGhzID0gW107XHJcblx0XHQvLyBtb2R1bGUucGFyZW50ID0gdW5kZWZpbmVkIGJ5IGRlZmF1bHRcclxuXHRcdGlmKCFtb2R1bGUuY2hpbGRyZW4pIG1vZHVsZS5jaGlsZHJlbiA9IFtdO1xyXG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG1vZHVsZSwgXCJsb2FkZWRcIiwge1xyXG5cdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxyXG5cdFx0XHRnZXQ6IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdHJldHVybiBtb2R1bGUubDtcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobW9kdWxlLCBcImlkXCIsIHtcclxuXHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcclxuXHRcdFx0Z2V0OiBmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRyZXR1cm4gbW9kdWxlLmk7XHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cdFx0bW9kdWxlLndlYnBhY2tQb2x5ZmlsbCA9IDE7XHJcblx0fVxyXG5cdHJldHVybiBtb2R1bGU7XHJcbn07XHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vICh3ZWJwYWNrKS9idWlsZGluL21vZHVsZS5qc1xuLy8gbW9kdWxlIGlkID0gNTRcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwidmFyIHN1cHBvcnQgPSB7XG4gIHNlYXJjaFBhcmFtczogJ1VSTFNlYXJjaFBhcmFtcycgaW4gc2VsZixcbiAgaXRlcmFibGU6ICdTeW1ib2wnIGluIHNlbGYgJiYgJ2l0ZXJhdG9yJyBpbiBTeW1ib2wsXG4gIGJsb2I6XG4gICAgJ0ZpbGVSZWFkZXInIGluIHNlbGYgJiZcbiAgICAnQmxvYicgaW4gc2VsZiAmJlxuICAgIChmdW5jdGlvbigpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIG5ldyBCbG9iKClcbiAgICAgICAgcmV0dXJuIHRydWVcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICB9XG4gICAgfSkoKSxcbiAgZm9ybURhdGE6ICdGb3JtRGF0YScgaW4gc2VsZixcbiAgYXJyYXlCdWZmZXI6ICdBcnJheUJ1ZmZlcicgaW4gc2VsZlxufVxuXG5mdW5jdGlvbiBpc0RhdGFWaWV3KG9iaikge1xuICByZXR1cm4gb2JqICYmIERhdGFWaWV3LnByb3RvdHlwZS5pc1Byb3RvdHlwZU9mKG9iailcbn1cblxuaWYgKHN1cHBvcnQuYXJyYXlCdWZmZXIpIHtcbiAgdmFyIHZpZXdDbGFzc2VzID0gW1xuICAgICdbb2JqZWN0IEludDhBcnJheV0nLFxuICAgICdbb2JqZWN0IFVpbnQ4QXJyYXldJyxcbiAgICAnW29iamVjdCBVaW50OENsYW1wZWRBcnJheV0nLFxuICAgICdbb2JqZWN0IEludDE2QXJyYXldJyxcbiAgICAnW29iamVjdCBVaW50MTZBcnJheV0nLFxuICAgICdbb2JqZWN0IEludDMyQXJyYXldJyxcbiAgICAnW29iamVjdCBVaW50MzJBcnJheV0nLFxuICAgICdbb2JqZWN0IEZsb2F0MzJBcnJheV0nLFxuICAgICdbb2JqZWN0IEZsb2F0NjRBcnJheV0nXG4gIF1cblxuICB2YXIgaXNBcnJheUJ1ZmZlclZpZXcgPVxuICAgIEFycmF5QnVmZmVyLmlzVmlldyB8fFxuICAgIGZ1bmN0aW9uKG9iaikge1xuICAgICAgcmV0dXJuIG9iaiAmJiB2aWV3Q2xhc3Nlcy5pbmRleE9mKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvYmopKSA+IC0xXG4gICAgfVxufVxuXG5mdW5jdGlvbiBub3JtYWxpemVOYW1lKG5hbWUpIHtcbiAgaWYgKHR5cGVvZiBuYW1lICE9PSAnc3RyaW5nJykge1xuICAgIG5hbWUgPSBTdHJpbmcobmFtZSlcbiAgfVxuICBpZiAoL1teYS16MC05XFwtIyQlJicqKy5eX2B8fl0vaS50ZXN0KG5hbWUpKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignSW52YWxpZCBjaGFyYWN0ZXIgaW4gaGVhZGVyIGZpZWxkIG5hbWUnKVxuICB9XG4gIHJldHVybiBuYW1lLnRvTG93ZXJDYXNlKClcbn1cblxuZnVuY3Rpb24gbm9ybWFsaXplVmFsdWUodmFsdWUpIHtcbiAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gJ3N0cmluZycpIHtcbiAgICB2YWx1ZSA9IFN0cmluZyh2YWx1ZSlcbiAgfVxuICByZXR1cm4gdmFsdWVcbn1cblxuLy8gQnVpbGQgYSBkZXN0cnVjdGl2ZSBpdGVyYXRvciBmb3IgdGhlIHZhbHVlIGxpc3RcbmZ1bmN0aW9uIGl0ZXJhdG9yRm9yKGl0ZW1zKSB7XG4gIHZhciBpdGVyYXRvciA9IHtcbiAgICBuZXh0OiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciB2YWx1ZSA9IGl0ZW1zLnNoaWZ0KClcbiAgICAgIHJldHVybiB7ZG9uZTogdmFsdWUgPT09IHVuZGVmaW5lZCwgdmFsdWU6IHZhbHVlfVxuICAgIH1cbiAgfVxuXG4gIGlmIChzdXBwb3J0Lml0ZXJhYmxlKSB7XG4gICAgaXRlcmF0b3JbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIGl0ZXJhdG9yXG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGl0ZXJhdG9yXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBIZWFkZXJzKGhlYWRlcnMpIHtcbiAgdGhpcy5tYXAgPSB7fVxuXG4gIGlmIChoZWFkZXJzIGluc3RhbmNlb2YgSGVhZGVycykge1xuICAgIGhlYWRlcnMuZm9yRWFjaChmdW5jdGlvbih2YWx1ZSwgbmFtZSkge1xuICAgICAgdGhpcy5hcHBlbmQobmFtZSwgdmFsdWUpXG4gICAgfSwgdGhpcylcbiAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KGhlYWRlcnMpKSB7XG4gICAgaGVhZGVycy5mb3JFYWNoKGZ1bmN0aW9uKGhlYWRlcikge1xuICAgICAgdGhpcy5hcHBlbmQoaGVhZGVyWzBdLCBoZWFkZXJbMV0pXG4gICAgfSwgdGhpcylcbiAgfSBlbHNlIGlmIChoZWFkZXJzKSB7XG4gICAgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoaGVhZGVycykuZm9yRWFjaChmdW5jdGlvbihuYW1lKSB7XG4gICAgICB0aGlzLmFwcGVuZChuYW1lLCBoZWFkZXJzW25hbWVdKVxuICAgIH0sIHRoaXMpXG4gIH1cbn1cblxuSGVhZGVycy5wcm90b3R5cGUuYXBwZW5kID0gZnVuY3Rpb24obmFtZSwgdmFsdWUpIHtcbiAgbmFtZSA9IG5vcm1hbGl6ZU5hbWUobmFtZSlcbiAgdmFsdWUgPSBub3JtYWxpemVWYWx1ZSh2YWx1ZSlcbiAgdmFyIG9sZFZhbHVlID0gdGhpcy5tYXBbbmFtZV1cbiAgdGhpcy5tYXBbbmFtZV0gPSBvbGRWYWx1ZSA/IG9sZFZhbHVlICsgJywgJyArIHZhbHVlIDogdmFsdWVcbn1cblxuSGVhZGVycy5wcm90b3R5cGVbJ2RlbGV0ZSddID0gZnVuY3Rpb24obmFtZSkge1xuICBkZWxldGUgdGhpcy5tYXBbbm9ybWFsaXplTmFtZShuYW1lKV1cbn1cblxuSGVhZGVycy5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24obmFtZSkge1xuICBuYW1lID0gbm9ybWFsaXplTmFtZShuYW1lKVxuICByZXR1cm4gdGhpcy5oYXMobmFtZSkgPyB0aGlzLm1hcFtuYW1lXSA6IG51bGxcbn1cblxuSGVhZGVycy5wcm90b3R5cGUuaGFzID0gZnVuY3Rpb24obmFtZSkge1xuICByZXR1cm4gdGhpcy5tYXAuaGFzT3duUHJvcGVydHkobm9ybWFsaXplTmFtZShuYW1lKSlcbn1cblxuSGVhZGVycy5wcm90b3R5cGUuc2V0ID0gZnVuY3Rpb24obmFtZSwgdmFsdWUpIHtcbiAgdGhpcy5tYXBbbm9ybWFsaXplTmFtZShuYW1lKV0gPSBub3JtYWxpemVWYWx1ZSh2YWx1ZSlcbn1cblxuSGVhZGVycy5wcm90b3R5cGUuZm9yRWFjaCA9IGZ1bmN0aW9uKGNhbGxiYWNrLCB0aGlzQXJnKSB7XG4gIGZvciAodmFyIG5hbWUgaW4gdGhpcy5tYXApIHtcbiAgICBpZiAodGhpcy5tYXAuaGFzT3duUHJvcGVydHkobmFtZSkpIHtcbiAgICAgIGNhbGxiYWNrLmNhbGwodGhpc0FyZywgdGhpcy5tYXBbbmFtZV0sIG5hbWUsIHRoaXMpXG4gICAgfVxuICB9XG59XG5cbkhlYWRlcnMucHJvdG90eXBlLmtleXMgPSBmdW5jdGlvbigpIHtcbiAgdmFyIGl0ZW1zID0gW11cbiAgdGhpcy5mb3JFYWNoKGZ1bmN0aW9uKHZhbHVlLCBuYW1lKSB7XG4gICAgaXRlbXMucHVzaChuYW1lKVxuICB9KVxuICByZXR1cm4gaXRlcmF0b3JGb3IoaXRlbXMpXG59XG5cbkhlYWRlcnMucHJvdG90eXBlLnZhbHVlcyA9IGZ1bmN0aW9uKCkge1xuICB2YXIgaXRlbXMgPSBbXVxuICB0aGlzLmZvckVhY2goZnVuY3Rpb24odmFsdWUpIHtcbiAgICBpdGVtcy5wdXNoKHZhbHVlKVxuICB9KVxuICByZXR1cm4gaXRlcmF0b3JGb3IoaXRlbXMpXG59XG5cbkhlYWRlcnMucHJvdG90eXBlLmVudHJpZXMgPSBmdW5jdGlvbigpIHtcbiAgdmFyIGl0ZW1zID0gW11cbiAgdGhpcy5mb3JFYWNoKGZ1bmN0aW9uKHZhbHVlLCBuYW1lKSB7XG4gICAgaXRlbXMucHVzaChbbmFtZSwgdmFsdWVdKVxuICB9KVxuICByZXR1cm4gaXRlcmF0b3JGb3IoaXRlbXMpXG59XG5cbmlmIChzdXBwb3J0Lml0ZXJhYmxlKSB7XG4gIEhlYWRlcnMucHJvdG90eXBlW1N5bWJvbC5pdGVyYXRvcl0gPSBIZWFkZXJzLnByb3RvdHlwZS5lbnRyaWVzXG59XG5cbmZ1bmN0aW9uIGNvbnN1bWVkKGJvZHkpIHtcbiAgaWYgKGJvZHkuYm9keVVzZWQpIHtcbiAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IFR5cGVFcnJvcignQWxyZWFkeSByZWFkJykpXG4gIH1cbiAgYm9keS5ib2R5VXNlZCA9IHRydWVcbn1cblxuZnVuY3Rpb24gZmlsZVJlYWRlclJlYWR5KHJlYWRlcikge1xuICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgcmVhZGVyLm9ubG9hZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmVzb2x2ZShyZWFkZXIucmVzdWx0KVxuICAgIH1cbiAgICByZWFkZXIub25lcnJvciA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmVqZWN0KHJlYWRlci5lcnJvcilcbiAgICB9XG4gIH0pXG59XG5cbmZ1bmN0aW9uIHJlYWRCbG9iQXNBcnJheUJ1ZmZlcihibG9iKSB7XG4gIHZhciByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpXG4gIHZhciBwcm9taXNlID0gZmlsZVJlYWRlclJlYWR5KHJlYWRlcilcbiAgcmVhZGVyLnJlYWRBc0FycmF5QnVmZmVyKGJsb2IpXG4gIHJldHVybiBwcm9taXNlXG59XG5cbmZ1bmN0aW9uIHJlYWRCbG9iQXNUZXh0KGJsb2IpIHtcbiAgdmFyIHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKClcbiAgdmFyIHByb21pc2UgPSBmaWxlUmVhZGVyUmVhZHkocmVhZGVyKVxuICByZWFkZXIucmVhZEFzVGV4dChibG9iKVxuICByZXR1cm4gcHJvbWlzZVxufVxuXG5mdW5jdGlvbiByZWFkQXJyYXlCdWZmZXJBc1RleHQoYnVmKSB7XG4gIHZhciB2aWV3ID0gbmV3IFVpbnQ4QXJyYXkoYnVmKVxuICB2YXIgY2hhcnMgPSBuZXcgQXJyYXkodmlldy5sZW5ndGgpXG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCB2aWV3Lmxlbmd0aDsgaSsrKSB7XG4gICAgY2hhcnNbaV0gPSBTdHJpbmcuZnJvbUNoYXJDb2RlKHZpZXdbaV0pXG4gIH1cbiAgcmV0dXJuIGNoYXJzLmpvaW4oJycpXG59XG5cbmZ1bmN0aW9uIGJ1ZmZlckNsb25lKGJ1Zikge1xuICBpZiAoYnVmLnNsaWNlKSB7XG4gICAgcmV0dXJuIGJ1Zi5zbGljZSgwKVxuICB9IGVsc2Uge1xuICAgIHZhciB2aWV3ID0gbmV3IFVpbnQ4QXJyYXkoYnVmLmJ5dGVMZW5ndGgpXG4gICAgdmlldy5zZXQobmV3IFVpbnQ4QXJyYXkoYnVmKSlcbiAgICByZXR1cm4gdmlldy5idWZmZXJcbiAgfVxufVxuXG5mdW5jdGlvbiBCb2R5KCkge1xuICB0aGlzLmJvZHlVc2VkID0gZmFsc2VcblxuICB0aGlzLl9pbml0Qm9keSA9IGZ1bmN0aW9uKGJvZHkpIHtcbiAgICB0aGlzLl9ib2R5SW5pdCA9IGJvZHlcbiAgICBpZiAoIWJvZHkpIHtcbiAgICAgIHRoaXMuX2JvZHlUZXh0ID0gJydcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBib2R5ID09PSAnc3RyaW5nJykge1xuICAgICAgdGhpcy5fYm9keVRleHQgPSBib2R5XG4gICAgfSBlbHNlIGlmIChzdXBwb3J0LmJsb2IgJiYgQmxvYi5wcm90b3R5cGUuaXNQcm90b3R5cGVPZihib2R5KSkge1xuICAgICAgdGhpcy5fYm9keUJsb2IgPSBib2R5XG4gICAgfSBlbHNlIGlmIChzdXBwb3J0LmZvcm1EYXRhICYmIEZvcm1EYXRhLnByb3RvdHlwZS5pc1Byb3RvdHlwZU9mKGJvZHkpKSB7XG4gICAgICB0aGlzLl9ib2R5Rm9ybURhdGEgPSBib2R5XG4gICAgfSBlbHNlIGlmIChzdXBwb3J0LnNlYXJjaFBhcmFtcyAmJiBVUkxTZWFyY2hQYXJhbXMucHJvdG90eXBlLmlzUHJvdG90eXBlT2YoYm9keSkpIHtcbiAgICAgIHRoaXMuX2JvZHlUZXh0ID0gYm9keS50b1N0cmluZygpXG4gICAgfSBlbHNlIGlmIChzdXBwb3J0LmFycmF5QnVmZmVyICYmIHN1cHBvcnQuYmxvYiAmJiBpc0RhdGFWaWV3KGJvZHkpKSB7XG4gICAgICB0aGlzLl9ib2R5QXJyYXlCdWZmZXIgPSBidWZmZXJDbG9uZShib2R5LmJ1ZmZlcilcbiAgICAgIC8vIElFIDEwLTExIGNhbid0IGhhbmRsZSBhIERhdGFWaWV3IGJvZHkuXG4gICAgICB0aGlzLl9ib2R5SW5pdCA9IG5ldyBCbG9iKFt0aGlzLl9ib2R5QXJyYXlCdWZmZXJdKVxuICAgIH0gZWxzZSBpZiAoc3VwcG9ydC5hcnJheUJ1ZmZlciAmJiAoQXJyYXlCdWZmZXIucHJvdG90eXBlLmlzUHJvdG90eXBlT2YoYm9keSkgfHwgaXNBcnJheUJ1ZmZlclZpZXcoYm9keSkpKSB7XG4gICAgICB0aGlzLl9ib2R5QXJyYXlCdWZmZXIgPSBidWZmZXJDbG9uZShib2R5KVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9ib2R5VGV4dCA9IGJvZHkgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoYm9keSlcbiAgICB9XG5cbiAgICBpZiAoIXRoaXMuaGVhZGVycy5nZXQoJ2NvbnRlbnQtdHlwZScpKSB7XG4gICAgICBpZiAodHlwZW9mIGJvZHkgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHRoaXMuaGVhZGVycy5zZXQoJ2NvbnRlbnQtdHlwZScsICd0ZXh0L3BsYWluO2NoYXJzZXQ9VVRGLTgnKVxuICAgICAgfSBlbHNlIGlmICh0aGlzLl9ib2R5QmxvYiAmJiB0aGlzLl9ib2R5QmxvYi50eXBlKSB7XG4gICAgICAgIHRoaXMuaGVhZGVycy5zZXQoJ2NvbnRlbnQtdHlwZScsIHRoaXMuX2JvZHlCbG9iLnR5cGUpXG4gICAgICB9IGVsc2UgaWYgKHN1cHBvcnQuc2VhcmNoUGFyYW1zICYmIFVSTFNlYXJjaFBhcmFtcy5wcm90b3R5cGUuaXNQcm90b3R5cGVPZihib2R5KSkge1xuICAgICAgICB0aGlzLmhlYWRlcnMuc2V0KCdjb250ZW50LXR5cGUnLCAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkO2NoYXJzZXQ9VVRGLTgnKVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGlmIChzdXBwb3J0LmJsb2IpIHtcbiAgICB0aGlzLmJsb2IgPSBmdW5jdGlvbigpIHtcbiAgICAgIHZhciByZWplY3RlZCA9IGNvbnN1bWVkKHRoaXMpXG4gICAgICBpZiAocmVqZWN0ZWQpIHtcbiAgICAgICAgcmV0dXJuIHJlamVjdGVkXG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLl9ib2R5QmxvYikge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMuX2JvZHlCbG9iKVxuICAgICAgfSBlbHNlIGlmICh0aGlzLl9ib2R5QXJyYXlCdWZmZXIpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShuZXcgQmxvYihbdGhpcy5fYm9keUFycmF5QnVmZmVyXSkpXG4gICAgICB9IGVsc2UgaWYgKHRoaXMuX2JvZHlGb3JtRGF0YSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2NvdWxkIG5vdCByZWFkIEZvcm1EYXRhIGJvZHkgYXMgYmxvYicpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKG5ldyBCbG9iKFt0aGlzLl9ib2R5VGV4dF0pKVxuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMuYXJyYXlCdWZmZXIgPSBmdW5jdGlvbigpIHtcbiAgICAgIGlmICh0aGlzLl9ib2R5QXJyYXlCdWZmZXIpIHtcbiAgICAgICAgcmV0dXJuIGNvbnN1bWVkKHRoaXMpIHx8IFByb21pc2UucmVzb2x2ZSh0aGlzLl9ib2R5QXJyYXlCdWZmZXIpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gdGhpcy5ibG9iKCkudGhlbihyZWFkQmxvYkFzQXJyYXlCdWZmZXIpXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgdGhpcy50ZXh0ID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHJlamVjdGVkID0gY29uc3VtZWQodGhpcylcbiAgICBpZiAocmVqZWN0ZWQpIHtcbiAgICAgIHJldHVybiByZWplY3RlZFxuICAgIH1cblxuICAgIGlmICh0aGlzLl9ib2R5QmxvYikge1xuICAgICAgcmV0dXJuIHJlYWRCbG9iQXNUZXh0KHRoaXMuX2JvZHlCbG9iKVxuICAgIH0gZWxzZSBpZiAodGhpcy5fYm9keUFycmF5QnVmZmVyKSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHJlYWRBcnJheUJ1ZmZlckFzVGV4dCh0aGlzLl9ib2R5QXJyYXlCdWZmZXIpKVxuICAgIH0gZWxzZSBpZiAodGhpcy5fYm9keUZvcm1EYXRhKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ2NvdWxkIG5vdCByZWFkIEZvcm1EYXRhIGJvZHkgYXMgdGV4dCcpXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodGhpcy5fYm9keVRleHQpXG4gICAgfVxuICB9XG5cbiAgaWYgKHN1cHBvcnQuZm9ybURhdGEpIHtcbiAgICB0aGlzLmZvcm1EYXRhID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy50ZXh0KCkudGhlbihkZWNvZGUpXG4gICAgfVxuICB9XG5cbiAgdGhpcy5qc29uID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMudGV4dCgpLnRoZW4oSlNPTi5wYXJzZSlcbiAgfVxuXG4gIHJldHVybiB0aGlzXG59XG5cbi8vIEhUVFAgbWV0aG9kcyB3aG9zZSBjYXBpdGFsaXphdGlvbiBzaG91bGQgYmUgbm9ybWFsaXplZFxudmFyIG1ldGhvZHMgPSBbJ0RFTEVURScsICdHRVQnLCAnSEVBRCcsICdPUFRJT05TJywgJ1BPU1QnLCAnUFVUJ11cblxuZnVuY3Rpb24gbm9ybWFsaXplTWV0aG9kKG1ldGhvZCkge1xuICB2YXIgdXBjYXNlZCA9IG1ldGhvZC50b1VwcGVyQ2FzZSgpXG4gIHJldHVybiBtZXRob2RzLmluZGV4T2YodXBjYXNlZCkgPiAtMSA/IHVwY2FzZWQgOiBtZXRob2Rcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFJlcXVlc3QoaW5wdXQsIG9wdGlvbnMpIHtcbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge31cbiAgdmFyIGJvZHkgPSBvcHRpb25zLmJvZHlcblxuICBpZiAoaW5wdXQgaW5zdGFuY2VvZiBSZXF1ZXN0KSB7XG4gICAgaWYgKGlucHV0LmJvZHlVc2VkKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdBbHJlYWR5IHJlYWQnKVxuICAgIH1cbiAgICB0aGlzLnVybCA9IGlucHV0LnVybFxuICAgIHRoaXMuY3JlZGVudGlhbHMgPSBpbnB1dC5jcmVkZW50aWFsc1xuICAgIGlmICghb3B0aW9ucy5oZWFkZXJzKSB7XG4gICAgICB0aGlzLmhlYWRlcnMgPSBuZXcgSGVhZGVycyhpbnB1dC5oZWFkZXJzKVxuICAgIH1cbiAgICB0aGlzLm1ldGhvZCA9IGlucHV0Lm1ldGhvZFxuICAgIHRoaXMubW9kZSA9IGlucHV0Lm1vZGVcbiAgICB0aGlzLnNpZ25hbCA9IGlucHV0LnNpZ25hbFxuICAgIGlmICghYm9keSAmJiBpbnB1dC5fYm9keUluaXQgIT0gbnVsbCkge1xuICAgICAgYm9keSA9IGlucHV0Ll9ib2R5SW5pdFxuICAgICAgaW5wdXQuYm9keVVzZWQgPSB0cnVlXG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHRoaXMudXJsID0gU3RyaW5nKGlucHV0KVxuICB9XG5cbiAgdGhpcy5jcmVkZW50aWFscyA9IG9wdGlvbnMuY3JlZGVudGlhbHMgfHwgdGhpcy5jcmVkZW50aWFscyB8fCAnc2FtZS1vcmlnaW4nXG4gIGlmIChvcHRpb25zLmhlYWRlcnMgfHwgIXRoaXMuaGVhZGVycykge1xuICAgIHRoaXMuaGVhZGVycyA9IG5ldyBIZWFkZXJzKG9wdGlvbnMuaGVhZGVycylcbiAgfVxuICB0aGlzLm1ldGhvZCA9IG5vcm1hbGl6ZU1ldGhvZChvcHRpb25zLm1ldGhvZCB8fCB0aGlzLm1ldGhvZCB8fCAnR0VUJylcbiAgdGhpcy5tb2RlID0gb3B0aW9ucy5tb2RlIHx8IHRoaXMubW9kZSB8fCBudWxsXG4gIHRoaXMuc2lnbmFsID0gb3B0aW9ucy5zaWduYWwgfHwgdGhpcy5zaWduYWxcbiAgdGhpcy5yZWZlcnJlciA9IG51bGxcblxuICBpZiAoKHRoaXMubWV0aG9kID09PSAnR0VUJyB8fCB0aGlzLm1ldGhvZCA9PT0gJ0hFQUQnKSAmJiBib2R5KSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQm9keSBub3QgYWxsb3dlZCBmb3IgR0VUIG9yIEhFQUQgcmVxdWVzdHMnKVxuICB9XG4gIHRoaXMuX2luaXRCb2R5KGJvZHkpXG59XG5cblJlcXVlc3QucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBuZXcgUmVxdWVzdCh0aGlzLCB7Ym9keTogdGhpcy5fYm9keUluaXR9KVxufVxuXG5mdW5jdGlvbiBkZWNvZGUoYm9keSkge1xuICB2YXIgZm9ybSA9IG5ldyBGb3JtRGF0YSgpXG4gIGJvZHlcbiAgICAudHJpbSgpXG4gICAgLnNwbGl0KCcmJylcbiAgICAuZm9yRWFjaChmdW5jdGlvbihieXRlcykge1xuICAgICAgaWYgKGJ5dGVzKSB7XG4gICAgICAgIHZhciBzcGxpdCA9IGJ5dGVzLnNwbGl0KCc9JylcbiAgICAgICAgdmFyIG5hbWUgPSBzcGxpdC5zaGlmdCgpLnJlcGxhY2UoL1xcKy9nLCAnICcpXG4gICAgICAgIHZhciB2YWx1ZSA9IHNwbGl0LmpvaW4oJz0nKS5yZXBsYWNlKC9cXCsvZywgJyAnKVxuICAgICAgICBmb3JtLmFwcGVuZChkZWNvZGVVUklDb21wb25lbnQobmFtZSksIGRlY29kZVVSSUNvbXBvbmVudCh2YWx1ZSkpXG4gICAgICB9XG4gICAgfSlcbiAgcmV0dXJuIGZvcm1cbn1cblxuZnVuY3Rpb24gcGFyc2VIZWFkZXJzKHJhd0hlYWRlcnMpIHtcbiAgdmFyIGhlYWRlcnMgPSBuZXcgSGVhZGVycygpXG4gIC8vIFJlcGxhY2UgaW5zdGFuY2VzIG9mIFxcclxcbiBhbmQgXFxuIGZvbGxvd2VkIGJ5IGF0IGxlYXN0IG9uZSBzcGFjZSBvciBob3Jpem9udGFsIHRhYiB3aXRoIGEgc3BhY2VcbiAgLy8gaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzcyMzAjc2VjdGlvbi0zLjJcbiAgdmFyIHByZVByb2Nlc3NlZEhlYWRlcnMgPSByYXdIZWFkZXJzLnJlcGxhY2UoL1xccj9cXG5bXFx0IF0rL2csICcgJylcbiAgcHJlUHJvY2Vzc2VkSGVhZGVycy5zcGxpdCgvXFxyP1xcbi8pLmZvckVhY2goZnVuY3Rpb24obGluZSkge1xuICAgIHZhciBwYXJ0cyA9IGxpbmUuc3BsaXQoJzonKVxuICAgIHZhciBrZXkgPSBwYXJ0cy5zaGlmdCgpLnRyaW0oKVxuICAgIGlmIChrZXkpIHtcbiAgICAgIHZhciB2YWx1ZSA9IHBhcnRzLmpvaW4oJzonKS50cmltKClcbiAgICAgIGhlYWRlcnMuYXBwZW5kKGtleSwgdmFsdWUpXG4gICAgfVxuICB9KVxuICByZXR1cm4gaGVhZGVyc1xufVxuXG5Cb2R5LmNhbGwoUmVxdWVzdC5wcm90b3R5cGUpXG5cbmV4cG9ydCBmdW5jdGlvbiBSZXNwb25zZShib2R5SW5pdCwgb3B0aW9ucykge1xuICBpZiAoIW9wdGlvbnMpIHtcbiAgICBvcHRpb25zID0ge31cbiAgfVxuXG4gIHRoaXMudHlwZSA9ICdkZWZhdWx0J1xuICB0aGlzLnN0YXR1cyA9IG9wdGlvbnMuc3RhdHVzID09PSB1bmRlZmluZWQgPyAyMDAgOiBvcHRpb25zLnN0YXR1c1xuICB0aGlzLm9rID0gdGhpcy5zdGF0dXMgPj0gMjAwICYmIHRoaXMuc3RhdHVzIDwgMzAwXG4gIHRoaXMuc3RhdHVzVGV4dCA9ICdzdGF0dXNUZXh0JyBpbiBvcHRpb25zID8gb3B0aW9ucy5zdGF0dXNUZXh0IDogJ09LJ1xuICB0aGlzLmhlYWRlcnMgPSBuZXcgSGVhZGVycyhvcHRpb25zLmhlYWRlcnMpXG4gIHRoaXMudXJsID0gb3B0aW9ucy51cmwgfHwgJydcbiAgdGhpcy5faW5pdEJvZHkoYm9keUluaXQpXG59XG5cbkJvZHkuY2FsbChSZXNwb25zZS5wcm90b3R5cGUpXG5cblJlc3BvbnNlLnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbmV3IFJlc3BvbnNlKHRoaXMuX2JvZHlJbml0LCB7XG4gICAgc3RhdHVzOiB0aGlzLnN0YXR1cyxcbiAgICBzdGF0dXNUZXh0OiB0aGlzLnN0YXR1c1RleHQsXG4gICAgaGVhZGVyczogbmV3IEhlYWRlcnModGhpcy5oZWFkZXJzKSxcbiAgICB1cmw6IHRoaXMudXJsXG4gIH0pXG59XG5cblJlc3BvbnNlLmVycm9yID0gZnVuY3Rpb24oKSB7XG4gIHZhciByZXNwb25zZSA9IG5ldyBSZXNwb25zZShudWxsLCB7c3RhdHVzOiAwLCBzdGF0dXNUZXh0OiAnJ30pXG4gIHJlc3BvbnNlLnR5cGUgPSAnZXJyb3InXG4gIHJldHVybiByZXNwb25zZVxufVxuXG52YXIgcmVkaXJlY3RTdGF0dXNlcyA9IFszMDEsIDMwMiwgMzAzLCAzMDcsIDMwOF1cblxuUmVzcG9uc2UucmVkaXJlY3QgPSBmdW5jdGlvbih1cmwsIHN0YXR1cykge1xuICBpZiAocmVkaXJlY3RTdGF0dXNlcy5pbmRleE9mKHN0YXR1cykgPT09IC0xKSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0ludmFsaWQgc3RhdHVzIGNvZGUnKVxuICB9XG5cbiAgcmV0dXJuIG5ldyBSZXNwb25zZShudWxsLCB7c3RhdHVzOiBzdGF0dXMsIGhlYWRlcnM6IHtsb2NhdGlvbjogdXJsfX0pXG59XG5cbmV4cG9ydCB2YXIgRE9NRXhjZXB0aW9uID0gc2VsZi5ET01FeGNlcHRpb25cbnRyeSB7XG4gIG5ldyBET01FeGNlcHRpb24oKVxufSBjYXRjaCAoZXJyKSB7XG4gIERPTUV4Y2VwdGlvbiA9IGZ1bmN0aW9uKG1lc3NhZ2UsIG5hbWUpIHtcbiAgICB0aGlzLm1lc3NhZ2UgPSBtZXNzYWdlXG4gICAgdGhpcy5uYW1lID0gbmFtZVxuICAgIHZhciBlcnJvciA9IEVycm9yKG1lc3NhZ2UpXG4gICAgdGhpcy5zdGFjayA9IGVycm9yLnN0YWNrXG4gIH1cbiAgRE9NRXhjZXB0aW9uLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoRXJyb3IucHJvdG90eXBlKVxuICBET01FeGNlcHRpb24ucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gRE9NRXhjZXB0aW9uXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBmZXRjaChpbnB1dCwgaW5pdCkge1xuICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgdmFyIHJlcXVlc3QgPSBuZXcgUmVxdWVzdChpbnB1dCwgaW5pdClcblxuICAgIGlmIChyZXF1ZXN0LnNpZ25hbCAmJiByZXF1ZXN0LnNpZ25hbC5hYm9ydGVkKSB7XG4gICAgICByZXR1cm4gcmVqZWN0KG5ldyBET01FeGNlcHRpb24oJ0Fib3J0ZWQnLCAnQWJvcnRFcnJvcicpKVxuICAgIH1cblxuICAgIHZhciB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKVxuXG4gICAgZnVuY3Rpb24gYWJvcnRYaHIoKSB7XG4gICAgICB4aHIuYWJvcnQoKVxuICAgIH1cblxuICAgIHhoci5vbmxvYWQgPSBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBvcHRpb25zID0ge1xuICAgICAgICBzdGF0dXM6IHhoci5zdGF0dXMsXG4gICAgICAgIHN0YXR1c1RleHQ6IHhoci5zdGF0dXNUZXh0LFxuICAgICAgICBoZWFkZXJzOiBwYXJzZUhlYWRlcnMoeGhyLmdldEFsbFJlc3BvbnNlSGVhZGVycygpIHx8ICcnKVxuICAgICAgfVxuICAgICAgb3B0aW9ucy51cmwgPSAncmVzcG9uc2VVUkwnIGluIHhociA/IHhoci5yZXNwb25zZVVSTCA6IG9wdGlvbnMuaGVhZGVycy5nZXQoJ1gtUmVxdWVzdC1VUkwnKVxuICAgICAgdmFyIGJvZHkgPSAncmVzcG9uc2UnIGluIHhociA/IHhoci5yZXNwb25zZSA6IHhoci5yZXNwb25zZVRleHRcbiAgICAgIHJlc29sdmUobmV3IFJlc3BvbnNlKGJvZHksIG9wdGlvbnMpKVxuICAgIH1cblxuICAgIHhoci5vbmVycm9yID0gZnVuY3Rpb24oKSB7XG4gICAgICByZWplY3QobmV3IFR5cGVFcnJvcignTmV0d29yayByZXF1ZXN0IGZhaWxlZCcpKVxuICAgIH1cblxuICAgIHhoci5vbnRpbWVvdXQgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJlamVjdChuZXcgVHlwZUVycm9yKCdOZXR3b3JrIHJlcXVlc3QgZmFpbGVkJykpXG4gICAgfVxuXG4gICAgeGhyLm9uYWJvcnQgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJlamVjdChuZXcgRE9NRXhjZXB0aW9uKCdBYm9ydGVkJywgJ0Fib3J0RXJyb3InKSlcbiAgICB9XG5cbiAgICB4aHIub3BlbihyZXF1ZXN0Lm1ldGhvZCwgcmVxdWVzdC51cmwsIHRydWUpXG5cbiAgICBpZiAocmVxdWVzdC5jcmVkZW50aWFscyA9PT0gJ2luY2x1ZGUnKSB7XG4gICAgICB4aHIud2l0aENyZWRlbnRpYWxzID0gdHJ1ZVxuICAgIH0gZWxzZSBpZiAocmVxdWVzdC5jcmVkZW50aWFscyA9PT0gJ29taXQnKSB7XG4gICAgICB4aHIud2l0aENyZWRlbnRpYWxzID0gZmFsc2VcbiAgICB9XG5cbiAgICBpZiAoJ3Jlc3BvbnNlVHlwZScgaW4geGhyICYmIHN1cHBvcnQuYmxvYikge1xuICAgICAgeGhyLnJlc3BvbnNlVHlwZSA9ICdibG9iJ1xuICAgIH1cblxuICAgIHJlcXVlc3QuaGVhZGVycy5mb3JFYWNoKGZ1bmN0aW9uKHZhbHVlLCBuYW1lKSB7XG4gICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcihuYW1lLCB2YWx1ZSlcbiAgICB9KVxuXG4gICAgaWYgKHJlcXVlc3Quc2lnbmFsKSB7XG4gICAgICByZXF1ZXN0LnNpZ25hbC5hZGRFdmVudExpc3RlbmVyKCdhYm9ydCcsIGFib3J0WGhyKVxuXG4gICAgICB4aHIub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIC8vIERPTkUgKHN1Y2Nlc3Mgb3IgZmFpbHVyZSlcbiAgICAgICAgaWYgKHhoci5yZWFkeVN0YXRlID09PSA0KSB7XG4gICAgICAgICAgcmVxdWVzdC5zaWduYWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignYWJvcnQnLCBhYm9ydFhocilcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHhoci5zZW5kKHR5cGVvZiByZXF1ZXN0Ll9ib2R5SW5pdCA9PT0gJ3VuZGVmaW5lZCcgPyBudWxsIDogcmVxdWVzdC5fYm9keUluaXQpXG4gIH0pXG59XG5cbmZldGNoLnBvbHlmaWxsID0gdHJ1ZVxuXG5pZiAoIXNlbGYuZmV0Y2gpIHtcbiAgc2VsZi5mZXRjaCA9IGZldGNoXG4gIHNlbGYuSGVhZGVycyA9IEhlYWRlcnNcbiAgc2VsZi5SZXF1ZXN0ID0gUmVxdWVzdFxuICBzZWxmLlJlc3BvbnNlID0gUmVzcG9uc2Vcbn1cblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi93aGF0d2ctZmV0Y2gvZmV0Y2guanNcbi8vIG1vZHVsZSBpZCA9IDU1XG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJzb3VyY2VSb290IjoiIn0=