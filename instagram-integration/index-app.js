/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// identity function for calling harmony imports with the correct context
/******/ 	__webpack_require__.i = function(value) { return value; };
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, {
/******/ 				configurable: false,
/******/ 				enumerable: true,
/******/ 				get: getter
/******/ 			});
/******/ 		}
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 56);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
var CONST = exports.CONST = {
    url: {
        tmTypes: {
            followingT: 'FOLLOWING',
            followingSubT: ['FOLLOWING_BY_LIST', 'FOLLOWING_BY_ACTIVE_AUDIENCE'],
            unfollowingT: 'UNFOLLOWING',
            unfollowingSubT: ['UNFOLLOWING_BY_LIST', 'UNFOLLOWING_BY_ALL', 'UNFOLLOWING_BY_NON_RECIPROCAL'],
            chatBotT: 'CHAT_BOT',
            chatBotSubT: ['DEFAULT_CHAT_BOT'],
            automessagesT: 'AUTO_ANSWER',
            automessagesSubT: ['DEFAULT_AUTO_ANSWER'],
            autogreetT: 'AUTO_GREETING',
            autogreetSubT: ['DEFAULT_AUTO_GREETING'],
            storiesT: 'STORIES',
            storiesSubT: ['STORIES_BY_LIST', 'STORIES_BY_FOLLOWERS', 'STORIES_BY_ACTIVE_AUDIENCE'],
            autocommentsT: 'AUTO_COMMENT',
            autocommentsSubT: ['DEFAULT_AUTO_COMMENT']
        },
        base: 'http://api.luxgram.ru/v1/',
        registration: 'registration/basic/',
        login: 'registration/basic/login',
        confirmation: 'registration/basic/confirmation?token',

        // -------------------------
        instagram_addAccount: 'instagram-accounts/',
        instagramAccount_getMetaData: 'instagram-accounts/meta',
        instagram_getAccountByUser: function instagram_getAccountByUser(username) {
            return 'instagram-accounts/meta/' + username;
        },
        instagram_modifyAccount: function instagram_modifyAccount(username) {
            return 'instagram-accounts/' + username;
        },
        instagramTaskManager_getPosts: function instagramTaskManager_getPosts(accountName) {
            return 'instagram-accounts/' + accountName + '/posts';
        },

        // -instagram-accounts------------------------
        instagramAccount_checkpoint: 'instagram-accounts/checkpoint/',
        instagramAccount_confirmKey: 'instagram-accounts/checkpoint/',

        // -instagram-direct------------------------
        instagramDirect_Basic: 'instagram-direct',
        instagramDirect_postMessage: 'instagram-direct/',
        instagramDirect_getMetaData: 'instagram-direct/meta',
        instagramDirect_RequestPending: 'instagram-direct/pending',
        // http://api.luxgram.ru/v1/instagram-direct/{username}/{id}/photo

        // -instagram-task-manager------------------------
        instagramTaskManager: 'instagram-task-manager/',
        instagramTaskManager_getMetaData: 'instagram-task-manager/meta',
        instagramTaskManager_getTaskByTypes: 'instagram-task-manager/meta/type/',
        // --------------
        instagramTaskManager_getDefaultConfigs: 'instagram-task-manager/config/type', // {TYPE}/subtype/{SUBTYPE}
        // --------------
        instagramTaskManager_postStartFollowingList: 'instagram-task-manager/task',
        instagramTaskManager_postStartTask: 'instagram-task-manager/task',
        instagramTaskManager_getTaskTypes: 'instagram-task-manager/task/types',
        instagramTaskManager_putStopTaskByID: function instagramTaskManager_putStopTaskByID(id) {
            return 'instagram-task-manager/task/' + id;
        },
        instagramTaskManager_delRemoveTaskByID: function instagramTaskManager_delRemoveTaskByID(id) {
            return 'instagram-task-manager/task/' + id;
        },
        instagramTaskManager_postImageAttachment: 'instagram-task-manager/task/attachment/image',
        instagramTaskManager_postTextAttachment: 'instagram-task-manager/task/attachment/users_list',
        instagramTaskManager_getLogsChatBot: 'instagram-task-manager/logs/type/' // {TYPE}/subtype/{SUBTYPE}/account/{username}?page={page}
    },
    user: {
        defaulAvatar: 'https://i.imgur.com/jNNT4LE.png', // todo: get from designer
        email: '',
        password: '',
        token: ''
    },
    cookieStorage: {
        token: 'user_logged',
        emailConfirmed: 'email_confirmed'
    },
    uiSelectors: {
        headerLoginBox: 'nav .login-box',
        headerNavLoginBtn: 'nav ul li .js_login',
        headerRegBox: 'nav .register-box',
        headerRegBtn: 'nav ul li .js_register',
        instagram: {
            addAccountBtnSelector: '#js_show-login-box',
            addAccountBtnId: 'js_show-login-box'
        }
    },
    events: {
        USER_LOGGED: 'user_logged',
        USER_LOGOUT: 'user_logout',
        USER_EMAIL_CONFIRMED: 'user_email_confirmed',
        STOP_FIXED_SPINNER: 'stop_fixed_spinner',
        messages: {
            RECIEVE_NEW_MESSAGE: 'receive_new_message'
        },
        instagramAccouns: {
            INSTAGRAM_ACCOUNS_NEED_REFRESH: 'instagram_accouns_need_refresh',
            INSTAGRAM_ACCOUNS_RENDERED: 'instagram_accouns_rendered',
            INSTAGRAM_ACCOUNS_RENDERED_LAZY: 'instagram_accouns_rendered_lazy'
        },
        modal: {
            IMAGE_POST_SELECTED: 'image_post_selected',
            IMAGE_UPLOADED_AVATAR: 'IMAGE_UPLOADED_AVATAR'
        },
        autoarnswer: {
            IMAGE_UPLOADED: 'image_loaded',
            TEXT_FILE_UPLOADED: 'text_file_uploaded'
        },
        tasks: {
            NEW_TASK_CREATED: 'new_task_created'
        },
        logs: {
            STOP_LOGS: 'stop_logs'
        }
    },
    logsState: {
        selectCls: 'js_logs-accounts',
        selectClsLogsTaskType: 'js_logs-subtypes',
        wrapperSubtype: '.log-subype'
    },
    getPath: function getPath(name, id) {
        if (typeof this.url[name] === 'function' && id) {
            return this.url.base + this.url[name](id);
        }
        return this.url.base + this.url[name];
    },
    getPathTypeSubtype: function getPathTypeSubtype(name, path, page) {
        var type = path.type,
            subtype = path.subtype,
            username = path.username;

        if (typeof this.url[name] === 'function' && type && subtype) {
            if (username && page) {
                return this.url.base + this.url[name](path, page);
            }
            if (username) {
                return this.url.base + this.url[name](path);
            }
            return this.url.base + this.url[name](type, subtype);
        }
        return this.url.base + this.url[name];
    },
    getPathByArr: function getPathByArr(name, array, page) {
        var base = this.url.base + this.url[name];
        var reducer = function reducer(accumulator, currentValue) {
            return accumulator + '/' + currentValue;
        };
        var url = base + array.reduce(reducer); // ${type}/subtype/${subtype}
        // console.log(url);
        if (page) {
            return url + '?page=' + page;
        }
        return url;
    }
};

/***/ }),
/* 1 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
// import $ from 'jquery';
// import {CONST} from './consts';

function viewUtils() {
    function showInfoMessage(selector, message1, message2) {
        $(selector).empty().append('' + (message1 ? '<p>status: ' + message1 + '</p>' : '')).append('<p>' + message2 + ' </p>');
    }

    function fillList($list, dataArray) {
        var items = dataArray;
        var cList = $list;
        cList.empty();
        items.forEach(function (item, i) {
            var li = $('<li class="list-group-item"></li>').appendTo(cList);
            $('<a/>').addClass('ui-all').text(item.username).appendTo(li);
        });
    }

    function isEmail(email) {
        /* eslint-disable */
        var regex = /^([a-zA-Z0-9_.+-])+\@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/;
        return regex.test(email);
        /* eslint-enable */
    }

    function getFormattedDateUtil(tStamp, showFullTime) {
        var date = new Date(tStamp);

        var month = date.getMonth() + 1;
        var day = date.getDate();
        var hour = date.getHours();
        var min = date.getMinutes();
        // let sec = date.getSeconds();

        month = (month < 10 ? '0' : '') + month;
        day = (day < 10 ? '0' : '') + day;
        hour = (hour < 10 ? '0' : '') + hour;
        min = (min < 10 ? '0' : '') + min;
        // sec = (sec < 10 ? '0' : '') + sec;

        var str = '';
        if (!showFullTime) {
            str = hour + ':' + min;
        } else {
            // str = `${date.getFullYear()}-${month}-${day} ${hour}:${min}:${sec}`;
            str = day + '-' + month + '-' + date.getFullYear() + ' ' + hour + ':' + min;
        }

        return str;
    }

    function isEmpty(obj) {
        return !obj || Object.keys(obj).length === 0;
    }

    function fillRadioGroupList($wrapper, taskModes, _actionText) {
        if (isEmpty(taskModes)) {
            console.info('taskModes is empty');
        }
        var actionText = _actionText || 'подписок'; // todo
        var radioBtnReducer = function radioBtnReducer(item, val) {
            switch (item) {
                case 'AGGRESSIVE':
                    return '<input type="radio" id="' + item + '" name="customRadio" value="' + item + '" class="custom-control-input">\n                    <label class="custom-control-label" for="' + item + '"><strong>\u0410\u0433\u0440\u0435\u0441\u0441\u0438\u0432\u043D\u044B\u0439:</strong> ' + val + ' ' + actionText + ' \u0432 \u0447\u0430\u0441</label>';
                case 'MIDDLE':
                    return '<input type="radio" id="' + item + '" name="customRadio" value="' + item + '" class="custom-control-input">\n                    <label class="custom-control-label" for="' + item + '"><strong>\u0421\u0440\u0435\u0434\u043D\u0438\u0439:</strong> ' + val + ' ' + actionText + ' \u0432 \u0447\u0430\u0441</label>';
                case 'SAFE':
                    return '<input type="radio" id="' + item + '" name="customRadio" value="' + item + '" class="custom-control-input" checked>\n                    <label class="custom-control-label" for="' + item + '"><strong>\u0411\u0435\u0437\u043E\u043F\u0430\u0441\u043D\u044B\u0439:</strong> ' + val + ' ' + actionText + ' \u0432 \u0447\u0430\u0441</label>';
                default:
                    console.log('default', item);
            }
        };
        // console.log('draw speed radioBtn');
        $wrapper.empty();
        for (var item in taskModes) {
            // console.log('structure: ' + item);
            if (Object.prototype.hasOwnProperty.call(taskModes, item)) {
                $('<div class="custom-control custom-radio">\n                ' + radioBtnReducer(item, taskModes[item]) + '\n            </div>').appendTo($wrapper);
            }
        }
    }

    function getValByCommaSeparator($el) {
        return $el.val().trim().split(',').map(function (i) {
            return i.trim().replace('↵', '');
        }).filter(function (i) {
            return i.length > 0;
        });
    }

    /**
     * cfg ={ logsState, cbFN() }
     */
    function addDropdown($wrapper, items, cfg) {
        var textRusArray = cfg.textRusArray,
            logsState = cfg.logsState;
        var selectClsLogsTaskType = logsState.selectClsLogsTaskType;

        var label = 'Выберите тип';
        var getRus = function getRus(idx) {
            var isTextUnfollow = textRusArray && !!textRusArray.length;
            switch (idx) {
                case 0:
                    return isTextUnfollow ? textRusArray[idx] : 'По подписчикам';
                case 1:
                    return isTextUnfollow ? textRusArray[idx] : 'По активной аудитории конкурентов';
                case 2:
                    return isTextUnfollow ? textRusArray[idx] : 'default - (3)';
                default:
                    return 'default';
            }
        };
        $wrapper.empty().addClass('border-light-color');
        $('<div class="">' + label + '</div><select name="task-subtype" class="' + selectClsLogsTaskType + '"></select>').appendTo($wrapper);
        if (!items.length) {
            return;
        }
        if (cfg.isRenderEmptyOption) {
            $('<option class="list-group-item py-2 js_empty-subtype" value="---">---</option>').appendTo($('.' + selectClsLogsTaskType));
        }
        items.forEach(function (name, idx) {
            $('<option class="list-group-item py-2" value="' + name + '">\n                ' + getRus(idx) + '\n            </option>').appendTo($('.' + selectClsLogsTaskType));
        });
        if (cfg.dropdownOnSelectCb) {
            $('.' + selectClsLogsTaskType).on('change', function () {
                cfg.dropdownOnSelectCb();
            });
        }
    }

    return {
        showInfoMessage: showInfoMessage,
        fillList: fillList,
        fillRadioGroupList: fillRadioGroupList,
        isEmail: isEmail,
        getFormattedDateUtil: getFormattedDateUtil,
        getValByCommaSeparator: getValByCommaSeparator,
        addDropdown: addDropdown
    };
}

exports.default = viewUtils();

/***/ }),
/* 2 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); // import $ from 'jquery';


var _consts = __webpack_require__(0);

var _network = __webpack_require__(16);

var _network2 = _interopRequireDefault(_network);

var _cookie = __webpack_require__(4);

var _cookie2 = _interopRequireDefault(_cookie);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var objToArr = function objToArr(obj) {
    if (obj && obj.subtype) {
        if (!obj.subtype.includes('subtype/')) {
            obj.subtype = 'subtype/' + obj.subtype;
        }
    }
    return Object.values(obj);
};

var UserTaskManager = function () {
    function UserTaskManager() {
        _classCallCheck(this, UserTaskManager);

        this.network = new _network2.default();
        this.cookieStorage = _cookie2.default;
        this.settingPost = {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
                'Accept': 'application/json'
            }
        };
        this.postStartFollowingList = this.postStartFollowingList;
        this.postStartTask = this.postStartTask;
    }

    // isLoggedIn() {
    //     return !!this.getToken();
    // }
    //
    // isEmailConfirmed() {
    //     return (this.cookieStorage.get(CONST.cookieStorage.emailConfirmed) === 'confirmed');
    // }


    _createClass(UserTaskManager, [{
        key: 'getToken',
        value: function getToken(asHeader) {
            var cookieToken = this.cookieStorage.get(_consts.CONST.cookieStorage.token);
            return asHeader ? { headers: { token: cookieToken } } : cookieToken;
        }
    }, {
        key: 'getMetadata',
        value: function getMetadata(path, cbError) {
            var pathArr = objToArr(path);
            return this.network.sendRequest('' + _consts.CONST.getPathByArr('instagramTaskManager_getTaskByTypes', pathArr), this.getToken('asHeader'), cbError);
        }
    }, {
        key: 'getMetadataLazy',
        value: function getMetadataLazy(path, cbError) {
            var pathArr = objToArr(path);
            pathArr.push('?lazy=true');
            return this.network.sendRequest('' + _consts.CONST.getPathByArr('instagramTaskManager_getTaskByTypes', pathArr), this.getToken('asHeader'), cbError);
        }
    }, {
        key: 'getTaskTypes',
        value: function getTaskTypes(details, cbError) {
            return this.network.sendRequest('' + _consts.CONST.getPath('instagramTaskManager_getTaskTypes'), this.getToken('asHeader'), cbError);
        }
    }, {
        key: 'stopTaskByID',
        value: function stopTaskByID(taskId, cbError) {
            var setting = _extends({}, this.settingPost, {
                method: 'PUT',
                headers: _extends({}, this.settingPost.headers, {
                    'token': this.getToken()
                })
            });
            var url = _consts.CONST.getPath('instagramTaskManager_putStopTaskByID', taskId);
            return this.network.sendRequest(url, setting, cbError);
        }
    }, {
        key: 'deleteTaskByID',
        value: function deleteTaskByID(taskId, cbError) {
            var setting = _extends({}, this.settingPost, {
                method: 'DELETE',
                headers: _extends({}, this.settingPost.headers, {
                    'token': this.getToken()
                })
            });
            var url = _consts.CONST.getPath('instagramTaskManager_delRemoveTaskByID', taskId);
            return this.network.sendRequest(url, setting, cbError);
        }
    }, {
        key: 'getDefaultConfigs',
        value: function getDefaultConfigs(path, cbError) {
            var url = _consts.CONST.getPath('instagramTaskManager_getDefaultConfigs') + '/' + path.type + '/subtype/' + path.subtype;
            return this.network.sendRequest(url, this.getToken('asHeader'), cbError);
        }
    }, {
        key: 'postStartFollowingList',
        value: function postStartFollowingList(body, cbError, path) {
            var setting = _extends({}, this.settingPost, {
                headers: _extends({}, this.settingPost.headers, {
                    'token': this.getToken(),
                    'X-Auth-Token': 'e2f4336abea440489c51c5c10294ea12'
                })
            });
            setting.body = JSON.stringify(body);
            var url = path ? '' + _consts.CONST.getPath(path) : '' + _consts.CONST.getPath('instagramTaskManager_postStartFollowingList');

            return this.network.sendRequest(url, setting, cbError);
        }
    }, {
        key: 'postStartTask',
        value: function postStartTask(body, cbError) {
            var path = 'instagramTaskManager_postStartTask';
            return this.postStartFollowingList(body, cbError, path);
        }
    }, {
        key: 'postStartComments',
        value: function postStartComments(body, cbError) {
            var path = 'instagramTaskManager_postStartTask';
            return this.postStartFollowingList(body, cbError, path);
        }
    }, {
        key: 'postImageAutomessages',
        value: function postImageAutomessages(body, cbError) {
            var setting = {
                method: 'POST',
                headers: {
                    'token': this.getToken(),
                    'Accept': 'application/json',
                    'Content-type': 'multipart/form-data'
                }
            };
            setting.body = JSON.stringify(body);
            var url = '' + _consts.CONST.getPath('instagramTaskManager_postImageAttachment');

            return this.network.sendRequest(url, setting, cbError);
        }
    }, {
        key: 'getLogsChatBot',
        value: function getLogsChatBot(pathArray, page, cbError) {
            // const pathArr = objToArr(path);
            // console.log('convert path as ARR', pathArray, page);
            return this.network.sendRequest('' + _consts.CONST.getPathByArr('instagramTaskManager_getLogsChatBot', pathArray, page), this.getToken('asHeader'), cbError);
        }
    }, {
        key: 'getPostsAutomessages',
        value: function getPostsAutomessages(details, cbError) {
            var cursor = details.cursor ? '?cursor=' + details.cursor : '';
            // eslint-disable-next-line no-param-reassign
            var urlByUserName = '' + _consts.CONST.getPath('instagramTaskManager_getPosts', details.userName || 'user_not_selected') + cursor;
            return this.network.sendRequest(urlByUserName, this.getToken('asHeader'), cbError);
        }
    }, {
        key: 'getStoriesConfig',
        value: function getStoriesConfig(path, cbError) {
            var url = _consts.CONST.getPath('instagramTaskManager_getDefaultConfigs') + '/' + path.type + '/subtype/' + path.subtype;
            return this.network.sendRequest(url, this.getToken('asHeader'), cbError);
        }
    }]);

    return UserTaskManager;
}();

var userInstance = null;

if (!userInstance) {
    userInstance = new UserTaskManager();
}

exports.default = userInstance;

/***/ }),
/* 3 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); // import $ from 'jquery';


var _consts = __webpack_require__(0);

var _network = __webpack_require__(16);

var _network2 = _interopRequireDefault(_network);

var _cookie = __webpack_require__(4);

var _cookie2 = _interopRequireDefault(_cookie);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var User = function () {
    function User() {
        _classCallCheck(this, User);

        this.network = new _network2.default();
        this.cookieStorage = _cookie2.default;
        this.settingPost = {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
                'Accept': 'application/json'
            }
        };
    }

    _createClass(User, [{
        key: 'isLoggedIn',
        value: function isLoggedIn() {
            return !!this.getToken();
        }
    }, {
        key: 'isEmailConfirmed',
        value: function isEmailConfirmed() {
            return this.cookieStorage.get(_consts.CONST.cookieStorage.emailConfirmed) === 'confirmed';
        }
    }, {
        key: 'getToken',
        value: function getToken(asHeader) {
            var cookieToken = this.cookieStorage.get(_consts.CONST.cookieStorage.token);
            return asHeader ? { headers: { token: cookieToken } } : cookieToken;
        }
    }, {
        key: 'login',
        value: function login(formData, cbError) {
            var setting = _extends({}, this.settingPost, { body: JSON.stringify(formData) });
            return this.network.sendRequest(_consts.CONST.getPath('login'), setting, cbError);
        }
    }, {
        key: 'addInstagramAccount',
        value: function addInstagramAccount(formData, cbError) {
            var username = formData.username,
                password = formData.password,
                ip = formData.ip,
                port = formData.port,
                usernameProxy = formData.usernameProxy,
                passwordProxy = formData.passwordProxy;

            // TODO: del proxyTMP after beta-testing

            var proxyTMP = {
                'proxy': {
                    'host': ip,
                    port: port,
                    username: usernameProxy,
                    password: passwordProxy
                }
            };
            var body = JSON.stringify(_extends({ username: username,
                password: password
            }, proxyTMP));
            var setting = _extends({}, this.settingPost, {
                body: body,
                headers: _extends({}, this.settingPost.headers, {
                    token: this.getToken()
                })
            });

            return this.network.sendRequest(_consts.CONST.getPath('instagram_addAccount'), setting, cbError);
        }
    }, {
        key: 'editInstagramAccount',
        value: function editInstagramAccount(username, body) {
            var setting = {
                method: 'PUT',
                headers: _extends({}, this.settingPost.headers, {
                    'token': this.getToken()
                }),
                body: body
            };
            var url = '' + _consts.CONST.getPath('instagram_modifyAccount', username);
            console.log(url);
            return this.network.sendRequest('' + _consts.CONST.getPath('instagram_modifyAccount', username), setting);
        }
    }, {
        key: 'updateInstagramAccount',
        value: function updateInstagramAccount(username, body) {
            var setting = {
                headers: _extends({}, this.settingPost.headers, {
                    'token': this.getToken()
                }),
                body: body
            };
            // const url = `${CONST.getPath('instagram_modifyAccount', username)}`;
            // console.log(url);
            return this.network.sendRequest('' + _consts.CONST.getPath('instagram_getAccountByUser', username), setting);
        }
    }, {
        key: 'delInstagramAccount',
        value: function delInstagramAccount(username) {
            var setting = {
                method: 'DELETE',
                headers: _extends({}, this.settingPost.headers, {
                    'token': this.getToken()
                })
            };
            return this.network.sendRequest('' + _consts.CONST.getPath('instagram_modifyAccount', username), setting);
        }

        // getInstagramAccount() {
        //     const setting = {
        //         ...this.settingPost,
        //         method: 'GET',
        //         headers: {
        //             ...this.settingPost.headers,
        //             token: this.getToken()
        //         }
        //     };
        //     return this.network.sendRequest(CONST.getPath('instagram_addAccount'), setting);
        // }

    }, {
        key: 'confirm',
        value: function confirm(token) {
            // const confirmUrl = CONST.getPath('confirmation');
            return this.network.sendRequest('' + (_consts.CONST.getPath('confirmation') + token));
        }
    }, {
        key: 'register',
        value: function register(formData) {
            var setting = _extends({}, this.settingPost, {
                body: JSON.stringify(formData)
            });
            return this.network.sendRequest(_consts.CONST.getPath('registration'), setting);
        }

        // todo: move to account-list

    }, {
        key: 'getMetadata',
        value: function getMetadata(cbError) {
            return this.network.sendRequest('' + _consts.CONST.getPath('instagramAccount_getMetaData'), this.getToken('asHeader'), cbError);
        }
    }, {
        key: 'getMetadataLazy',
        value: function getMetadataLazy(cbError) {
            return this.network.sendRequest(_consts.CONST.getPath('instagramAccount_getMetaData') + '?lazy=true', this.getToken('asHeader'), cbError);
        }
    }, {
        key: 'getSecurityKey',
        value: function getSecurityKey(username, checkpointType) {
            var setting = _extends({}, this.settingPost, {
                body: JSON.stringify({ 'type': checkpointType }), // todo: tmp set, it should be 'type'
                headers: _extends({}, this.settingPost.headers, {
                    'token': this.getToken()
                })
            });
            return this.network.sendRequest('' + _consts.CONST.getPath('instagramAccount_checkpoint') + username, setting);
        }
    }, {
        key: 'confirmSecurityKey',
        value: function confirmSecurityKey(key, username) {
            var setting = {
                method: 'DELETE',
                body: JSON.stringify({ 'security_code': key }),
                headers: _extends({}, this.settingPost.headers, {
                    'token': this.getToken()
                })
            };
            return this.network.sendRequest('' + _consts.CONST.getPath('instagramAccount_confirmKey') + username, setting);
        }
    }]);

    return User;
}();

var userInstance = null;

if (!userInstance) {
    userInstance = new User();
}

exports.default = userInstance;

/***/ }),
/* 4 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"]) _i["return"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError("Invalid attempt to destructure non-iterable instance"); } }; }();

var CookieSrv = {
    get: function get(name) {
        var c = document.cookie.match('(?:(?:^|.*; *)' + name + ' *= *([^;]*).*$)|^.*$')[1];
        if (c) {
            return decodeURIComponent(c);
        }
    },
    set: function set(name, value) {
        var opts = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : { path: '/', days: 365 };

        if (opts.days) {
            opts['max-age'] = opts.days * 60 * 60 * 24;
            delete opts.days;
        }
        // eslint-disable-next-line no-param-reassign
        opts = Object.entries(opts).reduce(function (str, _ref) {
            var _ref2 = _slicedToArray(_ref, 2),
                k = _ref2[0],
                v = _ref2[1];

            return str + '; ' + k + '=' + v;
        }, '');
        document.cookie = name + '=' + (encodeURIComponent(value) + opts);
    },
    remove: function remove(name, opts) {
        return CookieSrv.set(name, '', _extends({ 'max-age': -1, path: '/', days: 0 }, opts)
        // path & domain must match cookie being deleted
        );
    } };

/*
class CookieStorage {
    read(key) {
        const value = $.cookie(key);
        return value === undefined ? null : value;
    }

    setCookie(name, value, days) {
        let expires = '';
        if (days) {
            const date = new Date();
            date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));
            expires = `; expires=${date.toUTCString()}`;
        }
        document.cookie = `${name} =${(value || '') + expires}; path=/`;
    }

    getCookie(name) {
        const value = `; ${document.cookie}`;
        const parts = value.split(`; ${name}=`);
        if (parts.length == 2) {
            return parts.pop().split(';').shift();
        }
    }
}
*/

exports.default = CookieSrv;

/***/ }),
/* 5 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.getTasksData = getTasksData;
exports.init = init;

var _apiTaskManager = __webpack_require__(2);

var _apiTaskManager2 = _interopRequireDefault(_apiTaskManager);

var _view = __webpack_require__(1);

var _view2 = _interopRequireDefault(_view);

var _consts = __webpack_require__(0);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var modeRus = function modeRus(mode) {
    switch (mode) {
        case 'AGGRESSIVE':
            return 'Агрессивный';
        case 'MIDDLE':
            return 'Средний';
        case 'SAFE':
            return ' Безопасный';
        default:
            break;
    }
};

function fillListByState(taskState, $list, item) {
    var progress = item.progress,
        created_at = item.created_at,
        task_id = item.task_id,
        type = item.type,
        status = item.status,
        username = item.username,
        mode = item.mode;

    var addItem = function addItem(tplStop) {
        $('<li class="list-group-item p-0 py-2" data-type="' + type + '" data-task-id="' + task_id + '">\n                ' + tplStop + '\n            </li>').appendTo($list);
    };
    var tplPaused = '<div class="card-block">\n        <h4 class="card-title">\u041D\u0430 \u043F\u0430\u0443\u0437\u0435</h4>\n        <div class="text-right">\n            ' + (progress && progress.timestamp ? '<span class="text-muted">' + _view2.default.getFormattedDateUtil(progress.timestamp) + '</span>' : '') + '\n            ' + (created_at ? '<span class="text-muted">' + _view2.default.getFormattedDateUtil(created_at) + '</span>' : '') + '\n        </div>\n        <span class="text-success">10%</span>\n        <div class="progress mb-3">\n            <div class="progress-bar bg-success" role="progressbar" style="width: 10%; height: 6px;" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100"></div>\n        </div>\n        <button class="btn btn-warning js_btn-delete-task">\u0423\u0434\u0430\u043B\u0438\u0442\u044C</button>';
    var tplProgress = '<div class="no-gutters px-2 row task-progress">\n            <div class="col-6 align-items-center d-flex">\n                <img src="' + sessionStorage.getItem(username) + '" class="rounded-circle avatar" alt="\u0430\u0432\u0430\u0442\u0430\u0440"/>\n                <h2 class="mt-0 mb-1 ml-2">' + username + '</h2>\n            </div>\n            <div class="col-6 col-6--with-borders">\n                <p class="pb-1 name"><b>ID:</b> ' + task_id + '</p>\n                ' + (created_at ? '<p class="pb-1"><b>\u0417\u0430\u043F\u0443\u0449\u0435\u043D\u043E:</b> ' + _view2.default.getFormattedDateUtil(created_at, 'showFullTime') + '</p>' : '') + '\n                ' + (mode ? '<p class="pb-1"><b>\u0420\u0435\u0436\u0438\u043C:</b> ' + modeRus(mode) + '</p>' : '') + '\n                <div class="text-center">\n                    <button class="btn btn-outline-primary js_btn-stop-task"><i class="far fa-pause-circle fa-lg"></i></button>\n                    <!--button class="btn btn-warning js_btn-delete-task ml-3"><i class="far fa-trash-alt fa-lg"></i></button-->\n                </div>\n            </div>\n        </div>';
    var tplStop = '<div class="no-gutters px-2 row task-stopped">\n            <div class="col-6 align-items-center d-flex">\n                <img src="' + sessionStorage.getItem(username) + '" class="rounded-circle avatar" alt="\u0430\u0432\u0430\u0442\u0430\u0440"/>\n                <h2 class="mt-0 mb-1 ml-2">' + username + '</h2>\n            </div>\n            <div class="col-6 col-6--with-borders">\n                <p class="pb-1 name"><b>ID:</b> ' + task_id + '</p>\n                ' + (item.status.reason ? '<p class="my-1">' + status.reason + '</p>' : '') + '\n                ' + (created_at ? '<p class="pb-1"><b>\u0417\u0430\u043F\u0443\u0449\u0435\u043D\u043E:</b> ' + _view2.default.getFormattedDateUtil(created_at, 'showFullTime') + '</p>' : '') + '\n                ' + (mode ? '<p class="pb-1"><b>\u0420\u0435\u0436\u0438\u043C:</b> ' + modeRus(mode) + '</p>' : '') + '\n                <div class="text-center">\n                    <button class="btn btn-warning js_btn-delete-task"><i class="far fa-trash-alt fa-lg"></i></button>\n                </div>\n            </div>\n\n        </div>';
    var tplFinished = '<div class="no-gutters px-2 row task-progress">\n            <div class="col-6 align-items-center d-flex">\n                <img src="' + sessionStorage.getItem(username) + '" class="rounded-circle avatar" alt="\u0430\u0432\u0430\u0442\u0430\u0440"/>\n                <h2 class="mt-0 mb-1 ml-2">' + username + '</h2>\n            </div>\n            <div class="col-6 col-6--with-borders">\n                <p class="pb-1 name"><b>ID:</b> ' + task_id + '</p>\n                ' + (created_at ? '<p class="pb-1"><b>\u0417\u0430\u043F\u0443\u0449\u0435\u043D\u043E:</b> ' + _view2.default.getFormattedDateUtil(created_at, 'showFullTime') + '</p>' : '') + '\n                ' + (mode ? '<p class="pb-1"><b>\u0420\u0435\u0436\u0438\u043C:</b> ' + modeRus(mode) + '</p>' : '') + '\n                <div class="text-center">\n                    <!--<button class="btn btn-outline-primary js_btn-stop-task"><i class="far fa-pause-circle fa-lg"></i></button>-->\n                    <button class="btn btn-warning js_btn-delete-task ml-3"><i class="far fa-trash-alt fa-lg"></i></button>\n                </div>\n            </div>\n        </div>';
    switch (taskState) {
        case 'PAUSED':
            addItem(tplPaused);
            break;
        case 'IN_PROGRESS':
            addItem(tplProgress);
            break;
        case 'GLOBAL_PAUSE':
            addItem(tplProgress);
            break;
        case 'STOPPED':
            addItem(tplStop);
            break;
        case 'FINISHED':
            addItem(tplFinished);
            break;
        default:
            break;
    }
}

function fillListMeta($list, items /* , isRuns*/) {
    // const defaultAvatarSrc = CONST.user.defaulAvatar;
    $list.empty();
    if (!items.length) {
        $('<li class="list-group-item py-2">\n                <p>\u041D\u0435\u0442 \u043D\u0438 \u043E\u0434\u043D\u043E\u0439 \u0437\u0430\u0434\u0430\u0447\u0438.</p>\n            </li>').appendTo($list);
        return;
    }
    items.forEach(function (item) {
        // if ((item.status.state === 'STOPPED' || item.status.state === 'FINISHED') && !isRuns) {
        //     fillListByState(item.status.state, $list, item);
        // } else if ((item.status.state === 'IN_PROGRESS' || item.status.state === 'PAUSED') && isRuns) {
        //     fillListByState(item.status.state, $list, item);
        // }
        fillListByState(item.status.state, $list, item);
    });
    if (!$('li', $list).length) {
        $('<li class="list-group-item py-2">\n            <p>\u041D\u0435\u0442 \u043D\u0438 \u043E\u0434\u043D\u043E\u0439 \u0437\u0430\u0434\u0430\u0447\u0438.</p>\n        </li>').appendTo($list);
    }
}

/* eslint-disable no-use-before-define */
function initHandlers(holders, path) {
    var _path = path || {
        type: _consts.CONST.url.tmTypes.followingT,
        subtype: _consts.CONST.url.tmTypes.followingSubT[0]
    };
    var $btnStopTask = $('.js_btn-stop-task');
    var $btnDelTask = $('.js_btn-delete-task');
    var getTaskID = function getTaskID(e) {
        var btn = $(e.target);
        return btn.closest('li').data('task-id');
    };

    $btnStopTask.on('click', function (e) {
        var taskId = getTaskID(e);
        console.log('STOP Task id', taskId);
        _apiTaskManager2.default.stopTaskByID(taskId).then(function (result) {
            console.log(result);
            getTasksData(holders, _path);
        });
    });

    $btnDelTask.on('click', function (e) {
        var taskId = getTaskID(e);
        console.log('DELETE id', taskId);
        _apiTaskManager2.default.deleteTaskByID(taskId).then(function (result) {
            console.log(result);
            getTasksData(holders, _path);
        });
    });
}

function getTasksData(holders, path) {
    var $all = holders.$all;

    var _path = path || {
        type: _consts.CONST.url.tmTypes.followingT,
        subtype: _consts.CONST.url.tmTypes.followingSubT[0]
    };
    _apiTaskManager2.default.getMetadata(_path).then(function (result) {
        // console.log('getMetadata & fillListMeta', result);
        if (result.status.state === 'ok') {
            // fillListMeta($runs, result.data.meta, 'isRuns');
            fillListMeta($all, result.data.meta, 'isAll');
            initHandlers(holders, path);
        }
    });
}

/**
 * Init
 */
function init() {
    var holders = {
        $runs: $('.follow-tasks-runs'),
        $stopped: $('.follow-tasks-stopped'),
        $all: $('.follow-tasks-all')
    };
    getTasksData(holders);
    window.PubSub.subscribe(_consts.CONST.events.tasks.NEW_TASK_CREATED, function (eventName, data) {
        var _path = {
            type: _consts.CONST.url.tmTypes.followingT,
            subtype: _consts.CONST.url.tmTypes.followingSubT[0]
        };
        getTasksData(holders, _path);
    });
}

/***/ }),
/* 6 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.init = init;

var _consts = __webpack_require__(0);

// import 'brutusin-json-forms';
var state = {
    username: ''
};
var wizardFormSelector = '.wizard-form';

/**
 * Init header
 */
function initSteps(formSelector, wizardCfg) {
    var $form = $(formSelector);
    var stepReducer = wizardCfg.stepReducer,
        onSubmitHandler = wizardCfg.onSubmitHandler;

    $('.js_profile-user-follow>.container').removeClass('container');

    $form.find('fieldset:first-child').fadeIn('slow');

    $form.find('input[type="text"]').on('focus', function () {
        $(this).removeClass('input-error');
    });

    // next step
    $form.find('.btn-next').on('click', function () {
        var parent_fieldset = $(this).parents('fieldset');
        var next_step = true;
        var radioBtnActive = parent_fieldset.find('input[name="userAccountRadio"]:checked');

        if (radioBtnActive.length > 0) {
            state.username = radioBtnActive.parents('li').data('username');
        }

        if (stepReducer) {
            stepReducer(parent_fieldset.index(), state);
        }

        parent_fieldset.find('input[type="text"],input[type="email"]').each(function () {
            if ($(this).val() === '') {
                $(this).addClass('input-error');
                next_step = false;
            } else {
                $(this).removeClass('input-error');
            }
        });

        if (next_step) {
            parent_fieldset.fadeOut(400, function () {
                $(this).next().fadeIn();
            });
        }
    });

    // previous step
    $form.find('.btn-previous').on('click', function () {
        // state.username = [...new Set(state.username)];
        $(this).parents('fieldset').fadeOut(400, function () {
            $(this).prev().fadeIn();
        });
    });

    // speed radio-btn group
    $('.js_follow-speed input[type=radio]').on('click', function () {
        // const value = $(this).attr('value');
        // state.user_default_config = {
        //     task_mode: value.toUpperCase()
        // };
    });

    // submit
    $form.on('submit', function (e) {
        $(this).find('input[type="text"],input[type="number"],input[type="email"]').each(function () {
            if ($(this).val() === '') {
                e.preventDefault();
                $(this).addClass('input-error');
            } else {
                $(this).removeClass('input-error');
            }
        });

        if (onSubmitHandler) {
            onSubmitHandler(e);
        }

        console.log('SubmitHandler END');
    });

    // alert close
    $('.form-submit-finish .close').on('click', function (e) {
        console.log('form-submit-finish .close');
        $(this).closest('.form-submit-finish').removeClass('d-block');
        e.stopPropagation();
        // $(this).closest('form-submit-finish').removeClass('d-block');
        // $('#v-pills-runned-tab').trigger('click');
        // window.PubSub.publish(CONST.events.tasks.NEW_TASK_CREATED);
    });

    $('#v-pills-create-task-tab').on('click', function (e) {
        console.log('reset form');
        if ($('fieldset:first-child').css('display') === 'none') {
            $form.find('fieldset').hide('fast', function () {
                $form.find('fieldset:first-child').show('slow');
            });
        }
        $('.form-submit-finish').removeClass('d-block');
        // clear all val in textarea and input (except radio)
        $('fieldset', wizardFormSelector).find('input:not([type="radio"]), textarea').val('');
    });
}

/*
function fixStepIndicator(n) {
    // This function removes the "active" class of all steps...
    var i, x = document.getElementsByClassName("step");
    for (i = 0; i < x.length; i++) {
        x[i].className = x[i].className.replace(" active", "");
    }
    //... and adds the "active" class on the current step:
    x[n].className += " active";
}*/

// wrap list as radiogroup
function modifyAccList() {
    var radioBtnAppend = function radioBtnAppend(idx) {
        return '<div class="">\n            <input type="radio" name="userAccountRadio" id="customRadio-' + idx + '" class="custom-control-input d-none" value="">\n        </div>';
    };
    var radioBtnWrap = function radioBtnWrap(idx) {
        return '<label class="accounts-list--label-wrapper col mb-0 media py-3" for="customRadio-' + idx + '"></label>';
    };
    var $accountsList = $('.accounts-list');
    var $li = $accountsList.find('li.media');
    $li.addClass('js_user-radio').removeClass('py-3 media');

    for (var i = 0; i < $li.length; i++) {
        var currLi = $($li[i]);
        currLi.wrapInner(radioBtnWrap(i)).append(radioBtnAppend(i));
        if (currLi.find('.user-checkpoint .text-danger').length) {
            currLi.remove();
        }
    }

    $('.js_user-radio').on('click', 'input[type=radio]', function (e) {
        var $parentFieldset = $(this).parents('fieldset');
        $('li.active', $parentFieldset).removeClass('active');
        $(this).closest('li').addClass('active');
        $('.btn-next', $parentFieldset).prop('disabled', false);
    });
}

function init(wizardCfg) {
    if ($('.wizard-form').length) {
        initSteps(wizardFormSelector, wizardCfg);
        window.PubSub.subscribe(_consts.CONST.events.instagramAccouns.INSTAGRAM_ACCOUNS_RENDERED, function (eventName, data) {
            modifyAccList();
        });
    }
}

/***/ }),
/* 7 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.init = init;

var _consts = __webpack_require__(0);

var _apiTaskManager = __webpack_require__(2);

var _apiTaskManager2 = _interopRequireDefault(_apiTaskManager);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var MAX_IMG_FILE_SIZE_BYTE = 1048576;
var fileUploadBox = '.file-upload';
var fileUploadContent = '.file-upload-content';

function removeUpload($uploadContainer) {
    var input = $uploadContainer.find('input');
    input.replaceWith(input.clone());
    $uploadContainer.find(fileUploadContent).hide();
    $uploadContainer.find('.image-upload-wrap').show();
}

var $imgUploadWrap = $('.image-upload-wrap');
$imgUploadWrap.bind('dragover', function () {
    $('.image-upload-wrap').addClass('image-dropping');
});
$imgUploadWrap.bind('dragleave', function () {
    $('.image-upload-wrap').removeClass('image-dropping');
});

// function abortRead(reader) {
//     reader.abort();
// }

function errorHandler(evt, reader) {
    switch (evt.target.error.code) {
        case evt.target.error.NOT_FOUND_ERR:
            console.info('File Not Found!');
            break;
        case evt.target.error.NOT_READABLE_ERR:
            console.info('File is not readable');
            break;
        case evt.target.error.ABORT_ERR:
            break; // noop
        default:
            console.info('An error occurred reading this file.');
    }
}

function updateProgress(evt, progress) {
    // evt is an ProgressEvent.
    if (evt.lengthComputable) {
        var percentLoaded = Math.round(evt.loaded / evt.total * 100);
        // Increase the progress bar length.
        if (percentLoaded % 10 === 0) {
            // progress.style.width = `${percentLoaded}%`;
            // progress.textContent = `${percentLoaded}%`;
            console.log(percentLoaded);
        }
    }
}

function isFileTypeOk(acceptedFile) {
    return acceptedFile.type === 'image/jpeg';
}

function isImgSizeOk(acceptedFile) {
    var imgSize = Math.round(acceptedFile.size);
    return MAX_IMG_FILE_SIZE_BYTE > imgSize;
}

function handleSubmit(input, replaceWithCfg) {
    var url = _consts.CONST.getPath('instagramTaskManager_postImageAttachment');
    var token = _apiTaskManager2.default.getToken();
    var acceptedFile = input.files[0];
    console.log('handleSubmit');
    // if (!isImgSizeOk(acceptedFile)) {
    //     console.log('show error message, imgSize to big ');
    //     $(fileUploadBox)
    //         .append(`
    //             <p class="msg-max-size-img text-danger">Максимальный допустимый размер картинки ${MAX_IMG_FILE_SIZE_BYTE}MB</p>
    //         `);
    //     setTimeout(() => {
    //         $('.msg-max-size-img').addClass('d-none');
    //     }, 5000);
    //     return;
    // }
    var formData = new FormData();

    var request = new XMLHttpRequest();

    if (replaceWithCfg && replaceWithCfg.replaceWith) {
        // ** edit USER **
        // PUT http://api.luxgram.ru/v1/instagram-accounts/{username}/photo
        // form-data: "photo" (jpg)
        formData.append('photo', acceptedFile, acceptedFile.name);
        var username = replaceWithCfg.username;

        request.open('PUT', 'http://api.luxgram.ru/v1/instagram-accounts/' + username + '/photo');
        // request.withCredentials = true;
        request.setRequestHeader('token', token);
        request.setRequestHeader('Accept', 'application/json');
        request.setRequestHeader('cache-control', 'no-cache');
        request.send(formData);
        request.addEventListener('readystatechange', function () {
            if (this.readyState === 4) {
                console.log('PUT', this.responseText, this);
                // window.PubSub.publish(CONST.events.autoarnswer.IMAGE_UPLOADED, {'response': this.responseText, 'el': input});
                window.PubSub.publish(_consts.CONST.events.autoarnswer.IMAGE_UPLOADED_AVATAR, { 'response': this.response });
            }
        });
        return;
    }
    formData.append('image', acceptedFile, acceptedFile.name);
    request.open('POST', url);
    // request.withCredentials = true;
    request.setRequestHeader('token', token);
    request.setRequestHeader('Accept', 'application/json');
    request.setRequestHeader('cache-control', 'no-cache');
    request.send(formData);
    request.addEventListener('readystatechange', function () {
        if (this.readyState === 4) {
            console.log('this', this.responseText, this);
            window.PubSub.publish(_consts.CONST.events.autoarnswer.IMAGE_UPLOADED, { 'response': this.responseText, 'el': input });
        }
    });
}

function readURL(input, replaceWithCfg, handleSubmitCb) {
    var replaceWith = replaceWithCfg.replaceWith,
        holderCls = replaceWithCfg.holderCls;

    var holder = holderCls ? holderCls : fileUploadBox;
    var $container = $(input).closest(holder);
    if (input.files && input.files[0]) {
        var reader = new FileReader();
        console.log('readURL');
        if (!isImgSizeOk(input.files[0]) || !isFileTypeOk(input.files[0])) {
            console.log('show error message, imgSize to big ');
            $(fileUploadBox).find('warning-image').remove();
            $(fileUploadBox).append('\n                <div class="warning-image text-danger">\n                    <p>\u0414\u043E\u0441\u0442\u0443\u043F\u043D\u044B\u0439 \u0444\u043E\u0440\u043C\u0430\u0442 \u0438\u0437\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u044F jpeg \u0438\u043B\u0438 jpg</p>\n                    <p class="msg-max-size-img text-danger">\u041C\u0430\u043A\u0441\u0438\u043C\u0430\u043B\u044C\u043D\u044B\u0439 \u0434\u043E\u043F\u0443\u0441\u0442\u0438\u043C\u044B\u0439 \u0440\u0430\u0437\u043C\u0435\u0440 \u043A\u0430\u0440\u0442\u0438\u043D\u043A\u0438 ' + MAX_IMG_FILE_SIZE_BYTE / 1024 / 1024 + 'MB</p>\n                </div>\n            ');
            setTimeout(function () {
                $('.warning-image').addClass('d-none');
            }, 5000);
            return;
        }

        reader.onload = function (e) {
            if (!replaceWith) {
                $container.find('.image-upload-wrap').hide();
                $container.find('.file-upload-image').attr('src', e.target.result);
                $container.find(fileUploadContent).show();
                $container.find('.image-title').html(input.files[0].name);
            } else {
                var imageCls = replaceWithCfg.imageCls;

                $container.find(imageCls).attr('src', e.target.result);
            }
        };

        reader.onerror = errorHandler;
        reader.onprogress = updateProgress;

        reader.readAsDataURL(input.files[0]);
        setTimeout(function () {
            if (typeof handleSubmitCb === 'function') {
                var token = _apiTaskManager2.default.getToken();
                handleSubmitCb(input, token);
            } else {
                handleSubmit(input, replaceWithCfg);
            }
        }, 2000);
        // Read in the image file as a binary string.
        // reader.readAsBinaryString(input.files[0]);
    } else {
        removeUpload($container);
    }
}

function init(replaceWithCfg, handleSubmitCb) {
    var uploadBtnCls = !(replaceWithCfg && replaceWithCfg.replaceWith) ? '.file-upload-btn' : replaceWithCfg.uploadBtnCls;
    var $uploadBtn = $(uploadBtnCls);
    var $uploadInput = $('.file-upload-input');
    var $removeImgBtn = $('.remove-image');

    $uploadBtn.off();
    $uploadInput.off();
    $removeImgBtn.off();

    $uploadBtn.on('click', function (e) {
        var toParentCls = !(replaceWithCfg && replaceWithCfg.replaceWith) ? '.col' : replaceWithCfg.holderCls;
        var input = $(e.target).closest(toParentCls).find(fileUploadBox).find('input.file-upload-input');
        input.trigger('click');
        e.stopPropagation();
    });

    $uploadInput.on('change', function (e) {
        readURL(e.target, replaceWithCfg, handleSubmitCb);
    });

    $removeImgBtn.on('click', function (e) {
        var $container = $(e.target).closest('.col').find(fileUploadBox);
        removeUpload($container);
        $container.removeAttr('attached-img-id');
    });
}

/***/ }),
/* 8 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.init = init;

var _apiTaskManager = __webpack_require__(2);

var _apiTaskManager2 = _interopRequireDefault(_apiTaskManager);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var clsConst = {
    currentPageCls: '',
    tasksList: '',
    logsTabBtn: '',
    pagination: '',
    paginationPgNumber: ''
}; /* eslint-disable no-use-before-define */

var $list = '$(clsConst.tasksList)'; // set in preConfig()
var selectCls = 'someClass';
var getUsername = function getUsername() {
    return $('.' + selectCls + ' option:selected').val();
};
var path = {
    username: getUsername()
};
var currentPage = null;
var intervalId = '';

function initHandlerPagination($previous, $next, dataArray) {
    var $wrapper = $(clsConst.pagination);
    var pagination = dataArray.settings.pagination;


    $previous.on('click', function (e) {
        var $liActive = $wrapper.find('li.page-number.active');
        var page = pagination.previous;
        if (!pagination.previous) {
            $previous.addClass('disabled').prop('disabled', 'disabled');
            return;
        }
        currentPage = pagination.previous;
        $liActive.removeClass('active');
        getLogsData($list, path, page);
    });

    $next.on('click', function (e) {
        var $liActive = $wrapper.find('li.page-number.active');
        var currentActiveIdx = $liActive.index();
        var page = pagination.next;
        if (!pagination.next) {
            return;
        }
        currentPage = pagination.next;
        $liActive.removeClass('active');
        // if (lastPage <= currentActiveIdx + 1) {
        //     $(e.target).parent().addClass('disabled');
        // }
        if (currentActiveIdx && $previous.hasClass('disabled')) {
            $previous.removeClass('disabled');
        }
        getLogsData($list, path, page);
    });

    $(clsConst.logsTabBtn).on('click', function (e) {
        // at this point of time setInterval is working
        currentPage = 1;
    });
    $(clsConst.pagination + ' ' + clsConst.paginationPgNumber).on('click', function (e) {
        e.preventDefault();
        var val = $(e.target).text();
        currentPage = parseInt(val, 10);
        getLogsData($list, path, currentPage);
        console.log(currentPage);
    });
}

function addPagination(dataArray, $wrapper) {
    var pagination = dataArray.settings.pagination;

    var tplPrevious = $('<li class="page-item ' + (!pagination.previous ? 'disabled' : '') + '"><a class="page-link" href="#" ' + (!pagination.previous ? 'tabindex="-1"' : '') + '>\u041D\u0430\u0437\u0430\u0434</a></li>');
    var tplNext = $('<li class="page-item ' + (!pagination.next ? 'disabled' : '') + '"><a class="page-link" href="#" ' + (!pagination.next ? 'tabindex="-1"' : '') + '>\u0412\u043F\u0435\u0440\u0435\u0434</a></li>');

    clearPagination($wrapper);

    if (pagination.next || pagination.pages && pagination.current === pagination.pages[pagination.pages.length - 1]) {
        $wrapper.append(tplPrevious);
        if (pagination && pagination['pages']) {
            pagination['pages'].forEach(function (item) {
                $('<li class="page-item page-number ' + (pagination.current === item ? 'active' : '') + '"><a class="page-link" href="#">' + item + '</a></li>').appendTo($wrapper);
            });
        }
        $wrapper.append(tplNext);
    }
    initHandlerPagination(tplPrevious, tplNext, dataArray);
}

function clearPagination($wrapper) {
    $wrapper.empty();
}

function fillListMeta($list, dataArray, isRuns) {
    var $wrapperPagination = $('.logs-pagination');
    var items = dataArray.logs;
    // const defaultAvatarSrc = CONST.user.defaulAvatar;
    $list.empty();
    if (!items.length) {
        $('<li class="list-group-item py-2">\n            <p>\u041D\u0435\u0442 \u043D\u0438 \u043E\u0434\u043D\u043E\u0433\u043E \u043B\u043E\u0433\u0430.</p>\n        </li>').appendTo($list);
        clearPagination($wrapperPagination);
        return;
    }
    addPagination(dataArray, $wrapperPagination);
    items.forEach(function (item) {
        var level = item.level,
            value = item.value;

        $('<li class="list-group-item p-0 py-2">\n              <div class="media-body d-flex">\n                  <div class="col task-type ' + (level === 'ERROR' ? 'text-danger' : '') + ' ' + (level === 'WARN' ? 'text-warning' : '') + '">\n                      ' + (value ? '' + value : '') + '\n                  </div>\n              </div>\n          </li>').appendTo($list);

        if (!$('li', $list).length) {
            $('<li class="list-group-item py-2" >\n                <p>\u041D\u0435\u0442 \u043D\u0438 \u043E\u0434\u043D\u043E\u0433\u043E \u043B\u043E\u0433\u0430.</p>\n            </li>').appendTo($list);
        }
    });
}

function tabStopReqHandler() {
    var $allAsideTabs = $('#v-pills-tab');
    $allAsideTabs.off();
    $allAsideTabs.on('click', 'a', function (e) {
        e.preventDefault();
        var tab = $(e.target);
        if (tab.attr('id') !== 'v-pills-logs-tab') {
            // console.log('stop req');
            if (intervalId) {
                clearInterval(intervalId);
            }
        }
    });
}

function getLogsData($list, path, page) {
    path.username = getUsername(selectCls);
    var pathArr = [path.type, 'subtype/' + path.subtype, 'account/' + path.username];
    _apiTaskManager2.default.getLogsChatBot(pathArr, page).then(function (result) {
        if (result.status.state === 'ok') {
            fillListMeta($list, result.data);
            tabStopReqHandler();
            var updateInterval = result.data.settings.invoke_in_millis;
            // reset Timer request
            if (intervalId) {
                clearInterval(intervalId);
            }
            if (currentPage <= 1) {
                intervalId = setInterval(function () {
                    // eslint-disable-next-line indent
                    getLogsData($list, path, currentPage);
                }, updateInterval);
            }
        } else {
            $('<li class="list-group-item py-2">\n                <p>\u041D\u0435\u0442 \u0434\u043E\u0441\u0442\u0443\u043F\u0430</p>\n            </li>').appendTo($list);
        }
    });
}

function preConfig(cfg) {
    clsConst = cfg;
    $list = $(clsConst.tasksList);
    path.type = cfg.pathType;
    path.subtype = cfg.pathSubType;
}

function init(_selectCls, cfg) {
    if ($(cfg.currentPageCls).length) {
        selectCls = _selectCls;
        preConfig(cfg);
        if (getUsername()) {
            // console.log(getUsername());
            getLogsData($list, path);
        } else {
            console.log('select user');
        }
    }
}

/***/ }),
/* 9 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.init = init;

var _consts = __webpack_require__(0);

var _user = __webpack_require__(3);

var _user2 = _interopRequireDefault(_user);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var fillDropdownUsersCfg = {};

function fillDropdownUsers(_ref, accounts) {
    var $wrapper = _ref.$wrapper,
        logsState = _ref.logsState,
        OnChangeSelectCb = _ref.OnChangeSelectCb;
    var selectCls = logsState.selectCls;

    var label = 'Выберите аккаунт';
    $wrapper.empty().addClass('border-light-color');
    $('<div class="">' + label + '</div><select name="task-type" class="' + selectCls + '"></select>').appendTo($wrapper);
    accounts.forEach(function (name) {
        $('<option class="list-group-item py-2" value="' + name + '">\n            ' + name + '\n        </option>').appendTo($('.' + selectCls));
    });
    OnChangeSelectCb();
}

function getMetaLazy() {
    _user2.default.getMetadataLazy().then(function (res) {
        if (res.status.state === 'ok' && res.data && res.data.accounts) {
            var cfg = fillDropdownUsersCfg;
            var accounts = res.data.accounts;

            fillDropdownUsers(cfg, accounts);
            window.PubSub.publish(_consts.CONST.events.instagramAccouns.INSTAGRAM_ACCOUNS_RENDERED_LAZY, res.data.accounts);
        }
    });
}

function tabHandler(isComputeMultyDropdown) {
    $('#v-pills-logs-tab').on('click', function (e) {
        getMetaLazy();
    });
}

function init(OnChangeSelect, logsState) {
    var $wrapper = $('.log-users-list');
    Object.assign(fillDropdownUsersCfg, { $wrapper: $wrapper, OnChangeSelectCb: OnChangeSelect, logsState: logsState });
    tabHandler();
}

/***/ }),
/* 10 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.nextBtnvalidateCompetitorsHandler = nextBtnvalidateCompetitorsHandler;
exports.initTagsInput = initTagsInput;

__webpack_require__(51);

var tagsinputSelector = '.bootstrap-tagsinput';

function nextBtnvalidateCompetitorsHandler($input, nextStepBtn, igroreRegexCheck) {
    var englishChars = /^[A-Za-z0-9,._ \n]+$/;
    var checkTextArea = function checkTextArea(e, isInit) {
        var inputvalue = !isInit ? $(e.target).closest('div input').val() : '';
        var text = !isInit ? $(e.target).closest('div').find('.bootstrap-tagsinput input').val() + ',' + inputvalue : '';
        var isRemoved = !isInit && e.type === 'itemRemoved';
        var textOnRemove = isRemoved ? inputvalue : '';
        var removeBorder = function removeBorder() {
            // enable on delete all
            $(e.target).closest('.js_tagsinput-box').find(tagsinputSelector).removeClass('border-danger');
            if (nextStepBtn) {
                // disable on checnge
                nextStepBtn.removeAttr('disabled', 'disabled');
            }
        };
        var addBorder = function addBorder() {
            $(e.target).closest('.js_tagsinput-box').find(tagsinputSelector).addClass('border-danger');
        };
        console.log('text', text);
        if (nextStepBtn) {
            // disable on checnge
            nextStepBtn.attr('disabled', 'disabled');
        }
        var isAddedTextValid = text.length && (englishChars.test(text) || !!igroreRegexCheck);
        var isRemovedTextValid = textOnRemove.length && (englishChars.test(textOnRemove) || !!igroreRegexCheck);

        if ((isAddedTextValid || isRemovedTextValid) && text !== ',') {
            // enable on checnge if lengthText>1
            removeBorder();
        } else if (!isInit) {
            // $(e.target).closest('.js_tagsinput-box').find(tagsinputSelector).addClass('border-danger');
            addBorder();
        }
        if (!textOnRemove.length && isRemoved && !isInit) {
            // enable on delete all
            removeBorder();
        }
    };
    // disable on init
    checkTextArea(null, 'isInit');
    console.log('$competitorsTextArea', $input);

    if (!nextStepBtn) {
        // do not validate anything
        return;
    }

    // event.item: contains the item
    // event.cancel: set to true to prevent the item getting added
    $input.on('beforeItemAdd', checkTextArea);

    // event.item: contains the item
    $input.on('itemRemoved', checkTextArea);
}

function initTagsInput($elInput) {
    $elInput.tagsinput('items');
}

/***/ }),
/* 11 */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(module) {/**
 * Copyright (c) 2010,2011,2012,2013,2014 Morgan Roderick http://roderick.dk
 * License: MIT - http://mrgnrdrck.mit-license.org
 *
 * https://github.com/mroderick/PubSubJS
 */

(function (root, factory){
    'use strict';

    var PubSub = {};
    root.PubSub = PubSub;

    var define = root.define;

    factory(PubSub);

    // AMD support
    if (typeof define === 'function' && define.amd){
        define(function() { return PubSub; });

        // CommonJS and Node.js module support
    } else if (true){
        if (module !== undefined && module.exports) {
            exports = module.exports = PubSub; // Node.js specific `module.exports`
        }
        exports.PubSub = PubSub; // CommonJS module 1.1.1 spec
        module.exports = exports = PubSub; // CommonJS
    }

}(( typeof window === 'object' && window ) || this, function (PubSub){
    'use strict';

    var messages = {},
        lastUid = -1;

    function hasKeys(obj){
        var key;

        for (key in obj){
            if ( obj.hasOwnProperty(key) ){
                return true;
            }
        }
        return false;
    }

    /**
     * Returns a function that throws the passed exception, for use as argument for setTimeout
     * @alias throwException
     * @function
     * @param { Object } ex An Error object
     */
    function throwException( ex ){
        return function reThrowException(){
            throw ex;
        };
    }

    function callSubscriberWithDelayedExceptions( subscriber, message, data ){
        try {
            subscriber( message, data );
        } catch( ex ){
            setTimeout( throwException( ex ), 0);
        }
    }

    function callSubscriberWithImmediateExceptions( subscriber, message, data ){
        subscriber( message, data );
    }

    function deliverMessage( originalMessage, matchedMessage, data, immediateExceptions ){
        var subscribers = messages[matchedMessage],
            callSubscriber = immediateExceptions ? callSubscriberWithImmediateExceptions : callSubscriberWithDelayedExceptions,
            s;

        if ( !messages.hasOwnProperty( matchedMessage ) ) {
            return;
        }

        for (s in subscribers){
            if ( subscribers.hasOwnProperty(s)){
                callSubscriber( subscribers[s], originalMessage, data );
            }
        }
    }

    function createDeliveryFunction( message, data, immediateExceptions ){
        return function deliverNamespaced(){
            var topic = String( message ),
                position = topic.lastIndexOf( '.' );

            // deliver the message as it is now
            deliverMessage(message, message, data, immediateExceptions);

            // trim the hierarchy and deliver message to each level
            while( position !== -1 ){
                topic = topic.substr( 0, position );
                position = topic.lastIndexOf('.');
                deliverMessage( message, topic, data, immediateExceptions );
            }
        };
    }

    function messageHasSubscribers( message ){
        var topic = String( message ),
            found = Boolean(messages.hasOwnProperty( topic ) && hasKeys(messages[topic])),
            position = topic.lastIndexOf( '.' );

        while ( !found && position !== -1 ){
            topic = topic.substr( 0, position );
            position = topic.lastIndexOf( '.' );
            found = Boolean(messages.hasOwnProperty( topic ) && hasKeys(messages[topic]));
        }

        return found;
    }

    function publish( message, data, sync, immediateExceptions ){
        message = (typeof message === 'symbol') ? message.toString() : message;

        var deliver = createDeliveryFunction( message, data, immediateExceptions ),
            hasSubscribers = messageHasSubscribers( message );

        if ( !hasSubscribers ){
            return false;
        }

        if ( sync === true ){
            deliver();
        } else {
            setTimeout( deliver, 0 );
        }
        return true;
    }

    /**
     * Publishes the message, passing the data to it's subscribers
     * @function
     * @alias publish
     * @param { String } message The message to publish
     * @param {} data The data to pass to subscribers
     * @return { Boolean }
     */
    PubSub.publish = function( message, data ){
        return publish( message, data, false, PubSub.immediateExceptions );
    };

    /**
     * Publishes the the message synchronously, passing the data to it's subscribers
     * @function
     * @alias publishSync
     * @param { String } message The message to publish
     * @param {} data The data to pass to subscribers
     * @return { Boolean }
     */
    PubSub.publishSync = function( message, data ){
        return publish( message, data, true, PubSub.immediateExceptions );
    };

    /**
     * Subscribes the passed function to the passed message. Every returned token is unique and should be stored if you need to unsubscribe
     * @function
     * @alias subscribe
     * @param { String } message The message to subscribe to
     * @param { Function } func The function to call when a new message is published
     * @return { String }
     */
    PubSub.subscribe = function( message, func ){
        if ( typeof func !== 'function'){
            return false;
        }

        message = (typeof message === 'symbol') ? message.toString() : message;

        // message is not registered yet
        if ( !messages.hasOwnProperty( message ) ){
            messages[message] = {};
        }

        // forcing token as String, to allow for future expansions without breaking usage
        // and allow for easy use as key names for the 'messages' object
        var token = 'uid_' + String(++lastUid);
        messages[message][token] = func;
        
        // return token for unsubscribing
        return token;
    };

    /**
     * Subscribes the passed function to the passed message once
     * @function
     * @alias subscribeOnce
     * @param { String } message The message to subscribe to
     * @param { Function } func The function to call when a new message is published
     * @return { PubSub }
     */
    PubSub.subscribeOnce = function( message, func ){
        var token = PubSub.subscribe( message, function(){
            // before func apply, unsubscribe message
            PubSub.unsubscribe( token );
            func.apply( this, arguments );
        });
        return PubSub;
    };

    /**
     * Clears all subscriptions
     * @function
     * @public
     * @alias clearAllSubscriptions
     */
    PubSub.clearAllSubscriptions = function clearAllSubscriptions(){
        messages = {};
    };

    /**
     * Clear subscriptions by the topic
     * @function
     * @public
     * @alias clearAllSubscriptions
     */
    PubSub.clearSubscriptions = function clearSubscriptions(topic){
        var m;
        for (m in messages){
            if (messages.hasOwnProperty(m) && m.indexOf(topic) === 0){
                delete messages[m];
            }
        }
    };

    /**
     * Removes subscriptions
     *
     * - When passed a token, removes a specific subscription.
     *
	 * - When passed a function, removes all subscriptions for that function
     *
	 * - When passed a topic, removes all subscriptions for that topic (hierarchy)
     * @function
     * @public
     * @alias subscribeOnce
     * @param { String | Function } value A token, function or topic to unsubscribe from
     * @example // Unsubscribing with a token
     * var token = PubSub.subscribe('mytopic', myFunc);
     * PubSub.unsubscribe(token);
     * @example // Unsubscribing with a function
     * PubSub.unsubscribe(myFunc);
     * @example // Unsubscribing from a topic
     * PubSub.unsubscribe('mytopic');
     */
    PubSub.unsubscribe = function(value){
        var descendantTopicExists = function(topic) {
                var m;
                for ( m in messages ){
                    if ( messages.hasOwnProperty(m) && m.indexOf(topic) === 0 ){
                        // a descendant of the topic exists:
                        return true;
                    }
                }

                return false;
            },
            isTopic    = typeof value === 'string' && ( messages.hasOwnProperty(value) || descendantTopicExists(value) ),
            isToken    = !isTopic && typeof value === 'string',
            isFunction = typeof value === 'function',
            result = false,
            m, message, t;

        if (isTopic){
            PubSub.clearSubscriptions(value);
            return;
        }

        for ( m in messages ){
            if ( messages.hasOwnProperty( m ) ){
                message = messages[m];

                if ( isToken && message[value] ){
                    delete message[value];
                    result = value;
                    // tokens are unique, so we can just stop here
                    break;
                }

                if (isFunction) {
                    for ( t in message ){
                        if (message.hasOwnProperty(t) && message[t] === value){
                            delete message[t];
                            result = true;
                        }
                    }
                }
            }
        }

        return result;
    };
}));

/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(54)(module)))

/***/ }),
/* 12 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.fillPosts = fillPosts;
exports.getPosts = getPosts;

var _consts = __webpack_require__(0);

var _apiTaskManager = __webpack_require__(2);

var _apiTaskManager2 = _interopRequireDefault(_apiTaskManager);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/* ---- modal*/
function fillPosts($list, items, isAppendToList) {
    var addToList = function addToList(isAppendPrevMsg, $li, $list) {
        if (isAppendPrevMsg) {
            $li.insertAfter($list.find('li:last-child'));
        } else {
            $li.appendTo($list);
        }
    };
    if (!isAppendToList) {
        $list.empty();
    }
    items.forEach(function (item, idx) {
        var id = item.id,
            type = item.type;

        var tpl = $('<li class="col-4 list-group list-inline-item m-0 p-0" data-post-id="' + id + '" data-post-type="' + type + '">\n            ' + (item.type === 'photo' ? '<img src="' + item.url + '" class="img-responsive p-2" alt="image" style="max-height: 230px;"/>' : '<div class="' + item.type + ' h-100">\n                    <!--style="background-image: url(' + item.url + ');"-->\n                    <img src="' + item.url + '" class="img-responsive p-2 w-100" alt="video-cover" style="max-height: 200px;"/>\n                    <i class="fas fa-video fa-2x position-absolute text-white align-self-start"></i>\n                  </div>') + '\n        </li>');
        addToList(isAppendToList, tpl, $list); // toDo refactor me, less DOM manipulation
    });
}

function addPagination(modalFooter, cursor) {
    $('#load-more').attr('cursor', cursor);
    modalFooter.removeClass('d-none');
}

function hidePagination(modalFooter) {
    modalFooter.addClass('d-none');
}

function imageSelectHandler($list, modal, targetButton) {
    $('li', $list).on('click', function (e) {
        var imageBoxCls = 'js_uploaded-img-from-posts';
        var imageDelBtnCls = 'js_delete-post-img';
        var imageBoxSelector = '.' + imageBoxCls;
        var $btnLi = $(e.target).closest('li');
        var postId = $btnLi.attr('data-post-id');
        var postType = $btnLi.attr('data-post-type');
        var closestCol = targetButton.closest('.col');
        // targetButton.closest('button').attr('data-post-img-id', imgId);
        console.log('click', postType, postId, modal);
        window.PubSub.publish(_consts.CONST.events.modal.IMAGE_POST_SELECTED, { $btnLi: $btnLi, closestCol: closestCol });
        modal.modal('hide');
        if (targetButton.closest('.col').find(imageBoxSelector).length) {
            targetButton.closest('.col').find(imageBoxSelector).remove();
        }

        var tplImageBox = $('<div class="' + imageBoxCls + ' uploaded-img-from-posts" \n                data-post-id="' + postId + '" data-post-type="' + postType + '">\n                    <button class="btn btn-warning uploaded-img-from-posts--remove-btn ml-2 ' + imageDelBtnCls + '">\u0423\u0434\u0430\u043B\u0438\u0442\u044C</button>\n                </div').prepend($btnLi.find('img'));
        targetButton.closest('.col').append(tplImageBox);

        $('.' + imageDelBtnCls).off().on('click', function (e) {
            var currentImageBox = $(e.target).closest('.col').find(imageBoxSelector);
            currentImageBox.remove();
        });
    });
}

function getPosts(modal, details, _ref) {
    var loadMoreHandler = _ref.loadMoreHandler,
        targetButton = _ref.targetButton;

    _apiTaskManager2.default.getPostsAutomessages(details).then(function (result) {
        // console.log(result);
        if (result.status.state === 'ok') {
            var data = result.data;

            var modalFooter = modal ? $('.modal-footer', modal) : null;
            var $list = $('.modal-body .posts-list', modal);
            if (!data.posts.length) {
                // show message 'no posts found'
                targetButton.popover({
                    container: 'body',
                    content: 'У текущего аккаунта нет ни одного поста',
                    placement: 'bottom'
                });
                setTimeout(function () {
                    targetButton.popover('destroy');
                }, 4000);
                return;
            }

            if (modal) {
                fillPosts($list, data.posts);
                modal.modal('show');
                modal.modal('handleUpdate');
                imageSelectHandler($list, modal, targetButton);
            } else if (data.posts) {
                fillPosts($list, data.posts, 'appendToList');
                imageSelectHandler($list, $('#postsGridModal'), targetButton);
            }

            if (data.pagination && data.pagination.cursor) {
                addPagination(modalFooter, data.pagination.cursor);
                loadMoreHandler(getPosts);
            } else {
                hidePagination($('.modal-footer', modal));
            }
        } else {
            // show message error
        }
    });
}

/***/ }),
/* 13 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.initLogsTab = initLogsTab;

var _view = __webpack_require__(1);

var _view2 = _interopRequireDefault(_view);

var _logs = __webpack_require__(8);

var logs = _interopRequireWildcard(_logs);

var _tabs = __webpack_require__(9);

var tabs = _interopRequireWildcard(_tabs);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function moveInOneRow(userListBox, subTypeBox) {
    if (!subTypeBox.length || !userListBox.length) {
        return;
    }
    userListBox.appendTo(subTypeBox);

    userListBox.addClass('col');
    subTypeBox.addClass('row');
    // add "col-auto" to first column
    subTypeBox.find('.log-subype').addClass('col-auto');
}

/**
 * Cfg
 * @param logsState
 * @param logsSubtypes
 * @param clsConst
 * Cfg-functions
 * @param setUserNameCb
 * @param addDropdown
 */
function initLogsTab(_ref) {
    var logsState = _ref.logsState,
        logsSubtypes = _ref.logsSubtypes,
        clsConst = _ref.clsConst,
        setUserNameCb = _ref.setUserNameCb,
        textRusArray = _ref.textRusArray;
    var selectCls = logsState.selectCls;
    var selectClsLogsTaskType = logsState.selectClsLogsTaskType;


    function dropdownOnSelectCb(e) {
        clsConst.pathSubType = $('.' + selectClsLogsTaskType + ' option:selected').val();
        $('.js_logs-container').addClass('d-block');
        $('option.js_empty-subtype').remove();
    }

    function OnChangeSelect() {
        var usernameSelected = $('.' + selectCls + ' option:selected').val();
        setUserNameCb(usernameSelected);
        logs.init(selectCls, clsConst);
    }
    function handleLogsDropdowns() {
        dropdownOnSelectCb();
        OnChangeSelect();
        $('.' + selectClsLogsTaskType).on('change', function () {
            dropdownOnSelectCb();
            logs.init(selectCls, clsConst);
        });

        $('.' + selectCls).on('change', function () {
            OnChangeSelect();
        });
    }
    _view2.default.addDropdown($(logsState.wrapperSubtype), logsSubtypes, { logsState: logsState, isRenderEmptyOption: false, textRusArray: textRusArray });
    tabs.init(handleLogsDropdowns, logsState); // makes double request : OPTION and GET

    var userListBox = $('.log-users-list ');
    var subTypeBox = $('.log-subype--box');
    moveInOneRow(userListBox, subTypeBox);
}

/***/ }),
/* 14 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.attachTxtFileHandler = attachTxtFileHandler;

var _consts = __webpack_require__(0);

var _apiTaskManager = __webpack_require__(2);

var _apiTaskManager2 = _interopRequireDefault(_apiTaskManager);

var _spinner = __webpack_require__(17);

var _spinner2 = _interopRequireDefault(_spinner);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// import viewUtils from '../../common/js-services/view';

/*
* read file
*/
var fileUploadBox = '';
var MAX_IMG_FILE_SIZE_BYTE = 1048576 * 100;
var FILE_TYPE = 'txt';
function isFileTypeOk(acceptedFile) {
    return acceptedFile.type === 'text/plain';
}

function isImgSizeOk(acceptedFile) {
    var imgSize = Math.round(acceptedFile.size);
    return MAX_IMG_FILE_SIZE_BYTE > imgSize;
}

function handleSubmit(input) {
    var url = _consts.CONST.getPath('instagramTaskManager_postTextAttachment');
    var token = _apiTaskManager2.default.getToken();
    var acceptedFile = input.files[0];
    console.log('handleSubmit follow');
    var formData = new FormData();
    formData.append('file', acceptedFile, acceptedFile.name);

    var request = new XMLHttpRequest();
    request.open('POST', url);
    // request.withCredentials = true;
    request.setRequestHeader('token', token);
    request.setRequestHeader('Accept', 'application/json');
    request.setRequestHeader('cache-control', 'no-cache');
    request.send(formData);
    request.addEventListener('readystatechange', function () {
        if (this.readyState === 4) {
            console.log('this', this.responseText, this);
            window.PubSub.publish(_consts.CONST.events.autoarnswer.TEXT_FILE_UPLOADED, { 'response': this.responseText, 'el': input });
        }
    });
    _spinner2.default.add($('.add-file'), '');
}

function readURL(input) {
    var $container = $(input).closest(fileUploadBox);
    if (input.files && input.files[0]) {
        var reader = new FileReader();
        console.log('readURL');
        if (!isImgSizeOk(input.files[0]) || !isFileTypeOk(input.files[0])) {
            console.log('show error message, imgSize to big ');
            $(fileUploadBox).append('\n                <div class="warning-image text-danger">\n                    <p>\u0414\u043E\u0441\u0442\u0443\u043F\u043D\u044B\u0439 \u0444\u043E\u0440\u043C\u0430\u0442 \u0438\u0437\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u044F ' + FILE_TYPE + '</p>\n                    <p class="msg-max-size-img text-danger">\u041C\u0430\u043A\u0441\u0438\u043C\u0430\u043B\u044C\u043D\u044B\u0439 \u0434\u043E\u043F\u0443\u0441\u0442\u0438\u043C\u044B\u0439 \u0440\u0430\u0437\u043C\u0435\u0440 \u043A\u0430\u0440\u0442\u0438\u043D\u043A\u0438 100 MB</p>\n                </div>\n            ');
            setTimeout(function () {
                $('.warning-image').addClass('d-none');
            }, 5000);
            return;
        }

        reader.onload = function (e) {
            $container.find('.image-upload-wrap').hide();
            $container.find('.file-upload-image').attr('src', e.target.result);
            // $container.find(fileUploadContent).show();
            $container.find('.image-title').html(input.files[0].name);
        };
        // reader.onerror = errorHandler;
        // reader.onprogress = updateProgress;

        reader.readAsDataURL(input.files[0]);
        setTimeout(function () {
            return handleSubmit(input);
        }, 2000);
        // Read in the image file as a binary string.
        // reader.readAsBinaryString(input.files[0]);
    } else {
            // removeUpload($container);
        }
}

function attachTxtFileHandler(_fileUploadBox, onSuccessFileUploadCb) {
    fileUploadBox = _fileUploadBox;
    $('.input-txt-file').change(function () {
        if ($(this).val() !== '') {
            $(this).prev().text('\u0412\u044B\u0431\u0440\u0430\u043D\u043E \u0444\u0430\u0439\u043B\u043E\u0432: ' + $(this)[0].files.length);
            readURL($(this)[0]);
        } else {
            $(this).prev().text('Выберете файл');
        }
    });
    window.PubSub.subscribe(_consts.CONST.events.autoarnswer.TEXT_FILE_UPLOADED, function (e, res) {
        var response = res.response;

        var result = response.length ? JSON.parse(response) : '';
        var imageId = result && result.data && result.data.list_id;
        $(res.el).closest(fileUploadBox).attr('attached-txt-id', imageId);
        if (onSuccessFileUploadCb && typeof onSuccessFileUploadCb === 'function') {
            onSuccessFileUploadCb();
        }
        // make next-btn available
        var nextStep = $('.js_add-new-task fieldset').get(2);
        $(nextStep).find('.btn-next').removeAttr('disabled');
        _spinner2.default.remove();
        console.log('***TEXT_FILE_UPLOADED, onSuccessFileUploadCb', res);
    });
}

/***/ }),
/* 15 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.emoji = undefined;

__webpack_require__(22);

var emoji = exports.emoji = function emoji(clsConst) {
    if (!$(clsConst.page).length) {
        return;
    }
    // eslint-disable-next-line no-unused-vars
    // const m = new MeteorEmoji();
    // eslint-disable-next-line no-unused-vars
    // const ep = new EmojiPicker();
    // const $picker = $('textarea[data-emoji-picker="true"] ~ div');
    // const style = $picker.attr('style');
    // const styleNew = style.replace(clsConst.styles.old, clsConst.styles.new);
    // $picker.attr('style', styleNew);

    $('textarea[data-emoji-picker="true"]').emojioneArea({
        pickerPosition: 'bottom',
        tonesStyle: 'square',
        filtersPosition: 'bottom',
        search: true,
        events: {
            keyup: function keyup(editor, event) {
                console.log(editor.html());
                console.log(this.getText());
            }
        }
    });
};

/***/ }),
/* 16 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"]) _i["return"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError("Invalid attempt to destructure non-iterable instance"); } }; }();

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _view = __webpack_require__(1);

var _view2 = _interopRequireDefault(_view);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var Network = function () {
    function Network() {
        _classCallCheck(this, Network);
    }

    _createClass(Network, [{
        key: 'cbErrorDefault',
        value: function cbErrorDefault(result) {
            var $el = $('#description').length ? $('#description') : $('.error-msg');
            _view2.default.showInfoMessage($el, result.status.state, result.status.message || 'error');
        }
    }, {
        key: 'checkStatus',
        value: function checkStatus(response) {
            if (response.status && response.status >= 200 && response.status < 300) {
                return response;
            } else {
                var error = new Error(response.statusText);
                error.response = response;
                throw error;
            }
        }
    }, {
        key: 'sendRequest',
        value: function sendRequest(URL, OPTS, cbError) {
            var _this = this;

            return fetch(URL, OPTS).then(function (response) {
                return Promise.all([response, response.json()]);
            }).then(function (_ref) {
                var _ref2 = _slicedToArray(_ref, 2),
                    response = _ref2[0],
                    json = _ref2[1];

                if (!response.ok) {
                    if (!cbError) {
                        _this.cbErrorDefault(json);
                    } else {
                        cbError(json); // update view
                    }
                    _this.checkStatus(response);
                    // throw new Error(json.status.message);
                }
                return json;
            });
        }
    }]);

    return Network;
}();

exports.default = Network;

/***/ }),
/* 17 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

// import $ from 'jquery';
// import {CONST} from './consts';
// import Network from './network';
// import CookieStorage from './cookie';
// import PubSub from 'pubsub-js'; // https://www.npmjs.com/package/pubsub-js

// const SPINNER_BASE_TEMPALATE = 'js/ui/tpl/spinner.hbs';
var classes = {
    inline: 'global-inline-spinner',
    overlay: 'global-overlay-spinner',
    fixed: 'global-fixed-spinner',
    button: 'button--load'
};
// const handlebarsTpl = function (name, data, $target) {
//     // var html = this.getTemplate(name)(data);
//     var html = Handlebars.compile(template);
//
//     if ($target) {
//         //for preventing xss
//         $target[0].innerHTML = html;
//     }
//
//     return html;
// };
// const handlebars = this.getService('core.templating.handlebars');

var Spinner = function () {
    function Spinner(_cfg) {
        _classCallCheck(this, Spinner);

        this.startButtonSpinner = function ($el, newCls) {
            $el.addClass(classes.button);
            if ($el.find('.spinner-box--button').length) {
                return;
            }
            $el.prepend('<div class="spinner-box spinner-box--button justify-content-center position-relative p-0 m-0 bg-transparent ' + newCls + '">\n            <div class="spin-animation">\n                <svg aria-hidden="true" data-prefix="far" data-icon="sync-alt" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" \n                    class="fa-fw">\n                    <path fill="currentColor" d="M483.515 28.485L431.35 80.65C386.475 35.767 324.485 8 256 8 123.228 8 14.824 112.338 8.31 243.493 7.971 250.311 13.475 256 20.301 256h28.045c6.353 0 11.613-4.952 11.973-11.294C66.161 141.649 151.453 60 256 60c54.163 0 103.157 21.923 138.614 57.386l-54.128 54.129c-7.56 7.56-2.206 20.485 8.485 20.485H492c6.627 0 12-5.373 12-12V36.971c0-10.691-12.926-16.045-20.485-8.486zM491.699 256h-28.045c-6.353 0-11.613 4.952-11.973 11.294C445.839 370.351 360.547 452 256 452c-54.163 0-103.157-21.923-138.614-57.386l54.128-54.129c7.56-7.56 2.206-20.485-8.485-20.485H20c-6.627 0-12 5.373-12 12v143.029c0 10.691 12.926 16.045 20.485 8.485L80.65 431.35C125.525 476.233 187.516 504 256 504c132.773 0 241.176-104.338 247.69-235.493.339-6.818-5.165-12.507-11.991-12.507z" class=""></path></svg>\n            </div>\n        </div>');
        };

        this.stopButtonSpinner = function ($el) {
            $el.removeClass(classes.button);
        };

        this.cfg = _cfg || {};
        // this.$defaultContainer = $('body');
        $.extend(classes, this.cfg.classes);
        // this._mediator.subscribe(CONST.events.STOP_FIXED_SPINNER, this.stopFixedSpinner.bind(this));
    }
    // _mediator = PubSub;

    _createClass(Spinner, [{
        key: 'start',
        value: function start($el, prewCls) {
            // if (addOrRemove) {
            //     $('#foo').addClass(className);
            // }
            // else {
            //     $('#foo').removeClass(className);
            // }
            $el.find('i').toggleClass(prewCls).addClass('fa-spin fa-spinner');
        }
    }, {
        key: 'stop',
        value: function stop($el, newCls) {
            $el.find('i').toggleClass(newCls).removeClass('fa-spin fa-spinner');
        }
    }, {
        key: 'add',
        value: function add($el, newCls) {
            this.$el = $el;
            $el.prepend('<div class="spinner-box justify-content-center ' + newCls + '">\n            <div class="spin-animation">\n                <svg aria-hidden="true" data-prefix="far" data-icon="sync-alt" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="svg-inline--fa fa-sync-alt fa-w-16 fa-fw fa-2x"><path fill="currentColor" d="M483.515 28.485L431.35 80.65C386.475 35.767 324.485 8 256 8 123.228 8 14.824 112.338 8.31 243.493 7.971 250.311 13.475 256 20.301 256h28.045c6.353 0 11.613-4.952 11.973-11.294C66.161 141.649 151.453 60 256 60c54.163 0 103.157 21.923 138.614 57.386l-54.128 54.129c-7.56 7.56-2.206 20.485 8.485 20.485H492c6.627 0 12-5.373 12-12V36.971c0-10.691-12.926-16.045-20.485-8.486zM491.699 256h-28.045c-6.353 0-11.613 4.952-11.973 11.294C445.839 370.351 360.547 452 256 452c-54.163 0-103.157-21.923-138.614-57.386l54.128-54.129c7.56-7.56 2.206-20.485-8.485-20.485H20c-6.627 0-12 5.373-12 12v143.029c0 10.691 12.926 16.045 20.485 8.485L80.65 431.35C125.525 476.233 187.516 504 256 504c132.773 0 241.176-104.338 247.69-235.493.339-6.818-5.165-12.507-11.991-12.507z" class=""></path></svg>\n            </div>\n        </div>');
        }
    }, {
        key: 'remove',


        /**
         * Finds spinners
         * @param {string} type
         * @param {string} $container
         * @return {?jQuery} spinners
         */
        // _findSpinner = function (type, $container) {
        //     const selector = '.' + type;
        //     let $el = this.$defaultContainer;
        //     if ($container) {
        //         $el = $container;
        //     }
        //
        //     if ($el.find(selector).length > 0) {
        //         return $el.find(selector);
        //     }
        // };

        /**
         *
         * @param {string} $el
         */
        /*
        startContentSpinner = function ($el) {
            const html = handlebarsTpl(
                SPINNER_BASE_TEMPALATE, {
                    imgSrc: CTC.URLS.WAITING_IMAGE,
                    'class': classes.overlay
                });
            $el.prepend(html);
        };
          startInlineContentSpinner = function ($el) {
            const html = handlebarsTpl(
                SPINNER_BASE_TEMPALATE, {
                    imgSrc: CTC.URLS.WAITING_IMAGE,
                    'class': classes.inline
                });
            $el.prepend(html);
        };
        */

        /**
         * Starts global full page fixed spinner
         */
        /*
        startFixedSpinner = function () {
            const spinners = this._findSpinner(classes.fixed);
            if (!(CTC.isEdit() || CTC.isDesign()) && !spinners) {
                const html = handlebarsTpl(
                    SPINNER_BASE_TEMPALATE, {
                        imgSrc: CTC.URLS.WAITING_IMAGE,
                        'class': classes.fixed
                    });
                this.$defaultContainer.prepend(html);
            }
        };
        */

        /**
         * Stops spinners
         * @param {string} type
         * @param {string} $container
         */
        // _stopSpinner = function (type, $container) {
        //     const spinners = this._findSpinner(type, $container);
        //     if (spinners) {
        //         spinners.remove();
        //     }
        // };

        /**
         *
         * @param {string} $el
         */
        // stopContentSpinner = function ($el) {
        //     $el.find('.' + classes.overlay).remove();
        // };

        /**
         *
         * @param {string} $el
         */
        // stopInlineContentSpinner = function ($el) {
        //     $el.find('.' + classes.inline).remove();
        // };

        /**
         * Stops global full page fixed spinner
         */
        // stopFixedSpinner = function () {
        //     this._stopSpinner(classes.fixed);
        // };
        value: function remove() {
            if (this.$el && this.$el.length) {
                this.$el.find('.spinner-box').remove();
            }
        }

        /**
         * Adds spinner icon on button before the button text
         * @param {jQuery} $el
         */


        /**
         * Removes spinner icon from button
         * @param {jQuery} $el
         */

    }]);

    return Spinner;
}();

var spinnerInstance = null;

if (!spinnerInstance) {
    spinnerInstance = new Spinner();
}

exports.default = spinnerInstance;

/***/ }),
/* 18 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
// import {CONST} from './consts';

function dropDown() {

    /**
     * cfg ={ logsState, cbFN() }
     */
    function addDropdown($wrapper, items, cfg) {
        // console.log('addDropdown');
        var textRusArray = cfg.textRusArray,
            logsState = cfg.logsState;
        var selectClsLogsTaskType = logsState.selectClsLogsTaskType;

        var getRus = function getRus(idx) {
            var isTextRusArray = textRusArray && !!textRusArray.length;
            switch (idx) {
                case 0:
                    return isTextRusArray ? textRusArray[idx] : 'По списку';
                case 1:
                    return isTextRusArray ? textRusArray[idx] : 'По активной аудитории конкурентов';
                case 2:
                    return isTextRusArray ? textRusArray[idx] : 'default - (3)';
                default:
                    return 'default';
            }
        };
        var label = 'Выберите тип';
        $wrapper.empty().addClass('border-light-color');
        $('<div class="">' + label + '</div><select name="task-subtype" class="' + selectClsLogsTaskType + '"></select>').appendTo($wrapper);
        if (!items.length) {
            return;
        }
        $('<option class="list-group-item py-2 js_empty-subtype" value="---">---</option>').appendTo($('.' + selectClsLogsTaskType));
        items.forEach(function (name, idx) {
            $('<option class="list-group-item py-2" value="' + name + '">\n                ' + getRus(idx) + '\n            </option>').appendTo($('.' + selectClsLogsTaskType));
        });
        $('.' + selectClsLogsTaskType).on('change', function (e) {
            cfg.dropdownOnSelectCb(e);
        });
    }

    return {
        addDropdown: addDropdown
    };
}

exports.default = dropDown();

/***/ }),
/* 19 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };
// import viewUtils from '../../../common/js-services/view';


exports.init = init;

var _consts = __webpack_require__(0);

var _taskStatus = __webpack_require__(5);

var _dropdown = __webpack_require__(18);

var _dropdown2 = _interopRequireDefault(_dropdown);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var path = {
    type: '',
    subtype: ''
};
var wrappers = {
    $all: $('.tasks-all'),
    $stopped: $('.tasks-stopped')
};
var logsStateStatus = {
    wrapperSubtype: $('.subtype--box')
};

function dropdownOnSelectCb(e) {
    // const {selectClsLogsTaskType} = logsState;
    var subtype = $(e.target).find('option:selected').val();
    var pathUpdated = _extends({}, path, { subtype: subtype });
    $('.js_logs-container').addClass('d-block');
    $('option.js_empty-subtype').remove();
    (0, _taskStatus.getTasksData)(wrappers, pathUpdated);
}

function init(_ref) {
    var isInCorrectPage = _ref.isInCorrectPage,
        initialPath = _ref.initialPath,
        textRusArray = _ref.textRusArray;

    if (!isInCorrectPage) {
        return;
    }
    path = {
        type: initialPath.type,
        subtype: initialPath.subtype
    };

    // todo: merge with viewUtils.js Dropdown
    _dropdown2.default.addDropdown(logsStateStatus.wrapperSubtype, initialPath.subtypes, { logsState: logsStateStatus, dropdownOnSelectCb: dropdownOnSelectCb, textRusArray: textRusArray });

    // getTasksData(wrappers, path);
    window.PubSub.subscribe(_consts.CONST.events.tasks.NEW_TASK_CREATED, function (eventName, data) {
        (0, _taskStatus.getTasksData)(wrappers, path);
    });
}

/***/ }),
/* 20 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.renderItem = undefined;
exports.init = init;

var _user = __webpack_require__(3);

var _user2 = _interopRequireDefault(_user);

var _view = __webpack_require__(1);

var _view2 = _interopRequireDefault(_view);

var _consts = __webpack_require__(0);

var _accountsListBtnSettings = __webpack_require__(39);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var InstagramAccPageCls = '.instagram-accounts-page';
// import Spinner from '../../common/js-services/spinner';
// import PubSub from 'pubsub-js';

var isInstagramAccPage = $(InstagramAccPageCls).length;
var $msgList = $('.accounts-list');
var INSTAGRAM_ACCOUNTS_HREF = 'instagram-accounts';

function addListHandler() {
    var checkpointType = '';

    $('.js_pass-checkpoint-btn').on('click', function (e) {
        var $button = $(e.target);
        var username = $button.data('username');
        checkpointType = $button.data('checkpointType') || checkpointType;
        // $('#security-code').data('checkpointType', checkpointType);
        // todo add 'checkpointType' to modal
        var sendTo = checkpointType === 'PHONE' ? 'телефон' : 'email';
        // Spinner.start($button, 'fa-key');

        if (checkpointType === 'EMAIL_OR_PHONE') {
            e.stopPropagation();

            // инпуты спрятаны,
            // показать серые переключатели (выбрал тип)
            // есть кнопка Запросить код подтверждение
            $('#security-code-phoneOremail').modal({ show: true, username: username });

            // не отправляем реквест
            return;
        }

        _user2.default.getSecurityKey(username, checkpointType).then(function (result) {
            console.log('SecurityKey received:', result.status.state);
            if (result.status.state === 'ok') {
                var $modal = $('#security-code');

                // Spinner.stop($button, 'fa-key');
                $('.js_success-feedback', $modal).empty().text('\u041A\u043B\u044E\u0447 \u043F\u043E\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043D\u0438\u044F \u0431\u044B\u043B \u043E\u0442\u043F\u0440\u0430\u0432\u043B\u0435\u043D \u0412\u0430\u043C \u043D\u0430 ' + sendTo);

                $('#security-code').attr('data-username', username);
            }
        });
    });

    // inside modal
    $('.js_confirm-security-code').on('click', function (e) {
        var btn = $(e.target);
        var username = btn.closest('#security-code').data('username');
        var $keyInput = btn.closest('.modal').find('.modal-dialog form input.js_confirm-key');
        var key = $keyInput.val().trim();
        var $modal = btn.closest('.modal');
        e.stopPropagation();

        if (key.length !== 6) {
            return;
        }
        _user2.default.confirmSecurityKey(key, username).then(function (result) {
            if (result.status.state !== 'ok') {
                return;
            }
            // console.log('js_confirm:', result.status.state, 'close modal');
            $modal.modal('hide');
        }).catch(function (err) {
            console.log('err');
            $('.js_success-feedback', $modal).text('Запрос не отправлен').css('color', 'red');
            console.log(err);
        });
    });

    $('form input[minlength]').on('blur', function () {
        var len = $(this).val().trim().length;
        var minLen = Number($(this).attr('minlength'));
        // const message = minLen <= len ? '' : minLen + ' characters minimum';
        if (minLen !== len) {
            $(this).css('borderColor', 'red');
        } else {
            $(this).css('borderColor', '#ced4da');
        }
        // this.setCustomValidity(message)
    });

    function onHideModal(e) {
        var $modal = $(e.target);
        $modal.find('.first-step').removeClass('d-none');
        $modal.find('.second-step').addClass('d-none');
        $('.js_confirm-key').val('');
        $('.js_success-feedback', $modal).removeAttr('style').empty();
    }
    $('#security-code-phoneOremail').on('hide.bs.modal', onHideModal);
    $('#security-code').on('hide.bs.modal', onHideModal);

    // "PHONE_OR_EMAIL" modal
    $('.js_get-security-code-phoneOremail').on('click', function (e) {
        var $modal = $('#security-code-phoneOremail');
        var typeSelected = $(e.target).closest($modal).find('.js_btn-type-switcher input:checked');
        var checkpointTypeActive = typeSelected.val();
        var sendTo = checkpointTypeActive === 'PHONE' ? 'телефон' : 'email';
        var modalConfig = $modal.data()['bs.modal']._config;
        var username = modalConfig.username;
        _user2.default.getSecurityKey(username, checkpointTypeActive).then(function (result) {
            // при нажатии "Запросить код подтверждение" - отпарляется реквест "старт чекпоинт" появляеться инпут и кнопка других типах
            // get selected button

            // переключатель(серый) и кнопка "Запросить код подтверждение" исчезают
            console.log('SecurityKey received:', result.status.state);
            if (result.status.state === 'ok') {
                $('.first-step', $modal).addClass('d-none');
                $('.second-step', $modal).removeClass('d-none');
                $('.js_success-feedback', $modal).empty().text('\u041A\u043B\u044E\u0447 \u043F\u043E\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043D\u0438\u044F \u0431\u044B\u043B \u043E\u0442\u043F\u0440\u0430\u0432\u043B\u0435\u043D \u0412\u0430\u043C \u043D\u0430 ' + sendTo);
            }
        });
    });
}

var insertItem = function insertItem(data, text, cssCls) {
    var liTpl = '' + (data ? '<li class="list-inline-item ' + cssCls + '"><span class="figure">' + data + '</span><span>' + text + '</span></li>' : '<li class="list-inline-item ' + cssCls + '"><span class="figure">0</span><span>' + text + '</span></li>');
    return liTpl;
};

var stats = function stats(info) {
    var tpl = '<div class="col">\n        <ul class="list-inline text-center counts-list">\n        ' + (info ? insertItem(info['media_count'], 'Публикации', 'media-count') + '\n            ' + insertItem(info['follower_count'], 'Подписчики', 'follower-count') + '\n            ' + insertItem(info['following_count'], 'Подписки', 'following-count') : insertItem(false, 'Публикации', 'media-count') + '\n            ' + insertItem(false, 'Подписчики', 'follower-count') + '\n            ' + insertItem(false, 'Подписки', 'following-count')) + '\n        </ul>\n    </div>';
    return tpl;
};

var checkPointText = function checkPointText(checkpoint, item) {
    if (checkpoint.status === 'TRIGGERED') {
        return '<button class="btn btn-outline-secondary js_pass-checkpoint-btn d-block mx-auto" \n            data-checkpoint-type="' + (checkpoint.type || 'EMAIL') + '"\n            data-username="' + (item.username || '') + '"\n            data-toggle="modal" data-target="#security-code">\n            <i class="fas fa-key"></i>\u041F\u0440\u043E\u0439\u0442\u0438 \u0447\u0435\u043A\u043F\u043E\u0438\u043D\u0442</button>';
    } else if (item.status === 'FAIL') {
        return '<span class="text-danger">Ошибка при добавлении</span>';
    }
};

var addSettingBtn = function addSettingBtn(account) {
    var _account$username = account.username,
        username = _account$username === undefined ? '' : _account$username,
        _account$info = account.info,
        _account$info$name = _account$info.name,
        name = _account$info$name === undefined ? '' : _account$info$name,
        _account$info$email = _account$info.email,
        email = _account$info$email === undefined ? '' : _account$info$email,
        _account$info$url = _account$info.url,
        url = _account$info$url === undefined ? '' : _account$info$url,
        _account$info$biograp = _account$info.biography,
        biography = _account$info$biograp === undefined ? '' : _account$info$biograp,
        _account$info$profile = _account$info.profile_pic_url,
        profile_pic_url = _account$info$profile === undefined ? '' : _account$info$profile,
        follower_count = _account$info.follower_count,
        following_count = _account$info.following_count,
        media_count = _account$info.media_count,
        is_business = _account$info.is_business,
        is_private = _account$info.is_private;

    if (isInstagramAccPage || window.location.href.includes(INSTAGRAM_ACCOUNTS_HREF)) {
        return '<div class="account-setting col-1 d-flex flex-column">\n            <button class="btn btn-outline-success p-1 mb-1 js_acc-edit" \n                data-username="' + username + '"\n                data-name="' + name + '"\n                data-email="' + email + '"\n                data-url="' + url + '"\n                data-biography="' + biography + '"\n                data-img="' + profile_pic_url + '"\n                data-follower_count="' + follower_count + '"\n                data-following_count="' + following_count + '"\n                data-media_count="' + media_count + '"\n                data-is_business="' + is_business + '"\n                data-is_private="' + is_private + '"\n            ><i class="fas fa-pen m-0"></i></button>\n            <button class="btn btn-outline-secondary p-1 mb-1 js_acc-refresh" data-username="' + username + '"><i class="fas fa-retweet m-0"></i></button>\n            <button class="btn btn-outline-danger p-1 js_acc-delete" data-username="' + username + '"><i class="fas fa-trash m-0"></i></button>\n        </div>';
    }
};

var renderItem = exports.renderItem = function renderItem(item, cList, _defaultAvatarSrc) {
    var info = item.info;
    var checkpoint = item.checkpoint || item;
    var defaultAvatarSrc = _defaultAvatarSrc || _consts.CONST.user.defaulAvatar;
    if (!info) {
        return $('<li class="media py-3" data-username="' + item.username + '">\n            <img class="ml-3 rounded" alt="default avatar" src="' + defaultAvatarSrc + '">\n            <div class="media-body d-flex">\n                <div class="col user-info">\n                    ' + (item.username ? '<h4 class="mt-0 mb-1 name">' + item.username + '</h4>' : '') + '\n                </div>\n                <div class="col user-checkpoint">\n                    ' + checkPointText(checkpoint, item) + '\n                </div>\n                ' + stats() + '\n                ' + (addSettingBtn(item) || '') + '\n            </div>\n        </li>').appendTo(cList);
    } else {
        return $('<li class="media py-3" data-username="' + item.username + '">\n        ' + (info['profile_pic_url'] ? '<img class="ml-3 rounded" alt="User photo" src="' + info['profile_pic_url'] + '">' : '<img class="ml-3 rounded" alt="default avatar" src="' + defaultAvatarSrc + '">') + '\n        <div class="media-body d-flex">\n            <div class="col user-info">\n                ' + (item.username ? '<p class="mt-0 mb-1 name lead">' + item.username + '</p>' : '') + '\n                ' + (info.name ? '<h4 class="mt-0 mb-1">' + info.name + '</h4>' : '') + '\n                ' + (info.name ? '' : '' /* ${(info.email) ? `<p class="mt-0 mb-1">${info.email}</p>` : ''}
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      ${(info.phone) ? `<p class="mt-0 mb-1">${info.phone}</p>` : ''} */) + '\n\n            </div>\n            <div class="col user-checkpoint">\n                ' + (checkpoint.status === 'TRIGGERED' ? '<button class="btn btn-outline-secondary js_pass-checkpoint-btn d-block mx-auto"\n                        data-checkpoint-type="' + (checkpoint.type || 'EMAIL') + '"\n                        data-username="' + (item.username || '') + '"\n                        data-toggle="modal" data-target="#security-code">\n                    <i class="fas fa-key"></i>\u041F\u0440\u043E\u0439\u0442\u0438 \u0447\u0435\u043A\u043F\u043E\u0438\u043D\u0442</button>' : '') + '\n            </div>\n            ' + stats(info) + '\n            ' + (addSettingBtn(item) || '') + '\n        </div>\n    </li>');
    }
};

function fillList($list, dataArray) {
    var items = dataArray;
    var cList = $list;
    var defaultAvatarSrc = _consts.CONST.user.defaulAvatar;

    cList.empty().addClass('border-light-color');
    items.forEach(function (item) {
        renderItem(item, cList, defaultAvatarSrc).appendTo(cList);
    });
    window.PubSub.publish(_consts.CONST.events.instagramAccouns.INSTAGRAM_ACCOUNS_RENDERED, { name: name, dataArray: dataArray });
    console.log('INSTAGRAM_ACCOUNS_RENDERED');
}

function checkResponse(result /* , isResendRequest*/) {

    /*
    if (!result.status.state === 'ok' || !result.data || !$msgList.length || isResendRequest) {
        // проверям один раз наличие result.data.accounts.info
        $msgList.empty();
        $(`<li class="media">
            <div class="media-body">
                <h3 class="mt-0 mb-3">Ни одного Аккаунта не добавлено</h3>
            </div>
        </li>`).appendTo($msgList);
        setTimeout(() => {
            resendRequest().then((result) => {
                checkResponse(result, false);
            });
            console.log('Request resend');
        }, 3500);
        return;
    }
    */
    // вывод результатов (data.accounts.info)
    $('.profile-user .spinner-box').addClass('d-none');
    fillList($msgList, result.data.accounts);
    addListHandler();
}
var errMessageFront = 'Не получилось загрузить доступные Instagram аккаунты';
function cbError() {
    _view2.default.showInfoMessage($('.error-msg'), '', errMessageFront);
}

function reloadList() {
    var $msgList = $('.accounts-list');
    // TODO: add spinner
    $('.profile-user .spinner-box').removeClass('d-none');
    _user2.default.getMetadata(cbError).then(function (result) {
        $msgList.empty();
        // todo : reload list
        checkResponse(result);
    }).catch(function (err) {
        setTimeout(function () {
            _view2.default.showInfoMessage($('.error-msg'), err.status || '', errMessageFront);
        }, 3000);
        $('.spinner-box').addClass('d-none');
    });
    var cfg = {
        deleteBtnCls: '.js_acc-delete',
        updateBtnCls: '.js_acc-refresh',
        editBtnCls: '.js_acc-edit'
    };
    (0, _accountsListBtnSettings.settingButtonsHandler)(cfg);
}

// После добавления аккаунта снова дернуть МЕТА и перерисовать список аккаунтов
var addInstagramAccount = function addInstagramAccount(newFormData) {
    var cbError = function cbError(result) {
        console.log('ERROR', result);
        _view2.default.showInfoMessage($('.error-msg'), result.status.state, result.status.message || 'Login error');
        // $(_loginBox).addClass(closeClass).removeClass(openedClass);
    };
    _user2.default.addInstagramAccount(newFormData, cbError).then(function (result) {
        if (result && result.status) {
            console.log(result, result.status);
            reloadList();

            /*
            const $msgList = $('.accounts-list');
            User.getMetadata().then((result) => {
                $msgList.empty();
                // todo : reload list
                console.log(result.data, result.data.accounts);
                checkResponse(result);
            }).catch((err) => {
                setTimeout(() => {
                    viewUtils.showInfoMessage($('.error-msg'),
                        err.status || '',
                        'Не получилось загрузить доступные Instagram аккаунты');
                }, 3000);
                $('.spinner-box').addClass('d-none');
            });
            */

            // viewUtils.showInfoMessage($textAreaDescription,
            //     result.status.state,
            //     result.status.message || 'Login error');
            // $(_loginBox).addClass(closeClass).removeClass(openedClass);
        }
    }).catch(function (err) {
        // todo: render for user
        console.log(err);
    });

    console.log('submit', newFormData);
};

function addOnLoadHandlers() {
    // $('.js_repeat-security-code').on('click', (e) => {

    // });

    $('.js_add-instagram-account').on('click', function (e) {
        var btn = $(e.target);
        var $modalBody = btn.closest('.modal').find('.modal-dialog .modal-body');
        var username = $modalBody.find('input[name="username"]').val().trim();
        var password = $modalBody.find('input[name="pass"]').val().trim();
        var ip = $modalBody.find('input[name="ip"]').val().trim(); // TMP solution
        var port = $modalBody.find('input[name="port"]').val().trim(); // TMP solution
        var usernameProxy = $modalBody.find('input[name="usernameProxy"]').val().trim(); // TMP solution
        var passwordProxy = $modalBody.find('input[name="passProxy"]').val().trim(); // TMP solution
        var $form = $('form', $modalBody);
        var form = $form.get(0);
        var cssValidationClass = 'form-validation';

        e.preventDefault();
        function isValidIpv4Addr(ip) {
            return (/^(?=\d+\.\d+\.\d+\.\d+$)(?:(?:25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\.?){4}$/.test(ip)
            );
        }
        function isValidPort(port) {
            return (/^([0-9]{1,4}|[1-5][0-9]{4}|6[0-4][0-9]{3}|65[0-4][0-9]{2}|655[0-2][0-9]|6553[0-5])$/.test(port)
            );
        }
        // const validator = new Validator($form);
        // console.log(validator.validate());
        if (form.checkValidity()) {
            addInstagramAccount({ username: username, password: password, usernameProxy: usernameProxy, passwordProxy: passwordProxy, ip: ip, port: port });
        } else {
            // Highlight errors
            if (form.reportValidity) {
                form.reportValidity();
            }
            $form.addClass(cssValidationClass);
        }

        if (!username || !password || !ip || !isValidIpv4Addr(ip) || !port || !isValidPort(port) || !usernameProxy || !passwordProxy) {
            e.stopPropagation();
            console.log('not valid fields');
            return;
        }
    });
}

/**
 * Init header
 */
function init() {
    // check we are in profile page
    if (!$msgList.length) {
        return;
    }
    // const token = User.getToken();
    var metadata = _user2.default.getMetadata(cbError);
    // const resendRequest = () => User.getMetadata(token);
    // let isSendReqOnce = false;
    // check we are in profile page
    if (!$msgList.length) {
        return;
    }

    addOnLoadHandlers();

    // может инфо отсутсвовать - сделать еще раз запрос через 3 сек.
    metadata.then(function (result) {
        // проверям один раз наличие result.data.accounts.info
        /*
        let isResendRequest = false;
        if (result.data && result.data.accounts && !isSendReqOnce) {
            result.data.accounts.forEach((item) => {
                if (!item.info) {
                    isResendRequest = true;
                    isSendReqOnce = true;
                    return;
                }
            });
        }
        */
        //    checkResponse(result, isResendRequest);
        checkResponse(result);
        var cfg = {
            deleteBtnCls: '.js_acc-delete',
            updateBtnCls: '.js_acc-refresh',
            editBtnCls: '.js_acc-edit'
        };
        (0, _accountsListBtnSettings.settingButtonsHandler)(cfg);
    }).catch(function (err) {
        setTimeout(function () {
            _view2.default.showInfoMessage($('.error-msg'), err.status || '', 'Не получилось загрузить доступные Instagram аккаунты');
        }, 3000);
        $('.spinner-box').addClass('d-none');
    });

    window.PubSub.subscribe(_consts.CONST.events.instagramAccouns.INSTAGRAM_ACCOUNS_NEED_REFRESH, function (eventName, data) {
        reloadList();
    });
    window.PubSub.subscribe(_consts.CONST.events.instagramAccouns.INSTAGRAM_ACCOUNS_RENDERED, function (eventName, data) {
        var dataArray = data.dataArray;

        dataArray.forEach(function (item) {
            var avatar = item.info && item.info.profile_pic_url || _consts.CONST.user.defaulAvatar;
            sessionStorage.setItem(item.username, avatar);
        });
    });
}

/***/ }),
/* 21 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); // import $ from 'jquery';


var _consts = __webpack_require__(0);

var _network = __webpack_require__(16);

var _network2 = _interopRequireDefault(_network);

var _cookie = __webpack_require__(4);

var _cookie2 = _interopRequireDefault(_cookie);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var UserConversation = function () {
    function UserConversation() {
        _classCallCheck(this, UserConversation);

        this.network = new _network2.default();
        this.cookieStorage = _cookie2.default;
        this.settingPost = {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
                'Accept': 'application/json'
            }
        };
    }

    _createClass(UserConversation, [{
        key: 'isLoggedIn',
        value: function isLoggedIn() {
            return !!this.getToken();
        }
    }, {
        key: 'isEmailConfirmed',
        value: function isEmailConfirmed() {
            return this.cookieStorage.get(_consts.CONST.cookieStorage.emailConfirmed) === 'confirmed';
        }
    }, {
        key: 'getToken',
        value: function getToken() {
            var cookieToken = this.cookieStorage.get(_consts.CONST.cookieStorage.token);
            return cookieToken;
        }
    }, {
        key: 'getMetadata',
        value: function getMetadata(token, cbError) {
            return this.network.sendRequest('' + _consts.CONST.getPath('instagramDirect_getMetaData'), { headers: { 'token': this.getToken() } }, cbError);
        }
    }, {
        key: 'getMetadataDetailUsers',
        value: function getMetadataDetailUsers(details, cbError) {
            var cursor = details.cursor ? '?cursor=' + details.cursor : '';
            return this.network.sendRequest(_consts.CONST.getPath('instagramDirect_getMetaData') + '/' + details.username + cursor, { headers: { 'token': this.getToken() } }, cbError);
        }
    }, {
        key: 'getMetadataDetailConversation',
        value: function getMetadataDetailConversation(token, details, cbError) {
            var cursor = details.cursor ? '?cursor=' + details.cursor : '';
            return this.network.sendRequest(_consts.CONST.getPath('instagramDirect_getMetaData') + '/' + details.username + '/' + details.conversationId + cursor, { headers: { token: token } }, cbError);
        }
    }, {
        key: 'postMetadataDetailConversation',
        value: function postMetadataDetailConversation(token, details, cbError) {
            var setting = _extends({}, this.settingPost, {
                body: JSON.stringify({ 'value': details.value }),
                headers: _extends({}, this.settingPost.headers, {
                    'token': this.getToken()
                })
            });
            return this.network.sendRequest(_consts.CONST.getPath('instagramDirect_postMessage') + '/' + details.username + '/' + details.conversationId + '/text', setting, cbError);
        }
        // --- Request Pending

    }, {
        key: 'getRequestPending',
        value: function getRequestPending(username, cbError) {
            // const cursor = (details.cursor) ? `?cursor=${details.cursor}` : '';
            return this.network.sendRequest(_consts.CONST.getPath('instagramDirect_RequestPending') + '/' + username, { headers: { 'token': this.getToken() } }, cbError);
        }
    }, {
        key: 'putRequestPending',
        value: function putRequestPending(confirmUserData, cbError) {
            var setting = _extends({}, this.settingPost, {
                method: 'PUT',
                headers: _extends({}, this.settingPost.headers, {
                    'token': this.getToken()
                })
            });
            var username = confirmUserData.username,
                conversationId = confirmUserData.conversationId;

            return this.network.sendRequest(_consts.CONST.getPath('instagramDirect_RequestPending') + '/' + username + '/' + conversationId, setting, cbError);
        }
    }, {
        key: 'delRequestPending',
        value: function delRequestPending(confirmUserData, cbError) {
            var setting = {
                method: 'DELETE',
                headers: _extends({}, this.settingPost.headers, {
                    'token': this.getToken()
                })
            };
            var username = confirmUserData.username,
                conversationId = confirmUserData.conversationId;

            return this.network.sendRequest(_consts.CONST.getPath('instagramDirect_RequestPending') + '/' + username + '/' + conversationId, setting, cbError);
        }
    }]);

    return UserConversation;
}();

var userInstance = null;

if (!userInstance) {
    userInstance = new UserConversation();
}

exports.default = userInstance;

/***/ }),
/* 22 */
/***/ (function(module, exports) {

/*!
 * EmojioneArea v3.0.0
 * https://github.com/mervick/emojionearea
 * Copyright Andrey Izman and other contributors
 * Released under the MIT license
 * Date: 2016-05-06T10:33Z
 */
(function(document, window, $) {
    'use strict';

    var unique = 0;
    var eventStorage = {};
    var possibleEvents = {};
    var emojione = window.emojione;
    var readyCallbacks = [];
    function emojioneReady (fn) {
        if (emojione) {
            fn();
        } else {
            readyCallbacks.push(fn);
        }
    };
    var blankImg = 'data:image/gif;base64,R0lGODlhAQABAJH/AP///wAAAMDAwAAAACH5BAEAAAIALAAAAAABAAEAAAICVAEAOw==';
    var slice = [].slice;
    var css_class = "emojionearea";
    var emojioneSupportMode = 0;
    function trigger(self, event, args) {
        var result = true, j = 1;
        if (event) {
            event = event.toLowerCase();
            do {
                var _event = j==1 ? '@' + event : event;
                if (eventStorage[self.id][_event] && eventStorage[self.id][_event].length) {
                    $.each(eventStorage[self.id][_event], function (i, fn) {
                        return result = fn.apply(self, args|| []) !== false;
                    });
                }
            } while (result && !!j--);
        }
        return result;
    }
    function attach(self, element, events, target) {
        target = target || function (event, callerEvent) { return $(callerEvent.currentTarget) };
        $.each(events, function(event, link) {
            event = $.isArray(events) ? link : event;
            (possibleEvents[self.id][link] || (possibleEvents[self.id][link] = []))
                .push([element, event, target]);
        });
    }
    function getTemplate(template, unicode, shortname) {
        return template
            .replace('{name}', shortname || '')
            .replace('{img}', emojione.imagePathPNG + (emojioneSupportMode < 2 ? unicode.toUpperCase() : unicode) + '.png')
            .replace('{uni}', unicode)
            .replace('{alt}', emojione.convert(unicode));
    }
    function shortnameTo(str, template, clear) {
        return str.replace(/:?\+?[\w_\-]+:?/g, function(shortname) {
            shortname = ":" + shortname.replace(/:$/,'').replace(/^:/,'') + ":";
            var unicode = emojione.emojioneList[shortname];
            if (unicode) {
                if (emojioneSupportMode > 3) unicode = unicode.unicode;
                return getTemplate(template, unicode[unicode.length-1], shortname);
            }
            return clear ? '' : shortname;
        });
    };
    function pasteHtmlAtCaret(html) {
        var sel, range;
        if (window.getSelection) {
            sel = window.getSelection();
            if (sel.getRangeAt && sel.rangeCount) {
                range = sel.getRangeAt(0);
                range.deleteContents();
                var el = document.createElement("div");
                el.innerHTML = html;
                var frag = document.createDocumentFragment(), node, lastNode;
                while ( (node = el.firstChild) ) {
                    lastNode = frag.appendChild(node);
                }
                range.insertNode(frag);
                if (lastNode) {
                    range = range.cloneRange();
                    range.setStartAfter(lastNode);
                    range.collapse(true);
                    sel.removeAllRanges();
                    sel.addRange(range);
                }
            }
        } else if (document.selection && document.selection.type != "Control") {
            document.selection.createRange().pasteHTML(html);
        }
    }
    var default_options = {
        attributes: {
            dir               : "ltr",
            spellcheck        : false,
            autocomplete      : "off",
            autocorrect       : "off",
            autocapitalize    : "off",
        },
        placeholder       : null,
        container         : null,
        hideSource        : true,
        shortnames        : true,
        sprite            : true,
        pickerPosition    : "top", // top | bottom | right
        filtersPosition   : "top", // top | bottom
        hidePickerOnBlur  : true,
        buttonTitle       : "Use the TAB key to insert emoji faster",
        tones             : true,
        tonesStyle        : "bullet", // bullet | radio | square | checkbox
        inline            : null, // null - auto
        saveEmojisAs      : "unicode", // unicode | shortname | image
        shortcuts         : true,
        autocomplete      : true,
        autocompleteTones : false,

        filters: {
            tones: {
                title: "Diversity",
                emoji: "santa runner surfer swimmer lifter ear nose point_up_2 point_down point_left point_right punch " +
                "wave ok_hand thumbsup thumbsdown clap open_hands boy girl man woman cop bride_with_veil person_with_blond_hair " +
                "man_with_gua_pi_mao man_with_turban older_man grandma baby construction_worker princess angel " +
                "information_desk_person guardsman dancer nail_care massage haircut muscle spy hand_splayed middle_finger " +
                "vulcan no_good ok_woman bow raising_hand raised_hands person_frowning person_with_pouting_face pray rowboat " +
                "bicyclist mountain_bicyclist walking bath metal point_up basketball_player fist raised_hand v writing_hand"
            },

            smileys_people: {
                icon: "yum",
                title: "Smileys & People",
                emoji: "grinning grimacing grin joy smiley smile sweat_smile laughing innocent wink blush slight_smile " +
                "upside_down relaxed yum relieved heart_eyes kissing_heart kissing kissing_smiling_eyes " +
                "kissing_closed_eyes stuck_out_tongue_winking_eye stuck_out_tongue_closed_eyes stuck_out_tongue " +
                "money_mouth nerd sunglasses hugging smirk no_mouth neutral_face expressionless unamused rolling_eyes " +
                "thinking flushed disappointed worried angry rage pensive confused slight_frown frowning2 persevere " +
                "confounded tired_face weary triumph open_mouth scream fearful cold_sweat hushed frowning anguished " +
                "cry disappointed_relieved sleepy sweat sob dizzy_face astonished zipper_mouth mask thermometer_face " +
                "head_bandage sleeping zzz poop smiling_imp imp japanese_ogre japanese_goblin skull ghost alien robot " +
                "smiley_cat smile_cat joy_cat heart_eyes_cat smirk_cat kissing_cat scream_cat crying_cat_face " +
                "pouting_cat raised_hands clap wave thumbsup thumbsdown punch fist v ok_hand raised_hand open_hands " +
                "muscle pray point_up point_up_2 point_down point_left point_right middle_finger hand_splayed metal " +
                "vulcan writing_hand nail_care lips tongue ear nose eye eyes bust_in_silhouette busts_in_silhouette " +
                "speaking_head baby boy girl man woman person_with_blond_hair older_man older_woman man_with_gua_pi_mao " +
                "man_with_turban cop construction_worker guardsman spy santa angel princess bride_with_veil walking " +
                "runner dancer dancers couple two_men_holding_hands two_women_holding_hands bow information_desk_person " +
                "no_good ok_woman raising_hand person_with_pouting_face person_frowning haircut massage couple_with_heart " +
                "couple_ww couple_mm couplekiss kiss_ww kiss_mm family family_mwg family_mwgb family_mwbb family_mwgg " +
                "family_wwb family_wwg family_wwgb family_wwbb family_wwgg family_mmb family_mmg family_mmgb family_mmbb " +
                "family_mmgg womans_clothes shirt jeans necktie dress bikini kimono lipstick kiss footprints high_heel " +
                "sandal boot mans_shoe athletic_shoe womans_hat tophat helmet_with_cross mortar_board crown school_satchel " +
                "pouch purse handbag briefcase eyeglasses dark_sunglasses ring closed_umbrella"
            },

            animals_nature: {
                icon: "hamster",
                title: "Animals & Nature",
                emoji: "dog cat mouse hamster rabbit bear panda_face koala tiger lion_face cow pig pig_nose frog " +
                "octopus monkey_face see_no_evil hear_no_evil speak_no_evil monkey chicken penguin bird baby_chick " +
                "hatching_chick hatched_chick wolf boar horse unicorn bee bug snail beetle ant spider scorpion crab " +
                "snake turtle tropical_fish fish blowfish dolphin whale whale2 crocodile leopard tiger2 water_buffalo " +
                "ox cow2 dromedary_camel camel elephant goat ram sheep racehorse pig2 rat mouse2 rooster turkey dove " +
                "dog2 poodle cat2 rabbit2 chipmunk feet dragon dragon_face cactus christmas_tree evergreen_tree " +
                "deciduous_tree palm_tree seedling herb shamrock four_leaf_clover bamboo tanabata_tree leaves " +
                "fallen_leaf maple_leaf ear_of_rice hibiscus sunflower rose tulip blossom cherry_blossom bouquet " +
                "mushroom chestnut jack_o_lantern shell spider_web earth_americas earth_africa earth_asia full_moon " +
                "waning_gibbous_moon last_quarter_moon waning_crescent_moon new_moon waxing_crescent_moon " +
                "first_quarter_moon waxing_gibbous_moon new_moon_with_face full_moon_with_face first_quarter_moon_with_face " +
                "last_quarter_moon_with_face sun_with_face crescent_moon star star2 dizzy sparkles comet sunny " +
                "white_sun_small_cloud partly_sunny white_sun_cloud white_sun_rain_cloud cloud cloud_rain " +
                "thunder_cloud_rain cloud_lightning zap fire boom snowflake cloud_snow snowman2 snowman wind_blowing_face " +
                "dash cloud_tornado fog umbrella2 umbrella droplet sweat_drops ocean"
            },

            food_drink: {
                icon: "pizza",
                title: "Food & Drink",
                emoji: "green_apple apple pear tangerine lemon banana watermelon grapes strawberry melon cherries peach " +
                "pineapple tomato eggplant hot_pepper corn sweet_potato honey_pot bread cheese poultry_leg meat_on_bone " +
                "fried_shrimp egg hamburger fries hotdog pizza spaghetti taco burrito ramen stew fish_cake sushi bento " +
                "curry rice_ball rice rice_cracker oden dango shaved_ice ice_cream icecream cake birthday custard candy " +
                "lollipop chocolate_bar popcorn doughnut cookie beer beers wine_glass cocktail tropical_drink champagne " +
                "sake tea coffee baby_bottle fork_and_knife fork_knife_plate"
            },

            activity: {
                icon: "basketball",
                title: "Activity",
                emoji: "soccer basketball football baseball tennis volleyball rugby_football 8ball golf golfer ping_pong " +
                "badminton hockey field_hockey cricket ski skier snowboarder ice_skate bow_and_arrow fishing_pole_and_fish " +
                "rowboat swimmer surfer bath basketball_player lifter bicyclist mountain_bicyclist horse_racing levitate " +
                "trophy running_shirt_with_sash medal military_medal reminder_ribbon rosette ticket tickets performing_arts " +
                "art circus_tent microphone headphones musical_score musical_keyboard saxophone trumpet guitar violin " +
                "clapper video_game space_invader dart game_die slot_machine bowling"
            },

            travel_places: {
                icon: "rocket",
                title: "Travel & Places",
                emoji: "red_car taxi blue_car bus trolleybus race_car police_car ambulance fire_engine minibus truck " +
                "articulated_lorry tractor motorcycle bike rotating_light oncoming_police_car oncoming_bus " +
                "oncoming_automobile oncoming_taxi aerial_tramway mountain_cableway suspension_railway railway_car " +
                "train monorail bullettrain_side bullettrain_front light_rail mountain_railway steam_locomotive train2 " +
                "metro tram station helicopter airplane_small airplane airplane_departure airplane_arriving sailboat " +
                "motorboat speedboat ferry cruise_ship rocket satellite_orbital seat anchor construction fuelpump busstop " +
                "vertical_traffic_light traffic_light checkered_flag ship ferris_wheel roller_coaster carousel_horse " +
                "construction_site foggy tokyo_tower factory fountain rice_scene mountain mountain_snow mount_fuji volcano " +
                "japan camping tent park motorway railway_track sunrise sunrise_over_mountains desert beach island " +
                "city_sunset city_dusk cityscape night_with_stars bridge_at_night milky_way stars sparkler fireworks " +
                "rainbow homes european_castle japanese_castle stadium statue_of_liberty house house_with_garden " +
                "house_abandoned office department_store post_office european_post_office hospital bank hotel " +
                "convenience_store school love_hotel wedding classical_building church mosque synagogue kaaba shinto_shrine"
            },

            objects: {
                icon: "bulb",
                title: "Objects",
                emoji: "watch iphone calling computer keyboard desktop printer mouse_three_button trackball joystick " +
                "compression minidisc floppy_disk cd dvd vhs camera camera_with_flash video_camera movie_camera projector " +
                "film_frames telephone_receiver telephone pager fax tv radio microphone2 level_slider control_knobs " +
                "stopwatch timer alarm_clock clock hourglass_flowing_sand hourglass satellite battery electric_plug bulb " +
                "flashlight candle wastebasket oil money_with_wings dollar yen euro pound moneybag credit_card gem scales " +
                "wrench hammer hammer_pick tools pick nut_and_bolt gear chains gun bomb knife dagger crossed_swords shield " +
                "smoking skull_crossbones coffin urn amphora crystal_ball prayer_beads barber alembic telescope microscope " +
                "hole pill syringe thermometer label bookmark toilet shower bathtub key key2 couch sleeping_accommodation " +
                "bed door bellhop frame_photo map beach_umbrella moyai shopping_bags balloon flags ribbon gift confetti_ball " +
                "tada dolls wind_chime crossed_flags izakaya_lantern envelope envelope_with_arrow incoming_envelope e-mail " +
                "love_letter postbox mailbox_closed mailbox mailbox_with_mail mailbox_with_no_mail package postal_horn " +
                "inbox_tray outbox_tray scroll page_with_curl bookmark_tabs bar_chart chart_with_upwards_trend " +
                "chart_with_downwards_trend page_facing_up date calendar calendar_spiral card_index card_box ballot_box " +
                "file_cabinet clipboard notepad_spiral file_folder open_file_folder dividers newspaper2 newspaper notebook " +
                "closed_book green_book blue_book orange_book notebook_with_decorative_cover ledger books book link " +
                "paperclip paperclips scissors triangular_ruler straight_ruler pushpin round_pushpin triangular_flag_on_post " +
                "flag_white flag_black closed_lock_with_key lock unlock lock_with_ink_pen pen_ballpoint pen_fountain " +
                "black_nib pencil pencil2 crayon paintbrush mag mag_right"
            },

            symbols: {
                icon: "heartpulse",
                title: "Symbols",
                emoji: "heart yellow_heart green_heart blue_heart purple_heart broken_heart heart_exclamation two_hearts " +
                "revolving_hearts heartbeat heartpulse sparkling_heart cupid gift_heart heart_decoration peace cross " +
                "star_and_crescent om_symbol wheel_of_dharma star_of_david six_pointed_star menorah yin_yang orthodox_cross " +
                "place_of_worship ophiuchus aries taurus gemini cancer leo virgo libra scorpius sagittarius capricorn " +
                "aquarius pisces id atom u7a7a u5272 radioactive biohazard mobile_phone_off vibration_mode u6709 u7121 " +
                "u7533 u55b6 u6708 eight_pointed_black_star vs accept white_flower ideograph_advantage secret congratulations " +
                "u5408 u6e80 u7981 a b ab cl o2 sos no_entry name_badge no_entry_sign x o anger hotsprings no_pedestrians " +
                "do_not_litter no_bicycles non-potable_water underage no_mobile_phones exclamation grey_exclamation question " +
                "grey_question bangbang interrobang 100 low_brightness high_brightness trident fleur-de-lis part_alternation_mark " +
                "warning children_crossing beginner recycle u6307 chart sparkle eight_spoked_asterisk negative_squared_cross_mark " +
                "white_check_mark diamond_shape_with_a_dot_inside cyclone loop globe_with_meridians m atm sa passport_control " +
                "customs baggage_claim left_luggage wheelchair no_smoking wc parking potable_water mens womens baby_symbol " +
                "restroom put_litter_in_its_place cinema signal_strength koko ng ok up cool new free zero one two three four " +
                "five six seven eight nine ten 1234 arrow_forward pause_button play_pause stop_button record_button track_next " +
                "track_previous fast_forward rewind twisted_rightwards_arrows repeat repeat_one arrow_backward arrow_up_small " +
                "arrow_down_small arrow_double_up arrow_double_down arrow_right arrow_left arrow_up arrow_down arrow_upper_right " +
                "arrow_lower_right arrow_lower_left arrow_upper_left arrow_up_down left_right_arrow arrows_counterclockwise " +
                "arrow_right_hook leftwards_arrow_with_hook arrow_heading_up arrow_heading_down hash asterisk information_source " +
                "abc abcd capital_abcd symbols musical_note notes wavy_dash curly_loop heavy_check_mark arrows_clockwise " +
                "heavy_plus_sign heavy_minus_sign heavy_division_sign heavy_multiplication_x heavy_dollar_sign currency_exchange " +
                "copyright registered tm end back on top soon ballot_box_with_check radio_button white_circle black_circle " +
                "red_circle large_blue_circle small_orange_diamond small_blue_diamond large_orange_diamond large_blue_diamond " +
                "small_red_triangle black_small_square white_small_square black_large_square white_large_square small_red_triangle_down " +
                "black_medium_square white_medium_square black_medium_small_square white_medium_small_square black_square_button " +
                "white_square_button speaker sound loud_sound mute mega loudspeaker bell no_bell black_joker mahjong spades " +
                "clubs hearts diamonds flower_playing_cards thought_balloon anger_right speech_balloon clock1 clock2 clock3 " +
                "clock4 clock5 clock6 clock7 clock8 clock9 clock10 clock11 clock12 clock130 clock230 clock330 clock430 " +
                "clock530 clock630 clock730 clock830 clock930 clock1030 clock1130 clock1230 eye_in_speech_bubble"
            },

            flags: {
                icon: "flag_gb",
                title: "Flags",
                emoji: "ac af al dz ad ao ai ag ar am aw au at az bs bh bd bb by be bz bj bm bt bo ba bw br bn bg bf bi " +
                "cv kh cm ca ky cf td flag_cl cn co km cg flag_cd cr hr cu cy cz dk dj dm do ec eg sv gq er ee et fk fo " +
                "fj fi fr pf ga gm ge de gh gi gr gl gd gu gt gn gw gy ht hn hk hu is in flag_id ir iq ie il it ci jm jp " +
                "je jo kz ke ki xk kw kg la lv lb ls lr ly li lt lu mo mk mg mw my mv ml mt mh mr mu mx fm md mc mn me " +
                "ms ma mz mm na nr np nl nc nz ni ne flag_ng nu kp no om pk pw ps pa pg py pe ph pl pt pr qa ro ru rw " +
                "sh kn lc vc ws sm st flag_sa sn rs sc sl sg sk si sb so za kr es lk sd sr sz se ch sy tw tj tz th tl " +
                "tg to tt tn tr flag_tm flag_tm ug ua ae gb us vi uy uz vu va ve vn wf eh ye zm zw re ax ta io bq cx " +
                "cc gg im yt nf pn bl pm gs tk bv hm sj um ic ea cp dg as aq vg ck cw eu gf tf gp mq mp sx ss tc "
            }
        }
    };
    function isObject(variable) {
        return typeof variable === 'object';
    };
    function getOptions(options) {
        if (options['filters']) {
            var filters = default_options.filters;
            $.each(options['filters'], function(filter, data) {
                if (!isObject(data) || $.isEmptyObject(data)) {
                    delete filters[filter];
                    return;
                }
                $.each(data, function(key, val) {
                    filters[filter][key] = val;
                });
            });
            options['filters'] = filters;
        }
        return $.extend({}, default_options, options);
    }

    var saveSelection, restoreSelection;
    if (window.getSelection && document.createRange) {
        saveSelection = function(el) {
            var range = window.getSelection().getRangeAt(0);
            var preSelectionRange = range.cloneRange();
            preSelectionRange.selectNodeContents(el);
            preSelectionRange.setEnd(range.startContainer, range.startOffset);
            return preSelectionRange.toString().length;
        };

        restoreSelection = function(el, sel) {
            var charIndex = 0, range = document.createRange();
            range.setStart(el, 0);
            range.collapse(true);
            var nodeStack = [el], node, foundStart = false, stop = false;

            while (!stop && (node = nodeStack.pop())) {
                if (node.nodeType == 3) {
                    var nextCharIndex = charIndex + node.length;
                    if (!foundStart && sel >= charIndex && sel <= nextCharIndex) {
                        range.setStart(node, sel - charIndex);
                        range.setEnd(node, sel - charIndex);
                        stop = true;
                    }
                    charIndex = nextCharIndex;
                } else {
                    var i = node.childNodes.length;
                    while (i--) {
                        nodeStack.push(node.childNodes[i]);
                    }
                }
            }

            sel = window.getSelection();
            sel.removeAllRanges();
            sel.addRange(range);
        }
    } else if (document.selection && document.body.createTextRange) {
        saveSelection = function(el) {
            var selectedTextRange = document.selection.createRange(),
                preSelectionTextRange = document.body.createTextRange();
            preSelectionTextRange.moveToElementText(el);
            preSelectionTextRange.setEndPoint("EndToStart", selectedTextRange);
            var start = preSelectionTextRange.text.length;
            return start + selectedTextRange.text.length;
        };

        restoreSelection = function(el, sel) {
            var textRange = document.body.createTextRange();
            textRange.moveToElementText(el);
            textRange.collapse(true);
            textRange.moveEnd("character", sel);
            textRange.moveStart("character", sel);
            textRange.select();
        };
    }


    var uniRegexp;
    var emojioneVersion = window.emojioneVersion || '2.1.4';

    var cdn_base = "https://cdnjs.cloudflare.com/ajax/libs/emojione/";
    function detectVersion() {
        var version = emojione.cacheBustParam;
        if (!isObject(emojione['jsEscapeMap'])) return '1.5.2';
        if (version === "?v=1.2.4") return '2.0.0';
        if (version === "?v=2.0.1") return '2.1.0'; // v2.0.1 || v2.1.0
        if (version === "?v=2.1.1") return '2.1.1';
        if (version === "?v=2.1.2") return '2.1.2';
        if (version === "?v=2.1.3") return '2.1.3';
        if (version === "?v=2.1.4") return '2.1.4';
        return '2.1.4';
    }
    function getSupportMode(version) {
        switch (version) {
            case '1.5.2': return 0;
            case '2.0.0': return 1;
            case '2.1.0':
            case '2.1.1': return 2;
            case '2.1.2': return 3;
            case '2.1.3':
            case '2.1.4':
            default: return 4;
        }
    }
    if (!emojione || getSupportMode(detectVersion()) < 2) {
        $.getScript(cdn_base + emojioneVersion + "/lib/js/emojione.min.js", function () {
            emojione = window.emojione;
            emojioneVersion = detectVersion();
            emojioneSupportMode = getSupportMode(emojioneVersion);
            cdn_base += emojioneVersion + "/assets";
            var sprite = cdn_base +"/sprites/emojione.sprites.css";
            if (document.createStyleSheet) {
                document.createStyleSheet(sprite);
            } else {
                $('<link/>', {rel: 'stylesheet', href: sprite}).appendTo('head');
            }
            while (readyCallbacks.length) {
                readyCallbacks.shift().call();
            }
        });
    } else {
        emojioneVersion = detectVersion();
        emojioneSupportMode = getSupportMode(emojioneVersion);
        cdn_base += emojioneVersion + "/assets";
    }

    emojioneReady(function() {
        emojione.imagePathPNG = cdn_base + "/png/";
        uniRegexp = new RegExp("<object[^>]*>.*?<\/object>|<span[^>]*>.*?<\/span>|<(?:object|embed|svg|img|div|span|p|a)[^>]*>|("+
            emojione.unicodeRegexp+")", "gi");
    });
    function unicodeTo(str, template) {
        return str.replace(uniRegexp, function(unicodeChar) {
            var map = emojione[(emojioneSupportMode === 0 ? 'jsecapeMap' : 'jsEscapeMap')];
            if (typeof unicodeChar !== 'undefined' && unicodeChar in map) {
                return getTemplate(template, map[unicodeChar]);
            }
            return unicodeChar;
        });
    }
    function htmlFromText(str, self) {
        str = str
            .replace(/&/g, '&amp;')
            .replace(/</g, '&lt;')
            .replace(/>/g, '&gt;')
            .replace(/"/g, '&quot;')
            .replace(/'/g, '&#x27;')
            .replace(/`/g, '&#x60;')
            .replace(/(?:\r\n|\r|\n)/g, '\n')
            .replace(/(\n+)/g, '<div>$1</div>')
            .replace(/\n/g, '<br/>')
            .replace(/<br\/><\/div>/g, '</div>');
        if (self.shortnames) {
            str = emojione.shortnameToUnicode(str);
        }
        return unicodeTo(str, self.emojiTemplate)
            .replace(/\t/g, '&nbsp;&nbsp;&nbsp;&nbsp;')
            .replace(/  /g, '&nbsp;&nbsp;');
    }
    function textFromHtml(str, self) {
        str = str
            .replace(/<img[^>]*alt="([^"]+)"[^>]*>/ig, '$1')
            .replace(/\n|\r/g, '')
            .replace(/<br[^>]*>/ig, '\n')
            .replace(/(?:<(?:div|p|ol|ul|li|pre|code|object)[^>]*>)+/ig, '<div>')
            .replace(/(?:<\/(?:div|p|ol|ul|li|pre|code|object)>)+/ig, '</div>')
            .replace(/\n<div><\/div>/ig, '\n')
            .replace(/<div><\/div>\n/ig, '\n')
            .replace(/(?:<div>)+<\/div>/ig, '\n')
            .replace(/([^\n])<\/div><div>/ig, '$1\n')
            .replace(/(?:<\/div>)+/ig, '</div>')
            .replace(/([^\n])<\/div>([^\n])/ig, '$1\n$2')
            .replace(/<\/div>/ig, '')
            .replace(/([^\n])<div>/ig, '$1\n')
            .replace(/\n<div>/ig, '\n')
            .replace(/<div>\n/ig, '\n\n')
            .replace(/<(?:[^>]+)?>/g, '')
            .replace(/&#8291;/g, '')
            .replace(/&nbsp;/g, ' ')
            .replace(/&lt;/g, '<')
            .replace(/&gt;/g, '>')
            .replace(/&quot;/g, '"')
            .replace(/&#x27;/g, "'")
            .replace(/&#x60;/g, '`')
            .replace(/&amp;/g, '&');

        switch (self.saveEmojisAs) {
            case 'image':
                str = unicodeTo(str, self.emojiTemplate);
                break;
            case 'shortname':
                str = emojione.toShort(str);
        }
        return str;
    }
    function calcButtonPosition() {
        var self = this,
            offset = self.editor[0].offsetWidth - self.editor[0].clientWidth,
            current = parseInt(self.button.css('marginRight'));
        if (current !== offset) {
            self.button.css({marginRight: offset});
            if (self.pickerPosition === 'top') {
                self.picker.css({right: parseInt(self.picker.css('right')) - current + offset});
            }
        }
    }
    function lazyLoading() {
        var self = this;
        if (!self.sprite && self.lasyEmoji[0]) {
            var pickerTop = self.picker.offset().top,
                pickerBottom = pickerTop + self.picker.height() + 20;
            self.lasyEmoji.each(function() {
                var e = $(this), top = e.offset().top;
                if (top > pickerTop && top < pickerBottom) {
                    e.attr("src", e.data("src")).removeClass("lazy-emoji");
                }
            })
            self.lasyEmoji = self.lasyEmoji.filter(".lazy-emoji");
        }
    }
    function selector (prefix, skip_dot) {
        return (skip_dot ? '' : '.') + css_class + (prefix ? ("-" + prefix) : "");
    }
    function div(prefix) {
        var parent = $('<div/>', isObject(prefix) ? prefix : {"class" : selector(prefix, true)});
        $.each(slice.call(arguments).slice(1), function(i, child) {
            if ($.isFunction(child)) {
                child = child.call(parent);
            }
            if (child) {
                $(child).appendTo(parent);
            }
        });
        return parent;
    }
    function init(self, source, options) {
        //calcElapsedTime('init', function() {
        options = getOptions(options);
        self.sprite = options.sprite && emojioneSupportMode < 3;
        self.inline = options.inline === null ? source.is("INPUT") : options.inline;
        self.shortnames = options.shortnames;
        self.pickerPosition = options.pickerPosition;
        self.saveEmojisAs = options.saveEmojisAs;
        self.emojiTemplate = '<img alt="{alt}" class="emojione' + (self.sprite ? '-{uni}" src="' + blankImg + '"/>' : 'emoji" src="{img}"/>');

        var sourceValFunc = source.is("TEXTAREA") || source.is("INPUT") ? "val" : "text",
            editor, button, picker, tones, filters, filtersBtns, emojisList, categories, scrollArea,
            app = div({"class" : css_class + " " + (source.attr("class") || ""), role: "application"},
                editor = self.editor = div('editor').attr({
                    contenteditable: true,
                    placeholder: options["placeholder"] || source.data("placeholder") || source.attr("placeholder") || "",
                    tabindex: 0
                }),
                button = self.button = div('button',
                    div('button-open'),
                    div('button-close')
                ).attr('title', options.buttonTitle),
                picker = self.picker = div('picker',
                    div('wrapper',
                        filters = div('filters'),
                        scrollArea = div('scroll-area',
                            emojisList = div('emojis-list'),
                            tones = div('tones',
                                function() {
                                    if (options.tones) {
                                        this.addClass(selector('tones-' + options.tonesStyle, true));
                                        for (var i = 0; i <= 5; i++) {
                                            this.append($("<i/>", {
                                                "class": "btn-tone btn-tone-" + i + (!i ? " active" : ""),
                                                "data-skin": i,
                                                role: "button"
                                            }));
                                        }
                                    }
                                }
                            )
                        )
                    )
                ).addClass(selector('picker-position-' + options.pickerPosition, true))
                 .addClass(selector('filters-position-' + options.filtersPosition, true))
                 .addClass('hidden')
            );

        $.each(options.attributes, function(attr, value) {
            editor.attr(attr, value);
        });

        $.each(options.filters, function(filter, params) {
            var skin = 0;
            if (filter !== 'tones') {
                $("<i/>", {
                    "class": selector("filter", true) + " " + selector("filter-" + filter, true),
                    "data-filter": filter,
                    title: params.title
                })
                .wrapInner(shortnameTo(params.icon, self.sprite ? '<i class="emojione-{uni}"/>' : '<img class="emojioneemoji" src="{img}"/>'))
                .appendTo(filters);
            } else if (options.tones) {
                skin = 5;
            } else {
                return;
            }
            do {
                var category = div('category').attr({name: filter, "data-tone": skin}).appendTo(emojisList),
                    items = params.emoji.replace(/[\s,;]+/g, '|');
                if (skin > 0) {
                    category.hide();
                    items = items.split('|').join('_tone' + skin + '|') + '_tone' + skin;
                }
                items = shortnameTo(items,
                    self.sprite ?
                    '<i class="emojibtn" role="button" data-name="{name}"><i class="emojione-{uni}"></i></i>' :
                    '<i class="emojibtn" role="button" data-name="{name}"><img class="emojioneemoji lazy-emoji" data-src="{img}"/></i>',
                    true).split('|').join('');
                category.html(items);
                $('<h1/>').text(params.title).prependTo(category);
            } while (--skin > 0);
        });

        options.filters = null;
        if (!self.sprite) {
            self.lasyEmoji = emojisList.find(".lazy-emoji");
        }

        filtersBtns = filters.find(selector("filter"));
        filtersBtns.eq(0).addClass("active");
        categories = emojisList.find(selector("category"));

        if (options.container) {
            $(options.container).wrapInner(app);
        } else {
            app.insertAfter(source);
        }

        if (options.hideSource) {
            source.hide();
        }

        self.setText(source[sourceValFunc]());
        source[sourceValFunc](self.getText());
        calcButtonPosition.apply(self);

        // attach() must be called before any .on() methods !!!
        // 1) attach() stores events into possibleEvents{},
        // 2) .on() calls bindEvent() and stores handlers into eventStorage{},
        // 3) bindEvent() finds events in possibleEvents{} and bind founded via jQuery.on()
        // 4) attached events via jQuery.on() calls trigger()
        // 5) trigger() calls handlers stored into eventStorage{}

        attach(self, emojisList.find(".emojibtn"), {click: "emojibtn.click"});
        attach(self, window, {resize: "!resize"});
        attach(self, tones.children(), {click: "tone.click"});
        attach(self, [picker, button], {mousedown: "!mousedown"}, editor);
        attach(self, button, {click: "button.click"});
        attach(self, editor, {paste :"!paste"}, editor);
        attach(self, editor, ["focus", "blur"], function() { return self.stayFocused ? false : editor; });
        attach(self, picker, {mousedown: "picker.mousedown", mouseup: "picker.mouseup", click: "picker.click",
            keyup: "picker.keyup", keydown: "picker.keydown", keypress: "picker.keypress"});
        attach(self, editor, ["mousedown", "mouseup", "click", "keyup", "keydown", "keypress"]);
        attach(self, picker.find(".emojionearea-filter"), {click: "filter.click"});

        if (isObject(options.events) && !$.isEmptyObject(options.events)) {
            $.each(options.events, function(event, handler) {
                self.on(event.replace(/_/g, '.'), handler);
            });
        }

        var noListenScroll = false;
        scrollArea.on('scroll', function () {
            if (!noListenScroll) {
                lazyLoading.call(self);
                if (scrollArea.is(":not(.skinnable)")) {
                    var item = categories.eq(0), scrollTop = scrollArea.offset().top;
                    categories.each(function (i, e) {
                        if ($(e).offset().top - scrollTop >= 10) {
                            return false;
                        }
                        item = $(e);
                    });
                    var filter = filtersBtns.filter('[data-filter="' + item.attr("name") + '"]');
                    if (filter[0] && !filter.is(".active")) {
                        filtersBtns.removeClass("active");
                        filter.addClass("active");
                    }
                }
            }
        });

        self.on("@filter.click", function(filter) {
            var isActive = filter.is(".active");
            if (scrollArea.is(".skinnable")) {
                if (isActive) return;
                tones.children().eq(0).click();
            }
            noListenScroll = true;
            if (!isActive) {
                filtersBtns.filter(".active").removeClass("active");
                filter.addClass("active");
            }
            var headerOffset = categories.filter('[name="' + filter.data('filter') + '"]').offset().top,
                scroll = scrollArea.scrollTop(),
                offsetTop = scrollArea.offset().top;
            scrollArea.stop().animate({
                scrollTop: headerOffset + scroll - offsetTop - 2
            }, 200, 'swing', function () {
                lazyLoading.call(self);
                noListenScroll = false;
            });
        })

        .on("@picker.show", lazyLoading)

        .on("@tone.click", function(tone) {
            tones.children().removeClass("active");
            var skin = tone.addClass("active").data("skin");
            if (skin) {
                scrollArea.addClass("skinnable");
                categories.hide().filter("[data-tone=" + skin + "]").show();
            } else {
                scrollArea.removeClass("skinnable");
                categories.hide().filter("[data-tone=0]").show();
            }
            lazyLoading.call(self);
        })

        .on("@button.click", function(button) {
            if (button.is(".active")) {
                self.hidePicker();
            } else {
                self.showPicker();
            }
        })

        .on("@!paste", function(editor) {
            self.stayFocused = true;
            // insert invisible character for fix caret position
            pasteHtmlAtCaret('<span>&#8291;</span>');

            var sel = saveSelection(editor[0]),
                editorScrollTop = editor.scrollTop(),
                clipboard = $("<div/>", {contenteditable: true})
                    .css({position: "fixed", left: "-999px", width: "1px", height: "1px", top: "20px", overflow: "hidden"})
                    .appendTo($("BODY"))
                    .focus();

            window.setTimeout(function() {
                var caretID = "caret-" + (new Date()).getTime();
                editor.focus();
                restoreSelection(editor[0], sel);
                var text = textFromHtml(clipboard.html().replace(/\r\n|\n|\r/g, '<br>'), self),
                    html = htmlFromText(text, self);
                pasteHtmlAtCaret(html);
                clipboard.remove();
                pasteHtmlAtCaret('<i id="' + caretID +'"></i>');
                editor.scrollTop(editorScrollTop);
                var caret = $("#" + caretID),
                    top = caret.offset().top - editor.offset().top,
                    height = editor.height();
                if (editorScrollTop + top >= height || editorScrollTop > top) {
                    editor.scrollTop(editorScrollTop + top - 2 * height/3);
                }
                caret.remove();
                self.stayFocused = false;
                calcButtonPosition.apply(self);
                trigger(self, 'paste', [editor, text, html]);
            }, 200);
        })

        .on("@emojibtn.click", function(emojibtn) {
            if (!app.is(".focused")) {
                editor.focus();
            }
            saveSelection(editor[0]);
            pasteHtmlAtCaret(shortnameTo(emojibtn.data("name"), self.emojiTemplate));
        })

        .on("@!resize @keyup @emojibtn.click", calcButtonPosition)

        .on("@!mousedown", function(editor, event) {
            if (!app.is(".focused")) {
                editor.focus();
            }
            event.preventDefault();
            return false;
        })

        .on("@change", function(editor) {
            var html = editor.html().replace(/<\/?(?:div|span|p)[^>]*>/ig, '');
            // clear input: chrome adds <br> when contenteditable is empty
            if (!html.length || /^<br[^>]*>$/i.test(html)) {
                self.editor.html(self.content = '');
            }
            source[sourceValFunc](self.getText());
        })

        .on("@focus", function() {
            app.addClass("focused");
        })

        .on("@blur", function(editor) {
            app.removeClass("focused");

            if (options.hidePickerOnBlur) {
                self.hidePicker();
            }

            var content = editor.html();
            if (self.content !== content) {
                self.content = content;
                trigger(self, 'change', [editor]);
                source.blur().trigger("change");
            } else {
                source.blur();
            }
        });

        if (options.shortcuts) {
            self.on("@keydown", function(_, e) {
                if (!e.ctrlKey) {
                    if (e.which == 9) {
                        e.preventDefault();
                        button.click();
                    }
                    else if (e.which == 27) {
                        e.preventDefault();
                        if (button.is(".active")) {
                            self.hidePicker();
                        }
                    }
                }
            });
        }

        if (options.autocomplete) {
            var autocomplete = function() {
                var events = {};
                if (options.shortcuts) {
                    events.onKeydown = function (e, commands) {
                        if (!e.ctrlKey && e.which == 13) {
                            return commands.KEY_ENTER;
                        }
                    };
                }
                var map = $.map(emojione.emojioneList, function (_, emoji) {
                    return !options.autocompleteTones ? /_tone[12345]/.test(emoji) ? null : emoji : emoji;
                });
                map.sort();
                editor.textcomplete([
                    {
                        id: css_class,
                        match: /(:[\-+\w]*)$/,
                        search: function (term, callback) {
                            callback($.map(map, function (emoji) {
                                return emoji.indexOf(term) === 0 ? emoji : null;
                            }));
                        },
                        template: function (value) {
                            return shortnameTo(value, self.emojiTemplate) + " " + value.replace(/:/g, '');
                        },
                        replace: function (value) {
                            return shortnameTo(value, self.emojiTemplate);
                        },
                        cache: true,
                        maxCount: 15,
                        index: 1
                    }
                ], events);
            };
            if ($.fn.textcomplete) {
                autocomplete();
            } else {
                $.getScript("https://cdn.rawgit.com/yuku-t/jquery-textcomplete/v1.3.4/dist/jquery.textcomplete.js",
                    autocomplete);
            }
        }

        if (self.inline) {
            app.addClass(selector('inline', true));
            self.on("@keydown", function(_, e) {
                if (e.which == 13) {
                    e.preventDefault();
                }
            });
        }

        if (/firefox/i.test(navigator.userAgent)) {
            // disabling resize images on Firefox
            document.execCommand("enableObjectResizing", false, false);
        }

        //}, self.id === 1); // calcElapsedTime()
    };
    var EmojioneArea = function(element, options) {
        var self = this;
        eventStorage[self.id = ++unique] = {};
        possibleEvents[self.id] = {};
        emojioneReady(function() {
            init(self, element, options);
        });
    };
    function bindEvent(self, event) {
        event = event.replace(/^@/, '');
        var id = self.id;
        if (possibleEvents[id][event]) {
            $.each(possibleEvents[id][event], function(i, ev) {
                // ev[0] = element
                // ev[1] = event
                // ev[2] = target
                $.each($.isArray(ev[0]) ? ev[0] : [ev[0]], function(i, el) {
                    $(el).on(ev[1], function() {
                        var args = slice.call(arguments),
                            target = $.isFunction(ev[2]) ? ev[2].apply(self, [event].concat(args)) : ev[2];
                        if (target) {
                            trigger(self, event, [target].concat(args));
                        }
                    });
                });
            });
            possibleEvents[id][event] = null;
        }
    }

    EmojioneArea.prototype.on = function(events, handler) {
        if (events && $.isFunction(handler)) {
            var self = this;
            $.each(events.toLowerCase().split(' '), function(i, event) {
                bindEvent(self, event);
                (eventStorage[self.id][event] || (eventStorage[self.id][event] = [])).push(handler);
            });
        }
        return this;
    };

    EmojioneArea.prototype.off = function(events, handler) {
        if (events) {
            var id = this.id;
            $.each(events.toLowerCase().replace(/_/g, '.').split(' '), function(i, event) {
                if (eventStorage[id][event] && !/^@/.test(event)) {
                    if (handler) {
                        $.each(eventStorage[id][event], function(j, fn) {
                            if (fn === handler) {
                                eventStorage[id][event] = eventStorage[id][event].splice(j, 1);
                            }
                        });
                    } else {
                        eventStorage[id][event] = [];
                    }
                }
            });
        }
        return this;
    };

    EmojioneArea.prototype.setText = function (str) {
        var self = this;
        emojioneReady(function () {
            self.editor.html(htmlFromText(str, self));
            self.content = self.editor.html();
            trigger(self, 'change', [self.editor]);
            calcButtonPosition.apply(self);
        });
        return self;
    }

    EmojioneArea.prototype.getText = function() {
        return textFromHtml(this.editor.html(), this);
    }

    EmojioneArea.prototype.showPicker = function () {
        var self = this;
        if (self._sh_timer) {
            window.clearTimeout(self._sh_timer);
        }
        self.picker.removeClass("hidden");
        self._sh_timer =  window.setTimeout(function() {
            self.button.addClass("active");
        }, 50);
        trigger(self, "picker.show", [self.picker]);
        return self;
    }

    EmojioneArea.prototype.hidePicker = function () {
        var self = this;
        if (self._sh_timer) {
            window.clearTimeout(self._sh_timer);
        }
        self.button.removeClass("active");
        self._sh_timer =  window.setTimeout(function() {
            self.picker.addClass("hidden");
        }, 500);
        trigger(self, "picker.hide", [self.picker]);
        return self;
    }

    $.fn.emojioneArea = function(options) {
        return this.each(function() {
            if (!!this.emojioneArea) return this.emojioneArea;
            $.data(this, 'emojioneArea', this.emojioneArea = new EmojioneArea($(this), options));
            return this.emojioneArea;
        });
    };

}) (document, window, jQuery);

/***/ }),
/* 23 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


__webpack_require__(53);

__webpack_require__(55);

var _pubsubJs = __webpack_require__(11);

var _pubsubJs2 = _interopRequireDefault(_pubsubJs);

var _loginForm = __webpack_require__(40);

var _registerForm = __webpack_require__(44);

var _registerForm2 = _interopRequireDefault(_registerForm);

var _loginPage = __webpack_require__(50);

var _confirmReg = __webpack_require__(35);

var _header = __webpack_require__(38);

var header = _interopRequireWildcard(_header);

var _sidebarMenu = __webpack_require__(45);

var sidebarMenu = _interopRequireWildcard(_sidebarMenu);

var _burgerMenu = __webpack_require__(37);

var burgerMenu = _interopRequireWildcard(_burgerMenu);

var _instagramAccountsList = __webpack_require__(20);

var instagramAccounts = _interopRequireWildcard(_instagramAccountsList);

var _messages = __webpack_require__(41);

var messages = _interopRequireWildcard(_messages);

var _follow = __webpack_require__(36);

var follow = _interopRequireWildcard(_follow);

var _unfollowIndex = __webpack_require__(48);

var unfollow = _interopRequireWildcard(_unfollowIndex);

var _automessagesIndex = __webpack_require__(31);

var automessages = _interopRequireWildcard(_automessagesIndex);

var _chatBotIndex = __webpack_require__(33);

var chatBot = _interopRequireWildcard(_chatBotIndex);

var _autogreetingMain = __webpack_require__(28);

var autogreeting = _interopRequireWildcard(_autogreetingMain);

var _autocommentsIndex = __webpack_require__(25);

var autocomments = _interopRequireWildcard(_autocommentsIndex);

var _storiesIndex = __webpack_require__(46);

var stories = _interopRequireWildcard(_storiesIndex);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// const selectorCssLoginForm = {
//     _loginBox: CONST.uiSelectors.headerLoginBox,
//     _formId: '#js_login-form',
//     _buttonSubmitId: '#js_login_btn',
//     _showLoginBoxBtnId: CONST.uiSelectors.headerNavLoginBtn
// };

/*
* global functions
*/

// import {emojionearea} from 'emojioneArea/dist/emojionearea';
// $.fn.emojionearea = emojionearea;

// components
// import {CONST} from './common/js-services/consts';


// vendor
function setPubSub(PubSub) {
    window.PubSub = PubSub;
}

function initTooltip() {
    $('[data-toggle="tooltip"]').tooltip();
}

var init = function init() {
    setPubSub(_pubsubJs2.default);
    initTooltip();
    // console.log('init js here', CONST.user);
    new _registerForm2.default().init();
    // LoginForm(selectorCssLoginForm).init();
    (0, _loginForm.LoginForm)({
        _loginBox: 'main .login-box',
        _formId: '#js_instagram-add-account',
        _buttonSubmitId: '#js_instagram-add-account--btn',
        _showLoginBoxBtnId: '#js_show-login-box',
        isLoginInstagram: true
    }).init(); // init instagram login form *!/
    (0, _loginPage.LoginPage)({
        _loginBox: '.auth.login .card-signin',
        _formId: '.form-signin',
        _buttonSubmitId: '.form-signin [type="submit"]'
    }).init();

    (0, _confirmReg.confirmationWithRedirect)().init();
    header.initHeader();
    sidebarMenu.initMenu();
    burgerMenu.init();
    follow.init();
    unfollow.init();
    instagramAccounts.init();
    messages.init();
    automessages.init();
    autogreeting.init();
    autocomments.init();
    chatBot.init();
    stories.init();
};

(function () {
    return init();
})();

/***/ }),
/* 24 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
var tplTextField = exports.tplTextField = function tplTextField(mainCls) {
    return $("<div class=\"" + mainCls + " mt-2\">\n    <div class=\"row\">\n        <div class=\"col\">\n            <div class=\"js_tagsinput-box\">\n                <input type=\"text\" placeholder=\"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043A\u043B\u044E\u0447\u0435\u0432\u044B\u0435 \u0441\u043B\u043E\u0432\u0430\" value=\"\" data-role=\"tagsinput\" class=\"form-control answer-words mb-2\" />\n            </div>\n            <div class=\"js_tagsinput-box blacklist-box my-2\">\n                <input type=\"text\" placeholder=\"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043C\u0438\u043D\u0443\u0441 \u0441\u043B\u043E\u0432\u0430\" value=\"\" data-role=\"tagsinput\" class=\"form-control blacklist-words\" />\n            </div>\n        </div>\n        <div class=\"col\">\n            <textarea class=\"form-control answer-messages\" rows=\"4\"\n                data-emoji-picker=\"true\" style=\"padding: 0.25rem 1.75rem 0.25rem 0.25rem; width: 100%;min-height: 42px;\"\n                placeholder=\"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u043E\u043E\u0431\u0449\u0435\u043D\u0438\u0435\"\n            ></textarea>\n            \n        </div>\n    </div>\n</div>");
};

/***/ }),
/* 25 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

exports.init = init;

var _consts = __webpack_require__(0);

var _wizardForm = __webpack_require__(6);

var wizardForm = _interopRequireWildcard(_wizardForm);

var _view = __webpack_require__(1);

var _view2 = _interopRequireDefault(_view);

var _apiTaskManager = __webpack_require__(2);

var _apiTaskManager2 = _interopRequireDefault(_apiTaskManager);

var _tabs = __webpack_require__(9);

var tabs = _interopRequireWildcard(_tabs);

var _autocommentsStatus = __webpack_require__(26);

var autocommentsStatus = _interopRequireWildcard(_autocommentsStatus);

var _logs = __webpack_require__(8);

var logs = _interopRequireWildcard(_logs);

var _imageUpload = __webpack_require__(7);

var imageUpload = _interopRequireWildcard(_imageUpload);

var _emoji = __webpack_require__(15);

var _utilsModal = __webpack_require__(12);

var _addAnswerTemplate = __webpack_require__(24);

var _tagsInput = __webpack_require__(10);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

var getValByCommaSeparator = _view2.default.getValByCommaSeparator;

var usernameSelected = '';
var selectCls = 'js_logs-accounts';
var clsConst = {
    currentPageCls: '.autocomments-page',
    tasksList: '.log-tasks',
    logsTabBtn: '#v-pills-logs-tab',
    pagination: '.logs-pagination',
    paginationPgNumber: '.page-number',
    pathType: _consts.CONST.url.tmTypes.autocommentsT,
    pathSubType: _consts.CONST.url.tmTypes.autocommentsSubT[0]
};
var elSelector = {
    fields: '.autocomments-text-fields',
    keyWord: 'input.answer-words',
    answer: 'textarea.answer-messages',
    fileUploadBox: '.file-upload',
    addPostBtns: '.js_autocomments-add-post'
};
var logsState = {
    selectCls: 'js_logs-accounts',
    selectClsLogsTaskType: 'js_logs-subtypes',
    wrapperSubtype: '.log-subype'
};

function initEmojii() {
    (0, _emoji.emoji)({
        page: clsConst.currentPageCls,
        styles: { old: 'bottom: 30px;', new: 'top: -210px;' }
    });
}

function validateIsEmpty($elements, e) {
    $elements.each(function () {
        if ($(this).val() === '') {
            e.preventDefault();
            $(this).addClass('input-error');
            // validation = false;
            return;
        } else {
            $(this).removeClass('input-error');
        }
    });
}

function onSubmitHandler(e) {
    var fields = $(elSelector.fields);
    var reqBody = [];
    var validation = true;
    var $elementsKeyWord = fields.find(elSelector.keyWord);
    var $elementsAnswer = fields.find(elSelector.answer);

    validateIsEmpty($elementsKeyWord, e);
    validateIsEmpty($elementsAnswer, e);

    fields.each(function (idx, item) {
        var keyWord = getValByCommaSeparator($(item).find(elSelector.keyWord));
        var answer = $(item).find(elSelector.answer).val();
        var imageId = $(item).find(elSelector.fileUploadBox).attr('attached-img-id');
        var $imagePostBox = $(item).find('.js_uploaded-img-from-posts');
        var postItemId = $imagePostBox.data('postId');
        var postItemType = $imagePostBox.data('postType');
        var blacklistWords = $(item).find('input.blacklist-words');
        var blacklistWordsArr = getValByCommaSeparator(blacklistWords);

        if (!keyWord.length || !answer.length) {
            // console.log('keyWord is empty, not push me to request');
            $(item).append('\n                <p class="msg-empty-field text-danger">\u041F\u0443\u0441\u0442\u043E\u0435 \u043F\u043E\u043B\u0435 \u043D\u0435 \u0432\u0430\u043B\u0438\u0434\u043D\u043E</p>\n            ');
            setTimeout(function () {
                $('.msg-empty-field').addClass('d-none');
            }, 5000);
            validation = false;
            return;
        }
        var submitBodyItem = {
            'key_words': keyWord,
            answer: answer,
            blacklist: blacklistWordsArr,
            'attachment': imageId ? {
                'image_id': imageId
            } : undefined
        };

        if (postItemId) {
            submitBodyItem.attachment = _extends({}, submitBodyItem.attachment, {
                post: {
                    id: postItemId,
                    type: postItemType || 'type-error'
                }
            });
        }
        reqBody.push(submitBodyItem);
    });
    if (!validation) {
        // console.log('**alarm **', elSelector.keyWord);
        return;
    }

    var nReqBody = {
        'username': usernameSelected,
        'type': clsConst.pathType,
        'subtype': clsConst.pathSubType,
        'user_default_config': {},
        'user_custom_config': {
            'forms': reqBody
        }
    };

    // console.log('make request here**', nReqBody);
    function cbError(res) {
        var msg = res.status.message;
        $('.form-submit-finish--error').addClass('d-block').find('.alert').append('<p>' + msg + '</p>');
    }
    _apiTaskManager2.default.postStartTask(nReqBody, cbError).then(function (result) {
        if (result.status.state === 'ok') {
            $('.form-submit-finish').find('.alert p').remove();
            $('.form-submit-finish').addClass('d-block').find('.alert').append('<p>task_id: ' + result.data.task_id + '</p>');
        }
    });
}

function initLogsTab() {
    function OnChangeSelect() {
        var selectCls = logsState.selectCls;

        $('.' + selectCls).on('change', function () {
            usernameSelected = $('.' + selectCls + ' option:selected').val();
            // clsConst.pathSubType = logsState.activeSubType;
            logs.init(selectCls, clsConst);
        });
    }
    // addDropdown($(logsState.wrapperSubtype), logsSubtypes, {logsState, dropdownOnSelectCb});
    tabs.init(OnChangeSelect, logsState); // makes double request : OPTION and GET
}

function removeExtraTextFields(e) {
    $(elSelector.fields + ':not(:first-child)').removeClass('d-block');
    e.stopPropagation();
}

/* TODO: refactor -> move initModalHandler to separate file, remove initModalHandler in autogreeting-main.js */
var targetButton = {};

function loadMoreHandler(getPosts) {
    var _this = this;

    $('#load-more').off().on('click', function (e) {
        var $btn = $(e.target);
        var cursor = $btn.attr('cursor');
        console.log('load more click');
        getPosts(null, { userName: usernameSelected, cursor: cursor }, { loadMoreHandler: _this, targetButton: targetButton });
    });
}

function initModalHandler() {

    $('.js_open-posts-gridModal').on('click', function (event) {
        targetButton = $(this); // Button that triggered the modal
        // Update the modal's content
        var modal = $('#postsGridModal');
        (0, _utilsModal.getPosts)(modal, { userName: usernameSelected }, { loadMoreHandler: loadMoreHandler, targetButton: targetButton });
        modal.find('.modal-title').text('Публикации');
    });
}

/* TODO: refactor -> move initModalHandler to separate file END */

/**
 * Init Handlers
 */
function initHandlers() {
    var $competitorsInput = $('.autocomments-text-fields input.answer-words[data-role="tagsinput"]');
    var $blackListInput = $('.autocomments-text-fields input.blacklist-words[data-role="tagsinput"]');
    var nextStepBtn = $('form button[type="submit"]');
    (0, _tagsInput.nextBtnvalidateCompetitorsHandler)($competitorsInput, nextStepBtn, 'ignoreRegexCheck');
    (0, _tagsInput.nextBtnvalidateCompetitorsHandler)($blackListInput, null, 'ignoreRegexCheck');

    // TODO: refactor with autogreet.js initHandlers
    // $('[data-toggle="popover"]').popover(); // init
    $('.js_add-autocomments').on('click', function (e) {
        var lastTextField = $(elSelector.fields).last();
        (0, _addAnswerTemplate.tplTextField)(elSelector.fields.substr(1)).insertAfter(lastTextField);
        imageUpload.init();
        // $('[data-toggle="popover"]').popover(); // reinit
        $('[data-toggle="tooltip"]').tooltip(); // reinit
        initModalHandler();

        var lastTextFieldAfterInsert = $(elSelector.fields).last();
        var $inputAnswerWords = $('input.answer-words[data-role="tagsinput"]', lastTextFieldAfterInsert);
        var $blackListInput = $('input.blacklist-words[data-role="tagsinput"]', lastTextFieldAfterInsert);

        (0, _tagsInput.initTagsInput)($inputAnswerWords); // reinit answer-words
        (0, _tagsInput.initTagsInput)($blackListInput); // reinit blacklist-words
        (0, _tagsInput.nextBtnvalidateCompetitorsHandler)($inputAnswerWords, nextStepBtn, 'ignoreRegexCheck');
        (0, _tagsInput.nextBtnvalidateCompetitorsHandler)($blackListInput, null, 'ignoreRegexCheck');
        initEmojii();
    });

    // alert success close
    $('.form-submit-finish .close').on('click', function (e) {
        // console.log('alert close');
        $('#v-pills-all-tab').trigger('click');
        window.PubSub.publish(_consts.CONST.events.tasks.NEW_TASK_CREATED);
        // removeExtraTextFields(e);
    });

    // alert close
    $('.form-submit-finish--error .close').on('click', function () {
        // console.log('alert close');
        $('#v-pills-all-tab').trigger('click');
        window.PubSub.publish(_consts.CONST.events.tasks.NEW_TASK_CREATED);
        removeExtraTextFields();
    });

    // tabs.init(fillListUsers);
    initLogsTab();
}

function setUserName(state) {
    // console.log('getTasksData', state.username);
    usernameSelected = state.username;
}

function stepReducer(stepNumber, state) {
    switch (stepNumber) {
        case 0:
            setUserName(state);
            // console.log(state, stepNumber);
            break;
        default:
            console.log('default', stepNumber);
    }
}

function init() {
    if ($(clsConst.currentPageCls).length) {
        var wizardCfg = {
            stepReducer: stepReducer,
            onSubmitHandler: onSubmitHandler
        };
        wizardForm.init(wizardCfg);
        initHandlers();
        autocommentsStatus.init();
        // initTagsInput('.blacklist-box input');

        window.PubSub.subscribe(_consts.CONST.events.instagramAccouns.INSTAGRAM_ACCOUNS_RENDERED_LAZY, function (e, accounts) {
            logs.init(selectCls, clsConst);
        });
        // window.PubSub.subscribe(CONST.events.autoarnswer.IMAGE_UPLOADED, (e, res) => {
        //     const {response} = res;
        //     const result = (response.length) ? JSON.parse(response) : '';
        //     const imageId = result && result.data && result.data.image_id;
        //     $(res.el).closest('.file-upload').attr('attached-img-id', imageId);
        //     console.log('image_loaded', res);
        //
        //     // todo: make as callBack
        //     const $imageBox = $(res.el).closest('.col').find('.js_uploaded-img-from-posts');
        //     if ($imageBox.length) {
        //         $imageBox.remove();
        //     }
        // });
        // window.PubSub.subscribe(CONST.events.modal.IMAGE_POST_SELECTED, (e, data) => {
        //     const $imageBox = $(data.closestCol).find('.file-upload-content');
        //     console.log('$imageBox', $imageBox);
        //     if ($imageBox.length) {
        //         $imageBox.hide();
        //     }
        // });
        initEmojii();
    }
}

/***/ }),
/* 26 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.init = init;

var _consts = __webpack_require__(0);

var _taskStatus = __webpack_require__(5);

function init() {
    if ($('.autocomments-page').length) {
        var path = {
            type: _consts.CONST.url.tmTypes.autocommentsT,
            subtype: _consts.CONST.url.tmTypes.autocommentsSubT[0]
        };
        var wrappers = {
            $runs: $('.tasks-runs'),
            $stopped: $('.tasks-stopped'),
            $all: $('.tasks-all')
        };

        // task-status has one subtype, so do not add dropdown
        // render status dropdown
        // const textRusArray = ['По DEFAULT_AUTO_ANSWER'];
        // dropDown.addDropdown(logsStateStatus.wrapperSubtype, CONST.url.tmTypes.storiesSubT, {logsState: logsStateStatus, dropdownOnSelectCb, textRusArray});

        (0, _taskStatus.getTasksData)(wrappers, path);
        // window.PubSub.subscribe(CONST.events.instagramAccouns.INSTAGRAM_ACCOUNS_RENDERED, (eventName, data) => {
        //     getTasksData(wrappers, path);
        //     console.log('**answer-status', eventName, data);
        // });
        window.PubSub.subscribe(_consts.CONST.events.tasks.NEW_TASK_CREATED, function (eventName, data) {
            (0, _taskStatus.getTasksData)(wrappers, path);
        });
    }
}

/***/ }),
/* 27 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
var tplTextFieldGreet = exports.tplTextFieldGreet = function tplTextFieldGreet(mainCls) {
    return $("<div class=\"" + mainCls + "\">\n        <div class=\"row\">\n            <div class=\"col\">\n                <div>                \n                    <textarea class=\"form-control answer-words\" rows=\"4\" \n                        data-emoji-picker=\"true\" placeholder=\"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u043E\u043E\u0431\u0449\u0435\u043D\u0438\u0435\"></textarea>    \n                </div>\n\n                <!-- file-upload -->\n                <div class=\"file-upload-btn-box\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u0438\u0437\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u0435\">\n                    <button class=\"file-upload-btn btn btn-success\" type=\"button\">\n                        <i class=\"far fa-image fa-lg\"></i>\n                    </button>\n                </div>\n\n                <button type=\"button\" class=\"btn btn-success post-upload-btn js_automessages-add-post\"\n                    title=\"\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u043F\u0443\u0431\u043B\u0438\u043A\u0430\u0446\u0438\u044E\"\n                    data-toggle=\"tooltip\"\n                    data-placement=\"top\"\n                    data-post-info=\"todo: get req to user: \">\n                    <span class=\"js_open-posts-gridModal\"\n                        data-container=\"body\" data-toggle=\"popover\" data-placement=\"bottom\" data-content=\"\u0423 \u0442\u0435\u043A\u0443\u0449\u0435\u0433\u043E \u0430\u043A\u043A\u0430\u0443\u043D\u0442\u0430 \u043D\u0435\u0442 \u043D\u0438 \u043E\u0434\u043D\u043E\u0433\u043E \u043F\u043E\u0441\u0442\u0430\">\n                    <i class=\"far fa-images fa-lg\"></i>\n                    </span>\n                </button>\n                \n                <div class=\"mt-2\">\n                    <div class=\"file-upload\">\n                    \n                      <div class=\"image-upload-wrap\">\n                        <input class=\"file-upload-input\" type=\"file\" accept=\".jpg, .jpeg\">\n                      </div>\n                      <div class=\"file-upload-content\">\n                        <img class=\"file-upload-image\" src=\"#\" alt=\"your image\">\n                        <div class=\"image-title-wrap\">\n                          <button type=\"button\" class=\"remove-image btn btn-warning\">\u0423\u0434\u0430\u043B\u0438\u0442\u044C <span class=\"image-title\">\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044C</span></button>\n                        </div>\n                      </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>");
};

/***/ }),
/* 28 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.init = init;

var _consts = __webpack_require__(0);

var _wizardForm = __webpack_require__(6);

var wizardForm = _interopRequireWildcard(_wizardForm);

var _apiTaskManager = __webpack_require__(2);

var _apiTaskManager2 = _interopRequireDefault(_apiTaskManager);

var _tabs = __webpack_require__(9);

var tabs = _interopRequireWildcard(_tabs);

var _autogreetingStatus = __webpack_require__(29);

var chatBotStatus = _interopRequireWildcard(_autogreetingStatus);

var _logs = __webpack_require__(8);

var logs = _interopRequireWildcard(_logs);

var _emoji = __webpack_require__(15);

var _imageUpload = __webpack_require__(7);

var imageUpload = _interopRequireWildcard(_imageUpload);

var _utilsModal = __webpack_require__(12);

var _addGreetTemplate = __webpack_require__(27);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

var usernameSelected = '';
var selectCls = 'js_logs-accounts';
var speedType = '.js_autogreeting-speed';
var clsConst = {
    currentPageCls: '.autogreeting-page',
    tasksList: '.log-tasks',
    logsTabBtn: '#v-pills-logs-tab',
    pagination: '.logs-pagination',
    paginationPgNumber: '.page-number',
    pathType: _consts.CONST.url.tmTypes.autogreetT,
    pathSubType: _consts.CONST.url.tmTypes.autogreetSubT[0]
};
var elSelector = {
    fields: '.autogreeting-text-fields',
    fileUploadBox: '.file-upload'
};
var state = {
    user_default_config: {
        task_mode: 'SAFE'
    }
};

function onSubmitHandler(e) {
    var fields = $(elSelector.fields);
    var reqBody = [];
    var getAttachment = function getAttachment(item) {
        var imageId = $(item).find(elSelector.fileUploadBox).attr('attached-img-id');
        var $imagePostBox = $(item).find('.js_uploaded-img-from-posts');
        var postItemId = $imagePostBox.data('postId');
        var postItemType = $imagePostBox.data('postType');
        var post = {
            id: postItemId,
            type: postItemType || 'type-error'
        };
        var attachment = null;

        if (postItemId) {
            attachment = { post: post };
        } else if (imageId) {
            attachment = { 'image_id': imageId };
        }
        return attachment;
    };
    fields.each(function (idx, item) {
        var message = $(item).find('textarea.answer-words').val();
        // const imageId = $(item).find(elSelector.fileUploadBox).attr('attached-img-id');
        // const $imagePostBox = $(item).find('.js_uploaded-img-from-posts');
        // const postItemId = $imagePostBox.data('postId');
        // const postItemType = $imagePostBox.data('postType');
        // const post = {
        //     id: postItemId,
        //     type: postItemType || 'type-error'
        // };

        // if (postItemId) {
        //     attachment = {post};
        // } else if (imageId) {
        //     attachment = {'image_id': imageId};
        // }

        var attachmentImg = getAttachment(item);
        reqBody.push({
            'answer': message,
            'attachment': attachmentImg ? attachmentImg : undefined
        });
    });
    var nReqBody = {
        'username': usernameSelected || 'the_rostyslav',
        'type': _consts.CONST.url.tmTypes.autogreetT,
        'subtype': _consts.CONST.url.tmTypes.autogreetSubT[0],
        'user_default_config': {
            'task_mode': state.user_default_config.task_mode // todo
        },
        'user_custom_config': {
            'forms': reqBody
        }
    };
    console.log('make request **', nReqBody);
    function cbError(res) {
        var msg = res.status.message;
        $('.form-submit-finish--error').addClass('d-block').find('.alert').append('<p>' + msg + '</p>');
    }
    _apiTaskManager2.default.postStartTask(nReqBody, cbError).then(function (result) {
        console.log('postBot');
        if (result.status.state === 'ok') {
            console.log(JSON.stringify(result));
            $('.form-submit-finish').find('.alert p').remove();
            $('.form-submit-finish').addClass('d-block').find('.alert').append('<p>task_id: ' + result.data.task_id + '</p>');
        }
    });
}

// function fillListUsers($wrapper, data) {
//     $wrapper.empty().addClass('border-light-color');
//     $(`<div class="">Доступные аккаунты</div><select name="task-type" class="${selectCls}"></select>`).appendTo($wrapper);
//     data.forEach((name) => {
//         $(`<option class="list-group-item py-2" value="${name}">
//             ${name}
//         </option>`).appendTo($(`.${selectCls}`));
//     });
//     $(`.${selectCls}`).on('change', function () {
//         usernameSelected = $(`.${selectCls} option:selected`).val();
//         console.log(usernameSelected);
//         logs.init(selectCls, clsConst);
//     });
// }

var logsState = _consts.CONST.logsState;
function initLogsTab() {
    function OnChangeSelect() {
        var selectCls = logsState.selectCls;

        $('.' + selectCls).on('change', function () {
            usernameSelected = $('.' + selectCls + ' option:selected').val();
            // clsConst.pathSubType = logsState.activeSubType;
            logs.init(selectCls, clsConst);
        });
    }
    // addDropdown($(logsState.wrapperSubtype), logsSubtypes, {logsState, dropdownOnSelectCb});
    tabs.init(OnChangeSelect, logsState); // makes double request : OPTION and GET
}

function initEmojii() {
    (0, _emoji.emoji)({
        page: clsConst.currentPageCls,
        styles: { old: 'bottom: 30px;', new: 'top: -210px;' }
    });
}

function removeExtraTextFields() {
    $(elSelector.fields + ':not(:first-child)').remove();
}

/* TODO: refactor -> move initModalHandler to separate file */
var targetButton = {};

function loadMoreHandler(getPosts) {
    var _this = this;

    $('#load-more').on('click', function (e) {
        var $btn = $(e.target);
        var cursor = $btn.attr('cursor');
        console.log('load more click');
        getPosts(null, { userName: usernameSelected, cursor: cursor }, { loadMoreHandler: _this, targetButton: targetButton });
    });
}

function initModalHandler() {
    $('.js_open-posts-gridModal').on('click', function (event) {
        targetButton = $(this); // Button that triggered the modal
        // Update the modal's content
        var modal = $('#postsGridModal');
        (0, _utilsModal.getPosts)(modal, { userName: usernameSelected }, { loadMoreHandler: loadMoreHandler, targetButton: targetButton });
        modal.find('.modal-title').text('Публикации');
    });
}

/* TODO: refactor -> move initModalHandler to separate file END*/

/**
 * Init header
 */
function initHandlers() {
    // TODO: refactor with autogreet.js initHandlers
    $('.js_add-automessages').on('click', function (e) {
        var lastTextField = $(elSelector.fields).last();
        (0, _addGreetTemplate.tplTextFieldGreet)(elSelector.fields.substr(1)).insertAfter(lastTextField);
        initEmojii();
        imageUpload.init();
        $('[data-toggle="tooltip"]').tooltip(); // reinit
        initModalHandler();
    });

    // alert close
    $('.form-submit-finish .close').on('click', function () {
        console.log('alert close');
        $('#v-pills-all-tab').trigger('click');
        window.PubSub.publish(_consts.CONST.events.tasks.NEW_TASK_CREATED);
        removeExtraTextFields();
    });

    // alert close
    $('.form-submit-finish--error .close').on('click', function () {
        console.log('alert close');
        $('#v-pills-all-tab').trigger('click');
        window.PubSub.publish(_consts.CONST.events.tasks.NEW_TASK_CREATED);
        removeExtraTextFields();
    });

    // tabs.init(fillListUsers);
    initLogsTab();
}

function setUserName(state) {
    // console.log('getTasksData', state.username);
    usernameSelected = state.username;
}

function getDataStepSpeed() {

    // TODO: refactor get from - view.fillRadioGroupList
    var fillSpeedList = function fillSpeedList($wrapper, data) {
        var taskModes = data.cfg && data.cfg.task_modes;
        var radioBtnReducer = function radioBtnReducer(item, val) {
            switch (item) {
                case 'AGGRESSIVE':
                    return '<input type="radio" id="' + item + '" name="customRadio" value="' + item + '" class="custom-control-input">\n                    <label class="custom-control-label" for="' + item + '"><strong>\u0410\u0433\u0440\u0435\u0441\u0441\u0438\u0432\u043D\u044B\u0439:</strong> ' + val + ' \u0441\u043E\u043E\u0431\u0449\u0435\u043D\u0438\u0439 \u0432 \u0447\u0430\u0441</label>';
                case 'MIDDLE':
                    return '<input type="radio" id="' + item + '" name="customRadio" value="' + item + '" class="custom-control-input">\n                    <label class="custom-control-label" for="' + item + '"><strong>\u0421\u0440\u0435\u0434\u043D\u0438\u0439:</strong> ' + val + ' \u0441\u043E\u043E\u0431\u0449\u0435\u043D\u0438\u0439 \u0432 \u0447\u0430\u0441</label>';
                case 'SAFE':
                    return '<input type="radio" id="' + item + '" name="customRadio" value="' + item + '" class="custom-control-input" checked>\n                    <label class="custom-control-label" for="' + item + '"><strong>\u0411\u0435\u0437\u043E\u043F\u0430\u0441\u043D\u044B\u0439:</strong> ' + val + ' \u0441\u043E\u043E\u0431\u0449\u0435\u043D\u0438\u0439 \u0432 \u0447\u0430\u0441</label>';
                default:
                    break;
            }
        };
        // console.log('draw speed radioBtn');
        $wrapper.empty();
        for (var item in taskModes) {
            // console.log('structure: ' + item);
            if (Object.prototype.hasOwnProperty.call(taskModes, item)) {
                $('<div class="custom-control custom-radio">\n                ' + radioBtnReducer(item, taskModes[item]) + '\n            </div>').appendTo($wrapper);
            }
        }
    };
    var path = {
        type: clsConst.pathType,
        subtype: clsConst.pathSubType
    };
    // draw criteria
    _apiTaskManager2.default.getDefaultConfigs(path).then(function (result) {
        // console.log('getDefaultConfigs');
        if (result.status.state === 'ok') {
            fillSpeedList($(speedType), result.data.found);
            // speed radio-btn group
            $(speedType + ' input[type=radio]').on('click', function (e) {
                var value = $(e.target).attr('value');
                state.user_default_config.task_mode = value.toUpperCase();
                console.log(state);
            });
        }
    });
}

function stepReducer(stepNumber, state) {
    switch (stepNumber) {
        case 0:
            setUserName(state);
            getDataStepSpeed();
            console.log(state, stepNumber);
            break;
        case 1:
            // console.log(state, stepNumber);
            break;
        default:
            console.log('default', stepNumber);
    }
}

function init() {
    if ($(clsConst.currentPageCls).length) {
        var wizardCfg = {
            stepReducer: stepReducer,
            onSubmitHandler: onSubmitHandler
        };
        wizardForm.init(wizardCfg);
        initHandlers();
        chatBotStatus.init(clsConst);
        window.PubSub.subscribe(_consts.CONST.events.instagramAccouns.INSTAGRAM_ACCOUNS_RENDERED_LAZY, function (e, accounts) {
            // console.log(accounts);
            logs.init(selectCls, clsConst);
        });

        initModalHandler();
        initEmojii();
        // imageUpload.init();
        window.PubSub.subscribe(_consts.CONST.events.autoarnswer.IMAGE_UPLOADED, function (e, res) {
            var response = res.response;

            var result = response.length ? JSON.parse(response) : '';
            var imageId = result && result.data && result.data.image_id;
            $(res.el).closest('.file-upload').attr('attached-img-id', imageId);
            console.log('image_loaded', res);

            // todo: make as callBack
            var $imageBox = $(res.el).closest('.col').find('.js_uploaded-img-from-posts');
            if ($imageBox.length) {
                $imageBox.remove();
            }
        });
        window.PubSub.subscribe(_consts.CONST.events.modal.IMAGE_POST_SELECTED, function (e, data) {
            var $imageBox = $(data.closestCol).find('.file-upload-content');
            console.log('$imageBox', $imageBox);
            if ($imageBox.length) {
                $imageBox.hide();
            }
        });
    }
}

/***/ }),
/* 29 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.init = init;

var _consts = __webpack_require__(0);

var _taskStatus = __webpack_require__(5);

function init(cfg) {
    if ($(cfg.currentPageCls).length) {
        var pathType = cfg.pathType,
            pathSubType = cfg.pathSubType;

        var path = {
            type: pathType,
            subtype: pathSubType };
        var wrappers = {
            $runs: $('.tasks-runs'),
            $all: $('.tasks-all')
        };
        (0, _taskStatus.getTasksData)(wrappers, path);
        window.PubSub.subscribe(_consts.CONST.events.tasks.NEW_TASK_CREATED, function (eventName, data) {
            console.log('getTasksData **NEW_TASK_CREATED**', eventName, data);
            (0, _taskStatus.getTasksData)(wrappers, path);
        });
    }
}

/***/ }),
/* 30 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
var tplTextField = exports.tplTextField = function tplTextField(mainCls) {
    return $("<div class=\"" + mainCls + " mt-2\">\n    <div class=\"row\">\n        <div class=\"col\">\n            <div class=\"js_tagsinput-box\">\n                <input type=\"text\" placeholder=\"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043A\u043B\u044E\u0447\u0435\u0432\u044B\u0435 \u0441\u043B\u043E\u0432\u0430\" value=\"\" data-role=\"tagsinput\" class=\"form-control answer-words mb-2\" />\n            </div>\n            <div class=\"js_tagsinput-box blacklist-box my-2\">\n                <input type=\"text\" placeholder=\"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043C\u0438\u043D\u0443\u0441 \u0441\u043B\u043E\u0432\u0430\" value=\"\" data-role=\"tagsinput\" class=\"form-control blacklist-words\" />\n            </div>\n        </div>\n        <div class=\"col\">\n            <textarea class=\"form-control answer-messages\" rows=\"4\"\n                data-emoji-picker=\"true\" style=\"padding: 0.25rem 1.75rem 0.25rem 0.25rem; width: 100%;min-height: 42px;\"\n                placeholder=\"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u043E\u043E\u0431\u0449\u0435\u043D\u0438\u0435\"\n            ></textarea>\n            <!-- file-upload -->\n            <div class=\"file-upload-btn-box\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u0438\u0437\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u0435\">\n                <button class=\"file-upload-btn btn btn-success\" type=\"button\">\n                    <i class=\"far fa-image fa-lg\"></i>\n                </button>\n            </div>\n            <!-- Button trigger modal -->\n            <button type=\"button\" class=\"btn btn-success post-upload-btn js_automessages-add-post\"\n                title=\"\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u043F\u0443\u0431\u043B\u0438\u043A\u0430\u0446\u0438\u044E\"\n                data-toggle=\"tooltip\"\n                data-placement=\"top\"\n                data-post-info=\"todo: get req to user: \">\n                <span class=\"js_open-posts-gridModal\"\n                    data-container=\"body\" data-toggle=\"popover\" data-placement=\"bottom\" data-content=\"\u0423 \u0442\u0435\u043A\u0443\u0449\u0435\u0433\u043E \u0430\u043A\u043A\u0430\u0443\u043D\u0442\u0430 \u043D\u0435\u0442 \u043D\u0438 \u043E\u0434\u043D\u043E\u0433\u043E \u043F\u043E\u0441\u0442\u0430\">\n                <i class=\"far fa-images fa-lg\"></i>\n                </span>\n            </button>\n\n            <div class=\"mt-2\">\n                <div class=\"file-upload\">\n                    <div class=\"image-upload-wrap\">\n                        <input class=\"file-upload-input\" type='file' accept=\".jpg, .jpeg\" />\n                    </div>\n                    <div class=\"file-upload-content\">\n                        <img class=\"file-upload-image\" src=\"#\" alt=\"your image\" />\n                        <div class=\"image-title-wrap\">\n                        <button type=\"button\" class=\"remove-image btn btn-warning\">\u0423\u0434\u0430\u043B\u0438\u0442\u044C <span class=\"image-title\">\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044C</span></button>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>");
};

/***/ }),
/* 31 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

exports.init = init;

var _consts = __webpack_require__(0);

var _wizardForm = __webpack_require__(6);

var wizardForm = _interopRequireWildcard(_wizardForm);

var _view = __webpack_require__(1);

var _view2 = _interopRequireDefault(_view);

var _apiTaskManager = __webpack_require__(2);

var _apiTaskManager2 = _interopRequireDefault(_apiTaskManager);

var _tabs = __webpack_require__(9);

var tabs = _interopRequireWildcard(_tabs);

var _automessagesStatus = __webpack_require__(32);

var automessagesStatus = _interopRequireWildcard(_automessagesStatus);

var _logs = __webpack_require__(8);

var logs = _interopRequireWildcard(_logs);

var _imageUpload = __webpack_require__(7);

var imageUpload = _interopRequireWildcard(_imageUpload);

var _emoji = __webpack_require__(15);

var _utilsModal = __webpack_require__(12);

var _addAnswerTemplate = __webpack_require__(30);

var _tagsInput = __webpack_require__(10);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

var getValByCommaSeparator = _view2.default.getValByCommaSeparator;

var usernameSelected = '';
var selectCls = 'js_logs-accounts';
var clsConst = {
    currentPageCls: '.automessages-page',
    tasksList: '.log-tasks',
    logsTabBtn: '#v-pills-logs-tab',
    pagination: '.logs-pagination',
    paginationPgNumber: '.page-number',
    pathType: _consts.CONST.url.tmTypes.automessagesT,
    pathSubType: _consts.CONST.url.tmTypes.automessagesSubT[0]
};
var elSelector = {
    fields: '.automessages-text-fields',
    keyWord: 'input.answer-words',
    answer: 'textarea.answer-messages',
    fileUploadBox: '.file-upload',
    addPostBtns: '.js_automessages-add-post'
};
var logsState = {
    selectCls: 'js_logs-accounts',
    selectClsLogsTaskType: 'js_logs-subtypes',
    wrapperSubtype: '.log-subype'
};

function initEmojii() {
    (0, _emoji.emoji)({
        page: clsConst.currentPageCls,
        styles: { old: 'bottom: 30px;', new: 'top: -210px;' }
    });
}

function validateIsEmpty($elements, e) {
    $elements.each(function () {
        if ($(this).val() === '') {
            e.preventDefault();
            $(this).addClass('input-error');
            // validation = false;
            return;
        } else {
            $(this).removeClass('input-error');
        }
    });
}

function onSubmitHandler(e) {
    var fields = $(elSelector.fields);
    var reqBody = [];
    var validation = true;
    var $elementsKeyWord = fields.find(elSelector.keyWord);
    var $elementsAnswer = fields.find(elSelector.answer);

    validateIsEmpty($elementsKeyWord, e);
    validateIsEmpty($elementsAnswer, e);

    fields.each(function (idx, item) {
        var keyWord = getValByCommaSeparator($(item).find(elSelector.keyWord));
        var answer = $(item).find(elSelector.answer).val();
        var imageId = $(item).find(elSelector.fileUploadBox).attr('attached-img-id');
        var $imagePostBox = $(item).find('.js_uploaded-img-from-posts');
        var postItemId = $imagePostBox.data('postId');
        var postItemType = $imagePostBox.data('postType');
        var blacklistWords = $(item).find('input.blacklist-words');
        var blacklistWordsArr = getValByCommaSeparator(blacklistWords);

        if (!keyWord.length || !answer.length) {
            // console.log('keyWord is empty, not push me to request');
            $(item).append('\n                <p class="msg-empty-field text-danger">\u041F\u0443\u0441\u0442\u043E\u0435 \u043F\u043E\u043B\u0435 \u043D\u0435 \u0432\u0430\u043B\u0438\u0434\u043D\u043E</p>\n            ');
            setTimeout(function () {
                $('.msg-empty-field').addClass('d-none');
            }, 5000);
            validation = false;
            return;
        }
        var submitBodyItem = {
            'key_words': keyWord,
            answer: answer,
            blacklist: blacklistWordsArr,
            'attachment': imageId ? {
                'image_id': imageId
            } : undefined
        };

        if (postItemId) {
            submitBodyItem.attachment = _extends({}, submitBodyItem.attachment, {
                post: {
                    id: postItemId,
                    type: postItemType || 'type-error'
                }
            });
        }
        reqBody.push(submitBodyItem);
    });
    if (!validation) {
        // console.log('**alarm **', elSelector.keyWord);
        return;
    }

    var nReqBody = {
        'username': usernameSelected,
        'type': clsConst.pathType,
        'subtype': clsConst.pathSubType,
        'user_default_config': {},
        'user_custom_config': {
            'forms': reqBody
        }
    };

    // console.log('make request here**', nReqBody);
    function cbError(res) {
        var msg = res.status.message;
        $('.form-submit-finish--error').addClass('d-block').find('.alert').append('<p>' + msg + '</p>');
    }
    _apiTaskManager2.default.postStartTask(nReqBody, cbError).then(function (result) {
        if (result.status.state === 'ok') {
            $('.form-submit-finish').find('.alert p').remove();
            $('.form-submit-finish').addClass('d-block').find('.alert').append('<p>task_id: ' + result.data.task_id + '</p>');
        }
    });
}

function initLogsTab() {
    function OnChangeSelect() {
        var selectCls = logsState.selectCls;

        $('.' + selectCls).on('change', function () {
            usernameSelected = $('.' + selectCls + ' option:selected').val();
            // clsConst.pathSubType = logsState.activeSubType;
            logs.init(selectCls, clsConst);
        });
    }
    // addDropdown($(logsState.wrapperSubtype), logsSubtypes, {logsState, dropdownOnSelectCb});
    tabs.init(OnChangeSelect, logsState); // makes double request : OPTION and GET
}

function removeExtraTextFields(e) {
    $(elSelector.fields + ':not(:first-child)').removeClass('d-block');
    e.stopPropagation();
}

/* TODO: refactor -> move initModalHandler to separate file, remove initModalHandler in autogreeting-main.js */
var targetButton = {};

function loadMoreHandler(getPosts) {
    var _this = this;

    $('#load-more').off().on('click', function (e) {
        var $btn = $(e.target);
        var cursor = $btn.attr('cursor');
        console.log('load more click');
        getPosts(null, { userName: usernameSelected, cursor: cursor }, { loadMoreHandler: _this, targetButton: targetButton });
    });
}

function initModalHandler() {

    $('.js_open-posts-gridModal').on('click', function (event) {
        targetButton = $(this); // Button that triggered the modal
        // Update the modal's content
        var modal = $('#postsGridModal');
        (0, _utilsModal.getPosts)(modal, { userName: usernameSelected }, { loadMoreHandler: loadMoreHandler, targetButton: targetButton });
        modal.find('.modal-title').text('Публикации');
    });
}

/* TODO: refactor -> move initModalHandler to separate file END */

/**
 * Init Handlers
 */
function initHandlers() {
    var $competitorsInput = $('.automessages-text-fields input.answer-words[data-role="tagsinput"]');
    var $blackListInput = $('.automessages-text-fields input.blacklist-words[data-role="tagsinput"]');
    var nextStepBtn = $('form button[type="submit"]');
    (0, _tagsInput.nextBtnvalidateCompetitorsHandler)($competitorsInput, nextStepBtn, 'ignoreRegexCheck');
    (0, _tagsInput.nextBtnvalidateCompetitorsHandler)($blackListInput, null, 'ignoreRegexCheck');

    // TODO: refactor with autogreet.js initHandlers
    // $('[data-toggle="popover"]').popover(); // init
    $('.js_add-automessages').on('click', function (e) {
        var lastTextField = $(elSelector.fields).last();
        (0, _addAnswerTemplate.tplTextField)(elSelector.fields.substr(1)).insertAfter(lastTextField);
        initEmojii();
        imageUpload.init();
        // $('[data-toggle="popover"]').popover(); // reinit
        $('[data-toggle="tooltip"]').tooltip(); // reinit
        initModalHandler();

        // const $input = $('input[data-role="tagsinput"]', lastTextField);
        // initTagsInput();
        // nextBtnvalidateCompetitorsHandler($input, nextStepBtn);

        var lastTextFieldAfterInsert = $(elSelector.fields).last();
        var $inputAnswerWords = $('input.answer-words[data-role="tagsinput"]', lastTextFieldAfterInsert);
        var $blackListInput = $('input.blacklist-words[data-role="tagsinput"]', lastTextFieldAfterInsert);

        (0, _tagsInput.initTagsInput)($inputAnswerWords); // reinit answer-words
        (0, _tagsInput.initTagsInput)($blackListInput); // reinit blacklist-words
        (0, _tagsInput.nextBtnvalidateCompetitorsHandler)($inputAnswerWords, nextStepBtn, 'ignoreRegexCheck');
        (0, _tagsInput.nextBtnvalidateCompetitorsHandler)($blackListInput, null, 'ignoreRegexCheck');
    });

    // alert success close
    $('.form-submit-finish .close').on('click', function (e) {
        // console.log('alert close');
        $('#v-pills-all-tab').trigger('click');
        window.PubSub.publish(_consts.CONST.events.tasks.NEW_TASK_CREATED);
        // removeExtraTextFields(e);
    });

    // alert close
    $('.form-submit-finish--error .close').on('click', function () {
        // console.log('alert close');
        $('#v-pills-all-tab').trigger('click');
        window.PubSub.publish(_consts.CONST.events.tasks.NEW_TASK_CREATED);
        removeExtraTextFields();
    });

    // tabs.init(fillListUsers);
    initLogsTab();
}

function setUserName(state) {
    // console.log('getTasksData', state.username);
    usernameSelected = state.username;
}

function stepReducer(stepNumber, state) {
    switch (stepNumber) {
        case 0:
            setUserName(state);
            // console.log(state, stepNumber);
            break;
        default:
            console.log('default', stepNumber);
    }
}

function init() {
    if ($(clsConst.currentPageCls).length) {
        var wizardCfg = {
            stepReducer: stepReducer,
            onSubmitHandler: onSubmitHandler
        };
        wizardForm.init(wizardCfg);
        initHandlers();
        automessagesStatus.init();
        initModalHandler();
        initEmojii();
        imageUpload.init();
        // initTagsInput();

        window.PubSub.subscribe(_consts.CONST.events.instagramAccouns.INSTAGRAM_ACCOUNS_RENDERED_LAZY, function (e, accounts) {
            logs.init(selectCls, clsConst);
        });
        window.PubSub.subscribe(_consts.CONST.events.autoarnswer.IMAGE_UPLOADED, function (e, res) {
            var response = res.response;

            var result = response.length ? JSON.parse(response) : '';
            var imageId = result && result.data && result.data.image_id;
            $(res.el).closest('.file-upload').attr('attached-img-id', imageId);
            console.log('image_loaded', res);

            // todo: make as callBack
            var $imageBox = $(res.el).closest('.col').find('.js_uploaded-img-from-posts');
            if ($imageBox.length) {
                $imageBox.remove();
            }
        });
        window.PubSub.subscribe(_consts.CONST.events.modal.IMAGE_POST_SELECTED, function (e, data) {
            var $imageBox = $(data.closestCol).find('.file-upload-content');
            console.log('$imageBox', $imageBox);
            if ($imageBox.length) {
                $imageBox.hide();
            }
        });
    }
}

/***/ }),
/* 32 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.init = init;

var _consts = __webpack_require__(0);

var _taskStatus = __webpack_require__(5);

function init() {
    if ($('.automessages-page').length) {
        var path = {
            type: _consts.CONST.url.tmTypes.automessagesT,
            subtype: _consts.CONST.url.tmTypes.automessagesSubT[0]
        };
        var wrappers = {
            $runs: $('.tasks-runs'),
            $stopped: $('.tasks-stopped'),
            $all: $('.tasks-all')
        };

        // task-status has one subtype, so do not add dropdown
        // render status dropdown
        // const textRusArray = ['По DEFAULT_AUTO_ANSWER'];
        // dropDown.addDropdown(logsStateStatus.wrapperSubtype, CONST.url.tmTypes.storiesSubT, {logsState: logsStateStatus, dropdownOnSelectCb, textRusArray});

        (0, _taskStatus.getTasksData)(wrappers, path);
        // window.PubSub.subscribe(CONST.events.instagramAccouns.INSTAGRAM_ACCOUNS_RENDERED, (eventName, data) => {
        //     getTasksData(wrappers, path);
        //     console.log('**answer-status', eventName, data);
        // });
        window.PubSub.subscribe(_consts.CONST.events.tasks.NEW_TASK_CREATED, function (eventName, data) {
            (0, _taskStatus.getTasksData)(wrappers, path);
        });
    }
}

/***/ }),
/* 33 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.init = init;

var _consts = __webpack_require__(0);

var _wizardForm = __webpack_require__(6);

var wizardForm = _interopRequireWildcard(_wizardForm);

var _apiTaskManager = __webpack_require__(2);

var _apiTaskManager2 = _interopRequireDefault(_apiTaskManager);

var _tabs = __webpack_require__(9);

var tabs = _interopRequireWildcard(_tabs);

var _chatBotStatus = __webpack_require__(34);

var chatBotStatus = _interopRequireWildcard(_chatBotStatus);

var _logs = __webpack_require__(8);

var chatBotLogs = _interopRequireWildcard(_logs);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

var usernameSelected = '';
// import User from '../../common/js-services/user';

var selectCls = 'js_logs-accounts';
var clsConst = {
    currentPageCls: '.bot-page',
    tasksList: '.log-tasks',
    logsTabBtn: '#v-pills-logs-tab',
    pagination: '.logs-pagination',
    paginationPgNumber: '.page-number',
    pathType: _consts.CONST.url.tmTypes.chatBotT,
    pathSubType: _consts.CONST.url.tmTypes.chatBotSubT[0]
};

function onSubmitHandler(e) {
    var fields = $('.bot-text-fields');
    var keyWords = function keyWords($el) {
        return $el.val().trim().replace(/ /g, '').split(',').filter(function (i) {
            return i.length > 0;
        });
    };
    var reqBody = [];
    fields.each(function (idx, item) {
        var keyWord = keyWords($(item).find('textarea.answer-words'));
        var answer = $(item).find('textarea.answer-messages').val();
        reqBody.push({ 'key_words': keyWord, answer: answer });
    });
    var nReqBody = {
        'username': usernameSelected,
        'type': clsConst.pathType,
        'subtype': clsConst.pathSubType,
        'user_default_config': {},
        'user_custom_config': {
            'forms': reqBody
        }
    };

    // console.log('make request here**', nReqBody);
    function cbError(res) {
        var msg = res.status.message;
        $('.form-submit-finish--error').addClass('d-block').find('.alert').append('<p>' + msg + '</p>');
    }
    _apiTaskManager2.default.postStartTask(nReqBody, cbError).then(function (result) {
        // console.log('postBot');
        if (result.status.state === 'ok') {
            // console.log(JSON.stringify(result));
            $('.form-submit-finish').find('.alert p').remove();
            $('.form-submit-finish').addClass('d-block').find('.alert').append('<p>task_id: ' + result.data.task_id + '</p>');
        }
    });
}

function fillListUsers($wrapper, accounts) {
    $wrapper.empty().addClass('border-light-color');
    $('<div class="">\u0414\u043E\u0441\u0442\u0443\u043F\u043D\u044B\u0435 \u0430\u043A\u043A\u0430\u0443\u043D\u0442\u044B</div><select name="task-type" class="' + selectCls + '"></select>').appendTo($wrapper);
    accounts.forEach(function (name) {
        $('<option class="list-group-item py-2" value="' + name + '">\n            ' + name + '\n        </option>').appendTo($('.' + selectCls));
    });
    $('.' + selectCls).on('change', function () {
        usernameSelected = $('.' + selectCls + ' option:selected').val();
        // console.log(usernameSelected);
        chatBotLogs.init(selectCls, clsConst);
    });
}

// function getMetaLazy($wrapper, cbFillListUsers) {
//     User.getMetadataLazy().then((res) => {
//         if (res.status.state === 'ok' && res.data && res.data.accounts) {
//             cbFillListUsers($wrapper, res.data.accounts);
//             chatBotLogs.init(selectCls, clsConst);
//         }
//     });
// }

/**
 * Init header
 */
function initHandlers() {
    var tplTextField = function tplTextField() {
        return $('<div class="bot-text-fields mt-2">\n        <div class="row">\n            <div class="col">\n                <textarea class="form-control answer-words" rows="4" placeholder="\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043A\u043B\u044E\u0447\u0435\u0432\u044B\u0435 \u0441\u043B\u043E\u0432\u0430 \u0438\u043B\u0438 \u0444\u0440\u0430\u0437\u044B \u0447\u0435\u0440\u0435\u0437 \u0437\u0430\u043F\u044F\u0442\u0443\u044E, \u043F\u0440\u0438 \u043A\u043E\u0442\u043E\u0440\u044B\u0445 \u0431\u0443\u0434\u0435\u0442 \u0441\u0440\u0430\u0431\u0430\u0442\u044B\u0432\u0430\u0442\u044C \u0447\u0430\u0442-\u0431\u043E\u0442"></textarea>\n            </div>\n            <div class="col">\n                <textarea class="form-control answer-messages" rows="4" placeholder="\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u043E\u043E\u0431\u0449\u0435\u043D\u0438\u0435, \u043A\u043E\u0442\u043E\u0440\u043E\u0435 \u0431\u0443\u0434\u0435\u0442 \u043E\u0442\u043F\u0440\u0430\u0432\u043B\u044F\u0442\u044C\u0441\u044F, \u0435\u0441\u043B\u0438 \u043F\u0440\u0438\u0441\u0443\u0442\u0441\u0442\u0432\u043E\u0432\u0430\u043B\u0438 \u043A\u043B\u044E\u0447.\u0441\u043B\u043E\u0432\u0430 \u0438\u043B\u0438 \u0444\u0440\u0430\u0437\u044B \u0438\u0437 \u0441\u0442\u043E\u043B\u0431\u0446\u0430 \u0441\u043B\u0435\u0432\u0430"></textarea>\n            </div>\n        </div>\n    </div>');
    };

    $('.js_add-bot').on('click', function (e) {
        var lastTextField = $('.bot-text-fields').last();
        tplTextField().insertAfter(lastTextField);
    });

    // alert close
    $('.form-submit-finish .close').on('click', function () {
        // console.log('alert close');
        $('#v-pills-all-tab').trigger('click');
        window.PubSub.publish(_consts.CONST.events.tasks.NEW_TASK_CREATED);
    });

    // alert close
    $('.form-submit-finish--error .close').on('click', function () {
        // console.log('alert close');
        $('#v-pills-all-tab').trigger('click');
        window.PubSub.publish(_consts.CONST.events.tasks.NEW_TASK_CREATED);
    });

    /*
    $('#v-pills-logs-tab').on('click', (e) => {
        // at this point of time setInterval is working
        const $wrapper = $('.log-users-list');
        getMetaLazy($wrapper, fillListUsers);
        // chatBotLogs.init(selectCls, clsConst);
    });
    */
    tabs.init(fillListUsers);
}

function setUserName(state) {
    // console.log('getTasksData', state.username);
    usernameSelected = state.username;
}

function stepReducer(stepNumber, state) {
    switch (stepNumber) {
        case 0:
            setUserName(state);
            // console.log(state, stepNumber);
            break;
        default:
            console.log('default', stepNumber);
    }
}

function init() {
    if ($('.bot-page').length) {
        var wizardCfg = {
            stepReducer: stepReducer,
            onSubmitHandler: onSubmitHandler
        };
        wizardForm.init(wizardCfg);
        initHandlers();
        chatBotStatus.init();
        window.PubSub.subscribe(_consts.CONST.events.instagramAccouns.INSTAGRAM_ACCOUNS_RENDERED_LAZY, function (e, accounts) {
            // console.log(accounts);
            chatBotLogs.init(selectCls, clsConst);
        });
    }
}

/***/ }),
/* 34 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.init = init;

var _consts = __webpack_require__(0);

var _taskStatus = __webpack_require__(5);

function init() {
    if ($('.bot-page').length) {
        var path = {
            type: _consts.CONST.url.tmTypes.chatBotT,
            subtype: _consts.CONST.url.tmTypes.chatBotSubT[0]
        };
        var wrappers = {
            $runs: $('.tasks-runs'),
            $stopped: $('.tasks-stopped')
        };
        (0, _taskStatus.getTasksData)(wrappers, path);
        // window.PubSub.subscribe(CONST.events.instagramAccouns.INSTAGRAM_ACCOUNS_RENDERED, (eventName, data) => {
        //     getTasksData(wrappers, path);
        //     console.log('**answer-status', eventName, data);
        // });
        window.PubSub.subscribe(_consts.CONST.events.tasks.NEW_TASK_CREATED, function (eventName, data) {
            (0, _taskStatus.getTasksData)(wrappers, path);
        });
    }
}

/***/ }),
/* 35 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.confirmationWithRedirect = confirmationWithRedirect;

var _user = __webpack_require__(3);

var _user2 = _interopRequireDefault(_user);

var _consts = __webpack_require__(0);

var _cookie = __webpack_require__(4);

var _cookie2 = _interopRequireDefault(_cookie);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var parseQueryString = function parseQueryString() {

    var str = window.location.search;
    var objURL = {};

    str.replace(new RegExp('([^?=&]+)(=([^&]*))?', 'g'), function ($0, $1, $2) {
        objURL[$1] = $2;
    });
    return objURL;
}; /* eslint-disable sort-vars */
// import $ from 'jquery';
function confirmationWithRedirect() {
    var user = _user2.default;
    var params = parseQueryString();
    // Example how to use it:

    var sendConfirm = function sendConfirm(token) {
        user.confirm(token).then(function (result) {
            if (result.status && result.status.state === 'ok') {

                // save the item
                _cookie2.default.set(_consts.CONST.cookieStorage.emailConfirmed, 'confirmed');
                _cookie2.default.set(_consts.CONST.cookieStorage.token, result.data.token);

                // window.location = confirm-registration.html?token='from server';

                // retrieve the object in a string form
                var customersDataString = sessionStorage.getItem('customersData');
                console.log(customersDataString);
                console.log('request succeeded with JSON response', result);
                $('.confirm-registration').append('<p>confirmation status: ' + result.status.state + '</p>');
                setTimeout(function () {
                    window.location = './profile.html';
                }, 1000);
            } else if (result.status) {
                console.log(result);
            } else {
                console.log(result);
            }
        });
    };

    var redirect = function redirect() {
        // eslint-disable-next-line dot-notation
        var token = params['token'];

        if (!location.pathname.indexOf('confirm-registration')) {
            return;
        }
        if (token) {
            console.log('send req to ', token);
            sendConfirm(token);
        }
    };

    function init() {
        redirect();
    }

    return {
        init: init
    };
}

/***/ }),
/* 36 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; // import * as followStatus from './follow-status';


exports.modifyAccList = modifyAccList;
exports.init = init;

var _taskStatusBySubtype = __webpack_require__(19);

var followStatusBySubtype = _interopRequireWildcard(_taskStatusBySubtype);

var _consts = __webpack_require__(0);

var _apiTaskManager = __webpack_require__(2);

var _apiTaskManager2 = _interopRequireDefault(_apiTaskManager);

var _view = __webpack_require__(1);

var _view2 = _interopRequireDefault(_view);

var _followReadFileTxt = __webpack_require__(14);

__webpack_require__(52);

var _logsTabs = __webpack_require__(13);

var _tagsInput = __webpack_require__(10);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

var state = {
    username: '',
    subtype: _consts.CONST.url.tmTypes.followingSubT[0], // default value
    user_default_config: {
        task_mode: 'SAFE'
    }
};

function fillListMeta($list, dataArray) {
    var items = dataArray;
    // const defaultAvatarSrc = CONST.user.defaulAvatar;
    $list.empty().addClass('border-light-color');
    $('<li class="list-group-item py-2"><h3>UserTaskManager</h3></li>').appendTo($list);
    items.forEach(function (item) {
        // const info = item.info;
        // const checkpoint = item.checkpoint || item;
        $('<li class="list-group-item py-2" data-username="' + item.type + '">\n                <div class="media-body d-flex">\n                    <div class="col task-type">\n                        ' + (item.task_id ? '<p class="mt-0 mb-1 name">' + item.task_id + '</p>' : '') + '\n                    </div>\n                    <div class="col task-subtype">\n                        ' + (item.subtype ? '<p class="mt-0 mb-1 name">' + item.subtype + '</p>' : '') + '\n                    </div>\n                    <div class="col task-progress">\n                        ' + (item.status.state === 'STOPPED' ? '<p class="mt-0 mb-1 name">\u041E\u0441\u0442\u0430\u043D\u043E\u0432\u043B\u0435\u043D\u043E - ' + item.status.reason + '</p>' : '') + '\n                    </div>\n                    <!--<div class="col task-progress">\n                        ' + (item.progress ? '<p class="mt-0 mb-1 name">\u041A\u043E\u043B\u0438\u0447\u0435\u0441\u0442\u0432\u043E - ' + item.progress.count + '</p>\n                                <p class="mt-0 mb-1 name">\u041F\u0440\u043E\u0446\u0435\u043D\u0442 - ' + item.progress.percent + '</p>' : '') + '\n                    </div>-->\n                </div>\n            </li>').appendTo($list);
    });
}

/*
function fillListTypes($wrapper, data) {
    const structureObj = data['structure'];

    $wrapper.empty().addClass('border-light-color');
    $('<div class="">Тип задания</div><select name="task-type" id="task-types"></select>').appendTo($wrapper);
    for (const type in structureObj) {
        // console.log('structure: ' + item);
        if (Object.prototype.hasOwnProperty.call(structureObj, type)) {
            $(`<option class="list-group-item py-2" ${(type !== 'FOLLOWING') ? 'disabled="disabled"' : ''}
                value = "${JSON.stringify({type, subtype: structureObj[type]})}">
                ${type}
            </option>`).appendTo($('#task-types'));
        }
    }
}
*/

function getTasksData(path) {
    _apiTaskManager2.default.getMetadata(path).then(function (result) {
        if (result.status.state === 'ok') {
            fillListMeta($('.follow-tasks-list'), result.data.meta);
        }
    });
}

function getDataStep2() {
    var path = {
        type: _consts.CONST.url.tmTypes.followingT,
        subtype: state.subtype || _consts.CONST.url.tmTypes.followingSubT[0]
    };
    getTasksData(path);
}

function getDataStepSpeed(stepNumber) {
    var fillSpeedList = _view2.default.fillRadioGroupList;
    var path = {
        type: _consts.CONST.url.tmTypes.followingT,
        subtype: state.subtype || _consts.CONST.url.tmTypes.followingSubT[0]
    };
    function toggleAddTextBtn(subtype) {
        if (path.subtype === 'FOLLOWING_BY_LIST') {
            // show txt fileUpload
            $('.add-file').addClass('d-block');
            $('.add-competitors').addClass('d-none').removeClass('d-block');
            var nextStep = $('.js_add-new-task fieldset').get(stepNumber + 1);
            $(nextStep).find('.btn-next').attr('disabled', 'disabled');
            // console.log(nextStepProceedBtn);
        } else {
            // show competitors
            $('.add-competitors').addClass('d-block');
            $('.add-file').addClass('d-none').removeClass('d-block');
            var _nextStep = $('.js_add-new-task fieldset').get(stepNumber + 1);
            $(_nextStep).find('.btn-next').removeAttr('disabled');
        }
    }
    console.log('path.subtype', path.subtype);

    toggleAddTextBtn(path.subtype);

    // draw criteria
    _apiTaskManager2.default.getDefaultConfigs(path).then(function (result) {
        console.log('getDefaultConfigs');
        if (result.status.state === 'ok') {
            var task_modes = result.data.found.cfg.task_modes;


            fillSpeedList($('.js_follow-speed'), task_modes);
        }
    });
}
function setCompetitors() {
    var competitors = _view2.default.getValByCommaSeparator($('.follow-form').find('#followers'));

    state['user_custom_config'] = {
        competitors: competitors
    };
}

function stepReducer(stepNumber) {
    var $competitorsTextArea = $('.js_follow-competitors');
    var nextStepBtn = $competitorsTextArea.closest('.add-competitors').find('.btn-next');
    switch (stepNumber) {
        case 0:
            getDataStep2(state.username);
            // console.log(state);
            break;
        case 1:
            getDataStepSpeed(stepNumber);
            (0, _tagsInput.nextBtnvalidateCompetitorsHandler)($competitorsTextArea, nextStepBtn);
            break;
        case 2:
            setCompetitors();
            break;
        default:
            console.log('default', stepNumber);
    }
}

function cbError(res) {
    var msg = res.status.message;
    $('.form-submit-finish--error').addClass('d-block').find('.alert').append('<p>' + msg + '</p>');
}

/**
 * Init header
 */
function initSteps(formSelector) {
    var $form = $(formSelector);
    $('.js_profile-user-follow>.container').removeClass('container');

    (0, _followReadFileTxt.attachTxtFileHandler)('.file-upload-container');

    $form.find('fieldset:first-child').fadeIn('slow');

    $form.find('input[type="text"]').on('focus', function () {
        $(this).removeClass('input-error');
    });

    // next step
    $form.find('.btn-next').on('click', function () {
        var parent_fieldset = $(this).parents('fieldset');
        var next_step = true;
        var radioBtnActive = parent_fieldset.find('input[name="userAccountRadio"]:checked');

        if (radioBtnActive.length > 0) {
            state.username = radioBtnActive.parents('li').data('username');
        }
        stepReducer(parent_fieldset.index(), state);

        parent_fieldset.find('input[type="text"],input[type="email"]').each(function () {
            if ($(this).val() === '') {
                $(this).addClass('input-error');
                next_step = false;
            } else {
                $(this).removeClass('input-error');
            }
            if ($(this).parent().hasClass('bootstrap-tagsinput')) {
                next_step = true;
            }
        });

        if (next_step) {
            parent_fieldset.fadeOut(400, function () {
                $(this).next().fadeIn();
            });
        }
    });

    // previous step
    $form.find('.btn-previous').on('click', function () {
        // state.username = [...new Set(state.username)];
        $(this).parents('fieldset').fadeOut(400, function () {
            $(this).prev().fadeIn();
        });
    });

    // speed radio-btn group
    $('.js_follow-speed input[type=radio]').on('click', function () {
        var value = $(this).attr('value');
        state.user_default_config = {
            task_mode: value.toUpperCase()
        };
    });

    $('.js_get-follow-type input[type=radio]').on('click', function (e) {
        var value = $(e.target).attr('value');
        state.subtype = value.toUpperCase();
        // console.log(state);
    });

    // submit
    $form.on('submit', function (e) {

        state.user_default_config = _extends({}, state.user_default_config, {
            criteria: {}
        });
        var limit = document.forms['follow-form']['limit'];
        var have_posts = {
            from: document.forms['follow-form']['have_posts_from'].value,
            to: document.forms['follow-form']['have_posts_to'].value
        };
        var have_followers = {
            from: document.forms['follow-form']['have_followers_from'].value,
            to: document.forms['follow-form']['have_followers_to'].value
        };
        var have_followings = {
            from: document.forms['follow-form']['have_followings_from'].value,
            to: document.forms['follow-form']['have_followings_to'].value
        };

        if (limit.value === '') {
            limit.focus();
            return false;
        }
        state['user_default_config'].criteria = {
            limit: limit.value,
            'unfollow_then': !!$('#unfollow_then:checked').length,
            'follow_on_closed_profiles': !!$('#follow_on_closed_profiles:checked').length,
            have_posts: have_posts,
            have_followers: have_followers,
            have_followings: have_followings
        };

        $(this).find('input[type="text"],input[type="number"],input[type="email"]').each(function () {
            if ($(this).val() === '') {
                e.preventDefault();
                $(this).addClass('input-error');
            } else {
                $(this).removeClass('input-error');
            }
        });

        state.type = _consts.CONST.url.tmTypes.followingT; // 'FOLLOWING';
        // console.log('----+ state.subtype +----', state.subtype);
        if (state.subtype === 'FOLLOWING_BY_LIST') {
            // text file should be added
            state['user_custom_config'].attachment = {
                'list_id': $('.add-file .file-upload-container').attr('attached-txt-id')
            };
        }
        if (state.subtype === _consts.CONST.url.tmTypes.followingSubT[1]) {
            // const competitors = getValByCommaSeparator($(form).find(elSelector.competitors));
            // state.user_custom_config = {
            //     competitors: 'competitors'
            // };
        }
        console.log('make request**  post: StartFollowingList', state);

        _apiTaskManager2.default.postStartFollowingList(state, cbError).then(function (result) {
            if (result.status.state === 'ok') {
                console.log(JSON.stringify(result));
                $('.form-submit-finish').find('.alert p').remove();
                $('.form-submit-finish').addClass('d-block').find('.alert').append('<p>task_id: ' + result.data.task_id + '</p>');
            }
        });
    });

    // alert close
    $('.form-submit-finish .close').on('click', function () {
        // $(this).closest('form-submit-finish').removeClass('d-block');
        $('#v-pills-all-tab').trigger('click');
        window.PubSub.publish(_consts.CONST.events.tasks.NEW_TASK_CREATED);
    });

    // alert close
    $('.form-submit-finish--error .close').on('click', function () {
        // console.log('alert close');
        $('#v-pills-all-tab').trigger('click');
        window.PubSub.publish(_consts.CONST.events.tasks.NEW_TASK_CREATED);
    });

    // prev btn: clear-competitors
    $('.js_follow-clear-competitors').on('click', function () {
        var $competitorsTextArea = $('.js_follow-competitors');
        $competitorsTextArea.val('');
    });
}

// eslint-disable-next-line no-unused-vars
var usernameSelected = '';
var clsConst = {
    currentPageCls: '.follow',
    tasksList: '.log-tasks',
    logsTabBtn: '#v-pills-logs-tab',
    pagination: '.logs-pagination',
    paginationPgNumber: '.page-number',
    pathType: _consts.CONST.url.tmTypes.followingT,
    pathSubType: _consts.CONST.url.tmTypes.followingSubT[0]
};

function setUserNameCb(_usernameSelected) {
    usernameSelected = _usernameSelected;
}

/*
function fixStepIndicator(n) {
    // This function removes the "active" class of all steps...
    var i, x = document.getElementsByClassName("step");
    for (i = 0; i < x.length; i++) {
        x[i].className = x[i].className.replace(" active", "");
    }
    //... and adds the "active" class on the current step:
    x[n].className += " active";
}*/

// TODO : use from wizard
function modifyAccList() {
    // const radioBtn = (idx) => `<div class="col custom-control custom-radio js_user-radio">
    //         <input type="radio" name="userAccountRadio" id="customRadio-${idx}" class="custom-control-input" value="">
    //         <label class="custom-control-label" for="customRadio-${idx}">Подписаться</label>
    //     </div>`;
    var radioBtnAppend = function radioBtnAppend(idx) {
        return '<div class="">\n            <input type="radio" name="userAccountRadio" id="customRadio-' + idx + '" class="custom-control-input d-none" value="">\n        </div>';
    };
    var radioBtnWrap = function radioBtnWrap(idx) {
        return '<label class="accounts-list--label-wrapper col mb-0 media py-3" for="customRadio-' + idx + '"></label>';
    };
    var $accountsList = $('.accounts-list');
    var $li = $accountsList.find('li.media');
    $li.addClass('js_user-radio').removeClass('py-3 media');

    for (var i = 0; i < $li.length; i++) {
        // $($li[i]).append(radioBtn(i));
        $($li[i]).wrapInner(radioBtnWrap(i)).append(radioBtnAppend(i));
    }

    $('.js_user-radio').on('click', 'input[type=radio]', function (e) {
        var $parentFieldset = $(this).parents('fieldset');
        $('li.active', $parentFieldset).removeClass('active');
        $(this).closest('li').addClass('active');
        $('.btn-next', $parentFieldset).prop('disabled', false);
    });
}

/* working demo : http://brutusin.org/json-forms/#13
function formFromJson() {
    const schema = {
        "type": "object",
        "properties": {
            "prop1": {
                "type": "integer"
            },
            "prop2": {
                "type": "integer",
                "required": true
            },
            "prop3": {
                "type": "integer",
                "required": true
            },
            "composite1": {
                "type": "object",
                "properties": {
                    "nested1": {
                        "type": "number",
                        "required": true
                    },
                    "nested2": {
                        "type": "number",
                        "required": true
                    }
                },
                "required": [
                    "nested1",
                    "nested2"
                ]
            },
            "composite2": {
                "type": "object",
                "properties": {
                    "nested1": {
                        "type": "number",
                        "required": true
                    },
                    "nested2": {
                        "type": "number",
                        "required": true
                    }
                },
                "required": [
                    "nested1",
                    "nested2"
                ]
            }
        },
        "required": [
            "prop1",
            "prop2",
            "composite1"
        ]
    };
    const BrutusinForms = window.brutusin['json-forms'];
    const bf = BrutusinForms.create(schema);
    const container = document.getElementById('form1');
    console.log(window.brutusin);
    bf.render(container, data);
}*/

function init() {
    var isInCorrectPage = $('.follow').length;
    if (isInCorrectPage) {
        var initialPath = {
            type: _consts.CONST.url.tmTypes.followingT,
            subtype: _consts.CONST.url.tmTypes.followingSubT[0],
            subtypes: _consts.CONST.url.tmTypes.followingSubT
        };
        followStatusBySubtype.init({ isInCorrectPage: isInCorrectPage, initialPath: initialPath });
        initSteps('.follow-form');
        console.log(clsConst.currentPageCls);
        var textRusArray = ['По списку', 'По активной аудитории конкурентов'];
        (0, _logsTabs.initLogsTab)({ logsState: _consts.CONST.logsState, logsSubtypes: initialPath.subtypes, clsConst: clsConst, setUserNameCb: setUserNameCb, textRusArray: textRusArray });
        // initTagsInput();

        // TODO : use wizard.init()
        window.PubSub.subscribe(_consts.CONST.events.instagramAccouns.INSTAGRAM_ACCOUNS_RENDERED, function (eventName, data) {
            modifyAccList();
            // console.log('modifyAccList');
        });
    }
}

/***/ }),
/* 37 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.init = init;
// import $ from 'jquery';

// const hamburgerButtonCls = '#aside_mobile__button';
// const hamburgerMenuCls = '.aside-burger-menu';
// const hamburgerMenuOpenedClass = 'burger-menu--closed';
// const hamburgerButtonCloseClass = 'burger-menu__button--close';
var selectorsEl = {
    leftMenu: {
        hamburgerButtonCls: '#aside_mobile__button',
        hamburgerMenuCls: '.aside-burger-menu',
        hamburgerMenuOpenedClass: 'burger-menu--closed',
        hamburgerButtonCloseClass: 'burger-menu__button--close'
    },
    rightMenu: {
        hamburgerButtonCls: '#header_mobile_toggler',
        hamburgerMenuCls: '.r-side-burger-menu',
        hamburgerMenuOpenedClass: 'r-side-burger-menu--open',
        hamburgerButtonCloseClass: 'burger-menu-right__button--close'
    },
    subHeader: {
        hamburgerButtonCls: '#header_mobile_topbar_toggler',
        hamburgerMenuCls: '.sub-header',
        hamburgerMenuOpenedClass: 'sub-header--open',
        hamburgerButtonCloseClass: 'sub-header-button--close'
    }
};

/**
 * Toggle hamburger menu popover
 */
function toggleHamburgerMenu(menuName) {
    var _selectorsEl$menuName = selectorsEl[menuName],
        hamburgerMenuCls = _selectorsEl$menuName.hamburgerMenuCls,
        hamburgerButtonCls = _selectorsEl$menuName.hamburgerButtonCls,
        hamburgerButtonCloseClass = _selectorsEl$menuName.hamburgerButtonCloseClass,
        hamburgerMenuOpenedClass = _selectorsEl$menuName.hamburgerMenuOpenedClass;

    $(hamburgerButtonCls).toggleClass(hamburgerButtonCloseClass);
    $(hamburgerMenuCls).toggleClass(hamburgerMenuOpenedClass);
}

/**
 * Init hamburger menu
 */
function init() {
    var leftMenu = 'leftMenu';
    var rightMenu = 'rightMenu';
    var subHeader = 'subHeader';

    $(selectorsEl[leftMenu].hamburgerButtonCls).on('click', toggleHamburgerMenu.bind(this, leftMenu));
    $(selectorsEl[rightMenu].hamburgerButtonCls).on('click', toggleHamburgerMenu.bind(this, rightMenu));
    $(selectorsEl[subHeader].hamburgerButtonCls).on('click', toggleHamburgerMenu.bind(this, subHeader));
}

/***/ }),
/* 38 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.initHeader = initHeader;

var _user = __webpack_require__(3);

var _user2 = _interopRequireDefault(_user);

var _consts = __webpack_require__(0);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// import $ from 'jquery';
var selectorLoginState = '.js_message_logged--text';
// import PubSub from 'pubsub-js'; // https://www.npmjs.com/package/pubsub-js

var selectorEmailConfirmState = '.js_email-confirm--text';
var closeClass = 'd-none';
var openedClass = 'd-block';

function emailNotConfirmed() {
    var $emailnMsg = $(selectorEmailConfirmState);
    $emailnMsg.text('**emailNotConfirmed** Email не подтвержден.').css('color', 'lightcoral');
}

function onLoginSubscribe(msg, data) {
    // console.log('onLoginSubscribe', msg, data);
    $(_consts.CONST.uiSelectors.headerNavLoginBtn).addClass(closeClass).removeClass(openedClass);
    $(_consts.CONST.uiSelectors.headerRegBtn).addClass(closeClass).removeClass(openedClass);
    $(_consts.CONST.uiSelectors.headerLoginBox).addClass(closeClass).removeClass(openedClass);

    $('.nav-link.js_logOut').addClass(openedClass).removeClass(closeClass); // show
    var $loginMsg = $(selectorLoginState);
    $loginMsg.text('**onLoginSubscribe** вы залогинились в Luxgram успешно').css('color', 'lightblue');
    var isEmailConfirmed = _user2.default.isEmailConfirmed();
    if (!isEmailConfirmed) {
        emailNotConfirmed();
    }
}

function showLogout() {
    // check is logged
    var isLogged = _user2.default.isLoggedIn();
    var isEmailConfirmed = _user2.default.isEmailConfirmed();
    if (!isEmailConfirmed) {
        emailNotConfirmed();
    }
    // console.log('isLogged', isLogged);
    if (isLogged) {
        $('.nav-link.js_logOut').parent().show();
        $('.js_email-confirm--text').text('вы залогинились успешно');
        var oldURL = document.referrer;
        // console.log(oldURL);
        if (oldURL.includes('confirm-registration')) {
            $('.js_message_logged--text').text('вы подтвердили регистрацию');
        }
        onLoginSubscribe();
    } else {
        $(selectorLoginState).text('Привет анонимный пользователь');
        $(selectorEmailConfirmState).empty();
    }
}

/**
 * Init header
 */
function initHeader() {
    // check other handler in login-form.js
    // const $loginBox = $(CONST.uiSelectors.headerLoginBox);
    // const $registerBox = $(CONST.uiSelectors.headerRegBox);

    // PubSub.subscribe(CONST.events.USER_LOGGED, onLoginSubscribe);

    showLogout();

    // $(CONST.uiSelectors.headerRegBtn).on('click', () => {
    //     $loginBox.hide();
    //     $registerBox.css({'top': 0, 'right': 0})
    //         .addClass('bg-light border mt-5 mx-auto position-absolute px-3 d-block')
    //         .removeClass('d-none');
    // });

    // $(CONST.uiSelectors.headerNavLoginBtn).on('click', () => {
    //     $loginBox.addClass('d-block').removeClass('d-none');
    //     $registerBox.addClass('d-none').removeClass('d-block');
    // });
}

/***/ }),
/* 39 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

exports.settingButtonsHandler = settingButtonsHandler;

var _user = __webpack_require__(3);

var _user2 = _interopRequireDefault(_user);

var _consts = __webpack_require__(0);

var _instagramAccountsList = __webpack_require__(20);

var _spinner = __webpack_require__(17);

var _spinner2 = _interopRequireDefault(_spinner);

var _imageUpload = __webpack_require__(7);

var imageUpload = _interopRequireWildcard(_imageUpload);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function updateButtonsDataAttr(settingButtonsHandlerCb) {
    var cfg = {
        deleteBtnCls: '.js_acc-delete',
        updateBtnCls: '.js_acc-refresh',
        editBtnCls: '.js_acc-edit'
    };
    // $(cfg.editBtnCls).off();
    $(cfg.updateBtnCls).off(); // Reload button clear listener
    // $(cfg.deleteBtnCls).off();
    settingButtonsHandlerCb(cfg);
}

function settingButtonsHandler(classCfg) {
    var deleteBtnCls = classCfg.deleteBtnCls,
        updateBtnCls = classCfg.updateBtnCls,
        editBtnCls = classCfg.editBtnCls;

    var modalConfirm = $('#delete-user-promt');
    var username = '';
    var userOriginal = {};
    var replaceWithCfg = {
        replaceWith: true,
        holderCls: '.modal-image-holder',
        uploadBtnCls: '.js_edit-profile-img-upd',
        imageCls: 'img.user-avatar'
    };
    imageUpload.init(replaceWithCfg);
    // image-upload subscriber
    window.PubSub.subscribe(_consts.CONST.events.autoarnswer.IMAGE_UPLOADED_AVATAR, function (e, res) {
        var result = JSON.parse(res.response);
        var profile_pic_url = result.data.profile.profile_pic_url;

        userOriginal.$li.find('img').attr('src', profile_pic_url);
        console.log('userOriginal', userOriginal);
    });
    // DELETE .../instagram-accounts/{username}
    $(deleteBtnCls).on('click', function (e) {
        username = $(e.target).closest(deleteBtnCls).data('username');
        modalConfirm.modal('show');
    });
    $('.js_acc-delete-confirm').on('click', function (e) {
        _user2.default.delInstagramAccount(username).then(function (result) {
            console.log(result);
            if (result.status.state === 'ok') {
                modalConfirm.hide();
                window.PubSub.publish(_consts.CONST.events.instagramAccouns.INSTAGRAM_ACCOUNS_NEED_REFRESH);
            }
        });
    });

    // GET instagram-accounts/meta/{username}
    $(updateBtnCls).on('click', function (e) {
        var $li = $(e.target).closest('li');
        var username = $(e.target).closest(updateBtnCls).data('username');
        var defaultAvatarSrc = _consts.CONST.user.defaulAvatar;
        _spinner2.default.add($li, '');
        _user2.default.updateInstagramAccount(username).then(function (result) {
            console.log(result);
            var account = result.data.account;

            $li.replaceWith((0, _instagramAccountsList.renderItem)(account, $li, defaultAvatarSrc));

            /*
            const cfg = {
                deleteBtnCls: '.js_acc-delete',
                updateBtnCls: '.js_acc-refresh',
                editBtnCls: '.js_acc-edit'
            };
            // $(cfg.editBtnCls).off();
            $(cfg.updateBtnCls).off(); // Reload button clear listener
            // $(cfg.deleteBtnCls).off();
            settingButtonsHandler(cfg);
            */
            updateButtonsDataAttr(settingButtonsHandler);
            _spinner2.default.remove();
        });
    });

    // PUT instagram-accounts/{username}
    var modalEdit = $('#edit-user-promt');
    $(editBtnCls).on('click', function (e) {
        var $li = $(e.target).closest('li');
        var $editBtn = $li.find(editBtnCls);
        var username = $editBtn.data('username');
        var login = $editBtn.data('name');
        var site = $editBtn.data('url');
        var about = $editBtn.data('biography');
        var imgSrc = $editBtn.data('img');
        var isBusiness = $editBtn.data('is_business');
        var isPrivate = $editBtn.data('is_private');
        // 'is_business'=true

        var $form = modalEdit.find('form').get(0);
        var formFields = {
            login: $form['login'],
            username: $form['username'],
            site: $form['site'],
            about: $form['biography'],
            userAvatarImg: $form['userAvatar']
        };
        userOriginal = {
            login: login,
            username: username,
            site: site,
            about: about,
            $li: $li,
            followerC: $editBtn.data('follower_count'),
            followingC: $editBtn.data('following_count'),
            mediaC: $editBtn.data('media_count')
        };
        replaceWithCfg.username = username;

        formFields.login.value = login;
        formFields.username.value = username;
        formFields.site.value = site;
        formFields.about.value = about;
        formFields.userAvatarImg.src = imgSrc;
        var $profileBox = modalEdit.find('.bussines-profile');
        if (isBusiness) {
            $profileBox.addClass('d-none').removeClass('d-block');
        } else {
            $profileBox.addClass('d-block');
            // isPrivat, todo:refactor me
            if (isPrivate) {
                $profileBox.find('.js_btn-prof-type-switcher #closed-profile-on').closest('label').addClass('active').find('#closed-profile-on').attr('checked', 'checked');
                // off - disable
                $profileBox.find('.js_btn-prof-type-switcher #closed-profile-off').closest('label').removeClass('active').find('#closed-profile-off').attr('checked', false);
            } else {
                $profileBox.find('.js_btn-prof-type-switcher #closed-profile-off').closest('label').addClass('active').find('#closed-profile-off').attr('checked', 'checked');
                // on - disable
                $profileBox.find('.js_btn-prof-type-switcher #closed-profile-on').closest('label').removeClass('active').find('#closed-profile-on').attr('checked', false);
            }
        }
        window.PubSub.subscribe('update_data_private_on_acc_list', function (e, value) {
            $editBtn.data('is_private', value !== 'closed-profile-off');
        });
        modalEdit.modal('show');
    });
    $('.js_edit-profile-modify').on('click', function (e) {
        var $form = modalEdit.find('form').get(0);
        var formFields = {
            login: $form['login'],
            username: $form['username'],
            site: $form['site'],
            about: $form['biography'],
            userAvatarImg: $form['userAvatar']
        };
        var body = {
            // 'username': (userOriginal.username !== formFields.username.value) ? formFields.username.value : '',
            // 'name': formFields.login.value,
            // 'biography': formFields.about.value,
            // 'url': formFields.site.value,
            // 'open': isOpen
        };
        var updateDataAttrUsername = false;
        if (userOriginal.username !== formFields.username.value) {
            body['username'] = formFields.username.value;
            updateDataAttrUsername = true;
        }
        if (userOriginal.login !== formFields.login.value) {
            body['name'] = formFields.login.value;
        }
        if (userOriginal.about !== formFields.about.value) {
            body['biography'] = formFields.about.value;
        }
        if (userOriginal.site !== formFields.site.value) {
            body['url'] = formFields.site.value;
        }
        // ----validate
        if (formFields.about.value === '') {
            console.info('about.value is empty');
        }

        _user2.default.editInstagramAccount(userOriginal.username || '', JSON.stringify(body)).then(function (result) {
            if (result.status.state === 'ok') {
                console.log('/*UPDATE VIEW HERE*/');
                var profile = result.data.profile;

                profile.info = result.data.profile;
                profile.info = _extends({}, profile.info, {
                    follower_count: userOriginal.followerC,
                    following_count: userOriginal.followingC,
                    media_count: userOriginal.mediaC
                });
                userOriginal.$li.replaceWith((0, _instagramAccountsList.renderItem)(profile, userOriginal.$li, false));
                updateButtonsDataAttr(settingButtonsHandler);
                if (updateDataAttrUsername) {
                    var $editBtn = userOriginal.$li.find(editBtnCls);
                    $editBtn.data('username', profile.info.username);
                    updateDataAttrUsername = false;
                }
                modalConfirm.hide();
            }
        });
    });
    // const modeSelector = $('.js_btn-prof-type-switcher');
    $('.js_btn-prof-type-switcher label').on('click', function (e) {
        var value = $(e.target).find('input[type=radio]').attr('value');
        // console.log('click', value);
        var isOpen = value === 'closed-profile-off';
        var body = {
            'open': isOpen
        };
        _user2.default.editInstagramAccount(userOriginal.username || '', JSON.stringify(body)).then(function (result) {
            if (result.status.state === 'ok') {
                console.log('result', result);
                window.PubSub.publish('update_data_private_on_acc_list', value);
            }
        });
    });
}

/***/ }),
/* 40 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.LoginForm = LoginForm;

var _user = __webpack_require__(3);

var _user2 = _interopRequireDefault(_user);

var _pubsubJs = __webpack_require__(11);

var _pubsubJs2 = _interopRequireDefault(_pubsubJs);

var _cookie = __webpack_require__(4);

var _cookie2 = _interopRequireDefault(_cookie);

var _view = __webpack_require__(1);

var _view2 = _interopRequireDefault(_view);

var _consts = __webpack_require__(0);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// window.$ = $;

// import Validator from '../../common/js-services/form-validator';
function LoginForm(selectorCss) {
    var _this = this;

    var _formId = selectorCss._formId,
        _buttonSubmitId = selectorCss._buttonSubmitId,
        _showLoginBoxBtnId = selectorCss._showLoginBoxBtnId,
        _loginBox = selectorCss._loginBox;

    var user = _user2.default,
        // service
    $form = $(_formId),
        $email = $form.find('input[name="mail"]'),
        $textAreaDescription = $('#description');
    // const openedClass = 'd-block';
    // const closeClass = 'd-none';

    var userLoginHeader = function userLoginHeader(_formData) {
        var cbError = function cbError(result) {
            $(_loginBox).append('<p>result.status.message</p>');
        };

        return user.login(_formData, cbError).then(function (result) {
            if (result && result.data && result.data.token) {
                // save the item
                _cookie2.default.set(_consts.CONST.cookieStorage.token, result.data.token);
                $('.nav-link.js_logOut').parent().show();
                // console.log('request succeeded with JSON response', result);
                _view2.default.showInfoMessage($textAreaDescription, result.status.state, result.status.message || 'Login succsess');
            } else if (result.status) {
                console.log(result);
                _view2.default.showInfoMessage(_this.$textAreaDescription, '<p>status: ' + result.status.state + '</p><p> message: ' + result.status.message + '</p>');
            } else {
                console.log(result);
            }
        }).then(function (result) {
            if (result && result.status) {
                console.log(result);
                _view2.default.showInfoMessage($textAreaDescription, result.status.state, result.status.message || 'Login error');
            }
        });
    };

    var submitForm = function submitForm(formDataObj) {
        var email = $email.val(),
            password = $form.find('input[name="pass"]').val(),
            _formData = formDataObj || { email: email, password: password };

        if (selectorCss.isLoginInstagram) {
            // todo: delete me
            // addInstagramAccount({username: $form.find('input[name="username"]').val(), password});
        } else {
            $email.val($email.val().toLocaleLowerCase());
            userLoginHeader(_formData).then(function () {
                _pubsubJs2.default.publish(_consts.CONST.events.USER_LOGGED, 'login');
            });
        }
    };

    var logOut = function logOut() {
        _cookie2.default.remove(_consts.CONST.cookieStorage.token);
        _pubsubJs2.default.publish(_consts.CONST.events.USER_LOGOUT);
    };

    var bindEvents = function bindEvents() {
        var $showLoginBoxBtnId = $(_showLoginBoxBtnId);
        var $loginBox = $(_loginBox);
        var openedClass = 'd-block';
        var closeClass = 'd-none';

        $showLoginBoxBtnId.on('click', function () {
            if (!selectorCss.isLoginInstagram) {
                $loginBox.css({ 'top': 0, 'right': 0 }).addClass('bg-light border mt-5 mx-auto position-absolute');
            }
            $loginBox.addClass(openedClass).removeClass(closeClass);
        });

        var $buttonSubmit = $(_buttonSubmitId),
            cssValidationClass = 'form-validation';

        $buttonSubmit.on('click', function (e) {
            e.preventDefault();
            var form = $form.get(0);
            // const validator = new Validator($form);
            // console.log(validator.validate());
            if (form.checkValidity() && _view2.default.isEmail($email.val())) {
                submitForm();
            } else {
                // Highlight errors
                if (form.reportValidity) {
                    form.reportValidity();
                }
                $form.addClass(cssValidationClass);
            }
        });

        $('.nav-link.js_logOut').on('click', function (e) {
            e.preventDefault();
            logOut();
            $(e.target).parent().hide();
            _view2.default.showInfoMessage($textAreaDescription, 'Logged out');
        });

        _pubsubJs2.default.subscribe(_consts.CONST.events.USER_LOGOUT, function (msg) {
            $(_consts.CONST.uiSelectors.headerNavLoginBtn).addClass(openedClass).removeClass(closeClass); // .show();
            $(_consts.CONST.uiSelectors.headerRegBtn).addClass(openedClass).removeClass(closeClass);
            $('.nav-link.js_logOut').addClass(closeClass).removeClass(openedClass); // .hide();
            var selectorLoginState = '.js_message_logged--text';
            $(selectorLoginState).text('Вы вышли из аккаунта');
        });

        $(document).on('click', function (event) {
            var isLoginBtnClick = $(event.target).closest('nav.navbar').find($loginBox).length;
            var isAddInstagramBtnClicked = $(event.target).attr('id') === _consts.CONST.uiSelectors.instagram.addAccountBtnId;

            if (!isLoginBtnClick && $loginBox.hasClass(openedClass) && !isAddInstagramBtnClicked) {
                $loginBox.addClass(closeClass).removeClass(openedClass);
            }
        });
    };

    function init() {
        bindEvents();
    }

    return {
        init: init
    };
} // https://www.npmjs.com/package/pubsub-js
/* eslint-disable sort-vars */
// import $ from 'jquery';

/***/ }),
/* 41 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.init = init;

__webpack_require__(22);

var _user = __webpack_require__(3);

var _user2 = _interopRequireDefault(_user);

var _apiUserDirect = __webpack_require__(21);

var _apiUserDirect2 = _interopRequireDefault(_apiUserDirect);

var _utils = __webpack_require__(43);

var _spinner = __webpack_require__(17);

var _spinner2 = _interopRequireDefault(_spinner);

var _consts = __webpack_require__(0);

var _imageUpload = __webpack_require__(7);

var imageUpload = _interopRequireWildcard(_imageUpload);

var _requests = __webpack_require__(42);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// import MeteorEmoji from 'meteor-emoji';
// import EmojiPicker from 'vanilla-emoji-picker';
var token = _user2.default.getToken();
// import PubSub from 'pubsub-js';// https://www.npmjs.com/package/pubsub-js

// import qq from 'fine-uploader'; // todo: fine-uploade

var $msgList = $('.messages-list');
var stateCfg = {
    pageIncrement: 0,
    loadingFlag: false,
    setSingleVal: false
};
var updateInterval = '';
var intervalId = false;
var cursor = '';
var intervalUserList = false;
var initialVal = '';
var flagInitialVal = true;
var currentUserData = {
    useravatar: 'link',
    username: 'name'
};
var scrollLoaderState = {
    cursor: 'pagination.prev_cursor',
    firstLoad: true,
    allMsgLoaded: false
};

var renderResults = function renderResults(cfg) {
    var data = cfg.dataArray,
        ulElement = cfg.$list,
        stateCfg = cfg.stateCfg;


    function showMessage(element, message, /* optional */clearList) {
        // $btnGET.attr('disabled', false);

        if (clearList) {
            $('li', element).remove();
        }
        element.css({ 'overflow': 'auto' });
        $('<li/>').addClass('list-group-item text-center').text(message).appendTo(ulElement);
    }

    if (stateCfg.loadingFlag === 'FINAL_PAGE') {
        return false; // exit if has reached last page
    }

    // show fail msg
    if (data === 'FAIL') {
        showMessage(ulElement, 'Failure, possible key not correct.', true);
        return false;
    }

    if (stateCfg.loadingFlag === 'STOP_LOAD' && data.length !== 0) {
        stateCfg.loadingFlag = 'FINAL_PAGE';
        showMessage(ulElement, 'No more results.', false);
        // $liFooter.hide();
        return false;
    }

    if (data === null || !data.length) {
        showMessage(ulElement, 'No results found.', true);
        return false;
    }

    (0, _utils.fillMassagesList)(cfg);
};

function isInMessagePage() {
    var $msgList = $('.messages-list');
    var $userList = $('.messages-user-list');
    return !!$msgList.length && !!$userList.length;
}

// todo: get from emojii.js
$(document).ready(function () {
    if (!isInMessagePage()) {
        return;
    }
    // eslint-disable-next-line no-unused-vars
    // const ep = new EmojiPicker();
    // // const m = new MeteorEmoji();
    // const $picker = $('textarea[data-emoji-picker="true"] ~ div');
    // const style = $picker.attr('style');
    // const styleNew = style.replace('top: 20px;', 'top: -210px;');
    // $picker.attr('style', styleNew);

    $('textarea[data-emoji-picker="true"]').emojioneArea({
        pickerPosition: 'top',
        tonesStyle: 'square',
        filtersPosition: 'bottom',
        autocomplete: true
        // events: {
        //     keyup (editor, event) {
        //         console.log(editor.html());
        //         console.log(this.getText());
        //     }
        // }
    });

    // todo: fine-uploade
    /*
    // eslint-disable-next-line no-unused-vars
    const restrictedUploader = new qq.FineUploader({
        element: document.getElementById('fine-uploader-validation'),
        template: 'qq-template-validation',
        request: {
            endpoint: '/server/uploads'
        },
        thumbnails: {
            placeholders: {
                waitingPath: 'https://fineuploader.com/source/placeholders/waiting-generic.png', // '/source/placeholders/waiting-generic.png',
                notAvailablePath: 'https://fineuploader.com/server/waiting-generic.png' // '/source/placeholders/not_available-generic.png'
            }
        },
        validation: {
            allowedExtensions: ['jpeg', 'jpg'],
            itemLimit: 3,
            sizeLimit: 500 * 1024
        }
    });
    */
});
var isTimeOutRunned = false;
function getAndFillUserListCursor(loadMoreCbArgsCursor, section, username) {
    var $userList = $('.messages-user-list');
    if (loadMoreCbArgsCursor) {
        console.log('UserConversation', username);
        _apiUserDirect2.default.getMetadataDetailUsers({ cursor: loadMoreCbArgsCursor, username: username }).then(function (result) {
            if (!result.data) {
                return;
            }
            var data = result.data;
            // data.meta.sort((a, b) => a['username'].localeCompare(b['username']));

            (0, _utils.appendUserList)($userList, data.meta, { cursor: loadMoreCbArgsCursor, section: section, username: username });
            var pagination = data.pagination;

            if (pagination && pagination.prev_cursor) {
                // make one more req?
                console.error('found more pagination, but list not updated');
                // TODO
            } else {
                // hide show more
                var $collapse = $('#collapse-' + section).closest('li');
                $collapse.find('.js_load-more-box').addClass('d-none');
                // stop rerender list
                console.error('stop updating user list');
                clearInterval(intervalUserList);
            }
            console.log('section', section);
        });
    }
}

function getAndFillUserList(isActiveFirst, userList) {
    var $userList = userList || $('.messages-user-list');
    var prevActiveDialogId = '';
    if (!isActiveFirst) {
        prevActiveDialogId = $userList.find('li .collapse.show').attr('id');
    }

    _apiUserDirect2.default.getMetadata(token).then(function (result) {
        if (!result.data) {
            return;
        }
        var data = result.data;

        data.meta.sort(function (a, b) {
            return a['username'].localeCompare(b['username']);
        });
        // messages-user-list from utils.js
        (0, _utils.fillUserList)($userList, data.meta, getAndFillUserListCursor);
        if (data.settings && data.settings.invoke_in_millis) {
            updateInterval = data.settings.invoke_in_millis;
            updateInterval = updateInterval > 6000 ? updateInterval : 10000;
        }
        if (isActiveFirst) {
            $userList.find('li:first-child .collapse').addClass('show');
        } else {
            $('#' + prevActiveDialogId).addClass('show');
        }
        // if (data.pagination && data.pagination.prev_cursor) {
        //     const conversationToAdd = {
        //         tpl: `<div class="list-footer text-center" style="display: none;" id="load-more-box">
        //                 <button id="js_-accordion-more_btn" type="button" class="btn btn-submit">SHOW MORE</button>
        //             </div>`
        //     };
        //     console.log('start add pagination to accordioin', conversationToAdd);
        //     addMoreUsersAccordion(data.meta, conversationToAdd);
        // }
        // do it once
        if (!isTimeOutRunned) {
            intervalUserList = setInterval(function () {
                console.log('setInterval');
                getAndFillUserList();
            }, updateInterval);
            isTimeOutRunned = true;
        }
    });
}

function addPagination(pagination, cbFn) {
    if (scrollLoaderState.allMsgLoaded) {
        return;
    }
    if (scrollLoaderState.firstLoad) {
        scrollLoaderState.cursor = pagination.prev_cursor;
        scrollLoaderState.firstLoad = false;
    }
    var userData = $msgList.data('conversation');
    var username = userData.username,
        conversationId = userData.conversationId;
    // console.log('cursor: ', scrollLoaderState.cursor);

    _spinner2.default.add($('#mainChatPart'), 'my-5 py-5');
    _apiUserDirect2.default.getMetadataDetailConversation(token, { username: username, conversationId: conversationId, cursor: scrollLoaderState.cursor }).then(function (result) {
        // console.log('firstLoad:', scrollLoaderState.firstLoad, result.data.meta);
        var newCursor = result.data.meta.pagination && result.data.meta.pagination.prev_cursor;
        _spinner2.default.remove();
        renderResults({
            $list: $msgList,
            dataArray: result.data.meta.messages,
            isAppendPrevMsg: 'appentPrevMsg',
            stateCfg: stateCfg,
            currentUserData: currentUserData
        });
        // set new cursor
        if (newCursor) {
            // console.log('**', scrollLoaderState.cursor);
            scrollLoaderState.cursor = newCursor;
            $msgList.scrollTop($msgList.scrollTop() + 30);
        } else {
            // all msg loaded
            scrollLoaderState.allMsgLoaded = true;
        }

        // stop update interval
        if (intervalId) {
            clearInterval(intervalId);
            cbFn(newCursor);
        }
    });
}

function scrollHandler(scrollDelay, pagination) {
    var recentScroll = false;
    var makeReqOnce = true;
    cursor = pagination && pagination.prev_cursor ? pagination.prev_cursor : null;
    function checkIsOnce(newCursor) {
        if (newCursor !== cursor) {
            cursor = newCursor;
            makeReqOnce = true;
            console.log('prevCursor', newCursor);
        }
    }

    setTimeout(function () {
        $msgList.on('scroll', function () {
            var scrollTop = $(this).scrollTop();
            if (!recentScroll) {
                if (scrollTop + $(this).innerHeight() >= this.scrollHeight) {
                    // $messages.text('end reached');
                } else if (scrollTop <= 45) {
                    // $messages.text('Top reached');
                    // console.log('pagination');
                    if (pagination && makeReqOnce) {
                        makeReqOnce = false;
                        addPagination(pagination, checkIsOnce);
                        // console.log('go');
                    } else {
                        $('.messages-list-box').find('.load-more').remove();
                    }
                } else {
                    // $messages.text('');
                }
                recentScroll = true;
                window.setTimeout(function () {
                    recentScroll = false;
                }, 50);
            }
        });
    }, scrollDelay + 200);
}

function getAndFillConversation(_ref, isScrollDown, isClickFromRequestConfirm) {
    var username = _ref.username,
        conversationId = _ref.conversationId,
        useravatar = _ref.useravatar;

    var TIME_SCROLL = 10;
    _apiUserDirect2.default.getMetadataDetailConversation(token, { username: username, conversationId: conversationId }).then(function (result) {
        // messages-list from utils
        currentUserData.useravatar = useravatar;
        currentUserData.username = username;
        (0, _utils.fillMassagesList)({ $list: $msgList, dataArray: result.data.meta.messages, stateCfg: stateCfg, currentUserData: currentUserData });
        $('#mainChatPart').removeClass('d-none');
        _spinner2.default.remove();
        if (isClickFromRequestConfirm) {
            // clicked on request
            $('.js_send-message-box').addClass('d-none');
        } else {
            // clicked on normal conversation
            $('.js_send-message-box').removeClass('d-none');
        }
        $('.messages-list').attr('data-conversation', JSON.stringify({ username: username, conversationId: conversationId }));

        if (isScrollDown) {
            setTimeout(function () {
                $msgList.animate({
                    scrollTop: $msgList[0].scrollHeight - $msgList[0].clientHeight
                }, TIME_SCROLL);
            }, TIME_SCROLL * 2);
            // save first value
            if (flagInitialVal) {
                initialVal = result.data.meta.messages[result.data.meta.messages.length - 1];
                console.log(initialVal);
                flagInitialVal = false;
            }
        }

        scrollHandler(TIME_SCROLL, result.data.meta.pagination);
    });
}

function imageLoadSubmitCb(input, token) {
    var userData = $msgList.data('conversation');
    var username = userData.username,
        conversationId = userData.conversationId;

    var url = _consts.CONST.getPath('instagramDirect_Basic') + '/' + username + '/' + conversationId + '/photo';
    var acceptedFile = input.files[0];
    console.log('**handleSubmitCb');
    var formData = new FormData();
    var request = new XMLHttpRequest();

    _spinner2.default.startButtonSpinner($('.file-upload-btn'), 'spinner-box--sendMsg');

    formData.append('photo', acceptedFile, acceptedFile.name);
    request.open('POST', url);
    // request.withCredentials = true;
    request.setRequestHeader('token', token);
    request.setRequestHeader('Accept', 'application/json');
    request.setRequestHeader('cache-control', 'no-cache');
    request.send(formData);
    request.addEventListener('readystatechange', function () {
        if (this.readyState === 4) {
            console.log('this', this.responseText, this);
            input.value = '';
            window.PubSub.publish(_consts.CONST.events.autoarnswer.IMAGE_UPLOADED, { 'response': this.responseText, 'el': input });
        }
    });
}

function addHandlers() {
    var conversationId = '';
    var $textArea = $('#sendMessageTextArea');
    $textArea.val('');

    $('#sendMessageButton').on('click', function (e) {
        var value = $textArea.val();
        var userData = $msgList.data('conversation');
        var username = userData.username,
            conversationId = userData.conversationId,
            useravatar = userData.useravatar;

        _spinner2.default.startButtonSpinner($(e.target), 'spinner-box--sendMsg');
        _apiUserDirect2.default.postMetadataDetailConversation(token, { username: username, conversationId: conversationId, value: value }).then(function (result) {
            if (result && result.status && result.status.state === 'ok') {
                getAndFillConversation({ username: username, conversationId: conversationId, useravatar: useravatar });
                $textArea.val('');
                _spinner2.default.remove();
                // window.PubSub.publish(CONST.events.messages.RECIEVE_NEW_MESSAGE, {username, conversationId, value, result});
            }
        });
    });

    (0, _utils.messageAreaHendler)($textArea, $('#sendMessageButton'));

    function userShowConversetionHandler(e, userData) {
        console.log('click');
        var isClickFromRequestConfirm = userData;
        var userDataFromLiGroup = '';
        if (isClickFromRequestConfirm) {
            $('.js_send-message-box').addClass('d-none');
        } else {
            // clicked on normal conversation
            userDataFromLiGroup = $(e.target).closest('.list-group-item').data();
            $('.confirm-buttons-box').addClass('d-none');
            $('.js_send-message-box').removeClass('d-none');
        }

        var _ref2 = userData || userDataFromLiGroup,
            username = _ref2.username,
            useravatar = _ref2.useravatar;

        e.stopPropagation();
        var $targetBtn = $(e.target).closest('.media');
        var $title = $targetBtn.find('.title');
        conversationId = $targetBtn.data('conversation-id');
        if ($title.hasClass('font-weight-bold')) {
            $title.removeClass('font-weight-bold');
            $targetBtn.find('.summary-dot').addClass('d-none');
        }
        _spinner2.default.remove();
        _spinner2.default.add($('#mainChatPart'), 'my-5 py-5');
        getAndFillConversation({ username: username, conversationId: conversationId, useravatar: useravatar }, 'isScrollDown', isClickFromRequestConfirm);
        flagInitialVal = true; // reset first value flag
        // resend request
        if (intervalId) {
            clearInterval(intervalId);
        }
        intervalId = setInterval(function () {
            conversationId = $(e.target).closest('.media').data('conversation-id');
            console.log(intervalId, conversationId);
            getAndFillConversation({ username: username, conversationId: conversationId, useravatar: useravatar }, false, isClickFromRequestConfirm);
        }, updateInterval);
    }

    $(document).on('click', '.list-group-item .collapse', userShowConversetionHandler);
    $(document).on('click', '.js_messages-request', function (e) {
        var userData = $(e.target).closest('.list-group-item').data();
        userShowConversetionHandler(e, userData);
        console.log('addConfigButtons', conversationId);
        (0, _requests.addConfirgButtons)(conversationId, userData.username);
    });

    window.PubSub.subscribe(_consts.CONST.events.messages.RECIEVE_NEW_MESSAGE, function (eventName, data) {
        var username = data.username,
            conversationId = data.conversationId,
            value = data.value,
            resultFromServer = data.resultFromServer;

        var $dialog = $('.messages-user-list .list-group-item[data-username="' + username + '"] div[data-conversation-id="' + conversationId + '"]');
        console.log('resultFromServer: ', resultFromServer);
        $dialog.find('.summary').text(value);
    });

    // send image {igUsername}/{id}/photo
    imageUpload.init(false, imageLoadSubmitCb);
}

function init() {
    // check we are in correct page (messages)
    if (!isInMessagePage()) {
        return;
    }

    getAndFillUserList('setActiveFirst');
    addHandlers();
    var cfg = {
        username: 'your_dieta',
        fillUserListFn: _utils.fillUserList
    };
    (0, _requests.initRequests)(cfg);
}

/***/ }),
/* 42 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.addConfirgButtons = undefined;
exports.initRequests = initRequests;

var _apiUserDirect = __webpack_require__(21);

var _apiUserDirect2 = _interopRequireDefault(_apiUserDirect);

var _user = __webpack_require__(3);

var _user2 = _interopRequireDefault(_user);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/*
Endpoint на получение запросов: GET http://api.luxgram.ru/v1/instagram-direct/pending/{username}
Это ендпоинт должен быть вызван только при нажатии на текст с количеством запросов.
*/
// const cfgT = {
//     username: 'your_dieta',
//     getAndFillUserListFn: 'getAndFillUserList_Function'
// };
var confirmUserData = {};
var addConfirgButtons = exports.addConfirgButtons = function addConfirgButtons(conversationId, username) {
    console.log('addConfirgButtons proceed', username, conversationId);
    var $confirmBtnBox = $('.js_request-confirm-box');
    $confirmBtnBox.removeClass('d-none');
    confirmUserData.username = username;
    confirmUserData.conversationId = conversationId;
};
var conversationDetail = function conversationDetail(items) {
    var tpl = '';
    items.forEach(function (item) {
        var srcImg = item.profilePicUrl;

        if (items.length > 1) {
            tpl += '<img src="' + srcImg + '" alt=\'image\' class="media-photo mr-1 media-photo--group" style="width: 24px;">';
        } else {
            tpl += '<img src="' + srcImg + '" alt=\'image\' class="media-photo mr-1" style="width: 24px;">';
        }
    });
    return tpl;
};

var addConversations = function addConversations(conversations) {
    var tpl = '';
    conversations.forEach(function (item) {
        var users = item.users,
            id = item.id,
            title = item.title;
        // const isUnread = item['is_unread'];
        // const lastMessage = item['lastMessage'];
        // const isLastMsg = lastMessage && (parseInt(lastMessage.length, 10));
        // const isAddDot = isLastMsg > 0 && users.length > 1 && isUnread;

        tpl += '\n                <div class="media p-1 js_messages-request messages-request" data-conversation-id="' + id + '">\n                    ' + conversationDetail(users) + '\n                    <div class="media-body">\n                        <h5 class="title">' + title + '</h5>\n                    </div>\n                </div>\n            ';
    });
    return tpl;
};

var getRequestPending = function getRequestPending(username, elId) {
    // const username = 'your_dieta';
    _apiUserDirect2.default.getRequestPending(username).then(function (result) {
        var requests = result.data.requests;

        console.log('result', requests);
        var tpl = addConversations(requests, elId);
        $(tpl).appendTo($('#' + elId));
    });
};

function fillUserList($list, dataArray, loadMoreCbFunction) {
    var items = dataArray;
    var cList = $list;
    var tpl = '';
    // const loadMoreBox = (idx, prev_cursor) => `<div class="list-footer text-center js_load-more-box" data-idx="${idx}" data-cursor="${prev_cursor}">
    //     <button type="button" class="btn btn-outline-secondary btn-sm btn-submit">Загрузить еще</button>
    // </div>`;
    cList.empty().addClass('border-light-color');
    // todo: fix hard-code  img src="https://i.imgur.com/jNNT4LE.png"
    items.forEach(function (item, idx) {
        // const {pagination} = item;
        var elId = 'collapse-req-' + idx;
        // const {conversations} = item;
        console.log(item.pending_requests);
        if (item.pending_requests) {
            getRequestPending(item.username, elId);
            tpl += '<li class="list-group-item" data-toggle="collapse" data-target="#' + elId + '" \n                data-username="' + item.username + '"\n                data-userAvatar="' + item.profile_pic_url + '"\n                aria-expanded="true" aria-controls="collapse-' + idx + '">\n            <div class="conversation-head mb-1 media pb-2" id="heading-' + idx + '">\n                <span class="mr-3">\n                    <img src="' + item.profile_pic_url + '" alt="avatar"\n                    class="media-photo rounded-circle">\n                </span>\n                <div class="media-body">\n                    <h4 class="title">\n                        ' + item.username + '\n                    </h4>\n                </div>\n            </div>\n            <div id="' + elId + '" class="collapse" aria-labelledby="heading-' + idx + '" data-parent="#accordion-requests">\n                <!-- getRequestPending(item.username, elId) -->\n            </div>\n            <!-- {(pagination && pagination.prev_cursor) ? \'loadMoreBox(idx, pagination.prev_cursor)\' : \'\'} -->\n        </li>';
        }
    });
    $(tpl).appendTo(cList);

    // $('.js_load-more-box button').on('click', (e) => {
    //     const $btn = $(e.target);
    //     const $btnBox = $btn.closest('.js_load-more-box');
    //     const section = $btnBox.data('idx');
    //     const cursor = $btnBox.data('cursor');
    //     const username = $btnBox.closest('li').data('username');

    //     console.log('click', section, cursor);
    //     loadMoreCbFunction(cursor, section, username);
    //     e.stopPropagation();
    // });
}

var token = _user2.default.getToken();
function getAndFillUserList(isActiveFirst, userList) {
    var $userList = userList || $('.messages-user-list');
    var prevActiveDialogId = '';
    if (!isActiveFirst) {
        prevActiveDialogId = $userList.find('li .collapse.show').attr('id');
    }

    _apiUserDirect2.default.getMetadata(token).then(function (result) {
        if (!result.data) {
            return;
        }
        var data = result.data;

        data.meta.sort(function (a, b) {
            return a['username'].localeCompare(b['username']);
        });
        // messages-user-list from utils.js
        fillUserList($userList, data.meta /* getAndFillUserListCursor*/);
        // if (data.settings && data.settings.invoke_in_millis) {
        //     updateInterval = data.settings.invoke_in_millis;
        //     updateInterval = (updateInterval > 6000) ? updateInterval : 10000;
        // }
        if (isActiveFirst) {
            $userList.find('li:first-child .collapse').addClass('show');
        } else {
            $('#' + prevActiveDialogId).addClass('show');
        }

        // do it once
        // if (!isTimeOutRunned) {
        //     intervalUserList = setInterval(() => {
        //         console.log('setInterval');
        //         getAndFillUserList();
        //     }, updateInterval);
        //     isTimeOutRunned = true;
        // }
    });
}

function initHandlers() {
    var $confirmBtnBox = $('.js_request-confirm-box');
    var $reqConfirmBtn = $('.js_request-confirm', $confirmBtnBox);
    var $reqRejectBtn = $('.js_request-reject', $confirmBtnBox);

    $reqConfirmBtn.on('click', function (e) {
        // PUT http://api.luxgram.ru/v1/instagram-direct/pending/{username}/{id}
        _apiUserDirect2.default.putRequestPending(confirmUserData).then(function (result) {
            if (result.status.state === 'ok') {
                console.info('result: ', result);
                $confirmBtnBox.addClass('d-none');
                $('.js_show-messages-user-list').trigger('click');
            }
        });
    });
    $reqRejectBtn.on('click', function (e) {
        _apiUserDirect2.default.delRequestPending(confirmUserData).then(function (result) {
            if (result.status.state === 'ok') {
                console.info('result: ', result);
                $confirmBtnBox.addClass('d-none');
                $('.js_show-messages-user-list').trigger('click');
            }
        });
    });

    var $showUserList = $('.js_show-messages-user-list');
    $showUserList.on('click', function (e) {
        $(e.target).closest('.user-requests-box').removeClass('user-requests-box--show');
        $('.user-list-box').removeClass('user-list-box--hide');
        $('#mainChatPart').addClass('d-none');
    });
}
function initRequests(cfg) {
    var $list = $('.messages-requests-list');
    getAndFillUserList('setActiveFirst', $list);
    initHandlers();
}

/***/ }),
/* 43 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.messageAreaHendler = exports.addConversations = undefined;
exports.clearMassagesList = clearMassagesList;
exports.fillMassagesList = fillMassagesList;
exports.appendUserList = appendUserList;
exports.fillUserList = fillUserList;

var _view = __webpack_require__(1);

var _view2 = _interopRequireDefault(_view);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// import UserConversation from '../../common/js-services/api-user-direct';

function clearMassagesList($list, stateCfg) {
    stateCfg.pageIncrement = 0;
    $list.empty();
}
function fillMassagesList(_ref) {
    var $list = _ref.$list,
        dataArray = _ref.dataArray,
        isAppendPrevMsg = _ref.isAppendPrevMsg,
        stateCfg = _ref.stateCfg,
        currentUserData = _ref.currentUserData;

    var items = dataArray;
    var cList = $list;
    // const listDataConversation = $('.messages-list').attr('data-conversation');
    // const currentUsername = JSON.parse(listDataConversation);
    var insertMsg = function insertMsg(value, message, cssCls) {
        var str = '';
        var valueWithUrl = '';
        var type = message.type,
            caption = message.caption;
        // const userHeader = {username, profile_pic_url};
        // if (cssCls === 'text-right') {
        //     userHeader.username = currentUserData.username;
        //     userHeader.profile_pic_url = currentUserData.useravatar;
        // }

        if (type === 'TEXT') {
            // eslint-disable-next-line no-useless-escape
            var regex = /[(http(s)?):\/\/(www\.)?a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_\+.~#?&//=]*)/gm;
            var subst = '<a href=$& target="_blank">$&</a>';
            valueWithUrl = value.replace(regex, subst);
        }
        switch (type.toLowerCase()) {
            case 'photo':
                str = '<div class="chat-img">\n                    <img src="' + value + '" alt="Content Image" class="content-image">\n                </div>';
                break;
            case 'video':
                str = '<div class="chat-video">\n                    <a target="_blank" href="' + value + '" class="position-relative">\n                        <i class="fa-3x fa-play-circle far position-absolute text-white chat-video--icon"></i>\n                        <img src="' + message.preview_value + '" alt="Content Image" class="chat-video--image">\n                    </a>\n                </div>';
                break;
            case 'gif':
                str = '<div class="chat-img">\n                    <img src="' + value + '" alt="Content Image" class="content-image">\n                </div>';
                break;
            case 'like':
                str = '<div class="chat-text ' + cssCls + '" >' + value + '</div>';
                break;
            case 'post':
                str = '<div class="chat-post-message">\n                    <a target="_blank" href="' + value + '" class="text-body text-decoration-none">\n                        <div class="chat-post-message--header">\n                            <img src="' + message.profile_pic_url + '" alt="Content Image" class="user-avatar mr-3">\n                            ' + message.username + '\n                            <i class="fas fa-chevron-right"></i>\n                        </div>\n                        <img src="' + message.preview_value + '" alt="Content Image" class="content-image">\n                        ' + (caption ? '<p class="chat-post-caption m-3">' + caption + '<p>' : '') + '\n                    </a>\n                </div>';
                break;
            case 'text':
                str = '<div class="chat-text ' + cssCls + '" >' + valueWithUrl + '</div>';
                break;
            default:
                str = '<div class="chat-text ' + cssCls + '" >' + value + '</div>';
        }
        return str;
    };
    var addToList = function addToList(isAppendPrevMsg, $li, $list) {
        if (isAppendPrevMsg) {
            $li.insertBefore($list.find('li:first-child'));
        } else {
            $li.appendTo($list);
        }
    };
    if (isAppendPrevMsg) {
        // console.log('isAppentPrevMsg to', cList);
    } else {
        cList.empty().addClass('border-light-color');
        clearMassagesList(cList, stateCfg);
        // add margin-auto to make masseges on bottom
        $('<li class="mt-auto"></li>').appendTo(cList);
    }
    items.forEach(function (item) {
        var message = item;
        var value = message.value.replace(/(?:\r\n|\r|\n)/g, '<br />');
        // const value = message.value;

        if (message.side.toLowerCase() === 'left') {
            var $li = $('<li class="chat-item chat-item-left col flex-column-reverse" value="' + message.value + '">\n                <div class="d-flex">\n                ' + (message['profile_pic_url'] ? '<div class="chat-img-box"> \n                            <img src="' + message['profile_pic_url'] + '" alt="User Avatar" class="">\n                        </div>' : '') + '\n                <div>\n                    <p class="chat-username text-muted">' + message.username + '</p>\n                    ' + insertMsg(value, message, 'text-left') + '\n                </div>\n                    <small class="chat-time-text">' + _view2.default.getFormattedDateUtil(message.timestamp) + '</small>\n                </div>\n                </div>\n            </li>');
            addToList(isAppendPrevMsg, $li, cList); // toDo refactor me, less DOM manipulation
        } else {
            var _$li = $('<li class="chat-item chat-item-right col flex-column-reverse" value="' + message.value + '">\n                <div class="d-flex justify-content-end">\n                    ' + insertMsg(value, message, 'text-right') + '\n                    <small class="pull-right chat-time-text">' + _view2.default.getFormattedDateUtil(message.timestamp) + '</small>\n                    </div>\n            </li>');
            addToList(isAppendPrevMsg, _$li, cList); // toDo refactor me, less DOM manipulation
        }
    });
}

var conversationDetail = function conversationDetail(items) {
    var tpl = '';
    items.forEach(function (item) {
        if (items.length > 1) {
            tpl += '<img src="' + item['profile_pic_url'] + '" alt=\'image\' class="media-photo mr-1 media-photo--group" style="width: 24px;">';
        } else {
            tpl += '<img src="' + item['profile_pic_url'] + '" alt=\'image\' class="media-photo mr-1" style="width: 24px;">';
        }
    });
    return tpl;
};
var addConversations = exports.addConversations = function addConversations(conversations) {
    var tpl = '';
    conversations.forEach(function (item) {
        var isUnread = item['is_unread'];
        var lastMessage = item['last_message'];
        var isLastMsg = lastMessage && parseInt(lastMessage.length, 10);
        var isAddDot = isLastMsg > 0 && item.to.length > 1 && isUnread;
        tpl += '\n                <div class="media p-1" data-conversation-id="' + item.id + '">\n                    ' + conversationDetail(item.to) + '\n                    <div class="media-body">\n                        ' + (isAddDot || isUnread ? '<span class="summary-dot"></span>' : '') + '\n                        <!-- {isUnread ? \'<span class="summary-dot"></span>\' : \'\'} -->\n                        <h5 class="title ' + (isUnread ? 'font-weight-bold' : '') + ' ' + (isAddDot ? 'mr-2' : '') + '">' + item.title + '</h5>\n                        ' + (isLastMsg > 0 && item.to.length === 1 ? '<p class="summary text-muted">' + lastMessage + '</p>' : '') + '\n                    </div>\n                </div>\n            ';
    });
    return tpl;
};

function appendUserList($list, item, details) {
    var cursor = details.cursor,
        section = details.section,
        username = details.username;

    var $collapse = $('#collapse-' + section);
    console.log(cursor, username);
    $collapse.append(addConversations(item.conversations));
    // ${addConversations(item.conversations, idx)}
}

function fillUserList($list, dataArray, loadMoreCbFunction) {
    var items = dataArray;
    var cList = $list;
    var tpl = '';
    var loadMoreBox = function loadMoreBox(idx, prev_cursor) {
        return '<div class="list-footer text-center js_load-more-box" data-idx="' + idx + '" data-cursor="' + prev_cursor + '">\n        <button type="button" class="btn btn-outline-secondary btn-sm btn-submit">\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044C \u0435\u0449\u0435</button>\n    </div>';
    };
    cList.empty().addClass('border-light-color');
    // todo: fix hard-code  img src="https://i.imgur.com/jNNT4LE.png"
    items.forEach(function (item, idx) {
        var pagination = item.pagination;

        console.log(item.pending_requests);
        tpl += '<li class="list-group-item" data-toggle="collapse" data-target="#collapse-' + idx + '" \n                data-username="' + item.username + '"\n                data-userAvatar="' + item.profile_pic_url + '"\n                aria-expanded="true" aria-controls="collapse-' + idx + '">\n            <div class="conversation-head mb-1 media pb-2" id="heading-' + idx + '">\n                <span class="mr-3">\n                    <img src="' + item.profile_pic_url + '" alt="avatar"\n                    class="media-photo rounded-circle">\n                </span>\n                ' + (item['unread_conversations'] > 0 ? '<span class="badge badge-secondary position-absolute p-2">' + item['unread_conversations'] + '</span>' : '') + '\n                <div class="media-body">\n                    <h4 class="title">\n                        ' + item.username + '\n                    </h4>\n                    ' + (item.pending_requests ? '<p class="js_show-request-box btn btn-outline-dark btn-sm">' + item.pending_requests + ' \u0437\u0430\u043F\u0440\u043E\u0441' + (item.pending_requests > 1 ? 'a' : '') + '</p>' : '') + '\n                </div>\n            </div>\n            <div id="collapse-' + idx + '" class="collapse" aria-labelledby="heading-' + idx + '" data-parent="#accordion">\n                ' + addConversations(item.conversations) + '\n            </div>\n            ' + (pagination && pagination.prev_cursor ? loadMoreBox(idx, pagination.prev_cursor) : '') + '\n        </li>';
    });
    $(tpl).appendTo(cList);
    $('.js_load-more-box button').on('click', function (e) {
        var $btn = $(e.target);
        var $btnBox = $btn.closest('.js_load-more-box');
        var section = $btnBox.data('idx');
        var cursor = $btnBox.data('cursor');
        var username = $btnBox.closest('li').data('username');

        console.log('click', section, cursor);
        loadMoreCbFunction(cursor, section, username);
        e.stopPropagation();
    });
    $('.js_show-request-box').on('click', function (e) {
        $(e.target).closest('.user-list-box').addClass('user-list-box--hide');
        $('.user-requests-box').addClass('user-requests-box--show');
        e.stopPropagation();
    });
}

var messageAreaHendler = exports.messageAreaHendler = function messageAreaHendler($textArea, $sendMessageButton) {
    $textArea.on('keydown', function (e) {
        if (e.keyCode === 13) {
            if (e.ctrlKey) {
                // console.log('ctrl+enter');
                e.preventDefault();
                e.target.value += '\n';
            } else {
                if (e.target.value.trim().length) {
                    $sendMessageButton.trigger('click');
                }
                e.preventDefault();
            }
        }
    });
};

// export const addMoreUsersAccordion = (conversations, conversationToAdd) => {
// const $btnMoreBox = $('#load-more-box');
// const $btnMore = $('button', $btnMoreBox);
// $btnMoreBox.show();
// console.log('start add pagination to accordioin', conversationToAdd);
// conversations.forEach((item, idx) => {
//     if (item.pagination && item.pagination.prev_cursor) {
//         console.log('conversation - >', item.pagination);
//         $btnMore.on('click', () => {
//             console.log('click - >', item.pagination);
//             const details = {
//                 username: '',
//                 cursor: item.pagination.prev_cursor
//             };
//             UserConversation.getMetadataDetailUsers(details).then((result) => {
//                 if (!result.data) {
//                     return;
//                 }
//                 console.log('**getMetadataDetailUsers** result - >', result);
//             });
//         });
//     }
// });
// };

/***/ }),
/* 44 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); // import $ from 'jquery';
// https://www.npmjs.com/package/pubsub-js


var _pubsubJs = __webpack_require__(11);

var _pubsubJs2 = _interopRequireDefault(_pubsubJs);

var _user = __webpack_require__(3);

var _user2 = _interopRequireDefault(_user);

var _cookie = __webpack_require__(4);

var _cookie2 = _interopRequireDefault(_cookie);

var _consts = __webpack_require__(0);

var _view = __webpack_require__(1);

var _view2 = _interopRequireDefault(_view);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var selectorCls = {
    form: '.auth.register .form-signin',
    submitBtn: '[type="submit"]'
};

var RegisterForm = function () {
    function RegisterForm() {
        _classCallCheck(this, RegisterForm);

        this.user = _user2.default;
        this.$form = $(selectorCls.form);
        this.$email = this.$form.find('input[name="mail"]');
        this.$textAreaDescription = $('.register--confirm');
        this.formData = { 'email': 'test1_email@m.ru', 'password': 'password' };
    }

    _createClass(RegisterForm, [{
        key: 'init',
        value: function init() {
            if ($('.auth.register').length) {
                this.bindEvents();
            }
        }
    }, {
        key: 'submitForm',
        value: function submitForm(formDataObj) {
            var _this = this;

            var email = this.$email.val();
            var borderDangerCls = 'border-danger';
            var $password = this.$form.find('input[name="pass"]'),
                $passwordConfirm = this.$form.find('input[name="pass-confirm"]'),
                password = this.$form.find('input[name="pass"]').val(),
                passwordConfirm = this.$form.find('input[name="pass-confirm"]').val();

            // Highlight errors
            if (passwordConfirm !== password) {
                $password.addClass(borderDangerCls);
                $passwordConfirm.addClass(borderDangerCls);
                return;
            } else {
                $password.removeClass(borderDangerCls);
                $passwordConfirm.removeClass(borderDangerCls);
            }
            this.$email.val(this.$email.val().toLocaleLowerCase());
            this.formData = formDataObj || { email: email, password: password };

            this.user.register(this.formData).then(function (result) {
                if (result.data && result.data.token) {

                    // save the item
                    _cookie2.default.set(_consts.CONST.cookieStorage.emailConfirmed, 'false');
                    _cookie2.default.set(_consts.CONST.cookieStorage.token, result.data.token);
                    _pubsubJs2.default.publish(_consts.CONST.events.USER_LOGGED);
                    // viewUtils.showInfoMessage(this.$textAreaDescription,
                    //     result.status.state,
                    //     result.status.message || 'Register and Login succsess');
                } else {
                    _view2.default.showInfoMessage(_this.$textAreaDescription, result.status.state, result.status.message || 'no result.data found');
                }
            }).then(function (result) {
                if (result && result.status) {
                    console.log(result);
                    _view2.default.showInfoMessage(_this.$textAreaDescription, result.status.state);
                    $('.login-box').show();
                }
            }).catch(function (error) {
                var modal = $('#register-error-modal');
                modal.modal('show');

                console.log('request failed', error);
                // viewUtils.showInfoMessage(this.$textAreaDescription,
                //     error.message);
            });
        }
    }, {
        key: 'bindEvents',
        value: function bindEvents() {
            var _this2 = this;

            var registerBox = _consts.CONST.uiSelectors.headerRegBox; // 'nav .register-box';
            var openedClass = 'd-block';
            var closeClass = 'd-none';
            var $btn = $(selectorCls.submitBtn),
                cssValidationClass = 'form-validation';

            $btn.on('click', function (e) {
                var form = _this2.$form.get(0);
                e.preventDefault();

                if (!$btn.is(':disabled')) {
                    if (form.checkValidity()) {
                        // $btn.attr('disabled', true);
                        _this2.submitForm();
                    } else {
                        // Highlight errors
                        if (form.reportValidity) {
                            form.reportValidity();
                        }
                        _this2.$form.addClass(cssValidationClass);
                    }
                }
            });

            _pubsubJs2.default.subscribe(_consts.CONST.events.USER_LOGGED, function () {
                // $('.register--confirm').removeClass('d-none');
                window.location.href = './registration-success.html';
            });

            $(document).on('click', function (event) {
                var isRegBtnClick = $(event.target).closest('nav.navbar').find('.register-box').length;

                if (!isRegBtnClick && $(registerBox).hasClass(openedClass)) {
                    $(registerBox).addClass(closeClass).removeClass(openedClass);
                }
            });
        }
    }]);

    return RegisterForm;
}();

exports.default = RegisterForm;

/***/ }),
/* 45 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.initMenu = initMenu;

/**
 * Init Menu
 */
function initMenu() {
    var urlToCheck = ['instagram-accounts', 'automessages', 'stories', 'autogreeting', 'autocomments', 'follow', 'unfollow', 'messages', 'chat-bot'];
    var pathName = window.location.pathname;
    urlToCheck.forEach(function (item) {
        var isActiveUrl = pathName === '/instagram-integration/' + item + '.html' || pathName === '/' + item + '.html';
        if (isActiveUrl) {
            $('nav.aside-burger-menu a[href*="/' + item + '"]').addClass('text-info').removeClass('text-light');
            // console.info('item found', item, activeMenuItem);
        }
    });
}

/***/ }),
/* 46 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

exports.init = init;

var _consts = __webpack_require__(0);

var _apiTaskManager = __webpack_require__(2);

var _apiTaskManager2 = _interopRequireDefault(_apiTaskManager);

var _view = __webpack_require__(1);

var _view2 = _interopRequireDefault(_view);

var _wizardForm = __webpack_require__(6);

var wizardForm = _interopRequireWildcard(_wizardForm);

var _storiesStatus = __webpack_require__(47);

var storiesStatus = _interopRequireWildcard(_storiesStatus);

var _logsTabs = __webpack_require__(13);

var _followReadFileTxt = __webpack_require__(14);

var _tagsInput = __webpack_require__(10);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var getValByCommaSeparator = _view2.default.getValByCommaSeparator,
    fillRadioGroupList = _view2.default.fillRadioGroupList;

var usernameSelected = '';
var logsState = _consts.CONST.logsState;
var clsConst = {
    currentPageCls: '.stories-page',
    tasksList: '.log-tasks',
    logsTabBtn: '#v-pills-logs-tab',
    pagination: '.logs-pagination',
    paginationPgNumber: '.page-number',
    pathType: _consts.CONST.url.tmTypes.storiesT,
    pathSubType: _consts.CONST.url.tmTypes.storiesSubT[0]
};
var elSelector = {
    wizardForm: '.wizard-form',
    wizardFormName: 'wizard-form',
    fields: '.automessages-text-fields',
    taskMode: '.js_task-mode',
    competitors: '.js_stories-competitors input[data-role="tagsinput"]'
};
var state = {
    subtype: _consts.CONST.url.tmTypes.storiesSubT[0],
    user_default_config: {
        task_mode: 'SAFE'
    }
};

function onSubmitHandler(e) {
    var wizardFormName = elSelector.wizardFormName;

    var form = document.forms[wizardFormName];
    var limit = form['limit'];

    if (limit.value === '') {
        limit.focus();
        return false;
    }

    var body = _extends({}, state, {
        user_default_config: _extends({}, state.user_default_config, {
            criteria: {
                max_views: limit.value
            }
        }),
        user_custom_config: {},
        type: clsConst.pathType,
        username: usernameSelected
    });

    if (body.subtype === _consts.CONST.url.tmTypes.storiesSubT[2]) {
        var competitors = getValByCommaSeparator($(form).find(elSelector.competitors));
        body.user_custom_config = {
            competitors: competitors
        };
    }
    if (body.subtype === _consts.CONST.url.tmTypes.storiesSubT[0]) {
        // text file should be added
        body['user_custom_config'].attachment = {
            'list_id': $('.stories__file-upload-box .file-upload-container').attr('attached-txt-id')
        };
        delete body.user_default_config.criteria.max_views;
    }

    $(form).find('input[type="text"],input[type="number"],input[type="email"]').each(function () {
        if ($(this).val() === '') {
            e.preventDefault();
            $(this).addClass('input-error');
        } else {
            $(this).removeClass('input-error');
        }
    });

    console.log('onSubmitHandler **request**  post: StartFollowingList', body);

    _apiTaskManager2.default.postStartFollowingList(body).then(function (result) {
        if (result.status.state === 'ok') {
            console.log(JSON.stringify(result));
            $('.form-submit-finish').find('.alert p').remove();
            $('.form-submit-finish').addClass('d-block').find('.alert').append('<p>task_id: ' + result.data.task_id + '</p>');
        }
    });
}

function setUserNameCb(_usernameSelected) {
    usernameSelected = _usernameSelected;
}

function setUserNameFirstStep(state) {
    usernameSelected = state.username;
}

// todo: refactor with follow.js -- 'nextBtnvalidateCompetitorsHandler()'
var containerCls = '.js_add-settings-step-4';
var $container = $(containerCls);
var $competitorsTextArea = $container.find('input[data-role="tagsinput"]');
var nextStepBtn = $container.find('.js_stories-competitors-btn');

/**
 * Init Handlers
 */
function initHandlers() {

    (0, _followReadFileTxt.attachTxtFileHandler)('.file-upload-container');
    (0, _tagsInput.nextBtnvalidateCompetitorsHandler)($competitorsTextArea, nextStepBtn);

    // radio-group step 2
    $('.js_get-stories-type input[type=radio]').on('click', function (e) {
        var value = $(e.target).attr('value');
        state.subtype = value.toUpperCase();
        if (state.subtype === _consts.CONST.url.tmTypes.storiesSubT[1]) {
            nextStepBtn.removeAttr('disabled', 'disabled'); // enable button 'Запустить'
        } else {
            nextStepBtn.attr('disabled', 'disabled');
        }
        console.log(state);
    });

    // alert close
    $('.form-submit-finish .close').on('click', function () {
        // console.log('alert close');
        $('#v-pills-all-tab').trigger('click');
        window.PubSub.publish(_consts.CONST.events.tasks.NEW_TASK_CREATED);
    });

    // alert error close
    $('.form-submit-finish--error .close').on('click', function () {
        // console.log('alert close');
        $('#v-pills-all-tab').trigger('click');
        window.PubSub.publish(_consts.CONST.events.tasks.NEW_TASK_CREATED);
    });
}

function renderTaskMode(defaultCfg) {
    var task_modes = defaultCfg.cfg.task_modes;
    var taskModeSelector = elSelector.taskMode;


    fillRadioGroupList($(taskModeSelector), task_modes, 'просмотров');

    $(taskModeSelector + ' input[type=radio]').on('click', function (e) {
        var value = $(e.target).attr('value');
        state.user_default_config.task_mode = value.toUpperCase();
    });
}

function getConfig() {
    var path = {
        type: clsConst.pathType,
        subtype: state.subtype
    };
    var cbError = function cbError(res) {
        var msg = res.status.message;
        $('.form-submit-finish--error').addClass('d-block').find('.alert').append('<p>' + msg + '</p>');
    };

    _apiTaskManager2.default.getStoriesConfig(path, cbError).then(function (result) {
        if (result.status.state !== 'ok') {
            return;
        }
        var found = result.data.found;

        var limitVal = found.cfg.criteria.max_views;
        renderTaskMode(found);
        $('#limit').val(limitVal);
    });
}

function addTextArea(stepNumber) {
    var wizardForm = elSelector.wizardForm;

    var fieldLast = $(wizardForm + ' fieldset').get(stepNumber + 1);
    if (state.subtype === _consts.CONST.url.tmTypes.storiesSubT[2]) {
        (0, _tagsInput.nextBtnvalidateCompetitorsHandler)($competitorsTextArea, nextStepBtn);
        $(fieldLast).find('.js_stories-competitors').removeClass('d-none');
        console.log('end');
    } else {
        $(fieldLast).find('.js_stories-competitors').addClass('d-none');
    }
}

function addFileUploadBox(stepNumber) {
    var wizardForm = elSelector.wizardForm;

    var fieldLast = $(wizardForm + ' fieldset').get(stepNumber + 1);
    var $fileUploadBox = $(fieldLast).find('.stories__file-upload-box');
    var $titleStepBox = $(fieldLast).find('.js_add-file-title');
    var $addSettings = $(fieldLast).find('.js_add-settings-step-4');
    if (state.subtype === _consts.CONST.url.tmTypes.storiesSubT[0]) {
        $fileUploadBox.removeClass('d-none');
        $('.js_validate-txt-file-is-uploaded').attr('disabled', 'disabled');
        $titleStepBox.removeClass('d-none');
        $addSettings.addClass('d-none');
    } else {
        $fileUploadBox.addClass('d-none');
        $titleStepBox.addClass('d-none');
        $addSettings.removeClass('d-none');
    }
    console.log('addFileUploadBox done');
}

function stepReducer(stepNumber, state) {
    switch (stepNumber) {
        case 0:
            // console.log(state, stepNumber);
            setUserNameFirstStep(state);
            break;
        case 1:
            // console.log(state, stepNumber);
            getConfig();
            break;
        case 2:
            console.log(state, stepNumber);
            addTextArea(stepNumber);
            addFileUploadBox(stepNumber);
            break;
        default:
            console.log('default', stepNumber);
    }
}

function init() {
    var isInCurrentPage = $(clsConst.currentPageCls).length;
    if (!isInCurrentPage) {
        return;
    }
    console.log(clsConst.currentPageCls);
    var wizardCfg = {
        stepReducer: stepReducer,
        onSubmitHandler: onSubmitHandler
    };
    wizardForm.init(wizardCfg);
    initHandlers();
    var textRusArray = ['По списку', 'По подписчикам', 'По активной аудитории конкурентов'];
    (0, _logsTabs.initLogsTab)({ logsState: logsState, logsSubtypes: _consts.CONST.url.tmTypes.storiesSubT, clsConst: clsConst, setUserNameCb: setUserNameCb, textRusArray: textRusArray });
    storiesStatus.init({
        isInStoriesPage: isInCurrentPage
    });
    // initTagsInput();

    // window.PubSub.subscribe(CONST.events.instagramAccouns.INSTAGRAM_ACCOUNS_RENDERED_LAZY, (e, accounts) => {
    //     console.log('INSTAGRAM_ACCOUNS_RENDERED_LAZY');
    //     console.log('logsSubtypes', logsSubtypes);
    //     console.log('accounts', accounts);
    // });
    window.PubSub.subscribe(_consts.CONST.events.autoarnswer.TEXT_FILE_UPLOADED, function (e, res) {
        $('.js_validate-txt-file-is-uploaded').removeAttr('disabled');
    });
}

/***/ }),
/* 47 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; // TODO: refactor -> delete me, use task-status-by-subtype.js

// import viewUtils from '../../common/js-services/view';


exports.init = init;

var _consts = __webpack_require__(0);

var _taskStatus = __webpack_require__(5);

var _dropdown = __webpack_require__(18);

var _dropdown2 = _interopRequireDefault(_dropdown);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var path = {
    type: _consts.CONST.url.tmTypes.storiesT,
    subtype: _consts.CONST.url.tmTypes.storiesSubT[0]
};
var wrappers = {
    $all: $('.tasks-all'),
    $stopped: $('.tasks-stopped')
};
var logsStateStatus = {
    wrapperSubtype: $('.subtype--box')
};

function dropdownOnSelectCb(e) {
    // const {selectClsLogsTaskType} = logsState;
    var subtype = $(e.target).find('option:selected').val();
    var pathUpdated = _extends({}, path, { subtype: subtype });
    $('.js_logs-container').addClass('d-block');
    $('option.js_empty-subtype').remove();
    (0, _taskStatus.getTasksData)(wrappers, pathUpdated);
}

function init(_ref) {
    var isInStoriesPage = _ref.isInStoriesPage;

    if (!isInStoriesPage) {
        return;
    }
    // toDO : refactor
    // render status dropdown
    var textRusArray = ['По списку', 'По подписчикам', 'По активной аудитории конкурентов'];
    _dropdown2.default.addDropdown(logsStateStatus.wrapperSubtype, _consts.CONST.url.tmTypes.storiesSubT, { logsState: logsStateStatus, dropdownOnSelectCb: dropdownOnSelectCb, textRusArray: textRusArray });

    // getTasksData(wrappers, path);
    window.PubSub.subscribe(_consts.CONST.events.tasks.NEW_TASK_CREATED, function (eventName, data) {
        (0, _taskStatus.getTasksData)(wrappers, path);
    });
}

/***/ }),
/* 48 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

exports.init = init;

var _consts = __webpack_require__(0);

var _apiTaskManager = __webpack_require__(2);

var _apiTaskManager2 = _interopRequireDefault(_apiTaskManager);

var _view = __webpack_require__(1);

var _view2 = _interopRequireDefault(_view);

var _followReadFileTxt = __webpack_require__(14);

var _wizardForm = __webpack_require__(6);

var wizardForm = _interopRequireWildcard(_wizardForm);

var _unfollowStatus = __webpack_require__(49);

var tabStatus = _interopRequireWildcard(_unfollowStatus);

var _logsTabs = __webpack_require__(13);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var fillRadioGroupList = _view2.default.fillRadioGroupList;


var usernameSelected = '';
var logsSubtypes = _consts.CONST.url.tmTypes.unfollowingSubT;
var clsConst = {
    currentPageCls: '.unfollow-page',
    tasksList: '.log-tasks',
    logsTabBtn: '#v-pills-logs-tab',
    pagination: '.logs-pagination',
    paginationPgNumber: '.page-number',
    pathType: _consts.CONST.url.tmTypes.unfollowingT,
    pathSubType: _consts.CONST.url.tmTypes.unfollowingSubT[0]
};
var elSelector = {
    wizardForm: '.wizard-form',
    wizardFormName: 'wizard-form',
    fields: '.automessages-text-fields',
    taskMode: '.js_task-mode',
    typeRadioGroup: '.js_get-unfollow-type',
    competitors: 'textarea.stories-competitors'
};
var state = {
    subtype: _consts.CONST.url.tmTypes.unfollowingSubT[0],
    user_default_config: {
        task_mode: 'SAFE'
    }
};

function onSubmitHandler(e) {
    var wizardFormName = elSelector.wizardFormName;

    var form = document.forms[wizardFormName];

    var body = _extends({}, state, {
        user_custom_config: {
            // attachment: {
            //     'list_id': 'id_static'
            // }
        },
        type: clsConst.pathType,
        username: usernameSelected
    });

    if (state.subtype === _consts.CONST.url.tmTypes.unfollowingSubT[0]) {
        // text file should be added
        body['user_custom_config'].attachment = {
            'list_id': $('.add-file .file-upload-container').attr('attached-txt-id')
        };
    }

    $(form).find('input[type="text"],input[type="number"],input[type="email"]').each(function () {
        if ($(this).val() === '') {
            e.preventDefault();
            $(this).addClass('input-error');
        } else {
            $(this).removeClass('input-error');
        }
    });

    console.log('onSubmitHandler **request**  post: StartFollowingList', body);

    _apiTaskManager2.default.postStartFollowingList(body).then(function (result) {
        if (result.status.state === 'ok') {
            console.log(JSON.stringify(result));
            $('.form-submit-finish').find('.alert p').remove();
            $('.form-submit-finish').addClass('d-block').find('.alert').append('<p>task_id: ' + result.data.task_id + '</p>');
        }
    });
}

/**
 * Init Handlers
 */
function initHandlers() {

    $(elSelector.typeRadioGroup + ' input[type=radio]').on('click', function (e) {
        var value = $(e.target).attr('value');
        state.subtype = value.toUpperCase();
        console.log(state);
    });

    // alert close
    $('.form-submit-finish .close').on('click', function () {
        // console.log('alert close');
        $('#v-pills-all-tab').trigger('click');
        window.PubSub.publish(_consts.CONST.events.tasks.NEW_TASK_CREATED);
    });

    // alert close
    $('.form-submit-finish--error .close').on('click', function () {
        // console.log('alert close');
        $('#v-pills-all-tab').trigger('click');
        window.PubSub.publish(_consts.CONST.events.tasks.NEW_TASK_CREATED);
    });
}

function onSuccessFileUploadCb() {
    var wizardForm = elSelector.wizardForm;


    $(wizardForm).find('button[type="submit"]').attr('disabled', false);
}

function addUploadButton(subtype) {
    function toggleAddTextBtn(subtype) {
        if (subtype === _consts.CONST.url.tmTypes.unfollowingSubT[0]) {
            // show txt fileUpload
            $('.add-file').addClass('d-block');
            // $('.add-competitors').addClass('d-none').removeClass('d-block');
        } else {
            // hide txt fileUpload
            // $('.add-competitors').addClass('d-block');
            $('.add-file').addClass('d-none').removeClass('d-block');
            onSuccessFileUploadCb();
        }
    }
    toggleAddTextBtn(subtype);
    // console.log('addUploadButton', CONST.url.tmTypes.unfollowingSubT[0]);
}

function renderTaskMode(defaultCfg) {
    var task_modes = defaultCfg.cfg.task_modes;
    var taskModeSelector = elSelector.taskMode;


    fillRadioGroupList($(taskModeSelector), task_modes, 'отписок');
    addUploadButton(defaultCfg.id.subtype);

    $(taskModeSelector + ' input[type=radio]').on('click', function (e) {
        var value = $(e.target).attr('value');
        state.user_default_config.task_mode = value.toUpperCase();
    });
}

function getConfig() {
    var path = {
        type: clsConst.pathType,
        subtype: state.subtype
    };
    var cbError = function cbError(res) {
        var msg = res.status.message;
        $('.form-submit-finish--error').addClass('d-block').find('.alert').append('<p>' + msg + '</p>');
    };

    _apiTaskManager2.default.getStoriesConfig(path, cbError).then(function (result) {
        if (result.status.state !== 'ok') {
            return;
        }
        var found = result.data.found;
        // $('#limit').val(limitVal);
        // const limitVal = found.cfg.criteria.max_views;

        renderTaskMode(found);
    });
}

function setUserNameCb(_usernameSelected) {
    usernameSelected = _usernameSelected;
}

function setUserNameFirstStep(state) {
    usernameSelected = state.username;
}

function checkTitleStep3(stepNumber) {
    var wizardForm = elSelector.wizardForm;

    var title = $(wizardForm + ' h3').get(stepNumber + 1);
    if (state.subtype === _consts.CONST.url.tmTypes.unfollowingSubT[0]) {
        $(title).text('Выберите режим и добавьте файл с пользователями');
    } else {
        $(title).text('Выберите режим');
    }
}

function addTextArea(stepNumber) {
    var wizardForm = elSelector.wizardForm;

    if (state.subtype === _consts.CONST.url.tmTypes.unfollowingSubT[1]) {
        var fieldLast = $(wizardForm + ' fieldset').get(stepNumber + 1);
        var tpl = '<div class="row">\n            <label class="">\u041A\u043E\u043D\u043A\u0443\u0440\u0435\u043D\u0442\u044B</label>\n            <textarea class="form-control stories-competitors mb-2" rows="1"></textarea></div>';
        $(fieldLast).find('.form-bottom>.row').after(tpl);
        console.log('end');
    }
}

function stepReducer(stepNumber, state) {
    switch (stepNumber) {
        case 0:
            // console.log(state, stepNumber);
            setUserNameFirstStep(state);
            break;
        case 1:
            // console.log(state, stepNumber);
            getConfig();
            checkTitleStep3(stepNumber);
            break;
        case 2:
            // THis step is upreachable
            console.log(state, stepNumber);
            addTextArea(stepNumber);
            break;
        default:
            console.log('default', stepNumber);
    }
}

function init() {
    var isInCurrentPage = $(clsConst.currentPageCls).length;
    if (!isInCurrentPage) {
        return;
    }
    console.log(clsConst.currentPageCls);
    var wizardCfg = {
        stepReducer: stepReducer,
        onSubmitHandler: onSubmitHandler
    };
    wizardForm.init(wizardCfg);
    initHandlers();
    (0, _followReadFileTxt.attachTxtFileHandler)('.file-upload-container', onSuccessFileUploadCb);
    var textRusArray = ['По списку', 'От всех', 'От невзаимных'];
    (0, _logsTabs.initLogsTab)({ logsState: _consts.CONST.logsState, logsSubtypes: logsSubtypes, clsConst: clsConst, setUserNameCb: setUserNameCb, textRusArray: textRusArray });
    tabStatus.init({
        isInStoriesPage: isInCurrentPage
    });
    // window.PubSub.subscribe(CONST.events.autoarnswer.IMAGE_UPLOADED, (e, res) => {
    //     const result = JSON.parse(res.response);
    //     const imageId = result && result.data && result.data.image_id;
    //     $(res.el).closest('.file-upload').attr('attached-img-id', imageId);
    //     console.log('image_loaded', res);
    // });
}

/***/ }),
/* 49 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.init = init;

var _consts = __webpack_require__(0);

var _taskStatusBySubtype = __webpack_require__(19);

var followStatusBySubtype = _interopRequireWildcard(_taskStatusBySubtype);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

// TODO: refactor -> delete me
// import {getTasksData} from '../_shared/task-status/task-status';
// import viewUtils from '../../common/js-services/view';
// import dropDown from '../_shared/dropdown/dropdown';

// const path = {
//     type: CONST.url.tmTypes.storiesT,
//     subtype: CONST.url.tmTypes.storiesSubT[0]
// };
// const wrappers = {
//     $all: $('.tasks-all'),
//     $stopped: $('.tasks-stopped')
// };
// const logsStateStatus = {
//     wrapperSubtype: $('.subtype--box')
//     // selectClsLogsTaskType: 'subtype-select-wrapper'
// };
//
// function dropdownOnSelectCb(e) {
//     // const {selectClsLogsTaskType} = logsState;
//     const subtype = $(e.target).find('option:selected').val();
//     const pathUpdated = {...path, subtype};
//     $('.js_logs-container').addClass('d-block');
//     $('option.js_empty-subtype').remove();
//     getTasksData(wrappers, pathUpdated);
// }

function init(_ref) {
    var isInStoriesPage = _ref.isInStoriesPage;

    if (!isInStoriesPage) {
        return;
    }
    var initialPath = {
        type: _consts.CONST.url.tmTypes.unfollowingT,
        subtype: _consts.CONST.url.tmTypes.unfollowingSubT[0],
        subtypes: _consts.CONST.url.tmTypes.unfollowingSubT
    };

    var textRusArray = ['По списку', 'От всех', 'От невзаимных'];
    followStatusBySubtype.init({ isInCorrectPage: isInStoriesPage, initialPath: initialPath, textRusArray: textRusArray });

    // todo: merge with stories-satus.js
    // dropDown.addDropdown(logsStateStatus.wrapperSubtype, CONST.url.tmTypes.storiesSubT, {logsState: logsStateStatus, dropdownOnSelectCb});

    // getTasksData(wrappers, path);
    // window.PubSub.subscribe(CONST.events.tasks.NEW_TASK_CREATED, (eventName, data) => {
    //     getTasksData(wrappers, path);
    // });
}

/***/ }),
/* 50 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.LoginPage = LoginPage;

var _user = __webpack_require__(3);

var _user2 = _interopRequireDefault(_user);

var _pubsubJs = __webpack_require__(11);

var _pubsubJs2 = _interopRequireDefault(_pubsubJs);

var _cookie = __webpack_require__(4);

var _cookie2 = _interopRequireDefault(_cookie);

var _view = __webpack_require__(1);

var _view2 = _interopRequireDefault(_view);

var _consts = __webpack_require__(0);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// window.$ = $;

// import Validator from '../../common/js-services/form-validator';
function LoginPage(selectorCss) {
    var _this = this;

    var _formId = selectorCss._formId,
        _buttonSubmitId = selectorCss._buttonSubmitId,
        _loginBox = selectorCss._loginBox;

    var user = _user2.default,
        // service
    $form = $(_formId),
        $email = $form.find('input[name="mail"]'),
        $textAreaDescription = $('#description');
    // const openedClass = 'd-block';
    // const closeClass = 'd-none';

    var userLoginHeader = function userLoginHeader(_formData) {
        var cbError = function cbError(result) {
            // $(_loginBox).append(`<p>${result.status.message}</p>`);
            var modal = $('#error-modal');
            modal.modal('show');
            console.log(result.status.message);
        };

        return user.login(_formData, cbError).then(function (result) {
            if (result && result.data && result.data.token) {
                // save the item
                _cookie2.default.set(_consts.CONST.cookieStorage.token, result.data.token);
                $('.nav-link.js_logOut').parent().show();
                // console.log('request succeeded with JSON response', result);
                _view2.default.showInfoMessage($textAreaDescription, result.status.state, result.status.message || 'Login succsess');
            } else if (result.status) {
                console.log(result);
                _view2.default.showInfoMessage(_this.$textAreaDescription, '<p>status: ' + result.status.state + '</p><p> message: ' + result.status.message + '</p>');
            } else {
                console.log(result);
            }
        }).then(function (result) {
            if (result && result.status) {
                console.log(result);
                _view2.default.showInfoMessage($textAreaDescription, result.status.state, result.status.message || 'Login error');
            }
        });
    };

    var submitForm = function submitForm(formDataObj) {
        var email = $email.val(),
            password = $form.find('input[name="pass"]').val(),
            _formData = formDataObj || { email: email, password: password };

        if (selectorCss.isLoginInstagram) {
            // todo: delete me
            // addInstagramAccount({username: $form.find('input[name="username"]').val(), password});
        } else {
            $email.val($email.val().toLocaleLowerCase());
            userLoginHeader(_formData).then(function () {
                // PubSub.publish(CONST.events.USER_LOGGED, 'login');
                window.location.href = './instagram-accounts.html';
            });
        }
    };

    var logOut = function logOut() {
        _cookie2.default.remove(_consts.CONST.cookieStorage.token);
        _pubsubJs2.default.publish(_consts.CONST.events.USER_LOGOUT);
    };

    var bindEvents = function bindEvents() {
        // const $showLoginBoxBtnId = $(_showLoginBoxBtnId);
        var $loginBox = $(_loginBox);
        var openedClass = 'd-block';
        var closeClass = 'd-none';

        // $showLoginBoxBtnId.on('click', () => {
        //     if (!selectorCss.isLoginInstagram) {
        //         $loginBox.css({'top': 0, 'right': 0})
        //             .addClass('bg-light border mt-5 mx-auto position-absolute');
        //     }
        //     $loginBox.addClass(openedClass).removeClass(closeClass);
        // });

        var $buttonSubmit = $(_buttonSubmitId),
            cssValidationClass = 'form-validation';

        $buttonSubmit.on('click', function (e) {
            e.preventDefault();
            var form = $form.get(0);
            // const validator = new Validator($form);
            console.log(_view2.default, _view2.default.isEmail($email.val()));

            if (form.checkValidity() && _view2.default.isEmail($email.val())) {
                submitForm();
            } else {
                // Highlight errors
                if (form.reportValidity) {
                    form.reportValidity();
                }
                $form.addClass(cssValidationClass);
            }
        });

        $('.nav-link.js_logOut').on('click', function (e) {
            e.preventDefault();
            logOut();
            $(e.target).parent().hide();
            _view2.default.showInfoMessage($textAreaDescription, 'Logged out');
        });

        _pubsubJs2.default.subscribe(_consts.CONST.events.USER_LOGOUT, function (msg) {
            $(_consts.CONST.uiSelectors.headerNavLoginBtn).addClass(openedClass).removeClass(closeClass); // .show();
            $(_consts.CONST.uiSelectors.headerRegBtn).addClass(openedClass).removeClass(closeClass);
            $('.nav-link.js_logOut').addClass(closeClass).removeClass(openedClass); // .hide();
            var selectorLoginState = '.js_message_logged--text';
            $(selectorLoginState).text('Вы вышли из аккаунта');
        });

        $(document).on('click', function (event) {
            var isLoginBtnClick = $(event.target).closest('nav.navbar').find($loginBox).length;
            var isAddInstagramBtnClicked = $(event.target).attr('id') === _consts.CONST.uiSelectors.instagram.addAccountBtnId;

            if (!isLoginBtnClick && $loginBox.hasClass(openedClass) && !isAddInstagramBtnClicked) {
                $loginBox.addClass(closeClass).removeClass(openedClass);
            }
        });
    };

    function init() {
        if ($('.auth.login').length) {
            bindEvents();
        }
    }

    return {
        init: init
    };
} // https://www.npmjs.com/package/pubsub-js
/* eslint-disable sort-vars */
// import $ from 'jquery';

/***/ }),
/* 51 */
/***/ (function(module, exports) {

/*
 * bootstrap-tagsinput v0.7.1 by Tim Schlechter
 * 
 */

!function(a){"use strict";function b(b,c){this.isInit=!0,this.itemsArray=[],this.$element=a(b),this.$element.hide(),this.isSelect="SELECT"===b.tagName,this.multiple=this.isSelect&&b.hasAttribute("multiple"),this.objectItems=c&&c.itemValue,this.placeholderText=b.hasAttribute("placeholder")?this.$element.attr("placeholder"):"",this.inputSize=Math.max(1,this.placeholderText.length),this.$container=a('<div class="bootstrap-tagsinput"></div>'),this.$input=a('<input type="text" placeholder="'+this.placeholderText+'"/>').appendTo(this.$container),this.$element.before(this.$container),this.build(c),this.isInit=!1}function c(a,b){if("function"!=typeof a[b]){var c=a[b];a[b]=function(a){return a[c]}}}function d(a,b){if("function"!=typeof a[b]){var c=a[b];a[b]=function(){return c}}}function e(a){return a?i.text(a).html():""}function f(a){var b=0;if(document.selection){a.focus();var c=document.selection.createRange();c.moveStart("character",-a.value.length),b=c.text.length}else(a.selectionStart||"0"==a.selectionStart)&&(b=a.selectionStart);return b}function g(b,c){var d=!1;return a.each(c,function(a,c){if("number"==typeof c&&b.which===c)return d=!0,!1;if(b.which===c.which){var e=!c.hasOwnProperty("altKey")||b.altKey===c.altKey,f=!c.hasOwnProperty("shiftKey")||b.shiftKey===c.shiftKey,g=!c.hasOwnProperty("ctrlKey")||b.ctrlKey===c.ctrlKey;if(e&&f&&g)return d=!0,!1}}),d}var h={tagClass:function(a){return"label label-info"},itemValue:function(a){return a?a.toString():a},itemText:function(a){return this.itemValue(a)},itemTitle:function(a){return null},freeInput:!0,addOnBlur:!0,maxTags:void 0,maxChars:void 0,confirmKeys:[13,44],delimiter:",",delimiterRegex:null,cancelConfirmKeysOnEmpty:!1,onTagExists:function(a,b){b.hide().fadeIn()},trimValue:!1,allowDuplicates:!1};b.prototype={constructor:b,add:function(b,c,d){var f=this;if(!(f.options.maxTags&&f.itemsArray.length>=f.options.maxTags)&&(b===!1||b)){if("string"==typeof b&&f.options.trimValue&&(b=a.trim(b)),"object"==typeof b&&!f.objectItems)throw"Can't add objects when itemValue option is not set";if(!b.toString().match(/^\s*$/)){if(f.isSelect&&!f.multiple&&f.itemsArray.length>0&&f.remove(f.itemsArray[0]),"string"==typeof b&&"INPUT"===this.$element[0].tagName){var g=f.options.delimiterRegex?f.options.delimiterRegex:f.options.delimiter,h=b.split(g);if(h.length>1){for(var i=0;i<h.length;i++)this.add(h[i],!0);return void(c||f.pushVal())}}var j=f.options.itemValue(b),k=f.options.itemText(b),l=f.options.tagClass(b),m=f.options.itemTitle(b),n=a.grep(f.itemsArray,function(a){return f.options.itemValue(a)===j})[0];if(!n||f.options.allowDuplicates){if(!(f.items().toString().length+b.length+1>f.options.maxInputLength)){var o=a.Event("beforeItemAdd",{item:b,cancel:!1,options:d});if(f.$element.trigger(o),!o.cancel){f.itemsArray.push(b);var p=a('<span class="tag '+e(l)+(null!==m?'" title="'+m:"")+'">'+e(k)+'<span data-role="remove"></span></span>');p.data("item",b),f.findInputWrapper().before(p),p.after(" ");var q=a('option[value="'+encodeURIComponent(j)+'"]',f.$element).length||a('option[value="'+e(j)+'"]',f.$element).length;if(f.isSelect&&!q){var r=a("<option selected>"+e(k)+"</option>");r.data("item",b),r.attr("value",j),f.$element.append(r)}c||f.pushVal(),(f.options.maxTags===f.itemsArray.length||f.items().toString().length===f.options.maxInputLength)&&f.$container.addClass("bootstrap-tagsinput-max"),a(".typeahead, .twitter-typeahead",f.$container).length&&f.$input.typeahead("val",""),this.isInit?f.$element.trigger(a.Event("itemAddedOnInit",{item:b,options:d})):f.$element.trigger(a.Event("itemAdded",{item:b,options:d}))}}}else if(f.options.onTagExists){var s=a(".tag",f.$container).filter(function(){return a(this).data("item")===n});f.options.onTagExists(b,s)}}}},remove:function(b,c,d){var e=this;if(e.objectItems&&(b="object"==typeof b?a.grep(e.itemsArray,function(a){return e.options.itemValue(a)==e.options.itemValue(b)}):a.grep(e.itemsArray,function(a){return e.options.itemValue(a)==b}),b=b[b.length-1]),b){var f=a.Event("beforeItemRemove",{item:b,cancel:!1,options:d});if(e.$element.trigger(f),f.cancel)return;a(".tag",e.$container).filter(function(){return a(this).data("item")===b}).remove(),a("option",e.$element).filter(function(){return a(this).data("item")===b}).remove(),-1!==a.inArray(b,e.itemsArray)&&e.itemsArray.splice(a.inArray(b,e.itemsArray),1)}c||e.pushVal(),e.options.maxTags>e.itemsArray.length&&e.$container.removeClass("bootstrap-tagsinput-max"),e.$element.trigger(a.Event("itemRemoved",{item:b,options:d}))},removeAll:function(){var b=this;for(a(".tag",b.$container).remove(),a("option",b.$element).remove();b.itemsArray.length>0;)b.itemsArray.pop();b.pushVal()},refresh:function(){var b=this;a(".tag",b.$container).each(function(){var c=a(this),d=c.data("item"),f=b.options.itemValue(d),g=b.options.itemText(d),h=b.options.tagClass(d);if(c.attr("class",null),c.addClass("tag "+e(h)),c.contents().filter(function(){return 3==this.nodeType})[0].nodeValue=e(g),b.isSelect){var i=a("option",b.$element).filter(function(){return a(this).data("item")===d});i.attr("value",f)}})},items:function(){return this.itemsArray},pushVal:function(){var b=this,c=a.map(b.items(),function(a){return b.options.itemValue(a).toString()});b.$element.val(c,!0).trigger("change")},build:function(b){var e=this;if(e.options=a.extend({},h,b),e.objectItems&&(e.options.freeInput=!1),c(e.options,"itemValue"),c(e.options,"itemText"),d(e.options,"tagClass"),e.options.typeahead){var i=e.options.typeahead||{};d(i,"source"),e.$input.typeahead(a.extend({},i,{source:function(b,c){function d(a){for(var b=[],d=0;d<a.length;d++){var g=e.options.itemText(a[d]);f[g]=a[d],b.push(g)}c(b)}this.map={};var f=this.map,g=i.source(b);a.isFunction(g.success)?g.success(d):a.isFunction(g.then)?g.then(d):a.when(g).then(d)},updater:function(a){return e.add(this.map[a]),this.map[a]},matcher:function(a){return-1!==a.toLowerCase().indexOf(this.query.trim().toLowerCase())},sorter:function(a){return a.sort()},highlighter:function(a){var b=new RegExp("("+this.query+")","gi");return a.replace(b,"<strong>$1</strong>")}}))}if(e.options.typeaheadjs){var j=null,k={},l=e.options.typeaheadjs;a.isArray(l)?(j=l[0],k=l[1]):k=l,e.$input.typeahead(j,k).on("typeahead:selected",a.proxy(function(a,b){k.valueKey?e.add(b[k.valueKey]):e.add(b),e.$input.typeahead("val","")},e))}e.$container.on("click",a.proxy(function(a){e.$element.attr("disabled")||e.$input.removeAttr("disabled"),e.$input.focus()},e)),e.options.addOnBlur&&e.options.freeInput&&e.$input.on("focusout",a.proxy(function(b){0===a(".typeahead, .twitter-typeahead",e.$container).length&&(e.add(e.$input.val()),e.$input.val(""))},e)),e.$container.on("keydown","input",a.proxy(function(b){var c=a(b.target),d=e.findInputWrapper();if(e.$element.attr("disabled"))return void e.$input.attr("disabled","disabled");switch(b.which){case 8:if(0===f(c[0])){var g=d.prev();g.length&&e.remove(g.data("item"))}break;case 46:if(0===f(c[0])){var h=d.next();h.length&&e.remove(h.data("item"))}break;case 37:var i=d.prev();0===c.val().length&&i[0]&&(i.before(d),c.focus());break;case 39:var j=d.next();0===c.val().length&&j[0]&&(j.after(d),c.focus())}var k=c.val().length;Math.ceil(k/5);c.attr("size",Math.max(this.inputSize,c.val().length))},e)),e.$container.on("keypress","input",a.proxy(function(b){var c=a(b.target);if(e.$element.attr("disabled"))return void e.$input.attr("disabled","disabled");var d=c.val(),f=e.options.maxChars&&d.length>=e.options.maxChars;e.options.freeInput&&(g(b,e.options.confirmKeys)||f)&&(0!==d.length&&(e.add(f?d.substr(0,e.options.maxChars):d),c.val("")),e.options.cancelConfirmKeysOnEmpty===!1&&b.preventDefault());var h=c.val().length;Math.ceil(h/5);c.attr("size",Math.max(this.inputSize,c.val().length))},e)),e.$container.on("click","[data-role=remove]",a.proxy(function(b){e.$element.attr("disabled")||e.remove(a(b.target).closest(".tag").data("item"))},e)),e.options.itemValue===h.itemValue&&("INPUT"===e.$element[0].tagName?e.add(e.$element.val()):a("option",e.$element).each(function(){e.add(a(this).attr("value"),!0)}))},destroy:function(){var a=this;a.$container.off("keypress","input"),a.$container.off("click","[role=remove]"),a.$container.remove(),a.$element.removeData("tagsinput"),a.$element.show()},focus:function(){this.$input.focus()},input:function(){return this.$input},findInputWrapper:function(){for(var b=this.$input[0],c=this.$container[0];b&&b.parentNode!==c;)b=b.parentNode;return a(b)}},a.fn.tagsinput=function(c,d,e){var f=[];return this.each(function(){var g=a(this).data("tagsinput");if(g)if(c||d){if(void 0!==g[c]){if(3===g[c].length&&void 0!==e)var h=g[c](d,null,e);else var h=g[c](d);void 0!==h&&f.push(h)}}else f.push(g);else g=new b(this,c),a(this).data("tagsinput",g),f.push(g),"SELECT"===this.tagName&&a("option",a(this)).attr("selected","selected"),a(this).val(a(this).val())}),"string"==typeof c?f.length>1?f:f[0]:f},a.fn.tagsinput.Constructor=b;var i=a("<div />");a(function(){a("input[data-role=tagsinput], select[multiple][data-role=tagsinput]").tagsinput()})}(window.jQuery);
//# sourceMappingURL=bootstrap-tagsinput.min.js.map

/***/ }),
/* 52 */
/***/ (function(module, exports) {

if("undefined"==typeof brutusin)window.brutusin=new Object;else if("object"!=typeof brutusin)throw"brutusin global variable already exists";!function(){String.prototype.startsWith||(String.prototype.startsWith=function(e,t){return t=t||0,this.indexOf(e,t)===t}),String.prototype.endsWith||(String.prototype.endsWith=function(e,t){var r=this.toString();(void 0===t||t>r.length)&&(t=r.length),t-=e.length;var n=r.indexOf(e,t);return-1!==n&&n===t}),String.prototype.includes||(String.prototype.includes=function(){"use strict";return-1!==String.prototype.indexOf.apply(this,arguments)}),String.prototype.format||(String.prototype.format=function(){for(var e=this,t=0;t<arguments.length;t++){var r=new RegExp("\\{"+t+"\\}","gi");e=e.replace(r,arguments[t])}return e});var BrutusinForms=new Object;BrutusinForms.messages={validationError:"Validation error",required:"This field is **required**",invalidValue:"Invalid field value",addpropNameExistent:"This property is already present in the object",addpropNameRequired:"A name is required",minItems:"At least `{0}` items are required",maxItems:"At most `{0}` items are allowed",pattern:"Value does not match pattern: `{0}`",minLength:"Value must be **at least** `{0}` characters long",maxLength:"Value must be **at most** `{0}` characters long",multipleOf:"Value must be **multiple of** `{0}`",minimum:"Value must be **greater or equal than** `{0}`",exclusiveMinimum:"Value must be **greater than** `{0}`",maximum:"Value must be **lower or equal than** `{0}`",exclusiveMaximum:"Value must be **lower than** `{0}`",minProperties:"At least `{0}` properties are required",maxProperties:"At most `{0}` properties are allowed",uniqueItems:"Array items must be unique",addItem:"Add item","true":"True","false":"False"},BrutusinForms.decorators=new Array,BrutusinForms.addDecorator=function(e){BrutusinForms.decorators[BrutusinForms.decorators.length]=e},BrutusinForms.onResolutionStarted=function(e){},BrutusinForms.onResolutionFinished=function(e){},BrutusinForms.onValidationError=function(e,t){e.focus(),e.className.includes(" error")||(e.className+=" error"),alert(t)},BrutusinForms.onValidationSuccess=function(e){e.className=e.className.replace(" error","")},BrutusinForms.postRender=null,BrutusinForms.instances=new Array,BrutusinForms.create=function(schema){function validateDepencyMapIsAcyclic(){function e(t,r,n){if(r.hasOwnProperty(n))return void(error="Schema dependency graph has cycles");if(r[n]=null,!t.hasOwnProperty(n)){t[n]=null;var a=dependencyMap[n];if(a)for(var i=0;i<a.length;i++)e(t,r,a[i]);delete r[n]}}var t=new Object;for(var r in dependencyMap)t.hasOwnProperty(r)||e(t,new Object,r)}function appendChild(e,t,r){e.appendChild(t);for(var n=0;n<BrutusinForms.decorators.length;n++)BrutusinForms.decorators[n](t,r)}function createPseudoSchema(e){var t=new Object;for(var r in e)"items"!==r&&"properties"!==r&&"additionalProperties"!==r&&("pattern"===r?t[r]=new RegExp(e[r]):t[r]=e[r]);return t}function getDefinition(e){var t=e.split("/"),r=root;for(var n in t)"0"!==n&&(r=r[t[n]]);return r}function containsStr(e,t){for(var r=0;r<e.length;r++)if(e[r]==t)return!0;return!1}function renameRequiredPropeties(e){if(e)if(e.hasOwnProperty("oneOf"))for(var t in e.oneOf)renameRequiredPropeties(e.oneOf[t]);else if(e.hasOwnProperty("$ref")){var r=getDefinition(e.$ref);renameRequiredPropeties(r)}else if("object"===e.type){if(e.properties){e.hasOwnProperty("required")&&Array.isArray(e.required)&&(e.requiredProperties=e.required,delete e.required);for(var n in e.properties)renameRequiredPropeties(e.properties[n])}if(e.patternProperties)for(var a in e.patternProperties){var i=e.patternProperties[a];(i.hasOwnProperty("type")||i.hasOwnProperty("$ref")||i.hasOwnProperty("oneOf"))&&renameRequiredPropeties(e.patternProperties[a])}e.additionalProperties&&(e.additionalProperties.hasOwnProperty("type")||e.additionalProperties.hasOwnProperty("oneOf"))&&renameRequiredPropeties(e.additionalProperties)}else"array"===e.type&&renameRequiredPropeties(e.items)}function populateSchemaMap(e,t){var r=createPseudoSchema(t);if(r.$id=e,schemaMap[e]=r,t){if(t.hasOwnProperty("oneOf")){r.oneOf=new Array,r.type="oneOf";for(var n in t.oneOf){var a=e+"."+n;r.oneOf[n]=a,populateSchemaMap(a,t.oneOf[n])}}else if(t.hasOwnProperty("$ref")){var i=getDefinition(t.$ref);if(i){if(t.hasOwnProperty("title")||t.hasOwnProperty("description")){var o={};for(var s in i)o[s]=i[s];t.hasOwnProperty("title")&&(o.title=t.title),t.hasOwnProperty("description")&&(o.description=t.description),i=o}populateSchemaMap(e,i)}}else if("object"===t.type){if(t.properties){r.properties=new Object;for(var s in t.properties){var a=e+"."+s;r.properties[s]=a;var u=t.properties[s];t.requiredProperties&&(containsStr(t.requiredProperties,s)?u.required=!0:u.required=!1),populateSchemaMap(a,u)}}if(t.patternProperties){r.patternProperties=new Object;for(var l in t.patternProperties){var d=e+"["+l+"]";r.patternProperties[l]=d;var p=t.patternProperties[l];p.hasOwnProperty("type")||p.hasOwnProperty("$ref")||p.hasOwnProperty("oneOf")?populateSchemaMap(d,t.patternProperties[l]):populateSchemaMap(d,SCHEMA_ANY)}}if(t.additionalProperties){var a=e+"[*]";r.additionalProperties=a,t.additionalProperties.hasOwnProperty("type")||t.additionalProperties.hasOwnProperty("oneOf")?populateSchemaMap(a,t.additionalProperties):populateSchemaMap(a,SCHEMA_ANY)}}else"array"===t.type&&(r.items=e+"[#]",populateSchemaMap(r.items,t.items));if(t.hasOwnProperty("dependsOn")){null===t.dependsOn&&(t.dependsOn=["$"]);for(var c=new Array,n=0;n<t.dependsOn.length;n++)t.dependsOn[n]?t.dependsOn[n].startsWith("$")?c[n]=t.dependsOn[n]:e.endsWith("]")?c[n]=e+"."+t.dependsOn[n]:c[n]=e.substring(0,e.lastIndexOf("."))+"."+t.dependsOn[n]:c[n]="$";schemaMap[e].dependsOn=c;for(var n=0;n<c.length;n++){var m=dependencyMap[c[n]];m||(m=new Array,dependencyMap[c[n]]=m),m[m.length]=e}}}}function renderTitle(e,t,r){if(e&&t){var n=document.createElement("label");"any"!==r.type&&"object"!==r.type&&"array"!==r.type&&(n.htmlFor=getInputId());var a=document.createTextNode(t+":");if(appendChild(n,a,r),r.description&&(n.title=r.description),r.required){var i=document.createElement("sup");appendChild(i,document.createTextNode("*"),r),appendChild(n,i,r),n.className="required"}appendChild(e,n,r)}}function getInputId(){return formId+"_"+inputCounter}function validate(e){var t=!0;if(e.hasOwnProperty("getValidationError")){var r=e.getValidationError();r?(BrutusinForms.onValidationError(e,r),t=!1):BrutusinForms.onValidationSuccess(e)}if(e.childNodes)for(var n=0;n<e.childNodes.length;n++)validate(e.childNodes[n])||(t=!1);return t}function clear(e){if(e)for(;e.firstChild;)e.removeChild(e.firstChild)}function render(e,t,r,n,a,i){var o=getSchemaId(r),s=getSchema(o);renderInfoMap[o]=new Object,renderInfoMap[o].titleContainer=e,renderInfoMap[o].container=t,renderInfoMap[o].parentObject=n,renderInfoMap[o].propertyProvider=a,renderInfoMap[o].value=i,clear(e),clear(t);var u=renderers[s.type];if(u&&!s.dependsOn)s.title?renderTitle(e,s.title,s):a&&renderTitle(e,a.getValue(),s),i||(i="undefined"!=typeof initialValue&&null!==initialValue?getInitialValue(r):s["default"]),u(t,r,n,a,i);else if(s.$ref&&obj.schemaResolver){var l=function(e){if(e&&e.hasOwnProperty(r)&&JSON.stringify(schemaMap[r])!==JSON.stringify(e[r])){cleanSchemaMap(r),cleanData(r),populateSchemaMap(r,e[r]);var t=renderInfoMap[r];t&&render(t.titleContainer,t.container,r,t.parentObject,t.propertyProvider,t.value)}BrutusinForms.onResolutionFinished(n)};BrutusinForms.onResolutionStarted(n),obj.schemaResolver([r],obj.getData(),l)}}function createPropertyProvider(e,t){var r=new Object;return r.getValue=e,r.onchange=t,r}function getInitialValue(id){var ret;try{eval("ret = initialValue"+id.substring(1))}catch(e){ret=null}return ret}function getValue(schema,input){if("function"==typeof input.getValue)return input.getValue();var value;return value="select"===input.tagName.toLowerCase()?input.options[input.selectedIndex].value:input.value,""===value?null:("integer"===schema.type?(value=parseInt(value),isFinite(value)||(value=null)):"number"===schema.type?(value=parseFloat(value),isFinite(value)||(value=null)):"boolean"===schema.type?"input"===input.tagName.toLowerCase()?(value=input.checked,value||(value=!1)):"select"===input.tagName.toLowerCase()&&(value="true"===input.value?!0:"false"===input.value?!1:null):"any"===schema.type&&value&&eval("value="+value),value)}function getSchemaId(e){return e.replace(/\["[^"]*"\]/g,"[*]").replace(/\[\d*\]/g,"[#]")}function getParentSchemaId(e){return e.substring(0,e.lastIndexOf("."))}function getSchema(e){return schemaMap[e]}function cleanSchemaMap(e){for(var t in schemaMap)e.startsWith(t)&&delete schemaMap[t]}function cleanData(e){var t=new Expression(e);t.visit(data,function(e,t,r){delete t[r]})}function onDependencyChanged(e,t){var r=dependencyMap[e];if(r&&obj.schemaResolver){var n=function(e){if(e)for(var r in e)if(JSON.stringify(schemaMap[r])!==JSON.stringify(e[r])){cleanSchemaMap(r),cleanData(r),populateSchemaMap(r,e[r]);var n=renderInfoMap[r];n&&render(n.titleContainer,n.container,r,n.parentObject,n.propertyProvider,n.value)}BrutusinForms.onResolutionFinished(t)};BrutusinForms.onResolutionStarted(t),obj.schemaResolver(r,obj.getData(),n)}}function Expression(e){function t(e){if(null===e)return null;for(var t=new Array,r=null,n=0,a=0;a<e.length;a++)'"'===e.charAt(a)?null===r?r='"':'"'===r&&(r=null,t[t.length]=e.substring(n,a+1).trim(),n=a+1):"'"===e.charAt(a)?null===r?r="'":"'"===r&&(r=null,t[t.length]=e.substring(n,a+1).trim(),n=a+1):"["===e.charAt(a)?null===r&&(n!==a&&(t[t.length]=e.substring(n,a).trim()),t[t.length]="[",n=a+1):"]"===e.charAt(a)?null===r&&(n!==a&&(t[t.length]=e.substring(n,a).trim()),t[t.length]="]",n=a+1):"."===e.charAt(a)?null===r&&(n!==a&&(t[t.length]=e.substring(n,a).trim()),n=a+1):a===e.length-1&&(t[t.length]=e.substring(n,a+1).trim());return t}(null===e||0===e.length||"."===e)&&(e="$");for(var r=new Array,n=t(e),a=!1,i=0,o="",s=0;s<n.length;s++){var u=n[s];if("["===u){if(a)throw"Error parsing expression '"+e+"': Nested [ found";a=!0,i=0,o+=u}else if("]"===u){if(!a)throw"Error parsing expression '"+e+"': Unbalanced ] found";a=!1,o+=u,r[r.length]=o,o=""}else if(a){if(i>0)throw"Error parsing expression '"+e+"': Multiple tokens found inside a bracket";o+=u,i++}else r[r.length]=u;if(s===n.length-1&&a)throw"Error parsing expression '"+e+"': Unbalanced [ found"}this.exp=e,this.queue=r,this.visit=function(e,t){function r(e,n,a,i,o){if(null!=a){var s=n.shift();if("$"===s){e="$";var s=n.shift()}if(s)if(Array.isArray(a)){if(!s.startsWith("["))throw"Node '"+e+"' is of type array";var u=s.substring(1,s.length-1);if(u.equals("#"))for(var l=0;l<a.length;l++){var d=a[l];r(e+s,n.slice(0),d,a,l),r(e+"["+l+"]",n.slice(0),d,a,l)}else if("$"===u){var d=a[a.length-1];r(e+s,n.slice(0),d,a,a.length-1)}else{var p=parseInt(u);if(isNaN(p))throw"Element '"+u+"' of node '"+e+"' is not an integer, or the '$' last element symbol,  or the wilcard symbol '#'";if(0>p)throw"Element '"+u+"' of node '"+e+"' is lower than zero";var d=a[p];r(e+s,n.slice(0),d,a,p)}}else{if("object"!=typeof a)throw"boolean"==typeof a||"number"==typeof a||"string"==typeof a?"Node is leaf but still are tokens remaining: "+s:"Node type '"+typeof a+"' not supported for index field '"+e+"'";if("[*]"===s)for(var c in a){var d=a[c];r(e+s,n.slice(0),d,a,c),r(e+'["'+c+'"]',n.slice(0),d,a,c)}else{var d;if(s.startsWith("[")){var u=s.substring(1,s.length-1);if(!u.startsWith('"')&&!u.startsWith("'"))throw"Element '"+u+"' of node '"+e+"' must be a string expression or wilcard '*'";u=u.substring(1,u.length()-1),e+=s,d=a[u]}else e=e.length>0?e+"."+s:s,d=a[s];r(e,n,d,a,s)}}else t(a,i,o)}}r(this.exp,this.queue,e)}}var SCHEMA_ANY={type:"any"},obj=new Object,schemaMap=new Object,dependencyMap=new Object,renderInfoMap=new Object,container,data,error,initialValue,inputCounter=0,root=schema,formId="BrutusinForms#"+BrutusinForms.instances.length;renameRequiredPropeties(schema),populateSchemaMap("$",schema),validateDepencyMapIsAcyclic();var renderers=new Object;return renderers.integer=function(e,t,r,n,a){renderers.string(e,t,r,n,a)},renderers.number=function(e,t,r,n,a){renderers.string(e,t,r,n,a)},renderers.any=function(e,t,r,n,a){renderers.string(e,t,r,n,a)},renderers.string=function(e,t,r,n,a){var i,o=getSchemaId(t),s=getParentSchemaId(o),u=getSchema(o),l=getSchema(s);if("any"===u.type)i=document.createElement("textarea"),a&&(i.value=JSON.stringify(a,null,4),u.readOnly&&(i.disabled=!0));else if(u.media)i=document.createElement("input"),i.type="file",appendChild(i,d,u);else if(u["enum"]){if(i=document.createElement("select"),!u.required){var d=document.createElement("option"),p=document.createTextNode("");d.value="",appendChild(d,p,u),appendChild(i,d,u)}for(var c=0,m=0;m<u["enum"].length;m++){var d=document.createElement("option"),p=document.createTextNode(u["enum"][m]);d.value=u["enum"][m],appendChild(d,p,u),appendChild(i,d,u),a&&u["enum"][m]===a&&(c=m,u.required||c++,u.readOnly&&(i.disabled=!0))}1===u["enum"].length?i.selectedIndex=1:i.selectedIndex=c}else{if(i=document.createElement("input"),"integer"===u.type||"number"===u.type)i.type="number",i.step=u.step?""+u.step:"any","number"!=typeof a&&(a=null);else if("date-time"===u.format)try{i.type="datetime-local"}catch(f){i.type="text"}else"email"===u.format?i.type="email":"text"===u.format?i=document.createElement("textarea"):i.type="text";null!==a&&"undefined"!=typeof a&&(i.value=a,u.readOnly&&(i.disabled=!0))}return i.schema=o,i.setAttribute("autocorrect","off"),i.getValidationError=function(){try{var e=getValue(u,i);if(null===e){if(u.required){if(!l||"object"!==l.type)return BrutusinForms.messages.required;if(l.required)return BrutusinForms.messages.required;for(var t in r)if(null!==r[t])return BrutusinForms.messages.required}}else{if(u.pattern&&!u.pattern.test(e))return BrutusinForms.messages.pattern.format(u.pattern.source);if(u.minLength&&(!e||u.minLength>e.length))return BrutusinForms.messages.minLength.format(u.minLength);if(u.maxLength&&e&&u.maxLength<e.length)return BrutusinForms.messages.maxLength.format(u.maxLength)}if(null!==e&&!isNaN(e)){if(u.multipleOf&&e%u.multipleOf!==0)return BrutusinForms.messages.multipleOf.format(u.multipleOf);if(u.hasOwnProperty("maximum")){if(u.exclusiveMaximum&&e>=u.maximum)return BrutusinForms.messages.exclusiveMaximum.format(u.maximum);if(!u.exclusiveMaximum&&e>u.maximum)return BrutusinForms.messages.maximum.format(u.maximum)}if(u.hasOwnProperty("minimum")){if(u.exclusiveMinimum&&e<=u.minimum)return BrutusinForms.messages.exclusiveMinimum.format(u.minimum);if(!u.exclusiveMinimum&&e<u.minimum)return BrutusinForms.messages.minimum.format(u.minimum)}}}catch(n){return BrutusinForms.messages.invalidValue}},i.onchange=function(){var e;try{e=getValue(u,i)}catch(t){e=null}r?r[n.getValue()]=e:data=e,onDependencyChanged(o,i)},u.description&&(i.title=u.description,i.placeholder=u.description),i.onchange(),i.id=getInputId(),inputCounter++,appendChild(e,i,u),r},renderers["boolean"]=function(e,t,r,n,a){var i,o=getSchemaId(t),s=getSchema(o);if(s.required)i=document.createElement("input"),i.type="checkbox",a===!0&&(i.checked=!0);else{i=document.createElement("select");var u=document.createElement("option"),l=document.createTextNode("");l.value="",appendChild(u,l,s),appendChild(i,u,s);var d=document.createElement("option"),p=document.createTextNode(BrutusinForms.messages["true"]);d.value="true",appendChild(d,p,s),appendChild(i,d,s);var c=document.createElement("option"),m=document.createTextNode(BrutusinForms.messages["false"]);c.value="false",appendChild(c,m,s),appendChild(i,c,s),a===!0?i.selectedIndex=1:a===!1&&(i.selectedIndex=2)}i.onchange=function(){r?r[n.getValue()]=getValue(s,i):data=getValue(s,i),onDependencyChanged(o,i)},i.schema=o,i.id=getInputId(),inputCounter++,s.description&&(i.title=s.description),i.onchange(),appendChild(e,i,s)},renderers.oneOf=function(e,t,r,n,a){var i=getSchemaId(t),o=getSchema(i),s=document.createElement("select"),u=document.createElement("div");u.innerHTML="",s.type="select",s.schema=i;var l=document.createElement("option");l.value=null,appendChild(s,l,o);for(var d=0;d<o.oneOf.length;d++){var p=document.createElement("option"),c=i+"."+d,m=getSchema(c),f=document.createTextNode(m.title);if(p.value=o.oneOf[d],appendChild(p,f,o),appendChild(s,p,o),void 0!==a&&null!==a&&(o.readOnly&&(s.disabled=!0),a.hasOwnProperty("type")&&m.hasOwnProperty("properties")&&m.properties.hasOwnProperty("type"))){var h=getSchema(m.properties.type);a.type===h["enum"][0]&&(s.selectedIndex=d+1,render(null,u,t+"."+(s.selectedIndex-1),r,n,a))}}s.onchange=function(){render(null,u,t+"."+(s.selectedIndex-1),r,n,a)},appendChild(e,s,o),appendChild(e,u,o)},renderers.object=function(e,t,r,n,a){function i(e){var t=new Object;return t.getValue=function(){return e},t.onchange=function(e){},t}function o(e,t,r,n,a,i){var o=getSchemaId(r),s=getSchema(o),u=t.tBodies[0],l=document.createElement("tr"),d=document.createElement("td");d.className="add-prop-name";var p=document.createElement("table"),c=document.createElement("tr"),m=document.createElement("td"),f=document.createElement("td"),h="$"+Object.keys(e).length+"$",v=document.createElement("td");v.className="prop-value";var g=document.createElement("input");g.type="text";var y;i&&(y=RegExp(i)),g.getValidationError=function(){return g.previousValue!==g.value&&e.hasOwnProperty(g.value)?BrutusinForms.messages.addpropNameExistent:g.value?void 0:BrutusinForms.messages.addpropNameRequired};var b=createPropertyProvider(function(){if(g.value){if(!y)return g.value;if(-1!==g.value.search(y))return g.value}return h},function(t){b.getValue()!==t&&(t&&e.hasOwnProperty(t)||(t=h),(e.hasOwnProperty(t)||y&&-1===b.getValue().search(y))&&(e[b.getValue()]=e[t],delete e[t]))});g.onblur=function(){if(g.previousValue!==g.value){for(var t=g.value,r=1;g.previousValue!==t&&e.hasOwnProperty(t);)t=g.value+"("+r+")",r++;return g.value=t,b.onchange(g.previousValue),void(g.previousValue=g.value)}};var P=document.createElement("button");P.setAttribute("type","button"),P.className="remove",appendChild(P,document.createTextNode("x"),s),P.onclick=function(){delete e[g.value],t.deleteRow(l.rowIndex),g.value=null,b.onchange(g.previousValue)},appendChild(m,g,s),appendChild(f,P,s),appendChild(c,m,s),appendChild(c,f,s),appendChild(p,c,s),appendChild(d,p,s),void 0!==i&&(g.placeholder=i),appendChild(l,d,s),appendChild(l,v,s),appendChild(u,l,s),appendChild(t,u,s),render(null,v,r,e,b,a),n&&(g.value=n,g.onblur())}var s=getSchemaId(t),u=getSchema(s),l=new Object;r?(n.getValue()||0===n.getValue())&&(r[n.getValue()]=l):data=l;var d=document.createElement("table");d.className="object";var p=document.createElement("tbody");appendChild(d,p,u);var c=0;if(u.hasOwnProperty("properties")){c=u.properties.length;for(var m in u.properties){var f=document.createElement("tr"),h=document.createElement("td");h.className="prop-name";var v=t+"."+m,g=getSchema(getSchemaId(v)),y=document.createElement("td");y.className="prop-value",appendChild(p,f,g),appendChild(f,h,g),appendChild(f,y,g);var b=i(m),P=null;a&&(P=a[m]),render(h,y,v,l,b,P)}}var O=[];if(u.patternProperties||u.additionalProperties){var w=document.createElement("div");if(appendChild(w,d,u),u.patternProperties)for(var x in u.patternProperties){var C=u.patternProperties[x],E=document.createElement("div");E.className="add-pattern-div";var S=document.createElement("button");if(S.setAttribute("type","button"),S.pattern=x,S.id=t+"["+x+"]",S.onclick=function(){o(l,d,this.id,void 0,void 0,this.pattern)},(u.maxProperties||u.minProperties)&&(S.getValidationError=function(){return u.minProperties&&c+d.rows.length<u.minProperties?BrutusinForms.messages.minProperties.format(u.minProperties):u.maxProperties&&c+d.rows.length>u.maxProperties?BrutusinForms.messages.maxProperties.format(u.maxProperties):void 0}),C.description&&(S.title=C.description),appendChild(S,document.createTextNode("Add "+x),u),appendChild(E,S,u),a)for(var I in a)if(!u.properties||!u.properties.hasOwnProperty(I)){var N=RegExp(x);-1!==I.search(N)&&-1===O.indexOf(I)&&(o(l,d,t+"["+x+"]",I,a[I],x),O.push(I))}appendChild(w,E,u)}if(u.additionalProperties){var F=getSchema(u.additionalProperties),S=document.createElement("button");if(S.setAttribute("type","button"),S.onclick=function(){o(l,d,t+"[*]",void 0)},(u.maxProperties||u.minProperties)&&(S.getValidationError=function(){return u.minProperties&&c+d.rows.length<u.minProperties?BrutusinForms.messages.minProperties.format(u.minProperties):u.maxProperties&&c+d.rows.length>u.maxProperties?BrutusinForms.messages.maxProperties.format(u.maxProperties):void 0}),F.description&&(S.title=F.description),appendChild(S,document.createTextNode("Add"),u),appendChild(w,S,u),a)for(var I in a)u.properties&&u.properties.hasOwnProperty(I)||-1===O.indexOf(I)&&o(l,d,t+'["'+m+'"]',I,a[I])}appendChild(e,w,u)}else appendChild(e,d,u)},renderers.array=function(e,t,r,n,a){function i(e,t,r,n,a){var i=getSchemaId(r),o=getSchema(i),s=document.createElement("tbody"),u=document.createElement("tr");u.className="item";var l=document.createElement("td");l.className="item-index";var d=document.createElement("td");d.className="item-action";var p=document.createElement("td");p.className="item-value";var c=document.createElement("button");c.setAttribute("type","button"),c.className="remove",a===!0&&(c.disabled=!0),appendChild(c,document.createTextNode("x"),o);var m=function(){for(var e=0;e<t.rows.length;e++){var r=t.rows[e];r.cells[0].innerHTML=e+1}};c.onclick=function(){e.splice(u.rowIndex,1),t.deleteRow(u.rowIndex),m()},appendChild(d,c,o);var f=document.createTextNode(t.rows.length+1);appendChild(l,f,o),appendChild(u,l,o),appendChild(u,d,o),appendChild(u,p,o),appendChild(s,u,o),appendChild(t,s,o);var h=createPropertyProvider(function(){return u.rowIndex});render(null,p,r,e,h,n)}var o=getSchemaId(t),s=getSchema(o),u=getSchema(s.items),l=new Array;r?(n.getValue()||0===n.getValue())&&(r[n.getValue()]=l):data=l,n&&(n.onchange=function(e){delete r[e],r[n.getValue()]=l});var d=document.createElement("div"),p=document.createElement("table");p.className="array",appendChild(d,p,s),appendChild(e,d,s);var c=document.createElement("button");if(s.readOnly&&(c.disabled=!0),c.setAttribute("type","button"),c.getValidationError=function(){if(s.minItems&&s.minItems>p.rows.length)return BrutusinForms.messages.minItems.format(s.minItems);if(s.maxItems&&s.maxItems<p.rows.length)return BrutusinForms.messages.maxItems.format(s.maxItems);if(s.uniqueItems)for(var e=0;e<l.length;e++)for(var t=e+1;t<l.length;t++)if(JSON.stringify(l[e])===JSON.stringify(l[t]))return BrutusinForms.messages.uniqueItems},c.onclick=function(){i(l,p,t+"[#]",null)},u.description&&(c.title=u.description),appendChild(c,document.createTextNode(BrutusinForms.messages.addItem),s),appendChild(d,p,s),appendChild(d,c,s),a&&a instanceof Array)for(var m=0;m<a.length;m++)i(l,p,t+"["+m+"]",a[m],s.readOnly);appendChild(e,d,s)},obj.render=function(e,t){container=e,initialValue=t;var r=document.createElement("form");if(r.className="brutusin-form",r.onsubmit=function(e){return!1},container?appendChild(container,r):appendChild(document.body,r),error){var n=document.createElement("label"),a=document.createTextNode(error);appendChild(n,a),n.className="error-message",appendChild(r,n)}else render(null,r,"$",null,null);dependencyMap.hasOwnProperty("$")&&onDependencyChanged("$"),BrutusinForms.postRender&&BrutusinForms.postRender(obj)},obj.getRenderingContainer=function(){return container},obj.validate=function(){return validate(container)},obj.getData=function(){function e(t,r){if(null===s&&(s=SCHEMA_ANY),r.$ref&&(r=getDefinition(r.$ref)),t instanceof Array){if(0===t.length)return null;for(var n=new Array,a=0;a<t.length;a++)n[a]=e(t[a],r.items);return n}if(""===t)return null;if(t instanceof Object){var n=new Object,i=!1;for(var o in t)if(!o.startsWith("$")||!o.endsWith("$")){var s=null;if(r.hasOwnProperty("properties")&&r.properties.hasOwnProperty(o)&&(s=r.properties[o]),null===s&&r.hasOwnProperty("additionalProperties")&&"object"==typeof r.additionalProperties&&(s=r.additionalProperties),null===s&&r.hasOwnProperty("patternProperties"))for(var u in r.patternProperties){var l=RegExp(u);if(-1!==o.search(l)){s=r.patternProperties[u];break}}var d=e(t[o],s);null!==d&&(n[o]=d,i=!0)}return i||r.required?n:null}return t}return container?e(data,schema):null},BrutusinForms.instances[BrutusinForms.instances.length]=obj,obj},brutusin["json-forms"]=BrutusinForms}();

/***/ }),
/* 53 */
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin

/***/ }),
/* 54 */
/***/ (function(module, exports) {

module.exports = function(module) {
	if(!module.webpackPolyfill) {
		module.deprecate = function() {};
		module.paths = [];
		// module.parent = undefined by default
		if(!module.children) module.children = [];
		Object.defineProperty(module, "loaded", {
			enumerable: true,
			get: function() {
				return module.l;
			}
		});
		Object.defineProperty(module, "id", {
			enumerable: true,
			get: function() {
				return module.i;
			}
		});
		module.webpackPolyfill = 1;
	}
	return module;
};


/***/ }),
/* 55 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony export (immutable) */ __webpack_exports__["Headers"] = Headers;
/* harmony export (immutable) */ __webpack_exports__["Request"] = Request;
/* harmony export (immutable) */ __webpack_exports__["Response"] = Response;
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DOMException", function() { return DOMException; });
/* harmony export (immutable) */ __webpack_exports__["fetch"] = fetch;
var support = {
  searchParams: 'URLSearchParams' in self,
  iterable: 'Symbol' in self && 'iterator' in Symbol,
  blob:
    'FileReader' in self &&
    'Blob' in self &&
    (function() {
      try {
        new Blob()
        return true
      } catch (e) {
        return false
      }
    })(),
  formData: 'FormData' in self,
  arrayBuffer: 'ArrayBuffer' in self
}

function isDataView(obj) {
  return obj && DataView.prototype.isPrototypeOf(obj)
}

if (support.arrayBuffer) {
  var viewClasses = [
    '[object Int8Array]',
    '[object Uint8Array]',
    '[object Uint8ClampedArray]',
    '[object Int16Array]',
    '[object Uint16Array]',
    '[object Int32Array]',
    '[object Uint32Array]',
    '[object Float32Array]',
    '[object Float64Array]'
  ]

  var isArrayBufferView =
    ArrayBuffer.isView ||
    function(obj) {
      return obj && viewClasses.indexOf(Object.prototype.toString.call(obj)) > -1
    }
}

function normalizeName(name) {
  if (typeof name !== 'string') {
    name = String(name)
  }
  if (/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(name)) {
    throw new TypeError('Invalid character in header field name')
  }
  return name.toLowerCase()
}

function normalizeValue(value) {
  if (typeof value !== 'string') {
    value = String(value)
  }
  return value
}

// Build a destructive iterator for the value list
function iteratorFor(items) {
  var iterator = {
    next: function() {
      var value = items.shift()
      return {done: value === undefined, value: value}
    }
  }

  if (support.iterable) {
    iterator[Symbol.iterator] = function() {
      return iterator
    }
  }

  return iterator
}

function Headers(headers) {
  this.map = {}

  if (headers instanceof Headers) {
    headers.forEach(function(value, name) {
      this.append(name, value)
    }, this)
  } else if (Array.isArray(headers)) {
    headers.forEach(function(header) {
      this.append(header[0], header[1])
    }, this)
  } else if (headers) {
    Object.getOwnPropertyNames(headers).forEach(function(name) {
      this.append(name, headers[name])
    }, this)
  }
}

Headers.prototype.append = function(name, value) {
  name = normalizeName(name)
  value = normalizeValue(value)
  var oldValue = this.map[name]
  this.map[name] = oldValue ? oldValue + ', ' + value : value
}

Headers.prototype['delete'] = function(name) {
  delete this.map[normalizeName(name)]
}

Headers.prototype.get = function(name) {
  name = normalizeName(name)
  return this.has(name) ? this.map[name] : null
}

Headers.prototype.has = function(name) {
  return this.map.hasOwnProperty(normalizeName(name))
}

Headers.prototype.set = function(name, value) {
  this.map[normalizeName(name)] = normalizeValue(value)
}

Headers.prototype.forEach = function(callback, thisArg) {
  for (var name in this.map) {
    if (this.map.hasOwnProperty(name)) {
      callback.call(thisArg, this.map[name], name, this)
    }
  }
}

Headers.prototype.keys = function() {
  var items = []
  this.forEach(function(value, name) {
    items.push(name)
  })
  return iteratorFor(items)
}

Headers.prototype.values = function() {
  var items = []
  this.forEach(function(value) {
    items.push(value)
  })
  return iteratorFor(items)
}

Headers.prototype.entries = function() {
  var items = []
  this.forEach(function(value, name) {
    items.push([name, value])
  })
  return iteratorFor(items)
}

if (support.iterable) {
  Headers.prototype[Symbol.iterator] = Headers.prototype.entries
}

function consumed(body) {
  if (body.bodyUsed) {
    return Promise.reject(new TypeError('Already read'))
  }
  body.bodyUsed = true
}

function fileReaderReady(reader) {
  return new Promise(function(resolve, reject) {
    reader.onload = function() {
      resolve(reader.result)
    }
    reader.onerror = function() {
      reject(reader.error)
    }
  })
}

function readBlobAsArrayBuffer(blob) {
  var reader = new FileReader()
  var promise = fileReaderReady(reader)
  reader.readAsArrayBuffer(blob)
  return promise
}

function readBlobAsText(blob) {
  var reader = new FileReader()
  var promise = fileReaderReady(reader)
  reader.readAsText(blob)
  return promise
}

function readArrayBufferAsText(buf) {
  var view = new Uint8Array(buf)
  var chars = new Array(view.length)

  for (var i = 0; i < view.length; i++) {
    chars[i] = String.fromCharCode(view[i])
  }
  return chars.join('')
}

function bufferClone(buf) {
  if (buf.slice) {
    return buf.slice(0)
  } else {
    var view = new Uint8Array(buf.byteLength)
    view.set(new Uint8Array(buf))
    return view.buffer
  }
}

function Body() {
  this.bodyUsed = false

  this._initBody = function(body) {
    this._bodyInit = body
    if (!body) {
      this._bodyText = ''
    } else if (typeof body === 'string') {
      this._bodyText = body
    } else if (support.blob && Blob.prototype.isPrototypeOf(body)) {
      this._bodyBlob = body
    } else if (support.formData && FormData.prototype.isPrototypeOf(body)) {
      this._bodyFormData = body
    } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {
      this._bodyText = body.toString()
    } else if (support.arrayBuffer && support.blob && isDataView(body)) {
      this._bodyArrayBuffer = bufferClone(body.buffer)
      // IE 10-11 can't handle a DataView body.
      this._bodyInit = new Blob([this._bodyArrayBuffer])
    } else if (support.arrayBuffer && (ArrayBuffer.prototype.isPrototypeOf(body) || isArrayBufferView(body))) {
      this._bodyArrayBuffer = bufferClone(body)
    } else {
      this._bodyText = body = Object.prototype.toString.call(body)
    }

    if (!this.headers.get('content-type')) {
      if (typeof body === 'string') {
        this.headers.set('content-type', 'text/plain;charset=UTF-8')
      } else if (this._bodyBlob && this._bodyBlob.type) {
        this.headers.set('content-type', this._bodyBlob.type)
      } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {
        this.headers.set('content-type', 'application/x-www-form-urlencoded;charset=UTF-8')
      }
    }
  }

  if (support.blob) {
    this.blob = function() {
      var rejected = consumed(this)
      if (rejected) {
        return rejected
      }

      if (this._bodyBlob) {
        return Promise.resolve(this._bodyBlob)
      } else if (this._bodyArrayBuffer) {
        return Promise.resolve(new Blob([this._bodyArrayBuffer]))
      } else if (this._bodyFormData) {
        throw new Error('could not read FormData body as blob')
      } else {
        return Promise.resolve(new Blob([this._bodyText]))
      }
    }

    this.arrayBuffer = function() {
      if (this._bodyArrayBuffer) {
        return consumed(this) || Promise.resolve(this._bodyArrayBuffer)
      } else {
        return this.blob().then(readBlobAsArrayBuffer)
      }
    }
  }

  this.text = function() {
    var rejected = consumed(this)
    if (rejected) {
      return rejected
    }

    if (this._bodyBlob) {
      return readBlobAsText(this._bodyBlob)
    } else if (this._bodyArrayBuffer) {
      return Promise.resolve(readArrayBufferAsText(this._bodyArrayBuffer))
    } else if (this._bodyFormData) {
      throw new Error('could not read FormData body as text')
    } else {
      return Promise.resolve(this._bodyText)
    }
  }

  if (support.formData) {
    this.formData = function() {
      return this.text().then(decode)
    }
  }

  this.json = function() {
    return this.text().then(JSON.parse)
  }

  return this
}

// HTTP methods whose capitalization should be normalized
var methods = ['DELETE', 'GET', 'HEAD', 'OPTIONS', 'POST', 'PUT']

function normalizeMethod(method) {
  var upcased = method.toUpperCase()
  return methods.indexOf(upcased) > -1 ? upcased : method
}

function Request(input, options) {
  options = options || {}
  var body = options.body

  if (input instanceof Request) {
    if (input.bodyUsed) {
      throw new TypeError('Already read')
    }
    this.url = input.url
    this.credentials = input.credentials
    if (!options.headers) {
      this.headers = new Headers(input.headers)
    }
    this.method = input.method
    this.mode = input.mode
    this.signal = input.signal
    if (!body && input._bodyInit != null) {
      body = input._bodyInit
      input.bodyUsed = true
    }
  } else {
    this.url = String(input)
  }

  this.credentials = options.credentials || this.credentials || 'same-origin'
  if (options.headers || !this.headers) {
    this.headers = new Headers(options.headers)
  }
  this.method = normalizeMethod(options.method || this.method || 'GET')
  this.mode = options.mode || this.mode || null
  this.signal = options.signal || this.signal
  this.referrer = null

  if ((this.method === 'GET' || this.method === 'HEAD') && body) {
    throw new TypeError('Body not allowed for GET or HEAD requests')
  }
  this._initBody(body)
}

Request.prototype.clone = function() {
  return new Request(this, {body: this._bodyInit})
}

function decode(body) {
  var form = new FormData()
  body
    .trim()
    .split('&')
    .forEach(function(bytes) {
      if (bytes) {
        var split = bytes.split('=')
        var name = split.shift().replace(/\+/g, ' ')
        var value = split.join('=').replace(/\+/g, ' ')
        form.append(decodeURIComponent(name), decodeURIComponent(value))
      }
    })
  return form
}

function parseHeaders(rawHeaders) {
  var headers = new Headers()
  // Replace instances of \r\n and \n followed by at least one space or horizontal tab with a space
  // https://tools.ietf.org/html/rfc7230#section-3.2
  var preProcessedHeaders = rawHeaders.replace(/\r?\n[\t ]+/g, ' ')
  preProcessedHeaders.split(/\r?\n/).forEach(function(line) {
    var parts = line.split(':')
    var key = parts.shift().trim()
    if (key) {
      var value = parts.join(':').trim()
      headers.append(key, value)
    }
  })
  return headers
}

Body.call(Request.prototype)

function Response(bodyInit, options) {
  if (!options) {
    options = {}
  }

  this.type = 'default'
  this.status = options.status === undefined ? 200 : options.status
  this.ok = this.status >= 200 && this.status < 300
  this.statusText = 'statusText' in options ? options.statusText : 'OK'
  this.headers = new Headers(options.headers)
  this.url = options.url || ''
  this._initBody(bodyInit)
}

Body.call(Response.prototype)

Response.prototype.clone = function() {
  return new Response(this._bodyInit, {
    status: this.status,
    statusText: this.statusText,
    headers: new Headers(this.headers),
    url: this.url
  })
}

Response.error = function() {
  var response = new Response(null, {status: 0, statusText: ''})
  response.type = 'error'
  return response
}

var redirectStatuses = [301, 302, 303, 307, 308]

Response.redirect = function(url, status) {
  if (redirectStatuses.indexOf(status) === -1) {
    throw new RangeError('Invalid status code')
  }

  return new Response(null, {status: status, headers: {location: url}})
}

var DOMException = self.DOMException
try {
  new DOMException()
} catch (err) {
  DOMException = function(message, name) {
    this.message = message
    this.name = name
    var error = Error(message)
    this.stack = error.stack
  }
  DOMException.prototype = Object.create(Error.prototype)
  DOMException.prototype.constructor = DOMException
}

function fetch(input, init) {
  return new Promise(function(resolve, reject) {
    var request = new Request(input, init)

    if (request.signal && request.signal.aborted) {
      return reject(new DOMException('Aborted', 'AbortError'))
    }

    var xhr = new XMLHttpRequest()

    function abortXhr() {
      xhr.abort()
    }

    xhr.onload = function() {
      var options = {
        status: xhr.status,
        statusText: xhr.statusText,
        headers: parseHeaders(xhr.getAllResponseHeaders() || '')
      }
      options.url = 'responseURL' in xhr ? xhr.responseURL : options.headers.get('X-Request-URL')
      var body = 'response' in xhr ? xhr.response : xhr.responseText
      resolve(new Response(body, options))
    }

    xhr.onerror = function() {
      reject(new TypeError('Network request failed'))
    }

    xhr.ontimeout = function() {
      reject(new TypeError('Network request failed'))
    }

    xhr.onabort = function() {
      reject(new DOMException('Aborted', 'AbortError'))
    }

    xhr.open(request.method, request.url, true)

    if (request.credentials === 'include') {
      xhr.withCredentials = true
    } else if (request.credentials === 'omit') {
      xhr.withCredentials = false
    }

    if ('responseType' in xhr && support.blob) {
      xhr.responseType = 'blob'
    }

    request.headers.forEach(function(value, name) {
      xhr.setRequestHeader(name, value)
    })

    if (request.signal) {
      request.signal.addEventListener('abort', abortXhr)

      xhr.onreadystatechange = function() {
        // DONE (success or failure)
        if (xhr.readyState === 4) {
          request.signal.removeEventListener('abort', abortXhr)
        }
      }
    }

    xhr.send(typeof request._bodyInit === 'undefined' ? null : request._bodyInit)
  })
}

fetch.polyfill = true

if (!self.fetch) {
  self.fetch = fetch
  self.Headers = Headers
  self.Request = Request
  self.Response = Response
}


/***/ }),
/* 56 */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__(23);


/***/ })
/******/ ]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAgMjFhMjFlNWQxNjdjYjYwNDRjNDMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbW1vbi9qcy1zZXJ2aWNlcy9jb25zdHMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbW1vbi9qcy1zZXJ2aWNlcy92aWV3LmpzIiwid2VicGFjazovLy8uL3NyYy9jb21tb24vanMtc2VydmljZXMvYXBpLXRhc2stbWFuYWdlci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tbW9uL2pzLXNlcnZpY2VzL3VzZXIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbW1vbi9qcy1zZXJ2aWNlcy9jb29raWUuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Jsb2Nrcy9fc2hhcmVkL3Rhc2stc3RhdHVzL3Rhc2stc3RhdHVzLmpzIiwid2VicGFjazovLy8uL3NyYy9ibG9ja3Mvd2l6YXJkLWZvcm0vd2l6YXJkLWZvcm0uanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Jsb2Nrcy9fc2hhcmVkL2ltYWdlLXVwbG9hZC9pbWFnZS11cGxvYWQuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Jsb2Nrcy9fc2hhcmVkL2xvZ3MvbG9ncy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYmxvY2tzL19zaGFyZWQvdGVicy1waWxzL3RhYnMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Jsb2Nrcy9fc2hhcmVkL3RhZ3MtaW5wdXQvdGFncy1pbnB1dC5qcyIsIndlYnBhY2s6Ly8vLi9+L3B1YnN1Yi1qcy9zcmMvcHVic3ViLmpzIiwid2VicGFjazovLy8uL3NyYy9ibG9ja3MvX3NoYXJlZC9nZXRQb3N0c01vZGFsL3V0aWxzLW1vZGFsLmpzIiwid2VicGFjazovLy8uL3NyYy9ibG9ja3MvX3NoYXJlZC9sb2dzL2xvZ3MtdGFicy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYmxvY2tzL2ZvbGxvdy9mb2xsb3ctcmVhZC1maWxlLXR4dC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tbW9uL2pzLXNlcnZpY2VzL2Vtb2ppLmpzIiwid2VicGFjazovLy8uL3NyYy9jb21tb24vanMtc2VydmljZXMvbmV0d29yay5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tbW9uL2pzLXNlcnZpY2VzL3NwaW5uZXIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Jsb2Nrcy9fc2hhcmVkL2Ryb3Bkb3duL2Ryb3Bkb3duLmpzIiwid2VicGFjazovLy8uL3NyYy9ibG9ja3MvX3NoYXJlZC90YXNrLXN0YXR1cy90YXNrLXN0YXR1cy1ieS1zdWJ0eXBlLmpzIiwid2VicGFjazovLy8uL3NyYy9ibG9ja3MvaW5zdGFncmFtLWFjY291bnRzLWxpc3QvaW5zdGFncmFtLWFjY291bnRzLWxpc3QuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbW1vbi9qcy1zZXJ2aWNlcy9hcGktdXNlci1kaXJlY3QuanMiLCJ3ZWJwYWNrOi8vLy4vfi9lbW9qaW9uZUFyZWEvZGlzdC9lbW9qaW9uZWFyZWEuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Jvb3RzdHJhcC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYmxvY2tzL2F1dG9jb21tZW50cy9hZGRBbnN3ZXJUZW1wbGF0ZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYmxvY2tzL2F1dG9jb21tZW50cy9hdXRvY29tbWVudHMtaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Jsb2Nrcy9hdXRvY29tbWVudHMvYXV0b2NvbW1lbnRzLXN0YXR1cy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYmxvY2tzL2F1dG9ncmVldGluZy9hZGRHcmVldFRlbXBsYXRlLmpzIiwid2VicGFjazovLy8uL3NyYy9ibG9ja3MvYXV0b2dyZWV0aW5nL2F1dG9ncmVldGluZy1tYWluLmpzIiwid2VicGFjazovLy8uL3NyYy9ibG9ja3MvYXV0b2dyZWV0aW5nL2F1dG9ncmVldGluZy1zdGF0dXMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Jsb2Nrcy9hdXRvbWVzc2FnZXMvYWRkQW5zd2VyVGVtcGxhdGUuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Jsb2Nrcy9hdXRvbWVzc2FnZXMvYXV0b21lc3NhZ2VzLWluZGV4LmpzIiwid2VicGFjazovLy8uL3NyYy9ibG9ja3MvYXV0b21lc3NhZ2VzL2F1dG9tZXNzYWdlcy1zdGF0dXMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Jsb2Nrcy9jaGF0LWJvdC9jaGF0LWJvdC1pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYmxvY2tzL2NoYXQtYm90L2NoYXQtYm90LXN0YXR1cy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYmxvY2tzL2NvbmZpcm0tcmVnL2NvbmZpcm0tcmVnLmpzIiwid2VicGFjazovLy8uL3NyYy9ibG9ja3MvZm9sbG93L2ZvbGxvdy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYmxvY2tzL2hlYWRlci9idXJnZXItbWVudS9idXJnZXItbWVudS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYmxvY2tzL2hlYWRlci9oZWFkZXIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Jsb2Nrcy9pbnN0YWdyYW0tYWNjb3VudHMtbGlzdC9hY2NvdW50cy1saXN0LWJ0bi1zZXR0aW5ncy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYmxvY2tzL2xvZ2luLWZvcm0vbG9naW4tZm9ybS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYmxvY2tzL21lc3NhZ2VzL21lc3NhZ2VzLmpzIiwid2VicGFjazovLy8uL3NyYy9ibG9ja3MvbWVzc2FnZXMvcmVxdWVzdHMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Jsb2Nrcy9tZXNzYWdlcy91dGlscy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYmxvY2tzL3JlZ2lzdGVyLWZvcm0vcmVnaXN0ZXItZm9ybS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYmxvY2tzL3NpZGViYXItbWVudS9zaWRlYmFyLW1lbnUuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Jsb2Nrcy9zdG9yaWVzL3N0b3JpZXMtaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Jsb2Nrcy9zdG9yaWVzL3N0b3JpZXMtc3RhdHVzLmpzIiwid2VicGFjazovLy8uL3NyYy9ibG9ja3MvdW5mb2xsb3cvdW5mb2xsb3ctaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Jsb2Nrcy91bmZvbGxvdy91bmZvbGxvdy1zdGF0dXMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BhZ2VzL19hdXRoL2xvZ2luLXBhZ2UuanMiLCJ3ZWJwYWNrOi8vLy4vfi9ib290c3RyYXAtdGFnc2lucHV0L2Rpc3QvYm9vdHN0cmFwLXRhZ3NpbnB1dC5taW4uanMiLCJ3ZWJwYWNrOi8vLy4vfi9icnV0dXNpbi1qc29uLWZvcm1zL2Rpc3QvanMvYnJ1dHVzaW4tanNvbi1mb3Jtcy5taW4uanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Jhc2Uuc2NzcyIsIndlYnBhY2s6Ly8vKHdlYnBhY2spL2J1aWxkaW4vbW9kdWxlLmpzIiwid2VicGFjazovLy8uL34vd2hhdHdnLWZldGNoL2ZldGNoLmpzIl0sIm5hbWVzIjpbIkNPTlNUIiwidXJsIiwidG1UeXBlcyIsImZvbGxvd2luZ1QiLCJmb2xsb3dpbmdTdWJUIiwidW5mb2xsb3dpbmdUIiwidW5mb2xsb3dpbmdTdWJUIiwiY2hhdEJvdFQiLCJjaGF0Qm90U3ViVCIsImF1dG9tZXNzYWdlc1QiLCJhdXRvbWVzc2FnZXNTdWJUIiwiYXV0b2dyZWV0VCIsImF1dG9ncmVldFN1YlQiLCJzdG9yaWVzVCIsInN0b3JpZXNTdWJUIiwiYXV0b2NvbW1lbnRzVCIsImF1dG9jb21tZW50c1N1YlQiLCJiYXNlIiwicmVnaXN0cmF0aW9uIiwibG9naW4iLCJjb25maXJtYXRpb24iLCJpbnN0YWdyYW1fYWRkQWNjb3VudCIsImluc3RhZ3JhbUFjY291bnRfZ2V0TWV0YURhdGEiLCJpbnN0YWdyYW1fZ2V0QWNjb3VudEJ5VXNlciIsInVzZXJuYW1lIiwiaW5zdGFncmFtX21vZGlmeUFjY291bnQiLCJpbnN0YWdyYW1UYXNrTWFuYWdlcl9nZXRQb3N0cyIsImFjY291bnROYW1lIiwiaW5zdGFncmFtQWNjb3VudF9jaGVja3BvaW50IiwiaW5zdGFncmFtQWNjb3VudF9jb25maXJtS2V5IiwiaW5zdGFncmFtRGlyZWN0X0Jhc2ljIiwiaW5zdGFncmFtRGlyZWN0X3Bvc3RNZXNzYWdlIiwiaW5zdGFncmFtRGlyZWN0X2dldE1ldGFEYXRhIiwiaW5zdGFncmFtRGlyZWN0X1JlcXVlc3RQZW5kaW5nIiwiaW5zdGFncmFtVGFza01hbmFnZXIiLCJpbnN0YWdyYW1UYXNrTWFuYWdlcl9nZXRNZXRhRGF0YSIsImluc3RhZ3JhbVRhc2tNYW5hZ2VyX2dldFRhc2tCeVR5cGVzIiwiaW5zdGFncmFtVGFza01hbmFnZXJfZ2V0RGVmYXVsdENvbmZpZ3MiLCJpbnN0YWdyYW1UYXNrTWFuYWdlcl9wb3N0U3RhcnRGb2xsb3dpbmdMaXN0IiwiaW5zdGFncmFtVGFza01hbmFnZXJfcG9zdFN0YXJ0VGFzayIsImluc3RhZ3JhbVRhc2tNYW5hZ2VyX2dldFRhc2tUeXBlcyIsImluc3RhZ3JhbVRhc2tNYW5hZ2VyX3B1dFN0b3BUYXNrQnlJRCIsImlkIiwiaW5zdGFncmFtVGFza01hbmFnZXJfZGVsUmVtb3ZlVGFza0J5SUQiLCJpbnN0YWdyYW1UYXNrTWFuYWdlcl9wb3N0SW1hZ2VBdHRhY2htZW50IiwiaW5zdGFncmFtVGFza01hbmFnZXJfcG9zdFRleHRBdHRhY2htZW50IiwiaW5zdGFncmFtVGFza01hbmFnZXJfZ2V0TG9nc0NoYXRCb3QiLCJ1c2VyIiwiZGVmYXVsQXZhdGFyIiwiZW1haWwiLCJwYXNzd29yZCIsInRva2VuIiwiY29va2llU3RvcmFnZSIsImVtYWlsQ29uZmlybWVkIiwidWlTZWxlY3RvcnMiLCJoZWFkZXJMb2dpbkJveCIsImhlYWRlck5hdkxvZ2luQnRuIiwiaGVhZGVyUmVnQm94IiwiaGVhZGVyUmVnQnRuIiwiaW5zdGFncmFtIiwiYWRkQWNjb3VudEJ0blNlbGVjdG9yIiwiYWRkQWNjb3VudEJ0bklkIiwiZXZlbnRzIiwiVVNFUl9MT0dHRUQiLCJVU0VSX0xPR09VVCIsIlVTRVJfRU1BSUxfQ09ORklSTUVEIiwiU1RPUF9GSVhFRF9TUElOTkVSIiwibWVzc2FnZXMiLCJSRUNJRVZFX05FV19NRVNTQUdFIiwiaW5zdGFncmFtQWNjb3VucyIsIklOU1RBR1JBTV9BQ0NPVU5TX05FRURfUkVGUkVTSCIsIklOU1RBR1JBTV9BQ0NPVU5TX1JFTkRFUkVEIiwiSU5TVEFHUkFNX0FDQ09VTlNfUkVOREVSRURfTEFaWSIsIm1vZGFsIiwiSU1BR0VfUE9TVF9TRUxFQ1RFRCIsIklNQUdFX1VQTE9BREVEX0FWQVRBUiIsImF1dG9hcm5zd2VyIiwiSU1BR0VfVVBMT0FERUQiLCJURVhUX0ZJTEVfVVBMT0FERUQiLCJ0YXNrcyIsIk5FV19UQVNLX0NSRUFURUQiLCJsb2dzIiwiU1RPUF9MT0dTIiwibG9nc1N0YXRlIiwic2VsZWN0Q2xzIiwic2VsZWN0Q2xzTG9nc1Rhc2tUeXBlIiwid3JhcHBlclN1YnR5cGUiLCJnZXRQYXRoIiwibmFtZSIsImdldFBhdGhUeXBlU3VidHlwZSIsInBhdGgiLCJwYWdlIiwidHlwZSIsInN1YnR5cGUiLCJnZXRQYXRoQnlBcnIiLCJhcnJheSIsInJlZHVjZXIiLCJhY2N1bXVsYXRvciIsImN1cnJlbnRWYWx1ZSIsInJlZHVjZSIsInZpZXdVdGlscyIsInNob3dJbmZvTWVzc2FnZSIsInNlbGVjdG9yIiwibWVzc2FnZTEiLCJtZXNzYWdlMiIsIiQiLCJlbXB0eSIsImFwcGVuZCIsImZpbGxMaXN0IiwiJGxpc3QiLCJkYXRhQXJyYXkiLCJpdGVtcyIsImNMaXN0IiwiZm9yRWFjaCIsIml0ZW0iLCJpIiwibGkiLCJhcHBlbmRUbyIsImFkZENsYXNzIiwidGV4dCIsImlzRW1haWwiLCJyZWdleCIsInRlc3QiLCJnZXRGb3JtYXR0ZWREYXRlVXRpbCIsInRTdGFtcCIsInNob3dGdWxsVGltZSIsImRhdGUiLCJEYXRlIiwibW9udGgiLCJnZXRNb250aCIsImRheSIsImdldERhdGUiLCJob3VyIiwiZ2V0SG91cnMiLCJtaW4iLCJnZXRNaW51dGVzIiwic3RyIiwiZ2V0RnVsbFllYXIiLCJpc0VtcHR5Iiwib2JqIiwiT2JqZWN0Iiwia2V5cyIsImxlbmd0aCIsImZpbGxSYWRpb0dyb3VwTGlzdCIsIiR3cmFwcGVyIiwidGFza01vZGVzIiwiX2FjdGlvblRleHQiLCJjb25zb2xlIiwiaW5mbyIsImFjdGlvblRleHQiLCJyYWRpb0J0blJlZHVjZXIiLCJ2YWwiLCJsb2ciLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJnZXRWYWxCeUNvbW1hU2VwYXJhdG9yIiwiJGVsIiwidHJpbSIsInNwbGl0IiwibWFwIiwicmVwbGFjZSIsImZpbHRlciIsImFkZERyb3Bkb3duIiwiY2ZnIiwidGV4dFJ1c0FycmF5IiwibGFiZWwiLCJnZXRSdXMiLCJpZHgiLCJpc1RleHRVbmZvbGxvdyIsImlzUmVuZGVyRW1wdHlPcHRpb24iLCJkcm9wZG93bk9uU2VsZWN0Q2IiLCJvbiIsIm9ialRvQXJyIiwiaW5jbHVkZXMiLCJ2YWx1ZXMiLCJVc2VyVGFza01hbmFnZXIiLCJuZXR3b3JrIiwic2V0dGluZ1Bvc3QiLCJtZXRob2QiLCJoZWFkZXJzIiwicG9zdFN0YXJ0Rm9sbG93aW5nTGlzdCIsInBvc3RTdGFydFRhc2siLCJhc0hlYWRlciIsImNvb2tpZVRva2VuIiwiZ2V0IiwiY2JFcnJvciIsInBhdGhBcnIiLCJzZW5kUmVxdWVzdCIsImdldFRva2VuIiwicHVzaCIsImRldGFpbHMiLCJ0YXNrSWQiLCJzZXR0aW5nIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJwYXRoQXJyYXkiLCJjdXJzb3IiLCJ1cmxCeVVzZXJOYW1lIiwidXNlck5hbWUiLCJ1c2VySW5zdGFuY2UiLCJVc2VyIiwiZm9ybURhdGEiLCJpcCIsInBvcnQiLCJ1c2VybmFtZVByb3h5IiwicGFzc3dvcmRQcm94eSIsInByb3h5VE1QIiwiY2hlY2twb2ludFR5cGUiLCJrZXkiLCJDb29raWVTcnYiLCJjIiwiZG9jdW1lbnQiLCJjb29raWUiLCJtYXRjaCIsImRlY29kZVVSSUNvbXBvbmVudCIsInNldCIsInZhbHVlIiwib3B0cyIsImRheXMiLCJlbnRyaWVzIiwiayIsInYiLCJlbmNvZGVVUklDb21wb25lbnQiLCJyZW1vdmUiLCJnZXRUYXNrc0RhdGEiLCJpbml0IiwibW9kZVJ1cyIsIm1vZGUiLCJmaWxsTGlzdEJ5U3RhdGUiLCJ0YXNrU3RhdGUiLCJwcm9ncmVzcyIsImNyZWF0ZWRfYXQiLCJ0YXNrX2lkIiwic3RhdHVzIiwiYWRkSXRlbSIsInRwbFN0b3AiLCJ0cGxQYXVzZWQiLCJ0aW1lc3RhbXAiLCJ0cGxQcm9ncmVzcyIsInNlc3Npb25TdG9yYWdlIiwiZ2V0SXRlbSIsInJlYXNvbiIsInRwbEZpbmlzaGVkIiwiZmlsbExpc3RNZXRhIiwic3RhdGUiLCJpbml0SGFuZGxlcnMiLCJob2xkZXJzIiwiX3BhdGgiLCIkYnRuU3RvcFRhc2siLCIkYnRuRGVsVGFzayIsImdldFRhc2tJRCIsImUiLCJidG4iLCJ0YXJnZXQiLCJjbG9zZXN0IiwiZGF0YSIsInN0b3BUYXNrQnlJRCIsInRoZW4iLCJyZXN1bHQiLCJkZWxldGVUYXNrQnlJRCIsIiRhbGwiLCJnZXRNZXRhZGF0YSIsIm1ldGEiLCIkcnVucyIsIiRzdG9wcGVkIiwid2luZG93IiwiUHViU3ViIiwic3Vic2NyaWJlIiwiZXZlbnROYW1lIiwid2l6YXJkRm9ybVNlbGVjdG9yIiwiaW5pdFN0ZXBzIiwiZm9ybVNlbGVjdG9yIiwid2l6YXJkQ2ZnIiwiJGZvcm0iLCJzdGVwUmVkdWNlciIsIm9uU3VibWl0SGFuZGxlciIsInJlbW92ZUNsYXNzIiwiZmluZCIsImZhZGVJbiIsInBhcmVudF9maWVsZHNldCIsInBhcmVudHMiLCJuZXh0X3N0ZXAiLCJyYWRpb0J0bkFjdGl2ZSIsImluZGV4IiwiZWFjaCIsImZhZGVPdXQiLCJuZXh0IiwicHJldiIsInByZXZlbnREZWZhdWx0Iiwic3RvcFByb3BhZ2F0aW9uIiwiY3NzIiwiaGlkZSIsInNob3ciLCJtb2RpZnlBY2NMaXN0IiwicmFkaW9CdG5BcHBlbmQiLCJyYWRpb0J0bldyYXAiLCIkYWNjb3VudHNMaXN0IiwiJGxpIiwiY3VyckxpIiwid3JhcElubmVyIiwiJHBhcmVudEZpZWxkc2V0IiwicHJvcCIsIk1BWF9JTUdfRklMRV9TSVpFX0JZVEUiLCJmaWxlVXBsb2FkQm94IiwiZmlsZVVwbG9hZENvbnRlbnQiLCJyZW1vdmVVcGxvYWQiLCIkdXBsb2FkQ29udGFpbmVyIiwiaW5wdXQiLCJyZXBsYWNlV2l0aCIsImNsb25lIiwiJGltZ1VwbG9hZFdyYXAiLCJiaW5kIiwiZXJyb3JIYW5kbGVyIiwiZXZ0IiwicmVhZGVyIiwiZXJyb3IiLCJjb2RlIiwiTk9UX0ZPVU5EX0VSUiIsIk5PVF9SRUFEQUJMRV9FUlIiLCJBQk9SVF9FUlIiLCJ1cGRhdGVQcm9ncmVzcyIsImxlbmd0aENvbXB1dGFibGUiLCJwZXJjZW50TG9hZGVkIiwiTWF0aCIsInJvdW5kIiwibG9hZGVkIiwidG90YWwiLCJpc0ZpbGVUeXBlT2siLCJhY2NlcHRlZEZpbGUiLCJpc0ltZ1NpemVPayIsImltZ1NpemUiLCJzaXplIiwiaGFuZGxlU3VibWl0IiwicmVwbGFjZVdpdGhDZmciLCJmaWxlcyIsIkZvcm1EYXRhIiwicmVxdWVzdCIsIlhNTEh0dHBSZXF1ZXN0Iiwib3BlbiIsInNldFJlcXVlc3RIZWFkZXIiLCJzZW5kIiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlYWR5U3RhdGUiLCJyZXNwb25zZVRleHQiLCJwdWJsaXNoIiwicmVzcG9uc2UiLCJyZWFkVVJMIiwiaGFuZGxlU3VibWl0Q2IiLCJob2xkZXJDbHMiLCJob2xkZXIiLCIkY29udGFpbmVyIiwiRmlsZVJlYWRlciIsInNldFRpbWVvdXQiLCJvbmxvYWQiLCJhdHRyIiwiaHRtbCIsImltYWdlQ2xzIiwib25lcnJvciIsIm9ucHJvZ3Jlc3MiLCJyZWFkQXNEYXRhVVJMIiwidXBsb2FkQnRuQ2xzIiwiJHVwbG9hZEJ0biIsIiR1cGxvYWRJbnB1dCIsIiRyZW1vdmVJbWdCdG4iLCJvZmYiLCJ0b1BhcmVudENscyIsInRyaWdnZXIiLCJyZW1vdmVBdHRyIiwiY2xzQ29uc3QiLCJjdXJyZW50UGFnZUNscyIsInRhc2tzTGlzdCIsImxvZ3NUYWJCdG4iLCJwYWdpbmF0aW9uIiwicGFnaW5hdGlvblBnTnVtYmVyIiwiZ2V0VXNlcm5hbWUiLCJjdXJyZW50UGFnZSIsImludGVydmFsSWQiLCJpbml0SGFuZGxlclBhZ2luYXRpb24iLCIkcHJldmlvdXMiLCIkbmV4dCIsInNldHRpbmdzIiwiJGxpQWN0aXZlIiwicHJldmlvdXMiLCJnZXRMb2dzRGF0YSIsImN1cnJlbnRBY3RpdmVJZHgiLCJoYXNDbGFzcyIsInBhcnNlSW50IiwiYWRkUGFnaW5hdGlvbiIsInRwbFByZXZpb3VzIiwidHBsTmV4dCIsImNsZWFyUGFnaW5hdGlvbiIsInBhZ2VzIiwiY3VycmVudCIsImlzUnVucyIsIiR3cmFwcGVyUGFnaW5hdGlvbiIsImxldmVsIiwidGFiU3RvcFJlcUhhbmRsZXIiLCIkYWxsQXNpZGVUYWJzIiwidGFiIiwiY2xlYXJJbnRlcnZhbCIsImdldExvZ3NDaGF0Qm90IiwidXBkYXRlSW50ZXJ2YWwiLCJpbnZva2VfaW5fbWlsbGlzIiwic2V0SW50ZXJ2YWwiLCJwcmVDb25maWciLCJwYXRoVHlwZSIsInBhdGhTdWJUeXBlIiwiX3NlbGVjdENscyIsImZpbGxEcm9wZG93blVzZXJzQ2ZnIiwiZmlsbERyb3Bkb3duVXNlcnMiLCJhY2NvdW50cyIsIk9uQ2hhbmdlU2VsZWN0Q2IiLCJnZXRNZXRhTGF6eSIsImdldE1ldGFkYXRhTGF6eSIsInJlcyIsInRhYkhhbmRsZXIiLCJpc0NvbXB1dGVNdWx0eURyb3Bkb3duIiwiT25DaGFuZ2VTZWxlY3QiLCJhc3NpZ24iLCJuZXh0QnRudmFsaWRhdGVDb21wZXRpdG9yc0hhbmRsZXIiLCJpbml0VGFnc0lucHV0IiwidGFnc2lucHV0U2VsZWN0b3IiLCIkaW5wdXQiLCJuZXh0U3RlcEJ0biIsImlncm9yZVJlZ2V4Q2hlY2siLCJlbmdsaXNoQ2hhcnMiLCJjaGVja1RleHRBcmVhIiwiaXNJbml0IiwiaW5wdXR2YWx1ZSIsImlzUmVtb3ZlZCIsInRleHRPblJlbW92ZSIsInJlbW92ZUJvcmRlciIsImFkZEJvcmRlciIsImlzQWRkZWRUZXh0VmFsaWQiLCJpc1JlbW92ZWRUZXh0VmFsaWQiLCIkZWxJbnB1dCIsInRhZ3NpbnB1dCIsImZpbGxQb3N0cyIsImdldFBvc3RzIiwiaXNBcHBlbmRUb0xpc3QiLCJhZGRUb0xpc3QiLCJpc0FwcGVuZFByZXZNc2ciLCJpbnNlcnRBZnRlciIsInRwbCIsIm1vZGFsRm9vdGVyIiwiaGlkZVBhZ2luYXRpb24iLCJpbWFnZVNlbGVjdEhhbmRsZXIiLCJ0YXJnZXRCdXR0b24iLCJpbWFnZUJveENscyIsImltYWdlRGVsQnRuQ2xzIiwiaW1hZ2VCb3hTZWxlY3RvciIsIiRidG5MaSIsInBvc3RJZCIsInBvc3RUeXBlIiwiY2xvc2VzdENvbCIsInRwbEltYWdlQm94IiwicHJlcGVuZCIsImN1cnJlbnRJbWFnZUJveCIsImxvYWRNb3JlSGFuZGxlciIsImdldFBvc3RzQXV0b21lc3NhZ2VzIiwicG9zdHMiLCJwb3BvdmVyIiwiY29udGFpbmVyIiwiY29udGVudCIsInBsYWNlbWVudCIsImluaXRMb2dzVGFiIiwidGFicyIsIm1vdmVJbk9uZVJvdyIsInVzZXJMaXN0Qm94Iiwic3ViVHlwZUJveCIsImxvZ3NTdWJ0eXBlcyIsInNldFVzZXJOYW1lQ2IiLCJ1c2VybmFtZVNlbGVjdGVkIiwiaGFuZGxlTG9nc0Ryb3Bkb3ducyIsImF0dGFjaFR4dEZpbGVIYW5kbGVyIiwiRklMRV9UWVBFIiwiYWRkIiwiX2ZpbGVVcGxvYWRCb3giLCJvblN1Y2Nlc3NGaWxlVXBsb2FkQ2IiLCJjaGFuZ2UiLCJwYXJzZSIsImltYWdlSWQiLCJsaXN0X2lkIiwiZWwiLCJuZXh0U3RlcCIsImVtb2ppIiwiZW1vamlvbmVBcmVhIiwicGlja2VyUG9zaXRpb24iLCJ0b25lc1N0eWxlIiwiZmlsdGVyc1Bvc2l0aW9uIiwic2VhcmNoIiwia2V5dXAiLCJlZGl0b3IiLCJldmVudCIsImdldFRleHQiLCJOZXR3b3JrIiwibWVzc2FnZSIsIkVycm9yIiwic3RhdHVzVGV4dCIsIlVSTCIsIk9QVFMiLCJmZXRjaCIsIlByb21pc2UiLCJhbGwiLCJqc29uIiwib2siLCJjYkVycm9yRGVmYXVsdCIsImNoZWNrU3RhdHVzIiwiY2xhc3NlcyIsImlubGluZSIsIm92ZXJsYXkiLCJmaXhlZCIsImJ1dHRvbiIsIlNwaW5uZXIiLCJfY2ZnIiwic3RhcnRCdXR0b25TcGlubmVyIiwibmV3Q2xzIiwic3RvcEJ1dHRvblNwaW5uZXIiLCJleHRlbmQiLCJwcmV3Q2xzIiwidG9nZ2xlQ2xhc3MiLCJzcGlubmVySW5zdGFuY2UiLCJkcm9wRG93biIsImlzVGV4dFJ1c0FycmF5Iiwid3JhcHBlcnMiLCJsb2dzU3RhdGVTdGF0dXMiLCJwYXRoVXBkYXRlZCIsImlzSW5Db3JyZWN0UGFnZSIsImluaXRpYWxQYXRoIiwic3VidHlwZXMiLCJJbnN0YWdyYW1BY2NQYWdlQ2xzIiwiaXNJbnN0YWdyYW1BY2NQYWdlIiwiJG1zZ0xpc3QiLCJJTlNUQUdSQU1fQUNDT1VOVFNfSFJFRiIsImFkZExpc3RIYW5kbGVyIiwiJGJ1dHRvbiIsInNlbmRUbyIsImdldFNlY3VyaXR5S2V5IiwiJG1vZGFsIiwiJGtleUlucHV0IiwiY29uZmlybVNlY3VyaXR5S2V5IiwiY2F0Y2giLCJlcnIiLCJsZW4iLCJtaW5MZW4iLCJOdW1iZXIiLCJvbkhpZGVNb2RhbCIsInR5cGVTZWxlY3RlZCIsImNoZWNrcG9pbnRUeXBlQWN0aXZlIiwibW9kYWxDb25maWciLCJfY29uZmlnIiwiaW5zZXJ0SXRlbSIsImNzc0NscyIsImxpVHBsIiwic3RhdHMiLCJjaGVja1BvaW50VGV4dCIsImNoZWNrcG9pbnQiLCJhZGRTZXR0aW5nQnRuIiwiYWNjb3VudCIsImJpb2dyYXBoeSIsInByb2ZpbGVfcGljX3VybCIsImZvbGxvd2VyX2NvdW50IiwiZm9sbG93aW5nX2NvdW50IiwibWVkaWFfY291bnQiLCJpc19idXNpbmVzcyIsImlzX3ByaXZhdGUiLCJsb2NhdGlvbiIsImhyZWYiLCJyZW5kZXJJdGVtIiwiX2RlZmF1bHRBdmF0YXJTcmMiLCJkZWZhdWx0QXZhdGFyU3JjIiwiY2hlY2tSZXNwb25zZSIsImVyck1lc3NhZ2VGcm9udCIsInJlbG9hZExpc3QiLCJkZWxldGVCdG5DbHMiLCJ1cGRhdGVCdG5DbHMiLCJlZGl0QnRuQ2xzIiwiYWRkSW5zdGFncmFtQWNjb3VudCIsIm5ld0Zvcm1EYXRhIiwiYWRkT25Mb2FkSGFuZGxlcnMiLCIkbW9kYWxCb2R5IiwiZm9ybSIsImNzc1ZhbGlkYXRpb25DbGFzcyIsImlzVmFsaWRJcHY0QWRkciIsImlzVmFsaWRQb3J0IiwiY2hlY2tWYWxpZGl0eSIsInJlcG9ydFZhbGlkaXR5IiwibWV0YWRhdGEiLCJhdmF0YXIiLCJzZXRJdGVtIiwiVXNlckNvbnZlcnNhdGlvbiIsImNvbnZlcnNhdGlvbklkIiwiY29uZmlybVVzZXJEYXRhIiwiaGVhZGVyIiwic2lkZWJhck1lbnUiLCJidXJnZXJNZW51IiwiaW5zdGFncmFtQWNjb3VudHMiLCJmb2xsb3ciLCJ1bmZvbGxvdyIsImF1dG9tZXNzYWdlcyIsImNoYXRCb3QiLCJhdXRvZ3JlZXRpbmciLCJhdXRvY29tbWVudHMiLCJzdG9yaWVzIiwic2V0UHViU3ViIiwiaW5pdFRvb2x0aXAiLCJ0b29sdGlwIiwiX2xvZ2luQm94IiwiX2Zvcm1JZCIsIl9idXR0b25TdWJtaXRJZCIsIl9zaG93TG9naW5Cb3hCdG5JZCIsImlzTG9naW5JbnN0YWdyYW0iLCJpbml0SGVhZGVyIiwiaW5pdE1lbnUiLCJ0cGxUZXh0RmllbGQiLCJtYWluQ2xzIiwid2l6YXJkRm9ybSIsImF1dG9jb21tZW50c1N0YXR1cyIsImltYWdlVXBsb2FkIiwiZWxTZWxlY3RvciIsImZpZWxkcyIsImtleVdvcmQiLCJhbnN3ZXIiLCJhZGRQb3N0QnRucyIsImluaXRFbW9qaWkiLCJzdHlsZXMiLCJvbGQiLCJuZXciLCJ2YWxpZGF0ZUlzRW1wdHkiLCIkZWxlbWVudHMiLCJyZXFCb2R5IiwidmFsaWRhdGlvbiIsIiRlbGVtZW50c0tleVdvcmQiLCIkZWxlbWVudHNBbnN3ZXIiLCIkaW1hZ2VQb3N0Qm94IiwicG9zdEl0ZW1JZCIsInBvc3RJdGVtVHlwZSIsImJsYWNrbGlzdFdvcmRzIiwiYmxhY2tsaXN0V29yZHNBcnIiLCJzdWJtaXRCb2R5SXRlbSIsImJsYWNrbGlzdCIsInVuZGVmaW5lZCIsImF0dGFjaG1lbnQiLCJwb3N0IiwiblJlcUJvZHkiLCJtc2ciLCJyZW1vdmVFeHRyYVRleHRGaWVsZHMiLCIkYnRuIiwiaW5pdE1vZGFsSGFuZGxlciIsIiRjb21wZXRpdG9yc0lucHV0IiwiJGJsYWNrTGlzdElucHV0IiwibGFzdFRleHRGaWVsZCIsImxhc3QiLCJzdWJzdHIiLCJsYXN0VGV4dEZpZWxkQWZ0ZXJJbnNlcnQiLCIkaW5wdXRBbnN3ZXJXb3JkcyIsInNldFVzZXJOYW1lIiwic3RlcE51bWJlciIsInRwbFRleHRGaWVsZEdyZWV0IiwiY2hhdEJvdFN0YXR1cyIsInNwZWVkVHlwZSIsInVzZXJfZGVmYXVsdF9jb25maWciLCJ0YXNrX21vZGUiLCJnZXRBdHRhY2htZW50IiwiYXR0YWNobWVudEltZyIsImdldERhdGFTdGVwU3BlZWQiLCJmaWxsU3BlZWRMaXN0IiwidGFza19tb2RlcyIsImdldERlZmF1bHRDb25maWdzIiwiZm91bmQiLCJ0b1VwcGVyQ2FzZSIsImltYWdlX2lkIiwiJGltYWdlQm94IiwiYXV0b21lc3NhZ2VzU3RhdHVzIiwiY2hhdEJvdExvZ3MiLCJrZXlXb3JkcyIsImZpbGxMaXN0VXNlcnMiLCJjb25maXJtYXRpb25XaXRoUmVkaXJlY3QiLCJwYXJzZVF1ZXJ5U3RyaW5nIiwib2JqVVJMIiwiUmVnRXhwIiwiJDAiLCIkMSIsIiQyIiwicGFyYW1zIiwic2VuZENvbmZpcm0iLCJjb25maXJtIiwiY3VzdG9tZXJzRGF0YVN0cmluZyIsInJlZGlyZWN0IiwicGF0aG5hbWUiLCJpbmRleE9mIiwiZm9sbG93U3RhdHVzQnlTdWJ0eXBlIiwiY291bnQiLCJwZXJjZW50IiwiZ2V0RGF0YVN0ZXAyIiwidG9nZ2xlQWRkVGV4dEJ0biIsInNldENvbXBldGl0b3JzIiwiY29tcGV0aXRvcnMiLCIkY29tcGV0aXRvcnNUZXh0QXJlYSIsInBhcmVudCIsImNyaXRlcmlhIiwibGltaXQiLCJmb3JtcyIsImhhdmVfcG9zdHMiLCJmcm9tIiwidG8iLCJoYXZlX2ZvbGxvd2VycyIsImhhdmVfZm9sbG93aW5ncyIsImZvY3VzIiwiX3VzZXJuYW1lU2VsZWN0ZWQiLCJzZWxlY3RvcnNFbCIsImxlZnRNZW51IiwiaGFtYnVyZ2VyQnV0dG9uQ2xzIiwiaGFtYnVyZ2VyTWVudUNscyIsImhhbWJ1cmdlck1lbnVPcGVuZWRDbGFzcyIsImhhbWJ1cmdlckJ1dHRvbkNsb3NlQ2xhc3MiLCJyaWdodE1lbnUiLCJzdWJIZWFkZXIiLCJ0b2dnbGVIYW1idXJnZXJNZW51IiwibWVudU5hbWUiLCJzZWxlY3RvckxvZ2luU3RhdGUiLCJzZWxlY3RvckVtYWlsQ29uZmlybVN0YXRlIiwiY2xvc2VDbGFzcyIsIm9wZW5lZENsYXNzIiwiZW1haWxOb3RDb25maXJtZWQiLCIkZW1haWxuTXNnIiwib25Mb2dpblN1YnNjcmliZSIsIiRsb2dpbk1zZyIsImlzRW1haWxDb25maXJtZWQiLCJzaG93TG9nb3V0IiwiaXNMb2dnZWQiLCJpc0xvZ2dlZEluIiwib2xkVVJMIiwicmVmZXJyZXIiLCJzZXR0aW5nQnV0dG9uc0hhbmRsZXIiLCJ1cGRhdGVCdXR0b25zRGF0YUF0dHIiLCJzZXR0aW5nQnV0dG9uc0hhbmRsZXJDYiIsImNsYXNzQ2ZnIiwibW9kYWxDb25maXJtIiwidXNlck9yaWdpbmFsIiwicHJvZmlsZSIsImRlbEluc3RhZ3JhbUFjY291bnQiLCJ1cGRhdGVJbnN0YWdyYW1BY2NvdW50IiwibW9kYWxFZGl0IiwiJGVkaXRCdG4iLCJzaXRlIiwiYWJvdXQiLCJpbWdTcmMiLCJpc0J1c2luZXNzIiwiaXNQcml2YXRlIiwiZm9ybUZpZWxkcyIsInVzZXJBdmF0YXJJbWciLCJmb2xsb3dlckMiLCJmb2xsb3dpbmdDIiwibWVkaWFDIiwic3JjIiwiJHByb2ZpbGVCb3giLCJ1cGRhdGVEYXRhQXR0clVzZXJuYW1lIiwiZWRpdEluc3RhZ3JhbUFjY291bnQiLCJpc09wZW4iLCJMb2dpbkZvcm0iLCJzZWxlY3RvckNzcyIsIiRlbWFpbCIsIiR0ZXh0QXJlYURlc2NyaXB0aW9uIiwidXNlckxvZ2luSGVhZGVyIiwiX2Zvcm1EYXRhIiwic3VibWl0Rm9ybSIsImZvcm1EYXRhT2JqIiwidG9Mb2NhbGVMb3dlckNhc2UiLCJsb2dPdXQiLCJiaW5kRXZlbnRzIiwiJHNob3dMb2dpbkJveEJ0bklkIiwiJGxvZ2luQm94IiwiJGJ1dHRvblN1Ym1pdCIsImlzTG9naW5CdG5DbGljayIsImlzQWRkSW5zdGFncmFtQnRuQ2xpY2tlZCIsInN0YXRlQ2ZnIiwicGFnZUluY3JlbWVudCIsImxvYWRpbmdGbGFnIiwic2V0U2luZ2xlVmFsIiwiaW50ZXJ2YWxVc2VyTGlzdCIsImluaXRpYWxWYWwiLCJmbGFnSW5pdGlhbFZhbCIsImN1cnJlbnRVc2VyRGF0YSIsInVzZXJhdmF0YXIiLCJzY3JvbGxMb2FkZXJTdGF0ZSIsImZpcnN0TG9hZCIsImFsbE1zZ0xvYWRlZCIsInJlbmRlclJlc3VsdHMiLCJ1bEVsZW1lbnQiLCJzaG93TWVzc2FnZSIsImVsZW1lbnQiLCJjbGVhckxpc3QiLCJpc0luTWVzc2FnZVBhZ2UiLCIkdXNlckxpc3QiLCJyZWFkeSIsImF1dG9jb21wbGV0ZSIsImlzVGltZU91dFJ1bm5lZCIsImdldEFuZEZpbGxVc2VyTGlzdEN1cnNvciIsImxvYWRNb3JlQ2JBcmdzQ3Vyc29yIiwic2VjdGlvbiIsImdldE1ldGFkYXRhRGV0YWlsVXNlcnMiLCJwcmV2X2N1cnNvciIsIiRjb2xsYXBzZSIsImdldEFuZEZpbGxVc2VyTGlzdCIsImlzQWN0aXZlRmlyc3QiLCJ1c2VyTGlzdCIsInByZXZBY3RpdmVEaWFsb2dJZCIsInNvcnQiLCJhIiwiYiIsImxvY2FsZUNvbXBhcmUiLCJjYkZuIiwidXNlckRhdGEiLCJnZXRNZXRhZGF0YURldGFpbENvbnZlcnNhdGlvbiIsIm5ld0N1cnNvciIsInNjcm9sbFRvcCIsInNjcm9sbEhhbmRsZXIiLCJzY3JvbGxEZWxheSIsInJlY2VudFNjcm9sbCIsIm1ha2VSZXFPbmNlIiwiY2hlY2tJc09uY2UiLCJpbm5lckhlaWdodCIsInNjcm9sbEhlaWdodCIsImdldEFuZEZpbGxDb252ZXJzYXRpb24iLCJpc1Njcm9sbERvd24iLCJpc0NsaWNrRnJvbVJlcXVlc3RDb25maXJtIiwiVElNRV9TQ1JPTEwiLCJhbmltYXRlIiwiY2xpZW50SGVpZ2h0IiwiaW1hZ2VMb2FkU3VibWl0Q2IiLCJhZGRIYW5kbGVycyIsIiR0ZXh0QXJlYSIsInBvc3RNZXRhZGF0YURldGFpbENvbnZlcnNhdGlvbiIsInVzZXJTaG93Q29udmVyc2V0aW9uSGFuZGxlciIsInVzZXJEYXRhRnJvbUxpR3JvdXAiLCIkdGFyZ2V0QnRuIiwiJHRpdGxlIiwicmVzdWx0RnJvbVNlcnZlciIsIiRkaWFsb2ciLCJmaWxsVXNlckxpc3RGbiIsImluaXRSZXF1ZXN0cyIsImFkZENvbmZpcmdCdXR0b25zIiwiJGNvbmZpcm1CdG5Cb3giLCJjb252ZXJzYXRpb25EZXRhaWwiLCJzcmNJbWciLCJwcm9maWxlUGljVXJsIiwiYWRkQ29udmVyc2F0aW9ucyIsImNvbnZlcnNhdGlvbnMiLCJ1c2VycyIsInRpdGxlIiwiZ2V0UmVxdWVzdFBlbmRpbmciLCJlbElkIiwicmVxdWVzdHMiLCJmaWxsVXNlckxpc3QiLCJsb2FkTW9yZUNiRnVuY3Rpb24iLCJwZW5kaW5nX3JlcXVlc3RzIiwiJHJlcUNvbmZpcm1CdG4iLCIkcmVxUmVqZWN0QnRuIiwicHV0UmVxdWVzdFBlbmRpbmciLCJkZWxSZXF1ZXN0UGVuZGluZyIsIiRzaG93VXNlckxpc3QiLCJjbGVhck1hc3NhZ2VzTGlzdCIsImZpbGxNYXNzYWdlc0xpc3QiLCJhcHBlbmRVc2VyTGlzdCIsImluc2VydE1zZyIsInZhbHVlV2l0aFVybCIsImNhcHRpb24iLCJzdWJzdCIsInRvTG93ZXJDYXNlIiwicHJldmlld192YWx1ZSIsImluc2VydEJlZm9yZSIsInNpZGUiLCJpc1VucmVhZCIsImxhc3RNZXNzYWdlIiwiaXNMYXN0TXNnIiwiaXNBZGREb3QiLCJsb2FkTW9yZUJveCIsIiRidG5Cb3giLCJtZXNzYWdlQXJlYUhlbmRsZXIiLCIkc2VuZE1lc3NhZ2VCdXR0b24iLCJrZXlDb2RlIiwiY3RybEtleSIsInNlbGVjdG9yQ2xzIiwic3VibWl0QnRuIiwiUmVnaXN0ZXJGb3JtIiwiYm9yZGVyRGFuZ2VyQ2xzIiwiJHBhc3N3b3JkIiwiJHBhc3N3b3JkQ29uZmlybSIsInBhc3N3b3JkQ29uZmlybSIsInJlZ2lzdGVyIiwicmVnaXN0ZXJCb3giLCJpcyIsImlzUmVnQnRuQ2xpY2siLCJ1cmxUb0NoZWNrIiwicGF0aE5hbWUiLCJpc0FjdGl2ZVVybCIsInN0b3JpZXNTdGF0dXMiLCJ3aXphcmRGb3JtTmFtZSIsInRhc2tNb2RlIiwibWF4X3ZpZXdzIiwidXNlcl9jdXN0b21fY29uZmlnIiwic2V0VXNlck5hbWVGaXJzdFN0ZXAiLCJjb250YWluZXJDbHMiLCJyZW5kZXJUYXNrTW9kZSIsImRlZmF1bHRDZmciLCJ0YXNrTW9kZVNlbGVjdG9yIiwiZ2V0Q29uZmlnIiwiZ2V0U3Rvcmllc0NvbmZpZyIsImxpbWl0VmFsIiwiYWRkVGV4dEFyZWEiLCJmaWVsZExhc3QiLCJhZGRGaWxlVXBsb2FkQm94IiwiJGZpbGVVcGxvYWRCb3giLCIkdGl0bGVTdGVwQm94IiwiJGFkZFNldHRpbmdzIiwiaXNJbkN1cnJlbnRQYWdlIiwiaXNJblN0b3JpZXNQYWdlIiwidGFiU3RhdHVzIiwidHlwZVJhZGlvR3JvdXAiLCJhZGRVcGxvYWRCdXR0b24iLCJjaGVja1RpdGxlU3RlcDMiLCJhZnRlciIsIkxvZ2luUGFnZSJdLCJtYXBwaW5ncyI6IjtBQUFBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOzs7QUFHQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxtREFBMkMsY0FBYzs7QUFFekQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFLO0FBQ0w7QUFDQTs7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O0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBEQUEwRDtBQUMxRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsS0FBSztBQUM1Qix1QkFBdUIsSUFBSTtBQUMzQix1QkFBdUIsSUFBSTtBQUMzQix1QkFBdUIsSUFBSTtBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7O0FBRWI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTs7QUFFYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhOztBQUViO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7O0FBRWI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTs7QUFFYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7O0FBRWI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTs7QUFFYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7O0FBRWI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCLGFBQWE7QUFDYjtBQUNBO0FBQ0EsMEJBQTBCO0FBQzFCOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7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QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7OztBQ3JCQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsT0FBTztBQUNQO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGNBQWM7QUFDZDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBLEtBQUs7QUFDTCxHQUFHO0FBQ0g7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUEsaUJBQWlCLGlCQUFpQjtBQUNsQztBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsS0FBSztBQUNMO0FBQ0EsS0FBSztBQUNMO0FBQ0EsS0FBSztBQUNMO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7QUFDQSxxREFBcUQ7QUFDckQsT0FBTztBQUNQO0FBQ0EsT0FBTztBQUNQLDRFQUE0RTtBQUM1RTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxPQUFPO0FBQ1A7QUFDQSxPQUFPO0FBQ1A7QUFDQSxPQUFPO0FBQ1A7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBLE9BQU87QUFDUDtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQSxLQUFLO0FBQ0w7QUFDQSxLQUFLO0FBQ0w7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQSw0QkFBNEIscUJBQXFCO0FBQ2pEOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIOztBQUVBO0FBQ0EscUNBQXFDLDBCQUEwQjtBQUMvRDtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUEsNkJBQTZCLDBCQUEwQixlQUFlO0FBQ3RFOztBQUVBO0FBQ0E7QUFDQTtBQUNBLENBQUM7QUFDRDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0EsS0FBSzs7QUFFTDtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsR0FBRztBQUNIOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiJpbmRleC1hcHAuanMiLCJzb3VyY2VzQ29udGVudCI6WyIgXHQvLyBUaGUgbW9kdWxlIGNhY2hlXG4gXHR2YXIgaW5zdGFsbGVkTW9kdWxlcyA9IHt9O1xuXG4gXHQvLyBUaGUgcmVxdWlyZSBmdW5jdGlvblxuIFx0ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCkge1xuXG4gXHRcdC8vIENoZWNrIGlmIG1vZHVsZSBpcyBpbiBjYWNoZVxuIFx0XHRpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSkge1xuIFx0XHRcdHJldHVybiBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXS5leHBvcnRzO1xuIFx0XHR9XG4gXHRcdC8vIENyZWF0ZSBhIG5ldyBtb2R1bGUgKGFuZCBwdXQgaXQgaW50byB0aGUgY2FjaGUpXG4gXHRcdHZhciBtb2R1bGUgPSBpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSA9IHtcbiBcdFx0XHRpOiBtb2R1bGVJZCxcbiBcdFx0XHRsOiBmYWxzZSxcbiBcdFx0XHRleHBvcnRzOiB7fVxuIFx0XHR9O1xuXG4gXHRcdC8vIEV4ZWN1dGUgdGhlIG1vZHVsZSBmdW5jdGlvblxuIFx0XHRtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLCBtb2R1bGUsIG1vZHVsZS5leHBvcnRzLCBfX3dlYnBhY2tfcmVxdWlyZV9fKTtcblxuIFx0XHQvLyBGbGFnIHRoZSBtb2R1bGUgYXMgbG9hZGVkXG4gXHRcdG1vZHVsZS5sID0gdHJ1ZTtcblxuIFx0XHQvLyBSZXR1cm4gdGhlIGV4cG9ydHMgb2YgdGhlIG1vZHVsZVxuIFx0XHRyZXR1cm4gbW9kdWxlLmV4cG9ydHM7XG4gXHR9XG5cblxuIFx0Ly8gZXhwb3NlIHRoZSBtb2R1bGVzIG9iamVjdCAoX193ZWJwYWNrX21vZHVsZXNfXylcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubSA9IG1vZHVsZXM7XG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlIGNhY2hlXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmMgPSBpbnN0YWxsZWRNb2R1bGVzO1xuXG4gXHQvLyBpZGVudGl0eSBmdW5jdGlvbiBmb3IgY2FsbGluZyBoYXJtb255IGltcG9ydHMgd2l0aCB0aGUgY29ycmVjdCBjb250ZXh0XG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLmkgPSBmdW5jdGlvbih2YWx1ZSkgeyByZXR1cm4gdmFsdWU7IH07XG5cbiBcdC8vIGRlZmluZSBnZXR0ZXIgZnVuY3Rpb24gZm9yIGhhcm1vbnkgZXhwb3J0c1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kID0gZnVuY3Rpb24oZXhwb3J0cywgbmFtZSwgZ2V0dGVyKSB7XG4gXHRcdGlmKCFfX3dlYnBhY2tfcmVxdWlyZV9fLm8oZXhwb3J0cywgbmFtZSkpIHtcbiBcdFx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgbmFtZSwge1xuIFx0XHRcdFx0Y29uZmlndXJhYmxlOiBmYWxzZSxcbiBcdFx0XHRcdGVudW1lcmFibGU6IHRydWUsXG4gXHRcdFx0XHRnZXQ6IGdldHRlclxuIFx0XHRcdH0pO1xuIFx0XHR9XG4gXHR9O1xuXG4gXHQvLyBnZXREZWZhdWx0RXhwb3J0IGZ1bmN0aW9uIGZvciBjb21wYXRpYmlsaXR5IHdpdGggbm9uLWhhcm1vbnkgbW9kdWxlc1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5uID0gZnVuY3Rpb24obW9kdWxlKSB7XG4gXHRcdHZhciBnZXR0ZXIgPSBtb2R1bGUgJiYgbW9kdWxlLl9fZXNNb2R1bGUgP1xuIFx0XHRcdGZ1bmN0aW9uIGdldERlZmF1bHQoKSB7IHJldHVybiBtb2R1bGVbJ2RlZmF1bHQnXTsgfSA6XG4gXHRcdFx0ZnVuY3Rpb24gZ2V0TW9kdWxlRXhwb3J0cygpIHsgcmV0dXJuIG1vZHVsZTsgfTtcbiBcdFx0X193ZWJwYWNrX3JlcXVpcmVfXy5kKGdldHRlciwgJ2EnLCBnZXR0ZXIpO1xuIFx0XHRyZXR1cm4gZ2V0dGVyO1xuIFx0fTtcblxuIFx0Ly8gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm8gPSBmdW5jdGlvbihvYmplY3QsIHByb3BlcnR5KSB7IHJldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LCBwcm9wZXJ0eSk7IH07XG5cbiBcdC8vIF9fd2VicGFja19wdWJsaWNfcGF0aF9fXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLnAgPSBcIlwiO1xuXG4gXHQvLyBMb2FkIGVudHJ5IG1vZHVsZSBhbmQgcmV0dXJuIGV4cG9ydHNcbiBcdHJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fKF9fd2VicGFja19yZXF1aXJlX18ucyA9IDU2KTtcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyB3ZWJwYWNrL2Jvb3RzdHJhcCAyMWEyMWU1ZDE2N2NiNjA0NGM0MyIsImV4cG9ydCBjb25zdCBDT05TVCA9IHtcclxuICAgIHVybDoge1xyXG4gICAgICAgIHRtVHlwZXM6IHtcclxuICAgICAgICAgICAgZm9sbG93aW5nVDogJ0ZPTExPV0lORycsXHJcbiAgICAgICAgICAgIGZvbGxvd2luZ1N1YlQ6IFsnRk9MTE9XSU5HX0JZX0xJU1QnLCAnRk9MTE9XSU5HX0JZX0FDVElWRV9BVURJRU5DRSddLFxyXG4gICAgICAgICAgICB1bmZvbGxvd2luZ1Q6ICdVTkZPTExPV0lORycsXHJcbiAgICAgICAgICAgIHVuZm9sbG93aW5nU3ViVDogWydVTkZPTExPV0lOR19CWV9MSVNUJywgJ1VORk9MTE9XSU5HX0JZX0FMTCcsICdVTkZPTExPV0lOR19CWV9OT05fUkVDSVBST0NBTCddLFxyXG4gICAgICAgICAgICBjaGF0Qm90VDogJ0NIQVRfQk9UJyxcclxuICAgICAgICAgICAgY2hhdEJvdFN1YlQ6IFsnREVGQVVMVF9DSEFUX0JPVCddLFxyXG4gICAgICAgICAgICBhdXRvbWVzc2FnZXNUOiAnQVVUT19BTlNXRVInLFxyXG4gICAgICAgICAgICBhdXRvbWVzc2FnZXNTdWJUOiBbJ0RFRkFVTFRfQVVUT19BTlNXRVInXSxcclxuICAgICAgICAgICAgYXV0b2dyZWV0VDogJ0FVVE9fR1JFRVRJTkcnLFxyXG4gICAgICAgICAgICBhdXRvZ3JlZXRTdWJUOiBbJ0RFRkFVTFRfQVVUT19HUkVFVElORyddLFxyXG4gICAgICAgICAgICBzdG9yaWVzVDogJ1NUT1JJRVMnLFxyXG4gICAgICAgICAgICBzdG9yaWVzU3ViVDogWydTVE9SSUVTX0JZX0xJU1QnLCAnU1RPUklFU19CWV9GT0xMT1dFUlMnLCAnU1RPUklFU19CWV9BQ1RJVkVfQVVESUVOQ0UnXSxcclxuICAgICAgICAgICAgYXV0b2NvbW1lbnRzVDogJ0FVVE9fQ09NTUVOVCcsXHJcbiAgICAgICAgICAgIGF1dG9jb21tZW50c1N1YlQ6IFsnREVGQVVMVF9BVVRPX0NPTU1FTlQnXVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgYmFzZTogJ2h0dHA6Ly9hcGkubHV4Z3JhbS5ydS92MS8nLFxyXG4gICAgICAgIHJlZ2lzdHJhdGlvbjogJ3JlZ2lzdHJhdGlvbi9iYXNpYy8nLFxyXG4gICAgICAgIGxvZ2luOiAncmVnaXN0cmF0aW9uL2Jhc2ljL2xvZ2luJyxcclxuICAgICAgICBjb25maXJtYXRpb246ICdyZWdpc3RyYXRpb24vYmFzaWMvY29uZmlybWF0aW9uP3Rva2VuJyxcclxuXHJcbiAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gICAgICAgIGluc3RhZ3JhbV9hZGRBY2NvdW50OiAnaW5zdGFncmFtLWFjY291bnRzLycsXHJcbiAgICAgICAgaW5zdGFncmFtQWNjb3VudF9nZXRNZXRhRGF0YTogJ2luc3RhZ3JhbS1hY2NvdW50cy9tZXRhJyxcclxuICAgICAgICBpbnN0YWdyYW1fZ2V0QWNjb3VudEJ5VXNlcjogdXNlcm5hbWUgPT4gYGluc3RhZ3JhbS1hY2NvdW50cy9tZXRhLyR7dXNlcm5hbWV9YCxcclxuICAgICAgICBpbnN0YWdyYW1fbW9kaWZ5QWNjb3VudDogdXNlcm5hbWUgPT4gYGluc3RhZ3JhbS1hY2NvdW50cy8ke3VzZXJuYW1lfWAsXHJcbiAgICAgICAgaW5zdGFncmFtVGFza01hbmFnZXJfZ2V0UG9zdHM6IGFjY291bnROYW1lID0+IGBpbnN0YWdyYW0tYWNjb3VudHMvJHthY2NvdW50TmFtZX0vcG9zdHNgLFxyXG5cclxuICAgICAgICAvLyAtaW5zdGFncmFtLWFjY291bnRzLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgICAgICAgaW5zdGFncmFtQWNjb3VudF9jaGVja3BvaW50OiAnaW5zdGFncmFtLWFjY291bnRzL2NoZWNrcG9pbnQvJyxcclxuICAgICAgICBpbnN0YWdyYW1BY2NvdW50X2NvbmZpcm1LZXk6ICdpbnN0YWdyYW0tYWNjb3VudHMvY2hlY2twb2ludC8nLFxyXG5cclxuICAgICAgICAvLyAtaW5zdGFncmFtLWRpcmVjdC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gICAgICAgIGluc3RhZ3JhbURpcmVjdF9CYXNpYzogJ2luc3RhZ3JhbS1kaXJlY3QnLFxyXG4gICAgICAgIGluc3RhZ3JhbURpcmVjdF9wb3N0TWVzc2FnZTogJ2luc3RhZ3JhbS1kaXJlY3QvJyxcclxuICAgICAgICBpbnN0YWdyYW1EaXJlY3RfZ2V0TWV0YURhdGE6ICdpbnN0YWdyYW0tZGlyZWN0L21ldGEnLFxyXG4gICAgICAgIGluc3RhZ3JhbURpcmVjdF9SZXF1ZXN0UGVuZGluZzogJ2luc3RhZ3JhbS1kaXJlY3QvcGVuZGluZycsXHJcbiAgICAgICAgLy8gaHR0cDovL2FwaS5sdXhncmFtLnJ1L3YxL2luc3RhZ3JhbS1kaXJlY3Qve3VzZXJuYW1lfS97aWR9L3Bob3RvXHJcblxyXG4gICAgICAgIC8vIC1pbnN0YWdyYW0tdGFzay1tYW5hZ2VyLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAgICAgICAgaW5zdGFncmFtVGFza01hbmFnZXI6ICdpbnN0YWdyYW0tdGFzay1tYW5hZ2VyLycsXHJcbiAgICAgICAgaW5zdGFncmFtVGFza01hbmFnZXJfZ2V0TWV0YURhdGE6ICdpbnN0YWdyYW0tdGFzay1tYW5hZ2VyL21ldGEnLFxyXG4gICAgICAgIGluc3RhZ3JhbVRhc2tNYW5hZ2VyX2dldFRhc2tCeVR5cGVzOiAnaW5zdGFncmFtLXRhc2stbWFuYWdlci9tZXRhL3R5cGUvJyxcclxuICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLVxyXG4gICAgICAgIGluc3RhZ3JhbVRhc2tNYW5hZ2VyX2dldERlZmF1bHRDb25maWdzOiAnaW5zdGFncmFtLXRhc2stbWFuYWdlci9jb25maWcvdHlwZScsIC8vIHtUWVBFfS9zdWJ0eXBlL3tTVUJUWVBFfVxyXG4gICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tXHJcbiAgICAgICAgaW5zdGFncmFtVGFza01hbmFnZXJfcG9zdFN0YXJ0Rm9sbG93aW5nTGlzdDogJ2luc3RhZ3JhbS10YXNrLW1hbmFnZXIvdGFzaycsXHJcbiAgICAgICAgaW5zdGFncmFtVGFza01hbmFnZXJfcG9zdFN0YXJ0VGFzazogJ2luc3RhZ3JhbS10YXNrLW1hbmFnZXIvdGFzaycsXHJcbiAgICAgICAgaW5zdGFncmFtVGFza01hbmFnZXJfZ2V0VGFza1R5cGVzOiAnaW5zdGFncmFtLXRhc2stbWFuYWdlci90YXNrL3R5cGVzJyxcclxuICAgICAgICBpbnN0YWdyYW1UYXNrTWFuYWdlcl9wdXRTdG9wVGFza0J5SUQ6IGlkID0+IGBpbnN0YWdyYW0tdGFzay1tYW5hZ2VyL3Rhc2svJHtpZH1gLFxyXG4gICAgICAgIGluc3RhZ3JhbVRhc2tNYW5hZ2VyX2RlbFJlbW92ZVRhc2tCeUlEOiBpZCA9PiBgaW5zdGFncmFtLXRhc2stbWFuYWdlci90YXNrLyR7aWR9YCxcclxuICAgICAgICBpbnN0YWdyYW1UYXNrTWFuYWdlcl9wb3N0SW1hZ2VBdHRhY2htZW50OiAnaW5zdGFncmFtLXRhc2stbWFuYWdlci90YXNrL2F0dGFjaG1lbnQvaW1hZ2UnLFxyXG4gICAgICAgIGluc3RhZ3JhbVRhc2tNYW5hZ2VyX3Bvc3RUZXh0QXR0YWNobWVudDogJ2luc3RhZ3JhbS10YXNrLW1hbmFnZXIvdGFzay9hdHRhY2htZW50L3VzZXJzX2xpc3QnLFxyXG4gICAgICAgIGluc3RhZ3JhbVRhc2tNYW5hZ2VyX2dldExvZ3NDaGF0Qm90OiAnaW5zdGFncmFtLXRhc2stbWFuYWdlci9sb2dzL3R5cGUvJyAvLyB7VFlQRX0vc3VidHlwZS97U1VCVFlQRX0vYWNjb3VudC97dXNlcm5hbWV9P3BhZ2U9e3BhZ2V9XHJcbiAgICB9LFxyXG4gICAgdXNlcjoge1xyXG4gICAgICAgIGRlZmF1bEF2YXRhcjogJ2h0dHBzOi8vaS5pbWd1ci5jb20vak5OVDRMRS5wbmcnLCAvLyB0b2RvOiBnZXQgZnJvbSBkZXNpZ25lclxyXG4gICAgICAgIGVtYWlsOiAnJyxcclxuICAgICAgICBwYXNzd29yZDogJycsXHJcbiAgICAgICAgdG9rZW46ICcnXHJcbiAgICB9LFxyXG4gICAgY29va2llU3RvcmFnZToge1xyXG4gICAgICAgIHRva2VuOiAndXNlcl9sb2dnZWQnLFxyXG4gICAgICAgIGVtYWlsQ29uZmlybWVkOiAnZW1haWxfY29uZmlybWVkJ1xyXG4gICAgfSxcclxuICAgIHVpU2VsZWN0b3JzOiB7XHJcbiAgICAgICAgaGVhZGVyTG9naW5Cb3g6ICduYXYgLmxvZ2luLWJveCcsXHJcbiAgICAgICAgaGVhZGVyTmF2TG9naW5CdG46ICduYXYgdWwgbGkgLmpzX2xvZ2luJyxcclxuICAgICAgICBoZWFkZXJSZWdCb3g6ICduYXYgLnJlZ2lzdGVyLWJveCcsXHJcbiAgICAgICAgaGVhZGVyUmVnQnRuOiAnbmF2IHVsIGxpIC5qc19yZWdpc3RlcicsXHJcbiAgICAgICAgaW5zdGFncmFtOiB7XHJcbiAgICAgICAgICAgIGFkZEFjY291bnRCdG5TZWxlY3RvcjogJyNqc19zaG93LWxvZ2luLWJveCcsXHJcbiAgICAgICAgICAgIGFkZEFjY291bnRCdG5JZDogJ2pzX3Nob3ctbG9naW4tYm94J1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBldmVudHM6IHtcclxuICAgICAgICBVU0VSX0xPR0dFRDogJ3VzZXJfbG9nZ2VkJyxcclxuICAgICAgICBVU0VSX0xPR09VVDogJ3VzZXJfbG9nb3V0JyxcclxuICAgICAgICBVU0VSX0VNQUlMX0NPTkZJUk1FRDogJ3VzZXJfZW1haWxfY29uZmlybWVkJyxcclxuICAgICAgICBTVE9QX0ZJWEVEX1NQSU5ORVI6ICdzdG9wX2ZpeGVkX3NwaW5uZXInLFxyXG4gICAgICAgIG1lc3NhZ2VzOiB7XHJcbiAgICAgICAgICAgIFJFQ0lFVkVfTkVXX01FU1NBR0U6ICdyZWNlaXZlX25ld19tZXNzYWdlJ1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgaW5zdGFncmFtQWNjb3Vuczoge1xyXG4gICAgICAgICAgICBJTlNUQUdSQU1fQUNDT1VOU19ORUVEX1JFRlJFU0g6ICdpbnN0YWdyYW1fYWNjb3Vuc19uZWVkX3JlZnJlc2gnLFxyXG4gICAgICAgICAgICBJTlNUQUdSQU1fQUNDT1VOU19SRU5ERVJFRDogJ2luc3RhZ3JhbV9hY2NvdW5zX3JlbmRlcmVkJyxcclxuICAgICAgICAgICAgSU5TVEFHUkFNX0FDQ09VTlNfUkVOREVSRURfTEFaWTogJ2luc3RhZ3JhbV9hY2NvdW5zX3JlbmRlcmVkX2xhenknXHJcbiAgICAgICAgfSxcclxuICAgICAgICBtb2RhbDoge1xyXG4gICAgICAgICAgICBJTUFHRV9QT1NUX1NFTEVDVEVEOiAnaW1hZ2VfcG9zdF9zZWxlY3RlZCcsXHJcbiAgICAgICAgICAgIElNQUdFX1VQTE9BREVEX0FWQVRBUjogJ0lNQUdFX1VQTE9BREVEX0FWQVRBUidcclxuICAgICAgICB9LFxyXG4gICAgICAgIGF1dG9hcm5zd2VyOiB7XHJcbiAgICAgICAgICAgIElNQUdFX1VQTE9BREVEOiAnaW1hZ2VfbG9hZGVkJyxcclxuICAgICAgICAgICAgVEVYVF9GSUxFX1VQTE9BREVEOiAndGV4dF9maWxlX3VwbG9hZGVkJ1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgdGFza3M6IHtcclxuICAgICAgICAgICAgTkVXX1RBU0tfQ1JFQVRFRDogJ25ld190YXNrX2NyZWF0ZWQnXHJcbiAgICAgICAgfSxcclxuICAgICAgICBsb2dzOiB7XHJcbiAgICAgICAgICAgIFNUT1BfTE9HUzogJ3N0b3BfbG9ncydcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgbG9nc1N0YXRlOiB7XHJcbiAgICAgICAgc2VsZWN0Q2xzOiAnanNfbG9ncy1hY2NvdW50cycsXHJcbiAgICAgICAgc2VsZWN0Q2xzTG9nc1Rhc2tUeXBlOiAnanNfbG9ncy1zdWJ0eXBlcycsXHJcbiAgICAgICAgd3JhcHBlclN1YnR5cGU6ICcubG9nLXN1YnlwZSdcclxuICAgIH0sXHJcbiAgICBnZXRQYXRoKG5hbWUsIGlkKSB7XHJcbiAgICAgICAgaWYgKHR5cGVvZiB0aGlzLnVybFtuYW1lXSA9PT0gJ2Z1bmN0aW9uJyAmJiBpZCkge1xyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy51cmwuYmFzZSArIHRoaXMudXJsW25hbWVdKGlkKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXMudXJsLmJhc2UgKyB0aGlzLnVybFtuYW1lXTtcclxuICAgIH0sXHJcbiAgICBnZXRQYXRoVHlwZVN1YnR5cGUobmFtZSwgcGF0aCwgcGFnZSkge1xyXG4gICAgICAgIGNvbnN0IHt0eXBlLCBzdWJ0eXBlLCB1c2VybmFtZX0gPSBwYXRoO1xyXG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy51cmxbbmFtZV0gPT09ICdmdW5jdGlvbicgJiYgdHlwZSAmJiBzdWJ0eXBlKSB7XHJcbiAgICAgICAgICAgIGlmICh1c2VybmFtZSAmJiBwYWdlKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy51cmwuYmFzZSArIHRoaXMudXJsW25hbWVdKHBhdGgsIHBhZ2UpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmICh1c2VybmFtZSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMudXJsLmJhc2UgKyB0aGlzLnVybFtuYW1lXShwYXRoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy51cmwuYmFzZSArIHRoaXMudXJsW25hbWVdKHR5cGUsIHN1YnR5cGUpO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gdGhpcy51cmwuYmFzZSArIHRoaXMudXJsW25hbWVdO1xyXG4gICAgfSxcclxuICAgIGdldFBhdGhCeUFycihuYW1lLCBhcnJheSwgcGFnZSkge1xyXG4gICAgICAgIGNvbnN0IGJhc2UgPSB0aGlzLnVybC5iYXNlICsgdGhpcy51cmxbbmFtZV07XHJcbiAgICAgICAgY29uc3QgcmVkdWNlciA9IChhY2N1bXVsYXRvciwgY3VycmVudFZhbHVlKSA9PiBgJHthY2N1bXVsYXRvcn0vJHtjdXJyZW50VmFsdWV9YDtcclxuICAgICAgICBjb25zdCB1cmwgPSBiYXNlICsgYXJyYXkucmVkdWNlKHJlZHVjZXIpOyAvLyAke3R5cGV9L3N1YnR5cGUvJHtzdWJ0eXBlfVxyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKHVybCk7XHJcbiAgICAgICAgaWYgKHBhZ2UpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGAke3VybH0/cGFnZT0ke3BhZ2V9YDtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHVybDtcclxuICAgIH1cclxufTtcclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2NvbW1vbi9qcy1zZXJ2aWNlcy9jb25zdHMuanMiLCIvLyBpbXBvcnQgJCBmcm9tICdqcXVlcnknO1xyXG4vLyBpbXBvcnQge0NPTlNUfSBmcm9tICcuL2NvbnN0cyc7XHJcblxyXG5mdW5jdGlvbiB2aWV3VXRpbHMoKSB7XHJcbiAgICBmdW5jdGlvbiBzaG93SW5mb01lc3NhZ2Uoc2VsZWN0b3IsIG1lc3NhZ2UxLCBtZXNzYWdlMikge1xyXG4gICAgICAgICQoc2VsZWN0b3IpLmVtcHR5KClcclxuICAgICAgICAgICAgLmFwcGVuZChgJHsobWVzc2FnZTEpID8gYDxwPnN0YXR1czogJHttZXNzYWdlMX08L3A+YCA6ICcnfWApXHJcbiAgICAgICAgICAgIC5hcHBlbmQoYDxwPiR7bWVzc2FnZTJ9IDwvcD5gKTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBmaWxsTGlzdCgkbGlzdCwgZGF0YUFycmF5KSB7XHJcbiAgICAgICAgY29uc3QgaXRlbXMgPSBkYXRhQXJyYXk7XHJcbiAgICAgICAgY29uc3QgY0xpc3QgPSAkbGlzdDtcclxuICAgICAgICBjTGlzdC5lbXB0eSgpO1xyXG4gICAgICAgIGl0ZW1zLmZvckVhY2goKGl0ZW0sIGkpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgbGkgPSAkKCc8bGkgY2xhc3M9XCJsaXN0LWdyb3VwLWl0ZW1cIj48L2xpPicpXHJcbiAgICAgICAgICAgICAgICAuYXBwZW5kVG8oY0xpc3QpO1xyXG4gICAgICAgICAgICAkKCc8YS8+JykuYWRkQ2xhc3MoJ3VpLWFsbCcpXHJcbiAgICAgICAgICAgICAgICAudGV4dChpdGVtLnVzZXJuYW1lKVxyXG4gICAgICAgICAgICAgICAgLmFwcGVuZFRvKGxpKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBpc0VtYWlsKGVtYWlsKSB7XHJcbiAgICAgICAgLyogZXNsaW50LWRpc2FibGUgKi9cclxuICAgICAgICBjb25zdCByZWdleCA9IC9eKFthLXpBLVowLTlfListXSkrXFxAKChbYS16QS1aMC05LV0pK1xcLikrKFthLXpBLVowLTldezIsNH0pKyQvO1xyXG4gICAgICAgIHJldHVybiByZWdleC50ZXN0KGVtYWlsKTtcclxuICAgICAgICAvKiBlc2xpbnQtZW5hYmxlICovXHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZ2V0Rm9ybWF0dGVkRGF0ZVV0aWwodFN0YW1wLCBzaG93RnVsbFRpbWUpIHtcclxuICAgICAgICBjb25zdCBkYXRlID0gbmV3IERhdGUodFN0YW1wKTtcclxuXHJcbiAgICAgICAgbGV0IG1vbnRoID0gZGF0ZS5nZXRNb250aCgpICsgMTtcclxuICAgICAgICBsZXQgZGF5ID0gZGF0ZS5nZXREYXRlKCk7XHJcbiAgICAgICAgbGV0IGhvdXIgPSBkYXRlLmdldEhvdXJzKCk7XHJcbiAgICAgICAgbGV0IG1pbiA9IGRhdGUuZ2V0TWludXRlcygpO1xyXG4gICAgICAgIC8vIGxldCBzZWMgPSBkYXRlLmdldFNlY29uZHMoKTtcclxuXHJcbiAgICAgICAgbW9udGggPSAobW9udGggPCAxMCA/ICcwJyA6ICcnKSArIG1vbnRoO1xyXG4gICAgICAgIGRheSA9IChkYXkgPCAxMCA/ICcwJyA6ICcnKSArIGRheTtcclxuICAgICAgICBob3VyID0gKGhvdXIgPCAxMCA/ICcwJyA6ICcnKSArIGhvdXI7XHJcbiAgICAgICAgbWluID0gKG1pbiA8IDEwID8gJzAnIDogJycpICsgbWluO1xyXG4gICAgICAgIC8vIHNlYyA9IChzZWMgPCAxMCA/ICcwJyA6ICcnKSArIHNlYztcclxuXHJcbiAgICAgICAgbGV0IHN0ciA9ICcnO1xyXG4gICAgICAgIGlmICghc2hvd0Z1bGxUaW1lKSB7XHJcbiAgICAgICAgICAgIHN0ciA9IGAke2hvdXJ9OiR7bWlufWA7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgLy8gc3RyID0gYCR7ZGF0ZS5nZXRGdWxsWWVhcigpfS0ke21vbnRofS0ke2RheX0gJHtob3VyfToke21pbn06JHtzZWN9YDtcclxuICAgICAgICAgICAgc3RyID0gYCR7ZGF5fS0ke21vbnRofS0ke2RhdGUuZ2V0RnVsbFllYXIoKX0gJHtob3VyfToke21pbn1gO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmV0dXJuIHN0cjtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBpc0VtcHR5KG9iaikge1xyXG4gICAgICAgIHJldHVybiAhb2JqIHx8IE9iamVjdC5rZXlzKG9iaikubGVuZ3RoID09PSAwO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGZpbGxSYWRpb0dyb3VwTGlzdCgkd3JhcHBlciwgdGFza01vZGVzLCBfYWN0aW9uVGV4dCkge1xyXG4gICAgICAgIGlmIChpc0VtcHR5KHRhc2tNb2RlcykpIHtcclxuICAgICAgICAgICAgY29uc29sZS5pbmZvKCd0YXNrTW9kZXMgaXMgZW1wdHknKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgYWN0aW9uVGV4dCA9IF9hY3Rpb25UZXh0IHx8ICfQv9C+0LTQv9C40YHQvtC6JzsgLy8gdG9kb1xyXG4gICAgICAgIGNvbnN0IHJhZGlvQnRuUmVkdWNlciA9IGZ1bmN0aW9uIChpdGVtLCB2YWwpIHtcclxuICAgICAgICAgICAgc3dpdGNoIChpdGVtKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdBR0dSRVNTSVZFJzpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYDxpbnB1dCB0eXBlPVwicmFkaW9cIiBpZD1cIiR7aXRlbX1cIiBuYW1lPVwiY3VzdG9tUmFkaW9cIiB2YWx1ZT1cIiR7aXRlbX1cIiBjbGFzcz1cImN1c3RvbS1jb250cm9sLWlucHV0XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzPVwiY3VzdG9tLWNvbnRyb2wtbGFiZWxcIiBmb3I9XCIke2l0ZW19XCI+PHN0cm9uZz7QkNCz0YDQtdGB0YHQuNCy0L3Ri9C5Ojwvc3Ryb25nPiAke3ZhbH0gJHthY3Rpb25UZXh0fSDQsiDRh9Cw0YE8L2xhYmVsPmA7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdNSURETEUnOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAoYDxpbnB1dCB0eXBlPVwicmFkaW9cIiBpZD1cIiR7aXRlbX1cIiBuYW1lPVwiY3VzdG9tUmFkaW9cIiB2YWx1ZT1cIiR7aXRlbX1cIiBjbGFzcz1cImN1c3RvbS1jb250cm9sLWlucHV0XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzPVwiY3VzdG9tLWNvbnRyb2wtbGFiZWxcIiBmb3I9XCIke2l0ZW19XCI+PHN0cm9uZz7QodGA0LXQtNC90LjQuTo8L3N0cm9uZz4gJHt2YWx9ICR7YWN0aW9uVGV4dH0g0LIg0YfQsNGBPC9sYWJlbD5gKTtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ1NBRkUnOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBgPGlucHV0IHR5cGU9XCJyYWRpb1wiIGlkPVwiJHtpdGVtfVwiIG5hbWU9XCJjdXN0b21SYWRpb1wiIHZhbHVlPVwiJHtpdGVtfVwiIGNsYXNzPVwiY3VzdG9tLWNvbnRyb2wtaW5wdXRcIiBjaGVja2VkPlxyXG4gICAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzcz1cImN1c3RvbS1jb250cm9sLWxhYmVsXCIgZm9yPVwiJHtpdGVtfVwiPjxzdHJvbmc+0JHQtdC30L7Qv9Cw0YHQvdGL0Lk6PC9zdHJvbmc+ICR7dmFsfSAke2FjdGlvblRleHR9INCyINGH0LDRgTwvbGFiZWw+YDtcclxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ2RlZmF1bHQnLCBpdGVtKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAvLyBjb25zb2xlLmxvZygnZHJhdyBzcGVlZCByYWRpb0J0bicpO1xyXG4gICAgICAgICR3cmFwcGVyLmVtcHR5KCk7XHJcbiAgICAgICAgZm9yIChjb25zdCBpdGVtIGluIHRhc2tNb2Rlcykge1xyXG4gICAgICAvLyBjb25zb2xlLmxvZygnc3RydWN0dXJlOiAnICsgaXRlbSk7XHJcbiAgICAgICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodGFza01vZGVzLCBpdGVtKSkge1xyXG4gICAgICAgICAgICAgICAgJChgPGRpdiBjbGFzcz1cImN1c3RvbS1jb250cm9sIGN1c3RvbS1yYWRpb1wiPlxyXG4gICAgICAgICAgICAgICAgJHtyYWRpb0J0blJlZHVjZXIoaXRlbSwgdGFza01vZGVzW2l0ZW1dKX1cclxuICAgICAgICAgICAgPC9kaXY+YCkuYXBwZW5kVG8oJHdyYXBwZXIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGdldFZhbEJ5Q29tbWFTZXBhcmF0b3IoJGVsKSB7XHJcbiAgICAgICAgcmV0dXJuICRlbC52YWwoKVxyXG4gICAgICAgICAgICAgICAgLnRyaW0oKVxyXG4gICAgICAgICAgICAgICAgLnNwbGl0KCcsJylcclxuICAgICAgICAgICAgICAgIC5tYXAoaSA9PiBpLnRyaW0oKS5yZXBsYWNlKCfihrUnLCAnJykpXHJcbiAgICAgICAgICAgICAgICAuZmlsdGVyKGkgPT4gaS5sZW5ndGggPiAwKVxyXG4gICAgICAgICAgICA7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBjZmcgPXsgbG9nc1N0YXRlLCBjYkZOKCkgfVxyXG4gICAgICovXHJcbiAgICBmdW5jdGlvbiBhZGREcm9wZG93bigkd3JhcHBlciwgaXRlbXMsIGNmZykge1xyXG4gICAgICAgIGNvbnN0IHt0ZXh0UnVzQXJyYXksIGxvZ3NTdGF0ZX0gPSBjZmc7XHJcbiAgICAgICAgY29uc3Qge3NlbGVjdENsc0xvZ3NUYXNrVHlwZX0gPSBsb2dzU3RhdGU7XHJcbiAgICAgICAgY29uc3QgbGFiZWwgPSAn0JLRi9Cx0LXRgNC40YLQtSDRgtC40L8nO1xyXG4gICAgICAgIGNvbnN0IGdldFJ1cyA9IChpZHgpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgaXNUZXh0VW5mb2xsb3cgPSB0ZXh0UnVzQXJyYXkgJiYgISF0ZXh0UnVzQXJyYXkubGVuZ3RoO1xyXG4gICAgICAgICAgICBzd2l0Y2ggKGlkeCkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSAwIDpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKGlzVGV4dFVuZm9sbG93KSA/IHRleHRSdXNBcnJheVtpZHhdIDogJ9Cf0L4g0L/QvtC00L/QuNGB0YfQuNC60LDQvCc7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDEgOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAoaXNUZXh0VW5mb2xsb3cpID8gdGV4dFJ1c0FycmF5W2lkeF0gOiAn0J/QviDQsNC60YLQuNCy0L3QvtC5INCw0YPQtNC40YLQvtGA0LjQuCDQutC+0L3QutGD0YDQtdC90YLQvtCyJztcclxuICAgICAgICAgICAgICAgIGNhc2UgMiA6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChpc1RleHRVbmZvbGxvdykgPyB0ZXh0UnVzQXJyYXlbaWR4XSA6ICdkZWZhdWx0IC0gKDMpJztcclxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6IHJldHVybiAnZGVmYXVsdCc7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgICR3cmFwcGVyLmVtcHR5KCkuYWRkQ2xhc3MoJ2JvcmRlci1saWdodC1jb2xvcicpO1xyXG4gICAgICAgICQoYDxkaXYgY2xhc3M9XCJcIj4ke2xhYmVsfTwvZGl2PjxzZWxlY3QgbmFtZT1cInRhc2stc3VidHlwZVwiIGNsYXNzPVwiJHtzZWxlY3RDbHNMb2dzVGFza1R5cGV9XCI+PC9zZWxlY3Q+YCkuYXBwZW5kVG8oJHdyYXBwZXIpO1xyXG4gICAgICAgIGlmICghaXRlbXMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGNmZy5pc1JlbmRlckVtcHR5T3B0aW9uKSB7XHJcbiAgICAgICAgICAgICQoJzxvcHRpb24gY2xhc3M9XCJsaXN0LWdyb3VwLWl0ZW0gcHktMiBqc19lbXB0eS1zdWJ0eXBlXCIgdmFsdWU9XCItLS1cIj4tLS08L29wdGlvbj4nKS5hcHBlbmRUbygkKGAuJHtzZWxlY3RDbHNMb2dzVGFza1R5cGV9YCkpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpdGVtcy5mb3JFYWNoKChuYW1lLCBpZHgpID0+IHtcclxuICAgICAgICAgICAgJChgPG9wdGlvbiBjbGFzcz1cImxpc3QtZ3JvdXAtaXRlbSBweS0yXCIgdmFsdWU9XCIke25hbWV9XCI+XHJcbiAgICAgICAgICAgICAgICAke2dldFJ1cyhpZHgpfVxyXG4gICAgICAgICAgICA8L29wdGlvbj5gKS5hcHBlbmRUbygkKGAuJHtzZWxlY3RDbHNMb2dzVGFza1R5cGV9YCkpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGlmIChjZmcuZHJvcGRvd25PblNlbGVjdENiKSB7XHJcbiAgICAgICAgICAgICQoYC4ke3NlbGVjdENsc0xvZ3NUYXNrVHlwZX1gKS5vbignY2hhbmdlJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgY2ZnLmRyb3Bkb3duT25TZWxlY3RDYigpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICBzaG93SW5mb01lc3NhZ2UsXHJcbiAgICAgICAgZmlsbExpc3QsXHJcbiAgICAgICAgZmlsbFJhZGlvR3JvdXBMaXN0LFxyXG4gICAgICAgIGlzRW1haWwsXHJcbiAgICAgICAgZ2V0Rm9ybWF0dGVkRGF0ZVV0aWwsXHJcbiAgICAgICAgZ2V0VmFsQnlDb21tYVNlcGFyYXRvcixcclxuICAgICAgICBhZGREcm9wZG93blxyXG4gICAgfTtcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgdmlld1V0aWxzKCk7XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9jb21tb24vanMtc2VydmljZXMvdmlldy5qcyIsIi8vIGltcG9ydCAkIGZyb20gJ2pxdWVyeSc7XHJcbmltcG9ydCB7Q09OU1R9IGZyb20gJy4vY29uc3RzJztcclxuaW1wb3J0IE5ldHdvcmsgZnJvbSAnLi9uZXR3b3JrJztcclxuaW1wb3J0IENvb2tpZVN0b3JhZ2UgZnJvbSAnLi9jb29raWUnO1xyXG5cclxuY29uc3Qgb2JqVG9BcnIgPSAob2JqKSA9PiB7XHJcbiAgICBpZiAob2JqICYmIG9iai5zdWJ0eXBlKSB7XHJcbiAgICAgICAgaWYgKCFvYmouc3VidHlwZS5pbmNsdWRlcygnc3VidHlwZS8nKSkge1xyXG4gICAgICAgICAgICBvYmouc3VidHlwZSA9IGBzdWJ0eXBlLyR7b2JqLnN1YnR5cGV9YDtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gT2JqZWN0LnZhbHVlcyhvYmopO1xyXG59O1xyXG5cclxuY2xhc3MgVXNlclRhc2tNYW5hZ2VyIHtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB0aGlzLm5ldHdvcmsgPSBuZXcgTmV0d29yaygpO1xyXG4gICAgICAgIHRoaXMuY29va2llU3RvcmFnZSA9IENvb2tpZVN0b3JhZ2U7XHJcbiAgICAgICAgdGhpcy5zZXR0aW5nUG9zdCA9IHtcclxuICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXHJcbiAgICAgICAgICAgICAgICAnQWNjZXB0JzogJ2FwcGxpY2F0aW9uL2pzb24nXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIHRoaXMucG9zdFN0YXJ0Rm9sbG93aW5nTGlzdCA9IHRoaXMucG9zdFN0YXJ0Rm9sbG93aW5nTGlzdDtcclxuICAgICAgICB0aGlzLnBvc3RTdGFydFRhc2sgPSB0aGlzLnBvc3RTdGFydFRhc2s7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gaXNMb2dnZWRJbigpIHtcclxuICAgIC8vICAgICByZXR1cm4gISF0aGlzLmdldFRva2VuKCk7XHJcbiAgICAvLyB9XHJcbiAgICAvL1xyXG4gICAgLy8gaXNFbWFpbENvbmZpcm1lZCgpIHtcclxuICAgIC8vICAgICByZXR1cm4gKHRoaXMuY29va2llU3RvcmFnZS5nZXQoQ09OU1QuY29va2llU3RvcmFnZS5lbWFpbENvbmZpcm1lZCkgPT09ICdjb25maXJtZWQnKTtcclxuICAgIC8vIH1cclxuICAgIGdldFRva2VuKGFzSGVhZGVyKSB7XHJcbiAgICAgICAgY29uc3QgY29va2llVG9rZW4gPSB0aGlzLmNvb2tpZVN0b3JhZ2UuZ2V0KENPTlNULmNvb2tpZVN0b3JhZ2UudG9rZW4pO1xyXG4gICAgICAgIHJldHVybiAoYXNIZWFkZXIpID8ge2hlYWRlcnM6IHt0b2tlbjogY29va2llVG9rZW59fSA6IGNvb2tpZVRva2VuO1xyXG4gICAgfVxyXG5cclxuICAgIGdldE1ldGFkYXRhKHBhdGgsIGNiRXJyb3IpIHtcclxuICAgICAgICBjb25zdCBwYXRoQXJyID0gb2JqVG9BcnIocGF0aCk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubmV0d29yay5zZW5kUmVxdWVzdChgJHtDT05TVC5nZXRQYXRoQnlBcnIoJ2luc3RhZ3JhbVRhc2tNYW5hZ2VyX2dldFRhc2tCeVR5cGVzJywgcGF0aEFycil9YCxcclxuICAgICAgICAgICAgdGhpcy5nZXRUb2tlbignYXNIZWFkZXInKSwgY2JFcnJvcik7XHJcbiAgICB9XHJcbiAgICBnZXRNZXRhZGF0YUxhenkocGF0aCwgY2JFcnJvcikge1xyXG4gICAgICAgIGNvbnN0IHBhdGhBcnIgPSBvYmpUb0FycihwYXRoKTtcclxuICAgICAgICBwYXRoQXJyLnB1c2goJz9sYXp5PXRydWUnKTtcclxuICAgICAgICByZXR1cm4gdGhpcy5uZXR3b3JrLnNlbmRSZXF1ZXN0KGAke0NPTlNULmdldFBhdGhCeUFycignaW5zdGFncmFtVGFza01hbmFnZXJfZ2V0VGFza0J5VHlwZXMnLCBwYXRoQXJyKX1gLFxyXG4gICAgICAgICAgICB0aGlzLmdldFRva2VuKCdhc0hlYWRlcicpLCBjYkVycm9yKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRUYXNrVHlwZXMoZGV0YWlscywgY2JFcnJvcikge1xyXG4gICAgICAgIHJldHVybiB0aGlzLm5ldHdvcmsuc2VuZFJlcXVlc3QoYCR7Q09OU1QuZ2V0UGF0aCgnaW5zdGFncmFtVGFza01hbmFnZXJfZ2V0VGFza1R5cGVzJyl9YCxcclxuICAgICAgICAgICAgdGhpcy5nZXRUb2tlbignYXNIZWFkZXInKSwgY2JFcnJvcik7XHJcbiAgICB9XHJcblxyXG4gICAgc3RvcFRhc2tCeUlEKHRhc2tJZCwgY2JFcnJvcikge1xyXG4gICAgICAgIGNvbnN0IHNldHRpbmcgPSB7XHJcbiAgICAgICAgICAgIC4uLnRoaXMuc2V0dGluZ1Bvc3QsXHJcbiAgICAgICAgICAgIG1ldGhvZDogJ1BVVCcsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAgICAgICAgIC4uLnRoaXMuc2V0dGluZ1Bvc3QuaGVhZGVycyxcclxuICAgICAgICAgICAgICAgICd0b2tlbic6IHRoaXMuZ2V0VG9rZW4oKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICBjb25zdCB1cmwgPSBDT05TVC5nZXRQYXRoKCdpbnN0YWdyYW1UYXNrTWFuYWdlcl9wdXRTdG9wVGFza0J5SUQnLCB0YXNrSWQpO1xyXG4gICAgICAgIHJldHVybiB0aGlzLm5ldHdvcmsuc2VuZFJlcXVlc3QodXJsLFxyXG4gICAgICAgICAgICBzZXR0aW5nLCBjYkVycm9yKTtcclxuICAgIH1cclxuXHJcbiAgICBkZWxldGVUYXNrQnlJRCh0YXNrSWQsIGNiRXJyb3IpIHtcclxuICAgICAgICBjb25zdCBzZXR0aW5nID0ge1xyXG4gICAgICAgICAgICAuLi50aGlzLnNldHRpbmdQb3N0LFxyXG4gICAgICAgICAgICBtZXRob2Q6ICdERUxFVEUnLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgICAgICAgICAuLi50aGlzLnNldHRpbmdQb3N0LmhlYWRlcnMsXHJcbiAgICAgICAgICAgICAgICAndG9rZW4nOiB0aGlzLmdldFRva2VuKClcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgY29uc3QgdXJsID0gQ09OU1QuZ2V0UGF0aCgnaW5zdGFncmFtVGFza01hbmFnZXJfZGVsUmVtb3ZlVGFza0J5SUQnLCB0YXNrSWQpO1xyXG4gICAgICAgIHJldHVybiB0aGlzLm5ldHdvcmsuc2VuZFJlcXVlc3QodXJsLFxyXG4gICAgICAgICAgICBzZXR0aW5nLCBjYkVycm9yKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXREZWZhdWx0Q29uZmlncyhwYXRoLCBjYkVycm9yKSB7XHJcbiAgICAgICAgY29uc3QgdXJsID0gYCR7Q09OU1QuZ2V0UGF0aCgnaW5zdGFncmFtVGFza01hbmFnZXJfZ2V0RGVmYXVsdENvbmZpZ3MnKX0vJHtwYXRoLnR5cGV9L3N1YnR5cGUvJHtwYXRoLnN1YnR5cGV9YDtcclxuICAgICAgICByZXR1cm4gdGhpcy5uZXR3b3JrLnNlbmRSZXF1ZXN0KHVybCxcclxuICAgICAgICAgICAgdGhpcy5nZXRUb2tlbignYXNIZWFkZXInKSwgY2JFcnJvcik7XHJcbiAgICB9XHJcblxyXG4gICAgcG9zdFN0YXJ0Rm9sbG93aW5nTGlzdChib2R5LCBjYkVycm9yLCBwYXRoKSB7XHJcbiAgICAgICAgY29uc3Qgc2V0dGluZyA9IHtcclxuICAgICAgICAgICAgLi4udGhpcy5zZXR0aW5nUG9zdCxcclxuICAgICAgICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICAgICAgICAgLi4udGhpcy5zZXR0aW5nUG9zdC5oZWFkZXJzLFxyXG4gICAgICAgICAgICAgICAgJ3Rva2VuJzogdGhpcy5nZXRUb2tlbigpLFxyXG4gICAgICAgICAgICAgICAgJ1gtQXV0aC1Ub2tlbic6ICdlMmY0MzM2YWJlYTQ0MDQ4OWM1MWM1YzEwMjk0ZWExMidcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgc2V0dGluZy5ib2R5ID0gSlNPTi5zdHJpbmdpZnkoYm9keSk7XHJcbiAgICAgICAgY29uc3QgdXJsID0gcGF0aCA/IGAke0NPTlNULmdldFBhdGgocGF0aCl9YCA6IGAke0NPTlNULmdldFBhdGgoJ2luc3RhZ3JhbVRhc2tNYW5hZ2VyX3Bvc3RTdGFydEZvbGxvd2luZ0xpc3QnKX1gO1xyXG5cclxuICAgICAgICByZXR1cm4gdGhpcy5uZXR3b3JrLnNlbmRSZXF1ZXN0KHVybCxcclxuICAgICAgICAgICAgc2V0dGluZywgY2JFcnJvcik7XHJcbiAgICB9XHJcblxyXG4gICAgcG9zdFN0YXJ0VGFzayhib2R5LCBjYkVycm9yKSB7XHJcbiAgICAgICAgY29uc3QgcGF0aCA9ICdpbnN0YWdyYW1UYXNrTWFuYWdlcl9wb3N0U3RhcnRUYXNrJztcclxuICAgICAgICByZXR1cm4gdGhpcy5wb3N0U3RhcnRGb2xsb3dpbmdMaXN0KGJvZHksIGNiRXJyb3IsIHBhdGgpO1xyXG4gICAgfVxyXG4gICAgcG9zdFN0YXJ0Q29tbWVudHMoYm9keSwgY2JFcnJvcikge1xyXG4gICAgICAgIGNvbnN0IHBhdGggPSAnaW5zdGFncmFtVGFza01hbmFnZXJfcG9zdFN0YXJ0VGFzayc7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucG9zdFN0YXJ0Rm9sbG93aW5nTGlzdChib2R5LCBjYkVycm9yLCBwYXRoKTtcclxuICAgIH1cclxuICAgIHBvc3RJbWFnZUF1dG9tZXNzYWdlcyhib2R5LCBjYkVycm9yKSB7XHJcbiAgICAgICAgY29uc3Qgc2V0dGluZyA9IHtcclxuICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAgICAgICAgICd0b2tlbic6IHRoaXMuZ2V0VG9rZW4oKSxcclxuICAgICAgICAgICAgICAgICdBY2NlcHQnOiAnYXBwbGljYXRpb24vanNvbicsXHJcbiAgICAgICAgICAgICAgICAnQ29udGVudC10eXBlJzogJ211bHRpcGFydC9mb3JtLWRhdGEnXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIHNldHRpbmcuYm9keSA9IEpTT04uc3RyaW5naWZ5KGJvZHkpO1xyXG4gICAgICAgIGNvbnN0IHVybCA9IGAke0NPTlNULmdldFBhdGgoJ2luc3RhZ3JhbVRhc2tNYW5hZ2VyX3Bvc3RJbWFnZUF0dGFjaG1lbnQnKX1gO1xyXG5cclxuICAgICAgICByZXR1cm4gdGhpcy5uZXR3b3JrLnNlbmRSZXF1ZXN0KHVybCxcclxuICAgICAgICAgICAgc2V0dGluZywgY2JFcnJvcik7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0TG9nc0NoYXRCb3QocGF0aEFycmF5LCBwYWdlLCBjYkVycm9yKSB7XHJcbiAgICAgICAgLy8gY29uc3QgcGF0aEFyciA9IG9ialRvQXJyKHBhdGgpO1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCdjb252ZXJ0IHBhdGggYXMgQVJSJywgcGF0aEFycmF5LCBwYWdlKTtcclxuICAgICAgICByZXR1cm4gdGhpcy5uZXR3b3JrLnNlbmRSZXF1ZXN0KGAke0NPTlNULmdldFBhdGhCeUFycignaW5zdGFncmFtVGFza01hbmFnZXJfZ2V0TG9nc0NoYXRCb3QnLCBwYXRoQXJyYXksIHBhZ2UpfWAsXHJcbiAgICAgICAgICAgIHRoaXMuZ2V0VG9rZW4oJ2FzSGVhZGVyJyksIGNiRXJyb3IpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldFBvc3RzQXV0b21lc3NhZ2VzKGRldGFpbHMsIGNiRXJyb3IpIHtcclxuICAgICAgICBjb25zdCBjdXJzb3IgPSAoZGV0YWlscy5jdXJzb3IpID8gYD9jdXJzb3I9JHtkZXRhaWxzLmN1cnNvcn1gIDogJyc7XHJcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXBhcmFtLXJlYXNzaWduXHJcbiAgICAgICAgY29uc3QgdXJsQnlVc2VyTmFtZSA9IGAke0NPTlNULmdldFBhdGgoJ2luc3RhZ3JhbVRhc2tNYW5hZ2VyX2dldFBvc3RzJywgZGV0YWlscy51c2VyTmFtZSB8fCAndXNlcl9ub3Rfc2VsZWN0ZWQnKX0ke2N1cnNvcn1gO1xyXG4gICAgICAgIHJldHVybiB0aGlzLm5ldHdvcmsuc2VuZFJlcXVlc3QodXJsQnlVc2VyTmFtZSxcclxuICAgICAgICAgICAgdGhpcy5nZXRUb2tlbignYXNIZWFkZXInKSwgY2JFcnJvcik7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0U3Rvcmllc0NvbmZpZyhwYXRoLCBjYkVycm9yKSB7XHJcbiAgICAgICAgY29uc3QgdXJsID0gYCR7Q09OU1QuZ2V0UGF0aCgnaW5zdGFncmFtVGFza01hbmFnZXJfZ2V0RGVmYXVsdENvbmZpZ3MnKX0vJHtwYXRoLnR5cGV9L3N1YnR5cGUvJHtwYXRoLnN1YnR5cGV9YDtcclxuICAgICAgICByZXR1cm4gdGhpcy5uZXR3b3JrLnNlbmRSZXF1ZXN0KHVybCxcclxuICAgICAgICAgIHRoaXMuZ2V0VG9rZW4oJ2FzSGVhZGVyJyksIGNiRXJyb3IpO1xyXG4gICAgfVxyXG5cclxufVxyXG5cclxubGV0IHVzZXJJbnN0YW5jZSA9IG51bGw7XHJcblxyXG5pZiAoIXVzZXJJbnN0YW5jZSkge1xyXG4gICAgdXNlckluc3RhbmNlID0gbmV3IFVzZXJUYXNrTWFuYWdlcigpO1xyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCB1c2VySW5zdGFuY2U7XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9jb21tb24vanMtc2VydmljZXMvYXBpLXRhc2stbWFuYWdlci5qcyIsIi8vIGltcG9ydCAkIGZyb20gJ2pxdWVyeSc7XHJcbmltcG9ydCB7Q09OU1R9IGZyb20gJy4vY29uc3RzJztcclxuaW1wb3J0IE5ldHdvcmsgZnJvbSAnLi9uZXR3b3JrJztcclxuaW1wb3J0IENvb2tpZVN0b3JhZ2UgZnJvbSAnLi9jb29raWUnO1xyXG5cclxuY2xhc3MgVXNlciB7XHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy5uZXR3b3JrID0gbmV3IE5ldHdvcmsoKTtcclxuICAgICAgICB0aGlzLmNvb2tpZVN0b3JhZ2UgPSBDb29raWVTdG9yYWdlO1xyXG4gICAgICAgIHRoaXMuc2V0dGluZ1Bvc3QgPSB7XHJcbiAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxyXG4gICAgICAgICAgICAgICAgJ0FjY2VwdCc6ICdhcHBsaWNhdGlvbi9qc29uJ1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICBpc0xvZ2dlZEluKCkge1xyXG4gICAgICAgIHJldHVybiAhIXRoaXMuZ2V0VG9rZW4oKTtcclxuICAgIH1cclxuXHJcbiAgICBpc0VtYWlsQ29uZmlybWVkKCkge1xyXG4gICAgICAgIHJldHVybiAodGhpcy5jb29raWVTdG9yYWdlLmdldChDT05TVC5jb29raWVTdG9yYWdlLmVtYWlsQ29uZmlybWVkKSA9PT0gJ2NvbmZpcm1lZCcpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldFRva2VuKGFzSGVhZGVyKSB7XHJcbiAgICAgICAgY29uc3QgY29va2llVG9rZW4gPSB0aGlzLmNvb2tpZVN0b3JhZ2UuZ2V0KENPTlNULmNvb2tpZVN0b3JhZ2UudG9rZW4pO1xyXG4gICAgICAgIHJldHVybiAoYXNIZWFkZXIpID8ge2hlYWRlcnM6IHt0b2tlbjogY29va2llVG9rZW59fSA6IGNvb2tpZVRva2VuO1xyXG4gICAgfVxyXG5cclxuICAgIGxvZ2luKGZvcm1EYXRhLCBjYkVycm9yKSB7XHJcbiAgICAgICAgY29uc3Qgc2V0dGluZyA9IHsuLi50aGlzLnNldHRpbmdQb3N0LCBib2R5OiBKU09OLnN0cmluZ2lmeShmb3JtRGF0YSl9O1xyXG4gICAgICAgIHJldHVybiB0aGlzLm5ldHdvcmsuc2VuZFJlcXVlc3QoQ09OU1QuZ2V0UGF0aCgnbG9naW4nKSwgc2V0dGluZywgY2JFcnJvcik7XHJcbiAgICB9XHJcblxyXG4gICAgYWRkSW5zdGFncmFtQWNjb3VudChmb3JtRGF0YSwgY2JFcnJvcikge1xyXG4gICAgICAgIGNvbnN0IHt1c2VybmFtZSwgcGFzc3dvcmQsIGlwLCBwb3J0LCB1c2VybmFtZVByb3h5LCBwYXNzd29yZFByb3h5fSA9IGZvcm1EYXRhO1xyXG5cclxuICAgICAgICAvLyBUT0RPOiBkZWwgcHJveHlUTVAgYWZ0ZXIgYmV0YS10ZXN0aW5nXHJcbiAgICAgICAgY29uc3QgcHJveHlUTVAgPSB7XHJcbiAgICAgICAgICAgICdwcm94eSc6IHtcclxuICAgICAgICAgICAgICAgICdob3N0JzogaXAsXHJcbiAgICAgICAgICAgICAgICBwb3J0LFxyXG4gICAgICAgICAgICAgICAgdXNlcm5hbWU6IHVzZXJuYW1lUHJveHksXHJcbiAgICAgICAgICAgICAgICBwYXNzd29yZDogcGFzc3dvcmRQcm94eVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICBjb25zdCBib2R5ID0gSlNPTi5zdHJpbmdpZnkoe3VzZXJuYW1lLFxyXG4gICAgICAgICAgICBwYXNzd29yZCxcclxuICAgICAgICAgICAgLi4ucHJveHlUTVAgLy8gVE9ETzogZGVsIHByb3h5VE1QIGFmdGVyIGJldGEtdGVzdGluZ1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGNvbnN0IHNldHRpbmcgPSB7XHJcbiAgICAgICAgICAgIC4uLnRoaXMuc2V0dGluZ1Bvc3QsXHJcbiAgICAgICAgICAgIGJvZHksXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAgICAgICAgIC4uLnRoaXMuc2V0dGluZ1Bvc3QuaGVhZGVycyxcclxuICAgICAgICAgICAgICAgIHRva2VuOiB0aGlzLmdldFRva2VuKClcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHJldHVybiB0aGlzLm5ldHdvcmsuc2VuZFJlcXVlc3QoQ09OU1QuZ2V0UGF0aCgnaW5zdGFncmFtX2FkZEFjY291bnQnKSwgc2V0dGluZywgY2JFcnJvcik7XHJcbiAgICB9XHJcbiAgICBlZGl0SW5zdGFncmFtQWNjb3VudCh1c2VybmFtZSwgYm9keSkge1xyXG4gICAgICAgIGNvbnN0IHNldHRpbmcgPSB7XHJcbiAgICAgICAgICAgIG1ldGhvZDogJ1BVVCcsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAgICAgICAgIC4uLnRoaXMuc2V0dGluZ1Bvc3QuaGVhZGVycyxcclxuICAgICAgICAgICAgICAgICd0b2tlbic6IHRoaXMuZ2V0VG9rZW4oKVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBib2R5XHJcbiAgICAgICAgfTtcclxuICAgICAgICBjb25zdCB1cmwgPSBgJHtDT05TVC5nZXRQYXRoKCdpbnN0YWdyYW1fbW9kaWZ5QWNjb3VudCcsIHVzZXJuYW1lKX1gO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKHVybCk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubmV0d29yay5zZW5kUmVxdWVzdChgJHtDT05TVC5nZXRQYXRoKCdpbnN0YWdyYW1fbW9kaWZ5QWNjb3VudCcsIHVzZXJuYW1lKX1gLCBzZXR0aW5nKTtcclxuICAgIH1cclxuICAgIHVwZGF0ZUluc3RhZ3JhbUFjY291bnQodXNlcm5hbWUsIGJvZHkpIHtcclxuICAgICAgICBjb25zdCBzZXR0aW5nID0ge1xyXG4gICAgICAgICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgICAgICAgICAuLi50aGlzLnNldHRpbmdQb3N0LmhlYWRlcnMsXHJcbiAgICAgICAgICAgICAgICAndG9rZW4nOiB0aGlzLmdldFRva2VuKClcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgYm9keVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgLy8gY29uc3QgdXJsID0gYCR7Q09OU1QuZ2V0UGF0aCgnaW5zdGFncmFtX21vZGlmeUFjY291bnQnLCB1c2VybmFtZSl9YDtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZyh1cmwpO1xyXG4gICAgICAgIHJldHVybiB0aGlzLm5ldHdvcmsuc2VuZFJlcXVlc3QoYCR7Q09OU1QuZ2V0UGF0aCgnaW5zdGFncmFtX2dldEFjY291bnRCeVVzZXInLCB1c2VybmFtZSl9YCwgc2V0dGluZyk7XHJcbiAgICB9XHJcbiAgICBkZWxJbnN0YWdyYW1BY2NvdW50KHVzZXJuYW1lKSB7XHJcbiAgICAgICAgY29uc3Qgc2V0dGluZyA9IHtcclxuICAgICAgICAgICAgbWV0aG9kOiAnREVMRVRFJyxcclxuICAgICAgICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICAgICAgICAgLi4udGhpcy5zZXR0aW5nUG9zdC5oZWFkZXJzLFxyXG4gICAgICAgICAgICAgICAgJ3Rva2VuJzogdGhpcy5nZXRUb2tlbigpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIHJldHVybiB0aGlzLm5ldHdvcmsuc2VuZFJlcXVlc3QoYCR7Q09OU1QuZ2V0UGF0aCgnaW5zdGFncmFtX21vZGlmeUFjY291bnQnLCB1c2VybmFtZSl9YCwgc2V0dGluZyk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gZ2V0SW5zdGFncmFtQWNjb3VudCgpIHtcclxuICAgIC8vICAgICBjb25zdCBzZXR0aW5nID0ge1xyXG4gICAgLy8gICAgICAgICAuLi50aGlzLnNldHRpbmdQb3N0LFxyXG4gICAgLy8gICAgICAgICBtZXRob2Q6ICdHRVQnLFxyXG4gICAgLy8gICAgICAgICBoZWFkZXJzOiB7XHJcbiAgICAvLyAgICAgICAgICAgICAuLi50aGlzLnNldHRpbmdQb3N0LmhlYWRlcnMsXHJcbiAgICAvLyAgICAgICAgICAgICB0b2tlbjogdGhpcy5nZXRUb2tlbigpXHJcbiAgICAvLyAgICAgICAgIH1cclxuICAgIC8vICAgICB9O1xyXG4gICAgLy8gICAgIHJldHVybiB0aGlzLm5ldHdvcmsuc2VuZFJlcXVlc3QoQ09OU1QuZ2V0UGF0aCgnaW5zdGFncmFtX2FkZEFjY291bnQnKSwgc2V0dGluZyk7XHJcbiAgICAvLyB9XHJcblxyXG4gICAgY29uZmlybSh0b2tlbikge1xyXG4gICAgICAgIC8vIGNvbnN0IGNvbmZpcm1VcmwgPSBDT05TVC5nZXRQYXRoKCdjb25maXJtYXRpb24nKTtcclxuICAgICAgICByZXR1cm4gdGhpcy5uZXR3b3JrLnNlbmRSZXF1ZXN0KGAke0NPTlNULmdldFBhdGgoJ2NvbmZpcm1hdGlvbicpICsgdG9rZW59YCk7XHJcbiAgICB9XHJcblxyXG4gICAgcmVnaXN0ZXIoZm9ybURhdGEpIHtcclxuICAgICAgICBjb25zdCBzZXR0aW5nID0ge1xyXG4gICAgICAgICAgICAuLi50aGlzLnNldHRpbmdQb3N0LFxyXG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeShmb3JtRGF0YSlcclxuICAgICAgICB9O1xyXG4gICAgICAgIHJldHVybiB0aGlzLm5ldHdvcmsuc2VuZFJlcXVlc3QoQ09OU1QuZ2V0UGF0aCgncmVnaXN0cmF0aW9uJyksIHNldHRpbmcpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIHRvZG86IG1vdmUgdG8gYWNjb3VudC1saXN0XHJcbiAgICBnZXRNZXRhZGF0YShjYkVycm9yKSB7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubmV0d29yay5zZW5kUmVxdWVzdChgJHtDT05TVC5nZXRQYXRoKCdpbnN0YWdyYW1BY2NvdW50X2dldE1ldGFEYXRhJyl9YCxcclxuICAgICAgICAgICAgdGhpcy5nZXRUb2tlbignYXNIZWFkZXInKSwgY2JFcnJvcik7XHJcbiAgICB9XHJcbiAgICBnZXRNZXRhZGF0YUxhenkoY2JFcnJvcikge1xyXG4gICAgICAgIHJldHVybiB0aGlzLm5ldHdvcmsuc2VuZFJlcXVlc3QoYCR7Q09OU1QuZ2V0UGF0aCgnaW5zdGFncmFtQWNjb3VudF9nZXRNZXRhRGF0YScpfT9sYXp5PXRydWVgLFxyXG4gICAgICAgICAgICB0aGlzLmdldFRva2VuKCdhc0hlYWRlcicpLCBjYkVycm9yKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRTZWN1cml0eUtleSh1c2VybmFtZSwgY2hlY2twb2ludFR5cGUpIHtcclxuICAgICAgICBjb25zdCBzZXR0aW5nID0ge1xyXG4gICAgICAgICAgICAuLi50aGlzLnNldHRpbmdQb3N0LFxyXG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7J3R5cGUnOiBjaGVja3BvaW50VHlwZX0pLCAvLyB0b2RvOiB0bXAgc2V0LCBpdCBzaG91bGQgYmUgJ3R5cGUnXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAgICAgICAgIC4uLnRoaXMuc2V0dGluZ1Bvc3QuaGVhZGVycyxcclxuICAgICAgICAgICAgICAgICd0b2tlbic6IHRoaXMuZ2V0VG9rZW4oKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICByZXR1cm4gdGhpcy5uZXR3b3JrLnNlbmRSZXF1ZXN0KGAke0NPTlNULmdldFBhdGgoJ2luc3RhZ3JhbUFjY291bnRfY2hlY2twb2ludCcpfSR7dXNlcm5hbWV9YCwgc2V0dGluZyk7XHJcbiAgICB9XHJcblxyXG4gICAgY29uZmlybVNlY3VyaXR5S2V5KGtleSwgdXNlcm5hbWUpIHtcclxuICAgICAgICBjb25zdCBzZXR0aW5nID0ge1xyXG4gICAgICAgICAgICBtZXRob2Q6ICdERUxFVEUnLFxyXG4gICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7J3NlY3VyaXR5X2NvZGUnOiBrZXl9KSxcclxuICAgICAgICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICAgICAgICAgLi4udGhpcy5zZXR0aW5nUG9zdC5oZWFkZXJzLFxyXG4gICAgICAgICAgICAgICAgJ3Rva2VuJzogdGhpcy5nZXRUb2tlbigpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIHJldHVybiB0aGlzLm5ldHdvcmsuc2VuZFJlcXVlc3QoYCR7Q09OU1QuZ2V0UGF0aCgnaW5zdGFncmFtQWNjb3VudF9jb25maXJtS2V5Jyl9JHt1c2VybmFtZX1gLCBzZXR0aW5nKTtcclxuICAgIH1cclxuXHJcbn1cclxuXHJcbmxldCB1c2VySW5zdGFuY2UgPSBudWxsO1xyXG5cclxuaWYgKCF1c2VySW5zdGFuY2UpIHtcclxuICAgIHVzZXJJbnN0YW5jZSA9IG5ldyBVc2VyKCk7XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IHVzZXJJbnN0YW5jZTtcclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2NvbW1vbi9qcy1zZXJ2aWNlcy91c2VyLmpzIiwiXHJcbmNvbnN0IENvb2tpZVNydiA9IHtcclxuICAgIGdldDogbmFtZSA9PiB7XHJcbiAgICAgICAgY29uc3QgYyA9IGRvY3VtZW50LmNvb2tpZS5tYXRjaChgKD86KD86XnwuKjsgKikke25hbWV9ICo9ICooW147XSopLiokKXxeLiokYClbMV07XHJcbiAgICAgICAgaWYgKGMpIHtcclxuICAgICAgICAgICAgcmV0dXJuIGRlY29kZVVSSUNvbXBvbmVudChjKTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgc2V0OiAobmFtZSwgdmFsdWUsIG9wdHMgPSB7cGF0aDogJy8nLCBkYXlzOiAzNjV9KSA9PiB7XHJcbiAgICAgICAgaWYgKG9wdHMuZGF5cykge1xyXG4gICAgICAgICAgICBvcHRzWydtYXgtYWdlJ10gPSBvcHRzLmRheXMgKiA2MCAqIDYwICogMjQ7XHJcbiAgICAgICAgICAgIGRlbGV0ZSBvcHRzLmRheXM7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wYXJhbS1yZWFzc2lnblxyXG4gICAgICAgIG9wdHMgPSBPYmplY3QuZW50cmllcyhvcHRzKS5yZWR1Y2UoKHN0ciwgW2ssIHZdKSA9PiBgJHtzdHJ9OyAke2t9PSR7dn1gLCAnJyk7XHJcbiAgICAgICAgZG9jdW1lbnQuY29va2llID0gYCR7bmFtZX09JHtlbmNvZGVVUklDb21wb25lbnQodmFsdWUpICsgb3B0c31gO1xyXG4gICAgfSxcclxuICAgIHJlbW92ZTogKG5hbWUsIG9wdHMpID0+IENvb2tpZVNydi5zZXQobmFtZSwgJycsIHsnbWF4LWFnZSc6IC0xLCBwYXRoOiAnLycsIGRheXM6IDAsIC4uLm9wdHN9KVxyXG4gICAgLy8gcGF0aCAmIGRvbWFpbiBtdXN0IG1hdGNoIGNvb2tpZSBiZWluZyBkZWxldGVkXHJcbn07XHJcblxyXG4vKlxyXG5jbGFzcyBDb29raWVTdG9yYWdlIHtcclxuICAgIHJlYWQoa2V5KSB7XHJcbiAgICAgICAgY29uc3QgdmFsdWUgPSAkLmNvb2tpZShrZXkpO1xyXG4gICAgICAgIHJldHVybiB2YWx1ZSA9PT0gdW5kZWZpbmVkID8gbnVsbCA6IHZhbHVlO1xyXG4gICAgfVxyXG5cclxuICAgIHNldENvb2tpZShuYW1lLCB2YWx1ZSwgZGF5cykge1xyXG4gICAgICAgIGxldCBleHBpcmVzID0gJyc7XHJcbiAgICAgICAgaWYgKGRheXMpIHtcclxuICAgICAgICAgICAgY29uc3QgZGF0ZSA9IG5ldyBEYXRlKCk7XHJcbiAgICAgICAgICAgIGRhdGUuc2V0VGltZShkYXRlLmdldFRpbWUoKSArIChkYXlzICogMjQgKiA2MCAqIDYwICogMTAwMCkpO1xyXG4gICAgICAgICAgICBleHBpcmVzID0gYDsgZXhwaXJlcz0ke2RhdGUudG9VVENTdHJpbmcoKX1gO1xyXG4gICAgICAgIH1cclxuICAgICAgICBkb2N1bWVudC5jb29raWUgPSBgJHtuYW1lfSA9JHsodmFsdWUgfHwgJycpICsgZXhwaXJlc307IHBhdGg9L2A7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0Q29va2llKG5hbWUpIHtcclxuICAgICAgICBjb25zdCB2YWx1ZSA9IGA7ICR7ZG9jdW1lbnQuY29va2llfWA7XHJcbiAgICAgICAgY29uc3QgcGFydHMgPSB2YWx1ZS5zcGxpdChgOyAke25hbWV9PWApO1xyXG4gICAgICAgIGlmIChwYXJ0cy5sZW5ndGggPT0gMikge1xyXG4gICAgICAgICAgICByZXR1cm4gcGFydHMucG9wKCkuc3BsaXQoJzsnKS5zaGlmdCgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4qL1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgQ29va2llU3J2O1xyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvY29tbW9uL2pzLXNlcnZpY2VzL2Nvb2tpZS5qcyIsImltcG9ydCBVc2VyVGFza01hbmFnZXIgZnJvbSAnLi4vLi4vLi4vY29tbW9uL2pzLXNlcnZpY2VzL2FwaS10YXNrLW1hbmFnZXInO1xyXG5pbXBvcnQgdmlld1V0aWxzIGZyb20gJy4uLy4uLy4uL2NvbW1vbi9qcy1zZXJ2aWNlcy92aWV3JztcclxuaW1wb3J0IHtDT05TVH0gZnJvbSAnLi4vLi4vLi4vY29tbW9uL2pzLXNlcnZpY2VzL2NvbnN0cyc7XHJcblxyXG5jb25zdCBtb2RlUnVzID0gKG1vZGUpID0+IHtcclxuICAgIHN3aXRjaCAobW9kZSkge1xyXG4gICAgICAgIGNhc2UgJ0FHR1JFU1NJVkUnOlxyXG4gICAgICAgICAgICByZXR1cm4gJ9CQ0LPRgNC10YHRgdC40LLQvdGL0LknO1xyXG4gICAgICAgIGNhc2UgJ01JRERMRSc6XHJcbiAgICAgICAgICAgIHJldHVybiAn0KHRgNC10LTQvdC40LknO1xyXG4gICAgICAgIGNhc2UgJ1NBRkUnOlxyXG4gICAgICAgICAgICByZXR1cm4gJyDQkdC10LfQvtC/0LDRgdC90YvQuSc7XHJcbiAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICB9XHJcbn07XHJcblxyXG5mdW5jdGlvbiBmaWxsTGlzdEJ5U3RhdGUodGFza1N0YXRlLCAkbGlzdCwgaXRlbSkge1xyXG4gICAgY29uc3Qge3Byb2dyZXNzLCBjcmVhdGVkX2F0LCB0YXNrX2lkLCB0eXBlLCBzdGF0dXMsIHVzZXJuYW1lLCBtb2RlfSA9IGl0ZW07XHJcbiAgICBjb25zdCBhZGRJdGVtID0gKHRwbFN0b3ApID0+IHtcclxuICAgICAgICAkKGA8bGkgY2xhc3M9XCJsaXN0LWdyb3VwLWl0ZW0gcC0wIHB5LTJcIiBkYXRhLXR5cGU9XCIke3R5cGV9XCIgZGF0YS10YXNrLWlkPVwiJHt0YXNrX2lkfVwiPlxyXG4gICAgICAgICAgICAgICAgJHt0cGxTdG9wfVxyXG4gICAgICAgICAgICA8L2xpPmApLmFwcGVuZFRvKCRsaXN0KTtcclxuICAgIH07XHJcbiAgICBjb25zdCB0cGxQYXVzZWQgPSBgPGRpdiBjbGFzcz1cImNhcmQtYmxvY2tcIj5cclxuICAgICAgICA8aDQgY2xhc3M9XCJjYXJkLXRpdGxlXCI+0J3QsCDQv9Cw0YPQt9C1PC9oND5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwidGV4dC1yaWdodFwiPlxyXG4gICAgICAgICAgICAkeyhwcm9ncmVzcyAmJiBwcm9ncmVzcy50aW1lc3RhbXApID8gYDxzcGFuIGNsYXNzPVwidGV4dC1tdXRlZFwiPiR7dmlld1V0aWxzLmdldEZvcm1hdHRlZERhdGVVdGlsKHByb2dyZXNzLnRpbWVzdGFtcCl9PC9zcGFuPmAgOiAnJ31cclxuICAgICAgICAgICAgJHtjcmVhdGVkX2F0ID8gYDxzcGFuIGNsYXNzPVwidGV4dC1tdXRlZFwiPiR7dmlld1V0aWxzLmdldEZvcm1hdHRlZERhdGVVdGlsKGNyZWF0ZWRfYXQpfTwvc3Bhbj5gIDogJyd9XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPHNwYW4gY2xhc3M9XCJ0ZXh0LXN1Y2Nlc3NcIj4xMCU8L3NwYW4+XHJcbiAgICAgICAgPGRpdiBjbGFzcz1cInByb2dyZXNzIG1iLTNcIj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInByb2dyZXNzLWJhciBiZy1zdWNjZXNzXCIgcm9sZT1cInByb2dyZXNzYmFyXCIgc3R5bGU9XCJ3aWR0aDogMTAlOyBoZWlnaHQ6IDZweDtcIiBhcmlhLXZhbHVlbm93PVwiMjVcIiBhcmlhLXZhbHVlbWluPVwiMFwiIGFyaWEtdmFsdWVtYXg9XCIxMDBcIj48L2Rpdj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi13YXJuaW5nIGpzX2J0bi1kZWxldGUtdGFza1wiPtCj0LTQsNC70LjRgtGMPC9idXR0b24+YDtcclxuICAgIGNvbnN0IHRwbFByb2dyZXNzID0gYDxkaXYgY2xhc3M9XCJuby1ndXR0ZXJzIHB4LTIgcm93IHRhc2stcHJvZ3Jlc3NcIj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbC02IGFsaWduLWl0ZW1zLWNlbnRlciBkLWZsZXhcIj5cclxuICAgICAgICAgICAgICAgIDxpbWcgc3JjPVwiJHtzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKHVzZXJuYW1lKX1cIiBjbGFzcz1cInJvdW5kZWQtY2lyY2xlIGF2YXRhclwiIGFsdD1cItCw0LLQsNGC0LDRgFwiLz5cclxuICAgICAgICAgICAgICAgIDxoMiBjbGFzcz1cIm10LTAgbWItMSBtbC0yXCI+JHt1c2VybmFtZX08L2gyPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbC02IGNvbC02LS13aXRoLWJvcmRlcnNcIj5cclxuICAgICAgICAgICAgICAgIDxwIGNsYXNzPVwicGItMSBuYW1lXCI+PGI+SUQ6PC9iPiAke3Rhc2tfaWR9PC9wPlxyXG4gICAgICAgICAgICAgICAgJHtjcmVhdGVkX2F0ID8gYDxwIGNsYXNzPVwicGItMVwiPjxiPtCX0LDQv9GD0YnQtdC90L46PC9iPiAke3ZpZXdVdGlscy5nZXRGb3JtYXR0ZWREYXRlVXRpbChjcmVhdGVkX2F0LCAnc2hvd0Z1bGxUaW1lJyl9PC9wPmAgOiAnJ31cclxuICAgICAgICAgICAgICAgICR7bW9kZSA/IGA8cCBjbGFzcz1cInBiLTFcIj48Yj7QoNC10LbQuNC8OjwvYj4gJHttb2RlUnVzKG1vZGUpfTwvcD5gIDogJyd9XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwidGV4dC1jZW50ZXJcIj5cclxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi1vdXRsaW5lLXByaW1hcnkganNfYnRuLXN0b3AtdGFza1wiPjxpIGNsYXNzPVwiZmFyIGZhLXBhdXNlLWNpcmNsZSBmYS1sZ1wiPjwvaT48L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICA8IS0tYnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi13YXJuaW5nIGpzX2J0bi1kZWxldGUtdGFzayBtbC0zXCI+PGkgY2xhc3M9XCJmYXIgZmEtdHJhc2gtYWx0IGZhLWxnXCI+PC9pPjwvYnV0dG9uLS0+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPC9kaXY+YDtcclxuICAgIGNvbnN0IHRwbFN0b3AgPSBgPGRpdiBjbGFzcz1cIm5vLWd1dHRlcnMgcHgtMiByb3cgdGFzay1zdG9wcGVkXCI+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtNiBhbGlnbi1pdGVtcy1jZW50ZXIgZC1mbGV4XCI+XHJcbiAgICAgICAgICAgICAgICA8aW1nIHNyYz1cIiR7c2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSh1c2VybmFtZSl9XCIgY2xhc3M9XCJyb3VuZGVkLWNpcmNsZSBhdmF0YXJcIiBhbHQ9XCLQsNCy0LDRgtCw0YBcIi8+XHJcbiAgICAgICAgICAgICAgICA8aDIgY2xhc3M9XCJtdC0wIG1iLTEgbWwtMlwiPiR7dXNlcm5hbWV9PC9oMj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtNiBjb2wtNi0td2l0aC1ib3JkZXJzXCI+XHJcbiAgICAgICAgICAgICAgICA8cCBjbGFzcz1cInBiLTEgbmFtZVwiPjxiPklEOjwvYj4gJHt0YXNrX2lkfTwvcD5cclxuICAgICAgICAgICAgICAgICR7KGl0ZW0uc3RhdHVzLnJlYXNvbikgPyBgPHAgY2xhc3M9XCJteS0xXCI+JHtzdGF0dXMucmVhc29ufTwvcD5gIDogJyd9XHJcbiAgICAgICAgICAgICAgICAke2NyZWF0ZWRfYXQgPyBgPHAgY2xhc3M9XCJwYi0xXCI+PGI+0JfQsNC/0YPRidC10L3Qvjo8L2I+ICR7dmlld1V0aWxzLmdldEZvcm1hdHRlZERhdGVVdGlsKGNyZWF0ZWRfYXQsICdzaG93RnVsbFRpbWUnKX08L3A+YCA6ICcnfVxyXG4gICAgICAgICAgICAgICAgJHttb2RlID8gYDxwIGNsYXNzPVwicGItMVwiPjxiPtCg0LXQttC40Lw6PC9iPiAke21vZGVSdXMobW9kZSl9PC9wPmAgOiAnJ31cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0ZXh0LWNlbnRlclwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJidG4gYnRuLXdhcm5pbmcganNfYnRuLWRlbGV0ZS10YXNrXCI+PGkgY2xhc3M9XCJmYXIgZmEtdHJhc2gtYWx0IGZhLWxnXCI+PC9pPjwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgICA8L2Rpdj5gO1xyXG4gICAgY29uc3QgdHBsRmluaXNoZWQgPSBgPGRpdiBjbGFzcz1cIm5vLWd1dHRlcnMgcHgtMiByb3cgdGFzay1wcm9ncmVzc1wiPlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLTYgYWxpZ24taXRlbXMtY2VudGVyIGQtZmxleFwiPlxyXG4gICAgICAgICAgICAgICAgPGltZyBzcmM9XCIke3Nlc3Npb25TdG9yYWdlLmdldEl0ZW0odXNlcm5hbWUpfVwiIGNsYXNzPVwicm91bmRlZC1jaXJjbGUgYXZhdGFyXCIgYWx0PVwi0LDQstCw0YLQsNGAXCIvPlxyXG4gICAgICAgICAgICAgICAgPGgyIGNsYXNzPVwibXQtMCBtYi0xIG1sLTJcIj4ke3VzZXJuYW1lfTwvaDI+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLTYgY29sLTYtLXdpdGgtYm9yZGVyc1wiPlxyXG4gICAgICAgICAgICAgICAgPHAgY2xhc3M9XCJwYi0xIG5hbWVcIj48Yj5JRDo8L2I+ICR7dGFza19pZH08L3A+XHJcbiAgICAgICAgICAgICAgICAke2NyZWF0ZWRfYXQgPyBgPHAgY2xhc3M9XCJwYi0xXCI+PGI+0JfQsNC/0YPRidC10L3Qvjo8L2I+ICR7dmlld1V0aWxzLmdldEZvcm1hdHRlZERhdGVVdGlsKGNyZWF0ZWRfYXQsICdzaG93RnVsbFRpbWUnKX08L3A+YCA6ICcnfVxyXG4gICAgICAgICAgICAgICAgJHttb2RlID8gYDxwIGNsYXNzPVwicGItMVwiPjxiPtCg0LXQttC40Lw6PC9iPiAke21vZGVSdXMobW9kZSl9PC9wPmAgOiAnJ31cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0ZXh0LWNlbnRlclwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDwhLS08YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi1vdXRsaW5lLXByaW1hcnkganNfYnRuLXN0b3AtdGFza1wiPjxpIGNsYXNzPVwiZmFyIGZhLXBhdXNlLWNpcmNsZSBmYS1sZ1wiPjwvaT48L2J1dHRvbj4tLT5cclxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi13YXJuaW5nIGpzX2J0bi1kZWxldGUtdGFzayBtbC0zXCI+PGkgY2xhc3M9XCJmYXIgZmEtdHJhc2gtYWx0IGZhLWxnXCI+PC9pPjwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvZGl2PmA7XHJcbiAgICBzd2l0Y2ggKHRhc2tTdGF0ZSkge1xyXG4gICAgICAgIGNhc2UgJ1BBVVNFRCc6XHJcbiAgICAgICAgICAgIGFkZEl0ZW0odHBsUGF1c2VkKTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSAnSU5fUFJPR1JFU1MnOlxyXG4gICAgICAgICAgICBhZGRJdGVtKHRwbFByb2dyZXNzKTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSAnR0xPQkFMX1BBVVNFJzpcclxuICAgICAgICAgICAgYWRkSXRlbSh0cGxQcm9ncmVzcyk7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgJ1NUT1BQRUQnOlxyXG4gICAgICAgICAgICBhZGRJdGVtKHRwbFN0b3ApO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlICdGSU5JU0hFRCc6XHJcbiAgICAgICAgICAgIGFkZEl0ZW0odHBsRmluaXNoZWQpO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICBicmVhaztcclxuICAgIH1cclxufVxyXG5cclxuZnVuY3Rpb24gZmlsbExpc3RNZXRhKCRsaXN0LCBpdGVtcy8qICwgaXNSdW5zKi8pIHtcclxuICAgIC8vIGNvbnN0IGRlZmF1bHRBdmF0YXJTcmMgPSBDT05TVC51c2VyLmRlZmF1bEF2YXRhcjtcclxuICAgICRsaXN0LmVtcHR5KCk7XHJcbiAgICBpZiAoIWl0ZW1zLmxlbmd0aCkge1xyXG4gICAgICAgICQoYDxsaSBjbGFzcz1cImxpc3QtZ3JvdXAtaXRlbSBweS0yXCI+XHJcbiAgICAgICAgICAgICAgICA8cD7QndC10YIg0L3QuCDQvtC00L3QvtC5INC30LDQtNCw0YfQuC48L3A+XHJcbiAgICAgICAgICAgIDwvbGk+YCkuYXBwZW5kVG8oJGxpc3QpO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGl0ZW1zLmZvckVhY2goKGl0ZW0pID0+IHtcclxuICAgICAgICAvLyBpZiAoKGl0ZW0uc3RhdHVzLnN0YXRlID09PSAnU1RPUFBFRCcgfHwgaXRlbS5zdGF0dXMuc3RhdGUgPT09ICdGSU5JU0hFRCcpICYmICFpc1J1bnMpIHtcclxuICAgICAgICAvLyAgICAgZmlsbExpc3RCeVN0YXRlKGl0ZW0uc3RhdHVzLnN0YXRlLCAkbGlzdCwgaXRlbSk7XHJcbiAgICAgICAgLy8gfSBlbHNlIGlmICgoaXRlbS5zdGF0dXMuc3RhdGUgPT09ICdJTl9QUk9HUkVTUycgfHwgaXRlbS5zdGF0dXMuc3RhdGUgPT09ICdQQVVTRUQnKSAmJiBpc1J1bnMpIHtcclxuICAgICAgICAvLyAgICAgZmlsbExpc3RCeVN0YXRlKGl0ZW0uc3RhdHVzLnN0YXRlLCAkbGlzdCwgaXRlbSk7XHJcbiAgICAgICAgLy8gfVxyXG4gICAgICAgIGZpbGxMaXN0QnlTdGF0ZShpdGVtLnN0YXR1cy5zdGF0ZSwgJGxpc3QsIGl0ZW0pO1xyXG4gICAgfSk7XHJcbiAgICBpZiAoISQoJ2xpJywgJGxpc3QpLmxlbmd0aCkge1xyXG4gICAgICAgICQoYDxsaSBjbGFzcz1cImxpc3QtZ3JvdXAtaXRlbSBweS0yXCI+XHJcbiAgICAgICAgICAgIDxwPtCd0LXRgiDQvdC4INC+0LTQvdC+0Lkg0LfQsNC00LDRh9C4LjwvcD5cclxuICAgICAgICA8L2xpPmApLmFwcGVuZFRvKCRsaXN0KTtcclxuICAgIH1cclxufVxyXG5cclxuLyogZXNsaW50LWRpc2FibGUgbm8tdXNlLWJlZm9yZS1kZWZpbmUgKi9cclxuZnVuY3Rpb24gaW5pdEhhbmRsZXJzKGhvbGRlcnMsIHBhdGgpIHtcclxuICAgIGNvbnN0IF9wYXRoID0gcGF0aCB8fCB7XHJcbiAgICAgICAgdHlwZTogQ09OU1QudXJsLnRtVHlwZXMuZm9sbG93aW5nVCxcclxuICAgICAgICBzdWJ0eXBlOiBDT05TVC51cmwudG1UeXBlcy5mb2xsb3dpbmdTdWJUWzBdXHJcbiAgICB9O1xyXG4gICAgY29uc3QgJGJ0blN0b3BUYXNrID0gJCgnLmpzX2J0bi1zdG9wLXRhc2snKTtcclxuICAgIGNvbnN0ICRidG5EZWxUYXNrID0gJCgnLmpzX2J0bi1kZWxldGUtdGFzaycpO1xyXG4gICAgY29uc3QgZ2V0VGFza0lEID0gKGUpID0+IHtcclxuICAgICAgICBjb25zdCBidG4gPSAkKGUudGFyZ2V0KTtcclxuICAgICAgICByZXR1cm4gYnRuLmNsb3Nlc3QoJ2xpJykuZGF0YSgndGFzay1pZCcpO1xyXG4gICAgfTtcclxuXHJcbiAgICAkYnRuU3RvcFRhc2sub24oJ2NsaWNrJywgKGUpID0+IHtcclxuICAgICAgICBjb25zdCB0YXNrSWQgPSBnZXRUYXNrSUQoZSk7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ1NUT1AgVGFzayBpZCcsIHRhc2tJZCk7XHJcbiAgICAgICAgVXNlclRhc2tNYW5hZ2VyLnN0b3BUYXNrQnlJRCh0YXNrSWQpLnRoZW4oKHJlc3VsdCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhyZXN1bHQpO1xyXG4gICAgICAgICAgICBnZXRUYXNrc0RhdGEoaG9sZGVycywgX3BhdGgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgJGJ0bkRlbFRhc2sub24oJ2NsaWNrJywgKGUpID0+IHtcclxuICAgICAgICBjb25zdCB0YXNrSWQgPSBnZXRUYXNrSUQoZSk7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ0RFTEVURSBpZCcsIHRhc2tJZCk7XHJcbiAgICAgICAgVXNlclRhc2tNYW5hZ2VyLmRlbGV0ZVRhc2tCeUlEKHRhc2tJZCkudGhlbigocmVzdWx0KSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3VsdCk7XHJcbiAgICAgICAgICAgIGdldFRhc2tzRGF0YShob2xkZXJzLCBfcGF0aCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdldFRhc2tzRGF0YShob2xkZXJzLCBwYXRoKSB7XHJcbiAgICBjb25zdCB7LyogJHJ1bnMsKi8kYWxsfSA9IGhvbGRlcnM7XHJcbiAgICBjb25zdCBfcGF0aCA9IHBhdGggfHwge1xyXG4gICAgICAgIHR5cGU6IENPTlNULnVybC50bVR5cGVzLmZvbGxvd2luZ1QsXHJcbiAgICAgICAgc3VidHlwZTogQ09OU1QudXJsLnRtVHlwZXMuZm9sbG93aW5nU3ViVFswXVxyXG4gICAgfTtcclxuICAgIFVzZXJUYXNrTWFuYWdlci5nZXRNZXRhZGF0YShfcGF0aCkudGhlbigocmVzdWx0KSA9PiB7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coJ2dldE1ldGFkYXRhICYgZmlsbExpc3RNZXRhJywgcmVzdWx0KTtcclxuICAgICAgICBpZiAocmVzdWx0LnN0YXR1cy5zdGF0ZSA9PT0gJ29rJykge1xyXG4gICAgICAgICAgICAvLyBmaWxsTGlzdE1ldGEoJHJ1bnMsIHJlc3VsdC5kYXRhLm1ldGEsICdpc1J1bnMnKTtcclxuICAgICAgICAgICAgZmlsbExpc3RNZXRhKCRhbGwsIHJlc3VsdC5kYXRhLm1ldGEsICdpc0FsbCcpO1xyXG4gICAgICAgICAgICBpbml0SGFuZGxlcnMoaG9sZGVycywgcGF0aCk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBJbml0XHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gaW5pdCgpIHtcclxuICAgIGNvbnN0IGhvbGRlcnMgPSB7XHJcbiAgICAgICAgJHJ1bnM6ICQoJy5mb2xsb3ctdGFza3MtcnVucycpLFxyXG4gICAgICAgICRzdG9wcGVkOiAkKCcuZm9sbG93LXRhc2tzLXN0b3BwZWQnKSxcclxuICAgICAgICAkYWxsOiAkKCcuZm9sbG93LXRhc2tzLWFsbCcpXHJcbiAgICB9O1xyXG4gICAgZ2V0VGFza3NEYXRhKGhvbGRlcnMpO1xyXG4gICAgd2luZG93LlB1YlN1Yi5zdWJzY3JpYmUoQ09OU1QuZXZlbnRzLnRhc2tzLk5FV19UQVNLX0NSRUFURUQsIChldmVudE5hbWUsIGRhdGEpID0+IHtcclxuICAgICAgICBjb25zdCBfcGF0aCA9IHtcclxuICAgICAgICAgICAgdHlwZTogQ09OU1QudXJsLnRtVHlwZXMuZm9sbG93aW5nVCxcclxuICAgICAgICAgICAgc3VidHlwZTogQ09OU1QudXJsLnRtVHlwZXMuZm9sbG93aW5nU3ViVFswXVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgZ2V0VGFza3NEYXRhKGhvbGRlcnMsIF9wYXRoKTtcclxuICAgIH0pO1xyXG59XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9ibG9ja3MvX3NoYXJlZC90YXNrLXN0YXR1cy90YXNrLXN0YXR1cy5qcyIsImltcG9ydCB7Q09OU1R9IGZyb20gJy4uLy4uL2NvbW1vbi9qcy1zZXJ2aWNlcy9jb25zdHMnO1xyXG4vLyBpbXBvcnQgJ2JydXR1c2luLWpzb24tZm9ybXMnO1xyXG5jb25zdCBzdGF0ZSA9IHtcclxuICAgIHVzZXJuYW1lOiAnJ1xyXG59O1xyXG5jb25zdCB3aXphcmRGb3JtU2VsZWN0b3IgPSAnLndpemFyZC1mb3JtJztcclxuXHJcbi8qKlxyXG4gKiBJbml0IGhlYWRlclxyXG4gKi9cclxuZnVuY3Rpb24gaW5pdFN0ZXBzKGZvcm1TZWxlY3Rvciwgd2l6YXJkQ2ZnKSB7XHJcbiAgICBjb25zdCAkZm9ybSA9ICQoZm9ybVNlbGVjdG9yKTtcclxuICAgIGNvbnN0IHtzdGVwUmVkdWNlciwgb25TdWJtaXRIYW5kbGVyfSA9IHdpemFyZENmZztcclxuICAgICQoJy5qc19wcm9maWxlLXVzZXItZm9sbG93Pi5jb250YWluZXInKS5yZW1vdmVDbGFzcygnY29udGFpbmVyJyk7XHJcblxyXG4gICAgJGZvcm0uZmluZCgnZmllbGRzZXQ6Zmlyc3QtY2hpbGQnKS5mYWRlSW4oJ3Nsb3cnKTtcclxuXHJcbiAgICAkZm9ybS5maW5kKCdpbnB1dFt0eXBlPVwidGV4dFwiXScpLm9uKCdmb2N1cycsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAkKHRoaXMpLnJlbW92ZUNsYXNzKCdpbnB1dC1lcnJvcicpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gbmV4dCBzdGVwXHJcbiAgICAkZm9ybS5maW5kKCcuYnRuLW5leHQnKS5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgY29uc3QgcGFyZW50X2ZpZWxkc2V0ID0gJCh0aGlzKS5wYXJlbnRzKCdmaWVsZHNldCcpO1xyXG4gICAgICAgIGxldCBuZXh0X3N0ZXAgPSB0cnVlO1xyXG4gICAgICAgIGNvbnN0IHJhZGlvQnRuQWN0aXZlID0gcGFyZW50X2ZpZWxkc2V0LmZpbmQoJ2lucHV0W25hbWU9XCJ1c2VyQWNjb3VudFJhZGlvXCJdOmNoZWNrZWQnKTtcclxuXHJcbiAgICAgICAgaWYgKHJhZGlvQnRuQWN0aXZlLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgc3RhdGUudXNlcm5hbWUgPSByYWRpb0J0bkFjdGl2ZS5wYXJlbnRzKCdsaScpLmRhdGEoJ3VzZXJuYW1lJyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoc3RlcFJlZHVjZXIpIHtcclxuICAgICAgICAgICAgc3RlcFJlZHVjZXIocGFyZW50X2ZpZWxkc2V0LmluZGV4KCksIHN0YXRlKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHBhcmVudF9maWVsZHNldC5maW5kKCdpbnB1dFt0eXBlPVwidGV4dFwiXSxpbnB1dFt0eXBlPVwiZW1haWxcIl0nKS5lYWNoKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKCQodGhpcykudmFsKCkgPT09ICcnKSB7XHJcbiAgICAgICAgICAgICAgICAkKHRoaXMpLmFkZENsYXNzKCdpbnB1dC1lcnJvcicpO1xyXG4gICAgICAgICAgICAgICAgbmV4dF9zdGVwID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAkKHRoaXMpLnJlbW92ZUNsYXNzKCdpbnB1dC1lcnJvcicpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGlmIChuZXh0X3N0ZXApIHtcclxuICAgICAgICAgICAgcGFyZW50X2ZpZWxkc2V0LmZhZGVPdXQoNDAwLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAkKHRoaXMpLm5leHQoKS5mYWRlSW4oKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgIH0pO1xyXG5cclxuICAgIC8vIHByZXZpb3VzIHN0ZXBcclxuICAgICRmb3JtLmZpbmQoJy5idG4tcHJldmlvdXMnKS5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgLy8gc3RhdGUudXNlcm5hbWUgPSBbLi4ubmV3IFNldChzdGF0ZS51c2VybmFtZSldO1xyXG4gICAgICAgICQodGhpcykucGFyZW50cygnZmllbGRzZXQnKS5mYWRlT3V0KDQwMCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAkKHRoaXMpLnByZXYoKS5mYWRlSW4oKTtcclxuICAgICAgICB9KTtcclxuICAgIH0pO1xyXG5cclxuICAgIC8vIHNwZWVkIHJhZGlvLWJ0biBncm91cFxyXG4gICAgJCgnLmpzX2ZvbGxvdy1zcGVlZCBpbnB1dFt0eXBlPXJhZGlvXScpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAvLyBjb25zdCB2YWx1ZSA9ICQodGhpcykuYXR0cigndmFsdWUnKTtcclxuICAgICAgICAvLyBzdGF0ZS51c2VyX2RlZmF1bHRfY29uZmlnID0ge1xyXG4gICAgICAgIC8vICAgICB0YXNrX21vZGU6IHZhbHVlLnRvVXBwZXJDYXNlKClcclxuICAgICAgICAvLyB9O1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gc3VibWl0XHJcbiAgICAkZm9ybS5vbignc3VibWl0JywgZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAkKHRoaXMpLmZpbmQoJ2lucHV0W3R5cGU9XCJ0ZXh0XCJdLGlucHV0W3R5cGU9XCJudW1iZXJcIl0saW5wdXRbdHlwZT1cImVtYWlsXCJdJykuZWFjaChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmICgkKHRoaXMpLnZhbCgpID09PSAnJykge1xyXG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgJCh0aGlzKS5hZGRDbGFzcygnaW5wdXQtZXJyb3InKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICQodGhpcykucmVtb3ZlQ2xhc3MoJ2lucHV0LWVycm9yJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgaWYgKG9uU3VibWl0SGFuZGxlcikge1xyXG4gICAgICAgICAgICBvblN1Ym1pdEhhbmRsZXIoZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBjb25zb2xlLmxvZygnU3VibWl0SGFuZGxlciBFTkQnKTtcclxuICAgIH0pO1xyXG5cclxuICAgIC8vIGFsZXJ0IGNsb3NlXHJcbiAgICAkKCcuZm9ybS1zdWJtaXQtZmluaXNoIC5jbG9zZScpLm9uKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ2Zvcm0tc3VibWl0LWZpbmlzaCAuY2xvc2UnKTtcclxuICAgICAgICAkKHRoaXMpLmNsb3Nlc3QoJy5mb3JtLXN1Ym1pdC1maW5pc2gnKS5yZW1vdmVDbGFzcygnZC1ibG9jaycpO1xyXG4gICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgLy8gJCh0aGlzKS5jbG9zZXN0KCdmb3JtLXN1Ym1pdC1maW5pc2gnKS5yZW1vdmVDbGFzcygnZC1ibG9jaycpO1xyXG4gICAgICAgIC8vICQoJyN2LXBpbGxzLXJ1bm5lZC10YWInKS50cmlnZ2VyKCdjbGljaycpO1xyXG4gICAgICAgIC8vIHdpbmRvdy5QdWJTdWIucHVibGlzaChDT05TVC5ldmVudHMudGFza3MuTkVXX1RBU0tfQ1JFQVRFRCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAkKCcjdi1waWxscy1jcmVhdGUtdGFzay10YWInKS5vbignY2xpY2snLCAoZSkgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdyZXNldCBmb3JtJyk7XHJcbiAgICAgICAgaWYgKCQoJ2ZpZWxkc2V0OmZpcnN0LWNoaWxkJykuY3NzKCdkaXNwbGF5JykgPT09ICdub25lJykge1xyXG4gICAgICAgICAgICAkZm9ybS5maW5kKCdmaWVsZHNldCcpLmhpZGUoJ2Zhc3QnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAkZm9ybS5maW5kKCdmaWVsZHNldDpmaXJzdC1jaGlsZCcpLnNob3coJ3Nsb3cnKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgICQoJy5mb3JtLXN1Ym1pdC1maW5pc2gnKS5yZW1vdmVDbGFzcygnZC1ibG9jaycpO1xyXG4gICAgICAgIC8vIGNsZWFyIGFsbCB2YWwgaW4gdGV4dGFyZWEgYW5kIGlucHV0IChleGNlcHQgcmFkaW8pXHJcbiAgICAgICAgJCgnZmllbGRzZXQnLCB3aXphcmRGb3JtU2VsZWN0b3IpLmZpbmQoJ2lucHV0Om5vdChbdHlwZT1cInJhZGlvXCJdKSwgdGV4dGFyZWEnKS52YWwoJycpO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbi8qXHJcbmZ1bmN0aW9uIGZpeFN0ZXBJbmRpY2F0b3Iobikge1xyXG4gICAgLy8gVGhpcyBmdW5jdGlvbiByZW1vdmVzIHRoZSBcImFjdGl2ZVwiIGNsYXNzIG9mIGFsbCBzdGVwcy4uLlxyXG4gICAgdmFyIGksIHggPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwic3RlcFwiKTtcclxuICAgIGZvciAoaSA9IDA7IGkgPCB4Lmxlbmd0aDsgaSsrKSB7XHJcbiAgICAgICAgeFtpXS5jbGFzc05hbWUgPSB4W2ldLmNsYXNzTmFtZS5yZXBsYWNlKFwiIGFjdGl2ZVwiLCBcIlwiKTtcclxuICAgIH1cclxuICAgIC8vLi4uIGFuZCBhZGRzIHRoZSBcImFjdGl2ZVwiIGNsYXNzIG9uIHRoZSBjdXJyZW50IHN0ZXA6XHJcbiAgICB4W25dLmNsYXNzTmFtZSArPSBcIiBhY3RpdmVcIjtcclxufSovXHJcblxyXG4vLyB3cmFwIGxpc3QgYXMgcmFkaW9ncm91cFxyXG5mdW5jdGlvbiBtb2RpZnlBY2NMaXN0KCkge1xyXG4gICAgY29uc3QgcmFkaW9CdG5BcHBlbmQgPSAoaWR4KSA9PiBgPGRpdiBjbGFzcz1cIlwiPlxyXG4gICAgICAgICAgICA8aW5wdXQgdHlwZT1cInJhZGlvXCIgbmFtZT1cInVzZXJBY2NvdW50UmFkaW9cIiBpZD1cImN1c3RvbVJhZGlvLSR7aWR4fVwiIGNsYXNzPVwiY3VzdG9tLWNvbnRyb2wtaW5wdXQgZC1ub25lXCIgdmFsdWU9XCJcIj5cclxuICAgICAgICA8L2Rpdj5gO1xyXG4gICAgY29uc3QgcmFkaW9CdG5XcmFwID0gKGlkeCkgPT4gYDxsYWJlbCBjbGFzcz1cImFjY291bnRzLWxpc3QtLWxhYmVsLXdyYXBwZXIgY29sIG1iLTAgbWVkaWEgcHktM1wiIGZvcj1cImN1c3RvbVJhZGlvLSR7aWR4fVwiPjwvbGFiZWw+YDtcclxuICAgIGNvbnN0ICRhY2NvdW50c0xpc3QgPSAkKCcuYWNjb3VudHMtbGlzdCcpO1xyXG4gICAgY29uc3QgJGxpID0gJGFjY291bnRzTGlzdC5maW5kKCdsaS5tZWRpYScpO1xyXG4gICAgJGxpLmFkZENsYXNzKCdqc191c2VyLXJhZGlvJykucmVtb3ZlQ2xhc3MoJ3B5LTMgbWVkaWEnKTtcclxuXHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8ICRsaS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIGNvbnN0IGN1cnJMaSA9ICQoJGxpW2ldKTtcclxuICAgICAgICBjdXJyTGkud3JhcElubmVyKHJhZGlvQnRuV3JhcChpKSkuYXBwZW5kKHJhZGlvQnRuQXBwZW5kKGkpKTtcclxuICAgICAgICBpZiAoY3VyckxpLmZpbmQoJy51c2VyLWNoZWNrcG9pbnQgLnRleHQtZGFuZ2VyJykubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIGN1cnJMaS5yZW1vdmUoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgJCgnLmpzX3VzZXItcmFkaW8nKS5vbignY2xpY2snLCAnaW5wdXRbdHlwZT1yYWRpb10nLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgIGNvbnN0ICRwYXJlbnRGaWVsZHNldCA9ICQodGhpcykucGFyZW50cygnZmllbGRzZXQnKTtcclxuICAgICAgICAkKCdsaS5hY3RpdmUnLCAkcGFyZW50RmllbGRzZXQpLnJlbW92ZUNsYXNzKCdhY3RpdmUnKTtcclxuICAgICAgICAkKHRoaXMpLmNsb3Nlc3QoJ2xpJykuYWRkQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgICAgICQoJy5idG4tbmV4dCcsICRwYXJlbnRGaWVsZHNldCkucHJvcCgnZGlzYWJsZWQnLCBmYWxzZSk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGluaXQod2l6YXJkQ2ZnKSB7XHJcbiAgICBpZiAoJCgnLndpemFyZC1mb3JtJykubGVuZ3RoKSB7XHJcbiAgICAgICAgaW5pdFN0ZXBzKHdpemFyZEZvcm1TZWxlY3Rvciwgd2l6YXJkQ2ZnKTtcclxuICAgICAgICB3aW5kb3cuUHViU3ViLnN1YnNjcmliZShDT05TVC5ldmVudHMuaW5zdGFncmFtQWNjb3Vucy5JTlNUQUdSQU1fQUNDT1VOU19SRU5ERVJFRCwgKGV2ZW50TmFtZSwgZGF0YSkgPT4ge1xyXG4gICAgICAgICAgICBtb2RpZnlBY2NMaXN0KCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2Jsb2Nrcy93aXphcmQtZm9ybS93aXphcmQtZm9ybS5qcyIsImltcG9ydCB7Q09OU1R9IGZyb20gJy4uLy4uLy4uL2NvbW1vbi9qcy1zZXJ2aWNlcy9jb25zdHMnO1xyXG5pbXBvcnQgVXNlclRhc2tNYW5hZ2VyIGZyb20gJy4uLy4uLy4uL2NvbW1vbi9qcy1zZXJ2aWNlcy9hcGktdGFzay1tYW5hZ2VyJztcclxuXHJcbmNvbnN0IE1BWF9JTUdfRklMRV9TSVpFX0JZVEUgPSAxMDQ4NTc2O1xyXG5jb25zdCBmaWxlVXBsb2FkQm94ID0gJy5maWxlLXVwbG9hZCc7XHJcbmNvbnN0IGZpbGVVcGxvYWRDb250ZW50ID0gJy5maWxlLXVwbG9hZC1jb250ZW50JztcclxuXHJcbmZ1bmN0aW9uIHJlbW92ZVVwbG9hZCgkdXBsb2FkQ29udGFpbmVyKSB7XHJcbiAgICBjb25zdCBpbnB1dCA9ICR1cGxvYWRDb250YWluZXIuZmluZCgnaW5wdXQnKTtcclxuICAgIGlucHV0LnJlcGxhY2VXaXRoKGlucHV0LmNsb25lKCkpO1xyXG4gICAgJHVwbG9hZENvbnRhaW5lci5maW5kKGZpbGVVcGxvYWRDb250ZW50KS5oaWRlKCk7XHJcbiAgICAkdXBsb2FkQ29udGFpbmVyLmZpbmQoJy5pbWFnZS11cGxvYWQtd3JhcCcpLnNob3coKTtcclxufVxyXG5cclxuY29uc3QgJGltZ1VwbG9hZFdyYXAgPSAkKCcuaW1hZ2UtdXBsb2FkLXdyYXAnKTtcclxuJGltZ1VwbG9hZFdyYXAuYmluZCgnZHJhZ292ZXInLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAkKCcuaW1hZ2UtdXBsb2FkLXdyYXAnKS5hZGRDbGFzcygnaW1hZ2UtZHJvcHBpbmcnKTtcclxufSk7XHJcbiRpbWdVcGxvYWRXcmFwLmJpbmQoJ2RyYWdsZWF2ZScsIGZ1bmN0aW9uICgpIHtcclxuICAgICQoJy5pbWFnZS11cGxvYWQtd3JhcCcpLnJlbW92ZUNsYXNzKCdpbWFnZS1kcm9wcGluZycpO1xyXG59KTtcclxuXHJcbi8vIGZ1bmN0aW9uIGFib3J0UmVhZChyZWFkZXIpIHtcclxuLy8gICAgIHJlYWRlci5hYm9ydCgpO1xyXG4vLyB9XHJcblxyXG5mdW5jdGlvbiBlcnJvckhhbmRsZXIoZXZ0LCByZWFkZXIpIHtcclxuICAgIHN3aXRjaCAoZXZ0LnRhcmdldC5lcnJvci5jb2RlKSB7XHJcbiAgICAgICAgY2FzZSBldnQudGFyZ2V0LmVycm9yLk5PVF9GT1VORF9FUlI6XHJcbiAgICAgICAgICAgIGNvbnNvbGUuaW5mbygnRmlsZSBOb3QgRm91bmQhJyk7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgZXZ0LnRhcmdldC5lcnJvci5OT1RfUkVBREFCTEVfRVJSOlxyXG4gICAgICAgICAgICBjb25zb2xlLmluZm8oJ0ZpbGUgaXMgbm90IHJlYWRhYmxlJyk7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgZXZ0LnRhcmdldC5lcnJvci5BQk9SVF9FUlI6XHJcbiAgICAgICAgICAgIGJyZWFrOyAvLyBub29wXHJcbiAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgY29uc29sZS5pbmZvKCdBbiBlcnJvciBvY2N1cnJlZCByZWFkaW5nIHRoaXMgZmlsZS4nKTtcclxuICAgIH1cclxufVxyXG5cclxuZnVuY3Rpb24gdXBkYXRlUHJvZ3Jlc3MoZXZ0LCBwcm9ncmVzcykge1xyXG4gICAgLy8gZXZ0IGlzIGFuIFByb2dyZXNzRXZlbnQuXHJcbiAgICBpZiAoZXZ0Lmxlbmd0aENvbXB1dGFibGUpIHtcclxuICAgICAgICBjb25zdCBwZXJjZW50TG9hZGVkID0gTWF0aC5yb3VuZCgoZXZ0LmxvYWRlZCAvIGV2dC50b3RhbCkgKiAxMDApO1xyXG4gICAgICAvLyBJbmNyZWFzZSB0aGUgcHJvZ3Jlc3MgYmFyIGxlbmd0aC5cclxuICAgICAgICBpZiAocGVyY2VudExvYWRlZCAlIDEwID09PSAwKSB7XHJcbiAgICAgICAgICAgIC8vIHByb2dyZXNzLnN0eWxlLndpZHRoID0gYCR7cGVyY2VudExvYWRlZH0lYDtcclxuICAgICAgICAgICAgLy8gcHJvZ3Jlc3MudGV4dENvbnRlbnQgPSBgJHtwZXJjZW50TG9hZGVkfSVgO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhwZXJjZW50TG9hZGVkKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGlzRmlsZVR5cGVPayhhY2NlcHRlZEZpbGUpIHtcclxuICAgIHJldHVybiBhY2NlcHRlZEZpbGUudHlwZSA9PT0gJ2ltYWdlL2pwZWcnO1xyXG59XHJcblxyXG5mdW5jdGlvbiBpc0ltZ1NpemVPayhhY2NlcHRlZEZpbGUpIHtcclxuICAgIGNvbnN0IGltZ1NpemUgPSBNYXRoLnJvdW5kKGFjY2VwdGVkRmlsZS5zaXplKTtcclxuICAgIHJldHVybiBNQVhfSU1HX0ZJTEVfU0laRV9CWVRFID4gaW1nU2l6ZTtcclxufVxyXG5cclxuZnVuY3Rpb24gaGFuZGxlU3VibWl0KGlucHV0LCByZXBsYWNlV2l0aENmZykge1xyXG4gICAgY29uc3QgdXJsID0gQ09OU1QuZ2V0UGF0aCgnaW5zdGFncmFtVGFza01hbmFnZXJfcG9zdEltYWdlQXR0YWNobWVudCcpO1xyXG4gICAgY29uc3QgdG9rZW4gPSBVc2VyVGFza01hbmFnZXIuZ2V0VG9rZW4oKTtcclxuICAgIGNvbnN0IGFjY2VwdGVkRmlsZSA9IGlucHV0LmZpbGVzWzBdO1xyXG4gICAgY29uc29sZS5sb2coJ2hhbmRsZVN1Ym1pdCcpO1xyXG4gICAgLy8gaWYgKCFpc0ltZ1NpemVPayhhY2NlcHRlZEZpbGUpKSB7XHJcbiAgICAvLyAgICAgY29uc29sZS5sb2coJ3Nob3cgZXJyb3IgbWVzc2FnZSwgaW1nU2l6ZSB0byBiaWcgJyk7XHJcbiAgICAvLyAgICAgJChmaWxlVXBsb2FkQm94KVxyXG4gICAgLy8gICAgICAgICAuYXBwZW5kKGBcclxuICAgIC8vICAgICAgICAgICAgIDxwIGNsYXNzPVwibXNnLW1heC1zaXplLWltZyB0ZXh0LWRhbmdlclwiPtCc0LDQutGB0LjQvNCw0LvRjNC90YvQuSDQtNC+0L/Rg9GB0YLQuNC80YvQuSDRgNCw0LfQvNC10YAg0LrQsNGA0YLQuNC90LrQuCAke01BWF9JTUdfRklMRV9TSVpFX0JZVEV9TUI8L3A+XHJcbiAgICAvLyAgICAgICAgIGApO1xyXG4gICAgLy8gICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgLy8gICAgICAgICAkKCcubXNnLW1heC1zaXplLWltZycpLmFkZENsYXNzKCdkLW5vbmUnKTtcclxuICAgIC8vICAgICB9LCA1MDAwKTtcclxuICAgIC8vICAgICByZXR1cm47XHJcbiAgICAvLyB9XHJcbiAgICBjb25zdCBmb3JtRGF0YSA9IG5ldyBGb3JtRGF0YSgpO1xyXG5cclxuICAgIGNvbnN0IHJlcXVlc3QgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcclxuXHJcbiAgICBpZiAocmVwbGFjZVdpdGhDZmcgJiYgcmVwbGFjZVdpdGhDZmcucmVwbGFjZVdpdGgpIHtcclxuICAgICAgICAvLyAqKiBlZGl0IFVTRVIgKipcclxuICAgICAgICAvLyBQVVQgaHR0cDovL2FwaS5sdXhncmFtLnJ1L3YxL2luc3RhZ3JhbS1hY2NvdW50cy97dXNlcm5hbWV9L3Bob3RvXHJcbiAgICAgICAgLy8gZm9ybS1kYXRhOiBcInBob3RvXCIgKGpwZylcclxuICAgICAgICBmb3JtRGF0YS5hcHBlbmQoJ3Bob3RvJywgYWNjZXB0ZWRGaWxlLCBhY2NlcHRlZEZpbGUubmFtZSk7XHJcbiAgICAgICAgY29uc3Qge3VzZXJuYW1lfSA9IHJlcGxhY2VXaXRoQ2ZnO1xyXG4gICAgICAgIHJlcXVlc3Qub3BlbignUFVUJywgYGh0dHA6Ly9hcGkubHV4Z3JhbS5ydS92MS9pbnN0YWdyYW0tYWNjb3VudHMvJHt1c2VybmFtZX0vcGhvdG9gKTtcclxuICAgICAgICAvLyByZXF1ZXN0LndpdGhDcmVkZW50aWFscyA9IHRydWU7XHJcbiAgICAgICAgcmVxdWVzdC5zZXRSZXF1ZXN0SGVhZGVyKCd0b2tlbicsIHRva2VuKTtcclxuICAgICAgICByZXF1ZXN0LnNldFJlcXVlc3RIZWFkZXIoJ0FjY2VwdCcsICdhcHBsaWNhdGlvbi9qc29uJyk7XHJcbiAgICAgICAgcmVxdWVzdC5zZXRSZXF1ZXN0SGVhZGVyKCdjYWNoZS1jb250cm9sJywgJ25vLWNhY2hlJyk7XHJcbiAgICAgICAgcmVxdWVzdC5zZW5kKGZvcm1EYXRhKTtcclxuICAgICAgICByZXF1ZXN0LmFkZEV2ZW50TGlzdGVuZXIoJ3JlYWR5c3RhdGVjaGFuZ2UnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLnJlYWR5U3RhdGUgPT09IDQpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdQVVQnLCB0aGlzLnJlc3BvbnNlVGV4dCwgdGhpcyk7XHJcbiAgICAgICAgICAgICAgICAvLyB3aW5kb3cuUHViU3ViLnB1Ymxpc2goQ09OU1QuZXZlbnRzLmF1dG9hcm5zd2VyLklNQUdFX1VQTE9BREVELCB7J3Jlc3BvbnNlJzogdGhpcy5yZXNwb25zZVRleHQsICdlbCc6IGlucHV0fSk7XHJcbiAgICAgICAgICAgICAgICB3aW5kb3cuUHViU3ViLnB1Ymxpc2goQ09OU1QuZXZlbnRzLmF1dG9hcm5zd2VyLklNQUdFX1VQTE9BREVEX0FWQVRBUiwgeydyZXNwb25zZSc6IHRoaXMucmVzcG9uc2V9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGZvcm1EYXRhLmFwcGVuZCgnaW1hZ2UnLCBhY2NlcHRlZEZpbGUsIGFjY2VwdGVkRmlsZS5uYW1lKTtcclxuICAgIHJlcXVlc3Qub3BlbignUE9TVCcsIHVybCk7XHJcbiAgICAvLyByZXF1ZXN0LndpdGhDcmVkZW50aWFscyA9IHRydWU7XHJcbiAgICByZXF1ZXN0LnNldFJlcXVlc3RIZWFkZXIoJ3Rva2VuJywgdG9rZW4pO1xyXG4gICAgcmVxdWVzdC5zZXRSZXF1ZXN0SGVhZGVyKCdBY2NlcHQnLCAnYXBwbGljYXRpb24vanNvbicpO1xyXG4gICAgcmVxdWVzdC5zZXRSZXF1ZXN0SGVhZGVyKCdjYWNoZS1jb250cm9sJywgJ25vLWNhY2hlJyk7XHJcbiAgICByZXF1ZXN0LnNlbmQoZm9ybURhdGEpO1xyXG4gICAgcmVxdWVzdC5hZGRFdmVudExpc3RlbmVyKCdyZWFkeXN0YXRlY2hhbmdlJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmICh0aGlzLnJlYWR5U3RhdGUgPT09IDQpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ3RoaXMnLCB0aGlzLnJlc3BvbnNlVGV4dCwgdGhpcyk7XHJcbiAgICAgICAgICAgIHdpbmRvdy5QdWJTdWIucHVibGlzaChDT05TVC5ldmVudHMuYXV0b2FybnN3ZXIuSU1BR0VfVVBMT0FERUQsIHsncmVzcG9uc2UnOiB0aGlzLnJlc3BvbnNlVGV4dCwgJ2VsJzogaW5wdXR9KTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gcmVhZFVSTChpbnB1dCwgcmVwbGFjZVdpdGhDZmcsIGhhbmRsZVN1Ym1pdENiKSB7XHJcbiAgICBjb25zdCB7cmVwbGFjZVdpdGgsIGhvbGRlckNsc30gPSByZXBsYWNlV2l0aENmZztcclxuICAgIGNvbnN0IGhvbGRlciA9IChob2xkZXJDbHMpID8gaG9sZGVyQ2xzIDogZmlsZVVwbG9hZEJveDtcclxuICAgIGNvbnN0ICRjb250YWluZXIgPSAkKGlucHV0KS5jbG9zZXN0KGhvbGRlcik7XHJcbiAgICBpZiAoaW5wdXQuZmlsZXMgJiYgaW5wdXQuZmlsZXNbMF0pIHtcclxuICAgICAgICBjb25zdCByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdyZWFkVVJMJyk7XHJcbiAgICAgICAgaWYgKCFpc0ltZ1NpemVPayhpbnB1dC5maWxlc1swXSkgfHwgIWlzRmlsZVR5cGVPayhpbnB1dC5maWxlc1swXSkpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ3Nob3cgZXJyb3IgbWVzc2FnZSwgaW1nU2l6ZSB0byBiaWcgJyk7XHJcbiAgICAgICAgICAgICQoZmlsZVVwbG9hZEJveCkuZmluZCgnd2FybmluZy1pbWFnZScpLnJlbW92ZSgpO1xyXG4gICAgICAgICAgICAkKGZpbGVVcGxvYWRCb3gpLmFwcGVuZChgXHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwid2FybmluZy1pbWFnZSB0ZXh0LWRhbmdlclwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxwPtCU0L7RgdGC0YPQv9C90YvQuSDRhNC+0YDQvNCw0YIg0LjQt9C+0LHRgNCw0LbQtdC90LjRjyBqcGVnINC40LvQuCBqcGc8L3A+XHJcbiAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3M9XCJtc2ctbWF4LXNpemUtaW1nIHRleHQtZGFuZ2VyXCI+0JzQsNC60YHQuNC80LDQu9GM0L3Ri9C5INC00L7Qv9GD0YHRgtC40LzRi9C5INGA0LDQt9C80LXRgCDQutCw0YDRgtC40L3QutC4ICR7TUFYX0lNR19GSUxFX1NJWkVfQllURSAvIDEwMjQgLyAxMDI0fU1CPC9wPlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIGApO1xyXG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgICQoJy53YXJuaW5nLWltYWdlJykuYWRkQ2xhc3MoJ2Qtbm9uZScpO1xyXG4gICAgICAgICAgICB9LCA1MDAwKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmVhZGVyLm9ubG9hZCA9IGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgICAgaWYgKCFyZXBsYWNlV2l0aCkge1xyXG4gICAgICAgICAgICAgICAgJGNvbnRhaW5lci5maW5kKCcuaW1hZ2UtdXBsb2FkLXdyYXAnKS5oaWRlKCk7XHJcbiAgICAgICAgICAgICAgICAkY29udGFpbmVyLmZpbmQoJy5maWxlLXVwbG9hZC1pbWFnZScpLmF0dHIoJ3NyYycsIGUudGFyZ2V0LnJlc3VsdCk7XHJcbiAgICAgICAgICAgICAgICAkY29udGFpbmVyLmZpbmQoZmlsZVVwbG9hZENvbnRlbnQpLnNob3coKTtcclxuICAgICAgICAgICAgICAgICRjb250YWluZXIuZmluZCgnLmltYWdlLXRpdGxlJykuaHRtbChpbnB1dC5maWxlc1swXS5uYW1lKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHtpbWFnZUNsc30gPSByZXBsYWNlV2l0aENmZztcclxuICAgICAgICAgICAgICAgICRjb250YWluZXIuZmluZChpbWFnZUNscykuYXR0cignc3JjJywgZS50YXJnZXQucmVzdWx0KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHJlYWRlci5vbmVycm9yID0gZXJyb3JIYW5kbGVyO1xyXG4gICAgICAgIHJlYWRlci5vbnByb2dyZXNzID0gdXBkYXRlUHJvZ3Jlc3M7XHJcblxyXG4gICAgICAgIHJlYWRlci5yZWFkQXNEYXRhVVJMKGlucHV0LmZpbGVzWzBdKTtcclxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgaWYgKHR5cGVvZiBoYW5kbGVTdWJtaXRDYiA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdG9rZW4gPSBVc2VyVGFza01hbmFnZXIuZ2V0VG9rZW4oKTtcclxuICAgICAgICAgICAgICAgIGhhbmRsZVN1Ym1pdENiKGlucHV0LCB0b2tlbik7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBoYW5kbGVTdWJtaXQoaW5wdXQsIHJlcGxhY2VXaXRoQ2ZnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sIDIwMDApO1xyXG4gICAgICAgIC8vIFJlYWQgaW4gdGhlIGltYWdlIGZpbGUgYXMgYSBiaW5hcnkgc3RyaW5nLlxyXG4gICAgICAgIC8vIHJlYWRlci5yZWFkQXNCaW5hcnlTdHJpbmcoaW5wdXQuZmlsZXNbMF0pO1xyXG5cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcmVtb3ZlVXBsb2FkKCRjb250YWluZXIpO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaW5pdChyZXBsYWNlV2l0aENmZywgaGFuZGxlU3VibWl0Q2IpIHtcclxuICAgIGNvbnN0IHVwbG9hZEJ0bkNscyA9ICghKHJlcGxhY2VXaXRoQ2ZnICYmIHJlcGxhY2VXaXRoQ2ZnLnJlcGxhY2VXaXRoKSkgPyAnLmZpbGUtdXBsb2FkLWJ0bicgOiByZXBsYWNlV2l0aENmZy51cGxvYWRCdG5DbHM7XHJcbiAgICBjb25zdCAkdXBsb2FkQnRuID0gJCh1cGxvYWRCdG5DbHMpO1xyXG4gICAgY29uc3QgJHVwbG9hZElucHV0ID0gJCgnLmZpbGUtdXBsb2FkLWlucHV0Jyk7XHJcbiAgICBjb25zdCAkcmVtb3ZlSW1nQnRuID0gJCgnLnJlbW92ZS1pbWFnZScpO1xyXG5cclxuICAgICR1cGxvYWRCdG4ub2ZmKCk7XHJcbiAgICAkdXBsb2FkSW5wdXQub2ZmKCk7XHJcbiAgICAkcmVtb3ZlSW1nQnRuLm9mZigpO1xyXG5cclxuICAgICR1cGxvYWRCdG4ub24oJ2NsaWNrJywgKGUpID0+IHtcclxuICAgICAgICBjb25zdCB0b1BhcmVudENscyA9ICghKHJlcGxhY2VXaXRoQ2ZnICYmIHJlcGxhY2VXaXRoQ2ZnLnJlcGxhY2VXaXRoKSkgPyAnLmNvbCcgOiByZXBsYWNlV2l0aENmZy5ob2xkZXJDbHM7XHJcbiAgICAgICAgY29uc3QgaW5wdXQgPSAkKGUudGFyZ2V0KS5jbG9zZXN0KHRvUGFyZW50Q2xzKS5maW5kKGZpbGVVcGxvYWRCb3gpLmZpbmQoJ2lucHV0LmZpbGUtdXBsb2FkLWlucHV0Jyk7XHJcbiAgICAgICAgaW5wdXQudHJpZ2dlcignY2xpY2snKTtcclxuICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgJHVwbG9hZElucHV0Lm9uKCdjaGFuZ2UnLCAoZSkgPT4ge1xyXG4gICAgICAgIHJlYWRVUkwoZS50YXJnZXQsIHJlcGxhY2VXaXRoQ2ZnLCBoYW5kbGVTdWJtaXRDYik7XHJcbiAgICB9KTtcclxuXHJcbiAgICAkcmVtb3ZlSW1nQnRuLm9uKCdjbGljaycsIChlKSA9PiB7XHJcbiAgICAgICAgY29uc3QgJGNvbnRhaW5lciA9ICQoZS50YXJnZXQpLmNsb3Nlc3QoJy5jb2wnKS5maW5kKGZpbGVVcGxvYWRCb3gpO1xyXG4gICAgICAgIHJlbW92ZVVwbG9hZCgkY29udGFpbmVyKTtcclxuICAgICAgICAkY29udGFpbmVyLnJlbW92ZUF0dHIoJ2F0dGFjaGVkLWltZy1pZCcpO1xyXG4gICAgfSk7XHJcbn1cclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2Jsb2Nrcy9fc2hhcmVkL2ltYWdlLXVwbG9hZC9pbWFnZS11cGxvYWQuanMiLCIvKiBlc2xpbnQtZGlzYWJsZSBuby11c2UtYmVmb3JlLWRlZmluZSAqL1xyXG5pbXBvcnQgVXNlclRhc2tNYW5hZ2VyIGZyb20gJy4uLy4uLy4uL2NvbW1vbi9qcy1zZXJ2aWNlcy9hcGktdGFzay1tYW5hZ2VyJztcclxuXHJcbmxldCBjbHNDb25zdCA9IHtcclxuICAgIGN1cnJlbnRQYWdlQ2xzOiAnJyxcclxuICAgIHRhc2tzTGlzdDogJycsXHJcbiAgICBsb2dzVGFiQnRuOiAnJyxcclxuICAgIHBhZ2luYXRpb246ICcnLFxyXG4gICAgcGFnaW5hdGlvblBnTnVtYmVyOiAnJ1xyXG59O1xyXG5sZXQgJGxpc3QgPSAnJChjbHNDb25zdC50YXNrc0xpc3QpJzsgLy8gc2V0IGluIHByZUNvbmZpZygpXHJcbmxldCBzZWxlY3RDbHMgPSAnc29tZUNsYXNzJztcclxuY29uc3QgZ2V0VXNlcm5hbWUgPSAoKSA9PiAkKGAuJHtzZWxlY3RDbHN9IG9wdGlvbjpzZWxlY3RlZGApLnZhbCgpO1xyXG5jb25zdCBwYXRoID0ge1xyXG4gICAgdXNlcm5hbWU6IGdldFVzZXJuYW1lKClcclxufTtcclxubGV0IGN1cnJlbnRQYWdlID0gbnVsbDtcclxubGV0IGludGVydmFsSWQgPSAnJztcclxuXHJcbmZ1bmN0aW9uIGluaXRIYW5kbGVyUGFnaW5hdGlvbigkcHJldmlvdXMsICRuZXh0LCBkYXRhQXJyYXkpIHtcclxuICAgIGNvbnN0ICR3cmFwcGVyID0gJChjbHNDb25zdC5wYWdpbmF0aW9uKTtcclxuICAgIGNvbnN0IHtwYWdpbmF0aW9ufSA9IGRhdGFBcnJheS5zZXR0aW5ncztcclxuXHJcbiAgICAkcHJldmlvdXMub24oJ2NsaWNrJywgKGUpID0+IHtcclxuICAgICAgICBjb25zdCAkbGlBY3RpdmUgPSAkd3JhcHBlci5maW5kKCdsaS5wYWdlLW51bWJlci5hY3RpdmUnKTtcclxuICAgICAgICBjb25zdCBwYWdlID0gcGFnaW5hdGlvbi5wcmV2aW91cztcclxuICAgICAgICBpZiAoIXBhZ2luYXRpb24ucHJldmlvdXMpIHtcclxuICAgICAgICAgICAgJHByZXZpb3VzLmFkZENsYXNzKCdkaXNhYmxlZCcpLnByb3AoJ2Rpc2FibGVkJywgJ2Rpc2FibGVkJyk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgY3VycmVudFBhZ2UgPSBwYWdpbmF0aW9uLnByZXZpb3VzO1xyXG4gICAgICAgICRsaUFjdGl2ZS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XHJcbiAgICAgICAgZ2V0TG9nc0RhdGEoJGxpc3QsIHBhdGgsIHBhZ2UpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgJG5leHQub24oJ2NsaWNrJywgKGUpID0+IHtcclxuICAgICAgICBjb25zdCAkbGlBY3RpdmUgPSAkd3JhcHBlci5maW5kKCdsaS5wYWdlLW51bWJlci5hY3RpdmUnKTtcclxuICAgICAgICBjb25zdCBjdXJyZW50QWN0aXZlSWR4ID0gJGxpQWN0aXZlLmluZGV4KCk7XHJcbiAgICAgICAgY29uc3QgcGFnZSA9IHBhZ2luYXRpb24ubmV4dDtcclxuICAgICAgICBpZiAoIXBhZ2luYXRpb24ubmV4dCkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGN1cnJlbnRQYWdlID0gcGFnaW5hdGlvbi5uZXh0O1xyXG4gICAgICAgICRsaUFjdGl2ZS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XHJcbiAgICAgICAgLy8gaWYgKGxhc3RQYWdlIDw9IGN1cnJlbnRBY3RpdmVJZHggKyAxKSB7XHJcbiAgICAgICAgLy8gICAgICQoZS50YXJnZXQpLnBhcmVudCgpLmFkZENsYXNzKCdkaXNhYmxlZCcpO1xyXG4gICAgICAgIC8vIH1cclxuICAgICAgICBpZiAoY3VycmVudEFjdGl2ZUlkeCAmJiAkcHJldmlvdXMuaGFzQ2xhc3MoJ2Rpc2FibGVkJykpIHtcclxuICAgICAgICAgICAgJHByZXZpb3VzLnJlbW92ZUNsYXNzKCdkaXNhYmxlZCcpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBnZXRMb2dzRGF0YSgkbGlzdCwgcGF0aCwgcGFnZSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAkKGNsc0NvbnN0LmxvZ3NUYWJCdG4pLm9uKCdjbGljaycsIChlKSA9PiB7XHJcbiAgICAgICAgLy8gYXQgdGhpcyBwb2ludCBvZiB0aW1lIHNldEludGVydmFsIGlzIHdvcmtpbmdcclxuICAgICAgICBjdXJyZW50UGFnZSA9IDE7XHJcbiAgICB9KTtcclxuICAgICQoYCR7Y2xzQ29uc3QucGFnaW5hdGlvbn0gJHtjbHNDb25zdC5wYWdpbmF0aW9uUGdOdW1iZXJ9YCkub24oJ2NsaWNrJywgKGUpID0+IHtcclxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgY29uc3QgdmFsID0gJChlLnRhcmdldCkudGV4dCgpO1xyXG4gICAgICAgIGN1cnJlbnRQYWdlID0gcGFyc2VJbnQodmFsLCAxMCk7XHJcbiAgICAgICAgZ2V0TG9nc0RhdGEoJGxpc3QsIHBhdGgsIGN1cnJlbnRQYWdlKTtcclxuICAgICAgICBjb25zb2xlLmxvZyhjdXJyZW50UGFnZSk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gYWRkUGFnaW5hdGlvbihkYXRhQXJyYXksICR3cmFwcGVyKSB7XHJcbiAgICBjb25zdCB7cGFnaW5hdGlvbn0gPSBkYXRhQXJyYXkuc2V0dGluZ3M7XHJcbiAgICBjb25zdCB0cGxQcmV2aW91cyA9ICQoYDxsaSBjbGFzcz1cInBhZ2UtaXRlbSAkeyghcGFnaW5hdGlvbi5wcmV2aW91cykgPyAnZGlzYWJsZWQnIDogJyd9XCI+PGEgY2xhc3M9XCJwYWdlLWxpbmtcIiBocmVmPVwiI1wiICR7KCFwYWdpbmF0aW9uLnByZXZpb3VzKSA/ICd0YWJpbmRleD1cIi0xXCInIDogJyd9PtCd0LDQt9Cw0LQ8L2E+PC9saT5gKTtcclxuICAgIGNvbnN0IHRwbE5leHQgPSAkKGA8bGkgY2xhc3M9XCJwYWdlLWl0ZW0gJHsoIXBhZ2luYXRpb24ubmV4dCkgPyAnZGlzYWJsZWQnIDogJyd9XCI+PGEgY2xhc3M9XCJwYWdlLWxpbmtcIiBocmVmPVwiI1wiICR7KCFwYWdpbmF0aW9uLm5leHQpID8gJ3RhYmluZGV4PVwiLTFcIicgOiAnJ30+0JLQv9C10YDQtdC0PC9hPjwvbGk+YCk7XHJcblxyXG4gICAgY2xlYXJQYWdpbmF0aW9uKCR3cmFwcGVyKTtcclxuXHJcbiAgICBpZiAocGFnaW5hdGlvbi5uZXh0IHx8IHBhZ2luYXRpb24ucGFnZXMgJiYgKHBhZ2luYXRpb24uY3VycmVudCA9PT0gcGFnaW5hdGlvbi5wYWdlc1twYWdpbmF0aW9uLnBhZ2VzLmxlbmd0aCAtIDFdKSkge1xyXG4gICAgICAgICR3cmFwcGVyLmFwcGVuZCh0cGxQcmV2aW91cyk7XHJcbiAgICAgICAgaWYgKHBhZ2luYXRpb24gJiYgcGFnaW5hdGlvblsncGFnZXMnXSkge1xyXG4gICAgICAgICAgICBwYWdpbmF0aW9uWydwYWdlcyddLmZvckVhY2goKGl0ZW0pID0+IHtcclxuICAgICAgICAgICAgICAgICQoYDxsaSBjbGFzcz1cInBhZ2UtaXRlbSBwYWdlLW51bWJlciAkeyhwYWdpbmF0aW9uLmN1cnJlbnQgPT09IGl0ZW0pID8gJ2FjdGl2ZScgOiAnJ31cIj48YSBjbGFzcz1cInBhZ2UtbGlua1wiIGhyZWY9XCIjXCI+JHtpdGVtfTwvYT48L2xpPmApLmFwcGVuZFRvKCR3cmFwcGVyKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgICR3cmFwcGVyLmFwcGVuZCh0cGxOZXh0KTtcclxuICAgIH1cclxuICAgIGluaXRIYW5kbGVyUGFnaW5hdGlvbih0cGxQcmV2aW91cywgdHBsTmV4dCwgZGF0YUFycmF5KTtcclxufVxyXG5cclxuZnVuY3Rpb24gY2xlYXJQYWdpbmF0aW9uKCR3cmFwcGVyKSB7XHJcbiAgICAkd3JhcHBlci5lbXB0eSgpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBmaWxsTGlzdE1ldGEoJGxpc3QsIGRhdGFBcnJheSwgaXNSdW5zKSB7XHJcbiAgICBjb25zdCAkd3JhcHBlclBhZ2luYXRpb24gPSAkKCcubG9ncy1wYWdpbmF0aW9uJyk7XHJcbiAgICBjb25zdCBpdGVtcyA9IGRhdGFBcnJheS5sb2dzO1xyXG4gICAgLy8gY29uc3QgZGVmYXVsdEF2YXRhclNyYyA9IENPTlNULnVzZXIuZGVmYXVsQXZhdGFyO1xyXG4gICAgJGxpc3QuZW1wdHkoKTtcclxuICAgIGlmICghaXRlbXMubGVuZ3RoKSB7XHJcbiAgICAgICAgJChgPGxpIGNsYXNzPVwibGlzdC1ncm91cC1pdGVtIHB5LTJcIj5cclxuICAgICAgICAgICAgPHA+0J3QtdGCINC90Lgg0L7QtNC90L7Qs9C+INC70L7Qs9CwLjwvcD5cclxuICAgICAgICA8L2xpPmApLmFwcGVuZFRvKCRsaXN0KTtcclxuICAgICAgICBjbGVhclBhZ2luYXRpb24oJHdyYXBwZXJQYWdpbmF0aW9uKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBhZGRQYWdpbmF0aW9uKGRhdGFBcnJheSwgJHdyYXBwZXJQYWdpbmF0aW9uKTtcclxuICAgIGl0ZW1zLmZvckVhY2goKGl0ZW0pID0+IHtcclxuICAgICAgICBjb25zdCB7bGV2ZWwsIHZhbHVlfSA9IGl0ZW07XHJcbiAgICAgICAgJChgPGxpIGNsYXNzPVwibGlzdC1ncm91cC1pdGVtIHAtMCBweS0yXCI+XHJcbiAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1lZGlhLWJvZHkgZC1mbGV4XCI+XHJcbiAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wgdGFzay10eXBlICR7KGxldmVsID09PSAnRVJST1InKSA/ICd0ZXh0LWRhbmdlcicgOiAnJ30gJHsobGV2ZWwgPT09ICdXQVJOJykgPyAndGV4dC13YXJuaW5nJyA6ICcnfVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgJHsodmFsdWUpID8gYCR7dmFsdWV9YCA6ICcnfVxyXG4gICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgIDwvbGk+YCkuYXBwZW5kVG8oJGxpc3QpO1xyXG5cclxuICAgICAgICBpZiAoISQoJ2xpJywgJGxpc3QpLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAkKGA8bGkgY2xhc3M9XCJsaXN0LWdyb3VwLWl0ZW0gcHktMlwiID5cclxuICAgICAgICAgICAgICAgIDxwPtCd0LXRgiDQvdC4INC+0LTQvdC+0LPQviDQu9C+0LPQsC48L3A+XHJcbiAgICAgICAgICAgIDwvbGk+YCkuYXBwZW5kVG8oJGxpc3QpO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiB0YWJTdG9wUmVxSGFuZGxlcigpIHtcclxuICAgIGNvbnN0ICRhbGxBc2lkZVRhYnMgPSAkKCcjdi1waWxscy10YWInKTtcclxuICAgICRhbGxBc2lkZVRhYnMub2ZmKCk7XHJcbiAgICAkYWxsQXNpZGVUYWJzLm9uKCdjbGljaycsICdhJywgKGUpID0+IHtcclxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgY29uc3QgdGFiID0gJChlLnRhcmdldCk7XHJcbiAgICAgICAgaWYgKHRhYi5hdHRyKCdpZCcpICE9PSAndi1waWxscy1sb2dzLXRhYicpIHtcclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ3N0b3AgcmVxJyk7XHJcbiAgICAgICAgICAgIGlmIChpbnRlcnZhbElkKSB7XHJcbiAgICAgICAgICAgICAgICBjbGVhckludGVydmFsKGludGVydmFsSWQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdldExvZ3NEYXRhKCRsaXN0LCBwYXRoLCBwYWdlKSB7XHJcbiAgICBwYXRoLnVzZXJuYW1lID0gZ2V0VXNlcm5hbWUoc2VsZWN0Q2xzKTtcclxuICAgIGNvbnN0IHBhdGhBcnIgPSBbcGF0aC50eXBlLCBgc3VidHlwZS8ke3BhdGguc3VidHlwZX1gLCBgYWNjb3VudC8ke3BhdGgudXNlcm5hbWV9YF07XHJcbiAgICBVc2VyVGFza01hbmFnZXIuZ2V0TG9nc0NoYXRCb3QocGF0aEFyciwgcGFnZSkudGhlbigocmVzdWx0KSA9PiB7XHJcbiAgICAgICAgaWYgKHJlc3VsdC5zdGF0dXMuc3RhdGUgPT09ICdvaycpIHtcclxuICAgICAgICAgICAgZmlsbExpc3RNZXRhKCRsaXN0LCByZXN1bHQuZGF0YSk7XHJcbiAgICAgICAgICAgIHRhYlN0b3BSZXFIYW5kbGVyKCk7XHJcbiAgICAgICAgICAgIGNvbnN0IHVwZGF0ZUludGVydmFsID0gcmVzdWx0LmRhdGEuc2V0dGluZ3MuaW52b2tlX2luX21pbGxpcztcclxuICAgICAgICAgICAgLy8gcmVzZXQgVGltZXIgcmVxdWVzdFxyXG4gICAgICAgICAgICBpZiAoaW50ZXJ2YWxJZCkge1xyXG4gICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChpbnRlcnZhbElkKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAoY3VycmVudFBhZ2UgPD0gMSkge1xyXG4gICAgICAgICAgICAgICAgaW50ZXJ2YWxJZCA9IHNldEludGVydmFsKCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgaW5kZW50XHJcbiAgICAgICAgICAgICAgICAgICAgZ2V0TG9nc0RhdGEoJGxpc3QsIHBhdGgsIGN1cnJlbnRQYWdlKTtcclxuICAgICAgICAgICAgICAgIH0sIHVwZGF0ZUludGVydmFsKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICQoYDxsaSBjbGFzcz1cImxpc3QtZ3JvdXAtaXRlbSBweS0yXCI+XHJcbiAgICAgICAgICAgICAgICA8cD7QndC10YIg0LTQvtGB0YLRg9C/0LA8L3A+XHJcbiAgICAgICAgICAgIDwvbGk+YCkuYXBwZW5kVG8oJGxpc3QpO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBwcmVDb25maWcoY2ZnKSB7XHJcbiAgICBjbHNDb25zdCA9IGNmZztcclxuICAgICRsaXN0ID0gJChjbHNDb25zdC50YXNrc0xpc3QpO1xyXG4gICAgcGF0aC50eXBlID0gY2ZnLnBhdGhUeXBlO1xyXG4gICAgcGF0aC5zdWJ0eXBlID0gY2ZnLnBhdGhTdWJUeXBlO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaW5pdChfc2VsZWN0Q2xzLCBjZmcpIHtcclxuICAgIGlmICgkKGNmZy5jdXJyZW50UGFnZUNscykubGVuZ3RoKSB7XHJcbiAgICAgICAgc2VsZWN0Q2xzID0gX3NlbGVjdENscztcclxuICAgICAgICBwcmVDb25maWcoY2ZnKTtcclxuICAgICAgICBpZiAoZ2V0VXNlcm5hbWUoKSkge1xyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhnZXRVc2VybmFtZSgpKTtcclxuICAgICAgICAgICAgZ2V0TG9nc0RhdGEoJGxpc3QsIHBhdGgpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdzZWxlY3QgdXNlcicpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvYmxvY2tzL19zaGFyZWQvbG9ncy9sb2dzLmpzIiwiaW1wb3J0IHtDT05TVH0gZnJvbSAnLi4vLi4vLi4vY29tbW9uL2pzLXNlcnZpY2VzL2NvbnN0cyc7XHJcbmltcG9ydCBVc2VyIGZyb20gJy4uLy4uLy4uL2NvbW1vbi9qcy1zZXJ2aWNlcy91c2VyJztcclxuXHJcbmNvbnN0IGZpbGxEcm9wZG93blVzZXJzQ2ZnID0ge307XHJcblxyXG5mdW5jdGlvbiBmaWxsRHJvcGRvd25Vc2Vycyh7JHdyYXBwZXIsIGxvZ3NTdGF0ZSwgT25DaGFuZ2VTZWxlY3RDYn0sIGFjY291bnRzKSB7XHJcbiAgICBjb25zdCB7c2VsZWN0Q2xzfSA9IGxvZ3NTdGF0ZTtcclxuICAgIGNvbnN0IGxhYmVsID0gJ9CS0YvQsdC10YDQuNGC0LUg0LDQutC60LDRg9C90YInO1xyXG4gICAgJHdyYXBwZXIuZW1wdHkoKS5hZGRDbGFzcygnYm9yZGVyLWxpZ2h0LWNvbG9yJyk7XHJcbiAgICAkKGA8ZGl2IGNsYXNzPVwiXCI+JHtsYWJlbH08L2Rpdj48c2VsZWN0IG5hbWU9XCJ0YXNrLXR5cGVcIiBjbGFzcz1cIiR7c2VsZWN0Q2xzfVwiPjwvc2VsZWN0PmApLmFwcGVuZFRvKCR3cmFwcGVyKTtcclxuICAgIGFjY291bnRzLmZvckVhY2goKG5hbWUpID0+IHtcclxuICAgICAgICAkKGA8b3B0aW9uIGNsYXNzPVwibGlzdC1ncm91cC1pdGVtIHB5LTJcIiB2YWx1ZT1cIiR7bmFtZX1cIj5cclxuICAgICAgICAgICAgJHtuYW1lfVxyXG4gICAgICAgIDwvb3B0aW9uPmApLmFwcGVuZFRvKCQoYC4ke3NlbGVjdENsc31gKSk7XHJcbiAgICB9KTtcclxuICAgIE9uQ2hhbmdlU2VsZWN0Q2IoKTtcclxufVxyXG5cclxuZnVuY3Rpb24gZ2V0TWV0YUxhenkoKSB7XHJcbiAgICBVc2VyLmdldE1ldGFkYXRhTGF6eSgpLnRoZW4oKHJlcykgPT4ge1xyXG4gICAgICAgIGlmIChyZXMuc3RhdHVzLnN0YXRlID09PSAnb2snICYmIHJlcy5kYXRhICYmIHJlcy5kYXRhLmFjY291bnRzKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGNmZyA9IGZpbGxEcm9wZG93blVzZXJzQ2ZnO1xyXG4gICAgICAgICAgICBjb25zdCB7YWNjb3VudHN9ID0gcmVzLmRhdGE7XHJcbiAgICAgICAgICAgIGZpbGxEcm9wZG93blVzZXJzKGNmZywgYWNjb3VudHMpO1xyXG4gICAgICAgICAgICB3aW5kb3cuUHViU3ViLnB1Ymxpc2goQ09OU1QuZXZlbnRzLmluc3RhZ3JhbUFjY291bnMuSU5TVEFHUkFNX0FDQ09VTlNfUkVOREVSRURfTEFaWSwgcmVzLmRhdGEuYWNjb3VudHMpO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiB0YWJIYW5kbGVyKGlzQ29tcHV0ZU11bHR5RHJvcGRvd24pIHtcclxuICAgICQoJyN2LXBpbGxzLWxvZ3MtdGFiJykub24oJ2NsaWNrJywgKGUpID0+IHtcclxuICAgICAgICBnZXRNZXRhTGF6eSgpO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBpbml0KE9uQ2hhbmdlU2VsZWN0LCBsb2dzU3RhdGUpIHtcclxuICAgIGNvbnN0ICR3cmFwcGVyID0gJCgnLmxvZy11c2Vycy1saXN0Jyk7XHJcbiAgICBPYmplY3QuYXNzaWduKGZpbGxEcm9wZG93blVzZXJzQ2ZnLCB7JHdyYXBwZXIsIE9uQ2hhbmdlU2VsZWN0Q2I6IE9uQ2hhbmdlU2VsZWN0LCBsb2dzU3RhdGV9KTtcclxuICAgIHRhYkhhbmRsZXIoKTtcclxufVxyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvYmxvY2tzL19zaGFyZWQvdGVicy1waWxzL3RhYnMuanMiLCJpbXBvcnQgJ2Jvb3RzdHJhcC10YWdzaW5wdXQvZGlzdC9ib290c3RyYXAtdGFnc2lucHV0Lm1pbi5qcyc7XHJcblxyXG5jb25zdCB0YWdzaW5wdXRTZWxlY3RvciA9ICcuYm9vdHN0cmFwLXRhZ3NpbnB1dCc7XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gbmV4dEJ0bnZhbGlkYXRlQ29tcGV0aXRvcnNIYW5kbGVyKCRpbnB1dCwgbmV4dFN0ZXBCdG4sIGlncm9yZVJlZ2V4Q2hlY2spIHtcclxuICAgIGNvbnN0IGVuZ2xpc2hDaGFycyA9IC9eW0EtWmEtejAtOSwuXyBcXG5dKyQvO1xyXG4gICAgY29uc3QgY2hlY2tUZXh0QXJlYSA9IChlLCBpc0luaXQpID0+IHtcclxuICAgICAgICBjb25zdCBpbnB1dHZhbHVlID0gKCFpc0luaXQpID8gJChlLnRhcmdldCkuY2xvc2VzdCgnZGl2IGlucHV0JykudmFsKCkgOiAnJztcclxuICAgICAgICBjb25zdCB0ZXh0ID0gKCFpc0luaXQpID8gYCR7JChlLnRhcmdldCkuY2xvc2VzdCgnZGl2JykuZmluZCgnLmJvb3RzdHJhcC10YWdzaW5wdXQgaW5wdXQnKS52YWwoKX0sJHtpbnB1dHZhbHVlfWAgOiAnJztcclxuICAgICAgICBjb25zdCBpc1JlbW92ZWQgPSAoIWlzSW5pdCAmJiBlLnR5cGUgPT09ICdpdGVtUmVtb3ZlZCcpO1xyXG4gICAgICAgIGNvbnN0IHRleHRPblJlbW92ZSA9IChpc1JlbW92ZWQpID8gaW5wdXR2YWx1ZSA6ICcnO1xyXG4gICAgICAgIGNvbnN0IHJlbW92ZUJvcmRlciA9ICgpID0+IHtcclxuICAgICAgICAgICAgLy8gZW5hYmxlIG9uIGRlbGV0ZSBhbGxcclxuICAgICAgICAgICAgJChlLnRhcmdldCkuY2xvc2VzdCgnLmpzX3RhZ3NpbnB1dC1ib3gnKS5maW5kKHRhZ3NpbnB1dFNlbGVjdG9yKS5yZW1vdmVDbGFzcygnYm9yZGVyLWRhbmdlcicpO1xyXG4gICAgICAgICAgICBpZiAobmV4dFN0ZXBCdG4pIHtcclxuICAgICAgICAgICAgICAgIC8vIGRpc2FibGUgb24gY2hlY25nZVxyXG4gICAgICAgICAgICAgICAgbmV4dFN0ZXBCdG4ucmVtb3ZlQXR0cignZGlzYWJsZWQnLCAnZGlzYWJsZWQnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgY29uc3QgYWRkQm9yZGVyID0gKCkgPT4ge1xyXG4gICAgICAgICAgICAkKGUudGFyZ2V0KS5jbG9zZXN0KCcuanNfdGFnc2lucHV0LWJveCcpLmZpbmQodGFnc2lucHV0U2VsZWN0b3IpLmFkZENsYXNzKCdib3JkZXItZGFuZ2VyJyk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBjb25zb2xlLmxvZygndGV4dCcsIHRleHQpO1xyXG4gICAgICAgIGlmIChuZXh0U3RlcEJ0bikge1xyXG4gICAgICAgICAgICAvLyBkaXNhYmxlIG9uIGNoZWNuZ2VcclxuICAgICAgICAgICAgbmV4dFN0ZXBCdG4uYXR0cignZGlzYWJsZWQnLCAnZGlzYWJsZWQnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3QgaXNBZGRlZFRleHRWYWxpZCA9IHRleHQubGVuZ3RoICYmIChlbmdsaXNoQ2hhcnMudGVzdCh0ZXh0KSB8fCAhIWlncm9yZVJlZ2V4Q2hlY2spO1xyXG4gICAgICAgIGNvbnN0IGlzUmVtb3ZlZFRleHRWYWxpZCA9IHRleHRPblJlbW92ZS5sZW5ndGggJiYgKGVuZ2xpc2hDaGFycy50ZXN0KHRleHRPblJlbW92ZSkgfHwgISFpZ3JvcmVSZWdleENoZWNrKTtcclxuXHJcbiAgICAgICAgaWYgKChpc0FkZGVkVGV4dFZhbGlkIHx8IGlzUmVtb3ZlZFRleHRWYWxpZCkgJiYgdGV4dCAhPT0gJywnKSB7XHJcbiAgICAgICAgICAgIC8vIGVuYWJsZSBvbiBjaGVjbmdlIGlmIGxlbmd0aFRleHQ+MVxyXG4gICAgICAgICAgICByZW1vdmVCb3JkZXIoKTtcclxuICAgICAgICB9IGVsc2UgaWYgKCFpc0luaXQpIHtcclxuICAgICAgICAgICAgLy8gJChlLnRhcmdldCkuY2xvc2VzdCgnLmpzX3RhZ3NpbnB1dC1ib3gnKS5maW5kKHRhZ3NpbnB1dFNlbGVjdG9yKS5hZGRDbGFzcygnYm9yZGVyLWRhbmdlcicpO1xyXG4gICAgICAgICAgICBhZGRCb3JkZXIoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKCF0ZXh0T25SZW1vdmUubGVuZ3RoICYmIGlzUmVtb3ZlZCAmJiAhaXNJbml0KSB7XHJcbiAgICAgICAgICAgIC8vIGVuYWJsZSBvbiBkZWxldGUgYWxsXHJcbiAgICAgICAgICAgIHJlbW92ZUJvcmRlcigpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICAvLyBkaXNhYmxlIG9uIGluaXRcclxuICAgIGNoZWNrVGV4dEFyZWEobnVsbCwgJ2lzSW5pdCcpO1xyXG4gICAgY29uc29sZS5sb2coJyRjb21wZXRpdG9yc1RleHRBcmVhJywgJGlucHV0KTtcclxuXHJcbiAgICBpZiAoIW5leHRTdGVwQnRuKSB7XHJcbiAgICAgICAgLy8gZG8gbm90IHZhbGlkYXRlIGFueXRoaW5nXHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIGV2ZW50Lml0ZW06IGNvbnRhaW5zIHRoZSBpdGVtXHJcbiAgICAvLyBldmVudC5jYW5jZWw6IHNldCB0byB0cnVlIHRvIHByZXZlbnQgdGhlIGl0ZW0gZ2V0dGluZyBhZGRlZFxyXG4gICAgJGlucHV0Lm9uKCdiZWZvcmVJdGVtQWRkJywgY2hlY2tUZXh0QXJlYSk7XHJcblxyXG4gICAgLy8gZXZlbnQuaXRlbTogY29udGFpbnMgdGhlIGl0ZW1cclxuICAgICRpbnB1dC5vbignaXRlbVJlbW92ZWQnLCBjaGVja1RleHRBcmVhKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGluaXRUYWdzSW5wdXQgKCRlbElucHV0KSB7XHJcbiAgICAkZWxJbnB1dC50YWdzaW5wdXQoJ2l0ZW1zJyk7XHJcbn1cclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2Jsb2Nrcy9fc2hhcmVkL3RhZ3MtaW5wdXQvdGFncy1pbnB1dC5qcyIsIi8qKlxuICogQ29weXJpZ2h0IChjKSAyMDEwLDIwMTEsMjAxMiwyMDEzLDIwMTQgTW9yZ2FuIFJvZGVyaWNrIGh0dHA6Ly9yb2Rlcmljay5ka1xuICogTGljZW5zZTogTUlUIC0gaHR0cDovL21yZ25yZHJjay5taXQtbGljZW5zZS5vcmdcbiAqXG4gKiBodHRwczovL2dpdGh1Yi5jb20vbXJvZGVyaWNrL1B1YlN1YkpTXG4gKi9cblxuKGZ1bmN0aW9uIChyb290LCBmYWN0b3J5KXtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICB2YXIgUHViU3ViID0ge307XG4gICAgcm9vdC5QdWJTdWIgPSBQdWJTdWI7XG5cbiAgICB2YXIgZGVmaW5lID0gcm9vdC5kZWZpbmU7XG5cbiAgICBmYWN0b3J5KFB1YlN1Yik7XG5cbiAgICAvLyBBTUQgc3VwcG9ydFxuICAgIGlmICh0eXBlb2YgZGVmaW5lID09PSAnZnVuY3Rpb24nICYmIGRlZmluZS5hbWQpe1xuICAgICAgICBkZWZpbmUoZnVuY3Rpb24oKSB7IHJldHVybiBQdWJTdWI7IH0pO1xuXG4gICAgICAgIC8vIENvbW1vbkpTIGFuZCBOb2RlLmpzIG1vZHVsZSBzdXBwb3J0XG4gICAgfSBlbHNlIGlmICh0eXBlb2YgZXhwb3J0cyA9PT0gJ29iamVjdCcpe1xuICAgICAgICBpZiAobW9kdWxlICE9PSB1bmRlZmluZWQgJiYgbW9kdWxlLmV4cG9ydHMpIHtcbiAgICAgICAgICAgIGV4cG9ydHMgPSBtb2R1bGUuZXhwb3J0cyA9IFB1YlN1YjsgLy8gTm9kZS5qcyBzcGVjaWZpYyBgbW9kdWxlLmV4cG9ydHNgXG4gICAgICAgIH1cbiAgICAgICAgZXhwb3J0cy5QdWJTdWIgPSBQdWJTdWI7IC8vIENvbW1vbkpTIG1vZHVsZSAxLjEuMSBzcGVjXG4gICAgICAgIG1vZHVsZS5leHBvcnRzID0gZXhwb3J0cyA9IFB1YlN1YjsgLy8gQ29tbW9uSlNcbiAgICB9XG5cbn0oKCB0eXBlb2Ygd2luZG93ID09PSAnb2JqZWN0JyAmJiB3aW5kb3cgKSB8fCB0aGlzLCBmdW5jdGlvbiAoUHViU3ViKXtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICB2YXIgbWVzc2FnZXMgPSB7fSxcbiAgICAgICAgbGFzdFVpZCA9IC0xO1xuXG4gICAgZnVuY3Rpb24gaGFzS2V5cyhvYmope1xuICAgICAgICB2YXIga2V5O1xuXG4gICAgICAgIGZvciAoa2V5IGluIG9iail7XG4gICAgICAgICAgICBpZiAoIG9iai5oYXNPd25Qcm9wZXJ0eShrZXkpICl7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFJldHVybnMgYSBmdW5jdGlvbiB0aGF0IHRocm93cyB0aGUgcGFzc2VkIGV4Y2VwdGlvbiwgZm9yIHVzZSBhcyBhcmd1bWVudCBmb3Igc2V0VGltZW91dFxuICAgICAqIEBhbGlhcyB0aHJvd0V4Y2VwdGlvblxuICAgICAqIEBmdW5jdGlvblxuICAgICAqIEBwYXJhbSB7IE9iamVjdCB9IGV4IEFuIEVycm9yIG9iamVjdFxuICAgICAqL1xuICAgIGZ1bmN0aW9uIHRocm93RXhjZXB0aW9uKCBleCApe1xuICAgICAgICByZXR1cm4gZnVuY3Rpb24gcmVUaHJvd0V4Y2VwdGlvbigpe1xuICAgICAgICAgICAgdGhyb3cgZXg7XG4gICAgICAgIH07XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gY2FsbFN1YnNjcmliZXJXaXRoRGVsYXllZEV4Y2VwdGlvbnMoIHN1YnNjcmliZXIsIG1lc3NhZ2UsIGRhdGEgKXtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHN1YnNjcmliZXIoIG1lc3NhZ2UsIGRhdGEgKTtcbiAgICAgICAgfSBjYXRjaCggZXggKXtcbiAgICAgICAgICAgIHNldFRpbWVvdXQoIHRocm93RXhjZXB0aW9uKCBleCApLCAwKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNhbGxTdWJzY3JpYmVyV2l0aEltbWVkaWF0ZUV4Y2VwdGlvbnMoIHN1YnNjcmliZXIsIG1lc3NhZ2UsIGRhdGEgKXtcbiAgICAgICAgc3Vic2NyaWJlciggbWVzc2FnZSwgZGF0YSApO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGRlbGl2ZXJNZXNzYWdlKCBvcmlnaW5hbE1lc3NhZ2UsIG1hdGNoZWRNZXNzYWdlLCBkYXRhLCBpbW1lZGlhdGVFeGNlcHRpb25zICl7XG4gICAgICAgIHZhciBzdWJzY3JpYmVycyA9IG1lc3NhZ2VzW21hdGNoZWRNZXNzYWdlXSxcbiAgICAgICAgICAgIGNhbGxTdWJzY3JpYmVyID0gaW1tZWRpYXRlRXhjZXB0aW9ucyA/IGNhbGxTdWJzY3JpYmVyV2l0aEltbWVkaWF0ZUV4Y2VwdGlvbnMgOiBjYWxsU3Vic2NyaWJlcldpdGhEZWxheWVkRXhjZXB0aW9ucyxcbiAgICAgICAgICAgIHM7XG5cbiAgICAgICAgaWYgKCAhbWVzc2FnZXMuaGFzT3duUHJvcGVydHkoIG1hdGNoZWRNZXNzYWdlICkgKSB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKHMgaW4gc3Vic2NyaWJlcnMpe1xuICAgICAgICAgICAgaWYgKCBzdWJzY3JpYmVycy5oYXNPd25Qcm9wZXJ0eShzKSl7XG4gICAgICAgICAgICAgICAgY2FsbFN1YnNjcmliZXIoIHN1YnNjcmliZXJzW3NdLCBvcmlnaW5hbE1lc3NhZ2UsIGRhdGEgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNyZWF0ZURlbGl2ZXJ5RnVuY3Rpb24oIG1lc3NhZ2UsIGRhdGEsIGltbWVkaWF0ZUV4Y2VwdGlvbnMgKXtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIGRlbGl2ZXJOYW1lc3BhY2VkKCl7XG4gICAgICAgICAgICB2YXIgdG9waWMgPSBTdHJpbmcoIG1lc3NhZ2UgKSxcbiAgICAgICAgICAgICAgICBwb3NpdGlvbiA9IHRvcGljLmxhc3RJbmRleE9mKCAnLicgKTtcblxuICAgICAgICAgICAgLy8gZGVsaXZlciB0aGUgbWVzc2FnZSBhcyBpdCBpcyBub3dcbiAgICAgICAgICAgIGRlbGl2ZXJNZXNzYWdlKG1lc3NhZ2UsIG1lc3NhZ2UsIGRhdGEsIGltbWVkaWF0ZUV4Y2VwdGlvbnMpO1xuXG4gICAgICAgICAgICAvLyB0cmltIHRoZSBoaWVyYXJjaHkgYW5kIGRlbGl2ZXIgbWVzc2FnZSB0byBlYWNoIGxldmVsXG4gICAgICAgICAgICB3aGlsZSggcG9zaXRpb24gIT09IC0xICl7XG4gICAgICAgICAgICAgICAgdG9waWMgPSB0b3BpYy5zdWJzdHIoIDAsIHBvc2l0aW9uICk7XG4gICAgICAgICAgICAgICAgcG9zaXRpb24gPSB0b3BpYy5sYXN0SW5kZXhPZignLicpO1xuICAgICAgICAgICAgICAgIGRlbGl2ZXJNZXNzYWdlKCBtZXNzYWdlLCB0b3BpYywgZGF0YSwgaW1tZWRpYXRlRXhjZXB0aW9ucyApO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIG1lc3NhZ2VIYXNTdWJzY3JpYmVycyggbWVzc2FnZSApe1xuICAgICAgICB2YXIgdG9waWMgPSBTdHJpbmcoIG1lc3NhZ2UgKSxcbiAgICAgICAgICAgIGZvdW5kID0gQm9vbGVhbihtZXNzYWdlcy5oYXNPd25Qcm9wZXJ0eSggdG9waWMgKSAmJiBoYXNLZXlzKG1lc3NhZ2VzW3RvcGljXSkpLFxuICAgICAgICAgICAgcG9zaXRpb24gPSB0b3BpYy5sYXN0SW5kZXhPZiggJy4nICk7XG5cbiAgICAgICAgd2hpbGUgKCAhZm91bmQgJiYgcG9zaXRpb24gIT09IC0xICl7XG4gICAgICAgICAgICB0b3BpYyA9IHRvcGljLnN1YnN0ciggMCwgcG9zaXRpb24gKTtcbiAgICAgICAgICAgIHBvc2l0aW9uID0gdG9waWMubGFzdEluZGV4T2YoICcuJyApO1xuICAgICAgICAgICAgZm91bmQgPSBCb29sZWFuKG1lc3NhZ2VzLmhhc093blByb3BlcnR5KCB0b3BpYyApICYmIGhhc0tleXMobWVzc2FnZXNbdG9waWNdKSk7XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gZm91bmQ7XG4gICAgfVxuXG4gICAgZnVuY3Rpb24gcHVibGlzaCggbWVzc2FnZSwgZGF0YSwgc3luYywgaW1tZWRpYXRlRXhjZXB0aW9ucyApe1xuICAgICAgICBtZXNzYWdlID0gKHR5cGVvZiBtZXNzYWdlID09PSAnc3ltYm9sJykgPyBtZXNzYWdlLnRvU3RyaW5nKCkgOiBtZXNzYWdlO1xuXG4gICAgICAgIHZhciBkZWxpdmVyID0gY3JlYXRlRGVsaXZlcnlGdW5jdGlvbiggbWVzc2FnZSwgZGF0YSwgaW1tZWRpYXRlRXhjZXB0aW9ucyApLFxuICAgICAgICAgICAgaGFzU3Vic2NyaWJlcnMgPSBtZXNzYWdlSGFzU3Vic2NyaWJlcnMoIG1lc3NhZ2UgKTtcblxuICAgICAgICBpZiAoICFoYXNTdWJzY3JpYmVycyApe1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKCBzeW5jID09PSB0cnVlICl7XG4gICAgICAgICAgICBkZWxpdmVyKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KCBkZWxpdmVyLCAwICk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuXG4gICAgLyoqXG4gICAgICogUHVibGlzaGVzIHRoZSBtZXNzYWdlLCBwYXNzaW5nIHRoZSBkYXRhIHRvIGl0J3Mgc3Vic2NyaWJlcnNcbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKiBAYWxpYXMgcHVibGlzaFxuICAgICAqIEBwYXJhbSB7IFN0cmluZyB9IG1lc3NhZ2UgVGhlIG1lc3NhZ2UgdG8gcHVibGlzaFxuICAgICAqIEBwYXJhbSB7fSBkYXRhIFRoZSBkYXRhIHRvIHBhc3MgdG8gc3Vic2NyaWJlcnNcbiAgICAgKiBAcmV0dXJuIHsgQm9vbGVhbiB9XG4gICAgICovXG4gICAgUHViU3ViLnB1Ymxpc2ggPSBmdW5jdGlvbiggbWVzc2FnZSwgZGF0YSApe1xuICAgICAgICByZXR1cm4gcHVibGlzaCggbWVzc2FnZSwgZGF0YSwgZmFsc2UsIFB1YlN1Yi5pbW1lZGlhdGVFeGNlcHRpb25zICk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFB1Ymxpc2hlcyB0aGUgdGhlIG1lc3NhZ2Ugc3luY2hyb25vdXNseSwgcGFzc2luZyB0aGUgZGF0YSB0byBpdCdzIHN1YnNjcmliZXJzXG4gICAgICogQGZ1bmN0aW9uXG4gICAgICogQGFsaWFzIHB1Ymxpc2hTeW5jXG4gICAgICogQHBhcmFtIHsgU3RyaW5nIH0gbWVzc2FnZSBUaGUgbWVzc2FnZSB0byBwdWJsaXNoXG4gICAgICogQHBhcmFtIHt9IGRhdGEgVGhlIGRhdGEgdG8gcGFzcyB0byBzdWJzY3JpYmVyc1xuICAgICAqIEByZXR1cm4geyBCb29sZWFuIH1cbiAgICAgKi9cbiAgICBQdWJTdWIucHVibGlzaFN5bmMgPSBmdW5jdGlvbiggbWVzc2FnZSwgZGF0YSApe1xuICAgICAgICByZXR1cm4gcHVibGlzaCggbWVzc2FnZSwgZGF0YSwgdHJ1ZSwgUHViU3ViLmltbWVkaWF0ZUV4Y2VwdGlvbnMgKTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogU3Vic2NyaWJlcyB0aGUgcGFzc2VkIGZ1bmN0aW9uIHRvIHRoZSBwYXNzZWQgbWVzc2FnZS4gRXZlcnkgcmV0dXJuZWQgdG9rZW4gaXMgdW5pcXVlIGFuZCBzaG91bGQgYmUgc3RvcmVkIGlmIHlvdSBuZWVkIHRvIHVuc3Vic2NyaWJlXG4gICAgICogQGZ1bmN0aW9uXG4gICAgICogQGFsaWFzIHN1YnNjcmliZVxuICAgICAqIEBwYXJhbSB7IFN0cmluZyB9IG1lc3NhZ2UgVGhlIG1lc3NhZ2UgdG8gc3Vic2NyaWJlIHRvXG4gICAgICogQHBhcmFtIHsgRnVuY3Rpb24gfSBmdW5jIFRoZSBmdW5jdGlvbiB0byBjYWxsIHdoZW4gYSBuZXcgbWVzc2FnZSBpcyBwdWJsaXNoZWRcbiAgICAgKiBAcmV0dXJuIHsgU3RyaW5nIH1cbiAgICAgKi9cbiAgICBQdWJTdWIuc3Vic2NyaWJlID0gZnVuY3Rpb24oIG1lc3NhZ2UsIGZ1bmMgKXtcbiAgICAgICAgaWYgKCB0eXBlb2YgZnVuYyAhPT0gJ2Z1bmN0aW9uJyl7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cblxuICAgICAgICBtZXNzYWdlID0gKHR5cGVvZiBtZXNzYWdlID09PSAnc3ltYm9sJykgPyBtZXNzYWdlLnRvU3RyaW5nKCkgOiBtZXNzYWdlO1xuXG4gICAgICAgIC8vIG1lc3NhZ2UgaXMgbm90IHJlZ2lzdGVyZWQgeWV0XG4gICAgICAgIGlmICggIW1lc3NhZ2VzLmhhc093blByb3BlcnR5KCBtZXNzYWdlICkgKXtcbiAgICAgICAgICAgIG1lc3NhZ2VzW21lc3NhZ2VdID0ge307XG4gICAgICAgIH1cblxuICAgICAgICAvLyBmb3JjaW5nIHRva2VuIGFzIFN0cmluZywgdG8gYWxsb3cgZm9yIGZ1dHVyZSBleHBhbnNpb25zIHdpdGhvdXQgYnJlYWtpbmcgdXNhZ2VcbiAgICAgICAgLy8gYW5kIGFsbG93IGZvciBlYXN5IHVzZSBhcyBrZXkgbmFtZXMgZm9yIHRoZSAnbWVzc2FnZXMnIG9iamVjdFxuICAgICAgICB2YXIgdG9rZW4gPSAndWlkXycgKyBTdHJpbmcoKytsYXN0VWlkKTtcbiAgICAgICAgbWVzc2FnZXNbbWVzc2FnZV1bdG9rZW5dID0gZnVuYztcbiAgICAgICAgXG4gICAgICAgIC8vIHJldHVybiB0b2tlbiBmb3IgdW5zdWJzY3JpYmluZ1xuICAgICAgICByZXR1cm4gdG9rZW47XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFN1YnNjcmliZXMgdGhlIHBhc3NlZCBmdW5jdGlvbiB0byB0aGUgcGFzc2VkIG1lc3NhZ2Ugb25jZVxuICAgICAqIEBmdW5jdGlvblxuICAgICAqIEBhbGlhcyBzdWJzY3JpYmVPbmNlXG4gICAgICogQHBhcmFtIHsgU3RyaW5nIH0gbWVzc2FnZSBUaGUgbWVzc2FnZSB0byBzdWJzY3JpYmUgdG9cbiAgICAgKiBAcGFyYW0geyBGdW5jdGlvbiB9IGZ1bmMgVGhlIGZ1bmN0aW9uIHRvIGNhbGwgd2hlbiBhIG5ldyBtZXNzYWdlIGlzIHB1Ymxpc2hlZFxuICAgICAqIEByZXR1cm4geyBQdWJTdWIgfVxuICAgICAqL1xuICAgIFB1YlN1Yi5zdWJzY3JpYmVPbmNlID0gZnVuY3Rpb24oIG1lc3NhZ2UsIGZ1bmMgKXtcbiAgICAgICAgdmFyIHRva2VuID0gUHViU3ViLnN1YnNjcmliZSggbWVzc2FnZSwgZnVuY3Rpb24oKXtcbiAgICAgICAgICAgIC8vIGJlZm9yZSBmdW5jIGFwcGx5LCB1bnN1YnNjcmliZSBtZXNzYWdlXG4gICAgICAgICAgICBQdWJTdWIudW5zdWJzY3JpYmUoIHRva2VuICk7XG4gICAgICAgICAgICBmdW5jLmFwcGx5KCB0aGlzLCBhcmd1bWVudHMgKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBQdWJTdWI7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIENsZWFycyBhbGwgc3Vic2NyaXB0aW9uc1xuICAgICAqIEBmdW5jdGlvblxuICAgICAqIEBwdWJsaWNcbiAgICAgKiBAYWxpYXMgY2xlYXJBbGxTdWJzY3JpcHRpb25zXG4gICAgICovXG4gICAgUHViU3ViLmNsZWFyQWxsU3Vic2NyaXB0aW9ucyA9IGZ1bmN0aW9uIGNsZWFyQWxsU3Vic2NyaXB0aW9ucygpe1xuICAgICAgICBtZXNzYWdlcyA9IHt9O1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDbGVhciBzdWJzY3JpcHRpb25zIGJ5IHRoZSB0b3BpY1xuICAgICAqIEBmdW5jdGlvblxuICAgICAqIEBwdWJsaWNcbiAgICAgKiBAYWxpYXMgY2xlYXJBbGxTdWJzY3JpcHRpb25zXG4gICAgICovXG4gICAgUHViU3ViLmNsZWFyU3Vic2NyaXB0aW9ucyA9IGZ1bmN0aW9uIGNsZWFyU3Vic2NyaXB0aW9ucyh0b3BpYyl7XG4gICAgICAgIHZhciBtO1xuICAgICAgICBmb3IgKG0gaW4gbWVzc2FnZXMpe1xuICAgICAgICAgICAgaWYgKG1lc3NhZ2VzLmhhc093blByb3BlcnR5KG0pICYmIG0uaW5kZXhPZih0b3BpYykgPT09IDApe1xuICAgICAgICAgICAgICAgIGRlbGV0ZSBtZXNzYWdlc1ttXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBSZW1vdmVzIHN1YnNjcmlwdGlvbnNcbiAgICAgKlxuICAgICAqIC0gV2hlbiBwYXNzZWQgYSB0b2tlbiwgcmVtb3ZlcyBhIHNwZWNpZmljIHN1YnNjcmlwdGlvbi5cbiAgICAgKlxuXHQgKiAtIFdoZW4gcGFzc2VkIGEgZnVuY3Rpb24sIHJlbW92ZXMgYWxsIHN1YnNjcmlwdGlvbnMgZm9yIHRoYXQgZnVuY3Rpb25cbiAgICAgKlxuXHQgKiAtIFdoZW4gcGFzc2VkIGEgdG9waWMsIHJlbW92ZXMgYWxsIHN1YnNjcmlwdGlvbnMgZm9yIHRoYXQgdG9waWMgKGhpZXJhcmNoeSlcbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKiBAcHVibGljXG4gICAgICogQGFsaWFzIHN1YnNjcmliZU9uY2VcbiAgICAgKiBAcGFyYW0geyBTdHJpbmcgfCBGdW5jdGlvbiB9IHZhbHVlIEEgdG9rZW4sIGZ1bmN0aW9uIG9yIHRvcGljIHRvIHVuc3Vic2NyaWJlIGZyb21cbiAgICAgKiBAZXhhbXBsZSAvLyBVbnN1YnNjcmliaW5nIHdpdGggYSB0b2tlblxuICAgICAqIHZhciB0b2tlbiA9IFB1YlN1Yi5zdWJzY3JpYmUoJ215dG9waWMnLCBteUZ1bmMpO1xuICAgICAqIFB1YlN1Yi51bnN1YnNjcmliZSh0b2tlbik7XG4gICAgICogQGV4YW1wbGUgLy8gVW5zdWJzY3JpYmluZyB3aXRoIGEgZnVuY3Rpb25cbiAgICAgKiBQdWJTdWIudW5zdWJzY3JpYmUobXlGdW5jKTtcbiAgICAgKiBAZXhhbXBsZSAvLyBVbnN1YnNjcmliaW5nIGZyb20gYSB0b3BpY1xuICAgICAqIFB1YlN1Yi51bnN1YnNjcmliZSgnbXl0b3BpYycpO1xuICAgICAqL1xuICAgIFB1YlN1Yi51bnN1YnNjcmliZSA9IGZ1bmN0aW9uKHZhbHVlKXtcbiAgICAgICAgdmFyIGRlc2NlbmRhbnRUb3BpY0V4aXN0cyA9IGZ1bmN0aW9uKHRvcGljKSB7XG4gICAgICAgICAgICAgICAgdmFyIG07XG4gICAgICAgICAgICAgICAgZm9yICggbSBpbiBtZXNzYWdlcyApe1xuICAgICAgICAgICAgICAgICAgICBpZiAoIG1lc3NhZ2VzLmhhc093blByb3BlcnR5KG0pICYmIG0uaW5kZXhPZih0b3BpYykgPT09IDAgKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGEgZGVzY2VuZGFudCBvZiB0aGUgdG9waWMgZXhpc3RzOlxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgICAgICB9LFxuICAgICAgICAgICAgaXNUb3BpYyAgICA9IHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycgJiYgKCBtZXNzYWdlcy5oYXNPd25Qcm9wZXJ0eSh2YWx1ZSkgfHwgZGVzY2VuZGFudFRvcGljRXhpc3RzKHZhbHVlKSApLFxuICAgICAgICAgICAgaXNUb2tlbiAgICA9ICFpc1RvcGljICYmIHR5cGVvZiB2YWx1ZSA9PT0gJ3N0cmluZycsXG4gICAgICAgICAgICBpc0Z1bmN0aW9uID0gdHlwZW9mIHZhbHVlID09PSAnZnVuY3Rpb24nLFxuICAgICAgICAgICAgcmVzdWx0ID0gZmFsc2UsXG4gICAgICAgICAgICBtLCBtZXNzYWdlLCB0O1xuXG4gICAgICAgIGlmIChpc1RvcGljKXtcbiAgICAgICAgICAgIFB1YlN1Yi5jbGVhclN1YnNjcmlwdGlvbnModmFsdWUpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yICggbSBpbiBtZXNzYWdlcyApe1xuICAgICAgICAgICAgaWYgKCBtZXNzYWdlcy5oYXNPd25Qcm9wZXJ0eSggbSApICl7XG4gICAgICAgICAgICAgICAgbWVzc2FnZSA9IG1lc3NhZ2VzW21dO1xuXG4gICAgICAgICAgICAgICAgaWYgKCBpc1Rva2VuICYmIG1lc3NhZ2VbdmFsdWVdICl7XG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBtZXNzYWdlW3ZhbHVlXTtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gdmFsdWU7XG4gICAgICAgICAgICAgICAgICAgIC8vIHRva2VucyBhcmUgdW5pcXVlLCBzbyB3ZSBjYW4ganVzdCBzdG9wIGhlcmVcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgaWYgKGlzRnVuY3Rpb24pIHtcbiAgICAgICAgICAgICAgICAgICAgZm9yICggdCBpbiBtZXNzYWdlICl7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAobWVzc2FnZS5oYXNPd25Qcm9wZXJ0eSh0KSAmJiBtZXNzYWdlW3RdID09PSB2YWx1ZSl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVsZXRlIG1lc3NhZ2VbdF07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0ID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcbn0pKTtcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9wdWJzdWItanMvc3JjL3B1YnN1Yi5qc1xuLy8gbW9kdWxlIGlkID0gMTFcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiaW1wb3J0IHtDT05TVH0gZnJvbSAnLi4vLi4vLi4vY29tbW9uL2pzLXNlcnZpY2VzL2NvbnN0cyc7XHJcbmltcG9ydCBVc2VyVGFza01hbmFnZXIgZnJvbSAnLi4vLi4vLi4vY29tbW9uL2pzLXNlcnZpY2VzL2FwaS10YXNrLW1hbmFnZXInO1xyXG5cclxuLyogLS0tLSBtb2RhbCovXHJcbmV4cG9ydCBmdW5jdGlvbiBmaWxsUG9zdHMoJGxpc3QsIGl0ZW1zLCBpc0FwcGVuZFRvTGlzdCkge1xyXG4gICAgY29uc3QgYWRkVG9MaXN0ID0gKGlzQXBwZW5kUHJldk1zZywgJGxpLCAkbGlzdCkgPT4ge1xyXG4gICAgICAgIGlmIChpc0FwcGVuZFByZXZNc2cpIHtcclxuICAgICAgICAgICAgJGxpLmluc2VydEFmdGVyKCRsaXN0LmZpbmQoJ2xpOmxhc3QtY2hpbGQnKSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgJGxpLmFwcGVuZFRvKCRsaXN0KTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgaWYgKCFpc0FwcGVuZFRvTGlzdCkge1xyXG4gICAgICAgICRsaXN0LmVtcHR5KCk7XHJcbiAgICB9XHJcbiAgICBpdGVtcy5mb3JFYWNoKChpdGVtLCBpZHgpID0+IHtcclxuICAgICAgICBjb25zdCB7aWQsIHR5cGV9ID0gaXRlbTtcclxuICAgICAgICBjb25zdCB0cGwgPSAkKGA8bGkgY2xhc3M9XCJjb2wtNCBsaXN0LWdyb3VwIGxpc3QtaW5saW5lLWl0ZW0gbS0wIHAtMFwiIGRhdGEtcG9zdC1pZD1cIiR7aWR9XCIgZGF0YS1wb3N0LXR5cGU9XCIke3R5cGV9XCI+XHJcbiAgICAgICAgICAgICR7KGl0ZW0udHlwZSA9PT0gJ3Bob3RvJylcclxuICAgICAgICAgICAgICAgID8gYDxpbWcgc3JjPVwiJHtpdGVtLnVybH1cIiBjbGFzcz1cImltZy1yZXNwb25zaXZlIHAtMlwiIGFsdD1cImltYWdlXCIgc3R5bGU9XCJtYXgtaGVpZ2h0OiAyMzBweDtcIi8+YFxyXG4gICAgICAgICAgICAgICAgOiBgPGRpdiBjbGFzcz1cIiR7aXRlbS50eXBlfSBoLTEwMFwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDwhLS1zdHlsZT1cImJhY2tncm91bmQtaW1hZ2U6IHVybCgke2l0ZW0udXJsfSk7XCItLT5cclxuICAgICAgICAgICAgICAgICAgICA8aW1nIHNyYz1cIiR7aXRlbS51cmx9XCIgY2xhc3M9XCJpbWctcmVzcG9uc2l2ZSBwLTIgdy0xMDBcIiBhbHQ9XCJ2aWRlby1jb3ZlclwiIHN0eWxlPVwibWF4LWhlaWdodDogMjAwcHg7XCIvPlxyXG4gICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzPVwiZmFzIGZhLXZpZGVvIGZhLTJ4IHBvc2l0aW9uLWFic29sdXRlIHRleHQtd2hpdGUgYWxpZ24tc2VsZi1zdGFydFwiPjwvaT5cclxuICAgICAgICAgICAgICAgICAgPC9kaXY+YFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgPC9saT5gKTtcclxuICAgICAgICBhZGRUb0xpc3QoaXNBcHBlbmRUb0xpc3QsIHRwbCwgJGxpc3QpOyAvLyB0b0RvIHJlZmFjdG9yIG1lLCBsZXNzIERPTSBtYW5pcHVsYXRpb25cclxuICAgIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBhZGRQYWdpbmF0aW9uKG1vZGFsRm9vdGVyLCBjdXJzb3IpIHtcclxuICAgICQoJyNsb2FkLW1vcmUnKS5hdHRyKCdjdXJzb3InLCBjdXJzb3IpO1xyXG4gICAgbW9kYWxGb290ZXIucmVtb3ZlQ2xhc3MoJ2Qtbm9uZScpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBoaWRlUGFnaW5hdGlvbihtb2RhbEZvb3Rlcikge1xyXG4gICAgbW9kYWxGb290ZXIuYWRkQ2xhc3MoJ2Qtbm9uZScpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBpbWFnZVNlbGVjdEhhbmRsZXIoJGxpc3QsIG1vZGFsLCB0YXJnZXRCdXR0b24pIHtcclxuICAgICQoJ2xpJywgJGxpc3QpLm9uKCdjbGljaycsIChlKSA9PiB7XHJcbiAgICAgICAgY29uc3QgaW1hZ2VCb3hDbHMgPSAnanNfdXBsb2FkZWQtaW1nLWZyb20tcG9zdHMnO1xyXG4gICAgICAgIGNvbnN0IGltYWdlRGVsQnRuQ2xzID0gJ2pzX2RlbGV0ZS1wb3N0LWltZyc7XHJcbiAgICAgICAgY29uc3QgaW1hZ2VCb3hTZWxlY3RvciA9IGAuJHtpbWFnZUJveENsc31gO1xyXG4gICAgICAgIGNvbnN0ICRidG5MaSA9ICQoZS50YXJnZXQpLmNsb3Nlc3QoJ2xpJyk7XHJcbiAgICAgICAgY29uc3QgcG9zdElkID0gJGJ0bkxpLmF0dHIoJ2RhdGEtcG9zdC1pZCcpO1xyXG4gICAgICAgIGNvbnN0IHBvc3RUeXBlID0gJGJ0bkxpLmF0dHIoJ2RhdGEtcG9zdC10eXBlJyk7XHJcbiAgICAgICAgY29uc3QgY2xvc2VzdENvbCA9IHRhcmdldEJ1dHRvbi5jbG9zZXN0KCcuY29sJyk7XHJcbiAgICAgICAgLy8gdGFyZ2V0QnV0dG9uLmNsb3Nlc3QoJ2J1dHRvbicpLmF0dHIoJ2RhdGEtcG9zdC1pbWctaWQnLCBpbWdJZCk7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ2NsaWNrJywgcG9zdFR5cGUsIHBvc3RJZCwgbW9kYWwpO1xyXG4gICAgICAgIHdpbmRvdy5QdWJTdWIucHVibGlzaChDT05TVC5ldmVudHMubW9kYWwuSU1BR0VfUE9TVF9TRUxFQ1RFRCxcclxuICAgICAgICAgICAgeyRidG5MaSwgY2xvc2VzdENvbH0pO1xyXG4gICAgICAgIG1vZGFsLm1vZGFsKCdoaWRlJyk7XHJcbiAgICAgICAgaWYgKHRhcmdldEJ1dHRvbi5jbG9zZXN0KCcuY29sJykuZmluZChpbWFnZUJveFNlbGVjdG9yKS5sZW5ndGgpIHtcclxuICAgICAgICAgICAgdGFyZ2V0QnV0dG9uLmNsb3Nlc3QoJy5jb2wnKS5maW5kKGltYWdlQm94U2VsZWN0b3IpLnJlbW92ZSgpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc3QgdHBsSW1hZ2VCb3ggPSAkKGA8ZGl2IGNsYXNzPVwiJHtpbWFnZUJveENsc30gdXBsb2FkZWQtaW1nLWZyb20tcG9zdHNcIiBcclxuICAgICAgICAgICAgICAgIGRhdGEtcG9zdC1pZD1cIiR7cG9zdElkfVwiIGRhdGEtcG9zdC10eXBlPVwiJHtwb3N0VHlwZX1cIj5cclxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi13YXJuaW5nIHVwbG9hZGVkLWltZy1mcm9tLXBvc3RzLS1yZW1vdmUtYnRuIG1sLTIgJHtpbWFnZURlbEJ0bkNsc31cIj7Qo9C00LDQu9C40YLRjDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgPC9kaXZgKS5wcmVwZW5kKCRidG5MaS5maW5kKCdpbWcnKSk7XHJcbiAgICAgICAgdGFyZ2V0QnV0dG9uLmNsb3Nlc3QoJy5jb2wnKS5hcHBlbmQodHBsSW1hZ2VCb3gpO1xyXG5cclxuICAgICAgICAkKGAuJHtpbWFnZURlbEJ0bkNsc31gKS5vZmYoKS5vbignY2xpY2snLCAoZSkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBjdXJyZW50SW1hZ2VCb3ggPSAkKGUudGFyZ2V0KS5jbG9zZXN0KCcuY29sJykuZmluZChpbWFnZUJveFNlbGVjdG9yKTtcclxuICAgICAgICAgICAgY3VycmVudEltYWdlQm94LnJlbW92ZSgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRQb3N0cyhtb2RhbCwgZGV0YWlscywge2xvYWRNb3JlSGFuZGxlciwgdGFyZ2V0QnV0dG9ufSkge1xyXG4gICAgVXNlclRhc2tNYW5hZ2VyLmdldFBvc3RzQXV0b21lc3NhZ2VzKGRldGFpbHMpLnRoZW4oKHJlc3VsdCkgPT4ge1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKHJlc3VsdCk7XHJcbiAgICAgICAgaWYgKHJlc3VsdC5zdGF0dXMuc3RhdGUgPT09ICdvaycpIHtcclxuICAgICAgICAgICAgY29uc3Qge2RhdGF9ID0gcmVzdWx0O1xyXG4gICAgICAgICAgICBjb25zdCBtb2RhbEZvb3RlciA9IG1vZGFsID8gJCgnLm1vZGFsLWZvb3RlcicsIG1vZGFsKSA6IG51bGw7XHJcbiAgICAgICAgICAgIGNvbnN0ICRsaXN0ID0gJCgnLm1vZGFsLWJvZHkgLnBvc3RzLWxpc3QnLCBtb2RhbCk7XHJcbiAgICAgICAgICAgIGlmICghZGF0YS5wb3N0cy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgIC8vIHNob3cgbWVzc2FnZSAnbm8gcG9zdHMgZm91bmQnXHJcbiAgICAgICAgICAgICAgICB0YXJnZXRCdXR0b24ucG9wb3Zlcih7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGFpbmVyOiAnYm9keScsXHJcbiAgICAgICAgICAgICAgICAgICAgY29udGVudDogJ9CjINGC0LXQutGD0YnQtdCz0L4g0LDQutC60LDRg9C90YLQsCDQvdC10YIg0L3QuCDQvtC00L3QvtCz0L4g0L/QvtGB0YLQsCcsXHJcbiAgICAgICAgICAgICAgICAgICAgcGxhY2VtZW50OiAnYm90dG9tJ1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB0YXJnZXRCdXR0b24ucG9wb3ZlcignZGVzdHJveScpO1xyXG4gICAgICAgICAgICAgICAgfSwgNDAwMCk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmIChtb2RhbCkge1xyXG4gICAgICAgICAgICAgICAgZmlsbFBvc3RzKCRsaXN0LCBkYXRhLnBvc3RzKTtcclxuICAgICAgICAgICAgICAgIG1vZGFsLm1vZGFsKCdzaG93Jyk7XHJcbiAgICAgICAgICAgICAgICBtb2RhbC5tb2RhbCgnaGFuZGxlVXBkYXRlJyk7XHJcbiAgICAgICAgICAgICAgICBpbWFnZVNlbGVjdEhhbmRsZXIoJGxpc3QsIG1vZGFsLCB0YXJnZXRCdXR0b24pO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGRhdGEucG9zdHMpIHtcclxuICAgICAgICAgICAgICAgIGZpbGxQb3N0cygkbGlzdCwgZGF0YS5wb3N0cywgJ2FwcGVuZFRvTGlzdCcpO1xyXG4gICAgICAgICAgICAgICAgaW1hZ2VTZWxlY3RIYW5kbGVyKCRsaXN0LCAkKCcjcG9zdHNHcmlkTW9kYWwnKSwgdGFyZ2V0QnV0dG9uKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgaWYgKGRhdGEucGFnaW5hdGlvbiAmJiBkYXRhLnBhZ2luYXRpb24uY3Vyc29yKSB7XHJcbiAgICAgICAgICAgICAgICBhZGRQYWdpbmF0aW9uKG1vZGFsRm9vdGVyLCBkYXRhLnBhZ2luYXRpb24uY3Vyc29yKTtcclxuICAgICAgICAgICAgICAgIGxvYWRNb3JlSGFuZGxlcihnZXRQb3N0cyk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBoaWRlUGFnaW5hdGlvbigkKCcubW9kYWwtZm9vdGVyJywgbW9kYWwpKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBzaG93IG1lc3NhZ2UgZXJyb3JcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxufVxyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvYmxvY2tzL19zaGFyZWQvZ2V0UG9zdHNNb2RhbC91dGlscy1tb2RhbC5qcyIsImltcG9ydCB2aWV3VXRpbHMgZnJvbSAnLi4vLi4vLi4vY29tbW9uL2pzLXNlcnZpY2VzL3ZpZXcnO1xyXG5pbXBvcnQgKiBhcyBsb2dzIGZyb20gJy4vbG9ncyc7XHJcbmltcG9ydCAqIGFzIHRhYnMgZnJvbSAnLi4vLi4vX3NoYXJlZC90ZWJzLXBpbHMvdGFicyc7XHJcblxyXG5mdW5jdGlvbiBtb3ZlSW5PbmVSb3codXNlckxpc3RCb3gsIHN1YlR5cGVCb3gpIHtcclxuICAgIGlmICghc3ViVHlwZUJveC5sZW5ndGggfHwgIXVzZXJMaXN0Qm94Lmxlbmd0aCkge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIHVzZXJMaXN0Qm94LmFwcGVuZFRvKHN1YlR5cGVCb3gpO1xyXG5cclxuICAgIHVzZXJMaXN0Qm94LmFkZENsYXNzKCdjb2wnKTtcclxuICAgIHN1YlR5cGVCb3guYWRkQ2xhc3MoJ3JvdycpO1xyXG4gICAgLy8gYWRkIFwiY29sLWF1dG9cIiB0byBmaXJzdCBjb2x1bW5cclxuICAgIHN1YlR5cGVCb3guZmluZCgnLmxvZy1zdWJ5cGUnKS5hZGRDbGFzcygnY29sLWF1dG8nKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIENmZ1xyXG4gKiBAcGFyYW0gbG9nc1N0YXRlXHJcbiAqIEBwYXJhbSBsb2dzU3VidHlwZXNcclxuICogQHBhcmFtIGNsc0NvbnN0XHJcbiAqIENmZy1mdW5jdGlvbnNcclxuICogQHBhcmFtIHNldFVzZXJOYW1lQ2JcclxuICogQHBhcmFtIGFkZERyb3Bkb3duXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gaW5pdExvZ3NUYWIoe2xvZ3NTdGF0ZSwgbG9nc1N1YnR5cGVzLCBjbHNDb25zdCwgc2V0VXNlck5hbWVDYiwgdGV4dFJ1c0FycmF5fSkge1xyXG4gICAgY29uc3Qge3NlbGVjdENsc30gPSBsb2dzU3RhdGU7XHJcbiAgICBjb25zdCB7c2VsZWN0Q2xzTG9nc1Rhc2tUeXBlfSA9IGxvZ3NTdGF0ZTtcclxuXHJcbiAgICBmdW5jdGlvbiBkcm9wZG93bk9uU2VsZWN0Q2IoZSkge1xyXG4gICAgICAgIGNsc0NvbnN0LnBhdGhTdWJUeXBlID0gJChgLiR7c2VsZWN0Q2xzTG9nc1Rhc2tUeXBlfSBvcHRpb246c2VsZWN0ZWRgKS52YWwoKTtcclxuICAgICAgICAkKCcuanNfbG9ncy1jb250YWluZXInKS5hZGRDbGFzcygnZC1ibG9jaycpO1xyXG4gICAgICAgICQoJ29wdGlvbi5qc19lbXB0eS1zdWJ0eXBlJykucmVtb3ZlKCk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gT25DaGFuZ2VTZWxlY3QoKSB7XHJcbiAgICAgICAgY29uc3QgdXNlcm5hbWVTZWxlY3RlZCA9ICQoYC4ke3NlbGVjdENsc30gb3B0aW9uOnNlbGVjdGVkYCkudmFsKCk7XHJcbiAgICAgICAgc2V0VXNlck5hbWVDYih1c2VybmFtZVNlbGVjdGVkKTtcclxuICAgICAgICBsb2dzLmluaXQoc2VsZWN0Q2xzLCBjbHNDb25zdCk7XHJcbiAgICB9XHJcbiAgICBmdW5jdGlvbiBoYW5kbGVMb2dzRHJvcGRvd25zKCkge1xyXG4gICAgICAgIGRyb3Bkb3duT25TZWxlY3RDYigpO1xyXG4gICAgICAgIE9uQ2hhbmdlU2VsZWN0KCk7XHJcbiAgICAgICAgJChgLiR7c2VsZWN0Q2xzTG9nc1Rhc2tUeXBlfWApLm9uKCdjaGFuZ2UnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGRyb3Bkb3duT25TZWxlY3RDYigpO1xyXG4gICAgICAgICAgICBsb2dzLmluaXQoc2VsZWN0Q2xzLCBjbHNDb25zdCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICQoYC4ke3NlbGVjdENsc31gKS5vbignY2hhbmdlJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBPbkNoYW5nZVNlbGVjdCgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgdmlld1V0aWxzLmFkZERyb3Bkb3duKCQobG9nc1N0YXRlLndyYXBwZXJTdWJ0eXBlKSwgbG9nc1N1YnR5cGVzLCB7bG9nc1N0YXRlLCBpc1JlbmRlckVtcHR5T3B0aW9uOiBmYWxzZSwgdGV4dFJ1c0FycmF5fSk7XHJcbiAgICB0YWJzLmluaXQoaGFuZGxlTG9nc0Ryb3Bkb3ducywgbG9nc1N0YXRlKTsgLy8gbWFrZXMgZG91YmxlIHJlcXVlc3QgOiBPUFRJT04gYW5kIEdFVFxyXG5cclxuICAgIGNvbnN0IHVzZXJMaXN0Qm94ID0gJCgnLmxvZy11c2Vycy1saXN0ICcpO1xyXG4gICAgY29uc3Qgc3ViVHlwZUJveCA9ICQoJy5sb2ctc3VieXBlLS1ib3gnKTtcclxuICAgIG1vdmVJbk9uZVJvdyh1c2VyTGlzdEJveCwgc3ViVHlwZUJveCk7XHJcbn1cclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2Jsb2Nrcy9fc2hhcmVkL2xvZ3MvbG9ncy10YWJzLmpzIiwiaW1wb3J0IHtDT05TVH0gZnJvbSAnLi4vLi4vY29tbW9uL2pzLXNlcnZpY2VzL2NvbnN0cyc7XHJcbmltcG9ydCBVc2VyVGFza01hbmFnZXIgZnJvbSAnLi4vLi4vY29tbW9uL2pzLXNlcnZpY2VzL2FwaS10YXNrLW1hbmFnZXInO1xyXG5pbXBvcnQgU3Bpbm5lciBmcm9tICcuLi8uLi9jb21tb24vanMtc2VydmljZXMvc3Bpbm5lcic7XHJcbi8vIGltcG9ydCB2aWV3VXRpbHMgZnJvbSAnLi4vLi4vY29tbW9uL2pzLXNlcnZpY2VzL3ZpZXcnO1xyXG5cclxuLypcclxuKiByZWFkIGZpbGVcclxuKi9cclxubGV0IGZpbGVVcGxvYWRCb3ggPSAnJztcclxuY29uc3QgTUFYX0lNR19GSUxFX1NJWkVfQllURSA9IDEwNDg1NzYgKiAxMDA7XHJcbmNvbnN0IEZJTEVfVFlQRSA9ICd0eHQnO1xyXG5mdW5jdGlvbiBpc0ZpbGVUeXBlT2soYWNjZXB0ZWRGaWxlKSB7XHJcbiAgICByZXR1cm4gYWNjZXB0ZWRGaWxlLnR5cGUgPT09ICd0ZXh0L3BsYWluJztcclxufVxyXG5cclxuZnVuY3Rpb24gaXNJbWdTaXplT2soYWNjZXB0ZWRGaWxlKSB7XHJcbiAgICBjb25zdCBpbWdTaXplID0gTWF0aC5yb3VuZChhY2NlcHRlZEZpbGUuc2l6ZSk7XHJcbiAgICByZXR1cm4gTUFYX0lNR19GSUxFX1NJWkVfQllURSA+IGltZ1NpemU7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGhhbmRsZVN1Ym1pdChpbnB1dCkge1xyXG4gICAgY29uc3QgdXJsID0gQ09OU1QuZ2V0UGF0aCgnaW5zdGFncmFtVGFza01hbmFnZXJfcG9zdFRleHRBdHRhY2htZW50Jyk7XHJcbiAgICBjb25zdCB0b2tlbiA9IFVzZXJUYXNrTWFuYWdlci5nZXRUb2tlbigpO1xyXG4gICAgY29uc3QgYWNjZXB0ZWRGaWxlID0gaW5wdXQuZmlsZXNbMF07XHJcbiAgICBjb25zb2xlLmxvZygnaGFuZGxlU3VibWl0IGZvbGxvdycpO1xyXG4gICAgY29uc3QgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoKTtcclxuICAgIGZvcm1EYXRhLmFwcGVuZCgnZmlsZScsIGFjY2VwdGVkRmlsZSwgYWNjZXB0ZWRGaWxlLm5hbWUpO1xyXG5cclxuICAgIGNvbnN0IHJlcXVlc3QgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcclxuICAgIHJlcXVlc3Qub3BlbignUE9TVCcsIHVybCk7XHJcbiAgICAvLyByZXF1ZXN0LndpdGhDcmVkZW50aWFscyA9IHRydWU7XHJcbiAgICByZXF1ZXN0LnNldFJlcXVlc3RIZWFkZXIoJ3Rva2VuJywgdG9rZW4pO1xyXG4gICAgcmVxdWVzdC5zZXRSZXF1ZXN0SGVhZGVyKCdBY2NlcHQnLCAnYXBwbGljYXRpb24vanNvbicpO1xyXG4gICAgcmVxdWVzdC5zZXRSZXF1ZXN0SGVhZGVyKCdjYWNoZS1jb250cm9sJywgJ25vLWNhY2hlJyk7XHJcbiAgICByZXF1ZXN0LnNlbmQoZm9ybURhdGEpO1xyXG4gICAgcmVxdWVzdC5hZGRFdmVudExpc3RlbmVyKCdyZWFkeXN0YXRlY2hhbmdlJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmICh0aGlzLnJlYWR5U3RhdGUgPT09IDQpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ3RoaXMnLCB0aGlzLnJlc3BvbnNlVGV4dCwgdGhpcyk7XHJcbiAgICAgICAgICAgIHdpbmRvdy5QdWJTdWIucHVibGlzaChDT05TVC5ldmVudHMuYXV0b2FybnN3ZXIuVEVYVF9GSUxFX1VQTE9BREVELCB7J3Jlc3BvbnNlJzogdGhpcy5yZXNwb25zZVRleHQsICdlbCc6IGlucHV0fSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICBTcGlubmVyLmFkZCgkKCcuYWRkLWZpbGUnKSwgJycpO1xyXG59XHJcblxyXG5mdW5jdGlvbiByZWFkVVJMKGlucHV0KSB7XHJcbiAgICBjb25zdCAkY29udGFpbmVyID0gJChpbnB1dCkuY2xvc2VzdChmaWxlVXBsb2FkQm94KTtcclxuICAgIGlmIChpbnB1dC5maWxlcyAmJiBpbnB1dC5maWxlc1swXSkge1xyXG4gICAgICAgIGNvbnN0IHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKCk7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ3JlYWRVUkwnKTtcclxuICAgICAgICBpZiAoIWlzSW1nU2l6ZU9rKGlucHV0LmZpbGVzWzBdKSB8fCAhaXNGaWxlVHlwZU9rKGlucHV0LmZpbGVzWzBdKSkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnc2hvdyBlcnJvciBtZXNzYWdlLCBpbWdTaXplIHRvIGJpZyAnKTtcclxuICAgICAgICAgICAgJChmaWxlVXBsb2FkQm94KS5hcHBlbmQoYFxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIndhcm5pbmctaW1hZ2UgdGV4dC1kYW5nZXJcIj5cclxuICAgICAgICAgICAgICAgICAgICA8cD7QlNC+0YHRgtGD0L/QvdGL0Lkg0YTQvtGA0LzQsNGCINC40LfQvtCx0YDQsNC20LXQvdC40Y8gJHtGSUxFX1RZUEV9PC9wPlxyXG4gICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzPVwibXNnLW1heC1zaXplLWltZyB0ZXh0LWRhbmdlclwiPtCc0LDQutGB0LjQvNCw0LvRjNC90YvQuSDQtNC+0L/Rg9GB0YLQuNC80YvQuSDRgNCw0LfQvNC10YAg0LrQsNGA0YLQuNC90LrQuCAxMDAgTUI8L3A+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgYCk7XHJcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgJCgnLndhcm5pbmctaW1hZ2UnKS5hZGRDbGFzcygnZC1ub25lJyk7XHJcbiAgICAgICAgICAgIH0sIDUwMDApO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICByZWFkZXIub25sb2FkID0gZnVuY3Rpb24oZSkge1xyXG4gICAgICAgICAgICAkY29udGFpbmVyLmZpbmQoJy5pbWFnZS11cGxvYWQtd3JhcCcpLmhpZGUoKTtcclxuICAgICAgICAgICAgJGNvbnRhaW5lci5maW5kKCcuZmlsZS11cGxvYWQtaW1hZ2UnKS5hdHRyKCdzcmMnLCBlLnRhcmdldC5yZXN1bHQpO1xyXG4gICAgICAgICAgICAvLyAkY29udGFpbmVyLmZpbmQoZmlsZVVwbG9hZENvbnRlbnQpLnNob3coKTtcclxuICAgICAgICAgICAgJGNvbnRhaW5lci5maW5kKCcuaW1hZ2UtdGl0bGUnKS5odG1sKGlucHV0LmZpbGVzWzBdLm5hbWUpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgLy8gcmVhZGVyLm9uZXJyb3IgPSBlcnJvckhhbmRsZXI7XHJcbiAgICAgICAgLy8gcmVhZGVyLm9ucHJvZ3Jlc3MgPSB1cGRhdGVQcm9ncmVzcztcclxuXHJcbiAgICAgICAgcmVhZGVyLnJlYWRBc0RhdGFVUkwoaW5wdXQuZmlsZXNbMF0pO1xyXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4gaGFuZGxlU3VibWl0KGlucHV0KSwgMjAwMCk7XHJcbiAgICAgICAgLy8gUmVhZCBpbiB0aGUgaW1hZ2UgZmlsZSBhcyBhIGJpbmFyeSBzdHJpbmcuXHJcbiAgICAgICAgLy8gcmVhZGVyLnJlYWRBc0JpbmFyeVN0cmluZyhpbnB1dC5maWxlc1swXSk7XHJcblxyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICAvLyByZW1vdmVVcGxvYWQoJGNvbnRhaW5lcik7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBhdHRhY2hUeHRGaWxlSGFuZGxlcihfZmlsZVVwbG9hZEJveCwgb25TdWNjZXNzRmlsZVVwbG9hZENiKSB7XHJcbiAgICBmaWxlVXBsb2FkQm94ID0gX2ZpbGVVcGxvYWRCb3g7XHJcbiAgICAkKCcuaW5wdXQtdHh0LWZpbGUnKS5jaGFuZ2UoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgaWYgKCQodGhpcykudmFsKCkgIT09ICcnKSB7XHJcbiAgICAgICAgICAgICQodGhpcykucHJldigpLnRleHQoYNCS0YvQsdGA0LDQvdC+INGE0LDQudC70L7QsjogJHskKHRoaXMpWzBdLmZpbGVzLmxlbmd0aH1gKTtcclxuICAgICAgICAgICAgcmVhZFVSTCgkKHRoaXMpWzBdKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAkKHRoaXMpLnByZXYoKS50ZXh0KCfQktGL0LHQtdGA0LXRgtC1INGE0LDQudC7Jyk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICB3aW5kb3cuUHViU3ViLnN1YnNjcmliZShDT05TVC5ldmVudHMuYXV0b2FybnN3ZXIuVEVYVF9GSUxFX1VQTE9BREVELCAoZSwgcmVzKSA9PiB7XHJcbiAgICAgICAgY29uc3Qge3Jlc3BvbnNlfSA9IHJlcztcclxuICAgICAgICBjb25zdCByZXN1bHQgPSAocmVzcG9uc2UubGVuZ3RoKSA/IEpTT04ucGFyc2UocmVzcG9uc2UpIDogJyc7XHJcbiAgICAgICAgY29uc3QgaW1hZ2VJZCA9IHJlc3VsdCAmJiByZXN1bHQuZGF0YSAmJiByZXN1bHQuZGF0YS5saXN0X2lkO1xyXG4gICAgICAgICQocmVzLmVsKS5jbG9zZXN0KGZpbGVVcGxvYWRCb3gpLmF0dHIoJ2F0dGFjaGVkLXR4dC1pZCcsIGltYWdlSWQpO1xyXG4gICAgICAgIGlmIChvblN1Y2Nlc3NGaWxlVXBsb2FkQ2IgJiYgdHlwZW9mIG9uU3VjY2Vzc0ZpbGVVcGxvYWRDYiA9PT0gJ2Z1bmN0aW9uJykge1xyXG4gICAgICAgICAgICBvblN1Y2Nlc3NGaWxlVXBsb2FkQ2IoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gbWFrZSBuZXh0LWJ0biBhdmFpbGFibGVcclxuICAgICAgICBjb25zdCBuZXh0U3RlcCA9ICQoJy5qc19hZGQtbmV3LXRhc2sgZmllbGRzZXQnKS5nZXQoMik7XHJcbiAgICAgICAgJChuZXh0U3RlcCkuZmluZCgnLmJ0bi1uZXh0JykucmVtb3ZlQXR0cignZGlzYWJsZWQnKTtcclxuICAgICAgICBTcGlubmVyLnJlbW92ZSgpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCcqKipURVhUX0ZJTEVfVVBMT0FERUQsIG9uU3VjY2Vzc0ZpbGVVcGxvYWRDYicsIHJlcyk7XHJcbiAgICB9KTtcclxufVxyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvYmxvY2tzL2ZvbGxvdy9mb2xsb3ctcmVhZC1maWxlLXR4dC5qcyIsImltcG9ydCAnZW1vamlvbmVBcmVhJztcclxuXHJcbmV4cG9ydCBjb25zdCBlbW9qaSA9IChjbHNDb25zdCkgPT4ge1xyXG4gICAgaWYgKCEkKGNsc0NvbnN0LnBhZ2UpLmxlbmd0aCkge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtdmFyc1xyXG4gICAgLy8gY29uc3QgbSA9IG5ldyBNZXRlb3JFbW9qaSgpO1xyXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVudXNlZC12YXJzXHJcbiAgICAvLyBjb25zdCBlcCA9IG5ldyBFbW9qaVBpY2tlcigpO1xyXG4gICAgLy8gY29uc3QgJHBpY2tlciA9ICQoJ3RleHRhcmVhW2RhdGEtZW1vamktcGlja2VyPVwidHJ1ZVwiXSB+IGRpdicpO1xyXG4gICAgLy8gY29uc3Qgc3R5bGUgPSAkcGlja2VyLmF0dHIoJ3N0eWxlJyk7XHJcbiAgICAvLyBjb25zdCBzdHlsZU5ldyA9IHN0eWxlLnJlcGxhY2UoY2xzQ29uc3Quc3R5bGVzLm9sZCwgY2xzQ29uc3Quc3R5bGVzLm5ldyk7XHJcbiAgICAvLyAkcGlja2VyLmF0dHIoJ3N0eWxlJywgc3R5bGVOZXcpO1xyXG5cclxuICAgICQoJ3RleHRhcmVhW2RhdGEtZW1vamktcGlja2VyPVwidHJ1ZVwiXScpLmVtb2ppb25lQXJlYSh7XHJcbiAgICAgICAgcGlja2VyUG9zaXRpb246ICdib3R0b20nLFxyXG4gICAgICAgIHRvbmVzU3R5bGU6ICdzcXVhcmUnLFxyXG4gICAgICAgIGZpbHRlcnNQb3NpdGlvbjogJ2JvdHRvbScsXHJcbiAgICAgICAgc2VhcmNoOiB0cnVlLFxyXG4gICAgICAgIGV2ZW50czoge1xyXG4gICAgICAgICAgICBrZXl1cCAoZWRpdG9yLCBldmVudCkge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coZWRpdG9yLmh0bWwoKSk7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyh0aGlzLmdldFRleHQoKSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9KTtcclxufTtcclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2NvbW1vbi9qcy1zZXJ2aWNlcy9lbW9qaS5qcyIsImltcG9ydCB2aWV3VXRpbHMgZnJvbSAnLi92aWV3JztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE5ldHdvcmsge1xyXG5cclxuICAgIGNiRXJyb3JEZWZhdWx0KHJlc3VsdCkge1xyXG4gICAgICAgIGNvbnN0ICRlbCA9ICgkKCcjZGVzY3JpcHRpb24nKS5sZW5ndGgpID8gJCgnI2Rlc2NyaXB0aW9uJykgOiAkKCcuZXJyb3ItbXNnJyk7XHJcbiAgICAgICAgdmlld1V0aWxzLnNob3dJbmZvTWVzc2FnZSgkZWwsXHJcbiAgICAgICAgICAgIHJlc3VsdC5zdGF0dXMuc3RhdGUsXHJcbiAgICAgICAgICAgIHJlc3VsdC5zdGF0dXMubWVzc2FnZSB8fCAnZXJyb3InKTtcclxuICAgIH1cclxuXHJcbiAgICBjaGVja1N0YXR1cyhyZXNwb25zZSkge1xyXG4gICAgICAgIGlmIChyZXNwb25zZS5zdGF0dXMgJiYgcmVzcG9uc2Uuc3RhdHVzID49IDIwMCAmJiByZXNwb25zZS5zdGF0dXMgPCAzMDApIHtcclxuICAgICAgICAgICAgcmV0dXJuIHJlc3BvbnNlO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGVycm9yID0gbmV3IEVycm9yKHJlc3BvbnNlLnN0YXR1c1RleHQpO1xyXG4gICAgICAgICAgICBlcnJvci5yZXNwb25zZSA9IHJlc3BvbnNlO1xyXG4gICAgICAgICAgICB0aHJvdyBlcnJvcjtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgc2VuZFJlcXVlc3QoVVJMLCBPUFRTLCBjYkVycm9yKSB7XHJcbiAgICAgICAgcmV0dXJuIGZldGNoKFVSTCwgT1BUUylcclxuICAgICAgICAgICAgLnRoZW4ocmVzcG9uc2UgPT4gUHJvbWlzZS5hbGwoW3Jlc3BvbnNlLCByZXNwb25zZS5qc29uKCldKSlcclxuICAgICAgICAgICAgLnRoZW4oKFtyZXNwb25zZSwganNvbl0pID0+IHtcclxuICAgICAgICAgICAgICAgIGlmICghcmVzcG9uc2Uub2spIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoIWNiRXJyb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jYkVycm9yRGVmYXVsdChqc29uKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYkVycm9yKGpzb24pOyAvLyB1cGRhdGUgdmlld1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmNoZWNrU3RhdHVzKHJlc3BvbnNlKTtcclxuICAgICAgICAgICAgICAgICAgICAvLyB0aHJvdyBuZXcgRXJyb3IoanNvbi5zdGF0dXMubWVzc2FnZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4ganNvbjtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuXHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9jb21tb24vanMtc2VydmljZXMvbmV0d29yay5qcyIsIi8vIGltcG9ydCAkIGZyb20gJ2pxdWVyeSc7XHJcbi8vIGltcG9ydCB7Q09OU1R9IGZyb20gJy4vY29uc3RzJztcclxuLy8gaW1wb3J0IE5ldHdvcmsgZnJvbSAnLi9uZXR3b3JrJztcclxuLy8gaW1wb3J0IENvb2tpZVN0b3JhZ2UgZnJvbSAnLi9jb29raWUnO1xyXG4vLyBpbXBvcnQgUHViU3ViIGZyb20gJ3B1YnN1Yi1qcyc7IC8vIGh0dHBzOi8vd3d3Lm5wbWpzLmNvbS9wYWNrYWdlL3B1YnN1Yi1qc1xyXG5cclxuLy8gY29uc3QgU1BJTk5FUl9CQVNFX1RFTVBBTEFURSA9ICdqcy91aS90cGwvc3Bpbm5lci5oYnMnO1xyXG5jb25zdCBjbGFzc2VzID0ge1xyXG4gICAgaW5saW5lOiAnZ2xvYmFsLWlubGluZS1zcGlubmVyJyxcclxuICAgIG92ZXJsYXk6ICdnbG9iYWwtb3ZlcmxheS1zcGlubmVyJyxcclxuICAgIGZpeGVkOiAnZ2xvYmFsLWZpeGVkLXNwaW5uZXInLFxyXG4gICAgYnV0dG9uOiAnYnV0dG9uLS1sb2FkJ1xyXG59O1xyXG4vLyBjb25zdCBoYW5kbGViYXJzVHBsID0gZnVuY3Rpb24gKG5hbWUsIGRhdGEsICR0YXJnZXQpIHtcclxuLy8gICAgIC8vIHZhciBodG1sID0gdGhpcy5nZXRUZW1wbGF0ZShuYW1lKShkYXRhKTtcclxuLy8gICAgIHZhciBodG1sID0gSGFuZGxlYmFycy5jb21waWxlKHRlbXBsYXRlKTtcclxuLy9cclxuLy8gICAgIGlmICgkdGFyZ2V0KSB7XHJcbi8vICAgICAgICAgLy9mb3IgcHJldmVudGluZyB4c3NcclxuLy8gICAgICAgICAkdGFyZ2V0WzBdLmlubmVySFRNTCA9IGh0bWw7XHJcbi8vICAgICB9XHJcbi8vXHJcbi8vICAgICByZXR1cm4gaHRtbDtcclxuLy8gfTtcclxuLy8gY29uc3QgaGFuZGxlYmFycyA9IHRoaXMuZ2V0U2VydmljZSgnY29yZS50ZW1wbGF0aW5nLmhhbmRsZWJhcnMnKTtcclxuXHJcbmNsYXNzIFNwaW5uZXIge1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKF9jZmcpIHtcclxuICAgICAgICB0aGlzLmNmZyA9IF9jZmcgfHwge307XHJcbiAgICAgICAgLy8gdGhpcy4kZGVmYXVsdENvbnRhaW5lciA9ICQoJ2JvZHknKTtcclxuICAgICAgICAkLmV4dGVuZChjbGFzc2VzLCB0aGlzLmNmZy5jbGFzc2VzKTtcclxuICAgICAgICAvLyB0aGlzLl9tZWRpYXRvci5zdWJzY3JpYmUoQ09OU1QuZXZlbnRzLlNUT1BfRklYRURfU1BJTk5FUiwgdGhpcy5zdG9wRml4ZWRTcGlubmVyLmJpbmQodGhpcykpO1xyXG4gICAgfVxyXG4gICAgLy8gX21lZGlhdG9yID0gUHViU3ViO1xyXG5cclxuICAgIHN0YXJ0KCRlbCwgcHJld0Nscykge1xyXG4gICAgICAgIC8vIGlmIChhZGRPclJlbW92ZSkge1xyXG4gICAgICAgIC8vICAgICAkKCcjZm9vJykuYWRkQ2xhc3MoY2xhc3NOYW1lKTtcclxuICAgICAgICAvLyB9XHJcbiAgICAgICAgLy8gZWxzZSB7XHJcbiAgICAgICAgLy8gICAgICQoJyNmb28nKS5yZW1vdmVDbGFzcyhjbGFzc05hbWUpO1xyXG4gICAgICAgIC8vIH1cclxuICAgICAgICAkZWwuZmluZCgnaScpLnRvZ2dsZUNsYXNzKHByZXdDbHMpLmFkZENsYXNzKCdmYS1zcGluIGZhLXNwaW5uZXInKTtcclxuICAgIH1cclxuXHJcbiAgICBzdG9wKCRlbCwgbmV3Q2xzKSB7XHJcbiAgICAgICAgJGVsLmZpbmQoJ2knKS50b2dnbGVDbGFzcyhuZXdDbHMpLnJlbW92ZUNsYXNzKCdmYS1zcGluIGZhLXNwaW5uZXInKTtcclxuICAgIH1cclxuXHJcbiAgICBhZGQoJGVsLCBuZXdDbHMpIHtcclxuICAgICAgICB0aGlzLiRlbCA9ICRlbDtcclxuICAgICAgICAkZWwucHJlcGVuZChgPGRpdiBjbGFzcz1cInNwaW5uZXItYm94IGp1c3RpZnktY29udGVudC1jZW50ZXIgJHtuZXdDbHN9XCI+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzcGluLWFuaW1hdGlvblwiPlxyXG4gICAgICAgICAgICAgICAgPHN2ZyBhcmlhLWhpZGRlbj1cInRydWVcIiBkYXRhLXByZWZpeD1cImZhclwiIGRhdGEtaWNvbj1cInN5bmMtYWx0XCIgcm9sZT1cImltZ1wiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB2aWV3Qm94PVwiMCAwIDUxMiA1MTJcIiBjbGFzcz1cInN2Zy1pbmxpbmUtLWZhIGZhLXN5bmMtYWx0IGZhLXctMTYgZmEtZncgZmEtMnhcIj48cGF0aCBmaWxsPVwiY3VycmVudENvbG9yXCIgZD1cIk00ODMuNTE1IDI4LjQ4NUw0MzEuMzUgODAuNjVDMzg2LjQ3NSAzNS43NjcgMzI0LjQ4NSA4IDI1NiA4IDEyMy4yMjggOCAxNC44MjQgMTEyLjMzOCA4LjMxIDI0My40OTMgNy45NzEgMjUwLjMxMSAxMy40NzUgMjU2IDIwLjMwMSAyNTZoMjguMDQ1YzYuMzUzIDAgMTEuNjEzLTQuOTUyIDExLjk3My0xMS4yOTRDNjYuMTYxIDE0MS42NDkgMTUxLjQ1MyA2MCAyNTYgNjBjNTQuMTYzIDAgMTAzLjE1NyAyMS45MjMgMTM4LjYxNCA1Ny4zODZsLTU0LjEyOCA1NC4xMjljLTcuNTYgNy41Ni0yLjIwNiAyMC40ODUgOC40ODUgMjAuNDg1SDQ5MmM2LjYyNyAwIDEyLTUuMzczIDEyLTEyVjM2Ljk3MWMwLTEwLjY5MS0xMi45MjYtMTYuMDQ1LTIwLjQ4NS04LjQ4NnpNNDkxLjY5OSAyNTZoLTI4LjA0NWMtNi4zNTMgMC0xMS42MTMgNC45NTItMTEuOTczIDExLjI5NEM0NDUuODM5IDM3MC4zNTEgMzYwLjU0NyA0NTIgMjU2IDQ1MmMtNTQuMTYzIDAtMTAzLjE1Ny0yMS45MjMtMTM4LjYxNC01Ny4zODZsNTQuMTI4LTU0LjEyOWM3LjU2LTcuNTYgMi4yMDYtMjAuNDg1LTguNDg1LTIwLjQ4NUgyMGMtNi42MjcgMC0xMiA1LjM3My0xMiAxMnYxNDMuMDI5YzAgMTAuNjkxIDEyLjkyNiAxNi4wNDUgMjAuNDg1IDguNDg1TDgwLjY1IDQzMS4zNUMxMjUuNTI1IDQ3Ni4yMzMgMTg3LjUxNiA1MDQgMjU2IDUwNGMxMzIuNzczIDAgMjQxLjE3Ni0xMDQuMzM4IDI0Ny42OS0yMzUuNDkzLjMzOS02LjgxOC01LjE2NS0xMi41MDctMTEuOTkxLTEyLjUwN3pcIiBjbGFzcz1cIlwiPjwvcGF0aD48L3N2Zz5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPC9kaXY+YCk7XHJcbiAgICB9XHJcblxyXG4gICAgcmVtb3ZlKCkge1xyXG4gICAgICAgIGlmICh0aGlzLiRlbCAmJiB0aGlzLiRlbC5sZW5ndGgpIHtcclxuICAgICAgICAgICAgdGhpcy4kZWwuZmluZCgnLnNwaW5uZXItYm94JykucmVtb3ZlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQWRkcyBzcGlubmVyIGljb24gb24gYnV0dG9uIGJlZm9yZSB0aGUgYnV0dG9uIHRleHRcclxuICAgICAqIEBwYXJhbSB7alF1ZXJ5fSAkZWxcclxuICAgICAqL1xyXG4gICAgc3RhcnRCdXR0b25TcGlubmVyID0gZnVuY3Rpb24gKCRlbCwgbmV3Q2xzKSB7XHJcbiAgICAgICAgJGVsLmFkZENsYXNzKGNsYXNzZXMuYnV0dG9uKTtcclxuICAgICAgICBpZiAoJGVsLmZpbmQoJy5zcGlubmVyLWJveC0tYnV0dG9uJykubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgJGVsLnByZXBlbmQoYDxkaXYgY2xhc3M9XCJzcGlubmVyLWJveCBzcGlubmVyLWJveC0tYnV0dG9uIGp1c3RpZnktY29udGVudC1jZW50ZXIgcG9zaXRpb24tcmVsYXRpdmUgcC0wIG0tMCBiZy10cmFuc3BhcmVudCAke25ld0Nsc31cIj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInNwaW4tYW5pbWF0aW9uXCI+XHJcbiAgICAgICAgICAgICAgICA8c3ZnIGFyaWEtaGlkZGVuPVwidHJ1ZVwiIGRhdGEtcHJlZml4PVwiZmFyXCIgZGF0YS1pY29uPVwic3luYy1hbHRcIiByb2xlPVwiaW1nXCIgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiIHZpZXdCb3g9XCIwIDAgNTEyIDUxMlwiIFxyXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzPVwiZmEtZndcIj5cclxuICAgICAgICAgICAgICAgICAgICA8cGF0aCBmaWxsPVwiY3VycmVudENvbG9yXCIgZD1cIk00ODMuNTE1IDI4LjQ4NUw0MzEuMzUgODAuNjVDMzg2LjQ3NSAzNS43NjcgMzI0LjQ4NSA4IDI1NiA4IDEyMy4yMjggOCAxNC44MjQgMTEyLjMzOCA4LjMxIDI0My40OTMgNy45NzEgMjUwLjMxMSAxMy40NzUgMjU2IDIwLjMwMSAyNTZoMjguMDQ1YzYuMzUzIDAgMTEuNjEzLTQuOTUyIDExLjk3My0xMS4yOTRDNjYuMTYxIDE0MS42NDkgMTUxLjQ1MyA2MCAyNTYgNjBjNTQuMTYzIDAgMTAzLjE1NyAyMS45MjMgMTM4LjYxNCA1Ny4zODZsLTU0LjEyOCA1NC4xMjljLTcuNTYgNy41Ni0yLjIwNiAyMC40ODUgOC40ODUgMjAuNDg1SDQ5MmM2LjYyNyAwIDEyLTUuMzczIDEyLTEyVjM2Ljk3MWMwLTEwLjY5MS0xMi45MjYtMTYuMDQ1LTIwLjQ4NS04LjQ4NnpNNDkxLjY5OSAyNTZoLTI4LjA0NWMtNi4zNTMgMC0xMS42MTMgNC45NTItMTEuOTczIDExLjI5NEM0NDUuODM5IDM3MC4zNTEgMzYwLjU0NyA0NTIgMjU2IDQ1MmMtNTQuMTYzIDAtMTAzLjE1Ny0yMS45MjMtMTM4LjYxNC01Ny4zODZsNTQuMTI4LTU0LjEyOWM3LjU2LTcuNTYgMi4yMDYtMjAuNDg1LTguNDg1LTIwLjQ4NUgyMGMtNi42MjcgMC0xMiA1LjM3My0xMiAxMnYxNDMuMDI5YzAgMTAuNjkxIDEyLjkyNiAxNi4wNDUgMjAuNDg1IDguNDg1TDgwLjY1IDQzMS4zNUMxMjUuNTI1IDQ3Ni4yMzMgMTg3LjUxNiA1MDQgMjU2IDUwNGMxMzIuNzczIDAgMjQxLjE3Ni0xMDQuMzM4IDI0Ny42OS0yMzUuNDkzLjMzOS02LjgxOC01LjE2NS0xMi41MDctMTEuOTkxLTEyLjUwN3pcIiBjbGFzcz1cIlwiPjwvcGF0aD48L3N2Zz5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPC9kaXY+YCk7XHJcbiAgICB9XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBSZW1vdmVzIHNwaW5uZXIgaWNvbiBmcm9tIGJ1dHRvblxyXG4gICAgICogQHBhcmFtIHtqUXVlcnl9ICRlbFxyXG4gICAgICovXHJcbiAgICBzdG9wQnV0dG9uU3Bpbm5lciA9IGZ1bmN0aW9uICgkZWwpIHtcclxuICAgICAgICAkZWwucmVtb3ZlQ2xhc3MoY2xhc3Nlcy5idXR0b24pO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogRmluZHMgc3Bpbm5lcnNcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSB0eXBlXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gJGNvbnRhaW5lclxyXG4gICAgICogQHJldHVybiB7P2pRdWVyeX0gc3Bpbm5lcnNcclxuICAgICAqL1xyXG4gICAgLy8gX2ZpbmRTcGlubmVyID0gZnVuY3Rpb24gKHR5cGUsICRjb250YWluZXIpIHtcclxuICAgIC8vICAgICBjb25zdCBzZWxlY3RvciA9ICcuJyArIHR5cGU7XHJcbiAgICAvLyAgICAgbGV0ICRlbCA9IHRoaXMuJGRlZmF1bHRDb250YWluZXI7XHJcbiAgICAvLyAgICAgaWYgKCRjb250YWluZXIpIHtcclxuICAgIC8vICAgICAgICAgJGVsID0gJGNvbnRhaW5lcjtcclxuICAgIC8vICAgICB9XHJcbiAgICAvL1xyXG4gICAgLy8gICAgIGlmICgkZWwuZmluZChzZWxlY3RvcikubGVuZ3RoID4gMCkge1xyXG4gICAgLy8gICAgICAgICByZXR1cm4gJGVsLmZpbmQoc2VsZWN0b3IpO1xyXG4gICAgLy8gICAgIH1cclxuICAgIC8vIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKlxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9ICRlbFxyXG4gICAgICovXHJcbiAgICAvKlxyXG4gICAgc3RhcnRDb250ZW50U3Bpbm5lciA9IGZ1bmN0aW9uICgkZWwpIHtcclxuICAgICAgICBjb25zdCBodG1sID0gaGFuZGxlYmFyc1RwbChcclxuICAgICAgICAgICAgU1BJTk5FUl9CQVNFX1RFTVBBTEFURSwge1xyXG4gICAgICAgICAgICAgICAgaW1nU3JjOiBDVEMuVVJMUy5XQUlUSU5HX0lNQUdFLFxyXG4gICAgICAgICAgICAgICAgJ2NsYXNzJzogY2xhc3Nlcy5vdmVybGF5XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICRlbC5wcmVwZW5kKGh0bWwpO1xyXG4gICAgfTtcclxuXHJcbiAgICBzdGFydElubGluZUNvbnRlbnRTcGlubmVyID0gZnVuY3Rpb24gKCRlbCkge1xyXG4gICAgICAgIGNvbnN0IGh0bWwgPSBoYW5kbGViYXJzVHBsKFxyXG4gICAgICAgICAgICBTUElOTkVSX0JBU0VfVEVNUEFMQVRFLCB7XHJcbiAgICAgICAgICAgICAgICBpbWdTcmM6IENUQy5VUkxTLldBSVRJTkdfSU1BR0UsXHJcbiAgICAgICAgICAgICAgICAnY2xhc3MnOiBjbGFzc2VzLmlubGluZVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAkZWwucHJlcGVuZChodG1sKTtcclxuICAgIH07XHJcbiAgICAqL1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogU3RhcnRzIGdsb2JhbCBmdWxsIHBhZ2UgZml4ZWQgc3Bpbm5lclxyXG4gICAgICovXHJcbiAgICAvKlxyXG4gICAgc3RhcnRGaXhlZFNwaW5uZXIgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgY29uc3Qgc3Bpbm5lcnMgPSB0aGlzLl9maW5kU3Bpbm5lcihjbGFzc2VzLmZpeGVkKTtcclxuICAgICAgICBpZiAoIShDVEMuaXNFZGl0KCkgfHwgQ1RDLmlzRGVzaWduKCkpICYmICFzcGlubmVycykge1xyXG4gICAgICAgICAgICBjb25zdCBodG1sID0gaGFuZGxlYmFyc1RwbChcclxuICAgICAgICAgICAgICAgIFNQSU5ORVJfQkFTRV9URU1QQUxBVEUsIHtcclxuICAgICAgICAgICAgICAgICAgICBpbWdTcmM6IENUQy5VUkxTLldBSVRJTkdfSU1BR0UsXHJcbiAgICAgICAgICAgICAgICAgICAgJ2NsYXNzJzogY2xhc3Nlcy5maXhlZFxyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHRoaXMuJGRlZmF1bHRDb250YWluZXIucHJlcGVuZChodG1sKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgKi9cclxuXHJcbiAgICAvKipcclxuICAgICAqIFN0b3BzIHNwaW5uZXJzXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdHlwZVxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9ICRjb250YWluZXJcclxuICAgICAqL1xyXG4gICAgLy8gX3N0b3BTcGlubmVyID0gZnVuY3Rpb24gKHR5cGUsICRjb250YWluZXIpIHtcclxuICAgIC8vICAgICBjb25zdCBzcGlubmVycyA9IHRoaXMuX2ZpbmRTcGlubmVyKHR5cGUsICRjb250YWluZXIpO1xyXG4gICAgLy8gICAgIGlmIChzcGlubmVycykge1xyXG4gICAgLy8gICAgICAgICBzcGlubmVycy5yZW1vdmUoKTtcclxuICAgIC8vICAgICB9XHJcbiAgICAvLyB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSAkZWxcclxuICAgICAqL1xyXG4gICAgLy8gc3RvcENvbnRlbnRTcGlubmVyID0gZnVuY3Rpb24gKCRlbCkge1xyXG4gICAgLy8gICAgICRlbC5maW5kKCcuJyArIGNsYXNzZXMub3ZlcmxheSkucmVtb3ZlKCk7XHJcbiAgICAvLyB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSAkZWxcclxuICAgICAqL1xyXG4gICAgLy8gc3RvcElubGluZUNvbnRlbnRTcGlubmVyID0gZnVuY3Rpb24gKCRlbCkge1xyXG4gICAgLy8gICAgICRlbC5maW5kKCcuJyArIGNsYXNzZXMuaW5saW5lKS5yZW1vdmUoKTtcclxuICAgIC8vIH07XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBTdG9wcyBnbG9iYWwgZnVsbCBwYWdlIGZpeGVkIHNwaW5uZXJcclxuICAgICAqL1xyXG4gICAgLy8gc3RvcEZpeGVkU3Bpbm5lciA9IGZ1bmN0aW9uICgpIHtcclxuICAgIC8vICAgICB0aGlzLl9zdG9wU3Bpbm5lcihjbGFzc2VzLmZpeGVkKTtcclxuICAgIC8vIH07XHJcbn1cclxuXHJcbmxldCBzcGlubmVySW5zdGFuY2UgPSBudWxsO1xyXG5cclxuaWYgKCFzcGlubmVySW5zdGFuY2UpIHtcclxuICAgIHNwaW5uZXJJbnN0YW5jZSA9IG5ldyBTcGlubmVyKCk7XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IHNwaW5uZXJJbnN0YW5jZTtcclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2NvbW1vbi9qcy1zZXJ2aWNlcy9zcGlubmVyLmpzIiwiLy8gaW1wb3J0IHtDT05TVH0gZnJvbSAnLi9jb25zdHMnO1xyXG5cclxuZnVuY3Rpb24gZHJvcERvd24oKSB7XHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBjZmcgPXsgbG9nc1N0YXRlLCBjYkZOKCkgfVxyXG4gICAgICovXHJcbiAgICBmdW5jdGlvbiBhZGREcm9wZG93bigkd3JhcHBlciwgaXRlbXMsIGNmZykge1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCdhZGREcm9wZG93bicpO1xyXG4gICAgICAgIGNvbnN0IHt0ZXh0UnVzQXJyYXksIGxvZ3NTdGF0ZX0gPSBjZmc7XHJcbiAgICAgICAgY29uc3Qge3NlbGVjdENsc0xvZ3NUYXNrVHlwZX0gPSBsb2dzU3RhdGU7XHJcbiAgICAgICAgY29uc3QgZ2V0UnVzID0gKGlkeCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBpc1RleHRSdXNBcnJheSA9IHRleHRSdXNBcnJheSAmJiAhIXRleHRSdXNBcnJheS5sZW5ndGg7XHJcbiAgICAgICAgICAgIHN3aXRjaCAoaWR4KSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDAgOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAoaXNUZXh0UnVzQXJyYXkpID8gdGV4dFJ1c0FycmF5W2lkeF0gOiAn0J/QviDRgdC/0LjRgdC60YMnO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAxIDpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKGlzVGV4dFJ1c0FycmF5KSA/IHRleHRSdXNBcnJheVtpZHhdIDogJ9Cf0L4g0LDQutGC0LjQstC90L7QuSDQsNGD0LTQuNGC0L7RgNC40Lgg0LrQvtC90LrRg9GA0LXQvdGC0L7Qsic7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDIgOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAoaXNUZXh0UnVzQXJyYXkpID8gdGV4dFJ1c0FycmF5W2lkeF0gOiAnZGVmYXVsdCAtICgzKSc7XHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0OiByZXR1cm4gJ2RlZmF1bHQnO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICBjb25zdCBsYWJlbCA9ICfQktGL0LHQtdGA0LjRgtC1INGC0LjQvyc7XHJcbiAgICAgICAgJHdyYXBwZXIuZW1wdHkoKS5hZGRDbGFzcygnYm9yZGVyLWxpZ2h0LWNvbG9yJyk7XHJcbiAgICAgICAgJChgPGRpdiBjbGFzcz1cIlwiPiR7bGFiZWx9PC9kaXY+PHNlbGVjdCBuYW1lPVwidGFzay1zdWJ0eXBlXCIgY2xhc3M9XCIke3NlbGVjdENsc0xvZ3NUYXNrVHlwZX1cIj48L3NlbGVjdD5gKS5hcHBlbmRUbygkd3JhcHBlcik7XHJcbiAgICAgICAgaWYgKCFpdGVtcy5sZW5ndGgpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICAkKCc8b3B0aW9uIGNsYXNzPVwibGlzdC1ncm91cC1pdGVtIHB5LTIganNfZW1wdHktc3VidHlwZVwiIHZhbHVlPVwiLS0tXCI+LS0tPC9vcHRpb24+JykuYXBwZW5kVG8oJChgLiR7c2VsZWN0Q2xzTG9nc1Rhc2tUeXBlfWApKTtcclxuICAgICAgICBpdGVtcy5mb3JFYWNoKChuYW1lLCBpZHgpID0+IHtcclxuICAgICAgICAgICAgJChgPG9wdGlvbiBjbGFzcz1cImxpc3QtZ3JvdXAtaXRlbSBweS0yXCIgdmFsdWU9XCIke25hbWV9XCI+XHJcbiAgICAgICAgICAgICAgICAke2dldFJ1cyhpZHgpfVxyXG4gICAgICAgICAgICA8L29wdGlvbj5gKS5hcHBlbmRUbygkKGAuJHtzZWxlY3RDbHNMb2dzVGFza1R5cGV9YCkpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgICQoYC4ke3NlbGVjdENsc0xvZ3NUYXNrVHlwZX1gKS5vbignY2hhbmdlJywgZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICAgICAgY2ZnLmRyb3Bkb3duT25TZWxlY3RDYihlKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIGFkZERyb3Bkb3duXHJcbiAgICB9O1xyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBkcm9wRG93bigpO1xyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvYmxvY2tzL19zaGFyZWQvZHJvcGRvd24vZHJvcGRvd24uanMiLCJpbXBvcnQge0NPTlNUfSBmcm9tICcuLi8uLi8uLi9jb21tb24vanMtc2VydmljZXMvY29uc3RzJztcclxuaW1wb3J0IHtnZXRUYXNrc0RhdGF9IGZyb20gJy4uLy4uL19zaGFyZWQvdGFzay1zdGF0dXMvdGFzay1zdGF0dXMnO1xyXG4vLyBpbXBvcnQgdmlld1V0aWxzIGZyb20gJy4uLy4uLy4uL2NvbW1vbi9qcy1zZXJ2aWNlcy92aWV3JztcclxuaW1wb3J0IGRyb3BEb3duIGZyb20gJy4uLy4uL19zaGFyZWQvZHJvcGRvd24vZHJvcGRvd24nO1xyXG5cclxubGV0IHBhdGggPSB7XHJcbiAgICB0eXBlOiAnJyxcclxuICAgIHN1YnR5cGU6ICcnXHJcbn07XHJcbmNvbnN0IHdyYXBwZXJzID0ge1xyXG4gICAgJGFsbDogJCgnLnRhc2tzLWFsbCcpLFxyXG4gICAgJHN0b3BwZWQ6ICQoJy50YXNrcy1zdG9wcGVkJylcclxufTtcclxuY29uc3QgbG9nc1N0YXRlU3RhdHVzID0ge1xyXG4gICAgd3JhcHBlclN1YnR5cGU6ICQoJy5zdWJ0eXBlLS1ib3gnKVxyXG59O1xyXG5cclxuZnVuY3Rpb24gZHJvcGRvd25PblNlbGVjdENiKGUpIHtcclxuICAgIC8vIGNvbnN0IHtzZWxlY3RDbHNMb2dzVGFza1R5cGV9ID0gbG9nc1N0YXRlO1xyXG4gICAgY29uc3Qgc3VidHlwZSA9ICQoZS50YXJnZXQpLmZpbmQoJ29wdGlvbjpzZWxlY3RlZCcpLnZhbCgpO1xyXG4gICAgY29uc3QgcGF0aFVwZGF0ZWQgPSB7Li4ucGF0aCwgc3VidHlwZX07XHJcbiAgICAkKCcuanNfbG9ncy1jb250YWluZXInKS5hZGRDbGFzcygnZC1ibG9jaycpO1xyXG4gICAgJCgnb3B0aW9uLmpzX2VtcHR5LXN1YnR5cGUnKS5yZW1vdmUoKTtcclxuICAgIGdldFRhc2tzRGF0YSh3cmFwcGVycywgcGF0aFVwZGF0ZWQpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaW5pdCh7aXNJbkNvcnJlY3RQYWdlLCBpbml0aWFsUGF0aCwgdGV4dFJ1c0FycmF5fSkge1xyXG4gICAgaWYgKCFpc0luQ29ycmVjdFBhZ2UpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBwYXRoID0ge1xyXG4gICAgICAgIHR5cGU6IGluaXRpYWxQYXRoLnR5cGUsXHJcbiAgICAgICAgc3VidHlwZTogaW5pdGlhbFBhdGguc3VidHlwZVxyXG4gICAgfTtcclxuXHJcbiAgICAvLyB0b2RvOiBtZXJnZSB3aXRoIHZpZXdVdGlscy5qcyBEcm9wZG93blxyXG4gICAgZHJvcERvd24uYWRkRHJvcGRvd24oXHJcbiAgICAgICAgbG9nc1N0YXRlU3RhdHVzLndyYXBwZXJTdWJ0eXBlLFxyXG4gICAgICAgIGluaXRpYWxQYXRoLnN1YnR5cGVzLFxyXG4gICAgICAgIHtsb2dzU3RhdGU6IGxvZ3NTdGF0ZVN0YXR1cywgZHJvcGRvd25PblNlbGVjdENiLCB0ZXh0UnVzQXJyYXl9XHJcbiAgICApO1xyXG5cclxuICAgIC8vIGdldFRhc2tzRGF0YSh3cmFwcGVycywgcGF0aCk7XHJcbiAgICB3aW5kb3cuUHViU3ViLnN1YnNjcmliZShDT05TVC5ldmVudHMudGFza3MuTkVXX1RBU0tfQ1JFQVRFRCwgKGV2ZW50TmFtZSwgZGF0YSkgPT4ge1xyXG4gICAgICAgIGdldFRhc2tzRGF0YSh3cmFwcGVycywgcGF0aCk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2Jsb2Nrcy9fc2hhcmVkL3Rhc2stc3RhdHVzL3Rhc2stc3RhdHVzLWJ5LXN1YnR5cGUuanMiLCJpbXBvcnQgVXNlciBmcm9tICcuLi8uLi9jb21tb24vanMtc2VydmljZXMvdXNlcic7XHJcbi8vIGltcG9ydCBTcGlubmVyIGZyb20gJy4uLy4uL2NvbW1vbi9qcy1zZXJ2aWNlcy9zcGlubmVyJztcclxuLy8gaW1wb3J0IFB1YlN1YiBmcm9tICdwdWJzdWItanMnO1xyXG5pbXBvcnQgdmlld1V0aWxzIGZyb20gJy4uLy4uL2NvbW1vbi9qcy1zZXJ2aWNlcy92aWV3JztcclxuaW1wb3J0IHtDT05TVH0gZnJvbSAnLi4vLi4vY29tbW9uL2pzLXNlcnZpY2VzL2NvbnN0cyc7XHJcbmltcG9ydCB7c2V0dGluZ0J1dHRvbnNIYW5kbGVyfSBmcm9tICcuL2FjY291bnRzLWxpc3QtYnRuLXNldHRpbmdzJztcclxuXHJcbmNvbnN0IEluc3RhZ3JhbUFjY1BhZ2VDbHMgPSAnLmluc3RhZ3JhbS1hY2NvdW50cy1wYWdlJztcclxuY29uc3QgaXNJbnN0YWdyYW1BY2NQYWdlID0gJChJbnN0YWdyYW1BY2NQYWdlQ2xzKS5sZW5ndGg7XHJcbmNvbnN0ICRtc2dMaXN0ID0gJCgnLmFjY291bnRzLWxpc3QnKTtcclxuY29uc3QgSU5TVEFHUkFNX0FDQ09VTlRTX0hSRUYgPSAnaW5zdGFncmFtLWFjY291bnRzJztcclxuXHJcbmZ1bmN0aW9uIGFkZExpc3RIYW5kbGVyKCkge1xyXG4gICAgbGV0IGNoZWNrcG9pbnRUeXBlID0gJyc7XHJcblxyXG4gICAgJCgnLmpzX3Bhc3MtY2hlY2twb2ludC1idG4nKS5vbignY2xpY2snLCAoZSkgPT4ge1xyXG4gICAgICAgIGNvbnN0ICRidXR0b24gPSAkKGUudGFyZ2V0KTtcclxuICAgICAgICBjb25zdCB1c2VybmFtZSA9ICRidXR0b24uZGF0YSgndXNlcm5hbWUnKTtcclxuICAgICAgICBjaGVja3BvaW50VHlwZSA9ICRidXR0b24uZGF0YSgnY2hlY2twb2ludFR5cGUnKSB8fCBjaGVja3BvaW50VHlwZTtcclxuICAgICAgICAvLyAkKCcjc2VjdXJpdHktY29kZScpLmRhdGEoJ2NoZWNrcG9pbnRUeXBlJywgY2hlY2twb2ludFR5cGUpO1xyXG4gICAgICAgIC8vIHRvZG8gYWRkICdjaGVja3BvaW50VHlwZScgdG8gbW9kYWxcclxuICAgICAgICBjb25zdCBzZW5kVG8gPSAoY2hlY2twb2ludFR5cGUgPT09ICdQSE9ORScpID8gJ9GC0LXQu9C10YTQvtC9JyA6ICdlbWFpbCc7XHJcbiAgICAgICAgLy8gU3Bpbm5lci5zdGFydCgkYnV0dG9uLCAnZmEta2V5Jyk7XHJcblxyXG4gICAgICAgIGlmIChjaGVja3BvaW50VHlwZSA9PT0gJ0VNQUlMX09SX1BIT05FJykge1xyXG4gICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG5cclxuICAgICAgICAgICAgLy8g0LjQvdC/0YPRgtGLINGB0L/RgNGP0YLQsNC90YssXHJcbiAgICAgICAgICAgIC8vINC/0L7QutCw0LfQsNGC0Ywg0YHQtdGA0YvQtSDQv9C10YDQtdC60LvRjtGH0LDRgtC10LvQuCAo0LLRi9Cx0YDQsNC7INGC0LjQvylcclxuICAgICAgICAgICAgLy8g0LXRgdGC0Ywg0LrQvdC+0L/QutCwINCX0LDQv9GA0L7RgdC40YLRjCDQutC+0LQg0L/QvtC00YLQstC10YDQttC00LXQvdC40LVcclxuICAgICAgICAgICAgJCgnI3NlY3VyaXR5LWNvZGUtcGhvbmVPcmVtYWlsJykubW9kYWwoe3Nob3c6IHRydWUsIHVzZXJuYW1lfSk7XHJcblxyXG4gICAgICAgICAgICAvLyDQvdC1INC+0YLQv9GA0LDQstC70Y/QtdC8INGA0LXQutCy0LXRgdGCXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIFVzZXIuZ2V0U2VjdXJpdHlLZXkodXNlcm5hbWUsIGNoZWNrcG9pbnRUeXBlKS50aGVuKChyZXN1bHQpID0+IHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ1NlY3VyaXR5S2V5IHJlY2VpdmVkOicsIHJlc3VsdC5zdGF0dXMuc3RhdGUpO1xyXG4gICAgICAgICAgICBpZiAocmVzdWx0LnN0YXR1cy5zdGF0ZSA9PT0gJ29rJykge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgJG1vZGFsID0gJCgnI3NlY3VyaXR5LWNvZGUnKTtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBTcGlubmVyLnN0b3AoJGJ1dHRvbiwgJ2ZhLWtleScpO1xyXG4gICAgICAgICAgICAgICAgJCgnLmpzX3N1Y2Nlc3MtZmVlZGJhY2snLCAkbW9kYWwpLmVtcHR5KCkudGV4dChg0JrQu9GO0Ycg0L/QvtC00YLQstC10YDQttC00LXQvdC40Y8g0LHRi9C7INC+0YLQv9GA0LDQstC70LXQvSDQktCw0Lwg0L3QsCAke3NlbmRUb31gKTtcclxuXHJcbiAgICAgICAgICAgICAgICAkKCcjc2VjdXJpdHktY29kZScpLmF0dHIoJ2RhdGEtdXNlcm5hbWUnLCB1c2VybmFtZSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH0pO1xyXG5cclxuICAgIC8vIGluc2lkZSBtb2RhbFxyXG4gICAgJCgnLmpzX2NvbmZpcm0tc2VjdXJpdHktY29kZScpLm9uKCdjbGljaycsIChlKSA9PiB7XHJcbiAgICAgICAgY29uc3QgYnRuID0gJChlLnRhcmdldCk7XHJcbiAgICAgICAgY29uc3QgdXNlcm5hbWUgPSBidG4uY2xvc2VzdCgnI3NlY3VyaXR5LWNvZGUnKS5kYXRhKCd1c2VybmFtZScpO1xyXG4gICAgICAgIGNvbnN0ICRrZXlJbnB1dCA9IGJ0bi5jbG9zZXN0KCcubW9kYWwnKS5maW5kKCcubW9kYWwtZGlhbG9nIGZvcm0gaW5wdXQuanNfY29uZmlybS1rZXknKTtcclxuICAgICAgICBjb25zdCBrZXkgPSAka2V5SW5wdXQudmFsKCkudHJpbSgpO1xyXG4gICAgICAgIGNvbnN0ICRtb2RhbCA9IGJ0bi5jbG9zZXN0KCcubW9kYWwnKTtcclxuICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG5cclxuICAgICAgICBpZiAoa2V5Lmxlbmd0aCAhPT0gNikge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFVzZXIuY29uZmlybVNlY3VyaXR5S2V5KGtleSwgdXNlcm5hbWUpLnRoZW4oKHJlc3VsdCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAocmVzdWx0LnN0YXR1cy5zdGF0ZSAhPT0gJ29rJykge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdqc19jb25maXJtOicsIHJlc3VsdC5zdGF0dXMuc3RhdGUsICdjbG9zZSBtb2RhbCcpO1xyXG4gICAgICAgICAgICAkbW9kYWwubW9kYWwoJ2hpZGUnKTtcclxuICAgICAgICB9KS5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdlcnInKTtcclxuICAgICAgICAgICAgJCgnLmpzX3N1Y2Nlc3MtZmVlZGJhY2snLCAkbW9kYWwpLnRleHQoJ9CX0LDQv9GA0L7RgSDQvdC1INC+0YLQv9GA0LDQstC70LXQvScpLmNzcygnY29sb3InLCAncmVkJyk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGVycik7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAkKCdmb3JtIGlucHV0W21pbmxlbmd0aF0nKS5vbignYmx1cicsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBjb25zdCBsZW4gPSAkKHRoaXMpLnZhbCgpLnRyaW0oKS5sZW5ndGg7XHJcbiAgICAgICAgY29uc3QgbWluTGVuID0gTnVtYmVyKCQodGhpcykuYXR0cignbWlubGVuZ3RoJykpO1xyXG4gICAgICAgIC8vIGNvbnN0IG1lc3NhZ2UgPSBtaW5MZW4gPD0gbGVuID8gJycgOiBtaW5MZW4gKyAnIGNoYXJhY3RlcnMgbWluaW11bSc7XHJcbiAgICAgICAgaWYgKG1pbkxlbiAhPT0gbGVuKSB7XHJcbiAgICAgICAgICAgICQodGhpcykuY3NzKCdib3JkZXJDb2xvcicsICdyZWQnKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAkKHRoaXMpLmNzcygnYm9yZGVyQ29sb3InLCAnI2NlZDRkYScpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyB0aGlzLnNldEN1c3RvbVZhbGlkaXR5KG1lc3NhZ2UpXHJcbiAgICB9KTtcclxuXHJcbiAgICBmdW5jdGlvbiBvbkhpZGVNb2RhbChlKSB7XHJcbiAgICAgICAgY29uc3QgJG1vZGFsID0gJChlLnRhcmdldCk7XHJcbiAgICAgICAgJG1vZGFsLmZpbmQoJy5maXJzdC1zdGVwJykucmVtb3ZlQ2xhc3MoJ2Qtbm9uZScpO1xyXG4gICAgICAgICRtb2RhbC5maW5kKCcuc2Vjb25kLXN0ZXAnKS5hZGRDbGFzcygnZC1ub25lJyk7XHJcbiAgICAgICAgJCgnLmpzX2NvbmZpcm0ta2V5JykudmFsKCcnKTtcclxuICAgICAgICAkKCcuanNfc3VjY2Vzcy1mZWVkYmFjaycsICRtb2RhbCkucmVtb3ZlQXR0cignc3R5bGUnKS5lbXB0eSgpO1xyXG4gICAgfVxyXG4gICAgJCgnI3NlY3VyaXR5LWNvZGUtcGhvbmVPcmVtYWlsJykub24oJ2hpZGUuYnMubW9kYWwnLCBvbkhpZGVNb2RhbCk7XHJcbiAgICAkKCcjc2VjdXJpdHktY29kZScpLm9uKCdoaWRlLmJzLm1vZGFsJywgb25IaWRlTW9kYWwpO1xyXG5cclxuICAgIC8vIFwiUEhPTkVfT1JfRU1BSUxcIiBtb2RhbFxyXG4gICAgJCgnLmpzX2dldC1zZWN1cml0eS1jb2RlLXBob25lT3JlbWFpbCcpLm9uKCdjbGljaycsIChlKSA9PiB7XHJcbiAgICAgICAgY29uc3QgJG1vZGFsID0gJCgnI3NlY3VyaXR5LWNvZGUtcGhvbmVPcmVtYWlsJyk7XHJcbiAgICAgICAgY29uc3QgdHlwZVNlbGVjdGVkID0gJChlLnRhcmdldCkuY2xvc2VzdCgkbW9kYWwpLmZpbmQoJy5qc19idG4tdHlwZS1zd2l0Y2hlciBpbnB1dDpjaGVja2VkJyk7XHJcbiAgICAgICAgY29uc3QgY2hlY2twb2ludFR5cGVBY3RpdmUgPSB0eXBlU2VsZWN0ZWQudmFsKCk7XHJcbiAgICAgICAgY29uc3Qgc2VuZFRvID0gKGNoZWNrcG9pbnRUeXBlQWN0aXZlID09PSAnUEhPTkUnKSA/ICfRgtC10LvQtdGE0L7QvScgOiAnZW1haWwnO1xyXG4gICAgICAgIGNvbnN0IG1vZGFsQ29uZmlnID0gJG1vZGFsLmRhdGEoKVsnYnMubW9kYWwnXS5fY29uZmlnO1xyXG4gICAgICAgIGNvbnN0IHVzZXJuYW1lID0gbW9kYWxDb25maWcudXNlcm5hbWU7XHJcbiAgICAgICAgVXNlci5nZXRTZWN1cml0eUtleSh1c2VybmFtZSwgY2hlY2twb2ludFR5cGVBY3RpdmUpLnRoZW4oKHJlc3VsdCkgPT4ge1xyXG4gICAgICAgICAgICAvLyDQv9GA0Lgg0L3QsNC20LDRgtC40LggXCLQl9Cw0L/RgNC+0YHQuNGC0Ywg0LrQvtC0INC/0L7QtNGC0LLQtdGA0LbQtNC10L3QuNC1XCIgLSDQvtGC0L/QsNGA0LvRj9C10YLRgdGPINGA0LXQutCy0LXRgdGCIFwi0YHRgtCw0YDRgiDRh9C10LrQv9C+0LjQvdGCXCIg0L/QvtGP0LLQu9GP0LXRgtGM0YHRjyDQuNC90L/Rg9GCINC4INC60L3QvtC/0LrQsCDQtNGA0YPQs9C40YUg0YLQuNC/0LDRhVxyXG4gICAgICAgICAgICAvLyBnZXQgc2VsZWN0ZWQgYnV0dG9uXHJcblxyXG4gICAgICAgICAgICAvLyDQv9C10YDQtdC60LvRjtGH0LDRgtC10LvRjCjRgdC10YDRi9C5KSDQuCDQutC90L7Qv9C60LAgXCLQl9Cw0L/RgNC+0YHQuNGC0Ywg0LrQvtC0INC/0L7QtNGC0LLQtdGA0LbQtNC10L3QuNC1XCIg0LjRgdGH0LXQt9Cw0Y7RglxyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnU2VjdXJpdHlLZXkgcmVjZWl2ZWQ6JywgcmVzdWx0LnN0YXR1cy5zdGF0ZSk7XHJcbiAgICAgICAgICAgIGlmIChyZXN1bHQuc3RhdHVzLnN0YXRlID09PSAnb2snKSB7XHJcbiAgICAgICAgICAgICAgICAkKCcuZmlyc3Qtc3RlcCcsICRtb2RhbCkuYWRkQ2xhc3MoJ2Qtbm9uZScpO1xyXG4gICAgICAgICAgICAgICAgJCgnLnNlY29uZC1zdGVwJywgJG1vZGFsKS5yZW1vdmVDbGFzcygnZC1ub25lJyk7XHJcbiAgICAgICAgICAgICAgICAkKCcuanNfc3VjY2Vzcy1mZWVkYmFjaycsICRtb2RhbCkuZW1wdHkoKS50ZXh0KGDQmtC70Y7RhyDQv9C+0LTRgtCy0LXRgNC20LTQtdC90LjRjyDQsdGL0Lsg0L7RgtC/0YDQsNCy0LvQtdC9INCS0LDQvCDQvdCwICR7c2VuZFRvfWApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuY29uc3QgaW5zZXJ0SXRlbSA9IChkYXRhLCB0ZXh0LCBjc3NDbHMpID0+IHtcclxuICAgIGNvbnN0IGxpVHBsID0gYCR7KGRhdGEpXHJcbiAgICAgICAgPyBgPGxpIGNsYXNzPVwibGlzdC1pbmxpbmUtaXRlbSAke2Nzc0Nsc31cIj48c3BhbiBjbGFzcz1cImZpZ3VyZVwiPiR7ZGF0YX08L3NwYW4+PHNwYW4+JHt0ZXh0fTwvc3Bhbj48L2xpPmBcclxuICAgICAgICA6IGA8bGkgY2xhc3M9XCJsaXN0LWlubGluZS1pdGVtICR7Y3NzQ2xzfVwiPjxzcGFuIGNsYXNzPVwiZmlndXJlXCI+MDwvc3Bhbj48c3Bhbj4ke3RleHR9PC9zcGFuPjwvbGk+YH1gO1xyXG4gICAgcmV0dXJuIGxpVHBsO1xyXG59O1xyXG5cclxuY29uc3Qgc3RhdHMgPSAoaW5mbykgPT4ge1xyXG4gICAgY29uc3QgdHBsID0gYDxkaXYgY2xhc3M9XCJjb2xcIj5cclxuICAgICAgICA8dWwgY2xhc3M9XCJsaXN0LWlubGluZSB0ZXh0LWNlbnRlciBjb3VudHMtbGlzdFwiPlxyXG4gICAgICAgICR7KGluZm8pXHJcbiAgICAgICAgICA/IGAke2luc2VydEl0ZW0oaW5mb1snbWVkaWFfY291bnQnXSwgJ9Cf0YPQsdC70LjQutCw0YbQuNC4JywgJ21lZGlhLWNvdW50Jyl9XHJcbiAgICAgICAgICAgICR7aW5zZXJ0SXRlbShpbmZvWydmb2xsb3dlcl9jb3VudCddLCAn0J/QvtC00L/QuNGB0YfQuNC60LgnLCAnZm9sbG93ZXItY291bnQnKX1cclxuICAgICAgICAgICAgJHtpbnNlcnRJdGVtKGluZm9bJ2ZvbGxvd2luZ19jb3VudCddLCAn0J/QvtC00L/QuNGB0LrQuCcsICdmb2xsb3dpbmctY291bnQnKX1gXHJcbiAgICAgICAgICA6IGAke2luc2VydEl0ZW0oZmFsc2UsICfQn9GD0LHQu9C40LrQsNGG0LjQuCcsICdtZWRpYS1jb3VudCcpfVxyXG4gICAgICAgICAgICAke2luc2VydEl0ZW0oZmFsc2UsICfQn9C+0LTQv9C40YHRh9C40LrQuCcsICdmb2xsb3dlci1jb3VudCcpfVxyXG4gICAgICAgICAgICAke2luc2VydEl0ZW0oZmFsc2UsICfQn9C+0LTQv9C40YHQutC4JywgJ2ZvbGxvd2luZy1jb3VudCcpfWBcclxuICAgICAgICB9XHJcbiAgICAgICAgPC91bD5cclxuICAgIDwvZGl2PmA7XHJcbiAgICByZXR1cm4gdHBsO1xyXG59O1xyXG5cclxuY29uc3QgY2hlY2tQb2ludFRleHQgPSAoY2hlY2twb2ludCwgaXRlbSkgPT4ge1xyXG4gICAgaWYgKGNoZWNrcG9pbnQuc3RhdHVzID09PSAnVFJJR0dFUkVEJykge1xyXG4gICAgICAgIHJldHVybiBgPGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tb3V0bGluZS1zZWNvbmRhcnkganNfcGFzcy1jaGVja3BvaW50LWJ0biBkLWJsb2NrIG14LWF1dG9cIiBcclxuICAgICAgICAgICAgZGF0YS1jaGVja3BvaW50LXR5cGU9XCIke2NoZWNrcG9pbnQudHlwZSB8fCAnRU1BSUwnfVwiXHJcbiAgICAgICAgICAgIGRhdGEtdXNlcm5hbWU9XCIke2l0ZW0udXNlcm5hbWUgfHwgJyd9XCJcclxuICAgICAgICAgICAgZGF0YS10b2dnbGU9XCJtb2RhbFwiIGRhdGEtdGFyZ2V0PVwiI3NlY3VyaXR5LWNvZGVcIj5cclxuICAgICAgICAgICAgPGkgY2xhc3M9XCJmYXMgZmEta2V5XCI+PC9pPtCf0YDQvtC50YLQuCDRh9C10LrQv9C+0LjQvdGCPC9idXR0b24+YDtcclxuICAgIH0gZWxzZSBpZiAoaXRlbS5zdGF0dXMgPT09ICdGQUlMJykge1xyXG4gICAgICAgIHJldHVybiAnPHNwYW4gY2xhc3M9XCJ0ZXh0LWRhbmdlclwiPtCe0YjQuNCx0LrQsCDQv9GA0Lgg0LTQvtCx0LDQstC70LXQvdC40Lg8L3NwYW4+JztcclxuICAgIH1cclxufTtcclxuXHJcbmNvbnN0IGFkZFNldHRpbmdCdG4gPSAoYWNjb3VudCkgPT4ge1xyXG4gICAgY29uc3Qge3VzZXJuYW1lID0gJycsXHJcbiAgICAgICAgaW5mbzoge25hbWUgPSAnJywgZW1haWwgPSAnJywgdXJsID0gJycsIGJpb2dyYXBoeSA9ICcnLCBwcm9maWxlX3BpY191cmwgPSAnJywgZm9sbG93ZXJfY291bnQsIGZvbGxvd2luZ19jb3VudCwgbWVkaWFfY291bnQsIGlzX2J1c2luZXNzLCBpc19wcml2YXRlfVxyXG4gICAgfSA9IGFjY291bnQ7XHJcbiAgICBpZiAoaXNJbnN0YWdyYW1BY2NQYWdlIHx8IHdpbmRvdy5sb2NhdGlvbi5ocmVmLmluY2x1ZGVzKElOU1RBR1JBTV9BQ0NPVU5UU19IUkVGKSkge1xyXG4gICAgICAgIHJldHVybiBgPGRpdiBjbGFzcz1cImFjY291bnQtc2V0dGluZyBjb2wtMSBkLWZsZXggZmxleC1jb2x1bW5cIj5cclxuICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tb3V0bGluZS1zdWNjZXNzIHAtMSBtYi0xIGpzX2FjYy1lZGl0XCIgXHJcbiAgICAgICAgICAgICAgICBkYXRhLXVzZXJuYW1lPVwiJHt1c2VybmFtZX1cIlxyXG4gICAgICAgICAgICAgICAgZGF0YS1uYW1lPVwiJHtuYW1lfVwiXHJcbiAgICAgICAgICAgICAgICBkYXRhLWVtYWlsPVwiJHtlbWFpbH1cIlxyXG4gICAgICAgICAgICAgICAgZGF0YS11cmw9XCIke3VybH1cIlxyXG4gICAgICAgICAgICAgICAgZGF0YS1iaW9ncmFwaHk9XCIke2Jpb2dyYXBoeX1cIlxyXG4gICAgICAgICAgICAgICAgZGF0YS1pbWc9XCIke3Byb2ZpbGVfcGljX3VybH1cIlxyXG4gICAgICAgICAgICAgICAgZGF0YS1mb2xsb3dlcl9jb3VudD1cIiR7Zm9sbG93ZXJfY291bnR9XCJcclxuICAgICAgICAgICAgICAgIGRhdGEtZm9sbG93aW5nX2NvdW50PVwiJHtmb2xsb3dpbmdfY291bnR9XCJcclxuICAgICAgICAgICAgICAgIGRhdGEtbWVkaWFfY291bnQ9XCIke21lZGlhX2NvdW50fVwiXHJcbiAgICAgICAgICAgICAgICBkYXRhLWlzX2J1c2luZXNzPVwiJHtpc19idXNpbmVzc31cIlxyXG4gICAgICAgICAgICAgICAgZGF0YS1pc19wcml2YXRlPVwiJHtpc19wcml2YXRlfVwiXHJcbiAgICAgICAgICAgID48aSBjbGFzcz1cImZhcyBmYS1wZW4gbS0wXCI+PC9pPjwvYnV0dG9uPlxyXG4gICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi1vdXRsaW5lLXNlY29uZGFyeSBwLTEgbWItMSBqc19hY2MtcmVmcmVzaFwiIGRhdGEtdXNlcm5hbWU9XCIke3VzZXJuYW1lfVwiPjxpIGNsYXNzPVwiZmFzIGZhLXJldHdlZXQgbS0wXCI+PC9pPjwvYnV0dG9uPlxyXG4gICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi1vdXRsaW5lLWRhbmdlciBwLTEganNfYWNjLWRlbGV0ZVwiIGRhdGEtdXNlcm5hbWU9XCIke3VzZXJuYW1lfVwiPjxpIGNsYXNzPVwiZmFzIGZhLXRyYXNoIG0tMFwiPjwvaT48L2J1dHRvbj5cclxuICAgICAgICA8L2Rpdj5gO1xyXG4gICAgfVxyXG59O1xyXG5cclxuZXhwb3J0IGNvbnN0IHJlbmRlckl0ZW0gPSAoaXRlbSwgY0xpc3QsIF9kZWZhdWx0QXZhdGFyU3JjKSA9PiB7XHJcbiAgICBjb25zdCBpbmZvID0gaXRlbS5pbmZvO1xyXG4gICAgY29uc3QgY2hlY2twb2ludCA9IGl0ZW0uY2hlY2twb2ludCB8fCBpdGVtO1xyXG4gICAgY29uc3QgZGVmYXVsdEF2YXRhclNyYyA9IF9kZWZhdWx0QXZhdGFyU3JjIHx8IENPTlNULnVzZXIuZGVmYXVsQXZhdGFyO1xyXG4gICAgaWYgKCFpbmZvKSB7XHJcbiAgICAgICAgcmV0dXJuICQoYDxsaSBjbGFzcz1cIm1lZGlhIHB5LTNcIiBkYXRhLXVzZXJuYW1lPVwiJHtpdGVtLnVzZXJuYW1lfVwiPlxyXG4gICAgICAgICAgICA8aW1nIGNsYXNzPVwibWwtMyByb3VuZGVkXCIgYWx0PVwiZGVmYXVsdCBhdmF0YXJcIiBzcmM9XCIke2RlZmF1bHRBdmF0YXJTcmN9XCI+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtZWRpYS1ib2R5IGQtZmxleFwiPlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbCB1c2VyLWluZm9cIj5cclxuICAgICAgICAgICAgICAgICAgICAkeyhpdGVtLnVzZXJuYW1lKSA/IGA8aDQgY2xhc3M9XCJtdC0wIG1iLTEgbmFtZVwiPiR7aXRlbS51c2VybmFtZX08L2g0PmAgOiAnJ31cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbCB1c2VyLWNoZWNrcG9pbnRcIj5cclxuICAgICAgICAgICAgICAgICAgICAke2NoZWNrUG9pbnRUZXh0KGNoZWNrcG9pbnQsIGl0ZW0pfVxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAke3N0YXRzKCl9XHJcbiAgICAgICAgICAgICAgICAke2FkZFNldHRpbmdCdG4oaXRlbSkgfHwgJyd9XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvbGk+YCkuYXBwZW5kVG8oY0xpc3QpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICByZXR1cm4gJChgPGxpIGNsYXNzPVwibWVkaWEgcHktM1wiIGRhdGEtdXNlcm5hbWU9XCIke2l0ZW0udXNlcm5hbWV9XCI+XHJcbiAgICAgICAgJHsoaW5mb1sncHJvZmlsZV9waWNfdXJsJ10pXHJcbiAgICAgICAgICAgID8gYDxpbWcgY2xhc3M9XCJtbC0zIHJvdW5kZWRcIiBhbHQ9XCJVc2VyIHBob3RvXCIgc3JjPVwiJHtpbmZvWydwcm9maWxlX3BpY191cmwnXX1cIj5gXHJcbiAgICAgICAgICAgIDogYDxpbWcgY2xhc3M9XCJtbC0zIHJvdW5kZWRcIiBhbHQ9XCJkZWZhdWx0IGF2YXRhclwiIHNyYz1cIiR7ZGVmYXVsdEF2YXRhclNyY31cIj5gfVxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJtZWRpYS1ib2R5IGQtZmxleFwiPlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sIHVzZXItaW5mb1wiPlxyXG4gICAgICAgICAgICAgICAgJHsoaXRlbS51c2VybmFtZSkgPyBgPHAgY2xhc3M9XCJtdC0wIG1iLTEgbmFtZSBsZWFkXCI+JHtpdGVtLnVzZXJuYW1lfTwvcD5gIDogJyd9XHJcbiAgICAgICAgICAgICAgICAkeyhpbmZvLm5hbWUpID8gYDxoNCBjbGFzcz1cIm10LTAgbWItMVwiPiR7aW5mby5uYW1lfTwvaDQ+YCA6ICcnfVxyXG4gICAgICAgICAgICAgICAgJHsoaW5mby5uYW1lKSA/ICcnIDogJycgIC8qICR7KGluZm8uZW1haWwpID8gYDxwIGNsYXNzPVwibXQtMCBtYi0xXCI+JHtpbmZvLmVtYWlsfTwvcD5gIDogJyd9XHJcbiAgICAgICAgICAgICAgICAgJHsoaW5mby5waG9uZSkgPyBgPHAgY2xhc3M9XCJtdC0wIG1iLTFcIj4ke2luZm8ucGhvbmV9PC9wPmAgOiAnJ30gKi8gfVxyXG5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wgdXNlci1jaGVja3BvaW50XCI+XHJcbiAgICAgICAgICAgICAgICAkeyhjaGVja3BvaW50LnN0YXR1cyA9PT0gJ1RSSUdHRVJFRCcpXHJcbiAgICAgICAgICAgICAgICA/IGA8YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi1vdXRsaW5lLXNlY29uZGFyeSBqc19wYXNzLWNoZWNrcG9pbnQtYnRuIGQtYmxvY2sgbXgtYXV0b1wiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEtY2hlY2twb2ludC10eXBlPVwiJHtjaGVja3BvaW50LnR5cGUgfHwgJ0VNQUlMJ31cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhLXVzZXJuYW1lPVwiJHtpdGVtLnVzZXJuYW1lIHx8ICcnfVwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEtdG9nZ2xlPVwibW9kYWxcIiBkYXRhLXRhcmdldD1cIiNzZWN1cml0eS1jb2RlXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9XCJmYXMgZmEta2V5XCI+PC9pPtCf0YDQvtC50YLQuCDRh9C10LrQv9C+0LjQvdGCPC9idXR0b24+YFxyXG4gICAgICAgICAgICAgICAgOiAnJ31cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICR7c3RhdHMoaW5mbyl9XHJcbiAgICAgICAgICAgICR7YWRkU2V0dGluZ0J0bihpdGVtKSB8fCAnJ31cclxuICAgICAgICA8L2Rpdj5cclxuICAgIDwvbGk+YCk7XHJcbiAgICB9XHJcbn07XHJcblxyXG5mdW5jdGlvbiBmaWxsTGlzdCgkbGlzdCwgZGF0YUFycmF5KSB7XHJcbiAgICBjb25zdCBpdGVtcyA9IGRhdGFBcnJheTtcclxuICAgIGNvbnN0IGNMaXN0ID0gJGxpc3Q7XHJcbiAgICBjb25zdCBkZWZhdWx0QXZhdGFyU3JjID0gQ09OU1QudXNlci5kZWZhdWxBdmF0YXI7XHJcblxyXG4gICAgY0xpc3QuZW1wdHkoKS5hZGRDbGFzcygnYm9yZGVyLWxpZ2h0LWNvbG9yJyk7XHJcbiAgICBpdGVtcy5mb3JFYWNoKChpdGVtKSA9PiB7XHJcbiAgICAgICAgcmVuZGVySXRlbShpdGVtLCBjTGlzdCwgZGVmYXVsdEF2YXRhclNyYykuYXBwZW5kVG8oY0xpc3QpO1xyXG4gICAgfSk7XHJcbiAgICB3aW5kb3cuUHViU3ViLnB1Ymxpc2goQ09OU1QuZXZlbnRzLmluc3RhZ3JhbUFjY291bnMuSU5TVEFHUkFNX0FDQ09VTlNfUkVOREVSRUQsIHtuYW1lLCBkYXRhQXJyYXl9KTtcclxuICAgIGNvbnNvbGUubG9nKCdJTlNUQUdSQU1fQUNDT1VOU19SRU5ERVJFRCcpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBjaGVja1Jlc3BvbnNlIChyZXN1bHQgLyogLCBpc1Jlc2VuZFJlcXVlc3QqLykge1xyXG5cclxuICAgIC8qXHJcbiAgICBpZiAoIXJlc3VsdC5zdGF0dXMuc3RhdGUgPT09ICdvaycgfHwgIXJlc3VsdC5kYXRhIHx8ICEkbXNnTGlzdC5sZW5ndGggfHwgaXNSZXNlbmRSZXF1ZXN0KSB7XHJcbiAgICAgICAgLy8g0L/RgNC+0LLQtdGA0Y/QvCDQvtC00LjQvSDRgNCw0Lcg0L3QsNC70LjRh9C40LUgcmVzdWx0LmRhdGEuYWNjb3VudHMuaW5mb1xyXG4gICAgICAgICRtc2dMaXN0LmVtcHR5KCk7XHJcbiAgICAgICAgJChgPGxpIGNsYXNzPVwibWVkaWFcIj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1lZGlhLWJvZHlcIj5cclxuICAgICAgICAgICAgICAgIDxoMyBjbGFzcz1cIm10LTAgbWItM1wiPtCd0Lgg0L7QtNC90L7Qs9C+INCQ0LrQutCw0YPQvdGC0LAg0L3QtSDQtNC+0LHQsNCy0LvQtdC90L48L2gzPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L2xpPmApLmFwcGVuZFRvKCRtc2dMaXN0KTtcclxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgcmVzZW5kUmVxdWVzdCgpLnRoZW4oKHJlc3VsdCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgY2hlY2tSZXNwb25zZShyZXN1bHQsIGZhbHNlKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdSZXF1ZXN0IHJlc2VuZCcpO1xyXG4gICAgICAgIH0sIDM1MDApO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgICovXHJcbiAgICAvLyDQstGL0LLQvtC0INGA0LXQt9GD0LvRjNGC0LDRgtC+0LIgKGRhdGEuYWNjb3VudHMuaW5mbylcclxuICAgICQoJy5wcm9maWxlLXVzZXIgLnNwaW5uZXItYm94JykuYWRkQ2xhc3MoJ2Qtbm9uZScpO1xyXG4gICAgZmlsbExpc3QoJG1zZ0xpc3QsIHJlc3VsdC5kYXRhLmFjY291bnRzKTtcclxuICAgIGFkZExpc3RIYW5kbGVyKCk7XHJcbn1cclxuY29uc3QgZXJyTWVzc2FnZUZyb250ID0gJ9Cd0LUg0L/QvtC70YPRh9C40LvQvtGB0Ywg0LfQsNCz0YDRg9C30LjRgtGMINC00L7RgdGC0YPQv9C90YvQtSBJbnN0YWdyYW0g0LDQutC60LDRg9C90YLRiyc7XHJcbmZ1bmN0aW9uIGNiRXJyb3IoKSB7XHJcbiAgICB2aWV3VXRpbHMuc2hvd0luZm9NZXNzYWdlKCQoJy5lcnJvci1tc2cnKSxcclxuICAgICAgICAnJyxcclxuICAgICAgICBlcnJNZXNzYWdlRnJvbnQpO1xyXG59XHJcblxyXG5mdW5jdGlvbiByZWxvYWRMaXN0KCkge1xyXG4gICAgY29uc3QgJG1zZ0xpc3QgPSAkKCcuYWNjb3VudHMtbGlzdCcpO1xyXG4gICAgLy8gVE9ETzogYWRkIHNwaW5uZXJcclxuICAgICQoJy5wcm9maWxlLXVzZXIgLnNwaW5uZXItYm94JykucmVtb3ZlQ2xhc3MoJ2Qtbm9uZScpO1xyXG4gICAgVXNlci5nZXRNZXRhZGF0YShjYkVycm9yKS50aGVuKChyZXN1bHQpID0+IHtcclxuICAgICAgICAkbXNnTGlzdC5lbXB0eSgpO1xyXG4gICAgICAgIC8vIHRvZG8gOiByZWxvYWQgbGlzdFxyXG4gICAgICAgIGNoZWNrUmVzcG9uc2UocmVzdWx0KTtcclxuICAgIH0pLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgdmlld1V0aWxzLnNob3dJbmZvTWVzc2FnZSgkKCcuZXJyb3ItbXNnJyksXHJcbiAgICAgICAgICAgICAgICBlcnIuc3RhdHVzIHx8ICcnLFxyXG4gICAgICAgICAgICAgICAgZXJyTWVzc2FnZUZyb250KTtcclxuICAgICAgICB9LCAzMDAwKTtcclxuICAgICAgICAkKCcuc3Bpbm5lci1ib3gnKS5hZGRDbGFzcygnZC1ub25lJyk7XHJcbiAgICB9KTtcclxuICAgIGNvbnN0IGNmZyA9IHtcclxuICAgICAgICBkZWxldGVCdG5DbHM6ICcuanNfYWNjLWRlbGV0ZScsXHJcbiAgICAgICAgdXBkYXRlQnRuQ2xzOiAnLmpzX2FjYy1yZWZyZXNoJyxcclxuICAgICAgICBlZGl0QnRuQ2xzOiAnLmpzX2FjYy1lZGl0J1xyXG4gICAgfTtcclxuICAgIHNldHRpbmdCdXR0b25zSGFuZGxlcihjZmcpO1xyXG59XHJcblxyXG4vLyDQn9C+0YHQu9C1INC00L7QsdCw0LLQu9C10L3QuNGPINCw0LrQutCw0YPQvdGC0LAg0YHQvdC+0LLQsCDQtNC10YDQvdGD0YLRjCDQnNCV0KLQkCDQuCDQv9C10YDQtdGA0LjRgdC+0LLQsNGC0Ywg0YHQv9C40YHQvtC6INCw0LrQutCw0YPQvdGC0L7QslxyXG5jb25zdCBhZGRJbnN0YWdyYW1BY2NvdW50ID0gKG5ld0Zvcm1EYXRhKSA9PiB7XHJcbiAgICBjb25zdCBjYkVycm9yID0gKHJlc3VsdCkgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdFUlJPUicsIHJlc3VsdCk7XHJcbiAgICAgICAgdmlld1V0aWxzLnNob3dJbmZvTWVzc2FnZSgkKCcuZXJyb3ItbXNnJyksXHJcbiAgICAgICAgICAgIHJlc3VsdC5zdGF0dXMuc3RhdGUsXHJcbiAgICAgICAgICAgIHJlc3VsdC5zdGF0dXMubWVzc2FnZSB8fCAnTG9naW4gZXJyb3InKTtcclxuICAgICAgICAvLyAkKF9sb2dpbkJveCkuYWRkQ2xhc3MoY2xvc2VDbGFzcykucmVtb3ZlQ2xhc3Mob3BlbmVkQ2xhc3MpO1xyXG4gICAgfTtcclxuICAgIFVzZXIuYWRkSW5zdGFncmFtQWNjb3VudChuZXdGb3JtRGF0YSwgY2JFcnJvcikudGhlbigocmVzdWx0KSA9PiB7XHJcbiAgICAgICAgaWYgKHJlc3VsdCAmJiByZXN1bHQuc3RhdHVzKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3VsdCwgcmVzdWx0LnN0YXR1cyk7XHJcbiAgICAgICAgICAgIHJlbG9hZExpc3QoKTtcclxuXHJcbiAgICAgICAgICAgIC8qXHJcbiAgICAgICAgICAgIGNvbnN0ICRtc2dMaXN0ID0gJCgnLmFjY291bnRzLWxpc3QnKTtcclxuICAgICAgICAgICAgVXNlci5nZXRNZXRhZGF0YSgpLnRoZW4oKHJlc3VsdCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgJG1zZ0xpc3QuZW1wdHkoKTtcclxuICAgICAgICAgICAgICAgIC8vIHRvZG8gOiByZWxvYWQgbGlzdFxyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzdWx0LmRhdGEsIHJlc3VsdC5kYXRhLmFjY291bnRzKTtcclxuICAgICAgICAgICAgICAgIGNoZWNrUmVzcG9uc2UocmVzdWx0KTtcclxuICAgICAgICAgICAgfSkuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdmlld1V0aWxzLnNob3dJbmZvTWVzc2FnZSgkKCcuZXJyb3ItbXNnJyksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGVyci5zdGF0dXMgfHwgJycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICfQndC1INC/0L7Qu9GD0YfQuNC70L7RgdGMINC30LDQs9GA0YPQt9C40YLRjCDQtNC+0YHRgtGD0L/QvdGL0LUgSW5zdGFncmFtINCw0LrQutCw0YPQvdGC0YsnKTtcclxuICAgICAgICAgICAgICAgIH0sIDMwMDApO1xyXG4gICAgICAgICAgICAgICAgJCgnLnNwaW5uZXItYm94JykuYWRkQ2xhc3MoJ2Qtbm9uZScpO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgKi9cclxuXHJcbiAgICAgICAgICAgIC8vIHZpZXdVdGlscy5zaG93SW5mb01lc3NhZ2UoJHRleHRBcmVhRGVzY3JpcHRpb24sXHJcbiAgICAgICAgICAgIC8vICAgICByZXN1bHQuc3RhdHVzLnN0YXRlLFxyXG4gICAgICAgICAgICAvLyAgICAgcmVzdWx0LnN0YXR1cy5tZXNzYWdlIHx8ICdMb2dpbiBlcnJvcicpO1xyXG4gICAgICAgICAgICAvLyAkKF9sb2dpbkJveCkuYWRkQ2xhc3MoY2xvc2VDbGFzcykucmVtb3ZlQ2xhc3Mob3BlbmVkQ2xhc3MpO1xyXG4gICAgICAgIH1cclxuICAgIH0pLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgICAvLyB0b2RvOiByZW5kZXIgZm9yIHVzZXJcclxuICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgY29uc29sZS5sb2coJ3N1Ym1pdCcsIG5ld0Zvcm1EYXRhKTtcclxufTtcclxuXHJcbmZ1bmN0aW9uIGFkZE9uTG9hZEhhbmRsZXJzKCkge1xyXG4gICAgLy8gJCgnLmpzX3JlcGVhdC1zZWN1cml0eS1jb2RlJykub24oJ2NsaWNrJywgKGUpID0+IHtcclxuXHJcbiAgICAvLyB9KTtcclxuXHJcbiAgICAkKCcuanNfYWRkLWluc3RhZ3JhbS1hY2NvdW50Jykub24oJ2NsaWNrJywgKGUpID0+IHtcclxuICAgICAgICBjb25zdCBidG4gPSAkKGUudGFyZ2V0KTtcclxuICAgICAgICBjb25zdCAkbW9kYWxCb2R5ID0gYnRuLmNsb3Nlc3QoJy5tb2RhbCcpLmZpbmQoJy5tb2RhbC1kaWFsb2cgLm1vZGFsLWJvZHknKTtcclxuICAgICAgICBjb25zdCB1c2VybmFtZSA9ICRtb2RhbEJvZHkuZmluZCgnaW5wdXRbbmFtZT1cInVzZXJuYW1lXCJdJykudmFsKCkudHJpbSgpO1xyXG4gICAgICAgIGNvbnN0IHBhc3N3b3JkID0gJG1vZGFsQm9keS5maW5kKCdpbnB1dFtuYW1lPVwicGFzc1wiXScpLnZhbCgpLnRyaW0oKTtcclxuICAgICAgICBjb25zdCBpcCA9ICRtb2RhbEJvZHkuZmluZCgnaW5wdXRbbmFtZT1cImlwXCJdJykudmFsKCkudHJpbSgpOyAvLyBUTVAgc29sdXRpb25cclxuICAgICAgICBjb25zdCBwb3J0ID0gJG1vZGFsQm9keS5maW5kKCdpbnB1dFtuYW1lPVwicG9ydFwiXScpLnZhbCgpLnRyaW0oKTsgLy8gVE1QIHNvbHV0aW9uXHJcbiAgICAgICAgY29uc3QgdXNlcm5hbWVQcm94eSA9ICRtb2RhbEJvZHkuZmluZCgnaW5wdXRbbmFtZT1cInVzZXJuYW1lUHJveHlcIl0nKS52YWwoKS50cmltKCk7IC8vIFRNUCBzb2x1dGlvblxyXG4gICAgICAgIGNvbnN0IHBhc3N3b3JkUHJveHkgPSAkbW9kYWxCb2R5LmZpbmQoJ2lucHV0W25hbWU9XCJwYXNzUHJveHlcIl0nKS52YWwoKS50cmltKCk7IC8vIFRNUCBzb2x1dGlvblxyXG4gICAgICAgIGNvbnN0ICRmb3JtID0gJCgnZm9ybScsICRtb2RhbEJvZHkpO1xyXG4gICAgICAgIGNvbnN0IGZvcm0gPSAkZm9ybS5nZXQoMCk7XHJcbiAgICAgICAgY29uc3QgY3NzVmFsaWRhdGlvbkNsYXNzID0gJ2Zvcm0tdmFsaWRhdGlvbic7XHJcblxyXG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICBmdW5jdGlvbiBpc1ZhbGlkSXB2NEFkZHIoaXApIHtcclxuICAgICAgICAgICAgcmV0dXJuICgvXig/PVxcZCtcXC5cXGQrXFwuXFxkK1xcLlxcZCskKSg/Oig/OjI1WzAtNV18MlswLTRdWzAtOV18MVswLTldezJ9fFsxLTldWzAtOV18WzAtOV0pXFwuPyl7NH0kLykudGVzdChpcCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGZ1bmN0aW9uIGlzVmFsaWRQb3J0KHBvcnQpIHtcclxuICAgICAgICAgICAgcmV0dXJuICgvXihbMC05XXsxLDR9fFsxLTVdWzAtOV17NH18NlswLTRdWzAtOV17M318NjVbMC00XVswLTldezJ9fDY1NVswLTJdWzAtOV18NjU1M1swLTVdKSQvKS50ZXN0KHBvcnQpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBjb25zdCB2YWxpZGF0b3IgPSBuZXcgVmFsaWRhdG9yKCRmb3JtKTtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZyh2YWxpZGF0b3IudmFsaWRhdGUoKSk7XHJcbiAgICAgICAgaWYgKGZvcm0uY2hlY2tWYWxpZGl0eSgpKSB7XHJcbiAgICAgICAgICAgIGFkZEluc3RhZ3JhbUFjY291bnQoe3VzZXJuYW1lLCBwYXNzd29yZCwgdXNlcm5hbWVQcm94eSwgcGFzc3dvcmRQcm94eSwgaXAsIHBvcnR9KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBIaWdobGlnaHQgZXJyb3JzXHJcbiAgICAgICAgICAgIGlmIChmb3JtLnJlcG9ydFZhbGlkaXR5KSB7XHJcbiAgICAgICAgICAgICAgICBmb3JtLnJlcG9ydFZhbGlkaXR5KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgJGZvcm0uYWRkQ2xhc3MoY3NzVmFsaWRhdGlvbkNsYXNzKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGlmICghdXNlcm5hbWUgfHwgIXBhc3N3b3JkIHx8ICFpcCB8fCAhaXNWYWxpZElwdjRBZGRyKGlwKSB8fCAhcG9ydCB8fCAhaXNWYWxpZFBvcnQocG9ydCkgfHwgIXVzZXJuYW1lUHJveHkgfHwgIXBhc3N3b3JkUHJveHkpIHtcclxuICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ25vdCB2YWxpZCBmaWVsZHMnKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG59XHJcblxyXG4vKipcclxuICogSW5pdCBoZWFkZXJcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBpbml0KCkge1xyXG4gICAgLy8gY2hlY2sgd2UgYXJlIGluIHByb2ZpbGUgcGFnZVxyXG4gICAgaWYgKCEkbXNnTGlzdC5sZW5ndGgpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICAvLyBjb25zdCB0b2tlbiA9IFVzZXIuZ2V0VG9rZW4oKTtcclxuICAgIGNvbnN0IG1ldGFkYXRhID0gVXNlci5nZXRNZXRhZGF0YShjYkVycm9yKTtcclxuICAgIC8vIGNvbnN0IHJlc2VuZFJlcXVlc3QgPSAoKSA9PiBVc2VyLmdldE1ldGFkYXRhKHRva2VuKTtcclxuICAgIC8vIGxldCBpc1NlbmRSZXFPbmNlID0gZmFsc2U7XHJcbiAgICAvLyBjaGVjayB3ZSBhcmUgaW4gcHJvZmlsZSBwYWdlXHJcbiAgICBpZiAoISRtc2dMaXN0Lmxlbmd0aCkge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBhZGRPbkxvYWRIYW5kbGVycygpO1xyXG5cclxuICAgIC8vINC80L7QttC10YIg0LjQvdGE0L4g0L7RgtGB0YPRgtGB0LLQvtCy0LDRgtGMIC0g0YHQtNC10LvQsNGC0Ywg0LXRidC1INGA0LDQtyDQt9Cw0L/RgNC+0YEg0YfQtdGA0LXQtyAzINGB0LXQui5cclxuICAgIG1ldGFkYXRhLnRoZW4oKHJlc3VsdCkgPT4ge1xyXG4gICAgICAgIC8vINC/0YDQvtCy0LXRgNGP0Lwg0L7QtNC40L0g0YDQsNC3INC90LDQu9C40YfQuNC1IHJlc3VsdC5kYXRhLmFjY291bnRzLmluZm9cclxuICAgICAgICAvKlxyXG4gICAgICAgIGxldCBpc1Jlc2VuZFJlcXVlc3QgPSBmYWxzZTtcclxuICAgICAgICBpZiAocmVzdWx0LmRhdGEgJiYgcmVzdWx0LmRhdGEuYWNjb3VudHMgJiYgIWlzU2VuZFJlcU9uY2UpIHtcclxuICAgICAgICAgICAgcmVzdWx0LmRhdGEuYWNjb3VudHMuZm9yRWFjaCgoaXRlbSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKCFpdGVtLmluZm8pIHtcclxuICAgICAgICAgICAgICAgICAgICBpc1Jlc2VuZFJlcXVlc3QgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIGlzU2VuZFJlcU9uY2UgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgICovXHJcbiAgICAvLyAgICBjaGVja1Jlc3BvbnNlKHJlc3VsdCwgaXNSZXNlbmRSZXF1ZXN0KTtcclxuICAgICAgICBjaGVja1Jlc3BvbnNlKHJlc3VsdCk7XHJcbiAgICAgICAgY29uc3QgY2ZnID0ge1xyXG4gICAgICAgICAgICBkZWxldGVCdG5DbHM6ICcuanNfYWNjLWRlbGV0ZScsXHJcbiAgICAgICAgICAgIHVwZGF0ZUJ0bkNsczogJy5qc19hY2MtcmVmcmVzaCcsXHJcbiAgICAgICAgICAgIGVkaXRCdG5DbHM6ICcuanNfYWNjLWVkaXQnXHJcbiAgICAgICAgfTtcclxuICAgICAgICBzZXR0aW5nQnV0dG9uc0hhbmRsZXIoY2ZnKTtcclxuICAgIH0pLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgdmlld1V0aWxzLnNob3dJbmZvTWVzc2FnZSgkKCcuZXJyb3ItbXNnJyksXHJcbiAgICAgICAgICAgICAgICBlcnIuc3RhdHVzIHx8ICcnLFxyXG4gICAgICAgICAgICAgICAgJ9Cd0LUg0L/QvtC70YPRh9C40LvQvtGB0Ywg0LfQsNCz0YDRg9C30LjRgtGMINC00L7RgdGC0YPQv9C90YvQtSBJbnN0YWdyYW0g0LDQutC60LDRg9C90YLRiycpO1xyXG4gICAgICAgIH0sIDMwMDApO1xyXG4gICAgICAgICQoJy5zcGlubmVyLWJveCcpLmFkZENsYXNzKCdkLW5vbmUnKTtcclxuICAgIH0pO1xyXG5cclxuICAgIHdpbmRvdy5QdWJTdWIuc3Vic2NyaWJlKENPTlNULmV2ZW50cy5pbnN0YWdyYW1BY2NvdW5zLklOU1RBR1JBTV9BQ0NPVU5TX05FRURfUkVGUkVTSCwgKGV2ZW50TmFtZSwgZGF0YSkgPT4ge1xyXG4gICAgICAgIHJlbG9hZExpc3QoKTtcclxuICAgIH0pO1xyXG4gICAgd2luZG93LlB1YlN1Yi5zdWJzY3JpYmUoQ09OU1QuZXZlbnRzLmluc3RhZ3JhbUFjY291bnMuSU5TVEFHUkFNX0FDQ09VTlNfUkVOREVSRUQsIChldmVudE5hbWUsIGRhdGEpID0+IHtcclxuICAgICAgICBjb25zdCB7ZGF0YUFycmF5fSA9IGRhdGE7XHJcbiAgICAgICAgZGF0YUFycmF5LmZvckVhY2goaXRlbSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGF2YXRhciA9IGl0ZW0uaW5mbyAmJiBpdGVtLmluZm8ucHJvZmlsZV9waWNfdXJsIHx8IENPTlNULnVzZXIuZGVmYXVsQXZhdGFyO1xyXG4gICAgICAgICAgICBzZXNzaW9uU3RvcmFnZS5zZXRJdGVtKGl0ZW0udXNlcm5hbWUsIGF2YXRhcik7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxufVxyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvYmxvY2tzL2luc3RhZ3JhbS1hY2NvdW50cy1saXN0L2luc3RhZ3JhbS1hY2NvdW50cy1saXN0LmpzIiwiLy8gaW1wb3J0ICQgZnJvbSAnanF1ZXJ5JztcclxuaW1wb3J0IHtDT05TVH0gZnJvbSAnLi9jb25zdHMnO1xyXG5pbXBvcnQgTmV0d29yayBmcm9tICcuL25ldHdvcmsnO1xyXG5pbXBvcnQgQ29va2llU3RvcmFnZSBmcm9tICcuL2Nvb2tpZSc7XHJcblxyXG5jbGFzcyBVc2VyQ29udmVyc2F0aW9uIHtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcigpIHtcclxuICAgICAgICB0aGlzLm5ldHdvcmsgPSBuZXcgTmV0d29yaygpO1xyXG4gICAgICAgIHRoaXMuY29va2llU3RvcmFnZSA9IENvb2tpZVN0b3JhZ2U7XHJcbiAgICAgICAgdGhpcy5zZXR0aW5nUG9zdCA9IHtcclxuICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAgICAgICAgICdDb250ZW50LVR5cGUnOiAnYXBwbGljYXRpb24vanNvbicsXHJcbiAgICAgICAgICAgICAgICAnQWNjZXB0JzogJ2FwcGxpY2F0aW9uL2pzb24nXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgIGlzTG9nZ2VkSW4oKSB7XHJcbiAgICAgICAgcmV0dXJuICEhdGhpcy5nZXRUb2tlbigpO1xyXG4gICAgfVxyXG5cclxuICAgIGlzRW1haWxDb25maXJtZWQoKSB7XHJcbiAgICAgICAgcmV0dXJuICh0aGlzLmNvb2tpZVN0b3JhZ2UuZ2V0KENPTlNULmNvb2tpZVN0b3JhZ2UuZW1haWxDb25maXJtZWQpID09PSAnY29uZmlybWVkJyk7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0VG9rZW4oKSB7XHJcbiAgICAgICAgY29uc3QgY29va2llVG9rZW4gPSB0aGlzLmNvb2tpZVN0b3JhZ2UuZ2V0KENPTlNULmNvb2tpZVN0b3JhZ2UudG9rZW4pO1xyXG4gICAgICAgIHJldHVybiBjb29raWVUb2tlbjtcclxuICAgIH1cclxuXHJcbiAgICBnZXRNZXRhZGF0YSh0b2tlbiwgY2JFcnJvcikge1xyXG4gICAgICAgIHJldHVybiB0aGlzLm5ldHdvcmsuc2VuZFJlcXVlc3QoYCR7Q09OU1QuZ2V0UGF0aCgnaW5zdGFncmFtRGlyZWN0X2dldE1ldGFEYXRhJyl9YCwge2hlYWRlcnM6IHsndG9rZW4nOiB0aGlzLmdldFRva2VuKCl9fSwgY2JFcnJvcik7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0TWV0YWRhdGFEZXRhaWxVc2VycyhkZXRhaWxzLCBjYkVycm9yKSB7XHJcbiAgICAgICAgY29uc3QgY3Vyc29yID0gKGRldGFpbHMuY3Vyc29yKSA/IGA/Y3Vyc29yPSR7ZGV0YWlscy5jdXJzb3J9YCA6ICcnO1xyXG4gICAgICAgIHJldHVybiB0aGlzLm5ldHdvcmsuc2VuZFJlcXVlc3QoYCR7Q09OU1QuZ2V0UGF0aCgnaW5zdGFncmFtRGlyZWN0X2dldE1ldGFEYXRhJyl9LyR7ZGV0YWlscy51c2VybmFtZX0ke2N1cnNvcn1gLFxyXG4gICAgICAgICB7aGVhZGVyczogeyd0b2tlbic6IHRoaXMuZ2V0VG9rZW4oKX19LCBjYkVycm9yKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRNZXRhZGF0YURldGFpbENvbnZlcnNhdGlvbih0b2tlbiwgZGV0YWlscywgY2JFcnJvcikge1xyXG4gICAgICAgIGNvbnN0IGN1cnNvciA9IChkZXRhaWxzLmN1cnNvcikgPyBgP2N1cnNvcj0ke2RldGFpbHMuY3Vyc29yfWAgOiAnJztcclxuICAgICAgICByZXR1cm4gdGhpcy5uZXR3b3JrLnNlbmRSZXF1ZXN0KGAke0NPTlNULmdldFBhdGgoJ2luc3RhZ3JhbURpcmVjdF9nZXRNZXRhRGF0YScpfS8ke2RldGFpbHMudXNlcm5hbWV9LyR7ZGV0YWlscy5jb252ZXJzYXRpb25JZH0ke2N1cnNvcn1gLFxyXG4gICAgICAgICAgICB7aGVhZGVyczoge3Rva2VufX0sIGNiRXJyb3IpO1xyXG4gICAgfVxyXG4gICAgcG9zdE1ldGFkYXRhRGV0YWlsQ29udmVyc2F0aW9uKHRva2VuLCBkZXRhaWxzLCBjYkVycm9yKSB7XHJcbiAgICAgICAgY29uc3Qgc2V0dGluZyA9IHtcclxuICAgICAgICAgICAgLi4udGhpcy5zZXR0aW5nUG9zdCxcclxuICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyd2YWx1ZSc6IGRldGFpbHMudmFsdWV9KSxcclxuICAgICAgICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICAgICAgICAgLi4udGhpcy5zZXR0aW5nUG9zdC5oZWFkZXJzLFxyXG4gICAgICAgICAgICAgICAgJ3Rva2VuJzogdGhpcy5nZXRUb2tlbigpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIHJldHVybiB0aGlzLm5ldHdvcmsuc2VuZFJlcXVlc3QoYCR7Q09OU1QuZ2V0UGF0aCgnaW5zdGFncmFtRGlyZWN0X3Bvc3RNZXNzYWdlJyl9LyR7ZGV0YWlscy51c2VybmFtZX0vJHtkZXRhaWxzLmNvbnZlcnNhdGlvbklkfS90ZXh0YCxcclxuICAgICAgICAgICAgc2V0dGluZywgY2JFcnJvcik7XHJcbiAgICB9XHJcbiAgICAvLyAtLS0gUmVxdWVzdCBQZW5kaW5nXHJcbiAgICBnZXRSZXF1ZXN0UGVuZGluZyh1c2VybmFtZSwgY2JFcnJvcikge1xyXG4gICAgICAgIC8vIGNvbnN0IGN1cnNvciA9IChkZXRhaWxzLmN1cnNvcikgPyBgP2N1cnNvcj0ke2RldGFpbHMuY3Vyc29yfWAgOiAnJztcclxuICAgICAgICByZXR1cm4gdGhpcy5uZXR3b3JrLnNlbmRSZXF1ZXN0KGAke0NPTlNULmdldFBhdGgoJ2luc3RhZ3JhbURpcmVjdF9SZXF1ZXN0UGVuZGluZycpfS8ke3VzZXJuYW1lfWAsXHJcbiAgICAgICAge2hlYWRlcnM6IHsndG9rZW4nOiB0aGlzLmdldFRva2VuKCl9fSwgY2JFcnJvcik7XHJcbiAgICB9XHJcbiAgICBwdXRSZXF1ZXN0UGVuZGluZyhjb25maXJtVXNlckRhdGEsIGNiRXJyb3IpIHtcclxuICAgICAgICBjb25zdCBzZXR0aW5nID0ge1xyXG4gICAgICAgICAgICAuLi50aGlzLnNldHRpbmdQb3N0LFxyXG4gICAgICAgICAgICBtZXRob2Q6ICdQVVQnLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgICAgICAgICAuLi50aGlzLnNldHRpbmdQb3N0LmhlYWRlcnMsXHJcbiAgICAgICAgICAgICAgICAndG9rZW4nOiB0aGlzLmdldFRva2VuKClcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgY29uc3Qge3VzZXJuYW1lLCBjb252ZXJzYXRpb25JZH0gPSBjb25maXJtVXNlckRhdGE7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubmV0d29yay5zZW5kUmVxdWVzdChgJHtDT05TVC5nZXRQYXRoKCdpbnN0YWdyYW1EaXJlY3RfUmVxdWVzdFBlbmRpbmcnKX0vJHt1c2VybmFtZX0vJHtjb252ZXJzYXRpb25JZH1gLFxyXG4gICAgICAgICAgICBzZXR0aW5nLCBjYkVycm9yKTtcclxuICAgIH1cclxuICAgIGRlbFJlcXVlc3RQZW5kaW5nKGNvbmZpcm1Vc2VyRGF0YSwgY2JFcnJvcikge1xyXG4gICAgICAgIGNvbnN0IHNldHRpbmcgPSB7XHJcbiAgICAgICAgICAgIG1ldGhvZDogJ0RFTEVURScsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAgICAgICAgIC4uLnRoaXMuc2V0dGluZ1Bvc3QuaGVhZGVycyxcclxuICAgICAgICAgICAgICAgICd0b2tlbic6IHRoaXMuZ2V0VG9rZW4oKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICBjb25zdCB7dXNlcm5hbWUsIGNvbnZlcnNhdGlvbklkfSA9IGNvbmZpcm1Vc2VyRGF0YTtcclxuICAgICAgICByZXR1cm4gdGhpcy5uZXR3b3JrLnNlbmRSZXF1ZXN0KGAke0NPTlNULmdldFBhdGgoJ2luc3RhZ3JhbURpcmVjdF9SZXF1ZXN0UGVuZGluZycpfS8ke3VzZXJuYW1lfS8ke2NvbnZlcnNhdGlvbklkfWAsXHJcbiAgICAgICAgICAgIHNldHRpbmcsIGNiRXJyb3IpO1xyXG4gICAgfVxyXG5cclxufVxyXG5cclxubGV0IHVzZXJJbnN0YW5jZSA9IG51bGw7XHJcblxyXG5pZiAoIXVzZXJJbnN0YW5jZSkge1xyXG4gICAgdXNlckluc3RhbmNlID0gbmV3IFVzZXJDb252ZXJzYXRpb24oKTtcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgdXNlckluc3RhbmNlO1xyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvY29tbW9uL2pzLXNlcnZpY2VzL2FwaS11c2VyLWRpcmVjdC5qcyIsIi8qIVxuICogRW1vamlvbmVBcmVhIHYzLjAuMFxuICogaHR0cHM6Ly9naXRodWIuY29tL21lcnZpY2svZW1vamlvbmVhcmVhXG4gKiBDb3B5cmlnaHQgQW5kcmV5IEl6bWFuIGFuZCBvdGhlciBjb250cmlidXRvcnNcbiAqIFJlbGVhc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZVxuICogRGF0ZTogMjAxNi0wNS0wNlQxMDozM1pcbiAqL1xuKGZ1bmN0aW9uKGRvY3VtZW50LCB3aW5kb3csICQpIHtcbiAgICAndXNlIHN0cmljdCc7XG5cbiAgICB2YXIgdW5pcXVlID0gMDtcbiAgICB2YXIgZXZlbnRTdG9yYWdlID0ge307XG4gICAgdmFyIHBvc3NpYmxlRXZlbnRzID0ge307XG4gICAgdmFyIGVtb2ppb25lID0gd2luZG93LmVtb2ppb25lO1xuICAgIHZhciByZWFkeUNhbGxiYWNrcyA9IFtdO1xuICAgIGZ1bmN0aW9uIGVtb2ppb25lUmVhZHkgKGZuKSB7XG4gICAgICAgIGlmIChlbW9qaW9uZSkge1xuICAgICAgICAgICAgZm4oKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlYWR5Q2FsbGJhY2tzLnB1c2goZm4pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICB2YXIgYmxhbmtJbWcgPSAnZGF0YTppbWFnZS9naWY7YmFzZTY0LFIwbEdPRGxoQVFBQkFKSC9BUC8vL3dBQUFNREF3QUFBQUNINUJBRUFBQUlBTEFBQUFBQUJBQUVBQUFJQ1ZBRUFPdz09JztcbiAgICB2YXIgc2xpY2UgPSBbXS5zbGljZTtcbiAgICB2YXIgY3NzX2NsYXNzID0gXCJlbW9qaW9uZWFyZWFcIjtcbiAgICB2YXIgZW1vamlvbmVTdXBwb3J0TW9kZSA9IDA7XG4gICAgZnVuY3Rpb24gdHJpZ2dlcihzZWxmLCBldmVudCwgYXJncykge1xuICAgICAgICB2YXIgcmVzdWx0ID0gdHJ1ZSwgaiA9IDE7XG4gICAgICAgIGlmIChldmVudCkge1xuICAgICAgICAgICAgZXZlbnQgPSBldmVudC50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgZG8ge1xuICAgICAgICAgICAgICAgIHZhciBfZXZlbnQgPSBqPT0xID8gJ0AnICsgZXZlbnQgOiBldmVudDtcbiAgICAgICAgICAgICAgICBpZiAoZXZlbnRTdG9yYWdlW3NlbGYuaWRdW19ldmVudF0gJiYgZXZlbnRTdG9yYWdlW3NlbGYuaWRdW19ldmVudF0ubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICQuZWFjaChldmVudFN0b3JhZ2Vbc2VsZi5pZF1bX2V2ZW50XSwgZnVuY3Rpb24gKGksIGZuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0ID0gZm4uYXBwbHkoc2VsZiwgYXJnc3x8IFtdKSAhPT0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gd2hpbGUgKHJlc3VsdCAmJiAhIWotLSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3VsdDtcbiAgICB9XG4gICAgZnVuY3Rpb24gYXR0YWNoKHNlbGYsIGVsZW1lbnQsIGV2ZW50cywgdGFyZ2V0KSB7XG4gICAgICAgIHRhcmdldCA9IHRhcmdldCB8fCBmdW5jdGlvbiAoZXZlbnQsIGNhbGxlckV2ZW50KSB7IHJldHVybiAkKGNhbGxlckV2ZW50LmN1cnJlbnRUYXJnZXQpIH07XG4gICAgICAgICQuZWFjaChldmVudHMsIGZ1bmN0aW9uKGV2ZW50LCBsaW5rKSB7XG4gICAgICAgICAgICBldmVudCA9ICQuaXNBcnJheShldmVudHMpID8gbGluayA6IGV2ZW50O1xuICAgICAgICAgICAgKHBvc3NpYmxlRXZlbnRzW3NlbGYuaWRdW2xpbmtdIHx8IChwb3NzaWJsZUV2ZW50c1tzZWxmLmlkXVtsaW5rXSA9IFtdKSlcbiAgICAgICAgICAgICAgICAucHVzaChbZWxlbWVudCwgZXZlbnQsIHRhcmdldF0pO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0VGVtcGxhdGUodGVtcGxhdGUsIHVuaWNvZGUsIHNob3J0bmFtZSkge1xuICAgICAgICByZXR1cm4gdGVtcGxhdGVcbiAgICAgICAgICAgIC5yZXBsYWNlKCd7bmFtZX0nLCBzaG9ydG5hbWUgfHwgJycpXG4gICAgICAgICAgICAucmVwbGFjZSgne2ltZ30nLCBlbW9qaW9uZS5pbWFnZVBhdGhQTkcgKyAoZW1vamlvbmVTdXBwb3J0TW9kZSA8IDIgPyB1bmljb2RlLnRvVXBwZXJDYXNlKCkgOiB1bmljb2RlKSArICcucG5nJylcbiAgICAgICAgICAgIC5yZXBsYWNlKCd7dW5pfScsIHVuaWNvZGUpXG4gICAgICAgICAgICAucmVwbGFjZSgne2FsdH0nLCBlbW9qaW9uZS5jb252ZXJ0KHVuaWNvZGUpKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gc2hvcnRuYW1lVG8oc3RyLCB0ZW1wbGF0ZSwgY2xlYXIpIHtcbiAgICAgICAgcmV0dXJuIHN0ci5yZXBsYWNlKC86P1xcKz9bXFx3X1xcLV0rOj8vZywgZnVuY3Rpb24oc2hvcnRuYW1lKSB7XG4gICAgICAgICAgICBzaG9ydG5hbWUgPSBcIjpcIiArIHNob3J0bmFtZS5yZXBsYWNlKC86JC8sJycpLnJlcGxhY2UoL146LywnJykgKyBcIjpcIjtcbiAgICAgICAgICAgIHZhciB1bmljb2RlID0gZW1vamlvbmUuZW1vamlvbmVMaXN0W3Nob3J0bmFtZV07XG4gICAgICAgICAgICBpZiAodW5pY29kZSkge1xuICAgICAgICAgICAgICAgIGlmIChlbW9qaW9uZVN1cHBvcnRNb2RlID4gMykgdW5pY29kZSA9IHVuaWNvZGUudW5pY29kZTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZ2V0VGVtcGxhdGUodGVtcGxhdGUsIHVuaWNvZGVbdW5pY29kZS5sZW5ndGgtMV0sIHNob3J0bmFtZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gY2xlYXIgPyAnJyA6IHNob3J0bmFtZTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBmdW5jdGlvbiBwYXN0ZUh0bWxBdENhcmV0KGh0bWwpIHtcbiAgICAgICAgdmFyIHNlbCwgcmFuZ2U7XG4gICAgICAgIGlmICh3aW5kb3cuZ2V0U2VsZWN0aW9uKSB7XG4gICAgICAgICAgICBzZWwgPSB3aW5kb3cuZ2V0U2VsZWN0aW9uKCk7XG4gICAgICAgICAgICBpZiAoc2VsLmdldFJhbmdlQXQgJiYgc2VsLnJhbmdlQ291bnQpIHtcbiAgICAgICAgICAgICAgICByYW5nZSA9IHNlbC5nZXRSYW5nZUF0KDApO1xuICAgICAgICAgICAgICAgIHJhbmdlLmRlbGV0ZUNvbnRlbnRzKCk7XG4gICAgICAgICAgICAgICAgdmFyIGVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcbiAgICAgICAgICAgICAgICBlbC5pbm5lckhUTUwgPSBodG1sO1xuICAgICAgICAgICAgICAgIHZhciBmcmFnID0gZG9jdW1lbnQuY3JlYXRlRG9jdW1lbnRGcmFnbWVudCgpLCBub2RlLCBsYXN0Tm9kZTtcbiAgICAgICAgICAgICAgICB3aGlsZSAoIChub2RlID0gZWwuZmlyc3RDaGlsZCkgKSB7XG4gICAgICAgICAgICAgICAgICAgIGxhc3ROb2RlID0gZnJhZy5hcHBlbmRDaGlsZChub2RlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmFuZ2UuaW5zZXJ0Tm9kZShmcmFnKTtcbiAgICAgICAgICAgICAgICBpZiAobGFzdE5vZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgcmFuZ2UgPSByYW5nZS5jbG9uZVJhbmdlKCk7XG4gICAgICAgICAgICAgICAgICAgIHJhbmdlLnNldFN0YXJ0QWZ0ZXIobGFzdE5vZGUpO1xuICAgICAgICAgICAgICAgICAgICByYW5nZS5jb2xsYXBzZSh0cnVlKTtcbiAgICAgICAgICAgICAgICAgICAgc2VsLnJlbW92ZUFsbFJhbmdlcygpO1xuICAgICAgICAgICAgICAgICAgICBzZWwuYWRkUmFuZ2UocmFuZ2UpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIGlmIChkb2N1bWVudC5zZWxlY3Rpb24gJiYgZG9jdW1lbnQuc2VsZWN0aW9uLnR5cGUgIT0gXCJDb250cm9sXCIpIHtcbiAgICAgICAgICAgIGRvY3VtZW50LnNlbGVjdGlvbi5jcmVhdGVSYW5nZSgpLnBhc3RlSFRNTChodG1sKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICB2YXIgZGVmYXVsdF9vcHRpb25zID0ge1xuICAgICAgICBhdHRyaWJ1dGVzOiB7XG4gICAgICAgICAgICBkaXIgICAgICAgICAgICAgICA6IFwibHRyXCIsXG4gICAgICAgICAgICBzcGVsbGNoZWNrICAgICAgICA6IGZhbHNlLFxuICAgICAgICAgICAgYXV0b2NvbXBsZXRlICAgICAgOiBcIm9mZlwiLFxuICAgICAgICAgICAgYXV0b2NvcnJlY3QgICAgICAgOiBcIm9mZlwiLFxuICAgICAgICAgICAgYXV0b2NhcGl0YWxpemUgICAgOiBcIm9mZlwiLFxuICAgICAgICB9LFxuICAgICAgICBwbGFjZWhvbGRlciAgICAgICA6IG51bGwsXG4gICAgICAgIGNvbnRhaW5lciAgICAgICAgIDogbnVsbCxcbiAgICAgICAgaGlkZVNvdXJjZSAgICAgICAgOiB0cnVlLFxuICAgICAgICBzaG9ydG5hbWVzICAgICAgICA6IHRydWUsXG4gICAgICAgIHNwcml0ZSAgICAgICAgICAgIDogdHJ1ZSxcbiAgICAgICAgcGlja2VyUG9zaXRpb24gICAgOiBcInRvcFwiLCAvLyB0b3AgfCBib3R0b20gfCByaWdodFxuICAgICAgICBmaWx0ZXJzUG9zaXRpb24gICA6IFwidG9wXCIsIC8vIHRvcCB8IGJvdHRvbVxuICAgICAgICBoaWRlUGlja2VyT25CbHVyICA6IHRydWUsXG4gICAgICAgIGJ1dHRvblRpdGxlICAgICAgIDogXCJVc2UgdGhlIFRBQiBrZXkgdG8gaW5zZXJ0IGVtb2ppIGZhc3RlclwiLFxuICAgICAgICB0b25lcyAgICAgICAgICAgICA6IHRydWUsXG4gICAgICAgIHRvbmVzU3R5bGUgICAgICAgIDogXCJidWxsZXRcIiwgLy8gYnVsbGV0IHwgcmFkaW8gfCBzcXVhcmUgfCBjaGVja2JveFxuICAgICAgICBpbmxpbmUgICAgICAgICAgICA6IG51bGwsIC8vIG51bGwgLSBhdXRvXG4gICAgICAgIHNhdmVFbW9qaXNBcyAgICAgIDogXCJ1bmljb2RlXCIsIC8vIHVuaWNvZGUgfCBzaG9ydG5hbWUgfCBpbWFnZVxuICAgICAgICBzaG9ydGN1dHMgICAgICAgICA6IHRydWUsXG4gICAgICAgIGF1dG9jb21wbGV0ZSAgICAgIDogdHJ1ZSxcbiAgICAgICAgYXV0b2NvbXBsZXRlVG9uZXMgOiBmYWxzZSxcblxuICAgICAgICBmaWx0ZXJzOiB7XG4gICAgICAgICAgICB0b25lczoge1xuICAgICAgICAgICAgICAgIHRpdGxlOiBcIkRpdmVyc2l0eVwiLFxuICAgICAgICAgICAgICAgIGVtb2ppOiBcInNhbnRhIHJ1bm5lciBzdXJmZXIgc3dpbW1lciBsaWZ0ZXIgZWFyIG5vc2UgcG9pbnRfdXBfMiBwb2ludF9kb3duIHBvaW50X2xlZnQgcG9pbnRfcmlnaHQgcHVuY2ggXCIgK1xuICAgICAgICAgICAgICAgIFwid2F2ZSBva19oYW5kIHRodW1ic3VwIHRodW1ic2Rvd24gY2xhcCBvcGVuX2hhbmRzIGJveSBnaXJsIG1hbiB3b21hbiBjb3AgYnJpZGVfd2l0aF92ZWlsIHBlcnNvbl93aXRoX2Jsb25kX2hhaXIgXCIgK1xuICAgICAgICAgICAgICAgIFwibWFuX3dpdGhfZ3VhX3BpX21hbyBtYW5fd2l0aF90dXJiYW4gb2xkZXJfbWFuIGdyYW5kbWEgYmFieSBjb25zdHJ1Y3Rpb25fd29ya2VyIHByaW5jZXNzIGFuZ2VsIFwiICtcbiAgICAgICAgICAgICAgICBcImluZm9ybWF0aW9uX2Rlc2tfcGVyc29uIGd1YXJkc21hbiBkYW5jZXIgbmFpbF9jYXJlIG1hc3NhZ2UgaGFpcmN1dCBtdXNjbGUgc3B5IGhhbmRfc3BsYXllZCBtaWRkbGVfZmluZ2VyIFwiICtcbiAgICAgICAgICAgICAgICBcInZ1bGNhbiBub19nb29kIG9rX3dvbWFuIGJvdyByYWlzaW5nX2hhbmQgcmFpc2VkX2hhbmRzIHBlcnNvbl9mcm93bmluZyBwZXJzb25fd2l0aF9wb3V0aW5nX2ZhY2UgcHJheSByb3dib2F0IFwiICtcbiAgICAgICAgICAgICAgICBcImJpY3ljbGlzdCBtb3VudGFpbl9iaWN5Y2xpc3Qgd2Fsa2luZyBiYXRoIG1ldGFsIHBvaW50X3VwIGJhc2tldGJhbGxfcGxheWVyIGZpc3QgcmFpc2VkX2hhbmQgdiB3cml0aW5nX2hhbmRcIlxuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgc21pbGV5c19wZW9wbGU6IHtcbiAgICAgICAgICAgICAgICBpY29uOiBcInl1bVwiLFxuICAgICAgICAgICAgICAgIHRpdGxlOiBcIlNtaWxleXMgJiBQZW9wbGVcIixcbiAgICAgICAgICAgICAgICBlbW9qaTogXCJncmlubmluZyBncmltYWNpbmcgZ3JpbiBqb3kgc21pbGV5IHNtaWxlIHN3ZWF0X3NtaWxlIGxhdWdoaW5nIGlubm9jZW50IHdpbmsgYmx1c2ggc2xpZ2h0X3NtaWxlIFwiICtcbiAgICAgICAgICAgICAgICBcInVwc2lkZV9kb3duIHJlbGF4ZWQgeXVtIHJlbGlldmVkIGhlYXJ0X2V5ZXMga2lzc2luZ19oZWFydCBraXNzaW5nIGtpc3Npbmdfc21pbGluZ19leWVzIFwiICtcbiAgICAgICAgICAgICAgICBcImtpc3NpbmdfY2xvc2VkX2V5ZXMgc3R1Y2tfb3V0X3Rvbmd1ZV93aW5raW5nX2V5ZSBzdHVja19vdXRfdG9uZ3VlX2Nsb3NlZF9leWVzIHN0dWNrX291dF90b25ndWUgXCIgK1xuICAgICAgICAgICAgICAgIFwibW9uZXlfbW91dGggbmVyZCBzdW5nbGFzc2VzIGh1Z2dpbmcgc21pcmsgbm9fbW91dGggbmV1dHJhbF9mYWNlIGV4cHJlc3Npb25sZXNzIHVuYW11c2VkIHJvbGxpbmdfZXllcyBcIiArXG4gICAgICAgICAgICAgICAgXCJ0aGlua2luZyBmbHVzaGVkIGRpc2FwcG9pbnRlZCB3b3JyaWVkIGFuZ3J5IHJhZ2UgcGVuc2l2ZSBjb25mdXNlZCBzbGlnaHRfZnJvd24gZnJvd25pbmcyIHBlcnNldmVyZSBcIiArXG4gICAgICAgICAgICAgICAgXCJjb25mb3VuZGVkIHRpcmVkX2ZhY2Ugd2VhcnkgdHJpdW1waCBvcGVuX21vdXRoIHNjcmVhbSBmZWFyZnVsIGNvbGRfc3dlYXQgaHVzaGVkIGZyb3duaW5nIGFuZ3Vpc2hlZCBcIiArXG4gICAgICAgICAgICAgICAgXCJjcnkgZGlzYXBwb2ludGVkX3JlbGlldmVkIHNsZWVweSBzd2VhdCBzb2IgZGl6enlfZmFjZSBhc3RvbmlzaGVkIHppcHBlcl9tb3V0aCBtYXNrIHRoZXJtb21ldGVyX2ZhY2UgXCIgK1xuICAgICAgICAgICAgICAgIFwiaGVhZF9iYW5kYWdlIHNsZWVwaW5nIHp6eiBwb29wIHNtaWxpbmdfaW1wIGltcCBqYXBhbmVzZV9vZ3JlIGphcGFuZXNlX2dvYmxpbiBza3VsbCBnaG9zdCBhbGllbiByb2JvdCBcIiArXG4gICAgICAgICAgICAgICAgXCJzbWlsZXlfY2F0IHNtaWxlX2NhdCBqb3lfY2F0IGhlYXJ0X2V5ZXNfY2F0IHNtaXJrX2NhdCBraXNzaW5nX2NhdCBzY3JlYW1fY2F0IGNyeWluZ19jYXRfZmFjZSBcIiArXG4gICAgICAgICAgICAgICAgXCJwb3V0aW5nX2NhdCByYWlzZWRfaGFuZHMgY2xhcCB3YXZlIHRodW1ic3VwIHRodW1ic2Rvd24gcHVuY2ggZmlzdCB2IG9rX2hhbmQgcmFpc2VkX2hhbmQgb3Blbl9oYW5kcyBcIiArXG4gICAgICAgICAgICAgICAgXCJtdXNjbGUgcHJheSBwb2ludF91cCBwb2ludF91cF8yIHBvaW50X2Rvd24gcG9pbnRfbGVmdCBwb2ludF9yaWdodCBtaWRkbGVfZmluZ2VyIGhhbmRfc3BsYXllZCBtZXRhbCBcIiArXG4gICAgICAgICAgICAgICAgXCJ2dWxjYW4gd3JpdGluZ19oYW5kIG5haWxfY2FyZSBsaXBzIHRvbmd1ZSBlYXIgbm9zZSBleWUgZXllcyBidXN0X2luX3NpbGhvdWV0dGUgYnVzdHNfaW5fc2lsaG91ZXR0ZSBcIiArXG4gICAgICAgICAgICAgICAgXCJzcGVha2luZ19oZWFkIGJhYnkgYm95IGdpcmwgbWFuIHdvbWFuIHBlcnNvbl93aXRoX2Jsb25kX2hhaXIgb2xkZXJfbWFuIG9sZGVyX3dvbWFuIG1hbl93aXRoX2d1YV9waV9tYW8gXCIgK1xuICAgICAgICAgICAgICAgIFwibWFuX3dpdGhfdHVyYmFuIGNvcCBjb25zdHJ1Y3Rpb25fd29ya2VyIGd1YXJkc21hbiBzcHkgc2FudGEgYW5nZWwgcHJpbmNlc3MgYnJpZGVfd2l0aF92ZWlsIHdhbGtpbmcgXCIgK1xuICAgICAgICAgICAgICAgIFwicnVubmVyIGRhbmNlciBkYW5jZXJzIGNvdXBsZSB0d29fbWVuX2hvbGRpbmdfaGFuZHMgdHdvX3dvbWVuX2hvbGRpbmdfaGFuZHMgYm93IGluZm9ybWF0aW9uX2Rlc2tfcGVyc29uIFwiICtcbiAgICAgICAgICAgICAgICBcIm5vX2dvb2Qgb2tfd29tYW4gcmFpc2luZ19oYW5kIHBlcnNvbl93aXRoX3BvdXRpbmdfZmFjZSBwZXJzb25fZnJvd25pbmcgaGFpcmN1dCBtYXNzYWdlIGNvdXBsZV93aXRoX2hlYXJ0IFwiICtcbiAgICAgICAgICAgICAgICBcImNvdXBsZV93dyBjb3VwbGVfbW0gY291cGxla2lzcyBraXNzX3d3IGtpc3NfbW0gZmFtaWx5IGZhbWlseV9td2cgZmFtaWx5X213Z2IgZmFtaWx5X213YmIgZmFtaWx5X213Z2cgXCIgK1xuICAgICAgICAgICAgICAgIFwiZmFtaWx5X3d3YiBmYW1pbHlfd3dnIGZhbWlseV93d2diIGZhbWlseV93d2JiIGZhbWlseV93d2dnIGZhbWlseV9tbWIgZmFtaWx5X21tZyBmYW1pbHlfbW1nYiBmYW1pbHlfbW1iYiBcIiArXG4gICAgICAgICAgICAgICAgXCJmYW1pbHlfbW1nZyB3b21hbnNfY2xvdGhlcyBzaGlydCBqZWFucyBuZWNrdGllIGRyZXNzIGJpa2luaSBraW1vbm8gbGlwc3RpY2sga2lzcyBmb290cHJpbnRzIGhpZ2hfaGVlbCBcIiArXG4gICAgICAgICAgICAgICAgXCJzYW5kYWwgYm9vdCBtYW5zX3Nob2UgYXRobGV0aWNfc2hvZSB3b21hbnNfaGF0IHRvcGhhdCBoZWxtZXRfd2l0aF9jcm9zcyBtb3J0YXJfYm9hcmQgY3Jvd24gc2Nob29sX3NhdGNoZWwgXCIgK1xuICAgICAgICAgICAgICAgIFwicG91Y2ggcHVyc2UgaGFuZGJhZyBicmllZmNhc2UgZXllZ2xhc3NlcyBkYXJrX3N1bmdsYXNzZXMgcmluZyBjbG9zZWRfdW1icmVsbGFcIlxuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgYW5pbWFsc19uYXR1cmU6IHtcbiAgICAgICAgICAgICAgICBpY29uOiBcImhhbXN0ZXJcIixcbiAgICAgICAgICAgICAgICB0aXRsZTogXCJBbmltYWxzICYgTmF0dXJlXCIsXG4gICAgICAgICAgICAgICAgZW1vamk6IFwiZG9nIGNhdCBtb3VzZSBoYW1zdGVyIHJhYmJpdCBiZWFyIHBhbmRhX2ZhY2Uga29hbGEgdGlnZXIgbGlvbl9mYWNlIGNvdyBwaWcgcGlnX25vc2UgZnJvZyBcIiArXG4gICAgICAgICAgICAgICAgXCJvY3RvcHVzIG1vbmtleV9mYWNlIHNlZV9ub19ldmlsIGhlYXJfbm9fZXZpbCBzcGVha19ub19ldmlsIG1vbmtleSBjaGlja2VuIHBlbmd1aW4gYmlyZCBiYWJ5X2NoaWNrIFwiICtcbiAgICAgICAgICAgICAgICBcImhhdGNoaW5nX2NoaWNrIGhhdGNoZWRfY2hpY2sgd29sZiBib2FyIGhvcnNlIHVuaWNvcm4gYmVlIGJ1ZyBzbmFpbCBiZWV0bGUgYW50IHNwaWRlciBzY29ycGlvbiBjcmFiIFwiICtcbiAgICAgICAgICAgICAgICBcInNuYWtlIHR1cnRsZSB0cm9waWNhbF9maXNoIGZpc2ggYmxvd2Zpc2ggZG9scGhpbiB3aGFsZSB3aGFsZTIgY3JvY29kaWxlIGxlb3BhcmQgdGlnZXIyIHdhdGVyX2J1ZmZhbG8gXCIgK1xuICAgICAgICAgICAgICAgIFwib3ggY293MiBkcm9tZWRhcnlfY2FtZWwgY2FtZWwgZWxlcGhhbnQgZ29hdCByYW0gc2hlZXAgcmFjZWhvcnNlIHBpZzIgcmF0IG1vdXNlMiByb29zdGVyIHR1cmtleSBkb3ZlIFwiICtcbiAgICAgICAgICAgICAgICBcImRvZzIgcG9vZGxlIGNhdDIgcmFiYml0MiBjaGlwbXVuayBmZWV0IGRyYWdvbiBkcmFnb25fZmFjZSBjYWN0dXMgY2hyaXN0bWFzX3RyZWUgZXZlcmdyZWVuX3RyZWUgXCIgK1xuICAgICAgICAgICAgICAgIFwiZGVjaWR1b3VzX3RyZWUgcGFsbV90cmVlIHNlZWRsaW5nIGhlcmIgc2hhbXJvY2sgZm91cl9sZWFmX2Nsb3ZlciBiYW1ib28gdGFuYWJhdGFfdHJlZSBsZWF2ZXMgXCIgK1xuICAgICAgICAgICAgICAgIFwiZmFsbGVuX2xlYWYgbWFwbGVfbGVhZiBlYXJfb2ZfcmljZSBoaWJpc2N1cyBzdW5mbG93ZXIgcm9zZSB0dWxpcCBibG9zc29tIGNoZXJyeV9ibG9zc29tIGJvdXF1ZXQgXCIgK1xuICAgICAgICAgICAgICAgIFwibXVzaHJvb20gY2hlc3RudXQgamFja19vX2xhbnRlcm4gc2hlbGwgc3BpZGVyX3dlYiBlYXJ0aF9hbWVyaWNhcyBlYXJ0aF9hZnJpY2EgZWFydGhfYXNpYSBmdWxsX21vb24gXCIgK1xuICAgICAgICAgICAgICAgIFwid2FuaW5nX2dpYmJvdXNfbW9vbiBsYXN0X3F1YXJ0ZXJfbW9vbiB3YW5pbmdfY3Jlc2NlbnRfbW9vbiBuZXdfbW9vbiB3YXhpbmdfY3Jlc2NlbnRfbW9vbiBcIiArXG4gICAgICAgICAgICAgICAgXCJmaXJzdF9xdWFydGVyX21vb24gd2F4aW5nX2dpYmJvdXNfbW9vbiBuZXdfbW9vbl93aXRoX2ZhY2UgZnVsbF9tb29uX3dpdGhfZmFjZSBmaXJzdF9xdWFydGVyX21vb25fd2l0aF9mYWNlIFwiICtcbiAgICAgICAgICAgICAgICBcImxhc3RfcXVhcnRlcl9tb29uX3dpdGhfZmFjZSBzdW5fd2l0aF9mYWNlIGNyZXNjZW50X21vb24gc3RhciBzdGFyMiBkaXp6eSBzcGFya2xlcyBjb21ldCBzdW5ueSBcIiArXG4gICAgICAgICAgICAgICAgXCJ3aGl0ZV9zdW5fc21hbGxfY2xvdWQgcGFydGx5X3N1bm55IHdoaXRlX3N1bl9jbG91ZCB3aGl0ZV9zdW5fcmFpbl9jbG91ZCBjbG91ZCBjbG91ZF9yYWluIFwiICtcbiAgICAgICAgICAgICAgICBcInRodW5kZXJfY2xvdWRfcmFpbiBjbG91ZF9saWdodG5pbmcgemFwIGZpcmUgYm9vbSBzbm93Zmxha2UgY2xvdWRfc25vdyBzbm93bWFuMiBzbm93bWFuIHdpbmRfYmxvd2luZ19mYWNlIFwiICtcbiAgICAgICAgICAgICAgICBcImRhc2ggY2xvdWRfdG9ybmFkbyBmb2cgdW1icmVsbGEyIHVtYnJlbGxhIGRyb3BsZXQgc3dlYXRfZHJvcHMgb2NlYW5cIlxuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgZm9vZF9kcmluazoge1xuICAgICAgICAgICAgICAgIGljb246IFwicGl6emFcIixcbiAgICAgICAgICAgICAgICB0aXRsZTogXCJGb29kICYgRHJpbmtcIixcbiAgICAgICAgICAgICAgICBlbW9qaTogXCJncmVlbl9hcHBsZSBhcHBsZSBwZWFyIHRhbmdlcmluZSBsZW1vbiBiYW5hbmEgd2F0ZXJtZWxvbiBncmFwZXMgc3RyYXdiZXJyeSBtZWxvbiBjaGVycmllcyBwZWFjaCBcIiArXG4gICAgICAgICAgICAgICAgXCJwaW5lYXBwbGUgdG9tYXRvIGVnZ3BsYW50IGhvdF9wZXBwZXIgY29ybiBzd2VldF9wb3RhdG8gaG9uZXlfcG90IGJyZWFkIGNoZWVzZSBwb3VsdHJ5X2xlZyBtZWF0X29uX2JvbmUgXCIgK1xuICAgICAgICAgICAgICAgIFwiZnJpZWRfc2hyaW1wIGVnZyBoYW1idXJnZXIgZnJpZXMgaG90ZG9nIHBpenphIHNwYWdoZXR0aSB0YWNvIGJ1cnJpdG8gcmFtZW4gc3RldyBmaXNoX2Nha2Ugc3VzaGkgYmVudG8gXCIgK1xuICAgICAgICAgICAgICAgIFwiY3VycnkgcmljZV9iYWxsIHJpY2UgcmljZV9jcmFja2VyIG9kZW4gZGFuZ28gc2hhdmVkX2ljZSBpY2VfY3JlYW0gaWNlY3JlYW0gY2FrZSBiaXJ0aGRheSBjdXN0YXJkIGNhbmR5IFwiICtcbiAgICAgICAgICAgICAgICBcImxvbGxpcG9wIGNob2NvbGF0ZV9iYXIgcG9wY29ybiBkb3VnaG51dCBjb29raWUgYmVlciBiZWVycyB3aW5lX2dsYXNzIGNvY2t0YWlsIHRyb3BpY2FsX2RyaW5rIGNoYW1wYWduZSBcIiArXG4gICAgICAgICAgICAgICAgXCJzYWtlIHRlYSBjb2ZmZWUgYmFieV9ib3R0bGUgZm9ya19hbmRfa25pZmUgZm9ya19rbmlmZV9wbGF0ZVwiXG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICBhY3Rpdml0eToge1xuICAgICAgICAgICAgICAgIGljb246IFwiYmFza2V0YmFsbFwiLFxuICAgICAgICAgICAgICAgIHRpdGxlOiBcIkFjdGl2aXR5XCIsXG4gICAgICAgICAgICAgICAgZW1vamk6IFwic29jY2VyIGJhc2tldGJhbGwgZm9vdGJhbGwgYmFzZWJhbGwgdGVubmlzIHZvbGxleWJhbGwgcnVnYnlfZm9vdGJhbGwgOGJhbGwgZ29sZiBnb2xmZXIgcGluZ19wb25nIFwiICtcbiAgICAgICAgICAgICAgICBcImJhZG1pbnRvbiBob2NrZXkgZmllbGRfaG9ja2V5IGNyaWNrZXQgc2tpIHNraWVyIHNub3dib2FyZGVyIGljZV9za2F0ZSBib3dfYW5kX2Fycm93IGZpc2hpbmdfcG9sZV9hbmRfZmlzaCBcIiArXG4gICAgICAgICAgICAgICAgXCJyb3dib2F0IHN3aW1tZXIgc3VyZmVyIGJhdGggYmFza2V0YmFsbF9wbGF5ZXIgbGlmdGVyIGJpY3ljbGlzdCBtb3VudGFpbl9iaWN5Y2xpc3QgaG9yc2VfcmFjaW5nIGxldml0YXRlIFwiICtcbiAgICAgICAgICAgICAgICBcInRyb3BoeSBydW5uaW5nX3NoaXJ0X3dpdGhfc2FzaCBtZWRhbCBtaWxpdGFyeV9tZWRhbCByZW1pbmRlcl9yaWJib24gcm9zZXR0ZSB0aWNrZXQgdGlja2V0cyBwZXJmb3JtaW5nX2FydHMgXCIgK1xuICAgICAgICAgICAgICAgIFwiYXJ0IGNpcmN1c190ZW50IG1pY3JvcGhvbmUgaGVhZHBob25lcyBtdXNpY2FsX3Njb3JlIG11c2ljYWxfa2V5Ym9hcmQgc2F4b3Bob25lIHRydW1wZXQgZ3VpdGFyIHZpb2xpbiBcIiArXG4gICAgICAgICAgICAgICAgXCJjbGFwcGVyIHZpZGVvX2dhbWUgc3BhY2VfaW52YWRlciBkYXJ0IGdhbWVfZGllIHNsb3RfbWFjaGluZSBib3dsaW5nXCJcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIHRyYXZlbF9wbGFjZXM6IHtcbiAgICAgICAgICAgICAgICBpY29uOiBcInJvY2tldFwiLFxuICAgICAgICAgICAgICAgIHRpdGxlOiBcIlRyYXZlbCAmIFBsYWNlc1wiLFxuICAgICAgICAgICAgICAgIGVtb2ppOiBcInJlZF9jYXIgdGF4aSBibHVlX2NhciBidXMgdHJvbGxleWJ1cyByYWNlX2NhciBwb2xpY2VfY2FyIGFtYnVsYW5jZSBmaXJlX2VuZ2luZSBtaW5pYnVzIHRydWNrIFwiICtcbiAgICAgICAgICAgICAgICBcImFydGljdWxhdGVkX2xvcnJ5IHRyYWN0b3IgbW90b3JjeWNsZSBiaWtlIHJvdGF0aW5nX2xpZ2h0IG9uY29taW5nX3BvbGljZV9jYXIgb25jb21pbmdfYnVzIFwiICtcbiAgICAgICAgICAgICAgICBcIm9uY29taW5nX2F1dG9tb2JpbGUgb25jb21pbmdfdGF4aSBhZXJpYWxfdHJhbXdheSBtb3VudGFpbl9jYWJsZXdheSBzdXNwZW5zaW9uX3JhaWx3YXkgcmFpbHdheV9jYXIgXCIgK1xuICAgICAgICAgICAgICAgIFwidHJhaW4gbW9ub3JhaWwgYnVsbGV0dHJhaW5fc2lkZSBidWxsZXR0cmFpbl9mcm9udCBsaWdodF9yYWlsIG1vdW50YWluX3JhaWx3YXkgc3RlYW1fbG9jb21vdGl2ZSB0cmFpbjIgXCIgK1xuICAgICAgICAgICAgICAgIFwibWV0cm8gdHJhbSBzdGF0aW9uIGhlbGljb3B0ZXIgYWlycGxhbmVfc21hbGwgYWlycGxhbmUgYWlycGxhbmVfZGVwYXJ0dXJlIGFpcnBsYW5lX2Fycml2aW5nIHNhaWxib2F0IFwiICtcbiAgICAgICAgICAgICAgICBcIm1vdG9yYm9hdCBzcGVlZGJvYXQgZmVycnkgY3J1aXNlX3NoaXAgcm9ja2V0IHNhdGVsbGl0ZV9vcmJpdGFsIHNlYXQgYW5jaG9yIGNvbnN0cnVjdGlvbiBmdWVscHVtcCBidXNzdG9wIFwiICtcbiAgICAgICAgICAgICAgICBcInZlcnRpY2FsX3RyYWZmaWNfbGlnaHQgdHJhZmZpY19saWdodCBjaGVja2VyZWRfZmxhZyBzaGlwIGZlcnJpc193aGVlbCByb2xsZXJfY29hc3RlciBjYXJvdXNlbF9ob3JzZSBcIiArXG4gICAgICAgICAgICAgICAgXCJjb25zdHJ1Y3Rpb25fc2l0ZSBmb2dneSB0b2t5b190b3dlciBmYWN0b3J5IGZvdW50YWluIHJpY2Vfc2NlbmUgbW91bnRhaW4gbW91bnRhaW5fc25vdyBtb3VudF9mdWppIHZvbGNhbm8gXCIgK1xuICAgICAgICAgICAgICAgIFwiamFwYW4gY2FtcGluZyB0ZW50IHBhcmsgbW90b3J3YXkgcmFpbHdheV90cmFjayBzdW5yaXNlIHN1bnJpc2Vfb3Zlcl9tb3VudGFpbnMgZGVzZXJ0IGJlYWNoIGlzbGFuZCBcIiArXG4gICAgICAgICAgICAgICAgXCJjaXR5X3N1bnNldCBjaXR5X2R1c2sgY2l0eXNjYXBlIG5pZ2h0X3dpdGhfc3RhcnMgYnJpZGdlX2F0X25pZ2h0IG1pbGt5X3dheSBzdGFycyBzcGFya2xlciBmaXJld29ya3MgXCIgK1xuICAgICAgICAgICAgICAgIFwicmFpbmJvdyBob21lcyBldXJvcGVhbl9jYXN0bGUgamFwYW5lc2VfY2FzdGxlIHN0YWRpdW0gc3RhdHVlX29mX2xpYmVydHkgaG91c2UgaG91c2Vfd2l0aF9nYXJkZW4gXCIgK1xuICAgICAgICAgICAgICAgIFwiaG91c2VfYWJhbmRvbmVkIG9mZmljZSBkZXBhcnRtZW50X3N0b3JlIHBvc3Rfb2ZmaWNlIGV1cm9wZWFuX3Bvc3Rfb2ZmaWNlIGhvc3BpdGFsIGJhbmsgaG90ZWwgXCIgK1xuICAgICAgICAgICAgICAgIFwiY29udmVuaWVuY2Vfc3RvcmUgc2Nob29sIGxvdmVfaG90ZWwgd2VkZGluZyBjbGFzc2ljYWxfYnVpbGRpbmcgY2h1cmNoIG1vc3F1ZSBzeW5hZ29ndWUga2FhYmEgc2hpbnRvX3NocmluZVwiXG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICBvYmplY3RzOiB7XG4gICAgICAgICAgICAgICAgaWNvbjogXCJidWxiXCIsXG4gICAgICAgICAgICAgICAgdGl0bGU6IFwiT2JqZWN0c1wiLFxuICAgICAgICAgICAgICAgIGVtb2ppOiBcIndhdGNoIGlwaG9uZSBjYWxsaW5nIGNvbXB1dGVyIGtleWJvYXJkIGRlc2t0b3AgcHJpbnRlciBtb3VzZV90aHJlZV9idXR0b24gdHJhY2tiYWxsIGpveXN0aWNrIFwiICtcbiAgICAgICAgICAgICAgICBcImNvbXByZXNzaW9uIG1pbmlkaXNjIGZsb3BweV9kaXNrIGNkIGR2ZCB2aHMgY2FtZXJhIGNhbWVyYV93aXRoX2ZsYXNoIHZpZGVvX2NhbWVyYSBtb3ZpZV9jYW1lcmEgcHJvamVjdG9yIFwiICtcbiAgICAgICAgICAgICAgICBcImZpbG1fZnJhbWVzIHRlbGVwaG9uZV9yZWNlaXZlciB0ZWxlcGhvbmUgcGFnZXIgZmF4IHR2IHJhZGlvIG1pY3JvcGhvbmUyIGxldmVsX3NsaWRlciBjb250cm9sX2tub2JzIFwiICtcbiAgICAgICAgICAgICAgICBcInN0b3B3YXRjaCB0aW1lciBhbGFybV9jbG9jayBjbG9jayBob3VyZ2xhc3NfZmxvd2luZ19zYW5kIGhvdXJnbGFzcyBzYXRlbGxpdGUgYmF0dGVyeSBlbGVjdHJpY19wbHVnIGJ1bGIgXCIgK1xuICAgICAgICAgICAgICAgIFwiZmxhc2hsaWdodCBjYW5kbGUgd2FzdGViYXNrZXQgb2lsIG1vbmV5X3dpdGhfd2luZ3MgZG9sbGFyIHllbiBldXJvIHBvdW5kIG1vbmV5YmFnIGNyZWRpdF9jYXJkIGdlbSBzY2FsZXMgXCIgK1xuICAgICAgICAgICAgICAgIFwid3JlbmNoIGhhbW1lciBoYW1tZXJfcGljayB0b29scyBwaWNrIG51dF9hbmRfYm9sdCBnZWFyIGNoYWlucyBndW4gYm9tYiBrbmlmZSBkYWdnZXIgY3Jvc3NlZF9zd29yZHMgc2hpZWxkIFwiICtcbiAgICAgICAgICAgICAgICBcInNtb2tpbmcgc2t1bGxfY3Jvc3Nib25lcyBjb2ZmaW4gdXJuIGFtcGhvcmEgY3J5c3RhbF9iYWxsIHByYXllcl9iZWFkcyBiYXJiZXIgYWxlbWJpYyB0ZWxlc2NvcGUgbWljcm9zY29wZSBcIiArXG4gICAgICAgICAgICAgICAgXCJob2xlIHBpbGwgc3lyaW5nZSB0aGVybW9tZXRlciBsYWJlbCBib29rbWFyayB0b2lsZXQgc2hvd2VyIGJhdGh0dWIga2V5IGtleTIgY291Y2ggc2xlZXBpbmdfYWNjb21tb2RhdGlvbiBcIiArXG4gICAgICAgICAgICAgICAgXCJiZWQgZG9vciBiZWxsaG9wIGZyYW1lX3Bob3RvIG1hcCBiZWFjaF91bWJyZWxsYSBtb3lhaSBzaG9wcGluZ19iYWdzIGJhbGxvb24gZmxhZ3MgcmliYm9uIGdpZnQgY29uZmV0dGlfYmFsbCBcIiArXG4gICAgICAgICAgICAgICAgXCJ0YWRhIGRvbGxzIHdpbmRfY2hpbWUgY3Jvc3NlZF9mbGFncyBpemFrYXlhX2xhbnRlcm4gZW52ZWxvcGUgZW52ZWxvcGVfd2l0aF9hcnJvdyBpbmNvbWluZ19lbnZlbG9wZSBlLW1haWwgXCIgK1xuICAgICAgICAgICAgICAgIFwibG92ZV9sZXR0ZXIgcG9zdGJveCBtYWlsYm94X2Nsb3NlZCBtYWlsYm94IG1haWxib3hfd2l0aF9tYWlsIG1haWxib3hfd2l0aF9ub19tYWlsIHBhY2thZ2UgcG9zdGFsX2hvcm4gXCIgK1xuICAgICAgICAgICAgICAgIFwiaW5ib3hfdHJheSBvdXRib3hfdHJheSBzY3JvbGwgcGFnZV93aXRoX2N1cmwgYm9va21hcmtfdGFicyBiYXJfY2hhcnQgY2hhcnRfd2l0aF91cHdhcmRzX3RyZW5kIFwiICtcbiAgICAgICAgICAgICAgICBcImNoYXJ0X3dpdGhfZG93bndhcmRzX3RyZW5kIHBhZ2VfZmFjaW5nX3VwIGRhdGUgY2FsZW5kYXIgY2FsZW5kYXJfc3BpcmFsIGNhcmRfaW5kZXggY2FyZF9ib3ggYmFsbG90X2JveCBcIiArXG4gICAgICAgICAgICAgICAgXCJmaWxlX2NhYmluZXQgY2xpcGJvYXJkIG5vdGVwYWRfc3BpcmFsIGZpbGVfZm9sZGVyIG9wZW5fZmlsZV9mb2xkZXIgZGl2aWRlcnMgbmV3c3BhcGVyMiBuZXdzcGFwZXIgbm90ZWJvb2sgXCIgK1xuICAgICAgICAgICAgICAgIFwiY2xvc2VkX2Jvb2sgZ3JlZW5fYm9vayBibHVlX2Jvb2sgb3JhbmdlX2Jvb2sgbm90ZWJvb2tfd2l0aF9kZWNvcmF0aXZlX2NvdmVyIGxlZGdlciBib29rcyBib29rIGxpbmsgXCIgK1xuICAgICAgICAgICAgICAgIFwicGFwZXJjbGlwIHBhcGVyY2xpcHMgc2Npc3NvcnMgdHJpYW5ndWxhcl9ydWxlciBzdHJhaWdodF9ydWxlciBwdXNocGluIHJvdW5kX3B1c2hwaW4gdHJpYW5ndWxhcl9mbGFnX29uX3Bvc3QgXCIgK1xuICAgICAgICAgICAgICAgIFwiZmxhZ193aGl0ZSBmbGFnX2JsYWNrIGNsb3NlZF9sb2NrX3dpdGhfa2V5IGxvY2sgdW5sb2NrIGxvY2tfd2l0aF9pbmtfcGVuIHBlbl9iYWxscG9pbnQgcGVuX2ZvdW50YWluIFwiICtcbiAgICAgICAgICAgICAgICBcImJsYWNrX25pYiBwZW5jaWwgcGVuY2lsMiBjcmF5b24gcGFpbnRicnVzaCBtYWcgbWFnX3JpZ2h0XCJcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIHN5bWJvbHM6IHtcbiAgICAgICAgICAgICAgICBpY29uOiBcImhlYXJ0cHVsc2VcIixcbiAgICAgICAgICAgICAgICB0aXRsZTogXCJTeW1ib2xzXCIsXG4gICAgICAgICAgICAgICAgZW1vamk6IFwiaGVhcnQgeWVsbG93X2hlYXJ0IGdyZWVuX2hlYXJ0IGJsdWVfaGVhcnQgcHVycGxlX2hlYXJ0IGJyb2tlbl9oZWFydCBoZWFydF9leGNsYW1hdGlvbiB0d29faGVhcnRzIFwiICtcbiAgICAgICAgICAgICAgICBcInJldm9sdmluZ19oZWFydHMgaGVhcnRiZWF0IGhlYXJ0cHVsc2Ugc3BhcmtsaW5nX2hlYXJ0IGN1cGlkIGdpZnRfaGVhcnQgaGVhcnRfZGVjb3JhdGlvbiBwZWFjZSBjcm9zcyBcIiArXG4gICAgICAgICAgICAgICAgXCJzdGFyX2FuZF9jcmVzY2VudCBvbV9zeW1ib2wgd2hlZWxfb2ZfZGhhcm1hIHN0YXJfb2ZfZGF2aWQgc2l4X3BvaW50ZWRfc3RhciBtZW5vcmFoIHlpbl95YW5nIG9ydGhvZG94X2Nyb3NzIFwiICtcbiAgICAgICAgICAgICAgICBcInBsYWNlX29mX3dvcnNoaXAgb3BoaXVjaHVzIGFyaWVzIHRhdXJ1cyBnZW1pbmkgY2FuY2VyIGxlbyB2aXJnbyBsaWJyYSBzY29ycGl1cyBzYWdpdHRhcml1cyBjYXByaWNvcm4gXCIgK1xuICAgICAgICAgICAgICAgIFwiYXF1YXJpdXMgcGlzY2VzIGlkIGF0b20gdTdhN2EgdTUyNzIgcmFkaW9hY3RpdmUgYmlvaGF6YXJkIG1vYmlsZV9waG9uZV9vZmYgdmlicmF0aW9uX21vZGUgdTY3MDkgdTcxMjEgXCIgK1xuICAgICAgICAgICAgICAgIFwidTc1MzMgdTU1YjYgdTY3MDggZWlnaHRfcG9pbnRlZF9ibGFja19zdGFyIHZzIGFjY2VwdCB3aGl0ZV9mbG93ZXIgaWRlb2dyYXBoX2FkdmFudGFnZSBzZWNyZXQgY29uZ3JhdHVsYXRpb25zIFwiICtcbiAgICAgICAgICAgICAgICBcInU1NDA4IHU2ZTgwIHU3OTgxIGEgYiBhYiBjbCBvMiBzb3Mgbm9fZW50cnkgbmFtZV9iYWRnZSBub19lbnRyeV9zaWduIHggbyBhbmdlciBob3RzcHJpbmdzIG5vX3BlZGVzdHJpYW5zIFwiICtcbiAgICAgICAgICAgICAgICBcImRvX25vdF9saXR0ZXIgbm9fYmljeWNsZXMgbm9uLXBvdGFibGVfd2F0ZXIgdW5kZXJhZ2Ugbm9fbW9iaWxlX3Bob25lcyBleGNsYW1hdGlvbiBncmV5X2V4Y2xhbWF0aW9uIHF1ZXN0aW9uIFwiICtcbiAgICAgICAgICAgICAgICBcImdyZXlfcXVlc3Rpb24gYmFuZ2JhbmcgaW50ZXJyb2JhbmcgMTAwIGxvd19icmlnaHRuZXNzIGhpZ2hfYnJpZ2h0bmVzcyB0cmlkZW50IGZsZXVyLWRlLWxpcyBwYXJ0X2FsdGVybmF0aW9uX21hcmsgXCIgK1xuICAgICAgICAgICAgICAgIFwid2FybmluZyBjaGlsZHJlbl9jcm9zc2luZyBiZWdpbm5lciByZWN5Y2xlIHU2MzA3IGNoYXJ0IHNwYXJrbGUgZWlnaHRfc3Bva2VkX2FzdGVyaXNrIG5lZ2F0aXZlX3NxdWFyZWRfY3Jvc3NfbWFyayBcIiArXG4gICAgICAgICAgICAgICAgXCJ3aGl0ZV9jaGVja19tYXJrIGRpYW1vbmRfc2hhcGVfd2l0aF9hX2RvdF9pbnNpZGUgY3ljbG9uZSBsb29wIGdsb2JlX3dpdGhfbWVyaWRpYW5zIG0gYXRtIHNhIHBhc3Nwb3J0X2NvbnRyb2wgXCIgK1xuICAgICAgICAgICAgICAgIFwiY3VzdG9tcyBiYWdnYWdlX2NsYWltIGxlZnRfbHVnZ2FnZSB3aGVlbGNoYWlyIG5vX3Ntb2tpbmcgd2MgcGFya2luZyBwb3RhYmxlX3dhdGVyIG1lbnMgd29tZW5zIGJhYnlfc3ltYm9sIFwiICtcbiAgICAgICAgICAgICAgICBcInJlc3Ryb29tIHB1dF9saXR0ZXJfaW5faXRzX3BsYWNlIGNpbmVtYSBzaWduYWxfc3RyZW5ndGgga29rbyBuZyBvayB1cCBjb29sIG5ldyBmcmVlIHplcm8gb25lIHR3byB0aHJlZSBmb3VyIFwiICtcbiAgICAgICAgICAgICAgICBcImZpdmUgc2l4IHNldmVuIGVpZ2h0IG5pbmUgdGVuIDEyMzQgYXJyb3dfZm9yd2FyZCBwYXVzZV9idXR0b24gcGxheV9wYXVzZSBzdG9wX2J1dHRvbiByZWNvcmRfYnV0dG9uIHRyYWNrX25leHQgXCIgK1xuICAgICAgICAgICAgICAgIFwidHJhY2tfcHJldmlvdXMgZmFzdF9mb3J3YXJkIHJld2luZCB0d2lzdGVkX3JpZ2h0d2FyZHNfYXJyb3dzIHJlcGVhdCByZXBlYXRfb25lIGFycm93X2JhY2t3YXJkIGFycm93X3VwX3NtYWxsIFwiICtcbiAgICAgICAgICAgICAgICBcImFycm93X2Rvd25fc21hbGwgYXJyb3dfZG91YmxlX3VwIGFycm93X2RvdWJsZV9kb3duIGFycm93X3JpZ2h0IGFycm93X2xlZnQgYXJyb3dfdXAgYXJyb3dfZG93biBhcnJvd191cHBlcl9yaWdodCBcIiArXG4gICAgICAgICAgICAgICAgXCJhcnJvd19sb3dlcl9yaWdodCBhcnJvd19sb3dlcl9sZWZ0IGFycm93X3VwcGVyX2xlZnQgYXJyb3dfdXBfZG93biBsZWZ0X3JpZ2h0X2Fycm93IGFycm93c19jb3VudGVyY2xvY2t3aXNlIFwiICtcbiAgICAgICAgICAgICAgICBcImFycm93X3JpZ2h0X2hvb2sgbGVmdHdhcmRzX2Fycm93X3dpdGhfaG9vayBhcnJvd19oZWFkaW5nX3VwIGFycm93X2hlYWRpbmdfZG93biBoYXNoIGFzdGVyaXNrIGluZm9ybWF0aW9uX3NvdXJjZSBcIiArXG4gICAgICAgICAgICAgICAgXCJhYmMgYWJjZCBjYXBpdGFsX2FiY2Qgc3ltYm9scyBtdXNpY2FsX25vdGUgbm90ZXMgd2F2eV9kYXNoIGN1cmx5X2xvb3AgaGVhdnlfY2hlY2tfbWFyayBhcnJvd3NfY2xvY2t3aXNlIFwiICtcbiAgICAgICAgICAgICAgICBcImhlYXZ5X3BsdXNfc2lnbiBoZWF2eV9taW51c19zaWduIGhlYXZ5X2RpdmlzaW9uX3NpZ24gaGVhdnlfbXVsdGlwbGljYXRpb25feCBoZWF2eV9kb2xsYXJfc2lnbiBjdXJyZW5jeV9leGNoYW5nZSBcIiArXG4gICAgICAgICAgICAgICAgXCJjb3B5cmlnaHQgcmVnaXN0ZXJlZCB0bSBlbmQgYmFjayBvbiB0b3Agc29vbiBiYWxsb3RfYm94X3dpdGhfY2hlY2sgcmFkaW9fYnV0dG9uIHdoaXRlX2NpcmNsZSBibGFja19jaXJjbGUgXCIgK1xuICAgICAgICAgICAgICAgIFwicmVkX2NpcmNsZSBsYXJnZV9ibHVlX2NpcmNsZSBzbWFsbF9vcmFuZ2VfZGlhbW9uZCBzbWFsbF9ibHVlX2RpYW1vbmQgbGFyZ2Vfb3JhbmdlX2RpYW1vbmQgbGFyZ2VfYmx1ZV9kaWFtb25kIFwiICtcbiAgICAgICAgICAgICAgICBcInNtYWxsX3JlZF90cmlhbmdsZSBibGFja19zbWFsbF9zcXVhcmUgd2hpdGVfc21hbGxfc3F1YXJlIGJsYWNrX2xhcmdlX3NxdWFyZSB3aGl0ZV9sYXJnZV9zcXVhcmUgc21hbGxfcmVkX3RyaWFuZ2xlX2Rvd24gXCIgK1xuICAgICAgICAgICAgICAgIFwiYmxhY2tfbWVkaXVtX3NxdWFyZSB3aGl0ZV9tZWRpdW1fc3F1YXJlIGJsYWNrX21lZGl1bV9zbWFsbF9zcXVhcmUgd2hpdGVfbWVkaXVtX3NtYWxsX3NxdWFyZSBibGFja19zcXVhcmVfYnV0dG9uIFwiICtcbiAgICAgICAgICAgICAgICBcIndoaXRlX3NxdWFyZV9idXR0b24gc3BlYWtlciBzb3VuZCBsb3VkX3NvdW5kIG11dGUgbWVnYSBsb3Vkc3BlYWtlciBiZWxsIG5vX2JlbGwgYmxhY2tfam9rZXIgbWFoam9uZyBzcGFkZXMgXCIgK1xuICAgICAgICAgICAgICAgIFwiY2x1YnMgaGVhcnRzIGRpYW1vbmRzIGZsb3dlcl9wbGF5aW5nX2NhcmRzIHRob3VnaHRfYmFsbG9vbiBhbmdlcl9yaWdodCBzcGVlY2hfYmFsbG9vbiBjbG9jazEgY2xvY2syIGNsb2NrMyBcIiArXG4gICAgICAgICAgICAgICAgXCJjbG9jazQgY2xvY2s1IGNsb2NrNiBjbG9jazcgY2xvY2s4IGNsb2NrOSBjbG9jazEwIGNsb2NrMTEgY2xvY2sxMiBjbG9jazEzMCBjbG9jazIzMCBjbG9jazMzMCBjbG9jazQzMCBcIiArXG4gICAgICAgICAgICAgICAgXCJjbG9jazUzMCBjbG9jazYzMCBjbG9jazczMCBjbG9jazgzMCBjbG9jazkzMCBjbG9jazEwMzAgY2xvY2sxMTMwIGNsb2NrMTIzMCBleWVfaW5fc3BlZWNoX2J1YmJsZVwiXG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICBmbGFnczoge1xuICAgICAgICAgICAgICAgIGljb246IFwiZmxhZ19nYlwiLFxuICAgICAgICAgICAgICAgIHRpdGxlOiBcIkZsYWdzXCIsXG4gICAgICAgICAgICAgICAgZW1vamk6IFwiYWMgYWYgYWwgZHogYWQgYW8gYWkgYWcgYXIgYW0gYXcgYXUgYXQgYXogYnMgYmggYmQgYmIgYnkgYmUgYnogYmogYm0gYnQgYm8gYmEgYncgYnIgYm4gYmcgYmYgYmkgXCIgK1xuICAgICAgICAgICAgICAgIFwiY3Yga2ggY20gY2Ega3kgY2YgdGQgZmxhZ19jbCBjbiBjbyBrbSBjZyBmbGFnX2NkIGNyIGhyIGN1IGN5IGN6IGRrIGRqIGRtIGRvIGVjIGVnIHN2IGdxIGVyIGVlIGV0IGZrIGZvIFwiICtcbiAgICAgICAgICAgICAgICBcImZqIGZpIGZyIHBmIGdhIGdtIGdlIGRlIGdoIGdpIGdyIGdsIGdkIGd1IGd0IGduIGd3IGd5IGh0IGhuIGhrIGh1IGlzIGluIGZsYWdfaWQgaXIgaXEgaWUgaWwgaXQgY2kgam0ganAgXCIgK1xuICAgICAgICAgICAgICAgIFwiamUgam8ga3oga2Uga2kgeGsga3cga2cgbGEgbHYgbGIgbHMgbHIgbHkgbGkgbHQgbHUgbW8gbWsgbWcgbXcgbXkgbXYgbWwgbXQgbWggbXIgbXUgbXggZm0gbWQgbWMgbW4gbWUgXCIgK1xuICAgICAgICAgICAgICAgIFwibXMgbWEgbXogbW0gbmEgbnIgbnAgbmwgbmMgbnogbmkgbmUgZmxhZ19uZyBudSBrcCBubyBvbSBwayBwdyBwcyBwYSBwZyBweSBwZSBwaCBwbCBwdCBwciBxYSBybyBydSBydyBcIiArXG4gICAgICAgICAgICAgICAgXCJzaCBrbiBsYyB2YyB3cyBzbSBzdCBmbGFnX3NhIHNuIHJzIHNjIHNsIHNnIHNrIHNpIHNiIHNvIHphIGtyIGVzIGxrIHNkIHNyIHN6IHNlIGNoIHN5IHR3IHRqIHR6IHRoIHRsIFwiICtcbiAgICAgICAgICAgICAgICBcInRnIHRvIHR0IHRuIHRyIGZsYWdfdG0gZmxhZ190bSB1ZyB1YSBhZSBnYiB1cyB2aSB1eSB1eiB2dSB2YSB2ZSB2biB3ZiBlaCB5ZSB6bSB6dyByZSBheCB0YSBpbyBicSBjeCBcIiArXG4gICAgICAgICAgICAgICAgXCJjYyBnZyBpbSB5dCBuZiBwbiBibCBwbSBncyB0ayBidiBobSBzaiB1bSBpYyBlYSBjcCBkZyBhcyBhcSB2ZyBjayBjdyBldSBnZiB0ZiBncCBtcSBtcCBzeCBzcyB0YyBcIlxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfTtcbiAgICBmdW5jdGlvbiBpc09iamVjdCh2YXJpYWJsZSkge1xuICAgICAgICByZXR1cm4gdHlwZW9mIHZhcmlhYmxlID09PSAnb2JqZWN0JztcbiAgICB9O1xuICAgIGZ1bmN0aW9uIGdldE9wdGlvbnMob3B0aW9ucykge1xuICAgICAgICBpZiAob3B0aW9uc1snZmlsdGVycyddKSB7XG4gICAgICAgICAgICB2YXIgZmlsdGVycyA9IGRlZmF1bHRfb3B0aW9ucy5maWx0ZXJzO1xuICAgICAgICAgICAgJC5lYWNoKG9wdGlvbnNbJ2ZpbHRlcnMnXSwgZnVuY3Rpb24oZmlsdGVyLCBkYXRhKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFpc09iamVjdChkYXRhKSB8fCAkLmlzRW1wdHlPYmplY3QoZGF0YSkpIHtcbiAgICAgICAgICAgICAgICAgICAgZGVsZXRlIGZpbHRlcnNbZmlsdGVyXTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAkLmVhY2goZGF0YSwgZnVuY3Rpb24oa2V5LCB2YWwpIHtcbiAgICAgICAgICAgICAgICAgICAgZmlsdGVyc1tmaWx0ZXJdW2tleV0gPSB2YWw7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIG9wdGlvbnNbJ2ZpbHRlcnMnXSA9IGZpbHRlcnM7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICQuZXh0ZW5kKHt9LCBkZWZhdWx0X29wdGlvbnMsIG9wdGlvbnMpO1xuICAgIH1cblxuICAgIHZhciBzYXZlU2VsZWN0aW9uLCByZXN0b3JlU2VsZWN0aW9uO1xuICAgIGlmICh3aW5kb3cuZ2V0U2VsZWN0aW9uICYmIGRvY3VtZW50LmNyZWF0ZVJhbmdlKSB7XG4gICAgICAgIHNhdmVTZWxlY3Rpb24gPSBmdW5jdGlvbihlbCkge1xuICAgICAgICAgICAgdmFyIHJhbmdlID0gd2luZG93LmdldFNlbGVjdGlvbigpLmdldFJhbmdlQXQoMCk7XG4gICAgICAgICAgICB2YXIgcHJlU2VsZWN0aW9uUmFuZ2UgPSByYW5nZS5jbG9uZVJhbmdlKCk7XG4gICAgICAgICAgICBwcmVTZWxlY3Rpb25SYW5nZS5zZWxlY3ROb2RlQ29udGVudHMoZWwpO1xuICAgICAgICAgICAgcHJlU2VsZWN0aW9uUmFuZ2Uuc2V0RW5kKHJhbmdlLnN0YXJ0Q29udGFpbmVyLCByYW5nZS5zdGFydE9mZnNldCk7XG4gICAgICAgICAgICByZXR1cm4gcHJlU2VsZWN0aW9uUmFuZ2UudG9TdHJpbmcoKS5sZW5ndGg7XG4gICAgICAgIH07XG5cbiAgICAgICAgcmVzdG9yZVNlbGVjdGlvbiA9IGZ1bmN0aW9uKGVsLCBzZWwpIHtcbiAgICAgICAgICAgIHZhciBjaGFySW5kZXggPSAwLCByYW5nZSA9IGRvY3VtZW50LmNyZWF0ZVJhbmdlKCk7XG4gICAgICAgICAgICByYW5nZS5zZXRTdGFydChlbCwgMCk7XG4gICAgICAgICAgICByYW5nZS5jb2xsYXBzZSh0cnVlKTtcbiAgICAgICAgICAgIHZhciBub2RlU3RhY2sgPSBbZWxdLCBub2RlLCBmb3VuZFN0YXJ0ID0gZmFsc2UsIHN0b3AgPSBmYWxzZTtcblxuICAgICAgICAgICAgd2hpbGUgKCFzdG9wICYmIChub2RlID0gbm9kZVN0YWNrLnBvcCgpKSkge1xuICAgICAgICAgICAgICAgIGlmIChub2RlLm5vZGVUeXBlID09IDMpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIG5leHRDaGFySW5kZXggPSBjaGFySW5kZXggKyBub2RlLmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFmb3VuZFN0YXJ0ICYmIHNlbCA+PSBjaGFySW5kZXggJiYgc2VsIDw9IG5leHRDaGFySW5kZXgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJhbmdlLnNldFN0YXJ0KG5vZGUsIHNlbCAtIGNoYXJJbmRleCk7XG4gICAgICAgICAgICAgICAgICAgICAgICByYW5nZS5zZXRFbmQobm9kZSwgc2VsIC0gY2hhckluZGV4KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHN0b3AgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGNoYXJJbmRleCA9IG5leHRDaGFySW5kZXg7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGkgPSBub2RlLmNoaWxkTm9kZXMubGVuZ3RoO1xuICAgICAgICAgICAgICAgICAgICB3aGlsZSAoaS0tKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBub2RlU3RhY2sucHVzaChub2RlLmNoaWxkTm9kZXNbaV0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBzZWwgPSB3aW5kb3cuZ2V0U2VsZWN0aW9uKCk7XG4gICAgICAgICAgICBzZWwucmVtb3ZlQWxsUmFuZ2VzKCk7XG4gICAgICAgICAgICBzZWwuYWRkUmFuZ2UocmFuZ2UpO1xuICAgICAgICB9XG4gICAgfSBlbHNlIGlmIChkb2N1bWVudC5zZWxlY3Rpb24gJiYgZG9jdW1lbnQuYm9keS5jcmVhdGVUZXh0UmFuZ2UpIHtcbiAgICAgICAgc2F2ZVNlbGVjdGlvbiA9IGZ1bmN0aW9uKGVsKSB7XG4gICAgICAgICAgICB2YXIgc2VsZWN0ZWRUZXh0UmFuZ2UgPSBkb2N1bWVudC5zZWxlY3Rpb24uY3JlYXRlUmFuZ2UoKSxcbiAgICAgICAgICAgICAgICBwcmVTZWxlY3Rpb25UZXh0UmFuZ2UgPSBkb2N1bWVudC5ib2R5LmNyZWF0ZVRleHRSYW5nZSgpO1xuICAgICAgICAgICAgcHJlU2VsZWN0aW9uVGV4dFJhbmdlLm1vdmVUb0VsZW1lbnRUZXh0KGVsKTtcbiAgICAgICAgICAgIHByZVNlbGVjdGlvblRleHRSYW5nZS5zZXRFbmRQb2ludChcIkVuZFRvU3RhcnRcIiwgc2VsZWN0ZWRUZXh0UmFuZ2UpO1xuICAgICAgICAgICAgdmFyIHN0YXJ0ID0gcHJlU2VsZWN0aW9uVGV4dFJhbmdlLnRleHQubGVuZ3RoO1xuICAgICAgICAgICAgcmV0dXJuIHN0YXJ0ICsgc2VsZWN0ZWRUZXh0UmFuZ2UudGV4dC5sZW5ndGg7XG4gICAgICAgIH07XG5cbiAgICAgICAgcmVzdG9yZVNlbGVjdGlvbiA9IGZ1bmN0aW9uKGVsLCBzZWwpIHtcbiAgICAgICAgICAgIHZhciB0ZXh0UmFuZ2UgPSBkb2N1bWVudC5ib2R5LmNyZWF0ZVRleHRSYW5nZSgpO1xuICAgICAgICAgICAgdGV4dFJhbmdlLm1vdmVUb0VsZW1lbnRUZXh0KGVsKTtcbiAgICAgICAgICAgIHRleHRSYW5nZS5jb2xsYXBzZSh0cnVlKTtcbiAgICAgICAgICAgIHRleHRSYW5nZS5tb3ZlRW5kKFwiY2hhcmFjdGVyXCIsIHNlbCk7XG4gICAgICAgICAgICB0ZXh0UmFuZ2UubW92ZVN0YXJ0KFwiY2hhcmFjdGVyXCIsIHNlbCk7XG4gICAgICAgICAgICB0ZXh0UmFuZ2Uuc2VsZWN0KCk7XG4gICAgICAgIH07XG4gICAgfVxuXG5cbiAgICB2YXIgdW5pUmVnZXhwO1xuICAgIHZhciBlbW9qaW9uZVZlcnNpb24gPSB3aW5kb3cuZW1vamlvbmVWZXJzaW9uIHx8ICcyLjEuNCc7XG5cbiAgICB2YXIgY2RuX2Jhc2UgPSBcImh0dHBzOi8vY2RuanMuY2xvdWRmbGFyZS5jb20vYWpheC9saWJzL2Vtb2ppb25lL1wiO1xuICAgIGZ1bmN0aW9uIGRldGVjdFZlcnNpb24oKSB7XG4gICAgICAgIHZhciB2ZXJzaW9uID0gZW1vamlvbmUuY2FjaGVCdXN0UGFyYW07XG4gICAgICAgIGlmICghaXNPYmplY3QoZW1vamlvbmVbJ2pzRXNjYXBlTWFwJ10pKSByZXR1cm4gJzEuNS4yJztcbiAgICAgICAgaWYgKHZlcnNpb24gPT09IFwiP3Y9MS4yLjRcIikgcmV0dXJuICcyLjAuMCc7XG4gICAgICAgIGlmICh2ZXJzaW9uID09PSBcIj92PTIuMC4xXCIpIHJldHVybiAnMi4xLjAnOyAvLyB2Mi4wLjEgfHwgdjIuMS4wXG4gICAgICAgIGlmICh2ZXJzaW9uID09PSBcIj92PTIuMS4xXCIpIHJldHVybiAnMi4xLjEnO1xuICAgICAgICBpZiAodmVyc2lvbiA9PT0gXCI/dj0yLjEuMlwiKSByZXR1cm4gJzIuMS4yJztcbiAgICAgICAgaWYgKHZlcnNpb24gPT09IFwiP3Y9Mi4xLjNcIikgcmV0dXJuICcyLjEuMyc7XG4gICAgICAgIGlmICh2ZXJzaW9uID09PSBcIj92PTIuMS40XCIpIHJldHVybiAnMi4xLjQnO1xuICAgICAgICByZXR1cm4gJzIuMS40JztcbiAgICB9XG4gICAgZnVuY3Rpb24gZ2V0U3VwcG9ydE1vZGUodmVyc2lvbikge1xuICAgICAgICBzd2l0Y2ggKHZlcnNpb24pIHtcbiAgICAgICAgICAgIGNhc2UgJzEuNS4yJzogcmV0dXJuIDA7XG4gICAgICAgICAgICBjYXNlICcyLjAuMCc6IHJldHVybiAxO1xuICAgICAgICAgICAgY2FzZSAnMi4xLjAnOlxuICAgICAgICAgICAgY2FzZSAnMi4xLjEnOiByZXR1cm4gMjtcbiAgICAgICAgICAgIGNhc2UgJzIuMS4yJzogcmV0dXJuIDM7XG4gICAgICAgICAgICBjYXNlICcyLjEuMyc6XG4gICAgICAgICAgICBjYXNlICcyLjEuNCc6XG4gICAgICAgICAgICBkZWZhdWx0OiByZXR1cm4gNDtcbiAgICAgICAgfVxuICAgIH1cbiAgICBpZiAoIWVtb2ppb25lIHx8IGdldFN1cHBvcnRNb2RlKGRldGVjdFZlcnNpb24oKSkgPCAyKSB7XG4gICAgICAgICQuZ2V0U2NyaXB0KGNkbl9iYXNlICsgZW1vamlvbmVWZXJzaW9uICsgXCIvbGliL2pzL2Vtb2ppb25lLm1pbi5qc1wiLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBlbW9qaW9uZSA9IHdpbmRvdy5lbW9qaW9uZTtcbiAgICAgICAgICAgIGVtb2ppb25lVmVyc2lvbiA9IGRldGVjdFZlcnNpb24oKTtcbiAgICAgICAgICAgIGVtb2ppb25lU3VwcG9ydE1vZGUgPSBnZXRTdXBwb3J0TW9kZShlbW9qaW9uZVZlcnNpb24pO1xuICAgICAgICAgICAgY2RuX2Jhc2UgKz0gZW1vamlvbmVWZXJzaW9uICsgXCIvYXNzZXRzXCI7XG4gICAgICAgICAgICB2YXIgc3ByaXRlID0gY2RuX2Jhc2UgK1wiL3Nwcml0ZXMvZW1vamlvbmUuc3ByaXRlcy5jc3NcIjtcbiAgICAgICAgICAgIGlmIChkb2N1bWVudC5jcmVhdGVTdHlsZVNoZWV0KSB7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuY3JlYXRlU3R5bGVTaGVldChzcHJpdGUpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAkKCc8bGluay8+Jywge3JlbDogJ3N0eWxlc2hlZXQnLCBocmVmOiBzcHJpdGV9KS5hcHBlbmRUbygnaGVhZCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgd2hpbGUgKHJlYWR5Q2FsbGJhY2tzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgIHJlYWR5Q2FsbGJhY2tzLnNoaWZ0KCkuY2FsbCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgICBlbW9qaW9uZVZlcnNpb24gPSBkZXRlY3RWZXJzaW9uKCk7XG4gICAgICAgIGVtb2ppb25lU3VwcG9ydE1vZGUgPSBnZXRTdXBwb3J0TW9kZShlbW9qaW9uZVZlcnNpb24pO1xuICAgICAgICBjZG5fYmFzZSArPSBlbW9qaW9uZVZlcnNpb24gKyBcIi9hc3NldHNcIjtcbiAgICB9XG5cbiAgICBlbW9qaW9uZVJlYWR5KGZ1bmN0aW9uKCkge1xuICAgICAgICBlbW9qaW9uZS5pbWFnZVBhdGhQTkcgPSBjZG5fYmFzZSArIFwiL3BuZy9cIjtcbiAgICAgICAgdW5pUmVnZXhwID0gbmV3IFJlZ0V4cChcIjxvYmplY3RbXj5dKj4uKj88XFwvb2JqZWN0Pnw8c3BhbltePl0qPi4qPzxcXC9zcGFuPnw8KD86b2JqZWN0fGVtYmVkfHN2Z3xpbWd8ZGl2fHNwYW58cHxhKVtePl0qPnwoXCIrXG4gICAgICAgICAgICBlbW9qaW9uZS51bmljb2RlUmVnZXhwK1wiKVwiLCBcImdpXCIpO1xuICAgIH0pO1xuICAgIGZ1bmN0aW9uIHVuaWNvZGVUbyhzdHIsIHRlbXBsYXRlKSB7XG4gICAgICAgIHJldHVybiBzdHIucmVwbGFjZSh1bmlSZWdleHAsIGZ1bmN0aW9uKHVuaWNvZGVDaGFyKSB7XG4gICAgICAgICAgICB2YXIgbWFwID0gZW1vamlvbmVbKGVtb2ppb25lU3VwcG9ydE1vZGUgPT09IDAgPyAnanNlY2FwZU1hcCcgOiAnanNFc2NhcGVNYXAnKV07XG4gICAgICAgICAgICBpZiAodHlwZW9mIHVuaWNvZGVDaGFyICE9PSAndW5kZWZpbmVkJyAmJiB1bmljb2RlQ2hhciBpbiBtYXApIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gZ2V0VGVtcGxhdGUodGVtcGxhdGUsIG1hcFt1bmljb2RlQ2hhcl0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHVuaWNvZGVDaGFyO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgZnVuY3Rpb24gaHRtbEZyb21UZXh0KHN0ciwgc2VsZikge1xuICAgICAgICBzdHIgPSBzdHJcbiAgICAgICAgICAgIC5yZXBsYWNlKC8mL2csICcmYW1wOycpXG4gICAgICAgICAgICAucmVwbGFjZSgvPC9nLCAnJmx0OycpXG4gICAgICAgICAgICAucmVwbGFjZSgvPi9nLCAnJmd0OycpXG4gICAgICAgICAgICAucmVwbGFjZSgvXCIvZywgJyZxdW90OycpXG4gICAgICAgICAgICAucmVwbGFjZSgvJy9nLCAnJiN4Mjc7JylcbiAgICAgICAgICAgIC5yZXBsYWNlKC9gL2csICcmI3g2MDsnKVxuICAgICAgICAgICAgLnJlcGxhY2UoLyg/OlxcclxcbnxcXHJ8XFxuKS9nLCAnXFxuJylcbiAgICAgICAgICAgIC5yZXBsYWNlKC8oXFxuKykvZywgJzxkaXY+JDE8L2Rpdj4nKVxuICAgICAgICAgICAgLnJlcGxhY2UoL1xcbi9nLCAnPGJyLz4nKVxuICAgICAgICAgICAgLnJlcGxhY2UoLzxiclxcLz48XFwvZGl2Pi9nLCAnPC9kaXY+Jyk7XG4gICAgICAgIGlmIChzZWxmLnNob3J0bmFtZXMpIHtcbiAgICAgICAgICAgIHN0ciA9IGVtb2ppb25lLnNob3J0bmFtZVRvVW5pY29kZShzdHIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB1bmljb2RlVG8oc3RyLCBzZWxmLmVtb2ppVGVtcGxhdGUpXG4gICAgICAgICAgICAucmVwbGFjZSgvXFx0L2csICcmbmJzcDsmbmJzcDsmbmJzcDsmbmJzcDsnKVxuICAgICAgICAgICAgLnJlcGxhY2UoLyAgL2csICcmbmJzcDsmbmJzcDsnKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gdGV4dEZyb21IdG1sKHN0ciwgc2VsZikge1xuICAgICAgICBzdHIgPSBzdHJcbiAgICAgICAgICAgIC5yZXBsYWNlKC88aW1nW14+XSphbHQ9XCIoW15cIl0rKVwiW14+XSo+L2lnLCAnJDEnKVxuICAgICAgICAgICAgLnJlcGxhY2UoL1xcbnxcXHIvZywgJycpXG4gICAgICAgICAgICAucmVwbGFjZSgvPGJyW14+XSo+L2lnLCAnXFxuJylcbiAgICAgICAgICAgIC5yZXBsYWNlKC8oPzo8KD86ZGl2fHB8b2x8dWx8bGl8cHJlfGNvZGV8b2JqZWN0KVtePl0qPikrL2lnLCAnPGRpdj4nKVxuICAgICAgICAgICAgLnJlcGxhY2UoLyg/OjxcXC8oPzpkaXZ8cHxvbHx1bHxsaXxwcmV8Y29kZXxvYmplY3QpPikrL2lnLCAnPC9kaXY+JylcbiAgICAgICAgICAgIC5yZXBsYWNlKC9cXG48ZGl2PjxcXC9kaXY+L2lnLCAnXFxuJylcbiAgICAgICAgICAgIC5yZXBsYWNlKC88ZGl2PjxcXC9kaXY+XFxuL2lnLCAnXFxuJylcbiAgICAgICAgICAgIC5yZXBsYWNlKC8oPzo8ZGl2PikrPFxcL2Rpdj4vaWcsICdcXG4nKVxuICAgICAgICAgICAgLnJlcGxhY2UoLyhbXlxcbl0pPFxcL2Rpdj48ZGl2Pi9pZywgJyQxXFxuJylcbiAgICAgICAgICAgIC5yZXBsYWNlKC8oPzo8XFwvZGl2PikrL2lnLCAnPC9kaXY+JylcbiAgICAgICAgICAgIC5yZXBsYWNlKC8oW15cXG5dKTxcXC9kaXY+KFteXFxuXSkvaWcsICckMVxcbiQyJylcbiAgICAgICAgICAgIC5yZXBsYWNlKC88XFwvZGl2Pi9pZywgJycpXG4gICAgICAgICAgICAucmVwbGFjZSgvKFteXFxuXSk8ZGl2Pi9pZywgJyQxXFxuJylcbiAgICAgICAgICAgIC5yZXBsYWNlKC9cXG48ZGl2Pi9pZywgJ1xcbicpXG4gICAgICAgICAgICAucmVwbGFjZSgvPGRpdj5cXG4vaWcsICdcXG5cXG4nKVxuICAgICAgICAgICAgLnJlcGxhY2UoLzwoPzpbXj5dKyk/Pi9nLCAnJylcbiAgICAgICAgICAgIC5yZXBsYWNlKC8mIzgyOTE7L2csICcnKVxuICAgICAgICAgICAgLnJlcGxhY2UoLyZuYnNwOy9nLCAnICcpXG4gICAgICAgICAgICAucmVwbGFjZSgvJmx0Oy9nLCAnPCcpXG4gICAgICAgICAgICAucmVwbGFjZSgvJmd0Oy9nLCAnPicpXG4gICAgICAgICAgICAucmVwbGFjZSgvJnF1b3Q7L2csICdcIicpXG4gICAgICAgICAgICAucmVwbGFjZSgvJiN4Mjc7L2csIFwiJ1wiKVxuICAgICAgICAgICAgLnJlcGxhY2UoLyYjeDYwOy9nLCAnYCcpXG4gICAgICAgICAgICAucmVwbGFjZSgvJmFtcDsvZywgJyYnKTtcblxuICAgICAgICBzd2l0Y2ggKHNlbGYuc2F2ZUVtb2ppc0FzKSB7XG4gICAgICAgICAgICBjYXNlICdpbWFnZSc6XG4gICAgICAgICAgICAgICAgc3RyID0gdW5pY29kZVRvKHN0ciwgc2VsZi5lbW9qaVRlbXBsYXRlKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgJ3Nob3J0bmFtZSc6XG4gICAgICAgICAgICAgICAgc3RyID0gZW1vamlvbmUudG9TaG9ydChzdHIpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBzdHI7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGNhbGNCdXR0b25Qb3NpdGlvbigpIHtcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzLFxuICAgICAgICAgICAgb2Zmc2V0ID0gc2VsZi5lZGl0b3JbMF0ub2Zmc2V0V2lkdGggLSBzZWxmLmVkaXRvclswXS5jbGllbnRXaWR0aCxcbiAgICAgICAgICAgIGN1cnJlbnQgPSBwYXJzZUludChzZWxmLmJ1dHRvbi5jc3MoJ21hcmdpblJpZ2h0JykpO1xuICAgICAgICBpZiAoY3VycmVudCAhPT0gb2Zmc2V0KSB7XG4gICAgICAgICAgICBzZWxmLmJ1dHRvbi5jc3Moe21hcmdpblJpZ2h0OiBvZmZzZXR9KTtcbiAgICAgICAgICAgIGlmIChzZWxmLnBpY2tlclBvc2l0aW9uID09PSAndG9wJykge1xuICAgICAgICAgICAgICAgIHNlbGYucGlja2VyLmNzcyh7cmlnaHQ6IHBhcnNlSW50KHNlbGYucGlja2VyLmNzcygncmlnaHQnKSkgLSBjdXJyZW50ICsgb2Zmc2V0fSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gbGF6eUxvYWRpbmcoKSB7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgaWYgKCFzZWxmLnNwcml0ZSAmJiBzZWxmLmxhc3lFbW9qaVswXSkge1xuICAgICAgICAgICAgdmFyIHBpY2tlclRvcCA9IHNlbGYucGlja2VyLm9mZnNldCgpLnRvcCxcbiAgICAgICAgICAgICAgICBwaWNrZXJCb3R0b20gPSBwaWNrZXJUb3AgKyBzZWxmLnBpY2tlci5oZWlnaHQoKSArIDIwO1xuICAgICAgICAgICAgc2VsZi5sYXN5RW1vamkuZWFjaChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICB2YXIgZSA9ICQodGhpcyksIHRvcCA9IGUub2Zmc2V0KCkudG9wO1xuICAgICAgICAgICAgICAgIGlmICh0b3AgPiBwaWNrZXJUb3AgJiYgdG9wIDwgcGlja2VyQm90dG9tKSB7XG4gICAgICAgICAgICAgICAgICAgIGUuYXR0cihcInNyY1wiLCBlLmRhdGEoXCJzcmNcIikpLnJlbW92ZUNsYXNzKFwibGF6eS1lbW9qaVwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgc2VsZi5sYXN5RW1vamkgPSBzZWxmLmxhc3lFbW9qaS5maWx0ZXIoXCIubGF6eS1lbW9qaVwiKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBzZWxlY3RvciAocHJlZml4LCBza2lwX2RvdCkge1xuICAgICAgICByZXR1cm4gKHNraXBfZG90ID8gJycgOiAnLicpICsgY3NzX2NsYXNzICsgKHByZWZpeCA/IChcIi1cIiArIHByZWZpeCkgOiBcIlwiKTtcbiAgICB9XG4gICAgZnVuY3Rpb24gZGl2KHByZWZpeCkge1xuICAgICAgICB2YXIgcGFyZW50ID0gJCgnPGRpdi8+JywgaXNPYmplY3QocHJlZml4KSA/IHByZWZpeCA6IHtcImNsYXNzXCIgOiBzZWxlY3RvcihwcmVmaXgsIHRydWUpfSk7XG4gICAgICAgICQuZWFjaChzbGljZS5jYWxsKGFyZ3VtZW50cykuc2xpY2UoMSksIGZ1bmN0aW9uKGksIGNoaWxkKSB7XG4gICAgICAgICAgICBpZiAoJC5pc0Z1bmN0aW9uKGNoaWxkKSkge1xuICAgICAgICAgICAgICAgIGNoaWxkID0gY2hpbGQuY2FsbChwYXJlbnQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGNoaWxkKSB7XG4gICAgICAgICAgICAgICAgJChjaGlsZCkuYXBwZW5kVG8ocGFyZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBwYXJlbnQ7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGluaXQoc2VsZiwgc291cmNlLCBvcHRpb25zKSB7XG4gICAgICAgIC8vY2FsY0VsYXBzZWRUaW1lKCdpbml0JywgZnVuY3Rpb24oKSB7XG4gICAgICAgIG9wdGlvbnMgPSBnZXRPcHRpb25zKG9wdGlvbnMpO1xuICAgICAgICBzZWxmLnNwcml0ZSA9IG9wdGlvbnMuc3ByaXRlICYmIGVtb2ppb25lU3VwcG9ydE1vZGUgPCAzO1xuICAgICAgICBzZWxmLmlubGluZSA9IG9wdGlvbnMuaW5saW5lID09PSBudWxsID8gc291cmNlLmlzKFwiSU5QVVRcIikgOiBvcHRpb25zLmlubGluZTtcbiAgICAgICAgc2VsZi5zaG9ydG5hbWVzID0gb3B0aW9ucy5zaG9ydG5hbWVzO1xuICAgICAgICBzZWxmLnBpY2tlclBvc2l0aW9uID0gb3B0aW9ucy5waWNrZXJQb3NpdGlvbjtcbiAgICAgICAgc2VsZi5zYXZlRW1vamlzQXMgPSBvcHRpb25zLnNhdmVFbW9qaXNBcztcbiAgICAgICAgc2VsZi5lbW9qaVRlbXBsYXRlID0gJzxpbWcgYWx0PVwie2FsdH1cIiBjbGFzcz1cImVtb2ppb25lJyArIChzZWxmLnNwcml0ZSA/ICcte3VuaX1cIiBzcmM9XCInICsgYmxhbmtJbWcgKyAnXCIvPicgOiAnZW1vamlcIiBzcmM9XCJ7aW1nfVwiLz4nKTtcblxuICAgICAgICB2YXIgc291cmNlVmFsRnVuYyA9IHNvdXJjZS5pcyhcIlRFWFRBUkVBXCIpIHx8IHNvdXJjZS5pcyhcIklOUFVUXCIpID8gXCJ2YWxcIiA6IFwidGV4dFwiLFxuICAgICAgICAgICAgZWRpdG9yLCBidXR0b24sIHBpY2tlciwgdG9uZXMsIGZpbHRlcnMsIGZpbHRlcnNCdG5zLCBlbW9qaXNMaXN0LCBjYXRlZ29yaWVzLCBzY3JvbGxBcmVhLFxuICAgICAgICAgICAgYXBwID0gZGl2KHtcImNsYXNzXCIgOiBjc3NfY2xhc3MgKyBcIiBcIiArIChzb3VyY2UuYXR0cihcImNsYXNzXCIpIHx8IFwiXCIpLCByb2xlOiBcImFwcGxpY2F0aW9uXCJ9LFxuICAgICAgICAgICAgICAgIGVkaXRvciA9IHNlbGYuZWRpdG9yID0gZGl2KCdlZGl0b3InKS5hdHRyKHtcbiAgICAgICAgICAgICAgICAgICAgY29udGVudGVkaXRhYmxlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcjogb3B0aW9uc1tcInBsYWNlaG9sZGVyXCJdIHx8IHNvdXJjZS5kYXRhKFwicGxhY2Vob2xkZXJcIikgfHwgc291cmNlLmF0dHIoXCJwbGFjZWhvbGRlclwiKSB8fCBcIlwiLFxuICAgICAgICAgICAgICAgICAgICB0YWJpbmRleDogMFxuICAgICAgICAgICAgICAgIH0pLFxuICAgICAgICAgICAgICAgIGJ1dHRvbiA9IHNlbGYuYnV0dG9uID0gZGl2KCdidXR0b24nLFxuICAgICAgICAgICAgICAgICAgICBkaXYoJ2J1dHRvbi1vcGVuJyksXG4gICAgICAgICAgICAgICAgICAgIGRpdignYnV0dG9uLWNsb3NlJylcbiAgICAgICAgICAgICAgICApLmF0dHIoJ3RpdGxlJywgb3B0aW9ucy5idXR0b25UaXRsZSksXG4gICAgICAgICAgICAgICAgcGlja2VyID0gc2VsZi5waWNrZXIgPSBkaXYoJ3BpY2tlcicsXG4gICAgICAgICAgICAgICAgICAgIGRpdignd3JhcHBlcicsXG4gICAgICAgICAgICAgICAgICAgICAgICBmaWx0ZXJzID0gZGl2KCdmaWx0ZXJzJyksXG4gICAgICAgICAgICAgICAgICAgICAgICBzY3JvbGxBcmVhID0gZGl2KCdzY3JvbGwtYXJlYScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZW1vamlzTGlzdCA9IGRpdignZW1vamlzLWxpc3QnKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b25lcyA9IGRpdigndG9uZXMnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLnRvbmVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGRDbGFzcyhzZWxlY3RvcigndG9uZXMtJyArIG9wdGlvbnMudG9uZXNTdHlsZSwgdHJ1ZSkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDw9IDU7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmFwcGVuZCgkKFwiPGkvPlwiLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImNsYXNzXCI6IFwiYnRuLXRvbmUgYnRuLXRvbmUtXCIgKyBpICsgKCFpID8gXCIgYWN0aXZlXCIgOiBcIlwiKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiZGF0YS1za2luXCI6IGksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByb2xlOiBcImJ1dHRvblwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICApLmFkZENsYXNzKHNlbGVjdG9yKCdwaWNrZXItcG9zaXRpb24tJyArIG9wdGlvbnMucGlja2VyUG9zaXRpb24sIHRydWUpKVxuICAgICAgICAgICAgICAgICAuYWRkQ2xhc3Moc2VsZWN0b3IoJ2ZpbHRlcnMtcG9zaXRpb24tJyArIG9wdGlvbnMuZmlsdGVyc1Bvc2l0aW9uLCB0cnVlKSlcbiAgICAgICAgICAgICAgICAgLmFkZENsYXNzKCdoaWRkZW4nKVxuICAgICAgICAgICAgKTtcblxuICAgICAgICAkLmVhY2gob3B0aW9ucy5hdHRyaWJ1dGVzLCBmdW5jdGlvbihhdHRyLCB2YWx1ZSkge1xuICAgICAgICAgICAgZWRpdG9yLmF0dHIoYXR0ciwgdmFsdWUpO1xuICAgICAgICB9KTtcblxuICAgICAgICAkLmVhY2gob3B0aW9ucy5maWx0ZXJzLCBmdW5jdGlvbihmaWx0ZXIsIHBhcmFtcykge1xuICAgICAgICAgICAgdmFyIHNraW4gPSAwO1xuICAgICAgICAgICAgaWYgKGZpbHRlciAhPT0gJ3RvbmVzJykge1xuICAgICAgICAgICAgICAgICQoXCI8aS8+XCIsIHtcbiAgICAgICAgICAgICAgICAgICAgXCJjbGFzc1wiOiBzZWxlY3RvcihcImZpbHRlclwiLCB0cnVlKSArIFwiIFwiICsgc2VsZWN0b3IoXCJmaWx0ZXItXCIgKyBmaWx0ZXIsIHRydWUpLFxuICAgICAgICAgICAgICAgICAgICBcImRhdGEtZmlsdGVyXCI6IGZpbHRlcixcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU6IHBhcmFtcy50aXRsZVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLndyYXBJbm5lcihzaG9ydG5hbWVUbyhwYXJhbXMuaWNvbiwgc2VsZi5zcHJpdGUgPyAnPGkgY2xhc3M9XCJlbW9qaW9uZS17dW5pfVwiLz4nIDogJzxpbWcgY2xhc3M9XCJlbW9qaW9uZWVtb2ppXCIgc3JjPVwie2ltZ31cIi8+JykpXG4gICAgICAgICAgICAgICAgLmFwcGVuZFRvKGZpbHRlcnMpO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChvcHRpb25zLnRvbmVzKSB7XG4gICAgICAgICAgICAgICAgc2tpbiA9IDU7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRvIHtcbiAgICAgICAgICAgICAgICB2YXIgY2F0ZWdvcnkgPSBkaXYoJ2NhdGVnb3J5JykuYXR0cih7bmFtZTogZmlsdGVyLCBcImRhdGEtdG9uZVwiOiBza2lufSkuYXBwZW5kVG8oZW1vamlzTGlzdCksXG4gICAgICAgICAgICAgICAgICAgIGl0ZW1zID0gcGFyYW1zLmVtb2ppLnJlcGxhY2UoL1tcXHMsO10rL2csICd8Jyk7XG4gICAgICAgICAgICAgICAgaWYgKHNraW4gPiAwKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhdGVnb3J5LmhpZGUoKTtcbiAgICAgICAgICAgICAgICAgICAgaXRlbXMgPSBpdGVtcy5zcGxpdCgnfCcpLmpvaW4oJ190b25lJyArIHNraW4gKyAnfCcpICsgJ190b25lJyArIHNraW47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGl0ZW1zID0gc2hvcnRuYW1lVG8oaXRlbXMsXG4gICAgICAgICAgICAgICAgICAgIHNlbGYuc3ByaXRlID9cbiAgICAgICAgICAgICAgICAgICAgJzxpIGNsYXNzPVwiZW1vamlidG5cIiByb2xlPVwiYnV0dG9uXCIgZGF0YS1uYW1lPVwie25hbWV9XCI+PGkgY2xhc3M9XCJlbW9qaW9uZS17dW5pfVwiPjwvaT48L2k+JyA6XG4gICAgICAgICAgICAgICAgICAgICc8aSBjbGFzcz1cImVtb2ppYnRuXCIgcm9sZT1cImJ1dHRvblwiIGRhdGEtbmFtZT1cIntuYW1lfVwiPjxpbWcgY2xhc3M9XCJlbW9qaW9uZWVtb2ppIGxhenktZW1vamlcIiBkYXRhLXNyYz1cIntpbWd9XCIvPjwvaT4nLFxuICAgICAgICAgICAgICAgICAgICB0cnVlKS5zcGxpdCgnfCcpLmpvaW4oJycpO1xuICAgICAgICAgICAgICAgIGNhdGVnb3J5Lmh0bWwoaXRlbXMpO1xuICAgICAgICAgICAgICAgICQoJzxoMS8+JykudGV4dChwYXJhbXMudGl0bGUpLnByZXBlbmRUbyhjYXRlZ29yeSk7XG4gICAgICAgICAgICB9IHdoaWxlICgtLXNraW4gPiAwKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgb3B0aW9ucy5maWx0ZXJzID0gbnVsbDtcbiAgICAgICAgaWYgKCFzZWxmLnNwcml0ZSkge1xuICAgICAgICAgICAgc2VsZi5sYXN5RW1vamkgPSBlbW9qaXNMaXN0LmZpbmQoXCIubGF6eS1lbW9qaVwiKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZpbHRlcnNCdG5zID0gZmlsdGVycy5maW5kKHNlbGVjdG9yKFwiZmlsdGVyXCIpKTtcbiAgICAgICAgZmlsdGVyc0J0bnMuZXEoMCkuYWRkQ2xhc3MoXCJhY3RpdmVcIik7XG4gICAgICAgIGNhdGVnb3JpZXMgPSBlbW9qaXNMaXN0LmZpbmQoc2VsZWN0b3IoXCJjYXRlZ29yeVwiKSk7XG5cbiAgICAgICAgaWYgKG9wdGlvbnMuY29udGFpbmVyKSB7XG4gICAgICAgICAgICAkKG9wdGlvbnMuY29udGFpbmVyKS53cmFwSW5uZXIoYXBwKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGFwcC5pbnNlcnRBZnRlcihzb3VyY2UpO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG9wdGlvbnMuaGlkZVNvdXJjZSkge1xuICAgICAgICAgICAgc291cmNlLmhpZGUoKTtcbiAgICAgICAgfVxuXG4gICAgICAgIHNlbGYuc2V0VGV4dChzb3VyY2Vbc291cmNlVmFsRnVuY10oKSk7XG4gICAgICAgIHNvdXJjZVtzb3VyY2VWYWxGdW5jXShzZWxmLmdldFRleHQoKSk7XG4gICAgICAgIGNhbGNCdXR0b25Qb3NpdGlvbi5hcHBseShzZWxmKTtcblxuICAgICAgICAvLyBhdHRhY2goKSBtdXN0IGJlIGNhbGxlZCBiZWZvcmUgYW55IC5vbigpIG1ldGhvZHMgISEhXG4gICAgICAgIC8vIDEpIGF0dGFjaCgpIHN0b3JlcyBldmVudHMgaW50byBwb3NzaWJsZUV2ZW50c3t9LFxuICAgICAgICAvLyAyKSAub24oKSBjYWxscyBiaW5kRXZlbnQoKSBhbmQgc3RvcmVzIGhhbmRsZXJzIGludG8gZXZlbnRTdG9yYWdle30sXG4gICAgICAgIC8vIDMpIGJpbmRFdmVudCgpIGZpbmRzIGV2ZW50cyBpbiBwb3NzaWJsZUV2ZW50c3t9IGFuZCBiaW5kIGZvdW5kZWQgdmlhIGpRdWVyeS5vbigpXG4gICAgICAgIC8vIDQpIGF0dGFjaGVkIGV2ZW50cyB2aWEgalF1ZXJ5Lm9uKCkgY2FsbHMgdHJpZ2dlcigpXG4gICAgICAgIC8vIDUpIHRyaWdnZXIoKSBjYWxscyBoYW5kbGVycyBzdG9yZWQgaW50byBldmVudFN0b3JhZ2V7fVxuXG4gICAgICAgIGF0dGFjaChzZWxmLCBlbW9qaXNMaXN0LmZpbmQoXCIuZW1vamlidG5cIiksIHtjbGljazogXCJlbW9qaWJ0bi5jbGlja1wifSk7XG4gICAgICAgIGF0dGFjaChzZWxmLCB3aW5kb3csIHtyZXNpemU6IFwiIXJlc2l6ZVwifSk7XG4gICAgICAgIGF0dGFjaChzZWxmLCB0b25lcy5jaGlsZHJlbigpLCB7Y2xpY2s6IFwidG9uZS5jbGlja1wifSk7XG4gICAgICAgIGF0dGFjaChzZWxmLCBbcGlja2VyLCBidXR0b25dLCB7bW91c2Vkb3duOiBcIiFtb3VzZWRvd25cIn0sIGVkaXRvcik7XG4gICAgICAgIGF0dGFjaChzZWxmLCBidXR0b24sIHtjbGljazogXCJidXR0b24uY2xpY2tcIn0pO1xuICAgICAgICBhdHRhY2goc2VsZiwgZWRpdG9yLCB7cGFzdGUgOlwiIXBhc3RlXCJ9LCBlZGl0b3IpO1xuICAgICAgICBhdHRhY2goc2VsZiwgZWRpdG9yLCBbXCJmb2N1c1wiLCBcImJsdXJcIl0sIGZ1bmN0aW9uKCkgeyByZXR1cm4gc2VsZi5zdGF5Rm9jdXNlZCA/IGZhbHNlIDogZWRpdG9yOyB9KTtcbiAgICAgICAgYXR0YWNoKHNlbGYsIHBpY2tlciwge21vdXNlZG93bjogXCJwaWNrZXIubW91c2Vkb3duXCIsIG1vdXNldXA6IFwicGlja2VyLm1vdXNldXBcIiwgY2xpY2s6IFwicGlja2VyLmNsaWNrXCIsXG4gICAgICAgICAgICBrZXl1cDogXCJwaWNrZXIua2V5dXBcIiwga2V5ZG93bjogXCJwaWNrZXIua2V5ZG93blwiLCBrZXlwcmVzczogXCJwaWNrZXIua2V5cHJlc3NcIn0pO1xuICAgICAgICBhdHRhY2goc2VsZiwgZWRpdG9yLCBbXCJtb3VzZWRvd25cIiwgXCJtb3VzZXVwXCIsIFwiY2xpY2tcIiwgXCJrZXl1cFwiLCBcImtleWRvd25cIiwgXCJrZXlwcmVzc1wiXSk7XG4gICAgICAgIGF0dGFjaChzZWxmLCBwaWNrZXIuZmluZChcIi5lbW9qaW9uZWFyZWEtZmlsdGVyXCIpLCB7Y2xpY2s6IFwiZmlsdGVyLmNsaWNrXCJ9KTtcblxuICAgICAgICBpZiAoaXNPYmplY3Qob3B0aW9ucy5ldmVudHMpICYmICEkLmlzRW1wdHlPYmplY3Qob3B0aW9ucy5ldmVudHMpKSB7XG4gICAgICAgICAgICAkLmVhY2gob3B0aW9ucy5ldmVudHMsIGZ1bmN0aW9uKGV2ZW50LCBoYW5kbGVyKSB7XG4gICAgICAgICAgICAgICAgc2VsZi5vbihldmVudC5yZXBsYWNlKC9fL2csICcuJyksIGhhbmRsZXIpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgbm9MaXN0ZW5TY3JvbGwgPSBmYWxzZTtcbiAgICAgICAgc2Nyb2xsQXJlYS5vbignc2Nyb2xsJywgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKCFub0xpc3RlblNjcm9sbCkge1xuICAgICAgICAgICAgICAgIGxhenlMb2FkaW5nLmNhbGwoc2VsZik7XG4gICAgICAgICAgICAgICAgaWYgKHNjcm9sbEFyZWEuaXMoXCI6bm90KC5za2lubmFibGUpXCIpKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBpdGVtID0gY2F0ZWdvcmllcy5lcSgwKSwgc2Nyb2xsVG9wID0gc2Nyb2xsQXJlYS5vZmZzZXQoKS50b3A7XG4gICAgICAgICAgICAgICAgICAgIGNhdGVnb3JpZXMuZWFjaChmdW5jdGlvbiAoaSwgZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCQoZSkub2Zmc2V0KCkudG9wIC0gc2Nyb2xsVG9wID49IDEwKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgaXRlbSA9ICQoZSk7XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB2YXIgZmlsdGVyID0gZmlsdGVyc0J0bnMuZmlsdGVyKCdbZGF0YS1maWx0ZXI9XCInICsgaXRlbS5hdHRyKFwibmFtZVwiKSArICdcIl0nKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZpbHRlclswXSAmJiAhZmlsdGVyLmlzKFwiLmFjdGl2ZVwiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZmlsdGVyc0J0bnMucmVtb3ZlQ2xhc3MoXCJhY3RpdmVcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICBmaWx0ZXIuYWRkQ2xhc3MoXCJhY3RpdmVcIik7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIHNlbGYub24oXCJAZmlsdGVyLmNsaWNrXCIsIGZ1bmN0aW9uKGZpbHRlcikge1xuICAgICAgICAgICAgdmFyIGlzQWN0aXZlID0gZmlsdGVyLmlzKFwiLmFjdGl2ZVwiKTtcbiAgICAgICAgICAgIGlmIChzY3JvbGxBcmVhLmlzKFwiLnNraW5uYWJsZVwiKSkge1xuICAgICAgICAgICAgICAgIGlmIChpc0FjdGl2ZSkgcmV0dXJuO1xuICAgICAgICAgICAgICAgIHRvbmVzLmNoaWxkcmVuKCkuZXEoMCkuY2xpY2soKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG5vTGlzdGVuU2Nyb2xsID0gdHJ1ZTtcbiAgICAgICAgICAgIGlmICghaXNBY3RpdmUpIHtcbiAgICAgICAgICAgICAgICBmaWx0ZXJzQnRucy5maWx0ZXIoXCIuYWN0aXZlXCIpLnJlbW92ZUNsYXNzKFwiYWN0aXZlXCIpO1xuICAgICAgICAgICAgICAgIGZpbHRlci5hZGRDbGFzcyhcImFjdGl2ZVwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHZhciBoZWFkZXJPZmZzZXQgPSBjYXRlZ29yaWVzLmZpbHRlcignW25hbWU9XCInICsgZmlsdGVyLmRhdGEoJ2ZpbHRlcicpICsgJ1wiXScpLm9mZnNldCgpLnRvcCxcbiAgICAgICAgICAgICAgICBzY3JvbGwgPSBzY3JvbGxBcmVhLnNjcm9sbFRvcCgpLFxuICAgICAgICAgICAgICAgIG9mZnNldFRvcCA9IHNjcm9sbEFyZWEub2Zmc2V0KCkudG9wO1xuICAgICAgICAgICAgc2Nyb2xsQXJlYS5zdG9wKCkuYW5pbWF0ZSh7XG4gICAgICAgICAgICAgICAgc2Nyb2xsVG9wOiBoZWFkZXJPZmZzZXQgKyBzY3JvbGwgLSBvZmZzZXRUb3AgLSAyXG4gICAgICAgICAgICB9LCAyMDAsICdzd2luZycsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICBsYXp5TG9hZGluZy5jYWxsKHNlbGYpO1xuICAgICAgICAgICAgICAgIG5vTGlzdGVuU2Nyb2xsID0gZmFsc2U7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSlcblxuICAgICAgICAub24oXCJAcGlja2VyLnNob3dcIiwgbGF6eUxvYWRpbmcpXG5cbiAgICAgICAgLm9uKFwiQHRvbmUuY2xpY2tcIiwgZnVuY3Rpb24odG9uZSkge1xuICAgICAgICAgICAgdG9uZXMuY2hpbGRyZW4oKS5yZW1vdmVDbGFzcyhcImFjdGl2ZVwiKTtcbiAgICAgICAgICAgIHZhciBza2luID0gdG9uZS5hZGRDbGFzcyhcImFjdGl2ZVwiKS5kYXRhKFwic2tpblwiKTtcbiAgICAgICAgICAgIGlmIChza2luKSB7XG4gICAgICAgICAgICAgICAgc2Nyb2xsQXJlYS5hZGRDbGFzcyhcInNraW5uYWJsZVwiKTtcbiAgICAgICAgICAgICAgICBjYXRlZ29yaWVzLmhpZGUoKS5maWx0ZXIoXCJbZGF0YS10b25lPVwiICsgc2tpbiArIFwiXVwiKS5zaG93KCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHNjcm9sbEFyZWEucmVtb3ZlQ2xhc3MoXCJza2lubmFibGVcIik7XG4gICAgICAgICAgICAgICAgY2F0ZWdvcmllcy5oaWRlKCkuZmlsdGVyKFwiW2RhdGEtdG9uZT0wXVwiKS5zaG93KCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBsYXp5TG9hZGluZy5jYWxsKHNlbGYpO1xuICAgICAgICB9KVxuXG4gICAgICAgIC5vbihcIkBidXR0b24uY2xpY2tcIiwgZnVuY3Rpb24oYnV0dG9uKSB7XG4gICAgICAgICAgICBpZiAoYnV0dG9uLmlzKFwiLmFjdGl2ZVwiKSkge1xuICAgICAgICAgICAgICAgIHNlbGYuaGlkZVBpY2tlcigpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBzZWxmLnNob3dQaWNrZXIoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSlcblxuICAgICAgICAub24oXCJAIXBhc3RlXCIsIGZ1bmN0aW9uKGVkaXRvcikge1xuICAgICAgICAgICAgc2VsZi5zdGF5Rm9jdXNlZCA9IHRydWU7XG4gICAgICAgICAgICAvLyBpbnNlcnQgaW52aXNpYmxlIGNoYXJhY3RlciBmb3IgZml4IGNhcmV0IHBvc2l0aW9uXG4gICAgICAgICAgICBwYXN0ZUh0bWxBdENhcmV0KCc8c3Bhbj4mIzgyOTE7PC9zcGFuPicpO1xuXG4gICAgICAgICAgICB2YXIgc2VsID0gc2F2ZVNlbGVjdGlvbihlZGl0b3JbMF0pLFxuICAgICAgICAgICAgICAgIGVkaXRvclNjcm9sbFRvcCA9IGVkaXRvci5zY3JvbGxUb3AoKSxcbiAgICAgICAgICAgICAgICBjbGlwYm9hcmQgPSAkKFwiPGRpdi8+XCIsIHtjb250ZW50ZWRpdGFibGU6IHRydWV9KVxuICAgICAgICAgICAgICAgICAgICAuY3NzKHtwb3NpdGlvbjogXCJmaXhlZFwiLCBsZWZ0OiBcIi05OTlweFwiLCB3aWR0aDogXCIxcHhcIiwgaGVpZ2h0OiBcIjFweFwiLCB0b3A6IFwiMjBweFwiLCBvdmVyZmxvdzogXCJoaWRkZW5cIn0pXG4gICAgICAgICAgICAgICAgICAgIC5hcHBlbmRUbygkKFwiQk9EWVwiKSlcbiAgICAgICAgICAgICAgICAgICAgLmZvY3VzKCk7XG5cbiAgICAgICAgICAgIHdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHZhciBjYXJldElEID0gXCJjYXJldC1cIiArIChuZXcgRGF0ZSgpKS5nZXRUaW1lKCk7XG4gICAgICAgICAgICAgICAgZWRpdG9yLmZvY3VzKCk7XG4gICAgICAgICAgICAgICAgcmVzdG9yZVNlbGVjdGlvbihlZGl0b3JbMF0sIHNlbCk7XG4gICAgICAgICAgICAgICAgdmFyIHRleHQgPSB0ZXh0RnJvbUh0bWwoY2xpcGJvYXJkLmh0bWwoKS5yZXBsYWNlKC9cXHJcXG58XFxufFxcci9nLCAnPGJyPicpLCBzZWxmKSxcbiAgICAgICAgICAgICAgICAgICAgaHRtbCA9IGh0bWxGcm9tVGV4dCh0ZXh0LCBzZWxmKTtcbiAgICAgICAgICAgICAgICBwYXN0ZUh0bWxBdENhcmV0KGh0bWwpO1xuICAgICAgICAgICAgICAgIGNsaXBib2FyZC5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgICBwYXN0ZUh0bWxBdENhcmV0KCc8aSBpZD1cIicgKyBjYXJldElEICsnXCI+PC9pPicpO1xuICAgICAgICAgICAgICAgIGVkaXRvci5zY3JvbGxUb3AoZWRpdG9yU2Nyb2xsVG9wKTtcbiAgICAgICAgICAgICAgICB2YXIgY2FyZXQgPSAkKFwiI1wiICsgY2FyZXRJRCksXG4gICAgICAgICAgICAgICAgICAgIHRvcCA9IGNhcmV0Lm9mZnNldCgpLnRvcCAtIGVkaXRvci5vZmZzZXQoKS50b3AsXG4gICAgICAgICAgICAgICAgICAgIGhlaWdodCA9IGVkaXRvci5oZWlnaHQoKTtcbiAgICAgICAgICAgICAgICBpZiAoZWRpdG9yU2Nyb2xsVG9wICsgdG9wID49IGhlaWdodCB8fCBlZGl0b3JTY3JvbGxUb3AgPiB0b3ApIHtcbiAgICAgICAgICAgICAgICAgICAgZWRpdG9yLnNjcm9sbFRvcChlZGl0b3JTY3JvbGxUb3AgKyB0b3AgLSAyICogaGVpZ2h0LzMpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjYXJldC5yZW1vdmUoKTtcbiAgICAgICAgICAgICAgICBzZWxmLnN0YXlGb2N1c2VkID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgY2FsY0J1dHRvblBvc2l0aW9uLmFwcGx5KHNlbGYpO1xuICAgICAgICAgICAgICAgIHRyaWdnZXIoc2VsZiwgJ3Bhc3RlJywgW2VkaXRvciwgdGV4dCwgaHRtbF0pO1xuICAgICAgICAgICAgfSwgMjAwKTtcbiAgICAgICAgfSlcblxuICAgICAgICAub24oXCJAZW1vamlidG4uY2xpY2tcIiwgZnVuY3Rpb24oZW1vamlidG4pIHtcbiAgICAgICAgICAgIGlmICghYXBwLmlzKFwiLmZvY3VzZWRcIikpIHtcbiAgICAgICAgICAgICAgICBlZGl0b3IuZm9jdXMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHNhdmVTZWxlY3Rpb24oZWRpdG9yWzBdKTtcbiAgICAgICAgICAgIHBhc3RlSHRtbEF0Q2FyZXQoc2hvcnRuYW1lVG8oZW1vamlidG4uZGF0YShcIm5hbWVcIiksIHNlbGYuZW1vamlUZW1wbGF0ZSkpO1xuICAgICAgICB9KVxuXG4gICAgICAgIC5vbihcIkAhcmVzaXplIEBrZXl1cCBAZW1vamlidG4uY2xpY2tcIiwgY2FsY0J1dHRvblBvc2l0aW9uKVxuXG4gICAgICAgIC5vbihcIkAhbW91c2Vkb3duXCIsIGZ1bmN0aW9uKGVkaXRvciwgZXZlbnQpIHtcbiAgICAgICAgICAgIGlmICghYXBwLmlzKFwiLmZvY3VzZWRcIikpIHtcbiAgICAgICAgICAgICAgICBlZGl0b3IuZm9jdXMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH0pXG5cbiAgICAgICAgLm9uKFwiQGNoYW5nZVwiLCBmdW5jdGlvbihlZGl0b3IpIHtcbiAgICAgICAgICAgIHZhciBodG1sID0gZWRpdG9yLmh0bWwoKS5yZXBsYWNlKC88XFwvPyg/OmRpdnxzcGFufHApW14+XSo+L2lnLCAnJyk7XG4gICAgICAgICAgICAvLyBjbGVhciBpbnB1dDogY2hyb21lIGFkZHMgPGJyPiB3aGVuIGNvbnRlbnRlZGl0YWJsZSBpcyBlbXB0eVxuICAgICAgICAgICAgaWYgKCFodG1sLmxlbmd0aCB8fCAvXjxicltePl0qPiQvaS50ZXN0KGh0bWwpKSB7XG4gICAgICAgICAgICAgICAgc2VsZi5lZGl0b3IuaHRtbChzZWxmLmNvbnRlbnQgPSAnJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzb3VyY2Vbc291cmNlVmFsRnVuY10oc2VsZi5nZXRUZXh0KCkpO1xuICAgICAgICB9KVxuXG4gICAgICAgIC5vbihcIkBmb2N1c1wiLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGFwcC5hZGRDbGFzcyhcImZvY3VzZWRcIik7XG4gICAgICAgIH0pXG5cbiAgICAgICAgLm9uKFwiQGJsdXJcIiwgZnVuY3Rpb24oZWRpdG9yKSB7XG4gICAgICAgICAgICBhcHAucmVtb3ZlQ2xhc3MoXCJmb2N1c2VkXCIpO1xuXG4gICAgICAgICAgICBpZiAob3B0aW9ucy5oaWRlUGlja2VyT25CbHVyKSB7XG4gICAgICAgICAgICAgICAgc2VsZi5oaWRlUGlja2VyKCk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciBjb250ZW50ID0gZWRpdG9yLmh0bWwoKTtcbiAgICAgICAgICAgIGlmIChzZWxmLmNvbnRlbnQgIT09IGNvbnRlbnQpIHtcbiAgICAgICAgICAgICAgICBzZWxmLmNvbnRlbnQgPSBjb250ZW50O1xuICAgICAgICAgICAgICAgIHRyaWdnZXIoc2VsZiwgJ2NoYW5nZScsIFtlZGl0b3JdKTtcbiAgICAgICAgICAgICAgICBzb3VyY2UuYmx1cigpLnRyaWdnZXIoXCJjaGFuZ2VcIik7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHNvdXJjZS5ibHVyKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGlmIChvcHRpb25zLnNob3J0Y3V0cykge1xuICAgICAgICAgICAgc2VsZi5vbihcIkBrZXlkb3duXCIsIGZ1bmN0aW9uKF8sIGUpIHtcbiAgICAgICAgICAgICAgICBpZiAoIWUuY3RybEtleSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoZS53aGljaCA9PSA5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBidXR0b24uY2xpY2soKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBlbHNlIGlmIChlLndoaWNoID09IDI3KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoYnV0dG9uLmlzKFwiLmFjdGl2ZVwiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNlbGYuaGlkZVBpY2tlcigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAob3B0aW9ucy5hdXRvY29tcGxldGUpIHtcbiAgICAgICAgICAgIHZhciBhdXRvY29tcGxldGUgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICB2YXIgZXZlbnRzID0ge307XG4gICAgICAgICAgICAgICAgaWYgKG9wdGlvbnMuc2hvcnRjdXRzKSB7XG4gICAgICAgICAgICAgICAgICAgIGV2ZW50cy5vbktleWRvd24gPSBmdW5jdGlvbiAoZSwgY29tbWFuZHMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICghZS5jdHJsS2V5ICYmIGUud2hpY2ggPT0gMTMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY29tbWFuZHMuS0VZX0VOVEVSO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgbWFwID0gJC5tYXAoZW1vamlvbmUuZW1vamlvbmVMaXN0LCBmdW5jdGlvbiAoXywgZW1vamkpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuICFvcHRpb25zLmF1dG9jb21wbGV0ZVRvbmVzID8gL190b25lWzEyMzQ1XS8udGVzdChlbW9qaSkgPyBudWxsIDogZW1vamkgOiBlbW9qaTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBtYXAuc29ydCgpO1xuICAgICAgICAgICAgICAgIGVkaXRvci50ZXh0Y29tcGxldGUoW1xuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZDogY3NzX2NsYXNzLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWF0Y2g6IC8oOltcXC0rXFx3XSopJC8sXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWFyY2g6IGZ1bmN0aW9uICh0ZXJtLCBjYWxsYmFjaykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKCQubWFwKG1hcCwgZnVuY3Rpb24gKGVtb2ppKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBlbW9qaS5pbmRleE9mKHRlcm0pID09PSAwID8gZW1vamkgOiBudWxsO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICB0ZW1wbGF0ZTogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNob3J0bmFtZVRvKHZhbHVlLCBzZWxmLmVtb2ppVGVtcGxhdGUpICsgXCIgXCIgKyB2YWx1ZS5yZXBsYWNlKC86L2csICcnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgICAgICAgICByZXBsYWNlOiBmdW5jdGlvbiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gc2hvcnRuYW1lVG8odmFsdWUsIHNlbGYuZW1vamlUZW1wbGF0ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgY2FjaGU6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgICAgICBtYXhDb3VudDogMTUsXG4gICAgICAgICAgICAgICAgICAgICAgICBpbmRleDogMVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgXSwgZXZlbnRzKTtcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBpZiAoJC5mbi50ZXh0Y29tcGxldGUpIHtcbiAgICAgICAgICAgICAgICBhdXRvY29tcGxldGUoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgJC5nZXRTY3JpcHQoXCJodHRwczovL2Nkbi5yYXdnaXQuY29tL3l1a3UtdC9qcXVlcnktdGV4dGNvbXBsZXRlL3YxLjMuNC9kaXN0L2pxdWVyeS50ZXh0Y29tcGxldGUuanNcIixcbiAgICAgICAgICAgICAgICAgICAgYXV0b2NvbXBsZXRlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChzZWxmLmlubGluZSkge1xuICAgICAgICAgICAgYXBwLmFkZENsYXNzKHNlbGVjdG9yKCdpbmxpbmUnLCB0cnVlKSk7XG4gICAgICAgICAgICBzZWxmLm9uKFwiQGtleWRvd25cIiwgZnVuY3Rpb24oXywgZSkge1xuICAgICAgICAgICAgICAgIGlmIChlLndoaWNoID09IDEzKSB7XG4gICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICgvZmlyZWZveC9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCkpIHtcbiAgICAgICAgICAgIC8vIGRpc2FibGluZyByZXNpemUgaW1hZ2VzIG9uIEZpcmVmb3hcbiAgICAgICAgICAgIGRvY3VtZW50LmV4ZWNDb21tYW5kKFwiZW5hYmxlT2JqZWN0UmVzaXppbmdcIiwgZmFsc2UsIGZhbHNlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIC8vfSwgc2VsZi5pZCA9PT0gMSk7IC8vIGNhbGNFbGFwc2VkVGltZSgpXG4gICAgfTtcbiAgICB2YXIgRW1vamlvbmVBcmVhID0gZnVuY3Rpb24oZWxlbWVudCwgb3B0aW9ucykge1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgIGV2ZW50U3RvcmFnZVtzZWxmLmlkID0gKyt1bmlxdWVdID0ge307XG4gICAgICAgIHBvc3NpYmxlRXZlbnRzW3NlbGYuaWRdID0ge307XG4gICAgICAgIGVtb2ppb25lUmVhZHkoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBpbml0KHNlbGYsIGVsZW1lbnQsIG9wdGlvbnMpO1xuICAgICAgICB9KTtcbiAgICB9O1xuICAgIGZ1bmN0aW9uIGJpbmRFdmVudChzZWxmLCBldmVudCkge1xuICAgICAgICBldmVudCA9IGV2ZW50LnJlcGxhY2UoL15ALywgJycpO1xuICAgICAgICB2YXIgaWQgPSBzZWxmLmlkO1xuICAgICAgICBpZiAocG9zc2libGVFdmVudHNbaWRdW2V2ZW50XSkge1xuICAgICAgICAgICAgJC5lYWNoKHBvc3NpYmxlRXZlbnRzW2lkXVtldmVudF0sIGZ1bmN0aW9uKGksIGV2KSB7XG4gICAgICAgICAgICAgICAgLy8gZXZbMF0gPSBlbGVtZW50XG4gICAgICAgICAgICAgICAgLy8gZXZbMV0gPSBldmVudFxuICAgICAgICAgICAgICAgIC8vIGV2WzJdID0gdGFyZ2V0XG4gICAgICAgICAgICAgICAgJC5lYWNoKCQuaXNBcnJheShldlswXSkgPyBldlswXSA6IFtldlswXV0sIGZ1bmN0aW9uKGksIGVsKSB7XG4gICAgICAgICAgICAgICAgICAgICQoZWwpLm9uKGV2WzFdLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhcmdzID0gc2xpY2UuY2FsbChhcmd1bWVudHMpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhcmdldCA9ICQuaXNGdW5jdGlvbihldlsyXSkgPyBldlsyXS5hcHBseShzZWxmLCBbZXZlbnRdLmNvbmNhdChhcmdzKSkgOiBldlsyXTtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0YXJnZXQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cmlnZ2VyKHNlbGYsIGV2ZW50LCBbdGFyZ2V0XS5jb25jYXQoYXJncykpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgcG9zc2libGVFdmVudHNbaWRdW2V2ZW50XSA9IG51bGw7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBFbW9qaW9uZUFyZWEucHJvdG90eXBlLm9uID0gZnVuY3Rpb24oZXZlbnRzLCBoYW5kbGVyKSB7XG4gICAgICAgIGlmIChldmVudHMgJiYgJC5pc0Z1bmN0aW9uKGhhbmRsZXIpKSB7XG4gICAgICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgICAgICAkLmVhY2goZXZlbnRzLnRvTG93ZXJDYXNlKCkuc3BsaXQoJyAnKSwgZnVuY3Rpb24oaSwgZXZlbnQpIHtcbiAgICAgICAgICAgICAgICBiaW5kRXZlbnQoc2VsZiwgZXZlbnQpO1xuICAgICAgICAgICAgICAgIChldmVudFN0b3JhZ2Vbc2VsZi5pZF1bZXZlbnRdIHx8IChldmVudFN0b3JhZ2Vbc2VsZi5pZF1bZXZlbnRdID0gW10pKS5wdXNoKGhhbmRsZXIpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXM7XG4gICAgfTtcblxuICAgIEVtb2ppb25lQXJlYS5wcm90b3R5cGUub2ZmID0gZnVuY3Rpb24oZXZlbnRzLCBoYW5kbGVyKSB7XG4gICAgICAgIGlmIChldmVudHMpIHtcbiAgICAgICAgICAgIHZhciBpZCA9IHRoaXMuaWQ7XG4gICAgICAgICAgICAkLmVhY2goZXZlbnRzLnRvTG93ZXJDYXNlKCkucmVwbGFjZSgvXy9nLCAnLicpLnNwbGl0KCcgJyksIGZ1bmN0aW9uKGksIGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgaWYgKGV2ZW50U3RvcmFnZVtpZF1bZXZlbnRdICYmICEvXkAvLnRlc3QoZXZlbnQpKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChoYW5kbGVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAkLmVhY2goZXZlbnRTdG9yYWdlW2lkXVtldmVudF0sIGZ1bmN0aW9uKGosIGZuKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGZuID09PSBoYW5kbGVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50U3RvcmFnZVtpZF1bZXZlbnRdID0gZXZlbnRTdG9yYWdlW2lkXVtldmVudF0uc3BsaWNlKGosIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRTdG9yYWdlW2lkXVtldmVudF0gPSBbXTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICBFbW9qaW9uZUFyZWEucHJvdG90eXBlLnNldFRleHQgPSBmdW5jdGlvbiAoc3RyKSB7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgZW1vamlvbmVSZWFkeShmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBzZWxmLmVkaXRvci5odG1sKGh0bWxGcm9tVGV4dChzdHIsIHNlbGYpKTtcbiAgICAgICAgICAgIHNlbGYuY29udGVudCA9IHNlbGYuZWRpdG9yLmh0bWwoKTtcbiAgICAgICAgICAgIHRyaWdnZXIoc2VsZiwgJ2NoYW5nZScsIFtzZWxmLmVkaXRvcl0pO1xuICAgICAgICAgICAgY2FsY0J1dHRvblBvc2l0aW9uLmFwcGx5KHNlbGYpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHNlbGY7XG4gICAgfVxuXG4gICAgRW1vamlvbmVBcmVhLnByb3RvdHlwZS5nZXRUZXh0ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiB0ZXh0RnJvbUh0bWwodGhpcy5lZGl0b3IuaHRtbCgpLCB0aGlzKTtcbiAgICB9XG5cbiAgICBFbW9qaW9uZUFyZWEucHJvdG90eXBlLnNob3dQaWNrZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgaWYgKHNlbGYuX3NoX3RpbWVyKSB7XG4gICAgICAgICAgICB3aW5kb3cuY2xlYXJUaW1lb3V0KHNlbGYuX3NoX3RpbWVyKTtcbiAgICAgICAgfVxuICAgICAgICBzZWxmLnBpY2tlci5yZW1vdmVDbGFzcyhcImhpZGRlblwiKTtcbiAgICAgICAgc2VsZi5fc2hfdGltZXIgPSAgd2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBzZWxmLmJ1dHRvbi5hZGRDbGFzcyhcImFjdGl2ZVwiKTtcbiAgICAgICAgfSwgNTApO1xuICAgICAgICB0cmlnZ2VyKHNlbGYsIFwicGlja2VyLnNob3dcIiwgW3NlbGYucGlja2VyXSk7XG4gICAgICAgIHJldHVybiBzZWxmO1xuICAgIH1cblxuICAgIEVtb2ppb25lQXJlYS5wcm90b3R5cGUuaGlkZVBpY2tlciA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICBpZiAoc2VsZi5fc2hfdGltZXIpIHtcbiAgICAgICAgICAgIHdpbmRvdy5jbGVhclRpbWVvdXQoc2VsZi5fc2hfdGltZXIpO1xuICAgICAgICB9XG4gICAgICAgIHNlbGYuYnV0dG9uLnJlbW92ZUNsYXNzKFwiYWN0aXZlXCIpO1xuICAgICAgICBzZWxmLl9zaF90aW1lciA9ICB3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIHNlbGYucGlja2VyLmFkZENsYXNzKFwiaGlkZGVuXCIpO1xuICAgICAgICB9LCA1MDApO1xuICAgICAgICB0cmlnZ2VyKHNlbGYsIFwicGlja2VyLmhpZGVcIiwgW3NlbGYucGlja2VyXSk7XG4gICAgICAgIHJldHVybiBzZWxmO1xuICAgIH1cblxuICAgICQuZm4uZW1vamlvbmVBcmVhID0gZnVuY3Rpb24ob3B0aW9ucykge1xuICAgICAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgaWYgKCEhdGhpcy5lbW9qaW9uZUFyZWEpIHJldHVybiB0aGlzLmVtb2ppb25lQXJlYTtcbiAgICAgICAgICAgICQuZGF0YSh0aGlzLCAnZW1vamlvbmVBcmVhJywgdGhpcy5lbW9qaW9uZUFyZWEgPSBuZXcgRW1vamlvbmVBcmVhKCQodGhpcyksIG9wdGlvbnMpKTtcbiAgICAgICAgICAgIHJldHVybiB0aGlzLmVtb2ppb25lQXJlYTtcbiAgICAgICAgfSk7XG4gICAgfTtcblxufSkgKGRvY3VtZW50LCB3aW5kb3csIGpRdWVyeSk7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2Vtb2ppb25lQXJlYS9kaXN0L2Vtb2ppb25lYXJlYS5qc1xuLy8gbW9kdWxlIGlkID0gMjJcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiaW1wb3J0ICcuL2Jhc2Uuc2Nzcyc7XHJcblxyXG4vLyB2ZW5kb3JcclxuaW1wb3J0ICd3aGF0d2ctZmV0Y2gnO1xyXG5pbXBvcnQgUHViU3ViIGZyb20gJ3B1YnN1Yi1qcyc7XHJcbi8vIGltcG9ydCB7ZW1vamlvbmVhcmVhfSBmcm9tICdlbW9qaW9uZUFyZWEvZGlzdC9lbW9qaW9uZWFyZWEnO1xyXG4vLyAkLmZuLmVtb2ppb25lYXJlYSA9IGVtb2ppb25lYXJlYTtcclxuXHJcbi8vIGNvbXBvbmVudHNcclxuLy8gaW1wb3J0IHtDT05TVH0gZnJvbSAnLi9jb21tb24vanMtc2VydmljZXMvY29uc3RzJztcclxuaW1wb3J0IHtMb2dpbkZvcm19IGZyb20gJy4vYmxvY2tzL2xvZ2luLWZvcm0vbG9naW4tZm9ybSc7XHJcbmltcG9ydCBSZWdpc3RlckZvcm0gZnJvbSAnLi9ibG9ja3MvcmVnaXN0ZXItZm9ybS9yZWdpc3Rlci1mb3JtJztcclxuaW1wb3J0IHtMb2dpblBhZ2V9IGZyb20gJy4vcGFnZXMvX2F1dGgvbG9naW4tcGFnZSc7XHJcbmltcG9ydCB7Y29uZmlybWF0aW9uV2l0aFJlZGlyZWN0fSBmcm9tICcuL2Jsb2Nrcy9jb25maXJtLXJlZy9jb25maXJtLXJlZyc7XHJcbmltcG9ydCAqIGFzIGhlYWRlciBmcm9tICcuL2Jsb2Nrcy9oZWFkZXIvaGVhZGVyJztcclxuaW1wb3J0ICogYXMgc2lkZWJhck1lbnUgZnJvbSAnLi9ibG9ja3Mvc2lkZWJhci1tZW51L3NpZGViYXItbWVudSc7XHJcbmltcG9ydCAqIGFzIGJ1cmdlck1lbnUgZnJvbSAnLi9ibG9ja3MvaGVhZGVyL2J1cmdlci1tZW51L2J1cmdlci1tZW51JztcclxuaW1wb3J0ICogYXMgaW5zdGFncmFtQWNjb3VudHMgZnJvbSAnLi9ibG9ja3MvaW5zdGFncmFtLWFjY291bnRzLWxpc3QvaW5zdGFncmFtLWFjY291bnRzLWxpc3QnO1xyXG5pbXBvcnQgKiBhcyBtZXNzYWdlcyBmcm9tICcuL2Jsb2Nrcy9tZXNzYWdlcy9tZXNzYWdlcyc7XHJcbmltcG9ydCAqIGFzIGZvbGxvdyBmcm9tICcuL2Jsb2Nrcy9mb2xsb3cvZm9sbG93JztcclxuaW1wb3J0ICogYXMgdW5mb2xsb3cgZnJvbSAnLi9ibG9ja3MvdW5mb2xsb3cvdW5mb2xsb3ctaW5kZXgnO1xyXG5pbXBvcnQgKiBhcyBhdXRvbWVzc2FnZXMgZnJvbSAnLi9ibG9ja3MvYXV0b21lc3NhZ2VzL2F1dG9tZXNzYWdlcy1pbmRleCc7XHJcbmltcG9ydCAqIGFzIGNoYXRCb3QgZnJvbSAnLi9ibG9ja3MvY2hhdC1ib3QvY2hhdC1ib3QtaW5kZXgnO1xyXG5pbXBvcnQgKiBhcyBhdXRvZ3JlZXRpbmcgZnJvbSAnLi9ibG9ja3MvYXV0b2dyZWV0aW5nL2F1dG9ncmVldGluZy1tYWluJztcclxuaW1wb3J0ICogYXMgYXV0b2NvbW1lbnRzIGZyb20gJy4vYmxvY2tzL2F1dG9jb21tZW50cy9hdXRvY29tbWVudHMtaW5kZXgnO1xyXG5pbXBvcnQgKiBhcyBzdG9yaWVzIGZyb20gJy4vYmxvY2tzL3N0b3JpZXMvc3Rvcmllcy1pbmRleCc7XHJcblxyXG4vLyBjb25zdCBzZWxlY3RvckNzc0xvZ2luRm9ybSA9IHtcclxuLy8gICAgIF9sb2dpbkJveDogQ09OU1QudWlTZWxlY3RvcnMuaGVhZGVyTG9naW5Cb3gsXHJcbi8vICAgICBfZm9ybUlkOiAnI2pzX2xvZ2luLWZvcm0nLFxyXG4vLyAgICAgX2J1dHRvblN1Ym1pdElkOiAnI2pzX2xvZ2luX2J0bicsXHJcbi8vICAgICBfc2hvd0xvZ2luQm94QnRuSWQ6IENPTlNULnVpU2VsZWN0b3JzLmhlYWRlck5hdkxvZ2luQnRuXHJcbi8vIH07XHJcblxyXG4vKlxyXG4qIGdsb2JhbCBmdW5jdGlvbnNcclxuKi9cclxuZnVuY3Rpb24gc2V0UHViU3ViKFB1YlN1Yikge1xyXG4gICAgd2luZG93LlB1YlN1YiA9IFB1YlN1YjtcclxufVxyXG5cclxuZnVuY3Rpb24gaW5pdFRvb2x0aXAoKSB7XHJcbiAgICAkKCdbZGF0YS10b2dnbGU9XCJ0b29sdGlwXCJdJykudG9vbHRpcCgpO1xyXG59XHJcblxyXG5jb25zdCBpbml0ID0gKCkgPT4ge1xyXG4gICAgc2V0UHViU3ViKFB1YlN1Yik7XHJcbiAgICBpbml0VG9vbHRpcCgpO1xyXG4gICAgLy8gY29uc29sZS5sb2coJ2luaXQganMgaGVyZScsIENPTlNULnVzZXIpO1xyXG4gICAgKG5ldyBSZWdpc3RlckZvcm0oKSkuaW5pdCgpO1xyXG4gICAgLy8gTG9naW5Gb3JtKHNlbGVjdG9yQ3NzTG9naW5Gb3JtKS5pbml0KCk7XHJcbiAgICBMb2dpbkZvcm0oe1xyXG4gICAgICAgIF9sb2dpbkJveDogJ21haW4gLmxvZ2luLWJveCcsXHJcbiAgICAgICAgX2Zvcm1JZDogJyNqc19pbnN0YWdyYW0tYWRkLWFjY291bnQnLFxyXG4gICAgICAgIF9idXR0b25TdWJtaXRJZDogJyNqc19pbnN0YWdyYW0tYWRkLWFjY291bnQtLWJ0bicsXHJcbiAgICAgICAgX3Nob3dMb2dpbkJveEJ0bklkOiAnI2pzX3Nob3ctbG9naW4tYm94JyxcclxuICAgICAgICBpc0xvZ2luSW5zdGFncmFtOiB0cnVlXHJcbiAgICB9KS5pbml0KCk7IC8vIGluaXQgaW5zdGFncmFtIGxvZ2luIGZvcm0gKiEvXHJcbiAgICBMb2dpblBhZ2Uoe1xyXG4gICAgICAgIF9sb2dpbkJveDogJy5hdXRoLmxvZ2luIC5jYXJkLXNpZ25pbicsXHJcbiAgICAgICAgX2Zvcm1JZDogJy5mb3JtLXNpZ25pbicsXHJcbiAgICAgICAgX2J1dHRvblN1Ym1pdElkOiAnLmZvcm0tc2lnbmluIFt0eXBlPVwic3VibWl0XCJdJ1xyXG4gICAgfSkuaW5pdCgpO1xyXG5cclxuICAgIGNvbmZpcm1hdGlvbldpdGhSZWRpcmVjdCgpLmluaXQoKTtcclxuICAgIGhlYWRlci5pbml0SGVhZGVyKCk7XHJcbiAgICBzaWRlYmFyTWVudS5pbml0TWVudSgpO1xyXG4gICAgYnVyZ2VyTWVudS5pbml0KCk7XHJcbiAgICBmb2xsb3cuaW5pdCgpO1xyXG4gICAgdW5mb2xsb3cuaW5pdCgpO1xyXG4gICAgaW5zdGFncmFtQWNjb3VudHMuaW5pdCgpO1xyXG4gICAgbWVzc2FnZXMuaW5pdCgpO1xyXG4gICAgYXV0b21lc3NhZ2VzLmluaXQoKTtcclxuICAgIGF1dG9ncmVldGluZy5pbml0KCk7XHJcbiAgICBhdXRvY29tbWVudHMuaW5pdCgpO1xyXG4gICAgY2hhdEJvdC5pbml0KCk7XHJcbiAgICBzdG9yaWVzLmluaXQoKTtcclxufTtcclxuXHJcbigoKSA9PiBpbml0KCkpKCk7XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9ib290c3RyYXAuanMiLCJleHBvcnQgY29uc3QgdHBsVGV4dEZpZWxkID0gKG1haW5DbHMpID0+XHJcbiQoYDxkaXYgY2xhc3M9XCIke21haW5DbHN9IG10LTJcIj5cclxuICAgIDxkaXYgY2xhc3M9XCJyb3dcIj5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwiY29sXCI+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJqc190YWdzaW5wdXQtYm94XCI+XHJcbiAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBwbGFjZWhvbGRlcj1cItCS0LLQtdC00LjRgtC1INC60LvRjtGH0LXQstGL0LUg0YHQu9C+0LLQsFwiIHZhbHVlPVwiXCIgZGF0YS1yb2xlPVwidGFnc2lucHV0XCIgY2xhc3M9XCJmb3JtLWNvbnRyb2wgYW5zd2VyLXdvcmRzIG1iLTJcIiAvPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImpzX3RhZ3NpbnB1dC1ib3ggYmxhY2tsaXN0LWJveCBteS0yXCI+XHJcbiAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBwbGFjZWhvbGRlcj1cItCS0LLQtdC00LjRgtC1INC80LjQvdGD0YEg0YHQu9C+0LLQsFwiIHZhbHVlPVwiXCIgZGF0YS1yb2xlPVwidGFnc2lucHV0XCIgY2xhc3M9XCJmb3JtLWNvbnRyb2wgYmxhY2tsaXN0LXdvcmRzXCIgLz5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPGRpdiBjbGFzcz1cImNvbFwiPlxyXG4gICAgICAgICAgICA8dGV4dGFyZWEgY2xhc3M9XCJmb3JtLWNvbnRyb2wgYW5zd2VyLW1lc3NhZ2VzXCIgcm93cz1cIjRcIlxyXG4gICAgICAgICAgICAgICAgZGF0YS1lbW9qaS1waWNrZXI9XCJ0cnVlXCIgc3R5bGU9XCJwYWRkaW5nOiAwLjI1cmVtIDEuNzVyZW0gMC4yNXJlbSAwLjI1cmVtOyB3aWR0aDogMTAwJTttaW4taGVpZ2h0OiA0MnB4O1wiXHJcbiAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cItCS0LLQtdC00LjRgtC1INGB0L7QvtCx0YnQtdC90LjQtVwiXHJcbiAgICAgICAgICAgID48L3RleHRhcmVhPlxyXG4gICAgICAgICAgICBcclxuICAgICAgICA8L2Rpdj5cclxuICAgIDwvZGl2PlxyXG48L2Rpdj5gKTtcclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2Jsb2Nrcy9hdXRvY29tbWVudHMvYWRkQW5zd2VyVGVtcGxhdGUuanMiLCJpbXBvcnQge0NPTlNUfSBmcm9tICcuLi8uLi9jb21tb24vanMtc2VydmljZXMvY29uc3RzJztcclxuaW1wb3J0ICogYXMgd2l6YXJkRm9ybSBmcm9tICcuLi8uLi9ibG9ja3Mvd2l6YXJkLWZvcm0vd2l6YXJkLWZvcm0nO1xyXG5pbXBvcnQgdmlld1V0aWxzIGZyb20gJy4uLy4uL2NvbW1vbi9qcy1zZXJ2aWNlcy92aWV3JztcclxuaW1wb3J0IFVzZXJUYXNrTWFuYWdlciBmcm9tICcuLi8uLi9jb21tb24vanMtc2VydmljZXMvYXBpLXRhc2stbWFuYWdlcic7XHJcbmltcG9ydCAqIGFzIHRhYnMgZnJvbSAnLi4vX3NoYXJlZC90ZWJzLXBpbHMvdGFicyc7XHJcbmltcG9ydCAqIGFzIGF1dG9jb21tZW50c1N0YXR1cyBmcm9tICcuL2F1dG9jb21tZW50cy1zdGF0dXMnO1xyXG5pbXBvcnQgKiBhcyBsb2dzIGZyb20gJy4uL19zaGFyZWQvbG9ncy9sb2dzJztcclxuaW1wb3J0ICogYXMgaW1hZ2VVcGxvYWQgZnJvbSAnLi4vX3NoYXJlZC9pbWFnZS11cGxvYWQvaW1hZ2UtdXBsb2FkJztcclxuaW1wb3J0IHtlbW9qaX0gZnJvbSAnLi4vLi4vY29tbW9uL2pzLXNlcnZpY2VzL2Vtb2ppJztcclxuaW1wb3J0IHtnZXRQb3N0c30gZnJvbSAnLi4vX3NoYXJlZC9nZXRQb3N0c01vZGFsL3V0aWxzLW1vZGFsJztcclxuaW1wb3J0IHt0cGxUZXh0RmllbGR9IGZyb20gJy4vYWRkQW5zd2VyVGVtcGxhdGUnO1xyXG5pbXBvcnQge2luaXRUYWdzSW5wdXQsIG5leHRCdG52YWxpZGF0ZUNvbXBldGl0b3JzSGFuZGxlcn0gZnJvbSAnLi4vX3NoYXJlZC90YWdzLWlucHV0L3RhZ3MtaW5wdXQnO1xyXG5cclxuY29uc3Qge2dldFZhbEJ5Q29tbWFTZXBhcmF0b3J9ID0gdmlld1V0aWxzO1xyXG5sZXQgdXNlcm5hbWVTZWxlY3RlZCA9ICcnO1xyXG5jb25zdCBzZWxlY3RDbHMgPSAnanNfbG9ncy1hY2NvdW50cyc7XHJcbmNvbnN0IGNsc0NvbnN0ID0ge1xyXG4gICAgY3VycmVudFBhZ2VDbHM6ICcuYXV0b2NvbW1lbnRzLXBhZ2UnLFxyXG4gICAgdGFza3NMaXN0OiAnLmxvZy10YXNrcycsXHJcbiAgICBsb2dzVGFiQnRuOiAnI3YtcGlsbHMtbG9ncy10YWInLFxyXG4gICAgcGFnaW5hdGlvbjogJy5sb2dzLXBhZ2luYXRpb24nLFxyXG4gICAgcGFnaW5hdGlvblBnTnVtYmVyOiAnLnBhZ2UtbnVtYmVyJyxcclxuICAgIHBhdGhUeXBlOiBDT05TVC51cmwudG1UeXBlcy5hdXRvY29tbWVudHNULFxyXG4gICAgcGF0aFN1YlR5cGU6IENPTlNULnVybC50bVR5cGVzLmF1dG9jb21tZW50c1N1YlRbMF1cclxufTtcclxuY29uc3QgZWxTZWxlY3RvciA9IHtcclxuICAgIGZpZWxkczogJy5hdXRvY29tbWVudHMtdGV4dC1maWVsZHMnLFxyXG4gICAga2V5V29yZDogJ2lucHV0LmFuc3dlci13b3JkcycsXHJcbiAgICBhbnN3ZXI6ICd0ZXh0YXJlYS5hbnN3ZXItbWVzc2FnZXMnLFxyXG4gICAgZmlsZVVwbG9hZEJveDogJy5maWxlLXVwbG9hZCcsXHJcbiAgICBhZGRQb3N0QnRuczogJy5qc19hdXRvY29tbWVudHMtYWRkLXBvc3QnXHJcbn07XHJcbmNvbnN0IGxvZ3NTdGF0ZSA9IHtcclxuICAgIHNlbGVjdENsczogJ2pzX2xvZ3MtYWNjb3VudHMnLFxyXG4gICAgc2VsZWN0Q2xzTG9nc1Rhc2tUeXBlOiAnanNfbG9ncy1zdWJ0eXBlcycsXHJcbiAgICB3cmFwcGVyU3VidHlwZTogJy5sb2ctc3VieXBlJ1xyXG59O1xyXG5cclxuZnVuY3Rpb24gaW5pdEVtb2ppaSgpIHtcclxuICAgIGVtb2ppKHtcclxuICAgICAgICBwYWdlOiBjbHNDb25zdC5jdXJyZW50UGFnZUNscyxcclxuICAgICAgICBzdHlsZXM6IHtvbGQ6ICdib3R0b206IDMwcHg7JywgbmV3OiAndG9wOiAtMjEwcHg7J31cclxuICAgIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiB2YWxpZGF0ZUlzRW1wdHkoJGVsZW1lbnRzLCBlKSB7XHJcbiAgICAkZWxlbWVudHMuZWFjaChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKCQodGhpcykudmFsKCkgPT09ICcnKSB7XHJcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgJCh0aGlzKS5hZGRDbGFzcygnaW5wdXQtZXJyb3InKTtcclxuICAgICAgICAgICAgLy8gdmFsaWRhdGlvbiA9IGZhbHNlO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgJCh0aGlzKS5yZW1vdmVDbGFzcygnaW5wdXQtZXJyb3InKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gb25TdWJtaXRIYW5kbGVyKGUpIHtcclxuICAgIGNvbnN0IGZpZWxkcyA9ICQoZWxTZWxlY3Rvci5maWVsZHMpO1xyXG4gICAgY29uc3QgcmVxQm9keSA9IFtdO1xyXG4gICAgbGV0IHZhbGlkYXRpb24gPSB0cnVlO1xyXG4gICAgY29uc3QgJGVsZW1lbnRzS2V5V29yZCA9IGZpZWxkcy5maW5kKGVsU2VsZWN0b3Iua2V5V29yZCk7XHJcbiAgICBjb25zdCAkZWxlbWVudHNBbnN3ZXIgPSBmaWVsZHMuZmluZChlbFNlbGVjdG9yLmFuc3dlcik7XHJcblxyXG4gICAgdmFsaWRhdGVJc0VtcHR5KCRlbGVtZW50c0tleVdvcmQsIGUpO1xyXG4gICAgdmFsaWRhdGVJc0VtcHR5KCRlbGVtZW50c0Fuc3dlciwgZSk7XHJcblxyXG4gICAgZmllbGRzLmVhY2goKGlkeCwgaXRlbSkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGtleVdvcmQgPSBnZXRWYWxCeUNvbW1hU2VwYXJhdG9yKCQoaXRlbSkuZmluZChlbFNlbGVjdG9yLmtleVdvcmQpKTtcclxuICAgICAgICBjb25zdCBhbnN3ZXIgPSAkKGl0ZW0pLmZpbmQoZWxTZWxlY3Rvci5hbnN3ZXIpLnZhbCgpO1xyXG4gICAgICAgIGNvbnN0IGltYWdlSWQgPSAkKGl0ZW0pLmZpbmQoZWxTZWxlY3Rvci5maWxlVXBsb2FkQm94KS5hdHRyKCdhdHRhY2hlZC1pbWctaWQnKTtcclxuICAgICAgICBjb25zdCAkaW1hZ2VQb3N0Qm94ID0gJChpdGVtKS5maW5kKCcuanNfdXBsb2FkZWQtaW1nLWZyb20tcG9zdHMnKTtcclxuICAgICAgICBjb25zdCBwb3N0SXRlbUlkID0gJGltYWdlUG9zdEJveC5kYXRhKCdwb3N0SWQnKTtcclxuICAgICAgICBjb25zdCBwb3N0SXRlbVR5cGUgPSAkaW1hZ2VQb3N0Qm94LmRhdGEoJ3Bvc3RUeXBlJyk7XHJcbiAgICAgICAgY29uc3QgYmxhY2tsaXN0V29yZHMgPSAkKGl0ZW0pLmZpbmQoJ2lucHV0LmJsYWNrbGlzdC13b3JkcycpO1xyXG4gICAgICAgIGNvbnN0IGJsYWNrbGlzdFdvcmRzQXJyID0gZ2V0VmFsQnlDb21tYVNlcGFyYXRvcihibGFja2xpc3RXb3Jkcyk7XHJcblxyXG4gICAgICAgIGlmICgha2V5V29yZC5sZW5ndGggfHwgIWFuc3dlci5sZW5ndGgpIHtcclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ2tleVdvcmQgaXMgZW1wdHksIG5vdCBwdXNoIG1lIHRvIHJlcXVlc3QnKTtcclxuICAgICAgICAgICAgJChpdGVtKS5hcHBlbmQoYFxyXG4gICAgICAgICAgICAgICAgPHAgY2xhc3M9XCJtc2ctZW1wdHktZmllbGQgdGV4dC1kYW5nZXJcIj7Qn9GD0YHRgtC+0LUg0L/QvtC70LUg0L3QtSDQstCw0LvQuNC00L3QvjwvcD5cclxuICAgICAgICAgICAgYCk7XHJcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgJCgnLm1zZy1lbXB0eS1maWVsZCcpLmFkZENsYXNzKCdkLW5vbmUnKTtcclxuICAgICAgICAgICAgfSwgNTAwMCk7XHJcbiAgICAgICAgICAgIHZhbGlkYXRpb24gPSBmYWxzZTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBzdWJtaXRCb2R5SXRlbSA9IHtcclxuICAgICAgICAgICAgJ2tleV93b3Jkcyc6IGtleVdvcmQsXHJcbiAgICAgICAgICAgIGFuc3dlcixcclxuICAgICAgICAgICAgYmxhY2tsaXN0OiBibGFja2xpc3RXb3Jkc0FycixcclxuICAgICAgICAgICAgJ2F0dGFjaG1lbnQnOiBpbWFnZUlkID8ge1xyXG4gICAgICAgICAgICAgICAgJ2ltYWdlX2lkJzogaW1hZ2VJZFxyXG4gICAgICAgICAgICB9IDogdW5kZWZpbmVkXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgaWYgKHBvc3RJdGVtSWQpIHtcclxuICAgICAgICAgICAgc3VibWl0Qm9keUl0ZW0uYXR0YWNobWVudCA9IHtcclxuICAgICAgICAgICAgICAgIC4uLnN1Ym1pdEJvZHlJdGVtLmF0dGFjaG1lbnQsXHJcbiAgICAgICAgICAgICAgICBwb3N0OiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWQ6IHBvc3RJdGVtSWQsXHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogcG9zdEl0ZW1UeXBlIHx8ICd0eXBlLWVycm9yJ1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXFCb2R5LnB1c2goc3VibWl0Qm9keUl0ZW0pO1xyXG4gICAgfSk7XHJcbiAgICBpZiAoIXZhbGlkYXRpb24pIHtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZygnKiphbGFybSAqKicsIGVsU2VsZWN0b3Iua2V5V29yZCk7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IG5SZXFCb2R5ID0ge1xyXG4gICAgICAgICd1c2VybmFtZSc6IHVzZXJuYW1lU2VsZWN0ZWQsXHJcbiAgICAgICAgJ3R5cGUnOiBjbHNDb25zdC5wYXRoVHlwZSxcclxuICAgICAgICAnc3VidHlwZSc6IGNsc0NvbnN0LnBhdGhTdWJUeXBlLFxyXG4gICAgICAgICd1c2VyX2RlZmF1bHRfY29uZmlnJzoge30sXHJcbiAgICAgICAgJ3VzZXJfY3VzdG9tX2NvbmZpZyc6IHtcclxuICAgICAgICAgICAgJ2Zvcm1zJzogcmVxQm9keVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLy8gY29uc29sZS5sb2coJ21ha2UgcmVxdWVzdCBoZXJlKionLCBuUmVxQm9keSk7XHJcbiAgICBmdW5jdGlvbiBjYkVycm9yKHJlcykge1xyXG4gICAgICAgIGNvbnN0IG1zZyA9IHJlcy5zdGF0dXMubWVzc2FnZTtcclxuICAgICAgICAkKCcuZm9ybS1zdWJtaXQtZmluaXNoLS1lcnJvcicpLmFkZENsYXNzKCdkLWJsb2NrJylcclxuICAgICAgICAuZmluZCgnLmFsZXJ0JykuYXBwZW5kKGA8cD4ke21zZ308L3A+YCk7XHJcbiAgICB9XHJcbiAgICBVc2VyVGFza01hbmFnZXIucG9zdFN0YXJ0VGFzayhuUmVxQm9keSwgY2JFcnJvcikudGhlbigocmVzdWx0KSA9PiB7XHJcbiAgICAgICAgaWYgKHJlc3VsdC5zdGF0dXMuc3RhdGUgPT09ICdvaycpIHtcclxuICAgICAgICAgICAgJCgnLmZvcm0tc3VibWl0LWZpbmlzaCcpLmZpbmQoJy5hbGVydCBwJykucmVtb3ZlKCk7XHJcbiAgICAgICAgICAgICQoJy5mb3JtLXN1Ym1pdC1maW5pc2gnKS5hZGRDbGFzcygnZC1ibG9jaycpXHJcbiAgICAgICAgICAgICAgICAuZmluZCgnLmFsZXJ0JykuYXBwZW5kKGA8cD50YXNrX2lkOiAke3Jlc3VsdC5kYXRhLnRhc2tfaWR9PC9wPmApO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBpbml0TG9nc1RhYigpIHtcclxuICAgIGZ1bmN0aW9uIE9uQ2hhbmdlU2VsZWN0KCkge1xyXG4gICAgICAgIGNvbnN0IHtzZWxlY3RDbHN9ID0gbG9nc1N0YXRlO1xyXG4gICAgICAgICQoYC4ke3NlbGVjdENsc31gKS5vbignY2hhbmdlJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB1c2VybmFtZVNlbGVjdGVkID0gJChgLiR7c2VsZWN0Q2xzfSBvcHRpb246c2VsZWN0ZWRgKS52YWwoKTtcclxuICAgICAgICAgICAgLy8gY2xzQ29uc3QucGF0aFN1YlR5cGUgPSBsb2dzU3RhdGUuYWN0aXZlU3ViVHlwZTtcclxuICAgICAgICAgICAgbG9ncy5pbml0KHNlbGVjdENscywgY2xzQ29uc3QpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgLy8gYWRkRHJvcGRvd24oJChsb2dzU3RhdGUud3JhcHBlclN1YnR5cGUpLCBsb2dzU3VidHlwZXMsIHtsb2dzU3RhdGUsIGRyb3Bkb3duT25TZWxlY3RDYn0pO1xyXG4gICAgdGFicy5pbml0KE9uQ2hhbmdlU2VsZWN0LCBsb2dzU3RhdGUpOyAvLyBtYWtlcyBkb3VibGUgcmVxdWVzdCA6IE9QVElPTiBhbmQgR0VUXHJcbn1cclxuXHJcbmZ1bmN0aW9uIHJlbW92ZUV4dHJhVGV4dEZpZWxkcyhlKSB7XHJcbiAgICAkKGAke2VsU2VsZWN0b3IuZmllbGRzfTpub3QoOmZpcnN0LWNoaWxkKWApLnJlbW92ZUNsYXNzKCdkLWJsb2NrJyk7XHJcbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG59XHJcblxyXG4vKiBUT0RPOiByZWZhY3RvciAtPiBtb3ZlIGluaXRNb2RhbEhhbmRsZXIgdG8gc2VwYXJhdGUgZmlsZSwgcmVtb3ZlIGluaXRNb2RhbEhhbmRsZXIgaW4gYXV0b2dyZWV0aW5nLW1haW4uanMgKi9cclxubGV0IHRhcmdldEJ1dHRvbiA9IHt9O1xyXG5cclxuZnVuY3Rpb24gbG9hZE1vcmVIYW5kbGVyKGdldFBvc3RzKSB7XHJcbiAgICAkKCcjbG9hZC1tb3JlJykub2ZmKCkub24oJ2NsaWNrJywgKGUpID0+IHtcclxuICAgICAgICBjb25zdCAkYnRuID0gJChlLnRhcmdldCk7XHJcbiAgICAgICAgY29uc3QgY3Vyc29yID0gJGJ0bi5hdHRyKCdjdXJzb3InKTtcclxuICAgICAgICBjb25zb2xlLmxvZygnbG9hZCBtb3JlIGNsaWNrJyk7XHJcbiAgICAgICAgZ2V0UG9zdHMobnVsbCwge3VzZXJOYW1lOiB1c2VybmFtZVNlbGVjdGVkLCBjdXJzb3J9LCB7bG9hZE1vcmVIYW5kbGVyOiB0aGlzLCB0YXJnZXRCdXR0b259KTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBpbml0TW9kYWxIYW5kbGVyKCkge1xyXG5cclxuICAgICQoJy5qc19vcGVuLXBvc3RzLWdyaWRNb2RhbCcpLm9uKCdjbGljaycsIGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgIHRhcmdldEJ1dHRvbiA9ICQodGhpcyk7IC8vIEJ1dHRvbiB0aGF0IHRyaWdnZXJlZCB0aGUgbW9kYWxcclxuICAgICAgICAvLyBVcGRhdGUgdGhlIG1vZGFsJ3MgY29udGVudFxyXG4gICAgICAgIGNvbnN0IG1vZGFsID0gJCgnI3Bvc3RzR3JpZE1vZGFsJyk7XHJcbiAgICAgICAgZ2V0UG9zdHMobW9kYWwsIHt1c2VyTmFtZTogdXNlcm5hbWVTZWxlY3RlZH0sIHtsb2FkTW9yZUhhbmRsZXIsIHRhcmdldEJ1dHRvbn0pO1xyXG4gICAgICAgIG1vZGFsLmZpbmQoJy5tb2RhbC10aXRsZScpLnRleHQoJ9Cf0YPQsdC70LjQutCw0YbQuNC4Jyk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuLyogVE9ETzogcmVmYWN0b3IgLT4gbW92ZSBpbml0TW9kYWxIYW5kbGVyIHRvIHNlcGFyYXRlIGZpbGUgRU5EICovXHJcblxyXG4vKipcclxuICogSW5pdCBIYW5kbGVyc1xyXG4gKi9cclxuZnVuY3Rpb24gaW5pdEhhbmRsZXJzKCkge1xyXG4gICAgY29uc3QgJGNvbXBldGl0b3JzSW5wdXQgPSAkKCcuYXV0b2NvbW1lbnRzLXRleHQtZmllbGRzIGlucHV0LmFuc3dlci13b3Jkc1tkYXRhLXJvbGU9XCJ0YWdzaW5wdXRcIl0nKTtcclxuICAgIGNvbnN0ICRibGFja0xpc3RJbnB1dCA9ICQoJy5hdXRvY29tbWVudHMtdGV4dC1maWVsZHMgaW5wdXQuYmxhY2tsaXN0LXdvcmRzW2RhdGEtcm9sZT1cInRhZ3NpbnB1dFwiXScpO1xyXG4gICAgY29uc3QgbmV4dFN0ZXBCdG4gPSAkKCdmb3JtIGJ1dHRvblt0eXBlPVwic3VibWl0XCJdJyk7XHJcbiAgICBuZXh0QnRudmFsaWRhdGVDb21wZXRpdG9yc0hhbmRsZXIoJGNvbXBldGl0b3JzSW5wdXQsIG5leHRTdGVwQnRuLCAnaWdub3JlUmVnZXhDaGVjaycpO1xyXG4gICAgbmV4dEJ0bnZhbGlkYXRlQ29tcGV0aXRvcnNIYW5kbGVyKCRibGFja0xpc3RJbnB1dCwgbnVsbCwgJ2lnbm9yZVJlZ2V4Q2hlY2snKTtcclxuXHJcbiAgICAvLyBUT0RPOiByZWZhY3RvciB3aXRoIGF1dG9ncmVldC5qcyBpbml0SGFuZGxlcnNcclxuICAgIC8vICQoJ1tkYXRhLXRvZ2dsZT1cInBvcG92ZXJcIl0nKS5wb3BvdmVyKCk7IC8vIGluaXRcclxuICAgICQoJy5qc19hZGQtYXV0b2NvbW1lbnRzJykub24oJ2NsaWNrJywgKGUpID0+IHtcclxuICAgICAgICBjb25zdCBsYXN0VGV4dEZpZWxkID0gJChlbFNlbGVjdG9yLmZpZWxkcykubGFzdCgpO1xyXG4gICAgICAgIHRwbFRleHRGaWVsZChlbFNlbGVjdG9yLmZpZWxkcy5zdWJzdHIoMSkpLmluc2VydEFmdGVyKGxhc3RUZXh0RmllbGQpO1xyXG4gICAgICAgIGltYWdlVXBsb2FkLmluaXQoKTtcclxuICAgICAgICAvLyAkKCdbZGF0YS10b2dnbGU9XCJwb3BvdmVyXCJdJykucG9wb3ZlcigpOyAvLyByZWluaXRcclxuICAgICAgICAkKCdbZGF0YS10b2dnbGU9XCJ0b29sdGlwXCJdJykudG9vbHRpcCgpOyAvLyByZWluaXRcclxuICAgICAgICBpbml0TW9kYWxIYW5kbGVyKCk7XHJcblxyXG4gICAgICAgIGNvbnN0IGxhc3RUZXh0RmllbGRBZnRlckluc2VydCA9ICQoZWxTZWxlY3Rvci5maWVsZHMpLmxhc3QoKTtcclxuICAgICAgICBjb25zdCAkaW5wdXRBbnN3ZXJXb3JkcyA9ICQoJ2lucHV0LmFuc3dlci13b3Jkc1tkYXRhLXJvbGU9XCJ0YWdzaW5wdXRcIl0nLCBsYXN0VGV4dEZpZWxkQWZ0ZXJJbnNlcnQpO1xyXG4gICAgICAgIGNvbnN0ICRibGFja0xpc3RJbnB1dCA9ICQoJ2lucHV0LmJsYWNrbGlzdC13b3Jkc1tkYXRhLXJvbGU9XCJ0YWdzaW5wdXRcIl0nLCBsYXN0VGV4dEZpZWxkQWZ0ZXJJbnNlcnQpO1xyXG5cclxuICAgICAgICBpbml0VGFnc0lucHV0KCRpbnB1dEFuc3dlcldvcmRzKTsgLy8gcmVpbml0IGFuc3dlci13b3Jkc1xyXG4gICAgICAgIGluaXRUYWdzSW5wdXQoJGJsYWNrTGlzdElucHV0KTsgLy8gcmVpbml0IGJsYWNrbGlzdC13b3Jkc1xyXG4gICAgICAgIG5leHRCdG52YWxpZGF0ZUNvbXBldGl0b3JzSGFuZGxlcigkaW5wdXRBbnN3ZXJXb3JkcywgbmV4dFN0ZXBCdG4sICdpZ25vcmVSZWdleENoZWNrJyk7XHJcbiAgICAgICAgbmV4dEJ0bnZhbGlkYXRlQ29tcGV0aXRvcnNIYW5kbGVyKCRibGFja0xpc3RJbnB1dCwgbnVsbCwgJ2lnbm9yZVJlZ2V4Q2hlY2snKTtcclxuICAgICAgICBpbml0RW1vamlpKCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBhbGVydCBzdWNjZXNzIGNsb3NlXHJcbiAgICAkKCcuZm9ybS1zdWJtaXQtZmluaXNoIC5jbG9zZScpLm9uKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coJ2FsZXJ0IGNsb3NlJyk7XHJcbiAgICAgICAgJCgnI3YtcGlsbHMtYWxsLXRhYicpLnRyaWdnZXIoJ2NsaWNrJyk7XHJcbiAgICAgICAgd2luZG93LlB1YlN1Yi5wdWJsaXNoKENPTlNULmV2ZW50cy50YXNrcy5ORVdfVEFTS19DUkVBVEVEKTtcclxuICAgICAgICAvLyByZW1vdmVFeHRyYVRleHRGaWVsZHMoZSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBhbGVydCBjbG9zZVxyXG4gICAgJCgnLmZvcm0tc3VibWl0LWZpbmlzaC0tZXJyb3IgLmNsb3NlJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCdhbGVydCBjbG9zZScpO1xyXG4gICAgICAgICQoJyN2LXBpbGxzLWFsbC10YWInKS50cmlnZ2VyKCdjbGljaycpO1xyXG4gICAgICAgIHdpbmRvdy5QdWJTdWIucHVibGlzaChDT05TVC5ldmVudHMudGFza3MuTkVXX1RBU0tfQ1JFQVRFRCk7XHJcbiAgICAgICAgcmVtb3ZlRXh0cmFUZXh0RmllbGRzKCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyB0YWJzLmluaXQoZmlsbExpc3RVc2Vycyk7XHJcbiAgICBpbml0TG9nc1RhYigpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBzZXRVc2VyTmFtZShzdGF0ZSkge1xyXG4gICAgLy8gY29uc29sZS5sb2coJ2dldFRhc2tzRGF0YScsIHN0YXRlLnVzZXJuYW1lKTtcclxuICAgIHVzZXJuYW1lU2VsZWN0ZWQgPSBzdGF0ZS51c2VybmFtZTtcclxufVxyXG5cclxuZnVuY3Rpb24gc3RlcFJlZHVjZXIoc3RlcE51bWJlciwgc3RhdGUpIHtcclxuICAgIHN3aXRjaCAoc3RlcE51bWJlcikge1xyXG4gICAgICAgIGNhc2UgMDpcclxuICAgICAgICAgICAgc2V0VXNlck5hbWUoc3RhdGUpO1xyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhzdGF0ZSwgc3RlcE51bWJlcik7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdkZWZhdWx0Jywgc3RlcE51bWJlcik7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBpbml0KCkge1xyXG4gICAgaWYgKCQoY2xzQ29uc3QuY3VycmVudFBhZ2VDbHMpLmxlbmd0aCkge1xyXG4gICAgICAgIGNvbnN0IHdpemFyZENmZyA9IHtcclxuICAgICAgICAgICAgc3RlcFJlZHVjZXIsXHJcbiAgICAgICAgICAgIG9uU3VibWl0SGFuZGxlclxyXG4gICAgICAgIH07XHJcbiAgICAgICAgd2l6YXJkRm9ybS5pbml0KHdpemFyZENmZyk7XHJcbiAgICAgICAgaW5pdEhhbmRsZXJzKCk7XHJcbiAgICAgICAgYXV0b2NvbW1lbnRzU3RhdHVzLmluaXQoKTtcclxuICAgICAgICAvLyBpbml0VGFnc0lucHV0KCcuYmxhY2tsaXN0LWJveCBpbnB1dCcpO1xyXG5cclxuICAgICAgICB3aW5kb3cuUHViU3ViLnN1YnNjcmliZShDT05TVC5ldmVudHMuaW5zdGFncmFtQWNjb3Vucy5JTlNUQUdSQU1fQUNDT1VOU19SRU5ERVJFRF9MQVpZLCAoZSwgYWNjb3VudHMpID0+IHtcclxuICAgICAgICAgICAgbG9ncy5pbml0KHNlbGVjdENscywgY2xzQ29uc3QpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIC8vIHdpbmRvdy5QdWJTdWIuc3Vic2NyaWJlKENPTlNULmV2ZW50cy5hdXRvYXJuc3dlci5JTUFHRV9VUExPQURFRCwgKGUsIHJlcykgPT4ge1xyXG4gICAgICAgIC8vICAgICBjb25zdCB7cmVzcG9uc2V9ID0gcmVzO1xyXG4gICAgICAgIC8vICAgICBjb25zdCByZXN1bHQgPSAocmVzcG9uc2UubGVuZ3RoKSA/IEpTT04ucGFyc2UocmVzcG9uc2UpIDogJyc7XHJcbiAgICAgICAgLy8gICAgIGNvbnN0IGltYWdlSWQgPSByZXN1bHQgJiYgcmVzdWx0LmRhdGEgJiYgcmVzdWx0LmRhdGEuaW1hZ2VfaWQ7XHJcbiAgICAgICAgLy8gICAgICQocmVzLmVsKS5jbG9zZXN0KCcuZmlsZS11cGxvYWQnKS5hdHRyKCdhdHRhY2hlZC1pbWctaWQnLCBpbWFnZUlkKTtcclxuICAgICAgICAvLyAgICAgY29uc29sZS5sb2coJ2ltYWdlX2xvYWRlZCcsIHJlcyk7XHJcbiAgICAgICAgLy9cclxuICAgICAgICAvLyAgICAgLy8gdG9kbzogbWFrZSBhcyBjYWxsQmFja1xyXG4gICAgICAgIC8vICAgICBjb25zdCAkaW1hZ2VCb3ggPSAkKHJlcy5lbCkuY2xvc2VzdCgnLmNvbCcpLmZpbmQoJy5qc191cGxvYWRlZC1pbWctZnJvbS1wb3N0cycpO1xyXG4gICAgICAgIC8vICAgICBpZiAoJGltYWdlQm94Lmxlbmd0aCkge1xyXG4gICAgICAgIC8vICAgICAgICAgJGltYWdlQm94LnJlbW92ZSgpO1xyXG4gICAgICAgIC8vICAgICB9XHJcbiAgICAgICAgLy8gfSk7XHJcbiAgICAgICAgLy8gd2luZG93LlB1YlN1Yi5zdWJzY3JpYmUoQ09OU1QuZXZlbnRzLm1vZGFsLklNQUdFX1BPU1RfU0VMRUNURUQsIChlLCBkYXRhKSA9PiB7XHJcbiAgICAgICAgLy8gICAgIGNvbnN0ICRpbWFnZUJveCA9ICQoZGF0YS5jbG9zZXN0Q29sKS5maW5kKCcuZmlsZS11cGxvYWQtY29udGVudCcpO1xyXG4gICAgICAgIC8vICAgICBjb25zb2xlLmxvZygnJGltYWdlQm94JywgJGltYWdlQm94KTtcclxuICAgICAgICAvLyAgICAgaWYgKCRpbWFnZUJveC5sZW5ndGgpIHtcclxuICAgICAgICAvLyAgICAgICAgICRpbWFnZUJveC5oaWRlKCk7XHJcbiAgICAgICAgLy8gICAgIH1cclxuICAgICAgICAvLyB9KTtcclxuICAgICAgICBpbml0RW1vamlpKCk7XHJcbiAgICB9XHJcbn1cclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2Jsb2Nrcy9hdXRvY29tbWVudHMvYXV0b2NvbW1lbnRzLWluZGV4LmpzIiwiaW1wb3J0IHtDT05TVH0gZnJvbSAnLi4vLi4vY29tbW9uL2pzLXNlcnZpY2VzL2NvbnN0cyc7XHJcbmltcG9ydCB7Z2V0VGFza3NEYXRhfSBmcm9tICcuLi9fc2hhcmVkL3Rhc2stc3RhdHVzL3Rhc2stc3RhdHVzJztcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBpbml0KCkge1xyXG4gICAgaWYgKCQoJy5hdXRvY29tbWVudHMtcGFnZScpLmxlbmd0aCkge1xyXG4gICAgICAgIGNvbnN0IHBhdGggPSB7XHJcbiAgICAgICAgICAgIHR5cGU6IENPTlNULnVybC50bVR5cGVzLmF1dG9jb21tZW50c1QsXHJcbiAgICAgICAgICAgIHN1YnR5cGU6IENPTlNULnVybC50bVR5cGVzLmF1dG9jb21tZW50c1N1YlRbMF1cclxuICAgICAgICB9O1xyXG4gICAgICAgIGNvbnN0IHdyYXBwZXJzID0ge1xyXG4gICAgICAgICAgICAkcnVuczogJCgnLnRhc2tzLXJ1bnMnKSxcclxuICAgICAgICAgICAgJHN0b3BwZWQ6ICQoJy50YXNrcy1zdG9wcGVkJyksXHJcbiAgICAgICAgICAgICRhbGw6ICQoJy50YXNrcy1hbGwnKVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIC8vIHRhc2stc3RhdHVzIGhhcyBvbmUgc3VidHlwZSwgc28gZG8gbm90IGFkZCBkcm9wZG93blxyXG4gICAgICAgIC8vIHJlbmRlciBzdGF0dXMgZHJvcGRvd25cclxuICAgICAgICAvLyBjb25zdCB0ZXh0UnVzQXJyYXkgPSBbJ9Cf0L4gREVGQVVMVF9BVVRPX0FOU1dFUiddO1xyXG4gICAgICAgIC8vIGRyb3BEb3duLmFkZERyb3Bkb3duKGxvZ3NTdGF0ZVN0YXR1cy53cmFwcGVyU3VidHlwZSwgQ09OU1QudXJsLnRtVHlwZXMuc3Rvcmllc1N1YlQsIHtsb2dzU3RhdGU6IGxvZ3NTdGF0ZVN0YXR1cywgZHJvcGRvd25PblNlbGVjdENiLCB0ZXh0UnVzQXJyYXl9KTtcclxuXHJcbiAgICAgICAgZ2V0VGFza3NEYXRhKHdyYXBwZXJzLCBwYXRoKTtcclxuICAgICAgICAvLyB3aW5kb3cuUHViU3ViLnN1YnNjcmliZShDT05TVC5ldmVudHMuaW5zdGFncmFtQWNjb3Vucy5JTlNUQUdSQU1fQUNDT1VOU19SRU5ERVJFRCwgKGV2ZW50TmFtZSwgZGF0YSkgPT4ge1xyXG4gICAgICAgIC8vICAgICBnZXRUYXNrc0RhdGEod3JhcHBlcnMsIHBhdGgpO1xyXG4gICAgICAgIC8vICAgICBjb25zb2xlLmxvZygnKiphbnN3ZXItc3RhdHVzJywgZXZlbnROYW1lLCBkYXRhKTtcclxuICAgICAgICAvLyB9KTtcclxuICAgICAgICB3aW5kb3cuUHViU3ViLnN1YnNjcmliZShDT05TVC5ldmVudHMudGFza3MuTkVXX1RBU0tfQ1JFQVRFRCwgKGV2ZW50TmFtZSwgZGF0YSkgPT4ge1xyXG4gICAgICAgICAgICBnZXRUYXNrc0RhdGEod3JhcHBlcnMsIHBhdGgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59XHJcblxyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvYmxvY2tzL2F1dG9jb21tZW50cy9hdXRvY29tbWVudHMtc3RhdHVzLmpzIiwiZXhwb3J0IGNvbnN0IHRwbFRleHRGaWVsZEdyZWV0ID0gKG1haW5DbHMpID0+XHJcbiQoYDxkaXYgY2xhc3M9XCIke21haW5DbHN9XCI+XHJcbiAgICAgICAgPGRpdiBjbGFzcz1cInJvd1wiPlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sXCI+XHJcbiAgICAgICAgICAgICAgICA8ZGl2PiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICA8dGV4dGFyZWEgY2xhc3M9XCJmb3JtLWNvbnRyb2wgYW5zd2VyLXdvcmRzXCIgcm93cz1cIjRcIiBcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS1lbW9qaS1waWNrZXI9XCJ0cnVlXCIgcGxhY2Vob2xkZXI9XCLQktCy0LXQtNC40YLQtSDRgdC+0L7QsdGJ0LXQvdC40LVcIj48L3RleHRhcmVhPiAgICBcclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG5cclxuICAgICAgICAgICAgICAgIDwhLS0gZmlsZS11cGxvYWQgLS0+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmlsZS11cGxvYWQtYnRuLWJveFwiIGRhdGEtdG9nZ2xlPVwidG9vbHRpcFwiIGRhdGEtcGxhY2VtZW50PVwidG9wXCIgdGl0bGU9XCLQlNC+0LHQsNCy0LjRgtGMINC40LfQvtCx0YDQsNC20LXQvdC40LVcIj5cclxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwiZmlsZS11cGxvYWQtYnRuIGJ0biBidG4tc3VjY2Vzc1wiIHR5cGU9XCJidXR0b25cIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9XCJmYXIgZmEtaW1hZ2UgZmEtbGdcIj48L2k+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImJ0biBidG4tc3VjY2VzcyBwb3N0LXVwbG9hZC1idG4ganNfYXV0b21lc3NhZ2VzLWFkZC1wb3N0XCJcclxuICAgICAgICAgICAgICAgICAgICB0aXRsZT1cItCU0L7QsdCw0LLQuNGC0Ywg0L/Rg9Cx0LvQuNC60LDRhtC40Y5cIlxyXG4gICAgICAgICAgICAgICAgICAgIGRhdGEtdG9nZ2xlPVwidG9vbHRpcFwiXHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YS1wbGFjZW1lbnQ9XCJ0b3BcIlxyXG4gICAgICAgICAgICAgICAgICAgIGRhdGEtcG9zdC1pbmZvPVwidG9kbzogZ2V0IHJlcSB0byB1c2VyOiBcIj5cclxuICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImpzX29wZW4tcG9zdHMtZ3JpZE1vZGFsXCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS1jb250YWluZXI9XCJib2R5XCIgZGF0YS10b2dnbGU9XCJwb3BvdmVyXCIgZGF0YS1wbGFjZW1lbnQ9XCJib3R0b21cIiBkYXRhLWNvbnRlbnQ9XCLQoyDRgtC10LrRg9GJ0LXQs9C+INCw0LrQutCw0YPQvdGC0LAg0L3QtdGCINC90Lgg0L7QtNC90L7Qs9C+INC/0L7RgdGC0LBcIj5cclxuICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz1cImZhciBmYS1pbWFnZXMgZmEtbGdcIj48L2k+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxyXG4gICAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtdC0yXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZpbGUtdXBsb2FkXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaW1hZ2UtdXBsb2FkLXdyYXBcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IGNsYXNzPVwiZmlsZS11cGxvYWQtaW5wdXRcIiB0eXBlPVwiZmlsZVwiIGFjY2VwdD1cIi5qcGcsIC5qcGVnXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmaWxlLXVwbG9hZC1jb250ZW50XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxpbWcgY2xhc3M9XCJmaWxlLXVwbG9hZC1pbWFnZVwiIHNyYz1cIiNcIiBhbHQ9XCJ5b3VyIGltYWdlXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJpbWFnZS10aXRsZS13cmFwXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJyZW1vdmUtaW1hZ2UgYnRuIGJ0bi13YXJuaW5nXCI+0KPQtNCw0LvQuNGC0YwgPHNwYW4gY2xhc3M9XCJpbWFnZS10aXRsZVwiPtCX0LDQs9GA0YPQt9C40YLRjDwvc3Bhbj48L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgIDwvZGl2PmApO1xyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvYmxvY2tzL2F1dG9ncmVldGluZy9hZGRHcmVldFRlbXBsYXRlLmpzIiwiaW1wb3J0IHtDT05TVH0gZnJvbSAnLi4vLi4vY29tbW9uL2pzLXNlcnZpY2VzL2NvbnN0cyc7XHJcbmltcG9ydCAqIGFzIHdpemFyZEZvcm0gZnJvbSAnLi4vLi4vYmxvY2tzL3dpemFyZC1mb3JtL3dpemFyZC1mb3JtJztcclxuaW1wb3J0IFVzZXJUYXNrTWFuYWdlciBmcm9tICcuLi8uLi9jb21tb24vanMtc2VydmljZXMvYXBpLXRhc2stbWFuYWdlcic7XHJcbmltcG9ydCAqIGFzIHRhYnMgZnJvbSAnLi4vX3NoYXJlZC90ZWJzLXBpbHMvdGFicyc7XHJcbmltcG9ydCAqIGFzIGNoYXRCb3RTdGF0dXMgZnJvbSAnLi9hdXRvZ3JlZXRpbmctc3RhdHVzJztcclxuaW1wb3J0ICogYXMgbG9ncyBmcm9tICcuLi9fc2hhcmVkL2xvZ3MvbG9ncyc7XHJcbmltcG9ydCB7ZW1vaml9IGZyb20gJy4uLy4uL2NvbW1vbi9qcy1zZXJ2aWNlcy9lbW9qaSc7XHJcbmltcG9ydCAqIGFzIGltYWdlVXBsb2FkIGZyb20gJy4uL19zaGFyZWQvaW1hZ2UtdXBsb2FkL2ltYWdlLXVwbG9hZCc7XHJcbmltcG9ydCB7Z2V0UG9zdHN9IGZyb20gJy4uL19zaGFyZWQvZ2V0UG9zdHNNb2RhbC91dGlscy1tb2RhbCc7XHJcbmltcG9ydCB7dHBsVGV4dEZpZWxkR3JlZXR9IGZyb20gJy4vYWRkR3JlZXRUZW1wbGF0ZSc7XHJcblxyXG5sZXQgdXNlcm5hbWVTZWxlY3RlZCA9ICcnO1xyXG5jb25zdCBzZWxlY3RDbHMgPSAnanNfbG9ncy1hY2NvdW50cyc7XHJcbmNvbnN0IHNwZWVkVHlwZSA9ICcuanNfYXV0b2dyZWV0aW5nLXNwZWVkJztcclxuY29uc3QgY2xzQ29uc3QgPSB7XHJcbiAgICBjdXJyZW50UGFnZUNsczogJy5hdXRvZ3JlZXRpbmctcGFnZScsXHJcbiAgICB0YXNrc0xpc3Q6ICcubG9nLXRhc2tzJyxcclxuICAgIGxvZ3NUYWJCdG46ICcjdi1waWxscy1sb2dzLXRhYicsXHJcbiAgICBwYWdpbmF0aW9uOiAnLmxvZ3MtcGFnaW5hdGlvbicsXHJcbiAgICBwYWdpbmF0aW9uUGdOdW1iZXI6ICcucGFnZS1udW1iZXInLFxyXG4gICAgcGF0aFR5cGU6IENPTlNULnVybC50bVR5cGVzLmF1dG9ncmVldFQsXHJcbiAgICBwYXRoU3ViVHlwZTogQ09OU1QudXJsLnRtVHlwZXMuYXV0b2dyZWV0U3ViVFswXVxyXG59O1xyXG5jb25zdCBlbFNlbGVjdG9yID0ge1xyXG4gICAgZmllbGRzOiAnLmF1dG9ncmVldGluZy10ZXh0LWZpZWxkcycsXHJcbiAgICBmaWxlVXBsb2FkQm94OiAnLmZpbGUtdXBsb2FkJ1xyXG59O1xyXG5jb25zdCBzdGF0ZSA9IHtcclxuICAgIHVzZXJfZGVmYXVsdF9jb25maWc6IHtcclxuICAgICAgICB0YXNrX21vZGU6ICdTQUZFJ1xyXG4gICAgfVxyXG59O1xyXG5cclxuZnVuY3Rpb24gb25TdWJtaXRIYW5kbGVyKGUpIHtcclxuICAgIGNvbnN0IGZpZWxkcyA9ICQoZWxTZWxlY3Rvci5maWVsZHMpO1xyXG4gICAgY29uc3QgcmVxQm9keSA9IFtdO1xyXG4gICAgY29uc3QgZ2V0QXR0YWNobWVudCA9IChpdGVtKSA9PiB7XHJcbiAgICAgICAgY29uc3QgaW1hZ2VJZCA9ICQoaXRlbSkuZmluZChlbFNlbGVjdG9yLmZpbGVVcGxvYWRCb3gpLmF0dHIoJ2F0dGFjaGVkLWltZy1pZCcpO1xyXG4gICAgICAgIGNvbnN0ICRpbWFnZVBvc3RCb3ggPSAkKGl0ZW0pLmZpbmQoJy5qc191cGxvYWRlZC1pbWctZnJvbS1wb3N0cycpO1xyXG4gICAgICAgIGNvbnN0IHBvc3RJdGVtSWQgPSAkaW1hZ2VQb3N0Qm94LmRhdGEoJ3Bvc3RJZCcpO1xyXG4gICAgICAgIGNvbnN0IHBvc3RJdGVtVHlwZSA9ICRpbWFnZVBvc3RCb3guZGF0YSgncG9zdFR5cGUnKTtcclxuICAgICAgICBjb25zdCBwb3N0ID0ge1xyXG4gICAgICAgICAgICBpZDogcG9zdEl0ZW1JZCxcclxuICAgICAgICAgICAgdHlwZTogcG9zdEl0ZW1UeXBlIHx8ICd0eXBlLWVycm9yJ1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgbGV0IGF0dGFjaG1lbnQgPSBudWxsO1xyXG5cclxuICAgICAgICBpZiAocG9zdEl0ZW1JZCkge1xyXG4gICAgICAgICAgICBhdHRhY2htZW50ID0ge3Bvc3R9O1xyXG4gICAgICAgIH0gZWxzZSBpZiAoaW1hZ2VJZCkge1xyXG4gICAgICAgICAgICBhdHRhY2htZW50ID0geydpbWFnZV9pZCc6IGltYWdlSWR9O1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gYXR0YWNobWVudDtcclxuICAgIH07XHJcbiAgICBmaWVsZHMuZWFjaCgoaWR4LCBpdGVtKSA9PiB7XHJcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9ICQoaXRlbSkuZmluZCgndGV4dGFyZWEuYW5zd2VyLXdvcmRzJykudmFsKCk7XHJcbiAgICAgICAgLy8gY29uc3QgaW1hZ2VJZCA9ICQoaXRlbSkuZmluZChlbFNlbGVjdG9yLmZpbGVVcGxvYWRCb3gpLmF0dHIoJ2F0dGFjaGVkLWltZy1pZCcpO1xyXG4gICAgICAgIC8vIGNvbnN0ICRpbWFnZVBvc3RCb3ggPSAkKGl0ZW0pLmZpbmQoJy5qc191cGxvYWRlZC1pbWctZnJvbS1wb3N0cycpO1xyXG4gICAgICAgIC8vIGNvbnN0IHBvc3RJdGVtSWQgPSAkaW1hZ2VQb3N0Qm94LmRhdGEoJ3Bvc3RJZCcpO1xyXG4gICAgICAgIC8vIGNvbnN0IHBvc3RJdGVtVHlwZSA9ICRpbWFnZVBvc3RCb3guZGF0YSgncG9zdFR5cGUnKTtcclxuICAgICAgICAvLyBjb25zdCBwb3N0ID0ge1xyXG4gICAgICAgIC8vICAgICBpZDogcG9zdEl0ZW1JZCxcclxuICAgICAgICAvLyAgICAgdHlwZTogcG9zdEl0ZW1UeXBlIHx8ICd0eXBlLWVycm9yJ1xyXG4gICAgICAgIC8vIH07XHJcblxyXG4gICAgICAgIC8vIGlmIChwb3N0SXRlbUlkKSB7XHJcbiAgICAgICAgLy8gICAgIGF0dGFjaG1lbnQgPSB7cG9zdH07XHJcbiAgICAgICAgLy8gfSBlbHNlIGlmIChpbWFnZUlkKSB7XHJcbiAgICAgICAgLy8gICAgIGF0dGFjaG1lbnQgPSB7J2ltYWdlX2lkJzogaW1hZ2VJZH07XHJcbiAgICAgICAgLy8gfVxyXG5cclxuICAgICAgICBjb25zdCBhdHRhY2htZW50SW1nID0gZ2V0QXR0YWNobWVudChpdGVtKTtcclxuICAgICAgICByZXFCb2R5LnB1c2goe1xyXG4gICAgICAgICAgICAnYW5zd2VyJzogbWVzc2FnZSxcclxuICAgICAgICAgICAgJ2F0dGFjaG1lbnQnOiAoYXR0YWNobWVudEltZykgPyBhdHRhY2htZW50SW1nIDogdW5kZWZpbmVkXHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxuICAgIGNvbnN0IG5SZXFCb2R5ID0ge1xyXG4gICAgICAgICd1c2VybmFtZSc6IHVzZXJuYW1lU2VsZWN0ZWQgfHwgJ3RoZV9yb3N0eXNsYXYnLFxyXG4gICAgICAgICd0eXBlJzogQ09OU1QudXJsLnRtVHlwZXMuYXV0b2dyZWV0VCxcclxuICAgICAgICAnc3VidHlwZSc6IENPTlNULnVybC50bVR5cGVzLmF1dG9ncmVldFN1YlRbMF0sXHJcbiAgICAgICAgJ3VzZXJfZGVmYXVsdF9jb25maWcnOiB7XHJcbiAgICAgICAgICAgICd0YXNrX21vZGUnOiBzdGF0ZS51c2VyX2RlZmF1bHRfY29uZmlnLnRhc2tfbW9kZSAvLyB0b2RvXHJcbiAgICAgICAgfSxcclxuICAgICAgICAndXNlcl9jdXN0b21fY29uZmlnJzoge1xyXG4gICAgICAgICAgICAnZm9ybXMnOiByZXFCb2R5XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIGNvbnNvbGUubG9nKCdtYWtlIHJlcXVlc3QgKionLCBuUmVxQm9keSk7XHJcbiAgICBmdW5jdGlvbiBjYkVycm9yKHJlcykge1xyXG4gICAgICAgIGNvbnN0IG1zZyA9IHJlcy5zdGF0dXMubWVzc2FnZTtcclxuICAgICAgICAkKCcuZm9ybS1zdWJtaXQtZmluaXNoLS1lcnJvcicpLmFkZENsYXNzKCdkLWJsb2NrJylcclxuICAgICAgICAuZmluZCgnLmFsZXJ0JykuYXBwZW5kKGA8cD4ke21zZ308L3A+YCk7XHJcbiAgICB9XHJcbiAgICBVc2VyVGFza01hbmFnZXIucG9zdFN0YXJ0VGFzayhuUmVxQm9keSwgY2JFcnJvcikudGhlbigocmVzdWx0KSA9PiB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ3Bvc3RCb3QnKTtcclxuICAgICAgICBpZiAocmVzdWx0LnN0YXR1cy5zdGF0ZSA9PT0gJ29rJykge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhKU09OLnN0cmluZ2lmeShyZXN1bHQpKTtcclxuICAgICAgICAgICAgJCgnLmZvcm0tc3VibWl0LWZpbmlzaCcpLmZpbmQoJy5hbGVydCBwJykucmVtb3ZlKCk7XHJcbiAgICAgICAgICAgICQoJy5mb3JtLXN1Ym1pdC1maW5pc2gnKS5hZGRDbGFzcygnZC1ibG9jaycpXHJcbiAgICAgICAgICAgICAgICAuZmluZCgnLmFsZXJ0JykuYXBwZW5kKGA8cD50YXNrX2lkOiAke3Jlc3VsdC5kYXRhLnRhc2tfaWR9PC9wPmApO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG59XHJcblxyXG4vLyBmdW5jdGlvbiBmaWxsTGlzdFVzZXJzKCR3cmFwcGVyLCBkYXRhKSB7XHJcbi8vICAgICAkd3JhcHBlci5lbXB0eSgpLmFkZENsYXNzKCdib3JkZXItbGlnaHQtY29sb3InKTtcclxuLy8gICAgICQoYDxkaXYgY2xhc3M9XCJcIj7QlNC+0YHRgtGD0L/QvdGL0LUg0LDQutC60LDRg9C90YLRizwvZGl2PjxzZWxlY3QgbmFtZT1cInRhc2stdHlwZVwiIGNsYXNzPVwiJHtzZWxlY3RDbHN9XCI+PC9zZWxlY3Q+YCkuYXBwZW5kVG8oJHdyYXBwZXIpO1xyXG4vLyAgICAgZGF0YS5mb3JFYWNoKChuYW1lKSA9PiB7XHJcbi8vICAgICAgICAgJChgPG9wdGlvbiBjbGFzcz1cImxpc3QtZ3JvdXAtaXRlbSBweS0yXCIgdmFsdWU9XCIke25hbWV9XCI+XHJcbi8vICAgICAgICAgICAgICR7bmFtZX1cclxuLy8gICAgICAgICA8L29wdGlvbj5gKS5hcHBlbmRUbygkKGAuJHtzZWxlY3RDbHN9YCkpO1xyXG4vLyAgICAgfSk7XHJcbi8vICAgICAkKGAuJHtzZWxlY3RDbHN9YCkub24oJ2NoYW5nZScsIGZ1bmN0aW9uICgpIHtcclxuLy8gICAgICAgICB1c2VybmFtZVNlbGVjdGVkID0gJChgLiR7c2VsZWN0Q2xzfSBvcHRpb246c2VsZWN0ZWRgKS52YWwoKTtcclxuLy8gICAgICAgICBjb25zb2xlLmxvZyh1c2VybmFtZVNlbGVjdGVkKTtcclxuLy8gICAgICAgICBsb2dzLmluaXQoc2VsZWN0Q2xzLCBjbHNDb25zdCk7XHJcbi8vICAgICB9KTtcclxuLy8gfVxyXG5cclxuY29uc3QgbG9nc1N0YXRlID0gQ09OU1QubG9nc1N0YXRlO1xyXG5mdW5jdGlvbiBpbml0TG9nc1RhYigpIHtcclxuICAgIGZ1bmN0aW9uIE9uQ2hhbmdlU2VsZWN0KCkge1xyXG4gICAgICAgIGNvbnN0IHtzZWxlY3RDbHN9ID0gbG9nc1N0YXRlO1xyXG4gICAgICAgICQoYC4ke3NlbGVjdENsc31gKS5vbignY2hhbmdlJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB1c2VybmFtZVNlbGVjdGVkID0gJChgLiR7c2VsZWN0Q2xzfSBvcHRpb246c2VsZWN0ZWRgKS52YWwoKTtcclxuICAgICAgICAgICAgLy8gY2xzQ29uc3QucGF0aFN1YlR5cGUgPSBsb2dzU3RhdGUuYWN0aXZlU3ViVHlwZTtcclxuICAgICAgICAgICAgbG9ncy5pbml0KHNlbGVjdENscywgY2xzQ29uc3QpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgLy8gYWRkRHJvcGRvd24oJChsb2dzU3RhdGUud3JhcHBlclN1YnR5cGUpLCBsb2dzU3VidHlwZXMsIHtsb2dzU3RhdGUsIGRyb3Bkb3duT25TZWxlY3RDYn0pO1xyXG4gICAgdGFicy5pbml0KE9uQ2hhbmdlU2VsZWN0LCBsb2dzU3RhdGUpOyAvLyBtYWtlcyBkb3VibGUgcmVxdWVzdCA6IE9QVElPTiBhbmQgR0VUXHJcbn1cclxuXHJcbmZ1bmN0aW9uIGluaXRFbW9qaWkoKSB7XHJcbiAgICBlbW9qaSh7XHJcbiAgICAgICAgcGFnZTogY2xzQ29uc3QuY3VycmVudFBhZ2VDbHMsXHJcbiAgICAgICAgc3R5bGVzOiB7b2xkOiAnYm90dG9tOiAzMHB4OycsIG5ldzogJ3RvcDogLTIxMHB4Oyd9XHJcbiAgICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gcmVtb3ZlRXh0cmFUZXh0RmllbGRzKCkge1xyXG4gICAgJChgJHtlbFNlbGVjdG9yLmZpZWxkc306bm90KDpmaXJzdC1jaGlsZClgKS5yZW1vdmUoKTtcclxufVxyXG5cclxuLyogVE9ETzogcmVmYWN0b3IgLT4gbW92ZSBpbml0TW9kYWxIYW5kbGVyIHRvIHNlcGFyYXRlIGZpbGUgKi9cclxubGV0IHRhcmdldEJ1dHRvbiA9IHt9O1xyXG5cclxuZnVuY3Rpb24gbG9hZE1vcmVIYW5kbGVyKGdldFBvc3RzKSB7XHJcbiAgICAkKCcjbG9hZC1tb3JlJykub24oJ2NsaWNrJywgKGUpID0+IHtcclxuICAgICAgICBjb25zdCAkYnRuID0gJChlLnRhcmdldCk7XHJcbiAgICAgICAgY29uc3QgY3Vyc29yID0gJGJ0bi5hdHRyKCdjdXJzb3InKTtcclxuICAgICAgICBjb25zb2xlLmxvZygnbG9hZCBtb3JlIGNsaWNrJyk7XHJcbiAgICAgICAgZ2V0UG9zdHMobnVsbCwge3VzZXJOYW1lOiB1c2VybmFtZVNlbGVjdGVkLCBjdXJzb3J9LCB7bG9hZE1vcmVIYW5kbGVyOiB0aGlzLCB0YXJnZXRCdXR0b259KTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBpbml0TW9kYWxIYW5kbGVyKCkge1xyXG4gICAgJCgnLmpzX29wZW4tcG9zdHMtZ3JpZE1vZGFsJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKGV2ZW50KSB7XHJcbiAgICAgICAgdGFyZ2V0QnV0dG9uID0gJCh0aGlzKTsgLy8gQnV0dG9uIHRoYXQgdHJpZ2dlcmVkIHRoZSBtb2RhbFxyXG4gICAgICAgIC8vIFVwZGF0ZSB0aGUgbW9kYWwncyBjb250ZW50XHJcbiAgICAgICAgY29uc3QgbW9kYWwgPSAkKCcjcG9zdHNHcmlkTW9kYWwnKTtcclxuICAgICAgICBnZXRQb3N0cyhtb2RhbCwge3VzZXJOYW1lOiB1c2VybmFtZVNlbGVjdGVkfSwge2xvYWRNb3JlSGFuZGxlciwgdGFyZ2V0QnV0dG9ufSk7XHJcbiAgICAgICAgbW9kYWwuZmluZCgnLm1vZGFsLXRpdGxlJykudGV4dCgn0J/Rg9Cx0LvQuNC60LDRhtC40LgnKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG4vKiBUT0RPOiByZWZhY3RvciAtPiBtb3ZlIGluaXRNb2RhbEhhbmRsZXIgdG8gc2VwYXJhdGUgZmlsZSBFTkQqL1xyXG5cclxuLyoqXHJcbiAqIEluaXQgaGVhZGVyXHJcbiAqL1xyXG5mdW5jdGlvbiBpbml0SGFuZGxlcnMoKSB7XHJcbiAgICAvLyBUT0RPOiByZWZhY3RvciB3aXRoIGF1dG9ncmVldC5qcyBpbml0SGFuZGxlcnNcclxuICAgICQoJy5qc19hZGQtYXV0b21lc3NhZ2VzJykub24oJ2NsaWNrJywgKGUpID0+IHtcclxuICAgICAgICBjb25zdCBsYXN0VGV4dEZpZWxkID0gJChlbFNlbGVjdG9yLmZpZWxkcykubGFzdCgpO1xyXG4gICAgICAgIHRwbFRleHRGaWVsZEdyZWV0KGVsU2VsZWN0b3IuZmllbGRzLnN1YnN0cigxKSkuaW5zZXJ0QWZ0ZXIobGFzdFRleHRGaWVsZCk7XHJcbiAgICAgICAgaW5pdEVtb2ppaSgpO1xyXG4gICAgICAgIGltYWdlVXBsb2FkLmluaXQoKTtcclxuICAgICAgICAkKCdbZGF0YS10b2dnbGU9XCJ0b29sdGlwXCJdJykudG9vbHRpcCgpOyAvLyByZWluaXRcclxuICAgICAgICBpbml0TW9kYWxIYW5kbGVyKCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBhbGVydCBjbG9zZVxyXG4gICAgJCgnLmZvcm0tc3VibWl0LWZpbmlzaCAuY2xvc2UnKS5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ2FsZXJ0IGNsb3NlJyk7XHJcbiAgICAgICAgJCgnI3YtcGlsbHMtYWxsLXRhYicpLnRyaWdnZXIoJ2NsaWNrJyk7XHJcbiAgICAgICAgd2luZG93LlB1YlN1Yi5wdWJsaXNoKENPTlNULmV2ZW50cy50YXNrcy5ORVdfVEFTS19DUkVBVEVEKTtcclxuICAgICAgICByZW1vdmVFeHRyYVRleHRGaWVsZHMoKTtcclxuICAgIH0pO1xyXG5cclxuICAgIC8vIGFsZXJ0IGNsb3NlXHJcbiAgICAkKCcuZm9ybS1zdWJtaXQtZmluaXNoLS1lcnJvciAuY2xvc2UnKS5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ2FsZXJ0IGNsb3NlJyk7XHJcbiAgICAgICAgJCgnI3YtcGlsbHMtYWxsLXRhYicpLnRyaWdnZXIoJ2NsaWNrJyk7XHJcbiAgICAgICAgd2luZG93LlB1YlN1Yi5wdWJsaXNoKENPTlNULmV2ZW50cy50YXNrcy5ORVdfVEFTS19DUkVBVEVEKTtcclxuICAgICAgICByZW1vdmVFeHRyYVRleHRGaWVsZHMoKTtcclxuICAgIH0pO1xyXG5cclxuICAgIC8vIHRhYnMuaW5pdChmaWxsTGlzdFVzZXJzKTtcclxuICAgIGluaXRMb2dzVGFiKCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHNldFVzZXJOYW1lKHN0YXRlKSB7XHJcbiAgICAvLyBjb25zb2xlLmxvZygnZ2V0VGFza3NEYXRhJywgc3RhdGUudXNlcm5hbWUpO1xyXG4gICAgdXNlcm5hbWVTZWxlY3RlZCA9IHN0YXRlLnVzZXJuYW1lO1xyXG59XHJcblxyXG5mdW5jdGlvbiBnZXREYXRhU3RlcFNwZWVkKCkge1xyXG5cclxuICAgIC8vIFRPRE86IHJlZmFjdG9yIGdldCBmcm9tIC0gdmlldy5maWxsUmFkaW9Hcm91cExpc3RcclxuICAgIGNvbnN0IGZpbGxTcGVlZExpc3QgPSBmdW5jdGlvbiAoJHdyYXBwZXIsIGRhdGEpIHtcclxuICAgICAgICBjb25zdCB0YXNrTW9kZXMgPSBkYXRhLmNmZyAmJiBkYXRhLmNmZy50YXNrX21vZGVzO1xyXG4gICAgICAgIGNvbnN0IHJhZGlvQnRuUmVkdWNlciA9IGZ1bmN0aW9uIChpdGVtLCB2YWwpIHtcclxuICAgICAgICAgICAgc3dpdGNoIChpdGVtKSB7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdBR0dSRVNTSVZFJzpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYDxpbnB1dCB0eXBlPVwicmFkaW9cIiBpZD1cIiR7aXRlbX1cIiBuYW1lPVwiY3VzdG9tUmFkaW9cIiB2YWx1ZT1cIiR7aXRlbX1cIiBjbGFzcz1cImN1c3RvbS1jb250cm9sLWlucHV0XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzPVwiY3VzdG9tLWNvbnRyb2wtbGFiZWxcIiBmb3I9XCIke2l0ZW19XCI+PHN0cm9uZz7QkNCz0YDQtdGB0YHQuNCy0L3Ri9C5Ojwvc3Ryb25nPiAke3ZhbH0g0YHQvtC+0LHRidC10L3QuNC5INCyINGH0LDRgTwvbGFiZWw+YDtcclxuICAgICAgICAgICAgICAgIGNhc2UgJ01JRERMRSc6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChgPGlucHV0IHR5cGU9XCJyYWRpb1wiIGlkPVwiJHtpdGVtfVwiIG5hbWU9XCJjdXN0b21SYWRpb1wiIHZhbHVlPVwiJHtpdGVtfVwiIGNsYXNzPVwiY3VzdG9tLWNvbnRyb2wtaW5wdXRcIj5cclxuICAgICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3M9XCJjdXN0b20tY29udHJvbC1sYWJlbFwiIGZvcj1cIiR7aXRlbX1cIj48c3Ryb25nPtCh0YDQtdC00L3QuNC5Ojwvc3Ryb25nPiAke3ZhbH0g0YHQvtC+0LHRidC10L3QuNC5INCyINGH0LDRgTwvbGFiZWw+YCk7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdTQUZFJzpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYDxpbnB1dCB0eXBlPVwicmFkaW9cIiBpZD1cIiR7aXRlbX1cIiBuYW1lPVwiY3VzdG9tUmFkaW9cIiB2YWx1ZT1cIiR7aXRlbX1cIiBjbGFzcz1cImN1c3RvbS1jb250cm9sLWlucHV0XCIgY2hlY2tlZD5cclxuICAgICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3M9XCJjdXN0b20tY29udHJvbC1sYWJlbFwiIGZvcj1cIiR7aXRlbX1cIj48c3Ryb25nPtCR0LXQt9C+0L/QsNGB0L3Ri9C5Ojwvc3Ryb25nPiAke3ZhbH0g0YHQvtC+0LHRidC10L3QuNC5INCyINGH0LDRgTwvbGFiZWw+YDtcclxuICAgICAgICAgICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCdkcmF3IHNwZWVkIHJhZGlvQnRuJyk7XHJcbiAgICAgICAgJHdyYXBwZXIuZW1wdHkoKTtcclxuICAgICAgICBmb3IgKGNvbnN0IGl0ZW0gaW4gdGFza01vZGVzKSB7XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdzdHJ1Y3R1cmU6ICcgKyBpdGVtKTtcclxuICAgICAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbCh0YXNrTW9kZXMsIGl0ZW0pKSB7XHJcbiAgICAgICAgICAgICAgICAkKGA8ZGl2IGNsYXNzPVwiY3VzdG9tLWNvbnRyb2wgY3VzdG9tLXJhZGlvXCI+XHJcbiAgICAgICAgICAgICAgICAke3JhZGlvQnRuUmVkdWNlcihpdGVtLCB0YXNrTW9kZXNbaXRlbV0pfVxyXG4gICAgICAgICAgICA8L2Rpdj5gKS5hcHBlbmRUbygkd3JhcHBlcik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgY29uc3QgcGF0aCA9IHtcclxuICAgICAgICB0eXBlOiBjbHNDb25zdC5wYXRoVHlwZSxcclxuICAgICAgICBzdWJ0eXBlOiBjbHNDb25zdC5wYXRoU3ViVHlwZVxyXG4gICAgfTtcclxuICAgIC8vIGRyYXcgY3JpdGVyaWFcclxuICAgIFVzZXJUYXNrTWFuYWdlci5nZXREZWZhdWx0Q29uZmlncyhwYXRoKS50aGVuKChyZXN1bHQpID0+IHtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZygnZ2V0RGVmYXVsdENvbmZpZ3MnKTtcclxuICAgICAgICBpZiAocmVzdWx0LnN0YXR1cy5zdGF0ZSA9PT0gJ29rJykge1xyXG4gICAgICAgICAgICBmaWxsU3BlZWRMaXN0KCQoc3BlZWRUeXBlKSwgcmVzdWx0LmRhdGEuZm91bmQpO1xyXG4gICAgICAgICAgICAvLyBzcGVlZCByYWRpby1idG4gZ3JvdXBcclxuICAgICAgICAgICAgJChgJHtzcGVlZFR5cGV9IGlucHV0W3R5cGU9cmFkaW9dYCkub24oJ2NsaWNrJywgKGUpID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gJChlLnRhcmdldCkuYXR0cigndmFsdWUnKTtcclxuICAgICAgICAgICAgICAgIHN0YXRlLnVzZXJfZGVmYXVsdF9jb25maWcudGFza19tb2RlID0gdmFsdWUudG9VcHBlckNhc2UoKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHN0YXRlKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHN0ZXBSZWR1Y2VyKHN0ZXBOdW1iZXIsIHN0YXRlKSB7XHJcbiAgICBzd2l0Y2ggKHN0ZXBOdW1iZXIpIHtcclxuICAgICAgICBjYXNlIDA6XHJcbiAgICAgICAgICAgIHNldFVzZXJOYW1lKHN0YXRlKTtcclxuICAgICAgICAgICAgZ2V0RGF0YVN0ZXBTcGVlZCgpO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhzdGF0ZSwgc3RlcE51bWJlcik7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coc3RhdGUsIHN0ZXBOdW1iZXIpO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnZGVmYXVsdCcsIHN0ZXBOdW1iZXIpO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaW5pdCgpIHtcclxuICAgIGlmICgkKGNsc0NvbnN0LmN1cnJlbnRQYWdlQ2xzKS5sZW5ndGgpIHtcclxuICAgICAgICBjb25zdCB3aXphcmRDZmcgPSB7XHJcbiAgICAgICAgICAgIHN0ZXBSZWR1Y2VyLFxyXG4gICAgICAgICAgICBvblN1Ym1pdEhhbmRsZXJcclxuICAgICAgICB9O1xyXG4gICAgICAgIHdpemFyZEZvcm0uaW5pdCh3aXphcmRDZmcpO1xyXG4gICAgICAgIGluaXRIYW5kbGVycygpO1xyXG4gICAgICAgIGNoYXRCb3RTdGF0dXMuaW5pdChjbHNDb25zdCk7XHJcbiAgICAgICAgd2luZG93LlB1YlN1Yi5zdWJzY3JpYmUoQ09OU1QuZXZlbnRzLmluc3RhZ3JhbUFjY291bnMuSU5TVEFHUkFNX0FDQ09VTlNfUkVOREVSRURfTEFaWSwgKGUsIGFjY291bnRzKSA9PiB7XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGFjY291bnRzKTtcclxuICAgICAgICAgICAgbG9ncy5pbml0KHNlbGVjdENscywgY2xzQ29uc3QpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBpbml0TW9kYWxIYW5kbGVyKCk7XHJcbiAgICAgICAgaW5pdEVtb2ppaSgpO1xyXG4gICAgICAgIC8vIGltYWdlVXBsb2FkLmluaXQoKTtcclxuICAgICAgICB3aW5kb3cuUHViU3ViLnN1YnNjcmliZShDT05TVC5ldmVudHMuYXV0b2FybnN3ZXIuSU1BR0VfVVBMT0FERUQsIChlLCByZXMpID0+IHtcclxuICAgICAgICAgICAgY29uc3Qge3Jlc3BvbnNlfSA9IHJlcztcclxuICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gKHJlc3BvbnNlLmxlbmd0aCkgPyBKU09OLnBhcnNlKHJlc3BvbnNlKSA6ICcnO1xyXG4gICAgICAgICAgICBjb25zdCBpbWFnZUlkID0gcmVzdWx0ICYmIHJlc3VsdC5kYXRhICYmIHJlc3VsdC5kYXRhLmltYWdlX2lkO1xyXG4gICAgICAgICAgICAkKHJlcy5lbCkuY2xvc2VzdCgnLmZpbGUtdXBsb2FkJykuYXR0cignYXR0YWNoZWQtaW1nLWlkJywgaW1hZ2VJZCk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdpbWFnZV9sb2FkZWQnLCByZXMpO1xyXG5cclxuICAgICAgICAgICAgLy8gdG9kbzogbWFrZSBhcyBjYWxsQmFja1xyXG4gICAgICAgICAgICBjb25zdCAkaW1hZ2VCb3ggPSAkKHJlcy5lbCkuY2xvc2VzdCgnLmNvbCcpLmZpbmQoJy5qc191cGxvYWRlZC1pbWctZnJvbS1wb3N0cycpO1xyXG4gICAgICAgICAgICBpZiAoJGltYWdlQm94Lmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgJGltYWdlQm94LnJlbW92ZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgd2luZG93LlB1YlN1Yi5zdWJzY3JpYmUoQ09OU1QuZXZlbnRzLm1vZGFsLklNQUdFX1BPU1RfU0VMRUNURUQsIChlLCBkYXRhKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0ICRpbWFnZUJveCA9ICQoZGF0YS5jbG9zZXN0Q29sKS5maW5kKCcuZmlsZS11cGxvYWQtY29udGVudCcpO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnJGltYWdlQm94JywgJGltYWdlQm94KTtcclxuICAgICAgICAgICAgaWYgKCRpbWFnZUJveC5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICRpbWFnZUJveC5oaWRlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH1cclxufVxyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvYmxvY2tzL2F1dG9ncmVldGluZy9hdXRvZ3JlZXRpbmctbWFpbi5qcyIsImltcG9ydCB7Q09OU1R9IGZyb20gJy4uLy4uL2NvbW1vbi9qcy1zZXJ2aWNlcy9jb25zdHMnO1xyXG5pbXBvcnQge2dldFRhc2tzRGF0YX0gZnJvbSAnLi4vX3NoYXJlZC90YXNrLXN0YXR1cy90YXNrLXN0YXR1cyc7XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaW5pdChjZmcpIHtcclxuICAgIGlmICgkKGNmZy5jdXJyZW50UGFnZUNscykubGVuZ3RoKSB7XHJcbiAgICAgICAgY29uc3Qge3BhdGhUeXBlLCBwYXRoU3ViVHlwZX0gPSBjZmc7XHJcbiAgICAgICAgY29uc3QgcGF0aCA9IHtcclxuICAgICAgICAgICAgdHlwZTogcGF0aFR5cGUsXHJcbiAgICAgICAgICAgIHN1YnR5cGU6IHBhdGhTdWJUeXBlfTtcclxuICAgICAgICBjb25zdCB3cmFwcGVycyA9IHtcclxuICAgICAgICAgICAgJHJ1bnM6ICQoJy50YXNrcy1ydW5zJyksXHJcbiAgICAgICAgICAgICRhbGw6ICQoJy50YXNrcy1hbGwnKVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgZ2V0VGFza3NEYXRhKHdyYXBwZXJzLCBwYXRoKTtcclxuICAgICAgICB3aW5kb3cuUHViU3ViLnN1YnNjcmliZShDT05TVC5ldmVudHMudGFza3MuTkVXX1RBU0tfQ1JFQVRFRCwgKGV2ZW50TmFtZSwgZGF0YSkgPT4ge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnZ2V0VGFza3NEYXRhICoqTkVXX1RBU0tfQ1JFQVRFRCoqJywgZXZlbnROYW1lLCBkYXRhKTtcclxuICAgICAgICAgICAgZ2V0VGFza3NEYXRhKHdyYXBwZXJzLCBwYXRoKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufVxyXG5cclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2Jsb2Nrcy9hdXRvZ3JlZXRpbmcvYXV0b2dyZWV0aW5nLXN0YXR1cy5qcyIsImV4cG9ydCBjb25zdCB0cGxUZXh0RmllbGQgPSAobWFpbkNscykgPT5cclxuJChgPGRpdiBjbGFzcz1cIiR7bWFpbkNsc30gbXQtMlwiPlxyXG4gICAgPGRpdiBjbGFzcz1cInJvd1wiPlxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJjb2xcIj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImpzX3RhZ3NpbnB1dC1ib3hcIj5cclxuICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIHBsYWNlaG9sZGVyPVwi0JLQstC10LTQuNGC0LUg0LrQu9GO0YfQtdCy0YvQtSDRgdC70L7QstCwXCIgdmFsdWU9XCJcIiBkYXRhLXJvbGU9XCJ0YWdzaW5wdXRcIiBjbGFzcz1cImZvcm0tY29udHJvbCBhbnN3ZXItd29yZHMgbWItMlwiIC8+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwianNfdGFnc2lucHV0LWJveCBibGFja2xpc3QtYm94IG15LTJcIj5cclxuICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIHBsYWNlaG9sZGVyPVwi0JLQstC10LTQuNGC0LUg0LzQuNC90YPRgSDRgdC70L7QstCwXCIgdmFsdWU9XCJcIiBkYXRhLXJvbGU9XCJ0YWdzaW5wdXRcIiBjbGFzcz1cImZvcm0tY29udHJvbCBibGFja2xpc3Qtd29yZHNcIiAvPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwiY29sXCI+XHJcbiAgICAgICAgICAgIDx0ZXh0YXJlYSBjbGFzcz1cImZvcm0tY29udHJvbCBhbnN3ZXItbWVzc2FnZXNcIiByb3dzPVwiNFwiXHJcbiAgICAgICAgICAgICAgICBkYXRhLWVtb2ppLXBpY2tlcj1cInRydWVcIiBzdHlsZT1cInBhZGRpbmc6IDAuMjVyZW0gMS43NXJlbSAwLjI1cmVtIDAuMjVyZW07IHdpZHRoOiAxMDAlO21pbi1oZWlnaHQ6IDQycHg7XCJcclxuICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwi0JLQstC10LTQuNGC0LUg0YHQvtC+0LHRidC10L3QuNC1XCJcclxuICAgICAgICAgICAgPjwvdGV4dGFyZWE+XHJcbiAgICAgICAgICAgIDwhLS0gZmlsZS11cGxvYWQgLS0+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmaWxlLXVwbG9hZC1idG4tYm94XCIgZGF0YS10b2dnbGU9XCJ0b29sdGlwXCIgZGF0YS1wbGFjZW1lbnQ9XCJ0b3BcIiB0aXRsZT1cItCU0L7QsdCw0LLQuNGC0Ywg0LjQt9C+0LHRgNCw0LbQtdC90LjQtVwiPlxyXG4gICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImZpbGUtdXBsb2FkLWJ0biBidG4gYnRuLXN1Y2Nlc3NcIiB0eXBlPVwiYnV0dG9uXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9XCJmYXIgZmEtaW1hZ2UgZmEtbGdcIj48L2k+XHJcbiAgICAgICAgICAgICAgICA8L2J1dHRvbj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwhLS0gQnV0dG9uIHRyaWdnZXIgbW9kYWwgLS0+XHJcbiAgICAgICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiYnRuIGJ0bi1zdWNjZXNzIHBvc3QtdXBsb2FkLWJ0biBqc19hdXRvbWVzc2FnZXMtYWRkLXBvc3RcIlxyXG4gICAgICAgICAgICAgICAgdGl0bGU9XCLQlNC+0LHQsNCy0LjRgtGMINC/0YPQsdC70LjQutCw0YbQuNGOXCJcclxuICAgICAgICAgICAgICAgIGRhdGEtdG9nZ2xlPVwidG9vbHRpcFwiXHJcbiAgICAgICAgICAgICAgICBkYXRhLXBsYWNlbWVudD1cInRvcFwiXHJcbiAgICAgICAgICAgICAgICBkYXRhLXBvc3QtaW5mbz1cInRvZG86IGdldCByZXEgdG8gdXNlcjogXCI+XHJcbiAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImpzX29wZW4tcG9zdHMtZ3JpZE1vZGFsXCJcclxuICAgICAgICAgICAgICAgICAgICBkYXRhLWNvbnRhaW5lcj1cImJvZHlcIiBkYXRhLXRvZ2dsZT1cInBvcG92ZXJcIiBkYXRhLXBsYWNlbWVudD1cImJvdHRvbVwiIGRhdGEtY29udGVudD1cItCjINGC0LXQutGD0YnQtdCz0L4g0LDQutC60LDRg9C90YLQsCDQvdC10YIg0L3QuCDQvtC00L3QvtCz0L4g0L/QvtGB0YLQsFwiPlxyXG4gICAgICAgICAgICAgICAgPGkgY2xhc3M9XCJmYXIgZmEtaW1hZ2VzIGZhLWxnXCI+PC9pPlxyXG4gICAgICAgICAgICAgICAgPC9zcGFuPlxyXG4gICAgICAgICAgICA8L2J1dHRvbj5cclxuXHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtdC0yXCI+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmlsZS11cGxvYWRcIj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaW1hZ2UtdXBsb2FkLXdyYXBcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IGNsYXNzPVwiZmlsZS11cGxvYWQtaW5wdXRcIiB0eXBlPSdmaWxlJyBhY2NlcHQ9XCIuanBnLCAuanBlZ1wiIC8+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZpbGUtdXBsb2FkLWNvbnRlbnRcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGltZyBjbGFzcz1cImZpbGUtdXBsb2FkLWltYWdlXCIgc3JjPVwiI1wiIGFsdD1cInlvdXIgaW1hZ2VcIiAvPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaW1hZ2UtdGl0bGUtd3JhcFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cInJlbW92ZS1pbWFnZSBidG4gYnRuLXdhcm5pbmdcIj7Qo9C00LDQu9C40YLRjCA8c3BhbiBjbGFzcz1cImltYWdlLXRpdGxlXCI+0JfQsNCz0YDRg9C30LjRgtGMPC9zcGFuPjwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgIDwvZGl2PlxyXG48L2Rpdj5gKTtcclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2Jsb2Nrcy9hdXRvbWVzc2FnZXMvYWRkQW5zd2VyVGVtcGxhdGUuanMiLCJpbXBvcnQge0NPTlNUfSBmcm9tICcuLi8uLi9jb21tb24vanMtc2VydmljZXMvY29uc3RzJztcclxuaW1wb3J0ICogYXMgd2l6YXJkRm9ybSBmcm9tICcuLi8uLi9ibG9ja3Mvd2l6YXJkLWZvcm0vd2l6YXJkLWZvcm0nO1xyXG5pbXBvcnQgdmlld1V0aWxzIGZyb20gJy4uLy4uL2NvbW1vbi9qcy1zZXJ2aWNlcy92aWV3JztcclxuaW1wb3J0IFVzZXJUYXNrTWFuYWdlciBmcm9tICcuLi8uLi9jb21tb24vanMtc2VydmljZXMvYXBpLXRhc2stbWFuYWdlcic7XHJcbmltcG9ydCAqIGFzIHRhYnMgZnJvbSAnLi4vX3NoYXJlZC90ZWJzLXBpbHMvdGFicyc7XHJcbmltcG9ydCAqIGFzIGF1dG9tZXNzYWdlc1N0YXR1cyBmcm9tICcuL2F1dG9tZXNzYWdlcy1zdGF0dXMnO1xyXG5pbXBvcnQgKiBhcyBsb2dzIGZyb20gJy4uL19zaGFyZWQvbG9ncy9sb2dzJztcclxuaW1wb3J0ICogYXMgaW1hZ2VVcGxvYWQgZnJvbSAnLi4vX3NoYXJlZC9pbWFnZS11cGxvYWQvaW1hZ2UtdXBsb2FkJztcclxuaW1wb3J0IHtlbW9qaX0gZnJvbSAnLi4vLi4vY29tbW9uL2pzLXNlcnZpY2VzL2Vtb2ppJztcclxuaW1wb3J0IHtnZXRQb3N0c30gZnJvbSAnLi4vX3NoYXJlZC9nZXRQb3N0c01vZGFsL3V0aWxzLW1vZGFsJztcclxuaW1wb3J0IHt0cGxUZXh0RmllbGR9IGZyb20gJy4vYWRkQW5zd2VyVGVtcGxhdGUnO1xyXG5pbXBvcnQge2luaXRUYWdzSW5wdXQsIG5leHRCdG52YWxpZGF0ZUNvbXBldGl0b3JzSGFuZGxlcn0gZnJvbSAnLi4vX3NoYXJlZC90YWdzLWlucHV0L3RhZ3MtaW5wdXQnO1xyXG5cclxuY29uc3Qge2dldFZhbEJ5Q29tbWFTZXBhcmF0b3J9ID0gdmlld1V0aWxzO1xyXG5sZXQgdXNlcm5hbWVTZWxlY3RlZCA9ICcnO1xyXG5jb25zdCBzZWxlY3RDbHMgPSAnanNfbG9ncy1hY2NvdW50cyc7XHJcbmNvbnN0IGNsc0NvbnN0ID0ge1xyXG4gICAgY3VycmVudFBhZ2VDbHM6ICcuYXV0b21lc3NhZ2VzLXBhZ2UnLFxyXG4gICAgdGFza3NMaXN0OiAnLmxvZy10YXNrcycsXHJcbiAgICBsb2dzVGFiQnRuOiAnI3YtcGlsbHMtbG9ncy10YWInLFxyXG4gICAgcGFnaW5hdGlvbjogJy5sb2dzLXBhZ2luYXRpb24nLFxyXG4gICAgcGFnaW5hdGlvblBnTnVtYmVyOiAnLnBhZ2UtbnVtYmVyJyxcclxuICAgIHBhdGhUeXBlOiBDT05TVC51cmwudG1UeXBlcy5hdXRvbWVzc2FnZXNULFxyXG4gICAgcGF0aFN1YlR5cGU6IENPTlNULnVybC50bVR5cGVzLmF1dG9tZXNzYWdlc1N1YlRbMF1cclxufTtcclxuY29uc3QgZWxTZWxlY3RvciA9IHtcclxuICAgIGZpZWxkczogJy5hdXRvbWVzc2FnZXMtdGV4dC1maWVsZHMnLFxyXG4gICAga2V5V29yZDogJ2lucHV0LmFuc3dlci13b3JkcycsXHJcbiAgICBhbnN3ZXI6ICd0ZXh0YXJlYS5hbnN3ZXItbWVzc2FnZXMnLFxyXG4gICAgZmlsZVVwbG9hZEJveDogJy5maWxlLXVwbG9hZCcsXHJcbiAgICBhZGRQb3N0QnRuczogJy5qc19hdXRvbWVzc2FnZXMtYWRkLXBvc3QnXHJcbn07XHJcbmNvbnN0IGxvZ3NTdGF0ZSA9IHtcclxuICAgIHNlbGVjdENsczogJ2pzX2xvZ3MtYWNjb3VudHMnLFxyXG4gICAgc2VsZWN0Q2xzTG9nc1Rhc2tUeXBlOiAnanNfbG9ncy1zdWJ0eXBlcycsXHJcbiAgICB3cmFwcGVyU3VidHlwZTogJy5sb2ctc3VieXBlJ1xyXG59O1xyXG5cclxuZnVuY3Rpb24gaW5pdEVtb2ppaSgpIHtcclxuICAgIGVtb2ppKHtcclxuICAgICAgICBwYWdlOiBjbHNDb25zdC5jdXJyZW50UGFnZUNscyxcclxuICAgICAgICBzdHlsZXM6IHtvbGQ6ICdib3R0b206IDMwcHg7JywgbmV3OiAndG9wOiAtMjEwcHg7J31cclxuICAgIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiB2YWxpZGF0ZUlzRW1wdHkoJGVsZW1lbnRzLCBlKSB7XHJcbiAgICAkZWxlbWVudHMuZWFjaChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYgKCQodGhpcykudmFsKCkgPT09ICcnKSB7XHJcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgJCh0aGlzKS5hZGRDbGFzcygnaW5wdXQtZXJyb3InKTtcclxuICAgICAgICAgICAgLy8gdmFsaWRhdGlvbiA9IGZhbHNlO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgJCh0aGlzKS5yZW1vdmVDbGFzcygnaW5wdXQtZXJyb3InKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gb25TdWJtaXRIYW5kbGVyKGUpIHtcclxuICAgIGNvbnN0IGZpZWxkcyA9ICQoZWxTZWxlY3Rvci5maWVsZHMpO1xyXG4gICAgY29uc3QgcmVxQm9keSA9IFtdO1xyXG4gICAgbGV0IHZhbGlkYXRpb24gPSB0cnVlO1xyXG4gICAgY29uc3QgJGVsZW1lbnRzS2V5V29yZCA9IGZpZWxkcy5maW5kKGVsU2VsZWN0b3Iua2V5V29yZCk7XHJcbiAgICBjb25zdCAkZWxlbWVudHNBbnN3ZXIgPSBmaWVsZHMuZmluZChlbFNlbGVjdG9yLmFuc3dlcik7XHJcblxyXG4gICAgdmFsaWRhdGVJc0VtcHR5KCRlbGVtZW50c0tleVdvcmQsIGUpO1xyXG4gICAgdmFsaWRhdGVJc0VtcHR5KCRlbGVtZW50c0Fuc3dlciwgZSk7XHJcblxyXG4gICAgZmllbGRzLmVhY2goKGlkeCwgaXRlbSkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGtleVdvcmQgPSBnZXRWYWxCeUNvbW1hU2VwYXJhdG9yKCQoaXRlbSkuZmluZChlbFNlbGVjdG9yLmtleVdvcmQpKTtcclxuICAgICAgICBjb25zdCBhbnN3ZXIgPSAkKGl0ZW0pLmZpbmQoZWxTZWxlY3Rvci5hbnN3ZXIpLnZhbCgpO1xyXG4gICAgICAgIGNvbnN0IGltYWdlSWQgPSAkKGl0ZW0pLmZpbmQoZWxTZWxlY3Rvci5maWxlVXBsb2FkQm94KS5hdHRyKCdhdHRhY2hlZC1pbWctaWQnKTtcclxuICAgICAgICBjb25zdCAkaW1hZ2VQb3N0Qm94ID0gJChpdGVtKS5maW5kKCcuanNfdXBsb2FkZWQtaW1nLWZyb20tcG9zdHMnKTtcclxuICAgICAgICBjb25zdCBwb3N0SXRlbUlkID0gJGltYWdlUG9zdEJveC5kYXRhKCdwb3N0SWQnKTtcclxuICAgICAgICBjb25zdCBwb3N0SXRlbVR5cGUgPSAkaW1hZ2VQb3N0Qm94LmRhdGEoJ3Bvc3RUeXBlJyk7XHJcbiAgICAgICAgY29uc3QgYmxhY2tsaXN0V29yZHMgPSAkKGl0ZW0pLmZpbmQoJ2lucHV0LmJsYWNrbGlzdC13b3JkcycpO1xyXG4gICAgICAgIGNvbnN0IGJsYWNrbGlzdFdvcmRzQXJyID0gZ2V0VmFsQnlDb21tYVNlcGFyYXRvcihibGFja2xpc3RXb3Jkcyk7XHJcblxyXG4gICAgICAgIGlmICgha2V5V29yZC5sZW5ndGggfHwgIWFuc3dlci5sZW5ndGgpIHtcclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ2tleVdvcmQgaXMgZW1wdHksIG5vdCBwdXNoIG1lIHRvIHJlcXVlc3QnKTtcclxuICAgICAgICAgICAgJChpdGVtKS5hcHBlbmQoYFxyXG4gICAgICAgICAgICAgICAgPHAgY2xhc3M9XCJtc2ctZW1wdHktZmllbGQgdGV4dC1kYW5nZXJcIj7Qn9GD0YHRgtC+0LUg0L/QvtC70LUg0L3QtSDQstCw0LvQuNC00L3QvjwvcD5cclxuICAgICAgICAgICAgYCk7XHJcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgJCgnLm1zZy1lbXB0eS1maWVsZCcpLmFkZENsYXNzKCdkLW5vbmUnKTtcclxuICAgICAgICAgICAgfSwgNTAwMCk7XHJcbiAgICAgICAgICAgIHZhbGlkYXRpb24gPSBmYWxzZTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCBzdWJtaXRCb2R5SXRlbSA9IHtcclxuICAgICAgICAgICAgJ2tleV93b3Jkcyc6IGtleVdvcmQsXHJcbiAgICAgICAgICAgIGFuc3dlcixcclxuICAgICAgICAgICAgYmxhY2tsaXN0OiBibGFja2xpc3RXb3Jkc0FycixcclxuICAgICAgICAgICAgJ2F0dGFjaG1lbnQnOiBpbWFnZUlkID8ge1xyXG4gICAgICAgICAgICAgICAgJ2ltYWdlX2lkJzogaW1hZ2VJZFxyXG4gICAgICAgICAgICB9IDogdW5kZWZpbmVkXHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgaWYgKHBvc3RJdGVtSWQpIHtcclxuICAgICAgICAgICAgc3VibWl0Qm9keUl0ZW0uYXR0YWNobWVudCA9IHtcclxuICAgICAgICAgICAgICAgIC4uLnN1Ym1pdEJvZHlJdGVtLmF0dGFjaG1lbnQsXHJcbiAgICAgICAgICAgICAgICBwb3N0OiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWQ6IHBvc3RJdGVtSWQsXHJcbiAgICAgICAgICAgICAgICAgICAgdHlwZTogcG9zdEl0ZW1UeXBlIHx8ICd0eXBlLWVycm9yJ1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXFCb2R5LnB1c2goc3VibWl0Qm9keUl0ZW0pO1xyXG4gICAgfSk7XHJcbiAgICBpZiAoIXZhbGlkYXRpb24pIHtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZygnKiphbGFybSAqKicsIGVsU2VsZWN0b3Iua2V5V29yZCk7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IG5SZXFCb2R5ID0ge1xyXG4gICAgICAgICd1c2VybmFtZSc6IHVzZXJuYW1lU2VsZWN0ZWQsXHJcbiAgICAgICAgJ3R5cGUnOiBjbHNDb25zdC5wYXRoVHlwZSxcclxuICAgICAgICAnc3VidHlwZSc6IGNsc0NvbnN0LnBhdGhTdWJUeXBlLFxyXG4gICAgICAgICd1c2VyX2RlZmF1bHRfY29uZmlnJzoge30sXHJcbiAgICAgICAgJ3VzZXJfY3VzdG9tX2NvbmZpZyc6IHtcclxuICAgICAgICAgICAgJ2Zvcm1zJzogcmVxQm9keVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLy8gY29uc29sZS5sb2coJ21ha2UgcmVxdWVzdCBoZXJlKionLCBuUmVxQm9keSk7XHJcbiAgICBmdW5jdGlvbiBjYkVycm9yKHJlcykge1xyXG4gICAgICAgIGNvbnN0IG1zZyA9IHJlcy5zdGF0dXMubWVzc2FnZTtcclxuICAgICAgICAkKCcuZm9ybS1zdWJtaXQtZmluaXNoLS1lcnJvcicpLmFkZENsYXNzKCdkLWJsb2NrJylcclxuICAgICAgICAuZmluZCgnLmFsZXJ0JykuYXBwZW5kKGA8cD4ke21zZ308L3A+YCk7XHJcbiAgICB9XHJcbiAgICBVc2VyVGFza01hbmFnZXIucG9zdFN0YXJ0VGFzayhuUmVxQm9keSwgY2JFcnJvcikudGhlbigocmVzdWx0KSA9PiB7XHJcbiAgICAgICAgaWYgKHJlc3VsdC5zdGF0dXMuc3RhdGUgPT09ICdvaycpIHtcclxuICAgICAgICAgICAgJCgnLmZvcm0tc3VibWl0LWZpbmlzaCcpLmZpbmQoJy5hbGVydCBwJykucmVtb3ZlKCk7XHJcbiAgICAgICAgICAgICQoJy5mb3JtLXN1Ym1pdC1maW5pc2gnKS5hZGRDbGFzcygnZC1ibG9jaycpXHJcbiAgICAgICAgICAgICAgICAuZmluZCgnLmFsZXJ0JykuYXBwZW5kKGA8cD50YXNrX2lkOiAke3Jlc3VsdC5kYXRhLnRhc2tfaWR9PC9wPmApO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBpbml0TG9nc1RhYigpIHtcclxuICAgIGZ1bmN0aW9uIE9uQ2hhbmdlU2VsZWN0KCkge1xyXG4gICAgICAgIGNvbnN0IHtzZWxlY3RDbHN9ID0gbG9nc1N0YXRlO1xyXG4gICAgICAgICQoYC4ke3NlbGVjdENsc31gKS5vbignY2hhbmdlJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICB1c2VybmFtZVNlbGVjdGVkID0gJChgLiR7c2VsZWN0Q2xzfSBvcHRpb246c2VsZWN0ZWRgKS52YWwoKTtcclxuICAgICAgICAgICAgLy8gY2xzQ29uc3QucGF0aFN1YlR5cGUgPSBsb2dzU3RhdGUuYWN0aXZlU3ViVHlwZTtcclxuICAgICAgICAgICAgbG9ncy5pbml0KHNlbGVjdENscywgY2xzQ29uc3QpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG4gICAgLy8gYWRkRHJvcGRvd24oJChsb2dzU3RhdGUud3JhcHBlclN1YnR5cGUpLCBsb2dzU3VidHlwZXMsIHtsb2dzU3RhdGUsIGRyb3Bkb3duT25TZWxlY3RDYn0pO1xyXG4gICAgdGFicy5pbml0KE9uQ2hhbmdlU2VsZWN0LCBsb2dzU3RhdGUpOyAvLyBtYWtlcyBkb3VibGUgcmVxdWVzdCA6IE9QVElPTiBhbmQgR0VUXHJcbn1cclxuXHJcbmZ1bmN0aW9uIHJlbW92ZUV4dHJhVGV4dEZpZWxkcyhlKSB7XHJcbiAgICAkKGAke2VsU2VsZWN0b3IuZmllbGRzfTpub3QoOmZpcnN0LWNoaWxkKWApLnJlbW92ZUNsYXNzKCdkLWJsb2NrJyk7XHJcbiAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG59XHJcblxyXG4vKiBUT0RPOiByZWZhY3RvciAtPiBtb3ZlIGluaXRNb2RhbEhhbmRsZXIgdG8gc2VwYXJhdGUgZmlsZSwgcmVtb3ZlIGluaXRNb2RhbEhhbmRsZXIgaW4gYXV0b2dyZWV0aW5nLW1haW4uanMgKi9cclxubGV0IHRhcmdldEJ1dHRvbiA9IHt9O1xyXG5cclxuZnVuY3Rpb24gbG9hZE1vcmVIYW5kbGVyKGdldFBvc3RzKSB7XHJcbiAgICAkKCcjbG9hZC1tb3JlJykub2ZmKCkub24oJ2NsaWNrJywgKGUpID0+IHtcclxuICAgICAgICBjb25zdCAkYnRuID0gJChlLnRhcmdldCk7XHJcbiAgICAgICAgY29uc3QgY3Vyc29yID0gJGJ0bi5hdHRyKCdjdXJzb3InKTtcclxuICAgICAgICBjb25zb2xlLmxvZygnbG9hZCBtb3JlIGNsaWNrJyk7XHJcbiAgICAgICAgZ2V0UG9zdHMobnVsbCwge3VzZXJOYW1lOiB1c2VybmFtZVNlbGVjdGVkLCBjdXJzb3J9LCB7bG9hZE1vcmVIYW5kbGVyOiB0aGlzLCB0YXJnZXRCdXR0b259KTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBpbml0TW9kYWxIYW5kbGVyKCkge1xyXG5cclxuICAgICQoJy5qc19vcGVuLXBvc3RzLWdyaWRNb2RhbCcpLm9uKCdjbGljaycsIGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgIHRhcmdldEJ1dHRvbiA9ICQodGhpcyk7IC8vIEJ1dHRvbiB0aGF0IHRyaWdnZXJlZCB0aGUgbW9kYWxcclxuICAgICAgICAvLyBVcGRhdGUgdGhlIG1vZGFsJ3MgY29udGVudFxyXG4gICAgICAgIGNvbnN0IG1vZGFsID0gJCgnI3Bvc3RzR3JpZE1vZGFsJyk7XHJcbiAgICAgICAgZ2V0UG9zdHMobW9kYWwsIHt1c2VyTmFtZTogdXNlcm5hbWVTZWxlY3RlZH0sIHtsb2FkTW9yZUhhbmRsZXIsIHRhcmdldEJ1dHRvbn0pO1xyXG4gICAgICAgIG1vZGFsLmZpbmQoJy5tb2RhbC10aXRsZScpLnRleHQoJ9Cf0YPQsdC70LjQutCw0YbQuNC4Jyk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuLyogVE9ETzogcmVmYWN0b3IgLT4gbW92ZSBpbml0TW9kYWxIYW5kbGVyIHRvIHNlcGFyYXRlIGZpbGUgRU5EICovXHJcblxyXG4vKipcclxuICogSW5pdCBIYW5kbGVyc1xyXG4gKi9cclxuZnVuY3Rpb24gaW5pdEhhbmRsZXJzKCkge1xyXG4gICAgY29uc3QgJGNvbXBldGl0b3JzSW5wdXQgPSAkKCcuYXV0b21lc3NhZ2VzLXRleHQtZmllbGRzIGlucHV0LmFuc3dlci13b3Jkc1tkYXRhLXJvbGU9XCJ0YWdzaW5wdXRcIl0nKTtcclxuICAgIGNvbnN0ICRibGFja0xpc3RJbnB1dCA9ICQoJy5hdXRvbWVzc2FnZXMtdGV4dC1maWVsZHMgaW5wdXQuYmxhY2tsaXN0LXdvcmRzW2RhdGEtcm9sZT1cInRhZ3NpbnB1dFwiXScpO1xyXG4gICAgY29uc3QgbmV4dFN0ZXBCdG4gPSAkKCdmb3JtIGJ1dHRvblt0eXBlPVwic3VibWl0XCJdJyk7XHJcbiAgICBuZXh0QnRudmFsaWRhdGVDb21wZXRpdG9yc0hhbmRsZXIoJGNvbXBldGl0b3JzSW5wdXQsIG5leHRTdGVwQnRuLCAnaWdub3JlUmVnZXhDaGVjaycpO1xyXG4gICAgbmV4dEJ0bnZhbGlkYXRlQ29tcGV0aXRvcnNIYW5kbGVyKCRibGFja0xpc3RJbnB1dCwgbnVsbCwgJ2lnbm9yZVJlZ2V4Q2hlY2snKTtcclxuXHJcbiAgICAvLyBUT0RPOiByZWZhY3RvciB3aXRoIGF1dG9ncmVldC5qcyBpbml0SGFuZGxlcnNcclxuICAgIC8vICQoJ1tkYXRhLXRvZ2dsZT1cInBvcG92ZXJcIl0nKS5wb3BvdmVyKCk7IC8vIGluaXRcclxuICAgICQoJy5qc19hZGQtYXV0b21lc3NhZ2VzJykub24oJ2NsaWNrJywgKGUpID0+IHtcclxuICAgICAgICBjb25zdCBsYXN0VGV4dEZpZWxkID0gJChlbFNlbGVjdG9yLmZpZWxkcykubGFzdCgpO1xyXG4gICAgICAgIHRwbFRleHRGaWVsZChlbFNlbGVjdG9yLmZpZWxkcy5zdWJzdHIoMSkpLmluc2VydEFmdGVyKGxhc3RUZXh0RmllbGQpO1xyXG4gICAgICAgIGluaXRFbW9qaWkoKTtcclxuICAgICAgICBpbWFnZVVwbG9hZC5pbml0KCk7XHJcbiAgICAgICAgLy8gJCgnW2RhdGEtdG9nZ2xlPVwicG9wb3ZlclwiXScpLnBvcG92ZXIoKTsgLy8gcmVpbml0XHJcbiAgICAgICAgJCgnW2RhdGEtdG9nZ2xlPVwidG9vbHRpcFwiXScpLnRvb2x0aXAoKTsgLy8gcmVpbml0XHJcbiAgICAgICAgaW5pdE1vZGFsSGFuZGxlcigpO1xyXG5cclxuICAgICAgICAvLyBjb25zdCAkaW5wdXQgPSAkKCdpbnB1dFtkYXRhLXJvbGU9XCJ0YWdzaW5wdXRcIl0nLCBsYXN0VGV4dEZpZWxkKTtcclxuICAgICAgICAvLyBpbml0VGFnc0lucHV0KCk7XHJcbiAgICAgICAgLy8gbmV4dEJ0bnZhbGlkYXRlQ29tcGV0aXRvcnNIYW5kbGVyKCRpbnB1dCwgbmV4dFN0ZXBCdG4pO1xyXG5cclxuICAgICAgICBjb25zdCBsYXN0VGV4dEZpZWxkQWZ0ZXJJbnNlcnQgPSAkKGVsU2VsZWN0b3IuZmllbGRzKS5sYXN0KCk7XHJcbiAgICAgICAgY29uc3QgJGlucHV0QW5zd2VyV29yZHMgPSAkKCdpbnB1dC5hbnN3ZXItd29yZHNbZGF0YS1yb2xlPVwidGFnc2lucHV0XCJdJywgbGFzdFRleHRGaWVsZEFmdGVySW5zZXJ0KTtcclxuICAgICAgICBjb25zdCAkYmxhY2tMaXN0SW5wdXQgPSAkKCdpbnB1dC5ibGFja2xpc3Qtd29yZHNbZGF0YS1yb2xlPVwidGFnc2lucHV0XCJdJywgbGFzdFRleHRGaWVsZEFmdGVySW5zZXJ0KTtcclxuXHJcbiAgICAgICAgaW5pdFRhZ3NJbnB1dCgkaW5wdXRBbnN3ZXJXb3Jkcyk7IC8vIHJlaW5pdCBhbnN3ZXItd29yZHNcclxuICAgICAgICBpbml0VGFnc0lucHV0KCRibGFja0xpc3RJbnB1dCk7IC8vIHJlaW5pdCBibGFja2xpc3Qtd29yZHNcclxuICAgICAgICBuZXh0QnRudmFsaWRhdGVDb21wZXRpdG9yc0hhbmRsZXIoJGlucHV0QW5zd2VyV29yZHMsIG5leHRTdGVwQnRuLCAnaWdub3JlUmVnZXhDaGVjaycpO1xyXG4gICAgICAgIG5leHRCdG52YWxpZGF0ZUNvbXBldGl0b3JzSGFuZGxlcigkYmxhY2tMaXN0SW5wdXQsIG51bGwsICdpZ25vcmVSZWdleENoZWNrJyk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBhbGVydCBzdWNjZXNzIGNsb3NlXHJcbiAgICAkKCcuZm9ybS1zdWJtaXQtZmluaXNoIC5jbG9zZScpLm9uKCdjbGljaycsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coJ2FsZXJ0IGNsb3NlJyk7XHJcbiAgICAgICAgJCgnI3YtcGlsbHMtYWxsLXRhYicpLnRyaWdnZXIoJ2NsaWNrJyk7XHJcbiAgICAgICAgd2luZG93LlB1YlN1Yi5wdWJsaXNoKENPTlNULmV2ZW50cy50YXNrcy5ORVdfVEFTS19DUkVBVEVEKTtcclxuICAgICAgICAvLyByZW1vdmVFeHRyYVRleHRGaWVsZHMoZSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBhbGVydCBjbG9zZVxyXG4gICAgJCgnLmZvcm0tc3VibWl0LWZpbmlzaC0tZXJyb3IgLmNsb3NlJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCdhbGVydCBjbG9zZScpO1xyXG4gICAgICAgICQoJyN2LXBpbGxzLWFsbC10YWInKS50cmlnZ2VyKCdjbGljaycpO1xyXG4gICAgICAgIHdpbmRvdy5QdWJTdWIucHVibGlzaChDT05TVC5ldmVudHMudGFza3MuTkVXX1RBU0tfQ1JFQVRFRCk7XHJcbiAgICAgICAgcmVtb3ZlRXh0cmFUZXh0RmllbGRzKCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyB0YWJzLmluaXQoZmlsbExpc3RVc2Vycyk7XHJcbiAgICBpbml0TG9nc1RhYigpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBzZXRVc2VyTmFtZShzdGF0ZSkge1xyXG4gICAgLy8gY29uc29sZS5sb2coJ2dldFRhc2tzRGF0YScsIHN0YXRlLnVzZXJuYW1lKTtcclxuICAgIHVzZXJuYW1lU2VsZWN0ZWQgPSBzdGF0ZS51c2VybmFtZTtcclxufVxyXG5cclxuZnVuY3Rpb24gc3RlcFJlZHVjZXIoc3RlcE51bWJlciwgc3RhdGUpIHtcclxuICAgIHN3aXRjaCAoc3RlcE51bWJlcikge1xyXG4gICAgICAgIGNhc2UgMDpcclxuICAgICAgICAgICAgc2V0VXNlck5hbWUoc3RhdGUpO1xyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhzdGF0ZSwgc3RlcE51bWJlcik7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdkZWZhdWx0Jywgc3RlcE51bWJlcik7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBpbml0KCkge1xyXG4gICAgaWYgKCQoY2xzQ29uc3QuY3VycmVudFBhZ2VDbHMpLmxlbmd0aCkge1xyXG4gICAgICAgIGNvbnN0IHdpemFyZENmZyA9IHtcclxuICAgICAgICAgICAgc3RlcFJlZHVjZXIsXHJcbiAgICAgICAgICAgIG9uU3VibWl0SGFuZGxlclxyXG4gICAgICAgIH07XHJcbiAgICAgICAgd2l6YXJkRm9ybS5pbml0KHdpemFyZENmZyk7XHJcbiAgICAgICAgaW5pdEhhbmRsZXJzKCk7XHJcbiAgICAgICAgYXV0b21lc3NhZ2VzU3RhdHVzLmluaXQoKTtcclxuICAgICAgICBpbml0TW9kYWxIYW5kbGVyKCk7XHJcbiAgICAgICAgaW5pdEVtb2ppaSgpO1xyXG4gICAgICAgIGltYWdlVXBsb2FkLmluaXQoKTtcclxuICAgICAgICAvLyBpbml0VGFnc0lucHV0KCk7XHJcblxyXG4gICAgICAgIHdpbmRvdy5QdWJTdWIuc3Vic2NyaWJlKENPTlNULmV2ZW50cy5pbnN0YWdyYW1BY2NvdW5zLklOU1RBR1JBTV9BQ0NPVU5TX1JFTkRFUkVEX0xBWlksIChlLCBhY2NvdW50cykgPT4ge1xyXG4gICAgICAgICAgICBsb2dzLmluaXQoc2VsZWN0Q2xzLCBjbHNDb25zdCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgd2luZG93LlB1YlN1Yi5zdWJzY3JpYmUoQ09OU1QuZXZlbnRzLmF1dG9hcm5zd2VyLklNQUdFX1VQTE9BREVELCAoZSwgcmVzKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IHtyZXNwb25zZX0gPSByZXM7XHJcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IChyZXNwb25zZS5sZW5ndGgpID8gSlNPTi5wYXJzZShyZXNwb25zZSkgOiAnJztcclxuICAgICAgICAgICAgY29uc3QgaW1hZ2VJZCA9IHJlc3VsdCAmJiByZXN1bHQuZGF0YSAmJiByZXN1bHQuZGF0YS5pbWFnZV9pZDtcclxuICAgICAgICAgICAgJChyZXMuZWwpLmNsb3Nlc3QoJy5maWxlLXVwbG9hZCcpLmF0dHIoJ2F0dGFjaGVkLWltZy1pZCcsIGltYWdlSWQpO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnaW1hZ2VfbG9hZGVkJywgcmVzKTtcclxuXHJcbiAgICAgICAgICAgIC8vIHRvZG86IG1ha2UgYXMgY2FsbEJhY2tcclxuICAgICAgICAgICAgY29uc3QgJGltYWdlQm94ID0gJChyZXMuZWwpLmNsb3Nlc3QoJy5jb2wnKS5maW5kKCcuanNfdXBsb2FkZWQtaW1nLWZyb20tcG9zdHMnKTtcclxuICAgICAgICAgICAgaWYgKCRpbWFnZUJveC5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICRpbWFnZUJveC5yZW1vdmUoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHdpbmRvdy5QdWJTdWIuc3Vic2NyaWJlKENPTlNULmV2ZW50cy5tb2RhbC5JTUFHRV9QT1NUX1NFTEVDVEVELCAoZSwgZGF0YSkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCAkaW1hZ2VCb3ggPSAkKGRhdGEuY2xvc2VzdENvbCkuZmluZCgnLmZpbGUtdXBsb2FkLWNvbnRlbnQnKTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJyRpbWFnZUJveCcsICRpbWFnZUJveCk7XHJcbiAgICAgICAgICAgIGlmICgkaW1hZ2VCb3gubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAkaW1hZ2VCb3guaGlkZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2Jsb2Nrcy9hdXRvbWVzc2FnZXMvYXV0b21lc3NhZ2VzLWluZGV4LmpzIiwiaW1wb3J0IHtDT05TVH0gZnJvbSAnLi4vLi4vY29tbW9uL2pzLXNlcnZpY2VzL2NvbnN0cyc7XHJcbmltcG9ydCB7Z2V0VGFza3NEYXRhfSBmcm9tICcuLi9fc2hhcmVkL3Rhc2stc3RhdHVzL3Rhc2stc3RhdHVzJztcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBpbml0KCkge1xyXG4gICAgaWYgKCQoJy5hdXRvbWVzc2FnZXMtcGFnZScpLmxlbmd0aCkge1xyXG4gICAgICAgIGNvbnN0IHBhdGggPSB7XHJcbiAgICAgICAgICAgIHR5cGU6IENPTlNULnVybC50bVR5cGVzLmF1dG9tZXNzYWdlc1QsXHJcbiAgICAgICAgICAgIHN1YnR5cGU6IENPTlNULnVybC50bVR5cGVzLmF1dG9tZXNzYWdlc1N1YlRbMF1cclxuICAgICAgICB9O1xyXG4gICAgICAgIGNvbnN0IHdyYXBwZXJzID0ge1xyXG4gICAgICAgICAgICAkcnVuczogJCgnLnRhc2tzLXJ1bnMnKSxcclxuICAgICAgICAgICAgJHN0b3BwZWQ6ICQoJy50YXNrcy1zdG9wcGVkJyksXHJcbiAgICAgICAgICAgICRhbGw6ICQoJy50YXNrcy1hbGwnKVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIC8vIHRhc2stc3RhdHVzIGhhcyBvbmUgc3VidHlwZSwgc28gZG8gbm90IGFkZCBkcm9wZG93blxyXG4gICAgICAgIC8vIHJlbmRlciBzdGF0dXMgZHJvcGRvd25cclxuICAgICAgICAvLyBjb25zdCB0ZXh0UnVzQXJyYXkgPSBbJ9Cf0L4gREVGQVVMVF9BVVRPX0FOU1dFUiddO1xyXG4gICAgICAgIC8vIGRyb3BEb3duLmFkZERyb3Bkb3duKGxvZ3NTdGF0ZVN0YXR1cy53cmFwcGVyU3VidHlwZSwgQ09OU1QudXJsLnRtVHlwZXMuc3Rvcmllc1N1YlQsIHtsb2dzU3RhdGU6IGxvZ3NTdGF0ZVN0YXR1cywgZHJvcGRvd25PblNlbGVjdENiLCB0ZXh0UnVzQXJyYXl9KTtcclxuXHJcbiAgICAgICAgZ2V0VGFza3NEYXRhKHdyYXBwZXJzLCBwYXRoKTtcclxuICAgICAgICAvLyB3aW5kb3cuUHViU3ViLnN1YnNjcmliZShDT05TVC5ldmVudHMuaW5zdGFncmFtQWNjb3Vucy5JTlNUQUdSQU1fQUNDT1VOU19SRU5ERVJFRCwgKGV2ZW50TmFtZSwgZGF0YSkgPT4ge1xyXG4gICAgICAgIC8vICAgICBnZXRUYXNrc0RhdGEod3JhcHBlcnMsIHBhdGgpO1xyXG4gICAgICAgIC8vICAgICBjb25zb2xlLmxvZygnKiphbnN3ZXItc3RhdHVzJywgZXZlbnROYW1lLCBkYXRhKTtcclxuICAgICAgICAvLyB9KTtcclxuICAgICAgICB3aW5kb3cuUHViU3ViLnN1YnNjcmliZShDT05TVC5ldmVudHMudGFza3MuTkVXX1RBU0tfQ1JFQVRFRCwgKGV2ZW50TmFtZSwgZGF0YSkgPT4ge1xyXG4gICAgICAgICAgICBnZXRUYXNrc0RhdGEod3JhcHBlcnMsIHBhdGgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59XHJcblxyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvYmxvY2tzL2F1dG9tZXNzYWdlcy9hdXRvbWVzc2FnZXMtc3RhdHVzLmpzIiwiaW1wb3J0IHtDT05TVH0gZnJvbSAnLi4vLi4vY29tbW9uL2pzLXNlcnZpY2VzL2NvbnN0cyc7XHJcbmltcG9ydCAqIGFzIHdpemFyZEZvcm0gZnJvbSAnLi4vLi4vYmxvY2tzL3dpemFyZC1mb3JtL3dpemFyZC1mb3JtJztcclxuaW1wb3J0IFVzZXJUYXNrTWFuYWdlciBmcm9tICcuLi8uLi9jb21tb24vanMtc2VydmljZXMvYXBpLXRhc2stbWFuYWdlcic7XHJcbi8vIGltcG9ydCBVc2VyIGZyb20gJy4uLy4uL2NvbW1vbi9qcy1zZXJ2aWNlcy91c2VyJztcclxuaW1wb3J0ICogYXMgdGFicyBmcm9tICcuLi9fc2hhcmVkL3RlYnMtcGlscy90YWJzJztcclxuaW1wb3J0ICogYXMgY2hhdEJvdFN0YXR1cyBmcm9tICcuL2NoYXQtYm90LXN0YXR1cyc7XHJcbmltcG9ydCAqIGFzIGNoYXRCb3RMb2dzIGZyb20gJy4uL19zaGFyZWQvbG9ncy9sb2dzJztcclxuXHJcbmxldCB1c2VybmFtZVNlbGVjdGVkID0gJyc7XHJcbmNvbnN0IHNlbGVjdENscyA9ICdqc19sb2dzLWFjY291bnRzJztcclxuY29uc3QgY2xzQ29uc3QgPSB7XHJcbiAgICBjdXJyZW50UGFnZUNsczogJy5ib3QtcGFnZScsXHJcbiAgICB0YXNrc0xpc3Q6ICcubG9nLXRhc2tzJyxcclxuICAgIGxvZ3NUYWJCdG46ICcjdi1waWxscy1sb2dzLXRhYicsXHJcbiAgICBwYWdpbmF0aW9uOiAnLmxvZ3MtcGFnaW5hdGlvbicsXHJcbiAgICBwYWdpbmF0aW9uUGdOdW1iZXI6ICcucGFnZS1udW1iZXInLFxyXG4gICAgcGF0aFR5cGU6IENPTlNULnVybC50bVR5cGVzLmNoYXRCb3RULFxyXG4gICAgcGF0aFN1YlR5cGU6IENPTlNULnVybC50bVR5cGVzLmNoYXRCb3RTdWJUWzBdXHJcbn07XHJcblxyXG5mdW5jdGlvbiBvblN1Ym1pdEhhbmRsZXIoZSkge1xyXG4gICAgY29uc3QgZmllbGRzID0gJCgnLmJvdC10ZXh0LWZpZWxkcycpO1xyXG4gICAgY29uc3Qga2V5V29yZHMgPSAkZWwgPT4gJGVsLnZhbCgpXHJcbiAgICAgICAgLnRyaW0oKVxyXG4gICAgICAgIC5yZXBsYWNlKC8gL2csICcnKVxyXG4gICAgICAgIC5zcGxpdCgnLCcpXHJcbiAgICAgICAgLmZpbHRlcihpID0+IGkubGVuZ3RoID4gMCk7XHJcbiAgICBjb25zdCByZXFCb2R5ID0gW107XHJcbiAgICBmaWVsZHMuZWFjaCgoaWR4LCBpdGVtKSA9PiB7XHJcbiAgICAgICAgY29uc3Qga2V5V29yZCA9IGtleVdvcmRzKCQoaXRlbSkuZmluZCgndGV4dGFyZWEuYW5zd2VyLXdvcmRzJykpO1xyXG4gICAgICAgIGNvbnN0IGFuc3dlciA9ICQoaXRlbSkuZmluZCgndGV4dGFyZWEuYW5zd2VyLW1lc3NhZ2VzJykudmFsKCk7XHJcbiAgICAgICAgcmVxQm9keS5wdXNoKHsna2V5X3dvcmRzJzoga2V5V29yZCwgYW5zd2VyfSk7XHJcbiAgICB9KTtcclxuICAgIGNvbnN0IG5SZXFCb2R5ID0ge1xyXG4gICAgICAgICd1c2VybmFtZSc6IHVzZXJuYW1lU2VsZWN0ZWQsXHJcbiAgICAgICAgJ3R5cGUnOiBjbHNDb25zdC5wYXRoVHlwZSxcclxuICAgICAgICAnc3VidHlwZSc6IGNsc0NvbnN0LnBhdGhTdWJUeXBlLFxyXG4gICAgICAgICd1c2VyX2RlZmF1bHRfY29uZmlnJzoge30sXHJcbiAgICAgICAgJ3VzZXJfY3VzdG9tX2NvbmZpZyc6IHtcclxuICAgICAgICAgICAgJ2Zvcm1zJzogcmVxQm9keVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgLy8gY29uc29sZS5sb2coJ21ha2UgcmVxdWVzdCBoZXJlKionLCBuUmVxQm9keSk7XHJcbiAgICBmdW5jdGlvbiBjYkVycm9yKHJlcykge1xyXG4gICAgICAgIGNvbnN0IG1zZyA9IHJlcy5zdGF0dXMubWVzc2FnZTtcclxuICAgICAgICAkKCcuZm9ybS1zdWJtaXQtZmluaXNoLS1lcnJvcicpLmFkZENsYXNzKCdkLWJsb2NrJylcclxuICAgICAgICAuZmluZCgnLmFsZXJ0JykuYXBwZW5kKGA8cD4ke21zZ308L3A+YCk7XHJcbiAgICB9XHJcbiAgICBVc2VyVGFza01hbmFnZXIucG9zdFN0YXJ0VGFzayhuUmVxQm9keSwgY2JFcnJvcikudGhlbigocmVzdWx0KSA9PiB7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coJ3Bvc3RCb3QnKTtcclxuICAgICAgICBpZiAocmVzdWx0LnN0YXR1cy5zdGF0ZSA9PT0gJ29rJykge1xyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhKU09OLnN0cmluZ2lmeShyZXN1bHQpKTtcclxuICAgICAgICAgICAgJCgnLmZvcm0tc3VibWl0LWZpbmlzaCcpLmZpbmQoJy5hbGVydCBwJykucmVtb3ZlKCk7XHJcbiAgICAgICAgICAgICQoJy5mb3JtLXN1Ym1pdC1maW5pc2gnKS5hZGRDbGFzcygnZC1ibG9jaycpXHJcbiAgICAgICAgICAgICAgICAuZmluZCgnLmFsZXJ0JykuYXBwZW5kKGA8cD50YXNrX2lkOiAke3Jlc3VsdC5kYXRhLnRhc2tfaWR9PC9wPmApO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBmaWxsTGlzdFVzZXJzKCR3cmFwcGVyLCBhY2NvdW50cykge1xyXG4gICAgJHdyYXBwZXIuZW1wdHkoKS5hZGRDbGFzcygnYm9yZGVyLWxpZ2h0LWNvbG9yJyk7XHJcbiAgICAkKGA8ZGl2IGNsYXNzPVwiXCI+0JTQvtGB0YLRg9C/0L3Ri9C1INCw0LrQutCw0YPQvdGC0Ys8L2Rpdj48c2VsZWN0IG5hbWU9XCJ0YXNrLXR5cGVcIiBjbGFzcz1cIiR7c2VsZWN0Q2xzfVwiPjwvc2VsZWN0PmApLmFwcGVuZFRvKCR3cmFwcGVyKTtcclxuICAgIGFjY291bnRzLmZvckVhY2goKG5hbWUpID0+IHtcclxuICAgICAgICAkKGA8b3B0aW9uIGNsYXNzPVwibGlzdC1ncm91cC1pdGVtIHB5LTJcIiB2YWx1ZT1cIiR7bmFtZX1cIj5cclxuICAgICAgICAgICAgJHtuYW1lfVxyXG4gICAgICAgIDwvb3B0aW9uPmApLmFwcGVuZFRvKCQoYC4ke3NlbGVjdENsc31gKSk7XHJcbiAgICB9KTtcclxuICAgICQoYC4ke3NlbGVjdENsc31gKS5vbignY2hhbmdlJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIHVzZXJuYW1lU2VsZWN0ZWQgPSAkKGAuJHtzZWxlY3RDbHN9IG9wdGlvbjpzZWxlY3RlZGApLnZhbCgpO1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKHVzZXJuYW1lU2VsZWN0ZWQpO1xyXG4gICAgICAgIGNoYXRCb3RMb2dzLmluaXQoc2VsZWN0Q2xzLCBjbHNDb25zdCk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuLy8gZnVuY3Rpb24gZ2V0TWV0YUxhenkoJHdyYXBwZXIsIGNiRmlsbExpc3RVc2Vycykge1xyXG4vLyAgICAgVXNlci5nZXRNZXRhZGF0YUxhenkoKS50aGVuKChyZXMpID0+IHtcclxuLy8gICAgICAgICBpZiAocmVzLnN0YXR1cy5zdGF0ZSA9PT0gJ29rJyAmJiByZXMuZGF0YSAmJiByZXMuZGF0YS5hY2NvdW50cykge1xyXG4vLyAgICAgICAgICAgICBjYkZpbGxMaXN0VXNlcnMoJHdyYXBwZXIsIHJlcy5kYXRhLmFjY291bnRzKTtcclxuLy8gICAgICAgICAgICAgY2hhdEJvdExvZ3MuaW5pdChzZWxlY3RDbHMsIGNsc0NvbnN0KTtcclxuLy8gICAgICAgICB9XHJcbi8vICAgICB9KTtcclxuLy8gfVxyXG5cclxuLyoqXHJcbiAqIEluaXQgaGVhZGVyXHJcbiAqL1xyXG5mdW5jdGlvbiBpbml0SGFuZGxlcnMoKSB7XHJcbiAgICBjb25zdCB0cGxUZXh0RmllbGQgPSAoKSA9PiAkKGA8ZGl2IGNsYXNzPVwiYm90LXRleHQtZmllbGRzIG10LTJcIj5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwicm93XCI+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2xcIj5cclxuICAgICAgICAgICAgICAgIDx0ZXh0YXJlYSBjbGFzcz1cImZvcm0tY29udHJvbCBhbnN3ZXItd29yZHNcIiByb3dzPVwiNFwiIHBsYWNlaG9sZGVyPVwi0JLQstC10LTQuNGC0LUg0LrQu9GO0YfQtdCy0YvQtSDRgdC70L7QstCwINC40LvQuCDRhNGA0LDQt9GLINGH0LXRgNC10Lcg0LfQsNC/0Y/RgtGD0Y4sINC/0YDQuCDQutC+0YLQvtGA0YvRhSDQsdGD0LTQtdGCINGB0YDQsNCx0LDRgtGL0LLQsNGC0Ywg0YfQsNGCLdCx0L7RglwiPjwvdGV4dGFyZWE+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sXCI+XHJcbiAgICAgICAgICAgICAgICA8dGV4dGFyZWEgY2xhc3M9XCJmb3JtLWNvbnRyb2wgYW5zd2VyLW1lc3NhZ2VzXCIgcm93cz1cIjRcIiBwbGFjZWhvbGRlcj1cItCS0LLQtdC00LjRgtC1INGB0L7QvtCx0YnQtdC90LjQtSwg0LrQvtGC0L7RgNC+0LUg0LHRg9C00LXRgiDQvtGC0L/RgNCw0LLQu9GP0YLRjNGB0Y8sINC10YHQu9C4INC/0YDQuNGB0YPRgtGB0YLQstC+0LLQsNC70Lgg0LrQu9GO0Ycu0YHQu9C+0LLQsCDQuNC70Lgg0YTRgNCw0LfRiyDQuNC3INGB0YLQvtC70LHRhtCwINGB0LvQtdCy0LBcIj48L3RleHRhcmVhPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L2Rpdj5cclxuICAgIDwvZGl2PmApO1xyXG5cclxuICAgICQoJy5qc19hZGQtYm90Jykub24oJ2NsaWNrJywgKGUpID0+IHtcclxuICAgICAgICBjb25zdCBsYXN0VGV4dEZpZWxkID0gJCgnLmJvdC10ZXh0LWZpZWxkcycpLmxhc3QoKTtcclxuICAgICAgICB0cGxUZXh0RmllbGQoKS5pbnNlcnRBZnRlcihsYXN0VGV4dEZpZWxkKTtcclxuICAgIH0pO1xyXG5cclxuICAgIC8vIGFsZXJ0IGNsb3NlXHJcbiAgICAkKCcuZm9ybS1zdWJtaXQtZmluaXNoIC5jbG9zZScpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZygnYWxlcnQgY2xvc2UnKTtcclxuICAgICAgICAkKCcjdi1waWxscy1hbGwtdGFiJykudHJpZ2dlcignY2xpY2snKTtcclxuICAgICAgICB3aW5kb3cuUHViU3ViLnB1Ymxpc2goQ09OU1QuZXZlbnRzLnRhc2tzLk5FV19UQVNLX0NSRUFURUQpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gYWxlcnQgY2xvc2VcclxuICAgICQoJy5mb3JtLXN1Ym1pdC1maW5pc2gtLWVycm9yIC5jbG9zZScpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZygnYWxlcnQgY2xvc2UnKTtcclxuICAgICAgICAkKCcjdi1waWxscy1hbGwtdGFiJykudHJpZ2dlcignY2xpY2snKTtcclxuICAgICAgICB3aW5kb3cuUHViU3ViLnB1Ymxpc2goQ09OU1QuZXZlbnRzLnRhc2tzLk5FV19UQVNLX0NSRUFURUQpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLypcclxuICAgICQoJyN2LXBpbGxzLWxvZ3MtdGFiJykub24oJ2NsaWNrJywgKGUpID0+IHtcclxuICAgICAgICAvLyBhdCB0aGlzIHBvaW50IG9mIHRpbWUgc2V0SW50ZXJ2YWwgaXMgd29ya2luZ1xyXG4gICAgICAgIGNvbnN0ICR3cmFwcGVyID0gJCgnLmxvZy11c2Vycy1saXN0Jyk7XHJcbiAgICAgICAgZ2V0TWV0YUxhenkoJHdyYXBwZXIsIGZpbGxMaXN0VXNlcnMpO1xyXG4gICAgICAgIC8vIGNoYXRCb3RMb2dzLmluaXQoc2VsZWN0Q2xzLCBjbHNDb25zdCk7XHJcbiAgICB9KTtcclxuICAgICovXHJcbiAgICB0YWJzLmluaXQoZmlsbExpc3RVc2Vycyk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHNldFVzZXJOYW1lKHN0YXRlKSB7XHJcbiAgICAvLyBjb25zb2xlLmxvZygnZ2V0VGFza3NEYXRhJywgc3RhdGUudXNlcm5hbWUpO1xyXG4gICAgdXNlcm5hbWVTZWxlY3RlZCA9IHN0YXRlLnVzZXJuYW1lO1xyXG59XHJcblxyXG5mdW5jdGlvbiBzdGVwUmVkdWNlcihzdGVwTnVtYmVyLCBzdGF0ZSkge1xyXG4gICAgc3dpdGNoIChzdGVwTnVtYmVyKSB7XHJcbiAgICAgICAgY2FzZSAwOlxyXG4gICAgICAgICAgICBzZXRVc2VyTmFtZShzdGF0ZSk7XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHN0YXRlLCBzdGVwTnVtYmVyKTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ2RlZmF1bHQnLCBzdGVwTnVtYmVyKTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGluaXQoKSB7XHJcbiAgICBpZiAoJCgnLmJvdC1wYWdlJykubGVuZ3RoKSB7XHJcbiAgICAgICAgY29uc3Qgd2l6YXJkQ2ZnID0ge1xyXG4gICAgICAgICAgICBzdGVwUmVkdWNlcixcclxuICAgICAgICAgICAgb25TdWJtaXRIYW5kbGVyXHJcbiAgICAgICAgfTtcclxuICAgICAgICB3aXphcmRGb3JtLmluaXQod2l6YXJkQ2ZnKTtcclxuICAgICAgICBpbml0SGFuZGxlcnMoKTtcclxuICAgICAgICBjaGF0Qm90U3RhdHVzLmluaXQoKTtcclxuICAgICAgICB3aW5kb3cuUHViU3ViLnN1YnNjcmliZShDT05TVC5ldmVudHMuaW5zdGFncmFtQWNjb3Vucy5JTlNUQUdSQU1fQUNDT1VOU19SRU5ERVJFRF9MQVpZLCAoZSwgYWNjb3VudHMpID0+IHtcclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coYWNjb3VudHMpO1xyXG4gICAgICAgICAgICBjaGF0Qm90TG9ncy5pbml0KHNlbGVjdENscywgY2xzQ29uc3QpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9ibG9ja3MvY2hhdC1ib3QvY2hhdC1ib3QtaW5kZXguanMiLCJpbXBvcnQge0NPTlNUfSBmcm9tICcuLi8uLi9jb21tb24vanMtc2VydmljZXMvY29uc3RzJztcbmltcG9ydCB7Z2V0VGFza3NEYXRhfSBmcm9tICcuLi9fc2hhcmVkL3Rhc2stc3RhdHVzL3Rhc2stc3RhdHVzJztcblxuZXhwb3J0IGZ1bmN0aW9uIGluaXQoKSB7XG4gICAgaWYgKCQoJy5ib3QtcGFnZScpLmxlbmd0aCkge1xuICAgICAgICBjb25zdCBwYXRoID0ge1xuICAgICAgICAgICAgdHlwZTogQ09OU1QudXJsLnRtVHlwZXMuY2hhdEJvdFQsXG4gICAgICAgICAgICBzdWJ0eXBlOiBDT05TVC51cmwudG1UeXBlcy5jaGF0Qm90U3ViVFswXVxuICAgICAgICB9O1xuICAgICAgICBjb25zdCB3cmFwcGVycyA9IHtcbiAgICAgICAgICAgICRydW5zOiAkKCcudGFza3MtcnVucycpLFxuICAgICAgICAgICAgJHN0b3BwZWQ6ICQoJy50YXNrcy1zdG9wcGVkJylcbiAgICAgICAgfTtcbiAgICAgICAgZ2V0VGFza3NEYXRhKHdyYXBwZXJzLCBwYXRoKTtcbiAgICAgICAgLy8gd2luZG93LlB1YlN1Yi5zdWJzY3JpYmUoQ09OU1QuZXZlbnRzLmluc3RhZ3JhbUFjY291bnMuSU5TVEFHUkFNX0FDQ09VTlNfUkVOREVSRUQsIChldmVudE5hbWUsIGRhdGEpID0+IHtcbiAgICAgICAgLy8gICAgIGdldFRhc2tzRGF0YSh3cmFwcGVycywgcGF0aCk7XG4gICAgICAgIC8vICAgICBjb25zb2xlLmxvZygnKiphbnN3ZXItc3RhdHVzJywgZXZlbnROYW1lLCBkYXRhKTtcbiAgICAgICAgLy8gfSk7XG4gICAgICAgIHdpbmRvdy5QdWJTdWIuc3Vic2NyaWJlKENPTlNULmV2ZW50cy50YXNrcy5ORVdfVEFTS19DUkVBVEVELCAoZXZlbnROYW1lLCBkYXRhKSA9PiB7XG4gICAgICAgICAgICBnZXRUYXNrc0RhdGEod3JhcHBlcnMsIHBhdGgpO1xuICAgICAgICB9KTtcbiAgICB9XG59XG5cblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9ibG9ja3MvY2hhdC1ib3QvY2hhdC1ib3Qtc3RhdHVzLmpzIiwiLyogZXNsaW50LWRpc2FibGUgc29ydC12YXJzICovXHJcbi8vIGltcG9ydCAkIGZyb20gJ2pxdWVyeSc7XHJcbmltcG9ydCBVc2VyIGZyb20gJy4uLy4uL2NvbW1vbi9qcy1zZXJ2aWNlcy91c2VyJztcclxuaW1wb3J0IHtDT05TVH0gZnJvbSAnLi4vLi4vY29tbW9uL2pzLXNlcnZpY2VzL2NvbnN0cyc7XHJcbmltcG9ydCBjb29raWVTdG9yYWdlIGZyb20gJy4uLy4uL2NvbW1vbi9qcy1zZXJ2aWNlcy9jb29raWUnO1xyXG5cclxuY29uc3QgcGFyc2VRdWVyeVN0cmluZyA9IGZ1bmN0aW9uKCkge1xyXG5cclxuICAgIGNvbnN0IHN0ciA9IHdpbmRvdy5sb2NhdGlvbi5zZWFyY2g7XHJcbiAgICBjb25zdCBvYmpVUkwgPSB7fTtcclxuXHJcbiAgICBzdHIucmVwbGFjZShcclxuICAgICAgbmV3IFJlZ0V4cCgnKFtePz0mXSspKD0oW14mXSopKT8nLCAnZycpLFxyXG4gICAgICAgIGZ1bmN0aW9uKCQwLCAkMSwgJDIpIHtcclxuICAgICAgICAgICAgb2JqVVJMWyQxXSA9ICQyO1xyXG4gICAgICAgIH1cclxuICApO1xyXG4gICAgcmV0dXJuIG9ialVSTDtcclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBjb25maXJtYXRpb25XaXRoUmVkaXJlY3QoKSB7XHJcbiAgICBjb25zdCB1c2VyID0gVXNlcjtcclxuICAgIGNvbnN0IHBhcmFtcyA9IHBhcnNlUXVlcnlTdHJpbmcoKTtcclxuICAgIC8vIEV4YW1wbGUgaG93IHRvIHVzZSBpdDpcclxuXHJcbiAgICBjb25zdCBzZW5kQ29uZmlybSA9IGZ1bmN0aW9uICh0b2tlbikge1xyXG4gICAgICAgIHVzZXIuY29uZmlybSh0b2tlbikudGhlbigocmVzdWx0KSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChyZXN1bHQuc3RhdHVzICYmIHJlc3VsdC5zdGF0dXMuc3RhdGUgPT09ICdvaycpIHtcclxuXHJcbiAgICAgICAgICAgICAgICAvLyBzYXZlIHRoZSBpdGVtXHJcbiAgICAgICAgICAgICAgICBjb29raWVTdG9yYWdlLnNldChDT05TVC5jb29raWVTdG9yYWdlLmVtYWlsQ29uZmlybWVkLCAnY29uZmlybWVkJyk7XHJcbiAgICAgICAgICAgICAgICBjb29raWVTdG9yYWdlLnNldChDT05TVC5jb29raWVTdG9yYWdlLnRva2VuLCByZXN1bHQuZGF0YS50b2tlbik7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gd2luZG93LmxvY2F0aW9uID0gY29uZmlybS1yZWdpc3RyYXRpb24uaHRtbD90b2tlbj0nZnJvbSBzZXJ2ZXInO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIHJldHJpZXZlIHRoZSBvYmplY3QgaW4gYSBzdHJpbmcgZm9ybVxyXG4gICAgICAgICAgICAgICAgY29uc3QgY3VzdG9tZXJzRGF0YVN0cmluZyA9IHNlc3Npb25TdG9yYWdlLmdldEl0ZW0oJ2N1c3RvbWVyc0RhdGEnKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGN1c3RvbWVyc0RhdGFTdHJpbmcpO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ3JlcXVlc3Qgc3VjY2VlZGVkIHdpdGggSlNPTiByZXNwb25zZScsIHJlc3VsdCk7XHJcbiAgICAgICAgICAgICAgICAkKCcuY29uZmlybS1yZWdpc3RyYXRpb24nKS5hcHBlbmQoYDxwPmNvbmZpcm1hdGlvbiBzdGF0dXM6ICR7cmVzdWx0LnN0YXR1cy5zdGF0ZX08L3A+YCk7XHJcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB3aW5kb3cubG9jYXRpb24gPSAnLi9wcm9maWxlLmh0bWwnO1xyXG4gICAgICAgICAgICAgICAgfSwgMTAwMCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSBpZiAocmVzdWx0LnN0YXR1cykge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzdWx0KTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3VsdCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH07XHJcblxyXG4gICAgY29uc3QgcmVkaXJlY3QgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgZG90LW5vdGF0aW9uXHJcbiAgICAgICAgY29uc3QgdG9rZW4gPSBwYXJhbXNbJ3Rva2VuJ107XHJcblxyXG4gICAgICAgIGlmICghbG9jYXRpb24ucGF0aG5hbWUuaW5kZXhPZignY29uZmlybS1yZWdpc3RyYXRpb24nKSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICh0b2tlbikge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnc2VuZCByZXEgdG8gJywgdG9rZW4pO1xyXG4gICAgICAgICAgICBzZW5kQ29uZmlybSh0b2tlbik7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuXHJcbiAgICBmdW5jdGlvbiBpbml0KCkge1xyXG4gICAgICAgIHJlZGlyZWN0KCk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICBpbml0XHJcbiAgICB9O1xyXG59XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9ibG9ja3MvY29uZmlybS1yZWcvY29uZmlybS1yZWcuanMiLCIvLyBpbXBvcnQgKiBhcyBmb2xsb3dTdGF0dXMgZnJvbSAnLi9mb2xsb3ctc3RhdHVzJztcclxuaW1wb3J0ICogYXMgZm9sbG93U3RhdHVzQnlTdWJ0eXBlIGZyb20gJy4uLy4uL2Jsb2Nrcy9fc2hhcmVkL3Rhc2stc3RhdHVzL3Rhc2stc3RhdHVzLWJ5LXN1YnR5cGUnO1xyXG5pbXBvcnQge0NPTlNUfSBmcm9tICcuLi8uLi9jb21tb24vanMtc2VydmljZXMvY29uc3RzJztcclxuaW1wb3J0IFVzZXJUYXNrTWFuYWdlciBmcm9tICcuLi8uLi9jb21tb24vanMtc2VydmljZXMvYXBpLXRhc2stbWFuYWdlcic7XHJcbmltcG9ydCB2aWV3VXRpbHMgZnJvbSAnLi4vLi4vY29tbW9uL2pzLXNlcnZpY2VzL3ZpZXcnO1xyXG5pbXBvcnQge2F0dGFjaFR4dEZpbGVIYW5kbGVyfSBmcm9tICcuL2ZvbGxvdy1yZWFkLWZpbGUtdHh0JztcclxuaW1wb3J0ICdicnV0dXNpbi1qc29uLWZvcm1zJztcclxuaW1wb3J0IHtpbml0TG9nc1RhYn0gZnJvbSAnLi4vX3NoYXJlZC9sb2dzL2xvZ3MtdGFicyc7XHJcbmltcG9ydCB7LyogaW5pdFRhZ3NJbnB1dCwgKi9uZXh0QnRudmFsaWRhdGVDb21wZXRpdG9yc0hhbmRsZXJ9IGZyb20gJy4uL19zaGFyZWQvdGFncy1pbnB1dC90YWdzLWlucHV0JztcclxuXHJcbmNvbnN0IHN0YXRlID0ge1xyXG4gICAgdXNlcm5hbWU6ICcnLFxyXG4gICAgc3VidHlwZTogQ09OU1QudXJsLnRtVHlwZXMuZm9sbG93aW5nU3ViVFswXSwgLy8gZGVmYXVsdCB2YWx1ZVxyXG4gICAgdXNlcl9kZWZhdWx0X2NvbmZpZzoge1xyXG4gICAgICAgIHRhc2tfbW9kZTogJ1NBRkUnXHJcbiAgICB9XHJcbn07XHJcblxyXG5mdW5jdGlvbiBmaWxsTGlzdE1ldGEoJGxpc3QsIGRhdGFBcnJheSkge1xyXG4gICAgY29uc3QgaXRlbXMgPSBkYXRhQXJyYXk7XHJcbiAgICAvLyBjb25zdCBkZWZhdWx0QXZhdGFyU3JjID0gQ09OU1QudXNlci5kZWZhdWxBdmF0YXI7XHJcbiAgICAkbGlzdC5lbXB0eSgpLmFkZENsYXNzKCdib3JkZXItbGlnaHQtY29sb3InKTtcclxuICAgICQoJzxsaSBjbGFzcz1cImxpc3QtZ3JvdXAtaXRlbSBweS0yXCI+PGgzPlVzZXJUYXNrTWFuYWdlcjwvaDM+PC9saT4nKS5hcHBlbmRUbygkbGlzdCk7XHJcbiAgICBpdGVtcy5mb3JFYWNoKChpdGVtKSA9PiB7XHJcbiAgICAgICAgLy8gY29uc3QgaW5mbyA9IGl0ZW0uaW5mbztcclxuICAgICAgICAvLyBjb25zdCBjaGVja3BvaW50ID0gaXRlbS5jaGVja3BvaW50IHx8IGl0ZW07XHJcbiAgICAgICAgJChgPGxpIGNsYXNzPVwibGlzdC1ncm91cC1pdGVtIHB5LTJcIiBkYXRhLXVzZXJuYW1lPVwiJHtpdGVtLnR5cGV9XCI+XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibWVkaWEtYm9keSBkLWZsZXhcIj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sIHRhc2stdHlwZVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkeyhpdGVtLnRhc2tfaWQpID8gYDxwIGNsYXNzPVwibXQtMCBtYi0xIG5hbWVcIj4ke2l0ZW0udGFza19pZH08L3A+YCA6ICcnfVxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wgdGFzay1zdWJ0eXBlXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICR7KGl0ZW0uc3VidHlwZSkgPyBgPHAgY2xhc3M9XCJtdC0wIG1iLTEgbmFtZVwiPiR7aXRlbS5zdWJ0eXBlfTwvcD5gIDogJyd9XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbCB0YXNrLXByb2dyZXNzXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICR7KGl0ZW0uc3RhdHVzLnN0YXRlID09PSAnU1RPUFBFRCcpID8gYDxwIGNsYXNzPVwibXQtMCBtYi0xIG5hbWVcIj7QntGB0YLQsNC90L7QstC70LXQvdC+IC0gJHtpdGVtLnN0YXR1cy5yZWFzb259PC9wPmAgOiAnJ31cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8IS0tPGRpdiBjbGFzcz1cImNvbCB0YXNrLXByb2dyZXNzXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICR7KGl0ZW0ucHJvZ3Jlc3MpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA/IGA8cCBjbGFzcz1cIm10LTAgbWItMSBuYW1lXCI+0JrQvtC70LjRh9C10YHRgtCy0L4gLSAke2l0ZW0ucHJvZ3Jlc3MuY291bnR9PC9wPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzPVwibXQtMCBtYi0xIG5hbWVcIj7Qn9GA0L7RhtC10L3RgiAtICR7aXRlbS5wcm9ncmVzcy5wZXJjZW50fTwvcD5gIDogJyd9XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+LS0+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPC9saT5gKS5hcHBlbmRUbygkbGlzdCk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuLypcclxuZnVuY3Rpb24gZmlsbExpc3RUeXBlcygkd3JhcHBlciwgZGF0YSkge1xyXG4gICAgY29uc3Qgc3RydWN0dXJlT2JqID0gZGF0YVsnc3RydWN0dXJlJ107XHJcblxyXG4gICAgJHdyYXBwZXIuZW1wdHkoKS5hZGRDbGFzcygnYm9yZGVyLWxpZ2h0LWNvbG9yJyk7XHJcbiAgICAkKCc8ZGl2IGNsYXNzPVwiXCI+0KLQuNC/INC30LDQtNCw0L3QuNGPPC9kaXY+PHNlbGVjdCBuYW1lPVwidGFzay10eXBlXCIgaWQ9XCJ0YXNrLXR5cGVzXCI+PC9zZWxlY3Q+JykuYXBwZW5kVG8oJHdyYXBwZXIpO1xyXG4gICAgZm9yIChjb25zdCB0eXBlIGluIHN0cnVjdHVyZU9iaikge1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCdzdHJ1Y3R1cmU6ICcgKyBpdGVtKTtcclxuICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHN0cnVjdHVyZU9iaiwgdHlwZSkpIHtcclxuICAgICAgICAgICAgJChgPG9wdGlvbiBjbGFzcz1cImxpc3QtZ3JvdXAtaXRlbSBweS0yXCIgJHsodHlwZSAhPT0gJ0ZPTExPV0lORycpID8gJ2Rpc2FibGVkPVwiZGlzYWJsZWRcIicgOiAnJ31cclxuICAgICAgICAgICAgICAgIHZhbHVlID0gXCIke0pTT04uc3RyaW5naWZ5KHt0eXBlLCBzdWJ0eXBlOiBzdHJ1Y3R1cmVPYmpbdHlwZV19KX1cIj5cclxuICAgICAgICAgICAgICAgICR7dHlwZX1cclxuICAgICAgICAgICAgPC9vcHRpb24+YCkuYXBwZW5kVG8oJCgnI3Rhc2stdHlwZXMnKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcbiovXHJcblxyXG5mdW5jdGlvbiBnZXRUYXNrc0RhdGEocGF0aCkge1xyXG4gICAgVXNlclRhc2tNYW5hZ2VyLmdldE1ldGFkYXRhKHBhdGgpLnRoZW4oKHJlc3VsdCkgPT4ge1xyXG4gICAgICAgIGlmIChyZXN1bHQuc3RhdHVzLnN0YXRlID09PSAnb2snKSB7XHJcbiAgICAgICAgICAgIGZpbGxMaXN0TWV0YSgkKCcuZm9sbG93LXRhc2tzLWxpc3QnKSwgcmVzdWx0LmRhdGEubWV0YSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdldERhdGFTdGVwMigpIHtcclxuICAgIGNvbnN0IHBhdGggPSB7XHJcbiAgICAgICAgdHlwZTogQ09OU1QudXJsLnRtVHlwZXMuZm9sbG93aW5nVCxcclxuICAgICAgICBzdWJ0eXBlOiBzdGF0ZS5zdWJ0eXBlIHx8IENPTlNULnVybC50bVR5cGVzLmZvbGxvd2luZ1N1YlRbMF1cclxuICAgIH07XHJcbiAgICBnZXRUYXNrc0RhdGEocGF0aCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdldERhdGFTdGVwU3BlZWQoc3RlcE51bWJlcikge1xyXG4gICAgY29uc3QgZmlsbFNwZWVkTGlzdCA9IHZpZXdVdGlscy5maWxsUmFkaW9Hcm91cExpc3Q7XHJcbiAgICBjb25zdCBwYXRoID0ge1xyXG4gICAgICAgIHR5cGU6IENPTlNULnVybC50bVR5cGVzLmZvbGxvd2luZ1QsXHJcbiAgICAgICAgc3VidHlwZTogc3RhdGUuc3VidHlwZSB8fCBDT05TVC51cmwudG1UeXBlcy5mb2xsb3dpbmdTdWJUWzBdXHJcbiAgICB9O1xyXG4gICAgZnVuY3Rpb24gdG9nZ2xlQWRkVGV4dEJ0bihzdWJ0eXBlKSB7XHJcbiAgICAgICAgaWYgKHBhdGguc3VidHlwZSA9PT0gJ0ZPTExPV0lOR19CWV9MSVNUJykge1xyXG4gICAgICAgICAgICAvLyBzaG93IHR4dCBmaWxlVXBsb2FkXHJcbiAgICAgICAgICAgICQoJy5hZGQtZmlsZScpLmFkZENsYXNzKCdkLWJsb2NrJyk7XHJcbiAgICAgICAgICAgICQoJy5hZGQtY29tcGV0aXRvcnMnKS5hZGRDbGFzcygnZC1ub25lJykucmVtb3ZlQ2xhc3MoJ2QtYmxvY2snKTtcclxuICAgICAgICAgICAgY29uc3QgbmV4dFN0ZXAgPSAkKCcuanNfYWRkLW5ldy10YXNrIGZpZWxkc2V0JykuZ2V0KHN0ZXBOdW1iZXIgKyAxKTtcclxuICAgICAgICAgICAgJChuZXh0U3RlcCkuZmluZCgnLmJ0bi1uZXh0JykuYXR0cignZGlzYWJsZWQnLCAnZGlzYWJsZWQnKTtcclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2cobmV4dFN0ZXBQcm9jZWVkQnRuKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAvLyBzaG93IGNvbXBldGl0b3JzXHJcbiAgICAgICAgICAgICQoJy5hZGQtY29tcGV0aXRvcnMnKS5hZGRDbGFzcygnZC1ibG9jaycpO1xyXG4gICAgICAgICAgICAkKCcuYWRkLWZpbGUnKS5hZGRDbGFzcygnZC1ub25lJykucmVtb3ZlQ2xhc3MoJ2QtYmxvY2snKTtcclxuICAgICAgICAgICAgY29uc3QgbmV4dFN0ZXAgPSAkKCcuanNfYWRkLW5ldy10YXNrIGZpZWxkc2V0JykuZ2V0KHN0ZXBOdW1iZXIgKyAxKTtcclxuICAgICAgICAgICAgJChuZXh0U3RlcCkuZmluZCgnLmJ0bi1uZXh0JykucmVtb3ZlQXR0cignZGlzYWJsZWQnKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICBjb25zb2xlLmxvZygncGF0aC5zdWJ0eXBlJywgcGF0aC5zdWJ0eXBlKTtcclxuXHJcbiAgICB0b2dnbGVBZGRUZXh0QnRuKHBhdGguc3VidHlwZSk7XHJcblxyXG4gICAgLy8gZHJhdyBjcml0ZXJpYVxyXG4gICAgVXNlclRhc2tNYW5hZ2VyLmdldERlZmF1bHRDb25maWdzKHBhdGgpLnRoZW4oKHJlc3VsdCkgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdnZXREZWZhdWx0Q29uZmlncycpO1xyXG4gICAgICAgIGlmIChyZXN1bHQuc3RhdHVzLnN0YXRlID09PSAnb2snKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHtcclxuICAgICAgICAgICAgICBkYXRhOiB7XHJcbiAgICAgICAgICAgICAgICBmb3VuZDoge1xyXG4gICAgICAgICAgICAgICAgICBjZmc6IHtcclxuICAgICAgICAgICAgICAgICAgICB0YXNrX21vZGVzXHJcbiAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0gPSByZXN1bHQ7XHJcblxyXG4gICAgICAgICAgICBmaWxsU3BlZWRMaXN0KCQoJy5qc19mb2xsb3ctc3BlZWQnKSwgdGFza19tb2Rlcyk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbn1cclxuZnVuY3Rpb24gc2V0Q29tcGV0aXRvcnMoKSB7XHJcbiAgICBjb25zdCBjb21wZXRpdG9ycyA9IHZpZXdVdGlscy5nZXRWYWxCeUNvbW1hU2VwYXJhdG9yKCQoJy5mb2xsb3ctZm9ybScpLmZpbmQoJyNmb2xsb3dlcnMnKSk7XHJcblxyXG4gICAgc3RhdGVbJ3VzZXJfY3VzdG9tX2NvbmZpZyddID0ge1xyXG4gICAgICAgIGNvbXBldGl0b3JzXHJcbiAgICB9O1xyXG59XHJcblxyXG5mdW5jdGlvbiBzdGVwUmVkdWNlcihzdGVwTnVtYmVyKSB7XHJcbiAgICBjb25zdCAkY29tcGV0aXRvcnNUZXh0QXJlYSA9ICQoJy5qc19mb2xsb3ctY29tcGV0aXRvcnMnKTtcclxuICAgIGNvbnN0IG5leHRTdGVwQnRuID0gJGNvbXBldGl0b3JzVGV4dEFyZWEuY2xvc2VzdCgnLmFkZC1jb21wZXRpdG9ycycpLmZpbmQoJy5idG4tbmV4dCcpO1xyXG4gICAgc3dpdGNoIChzdGVwTnVtYmVyKSB7XHJcbiAgICAgICAgY2FzZSAwOlxyXG4gICAgICAgICAgICBnZXREYXRhU3RlcDIoc3RhdGUudXNlcm5hbWUpO1xyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhzdGF0ZSk7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgZ2V0RGF0YVN0ZXBTcGVlZChzdGVwTnVtYmVyKTtcclxuICAgICAgICAgICAgbmV4dEJ0bnZhbGlkYXRlQ29tcGV0aXRvcnNIYW5kbGVyKCRjb21wZXRpdG9yc1RleHRBcmVhLCBuZXh0U3RlcEJ0bik7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgMjpcclxuICAgICAgICAgICAgc2V0Q29tcGV0aXRvcnMoKTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ2RlZmF1bHQnLCBzdGVwTnVtYmVyKTtcclxuICAgIH1cclxufVxyXG5cclxuZnVuY3Rpb24gY2JFcnJvcihyZXMpIHtcclxuICAgIGNvbnN0IG1zZyA9IHJlcy5zdGF0dXMubWVzc2FnZTtcclxuICAgICQoJy5mb3JtLXN1Ym1pdC1maW5pc2gtLWVycm9yJykuYWRkQ2xhc3MoJ2QtYmxvY2snKVxyXG4gICAgICAgIC5maW5kKCcuYWxlcnQnKS5hcHBlbmQoYDxwPiR7bXNnfTwvcD5gKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEluaXQgaGVhZGVyXHJcbiAqL1xyXG5mdW5jdGlvbiBpbml0U3RlcHMoZm9ybVNlbGVjdG9yKSB7XHJcbiAgICBjb25zdCAkZm9ybSA9ICQoZm9ybVNlbGVjdG9yKTtcclxuICAgICQoJy5qc19wcm9maWxlLXVzZXItZm9sbG93Pi5jb250YWluZXInKS5yZW1vdmVDbGFzcygnY29udGFpbmVyJyk7XHJcblxyXG4gICAgYXR0YWNoVHh0RmlsZUhhbmRsZXIoJy5maWxlLXVwbG9hZC1jb250YWluZXInKTtcclxuXHJcbiAgICAkZm9ybS5maW5kKCdmaWVsZHNldDpmaXJzdC1jaGlsZCcpLmZhZGVJbignc2xvdycpO1xyXG5cclxuICAgICRmb3JtLmZpbmQoJ2lucHV0W3R5cGU9XCJ0ZXh0XCJdJykub24oJ2ZvY3VzJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICQodGhpcykucmVtb3ZlQ2xhc3MoJ2lucHV0LWVycm9yJyk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBuZXh0IHN0ZXBcclxuICAgICRmb3JtLmZpbmQoJy5idG4tbmV4dCcpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBjb25zdCBwYXJlbnRfZmllbGRzZXQgPSAkKHRoaXMpLnBhcmVudHMoJ2ZpZWxkc2V0Jyk7XHJcbiAgICAgICAgbGV0IG5leHRfc3RlcCA9IHRydWU7XHJcbiAgICAgICAgY29uc3QgcmFkaW9CdG5BY3RpdmUgPSBwYXJlbnRfZmllbGRzZXQuZmluZCgnaW5wdXRbbmFtZT1cInVzZXJBY2NvdW50UmFkaW9cIl06Y2hlY2tlZCcpO1xyXG5cclxuICAgICAgICBpZiAocmFkaW9CdG5BY3RpdmUubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICBzdGF0ZS51c2VybmFtZSA9IHJhZGlvQnRuQWN0aXZlLnBhcmVudHMoJ2xpJykuZGF0YSgndXNlcm5hbWUnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgc3RlcFJlZHVjZXIocGFyZW50X2ZpZWxkc2V0LmluZGV4KCksIHN0YXRlKTtcclxuXHJcbiAgICAgICAgcGFyZW50X2ZpZWxkc2V0LmZpbmQoJ2lucHV0W3R5cGU9XCJ0ZXh0XCJdLGlucHV0W3R5cGU9XCJlbWFpbFwiXScpLmVhY2goZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAoJCh0aGlzKS52YWwoKSA9PT0gJycpIHtcclxuICAgICAgICAgICAgICAgICQodGhpcykuYWRkQ2xhc3MoJ2lucHV0LWVycm9yJyk7XHJcbiAgICAgICAgICAgICAgICBuZXh0X3N0ZXAgPSBmYWxzZTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICQodGhpcykucmVtb3ZlQ2xhc3MoJ2lucHV0LWVycm9yJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKCQodGhpcykucGFyZW50KCkuaGFzQ2xhc3MoJ2Jvb3RzdHJhcC10YWdzaW5wdXQnKSkge1xyXG4gICAgICAgICAgICAgICAgbmV4dF9zdGVwID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBpZiAobmV4dF9zdGVwKSB7XHJcbiAgICAgICAgICAgIHBhcmVudF9maWVsZHNldC5mYWRlT3V0KDQwMCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgJCh0aGlzKS5uZXh0KCkuZmFkZUluKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBwcmV2aW91cyBzdGVwXHJcbiAgICAkZm9ybS5maW5kKCcuYnRuLXByZXZpb3VzJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIC8vIHN0YXRlLnVzZXJuYW1lID0gWy4uLm5ldyBTZXQoc3RhdGUudXNlcm5hbWUpXTtcclxuICAgICAgICAkKHRoaXMpLnBhcmVudHMoJ2ZpZWxkc2V0JykuZmFkZU91dCg0MDAsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgJCh0aGlzKS5wcmV2KCkuZmFkZUluKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBzcGVlZCByYWRpby1idG4gZ3JvdXBcclxuICAgICQoJy5qc19mb2xsb3ctc3BlZWQgaW5wdXRbdHlwZT1yYWRpb10nKS5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgY29uc3QgdmFsdWUgPSAkKHRoaXMpLmF0dHIoJ3ZhbHVlJyk7XHJcbiAgICAgICAgc3RhdGUudXNlcl9kZWZhdWx0X2NvbmZpZyA9IHtcclxuICAgICAgICAgICAgdGFza19tb2RlOiB2YWx1ZS50b1VwcGVyQ2FzZSgpXHJcbiAgICAgICAgfTtcclxuICAgIH0pO1xyXG5cclxuICAgICQoJy5qc19nZXQtZm9sbG93LXR5cGUgaW5wdXRbdHlwZT1yYWRpb10nKS5vbignY2xpY2snLCAoZSkgPT4ge1xyXG4gICAgICAgIGNvbnN0IHZhbHVlID0gJChlLnRhcmdldCkuYXR0cigndmFsdWUnKTtcclxuICAgICAgICBzdGF0ZS5zdWJ0eXBlID0gdmFsdWUudG9VcHBlckNhc2UoKTtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZyhzdGF0ZSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBzdWJtaXRcclxuICAgICRmb3JtLm9uKCdzdWJtaXQnLCBmdW5jdGlvbiAoZSkge1xyXG5cclxuICAgICAgICBzdGF0ZS51c2VyX2RlZmF1bHRfY29uZmlnID0ge1xyXG4gICAgICAgICAgICAuLi5zdGF0ZS51c2VyX2RlZmF1bHRfY29uZmlnLFxyXG4gICAgICAgICAgICBjcml0ZXJpYToge31cclxuICAgICAgICB9O1xyXG4gICAgICAgIGNvbnN0IGxpbWl0ID0gZG9jdW1lbnQuZm9ybXNbJ2ZvbGxvdy1mb3JtJ11bJ2xpbWl0J107XHJcbiAgICAgICAgY29uc3QgaGF2ZV9wb3N0cyA9IHtcclxuICAgICAgICAgICAgZnJvbTogZG9jdW1lbnQuZm9ybXNbJ2ZvbGxvdy1mb3JtJ11bJ2hhdmVfcG9zdHNfZnJvbSddLnZhbHVlLFxyXG4gICAgICAgICAgICB0bzogZG9jdW1lbnQuZm9ybXNbJ2ZvbGxvdy1mb3JtJ11bJ2hhdmVfcG9zdHNfdG8nXS52YWx1ZVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgY29uc3QgaGF2ZV9mb2xsb3dlcnMgPSB7XHJcbiAgICAgICAgICAgIGZyb206IGRvY3VtZW50LmZvcm1zWydmb2xsb3ctZm9ybSddWydoYXZlX2ZvbGxvd2Vyc19mcm9tJ10udmFsdWUsXHJcbiAgICAgICAgICAgIHRvOiBkb2N1bWVudC5mb3Jtc1snZm9sbG93LWZvcm0nXVsnaGF2ZV9mb2xsb3dlcnNfdG8nXS52YWx1ZVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgY29uc3QgaGF2ZV9mb2xsb3dpbmdzID0ge1xyXG4gICAgICAgICAgICBmcm9tOiBkb2N1bWVudC5mb3Jtc1snZm9sbG93LWZvcm0nXVsnaGF2ZV9mb2xsb3dpbmdzX2Zyb20nXS52YWx1ZSxcclxuICAgICAgICAgICAgdG86IGRvY3VtZW50LmZvcm1zWydmb2xsb3ctZm9ybSddWydoYXZlX2ZvbGxvd2luZ3NfdG8nXS52YWx1ZVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGlmIChsaW1pdC52YWx1ZSA9PT0gJycpIHtcclxuICAgICAgICAgICAgbGltaXQuZm9jdXMoKTtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBzdGF0ZVsndXNlcl9kZWZhdWx0X2NvbmZpZyddLmNyaXRlcmlhID0ge1xyXG4gICAgICAgICAgICBsaW1pdDogbGltaXQudmFsdWUsXHJcbiAgICAgICAgICAgICd1bmZvbGxvd190aGVuJzogISEkKCcjdW5mb2xsb3dfdGhlbjpjaGVja2VkJykubGVuZ3RoLFxyXG4gICAgICAgICAgICAnZm9sbG93X29uX2Nsb3NlZF9wcm9maWxlcyc6ICEhJCgnI2ZvbGxvd19vbl9jbG9zZWRfcHJvZmlsZXM6Y2hlY2tlZCcpLmxlbmd0aCxcclxuICAgICAgICAgICAgaGF2ZV9wb3N0cyxcclxuICAgICAgICAgICAgaGF2ZV9mb2xsb3dlcnMsXHJcbiAgICAgICAgICAgIGhhdmVfZm9sbG93aW5nc1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgICQodGhpcykuZmluZCgnaW5wdXRbdHlwZT1cInRleHRcIl0saW5wdXRbdHlwZT1cIm51bWJlclwiXSxpbnB1dFt0eXBlPVwiZW1haWxcIl0nKS5lYWNoKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKCQodGhpcykudmFsKCkgPT09ICcnKSB7XHJcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICAgICAkKHRoaXMpLmFkZENsYXNzKCdpbnB1dC1lcnJvcicpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgJCh0aGlzKS5yZW1vdmVDbGFzcygnaW5wdXQtZXJyb3InKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBzdGF0ZS50eXBlID0gQ09OU1QudXJsLnRtVHlwZXMuZm9sbG93aW5nVDsgLy8gJ0ZPTExPV0lORyc7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coJy0tLS0rIHN0YXRlLnN1YnR5cGUgKy0tLS0nLCBzdGF0ZS5zdWJ0eXBlKTtcclxuICAgICAgICBpZiAoc3RhdGUuc3VidHlwZSA9PT0gJ0ZPTExPV0lOR19CWV9MSVNUJykge1xyXG4gICAgICAgICAgICAvLyB0ZXh0IGZpbGUgc2hvdWxkIGJlIGFkZGVkXHJcbiAgICAgICAgICAgIHN0YXRlWyd1c2VyX2N1c3RvbV9jb25maWcnXS5hdHRhY2htZW50ID0ge1xyXG4gICAgICAgICAgICAgICAgJ2xpc3RfaWQnOiAkKCcuYWRkLWZpbGUgLmZpbGUtdXBsb2FkLWNvbnRhaW5lcicpLmF0dHIoJ2F0dGFjaGVkLXR4dC1pZCcpXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChzdGF0ZS5zdWJ0eXBlID09PSBDT05TVC51cmwudG1UeXBlcy5mb2xsb3dpbmdTdWJUWzFdKSB7XHJcbiAgICAgICAgICAgIC8vIGNvbnN0IGNvbXBldGl0b3JzID0gZ2V0VmFsQnlDb21tYVNlcGFyYXRvcigkKGZvcm0pLmZpbmQoZWxTZWxlY3Rvci5jb21wZXRpdG9ycykpO1xyXG4gICAgICAgICAgICAvLyBzdGF0ZS51c2VyX2N1c3RvbV9jb25maWcgPSB7XHJcbiAgICAgICAgICAgIC8vICAgICBjb21wZXRpdG9yczogJ2NvbXBldGl0b3JzJ1xyXG4gICAgICAgICAgICAvLyB9O1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zb2xlLmxvZygnbWFrZSByZXF1ZXN0KiogIHBvc3Q6IFN0YXJ0Rm9sbG93aW5nTGlzdCcsIHN0YXRlKTtcclxuXHJcbiAgICAgICAgVXNlclRhc2tNYW5hZ2VyLnBvc3RTdGFydEZvbGxvd2luZ0xpc3Qoc3RhdGUsIGNiRXJyb3IpLnRoZW4oKHJlc3VsdCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAocmVzdWx0LnN0YXR1cy5zdGF0ZSA9PT0gJ29rJykge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coSlNPTi5zdHJpbmdpZnkocmVzdWx0KSk7XHJcbiAgICAgICAgICAgICAgICAkKCcuZm9ybS1zdWJtaXQtZmluaXNoJykuZmluZCgnLmFsZXJ0IHAnKS5yZW1vdmUoKTtcclxuICAgICAgICAgICAgICAgICQoJy5mb3JtLXN1Ym1pdC1maW5pc2gnKS5hZGRDbGFzcygnZC1ibG9jaycpXHJcbiAgICAgICAgICAgICAgICAgICAgLmZpbmQoJy5hbGVydCcpLmFwcGVuZChgPHA+dGFza19pZDogJHtyZXN1bHQuZGF0YS50YXNrX2lkfTwvcD5gKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgIH0pO1xyXG5cclxuICAgIC8vIGFsZXJ0IGNsb3NlXHJcbiAgICAkKCcuZm9ybS1zdWJtaXQtZmluaXNoIC5jbG9zZScpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAvLyAkKHRoaXMpLmNsb3Nlc3QoJ2Zvcm0tc3VibWl0LWZpbmlzaCcpLnJlbW92ZUNsYXNzKCdkLWJsb2NrJyk7XHJcbiAgICAgICAgJCgnI3YtcGlsbHMtYWxsLXRhYicpLnRyaWdnZXIoJ2NsaWNrJyk7XHJcbiAgICAgICAgd2luZG93LlB1YlN1Yi5wdWJsaXNoKENPTlNULmV2ZW50cy50YXNrcy5ORVdfVEFTS19DUkVBVEVEKTtcclxuICAgIH0pO1xyXG5cclxuICAgIC8vIGFsZXJ0IGNsb3NlXHJcbiAgICAkKCcuZm9ybS1zdWJtaXQtZmluaXNoLS1lcnJvciAuY2xvc2UnKS5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coJ2FsZXJ0IGNsb3NlJyk7XHJcbiAgICAgICAgJCgnI3YtcGlsbHMtYWxsLXRhYicpLnRyaWdnZXIoJ2NsaWNrJyk7XHJcbiAgICAgICAgd2luZG93LlB1YlN1Yi5wdWJsaXNoKENPTlNULmV2ZW50cy50YXNrcy5ORVdfVEFTS19DUkVBVEVEKTtcclxuICAgIH0pO1xyXG5cclxuICAgIC8vIHByZXYgYnRuOiBjbGVhci1jb21wZXRpdG9yc1xyXG4gICAgJCgnLmpzX2ZvbGxvdy1jbGVhci1jb21wZXRpdG9ycycpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBjb25zdCAkY29tcGV0aXRvcnNUZXh0QXJlYSA9ICQoJy5qc19mb2xsb3ctY29tcGV0aXRvcnMnKTtcclxuICAgICAgICAkY29tcGV0aXRvcnNUZXh0QXJlYS52YWwoJycpO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtdmFyc1xyXG5sZXQgdXNlcm5hbWVTZWxlY3RlZCA9ICcnO1xyXG5jb25zdCBjbHNDb25zdCA9IHtcclxuICAgIGN1cnJlbnRQYWdlQ2xzOiAnLmZvbGxvdycsXHJcbiAgICB0YXNrc0xpc3Q6ICcubG9nLXRhc2tzJyxcclxuICAgIGxvZ3NUYWJCdG46ICcjdi1waWxscy1sb2dzLXRhYicsXHJcbiAgICBwYWdpbmF0aW9uOiAnLmxvZ3MtcGFnaW5hdGlvbicsXHJcbiAgICBwYWdpbmF0aW9uUGdOdW1iZXI6ICcucGFnZS1udW1iZXInLFxyXG4gICAgcGF0aFR5cGU6IENPTlNULnVybC50bVR5cGVzLmZvbGxvd2luZ1QsXHJcbiAgICBwYXRoU3ViVHlwZTogQ09OU1QudXJsLnRtVHlwZXMuZm9sbG93aW5nU3ViVFswXVxyXG59O1xyXG5cclxuZnVuY3Rpb24gc2V0VXNlck5hbWVDYihfdXNlcm5hbWVTZWxlY3RlZCkge1xyXG4gICAgdXNlcm5hbWVTZWxlY3RlZCA9IF91c2VybmFtZVNlbGVjdGVkO1xyXG59XHJcblxyXG4vKlxyXG5mdW5jdGlvbiBmaXhTdGVwSW5kaWNhdG9yKG4pIHtcclxuICAgIC8vIFRoaXMgZnVuY3Rpb24gcmVtb3ZlcyB0aGUgXCJhY3RpdmVcIiBjbGFzcyBvZiBhbGwgc3RlcHMuLi5cclxuICAgIHZhciBpLCB4ID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcInN0ZXBcIik7XHJcbiAgICBmb3IgKGkgPSAwOyBpIDwgeC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIHhbaV0uY2xhc3NOYW1lID0geFtpXS5jbGFzc05hbWUucmVwbGFjZShcIiBhY3RpdmVcIiwgXCJcIik7XHJcbiAgICB9XHJcbiAgICAvLy4uLiBhbmQgYWRkcyB0aGUgXCJhY3RpdmVcIiBjbGFzcyBvbiB0aGUgY3VycmVudCBzdGVwOlxyXG4gICAgeFtuXS5jbGFzc05hbWUgKz0gXCIgYWN0aXZlXCI7XHJcbn0qL1xyXG5cclxuLy8gVE9ETyA6IHVzZSBmcm9tIHdpemFyZFxyXG5leHBvcnQgZnVuY3Rpb24gbW9kaWZ5QWNjTGlzdCgpIHtcclxuICAgIC8vIGNvbnN0IHJhZGlvQnRuID0gKGlkeCkgPT4gYDxkaXYgY2xhc3M9XCJjb2wgY3VzdG9tLWNvbnRyb2wgY3VzdG9tLXJhZGlvIGpzX3VzZXItcmFkaW9cIj5cclxuICAgIC8vICAgICAgICAgPGlucHV0IHR5cGU9XCJyYWRpb1wiIG5hbWU9XCJ1c2VyQWNjb3VudFJhZGlvXCIgaWQ9XCJjdXN0b21SYWRpby0ke2lkeH1cIiBjbGFzcz1cImN1c3RvbS1jb250cm9sLWlucHV0XCIgdmFsdWU9XCJcIj5cclxuICAgIC8vICAgICAgICAgPGxhYmVsIGNsYXNzPVwiY3VzdG9tLWNvbnRyb2wtbGFiZWxcIiBmb3I9XCJjdXN0b21SYWRpby0ke2lkeH1cIj7Qn9C+0LTQv9C40YHQsNGC0YzRgdGPPC9sYWJlbD5cclxuICAgIC8vICAgICA8L2Rpdj5gO1xyXG4gICAgY29uc3QgcmFkaW9CdG5BcHBlbmQgPSAoaWR4KSA9PiBgPGRpdiBjbGFzcz1cIlwiPlxyXG4gICAgICAgICAgICA8aW5wdXQgdHlwZT1cInJhZGlvXCIgbmFtZT1cInVzZXJBY2NvdW50UmFkaW9cIiBpZD1cImN1c3RvbVJhZGlvLSR7aWR4fVwiIGNsYXNzPVwiY3VzdG9tLWNvbnRyb2wtaW5wdXQgZC1ub25lXCIgdmFsdWU9XCJcIj5cclxuICAgICAgICA8L2Rpdj5gO1xyXG4gICAgY29uc3QgcmFkaW9CdG5XcmFwID0gKGlkeCkgPT4gYDxsYWJlbCBjbGFzcz1cImFjY291bnRzLWxpc3QtLWxhYmVsLXdyYXBwZXIgY29sIG1iLTAgbWVkaWEgcHktM1wiIGZvcj1cImN1c3RvbVJhZGlvLSR7aWR4fVwiPjwvbGFiZWw+YDtcclxuICAgIGNvbnN0ICRhY2NvdW50c0xpc3QgPSAkKCcuYWNjb3VudHMtbGlzdCcpO1xyXG4gICAgY29uc3QgJGxpID0gJGFjY291bnRzTGlzdC5maW5kKCdsaS5tZWRpYScpO1xyXG4gICAgJGxpLmFkZENsYXNzKCdqc191c2VyLXJhZGlvJykucmVtb3ZlQ2xhc3MoJ3B5LTMgbWVkaWEnKTtcclxuXHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8ICRsaS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIC8vICQoJGxpW2ldKS5hcHBlbmQocmFkaW9CdG4oaSkpO1xyXG4gICAgICAgICQoJGxpW2ldKS53cmFwSW5uZXIocmFkaW9CdG5XcmFwKGkpKS5hcHBlbmQocmFkaW9CdG5BcHBlbmQoaSkpO1xyXG4gICAgfVxyXG5cclxuICAgICQoJy5qc191c2VyLXJhZGlvJykub24oJ2NsaWNrJywgJ2lucHV0W3R5cGU9cmFkaW9dJywgZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICBjb25zdCAkcGFyZW50RmllbGRzZXQgPSAkKHRoaXMpLnBhcmVudHMoJ2ZpZWxkc2V0Jyk7XHJcbiAgICAgICAgJCgnbGkuYWN0aXZlJywgJHBhcmVudEZpZWxkc2V0KS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XHJcbiAgICAgICAgJCh0aGlzKS5jbG9zZXN0KCdsaScpLmFkZENsYXNzKCdhY3RpdmUnKTtcclxuICAgICAgICAkKCcuYnRuLW5leHQnLCAkcGFyZW50RmllbGRzZXQpLnByb3AoJ2Rpc2FibGVkJywgZmFsc2UpO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbi8qIHdvcmtpbmcgZGVtbyA6IGh0dHA6Ly9icnV0dXNpbi5vcmcvanNvbi1mb3Jtcy8jMTNcclxuZnVuY3Rpb24gZm9ybUZyb21Kc29uKCkge1xyXG4gICAgY29uc3Qgc2NoZW1hID0ge1xyXG4gICAgICAgIFwidHlwZVwiOiBcIm9iamVjdFwiLFxyXG4gICAgICAgIFwicHJvcGVydGllc1wiOiB7XHJcbiAgICAgICAgICAgIFwicHJvcDFcIjoge1xyXG4gICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwiaW50ZWdlclwiXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIFwicHJvcDJcIjoge1xyXG4gICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwiaW50ZWdlclwiLFxyXG4gICAgICAgICAgICAgICAgXCJyZXF1aXJlZFwiOiB0cnVlXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIFwicHJvcDNcIjoge1xyXG4gICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwiaW50ZWdlclwiLFxyXG4gICAgICAgICAgICAgICAgXCJyZXF1aXJlZFwiOiB0cnVlXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIFwiY29tcG9zaXRlMVwiOiB7XHJcbiAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJvYmplY3RcIixcclxuICAgICAgICAgICAgICAgIFwicHJvcGVydGllc1wiOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgXCJuZXN0ZWQxXCI6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwibnVtYmVyXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwicmVxdWlyZWRcIjogdHJ1ZVxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgXCJuZXN0ZWQyXCI6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwibnVtYmVyXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwicmVxdWlyZWRcIjogdHJ1ZVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBcInJlcXVpcmVkXCI6IFtcclxuICAgICAgICAgICAgICAgICAgICBcIm5lc3RlZDFcIixcclxuICAgICAgICAgICAgICAgICAgICBcIm5lc3RlZDJcIlxyXG4gICAgICAgICAgICAgICAgXVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBcImNvbXBvc2l0ZTJcIjoge1xyXG4gICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwib2JqZWN0XCIsXHJcbiAgICAgICAgICAgICAgICBcInByb3BlcnRpZXNcIjoge1xyXG4gICAgICAgICAgICAgICAgICAgIFwibmVzdGVkMVwiOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcIm51bWJlclwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcInJlcXVpcmVkXCI6IHRydWVcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIFwibmVzdGVkMlwiOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcIm51bWJlclwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcInJlcXVpcmVkXCI6IHRydWVcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgXCJyZXF1aXJlZFwiOiBbXHJcbiAgICAgICAgICAgICAgICAgICAgXCJuZXN0ZWQxXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgXCJuZXN0ZWQyXCJcclxuICAgICAgICAgICAgICAgIF1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgXCJyZXF1aXJlZFwiOiBbXHJcbiAgICAgICAgICAgIFwicHJvcDFcIixcclxuICAgICAgICAgICAgXCJwcm9wMlwiLFxyXG4gICAgICAgICAgICBcImNvbXBvc2l0ZTFcIlxyXG4gICAgICAgIF1cclxuICAgIH07XHJcbiAgICBjb25zdCBCcnV0dXNpbkZvcm1zID0gd2luZG93LmJydXR1c2luWydqc29uLWZvcm1zJ107XHJcbiAgICBjb25zdCBiZiA9IEJydXR1c2luRm9ybXMuY3JlYXRlKHNjaGVtYSk7XHJcbiAgICBjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZm9ybTEnKTtcclxuICAgIGNvbnNvbGUubG9nKHdpbmRvdy5icnV0dXNpbik7XHJcbiAgICBiZi5yZW5kZXIoY29udGFpbmVyLCBkYXRhKTtcclxufSovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaW5pdCgpIHtcclxuICAgIGNvbnN0IGlzSW5Db3JyZWN0UGFnZSA9ICQoJy5mb2xsb3cnKS5sZW5ndGg7XHJcbiAgICBpZiAoaXNJbkNvcnJlY3RQYWdlKSB7XHJcbiAgICAgICAgY29uc3QgaW5pdGlhbFBhdGggPSB7XHJcbiAgICAgICAgICAgIHR5cGU6IENPTlNULnVybC50bVR5cGVzLmZvbGxvd2luZ1QsXHJcbiAgICAgICAgICAgIHN1YnR5cGU6IENPTlNULnVybC50bVR5cGVzLmZvbGxvd2luZ1N1YlRbMF0sXHJcbiAgICAgICAgICAgIHN1YnR5cGVzOiBDT05TVC51cmwudG1UeXBlcy5mb2xsb3dpbmdTdWJUXHJcbiAgICAgICAgfTtcclxuICAgICAgICBmb2xsb3dTdGF0dXNCeVN1YnR5cGUuaW5pdCh7aXNJbkNvcnJlY3RQYWdlLCBpbml0aWFsUGF0aH0pO1xyXG4gICAgICAgIGluaXRTdGVwcygnLmZvbGxvdy1mb3JtJyk7XHJcbiAgICAgICAgY29uc29sZS5sb2coY2xzQ29uc3QuY3VycmVudFBhZ2VDbHMpO1xyXG4gICAgICAgIGNvbnN0IHRleHRSdXNBcnJheSA9IFsn0J/QviDRgdC/0LjRgdC60YMnLCAn0J/QviDQsNC60YLQuNCy0L3QvtC5INCw0YPQtNC40YLQvtGA0LjQuCDQutC+0L3QutGD0YDQtdC90YLQvtCyJ107XHJcbiAgICAgICAgaW5pdExvZ3NUYWIoe2xvZ3NTdGF0ZTogQ09OU1QubG9nc1N0YXRlLCBsb2dzU3VidHlwZXM6IGluaXRpYWxQYXRoLnN1YnR5cGVzLCBjbHNDb25zdCwgc2V0VXNlck5hbWVDYiwgdGV4dFJ1c0FycmF5fSk7XHJcbiAgICAgICAgLy8gaW5pdFRhZ3NJbnB1dCgpO1xyXG5cclxuICAgICAgICAvLyBUT0RPIDogdXNlIHdpemFyZC5pbml0KClcclxuICAgICAgICB3aW5kb3cuUHViU3ViLnN1YnNjcmliZShDT05TVC5ldmVudHMuaW5zdGFncmFtQWNjb3Vucy5JTlNUQUdSQU1fQUNDT1VOU19SRU5ERVJFRCwgKGV2ZW50TmFtZSwgZGF0YSkgPT4ge1xyXG4gICAgICAgICAgICBtb2RpZnlBY2NMaXN0KCk7XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdtb2RpZnlBY2NMaXN0Jyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2Jsb2Nrcy9mb2xsb3cvZm9sbG93LmpzIiwiLy8gaW1wb3J0ICQgZnJvbSAnanF1ZXJ5JztcclxuXHJcbi8vIGNvbnN0IGhhbWJ1cmdlckJ1dHRvbkNscyA9ICcjYXNpZGVfbW9iaWxlX19idXR0b24nO1xyXG4vLyBjb25zdCBoYW1idXJnZXJNZW51Q2xzID0gJy5hc2lkZS1idXJnZXItbWVudSc7XHJcbi8vIGNvbnN0IGhhbWJ1cmdlck1lbnVPcGVuZWRDbGFzcyA9ICdidXJnZXItbWVudS0tY2xvc2VkJztcclxuLy8gY29uc3QgaGFtYnVyZ2VyQnV0dG9uQ2xvc2VDbGFzcyA9ICdidXJnZXItbWVudV9fYnV0dG9uLS1jbG9zZSc7XHJcbmNvbnN0IHNlbGVjdG9yc0VsID0ge1xyXG4gICAgbGVmdE1lbnU6IHtcclxuICAgICAgICBoYW1idXJnZXJCdXR0b25DbHM6ICcjYXNpZGVfbW9iaWxlX19idXR0b24nLFxyXG4gICAgICAgIGhhbWJ1cmdlck1lbnVDbHM6ICcuYXNpZGUtYnVyZ2VyLW1lbnUnLFxyXG4gICAgICAgIGhhbWJ1cmdlck1lbnVPcGVuZWRDbGFzczogJ2J1cmdlci1tZW51LS1jbG9zZWQnLFxyXG4gICAgICAgIGhhbWJ1cmdlckJ1dHRvbkNsb3NlQ2xhc3M6ICdidXJnZXItbWVudV9fYnV0dG9uLS1jbG9zZSdcclxuICAgIH0sXHJcbiAgICByaWdodE1lbnU6IHtcclxuICAgICAgICBoYW1idXJnZXJCdXR0b25DbHM6ICcjaGVhZGVyX21vYmlsZV90b2dnbGVyJyxcclxuICAgICAgICBoYW1idXJnZXJNZW51Q2xzOiAnLnItc2lkZS1idXJnZXItbWVudScsXHJcbiAgICAgICAgaGFtYnVyZ2VyTWVudU9wZW5lZENsYXNzOiAnci1zaWRlLWJ1cmdlci1tZW51LS1vcGVuJyxcclxuICAgICAgICBoYW1idXJnZXJCdXR0b25DbG9zZUNsYXNzOiAnYnVyZ2VyLW1lbnUtcmlnaHRfX2J1dHRvbi0tY2xvc2UnXHJcbiAgICB9LFxyXG4gICAgc3ViSGVhZGVyOiB7XHJcbiAgICAgICAgaGFtYnVyZ2VyQnV0dG9uQ2xzOiAnI2hlYWRlcl9tb2JpbGVfdG9wYmFyX3RvZ2dsZXInLFxyXG4gICAgICAgIGhhbWJ1cmdlck1lbnVDbHM6ICcuc3ViLWhlYWRlcicsXHJcbiAgICAgICAgaGFtYnVyZ2VyTWVudU9wZW5lZENsYXNzOiAnc3ViLWhlYWRlci0tb3BlbicsXHJcbiAgICAgICAgaGFtYnVyZ2VyQnV0dG9uQ2xvc2VDbGFzczogJ3N1Yi1oZWFkZXItYnV0dG9uLS1jbG9zZSdcclxuICAgIH1cclxufTtcclxuXHJcbi8qKlxyXG4gKiBUb2dnbGUgaGFtYnVyZ2VyIG1lbnUgcG9wb3ZlclxyXG4gKi9cclxuZnVuY3Rpb24gdG9nZ2xlSGFtYnVyZ2VyTWVudShtZW51TmFtZSkge1xyXG4gICAgY29uc3Qge2hhbWJ1cmdlck1lbnVDbHMsIGhhbWJ1cmdlckJ1dHRvbkNscywgaGFtYnVyZ2VyQnV0dG9uQ2xvc2VDbGFzcywgaGFtYnVyZ2VyTWVudU9wZW5lZENsYXNzfSA9IHNlbGVjdG9yc0VsW21lbnVOYW1lXTtcclxuICAgICQoaGFtYnVyZ2VyQnV0dG9uQ2xzKS50b2dnbGVDbGFzcyhoYW1idXJnZXJCdXR0b25DbG9zZUNsYXNzKTtcclxuICAgICQoaGFtYnVyZ2VyTWVudUNscykudG9nZ2xlQ2xhc3MoaGFtYnVyZ2VyTWVudU9wZW5lZENsYXNzKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEluaXQgaGFtYnVyZ2VyIG1lbnVcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBpbml0KCkge1xyXG4gICAgY29uc3QgbGVmdE1lbnUgPSAnbGVmdE1lbnUnO1xyXG4gICAgY29uc3QgcmlnaHRNZW51ID0gJ3JpZ2h0TWVudSc7XHJcbiAgICBjb25zdCBzdWJIZWFkZXIgPSAnc3ViSGVhZGVyJztcclxuXHJcbiAgICAkKHNlbGVjdG9yc0VsW2xlZnRNZW51XS5oYW1idXJnZXJCdXR0b25DbHMpLm9uKCdjbGljaycsIHRvZ2dsZUhhbWJ1cmdlck1lbnUuYmluZCh0aGlzLCBsZWZ0TWVudSkpO1xyXG4gICAgJChzZWxlY3RvcnNFbFtyaWdodE1lbnVdLmhhbWJ1cmdlckJ1dHRvbkNscykub24oJ2NsaWNrJywgdG9nZ2xlSGFtYnVyZ2VyTWVudS5iaW5kKHRoaXMsIHJpZ2h0TWVudSkpO1xyXG4gICAgJChzZWxlY3RvcnNFbFtzdWJIZWFkZXJdLmhhbWJ1cmdlckJ1dHRvbkNscykub24oJ2NsaWNrJywgdG9nZ2xlSGFtYnVyZ2VyTWVudS5iaW5kKHRoaXMsIHN1YkhlYWRlcikpO1xyXG59XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9ibG9ja3MvaGVhZGVyL2J1cmdlci1tZW51L2J1cmdlci1tZW51LmpzIiwiLy8gaW1wb3J0ICQgZnJvbSAnanF1ZXJ5JztcbmltcG9ydCBVc2VyIGZyb20gJy4uLy4uL2NvbW1vbi9qcy1zZXJ2aWNlcy91c2VyJztcbi8vIGltcG9ydCBQdWJTdWIgZnJvbSAncHVic3ViLWpzJzsgLy8gaHR0cHM6Ly93d3cubnBtanMuY29tL3BhY2thZ2UvcHVic3ViLWpzXG5pbXBvcnQge0NPTlNUfSBmcm9tICcuLi8uLi9jb21tb24vanMtc2VydmljZXMvY29uc3RzJztcblxuY29uc3Qgc2VsZWN0b3JMb2dpblN0YXRlID0gJy5qc19tZXNzYWdlX2xvZ2dlZC0tdGV4dCc7XG5jb25zdCBzZWxlY3RvckVtYWlsQ29uZmlybVN0YXRlID0gJy5qc19lbWFpbC1jb25maXJtLS10ZXh0JztcbmNvbnN0IGNsb3NlQ2xhc3MgPSAnZC1ub25lJztcbmNvbnN0IG9wZW5lZENsYXNzID0gJ2QtYmxvY2snO1xuXG5mdW5jdGlvbiBlbWFpbE5vdENvbmZpcm1lZCgpIHtcbiAgICBjb25zdCAkZW1haWxuTXNnID0gJChzZWxlY3RvckVtYWlsQ29uZmlybVN0YXRlKTtcbiAgICAkZW1haWxuTXNnLnRleHQoJyoqZW1haWxOb3RDb25maXJtZWQqKiBFbWFpbCDQvdC1INC/0L7QtNGC0LLQtdGA0LbQtNC10L0uJykuY3NzKCdjb2xvcicsICdsaWdodGNvcmFsJyk7XG59XG5cbmZ1bmN0aW9uIG9uTG9naW5TdWJzY3JpYmUobXNnLCBkYXRhKSB7XG4gICAgLy8gY29uc29sZS5sb2coJ29uTG9naW5TdWJzY3JpYmUnLCBtc2csIGRhdGEpO1xuICAgICQoQ09OU1QudWlTZWxlY3RvcnMuaGVhZGVyTmF2TG9naW5CdG4pLmFkZENsYXNzKGNsb3NlQ2xhc3MpLnJlbW92ZUNsYXNzKG9wZW5lZENsYXNzKTtcbiAgICAkKENPTlNULnVpU2VsZWN0b3JzLmhlYWRlclJlZ0J0bikuYWRkQ2xhc3MoY2xvc2VDbGFzcykucmVtb3ZlQ2xhc3Mob3BlbmVkQ2xhc3MpO1xuICAgICQoQ09OU1QudWlTZWxlY3RvcnMuaGVhZGVyTG9naW5Cb3gpLmFkZENsYXNzKGNsb3NlQ2xhc3MpLnJlbW92ZUNsYXNzKG9wZW5lZENsYXNzKTtcblxuICAgICQoJy5uYXYtbGluay5qc19sb2dPdXQnKS5hZGRDbGFzcyhvcGVuZWRDbGFzcykucmVtb3ZlQ2xhc3MoY2xvc2VDbGFzcyk7IC8vIHNob3dcbiAgICBjb25zdCAkbG9naW5Nc2cgPSAkKHNlbGVjdG9yTG9naW5TdGF0ZSk7XG4gICAgJGxvZ2luTXNnLnRleHQoJyoqb25Mb2dpblN1YnNjcmliZSoqINCy0Ysg0LfQsNC70L7Qs9C40L3QuNC70LjRgdGMINCyIEx1eGdyYW0g0YPRgdC/0LXRiNC90L4nKS5jc3MoJ2NvbG9yJywgJ2xpZ2h0Ymx1ZScpO1xuICAgIGNvbnN0IGlzRW1haWxDb25maXJtZWQgPSBVc2VyLmlzRW1haWxDb25maXJtZWQoKTtcbiAgICBpZiAoIWlzRW1haWxDb25maXJtZWQpIHtcbiAgICAgICAgZW1haWxOb3RDb25maXJtZWQoKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIHNob3dMb2dvdXQoKSB7XG4gICAgLy8gY2hlY2sgaXMgbG9nZ2VkXG4gICAgY29uc3QgaXNMb2dnZWQgPSBVc2VyLmlzTG9nZ2VkSW4oKTtcbiAgICBjb25zdCBpc0VtYWlsQ29uZmlybWVkID0gVXNlci5pc0VtYWlsQ29uZmlybWVkKCk7XG4gICAgaWYgKCFpc0VtYWlsQ29uZmlybWVkKSB7XG4gICAgICAgIGVtYWlsTm90Q29uZmlybWVkKCk7XG4gICAgfVxuICAgIC8vIGNvbnNvbGUubG9nKCdpc0xvZ2dlZCcsIGlzTG9nZ2VkKTtcbiAgICBpZiAoaXNMb2dnZWQpIHtcbiAgICAgICAgJCgnLm5hdi1saW5rLmpzX2xvZ091dCcpLnBhcmVudCgpLnNob3coKTtcbiAgICAgICAgJCgnLmpzX2VtYWlsLWNvbmZpcm0tLXRleHQnKS50ZXh0KCfQstGLINC30LDQu9C+0LPQuNC90LjQu9C40YHRjCDRg9GB0L/QtdGI0L3QvicpO1xuICAgICAgICBjb25zdCBvbGRVUkwgPSBkb2N1bWVudC5yZWZlcnJlcjtcbiAgICAgICAgLy8gY29uc29sZS5sb2cob2xkVVJMKTtcbiAgICAgICAgaWYgKG9sZFVSTC5pbmNsdWRlcygnY29uZmlybS1yZWdpc3RyYXRpb24nKSkge1xuICAgICAgICAgICAgJCgnLmpzX21lc3NhZ2VfbG9nZ2VkLS10ZXh0JykudGV4dCgn0LLRiyDQv9C+0LTRgtCy0LXRgNC00LjQu9C4INGA0LXQs9C40YHRgtGA0LDRhtC40Y4nKTtcbiAgICAgICAgfVxuICAgICAgICBvbkxvZ2luU3Vic2NyaWJlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgJChzZWxlY3RvckxvZ2luU3RhdGUpLnRleHQoJ9Cf0YDQuNCy0LXRgiDQsNC90L7QvdC40LzQvdGL0Lkg0L/QvtC70YzQt9C+0LLQsNGC0LXQu9GMJyk7XG4gICAgICAgICQoc2VsZWN0b3JFbWFpbENvbmZpcm1TdGF0ZSkuZW1wdHkoKTtcbiAgICB9XG59XG5cbi8qKlxuICogSW5pdCBoZWFkZXJcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGluaXRIZWFkZXIoKSB7XG4gICAvLyBjaGVjayBvdGhlciBoYW5kbGVyIGluIGxvZ2luLWZvcm0uanNcbiAgICAvLyBjb25zdCAkbG9naW5Cb3ggPSAkKENPTlNULnVpU2VsZWN0b3JzLmhlYWRlckxvZ2luQm94KTtcbiAgICAvLyBjb25zdCAkcmVnaXN0ZXJCb3ggPSAkKENPTlNULnVpU2VsZWN0b3JzLmhlYWRlclJlZ0JveCk7XG5cbiAgICAvLyBQdWJTdWIuc3Vic2NyaWJlKENPTlNULmV2ZW50cy5VU0VSX0xPR0dFRCwgb25Mb2dpblN1YnNjcmliZSk7XG5cbiAgICBzaG93TG9nb3V0KCk7XG5cbiAgICAvLyAkKENPTlNULnVpU2VsZWN0b3JzLmhlYWRlclJlZ0J0bikub24oJ2NsaWNrJywgKCkgPT4ge1xuICAgIC8vICAgICAkbG9naW5Cb3guaGlkZSgpO1xuICAgIC8vICAgICAkcmVnaXN0ZXJCb3guY3NzKHsndG9wJzogMCwgJ3JpZ2h0JzogMH0pXG4gICAgLy8gICAgICAgICAuYWRkQ2xhc3MoJ2JnLWxpZ2h0IGJvcmRlciBtdC01IG14LWF1dG8gcG9zaXRpb24tYWJzb2x1dGUgcHgtMyBkLWJsb2NrJylcbiAgICAvLyAgICAgICAgIC5yZW1vdmVDbGFzcygnZC1ub25lJyk7XG4gICAgLy8gfSk7XG5cbiAgICAvLyAkKENPTlNULnVpU2VsZWN0b3JzLmhlYWRlck5hdkxvZ2luQnRuKS5vbignY2xpY2snLCAoKSA9PiB7XG4gICAgLy8gICAgICRsb2dpbkJveC5hZGRDbGFzcygnZC1ibG9jaycpLnJlbW92ZUNsYXNzKCdkLW5vbmUnKTtcbiAgICAvLyAgICAgJHJlZ2lzdGVyQm94LmFkZENsYXNzKCdkLW5vbmUnKS5yZW1vdmVDbGFzcygnZC1ibG9jaycpO1xuICAgIC8vIH0pO1xufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2Jsb2Nrcy9oZWFkZXIvaGVhZGVyLmpzIiwiaW1wb3J0IFVzZXIgZnJvbSAnLi4vLi4vY29tbW9uL2pzLXNlcnZpY2VzL3VzZXInO1xyXG5pbXBvcnQge0NPTlNUfSBmcm9tICcuLi8uLi9jb21tb24vanMtc2VydmljZXMvY29uc3RzJztcclxuaW1wb3J0IHtyZW5kZXJJdGVtfSBmcm9tICcuL2luc3RhZ3JhbS1hY2NvdW50cy1saXN0JztcclxuaW1wb3J0IFNwaW5uZXIgZnJvbSAnLi4vLi4vY29tbW9uL2pzLXNlcnZpY2VzL3NwaW5uZXInO1xyXG5pbXBvcnQgKiBhcyBpbWFnZVVwbG9hZCBmcm9tICcuLi9fc2hhcmVkL2ltYWdlLXVwbG9hZC9pbWFnZS11cGxvYWQnO1xyXG5cclxuZnVuY3Rpb24gdXBkYXRlQnV0dG9uc0RhdGFBdHRyIChzZXR0aW5nQnV0dG9uc0hhbmRsZXJDYikge1xyXG4gICAgY29uc3QgY2ZnID0ge1xyXG4gICAgICAgIGRlbGV0ZUJ0bkNsczogJy5qc19hY2MtZGVsZXRlJyxcclxuICAgICAgICB1cGRhdGVCdG5DbHM6ICcuanNfYWNjLXJlZnJlc2gnLFxyXG4gICAgICAgIGVkaXRCdG5DbHM6ICcuanNfYWNjLWVkaXQnXHJcbiAgICB9O1xyXG4gICAgLy8gJChjZmcuZWRpdEJ0bkNscykub2ZmKCk7XHJcbiAgICAkKGNmZy51cGRhdGVCdG5DbHMpLm9mZigpOyAvLyBSZWxvYWQgYnV0dG9uIGNsZWFyIGxpc3RlbmVyXHJcbiAgICAvLyAkKGNmZy5kZWxldGVCdG5DbHMpLm9mZigpO1xyXG4gICAgc2V0dGluZ0J1dHRvbnNIYW5kbGVyQ2IoY2ZnKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHNldHRpbmdCdXR0b25zSGFuZGxlcihjbGFzc0NmZykge1xyXG4gICAgY29uc3Qge2RlbGV0ZUJ0bkNscywgdXBkYXRlQnRuQ2xzLCBlZGl0QnRuQ2xzfSA9IGNsYXNzQ2ZnO1xyXG4gICAgY29uc3QgbW9kYWxDb25maXJtID0gJCgnI2RlbGV0ZS11c2VyLXByb210Jyk7XHJcbiAgICBsZXQgdXNlcm5hbWUgPSAnJztcclxuICAgIGxldCB1c2VyT3JpZ2luYWwgPSB7fTtcclxuICAgIGNvbnN0IHJlcGxhY2VXaXRoQ2ZnID0ge1xyXG4gICAgICAgIHJlcGxhY2VXaXRoOiB0cnVlLFxyXG4gICAgICAgIGhvbGRlckNsczogJy5tb2RhbC1pbWFnZS1ob2xkZXInLFxyXG4gICAgICAgIHVwbG9hZEJ0bkNsczogJy5qc19lZGl0LXByb2ZpbGUtaW1nLXVwZCcsXHJcbiAgICAgICAgaW1hZ2VDbHM6ICdpbWcudXNlci1hdmF0YXInXHJcbiAgICB9O1xyXG4gICAgaW1hZ2VVcGxvYWQuaW5pdChyZXBsYWNlV2l0aENmZyk7XHJcbiAgICAvLyBpbWFnZS11cGxvYWQgc3Vic2NyaWJlclxyXG4gICAgd2luZG93LlB1YlN1Yi5zdWJzY3JpYmUoQ09OU1QuZXZlbnRzLmF1dG9hcm5zd2VyLklNQUdFX1VQTE9BREVEX0FWQVRBUiwgKGUsIHJlcykgPT4ge1xyXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IEpTT04ucGFyc2UocmVzLnJlc3BvbnNlKTtcclxuICAgICAgICBjb25zdCB7cHJvZmlsZV9waWNfdXJsfSA9IHJlc3VsdC5kYXRhLnByb2ZpbGU7XHJcbiAgICAgICAgdXNlck9yaWdpbmFsLiRsaS5maW5kKCdpbWcnKS5hdHRyKCdzcmMnLCBwcm9maWxlX3BpY191cmwpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCd1c2VyT3JpZ2luYWwnLCB1c2VyT3JpZ2luYWwpO1xyXG4gICAgfSk7XHJcbiAgICAvLyBERUxFVEUgLi4uL2luc3RhZ3JhbS1hY2NvdW50cy97dXNlcm5hbWV9XHJcbiAgICAkKGRlbGV0ZUJ0bkNscykub24oJ2NsaWNrJywgKGUpID0+IHtcclxuICAgICAgICB1c2VybmFtZSA9ICQoZS50YXJnZXQpLmNsb3Nlc3QoZGVsZXRlQnRuQ2xzKS5kYXRhKCd1c2VybmFtZScpO1xyXG4gICAgICAgIG1vZGFsQ29uZmlybS5tb2RhbCgnc2hvdycpO1xyXG4gICAgfSk7XHJcbiAgICAkKCcuanNfYWNjLWRlbGV0ZS1jb25maXJtJykub24oJ2NsaWNrJywgKGUpID0+IHtcclxuICAgICAgICBVc2VyLmRlbEluc3RhZ3JhbUFjY291bnQodXNlcm5hbWUpLnRoZW4oKHJlc3VsdCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhyZXN1bHQpO1xyXG4gICAgICAgICAgICBpZiAocmVzdWx0LnN0YXR1cy5zdGF0ZSA9PT0gJ29rJykge1xyXG4gICAgICAgICAgICAgICAgbW9kYWxDb25maXJtLmhpZGUoKTtcclxuICAgICAgICAgICAgICAgIHdpbmRvdy5QdWJTdWIucHVibGlzaChDT05TVC5ldmVudHMuaW5zdGFncmFtQWNjb3Vucy5JTlNUQUdSQU1fQUNDT1VOU19ORUVEX1JFRlJFU0gpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBHRVQgaW5zdGFncmFtLWFjY291bnRzL21ldGEve3VzZXJuYW1lfVxyXG4gICAgJCh1cGRhdGVCdG5DbHMpLm9uKCdjbGljaycsIChlKSA9PiB7XHJcbiAgICAgICAgY29uc3QgJGxpID0gJChlLnRhcmdldCkuY2xvc2VzdCgnbGknKTtcclxuICAgICAgICBjb25zdCB1c2VybmFtZSA9ICQoZS50YXJnZXQpLmNsb3Nlc3QodXBkYXRlQnRuQ2xzKS5kYXRhKCd1c2VybmFtZScpO1xyXG4gICAgICAgIGNvbnN0IGRlZmF1bHRBdmF0YXJTcmMgPSBDT05TVC51c2VyLmRlZmF1bEF2YXRhcjtcclxuICAgICAgICBTcGlubmVyLmFkZCgkbGksICcnKTtcclxuICAgICAgICBVc2VyLnVwZGF0ZUluc3RhZ3JhbUFjY291bnQodXNlcm5hbWUpLnRoZW4oKHJlc3VsdCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhyZXN1bHQpO1xyXG4gICAgICAgICAgICBjb25zdCB7ZGF0YToge2FjY291bnR9fSA9IHJlc3VsdDtcclxuICAgICAgICAgICAgJGxpLnJlcGxhY2VXaXRoKHJlbmRlckl0ZW0oYWNjb3VudCwgJGxpLCBkZWZhdWx0QXZhdGFyU3JjKSk7XHJcblxyXG4gICAgICAgICAgICAvKlxyXG4gICAgICAgICAgICBjb25zdCBjZmcgPSB7XHJcbiAgICAgICAgICAgICAgICBkZWxldGVCdG5DbHM6ICcuanNfYWNjLWRlbGV0ZScsXHJcbiAgICAgICAgICAgICAgICB1cGRhdGVCdG5DbHM6ICcuanNfYWNjLXJlZnJlc2gnLFxyXG4gICAgICAgICAgICAgICAgZWRpdEJ0bkNsczogJy5qc19hY2MtZWRpdCdcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgLy8gJChjZmcuZWRpdEJ0bkNscykub2ZmKCk7XHJcbiAgICAgICAgICAgICQoY2ZnLnVwZGF0ZUJ0bkNscykub2ZmKCk7IC8vIFJlbG9hZCBidXR0b24gY2xlYXIgbGlzdGVuZXJcclxuICAgICAgICAgICAgLy8gJChjZmcuZGVsZXRlQnRuQ2xzKS5vZmYoKTtcclxuICAgICAgICAgICAgc2V0dGluZ0J1dHRvbnNIYW5kbGVyKGNmZyk7XHJcbiAgICAgICAgICAgICovXHJcbiAgICAgICAgICAgIHVwZGF0ZUJ1dHRvbnNEYXRhQXR0cihzZXR0aW5nQnV0dG9uc0hhbmRsZXIpO1xyXG4gICAgICAgICAgICBTcGlubmVyLnJlbW92ZSgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gUFVUIGluc3RhZ3JhbS1hY2NvdW50cy97dXNlcm5hbWV9XHJcbiAgICBjb25zdCBtb2RhbEVkaXQgPSAkKCcjZWRpdC11c2VyLXByb210Jyk7XHJcbiAgICAkKGVkaXRCdG5DbHMpLm9uKCdjbGljaycsIChlKSA9PiB7XHJcbiAgICAgICAgY29uc3QgJGxpID0gJChlLnRhcmdldCkuY2xvc2VzdCgnbGknKTtcclxuICAgICAgICBjb25zdCAkZWRpdEJ0biA9ICRsaS5maW5kKGVkaXRCdG5DbHMpO1xyXG4gICAgICAgIGNvbnN0IHVzZXJuYW1lID0gJGVkaXRCdG4uZGF0YSgndXNlcm5hbWUnKTtcclxuICAgICAgICBjb25zdCBsb2dpbiA9ICRlZGl0QnRuLmRhdGEoJ25hbWUnKTtcclxuICAgICAgICBjb25zdCBzaXRlID0gJGVkaXRCdG4uZGF0YSgndXJsJyk7XHJcbiAgICAgICAgY29uc3QgYWJvdXQgPSAkZWRpdEJ0bi5kYXRhKCdiaW9ncmFwaHknKTtcclxuICAgICAgICBjb25zdCBpbWdTcmMgPSAkZWRpdEJ0bi5kYXRhKCdpbWcnKTtcclxuICAgICAgICBjb25zdCBpc0J1c2luZXNzID0gJGVkaXRCdG4uZGF0YSgnaXNfYnVzaW5lc3MnKTtcclxuICAgICAgICBjb25zdCBpc1ByaXZhdGUgPSAkZWRpdEJ0bi5kYXRhKCdpc19wcml2YXRlJyk7XHJcbiAgICAgICAgLy8gJ2lzX2J1c2luZXNzJz10cnVlXHJcblxyXG4gICAgICAgIGNvbnN0ICRmb3JtID0gbW9kYWxFZGl0LmZpbmQoJ2Zvcm0nKS5nZXQoMCk7XHJcbiAgICAgICAgY29uc3QgZm9ybUZpZWxkcyA9IHtcclxuICAgICAgICAgICAgbG9naW46ICRmb3JtWydsb2dpbiddLFxyXG4gICAgICAgICAgICB1c2VybmFtZTogJGZvcm1bJ3VzZXJuYW1lJ10sXHJcbiAgICAgICAgICAgIHNpdGU6ICRmb3JtWydzaXRlJ10sXHJcbiAgICAgICAgICAgIGFib3V0OiAkZm9ybVsnYmlvZ3JhcGh5J10sXHJcbiAgICAgICAgICAgIHVzZXJBdmF0YXJJbWc6ICRmb3JtWyd1c2VyQXZhdGFyJ11cclxuICAgICAgICB9O1xyXG4gICAgICAgIHVzZXJPcmlnaW5hbCA9IHtcclxuICAgICAgICAgICAgbG9naW4sXHJcbiAgICAgICAgICAgIHVzZXJuYW1lLFxyXG4gICAgICAgICAgICBzaXRlLFxyXG4gICAgICAgICAgICBhYm91dCxcclxuICAgICAgICAgICAgJGxpLFxyXG4gICAgICAgICAgICBmb2xsb3dlckM6ICRlZGl0QnRuLmRhdGEoJ2ZvbGxvd2VyX2NvdW50JyksXHJcbiAgICAgICAgICAgIGZvbGxvd2luZ0M6ICRlZGl0QnRuLmRhdGEoJ2ZvbGxvd2luZ19jb3VudCcpLFxyXG4gICAgICAgICAgICBtZWRpYUM6ICRlZGl0QnRuLmRhdGEoJ21lZGlhX2NvdW50JylcclxuICAgICAgICB9O1xyXG4gICAgICAgIHJlcGxhY2VXaXRoQ2ZnLnVzZXJuYW1lID0gdXNlcm5hbWU7XHJcblxyXG4gICAgICAgIGZvcm1GaWVsZHMubG9naW4udmFsdWUgPSBsb2dpbjtcclxuICAgICAgICBmb3JtRmllbGRzLnVzZXJuYW1lLnZhbHVlID0gdXNlcm5hbWU7XHJcbiAgICAgICAgZm9ybUZpZWxkcy5zaXRlLnZhbHVlID0gc2l0ZTtcclxuICAgICAgICBmb3JtRmllbGRzLmFib3V0LnZhbHVlID0gYWJvdXQ7XHJcbiAgICAgICAgZm9ybUZpZWxkcy51c2VyQXZhdGFySW1nLnNyYyA9IGltZ1NyYztcclxuICAgICAgICBjb25zdCAkcHJvZmlsZUJveCA9IG1vZGFsRWRpdC5maW5kKCcuYnVzc2luZXMtcHJvZmlsZScpO1xyXG4gICAgICAgIGlmIChpc0J1c2luZXNzKSB7XHJcbiAgICAgICAgICAgICRwcm9maWxlQm94LmFkZENsYXNzKCdkLW5vbmUnKS5yZW1vdmVDbGFzcygnZC1ibG9jaycpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICRwcm9maWxlQm94LmFkZENsYXNzKCdkLWJsb2NrJyk7XHJcbiAgICAgICAgICAgIC8vIGlzUHJpdmF0LCB0b2RvOnJlZmFjdG9yIG1lXHJcbiAgICAgICAgICAgIGlmIChpc1ByaXZhdGUpIHtcclxuICAgICAgICAgICAgICAgICRwcm9maWxlQm94LmZpbmQoJy5qc19idG4tcHJvZi10eXBlLXN3aXRjaGVyICNjbG9zZWQtcHJvZmlsZS1vbicpLmNsb3Nlc3QoJ2xhYmVsJykuYWRkQ2xhc3MoJ2FjdGl2ZScpXHJcbiAgICAgICAgICAgICAgICAgICAgLmZpbmQoJyNjbG9zZWQtcHJvZmlsZS1vbicpLmF0dHIoJ2NoZWNrZWQnLCAnY2hlY2tlZCcpO1xyXG4gICAgICAgICAgICAgICAgLy8gb2ZmIC0gZGlzYWJsZVxyXG4gICAgICAgICAgICAgICAgJHByb2ZpbGVCb3guZmluZCgnLmpzX2J0bi1wcm9mLXR5cGUtc3dpdGNoZXIgI2Nsb3NlZC1wcm9maWxlLW9mZicpLmNsb3Nlc3QoJ2xhYmVsJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpXHJcbiAgICAgICAgICAgICAgICAgICAgLmZpbmQoJyNjbG9zZWQtcHJvZmlsZS1vZmYnKS5hdHRyKCdjaGVja2VkJywgZmFsc2UpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgJHByb2ZpbGVCb3guZmluZCgnLmpzX2J0bi1wcm9mLXR5cGUtc3dpdGNoZXIgI2Nsb3NlZC1wcm9maWxlLW9mZicpLmNsb3Nlc3QoJ2xhYmVsJykuYWRkQ2xhc3MoJ2FjdGl2ZScpXHJcbiAgICAgICAgICAgICAgICAgICAgLmZpbmQoJyNjbG9zZWQtcHJvZmlsZS1vZmYnKS5hdHRyKCdjaGVja2VkJywgJ2NoZWNrZWQnKTtcclxuICAgICAgICAgICAgICAgIC8vIG9uIC0gZGlzYWJsZVxyXG4gICAgICAgICAgICAgICAgJHByb2ZpbGVCb3guZmluZCgnLmpzX2J0bi1wcm9mLXR5cGUtc3dpdGNoZXIgI2Nsb3NlZC1wcm9maWxlLW9uJykuY2xvc2VzdCgnbGFiZWwnKS5yZW1vdmVDbGFzcygnYWN0aXZlJylcclxuICAgICAgICAgICAgICAgICAgICAuZmluZCgnI2Nsb3NlZC1wcm9maWxlLW9uJykuYXR0cignY2hlY2tlZCcsIGZhbHNlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICB3aW5kb3cuUHViU3ViLnN1YnNjcmliZSgndXBkYXRlX2RhdGFfcHJpdmF0ZV9vbl9hY2NfbGlzdCcsIChlLCB2YWx1ZSkgPT4ge1xyXG4gICAgICAgICAgICAkZWRpdEJ0bi5kYXRhKCdpc19wcml2YXRlJywgdmFsdWUgIT09ICdjbG9zZWQtcHJvZmlsZS1vZmYnKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBtb2RhbEVkaXQubW9kYWwoJ3Nob3cnKTtcclxuICAgIH0pO1xyXG4gICAgJCgnLmpzX2VkaXQtcHJvZmlsZS1tb2RpZnknKS5vbignY2xpY2snLCAoZSkgPT4ge1xyXG4gICAgICAgIGNvbnN0ICRmb3JtID0gbW9kYWxFZGl0LmZpbmQoJ2Zvcm0nKS5nZXQoMCk7XHJcbiAgICAgICAgY29uc3QgZm9ybUZpZWxkcyA9IHtcclxuICAgICAgICAgICAgbG9naW46ICRmb3JtWydsb2dpbiddLFxyXG4gICAgICAgICAgICB1c2VybmFtZTogJGZvcm1bJ3VzZXJuYW1lJ10sXHJcbiAgICAgICAgICAgIHNpdGU6ICRmb3JtWydzaXRlJ10sXHJcbiAgICAgICAgICAgIGFib3V0OiAkZm9ybVsnYmlvZ3JhcGh5J10sXHJcbiAgICAgICAgICAgIHVzZXJBdmF0YXJJbWc6ICRmb3JtWyd1c2VyQXZhdGFyJ11cclxuICAgICAgICB9O1xyXG4gICAgICAgIGNvbnN0IGJvZHkgPSB7XHJcbiAgICAgICAgICAgIC8vICd1c2VybmFtZSc6ICh1c2VyT3JpZ2luYWwudXNlcm5hbWUgIT09IGZvcm1GaWVsZHMudXNlcm5hbWUudmFsdWUpID8gZm9ybUZpZWxkcy51c2VybmFtZS52YWx1ZSA6ICcnLFxyXG4gICAgICAgICAgICAvLyAnbmFtZSc6IGZvcm1GaWVsZHMubG9naW4udmFsdWUsXHJcbiAgICAgICAgICAgIC8vICdiaW9ncmFwaHknOiBmb3JtRmllbGRzLmFib3V0LnZhbHVlLFxyXG4gICAgICAgICAgICAvLyAndXJsJzogZm9ybUZpZWxkcy5zaXRlLnZhbHVlLFxyXG4gICAgICAgICAgICAvLyAnb3Blbic6IGlzT3BlblxyXG4gICAgICAgIH07XHJcbiAgICAgICAgbGV0IHVwZGF0ZURhdGFBdHRyVXNlcm5hbWUgPSBmYWxzZTtcclxuICAgICAgICBpZiAodXNlck9yaWdpbmFsLnVzZXJuYW1lICE9PSBmb3JtRmllbGRzLnVzZXJuYW1lLnZhbHVlKSB7XHJcbiAgICAgICAgICAgIGJvZHlbJ3VzZXJuYW1lJ10gPSBmb3JtRmllbGRzLnVzZXJuYW1lLnZhbHVlO1xyXG4gICAgICAgICAgICB1cGRhdGVEYXRhQXR0clVzZXJuYW1lID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHVzZXJPcmlnaW5hbC5sb2dpbiAhPT0gZm9ybUZpZWxkcy5sb2dpbi52YWx1ZSkge1xyXG4gICAgICAgICAgICBib2R5WyduYW1lJ10gPSBmb3JtRmllbGRzLmxvZ2luLnZhbHVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodXNlck9yaWdpbmFsLmFib3V0ICE9PSBmb3JtRmllbGRzLmFib3V0LnZhbHVlKSB7XHJcbiAgICAgICAgICAgIGJvZHlbJ2Jpb2dyYXBoeSddID0gZm9ybUZpZWxkcy5hYm91dC52YWx1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHVzZXJPcmlnaW5hbC5zaXRlICE9PSBmb3JtRmllbGRzLnNpdGUudmFsdWUpIHtcclxuICAgICAgICAgICAgYm9keVsndXJsJ10gPSBmb3JtRmllbGRzLnNpdGUudmFsdWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIC0tLS12YWxpZGF0ZVxyXG4gICAgICAgIGlmIChmb3JtRmllbGRzLmFib3V0LnZhbHVlID09PSAnJykge1xyXG4gICAgICAgICAgICBjb25zb2xlLmluZm8oJ2Fib3V0LnZhbHVlIGlzIGVtcHR5Jyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBVc2VyLmVkaXRJbnN0YWdyYW1BY2NvdW50KHVzZXJPcmlnaW5hbC51c2VybmFtZSB8fCAnJywgSlNPTi5zdHJpbmdpZnkoYm9keSkpLnRoZW4oKHJlc3VsdCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAocmVzdWx0LnN0YXR1cy5zdGF0ZSA9PT0gJ29rJykge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJy8qVVBEQVRFIFZJRVcgSEVSRSovJyk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB7ZGF0YToge3Byb2ZpbGV9fSA9IHJlc3VsdDtcclxuICAgICAgICAgICAgICAgIHByb2ZpbGUuaW5mbyA9IHJlc3VsdC5kYXRhLnByb2ZpbGU7XHJcbiAgICAgICAgICAgICAgICBwcm9maWxlLmluZm8gPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLi4ucHJvZmlsZS5pbmZvLFxyXG4gICAgICAgICAgICAgICAgICAgIGZvbGxvd2VyX2NvdW50OiB1c2VyT3JpZ2luYWwuZm9sbG93ZXJDLFxyXG4gICAgICAgICAgICAgICAgICAgIGZvbGxvd2luZ19jb3VudDogdXNlck9yaWdpbmFsLmZvbGxvd2luZ0MsXHJcbiAgICAgICAgICAgICAgICAgICAgbWVkaWFfY291bnQ6IHVzZXJPcmlnaW5hbC5tZWRpYUNcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICB1c2VyT3JpZ2luYWwuJGxpLnJlcGxhY2VXaXRoKHJlbmRlckl0ZW0ocHJvZmlsZSwgdXNlck9yaWdpbmFsLiRsaSwgZmFsc2UpKTtcclxuICAgICAgICAgICAgICAgIHVwZGF0ZUJ1dHRvbnNEYXRhQXR0cihzZXR0aW5nQnV0dG9uc0hhbmRsZXIpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHVwZGF0ZURhdGFBdHRyVXNlcm5hbWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCAkZWRpdEJ0biA9IHVzZXJPcmlnaW5hbC4kbGkuZmluZChlZGl0QnRuQ2xzKTtcclxuICAgICAgICAgICAgICAgICAgICAkZWRpdEJ0bi5kYXRhKCd1c2VybmFtZScsIHByb2ZpbGUuaW5mby51c2VybmFtZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlRGF0YUF0dHJVc2VybmFtZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgbW9kYWxDb25maXJtLmhpZGUoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcbiAgICAvLyBjb25zdCBtb2RlU2VsZWN0b3IgPSAkKCcuanNfYnRuLXByb2YtdHlwZS1zd2l0Y2hlcicpO1xyXG4gICAgJCgnLmpzX2J0bi1wcm9mLXR5cGUtc3dpdGNoZXIgbGFiZWwnKS5vbignY2xpY2snLCAoZSkgPT4ge1xyXG4gICAgICAgIGNvbnN0IHZhbHVlID0gJChlLnRhcmdldCkuZmluZCgnaW5wdXRbdHlwZT1yYWRpb10nKS5hdHRyKCd2YWx1ZScpO1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCdjbGljaycsIHZhbHVlKTtcclxuICAgICAgICBjb25zdCBpc09wZW4gPSB2YWx1ZSA9PT0gJ2Nsb3NlZC1wcm9maWxlLW9mZic7XHJcbiAgICAgICAgY29uc3QgYm9keSA9IHtcclxuICAgICAgICAgICAgJ29wZW4nOiBpc09wZW5cclxuICAgICAgICB9O1xyXG4gICAgICAgIFVzZXIuZWRpdEluc3RhZ3JhbUFjY291bnQodXNlck9yaWdpbmFsLnVzZXJuYW1lIHx8ICcnLCBKU09OLnN0cmluZ2lmeShib2R5KSkudGhlbigocmVzdWx0KSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChyZXN1bHQuc3RhdHVzLnN0YXRlID09PSAnb2snKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygncmVzdWx0JywgcmVzdWx0KTtcclxuICAgICAgICAgICAgICAgIHdpbmRvdy5QdWJTdWIucHVibGlzaCgndXBkYXRlX2RhdGFfcHJpdmF0ZV9vbl9hY2NfbGlzdCcsIHZhbHVlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcbn1cclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2Jsb2Nrcy9pbnN0YWdyYW0tYWNjb3VudHMtbGlzdC9hY2NvdW50cy1saXN0LWJ0bi1zZXR0aW5ncy5qcyIsIi8qIGVzbGludC1kaXNhYmxlIHNvcnQtdmFycyAqL1xyXG4vLyBpbXBvcnQgJCBmcm9tICdqcXVlcnknO1xyXG5pbXBvcnQgVXNlciBmcm9tICcuLi8uLi9jb21tb24vanMtc2VydmljZXMvdXNlcic7XHJcbmltcG9ydCBQdWJTdWIgZnJvbSAncHVic3ViLWpzJzsgLy8gaHR0cHM6Ly93d3cubnBtanMuY29tL3BhY2thZ2UvcHVic3ViLWpzXHJcbmltcG9ydCBjb29raWVTdG9yYWdlIGZyb20gJy4uLy4uL2NvbW1vbi9qcy1zZXJ2aWNlcy9jb29raWUnO1xyXG4vLyBpbXBvcnQgVmFsaWRhdG9yIGZyb20gJy4uLy4uL2NvbW1vbi9qcy1zZXJ2aWNlcy9mb3JtLXZhbGlkYXRvcic7XHJcbmltcG9ydCB2aWV3VXRpbHMgZnJvbSAnLi4vLi4vY29tbW9uL2pzLXNlcnZpY2VzL3ZpZXcnO1xyXG5pbXBvcnQge0NPTlNUfSBmcm9tICcuLi8uLi9jb21tb24vanMtc2VydmljZXMvY29uc3RzJztcclxuXHJcbi8vIHdpbmRvdy4kID0gJDtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBMb2dpbkZvcm0oc2VsZWN0b3JDc3MpIHtcclxuICAgIGNvbnN0IHtfZm9ybUlkLCBfYnV0dG9uU3VibWl0SWQsIF9zaG93TG9naW5Cb3hCdG5JZCwgX2xvZ2luQm94fSA9IHNlbGVjdG9yQ3NzO1xyXG4gICAgY29uc3QgdXNlciA9IFVzZXIsIC8vIHNlcnZpY2VcclxuICAgICAgICAkZm9ybSA9ICQoX2Zvcm1JZCksXHJcbiAgICAgICAgJGVtYWlsID0gJGZvcm0uZmluZCgnaW5wdXRbbmFtZT1cIm1haWxcIl0nKSxcclxuICAgICAgICAkdGV4dEFyZWFEZXNjcmlwdGlvbiA9ICQoJyNkZXNjcmlwdGlvbicpO1xyXG4gICAgLy8gY29uc3Qgb3BlbmVkQ2xhc3MgPSAnZC1ibG9jayc7XHJcbiAgICAvLyBjb25zdCBjbG9zZUNsYXNzID0gJ2Qtbm9uZSc7XHJcblxyXG4gICAgY29uc3QgdXNlckxvZ2luSGVhZGVyID0gKF9mb3JtRGF0YSkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGNiRXJyb3IgPSAocmVzdWx0KSA9PiB7XHJcbiAgICAgICAgICAgICQoX2xvZ2luQm94KS5hcHBlbmQoJzxwPnJlc3VsdC5zdGF0dXMubWVzc2FnZTwvcD4nKTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICByZXR1cm4gdXNlci5sb2dpbihfZm9ybURhdGEsIGNiRXJyb3IpXHJcbiAgICAgICAgICAgIC50aGVuKChyZXN1bHQpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChyZXN1bHQgJiYgcmVzdWx0LmRhdGEgJiYgcmVzdWx0LmRhdGEudG9rZW4pIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBzYXZlIHRoZSBpdGVtXHJcbiAgICAgICAgICAgICAgICAgICAgY29va2llU3RvcmFnZS5zZXQoQ09OU1QuY29va2llU3RvcmFnZS50b2tlbiwgcmVzdWx0LmRhdGEudG9rZW4pO1xyXG4gICAgICAgICAgICAgICAgICAgICQoJy5uYXYtbGluay5qc19sb2dPdXQnKS5wYXJlbnQoKS5zaG93KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ3JlcXVlc3Qgc3VjY2VlZGVkIHdpdGggSlNPTiByZXNwb25zZScsIHJlc3VsdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmlld1V0aWxzLnNob3dJbmZvTWVzc2FnZSgkdGV4dEFyZWFEZXNjcmlwdGlvbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnN0YXR1cy5zdGF0ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnN0YXR1cy5tZXNzYWdlIHx8ICdMb2dpbiBzdWNjc2VzcycpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChyZXN1bHQuc3RhdHVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzdWx0KTtcclxuICAgICAgICAgICAgICAgICAgICB2aWV3VXRpbHMuc2hvd0luZm9NZXNzYWdlKHRoaXMuJHRleHRBcmVhRGVzY3JpcHRpb24sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGA8cD5zdGF0dXM6ICR7cmVzdWx0LnN0YXR1cy5zdGF0ZX08L3A+PHA+IG1lc3NhZ2U6ICR7cmVzdWx0LnN0YXR1cy5tZXNzYWdlfTwvcD5gKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzdWx0KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSkudGhlbigocmVzdWx0KSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0ICYmIHJlc3VsdC5zdGF0dXMpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXN1bHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIHZpZXdVdGlscy5zaG93SW5mb01lc3NhZ2UoJHRleHRBcmVhRGVzY3JpcHRpb24sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5zdGF0dXMuc3RhdGUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5zdGF0dXMubWVzc2FnZSB8fCAnTG9naW4gZXJyb3InKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICB9O1xyXG5cclxuICAgIGNvbnN0IHN1Ym1pdEZvcm0gPSBmdW5jdGlvbihmb3JtRGF0YU9iaikge1xyXG4gICAgICAgIGNvbnN0IGVtYWlsID0gJGVtYWlsLnZhbCgpLFxyXG4gICAgICAgICAgICBwYXNzd29yZCA9ICRmb3JtLmZpbmQoJ2lucHV0W25hbWU9XCJwYXNzXCJdJykudmFsKCksXHJcbiAgICAgICAgICAgIF9mb3JtRGF0YSA9IGZvcm1EYXRhT2JqIHx8IHtlbWFpbCwgcGFzc3dvcmR9O1xyXG5cclxuICAgICAgICBpZiAoc2VsZWN0b3JDc3MuaXNMb2dpbkluc3RhZ3JhbSkge1xyXG4gICAgICAgICAgICAvLyB0b2RvOiBkZWxldGUgbWVcclxuICAgICAgICAgICAgLy8gYWRkSW5zdGFncmFtQWNjb3VudCh7dXNlcm5hbWU6ICRmb3JtLmZpbmQoJ2lucHV0W25hbWU9XCJ1c2VybmFtZVwiXScpLnZhbCgpLCBwYXNzd29yZH0pO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICRlbWFpbC52YWwoJGVtYWlsLnZhbCgpLnRvTG9jYWxlTG93ZXJDYXNlKCkpO1xyXG4gICAgICAgICAgICB1c2VyTG9naW5IZWFkZXIoX2Zvcm1EYXRhKS50aGVuKCgpID0+IHtcclxuICAgICAgICAgICAgICAgIFB1YlN1Yi5wdWJsaXNoKENPTlNULmV2ZW50cy5VU0VSX0xPR0dFRCwgJ2xvZ2luJyk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgY29uc3QgbG9nT3V0ID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgY29va2llU3RvcmFnZS5yZW1vdmUoQ09OU1QuY29va2llU3RvcmFnZS50b2tlbik7XHJcbiAgICAgICAgUHViU3ViLnB1Ymxpc2goQ09OU1QuZXZlbnRzLlVTRVJfTE9HT1VUKTtcclxuICAgIH07XHJcblxyXG4gICAgY29uc3QgYmluZEV2ZW50cyA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGNvbnN0ICRzaG93TG9naW5Cb3hCdG5JZCA9ICQoX3Nob3dMb2dpbkJveEJ0bklkKTtcclxuICAgICAgICBjb25zdCAkbG9naW5Cb3ggPSAkKF9sb2dpbkJveCk7XHJcbiAgICAgICAgY29uc3Qgb3BlbmVkQ2xhc3MgPSAnZC1ibG9jayc7XHJcbiAgICAgICAgY29uc3QgY2xvc2VDbGFzcyA9ICdkLW5vbmUnO1xyXG5cclxuICAgICAgICAkc2hvd0xvZ2luQm94QnRuSWQub24oJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIXNlbGVjdG9yQ3NzLmlzTG9naW5JbnN0YWdyYW0pIHtcclxuICAgICAgICAgICAgICAgICRsb2dpbkJveC5jc3Moeyd0b3AnOiAwLCAncmlnaHQnOiAwfSlcclxuICAgICAgICAgICAgICAgICAgICAuYWRkQ2xhc3MoJ2JnLWxpZ2h0IGJvcmRlciBtdC01IG14LWF1dG8gcG9zaXRpb24tYWJzb2x1dGUnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAkbG9naW5Cb3guYWRkQ2xhc3Mob3BlbmVkQ2xhc3MpLnJlbW92ZUNsYXNzKGNsb3NlQ2xhc3MpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBjb25zdCAkYnV0dG9uU3VibWl0ID0gJChfYnV0dG9uU3VibWl0SWQpLFxyXG4gICAgICAgICAgICBjc3NWYWxpZGF0aW9uQ2xhc3MgPSAnZm9ybS12YWxpZGF0aW9uJztcclxuXHJcbiAgICAgICAgJGJ1dHRvblN1Ym1pdC5vbignY2xpY2snLCAoZSkgPT4ge1xyXG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgIGNvbnN0IGZvcm0gPSAkZm9ybS5nZXQoMCk7XHJcbiAgICAgICAgICAgIC8vIGNvbnN0IHZhbGlkYXRvciA9IG5ldyBWYWxpZGF0b3IoJGZvcm0pO1xyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyh2YWxpZGF0b3IudmFsaWRhdGUoKSk7XHJcbiAgICAgICAgICAgIGlmIChmb3JtLmNoZWNrVmFsaWRpdHkoKSAmJiB2aWV3VXRpbHMuaXNFbWFpbCgkZW1haWwudmFsKCkpKSB7XHJcbiAgICAgICAgICAgICAgICBzdWJtaXRGb3JtKCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvLyBIaWdobGlnaHQgZXJyb3JzXHJcbiAgICAgICAgICAgICAgICBpZiAoZm9ybS5yZXBvcnRWYWxpZGl0eSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGZvcm0ucmVwb3J0VmFsaWRpdHkoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICRmb3JtLmFkZENsYXNzKGNzc1ZhbGlkYXRpb25DbGFzcyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgJCgnLm5hdi1saW5rLmpzX2xvZ091dCcpLm9uKCdjbGljaycsIChlKSA9PiB7XHJcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgbG9nT3V0KCk7XHJcbiAgICAgICAgICAgICQoZS50YXJnZXQpLnBhcmVudCgpLmhpZGUoKTtcclxuICAgICAgICAgICAgdmlld1V0aWxzLnNob3dJbmZvTWVzc2FnZSgkdGV4dEFyZWFEZXNjcmlwdGlvbiwgJ0xvZ2dlZCBvdXQnKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgUHViU3ViLnN1YnNjcmliZShDT05TVC5ldmVudHMuVVNFUl9MT0dPVVQsIChtc2cpID0+IHtcclxuICAgICAgICAgICAgJChDT05TVC51aVNlbGVjdG9ycy5oZWFkZXJOYXZMb2dpbkJ0bikuYWRkQ2xhc3Mob3BlbmVkQ2xhc3MpLnJlbW92ZUNsYXNzKGNsb3NlQ2xhc3MpOyAvLyAuc2hvdygpO1xyXG4gICAgICAgICAgICAkKENPTlNULnVpU2VsZWN0b3JzLmhlYWRlclJlZ0J0bikuYWRkQ2xhc3Mob3BlbmVkQ2xhc3MpLnJlbW92ZUNsYXNzKGNsb3NlQ2xhc3MpO1xyXG4gICAgICAgICAgICAkKCcubmF2LWxpbmsuanNfbG9nT3V0JykuYWRkQ2xhc3MoY2xvc2VDbGFzcykucmVtb3ZlQ2xhc3Mob3BlbmVkQ2xhc3MpOyAvLyAuaGlkZSgpO1xyXG4gICAgICAgICAgICBjb25zdCBzZWxlY3RvckxvZ2luU3RhdGUgPSAnLmpzX21lc3NhZ2VfbG9nZ2VkLS10ZXh0JztcclxuICAgICAgICAgICAgJChzZWxlY3RvckxvZ2luU3RhdGUpLnRleHQoJ9CS0Ysg0LLRi9GI0LvQuCDQuNC3INCw0LrQutCw0YPQvdGC0LAnKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgJChkb2N1bWVudCkub24oJ2NsaWNrJywgKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGlzTG9naW5CdG5DbGljayA9ICQoZXZlbnQudGFyZ2V0KS5jbG9zZXN0KCduYXYubmF2YmFyJykuZmluZCgkbG9naW5Cb3gpLmxlbmd0aDtcclxuICAgICAgICAgICAgY29uc3QgaXNBZGRJbnN0YWdyYW1CdG5DbGlja2VkID0gJChldmVudC50YXJnZXQpLmF0dHIoJ2lkJykgPT09IENPTlNULnVpU2VsZWN0b3JzLmluc3RhZ3JhbS5hZGRBY2NvdW50QnRuSWQ7XHJcblxyXG4gICAgICAgICAgICBpZiAoIWlzTG9naW5CdG5DbGljayAmJiAkbG9naW5Cb3guaGFzQ2xhc3Mob3BlbmVkQ2xhc3MpICYmICFpc0FkZEluc3RhZ3JhbUJ0bkNsaWNrZWQpIHtcclxuICAgICAgICAgICAgICAgICRsb2dpbkJveC5hZGRDbGFzcyhjbG9zZUNsYXNzKS5yZW1vdmVDbGFzcyhvcGVuZWRDbGFzcyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH07XHJcblxyXG4gICAgZnVuY3Rpb24gaW5pdCgpIHtcclxuICAgICAgICBiaW5kRXZlbnRzKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICBpbml0XHJcbiAgICB9O1xyXG59XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9ibG9ja3MvbG9naW4tZm9ybS9sb2dpbi1mb3JtLmpzIiwiLy8gaW1wb3J0IE1ldGVvckVtb2ppIGZyb20gJ21ldGVvci1lbW9qaSc7XHJcbi8vIGltcG9ydCBFbW9qaVBpY2tlciBmcm9tICd2YW5pbGxhLWVtb2ppLXBpY2tlcic7XHJcbmltcG9ydCAnZW1vamlvbmVBcmVhJztcclxuLy8gaW1wb3J0IHFxIGZyb20gJ2ZpbmUtdXBsb2FkZXInOyAvLyB0b2RvOiBmaW5lLXVwbG9hZGVcclxuaW1wb3J0IFVzZXIgZnJvbSAnLi4vLi4vY29tbW9uL2pzLXNlcnZpY2VzL3VzZXInO1xyXG5pbXBvcnQgVXNlckNvbnZlcnNhdGlvbiBmcm9tICcuLi8uLi9jb21tb24vanMtc2VydmljZXMvYXBpLXVzZXItZGlyZWN0JztcclxuaW1wb3J0IHtmaWxsTWFzc2FnZXNMaXN0LCBmaWxsVXNlckxpc3QsIG1lc3NhZ2VBcmVhSGVuZGxlciwgLyogYWRkTW9yZVVzZXJzQWNjb3JkaW9uLCovIGFwcGVuZFVzZXJMaXN0fSBmcm9tICcuL3V0aWxzJztcclxuaW1wb3J0IFNwaW5uZXIgZnJvbSAnLi4vLi4vY29tbW9uL2pzLXNlcnZpY2VzL3NwaW5uZXInO1xyXG4vLyBpbXBvcnQgUHViU3ViIGZyb20gJ3B1YnN1Yi1qcyc7Ly8gaHR0cHM6Ly93d3cubnBtanMuY29tL3BhY2thZ2UvcHVic3ViLWpzXHJcbmltcG9ydCB7Q09OU1R9IGZyb20gJy4uLy4uL2NvbW1vbi9qcy1zZXJ2aWNlcy9jb25zdHMnO1xyXG5pbXBvcnQgKiBhcyBpbWFnZVVwbG9hZCBmcm9tICcuLi9fc2hhcmVkL2ltYWdlLXVwbG9hZC9pbWFnZS11cGxvYWQnO1xyXG5pbXBvcnQge2luaXRSZXF1ZXN0cywgYWRkQ29uZmlyZ0J1dHRvbnN9IGZyb20gJy4vcmVxdWVzdHMnO1xyXG5cclxuY29uc3QgdG9rZW4gPSBVc2VyLmdldFRva2VuKCk7XHJcbmNvbnN0ICRtc2dMaXN0ID0gJCgnLm1lc3NhZ2VzLWxpc3QnKTtcclxuY29uc3Qgc3RhdGVDZmcgPSB7XHJcbiAgICBwYWdlSW5jcmVtZW50OiAwLFxyXG4gICAgbG9hZGluZ0ZsYWc6IGZhbHNlLFxyXG4gICAgc2V0U2luZ2xlVmFsOiBmYWxzZVxyXG59O1xyXG5sZXQgdXBkYXRlSW50ZXJ2YWwgPSAnJztcclxubGV0IGludGVydmFsSWQgPSBmYWxzZTtcclxubGV0IGN1cnNvciA9ICcnO1xyXG5sZXQgaW50ZXJ2YWxVc2VyTGlzdCA9IGZhbHNlO1xyXG5sZXQgaW5pdGlhbFZhbCA9ICcnO1xyXG5sZXQgZmxhZ0luaXRpYWxWYWwgPSB0cnVlO1xyXG5jb25zdCBjdXJyZW50VXNlckRhdGEgPSB7XHJcbiAgICB1c2VyYXZhdGFyOiAnbGluaycsXHJcbiAgICB1c2VybmFtZTogJ25hbWUnXHJcbn07XHJcbmNvbnN0IHNjcm9sbExvYWRlclN0YXRlID0ge1xyXG4gICAgY3Vyc29yOiAncGFnaW5hdGlvbi5wcmV2X2N1cnNvcicsXHJcbiAgICBmaXJzdExvYWQ6IHRydWUsXHJcbiAgICBhbGxNc2dMb2FkZWQ6IGZhbHNlXHJcbn07XHJcblxyXG5jb25zdCByZW5kZXJSZXN1bHRzID0gZnVuY3Rpb24gKGNmZykge1xyXG4gICAgY29uc3Qge2RhdGFBcnJheTogZGF0YSwgJGxpc3Q6IHVsRWxlbWVudCwgc3RhdGVDZmd9ID0gY2ZnO1xyXG5cclxuICAgIGZ1bmN0aW9uIHNob3dNZXNzYWdlKGVsZW1lbnQsIG1lc3NhZ2UsIC8qIG9wdGlvbmFsICovY2xlYXJMaXN0KSB7XHJcbiAgICAgICAgLy8gJGJ0bkdFVC5hdHRyKCdkaXNhYmxlZCcsIGZhbHNlKTtcclxuXHJcbiAgICAgICAgaWYgKGNsZWFyTGlzdCkge1xyXG4gICAgICAgICAgICAkKCdsaScsIGVsZW1lbnQpLnJlbW92ZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbGVtZW50LmNzcyh7J292ZXJmbG93JzogJ2F1dG8nfSk7XHJcbiAgICAgICAgJCgnPGxpLz4nKVxyXG4gICAgICAgICAgICAuYWRkQ2xhc3MoJ2xpc3QtZ3JvdXAtaXRlbSB0ZXh0LWNlbnRlcicpXHJcbiAgICAgICAgICAgIC50ZXh0KG1lc3NhZ2UpXHJcbiAgICAgICAgICAgIC5hcHBlbmRUbyh1bEVsZW1lbnQpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChzdGF0ZUNmZy5sb2FkaW5nRmxhZyA9PT0gJ0ZJTkFMX1BBR0UnKSB7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlOyAvLyBleGl0IGlmIGhhcyByZWFjaGVkIGxhc3QgcGFnZVxyXG4gICAgfVxyXG5cclxuICAgIC8vIHNob3cgZmFpbCBtc2dcclxuICAgIGlmIChkYXRhID09PSAnRkFJTCcpIHtcclxuICAgICAgICBzaG93TWVzc2FnZSh1bEVsZW1lbnQsICdGYWlsdXJlLCBwb3NzaWJsZSBrZXkgbm90IGNvcnJlY3QuJywgdHJ1ZSk7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChzdGF0ZUNmZy5sb2FkaW5nRmxhZyA9PT0gJ1NUT1BfTE9BRCcgJiYgZGF0YS5sZW5ndGggIT09IDApIHtcclxuICAgICAgICBzdGF0ZUNmZy5sb2FkaW5nRmxhZyA9ICdGSU5BTF9QQUdFJztcclxuICAgICAgICBzaG93TWVzc2FnZSh1bEVsZW1lbnQsICdObyBtb3JlIHJlc3VsdHMuJywgZmFsc2UpO1xyXG4gICAgICAgIC8vICRsaUZvb3Rlci5oaWRlKCk7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChkYXRhID09PSBudWxsIHx8ICFkYXRhLmxlbmd0aCkge1xyXG4gICAgICAgIHNob3dNZXNzYWdlKHVsRWxlbWVudCwgJ05vIHJlc3VsdHMgZm91bmQuJywgdHJ1ZSk7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIGZpbGxNYXNzYWdlc0xpc3QoY2ZnKTtcclxufTtcclxuXHJcbmZ1bmN0aW9uIGlzSW5NZXNzYWdlUGFnZSgpIHtcclxuICAgIGNvbnN0ICRtc2dMaXN0ID0gJCgnLm1lc3NhZ2VzLWxpc3QnKTtcclxuICAgIGNvbnN0ICR1c2VyTGlzdCA9ICQoJy5tZXNzYWdlcy11c2VyLWxpc3QnKTtcclxuICAgIHJldHVybiAhISRtc2dMaXN0Lmxlbmd0aCAmJiAhISR1c2VyTGlzdC5sZW5ndGg7XHJcbn1cclxuXHJcbi8vIHRvZG86IGdldCBmcm9tIGVtb2ppaS5qc1xyXG4kKGRvY3VtZW50KS5yZWFkeSgoKSA9PiB7XHJcbiAgICBpZiAoIWlzSW5NZXNzYWdlUGFnZSgpKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVudXNlZC12YXJzXHJcbiAgICAvLyBjb25zdCBlcCA9IG5ldyBFbW9qaVBpY2tlcigpO1xyXG4gICAgLy8gLy8gY29uc3QgbSA9IG5ldyBNZXRlb3JFbW9qaSgpO1xyXG4gICAgLy8gY29uc3QgJHBpY2tlciA9ICQoJ3RleHRhcmVhW2RhdGEtZW1vamktcGlja2VyPVwidHJ1ZVwiXSB+IGRpdicpO1xyXG4gICAgLy8gY29uc3Qgc3R5bGUgPSAkcGlja2VyLmF0dHIoJ3N0eWxlJyk7XHJcbiAgICAvLyBjb25zdCBzdHlsZU5ldyA9IHN0eWxlLnJlcGxhY2UoJ3RvcDogMjBweDsnLCAndG9wOiAtMjEwcHg7Jyk7XHJcbiAgICAvLyAkcGlja2VyLmF0dHIoJ3N0eWxlJywgc3R5bGVOZXcpO1xyXG5cclxuICAgICQoJ3RleHRhcmVhW2RhdGEtZW1vamktcGlja2VyPVwidHJ1ZVwiXScpLmVtb2ppb25lQXJlYSh7XHJcbiAgICAgICAgcGlja2VyUG9zaXRpb246ICd0b3AnLFxyXG4gICAgICAgIHRvbmVzU3R5bGU6ICdzcXVhcmUnLFxyXG4gICAgICAgIGZpbHRlcnNQb3NpdGlvbjogJ2JvdHRvbScsXHJcbiAgICAgICAgYXV0b2NvbXBsZXRlOiB0cnVlXHJcbiAgICAgICAgLy8gZXZlbnRzOiB7XHJcbiAgICAgICAgLy8gICAgIGtleXVwIChlZGl0b3IsIGV2ZW50KSB7XHJcbiAgICAgICAgLy8gICAgICAgICBjb25zb2xlLmxvZyhlZGl0b3IuaHRtbCgpKTtcclxuICAgICAgICAvLyAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMuZ2V0VGV4dCgpKTtcclxuICAgICAgICAvLyAgICAgfVxyXG4gICAgICAgIC8vIH1cclxuICAgIH0pO1xyXG5cclxuICAgIC8vIHRvZG86IGZpbmUtdXBsb2FkZVxyXG4gICAgLypcclxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtdmFyc1xyXG4gICAgY29uc3QgcmVzdHJpY3RlZFVwbG9hZGVyID0gbmV3IHFxLkZpbmVVcGxvYWRlcih7XHJcbiAgICAgICAgZWxlbWVudDogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ZpbmUtdXBsb2FkZXItdmFsaWRhdGlvbicpLFxyXG4gICAgICAgIHRlbXBsYXRlOiAncXEtdGVtcGxhdGUtdmFsaWRhdGlvbicsXHJcbiAgICAgICAgcmVxdWVzdDoge1xyXG4gICAgICAgICAgICBlbmRwb2ludDogJy9zZXJ2ZXIvdXBsb2FkcydcclxuICAgICAgICB9LFxyXG4gICAgICAgIHRodW1ibmFpbHM6IHtcclxuICAgICAgICAgICAgcGxhY2Vob2xkZXJzOiB7XHJcbiAgICAgICAgICAgICAgICB3YWl0aW5nUGF0aDogJ2h0dHBzOi8vZmluZXVwbG9hZGVyLmNvbS9zb3VyY2UvcGxhY2Vob2xkZXJzL3dhaXRpbmctZ2VuZXJpYy5wbmcnLCAvLyAnL3NvdXJjZS9wbGFjZWhvbGRlcnMvd2FpdGluZy1nZW5lcmljLnBuZycsXHJcbiAgICAgICAgICAgICAgICBub3RBdmFpbGFibGVQYXRoOiAnaHR0cHM6Ly9maW5ldXBsb2FkZXIuY29tL3NlcnZlci93YWl0aW5nLWdlbmVyaWMucG5nJyAvLyAnL3NvdXJjZS9wbGFjZWhvbGRlcnMvbm90X2F2YWlsYWJsZS1nZW5lcmljLnBuZydcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgdmFsaWRhdGlvbjoge1xyXG4gICAgICAgICAgICBhbGxvd2VkRXh0ZW5zaW9uczogWydqcGVnJywgJ2pwZyddLFxyXG4gICAgICAgICAgICBpdGVtTGltaXQ6IDMsXHJcbiAgICAgICAgICAgIHNpemVMaW1pdDogNTAwICogMTAyNFxyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgKi9cclxufSk7XHJcbmxldCBpc1RpbWVPdXRSdW5uZWQgPSBmYWxzZTtcclxuZnVuY3Rpb24gZ2V0QW5kRmlsbFVzZXJMaXN0Q3Vyc29yKGxvYWRNb3JlQ2JBcmdzQ3Vyc29yLCBzZWN0aW9uLCB1c2VybmFtZSkge1xyXG4gICAgY29uc3QgJHVzZXJMaXN0ID0gJCgnLm1lc3NhZ2VzLXVzZXItbGlzdCcpO1xyXG4gICAgaWYgKGxvYWRNb3JlQ2JBcmdzQ3Vyc29yKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ1VzZXJDb252ZXJzYXRpb24nLCB1c2VybmFtZSk7XHJcbiAgICAgICAgVXNlckNvbnZlcnNhdGlvbi5nZXRNZXRhZGF0YURldGFpbFVzZXJzKHtjdXJzb3I6IGxvYWRNb3JlQ2JBcmdzQ3Vyc29yLCB1c2VybmFtZX0pLnRoZW4oKHJlc3VsdCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIXJlc3VsdC5kYXRhKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3Qge2RhdGF9ID0gcmVzdWx0O1xyXG4gICAgICAgICAgICAvLyBkYXRhLm1ldGEuc29ydCgoYSwgYikgPT4gYVsndXNlcm5hbWUnXS5sb2NhbGVDb21wYXJlKGJbJ3VzZXJuYW1lJ10pKTtcclxuICAgICAgICAgICAgYXBwZW5kVXNlckxpc3QoJHVzZXJMaXN0LCBkYXRhLm1ldGEsIHtjdXJzb3I6IGxvYWRNb3JlQ2JBcmdzQ3Vyc29yLCBzZWN0aW9uLCB1c2VybmFtZX0pO1xyXG4gICAgICAgICAgICBjb25zdCB7cGFnaW5hdGlvbn0gPSBkYXRhO1xyXG4gICAgICAgICAgICBpZiAocGFnaW5hdGlvbiAmJiBwYWdpbmF0aW9uLnByZXZfY3Vyc29yKSB7XHJcbiAgICAgICAgICAgICAgLy8gbWFrZSBvbmUgbW9yZSByZXE/XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdmb3VuZCBtb3JlIHBhZ2luYXRpb24sIGJ1dCBsaXN0IG5vdCB1cGRhdGVkJyk7XHJcbiAgICAgICAgICAgICAgICAvLyBUT0RPXHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvLyBoaWRlIHNob3cgbW9yZVxyXG4gICAgICAgICAgICAgICAgY29uc3QgJGNvbGxhcHNlID0gJChgI2NvbGxhcHNlLSR7c2VjdGlvbn1gKS5jbG9zZXN0KCdsaScpO1xyXG4gICAgICAgICAgICAgICAgJGNvbGxhcHNlLmZpbmQoJy5qc19sb2FkLW1vcmUtYm94JykuYWRkQ2xhc3MoJ2Qtbm9uZScpO1xyXG4gICAgICAgICAgICAgICAgLy8gc3RvcCByZXJlbmRlciBsaXN0XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdzdG9wIHVwZGF0aW5nIHVzZXIgbGlzdCcpO1xyXG4gICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChpbnRlcnZhbFVzZXJMaXN0KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnc2VjdGlvbicsIHNlY3Rpb24pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBnZXRBbmRGaWxsVXNlckxpc3QoaXNBY3RpdmVGaXJzdCwgdXNlckxpc3QpIHtcclxuICAgIGNvbnN0ICR1c2VyTGlzdCA9IHVzZXJMaXN0IHx8ICQoJy5tZXNzYWdlcy11c2VyLWxpc3QnKTtcclxuICAgIGxldCBwcmV2QWN0aXZlRGlhbG9nSWQgPSAnJztcclxuICAgIGlmICghaXNBY3RpdmVGaXJzdCkge1xyXG4gICAgICAgIHByZXZBY3RpdmVEaWFsb2dJZCA9ICR1c2VyTGlzdC5maW5kKCdsaSAuY29sbGFwc2Uuc2hvdycpLmF0dHIoJ2lkJyk7XHJcbiAgICB9XHJcblxyXG4gICAgVXNlckNvbnZlcnNhdGlvbi5nZXRNZXRhZGF0YSh0b2tlbikudGhlbigocmVzdWx0KSA9PiB7XHJcbiAgICAgICAgaWYgKCFyZXN1bHQuZGF0YSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHtkYXRhfSA9IHJlc3VsdDtcclxuICAgICAgICBkYXRhLm1ldGEuc29ydCgoYSwgYikgPT4gYVsndXNlcm5hbWUnXS5sb2NhbGVDb21wYXJlKGJbJ3VzZXJuYW1lJ10pKTtcclxuICAgICAgICAvLyBtZXNzYWdlcy11c2VyLWxpc3QgZnJvbSB1dGlscy5qc1xyXG4gICAgICAgIGZpbGxVc2VyTGlzdCgkdXNlckxpc3QsIGRhdGEubWV0YSwgZ2V0QW5kRmlsbFVzZXJMaXN0Q3Vyc29yKTtcclxuICAgICAgICBpZiAoZGF0YS5zZXR0aW5ncyAmJiBkYXRhLnNldHRpbmdzLmludm9rZV9pbl9taWxsaXMpIHtcclxuICAgICAgICAgICAgdXBkYXRlSW50ZXJ2YWwgPSBkYXRhLnNldHRpbmdzLmludm9rZV9pbl9taWxsaXM7XHJcbiAgICAgICAgICAgIHVwZGF0ZUludGVydmFsID0gKHVwZGF0ZUludGVydmFsID4gNjAwMCkgPyB1cGRhdGVJbnRlcnZhbCA6IDEwMDAwO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoaXNBY3RpdmVGaXJzdCkge1xyXG4gICAgICAgICAgICAkdXNlckxpc3QuZmluZCgnbGk6Zmlyc3QtY2hpbGQgLmNvbGxhcHNlJykuYWRkQ2xhc3MoJ3Nob3cnKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAkKGAjJHtwcmV2QWN0aXZlRGlhbG9nSWR9YCkuYWRkQ2xhc3MoJ3Nob3cnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gaWYgKGRhdGEucGFnaW5hdGlvbiAmJiBkYXRhLnBhZ2luYXRpb24ucHJldl9jdXJzb3IpIHtcclxuICAgICAgICAvLyAgICAgY29uc3QgY29udmVyc2F0aW9uVG9BZGQgPSB7XHJcbiAgICAgICAgLy8gICAgICAgICB0cGw6IGA8ZGl2IGNsYXNzPVwibGlzdC1mb290ZXIgdGV4dC1jZW50ZXJcIiBzdHlsZT1cImRpc3BsYXk6IG5vbmU7XCIgaWQ9XCJsb2FkLW1vcmUtYm94XCI+XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgICAgIDxidXR0b24gaWQ9XCJqc18tYWNjb3JkaW9uLW1vcmVfYnRuXCIgdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiYnRuIGJ0bi1zdWJtaXRcIj5TSE9XIE1PUkU8L2J1dHRvbj5cclxuICAgICAgICAvLyAgICAgICAgICAgICA8L2Rpdj5gXHJcbiAgICAgICAgLy8gICAgIH07XHJcbiAgICAgICAgLy8gICAgIGNvbnNvbGUubG9nKCdzdGFydCBhZGQgcGFnaW5hdGlvbiB0byBhY2NvcmRpb2luJywgY29udmVyc2F0aW9uVG9BZGQpO1xyXG4gICAgICAgIC8vICAgICBhZGRNb3JlVXNlcnNBY2NvcmRpb24oZGF0YS5tZXRhLCBjb252ZXJzYXRpb25Ub0FkZCk7XHJcbiAgICAgICAgLy8gfVxyXG4gICAgICAgIC8vIGRvIGl0IG9uY2VcclxuICAgICAgICBpZiAoIWlzVGltZU91dFJ1bm5lZCkge1xyXG4gICAgICAgICAgICBpbnRlcnZhbFVzZXJMaXN0ID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ3NldEludGVydmFsJyk7XHJcbiAgICAgICAgICAgICAgICBnZXRBbmRGaWxsVXNlckxpc3QoKTtcclxuICAgICAgICAgICAgfSwgdXBkYXRlSW50ZXJ2YWwpO1xyXG4gICAgICAgICAgICBpc1RpbWVPdXRSdW5uZWQgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBhZGRQYWdpbmF0aW9uKHBhZ2luYXRpb24sIGNiRm4pIHtcclxuICAgIGlmIChzY3JvbGxMb2FkZXJTdGF0ZS5hbGxNc2dMb2FkZWQpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBpZiAoc2Nyb2xsTG9hZGVyU3RhdGUuZmlyc3RMb2FkKSB7XHJcbiAgICAgICAgc2Nyb2xsTG9hZGVyU3RhdGUuY3Vyc29yID0gcGFnaW5hdGlvbi5wcmV2X2N1cnNvcjtcclxuICAgICAgICBzY3JvbGxMb2FkZXJTdGF0ZS5maXJzdExvYWQgPSBmYWxzZTtcclxuICAgIH1cclxuICAgIGNvbnN0IHVzZXJEYXRhID0gJG1zZ0xpc3QuZGF0YSgnY29udmVyc2F0aW9uJyk7XHJcbiAgICBjb25zdCB7dXNlcm5hbWUsIGNvbnZlcnNhdGlvbklkfSA9IHVzZXJEYXRhO1xyXG4gICAgLy8gY29uc29sZS5sb2coJ2N1cnNvcjogJywgc2Nyb2xsTG9hZGVyU3RhdGUuY3Vyc29yKTtcclxuICAgIFNwaW5uZXIuYWRkKCQoJyNtYWluQ2hhdFBhcnQnKSwgJ215LTUgcHktNScpO1xyXG4gICAgVXNlckNvbnZlcnNhdGlvbi5nZXRNZXRhZGF0YURldGFpbENvbnZlcnNhdGlvbih0b2tlbiwge3VzZXJuYW1lLCBjb252ZXJzYXRpb25JZCwgY3Vyc29yOiBzY3JvbGxMb2FkZXJTdGF0ZS5jdXJzb3J9KS50aGVuKChyZXN1bHQpID0+IHtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZygnZmlyc3RMb2FkOicsIHNjcm9sbExvYWRlclN0YXRlLmZpcnN0TG9hZCwgcmVzdWx0LmRhdGEubWV0YSk7XHJcbiAgICAgICAgY29uc3QgbmV3Q3Vyc29yID0gcmVzdWx0LmRhdGEubWV0YS5wYWdpbmF0aW9uICYmIHJlc3VsdC5kYXRhLm1ldGEucGFnaW5hdGlvbi5wcmV2X2N1cnNvcjtcclxuICAgICAgICBTcGlubmVyLnJlbW92ZSgpO1xyXG4gICAgICAgIHJlbmRlclJlc3VsdHMoe1xyXG4gICAgICAgICAgICAkbGlzdDogJG1zZ0xpc3QsXHJcbiAgICAgICAgICAgIGRhdGFBcnJheTogcmVzdWx0LmRhdGEubWV0YS5tZXNzYWdlcyxcclxuICAgICAgICAgICAgaXNBcHBlbmRQcmV2TXNnOiAnYXBwZW50UHJldk1zZycsXHJcbiAgICAgICAgICAgIHN0YXRlQ2ZnLFxyXG4gICAgICAgICAgICBjdXJyZW50VXNlckRhdGFcclxuICAgICAgICB9KTtcclxuICAgICAgICAvLyBzZXQgbmV3IGN1cnNvclxyXG4gICAgICAgIGlmIChuZXdDdXJzb3IpIHtcclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJyoqJywgc2Nyb2xsTG9hZGVyU3RhdGUuY3Vyc29yKTtcclxuICAgICAgICAgICAgc2Nyb2xsTG9hZGVyU3RhdGUuY3Vyc29yID0gbmV3Q3Vyc29yO1xyXG4gICAgICAgICAgICAkbXNnTGlzdC5zY3JvbGxUb3AoJG1zZ0xpc3Quc2Nyb2xsVG9wKCkgKyAzMCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgLy8gYWxsIG1zZyBsb2FkZWRcclxuICAgICAgICAgICAgc2Nyb2xsTG9hZGVyU3RhdGUuYWxsTXNnTG9hZGVkID0gdHJ1ZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIHN0b3AgdXBkYXRlIGludGVydmFsXHJcbiAgICAgICAgaWYgKGludGVydmFsSWQpIHtcclxuICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChpbnRlcnZhbElkKTtcclxuICAgICAgICAgICAgY2JGbihuZXdDdXJzb3IpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gc2Nyb2xsSGFuZGxlcihzY3JvbGxEZWxheSwgcGFnaW5hdGlvbikge1xyXG4gICAgbGV0IHJlY2VudFNjcm9sbCA9IGZhbHNlO1xyXG4gICAgbGV0IG1ha2VSZXFPbmNlID0gdHJ1ZTtcclxuICAgIGN1cnNvciA9IChwYWdpbmF0aW9uICYmIHBhZ2luYXRpb24ucHJldl9jdXJzb3IpID8gcGFnaW5hdGlvbi5wcmV2X2N1cnNvciA6IG51bGw7XHJcbiAgICBmdW5jdGlvbiBjaGVja0lzT25jZShuZXdDdXJzb3IpIHtcclxuICAgICAgICBpZiAobmV3Q3Vyc29yICE9PSBjdXJzb3IpIHtcclxuICAgICAgICAgICAgY3Vyc29yID0gbmV3Q3Vyc29yO1xyXG4gICAgICAgICAgICBtYWtlUmVxT25jZSA9IHRydWU7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdwcmV2Q3Vyc29yJywgbmV3Q3Vyc29yKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgJG1zZ0xpc3Qub24oJ3Njcm9sbCcsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBjb25zdCBzY3JvbGxUb3AgPSAkKHRoaXMpLnNjcm9sbFRvcCgpO1xyXG4gICAgICAgICAgICBpZiAoIXJlY2VudFNjcm9sbCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHNjcm9sbFRvcCArICQodGhpcykuaW5uZXJIZWlnaHQoKSA+PSB0aGlzLnNjcm9sbEhlaWdodCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vICRtZXNzYWdlcy50ZXh0KCdlbmQgcmVhY2hlZCcpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChzY3JvbGxUb3AgPD0gNDUpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyAkbWVzc2FnZXMudGV4dCgnVG9wIHJlYWNoZWQnKTtcclxuICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZygncGFnaW5hdGlvbicpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChwYWdpbmF0aW9uICYmIG1ha2VSZXFPbmNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1ha2VSZXFPbmNlID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZFBhZ2luYXRpb24ocGFnaW5hdGlvbiwgY2hlY2tJc09uY2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZygnZ28nKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkKCcubWVzc2FnZXMtbGlzdC1ib3gnKS5maW5kKCcubG9hZC1tb3JlJykucmVtb3ZlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyAkbWVzc2FnZXMudGV4dCgnJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZWNlbnRTY3JvbGwgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgd2luZG93LnNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlY2VudFNjcm9sbCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfSwgNTApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9LCAoc2Nyb2xsRGVsYXkgKyAyMDApKTtcclxufVxyXG5cclxuZnVuY3Rpb24gZ2V0QW5kRmlsbENvbnZlcnNhdGlvbih7dXNlcm5hbWUsIGNvbnZlcnNhdGlvbklkLCB1c2VyYXZhdGFyfSwgaXNTY3JvbGxEb3duLCBpc0NsaWNrRnJvbVJlcXVlc3RDb25maXJtKSB7XHJcbiAgICBjb25zdCBUSU1FX1NDUk9MTCA9IDEwO1xyXG4gICAgVXNlckNvbnZlcnNhdGlvbi5nZXRNZXRhZGF0YURldGFpbENvbnZlcnNhdGlvbih0b2tlbiwge3VzZXJuYW1lLCBjb252ZXJzYXRpb25JZH0pLnRoZW4oKHJlc3VsdCkgPT4ge1xyXG4gICAgICAgIC8vIG1lc3NhZ2VzLWxpc3QgZnJvbSB1dGlsc1xyXG4gICAgICAgIGN1cnJlbnRVc2VyRGF0YS51c2VyYXZhdGFyID0gdXNlcmF2YXRhcjtcclxuICAgICAgICBjdXJyZW50VXNlckRhdGEudXNlcm5hbWUgPSB1c2VybmFtZTtcclxuICAgICAgICBmaWxsTWFzc2FnZXNMaXN0KHskbGlzdDogJG1zZ0xpc3QsIGRhdGFBcnJheTogcmVzdWx0LmRhdGEubWV0YS5tZXNzYWdlcywgc3RhdGVDZmcsIGN1cnJlbnRVc2VyRGF0YX0pO1xyXG4gICAgICAgICQoJyNtYWluQ2hhdFBhcnQnKS5yZW1vdmVDbGFzcygnZC1ub25lJyk7XHJcbiAgICAgICAgU3Bpbm5lci5yZW1vdmUoKTtcclxuICAgICAgICBpZiAoaXNDbGlja0Zyb21SZXF1ZXN0Q29uZmlybSkge1xyXG4gICAgICAgICAgICAvLyBjbGlja2VkIG9uIHJlcXVlc3RcclxuICAgICAgICAgICAgJCgnLmpzX3NlbmQtbWVzc2FnZS1ib3gnKS5hZGRDbGFzcygnZC1ub25lJyk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgLy8gY2xpY2tlZCBvbiBub3JtYWwgY29udmVyc2F0aW9uXHJcbiAgICAgICAgICAgICQoJy5qc19zZW5kLW1lc3NhZ2UtYm94JykucmVtb3ZlQ2xhc3MoJ2Qtbm9uZScpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAkKCcubWVzc2FnZXMtbGlzdCcpLmF0dHIoJ2RhdGEtY29udmVyc2F0aW9uJywgSlNPTi5zdHJpbmdpZnkoe3VzZXJuYW1lLCBjb252ZXJzYXRpb25JZH0pKTtcclxuXHJcbiAgICAgICAgaWYgKGlzU2Nyb2xsRG93bikge1xyXG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgICRtc2dMaXN0LmFuaW1hdGUoe1xyXG4gICAgICAgICAgICAgICAgICAgIHNjcm9sbFRvcDogJG1zZ0xpc3RbMF0uc2Nyb2xsSGVpZ2h0IC0gJG1zZ0xpc3RbMF0uY2xpZW50SGVpZ2h0XHJcbiAgICAgICAgICAgICAgICB9LCBUSU1FX1NDUk9MTCk7XHJcbiAgICAgICAgICAgIH0sIFRJTUVfU0NST0xMICogMik7XHJcbiAgICAgICAgICAgIC8vIHNhdmUgZmlyc3QgdmFsdWVcclxuICAgICAgICAgICAgaWYgKGZsYWdJbml0aWFsVmFsKSB7XHJcbiAgICAgICAgICAgICAgICBpbml0aWFsVmFsID0gcmVzdWx0LmRhdGEubWV0YS5tZXNzYWdlc1tyZXN1bHQuZGF0YS5tZXRhLm1lc3NhZ2VzLmxlbmd0aCAtIDFdO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coaW5pdGlhbFZhbCk7XHJcbiAgICAgICAgICAgICAgICBmbGFnSW5pdGlhbFZhbCA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBzY3JvbGxIYW5kbGVyKFRJTUVfU0NST0xMLCByZXN1bHQuZGF0YS5tZXRhLnBhZ2luYXRpb24pO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGltYWdlTG9hZFN1Ym1pdENiKGlucHV0LCB0b2tlbikge1xyXG4gICAgY29uc3QgdXNlckRhdGEgPSAkbXNnTGlzdC5kYXRhKCdjb252ZXJzYXRpb24nKTtcclxuICAgIGNvbnN0IHt1c2VybmFtZSwgY29udmVyc2F0aW9uSWR9ID0gdXNlckRhdGE7XHJcbiAgICBjb25zdCB1cmwgPSBgJHtDT05TVC5nZXRQYXRoKCdpbnN0YWdyYW1EaXJlY3RfQmFzaWMnKX0vJHt1c2VybmFtZX0vJHtjb252ZXJzYXRpb25JZH0vcGhvdG9gO1xyXG4gICAgY29uc3QgYWNjZXB0ZWRGaWxlID0gaW5wdXQuZmlsZXNbMF07XHJcbiAgICBjb25zb2xlLmxvZygnKipoYW5kbGVTdWJtaXRDYicpO1xyXG4gICAgY29uc3QgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoKTtcclxuICAgIGNvbnN0IHJlcXVlc3QgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcclxuXHJcbiAgICBTcGlubmVyLnN0YXJ0QnV0dG9uU3Bpbm5lcigkKCcuZmlsZS11cGxvYWQtYnRuJyksICdzcGlubmVyLWJveC0tc2VuZE1zZycpO1xyXG5cclxuICAgIGZvcm1EYXRhLmFwcGVuZCgncGhvdG8nLCBhY2NlcHRlZEZpbGUsIGFjY2VwdGVkRmlsZS5uYW1lKTtcclxuICAgIHJlcXVlc3Qub3BlbignUE9TVCcsIHVybCk7XHJcbiAgICAvLyByZXF1ZXN0LndpdGhDcmVkZW50aWFscyA9IHRydWU7XHJcbiAgICByZXF1ZXN0LnNldFJlcXVlc3RIZWFkZXIoJ3Rva2VuJywgdG9rZW4pO1xyXG4gICAgcmVxdWVzdC5zZXRSZXF1ZXN0SGVhZGVyKCdBY2NlcHQnLCAnYXBwbGljYXRpb24vanNvbicpO1xyXG4gICAgcmVxdWVzdC5zZXRSZXF1ZXN0SGVhZGVyKCdjYWNoZS1jb250cm9sJywgJ25vLWNhY2hlJyk7XHJcbiAgICByZXF1ZXN0LnNlbmQoZm9ybURhdGEpO1xyXG4gICAgcmVxdWVzdC5hZGRFdmVudExpc3RlbmVyKCdyZWFkeXN0YXRlY2hhbmdlJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmICh0aGlzLnJlYWR5U3RhdGUgPT09IDQpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ3RoaXMnLCB0aGlzLnJlc3BvbnNlVGV4dCwgdGhpcyk7XHJcbiAgICAgICAgICAgIGlucHV0LnZhbHVlID0gJyc7XHJcbiAgICAgICAgICAgIHdpbmRvdy5QdWJTdWIucHVibGlzaChDT05TVC5ldmVudHMuYXV0b2FybnN3ZXIuSU1BR0VfVVBMT0FERUQsIHsncmVzcG9uc2UnOiB0aGlzLnJlc3BvbnNlVGV4dCwgJ2VsJzogaW5wdXR9KTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gYWRkSGFuZGxlcnMoKSB7XHJcbiAgICBsZXQgY29udmVyc2F0aW9uSWQgPSAnJztcclxuICAgIGNvbnN0ICR0ZXh0QXJlYSA9ICQoJyNzZW5kTWVzc2FnZVRleHRBcmVhJyk7XHJcbiAgICAkdGV4dEFyZWEudmFsKCcnKTtcclxuXHJcbiAgICAkKCcjc2VuZE1lc3NhZ2VCdXR0b24nKS5vbignY2xpY2snLCAoZSkgPT4ge1xyXG4gICAgICAgIGNvbnN0IHZhbHVlID0gJHRleHRBcmVhLnZhbCgpO1xyXG4gICAgICAgIGNvbnN0IHVzZXJEYXRhID0gJG1zZ0xpc3QuZGF0YSgnY29udmVyc2F0aW9uJyk7XHJcbiAgICAgICAgY29uc3Qge3VzZXJuYW1lLCBjb252ZXJzYXRpb25JZCwgdXNlcmF2YXRhcn0gPSB1c2VyRGF0YTtcclxuICAgICAgICBTcGlubmVyLnN0YXJ0QnV0dG9uU3Bpbm5lcigkKGUudGFyZ2V0KSwgJ3NwaW5uZXItYm94LS1zZW5kTXNnJyk7XHJcbiAgICAgICAgVXNlckNvbnZlcnNhdGlvbi5wb3N0TWV0YWRhdGFEZXRhaWxDb252ZXJzYXRpb24odG9rZW4sIHt1c2VybmFtZSwgY29udmVyc2F0aW9uSWQsIHZhbHVlfSkudGhlbigocmVzdWx0KSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChyZXN1bHQgJiYgcmVzdWx0LnN0YXR1cyAmJiByZXN1bHQuc3RhdHVzLnN0YXRlID09PSAnb2snKSB7XHJcbiAgICAgICAgICAgICAgICBnZXRBbmRGaWxsQ29udmVyc2F0aW9uKHt1c2VybmFtZSwgY29udmVyc2F0aW9uSWQsIHVzZXJhdmF0YXJ9KTtcclxuICAgICAgICAgICAgICAgICR0ZXh0QXJlYS52YWwoJycpO1xyXG4gICAgICAgICAgICAgICAgU3Bpbm5lci5yZW1vdmUoKTtcclxuICAgICAgICAgICAgICAgIC8vIHdpbmRvdy5QdWJTdWIucHVibGlzaChDT05TVC5ldmVudHMubWVzc2FnZXMuUkVDSUVWRV9ORVdfTUVTU0FHRSwge3VzZXJuYW1lLCBjb252ZXJzYXRpb25JZCwgdmFsdWUsIHJlc3VsdH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBtZXNzYWdlQXJlYUhlbmRsZXIoJHRleHRBcmVhLCAkKCcjc2VuZE1lc3NhZ2VCdXR0b24nKSk7XHJcblxyXG4gICAgZnVuY3Rpb24gdXNlclNob3dDb252ZXJzZXRpb25IYW5kbGVyKGUsIHVzZXJEYXRhKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ2NsaWNrJyk7XHJcbiAgICAgICAgY29uc3QgaXNDbGlja0Zyb21SZXF1ZXN0Q29uZmlybSA9IHVzZXJEYXRhO1xyXG4gICAgICAgIGxldCB1c2VyRGF0YUZyb21MaUdyb3VwID0gJyc7XHJcbiAgICAgICAgaWYgKGlzQ2xpY2tGcm9tUmVxdWVzdENvbmZpcm0pIHtcclxuICAgICAgICAgICAgJCgnLmpzX3NlbmQtbWVzc2FnZS1ib3gnKS5hZGRDbGFzcygnZC1ub25lJyk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgLy8gY2xpY2tlZCBvbiBub3JtYWwgY29udmVyc2F0aW9uXHJcbiAgICAgICAgICAgIHVzZXJEYXRhRnJvbUxpR3JvdXAgPSAkKGUudGFyZ2V0KS5jbG9zZXN0KCcubGlzdC1ncm91cC1pdGVtJykuZGF0YSgpO1xyXG4gICAgICAgICAgICAkKCcuY29uZmlybS1idXR0b25zLWJveCcpLmFkZENsYXNzKCdkLW5vbmUnKTtcclxuICAgICAgICAgICAgJCgnLmpzX3NlbmQtbWVzc2FnZS1ib3gnKS5yZW1vdmVDbGFzcygnZC1ub25lJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHt1c2VybmFtZSwgdXNlcmF2YXRhcn0gPSB1c2VyRGF0YSB8fCB1c2VyRGF0YUZyb21MaUdyb3VwO1xyXG4gICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgY29uc3QgJHRhcmdldEJ0biA9ICQoZS50YXJnZXQpLmNsb3Nlc3QoJy5tZWRpYScpO1xyXG4gICAgICAgIGNvbnN0ICR0aXRsZSA9ICR0YXJnZXRCdG4uZmluZCgnLnRpdGxlJyk7XHJcbiAgICAgICAgY29udmVyc2F0aW9uSWQgPSAkdGFyZ2V0QnRuLmRhdGEoJ2NvbnZlcnNhdGlvbi1pZCcpO1xyXG4gICAgICAgIGlmICgkdGl0bGUuaGFzQ2xhc3MoJ2ZvbnQtd2VpZ2h0LWJvbGQnKSkge1xyXG4gICAgICAgICAgICAkdGl0bGUucmVtb3ZlQ2xhc3MoJ2ZvbnQtd2VpZ2h0LWJvbGQnKTtcclxuICAgICAgICAgICAgJHRhcmdldEJ0bi5maW5kKCcuc3VtbWFyeS1kb3QnKS5hZGRDbGFzcygnZC1ub25lJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFNwaW5uZXIucmVtb3ZlKCk7XHJcbiAgICAgICAgU3Bpbm5lci5hZGQoJCgnI21haW5DaGF0UGFydCcpLCAnbXktNSBweS01Jyk7XHJcbiAgICAgICAgZ2V0QW5kRmlsbENvbnZlcnNhdGlvbih7dXNlcm5hbWUsIGNvbnZlcnNhdGlvbklkLCB1c2VyYXZhdGFyfSwgJ2lzU2Nyb2xsRG93bicsIGlzQ2xpY2tGcm9tUmVxdWVzdENvbmZpcm0pO1xyXG4gICAgICAgIGZsYWdJbml0aWFsVmFsID0gdHJ1ZTsgLy8gcmVzZXQgZmlyc3QgdmFsdWUgZmxhZ1xyXG4gICAgICAgIC8vIHJlc2VuZCByZXF1ZXN0XHJcbiAgICAgICAgaWYgKGludGVydmFsSWQpIHtcclxuICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChpbnRlcnZhbElkKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaW50ZXJ2YWxJZCA9IHNldEludGVydmFsKCgpID0+IHtcclxuICAgICAgICAgICAgY29udmVyc2F0aW9uSWQgPSAkKGUudGFyZ2V0KS5jbG9zZXN0KCcubWVkaWEnKS5kYXRhKCdjb252ZXJzYXRpb24taWQnKTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coaW50ZXJ2YWxJZCwgY29udmVyc2F0aW9uSWQpO1xyXG4gICAgICAgICAgICBnZXRBbmRGaWxsQ29udmVyc2F0aW9uKHt1c2VybmFtZSwgY29udmVyc2F0aW9uSWQsIHVzZXJhdmF0YXJ9LCBmYWxzZSwgaXNDbGlja0Zyb21SZXF1ZXN0Q29uZmlybSk7XHJcbiAgICAgICAgfSwgdXBkYXRlSW50ZXJ2YWwpO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICAkKGRvY3VtZW50KS5vbignY2xpY2snLCAnLmxpc3QtZ3JvdXAtaXRlbSAuY29sbGFwc2UnLCB1c2VyU2hvd0NvbnZlcnNldGlvbkhhbmRsZXIpO1xyXG4gICAgJChkb2N1bWVudCkub24oJ2NsaWNrJywgJy5qc19tZXNzYWdlcy1yZXF1ZXN0JywgZnVuY3Rpb24oZSkge1xyXG4gICAgICAgIGNvbnN0IHVzZXJEYXRhID0gJChlLnRhcmdldCkuY2xvc2VzdCgnLmxpc3QtZ3JvdXAtaXRlbScpLmRhdGEoKTtcclxuICAgICAgICB1c2VyU2hvd0NvbnZlcnNldGlvbkhhbmRsZXIoZSwgdXNlckRhdGEpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdhZGRDb25maWdCdXR0b25zJywgY29udmVyc2F0aW9uSWQpO1xyXG4gICAgICAgIGFkZENvbmZpcmdCdXR0b25zKGNvbnZlcnNhdGlvbklkLCB1c2VyRGF0YS51c2VybmFtZSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICB3aW5kb3cuUHViU3ViLnN1YnNjcmliZShDT05TVC5ldmVudHMubWVzc2FnZXMuUkVDSUVWRV9ORVdfTUVTU0FHRSwgKGV2ZW50TmFtZSwgZGF0YSkgPT4ge1xyXG4gICAgICAgIGNvbnN0IHt1c2VybmFtZSwgY29udmVyc2F0aW9uSWQsIHZhbHVlLCByZXN1bHRGcm9tU2VydmVyfSA9IGRhdGE7XHJcbiAgICAgICAgY29uc3QgJGRpYWxvZyA9ICQoYC5tZXNzYWdlcy11c2VyLWxpc3QgLmxpc3QtZ3JvdXAtaXRlbVtkYXRhLXVzZXJuYW1lPVwiJHt1c2VybmFtZX1cIl0gZGl2W2RhdGEtY29udmVyc2F0aW9uLWlkPVwiJHtjb252ZXJzYXRpb25JZH1cIl1gKTtcclxuICAgICAgICBjb25zb2xlLmxvZygncmVzdWx0RnJvbVNlcnZlcjogJywgcmVzdWx0RnJvbVNlcnZlcik7XHJcbiAgICAgICAgJGRpYWxvZy5maW5kKCcuc3VtbWFyeScpLnRleHQodmFsdWUpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gc2VuZCBpbWFnZSB7aWdVc2VybmFtZX0ve2lkfS9waG90b1xyXG4gICAgaW1hZ2VVcGxvYWQuaW5pdChmYWxzZSwgaW1hZ2VMb2FkU3VibWl0Q2IpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaW5pdCgpIHtcclxuICAgIC8vIGNoZWNrIHdlIGFyZSBpbiBjb3JyZWN0IHBhZ2UgKG1lc3NhZ2VzKVxyXG4gICAgaWYgKCFpc0luTWVzc2FnZVBhZ2UoKSkge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBnZXRBbmRGaWxsVXNlckxpc3QoJ3NldEFjdGl2ZUZpcnN0Jyk7XHJcbiAgICBhZGRIYW5kbGVycygpO1xyXG4gICAgY29uc3QgY2ZnID0ge1xyXG4gICAgICAgIHVzZXJuYW1lOiAneW91cl9kaWV0YScsXHJcbiAgICAgICAgZmlsbFVzZXJMaXN0Rm46IGZpbGxVc2VyTGlzdFxyXG4gICAgfTtcclxuICAgIGluaXRSZXF1ZXN0cyhjZmcpO1xyXG59XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9ibG9ja3MvbWVzc2FnZXMvbWVzc2FnZXMuanMiLCJpbXBvcnQgVXNlckNvbnZlcnNhdGlvbiBmcm9tICcuLi8uLi9jb21tb24vanMtc2VydmljZXMvYXBpLXVzZXItZGlyZWN0JztcclxuaW1wb3J0IFVzZXIgZnJvbSAnLi4vLi4vY29tbW9uL2pzLXNlcnZpY2VzL3VzZXInO1xyXG5cclxuLypcclxuRW5kcG9pbnQg0L3QsCDQv9C+0LvRg9GH0LXQvdC40LUg0LfQsNC/0YDQvtGB0L7QsjogR0VUIGh0dHA6Ly9hcGkubHV4Z3JhbS5ydS92MS9pbnN0YWdyYW0tZGlyZWN0L3BlbmRpbmcve3VzZXJuYW1lfVxyXG7QrdGC0L4g0LXQvdC00L/QvtC40L3RgiDQtNC+0LvQttC10L0g0LHRi9GC0Ywg0LLRi9C30LLQsNC9INGC0L7Qu9GM0LrQviDQv9GA0Lgg0L3QsNC20LDRgtC40Lgg0L3QsCDRgtC10LrRgdGCINGBINC60L7Qu9C40YfQtdGB0YLQstC+0Lwg0LfQsNC/0YDQvtGB0L7Qsi5cclxuKi9cclxuLy8gY29uc3QgY2ZnVCA9IHtcclxuLy8gICAgIHVzZXJuYW1lOiAneW91cl9kaWV0YScsXHJcbi8vICAgICBnZXRBbmRGaWxsVXNlckxpc3RGbjogJ2dldEFuZEZpbGxVc2VyTGlzdF9GdW5jdGlvbidcclxuLy8gfTtcclxuY29uc3QgY29uZmlybVVzZXJEYXRhID0ge307XHJcbmV4cG9ydCBjb25zdCBhZGRDb25maXJnQnV0dG9ucyA9IChjb252ZXJzYXRpb25JZCwgdXNlcm5hbWUpID0+IHtcclxuICAgIGNvbnNvbGUubG9nKCdhZGRDb25maXJnQnV0dG9ucyBwcm9jZWVkJywgdXNlcm5hbWUsIGNvbnZlcnNhdGlvbklkKTtcclxuICAgIGNvbnN0ICRjb25maXJtQnRuQm94ID0gJCgnLmpzX3JlcXVlc3QtY29uZmlybS1ib3gnKTtcclxuICAgICRjb25maXJtQnRuQm94LnJlbW92ZUNsYXNzKCdkLW5vbmUnKTtcclxuICAgIGNvbmZpcm1Vc2VyRGF0YS51c2VybmFtZSA9IHVzZXJuYW1lO1xyXG4gICAgY29uZmlybVVzZXJEYXRhLmNvbnZlcnNhdGlvbklkID0gY29udmVyc2F0aW9uSWQ7XHJcbn07XHJcbmNvbnN0IGNvbnZlcnNhdGlvbkRldGFpbCA9IGZ1bmN0aW9uKGl0ZW1zKSB7XHJcbiAgICBsZXQgdHBsID0gJyc7XHJcbiAgICBpdGVtcy5mb3JFYWNoKChpdGVtKSA9PiB7XHJcbiAgICAgICAgY29uc3Qge3Byb2ZpbGVQaWNVcmw6IHNyY0ltZ30gPSBpdGVtO1xyXG4gICAgICAgIGlmIChpdGVtcy5sZW5ndGggPiAxKSB7XHJcbiAgICAgICAgICAgIHRwbCArPSBgPGltZyBzcmM9XCIke3NyY0ltZ31cIiBhbHQ9J2ltYWdlJyBjbGFzcz1cIm1lZGlhLXBob3RvIG1yLTEgbWVkaWEtcGhvdG8tLWdyb3VwXCIgc3R5bGU9XCJ3aWR0aDogMjRweDtcIj5gO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRwbCArPSBgPGltZyBzcmM9XCIke3NyY0ltZ31cIiBhbHQ9J2ltYWdlJyBjbGFzcz1cIm1lZGlhLXBob3RvIG1yLTFcIiBzdHlsZT1cIndpZHRoOiAyNHB4O1wiPmA7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gdHBsO1xyXG59O1xyXG5cclxuY29uc3QgYWRkQ29udmVyc2F0aW9ucyA9IGZ1bmN0aW9uKGNvbnZlcnNhdGlvbnMpIHtcclxuICAgIGxldCB0cGwgPSAnJztcclxuICAgIGNvbnZlcnNhdGlvbnMuZm9yRWFjaCgoaXRlbSkgPT4ge1xyXG4gICAgICAgIGNvbnN0IHt1c2VycywgaWQsIHRpdGxlfSA9IGl0ZW07XHJcbiAgICAgICAgLy8gY29uc3QgaXNVbnJlYWQgPSBpdGVtWydpc191bnJlYWQnXTtcclxuICAgICAgICAvLyBjb25zdCBsYXN0TWVzc2FnZSA9IGl0ZW1bJ2xhc3RNZXNzYWdlJ107XHJcbiAgICAgICAgLy8gY29uc3QgaXNMYXN0TXNnID0gbGFzdE1lc3NhZ2UgJiYgKHBhcnNlSW50KGxhc3RNZXNzYWdlLmxlbmd0aCwgMTApKTtcclxuICAgICAgICAvLyBjb25zdCBpc0FkZERvdCA9IGlzTGFzdE1zZyA+IDAgJiYgdXNlcnMubGVuZ3RoID4gMSAmJiBpc1VucmVhZDtcclxuICAgICAgICB0cGwgKz0gYFxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1lZGlhIHAtMSBqc19tZXNzYWdlcy1yZXF1ZXN0IG1lc3NhZ2VzLXJlcXVlc3RcIiBkYXRhLWNvbnZlcnNhdGlvbi1pZD1cIiR7aWR9XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgJHtjb252ZXJzYXRpb25EZXRhaWwodXNlcnMpfVxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtZWRpYS1ib2R5XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxoNSBjbGFzcz1cInRpdGxlXCI+JHt0aXRsZX08L2g1PlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIGA7XHJcbiAgICB9KTtcclxuICAgIHJldHVybiB0cGw7XHJcbn07XHJcblxyXG5jb25zdCBnZXRSZXF1ZXN0UGVuZGluZyA9IGZ1bmN0aW9uKHVzZXJuYW1lLCBlbElkKSB7XHJcbiAgICAvLyBjb25zdCB1c2VybmFtZSA9ICd5b3VyX2RpZXRhJztcclxuICAgIFVzZXJDb252ZXJzYXRpb24uZ2V0UmVxdWVzdFBlbmRpbmcodXNlcm5hbWUpLnRoZW4oKHJlc3VsdCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IHtkYXRhOiB7cmVxdWVzdHN9fSA9IHJlc3VsdDtcclxuICAgICAgICBjb25zb2xlLmxvZygncmVzdWx0JywgcmVxdWVzdHMpO1xyXG4gICAgICAgIGNvbnN0IHRwbCA9IGFkZENvbnZlcnNhdGlvbnMocmVxdWVzdHMsIGVsSWQpO1xyXG4gICAgICAgICQodHBsKS5hcHBlbmRUbygkKGAjJHtlbElkfWApKTtcclxuICAgIH0pO1xyXG59O1xyXG5cclxuZnVuY3Rpb24gZmlsbFVzZXJMaXN0KCRsaXN0LCBkYXRhQXJyYXksIGxvYWRNb3JlQ2JGdW5jdGlvbikge1xyXG4gICAgY29uc3QgaXRlbXMgPSBkYXRhQXJyYXk7XHJcbiAgICBjb25zdCBjTGlzdCA9ICRsaXN0O1xyXG4gICAgbGV0IHRwbCA9ICcnO1xyXG4gICAgLy8gY29uc3QgbG9hZE1vcmVCb3ggPSAoaWR4LCBwcmV2X2N1cnNvcikgPT4gYDxkaXYgY2xhc3M9XCJsaXN0LWZvb3RlciB0ZXh0LWNlbnRlciBqc19sb2FkLW1vcmUtYm94XCIgZGF0YS1pZHg9XCIke2lkeH1cIiBkYXRhLWN1cnNvcj1cIiR7cHJldl9jdXJzb3J9XCI+XHJcbiAgICAvLyAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJidG4gYnRuLW91dGxpbmUtc2Vjb25kYXJ5IGJ0bi1zbSBidG4tc3VibWl0XCI+0JfQsNCz0YDRg9C30LjRgtGMINC10YnQtTwvYnV0dG9uPlxyXG4gICAgLy8gPC9kaXY+YDtcclxuICAgIGNMaXN0LmVtcHR5KCkuYWRkQ2xhc3MoJ2JvcmRlci1saWdodC1jb2xvcicpO1xyXG4gICAgLy8gdG9kbzogZml4IGhhcmQtY29kZSAgaW1nIHNyYz1cImh0dHBzOi8vaS5pbWd1ci5jb20vak5OVDRMRS5wbmdcIlxyXG4gICAgaXRlbXMuZm9yRWFjaCgoaXRlbSwgaWR4KSA9PiB7XHJcbiAgICAgICAgLy8gY29uc3Qge3BhZ2luYXRpb259ID0gaXRlbTtcclxuICAgICAgICBjb25zdCBlbElkID0gYGNvbGxhcHNlLXJlcS0ke2lkeH1gO1xyXG4gICAgICAgIC8vIGNvbnN0IHtjb252ZXJzYXRpb25zfSA9IGl0ZW07XHJcbiAgICAgICAgY29uc29sZS5sb2coaXRlbS5wZW5kaW5nX3JlcXVlc3RzKTtcclxuICAgICAgICBpZiAoaXRlbS5wZW5kaW5nX3JlcXVlc3RzKSB7XHJcbiAgICAgICAgICAgIGdldFJlcXVlc3RQZW5kaW5nKGl0ZW0udXNlcm5hbWUsIGVsSWQpO1xyXG4gICAgICAgICAgICB0cGwgKz0gYDxsaSBjbGFzcz1cImxpc3QtZ3JvdXAtaXRlbVwiIGRhdGEtdG9nZ2xlPVwiY29sbGFwc2VcIiBkYXRhLXRhcmdldD1cIiMke2VsSWR9XCIgXHJcbiAgICAgICAgICAgICAgICBkYXRhLXVzZXJuYW1lPVwiJHtpdGVtLnVzZXJuYW1lfVwiXHJcbiAgICAgICAgICAgICAgICBkYXRhLXVzZXJBdmF0YXI9XCIke2l0ZW0ucHJvZmlsZV9waWNfdXJsfVwiXHJcbiAgICAgICAgICAgICAgICBhcmlhLWV4cGFuZGVkPVwidHJ1ZVwiIGFyaWEtY29udHJvbHM9XCJjb2xsYXBzZS0ke2lkeH1cIj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbnZlcnNhdGlvbi1oZWFkIG1iLTEgbWVkaWEgcGItMlwiIGlkPVwiaGVhZGluZy0ke2lkeH1cIj5cclxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwibXItM1wiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxpbWcgc3JjPVwiJHtpdGVtLnByb2ZpbGVfcGljX3VybH1cIiBhbHQ9XCJhdmF0YXJcIlxyXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzPVwibWVkaWEtcGhvdG8gcm91bmRlZC1jaXJjbGVcIj5cclxuICAgICAgICAgICAgICAgIDwvc3Bhbj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtZWRpYS1ib2R5XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGg0IGNsYXNzPVwidGl0bGVcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgJHtpdGVtLnVzZXJuYW1lfVxyXG4gICAgICAgICAgICAgICAgICAgIDwvaDQ+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDxkaXYgaWQ9XCIke2VsSWR9XCIgY2xhc3M9XCJjb2xsYXBzZVwiIGFyaWEtbGFiZWxsZWRieT1cImhlYWRpbmctJHtpZHh9XCIgZGF0YS1wYXJlbnQ9XCIjYWNjb3JkaW9uLXJlcXVlc3RzXCI+XHJcbiAgICAgICAgICAgICAgICA8IS0tIGdldFJlcXVlc3RQZW5kaW5nKGl0ZW0udXNlcm5hbWUsIGVsSWQpIC0tPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPCEtLSB7KHBhZ2luYXRpb24gJiYgcGFnaW5hdGlvbi5wcmV2X2N1cnNvcikgPyAnbG9hZE1vcmVCb3goaWR4LCBwYWdpbmF0aW9uLnByZXZfY3Vyc29yKScgOiAnJ30gLS0+XHJcbiAgICAgICAgPC9saT5gO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgJCh0cGwpLmFwcGVuZFRvKGNMaXN0KTtcclxuXHJcbiAgICAvLyAkKCcuanNfbG9hZC1tb3JlLWJveCBidXR0b24nKS5vbignY2xpY2snLCAoZSkgPT4ge1xyXG4gICAgLy8gICAgIGNvbnN0ICRidG4gPSAkKGUudGFyZ2V0KTtcclxuICAgIC8vICAgICBjb25zdCAkYnRuQm94ID0gJGJ0bi5jbG9zZXN0KCcuanNfbG9hZC1tb3JlLWJveCcpO1xyXG4gICAgLy8gICAgIGNvbnN0IHNlY3Rpb24gPSAkYnRuQm94LmRhdGEoJ2lkeCcpO1xyXG4gICAgLy8gICAgIGNvbnN0IGN1cnNvciA9ICRidG5Cb3guZGF0YSgnY3Vyc29yJyk7XHJcbiAgICAvLyAgICAgY29uc3QgdXNlcm5hbWUgPSAkYnRuQm94LmNsb3Nlc3QoJ2xpJykuZGF0YSgndXNlcm5hbWUnKTtcclxuXHJcbiAgICAvLyAgICAgY29uc29sZS5sb2coJ2NsaWNrJywgc2VjdGlvbiwgY3Vyc29yKTtcclxuICAgIC8vICAgICBsb2FkTW9yZUNiRnVuY3Rpb24oY3Vyc29yLCBzZWN0aW9uLCB1c2VybmFtZSk7XHJcbiAgICAvLyAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgIC8vIH0pO1xyXG59XHJcblxyXG5jb25zdCB0b2tlbiA9IFVzZXIuZ2V0VG9rZW4oKTtcclxuZnVuY3Rpb24gZ2V0QW5kRmlsbFVzZXJMaXN0KGlzQWN0aXZlRmlyc3QsIHVzZXJMaXN0KSB7XHJcbiAgICBjb25zdCAkdXNlckxpc3QgPSB1c2VyTGlzdCB8fCAkKCcubWVzc2FnZXMtdXNlci1saXN0Jyk7XHJcbiAgICBsZXQgcHJldkFjdGl2ZURpYWxvZ0lkID0gJyc7XHJcbiAgICBpZiAoIWlzQWN0aXZlRmlyc3QpIHtcclxuICAgICAgICBwcmV2QWN0aXZlRGlhbG9nSWQgPSAkdXNlckxpc3QuZmluZCgnbGkgLmNvbGxhcHNlLnNob3cnKS5hdHRyKCdpZCcpO1xyXG4gICAgfVxyXG5cclxuICAgIFVzZXJDb252ZXJzYXRpb24uZ2V0TWV0YWRhdGEodG9rZW4pLnRoZW4oKHJlc3VsdCkgPT4ge1xyXG4gICAgICAgIGlmICghcmVzdWx0LmRhdGEpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCB7ZGF0YX0gPSByZXN1bHQ7XHJcbiAgICAgICAgZGF0YS5tZXRhLnNvcnQoKGEsIGIpID0+IGFbJ3VzZXJuYW1lJ10ubG9jYWxlQ29tcGFyZShiWyd1c2VybmFtZSddKSk7XHJcbiAgICAgICAgLy8gbWVzc2FnZXMtdXNlci1saXN0IGZyb20gdXRpbHMuanNcclxuICAgICAgICBmaWxsVXNlckxpc3QoJHVzZXJMaXN0LCBkYXRhLm1ldGEgLyogZ2V0QW5kRmlsbFVzZXJMaXN0Q3Vyc29yKi8pO1xyXG4gICAgICAgIC8vIGlmIChkYXRhLnNldHRpbmdzICYmIGRhdGEuc2V0dGluZ3MuaW52b2tlX2luX21pbGxpcykge1xyXG4gICAgICAgIC8vICAgICB1cGRhdGVJbnRlcnZhbCA9IGRhdGEuc2V0dGluZ3MuaW52b2tlX2luX21pbGxpcztcclxuICAgICAgICAvLyAgICAgdXBkYXRlSW50ZXJ2YWwgPSAodXBkYXRlSW50ZXJ2YWwgPiA2MDAwKSA/IHVwZGF0ZUludGVydmFsIDogMTAwMDA7XHJcbiAgICAgICAgLy8gfVxyXG4gICAgICAgIGlmIChpc0FjdGl2ZUZpcnN0KSB7XHJcbiAgICAgICAgICAgICR1c2VyTGlzdC5maW5kKCdsaTpmaXJzdC1jaGlsZCAuY29sbGFwc2UnKS5hZGRDbGFzcygnc2hvdycpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICQoYCMke3ByZXZBY3RpdmVEaWFsb2dJZH1gKS5hZGRDbGFzcygnc2hvdycpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gZG8gaXQgb25jZVxyXG4gICAgICAgIC8vIGlmICghaXNUaW1lT3V0UnVubmVkKSB7XHJcbiAgICAgICAgLy8gICAgIGludGVydmFsVXNlckxpc3QgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XHJcbiAgICAgICAgLy8gICAgICAgICBjb25zb2xlLmxvZygnc2V0SW50ZXJ2YWwnKTtcclxuICAgICAgICAvLyAgICAgICAgIGdldEFuZEZpbGxVc2VyTGlzdCgpO1xyXG4gICAgICAgIC8vICAgICB9LCB1cGRhdGVJbnRlcnZhbCk7XHJcbiAgICAgICAgLy8gICAgIGlzVGltZU91dFJ1bm5lZCA9IHRydWU7XHJcbiAgICAgICAgLy8gfVxyXG4gICAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGluaXRIYW5kbGVycygpIHtcclxuICAgIGNvbnN0ICRjb25maXJtQnRuQm94ID0gJCgnLmpzX3JlcXVlc3QtY29uZmlybS1ib3gnKTtcclxuICAgIGNvbnN0ICRyZXFDb25maXJtQnRuID0gJCgnLmpzX3JlcXVlc3QtY29uZmlybScsICRjb25maXJtQnRuQm94KTtcclxuICAgIGNvbnN0ICRyZXFSZWplY3RCdG4gPSAkKCcuanNfcmVxdWVzdC1yZWplY3QnLCAkY29uZmlybUJ0bkJveCk7XHJcblxyXG4gICAgJHJlcUNvbmZpcm1CdG4ub24oJ2NsaWNrJywgKGUpID0+IHtcclxuICAgICAgICAvLyBQVVQgaHR0cDovL2FwaS5sdXhncmFtLnJ1L3YxL2luc3RhZ3JhbS1kaXJlY3QvcGVuZGluZy97dXNlcm5hbWV9L3tpZH1cclxuICAgICAgICBVc2VyQ29udmVyc2F0aW9uLnB1dFJlcXVlc3RQZW5kaW5nKGNvbmZpcm1Vc2VyRGF0YSkudGhlbigocmVzdWx0KSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChyZXN1bHQuc3RhdHVzLnN0YXRlID09PSAnb2snKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmluZm8oJ3Jlc3VsdDogJywgcmVzdWx0KTtcclxuICAgICAgICAgICAgICAgICRjb25maXJtQnRuQm94LmFkZENsYXNzKCdkLW5vbmUnKTtcclxuICAgICAgICAgICAgICAgICQoJy5qc19zaG93LW1lc3NhZ2VzLXVzZXItbGlzdCcpLnRyaWdnZXIoJ2NsaWNrJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH0pO1xyXG4gICAgJHJlcVJlamVjdEJ0bi5vbignY2xpY2snLCAoZSkgPT4ge1xyXG4gICAgICAgIFVzZXJDb252ZXJzYXRpb24uZGVsUmVxdWVzdFBlbmRpbmcoY29uZmlybVVzZXJEYXRhKS50aGVuKChyZXN1bHQpID0+IHtcclxuICAgICAgICAgICAgaWYgKHJlc3VsdC5zdGF0dXMuc3RhdGUgPT09ICdvaycpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUuaW5mbygncmVzdWx0OiAnLCByZXN1bHQpO1xyXG4gICAgICAgICAgICAgICAgJGNvbmZpcm1CdG5Cb3guYWRkQ2xhc3MoJ2Qtbm9uZScpO1xyXG4gICAgICAgICAgICAgICAgJCgnLmpzX3Nob3ctbWVzc2FnZXMtdXNlci1saXN0JykudHJpZ2dlcignY2xpY2snKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgY29uc3QgJHNob3dVc2VyTGlzdCA9ICQoJy5qc19zaG93LW1lc3NhZ2VzLXVzZXItbGlzdCcpO1xyXG4gICAgJHNob3dVc2VyTGlzdC5vbignY2xpY2snLCAoZSkgPT4ge1xyXG4gICAgICAgICQoZS50YXJnZXQpLmNsb3Nlc3QoJy51c2VyLXJlcXVlc3RzLWJveCcpLnJlbW92ZUNsYXNzKCd1c2VyLXJlcXVlc3RzLWJveC0tc2hvdycpO1xyXG4gICAgICAgICQoJy51c2VyLWxpc3QtYm94JykucmVtb3ZlQ2xhc3MoJ3VzZXItbGlzdC1ib3gtLWhpZGUnKTtcclxuICAgICAgICAkKCcjbWFpbkNoYXRQYXJ0JykuYWRkQ2xhc3MoJ2Qtbm9uZScpO1xyXG4gICAgfSk7XHJcbn1cclxuZXhwb3J0IGZ1bmN0aW9uIGluaXRSZXF1ZXN0cyhjZmcpIHtcclxuICAgIGNvbnN0ICRsaXN0ID0gJCgnLm1lc3NhZ2VzLXJlcXVlc3RzLWxpc3QnKTtcclxuICAgIGdldEFuZEZpbGxVc2VyTGlzdCgnc2V0QWN0aXZlRmlyc3QnLCAkbGlzdCk7XHJcbiAgICBpbml0SGFuZGxlcnMoKTtcclxufVxyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvYmxvY2tzL21lc3NhZ2VzL3JlcXVlc3RzLmpzIiwiaW1wb3J0IHZpZXdVdGlscyBmcm9tICcuLi8uLi9jb21tb24vanMtc2VydmljZXMvdmlldyc7XHJcbi8vIGltcG9ydCBVc2VyQ29udmVyc2F0aW9uIGZyb20gJy4uLy4uL2NvbW1vbi9qcy1zZXJ2aWNlcy9hcGktdXNlci1kaXJlY3QnO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGNsZWFyTWFzc2FnZXNMaXN0KCRsaXN0LCBzdGF0ZUNmZykge1xyXG4gICAgc3RhdGVDZmcucGFnZUluY3JlbWVudCA9IDA7XHJcbiAgICAkbGlzdC5lbXB0eSgpO1xyXG59XHJcbmV4cG9ydCBmdW5jdGlvbiBmaWxsTWFzc2FnZXNMaXN0KHskbGlzdCwgZGF0YUFycmF5LCBpc0FwcGVuZFByZXZNc2csIHN0YXRlQ2ZnLCBjdXJyZW50VXNlckRhdGF9KSB7XHJcbiAgICBjb25zdCBpdGVtcyA9IGRhdGFBcnJheTtcclxuICAgIGNvbnN0IGNMaXN0ID0gJGxpc3Q7XHJcbiAgICAvLyBjb25zdCBsaXN0RGF0YUNvbnZlcnNhdGlvbiA9ICQoJy5tZXNzYWdlcy1saXN0JykuYXR0cignZGF0YS1jb252ZXJzYXRpb24nKTtcclxuICAgIC8vIGNvbnN0IGN1cnJlbnRVc2VybmFtZSA9IEpTT04ucGFyc2UobGlzdERhdGFDb252ZXJzYXRpb24pO1xyXG4gICAgY29uc3QgaW5zZXJ0TXNnID0gKHZhbHVlLCBtZXNzYWdlLCBjc3NDbHMpID0+IHtcclxuICAgICAgICBsZXQgc3RyID0gJyc7XHJcbiAgICAgICAgbGV0IHZhbHVlV2l0aFVybCA9ICcnO1xyXG4gICAgICAgIGNvbnN0IHt0eXBlLCAvKiB1c2VybmFtZSwgcHJvZmlsZV9waWNfdXJsLCAqLyBjYXB0aW9ufSA9IG1lc3NhZ2U7XHJcbiAgICAgICAgLy8gY29uc3QgdXNlckhlYWRlciA9IHt1c2VybmFtZSwgcHJvZmlsZV9waWNfdXJsfTtcclxuICAgICAgICAvLyBpZiAoY3NzQ2xzID09PSAndGV4dC1yaWdodCcpIHtcclxuICAgICAgICAvLyAgICAgdXNlckhlYWRlci51c2VybmFtZSA9IGN1cnJlbnRVc2VyRGF0YS51c2VybmFtZTtcclxuICAgICAgICAvLyAgICAgdXNlckhlYWRlci5wcm9maWxlX3BpY191cmwgPSBjdXJyZW50VXNlckRhdGEudXNlcmF2YXRhcjtcclxuICAgICAgICAvLyB9XHJcbiAgICAgICAgaWYgKHR5cGUgPT09ICdURVhUJykge1xyXG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdXNlbGVzcy1lc2NhcGVcclxuICAgICAgICAgICAgY29uc3QgcmVnZXggPSAvWyhodHRwKHMpPyk6XFwvXFwvKHd3d1xcLik/YS16QS1aMC05QDolLl9cXCt+Iz1dezIsMjU2fVxcLlthLXpdezIsNn1cXGIoWy1hLXpBLVowLTlAOiVfXFwrLn4jPyYvLz1dKikvZ207XHJcbiAgICAgICAgICAgIGNvbnN0IHN1YnN0ID0gJzxhIGhyZWY9JCYgdGFyZ2V0PVwiX2JsYW5rXCI+JCY8L2E+JztcclxuICAgICAgICAgICAgdmFsdWVXaXRoVXJsID0gdmFsdWUucmVwbGFjZShyZWdleCwgc3Vic3QpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBzd2l0Y2ggKHR5cGUudG9Mb3dlckNhc2UoKSkge1xyXG4gICAgICAgICAgICBjYXNlICdwaG90byc6XHJcbiAgICAgICAgICAgICAgICBzdHIgPSBgPGRpdiBjbGFzcz1cImNoYXQtaW1nXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGltZyBzcmM9XCIke3ZhbHVlfVwiIGFsdD1cIkNvbnRlbnQgSW1hZ2VcIiBjbGFzcz1cImNvbnRlbnQtaW1hZ2VcIj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PmA7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAndmlkZW8nOlxyXG4gICAgICAgICAgICAgICAgc3RyID0gYDxkaXYgY2xhc3M9XCJjaGF0LXZpZGVvXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGEgdGFyZ2V0PVwiX2JsYW5rXCIgaHJlZj1cIiR7dmFsdWV9XCIgY2xhc3M9XCJwb3NpdGlvbi1yZWxhdGl2ZVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz1cImZhLTN4IGZhLXBsYXktY2lyY2xlIGZhciBwb3NpdGlvbi1hYnNvbHV0ZSB0ZXh0LXdoaXRlIGNoYXQtdmlkZW8tLWljb25cIj48L2k+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxpbWcgc3JjPVwiJHttZXNzYWdlLnByZXZpZXdfdmFsdWV9XCIgYWx0PVwiQ29udGVudCBJbWFnZVwiIGNsYXNzPVwiY2hhdC12aWRlby0taW1hZ2VcIj5cclxuICAgICAgICAgICAgICAgICAgICA8L2E+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5gO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgJ2dpZic6XHJcbiAgICAgICAgICAgICAgICBzdHIgPSBgPGRpdiBjbGFzcz1cImNoYXQtaW1nXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGltZyBzcmM9XCIke3ZhbHVlfVwiIGFsdD1cIkNvbnRlbnQgSW1hZ2VcIiBjbGFzcz1cImNvbnRlbnQtaW1hZ2VcIj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PmA7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAnbGlrZSc6XHJcbiAgICAgICAgICAgICAgICBzdHIgPSBgPGRpdiBjbGFzcz1cImNoYXQtdGV4dCAke2Nzc0Nsc31cIiA+JHt2YWx1ZX08L2Rpdj5gO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgJ3Bvc3QnOlxyXG4gICAgICAgICAgICAgICAgc3RyID0gYDxkaXYgY2xhc3M9XCJjaGF0LXBvc3QtbWVzc2FnZVwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxhIHRhcmdldD1cIl9ibGFua1wiIGhyZWY9XCIke3ZhbHVlfVwiIGNsYXNzPVwidGV4dC1ib2R5IHRleHQtZGVjb3JhdGlvbi1ub25lXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjaGF0LXBvc3QtbWVzc2FnZS0taGVhZGVyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW1nIHNyYz1cIiR7bWVzc2FnZS5wcm9maWxlX3BpY191cmx9XCIgYWx0PVwiQ29udGVudCBJbWFnZVwiIGNsYXNzPVwidXNlci1hdmF0YXIgbXItM1wiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHttZXNzYWdlLnVzZXJuYW1lfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9XCJmYXMgZmEtY2hldnJvbi1yaWdodFwiPjwvaT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxpbWcgc3JjPVwiJHttZXNzYWdlLnByZXZpZXdfdmFsdWV9XCIgYWx0PVwiQ29udGVudCBJbWFnZVwiIGNsYXNzPVwiY29udGVudC1pbWFnZVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkeyhjYXB0aW9uKSA/IGA8cCBjbGFzcz1cImNoYXQtcG9zdC1jYXB0aW9uIG0tM1wiPiR7Y2FwdGlvbn08cD5gIDogJyd9XHJcbiAgICAgICAgICAgICAgICAgICAgPC9hPlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+YDtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICd0ZXh0JzpcclxuICAgICAgICAgICAgICAgIHN0ciA9IGA8ZGl2IGNsYXNzPVwiY2hhdC10ZXh0ICR7Y3NzQ2xzfVwiID4ke3ZhbHVlV2l0aFVybH08L2Rpdj5gO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6IHN0ciA9IGA8ZGl2IGNsYXNzPVwiY2hhdC10ZXh0ICR7Y3NzQ2xzfVwiID4ke3ZhbHVlfTwvZGl2PmA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBzdHI7XHJcbiAgICB9O1xyXG4gICAgY29uc3QgYWRkVG9MaXN0ID0gKGlzQXBwZW5kUHJldk1zZywgJGxpLCAkbGlzdCkgPT4ge1xyXG4gICAgICAgIGlmIChpc0FwcGVuZFByZXZNc2cpIHtcclxuICAgICAgICAgICAgJGxpLmluc2VydEJlZm9yZSgkbGlzdC5maW5kKCdsaTpmaXJzdC1jaGlsZCcpKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAkbGkuYXBwZW5kVG8oJGxpc3QpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBpZiAoaXNBcHBlbmRQcmV2TXNnKSB7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coJ2lzQXBwZW50UHJldk1zZyB0bycsIGNMaXN0KTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgY0xpc3QuZW1wdHkoKS5hZGRDbGFzcygnYm9yZGVyLWxpZ2h0LWNvbG9yJyk7XHJcbiAgICAgICAgY2xlYXJNYXNzYWdlc0xpc3QoY0xpc3QsIHN0YXRlQ2ZnKTtcclxuICAgICAgICAvLyBhZGQgbWFyZ2luLWF1dG8gdG8gbWFrZSBtYXNzZWdlcyBvbiBib3R0b21cclxuICAgICAgICAkKCc8bGkgY2xhc3M9XCJtdC1hdXRvXCI+PC9saT4nKS5hcHBlbmRUbyhjTGlzdCk7XHJcbiAgICB9XHJcbiAgICBpdGVtcy5mb3JFYWNoKChpdGVtKSA9PiB7XHJcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGl0ZW07XHJcbiAgICAgICAgY29uc3QgdmFsdWUgPSBtZXNzYWdlLnZhbHVlLnJlcGxhY2UoLyg/OlxcclxcbnxcXHJ8XFxuKS9nLCAnPGJyIC8+Jyk7XHJcbiAgICAgICAgLy8gY29uc3QgdmFsdWUgPSBtZXNzYWdlLnZhbHVlO1xyXG5cclxuICAgICAgICBpZiAobWVzc2FnZS5zaWRlLnRvTG93ZXJDYXNlKCkgPT09ICdsZWZ0Jykge1xyXG4gICAgICAgICAgICBjb25zdCAkbGkgPSAkKGA8bGkgY2xhc3M9XCJjaGF0LWl0ZW0gY2hhdC1pdGVtLWxlZnQgY29sIGZsZXgtY29sdW1uLXJldmVyc2VcIiB2YWx1ZT1cIiR7bWVzc2FnZS52YWx1ZX1cIj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkLWZsZXhcIj5cclxuICAgICAgICAgICAgICAgICR7KG1lc3NhZ2VbJ3Byb2ZpbGVfcGljX3VybCddKVxyXG4gICAgICAgICAgICAgICAgPyBgPGRpdiBjbGFzcz1cImNoYXQtaW1nLWJveFwiPiBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbWcgc3JjPVwiJHttZXNzYWdlWydwcm9maWxlX3BpY191cmwnXX1cIiBhbHQ9XCJVc2VyIEF2YXRhclwiIGNsYXNzPVwiXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PmBcclxuICAgICAgICAgICAgICAgIDogJydcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIDxkaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3M9XCJjaGF0LXVzZXJuYW1lIHRleHQtbXV0ZWRcIj4ke21lc3NhZ2UudXNlcm5hbWV9PC9wPlxyXG4gICAgICAgICAgICAgICAgICAgICR7aW5zZXJ0TXNnKHZhbHVlLCBtZXNzYWdlLCAndGV4dC1sZWZ0Jyl9XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8c21hbGwgY2xhc3M9XCJjaGF0LXRpbWUtdGV4dFwiPiR7dmlld1V0aWxzLmdldEZvcm1hdHRlZERhdGVVdGlsKG1lc3NhZ2UudGltZXN0YW1wKX08L3NtYWxsPlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPC9saT5gKTtcclxuICAgICAgICAgICAgYWRkVG9MaXN0KGlzQXBwZW5kUHJldk1zZywgJGxpLCBjTGlzdCk7IC8vIHRvRG8gcmVmYWN0b3IgbWUsIGxlc3MgRE9NIG1hbmlwdWxhdGlvblxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbnN0ICRsaSA9ICQoYDxsaSBjbGFzcz1cImNoYXQtaXRlbSBjaGF0LWl0ZW0tcmlnaHQgY29sIGZsZXgtY29sdW1uLXJldmVyc2VcIiB2YWx1ZT1cIiR7bWVzc2FnZS52YWx1ZX1cIj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkLWZsZXgganVzdGlmeS1jb250ZW50LWVuZFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICR7aW5zZXJ0TXNnKHZhbHVlLCBtZXNzYWdlLCAndGV4dC1yaWdodCcpfVxyXG4gICAgICAgICAgICAgICAgICAgIDxzbWFsbCBjbGFzcz1cInB1bGwtcmlnaHQgY2hhdC10aW1lLXRleHRcIj4ke3ZpZXdVdGlscy5nZXRGb3JtYXR0ZWREYXRlVXRpbChtZXNzYWdlLnRpbWVzdGFtcCl9PC9zbWFsbD5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPC9saT5gKTtcclxuICAgICAgICAgICAgYWRkVG9MaXN0KGlzQXBwZW5kUHJldk1zZywgJGxpLCBjTGlzdCk7IC8vIHRvRG8gcmVmYWN0b3IgbWUsIGxlc3MgRE9NIG1hbmlwdWxhdGlvblxyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG59XHJcblxyXG5jb25zdCBjb252ZXJzYXRpb25EZXRhaWwgPSBmdW5jdGlvbihpdGVtcykge1xyXG4gICAgbGV0IHRwbCA9ICcnO1xyXG4gICAgaXRlbXMuZm9yRWFjaCgoaXRlbSkgPT4ge1xyXG4gICAgICAgIGlmIChpdGVtcy5sZW5ndGggPiAxKSB7XHJcbiAgICAgICAgICAgIHRwbCArPSBgPGltZyBzcmM9XCIke2l0ZW1bJ3Byb2ZpbGVfcGljX3VybCddfVwiIGFsdD0naW1hZ2UnIGNsYXNzPVwibWVkaWEtcGhvdG8gbXItMSBtZWRpYS1waG90by0tZ3JvdXBcIiBzdHlsZT1cIndpZHRoOiAyNHB4O1wiPmA7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdHBsICs9IGA8aW1nIHNyYz1cIiR7aXRlbVsncHJvZmlsZV9waWNfdXJsJ119XCIgYWx0PSdpbWFnZScgY2xhc3M9XCJtZWRpYS1waG90byBtci0xXCIgc3R5bGU9XCJ3aWR0aDogMjRweDtcIj5gO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIHRwbDtcclxufTtcclxuZXhwb3J0IGNvbnN0IGFkZENvbnZlcnNhdGlvbnMgPSBmdW5jdGlvbihjb252ZXJzYXRpb25zKSB7XHJcbiAgICBsZXQgdHBsID0gJyc7XHJcbiAgICBjb252ZXJzYXRpb25zLmZvckVhY2goKGl0ZW0pID0+IHtcclxuICAgICAgICBjb25zdCBpc1VucmVhZCA9IGl0ZW1bJ2lzX3VucmVhZCddO1xyXG4gICAgICAgIGNvbnN0IGxhc3RNZXNzYWdlID0gaXRlbVsnbGFzdF9tZXNzYWdlJ107XHJcbiAgICAgICAgY29uc3QgaXNMYXN0TXNnID0gbGFzdE1lc3NhZ2UgJiYgKHBhcnNlSW50KGxhc3RNZXNzYWdlLmxlbmd0aCwgMTApKTtcclxuICAgICAgICBjb25zdCBpc0FkZERvdCA9IGlzTGFzdE1zZyA+IDAgJiYgaXRlbS50by5sZW5ndGggPiAxICYmIGlzVW5yZWFkO1xyXG4gICAgICAgIHRwbCArPSBgXHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibWVkaWEgcC0xXCIgZGF0YS1jb252ZXJzYXRpb24taWQ9XCIke2l0ZW0uaWR9XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgJHtjb252ZXJzYXRpb25EZXRhaWwoaXRlbS50byl9XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1lZGlhLWJvZHlcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgJHsoaXNBZGREb3QgfHwgaXNVbnJlYWQpXHJcbiAgICAgICAgICAgID8gJzxzcGFuIGNsYXNzPVwic3VtbWFyeS1kb3RcIj48L3NwYW4+J1xyXG4gICAgICAgICAgICA6ICcnXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgPCEtLSB7aXNVbnJlYWQgPyAnPHNwYW4gY2xhc3M9XCJzdW1tYXJ5LWRvdFwiPjwvc3Bhbj4nIDogJyd9IC0tPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8aDUgY2xhc3M9XCJ0aXRsZSAke2lzVW5yZWFkID8gJ2ZvbnQtd2VpZ2h0LWJvbGQnIDogJyd9ICR7KGlzQWRkRG90KSA/ICdtci0yJyA6ICcnfVwiPiR7aXRlbS50aXRsZX08L2g1PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkeyhpc0xhc3RNc2cgPiAwICYmIGl0ZW0udG8ubGVuZ3RoID09PSAxKVxyXG4gICAgICAgICAgICA/IGA8cCBjbGFzcz1cInN1bW1hcnkgdGV4dC1tdXRlZFwiPiR7bGFzdE1lc3NhZ2V9PC9wPmBcclxuICAgICAgICAgICAgOiAnJ1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgYDtcclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIHRwbDtcclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBhcHBlbmRVc2VyTGlzdCgkbGlzdCwgaXRlbSwgZGV0YWlscykge1xyXG4gICAgY29uc3Qge2N1cnNvciwgc2VjdGlvbiwgdXNlcm5hbWV9ID0gZGV0YWlscztcclxuICAgIGNvbnN0ICRjb2xsYXBzZSA9ICQoYCNjb2xsYXBzZS0ke3NlY3Rpb259YCk7XHJcbiAgICBjb25zb2xlLmxvZyhjdXJzb3IsIHVzZXJuYW1lKTtcclxuICAgICRjb2xsYXBzZS5hcHBlbmQoYWRkQ29udmVyc2F0aW9ucyhpdGVtLmNvbnZlcnNhdGlvbnMpKTtcclxuICAgIC8vICR7YWRkQ29udmVyc2F0aW9ucyhpdGVtLmNvbnZlcnNhdGlvbnMsIGlkeCl9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBmaWxsVXNlckxpc3QoJGxpc3QsIGRhdGFBcnJheSwgbG9hZE1vcmVDYkZ1bmN0aW9uKSB7XHJcbiAgICBjb25zdCBpdGVtcyA9IGRhdGFBcnJheTtcclxuICAgIGNvbnN0IGNMaXN0ID0gJGxpc3Q7XHJcbiAgICBsZXQgdHBsID0gJyc7XHJcbiAgICBjb25zdCBsb2FkTW9yZUJveCA9IChpZHgsIHByZXZfY3Vyc29yKSA9PiBgPGRpdiBjbGFzcz1cImxpc3QtZm9vdGVyIHRleHQtY2VudGVyIGpzX2xvYWQtbW9yZS1ib3hcIiBkYXRhLWlkeD1cIiR7aWR4fVwiIGRhdGEtY3Vyc29yPVwiJHtwcmV2X2N1cnNvcn1cIj5cclxuICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImJ0biBidG4tb3V0bGluZS1zZWNvbmRhcnkgYnRuLXNtIGJ0bi1zdWJtaXRcIj7Ql9Cw0LPRgNGD0LfQuNGC0Ywg0LXRidC1PC9idXR0b24+XHJcbiAgICA8L2Rpdj5gO1xyXG4gICAgY0xpc3QuZW1wdHkoKS5hZGRDbGFzcygnYm9yZGVyLWxpZ2h0LWNvbG9yJyk7XHJcbiAgICAvLyB0b2RvOiBmaXggaGFyZC1jb2RlICBpbWcgc3JjPVwiaHR0cHM6Ly9pLmltZ3VyLmNvbS9qTk5UNExFLnBuZ1wiXHJcbiAgICBpdGVtcy5mb3JFYWNoKChpdGVtLCBpZHgpID0+IHtcclxuICAgICAgICBjb25zdCB7cGFnaW5hdGlvbn0gPSBpdGVtO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGl0ZW0ucGVuZGluZ19yZXF1ZXN0cyk7XHJcbiAgICAgICAgdHBsICs9IGA8bGkgY2xhc3M9XCJsaXN0LWdyb3VwLWl0ZW1cIiBkYXRhLXRvZ2dsZT1cImNvbGxhcHNlXCIgZGF0YS10YXJnZXQ9XCIjY29sbGFwc2UtJHtpZHh9XCIgXHJcbiAgICAgICAgICAgICAgICBkYXRhLXVzZXJuYW1lPVwiJHtpdGVtLnVzZXJuYW1lfVwiXHJcbiAgICAgICAgICAgICAgICBkYXRhLXVzZXJBdmF0YXI9XCIke2l0ZW0ucHJvZmlsZV9waWNfdXJsfVwiXHJcbiAgICAgICAgICAgICAgICBhcmlhLWV4cGFuZGVkPVwidHJ1ZVwiIGFyaWEtY29udHJvbHM9XCJjb2xsYXBzZS0ke2lkeH1cIj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbnZlcnNhdGlvbi1oZWFkIG1iLTEgbWVkaWEgcGItMlwiIGlkPVwiaGVhZGluZy0ke2lkeH1cIj5cclxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwibXItM1wiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxpbWcgc3JjPVwiJHtpdGVtLnByb2ZpbGVfcGljX3VybH1cIiBhbHQ9XCJhdmF0YXJcIlxyXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzPVwibWVkaWEtcGhvdG8gcm91bmRlZC1jaXJjbGVcIj5cclxuICAgICAgICAgICAgICAgIDwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICR7KGl0ZW1bJ3VucmVhZF9jb252ZXJzYXRpb25zJ10gPiAwKSA/IGA8c3BhbiBjbGFzcz1cImJhZGdlIGJhZGdlLXNlY29uZGFyeSBwb3NpdGlvbi1hYnNvbHV0ZSBwLTJcIj4ke2l0ZW1bJ3VucmVhZF9jb252ZXJzYXRpb25zJ119PC9zcGFuPmAgOiAnJ31cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtZWRpYS1ib2R5XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGg0IGNsYXNzPVwidGl0bGVcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgJHtpdGVtLnVzZXJuYW1lfVxyXG4gICAgICAgICAgICAgICAgICAgIDwvaDQ+XHJcbiAgICAgICAgICAgICAgICAgICAgJHsoaXRlbS5wZW5kaW5nX3JlcXVlc3RzKSA/IGA8cCBjbGFzcz1cImpzX3Nob3ctcmVxdWVzdC1ib3ggYnRuIGJ0bi1vdXRsaW5lLWRhcmsgYnRuLXNtXCI+JHtpdGVtLnBlbmRpbmdfcmVxdWVzdHN9INC30LDQv9GA0L7RgSR7KGl0ZW0ucGVuZGluZ19yZXF1ZXN0cyA+IDEpID8gJ2EnIDogJyd9PC9wPmAgOiAnJ31cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPGRpdiBpZD1cImNvbGxhcHNlLSR7aWR4fVwiIGNsYXNzPVwiY29sbGFwc2VcIiBhcmlhLWxhYmVsbGVkYnk9XCJoZWFkaW5nLSR7aWR4fVwiIGRhdGEtcGFyZW50PVwiI2FjY29yZGlvblwiPlxyXG4gICAgICAgICAgICAgICAgJHthZGRDb252ZXJzYXRpb25zKGl0ZW0uY29udmVyc2F0aW9ucyl9XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAkeyhwYWdpbmF0aW9uICYmIHBhZ2luYXRpb24ucHJldl9jdXJzb3IpID8gbG9hZE1vcmVCb3goaWR4LCBwYWdpbmF0aW9uLnByZXZfY3Vyc29yKSA6ICcnfVxyXG4gICAgICAgIDwvbGk+YDtcclxuICAgIH0pO1xyXG4gICAgJCh0cGwpLmFwcGVuZFRvKGNMaXN0KTtcclxuICAgICQoJy5qc19sb2FkLW1vcmUtYm94IGJ1dHRvbicpLm9uKCdjbGljaycsIChlKSA9PiB7XHJcbiAgICAgICAgY29uc3QgJGJ0biA9ICQoZS50YXJnZXQpO1xyXG4gICAgICAgIGNvbnN0ICRidG5Cb3ggPSAkYnRuLmNsb3Nlc3QoJy5qc19sb2FkLW1vcmUtYm94Jyk7XHJcbiAgICAgICAgY29uc3Qgc2VjdGlvbiA9ICRidG5Cb3guZGF0YSgnaWR4Jyk7XHJcbiAgICAgICAgY29uc3QgY3Vyc29yID0gJGJ0bkJveC5kYXRhKCdjdXJzb3InKTtcclxuICAgICAgICBjb25zdCB1c2VybmFtZSA9ICRidG5Cb3guY2xvc2VzdCgnbGknKS5kYXRhKCd1c2VybmFtZScpO1xyXG5cclxuICAgICAgICBjb25zb2xlLmxvZygnY2xpY2snLCBzZWN0aW9uLCBjdXJzb3IpO1xyXG4gICAgICAgIGxvYWRNb3JlQ2JGdW5jdGlvbihjdXJzb3IsIHNlY3Rpb24sIHVzZXJuYW1lKTtcclxuICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgfSk7XHJcbiAgICAkKCcuanNfc2hvdy1yZXF1ZXN0LWJveCcpLm9uKCdjbGljaycsIChlKSA9PiB7XHJcbiAgICAgICAgJChlLnRhcmdldCkuY2xvc2VzdCgnLnVzZXItbGlzdC1ib3gnKS5hZGRDbGFzcygndXNlci1saXN0LWJveC0taGlkZScpO1xyXG4gICAgICAgICQoJy51c2VyLXJlcXVlc3RzLWJveCcpLmFkZENsYXNzKCd1c2VyLXJlcXVlc3RzLWJveC0tc2hvdycpO1xyXG4gICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IG1lc3NhZ2VBcmVhSGVuZGxlciA9ICgkdGV4dEFyZWEsICRzZW5kTWVzc2FnZUJ1dHRvbikgPT4ge1xyXG4gICAgJHRleHRBcmVhLm9uKCdrZXlkb3duJywgKGUpID0+IHtcclxuICAgICAgICBpZiAoZS5rZXlDb2RlID09PSAxMykge1xyXG4gICAgICAgICAgICBpZiAoZS5jdHJsS2V5KSB7XHJcbiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZygnY3RybCtlbnRlcicpO1xyXG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgZS50YXJnZXQudmFsdWUgKz0gJ1xcbic7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZS50YXJnZXQudmFsdWUudHJpbSgpLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgICRzZW5kTWVzc2FnZUJ1dHRvbi50cmlnZ2VyKCdjbGljaycpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbn07XHJcblxyXG4vLyBleHBvcnQgY29uc3QgYWRkTW9yZVVzZXJzQWNjb3JkaW9uID0gKGNvbnZlcnNhdGlvbnMsIGNvbnZlcnNhdGlvblRvQWRkKSA9PiB7XHJcbiAgICAvLyBjb25zdCAkYnRuTW9yZUJveCA9ICQoJyNsb2FkLW1vcmUtYm94Jyk7XHJcbiAgICAvLyBjb25zdCAkYnRuTW9yZSA9ICQoJ2J1dHRvbicsICRidG5Nb3JlQm94KTtcclxuICAgIC8vICRidG5Nb3JlQm94LnNob3coKTtcclxuICAgIC8vIGNvbnNvbGUubG9nKCdzdGFydCBhZGQgcGFnaW5hdGlvbiB0byBhY2NvcmRpb2luJywgY29udmVyc2F0aW9uVG9BZGQpO1xyXG4gICAgLy8gY29udmVyc2F0aW9ucy5mb3JFYWNoKChpdGVtLCBpZHgpID0+IHtcclxuICAgIC8vICAgICBpZiAoaXRlbS5wYWdpbmF0aW9uICYmIGl0ZW0ucGFnaW5hdGlvbi5wcmV2X2N1cnNvcikge1xyXG4gICAgLy8gICAgICAgICBjb25zb2xlLmxvZygnY29udmVyc2F0aW9uIC0gPicsIGl0ZW0ucGFnaW5hdGlvbik7XHJcbiAgICAvLyAgICAgICAgICRidG5Nb3JlLm9uKCdjbGljaycsICgpID0+IHtcclxuICAgIC8vICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdjbGljayAtID4nLCBpdGVtLnBhZ2luYXRpb24pO1xyXG4gICAgLy8gICAgICAgICAgICAgY29uc3QgZGV0YWlscyA9IHtcclxuICAgIC8vICAgICAgICAgICAgICAgICB1c2VybmFtZTogJycsXHJcbiAgICAvLyAgICAgICAgICAgICAgICAgY3Vyc29yOiBpdGVtLnBhZ2luYXRpb24ucHJldl9jdXJzb3JcclxuICAgIC8vICAgICAgICAgICAgIH07XHJcbiAgICAvLyAgICAgICAgICAgICBVc2VyQ29udmVyc2F0aW9uLmdldE1ldGFkYXRhRGV0YWlsVXNlcnMoZGV0YWlscykudGhlbigocmVzdWx0KSA9PiB7XHJcbiAgICAvLyAgICAgICAgICAgICAgICAgaWYgKCFyZXN1bHQuZGF0YSkge1xyXG4gICAgLy8gICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAvLyAgICAgICAgICAgICAgICAgfVxyXG4gICAgLy8gICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCcqKmdldE1ldGFkYXRhRGV0YWlsVXNlcnMqKiByZXN1bHQgLSA+JywgcmVzdWx0KTtcclxuICAgIC8vICAgICAgICAgICAgIH0pO1xyXG4gICAgLy8gICAgICAgICB9KTtcclxuICAgIC8vICAgICB9XHJcbiAgICAvLyB9KTtcclxuLy8gfTtcclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2Jsb2Nrcy9tZXNzYWdlcy91dGlscy5qcyIsIi8vIGltcG9ydCAkIGZyb20gJ2pxdWVyeSc7XHJcbmltcG9ydCBQdWJTdWIgZnJvbSAncHVic3ViLWpzJzsgLy8gaHR0cHM6Ly93d3cubnBtanMuY29tL3BhY2thZ2UvcHVic3ViLWpzXHJcbmltcG9ydCBVc2VyIGZyb20gJy4uLy4uL2NvbW1vbi9qcy1zZXJ2aWNlcy91c2VyJztcclxuaW1wb3J0IGNvb2tpZVN0b3JhZ2UgZnJvbSAnLi4vLi4vY29tbW9uL2pzLXNlcnZpY2VzL2Nvb2tpZSc7XHJcbmltcG9ydCB7Q09OU1R9IGZyb20gJy4uLy4uL2NvbW1vbi9qcy1zZXJ2aWNlcy9jb25zdHMnO1xyXG5pbXBvcnQgdmlld1V0aWxzIGZyb20gJy4uLy4uL2NvbW1vbi9qcy1zZXJ2aWNlcy92aWV3JztcclxuXHJcbmNvbnN0IHNlbGVjdG9yQ2xzID0ge1xyXG4gICAgZm9ybTogJy5hdXRoLnJlZ2lzdGVyIC5mb3JtLXNpZ25pbicsXHJcbiAgICBzdWJtaXRCdG46ICdbdHlwZT1cInN1Ym1pdFwiXSdcclxufTtcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUmVnaXN0ZXJGb3JtIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRoaXMudXNlciA9IFVzZXI7XHJcbiAgICAgICAgdGhpcy4kZm9ybSA9ICQoc2VsZWN0b3JDbHMuZm9ybSk7XHJcbiAgICAgICAgdGhpcy4kZW1haWwgPSB0aGlzLiRmb3JtLmZpbmQoJ2lucHV0W25hbWU9XCJtYWlsXCJdJyk7XHJcbiAgICAgICAgdGhpcy4kdGV4dEFyZWFEZXNjcmlwdGlvbiA9ICQoJy5yZWdpc3Rlci0tY29uZmlybScpO1xyXG4gICAgICAgIHRoaXMuZm9ybURhdGEgPSB7J2VtYWlsJzogJ3Rlc3QxX2VtYWlsQG0ucnUnLCAncGFzc3dvcmQnOiAncGFzc3dvcmQnfTtcclxuICAgIH1cclxuXHJcbiAgICBpbml0KCkge1xyXG4gICAgICAgIGlmICgkKCcuYXV0aC5yZWdpc3RlcicpLmxlbmd0aCkge1xyXG4gICAgICAgICAgICB0aGlzLmJpbmRFdmVudHMoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgc3VibWl0Rm9ybShmb3JtRGF0YU9iaikge1xyXG4gICAgICAgIGNvbnN0IGVtYWlsID0gdGhpcy4kZW1haWwudmFsKCk7XHJcbiAgICAgICAgY29uc3QgYm9yZGVyRGFuZ2VyQ2xzID0gJ2JvcmRlci1kYW5nZXInO1xyXG4gICAgICAgIGNvbnN0ICRwYXNzd29yZCA9IHRoaXMuJGZvcm0uZmluZCgnaW5wdXRbbmFtZT1cInBhc3NcIl0nKSxcclxuICAgICAgICAgICAgJHBhc3N3b3JkQ29uZmlybSA9IHRoaXMuJGZvcm0uZmluZCgnaW5wdXRbbmFtZT1cInBhc3MtY29uZmlybVwiXScpLFxyXG4gICAgICAgICAgICBwYXNzd29yZCA9IHRoaXMuJGZvcm0uZmluZCgnaW5wdXRbbmFtZT1cInBhc3NcIl0nKS52YWwoKSxcclxuICAgICAgICAgICAgcGFzc3dvcmRDb25maXJtID0gdGhpcy4kZm9ybS5maW5kKCdpbnB1dFtuYW1lPVwicGFzcy1jb25maXJtXCJdJykudmFsKCk7XHJcblxyXG4gICAgICAgIC8vIEhpZ2hsaWdodCBlcnJvcnNcclxuICAgICAgICBpZiAocGFzc3dvcmRDb25maXJtICE9PSBwYXNzd29yZCkge1xyXG4gICAgICAgICAgICAkcGFzc3dvcmQuYWRkQ2xhc3MoYm9yZGVyRGFuZ2VyQ2xzKTtcclxuICAgICAgICAgICAgJHBhc3N3b3JkQ29uZmlybS5hZGRDbGFzcyhib3JkZXJEYW5nZXJDbHMpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgJHBhc3N3b3JkLnJlbW92ZUNsYXNzKGJvcmRlckRhbmdlckNscyk7XHJcbiAgICAgICAgICAgICRwYXNzd29yZENvbmZpcm0ucmVtb3ZlQ2xhc3MoYm9yZGVyRGFuZ2VyQ2xzKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy4kZW1haWwudmFsKHRoaXMuJGVtYWlsLnZhbCgpLnRvTG9jYWxlTG93ZXJDYXNlKCkpO1xyXG4gICAgICAgIHRoaXMuZm9ybURhdGEgPSBmb3JtRGF0YU9iaiB8fCB7ZW1haWwsIHBhc3N3b3JkfTtcclxuXHJcbiAgICAgICAgdGhpcy51c2VyLnJlZ2lzdGVyKHRoaXMuZm9ybURhdGEpXHJcbiAgICAgICAgICAgIC50aGVuKChyZXN1bHQpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChyZXN1bHQuZGF0YSAmJiByZXN1bHQuZGF0YS50b2tlbikge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBzYXZlIHRoZSBpdGVtXHJcbiAgICAgICAgICAgICAgICAgICAgY29va2llU3RvcmFnZS5zZXQoQ09OU1QuY29va2llU3RvcmFnZS5lbWFpbENvbmZpcm1lZCwgJ2ZhbHNlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29va2llU3RvcmFnZS5zZXQoQ09OU1QuY29va2llU3RvcmFnZS50b2tlbiwgcmVzdWx0LmRhdGEudG9rZW4pO1xyXG4gICAgICAgICAgICAgICAgICAgIFB1YlN1Yi5wdWJsaXNoKENPTlNULmV2ZW50cy5VU0VSX0xPR0dFRCk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gdmlld1V0aWxzLnNob3dJbmZvTWVzc2FnZSh0aGlzLiR0ZXh0QXJlYURlc2NyaXB0aW9uLFxyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICByZXN1bHQuc3RhdHVzLnN0YXRlLFxyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICByZXN1bHQuc3RhdHVzLm1lc3NhZ2UgfHwgJ1JlZ2lzdGVyIGFuZCBMb2dpbiBzdWNjc2VzcycpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB2aWV3VXRpbHMuc2hvd0luZm9NZXNzYWdlKHRoaXMuJHRleHRBcmVhRGVzY3JpcHRpb24sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5zdGF0dXMuc3RhdGUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5zdGF0dXMubWVzc2FnZSB8fCAnbm8gcmVzdWx0LmRhdGEgZm91bmQnKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSkudGhlbigocmVzdWx0KSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0ICYmIHJlc3VsdC5zdGF0dXMpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXN1bHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIHZpZXdVdGlscy5zaG93SW5mb01lc3NhZ2UodGhpcy4kdGV4dEFyZWFEZXNjcmlwdGlvbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnN0YXR1cy5zdGF0ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgJCgnLmxvZ2luLWJveCcpLnNob3coKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSkuY2F0Y2goKGVycm9yKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBtb2RhbCA9ICQoJyNyZWdpc3Rlci1lcnJvci1tb2RhbCcpO1xyXG4gICAgICAgICAgICAgICAgbW9kYWwubW9kYWwoJ3Nob3cnKTtcclxuXHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygncmVxdWVzdCBmYWlsZWQnLCBlcnJvcik7XHJcbiAgICAgICAgICAgICAgICAvLyB2aWV3VXRpbHMuc2hvd0luZm9NZXNzYWdlKHRoaXMuJHRleHRBcmVhRGVzY3JpcHRpb24sXHJcbiAgICAgICAgICAgICAgICAvLyAgICAgZXJyb3IubWVzc2FnZSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGJpbmRFdmVudHMoKSB7XHJcbiAgICAgICAgY29uc3QgcmVnaXN0ZXJCb3ggPSBDT05TVC51aVNlbGVjdG9ycy5oZWFkZXJSZWdCb3g7IC8vICduYXYgLnJlZ2lzdGVyLWJveCc7XHJcbiAgICAgICAgY29uc3Qgb3BlbmVkQ2xhc3MgPSAnZC1ibG9jayc7XHJcbiAgICAgICAgY29uc3QgY2xvc2VDbGFzcyA9ICdkLW5vbmUnO1xyXG4gICAgICAgIGNvbnN0ICRidG4gPSAkKHNlbGVjdG9yQ2xzLnN1Ym1pdEJ0biksXHJcbiAgICAgICAgICAgIGNzc1ZhbGlkYXRpb25DbGFzcyA9ICdmb3JtLXZhbGlkYXRpb24nO1xyXG5cclxuICAgICAgICAkYnRuLm9uKCdjbGljaycsIChlKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGZvcm0gPSB0aGlzLiRmb3JtLmdldCgwKTtcclxuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuICAgICAgICAgICAgaWYgKCEkYnRuLmlzKCc6ZGlzYWJsZWQnKSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGZvcm0uY2hlY2tWYWxpZGl0eSgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gJGJ0bi5hdHRyKCdkaXNhYmxlZCcsIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3VibWl0Rm9ybSgpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBIaWdobGlnaHQgZXJyb3JzXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZvcm0ucmVwb3J0VmFsaWRpdHkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9ybS5yZXBvcnRWYWxpZGl0eSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLiRmb3JtLmFkZENsYXNzKGNzc1ZhbGlkYXRpb25DbGFzcyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgUHViU3ViLnN1YnNjcmliZShDT05TVC5ldmVudHMuVVNFUl9MT0dHRUQsICgpID0+IHtcclxuICAgICAgICAgICAgLy8gJCgnLnJlZ2lzdGVyLS1jb25maXJtJykucmVtb3ZlQ2xhc3MoJ2Qtbm9uZScpO1xyXG4gICAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9ICcuL3JlZ2lzdHJhdGlvbi1zdWNjZXNzLmh0bWwnO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAkKGRvY3VtZW50KS5vbignY2xpY2snLCAoZXZlbnQpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgaXNSZWdCdG5DbGljayA9ICQoZXZlbnQudGFyZ2V0KS5jbG9zZXN0KCduYXYubmF2YmFyJykuZmluZCgnLnJlZ2lzdGVyLWJveCcpLmxlbmd0aDtcclxuXHJcbiAgICAgICAgICAgIGlmICghaXNSZWdCdG5DbGljayAmJiAkKHJlZ2lzdGVyQm94KS5oYXNDbGFzcyhvcGVuZWRDbGFzcykpIHtcclxuICAgICAgICAgICAgICAgICQocmVnaXN0ZXJCb3gpLmFkZENsYXNzKGNsb3NlQ2xhc3MpLnJlbW92ZUNsYXNzKG9wZW5lZENsYXNzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9ibG9ja3MvcmVnaXN0ZXItZm9ybS9yZWdpc3Rlci1mb3JtLmpzIiwiXHJcbi8qKlxyXG4gKiBJbml0IE1lbnVcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBpbml0TWVudSgpIHtcclxuICAgIGNvbnN0IHVybFRvQ2hlY2sgPSBbXHJcbiAgICAgICAgJ2luc3RhZ3JhbS1hY2NvdW50cycsXHJcbiAgICAgICAgJ2F1dG9tZXNzYWdlcycsXHJcbiAgICAgICAgJ3N0b3JpZXMnLFxyXG4gICAgICAgICdhdXRvZ3JlZXRpbmcnLFxyXG4gICAgICAgICdhdXRvY29tbWVudHMnLFxyXG4gICAgICAgICdmb2xsb3cnLFxyXG4gICAgICAgICd1bmZvbGxvdycsXHJcbiAgICAgICAgJ21lc3NhZ2VzJyxcclxuICAgICAgICAnY2hhdC1ib3QnXHJcbiAgICBdO1xyXG4gICAgY29uc3QgcGF0aE5hbWUgPSB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWU7XHJcbiAgICB1cmxUb0NoZWNrLmZvckVhY2goaXRlbSA9PiB7XHJcbiAgICAgICAgY29uc3QgaXNBY3RpdmVVcmwgPSAocGF0aE5hbWUgPT09IGAvaW5zdGFncmFtLWludGVncmF0aW9uLyR7aXRlbX0uaHRtbGAgfHwgcGF0aE5hbWUgPT09IGAvJHtpdGVtfS5odG1sYCk7XHJcbiAgICAgICAgaWYgKGlzQWN0aXZlVXJsKSB7XHJcbiAgICAgICAgICAgICQoYG5hdi5hc2lkZS1idXJnZXItbWVudSBhW2hyZWYqPVwiLyR7aXRlbX1cIl1gKVxyXG4gICAgICAgICAgICAgICAgLmFkZENsYXNzKCd0ZXh0LWluZm8nKVxyXG4gICAgICAgICAgICAgICAgLnJlbW92ZUNsYXNzKCd0ZXh0LWxpZ2h0Jyk7XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUuaW5mbygnaXRlbSBmb3VuZCcsIGl0ZW0sIGFjdGl2ZU1lbnVJdGVtKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxufVxyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvYmxvY2tzL3NpZGViYXItbWVudS9zaWRlYmFyLW1lbnUuanMiLCJpbXBvcnQge0NPTlNUfSBmcm9tICcuLi8uLi9jb21tb24vanMtc2VydmljZXMvY29uc3RzJztcclxuaW1wb3J0IFVzZXJUYXNrTWFuYWdlciBmcm9tICcuLi8uLi9jb21tb24vanMtc2VydmljZXMvYXBpLXRhc2stbWFuYWdlcic7XHJcbmltcG9ydCB2aWV3VXRpbHMgZnJvbSAnLi4vLi4vY29tbW9uL2pzLXNlcnZpY2VzL3ZpZXcnO1xyXG5pbXBvcnQgKiBhcyB3aXphcmRGb3JtIGZyb20gJy4uLy4uL2Jsb2Nrcy93aXphcmQtZm9ybS93aXphcmQtZm9ybSc7XHJcbmltcG9ydCAqIGFzIHN0b3JpZXNTdGF0dXMgZnJvbSAnLi9zdG9yaWVzLXN0YXR1cyc7XHJcbmltcG9ydCB7aW5pdExvZ3NUYWJ9IGZyb20gJy4uL19zaGFyZWQvbG9ncy9sb2dzLXRhYnMnO1xyXG5pbXBvcnQge2F0dGFjaFR4dEZpbGVIYW5kbGVyfSBmcm9tICcuLi9mb2xsb3cvZm9sbG93LXJlYWQtZmlsZS10eHQnO1xyXG5pbXBvcnQgey8qIGluaXRUYWdzSW5wdXQsICovbmV4dEJ0bnZhbGlkYXRlQ29tcGV0aXRvcnNIYW5kbGVyfSBmcm9tICcuLi9fc2hhcmVkL3RhZ3MtaW5wdXQvdGFncy1pbnB1dCc7XHJcblxyXG5jb25zdCB7Z2V0VmFsQnlDb21tYVNlcGFyYXRvciwgZmlsbFJhZGlvR3JvdXBMaXN0fSA9IHZpZXdVdGlscztcclxubGV0IHVzZXJuYW1lU2VsZWN0ZWQgPSAnJztcclxuY29uc3QgbG9nc1N0YXRlID0gQ09OU1QubG9nc1N0YXRlO1xyXG5jb25zdCBjbHNDb25zdCA9IHtcclxuICAgIGN1cnJlbnRQYWdlQ2xzOiAnLnN0b3JpZXMtcGFnZScsXHJcbiAgICB0YXNrc0xpc3Q6ICcubG9nLXRhc2tzJyxcclxuICAgIGxvZ3NUYWJCdG46ICcjdi1waWxscy1sb2dzLXRhYicsXHJcbiAgICBwYWdpbmF0aW9uOiAnLmxvZ3MtcGFnaW5hdGlvbicsXHJcbiAgICBwYWdpbmF0aW9uUGdOdW1iZXI6ICcucGFnZS1udW1iZXInLFxyXG4gICAgcGF0aFR5cGU6IENPTlNULnVybC50bVR5cGVzLnN0b3JpZXNULFxyXG4gICAgcGF0aFN1YlR5cGU6IENPTlNULnVybC50bVR5cGVzLnN0b3JpZXNTdWJUWzBdXHJcbn07XHJcbmNvbnN0IGVsU2VsZWN0b3IgPSB7XHJcbiAgICB3aXphcmRGb3JtOiAnLndpemFyZC1mb3JtJyxcclxuICAgIHdpemFyZEZvcm1OYW1lOiAnd2l6YXJkLWZvcm0nLFxyXG4gICAgZmllbGRzOiAnLmF1dG9tZXNzYWdlcy10ZXh0LWZpZWxkcycsXHJcbiAgICB0YXNrTW9kZTogJy5qc190YXNrLW1vZGUnLFxyXG4gICAgY29tcGV0aXRvcnM6ICcuanNfc3Rvcmllcy1jb21wZXRpdG9ycyBpbnB1dFtkYXRhLXJvbGU9XCJ0YWdzaW5wdXRcIl0nXHJcbn07XHJcbmNvbnN0IHN0YXRlID0ge1xyXG4gICAgc3VidHlwZTogQ09OU1QudXJsLnRtVHlwZXMuc3Rvcmllc1N1YlRbMF0sXHJcbiAgICB1c2VyX2RlZmF1bHRfY29uZmlnOiB7XHJcbiAgICAgICAgdGFza19tb2RlOiAnU0FGRSdcclxuICAgIH1cclxufTtcclxuXHJcbmZ1bmN0aW9uIG9uU3VibWl0SGFuZGxlcihlKSB7XHJcbiAgICBjb25zdCB7d2l6YXJkRm9ybU5hbWV9ID0gZWxTZWxlY3RvcjtcclxuICAgIGNvbnN0IGZvcm0gPSBkb2N1bWVudC5mb3Jtc1t3aXphcmRGb3JtTmFtZV07XHJcbiAgICBjb25zdCBsaW1pdCA9IGZvcm1bJ2xpbWl0J107XHJcblxyXG4gICAgaWYgKGxpbWl0LnZhbHVlID09PSAnJykge1xyXG4gICAgICAgIGxpbWl0LmZvY3VzKCk7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGJvZHkgPSB7XHJcbiAgICAgICAgLi4uc3RhdGUsXHJcbiAgICAgICAgdXNlcl9kZWZhdWx0X2NvbmZpZzoge1xyXG4gICAgICAgICAgICAuLi5zdGF0ZS51c2VyX2RlZmF1bHRfY29uZmlnLFxyXG4gICAgICAgICAgICBjcml0ZXJpYToge1xyXG4gICAgICAgICAgICAgICAgbWF4X3ZpZXdzOiBsaW1pdC52YWx1ZVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICB1c2VyX2N1c3RvbV9jb25maWc6IHt9LFxyXG4gICAgICAgIHR5cGU6IGNsc0NvbnN0LnBhdGhUeXBlLFxyXG4gICAgICAgIHVzZXJuYW1lOiB1c2VybmFtZVNlbGVjdGVkXHJcbiAgICB9O1xyXG5cclxuICAgIGlmIChib2R5LnN1YnR5cGUgPT09IENPTlNULnVybC50bVR5cGVzLnN0b3JpZXNTdWJUWzJdKSB7XHJcbiAgICAgICAgY29uc3QgY29tcGV0aXRvcnMgPSBnZXRWYWxCeUNvbW1hU2VwYXJhdG9yKCQoZm9ybSkuZmluZChlbFNlbGVjdG9yLmNvbXBldGl0b3JzKSk7XHJcbiAgICAgICAgYm9keS51c2VyX2N1c3RvbV9jb25maWcgPSB7XHJcbiAgICAgICAgICAgIGNvbXBldGl0b3JzXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuICAgIGlmIChib2R5LnN1YnR5cGUgPT09IENPTlNULnVybC50bVR5cGVzLnN0b3JpZXNTdWJUWzBdKSB7XHJcbiAgICAgICAgLy8gdGV4dCBmaWxlIHNob3VsZCBiZSBhZGRlZFxyXG4gICAgICAgIGJvZHlbJ3VzZXJfY3VzdG9tX2NvbmZpZyddLmF0dGFjaG1lbnQgPSB7XHJcbiAgICAgICAgICAgICdsaXN0X2lkJzogJCgnLnN0b3JpZXNfX2ZpbGUtdXBsb2FkLWJveCAuZmlsZS11cGxvYWQtY29udGFpbmVyJykuYXR0cignYXR0YWNoZWQtdHh0LWlkJylcclxuICAgICAgICB9O1xyXG4gICAgICAgIGRlbGV0ZSBib2R5LnVzZXJfZGVmYXVsdF9jb25maWcuY3JpdGVyaWEubWF4X3ZpZXdzO1xyXG4gICAgfVxyXG5cclxuICAgICQoZm9ybSkuZmluZCgnaW5wdXRbdHlwZT1cInRleHRcIl0saW5wdXRbdHlwZT1cIm51bWJlclwiXSxpbnB1dFt0eXBlPVwiZW1haWxcIl0nKS5lYWNoKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAoJCh0aGlzKS52YWwoKSA9PT0gJycpIHtcclxuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAkKHRoaXMpLmFkZENsYXNzKCdpbnB1dC1lcnJvcicpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICQodGhpcykucmVtb3ZlQ2xhc3MoJ2lucHV0LWVycm9yJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgY29uc29sZS5sb2coJ29uU3VibWl0SGFuZGxlciAqKnJlcXVlc3QqKiAgcG9zdDogU3RhcnRGb2xsb3dpbmdMaXN0JywgYm9keSk7XHJcblxyXG4gICAgVXNlclRhc2tNYW5hZ2VyLnBvc3RTdGFydEZvbGxvd2luZ0xpc3QoYm9keSkudGhlbigocmVzdWx0KSA9PiB7XHJcbiAgICAgICAgaWYgKHJlc3VsdC5zdGF0dXMuc3RhdGUgPT09ICdvaycpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coSlNPTi5zdHJpbmdpZnkocmVzdWx0KSk7XHJcbiAgICAgICAgICAgICQoJy5mb3JtLXN1Ym1pdC1maW5pc2gnKS5maW5kKCcuYWxlcnQgcCcpLnJlbW92ZSgpO1xyXG4gICAgICAgICAgICAkKCcuZm9ybS1zdWJtaXQtZmluaXNoJykuYWRkQ2xhc3MoJ2QtYmxvY2snKVxyXG4gICAgICAgICAgICAgICAgLmZpbmQoJy5hbGVydCcpLmFwcGVuZChgPHA+dGFza19pZDogJHtyZXN1bHQuZGF0YS50YXNrX2lkfTwvcD5gKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gc2V0VXNlck5hbWVDYihfdXNlcm5hbWVTZWxlY3RlZCkge1xyXG4gICAgdXNlcm5hbWVTZWxlY3RlZCA9IF91c2VybmFtZVNlbGVjdGVkO1xyXG59XHJcblxyXG5mdW5jdGlvbiBzZXRVc2VyTmFtZUZpcnN0U3RlcChzdGF0ZSkge1xyXG4gICAgdXNlcm5hbWVTZWxlY3RlZCA9IHN0YXRlLnVzZXJuYW1lO1xyXG59XHJcblxyXG4vLyB0b2RvOiByZWZhY3RvciB3aXRoIGZvbGxvdy5qcyAtLSAnbmV4dEJ0bnZhbGlkYXRlQ29tcGV0aXRvcnNIYW5kbGVyKCknXHJcbmNvbnN0IGNvbnRhaW5lckNscyA9ICcuanNfYWRkLXNldHRpbmdzLXN0ZXAtNCc7XHJcbmNvbnN0ICRjb250YWluZXIgPSAkKGNvbnRhaW5lckNscyk7XHJcbmNvbnN0ICRjb21wZXRpdG9yc1RleHRBcmVhID0gJGNvbnRhaW5lci5maW5kKCdpbnB1dFtkYXRhLXJvbGU9XCJ0YWdzaW5wdXRcIl0nKTtcclxuY29uc3QgbmV4dFN0ZXBCdG4gPSAkY29udGFpbmVyLmZpbmQoJy5qc19zdG9yaWVzLWNvbXBldGl0b3JzLWJ0bicpO1xyXG5cclxuLyoqXHJcbiAqIEluaXQgSGFuZGxlcnNcclxuICovXHJcbmZ1bmN0aW9uIGluaXRIYW5kbGVycygpIHtcclxuXHJcbiAgICBhdHRhY2hUeHRGaWxlSGFuZGxlcignLmZpbGUtdXBsb2FkLWNvbnRhaW5lcicpO1xyXG4gICAgbmV4dEJ0bnZhbGlkYXRlQ29tcGV0aXRvcnNIYW5kbGVyKCRjb21wZXRpdG9yc1RleHRBcmVhLCBuZXh0U3RlcEJ0bik7XHJcblxyXG4gICAgLy8gcmFkaW8tZ3JvdXAgc3RlcCAyXHJcbiAgICAkKCcuanNfZ2V0LXN0b3JpZXMtdHlwZSBpbnB1dFt0eXBlPXJhZGlvXScpLm9uKCdjbGljaycsIChlKSA9PiB7XHJcbiAgICAgICAgY29uc3QgdmFsdWUgPSAkKGUudGFyZ2V0KS5hdHRyKCd2YWx1ZScpO1xyXG4gICAgICAgIHN0YXRlLnN1YnR5cGUgPSB2YWx1ZS50b1VwcGVyQ2FzZSgpO1xyXG4gICAgICAgIGlmIChzdGF0ZS5zdWJ0eXBlID09PSBDT05TVC51cmwudG1UeXBlcy5zdG9yaWVzU3ViVFsxXSkge1xyXG4gICAgICAgICAgICBuZXh0U3RlcEJ0bi5yZW1vdmVBdHRyKCdkaXNhYmxlZCcsICdkaXNhYmxlZCcpOyAvLyBlbmFibGUgYnV0dG9uICfQl9Cw0L/Rg9GB0YLQuNGC0YwnXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgbmV4dFN0ZXBCdG4uYXR0cignZGlzYWJsZWQnLCAnZGlzYWJsZWQnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc29sZS5sb2coc3RhdGUpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gYWxlcnQgY2xvc2VcclxuICAgICQoJy5mb3JtLXN1Ym1pdC1maW5pc2ggLmNsb3NlJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCdhbGVydCBjbG9zZScpO1xyXG4gICAgICAgICQoJyN2LXBpbGxzLWFsbC10YWInKS50cmlnZ2VyKCdjbGljaycpO1xyXG4gICAgICAgIHdpbmRvdy5QdWJTdWIucHVibGlzaChDT05TVC5ldmVudHMudGFza3MuTkVXX1RBU0tfQ1JFQVRFRCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBhbGVydCBlcnJvciBjbG9zZVxyXG4gICAgJCgnLmZvcm0tc3VibWl0LWZpbmlzaC0tZXJyb3IgLmNsb3NlJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCdhbGVydCBjbG9zZScpO1xyXG4gICAgICAgICQoJyN2LXBpbGxzLWFsbC10YWInKS50cmlnZ2VyKCdjbGljaycpO1xyXG4gICAgICAgIHdpbmRvdy5QdWJTdWIucHVibGlzaChDT05TVC5ldmVudHMudGFza3MuTkVXX1RBU0tfQ1JFQVRFRCk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gcmVuZGVyVGFza01vZGUoZGVmYXVsdENmZykge1xyXG4gICAgY29uc3Qge2NmZzoge3Rhc2tfbW9kZXN9fSA9IGRlZmF1bHRDZmc7XHJcbiAgICBjb25zdCB7dGFza01vZGU6IHRhc2tNb2RlU2VsZWN0b3J9ID0gZWxTZWxlY3RvcjtcclxuXHJcbiAgICBmaWxsUmFkaW9Hcm91cExpc3QoJCh0YXNrTW9kZVNlbGVjdG9yKSwgdGFza19tb2RlcywgJ9C/0YDQvtGB0LzQvtGC0YDQvtCyJyk7XHJcblxyXG4gICAgJChgJHt0YXNrTW9kZVNlbGVjdG9yfSBpbnB1dFt0eXBlPXJhZGlvXWApLm9uKCdjbGljaycsIChlKSA9PiB7XHJcbiAgICAgICAgY29uc3QgdmFsdWUgPSAkKGUudGFyZ2V0KS5hdHRyKCd2YWx1ZScpO1xyXG4gICAgICAgIHN0YXRlLnVzZXJfZGVmYXVsdF9jb25maWcudGFza19tb2RlID0gdmFsdWUudG9VcHBlckNhc2UoKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBnZXRDb25maWcoKSB7XHJcbiAgICBjb25zdCBwYXRoID0ge1xyXG4gICAgICAgIHR5cGU6IGNsc0NvbnN0LnBhdGhUeXBlLFxyXG4gICAgICAgIHN1YnR5cGU6IHN0YXRlLnN1YnR5cGVcclxuICAgIH07XHJcbiAgICBjb25zdCBjYkVycm9yID0gZnVuY3Rpb24ocmVzKSB7XHJcbiAgICAgICAgY29uc3QgbXNnID0gcmVzLnN0YXR1cy5tZXNzYWdlO1xyXG4gICAgICAgICQoJy5mb3JtLXN1Ym1pdC1maW5pc2gtLWVycm9yJykuYWRkQ2xhc3MoJ2QtYmxvY2snKVxyXG4gICAgICAuZmluZCgnLmFsZXJ0JykuYXBwZW5kKGA8cD4ke21zZ308L3A+YCk7XHJcbiAgICB9O1xyXG5cclxuICAgIFVzZXJUYXNrTWFuYWdlci5nZXRTdG9yaWVzQ29uZmlnKHBhdGgsIGNiRXJyb3IpLnRoZW4oKHJlc3VsdCkgPT4ge1xyXG4gICAgICAgIGlmIChyZXN1bHQuc3RhdHVzLnN0YXRlICE9PSAnb2snKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3Qge1xyXG4gICAgICAgICAgICBkYXRhOiB7XHJcbiAgICAgICAgICAgICAgICBmb3VuZFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSA9IHJlc3VsdDtcclxuICAgICAgICBjb25zdCBsaW1pdFZhbCA9IGZvdW5kLmNmZy5jcml0ZXJpYS5tYXhfdmlld3M7XHJcbiAgICAgICAgcmVuZGVyVGFza01vZGUoZm91bmQpO1xyXG4gICAgICAgICQoJyNsaW1pdCcpLnZhbChsaW1pdFZhbCk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gYWRkVGV4dEFyZWEoc3RlcE51bWJlcikge1xyXG4gICAgY29uc3Qge3dpemFyZEZvcm19ID0gZWxTZWxlY3RvcjtcclxuICAgIGNvbnN0IGZpZWxkTGFzdCA9ICQoYCR7d2l6YXJkRm9ybX0gZmllbGRzZXRgKS5nZXQoc3RlcE51bWJlciArIDEpO1xyXG4gICAgaWYgKHN0YXRlLnN1YnR5cGUgPT09IENPTlNULnVybC50bVR5cGVzLnN0b3JpZXNTdWJUWzJdKSB7XHJcbiAgICAgICAgbmV4dEJ0bnZhbGlkYXRlQ29tcGV0aXRvcnNIYW5kbGVyKCRjb21wZXRpdG9yc1RleHRBcmVhLCBuZXh0U3RlcEJ0bik7XHJcbiAgICAgICAgJChmaWVsZExhc3QpLmZpbmQoJy5qc19zdG9yaWVzLWNvbXBldGl0b3JzJykucmVtb3ZlQ2xhc3MoJ2Qtbm9uZScpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdlbmQnKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgJChmaWVsZExhc3QpLmZpbmQoJy5qc19zdG9yaWVzLWNvbXBldGl0b3JzJykuYWRkQ2xhc3MoJ2Qtbm9uZScpO1xyXG4gICAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBhZGRGaWxlVXBsb2FkQm94KHN0ZXBOdW1iZXIpIHtcclxuICAgIGNvbnN0IHt3aXphcmRGb3JtfSA9IGVsU2VsZWN0b3I7XHJcbiAgICBjb25zdCBmaWVsZExhc3QgPSAkKGAke3dpemFyZEZvcm19IGZpZWxkc2V0YCkuZ2V0KHN0ZXBOdW1iZXIgKyAxKTtcclxuICAgIGNvbnN0ICRmaWxlVXBsb2FkQm94ID0gJChmaWVsZExhc3QpLmZpbmQoJy5zdG9yaWVzX19maWxlLXVwbG9hZC1ib3gnKTtcclxuICAgIGNvbnN0ICR0aXRsZVN0ZXBCb3ggPSAkKGZpZWxkTGFzdCkuZmluZCgnLmpzX2FkZC1maWxlLXRpdGxlJyk7XHJcbiAgICBjb25zdCAkYWRkU2V0dGluZ3MgPSAkKGZpZWxkTGFzdCkuZmluZCgnLmpzX2FkZC1zZXR0aW5ncy1zdGVwLTQnKTtcclxuICAgIGlmIChzdGF0ZS5zdWJ0eXBlID09PSBDT05TVC51cmwudG1UeXBlcy5zdG9yaWVzU3ViVFswXSkge1xyXG4gICAgICAgICRmaWxlVXBsb2FkQm94LnJlbW92ZUNsYXNzKCdkLW5vbmUnKTtcclxuICAgICAgICAkKCcuanNfdmFsaWRhdGUtdHh0LWZpbGUtaXMtdXBsb2FkZWQnKS5hdHRyKCdkaXNhYmxlZCcsICdkaXNhYmxlZCcpO1xyXG4gICAgICAgICR0aXRsZVN0ZXBCb3gucmVtb3ZlQ2xhc3MoJ2Qtbm9uZScpO1xyXG4gICAgICAgICRhZGRTZXR0aW5ncy5hZGRDbGFzcygnZC1ub25lJyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgICRmaWxlVXBsb2FkQm94LmFkZENsYXNzKCdkLW5vbmUnKTtcclxuICAgICAgICAkdGl0bGVTdGVwQm94LmFkZENsYXNzKCdkLW5vbmUnKTtcclxuICAgICAgICAkYWRkU2V0dGluZ3MucmVtb3ZlQ2xhc3MoJ2Qtbm9uZScpO1xyXG4gICAgfVxyXG4gICAgY29uc29sZS5sb2coJ2FkZEZpbGVVcGxvYWRCb3ggZG9uZScpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBzdGVwUmVkdWNlcihzdGVwTnVtYmVyLCBzdGF0ZSkge1xyXG4gICAgc3dpdGNoIChzdGVwTnVtYmVyKSB7XHJcbiAgICAgICAgY2FzZSAwOlxyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhzdGF0ZSwgc3RlcE51bWJlcik7XHJcbiAgICAgICAgICAgIHNldFVzZXJOYW1lRmlyc3RTdGVwKHN0YXRlKTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhzdGF0ZSwgc3RlcE51bWJlcik7XHJcbiAgICAgICAgICAgIGdldENvbmZpZygpO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlIDI6XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHN0YXRlLCBzdGVwTnVtYmVyKTtcclxuICAgICAgICAgICAgYWRkVGV4dEFyZWEoc3RlcE51bWJlcik7XHJcbiAgICAgICAgICAgIGFkZEZpbGVVcGxvYWRCb3goc3RlcE51bWJlcik7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdkZWZhdWx0Jywgc3RlcE51bWJlcik7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBpbml0KCkge1xyXG4gICAgY29uc3QgaXNJbkN1cnJlbnRQYWdlID0gJChjbHNDb25zdC5jdXJyZW50UGFnZUNscykubGVuZ3RoO1xyXG4gICAgaWYgKCFpc0luQ3VycmVudFBhZ2UpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBjb25zb2xlLmxvZyhjbHNDb25zdC5jdXJyZW50UGFnZUNscyk7XHJcbiAgICBjb25zdCB3aXphcmRDZmcgPSB7XHJcbiAgICAgICAgc3RlcFJlZHVjZXIsXHJcbiAgICAgICAgb25TdWJtaXRIYW5kbGVyXHJcbiAgICB9O1xyXG4gICAgd2l6YXJkRm9ybS5pbml0KHdpemFyZENmZyk7XHJcbiAgICBpbml0SGFuZGxlcnMoKTtcclxuICAgIGNvbnN0IHRleHRSdXNBcnJheSA9IFsn0J/QviDRgdC/0LjRgdC60YMnLCAn0J/QviDQv9C+0LTQv9C40YHRh9C40LrQsNC8JywgJ9Cf0L4g0LDQutGC0LjQstC90L7QuSDQsNGD0LTQuNGC0L7RgNC40Lgg0LrQvtC90LrRg9GA0LXQvdGC0L7QsiddO1xyXG4gICAgaW5pdExvZ3NUYWIoe2xvZ3NTdGF0ZSwgbG9nc1N1YnR5cGVzOiBDT05TVC51cmwudG1UeXBlcy5zdG9yaWVzU3ViVCwgY2xzQ29uc3QsIHNldFVzZXJOYW1lQ2IsIHRleHRSdXNBcnJheX0pO1xyXG4gICAgc3Rvcmllc1N0YXR1cy5pbml0KHtcclxuICAgICAgICBpc0luU3Rvcmllc1BhZ2U6IGlzSW5DdXJyZW50UGFnZVxyXG4gICAgfSk7XHJcbiAgICAvLyBpbml0VGFnc0lucHV0KCk7XHJcblxyXG4gICAgLy8gd2luZG93LlB1YlN1Yi5zdWJzY3JpYmUoQ09OU1QuZXZlbnRzLmluc3RhZ3JhbUFjY291bnMuSU5TVEFHUkFNX0FDQ09VTlNfUkVOREVSRURfTEFaWSwgKGUsIGFjY291bnRzKSA9PiB7XHJcbiAgICAvLyAgICAgY29uc29sZS5sb2coJ0lOU1RBR1JBTV9BQ0NPVU5TX1JFTkRFUkVEX0xBWlknKTtcclxuICAgIC8vICAgICBjb25zb2xlLmxvZygnbG9nc1N1YnR5cGVzJywgbG9nc1N1YnR5cGVzKTtcclxuICAgIC8vICAgICBjb25zb2xlLmxvZygnYWNjb3VudHMnLCBhY2NvdW50cyk7XHJcbiAgICAvLyB9KTtcclxuICAgIHdpbmRvdy5QdWJTdWIuc3Vic2NyaWJlKENPTlNULmV2ZW50cy5hdXRvYXJuc3dlci5URVhUX0ZJTEVfVVBMT0FERUQsIChlLCByZXMpID0+IHtcclxuICAgICAgICAkKCcuanNfdmFsaWRhdGUtdHh0LWZpbGUtaXMtdXBsb2FkZWQnKS5yZW1vdmVBdHRyKCdkaXNhYmxlZCcpO1xyXG4gICAgfSk7XHJcbn1cclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2Jsb2Nrcy9zdG9yaWVzL3N0b3JpZXMtaW5kZXguanMiLCIvLyBUT0RPOiByZWZhY3RvciAtPiBkZWxldGUgbWUsIHVzZSB0YXNrLXN0YXR1cy1ieS1zdWJ0eXBlLmpzXHJcbmltcG9ydCB7Q09OU1R9IGZyb20gJy4uLy4uL2NvbW1vbi9qcy1zZXJ2aWNlcy9jb25zdHMnO1xyXG5pbXBvcnQge2dldFRhc2tzRGF0YX0gZnJvbSAnLi4vX3NoYXJlZC90YXNrLXN0YXR1cy90YXNrLXN0YXR1cyc7XHJcbi8vIGltcG9ydCB2aWV3VXRpbHMgZnJvbSAnLi4vLi4vY29tbW9uL2pzLXNlcnZpY2VzL3ZpZXcnO1xyXG5pbXBvcnQgZHJvcERvd24gZnJvbSAnLi4vX3NoYXJlZC9kcm9wZG93bi9kcm9wZG93bic7XHJcblxyXG5jb25zdCBwYXRoID0ge1xyXG4gICAgdHlwZTogQ09OU1QudXJsLnRtVHlwZXMuc3Rvcmllc1QsXHJcbiAgICBzdWJ0eXBlOiBDT05TVC51cmwudG1UeXBlcy5zdG9yaWVzU3ViVFswXVxyXG59O1xyXG5jb25zdCB3cmFwcGVycyA9IHtcclxuICAgICRhbGw6ICQoJy50YXNrcy1hbGwnKSxcclxuICAgICRzdG9wcGVkOiAkKCcudGFza3Mtc3RvcHBlZCcpXHJcbn07XHJcbmNvbnN0IGxvZ3NTdGF0ZVN0YXR1cyA9IHtcclxuICAgIHdyYXBwZXJTdWJ0eXBlOiAkKCcuc3VidHlwZS0tYm94JylcclxufTtcclxuXHJcbmZ1bmN0aW9uIGRyb3Bkb3duT25TZWxlY3RDYihlKSB7XHJcbiAgICAvLyBjb25zdCB7c2VsZWN0Q2xzTG9nc1Rhc2tUeXBlfSA9IGxvZ3NTdGF0ZTtcclxuICAgIGNvbnN0IHN1YnR5cGUgPSAkKGUudGFyZ2V0KS5maW5kKCdvcHRpb246c2VsZWN0ZWQnKS52YWwoKTtcclxuICAgIGNvbnN0IHBhdGhVcGRhdGVkID0gey4uLnBhdGgsIHN1YnR5cGV9O1xyXG4gICAgJCgnLmpzX2xvZ3MtY29udGFpbmVyJykuYWRkQ2xhc3MoJ2QtYmxvY2snKTtcclxuICAgICQoJ29wdGlvbi5qc19lbXB0eS1zdWJ0eXBlJykucmVtb3ZlKCk7XHJcbiAgICBnZXRUYXNrc0RhdGEod3JhcHBlcnMsIHBhdGhVcGRhdGVkKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGluaXQoe2lzSW5TdG9yaWVzUGFnZX0pIHtcclxuICAgIGlmICghaXNJblN0b3JpZXNQYWdlKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgLy8gdG9ETyA6IHJlZmFjdG9yXHJcbiAgICAvLyByZW5kZXIgc3RhdHVzIGRyb3Bkb3duXHJcbiAgICBjb25zdCB0ZXh0UnVzQXJyYXkgPSBbJ9Cf0L4g0YHQv9C40YHQutGDJywgJ9Cf0L4g0L/QvtC00L/QuNGB0YfQuNC60LDQvCcsICfQn9C+INCw0LrRgtC40LLQvdC+0Lkg0LDRg9C00LjRgtC+0YDQuNC4INC60L7QvdC60YPRgNC10L3RgtC+0LInXTtcclxuICAgIGRyb3BEb3duLmFkZERyb3Bkb3duKGxvZ3NTdGF0ZVN0YXR1cy53cmFwcGVyU3VidHlwZSwgQ09OU1QudXJsLnRtVHlwZXMuc3Rvcmllc1N1YlQsIHtsb2dzU3RhdGU6IGxvZ3NTdGF0ZVN0YXR1cywgZHJvcGRvd25PblNlbGVjdENiLCB0ZXh0UnVzQXJyYXl9KTtcclxuXHJcbiAgICAvLyBnZXRUYXNrc0RhdGEod3JhcHBlcnMsIHBhdGgpO1xyXG4gICAgd2luZG93LlB1YlN1Yi5zdWJzY3JpYmUoQ09OU1QuZXZlbnRzLnRhc2tzLk5FV19UQVNLX0NSRUFURUQsIChldmVudE5hbWUsIGRhdGEpID0+IHtcclxuICAgICAgICBnZXRUYXNrc0RhdGEod3JhcHBlcnMsIHBhdGgpO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9ibG9ja3Mvc3Rvcmllcy9zdG9yaWVzLXN0YXR1cy5qcyIsImltcG9ydCB7Q09OU1R9IGZyb20gJy4uLy4uL2NvbW1vbi9qcy1zZXJ2aWNlcy9jb25zdHMnO1xyXG5pbXBvcnQgVXNlclRhc2tNYW5hZ2VyIGZyb20gJy4uLy4uL2NvbW1vbi9qcy1zZXJ2aWNlcy9hcGktdGFzay1tYW5hZ2VyJztcclxuaW1wb3J0IHZpZXdVdGlscyBmcm9tICcuLi8uLi9jb21tb24vanMtc2VydmljZXMvdmlldyc7XHJcbmNvbnN0IHtmaWxsUmFkaW9Hcm91cExpc3R9ID0gdmlld1V0aWxzO1xyXG5pbXBvcnQge2F0dGFjaFR4dEZpbGVIYW5kbGVyfSBmcm9tICcuLi9mb2xsb3cvZm9sbG93LXJlYWQtZmlsZS10eHQnO1xyXG5cclxuaW1wb3J0ICogYXMgd2l6YXJkRm9ybSBmcm9tICcuLi8uLi9ibG9ja3Mvd2l6YXJkLWZvcm0vd2l6YXJkLWZvcm0nO1xyXG5pbXBvcnQgKiBhcyB0YWJTdGF0dXMgZnJvbSAnLi91bmZvbGxvdy1zdGF0dXMnO1xyXG5pbXBvcnQge2luaXRMb2dzVGFifSBmcm9tICcuLi9fc2hhcmVkL2xvZ3MvbG9ncy10YWJzJztcclxuXHJcbmxldCB1c2VybmFtZVNlbGVjdGVkID0gJyc7XHJcbmNvbnN0IGxvZ3NTdWJ0eXBlcyA9IENPTlNULnVybC50bVR5cGVzLnVuZm9sbG93aW5nU3ViVDtcclxuY29uc3QgY2xzQ29uc3QgPSB7XHJcbiAgICBjdXJyZW50UGFnZUNsczogJy51bmZvbGxvdy1wYWdlJyxcclxuICAgIHRhc2tzTGlzdDogJy5sb2ctdGFza3MnLFxyXG4gICAgbG9nc1RhYkJ0bjogJyN2LXBpbGxzLWxvZ3MtdGFiJyxcclxuICAgIHBhZ2luYXRpb246ICcubG9ncy1wYWdpbmF0aW9uJyxcclxuICAgIHBhZ2luYXRpb25QZ051bWJlcjogJy5wYWdlLW51bWJlcicsXHJcbiAgICBwYXRoVHlwZTogQ09OU1QudXJsLnRtVHlwZXMudW5mb2xsb3dpbmdULFxyXG4gICAgcGF0aFN1YlR5cGU6IENPTlNULnVybC50bVR5cGVzLnVuZm9sbG93aW5nU3ViVFswXVxyXG59O1xyXG5jb25zdCBlbFNlbGVjdG9yID0ge1xyXG4gICAgd2l6YXJkRm9ybTogJy53aXphcmQtZm9ybScsXHJcbiAgICB3aXphcmRGb3JtTmFtZTogJ3dpemFyZC1mb3JtJyxcclxuICAgIGZpZWxkczogJy5hdXRvbWVzc2FnZXMtdGV4dC1maWVsZHMnLFxyXG4gICAgdGFza01vZGU6ICcuanNfdGFzay1tb2RlJyxcclxuICAgIHR5cGVSYWRpb0dyb3VwOiAnLmpzX2dldC11bmZvbGxvdy10eXBlJyxcclxuICAgIGNvbXBldGl0b3JzOiAndGV4dGFyZWEuc3Rvcmllcy1jb21wZXRpdG9ycydcclxufTtcclxuY29uc3Qgc3RhdGUgPSB7XHJcbiAgICBzdWJ0eXBlOiBDT05TVC51cmwudG1UeXBlcy51bmZvbGxvd2luZ1N1YlRbMF0sXHJcbiAgICB1c2VyX2RlZmF1bHRfY29uZmlnOiB7XHJcbiAgICAgICAgdGFza19tb2RlOiAnU0FGRSdcclxuICAgIH1cclxufTtcclxuXHJcbmZ1bmN0aW9uIG9uU3VibWl0SGFuZGxlcihlKSB7XHJcbiAgICBjb25zdCB7d2l6YXJkRm9ybU5hbWV9ID0gZWxTZWxlY3RvcjtcclxuICAgIGNvbnN0IGZvcm0gPSBkb2N1bWVudC5mb3Jtc1t3aXphcmRGb3JtTmFtZV07XHJcblxyXG4gICAgY29uc3QgYm9keSA9IHtcclxuICAgICAgICAuLi5zdGF0ZSxcclxuICAgICAgICB1c2VyX2N1c3RvbV9jb25maWc6IHtcclxuICAgICAgICAgICAgLy8gYXR0YWNobWVudDoge1xyXG4gICAgICAgICAgICAvLyAgICAgJ2xpc3RfaWQnOiAnaWRfc3RhdGljJ1xyXG4gICAgICAgICAgICAvLyB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICB0eXBlOiBjbHNDb25zdC5wYXRoVHlwZSxcclxuICAgICAgICB1c2VybmFtZTogdXNlcm5hbWVTZWxlY3RlZFxyXG4gICAgfTtcclxuXHJcbiAgICBpZiAoc3RhdGUuc3VidHlwZSA9PT0gQ09OU1QudXJsLnRtVHlwZXMudW5mb2xsb3dpbmdTdWJUWzBdKSB7XHJcbiAgICAgICAgLy8gdGV4dCBmaWxlIHNob3VsZCBiZSBhZGRlZFxyXG4gICAgICAgIGJvZHlbJ3VzZXJfY3VzdG9tX2NvbmZpZyddLmF0dGFjaG1lbnQgPSB7XHJcbiAgICAgICAgICAgICdsaXN0X2lkJzogJCgnLmFkZC1maWxlIC5maWxlLXVwbG9hZC1jb250YWluZXInKS5hdHRyKCdhdHRhY2hlZC10eHQtaWQnKVxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgJChmb3JtKS5maW5kKCdpbnB1dFt0eXBlPVwidGV4dFwiXSxpbnB1dFt0eXBlPVwibnVtYmVyXCJdLGlucHV0W3R5cGU9XCJlbWFpbFwiXScpLmVhY2goZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmICgkKHRoaXMpLnZhbCgpID09PSAnJykge1xyXG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICQodGhpcykuYWRkQ2xhc3MoJ2lucHV0LWVycm9yJyk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgJCh0aGlzKS5yZW1vdmVDbGFzcygnaW5wdXQtZXJyb3InKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICBjb25zb2xlLmxvZygnb25TdWJtaXRIYW5kbGVyICoqcmVxdWVzdCoqICBwb3N0OiBTdGFydEZvbGxvd2luZ0xpc3QnLCBib2R5KTtcclxuXHJcbiAgICBVc2VyVGFza01hbmFnZXIucG9zdFN0YXJ0Rm9sbG93aW5nTGlzdChib2R5KS50aGVuKChyZXN1bHQpID0+IHtcclxuICAgICAgICBpZiAocmVzdWx0LnN0YXR1cy5zdGF0ZSA9PT0gJ29rJykge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhKU09OLnN0cmluZ2lmeShyZXN1bHQpKTtcclxuICAgICAgICAgICAgJCgnLmZvcm0tc3VibWl0LWZpbmlzaCcpLmZpbmQoJy5hbGVydCBwJykucmVtb3ZlKCk7XHJcbiAgICAgICAgICAgICQoJy5mb3JtLXN1Ym1pdC1maW5pc2gnKS5hZGRDbGFzcygnZC1ibG9jaycpXHJcbiAgICAgICAgICAgICAgICAuZmluZCgnLmFsZXJ0JykuYXBwZW5kKGA8cD50YXNrX2lkOiAke3Jlc3VsdC5kYXRhLnRhc2tfaWR9PC9wPmApO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG59XHJcblxyXG4vKipcclxuICogSW5pdCBIYW5kbGVyc1xyXG4gKi9cclxuZnVuY3Rpb24gaW5pdEhhbmRsZXJzKCkge1xyXG5cclxuICAgICQoYCR7ZWxTZWxlY3Rvci50eXBlUmFkaW9Hcm91cH0gaW5wdXRbdHlwZT1yYWRpb11gKS5vbignY2xpY2snLCAoZSkgPT4ge1xyXG4gICAgICAgIGNvbnN0IHZhbHVlID0gJChlLnRhcmdldCkuYXR0cigndmFsdWUnKTtcclxuICAgICAgICBzdGF0ZS5zdWJ0eXBlID0gdmFsdWUudG9VcHBlckNhc2UoKTtcclxuICAgICAgICBjb25zb2xlLmxvZyhzdGF0ZSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBhbGVydCBjbG9zZVxyXG4gICAgJCgnLmZvcm0tc3VibWl0LWZpbmlzaCAuY2xvc2UnKS5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coJ2FsZXJ0IGNsb3NlJyk7XHJcbiAgICAgICAgJCgnI3YtcGlsbHMtYWxsLXRhYicpLnRyaWdnZXIoJ2NsaWNrJyk7XHJcbiAgICAgICAgd2luZG93LlB1YlN1Yi5wdWJsaXNoKENPTlNULmV2ZW50cy50YXNrcy5ORVdfVEFTS19DUkVBVEVEKTtcclxuICAgIH0pO1xyXG5cclxuICAgIC8vIGFsZXJ0IGNsb3NlXHJcbiAgICAkKCcuZm9ybS1zdWJtaXQtZmluaXNoLS1lcnJvciAuY2xvc2UnKS5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coJ2FsZXJ0IGNsb3NlJyk7XHJcbiAgICAgICAgJCgnI3YtcGlsbHMtYWxsLXRhYicpLnRyaWdnZXIoJ2NsaWNrJyk7XHJcbiAgICAgICAgd2luZG93LlB1YlN1Yi5wdWJsaXNoKENPTlNULmV2ZW50cy50YXNrcy5ORVdfVEFTS19DUkVBVEVEKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBvblN1Y2Nlc3NGaWxlVXBsb2FkQ2IoKSB7XHJcbiAgICBjb25zdCB7d2l6YXJkRm9ybX0gPSBlbFNlbGVjdG9yO1xyXG5cclxuICAgICQod2l6YXJkRm9ybSkuZmluZCgnYnV0dG9uW3R5cGU9XCJzdWJtaXRcIl0nKS5hdHRyKCdkaXNhYmxlZCcsIGZhbHNlKTtcclxufVxyXG5cclxuZnVuY3Rpb24gYWRkVXBsb2FkQnV0dG9uKHN1YnR5cGUpIHtcclxuICAgIGZ1bmN0aW9uIHRvZ2dsZUFkZFRleHRCdG4oc3VidHlwZSkge1xyXG4gICAgICAgIGlmIChzdWJ0eXBlID09PSBDT05TVC51cmwudG1UeXBlcy51bmZvbGxvd2luZ1N1YlRbMF0pIHtcclxuICAgICAgICAgICAgLy8gc2hvdyB0eHQgZmlsZVVwbG9hZFxyXG4gICAgICAgICAgICAkKCcuYWRkLWZpbGUnKS5hZGRDbGFzcygnZC1ibG9jaycpO1xyXG4gICAgICAgICAgICAvLyAkKCcuYWRkLWNvbXBldGl0b3JzJykuYWRkQ2xhc3MoJ2Qtbm9uZScpLnJlbW92ZUNsYXNzKCdkLWJsb2NrJyk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgLy8gaGlkZSB0eHQgZmlsZVVwbG9hZFxyXG4gICAgICAgICAgICAvLyAkKCcuYWRkLWNvbXBldGl0b3JzJykuYWRkQ2xhc3MoJ2QtYmxvY2snKTtcclxuICAgICAgICAgICAgJCgnLmFkZC1maWxlJykuYWRkQ2xhc3MoJ2Qtbm9uZScpLnJlbW92ZUNsYXNzKCdkLWJsb2NrJyk7XHJcbiAgICAgICAgICAgIG9uU3VjY2Vzc0ZpbGVVcGxvYWRDYigpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuICAgIHRvZ2dsZUFkZFRleHRCdG4oc3VidHlwZSk7XHJcbiAgICAvLyBjb25zb2xlLmxvZygnYWRkVXBsb2FkQnV0dG9uJywgQ09OU1QudXJsLnRtVHlwZXMudW5mb2xsb3dpbmdTdWJUWzBdKTtcclxufVxyXG5cclxuZnVuY3Rpb24gcmVuZGVyVGFza01vZGUoZGVmYXVsdENmZykge1xyXG4gICAgY29uc3Qge2NmZzoge3Rhc2tfbW9kZXN9fSA9IGRlZmF1bHRDZmc7XHJcbiAgICBjb25zdCB7dGFza01vZGU6IHRhc2tNb2RlU2VsZWN0b3J9ID0gZWxTZWxlY3RvcjtcclxuXHJcbiAgICBmaWxsUmFkaW9Hcm91cExpc3QoJCh0YXNrTW9kZVNlbGVjdG9yKSwgdGFza19tb2RlcywgJ9C+0YLQv9C40YHQvtC6Jyk7XHJcbiAgICBhZGRVcGxvYWRCdXR0b24oZGVmYXVsdENmZy5pZC5zdWJ0eXBlKTtcclxuXHJcbiAgICAkKGAke3Rhc2tNb2RlU2VsZWN0b3J9IGlucHV0W3R5cGU9cmFkaW9dYCkub24oJ2NsaWNrJywgKGUpID0+IHtcclxuICAgICAgICBjb25zdCB2YWx1ZSA9ICQoZS50YXJnZXQpLmF0dHIoJ3ZhbHVlJyk7XHJcbiAgICAgICAgc3RhdGUudXNlcl9kZWZhdWx0X2NvbmZpZy50YXNrX21vZGUgPSB2YWx1ZS50b1VwcGVyQ2FzZSgpO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdldENvbmZpZygpIHtcclxuICAgIGNvbnN0IHBhdGggPSB7XHJcbiAgICAgICAgdHlwZTogY2xzQ29uc3QucGF0aFR5cGUsXHJcbiAgICAgICAgc3VidHlwZTogc3RhdGUuc3VidHlwZVxyXG4gICAgfTtcclxuICAgIGNvbnN0IGNiRXJyb3IgPSBmdW5jdGlvbihyZXMpIHtcclxuICAgICAgICBjb25zdCBtc2cgPSByZXMuc3RhdHVzLm1lc3NhZ2U7XHJcbiAgICAgICAgJCgnLmZvcm0tc3VibWl0LWZpbmlzaC0tZXJyb3InKS5hZGRDbGFzcygnZC1ibG9jaycpXHJcbiAgICAgIC5maW5kKCcuYWxlcnQnKS5hcHBlbmQoYDxwPiR7bXNnfTwvcD5gKTtcclxuICAgIH07XHJcblxyXG4gICAgVXNlclRhc2tNYW5hZ2VyLmdldFN0b3JpZXNDb25maWcocGF0aCwgY2JFcnJvcikudGhlbigocmVzdWx0KSA9PiB7XHJcbiAgICAgICAgaWYgKHJlc3VsdC5zdGF0dXMuc3RhdGUgIT09ICdvaycpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCB7XHJcbiAgICAgICAgICAgIGRhdGE6IHtcclxuICAgICAgICAgICAgICAgIGZvdW5kXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9ID0gcmVzdWx0O1xyXG4gICAgICAgIC8vICQoJyNsaW1pdCcpLnZhbChsaW1pdFZhbCk7XHJcbiAgICAgICAgLy8gY29uc3QgbGltaXRWYWwgPSBmb3VuZC5jZmcuY3JpdGVyaWEubWF4X3ZpZXdzO1xyXG4gICAgICAgIHJlbmRlclRhc2tNb2RlKGZvdW5kKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBzZXRVc2VyTmFtZUNiKF91c2VybmFtZVNlbGVjdGVkKSB7XHJcbiAgICB1c2VybmFtZVNlbGVjdGVkID0gX3VzZXJuYW1lU2VsZWN0ZWQ7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHNldFVzZXJOYW1lRmlyc3RTdGVwKHN0YXRlKSB7XHJcbiAgICB1c2VybmFtZVNlbGVjdGVkID0gc3RhdGUudXNlcm5hbWU7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNoZWNrVGl0bGVTdGVwMyhzdGVwTnVtYmVyKSB7XHJcbiAgICBjb25zdCB7d2l6YXJkRm9ybX0gPSBlbFNlbGVjdG9yO1xyXG4gICAgY29uc3QgdGl0bGUgPSAkKGAke3dpemFyZEZvcm19IGgzYCkuZ2V0KHN0ZXBOdW1iZXIgKyAxKTtcclxuICAgIGlmIChzdGF0ZS5zdWJ0eXBlID09PSBDT05TVC51cmwudG1UeXBlcy51bmZvbGxvd2luZ1N1YlRbMF0pIHtcclxuICAgICAgICAkKHRpdGxlKS50ZXh0KCfQktGL0LHQtdGA0LjRgtC1INGA0LXQttC40Lwg0Lgg0LTQvtCx0LDQstGM0YLQtSDRhNCw0LnQuyDRgSDQv9C+0LvRjNC30L7QstCw0YLQtdC70Y/QvNC4Jyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgICQodGl0bGUpLnRleHQoJ9CS0YvQsdC10YDQuNGC0LUg0YDQtdC20LjQvCcpO1xyXG4gICAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBhZGRUZXh0QXJlYShzdGVwTnVtYmVyKSB7XHJcbiAgICBjb25zdCB7d2l6YXJkRm9ybX0gPSBlbFNlbGVjdG9yO1xyXG4gICAgaWYgKHN0YXRlLnN1YnR5cGUgPT09IENPTlNULnVybC50bVR5cGVzLnVuZm9sbG93aW5nU3ViVFsxXSkge1xyXG4gICAgICAgIGNvbnN0IGZpZWxkTGFzdCA9ICQoYCR7d2l6YXJkRm9ybX0gZmllbGRzZXRgKS5nZXQoc3RlcE51bWJlciArIDEpO1xyXG4gICAgICAgIGNvbnN0IHRwbCA9IGA8ZGl2IGNsYXNzPVwicm93XCI+XHJcbiAgICAgICAgICAgIDxsYWJlbCBjbGFzcz1cIlwiPtCa0L7QvdC60YPRgNC10L3RgtGLPC9sYWJlbD5cclxuICAgICAgICAgICAgPHRleHRhcmVhIGNsYXNzPVwiZm9ybS1jb250cm9sIHN0b3JpZXMtY29tcGV0aXRvcnMgbWItMlwiIHJvd3M9XCIxXCI+PC90ZXh0YXJlYT48L2Rpdj5gO1xyXG4gICAgICAgICQoZmllbGRMYXN0KS5maW5kKCcuZm9ybS1ib3R0b20+LnJvdycpLmFmdGVyKHRwbCk7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ2VuZCcpO1xyXG4gICAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBzdGVwUmVkdWNlcihzdGVwTnVtYmVyLCBzdGF0ZSkge1xyXG4gICAgc3dpdGNoIChzdGVwTnVtYmVyKSB7XHJcbiAgICAgICAgY2FzZSAwOlxyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhzdGF0ZSwgc3RlcE51bWJlcik7XHJcbiAgICAgICAgICAgIHNldFVzZXJOYW1lRmlyc3RTdGVwKHN0YXRlKTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSAxOlxyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhzdGF0ZSwgc3RlcE51bWJlcik7XHJcbiAgICAgICAgICAgIGdldENvbmZpZygpO1xyXG4gICAgICAgICAgICBjaGVja1RpdGxlU3RlcDMoc3RlcE51bWJlcik7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgMjpcclxuICAgICAgICAgICAgLy8gVEhpcyBzdGVwIGlzIHVwcmVhY2hhYmxlXHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHN0YXRlLCBzdGVwTnVtYmVyKTtcclxuICAgICAgICAgICAgYWRkVGV4dEFyZWEoc3RlcE51bWJlcik7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdkZWZhdWx0Jywgc3RlcE51bWJlcik7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBpbml0KCkge1xyXG4gICAgY29uc3QgaXNJbkN1cnJlbnRQYWdlID0gJChjbHNDb25zdC5jdXJyZW50UGFnZUNscykubGVuZ3RoO1xyXG4gICAgaWYgKCFpc0luQ3VycmVudFBhZ2UpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBjb25zb2xlLmxvZyhjbHNDb25zdC5jdXJyZW50UGFnZUNscyk7XHJcbiAgICBjb25zdCB3aXphcmRDZmcgPSB7XHJcbiAgICAgICAgc3RlcFJlZHVjZXIsXHJcbiAgICAgICAgb25TdWJtaXRIYW5kbGVyXHJcbiAgICB9O1xyXG4gICAgd2l6YXJkRm9ybS5pbml0KHdpemFyZENmZyk7XHJcbiAgICBpbml0SGFuZGxlcnMoKTtcclxuICAgIGF0dGFjaFR4dEZpbGVIYW5kbGVyKCcuZmlsZS11cGxvYWQtY29udGFpbmVyJywgb25TdWNjZXNzRmlsZVVwbG9hZENiKTtcclxuICAgIGNvbnN0IHRleHRSdXNBcnJheSA9IFsn0J/QviDRgdC/0LjRgdC60YMnLCAn0J7RgiDQstGB0LXRhScsICfQntGCINC90LXQstC30LDQuNC80L3Ri9GFJ107XHJcbiAgICBpbml0TG9nc1RhYih7bG9nc1N0YXRlOiBDT05TVC5sb2dzU3RhdGUsIGxvZ3NTdWJ0eXBlcywgY2xzQ29uc3QsIHNldFVzZXJOYW1lQ2IsIHRleHRSdXNBcnJheX0pO1xyXG4gICAgdGFiU3RhdHVzLmluaXQoe1xyXG4gICAgICAgIGlzSW5TdG9yaWVzUGFnZTogaXNJbkN1cnJlbnRQYWdlXHJcbiAgICB9KTtcclxuICAgIC8vIHdpbmRvdy5QdWJTdWIuc3Vic2NyaWJlKENPTlNULmV2ZW50cy5hdXRvYXJuc3dlci5JTUFHRV9VUExPQURFRCwgKGUsIHJlcykgPT4ge1xyXG4gICAgLy8gICAgIGNvbnN0IHJlc3VsdCA9IEpTT04ucGFyc2UocmVzLnJlc3BvbnNlKTtcclxuICAgIC8vICAgICBjb25zdCBpbWFnZUlkID0gcmVzdWx0ICYmIHJlc3VsdC5kYXRhICYmIHJlc3VsdC5kYXRhLmltYWdlX2lkO1xyXG4gICAgLy8gICAgICQocmVzLmVsKS5jbG9zZXN0KCcuZmlsZS11cGxvYWQnKS5hdHRyKCdhdHRhY2hlZC1pbWctaWQnLCBpbWFnZUlkKTtcclxuICAgIC8vICAgICBjb25zb2xlLmxvZygnaW1hZ2VfbG9hZGVkJywgcmVzKTtcclxuICAgIC8vIH0pO1xyXG5cclxufVxyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvYmxvY2tzL3VuZm9sbG93L3VuZm9sbG93LWluZGV4LmpzIiwiaW1wb3J0IHtDT05TVH0gZnJvbSAnLi4vLi4vY29tbW9uL2pzLXNlcnZpY2VzL2NvbnN0cyc7XHJcbmltcG9ydCAqIGFzIGZvbGxvd1N0YXR1c0J5U3VidHlwZSBmcm9tICcuLi8uLi9ibG9ja3MvX3NoYXJlZC90YXNrLXN0YXR1cy90YXNrLXN0YXR1cy1ieS1zdWJ0eXBlJztcclxuXHJcbi8vIFRPRE86IHJlZmFjdG9yIC0+IGRlbGV0ZSBtZVxyXG4vLyBpbXBvcnQge2dldFRhc2tzRGF0YX0gZnJvbSAnLi4vX3NoYXJlZC90YXNrLXN0YXR1cy90YXNrLXN0YXR1cyc7XHJcbi8vIGltcG9ydCB2aWV3VXRpbHMgZnJvbSAnLi4vLi4vY29tbW9uL2pzLXNlcnZpY2VzL3ZpZXcnO1xyXG4vLyBpbXBvcnQgZHJvcERvd24gZnJvbSAnLi4vX3NoYXJlZC9kcm9wZG93bi9kcm9wZG93bic7XHJcblxyXG4vLyBjb25zdCBwYXRoID0ge1xyXG4vLyAgICAgdHlwZTogQ09OU1QudXJsLnRtVHlwZXMuc3Rvcmllc1QsXHJcbi8vICAgICBzdWJ0eXBlOiBDT05TVC51cmwudG1UeXBlcy5zdG9yaWVzU3ViVFswXVxyXG4vLyB9O1xyXG4vLyBjb25zdCB3cmFwcGVycyA9IHtcclxuLy8gICAgICRhbGw6ICQoJy50YXNrcy1hbGwnKSxcclxuLy8gICAgICRzdG9wcGVkOiAkKCcudGFza3Mtc3RvcHBlZCcpXHJcbi8vIH07XHJcbi8vIGNvbnN0IGxvZ3NTdGF0ZVN0YXR1cyA9IHtcclxuLy8gICAgIHdyYXBwZXJTdWJ0eXBlOiAkKCcuc3VidHlwZS0tYm94JylcclxuLy8gICAgIC8vIHNlbGVjdENsc0xvZ3NUYXNrVHlwZTogJ3N1YnR5cGUtc2VsZWN0LXdyYXBwZXInXHJcbi8vIH07XHJcbi8vXHJcbi8vIGZ1bmN0aW9uIGRyb3Bkb3duT25TZWxlY3RDYihlKSB7XHJcbi8vICAgICAvLyBjb25zdCB7c2VsZWN0Q2xzTG9nc1Rhc2tUeXBlfSA9IGxvZ3NTdGF0ZTtcclxuLy8gICAgIGNvbnN0IHN1YnR5cGUgPSAkKGUudGFyZ2V0KS5maW5kKCdvcHRpb246c2VsZWN0ZWQnKS52YWwoKTtcclxuLy8gICAgIGNvbnN0IHBhdGhVcGRhdGVkID0gey4uLnBhdGgsIHN1YnR5cGV9O1xyXG4vLyAgICAgJCgnLmpzX2xvZ3MtY29udGFpbmVyJykuYWRkQ2xhc3MoJ2QtYmxvY2snKTtcclxuLy8gICAgICQoJ29wdGlvbi5qc19lbXB0eS1zdWJ0eXBlJykucmVtb3ZlKCk7XHJcbi8vICAgICBnZXRUYXNrc0RhdGEod3JhcHBlcnMsIHBhdGhVcGRhdGVkKTtcclxuLy8gfVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGluaXQoe2lzSW5TdG9yaWVzUGFnZX0pIHtcclxuICAgIGlmICghaXNJblN0b3JpZXNQYWdlKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgY29uc3QgaW5pdGlhbFBhdGggPSB7XHJcbiAgICAgICAgdHlwZTogQ09OU1QudXJsLnRtVHlwZXMudW5mb2xsb3dpbmdULFxyXG4gICAgICAgIHN1YnR5cGU6IENPTlNULnVybC50bVR5cGVzLnVuZm9sbG93aW5nU3ViVFswXSxcclxuICAgICAgICBzdWJ0eXBlczogQ09OU1QudXJsLnRtVHlwZXMudW5mb2xsb3dpbmdTdWJUXHJcbiAgICB9O1xyXG5cclxuICAgIGNvbnN0IHRleHRSdXNBcnJheSA9IFsn0J/QviDRgdC/0LjRgdC60YMnLCAn0J7RgiDQstGB0LXRhScsICfQntGCINC90LXQstC30LDQuNC80L3Ri9GFJ107XHJcbiAgICBmb2xsb3dTdGF0dXNCeVN1YnR5cGUuaW5pdCh7aXNJbkNvcnJlY3RQYWdlOiBpc0luU3Rvcmllc1BhZ2UsIGluaXRpYWxQYXRoLCB0ZXh0UnVzQXJyYXl9KTtcclxuXHJcbiAgICAvLyB0b2RvOiBtZXJnZSB3aXRoIHN0b3JpZXMtc2F0dXMuanNcclxuICAgIC8vIGRyb3BEb3duLmFkZERyb3Bkb3duKGxvZ3NTdGF0ZVN0YXR1cy53cmFwcGVyU3VidHlwZSwgQ09OU1QudXJsLnRtVHlwZXMuc3Rvcmllc1N1YlQsIHtsb2dzU3RhdGU6IGxvZ3NTdGF0ZVN0YXR1cywgZHJvcGRvd25PblNlbGVjdENifSk7XHJcblxyXG4gICAgLy8gZ2V0VGFza3NEYXRhKHdyYXBwZXJzLCBwYXRoKTtcclxuICAgIC8vIHdpbmRvdy5QdWJTdWIuc3Vic2NyaWJlKENPTlNULmV2ZW50cy50YXNrcy5ORVdfVEFTS19DUkVBVEVELCAoZXZlbnROYW1lLCBkYXRhKSA9PiB7XHJcbiAgICAvLyAgICAgZ2V0VGFza3NEYXRhKHdyYXBwZXJzLCBwYXRoKTtcclxuICAgIC8vIH0pO1xyXG59XHJcblxyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvYmxvY2tzL3VuZm9sbG93L3VuZm9sbG93LXN0YXR1cy5qcyIsIi8qIGVzbGludC1kaXNhYmxlIHNvcnQtdmFycyAqL1xyXG4vLyBpbXBvcnQgJCBmcm9tICdqcXVlcnknO1xyXG5pbXBvcnQgVXNlciBmcm9tICcuLi8uLi9jb21tb24vanMtc2VydmljZXMvdXNlcic7XHJcbmltcG9ydCBQdWJTdWIgZnJvbSAncHVic3ViLWpzJzsgLy8gaHR0cHM6Ly93d3cubnBtanMuY29tL3BhY2thZ2UvcHVic3ViLWpzXHJcbmltcG9ydCBjb29raWVTdG9yYWdlIGZyb20gJy4uLy4uL2NvbW1vbi9qcy1zZXJ2aWNlcy9jb29raWUnO1xyXG4vLyBpbXBvcnQgVmFsaWRhdG9yIGZyb20gJy4uLy4uL2NvbW1vbi9qcy1zZXJ2aWNlcy9mb3JtLXZhbGlkYXRvcic7XHJcbmltcG9ydCB2aWV3VXRpbHMgZnJvbSAnLi4vLi4vY29tbW9uL2pzLXNlcnZpY2VzL3ZpZXcnO1xyXG5pbXBvcnQge0NPTlNUfSBmcm9tICcuLi8uLi9jb21tb24vanMtc2VydmljZXMvY29uc3RzJztcclxuXHJcbi8vIHdpbmRvdy4kID0gJDtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBMb2dpblBhZ2Uoc2VsZWN0b3JDc3MpIHtcclxuICAgIGNvbnN0IHtfZm9ybUlkLCBfYnV0dG9uU3VibWl0SWQsIF9sb2dpbkJveH0gPSBzZWxlY3RvckNzcztcclxuICAgIGNvbnN0IHVzZXIgPSBVc2VyLCAvLyBzZXJ2aWNlXHJcbiAgICAgICAgJGZvcm0gPSAkKF9mb3JtSWQpLFxyXG4gICAgICAgICRlbWFpbCA9ICRmb3JtLmZpbmQoJ2lucHV0W25hbWU9XCJtYWlsXCJdJyksXHJcbiAgICAgICAgJHRleHRBcmVhRGVzY3JpcHRpb24gPSAkKCcjZGVzY3JpcHRpb24nKTtcclxuICAgIC8vIGNvbnN0IG9wZW5lZENsYXNzID0gJ2QtYmxvY2snO1xyXG4gICAgLy8gY29uc3QgY2xvc2VDbGFzcyA9ICdkLW5vbmUnO1xyXG5cclxuICAgIGNvbnN0IHVzZXJMb2dpbkhlYWRlciA9IChfZm9ybURhdGEpID0+IHtcclxuICAgICAgICBjb25zdCBjYkVycm9yID0gKHJlc3VsdCkgPT4ge1xyXG4gICAgICAgICAgICAvLyAkKF9sb2dpbkJveCkuYXBwZW5kKGA8cD4ke3Jlc3VsdC5zdGF0dXMubWVzc2FnZX08L3A+YCk7XHJcbiAgICAgICAgICAgIGNvbnN0IG1vZGFsID0gJCgnI2Vycm9yLW1vZGFsJyk7XHJcbiAgICAgICAgICAgIG1vZGFsLm1vZGFsKCdzaG93Jyk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3VsdC5zdGF0dXMubWVzc2FnZSk7XHJcbiAgICAgICAgfTtcclxuXHJcbiAgICAgICAgcmV0dXJuIHVzZXIubG9naW4oX2Zvcm1EYXRhLCBjYkVycm9yKVxyXG4gICAgICAgICAgICAudGhlbigocmVzdWx0KSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0ICYmIHJlc3VsdC5kYXRhICYmIHJlc3VsdC5kYXRhLnRva2VuKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gc2F2ZSB0aGUgaXRlbVxyXG4gICAgICAgICAgICAgICAgICAgIGNvb2tpZVN0b3JhZ2Uuc2V0KENPTlNULmNvb2tpZVN0b3JhZ2UudG9rZW4sIHJlc3VsdC5kYXRhLnRva2VuKTtcclxuICAgICAgICAgICAgICAgICAgICAkKCcubmF2LWxpbmsuanNfbG9nT3V0JykucGFyZW50KCkuc2hvdygpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdyZXF1ZXN0IHN1Y2NlZWRlZCB3aXRoIEpTT04gcmVzcG9uc2UnLCByZXN1bHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIHZpZXdVdGlscy5zaG93SW5mb01lc3NhZ2UoJHRleHRBcmVhRGVzY3JpcHRpb24sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5zdGF0dXMuc3RhdGUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5zdGF0dXMubWVzc2FnZSB8fCAnTG9naW4gc3VjY3Nlc3MnKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAocmVzdWx0LnN0YXR1cykge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3VsdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmlld1V0aWxzLnNob3dJbmZvTWVzc2FnZSh0aGlzLiR0ZXh0QXJlYURlc2NyaXB0aW9uLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBgPHA+c3RhdHVzOiAke3Jlc3VsdC5zdGF0dXMuc3RhdGV9PC9wPjxwPiBtZXNzYWdlOiAke3Jlc3VsdC5zdGF0dXMubWVzc2FnZX08L3A+YCk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3VsdCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pLnRoZW4oKHJlc3VsdCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdCAmJiByZXN1bHQuc3RhdHVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzdWx0KTtcclxuICAgICAgICAgICAgICAgICAgICB2aWV3VXRpbHMuc2hvd0luZm9NZXNzYWdlKCR0ZXh0QXJlYURlc2NyaXB0aW9uLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQuc3RhdHVzLnN0YXRlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQuc3RhdHVzLm1lc3NhZ2UgfHwgJ0xvZ2luIGVycm9yJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgfTtcclxuXHJcbiAgICBjb25zdCBzdWJtaXRGb3JtID0gZnVuY3Rpb24oZm9ybURhdGFPYmopIHtcclxuICAgICAgICBjb25zdCBlbWFpbCA9ICRlbWFpbC52YWwoKSxcclxuICAgICAgICAgICAgcGFzc3dvcmQgPSAkZm9ybS5maW5kKCdpbnB1dFtuYW1lPVwicGFzc1wiXScpLnZhbCgpLFxyXG4gICAgICAgICAgICBfZm9ybURhdGEgPSBmb3JtRGF0YU9iaiB8fCB7ZW1haWwsIHBhc3N3b3JkfTtcclxuXHJcbiAgICAgICAgaWYgKHNlbGVjdG9yQ3NzLmlzTG9naW5JbnN0YWdyYW0pIHtcclxuICAgICAgICAgICAgLy8gdG9kbzogZGVsZXRlIG1lXHJcbiAgICAgICAgICAgIC8vIGFkZEluc3RhZ3JhbUFjY291bnQoe3VzZXJuYW1lOiAkZm9ybS5maW5kKCdpbnB1dFtuYW1lPVwidXNlcm5hbWVcIl0nKS52YWwoKSwgcGFzc3dvcmR9KTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAkZW1haWwudmFsKCRlbWFpbC52YWwoKS50b0xvY2FsZUxvd2VyQ2FzZSgpKTtcclxuICAgICAgICAgICAgdXNlckxvZ2luSGVhZGVyKF9mb3JtRGF0YSkudGhlbigoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAvLyBQdWJTdWIucHVibGlzaChDT05TVC5ldmVudHMuVVNFUl9MT0dHRUQsICdsb2dpbicpO1xyXG4gICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uLmhyZWYgPSAnLi9pbnN0YWdyYW0tYWNjb3VudHMuaHRtbCc7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgY29uc3QgbG9nT3V0ID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgY29va2llU3RvcmFnZS5yZW1vdmUoQ09OU1QuY29va2llU3RvcmFnZS50b2tlbik7XHJcbiAgICAgICAgUHViU3ViLnB1Ymxpc2goQ09OU1QuZXZlbnRzLlVTRVJfTE9HT1VUKTtcclxuICAgIH07XHJcblxyXG4gICAgY29uc3QgYmluZEV2ZW50cyA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIC8vIGNvbnN0ICRzaG93TG9naW5Cb3hCdG5JZCA9ICQoX3Nob3dMb2dpbkJveEJ0bklkKTtcclxuICAgICAgICBjb25zdCAkbG9naW5Cb3ggPSAkKF9sb2dpbkJveCk7XHJcbiAgICAgICAgY29uc3Qgb3BlbmVkQ2xhc3MgPSAnZC1ibG9jayc7XHJcbiAgICAgICAgY29uc3QgY2xvc2VDbGFzcyA9ICdkLW5vbmUnO1xyXG5cclxuICAgICAgICAvLyAkc2hvd0xvZ2luQm94QnRuSWQub24oJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgICAgIC8vICAgICBpZiAoIXNlbGVjdG9yQ3NzLmlzTG9naW5JbnN0YWdyYW0pIHtcclxuICAgICAgICAvLyAgICAgICAgICRsb2dpbkJveC5jc3Moeyd0b3AnOiAwLCAncmlnaHQnOiAwfSlcclxuICAgICAgICAvLyAgICAgICAgICAgICAuYWRkQ2xhc3MoJ2JnLWxpZ2h0IGJvcmRlciBtdC01IG14LWF1dG8gcG9zaXRpb24tYWJzb2x1dGUnKTtcclxuICAgICAgICAvLyAgICAgfVxyXG4gICAgICAgIC8vICAgICAkbG9naW5Cb3guYWRkQ2xhc3Mob3BlbmVkQ2xhc3MpLnJlbW92ZUNsYXNzKGNsb3NlQ2xhc3MpO1xyXG4gICAgICAgIC8vIH0pO1xyXG5cclxuICAgICAgICBjb25zdCAkYnV0dG9uU3VibWl0ID0gJChfYnV0dG9uU3VibWl0SWQpLFxyXG4gICAgICAgICAgICBjc3NWYWxpZGF0aW9uQ2xhc3MgPSAnZm9ybS12YWxpZGF0aW9uJztcclxuXHJcbiAgICAgICAgJGJ1dHRvblN1Ym1pdC5vbignY2xpY2snLCAoZSkgPT4ge1xyXG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgIGNvbnN0IGZvcm0gPSAkZm9ybS5nZXQoMCk7XHJcbiAgICAgICAgICAgIC8vIGNvbnN0IHZhbGlkYXRvciA9IG5ldyBWYWxpZGF0b3IoJGZvcm0pO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyh2aWV3VXRpbHMsIHZpZXdVdGlscy5pc0VtYWlsKCRlbWFpbC52YWwoKSkpO1xyXG5cclxuICAgICAgICAgICAgaWYgKGZvcm0uY2hlY2tWYWxpZGl0eSgpICYmIHZpZXdVdGlscy5pc0VtYWlsKCRlbWFpbC52YWwoKSkpIHtcclxuICAgICAgICAgICAgICAgIHN1Ym1pdEZvcm0oKTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIC8vIEhpZ2hsaWdodCBlcnJvcnNcclxuICAgICAgICAgICAgICAgIGlmIChmb3JtLnJlcG9ydFZhbGlkaXR5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9ybS5yZXBvcnRWYWxpZGl0eSgpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgJGZvcm0uYWRkQ2xhc3MoY3NzVmFsaWRhdGlvbkNsYXNzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAkKCcubmF2LWxpbmsuanNfbG9nT3V0Jykub24oJ2NsaWNrJywgKGUpID0+IHtcclxuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICBsb2dPdXQoKTtcclxuICAgICAgICAgICAgJChlLnRhcmdldCkucGFyZW50KCkuaGlkZSgpO1xyXG4gICAgICAgICAgICB2aWV3VXRpbHMuc2hvd0luZm9NZXNzYWdlKCR0ZXh0QXJlYURlc2NyaXB0aW9uLCAnTG9nZ2VkIG91dCcpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBQdWJTdWIuc3Vic2NyaWJlKENPTlNULmV2ZW50cy5VU0VSX0xPR09VVCwgKG1zZykgPT4ge1xyXG4gICAgICAgICAgICAkKENPTlNULnVpU2VsZWN0b3JzLmhlYWRlck5hdkxvZ2luQnRuKS5hZGRDbGFzcyhvcGVuZWRDbGFzcykucmVtb3ZlQ2xhc3MoY2xvc2VDbGFzcyk7IC8vIC5zaG93KCk7XHJcbiAgICAgICAgICAgICQoQ09OU1QudWlTZWxlY3RvcnMuaGVhZGVyUmVnQnRuKS5hZGRDbGFzcyhvcGVuZWRDbGFzcykucmVtb3ZlQ2xhc3MoY2xvc2VDbGFzcyk7XHJcbiAgICAgICAgICAgICQoJy5uYXYtbGluay5qc19sb2dPdXQnKS5hZGRDbGFzcyhjbG9zZUNsYXNzKS5yZW1vdmVDbGFzcyhvcGVuZWRDbGFzcyk7IC8vIC5oaWRlKCk7XHJcbiAgICAgICAgICAgIGNvbnN0IHNlbGVjdG9yTG9naW5TdGF0ZSA9ICcuanNfbWVzc2FnZV9sb2dnZWQtLXRleHQnO1xyXG4gICAgICAgICAgICAkKHNlbGVjdG9yTG9naW5TdGF0ZSkudGV4dCgn0JLRiyDQstGL0YjQu9C4INC40Lcg0LDQutC60LDRg9C90YLQsCcpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAkKGRvY3VtZW50KS5vbignY2xpY2snLCAoZXZlbnQpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgaXNMb2dpbkJ0bkNsaWNrID0gJChldmVudC50YXJnZXQpLmNsb3Nlc3QoJ25hdi5uYXZiYXInKS5maW5kKCRsb2dpbkJveCkubGVuZ3RoO1xyXG4gICAgICAgICAgICBjb25zdCBpc0FkZEluc3RhZ3JhbUJ0bkNsaWNrZWQgPSAkKGV2ZW50LnRhcmdldCkuYXR0cignaWQnKSA9PT0gQ09OU1QudWlTZWxlY3RvcnMuaW5zdGFncmFtLmFkZEFjY291bnRCdG5JZDtcclxuXHJcbiAgICAgICAgICAgIGlmICghaXNMb2dpbkJ0bkNsaWNrICYmICRsb2dpbkJveC5oYXNDbGFzcyhvcGVuZWRDbGFzcykgJiYgIWlzQWRkSW5zdGFncmFtQnRuQ2xpY2tlZCkge1xyXG4gICAgICAgICAgICAgICAgJGxvZ2luQm94LmFkZENsYXNzKGNsb3NlQ2xhc3MpLnJlbW92ZUNsYXNzKG9wZW5lZENsYXNzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfTtcclxuXHJcbiAgICBmdW5jdGlvbiBpbml0KCkge1xyXG4gICAgICAgIGlmICgkKCcuYXV0aC5sb2dpbicpLmxlbmd0aCkge1xyXG4gICAgICAgICAgICBiaW5kRXZlbnRzKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgaW5pdFxyXG4gICAgfTtcclxufVxyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvcGFnZXMvX2F1dGgvbG9naW4tcGFnZS5qcyIsIi8qXG4gKiBib290c3RyYXAtdGFnc2lucHV0IHYwLjcuMSBieSBUaW0gU2NobGVjaHRlclxuICogXG4gKi9cblxuIWZ1bmN0aW9uKGEpe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIGIoYixjKXt0aGlzLmlzSW5pdD0hMCx0aGlzLml0ZW1zQXJyYXk9W10sdGhpcy4kZWxlbWVudD1hKGIpLHRoaXMuJGVsZW1lbnQuaGlkZSgpLHRoaXMuaXNTZWxlY3Q9XCJTRUxFQ1RcIj09PWIudGFnTmFtZSx0aGlzLm11bHRpcGxlPXRoaXMuaXNTZWxlY3QmJmIuaGFzQXR0cmlidXRlKFwibXVsdGlwbGVcIiksdGhpcy5vYmplY3RJdGVtcz1jJiZjLml0ZW1WYWx1ZSx0aGlzLnBsYWNlaG9sZGVyVGV4dD1iLmhhc0F0dHJpYnV0ZShcInBsYWNlaG9sZGVyXCIpP3RoaXMuJGVsZW1lbnQuYXR0cihcInBsYWNlaG9sZGVyXCIpOlwiXCIsdGhpcy5pbnB1dFNpemU9TWF0aC5tYXgoMSx0aGlzLnBsYWNlaG9sZGVyVGV4dC5sZW5ndGgpLHRoaXMuJGNvbnRhaW5lcj1hKCc8ZGl2IGNsYXNzPVwiYm9vdHN0cmFwLXRhZ3NpbnB1dFwiPjwvZGl2PicpLHRoaXMuJGlucHV0PWEoJzxpbnB1dCB0eXBlPVwidGV4dFwiIHBsYWNlaG9sZGVyPVwiJyt0aGlzLnBsYWNlaG9sZGVyVGV4dCsnXCIvPicpLmFwcGVuZFRvKHRoaXMuJGNvbnRhaW5lciksdGhpcy4kZWxlbWVudC5iZWZvcmUodGhpcy4kY29udGFpbmVyKSx0aGlzLmJ1aWxkKGMpLHRoaXMuaXNJbml0PSExfWZ1bmN0aW9uIGMoYSxiKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBhW2JdKXt2YXIgYz1hW2JdO2FbYl09ZnVuY3Rpb24oYSl7cmV0dXJuIGFbY119fX1mdW5jdGlvbiBkKGEsYil7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgYVtiXSl7dmFyIGM9YVtiXTthW2JdPWZ1bmN0aW9uKCl7cmV0dXJuIGN9fX1mdW5jdGlvbiBlKGEpe3JldHVybiBhP2kudGV4dChhKS5odG1sKCk6XCJcIn1mdW5jdGlvbiBmKGEpe3ZhciBiPTA7aWYoZG9jdW1lbnQuc2VsZWN0aW9uKXthLmZvY3VzKCk7dmFyIGM9ZG9jdW1lbnQuc2VsZWN0aW9uLmNyZWF0ZVJhbmdlKCk7Yy5tb3ZlU3RhcnQoXCJjaGFyYWN0ZXJcIiwtYS52YWx1ZS5sZW5ndGgpLGI9Yy50ZXh0Lmxlbmd0aH1lbHNlKGEuc2VsZWN0aW9uU3RhcnR8fFwiMFwiPT1hLnNlbGVjdGlvblN0YXJ0KSYmKGI9YS5zZWxlY3Rpb25TdGFydCk7cmV0dXJuIGJ9ZnVuY3Rpb24gZyhiLGMpe3ZhciBkPSExO3JldHVybiBhLmVhY2goYyxmdW5jdGlvbihhLGMpe2lmKFwibnVtYmVyXCI9PXR5cGVvZiBjJiZiLndoaWNoPT09YylyZXR1cm4gZD0hMCwhMTtpZihiLndoaWNoPT09Yy53aGljaCl7dmFyIGU9IWMuaGFzT3duUHJvcGVydHkoXCJhbHRLZXlcIil8fGIuYWx0S2V5PT09Yy5hbHRLZXksZj0hYy5oYXNPd25Qcm9wZXJ0eShcInNoaWZ0S2V5XCIpfHxiLnNoaWZ0S2V5PT09Yy5zaGlmdEtleSxnPSFjLmhhc093blByb3BlcnR5KFwiY3RybEtleVwiKXx8Yi5jdHJsS2V5PT09Yy5jdHJsS2V5O2lmKGUmJmYmJmcpcmV0dXJuIGQ9ITAsITF9fSksZH12YXIgaD17dGFnQ2xhc3M6ZnVuY3Rpb24oYSl7cmV0dXJuXCJsYWJlbCBsYWJlbC1pbmZvXCJ9LGl0ZW1WYWx1ZTpmdW5jdGlvbihhKXtyZXR1cm4gYT9hLnRvU3RyaW5nKCk6YX0saXRlbVRleHQ6ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuaXRlbVZhbHVlKGEpfSxpdGVtVGl0bGU6ZnVuY3Rpb24oYSl7cmV0dXJuIG51bGx9LGZyZWVJbnB1dDohMCxhZGRPbkJsdXI6ITAsbWF4VGFnczp2b2lkIDAsbWF4Q2hhcnM6dm9pZCAwLGNvbmZpcm1LZXlzOlsxMyw0NF0sZGVsaW1pdGVyOlwiLFwiLGRlbGltaXRlclJlZ2V4Om51bGwsY2FuY2VsQ29uZmlybUtleXNPbkVtcHR5OiExLG9uVGFnRXhpc3RzOmZ1bmN0aW9uKGEsYil7Yi5oaWRlKCkuZmFkZUluKCl9LHRyaW1WYWx1ZTohMSxhbGxvd0R1cGxpY2F0ZXM6ITF9O2IucHJvdG90eXBlPXtjb25zdHJ1Y3RvcjpiLGFkZDpmdW5jdGlvbihiLGMsZCl7dmFyIGY9dGhpcztpZighKGYub3B0aW9ucy5tYXhUYWdzJiZmLml0ZW1zQXJyYXkubGVuZ3RoPj1mLm9wdGlvbnMubWF4VGFncykmJihiPT09ITF8fGIpKXtpZihcInN0cmluZ1wiPT10eXBlb2YgYiYmZi5vcHRpb25zLnRyaW1WYWx1ZSYmKGI9YS50cmltKGIpKSxcIm9iamVjdFwiPT10eXBlb2YgYiYmIWYub2JqZWN0SXRlbXMpdGhyb3dcIkNhbid0IGFkZCBvYmplY3RzIHdoZW4gaXRlbVZhbHVlIG9wdGlvbiBpcyBub3Qgc2V0XCI7aWYoIWIudG9TdHJpbmcoKS5tYXRjaCgvXlxccyokLykpe2lmKGYuaXNTZWxlY3QmJiFmLm11bHRpcGxlJiZmLml0ZW1zQXJyYXkubGVuZ3RoPjAmJmYucmVtb3ZlKGYuaXRlbXNBcnJheVswXSksXCJzdHJpbmdcIj09dHlwZW9mIGImJlwiSU5QVVRcIj09PXRoaXMuJGVsZW1lbnRbMF0udGFnTmFtZSl7dmFyIGc9Zi5vcHRpb25zLmRlbGltaXRlclJlZ2V4P2Yub3B0aW9ucy5kZWxpbWl0ZXJSZWdleDpmLm9wdGlvbnMuZGVsaW1pdGVyLGg9Yi5zcGxpdChnKTtpZihoLmxlbmd0aD4xKXtmb3IodmFyIGk9MDtpPGgubGVuZ3RoO2krKyl0aGlzLmFkZChoW2ldLCEwKTtyZXR1cm4gdm9pZChjfHxmLnB1c2hWYWwoKSl9fXZhciBqPWYub3B0aW9ucy5pdGVtVmFsdWUoYiksaz1mLm9wdGlvbnMuaXRlbVRleHQoYiksbD1mLm9wdGlvbnMudGFnQ2xhc3MoYiksbT1mLm9wdGlvbnMuaXRlbVRpdGxlKGIpLG49YS5ncmVwKGYuaXRlbXNBcnJheSxmdW5jdGlvbihhKXtyZXR1cm4gZi5vcHRpb25zLml0ZW1WYWx1ZShhKT09PWp9KVswXTtpZighbnx8Zi5vcHRpb25zLmFsbG93RHVwbGljYXRlcyl7aWYoIShmLml0ZW1zKCkudG9TdHJpbmcoKS5sZW5ndGgrYi5sZW5ndGgrMT5mLm9wdGlvbnMubWF4SW5wdXRMZW5ndGgpKXt2YXIgbz1hLkV2ZW50KFwiYmVmb3JlSXRlbUFkZFwiLHtpdGVtOmIsY2FuY2VsOiExLG9wdGlvbnM6ZH0pO2lmKGYuJGVsZW1lbnQudHJpZ2dlcihvKSwhby5jYW5jZWwpe2YuaXRlbXNBcnJheS5wdXNoKGIpO3ZhciBwPWEoJzxzcGFuIGNsYXNzPVwidGFnICcrZShsKSsobnVsbCE9PW0/J1wiIHRpdGxlPVwiJyttOlwiXCIpKydcIj4nK2UoaykrJzxzcGFuIGRhdGEtcm9sZT1cInJlbW92ZVwiPjwvc3Bhbj48L3NwYW4+Jyk7cC5kYXRhKFwiaXRlbVwiLGIpLGYuZmluZElucHV0V3JhcHBlcigpLmJlZm9yZShwKSxwLmFmdGVyKFwiIFwiKTt2YXIgcT1hKCdvcHRpb25bdmFsdWU9XCInK2VuY29kZVVSSUNvbXBvbmVudChqKSsnXCJdJyxmLiRlbGVtZW50KS5sZW5ndGh8fGEoJ29wdGlvblt2YWx1ZT1cIicrZShqKSsnXCJdJyxmLiRlbGVtZW50KS5sZW5ndGg7aWYoZi5pc1NlbGVjdCYmIXEpe3ZhciByPWEoXCI8b3B0aW9uIHNlbGVjdGVkPlwiK2UoaykrXCI8L29wdGlvbj5cIik7ci5kYXRhKFwiaXRlbVwiLGIpLHIuYXR0cihcInZhbHVlXCIsaiksZi4kZWxlbWVudC5hcHBlbmQocil9Y3x8Zi5wdXNoVmFsKCksKGYub3B0aW9ucy5tYXhUYWdzPT09Zi5pdGVtc0FycmF5Lmxlbmd0aHx8Zi5pdGVtcygpLnRvU3RyaW5nKCkubGVuZ3RoPT09Zi5vcHRpb25zLm1heElucHV0TGVuZ3RoKSYmZi4kY29udGFpbmVyLmFkZENsYXNzKFwiYm9vdHN0cmFwLXRhZ3NpbnB1dC1tYXhcIiksYShcIi50eXBlYWhlYWQsIC50d2l0dGVyLXR5cGVhaGVhZFwiLGYuJGNvbnRhaW5lcikubGVuZ3RoJiZmLiRpbnB1dC50eXBlYWhlYWQoXCJ2YWxcIixcIlwiKSx0aGlzLmlzSW5pdD9mLiRlbGVtZW50LnRyaWdnZXIoYS5FdmVudChcIml0ZW1BZGRlZE9uSW5pdFwiLHtpdGVtOmIsb3B0aW9uczpkfSkpOmYuJGVsZW1lbnQudHJpZ2dlcihhLkV2ZW50KFwiaXRlbUFkZGVkXCIse2l0ZW06YixvcHRpb25zOmR9KSl9fX1lbHNlIGlmKGYub3B0aW9ucy5vblRhZ0V4aXN0cyl7dmFyIHM9YShcIi50YWdcIixmLiRjb250YWluZXIpLmZpbHRlcihmdW5jdGlvbigpe3JldHVybiBhKHRoaXMpLmRhdGEoXCJpdGVtXCIpPT09bn0pO2Yub3B0aW9ucy5vblRhZ0V4aXN0cyhiLHMpfX19fSxyZW1vdmU6ZnVuY3Rpb24oYixjLGQpe3ZhciBlPXRoaXM7aWYoZS5vYmplY3RJdGVtcyYmKGI9XCJvYmplY3RcIj09dHlwZW9mIGI/YS5ncmVwKGUuaXRlbXNBcnJheSxmdW5jdGlvbihhKXtyZXR1cm4gZS5vcHRpb25zLml0ZW1WYWx1ZShhKT09ZS5vcHRpb25zLml0ZW1WYWx1ZShiKX0pOmEuZ3JlcChlLml0ZW1zQXJyYXksZnVuY3Rpb24oYSl7cmV0dXJuIGUub3B0aW9ucy5pdGVtVmFsdWUoYSk9PWJ9KSxiPWJbYi5sZW5ndGgtMV0pLGIpe3ZhciBmPWEuRXZlbnQoXCJiZWZvcmVJdGVtUmVtb3ZlXCIse2l0ZW06YixjYW5jZWw6ITEsb3B0aW9uczpkfSk7aWYoZS4kZWxlbWVudC50cmlnZ2VyKGYpLGYuY2FuY2VsKXJldHVybjthKFwiLnRhZ1wiLGUuJGNvbnRhaW5lcikuZmlsdGVyKGZ1bmN0aW9uKCl7cmV0dXJuIGEodGhpcykuZGF0YShcIml0ZW1cIik9PT1ifSkucmVtb3ZlKCksYShcIm9wdGlvblwiLGUuJGVsZW1lbnQpLmZpbHRlcihmdW5jdGlvbigpe3JldHVybiBhKHRoaXMpLmRhdGEoXCJpdGVtXCIpPT09Yn0pLnJlbW92ZSgpLC0xIT09YS5pbkFycmF5KGIsZS5pdGVtc0FycmF5KSYmZS5pdGVtc0FycmF5LnNwbGljZShhLmluQXJyYXkoYixlLml0ZW1zQXJyYXkpLDEpfWN8fGUucHVzaFZhbCgpLGUub3B0aW9ucy5tYXhUYWdzPmUuaXRlbXNBcnJheS5sZW5ndGgmJmUuJGNvbnRhaW5lci5yZW1vdmVDbGFzcyhcImJvb3RzdHJhcC10YWdzaW5wdXQtbWF4XCIpLGUuJGVsZW1lbnQudHJpZ2dlcihhLkV2ZW50KFwiaXRlbVJlbW92ZWRcIix7aXRlbTpiLG9wdGlvbnM6ZH0pKX0scmVtb3ZlQWxsOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcztmb3IoYShcIi50YWdcIixiLiRjb250YWluZXIpLnJlbW92ZSgpLGEoXCJvcHRpb25cIixiLiRlbGVtZW50KS5yZW1vdmUoKTtiLml0ZW1zQXJyYXkubGVuZ3RoPjA7KWIuaXRlbXNBcnJheS5wb3AoKTtiLnB1c2hWYWwoKX0scmVmcmVzaDpmdW5jdGlvbigpe3ZhciBiPXRoaXM7YShcIi50YWdcIixiLiRjb250YWluZXIpLmVhY2goZnVuY3Rpb24oKXt2YXIgYz1hKHRoaXMpLGQ9Yy5kYXRhKFwiaXRlbVwiKSxmPWIub3B0aW9ucy5pdGVtVmFsdWUoZCksZz1iLm9wdGlvbnMuaXRlbVRleHQoZCksaD1iLm9wdGlvbnMudGFnQ2xhc3MoZCk7aWYoYy5hdHRyKFwiY2xhc3NcIixudWxsKSxjLmFkZENsYXNzKFwidGFnIFwiK2UoaCkpLGMuY29udGVudHMoKS5maWx0ZXIoZnVuY3Rpb24oKXtyZXR1cm4gMz09dGhpcy5ub2RlVHlwZX0pWzBdLm5vZGVWYWx1ZT1lKGcpLGIuaXNTZWxlY3Qpe3ZhciBpPWEoXCJvcHRpb25cIixiLiRlbGVtZW50KS5maWx0ZXIoZnVuY3Rpb24oKXtyZXR1cm4gYSh0aGlzKS5kYXRhKFwiaXRlbVwiKT09PWR9KTtpLmF0dHIoXCJ2YWx1ZVwiLGYpfX0pfSxpdGVtczpmdW5jdGlvbigpe3JldHVybiB0aGlzLml0ZW1zQXJyYXl9LHB1c2hWYWw6ZnVuY3Rpb24oKXt2YXIgYj10aGlzLGM9YS5tYXAoYi5pdGVtcygpLGZ1bmN0aW9uKGEpe3JldHVybiBiLm9wdGlvbnMuaXRlbVZhbHVlKGEpLnRvU3RyaW5nKCl9KTtiLiRlbGVtZW50LnZhbChjLCEwKS50cmlnZ2VyKFwiY2hhbmdlXCIpfSxidWlsZDpmdW5jdGlvbihiKXt2YXIgZT10aGlzO2lmKGUub3B0aW9ucz1hLmV4dGVuZCh7fSxoLGIpLGUub2JqZWN0SXRlbXMmJihlLm9wdGlvbnMuZnJlZUlucHV0PSExKSxjKGUub3B0aW9ucyxcIml0ZW1WYWx1ZVwiKSxjKGUub3B0aW9ucyxcIml0ZW1UZXh0XCIpLGQoZS5vcHRpb25zLFwidGFnQ2xhc3NcIiksZS5vcHRpb25zLnR5cGVhaGVhZCl7dmFyIGk9ZS5vcHRpb25zLnR5cGVhaGVhZHx8e307ZChpLFwic291cmNlXCIpLGUuJGlucHV0LnR5cGVhaGVhZChhLmV4dGVuZCh7fSxpLHtzb3VyY2U6ZnVuY3Rpb24oYixjKXtmdW5jdGlvbiBkKGEpe2Zvcih2YXIgYj1bXSxkPTA7ZDxhLmxlbmd0aDtkKyspe3ZhciBnPWUub3B0aW9ucy5pdGVtVGV4dChhW2RdKTtmW2ddPWFbZF0sYi5wdXNoKGcpfWMoYil9dGhpcy5tYXA9e307dmFyIGY9dGhpcy5tYXAsZz1pLnNvdXJjZShiKTthLmlzRnVuY3Rpb24oZy5zdWNjZXNzKT9nLnN1Y2Nlc3MoZCk6YS5pc0Z1bmN0aW9uKGcudGhlbik/Zy50aGVuKGQpOmEud2hlbihnKS50aGVuKGQpfSx1cGRhdGVyOmZ1bmN0aW9uKGEpe3JldHVybiBlLmFkZCh0aGlzLm1hcFthXSksdGhpcy5tYXBbYV19LG1hdGNoZXI6ZnVuY3Rpb24oYSl7cmV0dXJuLTEhPT1hLnRvTG93ZXJDYXNlKCkuaW5kZXhPZih0aGlzLnF1ZXJ5LnRyaW0oKS50b0xvd2VyQ2FzZSgpKX0sc29ydGVyOmZ1bmN0aW9uKGEpe3JldHVybiBhLnNvcnQoKX0saGlnaGxpZ2h0ZXI6ZnVuY3Rpb24oYSl7dmFyIGI9bmV3IFJlZ0V4cChcIihcIit0aGlzLnF1ZXJ5K1wiKVwiLFwiZ2lcIik7cmV0dXJuIGEucmVwbGFjZShiLFwiPHN0cm9uZz4kMTwvc3Ryb25nPlwiKX19KSl9aWYoZS5vcHRpb25zLnR5cGVhaGVhZGpzKXt2YXIgaj1udWxsLGs9e30sbD1lLm9wdGlvbnMudHlwZWFoZWFkanM7YS5pc0FycmF5KGwpPyhqPWxbMF0saz1sWzFdKTprPWwsZS4kaW5wdXQudHlwZWFoZWFkKGosaykub24oXCJ0eXBlYWhlYWQ6c2VsZWN0ZWRcIixhLnByb3h5KGZ1bmN0aW9uKGEsYil7ay52YWx1ZUtleT9lLmFkZChiW2sudmFsdWVLZXldKTplLmFkZChiKSxlLiRpbnB1dC50eXBlYWhlYWQoXCJ2YWxcIixcIlwiKX0sZSkpfWUuJGNvbnRhaW5lci5vbihcImNsaWNrXCIsYS5wcm94eShmdW5jdGlvbihhKXtlLiRlbGVtZW50LmF0dHIoXCJkaXNhYmxlZFwiKXx8ZS4kaW5wdXQucmVtb3ZlQXR0cihcImRpc2FibGVkXCIpLGUuJGlucHV0LmZvY3VzKCl9LGUpKSxlLm9wdGlvbnMuYWRkT25CbHVyJiZlLm9wdGlvbnMuZnJlZUlucHV0JiZlLiRpbnB1dC5vbihcImZvY3Vzb3V0XCIsYS5wcm94eShmdW5jdGlvbihiKXswPT09YShcIi50eXBlYWhlYWQsIC50d2l0dGVyLXR5cGVhaGVhZFwiLGUuJGNvbnRhaW5lcikubGVuZ3RoJiYoZS5hZGQoZS4kaW5wdXQudmFsKCkpLGUuJGlucHV0LnZhbChcIlwiKSl9LGUpKSxlLiRjb250YWluZXIub24oXCJrZXlkb3duXCIsXCJpbnB1dFwiLGEucHJveHkoZnVuY3Rpb24oYil7dmFyIGM9YShiLnRhcmdldCksZD1lLmZpbmRJbnB1dFdyYXBwZXIoKTtpZihlLiRlbGVtZW50LmF0dHIoXCJkaXNhYmxlZFwiKSlyZXR1cm4gdm9pZCBlLiRpbnB1dC5hdHRyKFwiZGlzYWJsZWRcIixcImRpc2FibGVkXCIpO3N3aXRjaChiLndoaWNoKXtjYXNlIDg6aWYoMD09PWYoY1swXSkpe3ZhciBnPWQucHJldigpO2cubGVuZ3RoJiZlLnJlbW92ZShnLmRhdGEoXCJpdGVtXCIpKX1icmVhaztjYXNlIDQ2OmlmKDA9PT1mKGNbMF0pKXt2YXIgaD1kLm5leHQoKTtoLmxlbmd0aCYmZS5yZW1vdmUoaC5kYXRhKFwiaXRlbVwiKSl9YnJlYWs7Y2FzZSAzNzp2YXIgaT1kLnByZXYoKTswPT09Yy52YWwoKS5sZW5ndGgmJmlbMF0mJihpLmJlZm9yZShkKSxjLmZvY3VzKCkpO2JyZWFrO2Nhc2UgMzk6dmFyIGo9ZC5uZXh0KCk7MD09PWMudmFsKCkubGVuZ3RoJiZqWzBdJiYoai5hZnRlcihkKSxjLmZvY3VzKCkpfXZhciBrPWMudmFsKCkubGVuZ3RoO01hdGguY2VpbChrLzUpO2MuYXR0cihcInNpemVcIixNYXRoLm1heCh0aGlzLmlucHV0U2l6ZSxjLnZhbCgpLmxlbmd0aCkpfSxlKSksZS4kY29udGFpbmVyLm9uKFwia2V5cHJlc3NcIixcImlucHV0XCIsYS5wcm94eShmdW5jdGlvbihiKXt2YXIgYz1hKGIudGFyZ2V0KTtpZihlLiRlbGVtZW50LmF0dHIoXCJkaXNhYmxlZFwiKSlyZXR1cm4gdm9pZCBlLiRpbnB1dC5hdHRyKFwiZGlzYWJsZWRcIixcImRpc2FibGVkXCIpO3ZhciBkPWMudmFsKCksZj1lLm9wdGlvbnMubWF4Q2hhcnMmJmQubGVuZ3RoPj1lLm9wdGlvbnMubWF4Q2hhcnM7ZS5vcHRpb25zLmZyZWVJbnB1dCYmKGcoYixlLm9wdGlvbnMuY29uZmlybUtleXMpfHxmKSYmKDAhPT1kLmxlbmd0aCYmKGUuYWRkKGY/ZC5zdWJzdHIoMCxlLm9wdGlvbnMubWF4Q2hhcnMpOmQpLGMudmFsKFwiXCIpKSxlLm9wdGlvbnMuY2FuY2VsQ29uZmlybUtleXNPbkVtcHR5PT09ITEmJmIucHJldmVudERlZmF1bHQoKSk7dmFyIGg9Yy52YWwoKS5sZW5ndGg7TWF0aC5jZWlsKGgvNSk7Yy5hdHRyKFwic2l6ZVwiLE1hdGgubWF4KHRoaXMuaW5wdXRTaXplLGMudmFsKCkubGVuZ3RoKSl9LGUpKSxlLiRjb250YWluZXIub24oXCJjbGlja1wiLFwiW2RhdGEtcm9sZT1yZW1vdmVdXCIsYS5wcm94eShmdW5jdGlvbihiKXtlLiRlbGVtZW50LmF0dHIoXCJkaXNhYmxlZFwiKXx8ZS5yZW1vdmUoYShiLnRhcmdldCkuY2xvc2VzdChcIi50YWdcIikuZGF0YShcIml0ZW1cIikpfSxlKSksZS5vcHRpb25zLml0ZW1WYWx1ZT09PWguaXRlbVZhbHVlJiYoXCJJTlBVVFwiPT09ZS4kZWxlbWVudFswXS50YWdOYW1lP2UuYWRkKGUuJGVsZW1lbnQudmFsKCkpOmEoXCJvcHRpb25cIixlLiRlbGVtZW50KS5lYWNoKGZ1bmN0aW9uKCl7ZS5hZGQoYSh0aGlzKS5hdHRyKFwidmFsdWVcIiksITApfSkpfSxkZXN0cm95OmZ1bmN0aW9uKCl7dmFyIGE9dGhpczthLiRjb250YWluZXIub2ZmKFwia2V5cHJlc3NcIixcImlucHV0XCIpLGEuJGNvbnRhaW5lci5vZmYoXCJjbGlja1wiLFwiW3JvbGU9cmVtb3ZlXVwiKSxhLiRjb250YWluZXIucmVtb3ZlKCksYS4kZWxlbWVudC5yZW1vdmVEYXRhKFwidGFnc2lucHV0XCIpLGEuJGVsZW1lbnQuc2hvdygpfSxmb2N1czpmdW5jdGlvbigpe3RoaXMuJGlucHV0LmZvY3VzKCl9LGlucHV0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuJGlucHV0fSxmaW5kSW5wdXRXcmFwcGVyOmZ1bmN0aW9uKCl7Zm9yKHZhciBiPXRoaXMuJGlucHV0WzBdLGM9dGhpcy4kY29udGFpbmVyWzBdO2ImJmIucGFyZW50Tm9kZSE9PWM7KWI9Yi5wYXJlbnROb2RlO3JldHVybiBhKGIpfX0sYS5mbi50YWdzaW5wdXQ9ZnVuY3Rpb24oYyxkLGUpe3ZhciBmPVtdO3JldHVybiB0aGlzLmVhY2goZnVuY3Rpb24oKXt2YXIgZz1hKHRoaXMpLmRhdGEoXCJ0YWdzaW5wdXRcIik7aWYoZylpZihjfHxkKXtpZih2b2lkIDAhPT1nW2NdKXtpZigzPT09Z1tjXS5sZW5ndGgmJnZvaWQgMCE9PWUpdmFyIGg9Z1tjXShkLG51bGwsZSk7ZWxzZSB2YXIgaD1nW2NdKGQpO3ZvaWQgMCE9PWgmJmYucHVzaChoKX19ZWxzZSBmLnB1c2goZyk7ZWxzZSBnPW5ldyBiKHRoaXMsYyksYSh0aGlzKS5kYXRhKFwidGFnc2lucHV0XCIsZyksZi5wdXNoKGcpLFwiU0VMRUNUXCI9PT10aGlzLnRhZ05hbWUmJmEoXCJvcHRpb25cIixhKHRoaXMpKS5hdHRyKFwic2VsZWN0ZWRcIixcInNlbGVjdGVkXCIpLGEodGhpcykudmFsKGEodGhpcykudmFsKCkpfSksXCJzdHJpbmdcIj09dHlwZW9mIGM/Zi5sZW5ndGg+MT9mOmZbMF06Zn0sYS5mbi50YWdzaW5wdXQuQ29uc3RydWN0b3I9Yjt2YXIgaT1hKFwiPGRpdiAvPlwiKTthKGZ1bmN0aW9uKCl7YShcImlucHV0W2RhdGEtcm9sZT10YWdzaW5wdXRdLCBzZWxlY3RbbXVsdGlwbGVdW2RhdGEtcm9sZT10YWdzaW5wdXRdXCIpLnRhZ3NpbnB1dCgpfSl9KHdpbmRvdy5qUXVlcnkpO1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9Ym9vdHN0cmFwLXRhZ3NpbnB1dC5taW4uanMubWFwXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2Jvb3RzdHJhcC10YWdzaW5wdXQvZGlzdC9ib290c3RyYXAtdGFnc2lucHV0Lm1pbi5qc1xuLy8gbW9kdWxlIGlkID0gNTFcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiaWYoXCJ1bmRlZmluZWRcIj09dHlwZW9mIGJydXR1c2luKXdpbmRvdy5icnV0dXNpbj1uZXcgT2JqZWN0O2Vsc2UgaWYoXCJvYmplY3RcIiE9dHlwZW9mIGJydXR1c2luKXRocm93XCJicnV0dXNpbiBnbG9iYWwgdmFyaWFibGUgYWxyZWFkeSBleGlzdHNcIjshZnVuY3Rpb24oKXtTdHJpbmcucHJvdG90eXBlLnN0YXJ0c1dpdGh8fChTdHJpbmcucHJvdG90eXBlLnN0YXJ0c1dpdGg9ZnVuY3Rpb24oZSx0KXtyZXR1cm4gdD10fHwwLHRoaXMuaW5kZXhPZihlLHQpPT09dH0pLFN0cmluZy5wcm90b3R5cGUuZW5kc1dpdGh8fChTdHJpbmcucHJvdG90eXBlLmVuZHNXaXRoPWZ1bmN0aW9uKGUsdCl7dmFyIHI9dGhpcy50b1N0cmluZygpOyh2b2lkIDA9PT10fHx0PnIubGVuZ3RoKSYmKHQ9ci5sZW5ndGgpLHQtPWUubGVuZ3RoO3ZhciBuPXIuaW5kZXhPZihlLHQpO3JldHVybi0xIT09biYmbj09PXR9KSxTdHJpbmcucHJvdG90eXBlLmluY2x1ZGVzfHwoU3RyaW5nLnByb3RvdHlwZS5pbmNsdWRlcz1mdW5jdGlvbigpe1widXNlIHN0cmljdFwiO3JldHVybi0xIT09U3RyaW5nLnByb3RvdHlwZS5pbmRleE9mLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0pLFN0cmluZy5wcm90b3R5cGUuZm9ybWF0fHwoU3RyaW5nLnByb3RvdHlwZS5mb3JtYXQ9ZnVuY3Rpb24oKXtmb3IodmFyIGU9dGhpcyx0PTA7dDxhcmd1bWVudHMubGVuZ3RoO3QrKyl7dmFyIHI9bmV3IFJlZ0V4cChcIlxcXFx7XCIrdCtcIlxcXFx9XCIsXCJnaVwiKTtlPWUucmVwbGFjZShyLGFyZ3VtZW50c1t0XSl9cmV0dXJuIGV9KTt2YXIgQnJ1dHVzaW5Gb3Jtcz1uZXcgT2JqZWN0O0JydXR1c2luRm9ybXMubWVzc2FnZXM9e3ZhbGlkYXRpb25FcnJvcjpcIlZhbGlkYXRpb24gZXJyb3JcIixyZXF1aXJlZDpcIlRoaXMgZmllbGQgaXMgKipyZXF1aXJlZCoqXCIsaW52YWxpZFZhbHVlOlwiSW52YWxpZCBmaWVsZCB2YWx1ZVwiLGFkZHByb3BOYW1lRXhpc3RlbnQ6XCJUaGlzIHByb3BlcnR5IGlzIGFscmVhZHkgcHJlc2VudCBpbiB0aGUgb2JqZWN0XCIsYWRkcHJvcE5hbWVSZXF1aXJlZDpcIkEgbmFtZSBpcyByZXF1aXJlZFwiLG1pbkl0ZW1zOlwiQXQgbGVhc3QgYHswfWAgaXRlbXMgYXJlIHJlcXVpcmVkXCIsbWF4SXRlbXM6XCJBdCBtb3N0IGB7MH1gIGl0ZW1zIGFyZSBhbGxvd2VkXCIscGF0dGVybjpcIlZhbHVlIGRvZXMgbm90IG1hdGNoIHBhdHRlcm46IGB7MH1gXCIsbWluTGVuZ3RoOlwiVmFsdWUgbXVzdCBiZSAqKmF0IGxlYXN0KiogYHswfWAgY2hhcmFjdGVycyBsb25nXCIsbWF4TGVuZ3RoOlwiVmFsdWUgbXVzdCBiZSAqKmF0IG1vc3QqKiBgezB9YCBjaGFyYWN0ZXJzIGxvbmdcIixtdWx0aXBsZU9mOlwiVmFsdWUgbXVzdCBiZSAqKm11bHRpcGxlIG9mKiogYHswfWBcIixtaW5pbXVtOlwiVmFsdWUgbXVzdCBiZSAqKmdyZWF0ZXIgb3IgZXF1YWwgdGhhbioqIGB7MH1gXCIsZXhjbHVzaXZlTWluaW11bTpcIlZhbHVlIG11c3QgYmUgKipncmVhdGVyIHRoYW4qKiBgezB9YFwiLG1heGltdW06XCJWYWx1ZSBtdXN0IGJlICoqbG93ZXIgb3IgZXF1YWwgdGhhbioqIGB7MH1gXCIsZXhjbHVzaXZlTWF4aW11bTpcIlZhbHVlIG11c3QgYmUgKipsb3dlciB0aGFuKiogYHswfWBcIixtaW5Qcm9wZXJ0aWVzOlwiQXQgbGVhc3QgYHswfWAgcHJvcGVydGllcyBhcmUgcmVxdWlyZWRcIixtYXhQcm9wZXJ0aWVzOlwiQXQgbW9zdCBgezB9YCBwcm9wZXJ0aWVzIGFyZSBhbGxvd2VkXCIsdW5pcXVlSXRlbXM6XCJBcnJheSBpdGVtcyBtdXN0IGJlIHVuaXF1ZVwiLGFkZEl0ZW06XCJBZGQgaXRlbVwiLFwidHJ1ZVwiOlwiVHJ1ZVwiLFwiZmFsc2VcIjpcIkZhbHNlXCJ9LEJydXR1c2luRm9ybXMuZGVjb3JhdG9ycz1uZXcgQXJyYXksQnJ1dHVzaW5Gb3Jtcy5hZGREZWNvcmF0b3I9ZnVuY3Rpb24oZSl7QnJ1dHVzaW5Gb3Jtcy5kZWNvcmF0b3JzW0JydXR1c2luRm9ybXMuZGVjb3JhdG9ycy5sZW5ndGhdPWV9LEJydXR1c2luRm9ybXMub25SZXNvbHV0aW9uU3RhcnRlZD1mdW5jdGlvbihlKXt9LEJydXR1c2luRm9ybXMub25SZXNvbHV0aW9uRmluaXNoZWQ9ZnVuY3Rpb24oZSl7fSxCcnV0dXNpbkZvcm1zLm9uVmFsaWRhdGlvbkVycm9yPWZ1bmN0aW9uKGUsdCl7ZS5mb2N1cygpLGUuY2xhc3NOYW1lLmluY2x1ZGVzKFwiIGVycm9yXCIpfHwoZS5jbGFzc05hbWUrPVwiIGVycm9yXCIpLGFsZXJ0KHQpfSxCcnV0dXNpbkZvcm1zLm9uVmFsaWRhdGlvblN1Y2Nlc3M9ZnVuY3Rpb24oZSl7ZS5jbGFzc05hbWU9ZS5jbGFzc05hbWUucmVwbGFjZShcIiBlcnJvclwiLFwiXCIpfSxCcnV0dXNpbkZvcm1zLnBvc3RSZW5kZXI9bnVsbCxCcnV0dXNpbkZvcm1zLmluc3RhbmNlcz1uZXcgQXJyYXksQnJ1dHVzaW5Gb3Jtcy5jcmVhdGU9ZnVuY3Rpb24oc2NoZW1hKXtmdW5jdGlvbiB2YWxpZGF0ZURlcGVuY3lNYXBJc0FjeWNsaWMoKXtmdW5jdGlvbiBlKHQscixuKXtpZihyLmhhc093blByb3BlcnR5KG4pKXJldHVybiB2b2lkKGVycm9yPVwiU2NoZW1hIGRlcGVuZGVuY3kgZ3JhcGggaGFzIGN5Y2xlc1wiKTtpZihyW25dPW51bGwsIXQuaGFzT3duUHJvcGVydHkobikpe3Rbbl09bnVsbDt2YXIgYT1kZXBlbmRlbmN5TWFwW25dO2lmKGEpZm9yKHZhciBpPTA7aTxhLmxlbmd0aDtpKyspZSh0LHIsYVtpXSk7ZGVsZXRlIHJbbl19fXZhciB0PW5ldyBPYmplY3Q7Zm9yKHZhciByIGluIGRlcGVuZGVuY3lNYXApdC5oYXNPd25Qcm9wZXJ0eShyKXx8ZSh0LG5ldyBPYmplY3Qscil9ZnVuY3Rpb24gYXBwZW5kQ2hpbGQoZSx0LHIpe2UuYXBwZW5kQ2hpbGQodCk7Zm9yKHZhciBuPTA7bjxCcnV0dXNpbkZvcm1zLmRlY29yYXRvcnMubGVuZ3RoO24rKylCcnV0dXNpbkZvcm1zLmRlY29yYXRvcnNbbl0odCxyKX1mdW5jdGlvbiBjcmVhdGVQc2V1ZG9TY2hlbWEoZSl7dmFyIHQ9bmV3IE9iamVjdDtmb3IodmFyIHIgaW4gZSlcIml0ZW1zXCIhPT1yJiZcInByb3BlcnRpZXNcIiE9PXImJlwiYWRkaXRpb25hbFByb3BlcnRpZXNcIiE9PXImJihcInBhdHRlcm5cIj09PXI/dFtyXT1uZXcgUmVnRXhwKGVbcl0pOnRbcl09ZVtyXSk7cmV0dXJuIHR9ZnVuY3Rpb24gZ2V0RGVmaW5pdGlvbihlKXt2YXIgdD1lLnNwbGl0KFwiL1wiKSxyPXJvb3Q7Zm9yKHZhciBuIGluIHQpXCIwXCIhPT1uJiYocj1yW3Rbbl1dKTtyZXR1cm4gcn1mdW5jdGlvbiBjb250YWluc1N0cihlLHQpe2Zvcih2YXIgcj0wO3I8ZS5sZW5ndGg7cisrKWlmKGVbcl09PXQpcmV0dXJuITA7cmV0dXJuITF9ZnVuY3Rpb24gcmVuYW1lUmVxdWlyZWRQcm9wZXRpZXMoZSl7aWYoZSlpZihlLmhhc093blByb3BlcnR5KFwib25lT2ZcIikpZm9yKHZhciB0IGluIGUub25lT2YpcmVuYW1lUmVxdWlyZWRQcm9wZXRpZXMoZS5vbmVPZlt0XSk7ZWxzZSBpZihlLmhhc093blByb3BlcnR5KFwiJHJlZlwiKSl7dmFyIHI9Z2V0RGVmaW5pdGlvbihlLiRyZWYpO3JlbmFtZVJlcXVpcmVkUHJvcGV0aWVzKHIpfWVsc2UgaWYoXCJvYmplY3RcIj09PWUudHlwZSl7aWYoZS5wcm9wZXJ0aWVzKXtlLmhhc093blByb3BlcnR5KFwicmVxdWlyZWRcIikmJkFycmF5LmlzQXJyYXkoZS5yZXF1aXJlZCkmJihlLnJlcXVpcmVkUHJvcGVydGllcz1lLnJlcXVpcmVkLGRlbGV0ZSBlLnJlcXVpcmVkKTtmb3IodmFyIG4gaW4gZS5wcm9wZXJ0aWVzKXJlbmFtZVJlcXVpcmVkUHJvcGV0aWVzKGUucHJvcGVydGllc1tuXSl9aWYoZS5wYXR0ZXJuUHJvcGVydGllcylmb3IodmFyIGEgaW4gZS5wYXR0ZXJuUHJvcGVydGllcyl7dmFyIGk9ZS5wYXR0ZXJuUHJvcGVydGllc1thXTsoaS5oYXNPd25Qcm9wZXJ0eShcInR5cGVcIil8fGkuaGFzT3duUHJvcGVydHkoXCIkcmVmXCIpfHxpLmhhc093blByb3BlcnR5KFwib25lT2ZcIikpJiZyZW5hbWVSZXF1aXJlZFByb3BldGllcyhlLnBhdHRlcm5Qcm9wZXJ0aWVzW2FdKX1lLmFkZGl0aW9uYWxQcm9wZXJ0aWVzJiYoZS5hZGRpdGlvbmFsUHJvcGVydGllcy5oYXNPd25Qcm9wZXJ0eShcInR5cGVcIil8fGUuYWRkaXRpb25hbFByb3BlcnRpZXMuaGFzT3duUHJvcGVydHkoXCJvbmVPZlwiKSkmJnJlbmFtZVJlcXVpcmVkUHJvcGV0aWVzKGUuYWRkaXRpb25hbFByb3BlcnRpZXMpfWVsc2VcImFycmF5XCI9PT1lLnR5cGUmJnJlbmFtZVJlcXVpcmVkUHJvcGV0aWVzKGUuaXRlbXMpfWZ1bmN0aW9uIHBvcHVsYXRlU2NoZW1hTWFwKGUsdCl7dmFyIHI9Y3JlYXRlUHNldWRvU2NoZW1hKHQpO2lmKHIuJGlkPWUsc2NoZW1hTWFwW2VdPXIsdCl7aWYodC5oYXNPd25Qcm9wZXJ0eShcIm9uZU9mXCIpKXtyLm9uZU9mPW5ldyBBcnJheSxyLnR5cGU9XCJvbmVPZlwiO2Zvcih2YXIgbiBpbiB0Lm9uZU9mKXt2YXIgYT1lK1wiLlwiK247ci5vbmVPZltuXT1hLHBvcHVsYXRlU2NoZW1hTWFwKGEsdC5vbmVPZltuXSl9fWVsc2UgaWYodC5oYXNPd25Qcm9wZXJ0eShcIiRyZWZcIikpe3ZhciBpPWdldERlZmluaXRpb24odC4kcmVmKTtpZihpKXtpZih0Lmhhc093blByb3BlcnR5KFwidGl0bGVcIil8fHQuaGFzT3duUHJvcGVydHkoXCJkZXNjcmlwdGlvblwiKSl7dmFyIG89e307Zm9yKHZhciBzIGluIGkpb1tzXT1pW3NdO3QuaGFzT3duUHJvcGVydHkoXCJ0aXRsZVwiKSYmKG8udGl0bGU9dC50aXRsZSksdC5oYXNPd25Qcm9wZXJ0eShcImRlc2NyaXB0aW9uXCIpJiYoby5kZXNjcmlwdGlvbj10LmRlc2NyaXB0aW9uKSxpPW99cG9wdWxhdGVTY2hlbWFNYXAoZSxpKX19ZWxzZSBpZihcIm9iamVjdFwiPT09dC50eXBlKXtpZih0LnByb3BlcnRpZXMpe3IucHJvcGVydGllcz1uZXcgT2JqZWN0O2Zvcih2YXIgcyBpbiB0LnByb3BlcnRpZXMpe3ZhciBhPWUrXCIuXCIrcztyLnByb3BlcnRpZXNbc109YTt2YXIgdT10LnByb3BlcnRpZXNbc107dC5yZXF1aXJlZFByb3BlcnRpZXMmJihjb250YWluc1N0cih0LnJlcXVpcmVkUHJvcGVydGllcyxzKT91LnJlcXVpcmVkPSEwOnUucmVxdWlyZWQ9ITEpLHBvcHVsYXRlU2NoZW1hTWFwKGEsdSl9fWlmKHQucGF0dGVyblByb3BlcnRpZXMpe3IucGF0dGVyblByb3BlcnRpZXM9bmV3IE9iamVjdDtmb3IodmFyIGwgaW4gdC5wYXR0ZXJuUHJvcGVydGllcyl7dmFyIGQ9ZStcIltcIitsK1wiXVwiO3IucGF0dGVyblByb3BlcnRpZXNbbF09ZDt2YXIgcD10LnBhdHRlcm5Qcm9wZXJ0aWVzW2xdO3AuaGFzT3duUHJvcGVydHkoXCJ0eXBlXCIpfHxwLmhhc093blByb3BlcnR5KFwiJHJlZlwiKXx8cC5oYXNPd25Qcm9wZXJ0eShcIm9uZU9mXCIpP3BvcHVsYXRlU2NoZW1hTWFwKGQsdC5wYXR0ZXJuUHJvcGVydGllc1tsXSk6cG9wdWxhdGVTY2hlbWFNYXAoZCxTQ0hFTUFfQU5ZKX19aWYodC5hZGRpdGlvbmFsUHJvcGVydGllcyl7dmFyIGE9ZStcIlsqXVwiO3IuYWRkaXRpb25hbFByb3BlcnRpZXM9YSx0LmFkZGl0aW9uYWxQcm9wZXJ0aWVzLmhhc093blByb3BlcnR5KFwidHlwZVwiKXx8dC5hZGRpdGlvbmFsUHJvcGVydGllcy5oYXNPd25Qcm9wZXJ0eShcIm9uZU9mXCIpP3BvcHVsYXRlU2NoZW1hTWFwKGEsdC5hZGRpdGlvbmFsUHJvcGVydGllcyk6cG9wdWxhdGVTY2hlbWFNYXAoYSxTQ0hFTUFfQU5ZKX19ZWxzZVwiYXJyYXlcIj09PXQudHlwZSYmKHIuaXRlbXM9ZStcIlsjXVwiLHBvcHVsYXRlU2NoZW1hTWFwKHIuaXRlbXMsdC5pdGVtcykpO2lmKHQuaGFzT3duUHJvcGVydHkoXCJkZXBlbmRzT25cIikpe251bGw9PT10LmRlcGVuZHNPbiYmKHQuZGVwZW5kc09uPVtcIiRcIl0pO2Zvcih2YXIgYz1uZXcgQXJyYXksbj0wO248dC5kZXBlbmRzT24ubGVuZ3RoO24rKyl0LmRlcGVuZHNPbltuXT90LmRlcGVuZHNPbltuXS5zdGFydHNXaXRoKFwiJFwiKT9jW25dPXQuZGVwZW5kc09uW25dOmUuZW5kc1dpdGgoXCJdXCIpP2Nbbl09ZStcIi5cIit0LmRlcGVuZHNPbltuXTpjW25dPWUuc3Vic3RyaW5nKDAsZS5sYXN0SW5kZXhPZihcIi5cIikpK1wiLlwiK3QuZGVwZW5kc09uW25dOmNbbl09XCIkXCI7c2NoZW1hTWFwW2VdLmRlcGVuZHNPbj1jO2Zvcih2YXIgbj0wO248Yy5sZW5ndGg7bisrKXt2YXIgbT1kZXBlbmRlbmN5TWFwW2Nbbl1dO218fChtPW5ldyBBcnJheSxkZXBlbmRlbmN5TWFwW2Nbbl1dPW0pLG1bbS5sZW5ndGhdPWV9fX19ZnVuY3Rpb24gcmVuZGVyVGl0bGUoZSx0LHIpe2lmKGUmJnQpe3ZhciBuPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsYWJlbFwiKTtcImFueVwiIT09ci50eXBlJiZcIm9iamVjdFwiIT09ci50eXBlJiZcImFycmF5XCIhPT1yLnR5cGUmJihuLmh0bWxGb3I9Z2V0SW5wdXRJZCgpKTt2YXIgYT1kb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSh0K1wiOlwiKTtpZihhcHBlbmRDaGlsZChuLGEsciksci5kZXNjcmlwdGlvbiYmKG4udGl0bGU9ci5kZXNjcmlwdGlvbiksci5yZXF1aXJlZCl7dmFyIGk9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInN1cFwiKTthcHBlbmRDaGlsZChpLGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKFwiKlwiKSxyKSxhcHBlbmRDaGlsZChuLGksciksbi5jbGFzc05hbWU9XCJyZXF1aXJlZFwifWFwcGVuZENoaWxkKGUsbixyKX19ZnVuY3Rpb24gZ2V0SW5wdXRJZCgpe3JldHVybiBmb3JtSWQrXCJfXCIraW5wdXRDb3VudGVyfWZ1bmN0aW9uIHZhbGlkYXRlKGUpe3ZhciB0PSEwO2lmKGUuaGFzT3duUHJvcGVydHkoXCJnZXRWYWxpZGF0aW9uRXJyb3JcIikpe3ZhciByPWUuZ2V0VmFsaWRhdGlvbkVycm9yKCk7cj8oQnJ1dHVzaW5Gb3Jtcy5vblZhbGlkYXRpb25FcnJvcihlLHIpLHQ9ITEpOkJydXR1c2luRm9ybXMub25WYWxpZGF0aW9uU3VjY2VzcyhlKX1pZihlLmNoaWxkTm9kZXMpZm9yKHZhciBuPTA7bjxlLmNoaWxkTm9kZXMubGVuZ3RoO24rKyl2YWxpZGF0ZShlLmNoaWxkTm9kZXNbbl0pfHwodD0hMSk7cmV0dXJuIHR9ZnVuY3Rpb24gY2xlYXIoZSl7aWYoZSlmb3IoO2UuZmlyc3RDaGlsZDspZS5yZW1vdmVDaGlsZChlLmZpcnN0Q2hpbGQpfWZ1bmN0aW9uIHJlbmRlcihlLHQscixuLGEsaSl7dmFyIG89Z2V0U2NoZW1hSWQocikscz1nZXRTY2hlbWEobyk7cmVuZGVySW5mb01hcFtvXT1uZXcgT2JqZWN0LHJlbmRlckluZm9NYXBbb10udGl0bGVDb250YWluZXI9ZSxyZW5kZXJJbmZvTWFwW29dLmNvbnRhaW5lcj10LHJlbmRlckluZm9NYXBbb10ucGFyZW50T2JqZWN0PW4scmVuZGVySW5mb01hcFtvXS5wcm9wZXJ0eVByb3ZpZGVyPWEscmVuZGVySW5mb01hcFtvXS52YWx1ZT1pLGNsZWFyKGUpLGNsZWFyKHQpO3ZhciB1PXJlbmRlcmVyc1tzLnR5cGVdO2lmKHUmJiFzLmRlcGVuZHNPbilzLnRpdGxlP3JlbmRlclRpdGxlKGUscy50aXRsZSxzKTphJiZyZW5kZXJUaXRsZShlLGEuZ2V0VmFsdWUoKSxzKSxpfHwoaT1cInVuZGVmaW5lZFwiIT10eXBlb2YgaW5pdGlhbFZhbHVlJiZudWxsIT09aW5pdGlhbFZhbHVlP2dldEluaXRpYWxWYWx1ZShyKTpzW1wiZGVmYXVsdFwiXSksdSh0LHIsbixhLGkpO2Vsc2UgaWYocy4kcmVmJiZvYmouc2NoZW1hUmVzb2x2ZXIpe3ZhciBsPWZ1bmN0aW9uKGUpe2lmKGUmJmUuaGFzT3duUHJvcGVydHkocikmJkpTT04uc3RyaW5naWZ5KHNjaGVtYU1hcFtyXSkhPT1KU09OLnN0cmluZ2lmeShlW3JdKSl7Y2xlYW5TY2hlbWFNYXAociksY2xlYW5EYXRhKHIpLHBvcHVsYXRlU2NoZW1hTWFwKHIsZVtyXSk7dmFyIHQ9cmVuZGVySW5mb01hcFtyXTt0JiZyZW5kZXIodC50aXRsZUNvbnRhaW5lcix0LmNvbnRhaW5lcixyLHQucGFyZW50T2JqZWN0LHQucHJvcGVydHlQcm92aWRlcix0LnZhbHVlKX1CcnV0dXNpbkZvcm1zLm9uUmVzb2x1dGlvbkZpbmlzaGVkKG4pfTtCcnV0dXNpbkZvcm1zLm9uUmVzb2x1dGlvblN0YXJ0ZWQobiksb2JqLnNjaGVtYVJlc29sdmVyKFtyXSxvYmouZ2V0RGF0YSgpLGwpfX1mdW5jdGlvbiBjcmVhdGVQcm9wZXJ0eVByb3ZpZGVyKGUsdCl7dmFyIHI9bmV3IE9iamVjdDtyZXR1cm4gci5nZXRWYWx1ZT1lLHIub25jaGFuZ2U9dCxyfWZ1bmN0aW9uIGdldEluaXRpYWxWYWx1ZShpZCl7dmFyIHJldDt0cnl7ZXZhbChcInJldCA9IGluaXRpYWxWYWx1ZVwiK2lkLnN1YnN0cmluZygxKSl9Y2F0Y2goZSl7cmV0PW51bGx9cmV0dXJuIHJldH1mdW5jdGlvbiBnZXRWYWx1ZShzY2hlbWEsaW5wdXQpe2lmKFwiZnVuY3Rpb25cIj09dHlwZW9mIGlucHV0LmdldFZhbHVlKXJldHVybiBpbnB1dC5nZXRWYWx1ZSgpO3ZhciB2YWx1ZTtyZXR1cm4gdmFsdWU9XCJzZWxlY3RcIj09PWlucHV0LnRhZ05hbWUudG9Mb3dlckNhc2UoKT9pbnB1dC5vcHRpb25zW2lucHV0LnNlbGVjdGVkSW5kZXhdLnZhbHVlOmlucHV0LnZhbHVlLFwiXCI9PT12YWx1ZT9udWxsOihcImludGVnZXJcIj09PXNjaGVtYS50eXBlPyh2YWx1ZT1wYXJzZUludCh2YWx1ZSksaXNGaW5pdGUodmFsdWUpfHwodmFsdWU9bnVsbCkpOlwibnVtYmVyXCI9PT1zY2hlbWEudHlwZT8odmFsdWU9cGFyc2VGbG9hdCh2YWx1ZSksaXNGaW5pdGUodmFsdWUpfHwodmFsdWU9bnVsbCkpOlwiYm9vbGVhblwiPT09c2NoZW1hLnR5cGU/XCJpbnB1dFwiPT09aW5wdXQudGFnTmFtZS50b0xvd2VyQ2FzZSgpPyh2YWx1ZT1pbnB1dC5jaGVja2VkLHZhbHVlfHwodmFsdWU9ITEpKTpcInNlbGVjdFwiPT09aW5wdXQudGFnTmFtZS50b0xvd2VyQ2FzZSgpJiYodmFsdWU9XCJ0cnVlXCI9PT1pbnB1dC52YWx1ZT8hMDpcImZhbHNlXCI9PT1pbnB1dC52YWx1ZT8hMTpudWxsKTpcImFueVwiPT09c2NoZW1hLnR5cGUmJnZhbHVlJiZldmFsKFwidmFsdWU9XCIrdmFsdWUpLHZhbHVlKX1mdW5jdGlvbiBnZXRTY2hlbWFJZChlKXtyZXR1cm4gZS5yZXBsYWNlKC9cXFtcIlteXCJdKlwiXFxdL2csXCJbKl1cIikucmVwbGFjZSgvXFxbXFxkKlxcXS9nLFwiWyNdXCIpfWZ1bmN0aW9uIGdldFBhcmVudFNjaGVtYUlkKGUpe3JldHVybiBlLnN1YnN0cmluZygwLGUubGFzdEluZGV4T2YoXCIuXCIpKX1mdW5jdGlvbiBnZXRTY2hlbWEoZSl7cmV0dXJuIHNjaGVtYU1hcFtlXX1mdW5jdGlvbiBjbGVhblNjaGVtYU1hcChlKXtmb3IodmFyIHQgaW4gc2NoZW1hTWFwKWUuc3RhcnRzV2l0aCh0KSYmZGVsZXRlIHNjaGVtYU1hcFt0XX1mdW5jdGlvbiBjbGVhbkRhdGEoZSl7dmFyIHQ9bmV3IEV4cHJlc3Npb24oZSk7dC52aXNpdChkYXRhLGZ1bmN0aW9uKGUsdCxyKXtkZWxldGUgdFtyXX0pfWZ1bmN0aW9uIG9uRGVwZW5kZW5jeUNoYW5nZWQoZSx0KXt2YXIgcj1kZXBlbmRlbmN5TWFwW2VdO2lmKHImJm9iai5zY2hlbWFSZXNvbHZlcil7dmFyIG49ZnVuY3Rpb24oZSl7aWYoZSlmb3IodmFyIHIgaW4gZSlpZihKU09OLnN0cmluZ2lmeShzY2hlbWFNYXBbcl0pIT09SlNPTi5zdHJpbmdpZnkoZVtyXSkpe2NsZWFuU2NoZW1hTWFwKHIpLGNsZWFuRGF0YShyKSxwb3B1bGF0ZVNjaGVtYU1hcChyLGVbcl0pO3ZhciBuPXJlbmRlckluZm9NYXBbcl07biYmcmVuZGVyKG4udGl0bGVDb250YWluZXIsbi5jb250YWluZXIscixuLnBhcmVudE9iamVjdCxuLnByb3BlcnR5UHJvdmlkZXIsbi52YWx1ZSl9QnJ1dHVzaW5Gb3Jtcy5vblJlc29sdXRpb25GaW5pc2hlZCh0KX07QnJ1dHVzaW5Gb3Jtcy5vblJlc29sdXRpb25TdGFydGVkKHQpLG9iai5zY2hlbWFSZXNvbHZlcihyLG9iai5nZXREYXRhKCksbil9fWZ1bmN0aW9uIEV4cHJlc3Npb24oZSl7ZnVuY3Rpb24gdChlKXtpZihudWxsPT09ZSlyZXR1cm4gbnVsbDtmb3IodmFyIHQ9bmV3IEFycmF5LHI9bnVsbCxuPTAsYT0wO2E8ZS5sZW5ndGg7YSsrKSdcIic9PT1lLmNoYXJBdChhKT9udWxsPT09cj9yPSdcIic6J1wiJz09PXImJihyPW51bGwsdFt0Lmxlbmd0aF09ZS5zdWJzdHJpbmcobixhKzEpLnRyaW0oKSxuPWErMSk6XCInXCI9PT1lLmNoYXJBdChhKT9udWxsPT09cj9yPVwiJ1wiOlwiJ1wiPT09ciYmKHI9bnVsbCx0W3QubGVuZ3RoXT1lLnN1YnN0cmluZyhuLGErMSkudHJpbSgpLG49YSsxKTpcIltcIj09PWUuY2hhckF0KGEpP251bGw9PT1yJiYobiE9PWEmJih0W3QubGVuZ3RoXT1lLnN1YnN0cmluZyhuLGEpLnRyaW0oKSksdFt0Lmxlbmd0aF09XCJbXCIsbj1hKzEpOlwiXVwiPT09ZS5jaGFyQXQoYSk/bnVsbD09PXImJihuIT09YSYmKHRbdC5sZW5ndGhdPWUuc3Vic3RyaW5nKG4sYSkudHJpbSgpKSx0W3QubGVuZ3RoXT1cIl1cIixuPWErMSk6XCIuXCI9PT1lLmNoYXJBdChhKT9udWxsPT09ciYmKG4hPT1hJiYodFt0Lmxlbmd0aF09ZS5zdWJzdHJpbmcobixhKS50cmltKCkpLG49YSsxKTphPT09ZS5sZW5ndGgtMSYmKHRbdC5sZW5ndGhdPWUuc3Vic3RyaW5nKG4sYSsxKS50cmltKCkpO3JldHVybiB0fShudWxsPT09ZXx8MD09PWUubGVuZ3RofHxcIi5cIj09PWUpJiYoZT1cIiRcIik7Zm9yKHZhciByPW5ldyBBcnJheSxuPXQoZSksYT0hMSxpPTAsbz1cIlwiLHM9MDtzPG4ubGVuZ3RoO3MrKyl7dmFyIHU9bltzXTtpZihcIltcIj09PXUpe2lmKGEpdGhyb3dcIkVycm9yIHBhcnNpbmcgZXhwcmVzc2lvbiAnXCIrZStcIic6IE5lc3RlZCBbIGZvdW5kXCI7YT0hMCxpPTAsbys9dX1lbHNlIGlmKFwiXVwiPT09dSl7aWYoIWEpdGhyb3dcIkVycm9yIHBhcnNpbmcgZXhwcmVzc2lvbiAnXCIrZStcIic6IFVuYmFsYW5jZWQgXSBmb3VuZFwiO2E9ITEsbys9dSxyW3IubGVuZ3RoXT1vLG89XCJcIn1lbHNlIGlmKGEpe2lmKGk+MCl0aHJvd1wiRXJyb3IgcGFyc2luZyBleHByZXNzaW9uICdcIitlK1wiJzogTXVsdGlwbGUgdG9rZW5zIGZvdW5kIGluc2lkZSBhIGJyYWNrZXRcIjtvKz11LGkrK31lbHNlIHJbci5sZW5ndGhdPXU7aWYocz09PW4ubGVuZ3RoLTEmJmEpdGhyb3dcIkVycm9yIHBhcnNpbmcgZXhwcmVzc2lvbiAnXCIrZStcIic6IFVuYmFsYW5jZWQgWyBmb3VuZFwifXRoaXMuZXhwPWUsdGhpcy5xdWV1ZT1yLHRoaXMudmlzaXQ9ZnVuY3Rpb24oZSx0KXtmdW5jdGlvbiByKGUsbixhLGksbyl7aWYobnVsbCE9YSl7dmFyIHM9bi5zaGlmdCgpO2lmKFwiJFwiPT09cyl7ZT1cIiRcIjt2YXIgcz1uLnNoaWZ0KCl9aWYocylpZihBcnJheS5pc0FycmF5KGEpKXtpZighcy5zdGFydHNXaXRoKFwiW1wiKSl0aHJvd1wiTm9kZSAnXCIrZStcIicgaXMgb2YgdHlwZSBhcnJheVwiO3ZhciB1PXMuc3Vic3RyaW5nKDEscy5sZW5ndGgtMSk7aWYodS5lcXVhbHMoXCIjXCIpKWZvcih2YXIgbD0wO2w8YS5sZW5ndGg7bCsrKXt2YXIgZD1hW2xdO3IoZStzLG4uc2xpY2UoMCksZCxhLGwpLHIoZStcIltcIitsK1wiXVwiLG4uc2xpY2UoMCksZCxhLGwpfWVsc2UgaWYoXCIkXCI9PT11KXt2YXIgZD1hW2EubGVuZ3RoLTFdO3IoZStzLG4uc2xpY2UoMCksZCxhLGEubGVuZ3RoLTEpfWVsc2V7dmFyIHA9cGFyc2VJbnQodSk7aWYoaXNOYU4ocCkpdGhyb3dcIkVsZW1lbnQgJ1wiK3UrXCInIG9mIG5vZGUgJ1wiK2UrXCInIGlzIG5vdCBhbiBpbnRlZ2VyLCBvciB0aGUgJyQnIGxhc3QgZWxlbWVudCBzeW1ib2wsICBvciB0aGUgd2lsY2FyZCBzeW1ib2wgJyMnXCI7aWYoMD5wKXRocm93XCJFbGVtZW50ICdcIit1K1wiJyBvZiBub2RlICdcIitlK1wiJyBpcyBsb3dlciB0aGFuIHplcm9cIjt2YXIgZD1hW3BdO3IoZStzLG4uc2xpY2UoMCksZCxhLHApfX1lbHNle2lmKFwib2JqZWN0XCIhPXR5cGVvZiBhKXRocm93XCJib29sZWFuXCI9PXR5cGVvZiBhfHxcIm51bWJlclwiPT10eXBlb2YgYXx8XCJzdHJpbmdcIj09dHlwZW9mIGE/XCJOb2RlIGlzIGxlYWYgYnV0IHN0aWxsIGFyZSB0b2tlbnMgcmVtYWluaW5nOiBcIitzOlwiTm9kZSB0eXBlICdcIit0eXBlb2YgYStcIicgbm90IHN1cHBvcnRlZCBmb3IgaW5kZXggZmllbGQgJ1wiK2UrXCInXCI7aWYoXCJbKl1cIj09PXMpZm9yKHZhciBjIGluIGEpe3ZhciBkPWFbY107cihlK3Msbi5zbGljZSgwKSxkLGEsYykscihlKydbXCInK2MrJ1wiXScsbi5zbGljZSgwKSxkLGEsYyl9ZWxzZXt2YXIgZDtpZihzLnN0YXJ0c1dpdGgoXCJbXCIpKXt2YXIgdT1zLnN1YnN0cmluZygxLHMubGVuZ3RoLTEpO2lmKCF1LnN0YXJ0c1dpdGgoJ1wiJykmJiF1LnN0YXJ0c1dpdGgoXCInXCIpKXRocm93XCJFbGVtZW50ICdcIit1K1wiJyBvZiBub2RlICdcIitlK1wiJyBtdXN0IGJlIGEgc3RyaW5nIGV4cHJlc3Npb24gb3Igd2lsY2FyZCAnKidcIjt1PXUuc3Vic3RyaW5nKDEsdS5sZW5ndGgoKS0xKSxlKz1zLGQ9YVt1XX1lbHNlIGU9ZS5sZW5ndGg+MD9lK1wiLlwiK3M6cyxkPWFbc107cihlLG4sZCxhLHMpfX1lbHNlIHQoYSxpLG8pfX1yKHRoaXMuZXhwLHRoaXMucXVldWUsZSl9fXZhciBTQ0hFTUFfQU5ZPXt0eXBlOlwiYW55XCJ9LG9iaj1uZXcgT2JqZWN0LHNjaGVtYU1hcD1uZXcgT2JqZWN0LGRlcGVuZGVuY3lNYXA9bmV3IE9iamVjdCxyZW5kZXJJbmZvTWFwPW5ldyBPYmplY3QsY29udGFpbmVyLGRhdGEsZXJyb3IsaW5pdGlhbFZhbHVlLGlucHV0Q291bnRlcj0wLHJvb3Q9c2NoZW1hLGZvcm1JZD1cIkJydXR1c2luRm9ybXMjXCIrQnJ1dHVzaW5Gb3Jtcy5pbnN0YW5jZXMubGVuZ3RoO3JlbmFtZVJlcXVpcmVkUHJvcGV0aWVzKHNjaGVtYSkscG9wdWxhdGVTY2hlbWFNYXAoXCIkXCIsc2NoZW1hKSx2YWxpZGF0ZURlcGVuY3lNYXBJc0FjeWNsaWMoKTt2YXIgcmVuZGVyZXJzPW5ldyBPYmplY3Q7cmV0dXJuIHJlbmRlcmVycy5pbnRlZ2VyPWZ1bmN0aW9uKGUsdCxyLG4sYSl7cmVuZGVyZXJzLnN0cmluZyhlLHQscixuLGEpfSxyZW5kZXJlcnMubnVtYmVyPWZ1bmN0aW9uKGUsdCxyLG4sYSl7cmVuZGVyZXJzLnN0cmluZyhlLHQscixuLGEpfSxyZW5kZXJlcnMuYW55PWZ1bmN0aW9uKGUsdCxyLG4sYSl7cmVuZGVyZXJzLnN0cmluZyhlLHQscixuLGEpfSxyZW5kZXJlcnMuc3RyaW5nPWZ1bmN0aW9uKGUsdCxyLG4sYSl7dmFyIGksbz1nZXRTY2hlbWFJZCh0KSxzPWdldFBhcmVudFNjaGVtYUlkKG8pLHU9Z2V0U2NoZW1hKG8pLGw9Z2V0U2NoZW1hKHMpO2lmKFwiYW55XCI9PT11LnR5cGUpaT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGV4dGFyZWFcIiksYSYmKGkudmFsdWU9SlNPTi5zdHJpbmdpZnkoYSxudWxsLDQpLHUucmVhZE9ubHkmJihpLmRpc2FibGVkPSEwKSk7ZWxzZSBpZih1Lm1lZGlhKWk9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlucHV0XCIpLGkudHlwZT1cImZpbGVcIixhcHBlbmRDaGlsZChpLGQsdSk7ZWxzZSBpZih1W1wiZW51bVwiXSl7aWYoaT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic2VsZWN0XCIpLCF1LnJlcXVpcmVkKXt2YXIgZD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwib3B0aW9uXCIpLHA9ZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoXCJcIik7ZC52YWx1ZT1cIlwiLGFwcGVuZENoaWxkKGQscCx1KSxhcHBlbmRDaGlsZChpLGQsdSl9Zm9yKHZhciBjPTAsbT0wO208dVtcImVudW1cIl0ubGVuZ3RoO20rKyl7dmFyIGQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIm9wdGlvblwiKSxwPWRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHVbXCJlbnVtXCJdW21dKTtkLnZhbHVlPXVbXCJlbnVtXCJdW21dLGFwcGVuZENoaWxkKGQscCx1KSxhcHBlbmRDaGlsZChpLGQsdSksYSYmdVtcImVudW1cIl1bbV09PT1hJiYoYz1tLHUucmVxdWlyZWR8fGMrKyx1LnJlYWRPbmx5JiYoaS5kaXNhYmxlZD0hMCkpfTE9PT11W1wiZW51bVwiXS5sZW5ndGg/aS5zZWxlY3RlZEluZGV4PTE6aS5zZWxlY3RlZEluZGV4PWN9ZWxzZXtpZihpPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKSxcImludGVnZXJcIj09PXUudHlwZXx8XCJudW1iZXJcIj09PXUudHlwZSlpLnR5cGU9XCJudW1iZXJcIixpLnN0ZXA9dS5zdGVwP1wiXCIrdS5zdGVwOlwiYW55XCIsXCJudW1iZXJcIiE9dHlwZW9mIGEmJihhPW51bGwpO2Vsc2UgaWYoXCJkYXRlLXRpbWVcIj09PXUuZm9ybWF0KXRyeXtpLnR5cGU9XCJkYXRldGltZS1sb2NhbFwifWNhdGNoKGYpe2kudHlwZT1cInRleHRcIn1lbHNlXCJlbWFpbFwiPT09dS5mb3JtYXQ/aS50eXBlPVwiZW1haWxcIjpcInRleHRcIj09PXUuZm9ybWF0P2k9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRleHRhcmVhXCIpOmkudHlwZT1cInRleHRcIjtudWxsIT09YSYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIGEmJihpLnZhbHVlPWEsdS5yZWFkT25seSYmKGkuZGlzYWJsZWQ9ITApKX1yZXR1cm4gaS5zY2hlbWE9byxpLnNldEF0dHJpYnV0ZShcImF1dG9jb3JyZWN0XCIsXCJvZmZcIiksaS5nZXRWYWxpZGF0aW9uRXJyb3I9ZnVuY3Rpb24oKXt0cnl7dmFyIGU9Z2V0VmFsdWUodSxpKTtpZihudWxsPT09ZSl7aWYodS5yZXF1aXJlZCl7aWYoIWx8fFwib2JqZWN0XCIhPT1sLnR5cGUpcmV0dXJuIEJydXR1c2luRm9ybXMubWVzc2FnZXMucmVxdWlyZWQ7aWYobC5yZXF1aXJlZClyZXR1cm4gQnJ1dHVzaW5Gb3Jtcy5tZXNzYWdlcy5yZXF1aXJlZDtmb3IodmFyIHQgaW4gcilpZihudWxsIT09clt0XSlyZXR1cm4gQnJ1dHVzaW5Gb3Jtcy5tZXNzYWdlcy5yZXF1aXJlZH19ZWxzZXtpZih1LnBhdHRlcm4mJiF1LnBhdHRlcm4udGVzdChlKSlyZXR1cm4gQnJ1dHVzaW5Gb3Jtcy5tZXNzYWdlcy5wYXR0ZXJuLmZvcm1hdCh1LnBhdHRlcm4uc291cmNlKTtpZih1Lm1pbkxlbmd0aCYmKCFlfHx1Lm1pbkxlbmd0aD5lLmxlbmd0aCkpcmV0dXJuIEJydXR1c2luRm9ybXMubWVzc2FnZXMubWluTGVuZ3RoLmZvcm1hdCh1Lm1pbkxlbmd0aCk7aWYodS5tYXhMZW5ndGgmJmUmJnUubWF4TGVuZ3RoPGUubGVuZ3RoKXJldHVybiBCcnV0dXNpbkZvcm1zLm1lc3NhZ2VzLm1heExlbmd0aC5mb3JtYXQodS5tYXhMZW5ndGgpfWlmKG51bGwhPT1lJiYhaXNOYU4oZSkpe2lmKHUubXVsdGlwbGVPZiYmZSV1Lm11bHRpcGxlT2YhPT0wKXJldHVybiBCcnV0dXNpbkZvcm1zLm1lc3NhZ2VzLm11bHRpcGxlT2YuZm9ybWF0KHUubXVsdGlwbGVPZik7aWYodS5oYXNPd25Qcm9wZXJ0eShcIm1heGltdW1cIikpe2lmKHUuZXhjbHVzaXZlTWF4aW11bSYmZT49dS5tYXhpbXVtKXJldHVybiBCcnV0dXNpbkZvcm1zLm1lc3NhZ2VzLmV4Y2x1c2l2ZU1heGltdW0uZm9ybWF0KHUubWF4aW11bSk7aWYoIXUuZXhjbHVzaXZlTWF4aW11bSYmZT51Lm1heGltdW0pcmV0dXJuIEJydXR1c2luRm9ybXMubWVzc2FnZXMubWF4aW11bS5mb3JtYXQodS5tYXhpbXVtKX1pZih1Lmhhc093blByb3BlcnR5KFwibWluaW11bVwiKSl7aWYodS5leGNsdXNpdmVNaW5pbXVtJiZlPD11Lm1pbmltdW0pcmV0dXJuIEJydXR1c2luRm9ybXMubWVzc2FnZXMuZXhjbHVzaXZlTWluaW11bS5mb3JtYXQodS5taW5pbXVtKTtpZighdS5leGNsdXNpdmVNaW5pbXVtJiZlPHUubWluaW11bSlyZXR1cm4gQnJ1dHVzaW5Gb3Jtcy5tZXNzYWdlcy5taW5pbXVtLmZvcm1hdCh1Lm1pbmltdW0pfX19Y2F0Y2gobil7cmV0dXJuIEJydXR1c2luRm9ybXMubWVzc2FnZXMuaW52YWxpZFZhbHVlfX0saS5vbmNoYW5nZT1mdW5jdGlvbigpe3ZhciBlO3RyeXtlPWdldFZhbHVlKHUsaSl9Y2F0Y2godCl7ZT1udWxsfXI/cltuLmdldFZhbHVlKCldPWU6ZGF0YT1lLG9uRGVwZW5kZW5jeUNoYW5nZWQobyxpKX0sdS5kZXNjcmlwdGlvbiYmKGkudGl0bGU9dS5kZXNjcmlwdGlvbixpLnBsYWNlaG9sZGVyPXUuZGVzY3JpcHRpb24pLGkub25jaGFuZ2UoKSxpLmlkPWdldElucHV0SWQoKSxpbnB1dENvdW50ZXIrKyxhcHBlbmRDaGlsZChlLGksdSkscn0scmVuZGVyZXJzW1wiYm9vbGVhblwiXT1mdW5jdGlvbihlLHQscixuLGEpe3ZhciBpLG89Z2V0U2NoZW1hSWQodCkscz1nZXRTY2hlbWEobyk7aWYocy5yZXF1aXJlZClpPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKSxpLnR5cGU9XCJjaGVja2JveFwiLGE9PT0hMCYmKGkuY2hlY2tlZD0hMCk7ZWxzZXtpPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzZWxlY3RcIik7dmFyIHU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIm9wdGlvblwiKSxsPWRvY3VtZW50LmNyZWF0ZVRleHROb2RlKFwiXCIpO2wudmFsdWU9XCJcIixhcHBlbmRDaGlsZCh1LGwscyksYXBwZW5kQ2hpbGQoaSx1LHMpO3ZhciBkPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJvcHRpb25cIikscD1kb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShCcnV0dXNpbkZvcm1zLm1lc3NhZ2VzW1widHJ1ZVwiXSk7ZC52YWx1ZT1cInRydWVcIixhcHBlbmRDaGlsZChkLHAscyksYXBwZW5kQ2hpbGQoaSxkLHMpO3ZhciBjPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJvcHRpb25cIiksbT1kb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShCcnV0dXNpbkZvcm1zLm1lc3NhZ2VzW1wiZmFsc2VcIl0pO2MudmFsdWU9XCJmYWxzZVwiLGFwcGVuZENoaWxkKGMsbSxzKSxhcHBlbmRDaGlsZChpLGMscyksYT09PSEwP2kuc2VsZWN0ZWRJbmRleD0xOmE9PT0hMSYmKGkuc2VsZWN0ZWRJbmRleD0yKX1pLm9uY2hhbmdlPWZ1bmN0aW9uKCl7cj9yW24uZ2V0VmFsdWUoKV09Z2V0VmFsdWUocyxpKTpkYXRhPWdldFZhbHVlKHMsaSksb25EZXBlbmRlbmN5Q2hhbmdlZChvLGkpfSxpLnNjaGVtYT1vLGkuaWQ9Z2V0SW5wdXRJZCgpLGlucHV0Q291bnRlcisrLHMuZGVzY3JpcHRpb24mJihpLnRpdGxlPXMuZGVzY3JpcHRpb24pLGkub25jaGFuZ2UoKSxhcHBlbmRDaGlsZChlLGkscyl9LHJlbmRlcmVycy5vbmVPZj1mdW5jdGlvbihlLHQscixuLGEpe3ZhciBpPWdldFNjaGVtYUlkKHQpLG89Z2V0U2NoZW1hKGkpLHM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNlbGVjdFwiKSx1PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7dS5pbm5lckhUTUw9XCJcIixzLnR5cGU9XCJzZWxlY3RcIixzLnNjaGVtYT1pO3ZhciBsPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJvcHRpb25cIik7bC52YWx1ZT1udWxsLGFwcGVuZENoaWxkKHMsbCxvKTtmb3IodmFyIGQ9MDtkPG8ub25lT2YubGVuZ3RoO2QrKyl7dmFyIHA9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIm9wdGlvblwiKSxjPWkrXCIuXCIrZCxtPWdldFNjaGVtYShjKSxmPWRvY3VtZW50LmNyZWF0ZVRleHROb2RlKG0udGl0bGUpO2lmKHAudmFsdWU9by5vbmVPZltkXSxhcHBlbmRDaGlsZChwLGYsbyksYXBwZW5kQ2hpbGQocyxwLG8pLHZvaWQgMCE9PWEmJm51bGwhPT1hJiYoby5yZWFkT25seSYmKHMuZGlzYWJsZWQ9ITApLGEuaGFzT3duUHJvcGVydHkoXCJ0eXBlXCIpJiZtLmhhc093blByb3BlcnR5KFwicHJvcGVydGllc1wiKSYmbS5wcm9wZXJ0aWVzLmhhc093blByb3BlcnR5KFwidHlwZVwiKSkpe3ZhciBoPWdldFNjaGVtYShtLnByb3BlcnRpZXMudHlwZSk7YS50eXBlPT09aFtcImVudW1cIl1bMF0mJihzLnNlbGVjdGVkSW5kZXg9ZCsxLHJlbmRlcihudWxsLHUsdCtcIi5cIisocy5zZWxlY3RlZEluZGV4LTEpLHIsbixhKSl9fXMub25jaGFuZ2U9ZnVuY3Rpb24oKXtyZW5kZXIobnVsbCx1LHQrXCIuXCIrKHMuc2VsZWN0ZWRJbmRleC0xKSxyLG4sYSl9LGFwcGVuZENoaWxkKGUscyxvKSxhcHBlbmRDaGlsZChlLHUsbyl9LHJlbmRlcmVycy5vYmplY3Q9ZnVuY3Rpb24oZSx0LHIsbixhKXtmdW5jdGlvbiBpKGUpe3ZhciB0PW5ldyBPYmplY3Q7cmV0dXJuIHQuZ2V0VmFsdWU9ZnVuY3Rpb24oKXtyZXR1cm4gZX0sdC5vbmNoYW5nZT1mdW5jdGlvbihlKXt9LHR9ZnVuY3Rpb24gbyhlLHQscixuLGEsaSl7dmFyIG89Z2V0U2NoZW1hSWQocikscz1nZXRTY2hlbWEobyksdT10LnRCb2RpZXNbMF0sbD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidHJcIiksZD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGRcIik7ZC5jbGFzc05hbWU9XCJhZGQtcHJvcC1uYW1lXCI7dmFyIHA9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRhYmxlXCIpLGM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRyXCIpLG09ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRkXCIpLGY9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRkXCIpLGg9XCIkXCIrT2JqZWN0LmtleXMoZSkubGVuZ3RoK1wiJFwiLHY9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRkXCIpO3YuY2xhc3NOYW1lPVwicHJvcC12YWx1ZVwiO3ZhciBnPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKTtnLnR5cGU9XCJ0ZXh0XCI7dmFyIHk7aSYmKHk9UmVnRXhwKGkpKSxnLmdldFZhbGlkYXRpb25FcnJvcj1mdW5jdGlvbigpe3JldHVybiBnLnByZXZpb3VzVmFsdWUhPT1nLnZhbHVlJiZlLmhhc093blByb3BlcnR5KGcudmFsdWUpP0JydXR1c2luRm9ybXMubWVzc2FnZXMuYWRkcHJvcE5hbWVFeGlzdGVudDpnLnZhbHVlP3ZvaWQgMDpCcnV0dXNpbkZvcm1zLm1lc3NhZ2VzLmFkZHByb3BOYW1lUmVxdWlyZWR9O3ZhciBiPWNyZWF0ZVByb3BlcnR5UHJvdmlkZXIoZnVuY3Rpb24oKXtpZihnLnZhbHVlKXtpZigheSlyZXR1cm4gZy52YWx1ZTtpZigtMSE9PWcudmFsdWUuc2VhcmNoKHkpKXJldHVybiBnLnZhbHVlfXJldHVybiBofSxmdW5jdGlvbih0KXtiLmdldFZhbHVlKCkhPT10JiYodCYmZS5oYXNPd25Qcm9wZXJ0eSh0KXx8KHQ9aCksKGUuaGFzT3duUHJvcGVydHkodCl8fHkmJi0xPT09Yi5nZXRWYWx1ZSgpLnNlYXJjaCh5KSkmJihlW2IuZ2V0VmFsdWUoKV09ZVt0XSxkZWxldGUgZVt0XSkpfSk7Zy5vbmJsdXI9ZnVuY3Rpb24oKXtpZihnLnByZXZpb3VzVmFsdWUhPT1nLnZhbHVlKXtmb3IodmFyIHQ9Zy52YWx1ZSxyPTE7Zy5wcmV2aW91c1ZhbHVlIT09dCYmZS5oYXNPd25Qcm9wZXJ0eSh0KTspdD1nLnZhbHVlK1wiKFwiK3IrXCIpXCIscisrO3JldHVybiBnLnZhbHVlPXQsYi5vbmNoYW5nZShnLnByZXZpb3VzVmFsdWUpLHZvaWQoZy5wcmV2aW91c1ZhbHVlPWcudmFsdWUpfX07dmFyIFA9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtQLnNldEF0dHJpYnV0ZShcInR5cGVcIixcImJ1dHRvblwiKSxQLmNsYXNzTmFtZT1cInJlbW92ZVwiLGFwcGVuZENoaWxkKFAsZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoXCJ4XCIpLHMpLFAub25jbGljaz1mdW5jdGlvbigpe2RlbGV0ZSBlW2cudmFsdWVdLHQuZGVsZXRlUm93KGwucm93SW5kZXgpLGcudmFsdWU9bnVsbCxiLm9uY2hhbmdlKGcucHJldmlvdXNWYWx1ZSl9LGFwcGVuZENoaWxkKG0sZyxzKSxhcHBlbmRDaGlsZChmLFAscyksYXBwZW5kQ2hpbGQoYyxtLHMpLGFwcGVuZENoaWxkKGMsZixzKSxhcHBlbmRDaGlsZChwLGMscyksYXBwZW5kQ2hpbGQoZCxwLHMpLHZvaWQgMCE9PWkmJihnLnBsYWNlaG9sZGVyPWkpLGFwcGVuZENoaWxkKGwsZCxzKSxhcHBlbmRDaGlsZChsLHYscyksYXBwZW5kQ2hpbGQodSxsLHMpLGFwcGVuZENoaWxkKHQsdSxzKSxyZW5kZXIobnVsbCx2LHIsZSxiLGEpLG4mJihnLnZhbHVlPW4sZy5vbmJsdXIoKSl9dmFyIHM9Z2V0U2NoZW1hSWQodCksdT1nZXRTY2hlbWEocyksbD1uZXcgT2JqZWN0O3I/KG4uZ2V0VmFsdWUoKXx8MD09PW4uZ2V0VmFsdWUoKSkmJihyW24uZ2V0VmFsdWUoKV09bCk6ZGF0YT1sO3ZhciBkPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0YWJsZVwiKTtkLmNsYXNzTmFtZT1cIm9iamVjdFwiO3ZhciBwPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0Ym9keVwiKTthcHBlbmRDaGlsZChkLHAsdSk7dmFyIGM9MDtpZih1Lmhhc093blByb3BlcnR5KFwicHJvcGVydGllc1wiKSl7Yz11LnByb3BlcnRpZXMubGVuZ3RoO2Zvcih2YXIgbSBpbiB1LnByb3BlcnRpZXMpe3ZhciBmPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0clwiKSxoPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0ZFwiKTtoLmNsYXNzTmFtZT1cInByb3AtbmFtZVwiO3ZhciB2PXQrXCIuXCIrbSxnPWdldFNjaGVtYShnZXRTY2hlbWFJZCh2KSkseT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGRcIik7eS5jbGFzc05hbWU9XCJwcm9wLXZhbHVlXCIsYXBwZW5kQ2hpbGQocCxmLGcpLGFwcGVuZENoaWxkKGYsaCxnKSxhcHBlbmRDaGlsZChmLHksZyk7dmFyIGI9aShtKSxQPW51bGw7YSYmKFA9YVttXSkscmVuZGVyKGgseSx2LGwsYixQKX19dmFyIE89W107aWYodS5wYXR0ZXJuUHJvcGVydGllc3x8dS5hZGRpdGlvbmFsUHJvcGVydGllcyl7dmFyIHc9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtpZihhcHBlbmRDaGlsZCh3LGQsdSksdS5wYXR0ZXJuUHJvcGVydGllcylmb3IodmFyIHggaW4gdS5wYXR0ZXJuUHJvcGVydGllcyl7dmFyIEM9dS5wYXR0ZXJuUHJvcGVydGllc1t4XSxFPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7RS5jbGFzc05hbWU9XCJhZGQtcGF0dGVybi1kaXZcIjt2YXIgUz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO2lmKFMuc2V0QXR0cmlidXRlKFwidHlwZVwiLFwiYnV0dG9uXCIpLFMucGF0dGVybj14LFMuaWQ9dCtcIltcIit4K1wiXVwiLFMub25jbGljaz1mdW5jdGlvbigpe28obCxkLHRoaXMuaWQsdm9pZCAwLHZvaWQgMCx0aGlzLnBhdHRlcm4pfSwodS5tYXhQcm9wZXJ0aWVzfHx1Lm1pblByb3BlcnRpZXMpJiYoUy5nZXRWYWxpZGF0aW9uRXJyb3I9ZnVuY3Rpb24oKXtyZXR1cm4gdS5taW5Qcm9wZXJ0aWVzJiZjK2Qucm93cy5sZW5ndGg8dS5taW5Qcm9wZXJ0aWVzP0JydXR1c2luRm9ybXMubWVzc2FnZXMubWluUHJvcGVydGllcy5mb3JtYXQodS5taW5Qcm9wZXJ0aWVzKTp1Lm1heFByb3BlcnRpZXMmJmMrZC5yb3dzLmxlbmd0aD51Lm1heFByb3BlcnRpZXM/QnJ1dHVzaW5Gb3Jtcy5tZXNzYWdlcy5tYXhQcm9wZXJ0aWVzLmZvcm1hdCh1Lm1heFByb3BlcnRpZXMpOnZvaWQgMH0pLEMuZGVzY3JpcHRpb24mJihTLnRpdGxlPUMuZGVzY3JpcHRpb24pLGFwcGVuZENoaWxkKFMsZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoXCJBZGQgXCIreCksdSksYXBwZW5kQ2hpbGQoRSxTLHUpLGEpZm9yKHZhciBJIGluIGEpaWYoIXUucHJvcGVydGllc3x8IXUucHJvcGVydGllcy5oYXNPd25Qcm9wZXJ0eShJKSl7dmFyIE49UmVnRXhwKHgpOy0xIT09SS5zZWFyY2goTikmJi0xPT09Ty5pbmRleE9mKEkpJiYobyhsLGQsdCtcIltcIit4K1wiXVwiLEksYVtJXSx4KSxPLnB1c2goSSkpfWFwcGVuZENoaWxkKHcsRSx1KX1pZih1LmFkZGl0aW9uYWxQcm9wZXJ0aWVzKXt2YXIgRj1nZXRTY2hlbWEodS5hZGRpdGlvbmFsUHJvcGVydGllcyksUz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO2lmKFMuc2V0QXR0cmlidXRlKFwidHlwZVwiLFwiYnV0dG9uXCIpLFMub25jbGljaz1mdW5jdGlvbigpe28obCxkLHQrXCJbKl1cIix2b2lkIDApfSwodS5tYXhQcm9wZXJ0aWVzfHx1Lm1pblByb3BlcnRpZXMpJiYoUy5nZXRWYWxpZGF0aW9uRXJyb3I9ZnVuY3Rpb24oKXtyZXR1cm4gdS5taW5Qcm9wZXJ0aWVzJiZjK2Qucm93cy5sZW5ndGg8dS5taW5Qcm9wZXJ0aWVzP0JydXR1c2luRm9ybXMubWVzc2FnZXMubWluUHJvcGVydGllcy5mb3JtYXQodS5taW5Qcm9wZXJ0aWVzKTp1Lm1heFByb3BlcnRpZXMmJmMrZC5yb3dzLmxlbmd0aD51Lm1heFByb3BlcnRpZXM/QnJ1dHVzaW5Gb3Jtcy5tZXNzYWdlcy5tYXhQcm9wZXJ0aWVzLmZvcm1hdCh1Lm1heFByb3BlcnRpZXMpOnZvaWQgMH0pLEYuZGVzY3JpcHRpb24mJihTLnRpdGxlPUYuZGVzY3JpcHRpb24pLGFwcGVuZENoaWxkKFMsZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoXCJBZGRcIiksdSksYXBwZW5kQ2hpbGQodyxTLHUpLGEpZm9yKHZhciBJIGluIGEpdS5wcm9wZXJ0aWVzJiZ1LnByb3BlcnRpZXMuaGFzT3duUHJvcGVydHkoSSl8fC0xPT09Ty5pbmRleE9mKEkpJiZvKGwsZCx0KydbXCInK20rJ1wiXScsSSxhW0ldKX1hcHBlbmRDaGlsZChlLHcsdSl9ZWxzZSBhcHBlbmRDaGlsZChlLGQsdSl9LHJlbmRlcmVycy5hcnJheT1mdW5jdGlvbihlLHQscixuLGEpe2Z1bmN0aW9uIGkoZSx0LHIsbixhKXt2YXIgaT1nZXRTY2hlbWFJZChyKSxvPWdldFNjaGVtYShpKSxzPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0Ym9keVwiKSx1PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0clwiKTt1LmNsYXNzTmFtZT1cIml0ZW1cIjt2YXIgbD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGRcIik7bC5jbGFzc05hbWU9XCJpdGVtLWluZGV4XCI7dmFyIGQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRkXCIpO2QuY2xhc3NOYW1lPVwiaXRlbS1hY3Rpb25cIjt2YXIgcD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGRcIik7cC5jbGFzc05hbWU9XCJpdGVtLXZhbHVlXCI7dmFyIGM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtjLnNldEF0dHJpYnV0ZShcInR5cGVcIixcImJ1dHRvblwiKSxjLmNsYXNzTmFtZT1cInJlbW92ZVwiLGE9PT0hMCYmKGMuZGlzYWJsZWQ9ITApLGFwcGVuZENoaWxkKGMsZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoXCJ4XCIpLG8pO3ZhciBtPWZ1bmN0aW9uKCl7Zm9yKHZhciBlPTA7ZTx0LnJvd3MubGVuZ3RoO2UrKyl7dmFyIHI9dC5yb3dzW2VdO3IuY2VsbHNbMF0uaW5uZXJIVE1MPWUrMX19O2Mub25jbGljaz1mdW5jdGlvbigpe2Uuc3BsaWNlKHUucm93SW5kZXgsMSksdC5kZWxldGVSb3codS5yb3dJbmRleCksbSgpfSxhcHBlbmRDaGlsZChkLGMsbyk7dmFyIGY9ZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUodC5yb3dzLmxlbmd0aCsxKTthcHBlbmRDaGlsZChsLGYsbyksYXBwZW5kQ2hpbGQodSxsLG8pLGFwcGVuZENoaWxkKHUsZCxvKSxhcHBlbmRDaGlsZCh1LHAsbyksYXBwZW5kQ2hpbGQocyx1LG8pLGFwcGVuZENoaWxkKHQscyxvKTt2YXIgaD1jcmVhdGVQcm9wZXJ0eVByb3ZpZGVyKGZ1bmN0aW9uKCl7cmV0dXJuIHUucm93SW5kZXh9KTtyZW5kZXIobnVsbCxwLHIsZSxoLG4pfXZhciBvPWdldFNjaGVtYUlkKHQpLHM9Z2V0U2NoZW1hKG8pLHU9Z2V0U2NoZW1hKHMuaXRlbXMpLGw9bmV3IEFycmF5O3I/KG4uZ2V0VmFsdWUoKXx8MD09PW4uZ2V0VmFsdWUoKSkmJihyW24uZ2V0VmFsdWUoKV09bCk6ZGF0YT1sLG4mJihuLm9uY2hhbmdlPWZ1bmN0aW9uKGUpe2RlbGV0ZSByW2VdLHJbbi5nZXRWYWx1ZSgpXT1sfSk7dmFyIGQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSxwPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0YWJsZVwiKTtwLmNsYXNzTmFtZT1cImFycmF5XCIsYXBwZW5kQ2hpbGQoZCxwLHMpLGFwcGVuZENoaWxkKGUsZCxzKTt2YXIgYz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpO2lmKHMucmVhZE9ubHkmJihjLmRpc2FibGVkPSEwKSxjLnNldEF0dHJpYnV0ZShcInR5cGVcIixcImJ1dHRvblwiKSxjLmdldFZhbGlkYXRpb25FcnJvcj1mdW5jdGlvbigpe2lmKHMubWluSXRlbXMmJnMubWluSXRlbXM+cC5yb3dzLmxlbmd0aClyZXR1cm4gQnJ1dHVzaW5Gb3Jtcy5tZXNzYWdlcy5taW5JdGVtcy5mb3JtYXQocy5taW5JdGVtcyk7aWYocy5tYXhJdGVtcyYmcy5tYXhJdGVtczxwLnJvd3MubGVuZ3RoKXJldHVybiBCcnV0dXNpbkZvcm1zLm1lc3NhZ2VzLm1heEl0ZW1zLmZvcm1hdChzLm1heEl0ZW1zKTtpZihzLnVuaXF1ZUl0ZW1zKWZvcih2YXIgZT0wO2U8bC5sZW5ndGg7ZSsrKWZvcih2YXIgdD1lKzE7dDxsLmxlbmd0aDt0KyspaWYoSlNPTi5zdHJpbmdpZnkobFtlXSk9PT1KU09OLnN0cmluZ2lmeShsW3RdKSlyZXR1cm4gQnJ1dHVzaW5Gb3Jtcy5tZXNzYWdlcy51bmlxdWVJdGVtc30sYy5vbmNsaWNrPWZ1bmN0aW9uKCl7aShsLHAsdCtcIlsjXVwiLG51bGwpfSx1LmRlc2NyaXB0aW9uJiYoYy50aXRsZT11LmRlc2NyaXB0aW9uKSxhcHBlbmRDaGlsZChjLGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKEJydXR1c2luRm9ybXMubWVzc2FnZXMuYWRkSXRlbSkscyksYXBwZW5kQ2hpbGQoZCxwLHMpLGFwcGVuZENoaWxkKGQsYyxzKSxhJiZhIGluc3RhbmNlb2YgQXJyYXkpZm9yKHZhciBtPTA7bTxhLmxlbmd0aDttKyspaShsLHAsdCtcIltcIittK1wiXVwiLGFbbV0scy5yZWFkT25seSk7YXBwZW5kQ2hpbGQoZSxkLHMpfSxvYmoucmVuZGVyPWZ1bmN0aW9uKGUsdCl7Y29udGFpbmVyPWUsaW5pdGlhbFZhbHVlPXQ7dmFyIHI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImZvcm1cIik7aWYoci5jbGFzc05hbWU9XCJicnV0dXNpbi1mb3JtXCIsci5vbnN1Ym1pdD1mdW5jdGlvbihlKXtyZXR1cm4hMX0sY29udGFpbmVyP2FwcGVuZENoaWxkKGNvbnRhaW5lcixyKTphcHBlbmRDaGlsZChkb2N1bWVudC5ib2R5LHIpLGVycm9yKXt2YXIgbj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGFiZWxcIiksYT1kb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShlcnJvcik7YXBwZW5kQ2hpbGQobixhKSxuLmNsYXNzTmFtZT1cImVycm9yLW1lc3NhZ2VcIixhcHBlbmRDaGlsZChyLG4pfWVsc2UgcmVuZGVyKG51bGwscixcIiRcIixudWxsLG51bGwpO2RlcGVuZGVuY3lNYXAuaGFzT3duUHJvcGVydHkoXCIkXCIpJiZvbkRlcGVuZGVuY3lDaGFuZ2VkKFwiJFwiKSxCcnV0dXNpbkZvcm1zLnBvc3RSZW5kZXImJkJydXR1c2luRm9ybXMucG9zdFJlbmRlcihvYmopfSxvYmouZ2V0UmVuZGVyaW5nQ29udGFpbmVyPWZ1bmN0aW9uKCl7cmV0dXJuIGNvbnRhaW5lcn0sb2JqLnZhbGlkYXRlPWZ1bmN0aW9uKCl7cmV0dXJuIHZhbGlkYXRlKGNvbnRhaW5lcil9LG9iai5nZXREYXRhPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gZSh0LHIpe2lmKG51bGw9PT1zJiYocz1TQ0hFTUFfQU5ZKSxyLiRyZWYmJihyPWdldERlZmluaXRpb24oci4kcmVmKSksdCBpbnN0YW5jZW9mIEFycmF5KXtpZigwPT09dC5sZW5ndGgpcmV0dXJuIG51bGw7Zm9yKHZhciBuPW5ldyBBcnJheSxhPTA7YTx0Lmxlbmd0aDthKyspblthXT1lKHRbYV0sci5pdGVtcyk7cmV0dXJuIG59aWYoXCJcIj09PXQpcmV0dXJuIG51bGw7aWYodCBpbnN0YW5jZW9mIE9iamVjdCl7dmFyIG49bmV3IE9iamVjdCxpPSExO2Zvcih2YXIgbyBpbiB0KWlmKCFvLnN0YXJ0c1dpdGgoXCIkXCIpfHwhby5lbmRzV2l0aChcIiRcIikpe3ZhciBzPW51bGw7aWYoci5oYXNPd25Qcm9wZXJ0eShcInByb3BlcnRpZXNcIikmJnIucHJvcGVydGllcy5oYXNPd25Qcm9wZXJ0eShvKSYmKHM9ci5wcm9wZXJ0aWVzW29dKSxudWxsPT09cyYmci5oYXNPd25Qcm9wZXJ0eShcImFkZGl0aW9uYWxQcm9wZXJ0aWVzXCIpJiZcIm9iamVjdFwiPT10eXBlb2Ygci5hZGRpdGlvbmFsUHJvcGVydGllcyYmKHM9ci5hZGRpdGlvbmFsUHJvcGVydGllcyksbnVsbD09PXMmJnIuaGFzT3duUHJvcGVydHkoXCJwYXR0ZXJuUHJvcGVydGllc1wiKSlmb3IodmFyIHUgaW4gci5wYXR0ZXJuUHJvcGVydGllcyl7dmFyIGw9UmVnRXhwKHUpO2lmKC0xIT09by5zZWFyY2gobCkpe3M9ci5wYXR0ZXJuUHJvcGVydGllc1t1XTticmVha319dmFyIGQ9ZSh0W29dLHMpO251bGwhPT1kJiYobltvXT1kLGk9ITApfXJldHVybiBpfHxyLnJlcXVpcmVkP246bnVsbH1yZXR1cm4gdH1yZXR1cm4gY29udGFpbmVyP2UoZGF0YSxzY2hlbWEpOm51bGx9LEJydXR1c2luRm9ybXMuaW5zdGFuY2VzW0JydXR1c2luRm9ybXMuaW5zdGFuY2VzLmxlbmd0aF09b2JqLG9ian0sYnJ1dHVzaW5bXCJqc29uLWZvcm1zXCJdPUJydXR1c2luRm9ybXN9KCk7XG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9+L2JydXR1c2luLWpzb24tZm9ybXMvZGlzdC9qcy9icnV0dXNpbi1qc29uLWZvcm1zLm1pbi5qc1xuLy8gbW9kdWxlIGlkID0gNTJcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwiLy8gcmVtb3ZlZCBieSBleHRyYWN0LXRleHQtd2VicGFjay1wbHVnaW5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL3NyYy9iYXNlLnNjc3Ncbi8vIG1vZHVsZSBpZCA9IDUzXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIm1vZHVsZS5leHBvcnRzID0gZnVuY3Rpb24obW9kdWxlKSB7XHJcblx0aWYoIW1vZHVsZS53ZWJwYWNrUG9seWZpbGwpIHtcclxuXHRcdG1vZHVsZS5kZXByZWNhdGUgPSBmdW5jdGlvbigpIHt9O1xyXG5cdFx0bW9kdWxlLnBhdGhzID0gW107XHJcblx0XHQvLyBtb2R1bGUucGFyZW50ID0gdW5kZWZpbmVkIGJ5IGRlZmF1bHRcclxuXHRcdGlmKCFtb2R1bGUuY2hpbGRyZW4pIG1vZHVsZS5jaGlsZHJlbiA9IFtdO1xyXG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG1vZHVsZSwgXCJsb2FkZWRcIiwge1xyXG5cdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxyXG5cdFx0XHRnZXQ6IGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdHJldHVybiBtb2R1bGUubDtcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblx0XHRPYmplY3QuZGVmaW5lUHJvcGVydHkobW9kdWxlLCBcImlkXCIsIHtcclxuXHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcclxuXHRcdFx0Z2V0OiBmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRyZXR1cm4gbW9kdWxlLmk7XHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cdFx0bW9kdWxlLndlYnBhY2tQb2x5ZmlsbCA9IDE7XHJcblx0fVxyXG5cdHJldHVybiBtb2R1bGU7XHJcbn07XHJcblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vICh3ZWJwYWNrKS9idWlsZGluL21vZHVsZS5qc1xuLy8gbW9kdWxlIGlkID0gNTRcbi8vIG1vZHVsZSBjaHVua3MgPSAwIiwidmFyIHN1cHBvcnQgPSB7XG4gIHNlYXJjaFBhcmFtczogJ1VSTFNlYXJjaFBhcmFtcycgaW4gc2VsZixcbiAgaXRlcmFibGU6ICdTeW1ib2wnIGluIHNlbGYgJiYgJ2l0ZXJhdG9yJyBpbiBTeW1ib2wsXG4gIGJsb2I6XG4gICAgJ0ZpbGVSZWFkZXInIGluIHNlbGYgJiZcbiAgICAnQmxvYicgaW4gc2VsZiAmJlxuICAgIChmdW5jdGlvbigpIHtcbiAgICAgIHRyeSB7XG4gICAgICAgIG5ldyBCbG9iKClcbiAgICAgICAgcmV0dXJuIHRydWVcbiAgICAgIH0gY2F0Y2ggKGUpIHtcbiAgICAgICAgcmV0dXJuIGZhbHNlXG4gICAgICB9XG4gICAgfSkoKSxcbiAgZm9ybURhdGE6ICdGb3JtRGF0YScgaW4gc2VsZixcbiAgYXJyYXlCdWZmZXI6ICdBcnJheUJ1ZmZlcicgaW4gc2VsZlxufVxuXG5mdW5jdGlvbiBpc0RhdGFWaWV3KG9iaikge1xuICByZXR1cm4gb2JqICYmIERhdGFWaWV3LnByb3RvdHlwZS5pc1Byb3RvdHlwZU9mKG9iailcbn1cblxuaWYgKHN1cHBvcnQuYXJyYXlCdWZmZXIpIHtcbiAgdmFyIHZpZXdDbGFzc2VzID0gW1xuICAgICdbb2JqZWN0IEludDhBcnJheV0nLFxuICAgICdbb2JqZWN0IFVpbnQ4QXJyYXldJyxcbiAgICAnW29iamVjdCBVaW50OENsYW1wZWRBcnJheV0nLFxuICAgICdbb2JqZWN0IEludDE2QXJyYXldJyxcbiAgICAnW29iamVjdCBVaW50MTZBcnJheV0nLFxuICAgICdbb2JqZWN0IEludDMyQXJyYXldJyxcbiAgICAnW29iamVjdCBVaW50MzJBcnJheV0nLFxuICAgICdbb2JqZWN0IEZsb2F0MzJBcnJheV0nLFxuICAgICdbb2JqZWN0IEZsb2F0NjRBcnJheV0nXG4gIF1cblxuICB2YXIgaXNBcnJheUJ1ZmZlclZpZXcgPVxuICAgIEFycmF5QnVmZmVyLmlzVmlldyB8fFxuICAgIGZ1bmN0aW9uKG9iaikge1xuICAgICAgcmV0dXJuIG9iaiAmJiB2aWV3Q2xhc3Nlcy5pbmRleE9mKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvYmopKSA+IC0xXG4gICAgfVxufVxuXG5mdW5jdGlvbiBub3JtYWxpemVOYW1lKG5hbWUpIHtcbiAgaWYgKHR5cGVvZiBuYW1lICE9PSAnc3RyaW5nJykge1xuICAgIG5hbWUgPSBTdHJpbmcobmFtZSlcbiAgfVxuICBpZiAoL1teYS16MC05XFwtIyQlJicqKy5eX2B8fl0vaS50ZXN0KG5hbWUpKSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignSW52YWxpZCBjaGFyYWN0ZXIgaW4gaGVhZGVyIGZpZWxkIG5hbWUnKVxuICB9XG4gIHJldHVybiBuYW1lLnRvTG93ZXJDYXNlKClcbn1cblxuZnVuY3Rpb24gbm9ybWFsaXplVmFsdWUodmFsdWUpIHtcbiAgaWYgKHR5cGVvZiB2YWx1ZSAhPT0gJ3N0cmluZycpIHtcbiAgICB2YWx1ZSA9IFN0cmluZyh2YWx1ZSlcbiAgfVxuICByZXR1cm4gdmFsdWVcbn1cblxuLy8gQnVpbGQgYSBkZXN0cnVjdGl2ZSBpdGVyYXRvciBmb3IgdGhlIHZhbHVlIGxpc3RcbmZ1bmN0aW9uIGl0ZXJhdG9yRm9yKGl0ZW1zKSB7XG4gIHZhciBpdGVyYXRvciA9IHtcbiAgICBuZXh0OiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciB2YWx1ZSA9IGl0ZW1zLnNoaWZ0KClcbiAgICAgIHJldHVybiB7ZG9uZTogdmFsdWUgPT09IHVuZGVmaW5lZCwgdmFsdWU6IHZhbHVlfVxuICAgIH1cbiAgfVxuXG4gIGlmIChzdXBwb3J0Lml0ZXJhYmxlKSB7XG4gICAgaXRlcmF0b3JbU3ltYm9sLml0ZXJhdG9yXSA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIGl0ZXJhdG9yXG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIGl0ZXJhdG9yXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBIZWFkZXJzKGhlYWRlcnMpIHtcbiAgdGhpcy5tYXAgPSB7fVxuXG4gIGlmIChoZWFkZXJzIGluc3RhbmNlb2YgSGVhZGVycykge1xuICAgIGhlYWRlcnMuZm9yRWFjaChmdW5jdGlvbih2YWx1ZSwgbmFtZSkge1xuICAgICAgdGhpcy5hcHBlbmQobmFtZSwgdmFsdWUpXG4gICAgfSwgdGhpcylcbiAgfSBlbHNlIGlmIChBcnJheS5pc0FycmF5KGhlYWRlcnMpKSB7XG4gICAgaGVhZGVycy5mb3JFYWNoKGZ1bmN0aW9uKGhlYWRlcikge1xuICAgICAgdGhpcy5hcHBlbmQoaGVhZGVyWzBdLCBoZWFkZXJbMV0pXG4gICAgfSwgdGhpcylcbiAgfSBlbHNlIGlmIChoZWFkZXJzKSB7XG4gICAgT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXMoaGVhZGVycykuZm9yRWFjaChmdW5jdGlvbihuYW1lKSB7XG4gICAgICB0aGlzLmFwcGVuZChuYW1lLCBoZWFkZXJzW25hbWVdKVxuICAgIH0sIHRoaXMpXG4gIH1cbn1cblxuSGVhZGVycy5wcm90b3R5cGUuYXBwZW5kID0gZnVuY3Rpb24obmFtZSwgdmFsdWUpIHtcbiAgbmFtZSA9IG5vcm1hbGl6ZU5hbWUobmFtZSlcbiAgdmFsdWUgPSBub3JtYWxpemVWYWx1ZSh2YWx1ZSlcbiAgdmFyIG9sZFZhbHVlID0gdGhpcy5tYXBbbmFtZV1cbiAgdGhpcy5tYXBbbmFtZV0gPSBvbGRWYWx1ZSA/IG9sZFZhbHVlICsgJywgJyArIHZhbHVlIDogdmFsdWVcbn1cblxuSGVhZGVycy5wcm90b3R5cGVbJ2RlbGV0ZSddID0gZnVuY3Rpb24obmFtZSkge1xuICBkZWxldGUgdGhpcy5tYXBbbm9ybWFsaXplTmFtZShuYW1lKV1cbn1cblxuSGVhZGVycy5wcm90b3R5cGUuZ2V0ID0gZnVuY3Rpb24obmFtZSkge1xuICBuYW1lID0gbm9ybWFsaXplTmFtZShuYW1lKVxuICByZXR1cm4gdGhpcy5oYXMobmFtZSkgPyB0aGlzLm1hcFtuYW1lXSA6IG51bGxcbn1cblxuSGVhZGVycy5wcm90b3R5cGUuaGFzID0gZnVuY3Rpb24obmFtZSkge1xuICByZXR1cm4gdGhpcy5tYXAuaGFzT3duUHJvcGVydHkobm9ybWFsaXplTmFtZShuYW1lKSlcbn1cblxuSGVhZGVycy5wcm90b3R5cGUuc2V0ID0gZnVuY3Rpb24obmFtZSwgdmFsdWUpIHtcbiAgdGhpcy5tYXBbbm9ybWFsaXplTmFtZShuYW1lKV0gPSBub3JtYWxpemVWYWx1ZSh2YWx1ZSlcbn1cblxuSGVhZGVycy5wcm90b3R5cGUuZm9yRWFjaCA9IGZ1bmN0aW9uKGNhbGxiYWNrLCB0aGlzQXJnKSB7XG4gIGZvciAodmFyIG5hbWUgaW4gdGhpcy5tYXApIHtcbiAgICBpZiAodGhpcy5tYXAuaGFzT3duUHJvcGVydHkobmFtZSkpIHtcbiAgICAgIGNhbGxiYWNrLmNhbGwodGhpc0FyZywgdGhpcy5tYXBbbmFtZV0sIG5hbWUsIHRoaXMpXG4gICAgfVxuICB9XG59XG5cbkhlYWRlcnMucHJvdG90eXBlLmtleXMgPSBmdW5jdGlvbigpIHtcbiAgdmFyIGl0ZW1zID0gW11cbiAgdGhpcy5mb3JFYWNoKGZ1bmN0aW9uKHZhbHVlLCBuYW1lKSB7XG4gICAgaXRlbXMucHVzaChuYW1lKVxuICB9KVxuICByZXR1cm4gaXRlcmF0b3JGb3IoaXRlbXMpXG59XG5cbkhlYWRlcnMucHJvdG90eXBlLnZhbHVlcyA9IGZ1bmN0aW9uKCkge1xuICB2YXIgaXRlbXMgPSBbXVxuICB0aGlzLmZvckVhY2goZnVuY3Rpb24odmFsdWUpIHtcbiAgICBpdGVtcy5wdXNoKHZhbHVlKVxuICB9KVxuICByZXR1cm4gaXRlcmF0b3JGb3IoaXRlbXMpXG59XG5cbkhlYWRlcnMucHJvdG90eXBlLmVudHJpZXMgPSBmdW5jdGlvbigpIHtcbiAgdmFyIGl0ZW1zID0gW11cbiAgdGhpcy5mb3JFYWNoKGZ1bmN0aW9uKHZhbHVlLCBuYW1lKSB7XG4gICAgaXRlbXMucHVzaChbbmFtZSwgdmFsdWVdKVxuICB9KVxuICByZXR1cm4gaXRlcmF0b3JGb3IoaXRlbXMpXG59XG5cbmlmIChzdXBwb3J0Lml0ZXJhYmxlKSB7XG4gIEhlYWRlcnMucHJvdG90eXBlW1N5bWJvbC5pdGVyYXRvcl0gPSBIZWFkZXJzLnByb3RvdHlwZS5lbnRyaWVzXG59XG5cbmZ1bmN0aW9uIGNvbnN1bWVkKGJvZHkpIHtcbiAgaWYgKGJvZHkuYm9keVVzZWQpIHtcbiAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IFR5cGVFcnJvcignQWxyZWFkeSByZWFkJykpXG4gIH1cbiAgYm9keS5ib2R5VXNlZCA9IHRydWVcbn1cblxuZnVuY3Rpb24gZmlsZVJlYWRlclJlYWR5KHJlYWRlcikge1xuICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgcmVhZGVyLm9ubG9hZCA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmVzb2x2ZShyZWFkZXIucmVzdWx0KVxuICAgIH1cbiAgICByZWFkZXIub25lcnJvciA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmVqZWN0KHJlYWRlci5lcnJvcilcbiAgICB9XG4gIH0pXG59XG5cbmZ1bmN0aW9uIHJlYWRCbG9iQXNBcnJheUJ1ZmZlcihibG9iKSB7XG4gIHZhciByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpXG4gIHZhciBwcm9taXNlID0gZmlsZVJlYWRlclJlYWR5KHJlYWRlcilcbiAgcmVhZGVyLnJlYWRBc0FycmF5QnVmZmVyKGJsb2IpXG4gIHJldHVybiBwcm9taXNlXG59XG5cbmZ1bmN0aW9uIHJlYWRCbG9iQXNUZXh0KGJsb2IpIHtcbiAgdmFyIHJlYWRlciA9IG5ldyBGaWxlUmVhZGVyKClcbiAgdmFyIHByb21pc2UgPSBmaWxlUmVhZGVyUmVhZHkocmVhZGVyKVxuICByZWFkZXIucmVhZEFzVGV4dChibG9iKVxuICByZXR1cm4gcHJvbWlzZVxufVxuXG5mdW5jdGlvbiByZWFkQXJyYXlCdWZmZXJBc1RleHQoYnVmKSB7XG4gIHZhciB2aWV3ID0gbmV3IFVpbnQ4QXJyYXkoYnVmKVxuICB2YXIgY2hhcnMgPSBuZXcgQXJyYXkodmlldy5sZW5ndGgpXG5cbiAgZm9yICh2YXIgaSA9IDA7IGkgPCB2aWV3Lmxlbmd0aDsgaSsrKSB7XG4gICAgY2hhcnNbaV0gPSBTdHJpbmcuZnJvbUNoYXJDb2RlKHZpZXdbaV0pXG4gIH1cbiAgcmV0dXJuIGNoYXJzLmpvaW4oJycpXG59XG5cbmZ1bmN0aW9uIGJ1ZmZlckNsb25lKGJ1Zikge1xuICBpZiAoYnVmLnNsaWNlKSB7XG4gICAgcmV0dXJuIGJ1Zi5zbGljZSgwKVxuICB9IGVsc2Uge1xuICAgIHZhciB2aWV3ID0gbmV3IFVpbnQ4QXJyYXkoYnVmLmJ5dGVMZW5ndGgpXG4gICAgdmlldy5zZXQobmV3IFVpbnQ4QXJyYXkoYnVmKSlcbiAgICByZXR1cm4gdmlldy5idWZmZXJcbiAgfVxufVxuXG5mdW5jdGlvbiBCb2R5KCkge1xuICB0aGlzLmJvZHlVc2VkID0gZmFsc2VcblxuICB0aGlzLl9pbml0Qm9keSA9IGZ1bmN0aW9uKGJvZHkpIHtcbiAgICB0aGlzLl9ib2R5SW5pdCA9IGJvZHlcbiAgICBpZiAoIWJvZHkpIHtcbiAgICAgIHRoaXMuX2JvZHlUZXh0ID0gJydcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBib2R5ID09PSAnc3RyaW5nJykge1xuICAgICAgdGhpcy5fYm9keVRleHQgPSBib2R5XG4gICAgfSBlbHNlIGlmIChzdXBwb3J0LmJsb2IgJiYgQmxvYi5wcm90b3R5cGUuaXNQcm90b3R5cGVPZihib2R5KSkge1xuICAgICAgdGhpcy5fYm9keUJsb2IgPSBib2R5XG4gICAgfSBlbHNlIGlmIChzdXBwb3J0LmZvcm1EYXRhICYmIEZvcm1EYXRhLnByb3RvdHlwZS5pc1Byb3RvdHlwZU9mKGJvZHkpKSB7XG4gICAgICB0aGlzLl9ib2R5Rm9ybURhdGEgPSBib2R5XG4gICAgfSBlbHNlIGlmIChzdXBwb3J0LnNlYXJjaFBhcmFtcyAmJiBVUkxTZWFyY2hQYXJhbXMucHJvdG90eXBlLmlzUHJvdG90eXBlT2YoYm9keSkpIHtcbiAgICAgIHRoaXMuX2JvZHlUZXh0ID0gYm9keS50b1N0cmluZygpXG4gICAgfSBlbHNlIGlmIChzdXBwb3J0LmFycmF5QnVmZmVyICYmIHN1cHBvcnQuYmxvYiAmJiBpc0RhdGFWaWV3KGJvZHkpKSB7XG4gICAgICB0aGlzLl9ib2R5QXJyYXlCdWZmZXIgPSBidWZmZXJDbG9uZShib2R5LmJ1ZmZlcilcbiAgICAgIC8vIElFIDEwLTExIGNhbid0IGhhbmRsZSBhIERhdGFWaWV3IGJvZHkuXG4gICAgICB0aGlzLl9ib2R5SW5pdCA9IG5ldyBCbG9iKFt0aGlzLl9ib2R5QXJyYXlCdWZmZXJdKVxuICAgIH0gZWxzZSBpZiAoc3VwcG9ydC5hcnJheUJ1ZmZlciAmJiAoQXJyYXlCdWZmZXIucHJvdG90eXBlLmlzUHJvdG90eXBlT2YoYm9keSkgfHwgaXNBcnJheUJ1ZmZlclZpZXcoYm9keSkpKSB7XG4gICAgICB0aGlzLl9ib2R5QXJyYXlCdWZmZXIgPSBidWZmZXJDbG9uZShib2R5KVxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9ib2R5VGV4dCA9IGJvZHkgPSBPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoYm9keSlcbiAgICB9XG5cbiAgICBpZiAoIXRoaXMuaGVhZGVycy5nZXQoJ2NvbnRlbnQtdHlwZScpKSB7XG4gICAgICBpZiAodHlwZW9mIGJvZHkgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgIHRoaXMuaGVhZGVycy5zZXQoJ2NvbnRlbnQtdHlwZScsICd0ZXh0L3BsYWluO2NoYXJzZXQ9VVRGLTgnKVxuICAgICAgfSBlbHNlIGlmICh0aGlzLl9ib2R5QmxvYiAmJiB0aGlzLl9ib2R5QmxvYi50eXBlKSB7XG4gICAgICAgIHRoaXMuaGVhZGVycy5zZXQoJ2NvbnRlbnQtdHlwZScsIHRoaXMuX2JvZHlCbG9iLnR5cGUpXG4gICAgICB9IGVsc2UgaWYgKHN1cHBvcnQuc2VhcmNoUGFyYW1zICYmIFVSTFNlYXJjaFBhcmFtcy5wcm90b3R5cGUuaXNQcm90b3R5cGVPZihib2R5KSkge1xuICAgICAgICB0aGlzLmhlYWRlcnMuc2V0KCdjb250ZW50LXR5cGUnLCAnYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkO2NoYXJzZXQ9VVRGLTgnKVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIGlmIChzdXBwb3J0LmJsb2IpIHtcbiAgICB0aGlzLmJsb2IgPSBmdW5jdGlvbigpIHtcbiAgICAgIHZhciByZWplY3RlZCA9IGNvbnN1bWVkKHRoaXMpXG4gICAgICBpZiAocmVqZWN0ZWQpIHtcbiAgICAgICAgcmV0dXJuIHJlamVjdGVkXG4gICAgICB9XG5cbiAgICAgIGlmICh0aGlzLl9ib2R5QmxvYikge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMuX2JvZHlCbG9iKVxuICAgICAgfSBlbHNlIGlmICh0aGlzLl9ib2R5QXJyYXlCdWZmZXIpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShuZXcgQmxvYihbdGhpcy5fYm9keUFycmF5QnVmZmVyXSkpXG4gICAgICB9IGVsc2UgaWYgKHRoaXMuX2JvZHlGb3JtRGF0YSkge1xuICAgICAgICB0aHJvdyBuZXcgRXJyb3IoJ2NvdWxkIG5vdCByZWFkIEZvcm1EYXRhIGJvZHkgYXMgYmxvYicpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKG5ldyBCbG9iKFt0aGlzLl9ib2R5VGV4dF0pKVxuICAgICAgfVxuICAgIH1cblxuICAgIHRoaXMuYXJyYXlCdWZmZXIgPSBmdW5jdGlvbigpIHtcbiAgICAgIGlmICh0aGlzLl9ib2R5QXJyYXlCdWZmZXIpIHtcbiAgICAgICAgcmV0dXJuIGNvbnN1bWVkKHRoaXMpIHx8IFByb21pc2UucmVzb2x2ZSh0aGlzLl9ib2R5QXJyYXlCdWZmZXIpXG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gdGhpcy5ibG9iKCkudGhlbihyZWFkQmxvYkFzQXJyYXlCdWZmZXIpXG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgdGhpcy50ZXh0ID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIHJlamVjdGVkID0gY29uc3VtZWQodGhpcylcbiAgICBpZiAocmVqZWN0ZWQpIHtcbiAgICAgIHJldHVybiByZWplY3RlZFxuICAgIH1cblxuICAgIGlmICh0aGlzLl9ib2R5QmxvYikge1xuICAgICAgcmV0dXJuIHJlYWRCbG9iQXNUZXh0KHRoaXMuX2JvZHlCbG9iKVxuICAgIH0gZWxzZSBpZiAodGhpcy5fYm9keUFycmF5QnVmZmVyKSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHJlYWRBcnJheUJ1ZmZlckFzVGV4dCh0aGlzLl9ib2R5QXJyYXlCdWZmZXIpKVxuICAgIH0gZWxzZSBpZiAodGhpcy5fYm9keUZvcm1EYXRhKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ2NvdWxkIG5vdCByZWFkIEZvcm1EYXRhIGJvZHkgYXMgdGV4dCcpXG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUodGhpcy5fYm9keVRleHQpXG4gICAgfVxuICB9XG5cbiAgaWYgKHN1cHBvcnQuZm9ybURhdGEpIHtcbiAgICB0aGlzLmZvcm1EYXRhID0gZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy50ZXh0KCkudGhlbihkZWNvZGUpXG4gICAgfVxuICB9XG5cbiAgdGhpcy5qc29uID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMudGV4dCgpLnRoZW4oSlNPTi5wYXJzZSlcbiAgfVxuXG4gIHJldHVybiB0aGlzXG59XG5cbi8vIEhUVFAgbWV0aG9kcyB3aG9zZSBjYXBpdGFsaXphdGlvbiBzaG91bGQgYmUgbm9ybWFsaXplZFxudmFyIG1ldGhvZHMgPSBbJ0RFTEVURScsICdHRVQnLCAnSEVBRCcsICdPUFRJT05TJywgJ1BPU1QnLCAnUFVUJ11cblxuZnVuY3Rpb24gbm9ybWFsaXplTWV0aG9kKG1ldGhvZCkge1xuICB2YXIgdXBjYXNlZCA9IG1ldGhvZC50b1VwcGVyQ2FzZSgpXG4gIHJldHVybiBtZXRob2RzLmluZGV4T2YodXBjYXNlZCkgPiAtMSA/IHVwY2FzZWQgOiBtZXRob2Rcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIFJlcXVlc3QoaW5wdXQsIG9wdGlvbnMpIHtcbiAgb3B0aW9ucyA9IG9wdGlvbnMgfHwge31cbiAgdmFyIGJvZHkgPSBvcHRpb25zLmJvZHlcblxuICBpZiAoaW5wdXQgaW5zdGFuY2VvZiBSZXF1ZXN0KSB7XG4gICAgaWYgKGlucHV0LmJvZHlVc2VkKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdBbHJlYWR5IHJlYWQnKVxuICAgIH1cbiAgICB0aGlzLnVybCA9IGlucHV0LnVybFxuICAgIHRoaXMuY3JlZGVudGlhbHMgPSBpbnB1dC5jcmVkZW50aWFsc1xuICAgIGlmICghb3B0aW9ucy5oZWFkZXJzKSB7XG4gICAgICB0aGlzLmhlYWRlcnMgPSBuZXcgSGVhZGVycyhpbnB1dC5oZWFkZXJzKVxuICAgIH1cbiAgICB0aGlzLm1ldGhvZCA9IGlucHV0Lm1ldGhvZFxuICAgIHRoaXMubW9kZSA9IGlucHV0Lm1vZGVcbiAgICB0aGlzLnNpZ25hbCA9IGlucHV0LnNpZ25hbFxuICAgIGlmICghYm9keSAmJiBpbnB1dC5fYm9keUluaXQgIT0gbnVsbCkge1xuICAgICAgYm9keSA9IGlucHV0Ll9ib2R5SW5pdFxuICAgICAgaW5wdXQuYm9keVVzZWQgPSB0cnVlXG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHRoaXMudXJsID0gU3RyaW5nKGlucHV0KVxuICB9XG5cbiAgdGhpcy5jcmVkZW50aWFscyA9IG9wdGlvbnMuY3JlZGVudGlhbHMgfHwgdGhpcy5jcmVkZW50aWFscyB8fCAnc2FtZS1vcmlnaW4nXG4gIGlmIChvcHRpb25zLmhlYWRlcnMgfHwgIXRoaXMuaGVhZGVycykge1xuICAgIHRoaXMuaGVhZGVycyA9IG5ldyBIZWFkZXJzKG9wdGlvbnMuaGVhZGVycylcbiAgfVxuICB0aGlzLm1ldGhvZCA9IG5vcm1hbGl6ZU1ldGhvZChvcHRpb25zLm1ldGhvZCB8fCB0aGlzLm1ldGhvZCB8fCAnR0VUJylcbiAgdGhpcy5tb2RlID0gb3B0aW9ucy5tb2RlIHx8IHRoaXMubW9kZSB8fCBudWxsXG4gIHRoaXMuc2lnbmFsID0gb3B0aW9ucy5zaWduYWwgfHwgdGhpcy5zaWduYWxcbiAgdGhpcy5yZWZlcnJlciA9IG51bGxcblxuICBpZiAoKHRoaXMubWV0aG9kID09PSAnR0VUJyB8fCB0aGlzLm1ldGhvZCA9PT0gJ0hFQUQnKSAmJiBib2R5KSB7XG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQm9keSBub3QgYWxsb3dlZCBmb3IgR0VUIG9yIEhFQUQgcmVxdWVzdHMnKVxuICB9XG4gIHRoaXMuX2luaXRCb2R5KGJvZHkpXG59XG5cblJlcXVlc3QucHJvdG90eXBlLmNsb25lID0gZnVuY3Rpb24oKSB7XG4gIHJldHVybiBuZXcgUmVxdWVzdCh0aGlzLCB7Ym9keTogdGhpcy5fYm9keUluaXR9KVxufVxuXG5mdW5jdGlvbiBkZWNvZGUoYm9keSkge1xuICB2YXIgZm9ybSA9IG5ldyBGb3JtRGF0YSgpXG4gIGJvZHlcbiAgICAudHJpbSgpXG4gICAgLnNwbGl0KCcmJylcbiAgICAuZm9yRWFjaChmdW5jdGlvbihieXRlcykge1xuICAgICAgaWYgKGJ5dGVzKSB7XG4gICAgICAgIHZhciBzcGxpdCA9IGJ5dGVzLnNwbGl0KCc9JylcbiAgICAgICAgdmFyIG5hbWUgPSBzcGxpdC5zaGlmdCgpLnJlcGxhY2UoL1xcKy9nLCAnICcpXG4gICAgICAgIHZhciB2YWx1ZSA9IHNwbGl0LmpvaW4oJz0nKS5yZXBsYWNlKC9cXCsvZywgJyAnKVxuICAgICAgICBmb3JtLmFwcGVuZChkZWNvZGVVUklDb21wb25lbnQobmFtZSksIGRlY29kZVVSSUNvbXBvbmVudCh2YWx1ZSkpXG4gICAgICB9XG4gICAgfSlcbiAgcmV0dXJuIGZvcm1cbn1cblxuZnVuY3Rpb24gcGFyc2VIZWFkZXJzKHJhd0hlYWRlcnMpIHtcbiAgdmFyIGhlYWRlcnMgPSBuZXcgSGVhZGVycygpXG4gIC8vIFJlcGxhY2UgaW5zdGFuY2VzIG9mIFxcclxcbiBhbmQgXFxuIGZvbGxvd2VkIGJ5IGF0IGxlYXN0IG9uZSBzcGFjZSBvciBob3Jpem9udGFsIHRhYiB3aXRoIGEgc3BhY2VcbiAgLy8gaHR0cHM6Ly90b29scy5pZXRmLm9yZy9odG1sL3JmYzcyMzAjc2VjdGlvbi0zLjJcbiAgdmFyIHByZVByb2Nlc3NlZEhlYWRlcnMgPSByYXdIZWFkZXJzLnJlcGxhY2UoL1xccj9cXG5bXFx0IF0rL2csICcgJylcbiAgcHJlUHJvY2Vzc2VkSGVhZGVycy5zcGxpdCgvXFxyP1xcbi8pLmZvckVhY2goZnVuY3Rpb24obGluZSkge1xuICAgIHZhciBwYXJ0cyA9IGxpbmUuc3BsaXQoJzonKVxuICAgIHZhciBrZXkgPSBwYXJ0cy5zaGlmdCgpLnRyaW0oKVxuICAgIGlmIChrZXkpIHtcbiAgICAgIHZhciB2YWx1ZSA9IHBhcnRzLmpvaW4oJzonKS50cmltKClcbiAgICAgIGhlYWRlcnMuYXBwZW5kKGtleSwgdmFsdWUpXG4gICAgfVxuICB9KVxuICByZXR1cm4gaGVhZGVyc1xufVxuXG5Cb2R5LmNhbGwoUmVxdWVzdC5wcm90b3R5cGUpXG5cbmV4cG9ydCBmdW5jdGlvbiBSZXNwb25zZShib2R5SW5pdCwgb3B0aW9ucykge1xuICBpZiAoIW9wdGlvbnMpIHtcbiAgICBvcHRpb25zID0ge31cbiAgfVxuXG4gIHRoaXMudHlwZSA9ICdkZWZhdWx0J1xuICB0aGlzLnN0YXR1cyA9IG9wdGlvbnMuc3RhdHVzID09PSB1bmRlZmluZWQgPyAyMDAgOiBvcHRpb25zLnN0YXR1c1xuICB0aGlzLm9rID0gdGhpcy5zdGF0dXMgPj0gMjAwICYmIHRoaXMuc3RhdHVzIDwgMzAwXG4gIHRoaXMuc3RhdHVzVGV4dCA9ICdzdGF0dXNUZXh0JyBpbiBvcHRpb25zID8gb3B0aW9ucy5zdGF0dXNUZXh0IDogJ09LJ1xuICB0aGlzLmhlYWRlcnMgPSBuZXcgSGVhZGVycyhvcHRpb25zLmhlYWRlcnMpXG4gIHRoaXMudXJsID0gb3B0aW9ucy51cmwgfHwgJydcbiAgdGhpcy5faW5pdEJvZHkoYm9keUluaXQpXG59XG5cbkJvZHkuY2FsbChSZXNwb25zZS5wcm90b3R5cGUpXG5cblJlc3BvbnNlLnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbmV3IFJlc3BvbnNlKHRoaXMuX2JvZHlJbml0LCB7XG4gICAgc3RhdHVzOiB0aGlzLnN0YXR1cyxcbiAgICBzdGF0dXNUZXh0OiB0aGlzLnN0YXR1c1RleHQsXG4gICAgaGVhZGVyczogbmV3IEhlYWRlcnModGhpcy5oZWFkZXJzKSxcbiAgICB1cmw6IHRoaXMudXJsXG4gIH0pXG59XG5cblJlc3BvbnNlLmVycm9yID0gZnVuY3Rpb24oKSB7XG4gIHZhciByZXNwb25zZSA9IG5ldyBSZXNwb25zZShudWxsLCB7c3RhdHVzOiAwLCBzdGF0dXNUZXh0OiAnJ30pXG4gIHJlc3BvbnNlLnR5cGUgPSAnZXJyb3InXG4gIHJldHVybiByZXNwb25zZVxufVxuXG52YXIgcmVkaXJlY3RTdGF0dXNlcyA9IFszMDEsIDMwMiwgMzAzLCAzMDcsIDMwOF1cblxuUmVzcG9uc2UucmVkaXJlY3QgPSBmdW5jdGlvbih1cmwsIHN0YXR1cykge1xuICBpZiAocmVkaXJlY3RTdGF0dXNlcy5pbmRleE9mKHN0YXR1cykgPT09IC0xKSB7XG4gICAgdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ0ludmFsaWQgc3RhdHVzIGNvZGUnKVxuICB9XG5cbiAgcmV0dXJuIG5ldyBSZXNwb25zZShudWxsLCB7c3RhdHVzOiBzdGF0dXMsIGhlYWRlcnM6IHtsb2NhdGlvbjogdXJsfX0pXG59XG5cbmV4cG9ydCB2YXIgRE9NRXhjZXB0aW9uID0gc2VsZi5ET01FeGNlcHRpb25cbnRyeSB7XG4gIG5ldyBET01FeGNlcHRpb24oKVxufSBjYXRjaCAoZXJyKSB7XG4gIERPTUV4Y2VwdGlvbiA9IGZ1bmN0aW9uKG1lc3NhZ2UsIG5hbWUpIHtcbiAgICB0aGlzLm1lc3NhZ2UgPSBtZXNzYWdlXG4gICAgdGhpcy5uYW1lID0gbmFtZVxuICAgIHZhciBlcnJvciA9IEVycm9yKG1lc3NhZ2UpXG4gICAgdGhpcy5zdGFjayA9IGVycm9yLnN0YWNrXG4gIH1cbiAgRE9NRXhjZXB0aW9uLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoRXJyb3IucHJvdG90eXBlKVxuICBET01FeGNlcHRpb24ucHJvdG90eXBlLmNvbnN0cnVjdG9yID0gRE9NRXhjZXB0aW9uXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBmZXRjaChpbnB1dCwgaW5pdCkge1xuICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgdmFyIHJlcXVlc3QgPSBuZXcgUmVxdWVzdChpbnB1dCwgaW5pdClcblxuICAgIGlmIChyZXF1ZXN0LnNpZ25hbCAmJiByZXF1ZXN0LnNpZ25hbC5hYm9ydGVkKSB7XG4gICAgICByZXR1cm4gcmVqZWN0KG5ldyBET01FeGNlcHRpb24oJ0Fib3J0ZWQnLCAnQWJvcnRFcnJvcicpKVxuICAgIH1cblxuICAgIHZhciB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKVxuXG4gICAgZnVuY3Rpb24gYWJvcnRYaHIoKSB7XG4gICAgICB4aHIuYWJvcnQoKVxuICAgIH1cblxuICAgIHhoci5vbmxvYWQgPSBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBvcHRpb25zID0ge1xuICAgICAgICBzdGF0dXM6IHhoci5zdGF0dXMsXG4gICAgICAgIHN0YXR1c1RleHQ6IHhoci5zdGF0dXNUZXh0LFxuICAgICAgICBoZWFkZXJzOiBwYXJzZUhlYWRlcnMoeGhyLmdldEFsbFJlc3BvbnNlSGVhZGVycygpIHx8ICcnKVxuICAgICAgfVxuICAgICAgb3B0aW9ucy51cmwgPSAncmVzcG9uc2VVUkwnIGluIHhociA/IHhoci5yZXNwb25zZVVSTCA6IG9wdGlvbnMuaGVhZGVycy5nZXQoJ1gtUmVxdWVzdC1VUkwnKVxuICAgICAgdmFyIGJvZHkgPSAncmVzcG9uc2UnIGluIHhociA/IHhoci5yZXNwb25zZSA6IHhoci5yZXNwb25zZVRleHRcbiAgICAgIHJlc29sdmUobmV3IFJlc3BvbnNlKGJvZHksIG9wdGlvbnMpKVxuICAgIH1cblxuICAgIHhoci5vbmVycm9yID0gZnVuY3Rpb24oKSB7XG4gICAgICByZWplY3QobmV3IFR5cGVFcnJvcignTmV0d29yayByZXF1ZXN0IGZhaWxlZCcpKVxuICAgIH1cblxuICAgIHhoci5vbnRpbWVvdXQgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJlamVjdChuZXcgVHlwZUVycm9yKCdOZXR3b3JrIHJlcXVlc3QgZmFpbGVkJykpXG4gICAgfVxuXG4gICAgeGhyLm9uYWJvcnQgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJlamVjdChuZXcgRE9NRXhjZXB0aW9uKCdBYm9ydGVkJywgJ0Fib3J0RXJyb3InKSlcbiAgICB9XG5cbiAgICB4aHIub3BlbihyZXF1ZXN0Lm1ldGhvZCwgcmVxdWVzdC51cmwsIHRydWUpXG5cbiAgICBpZiAocmVxdWVzdC5jcmVkZW50aWFscyA9PT0gJ2luY2x1ZGUnKSB7XG4gICAgICB4aHIud2l0aENyZWRlbnRpYWxzID0gdHJ1ZVxuICAgIH0gZWxzZSBpZiAocmVxdWVzdC5jcmVkZW50aWFscyA9PT0gJ29taXQnKSB7XG4gICAgICB4aHIud2l0aENyZWRlbnRpYWxzID0gZmFsc2VcbiAgICB9XG5cbiAgICBpZiAoJ3Jlc3BvbnNlVHlwZScgaW4geGhyICYmIHN1cHBvcnQuYmxvYikge1xuICAgICAgeGhyLnJlc3BvbnNlVHlwZSA9ICdibG9iJ1xuICAgIH1cblxuICAgIHJlcXVlc3QuaGVhZGVycy5mb3JFYWNoKGZ1bmN0aW9uKHZhbHVlLCBuYW1lKSB7XG4gICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcihuYW1lLCB2YWx1ZSlcbiAgICB9KVxuXG4gICAgaWYgKHJlcXVlc3Quc2lnbmFsKSB7XG4gICAgICByZXF1ZXN0LnNpZ25hbC5hZGRFdmVudExpc3RlbmVyKCdhYm9ydCcsIGFib3J0WGhyKVxuXG4gICAgICB4aHIub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIC8vIERPTkUgKHN1Y2Nlc3Mgb3IgZmFpbHVyZSlcbiAgICAgICAgaWYgKHhoci5yZWFkeVN0YXRlID09PSA0KSB7XG4gICAgICAgICAgcmVxdWVzdC5zaWduYWwucmVtb3ZlRXZlbnRMaXN0ZW5lcignYWJvcnQnLCBhYm9ydFhocilcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cblxuICAgIHhoci5zZW5kKHR5cGVvZiByZXF1ZXN0Ll9ib2R5SW5pdCA9PT0gJ3VuZGVmaW5lZCcgPyBudWxsIDogcmVxdWVzdC5fYm9keUluaXQpXG4gIH0pXG59XG5cbmZldGNoLnBvbHlmaWxsID0gdHJ1ZVxuXG5pZiAoIXNlbGYuZmV0Y2gpIHtcbiAgc2VsZi5mZXRjaCA9IGZldGNoXG4gIHNlbGYuSGVhZGVycyA9IEhlYWRlcnNcbiAgc2VsZi5SZXF1ZXN0ID0gUmVxdWVzdFxuICBzZWxmLlJlc3BvbnNlID0gUmVzcG9uc2Vcbn1cblxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi93aGF0d2ctZmV0Y2gvZmV0Y2guanNcbi8vIG1vZHVsZSBpZCA9IDU1XG4vLyBtb2R1bGUgY2h1bmtzID0gMCJdLCJzb3VyY2VSb290IjoiIn0=