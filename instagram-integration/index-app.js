/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// identity function for calling harmony imports with the correct context
/******/ 	__webpack_require__.i = function(value) { return value; };
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, {
/******/ 				configurable: false,
/******/ 				enumerable: true,
/******/ 				get: getter
/******/ 			});
/******/ 		}
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = 56);
/******/ })
/************************************************************************/
/******/ ([
/* 0 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
var CONST = exports.CONST = {
    url: {
        tmTypes: {
            followingT: 'FOLLOWING',
            followingSubT: ['FOLLOWING_BY_LIST', 'FOLLOWING_BY_ACTIVE_AUDIENCE'],
            unfollowingT: 'UNFOLLOWING',
            unfollowingSubT: ['UNFOLLOWING_BY_LIST', 'UNFOLLOWING_BY_ALL', 'UNFOLLOWING_BY_NON_RECIPROCAL'],
            chatBotT: 'CHAT_BOT',
            chatBotSubT: ['DEFAULT_CHAT_BOT'],
            automessagesT: 'AUTO_ANSWER',
            automessagesSubT: ['DEFAULT_AUTO_ANSWER'],
            autogreetT: 'AUTO_GREETING',
            autogreetSubT: ['DEFAULT_AUTO_GREETING'],
            storiesT: 'STORIES',
            storiesSubT: ['STORIES_BY_LIST', 'STORIES_BY_FOLLOWERS', 'STORIES_BY_ACTIVE_AUDIENCE'],
            autocommentsT: 'AUTO_COMMENT',
            autocommentsSubT: ['DEFAULT_AUTO_COMMENT']
        },
        base: 'http://api.luxgram.ru/v1/',
        registration: 'registration/basic/',
        login: 'registration/basic/login',
        confirmation: 'registration/basic/confirmation?token',

        // -------------------------
        instagram_addAccount: 'instagram-accounts/',
        instagramAccount_getMetaData: 'instagram-accounts/meta',
        instagram_getAccountByUser: function instagram_getAccountByUser(username) {
            return 'instagram-accounts/meta/' + username;
        },
        instagram_modifyAccount: function instagram_modifyAccount(username) {
            return 'instagram-accounts/' + username;
        },
        instagramTaskManager_getPosts: function instagramTaskManager_getPosts(accountName) {
            return 'instagram-accounts/' + accountName + '/posts';
        },

        // -instagram-accounts------------------------
        instagramAccount_checkpoint: 'instagram-accounts/checkpoint/',
        instagramAccount_confirmKey: 'instagram-accounts/checkpoint/',

        // -instagram-direct------------------------
        instagramDirect_Basic: 'instagram-direct',
        instagramDirect_postMessage: 'instagram-direct/',
        instagramDirect_getMetaData: 'instagram-direct/meta',
        instagramDirect_RequestPending: 'instagram-direct/pending',
        // http://api.luxgram.ru/v1/instagram-direct/{username}/{id}/photo

        // -instagram-task-manager------------------------
        instagramTaskManager: 'instagram-task-manager/',
        instagramTaskManager_getMetaData: 'instagram-task-manager/meta',
        instagramTaskManager_getTaskByTypes: 'instagram-task-manager/meta/type/',
        // --------------
        instagramTaskManager_getDefaultConfigs: 'instagram-task-manager/config/type', // {TYPE}/subtype/{SUBTYPE}
        // --------------
        instagramTaskManager_postStartFollowingList: 'instagram-task-manager/task',
        instagramTaskManager_postStartTask: 'instagram-task-manager/task',
        instagramTaskManager_getTaskTypes: 'instagram-task-manager/task/types',
        instagramTaskManager_putStopTaskByID: function instagramTaskManager_putStopTaskByID(id) {
            return 'instagram-task-manager/task/' + id;
        },
        instagramTaskManager_delRemoveTaskByID: function instagramTaskManager_delRemoveTaskByID(id) {
            return 'instagram-task-manager/task/' + id;
        },
        instagramTaskManager_postImageAttachment: 'instagram-task-manager/task/attachment/image',
        instagramTaskManager_postTextAttachment: 'instagram-task-manager/task/attachment/users_list',
        instagramTaskManager_getLogsChatBot: 'instagram-task-manager/logs/type/' // {TYPE}/subtype/{SUBTYPE}/account/{username}?page={page}
    },
    user: {
        defaulAvatar: 'https://i.imgur.com/jNNT4LE.png', // todo: get from designer
        email: '',
        password: '',
        token: ''
    },
    cookieStorage: {
        token: 'user_logged',
        emailConfirmed: 'email_confirmed'
    },
    uiSelectors: {
        headerLoginBox: 'nav .login-box',
        headerNavLoginBtn: 'nav ul li .js_login',
        headerRegBox: 'nav .register-box',
        headerRegBtn: 'nav ul li .js_register',
        instagram: {
            addAccountBtnSelector: '#js_show-login-box',
            addAccountBtnId: 'js_show-login-box'
        }
    },
    events: {
        USER_LOGGED: 'user_logged',
        USER_LOGOUT: 'user_logout',
        USER_EMAIL_CONFIRMED: 'user_email_confirmed',
        STOP_FIXED_SPINNER: 'stop_fixed_spinner',
        messages: {
            RECIEVE_NEW_MESSAGE: 'receive_new_message'
        },
        instagramAccouns: {
            INSTAGRAM_ACCOUNS_NEED_REFRESH: 'instagram_accouns_need_refresh',
            INSTAGRAM_ACCOUNS_RENDERED: 'instagram_accouns_rendered',
            INSTAGRAM_ACCOUNS_RENDERED_LAZY: 'instagram_accouns_rendered_lazy'
        },
        modal: {
            IMAGE_POST_SELECTED: 'image_post_selected',
            IMAGE_UPLOADED_AVATAR: 'IMAGE_UPLOADED_AVATAR'
        },
        autoarnswer: {
            IMAGE_UPLOADED: 'image_loaded',
            TEXT_FILE_UPLOADED: 'text_file_uploaded'
        },
        tasks: {
            NEW_TASK_CREATED: 'new_task_created'
        },
        logs: {
            STOP_LOGS: 'stop_logs'
        }
    },
    logsState: {
        selectCls: 'js_logs-accounts',
        selectClsLogsTaskType: 'js_logs-subtypes',
        wrapperSubtype: '.log-subype'
    },
    getPath: function getPath(name, id) {
        if (typeof this.url[name] === 'function' && id) {
            return this.url.base + this.url[name](id);
        }
        return this.url.base + this.url[name];
    },
    getPathTypeSubtype: function getPathTypeSubtype(name, path, page) {
        var type = path.type,
            subtype = path.subtype,
            username = path.username;

        if (typeof this.url[name] === 'function' && type && subtype) {
            if (username && page) {
                return this.url.base + this.url[name](path, page);
            }
            if (username) {
                return this.url.base + this.url[name](path);
            }
            return this.url.base + this.url[name](type, subtype);
        }
        return this.url.base + this.url[name];
    },
    getPathByArr: function getPathByArr(name, array, page) {
        var base = this.url.base + this.url[name];
        var reducer = function reducer(accumulator, currentValue) {
            return accumulator + '/' + currentValue;
        };
        var url = base + array.reduce(reducer); // ${type}/subtype/${subtype}
        // console.log(url);
        if (page) {
            return url + '?page=' + page;
        }
        return url;
    }
};

/***/ }),
/* 1 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
// import $ from 'jquery';
// import {CONST} from './consts';

function viewUtils() {
    function showInfoMessage(selector, message1, message2) {
        $(selector).empty().append('' + (message1 ? '<p>status: ' + message1 + '</p>' : '')).append('<p>' + message2 + ' </p>');
    }

    function fillList($list, dataArray) {
        var items = dataArray;
        var cList = $list;
        cList.empty();
        items.forEach(function (item, i) {
            var li = $('<li class="list-group-item"></li>').appendTo(cList);
            $('<a/>').addClass('ui-all').text(item.username).appendTo(li);
        });
    }

    function isEmail(email) {
        /* eslint-disable */
        var regex = /^([a-zA-Z0-9_.+-])+\@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/;
        return regex.test(email);
        /* eslint-enable */
    }

    function getFormattedDateUtil(tStamp, showFullTime) {
        var date = new Date(tStamp);

        var month = date.getMonth() + 1;
        var day = date.getDate();
        var hour = date.getHours();
        var min = date.getMinutes();
        // let sec = date.getSeconds();

        month = (month < 10 ? '0' : '') + month;
        day = (day < 10 ? '0' : '') + day;
        hour = (hour < 10 ? '0' : '') + hour;
        min = (min < 10 ? '0' : '') + min;
        // sec = (sec < 10 ? '0' : '') + sec;

        var str = '';
        if (!showFullTime) {
            str = hour + ':' + min;
        } else {
            // str = `${date.getFullYear()}-${month}-${day} ${hour}:${min}:${sec}`;
            str = day + '-' + month + '-' + date.getFullYear() + ' ' + hour + ':' + min;
        }

        return str;
    }

    function isEmpty(obj) {
        return !obj || Object.keys(obj).length === 0;
    }

    function fillRadioGroupList($wrapper, taskModes, _actionText) {
        if (isEmpty(taskModes)) {
            console.info('taskModes is empty');
        }
        var actionText = _actionText || 'подписок'; // todo
        var radioBtnReducer = function radioBtnReducer(item, val) {
            switch (item) {
                case 'AGGRESSIVE':
                    return '<input type="radio" id="' + item + '" name="customRadio" value="' + item + '" class="custom-control-input">\n                    <label class="custom-control-label" for="' + item + '"><strong>\u0410\u0433\u0440\u0435\u0441\u0441\u0438\u0432\u043D\u044B\u0439:</strong> ' + val + ' ' + actionText + ' \u0432 \u0447\u0430\u0441</label>';
                case 'MIDDLE':
                    return '<input type="radio" id="' + item + '" name="customRadio" value="' + item + '" class="custom-control-input">\n                    <label class="custom-control-label" for="' + item + '"><strong>\u0421\u0440\u0435\u0434\u043D\u0438\u0439:</strong> ' + val + ' ' + actionText + ' \u0432 \u0447\u0430\u0441</label>';
                case 'SAFE':
                    return '<input type="radio" id="' + item + '" name="customRadio" value="' + item + '" class="custom-control-input" checked>\n                    <label class="custom-control-label" for="' + item + '"><strong>\u0411\u0435\u0437\u043E\u043F\u0430\u0441\u043D\u044B\u0439:</strong> ' + val + ' ' + actionText + ' \u0432 \u0447\u0430\u0441</label>';
                default:
                    console.log('default', item);
            }
        };
        // console.log('draw speed radioBtn');
        $wrapper.empty();
        for (var item in taskModes) {
            // console.log('structure: ' + item);
            if (Object.prototype.hasOwnProperty.call(taskModes, item)) {
                $('<div class="custom-control custom-radio">\n                ' + radioBtnReducer(item, taskModes[item]) + '\n            </div>').appendTo($wrapper);
            }
        }
    }

    function getValByCommaSeparator($el) {
        return $el.val().trim().split(',').map(function (i) {
            return i.trim().replace('↵', '');
        }).filter(function (i) {
            return i.length > 0;
        });
    }

    /**
     * cfg ={ logsState, cbFN() }
     */
    function addDropdown($wrapper, items, cfg) {
        var textRusArray = cfg.textRusArray,
            logsState = cfg.logsState;
        var selectClsLogsTaskType = logsState.selectClsLogsTaskType;

        var label = 'Выберите тип';
        var getRus = function getRus(idx) {
            var isTextUnfollow = textRusArray && !!textRusArray.length;
            switch (idx) {
                case 0:
                    return isTextUnfollow ? textRusArray[idx] : 'По подписчикам';
                case 1:
                    return isTextUnfollow ? textRusArray[idx] : 'По активной аудитории конкурентов';
                case 2:
                    return isTextUnfollow ? textRusArray[idx] : 'default - (3)';
                default:
                    return 'default';
            }
        };
        $wrapper.empty().addClass('border-light-color');
        $('<div class="">' + label + '</div><select name="task-subtype" class="' + selectClsLogsTaskType + '"></select>').appendTo($wrapper);
        if (!items.length) {
            return;
        }
        if (cfg.isRenderEmptyOption) {
            $('<option class="list-group-item py-2 js_empty-subtype" value="---">---</option>').appendTo($('.' + selectClsLogsTaskType));
        }
        items.forEach(function (name, idx) {
            $('<option class="list-group-item py-2" value="' + name + '">\n                ' + getRus(idx) + '\n            </option>').appendTo($('.' + selectClsLogsTaskType));
        });
        if (cfg.dropdownOnSelectCb) {
            $('.' + selectClsLogsTaskType).on('change', function () {
                cfg.dropdownOnSelectCb();
            });
        }
    }

    return {
        showInfoMessage: showInfoMessage,
        fillList: fillList,
        fillRadioGroupList: fillRadioGroupList,
        isEmail: isEmail,
        getFormattedDateUtil: getFormattedDateUtil,
        getValByCommaSeparator: getValByCommaSeparator,
        addDropdown: addDropdown
    };
}

exports.default = viewUtils();

/***/ }),
/* 2 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); // import $ from 'jquery';


var _consts = __webpack_require__(0);

var _network = __webpack_require__(16);

var _network2 = _interopRequireDefault(_network);

var _cookie = __webpack_require__(4);

var _cookie2 = _interopRequireDefault(_cookie);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var objToArr = function objToArr(obj) {
    if (obj && obj.subtype) {
        if (!obj.subtype.includes('subtype/')) {
            obj.subtype = 'subtype/' + obj.subtype;
        }
    }
    return Object.values(obj);
};

var UserTaskManager = function () {
    function UserTaskManager() {
        _classCallCheck(this, UserTaskManager);

        this.network = new _network2.default();
        this.cookieStorage = _cookie2.default;
        this.settingPost = {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
                'Accept': 'application/json'
            }
        };
        this.postStartFollowingList = this.postStartFollowingList;
        this.postStartTask = this.postStartTask;
    }

    // isLoggedIn() {
    //     return !!this.getToken();
    // }
    //
    // isEmailConfirmed() {
    //     return (this.cookieStorage.get(CONST.cookieStorage.emailConfirmed) === 'confirmed');
    // }


    _createClass(UserTaskManager, [{
        key: 'getToken',
        value: function getToken(asHeader) {
            var cookieToken = this.cookieStorage.get(_consts.CONST.cookieStorage.token);
            return asHeader ? { headers: { token: cookieToken } } : cookieToken;
        }
    }, {
        key: 'getMetadata',
        value: function getMetadata(path, cbError) {
            var pathArr = objToArr(path);
            return this.network.sendRequest('' + _consts.CONST.getPathByArr('instagramTaskManager_getTaskByTypes', pathArr), this.getToken('asHeader'), cbError);
        }
    }, {
        key: 'getMetadataLazy',
        value: function getMetadataLazy(path, cbError) {
            var pathArr = objToArr(path);
            pathArr.push('?lazy=true');
            return this.network.sendRequest('' + _consts.CONST.getPathByArr('instagramTaskManager_getTaskByTypes', pathArr), this.getToken('asHeader'), cbError);
        }
    }, {
        key: 'getTaskTypes',
        value: function getTaskTypes(details, cbError) {
            return this.network.sendRequest('' + _consts.CONST.getPath('instagramTaskManager_getTaskTypes'), this.getToken('asHeader'), cbError);
        }
    }, {
        key: 'stopTaskByID',
        value: function stopTaskByID(taskId, cbError) {
            var setting = _extends({}, this.settingPost, {
                method: 'PUT',
                headers: _extends({}, this.settingPost.headers, {
                    'token': this.getToken()
                })
            });
            var url = _consts.CONST.getPath('instagramTaskManager_putStopTaskByID', taskId);
            return this.network.sendRequest(url, setting, cbError);
        }
    }, {
        key: 'deleteTaskByID',
        value: function deleteTaskByID(taskId, cbError) {
            var setting = _extends({}, this.settingPost, {
                method: 'DELETE',
                headers: _extends({}, this.settingPost.headers, {
                    'token': this.getToken()
                })
            });
            var url = _consts.CONST.getPath('instagramTaskManager_delRemoveTaskByID', taskId);
            return this.network.sendRequest(url, setting, cbError);
        }
    }, {
        key: 'getDefaultConfigs',
        value: function getDefaultConfigs(path, cbError) {
            var url = _consts.CONST.getPath('instagramTaskManager_getDefaultConfigs') + '/' + path.type + '/subtype/' + path.subtype;
            return this.network.sendRequest(url, this.getToken('asHeader'), cbError);
        }
    }, {
        key: 'postStartFollowingList',
        value: function postStartFollowingList(body, cbError, path) {
            var setting = _extends({}, this.settingPost, {
                headers: _extends({}, this.settingPost.headers, {
                    'token': this.getToken(),
                    'X-Auth-Token': 'e2f4336abea440489c51c5c10294ea12'
                })
            });
            setting.body = JSON.stringify(body);
            var url = path ? '' + _consts.CONST.getPath(path) : '' + _consts.CONST.getPath('instagramTaskManager_postStartFollowingList');

            return this.network.sendRequest(url, setting, cbError);
        }
    }, {
        key: 'postStartTask',
        value: function postStartTask(body, cbError) {
            var path = 'instagramTaskManager_postStartTask';
            return this.postStartFollowingList(body, cbError, path);
        }
    }, {
        key: 'postStartComments',
        value: function postStartComments(body, cbError) {
            var path = 'instagramTaskManager_postStartTask';
            return this.postStartFollowingList(body, cbError, path);
        }
    }, {
        key: 'postImageAutomessages',
        value: function postImageAutomessages(body, cbError) {
            var setting = {
                method: 'POST',
                headers: {
                    'token': this.getToken(),
                    'Accept': 'application/json',
                    'Content-type': 'multipart/form-data'
                }
            };
            setting.body = JSON.stringify(body);
            var url = '' + _consts.CONST.getPath('instagramTaskManager_postImageAttachment');

            return this.network.sendRequest(url, setting, cbError);
        }
    }, {
        key: 'getLogsChatBot',
        value: function getLogsChatBot(pathArray, page, cbError) {
            // const pathArr = objToArr(path);
            // console.log('convert path as ARR', pathArray, page);
            return this.network.sendRequest('' + _consts.CONST.getPathByArr('instagramTaskManager_getLogsChatBot', pathArray, page), this.getToken('asHeader'), cbError);
        }
    }, {
        key: 'getPostsAutomessages',
        value: function getPostsAutomessages(details, cbError) {
            var cursor = details.cursor ? '?cursor=' + details.cursor : '';
            // eslint-disable-next-line no-param-reassign
            var urlByUserName = '' + _consts.CONST.getPath('instagramTaskManager_getPosts', details.userName || 'user_not_selected') + cursor;
            return this.network.sendRequest(urlByUserName, this.getToken('asHeader'), cbError);
        }
    }, {
        key: 'getStoriesConfig',
        value: function getStoriesConfig(path, cbError) {
            var url = _consts.CONST.getPath('instagramTaskManager_getDefaultConfigs') + '/' + path.type + '/subtype/' + path.subtype;
            return this.network.sendRequest(url, this.getToken('asHeader'), cbError);
        }
    }]);

    return UserTaskManager;
}();

var userInstance = null;

if (!userInstance) {
    userInstance = new UserTaskManager();
}

exports.default = userInstance;

/***/ }),
/* 3 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); // import $ from 'jquery';


var _consts = __webpack_require__(0);

var _network = __webpack_require__(16);

var _network2 = _interopRequireDefault(_network);

var _cookie = __webpack_require__(4);

var _cookie2 = _interopRequireDefault(_cookie);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var User = function () {
    function User() {
        _classCallCheck(this, User);

        this.network = new _network2.default();
        this.cookieStorage = _cookie2.default;
        this.settingPost = {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
                'Accept': 'application/json'
            }
        };
    }

    _createClass(User, [{
        key: 'isLoggedIn',
        value: function isLoggedIn() {
            return !!this.getToken();
        }
    }, {
        key: 'isEmailConfirmed',
        value: function isEmailConfirmed() {
            return this.cookieStorage.get(_consts.CONST.cookieStorage.emailConfirmed) === 'confirmed';
        }
    }, {
        key: 'getToken',
        value: function getToken(asHeader) {
            var cookieToken = this.cookieStorage.get(_consts.CONST.cookieStorage.token);
            return asHeader ? { headers: { token: cookieToken } } : cookieToken;
        }
    }, {
        key: 'login',
        value: function login(formData, cbError) {
            var setting = _extends({}, this.settingPost, { body: JSON.stringify(formData) });
            return this.network.sendRequest(_consts.CONST.getPath('login'), setting, cbError);
        }
    }, {
        key: 'addInstagramAccount',
        value: function addInstagramAccount(formData, cbError) {
            var username = formData.username,
                password = formData.password,
                ip = formData.ip,
                port = formData.port,
                usernameProxy = formData.usernameProxy,
                passwordProxy = formData.passwordProxy;

            // TODO: del proxyTMP after beta-testing

            var proxyTMP = {
                'proxy': {
                    'host': ip,
                    port: port,
                    username: usernameProxy,
                    password: passwordProxy
                }
            };
            var body = JSON.stringify(_extends({ username: username,
                password: password
            }, proxyTMP));
            var setting = _extends({}, this.settingPost, {
                body: body,
                headers: _extends({}, this.settingPost.headers, {
                    token: this.getToken()
                })
            });

            return this.network.sendRequest(_consts.CONST.getPath('instagram_addAccount'), setting, cbError);
        }
    }, {
        key: 'editInstagramAccount',
        value: function editInstagramAccount(username, body) {
            var setting = {
                method: 'PUT',
                headers: _extends({}, this.settingPost.headers, {
                    'token': this.getToken()
                }),
                body: body
            };
            var url = '' + _consts.CONST.getPath('instagram_modifyAccount', username);
            console.log(url);
            return this.network.sendRequest('' + _consts.CONST.getPath('instagram_modifyAccount', username), setting);
        }
    }, {
        key: 'updateInstagramAccount',
        value: function updateInstagramAccount(username, body) {
            var setting = {
                headers: _extends({}, this.settingPost.headers, {
                    'token': this.getToken()
                }),
                body: body
            };
            // const url = `${CONST.getPath('instagram_modifyAccount', username)}`;
            // console.log(url);
            return this.network.sendRequest('' + _consts.CONST.getPath('instagram_getAccountByUser', username), setting);
        }
    }, {
        key: 'delInstagramAccount',
        value: function delInstagramAccount(username) {
            var setting = {
                method: 'DELETE',
                headers: _extends({}, this.settingPost.headers, {
                    'token': this.getToken()
                })
            };
            return this.network.sendRequest('' + _consts.CONST.getPath('instagram_modifyAccount', username), setting);
        }

        // getInstagramAccount() {
        //     const setting = {
        //         ...this.settingPost,
        //         method: 'GET',
        //         headers: {
        //             ...this.settingPost.headers,
        //             token: this.getToken()
        //         }
        //     };
        //     return this.network.sendRequest(CONST.getPath('instagram_addAccount'), setting);
        // }

    }, {
        key: 'confirm',
        value: function confirm(token) {
            // const confirmUrl = CONST.getPath('confirmation');
            return this.network.sendRequest('' + (_consts.CONST.getPath('confirmation') + token));
        }
    }, {
        key: 'register',
        value: function register(formData) {
            var setting = _extends({}, this.settingPost, {
                body: JSON.stringify(formData)
            });
            return this.network.sendRequest(_consts.CONST.getPath('registration'), setting);
        }

        // todo: move to account-list

    }, {
        key: 'getMetadata',
        value: function getMetadata(cbError) {
            return this.network.sendRequest('' + _consts.CONST.getPath('instagramAccount_getMetaData'), this.getToken('asHeader'), cbError);
        }
    }, {
        key: 'getMetadataLazy',
        value: function getMetadataLazy(cbError) {
            return this.network.sendRequest(_consts.CONST.getPath('instagramAccount_getMetaData') + '?lazy=true', this.getToken('asHeader'), cbError);
        }
    }, {
        key: 'getSecurityKey',
        value: function getSecurityKey(username, checkpointType) {
            var setting = _extends({}, this.settingPost, {
                body: JSON.stringify({ 'type': checkpointType }), // todo: tmp set, it should be 'type'
                headers: _extends({}, this.settingPost.headers, {
                    'token': this.getToken()
                })
            });
            return this.network.sendRequest('' + _consts.CONST.getPath('instagramAccount_checkpoint') + username, setting);
        }
    }, {
        key: 'confirmSecurityKey',
        value: function confirmSecurityKey(key, username) {
            var setting = {
                method: 'DELETE',
                body: JSON.stringify({ 'security_code': key }),
                headers: _extends({}, this.settingPost.headers, {
                    'token': this.getToken()
                })
            };
            return this.network.sendRequest('' + _consts.CONST.getPath('instagramAccount_confirmKey') + username, setting);
        }
    }]);

    return User;
}();

var userInstance = null;

if (!userInstance) {
    userInstance = new User();
}

exports.default = userInstance;

/***/ }),
/* 4 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"]) _i["return"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError("Invalid attempt to destructure non-iterable instance"); } }; }();

var CookieSrv = {
    get: function get(name) {
        var c = document.cookie.match('(?:(?:^|.*; *)' + name + ' *= *([^;]*).*$)|^.*$')[1];
        if (c) {
            return decodeURIComponent(c);
        }
    },
    set: function set(name, value) {
        var opts = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : { path: '/', days: 365 };

        if (opts.days) {
            opts['max-age'] = opts.days * 60 * 60 * 24;
            delete opts.days;
        }
        // eslint-disable-next-line no-param-reassign
        opts = Object.entries(opts).reduce(function (str, _ref) {
            var _ref2 = _slicedToArray(_ref, 2),
                k = _ref2[0],
                v = _ref2[1];

            return str + '; ' + k + '=' + v;
        }, '');
        document.cookie = name + '=' + (encodeURIComponent(value) + opts);
    },
    remove: function remove(name, opts) {
        return CookieSrv.set(name, '', _extends({ 'max-age': -1, path: '/', days: 0 }, opts)
        // path & domain must match cookie being deleted
        );
    } };

/*
class CookieStorage {
    read(key) {
        const value = $.cookie(key);
        return value === undefined ? null : value;
    }

    setCookie(name, value, days) {
        let expires = '';
        if (days) {
            const date = new Date();
            date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));
            expires = `; expires=${date.toUTCString()}`;
        }
        document.cookie = `${name} =${(value || '') + expires}; path=/`;
    }

    getCookie(name) {
        const value = `; ${document.cookie}`;
        const parts = value.split(`; ${name}=`);
        if (parts.length == 2) {
            return parts.pop().split(';').shift();
        }
    }
}
*/

exports.default = CookieSrv;

/***/ }),
/* 5 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.getTasksData = getTasksData;
exports.init = init;

var _apiTaskManager = __webpack_require__(2);

var _apiTaskManager2 = _interopRequireDefault(_apiTaskManager);

var _view = __webpack_require__(1);

var _view2 = _interopRequireDefault(_view);

var _consts = __webpack_require__(0);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var modeRus = function modeRus(mode) {
    switch (mode) {
        case 'AGGRESSIVE':
            return 'Агрессивный';
        case 'MIDDLE':
            return 'Средний';
        case 'SAFE':
            return ' Безопасный';
        default:
            break;
    }
};

function fillListByState(taskState, $list, item) {
    var progress = item.progress,
        created_at = item.created_at,
        task_id = item.task_id,
        type = item.type,
        status = item.status,
        username = item.username,
        mode = item.mode;

    var addItem = function addItem(tplStop) {
        $('<li class="list-group-item p-0 py-2" data-type="' + type + '" data-task-id="' + task_id + '">\n                ' + tplStop + '\n            </li>').appendTo($list);
    };
    var tplPaused = '<div class="card-block">\n        <h4 class="card-title">\u041D\u0430 \u043F\u0430\u0443\u0437\u0435</h4>\n        <div class="text-right">\n            ' + (progress && progress.timestamp ? '<span class="text-muted">' + _view2.default.getFormattedDateUtil(progress.timestamp) + '</span>' : '') + '\n            ' + (created_at ? '<span class="text-muted">' + _view2.default.getFormattedDateUtil(created_at) + '</span>' : '') + '\n        </div>\n        <span class="text-success">10%</span>\n        <div class="progress mb-3">\n            <div class="progress-bar bg-success" role="progressbar" style="width: 10%; height: 6px;" aria-valuenow="25" aria-valuemin="0" aria-valuemax="100"></div>\n        </div>\n        <button class="btn btn-warning js_btn-delete-task">\u0423\u0434\u0430\u043B\u0438\u0442\u044C</button>';
    var tplProgress = '<div class="no-gutters px-2 row task-progress">\n            <div class="col-6 align-items-center d-flex">\n                <img src="' + sessionStorage.getItem(username) + '" class="rounded-circle avatar" alt="\u0430\u0432\u0430\u0442\u0430\u0440"/>\n                <h2 class="mt-0 mb-1 ml-2">' + username + '</h2>\n            </div>\n            <div class="col-6 col-6--with-borders">\n                <p class="pb-1 name"><b>ID:</b> ' + task_id + '</p>\n                ' + (created_at ? '<p class="pb-1"><b>\u0417\u0430\u043F\u0443\u0449\u0435\u043D\u043E:</b> ' + _view2.default.getFormattedDateUtil(created_at, 'showFullTime') + '</p>' : '') + '\n                ' + (mode ? '<p class="pb-1"><b>\u0420\u0435\u0436\u0438\u043C:</b> ' + modeRus(mode) + '</p>' : '') + '\n                <div class="text-center">\n                    <button class="btn btn-outline-primary js_btn-stop-task"><i class="far fa-pause-circle fa-lg"></i></button>\n                    <!--button class="btn btn-warning js_btn-delete-task ml-3"><i class="far fa-trash-alt fa-lg"></i></button-->\n                </div>\n            </div>\n        </div>';
    var tplStop = '<div class="no-gutters px-2 row task-stopped">\n            <div class="col-6 align-items-center d-flex">\n                <img src="' + sessionStorage.getItem(username) + '" class="rounded-circle avatar" alt="\u0430\u0432\u0430\u0442\u0430\u0440"/>\n                <h2 class="mt-0 mb-1 ml-2">' + username + '</h2>\n            </div>\n            <div class="col-6 col-6--with-borders">\n                <p class="pb-1 name"><b>ID:</b> ' + task_id + '</p>\n                ' + (item.status.reason ? '<p class="my-1">' + status.reason + '</p>' : '') + '\n                ' + (created_at ? '<p class="pb-1"><b>\u0417\u0430\u043F\u0443\u0449\u0435\u043D\u043E:</b> ' + _view2.default.getFormattedDateUtil(created_at, 'showFullTime') + '</p>' : '') + '\n                ' + (mode ? '<p class="pb-1"><b>\u0420\u0435\u0436\u0438\u043C:</b> ' + modeRus(mode) + '</p>' : '') + '\n                <div class="text-center">\n                    <button class="btn btn-warning js_btn-delete-task"><i class="far fa-trash-alt fa-lg"></i></button>\n                </div>\n            </div>\n\n        </div>';
    var tplFinished = '<div class="no-gutters px-2 row task-progress">\n            <div class="col-6 align-items-center d-flex">\n                <img src="' + sessionStorage.getItem(username) + '" class="rounded-circle avatar" alt="\u0430\u0432\u0430\u0442\u0430\u0440"/>\n                <h2 class="mt-0 mb-1 ml-2">' + username + '</h2>\n            </div>\n            <div class="col-6 col-6--with-borders">\n                <p class="pb-1 name"><b>ID:</b> ' + task_id + '</p>\n                ' + (created_at ? '<p class="pb-1"><b>\u0417\u0430\u043F\u0443\u0449\u0435\u043D\u043E:</b> ' + _view2.default.getFormattedDateUtil(created_at, 'showFullTime') + '</p>' : '') + '\n                ' + (mode ? '<p class="pb-1"><b>\u0420\u0435\u0436\u0438\u043C:</b> ' + modeRus(mode) + '</p>' : '') + '\n                <div class="text-center">\n                    <!--<button class="btn btn-outline-primary js_btn-stop-task"><i class="far fa-pause-circle fa-lg"></i></button>-->\n                    <button class="btn btn-warning js_btn-delete-task ml-3"><i class="far fa-trash-alt fa-lg"></i></button>\n                </div>\n            </div>\n        </div>';
    switch (taskState) {
        case 'PAUSED':
            addItem(tplPaused);
            break;
        case 'IN_PROGRESS':
            addItem(tplProgress);
            break;
        case 'GLOBAL_PAUSE':
            addItem(tplProgress);
            break;
        case 'STOPPED':
            addItem(tplStop);
            break;
        case 'FINISHED':
            addItem(tplFinished);
            break;
        default:
            break;
    }
}

function fillListMeta($list, items /* , isRuns*/) {
    // const defaultAvatarSrc = CONST.user.defaulAvatar;
    $list.empty();
    if (!items.length) {
        $('<li class="list-group-item py-2">\n                <p>\u041D\u0435\u0442 \u043D\u0438 \u043E\u0434\u043D\u043E\u0439 \u0437\u0430\u0434\u0430\u0447\u0438.</p>\n            </li>').appendTo($list);
        return;
    }
    items.forEach(function (item) {
        // if ((item.status.state === 'STOPPED' || item.status.state === 'FINISHED') && !isRuns) {
        //     fillListByState(item.status.state, $list, item);
        // } else if ((item.status.state === 'IN_PROGRESS' || item.status.state === 'PAUSED') && isRuns) {
        //     fillListByState(item.status.state, $list, item);
        // }
        fillListByState(item.status.state, $list, item);
    });
    if (!$('li', $list).length) {
        $('<li class="list-group-item py-2">\n            <p>\u041D\u0435\u0442 \u043D\u0438 \u043E\u0434\u043D\u043E\u0439 \u0437\u0430\u0434\u0430\u0447\u0438.</p>\n        </li>').appendTo($list);
    }
}

/* eslint-disable no-use-before-define */
function initHandlers(holders, path) {
    var _path = path || {
        type: _consts.CONST.url.tmTypes.followingT,
        subtype: _consts.CONST.url.tmTypes.followingSubT[0]
    };
    var $btnStopTask = $('.js_btn-stop-task');
    var $btnDelTask = $('.js_btn-delete-task');
    var getTaskID = function getTaskID(e) {
        var btn = $(e.target);
        return btn.closest('li').data('task-id');
    };

    $btnStopTask.on('click', function (e) {
        var taskId = getTaskID(e);
        console.log('STOP Task id', taskId);
        _apiTaskManager2.default.stopTaskByID(taskId).then(function (result) {
            console.log(result);
            getTasksData(holders, _path);
        });
    });

    $btnDelTask.on('click', function (e) {
        var taskId = getTaskID(e);
        console.log('DELETE id', taskId);
        _apiTaskManager2.default.deleteTaskByID(taskId).then(function (result) {
            console.log(result);
            getTasksData(holders, _path);
        });
    });
}

function getTasksData(holders, path) {
    var $all = holders.$all;

    var _path = path || {
        type: _consts.CONST.url.tmTypes.followingT,
        subtype: _consts.CONST.url.tmTypes.followingSubT[0]
    };
    _apiTaskManager2.default.getMetadata(_path).then(function (result) {
        // console.log('getMetadata & fillListMeta', result);
        if (result.status.state === 'ok') {
            // fillListMeta($runs, result.data.meta, 'isRuns');
            fillListMeta($all, result.data.meta, 'isAll');
            initHandlers(holders, path);
        }
    });
}

/**
 * Init
 */
function init() {
    var holders = {
        $runs: $('.follow-tasks-runs'),
        $stopped: $('.follow-tasks-stopped'),
        $all: $('.follow-tasks-all')
    };
    getTasksData(holders);
    window.PubSub.subscribe(_consts.CONST.events.tasks.NEW_TASK_CREATED, function (eventName, data) {
        var _path = {
            type: _consts.CONST.url.tmTypes.followingT,
            subtype: _consts.CONST.url.tmTypes.followingSubT[0]
        };
        getTasksData(holders, _path);
    });
}

/***/ }),
/* 6 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.init = init;

var _consts = __webpack_require__(0);

// import 'brutusin-json-forms';
var state = {
    username: ''
};
var wizardFormSelector = '.wizard-form';

/**
 * Init header
 */
function initSteps(formSelector, wizardCfg) {
    var $form = $(formSelector);
    var stepReducer = wizardCfg.stepReducer,
        onSubmitHandler = wizardCfg.onSubmitHandler;

    $('.js_profile-user-follow>.container').removeClass('container');

    $form.find('fieldset:first-child').fadeIn('slow');

    $form.find('input[type="text"]').on('focus', function () {
        $(this).removeClass('input-error');
    });

    // next step
    $form.find('.btn-next').on('click', function () {
        var parent_fieldset = $(this).parents('fieldset');
        var next_step = true;
        var radioBtnActive = parent_fieldset.find('input[name="userAccountRadio"]:checked');

        if (radioBtnActive.length > 0) {
            state.username = radioBtnActive.parents('li').data('username');
        }

        if (stepReducer) {
            stepReducer(parent_fieldset.index(), state);
        }

        parent_fieldset.find('input[type="text"],input[type="email"]').each(function () {
            if ($(this).val() === '') {
                $(this).addClass('input-error');
                next_step = false;
            } else {
                $(this).removeClass('input-error');
            }
        });

        if (next_step) {
            parent_fieldset.fadeOut(400, function () {
                $(this).next().fadeIn();
            });
        }
    });

    // previous step
    $form.find('.btn-previous').on('click', function () {
        // state.username = [...new Set(state.username)];
        $(this).parents('fieldset').fadeOut(400, function () {
            $(this).prev().fadeIn();
        });
    });

    // speed radio-btn group
    $('.js_follow-speed input[type=radio]').on('click', function () {
        // const value = $(this).attr('value');
        // state.user_default_config = {
        //     task_mode: value.toUpperCase()
        // };
    });

    // submit
    $form.on('submit', function (e) {
        $(this).find('input[type="text"],input[type="number"],input[type="email"]').each(function () {
            if ($(this).val() === '') {
                e.preventDefault();
                $(this).addClass('input-error');
            } else {
                $(this).removeClass('input-error');
            }
        });

        if (onSubmitHandler) {
            onSubmitHandler(e);
        }

        console.log('SubmitHandler END');
    });

    // alert close
    $('.form-submit-finish .close').on('click', function (e) {
        console.log('form-submit-finish .close');
        $(this).closest('.form-submit-finish').removeClass('d-block');
        e.stopPropagation();
        // $(this).closest('form-submit-finish').removeClass('d-block');
        // $('#v-pills-runned-tab').trigger('click');
        // window.PubSub.publish(CONST.events.tasks.NEW_TASK_CREATED);
    });

    $('#v-pills-create-task-tab').on('click', function (e) {
        console.log('reset form');
        if ($('fieldset:first-child').css('display') === 'none') {
            $form.find('fieldset').hide('fast', function () {
                $form.find('fieldset:first-child').show('slow');
            });
        }
        $('.form-submit-finish').removeClass('d-block');
        // clear all val in textarea and input (except radio)
        $('fieldset', wizardFormSelector).find('input:not([type="radio"]), textarea').val('');
    });
}

/*
function fixStepIndicator(n) {
    // This function removes the "active" class of all steps...
    var i, x = document.getElementsByClassName("step");
    for (i = 0; i < x.length; i++) {
        x[i].className = x[i].className.replace(" active", "");
    }
    //... and adds the "active" class on the current step:
    x[n].className += " active";
}*/

// wrap list as radiogroup
function modifyAccList() {
    var radioBtnAppend = function radioBtnAppend(idx) {
        return '<div class="">\n            <input type="radio" name="userAccountRadio" id="customRadio-' + idx + '" class="custom-control-input d-none" value="">\n        </div>';
    };
    var radioBtnWrap = function radioBtnWrap(idx) {
        return '<label class="accounts-list--label-wrapper col mb-0 media py-3" for="customRadio-' + idx + '"></label>';
    };
    var $accountsList = $('.accounts-list');
    var $li = $accountsList.find('li.media');
    $li.addClass('js_user-radio').removeClass('py-3 media');

    for (var i = 0; i < $li.length; i++) {
        var currLi = $($li[i]);
        currLi.wrapInner(radioBtnWrap(i)).append(radioBtnAppend(i));
        if (currLi.find('.user-checkpoint .text-danger').length) {
            currLi.remove();
        }
    }

    $('.js_user-radio').on('click', 'input[type=radio]', function (e) {
        var $parentFieldset = $(this).parents('fieldset');
        $('li.active', $parentFieldset).removeClass('active');
        $(this).closest('li').addClass('active');
        $('.btn-next', $parentFieldset).prop('disabled', false);
    });
}

function init(wizardCfg) {
    if ($('.wizard-form').length) {
        initSteps(wizardFormSelector, wizardCfg);
        window.PubSub.subscribe(_consts.CONST.events.instagramAccouns.INSTAGRAM_ACCOUNS_RENDERED, function (eventName, data) {
            modifyAccList();
        });
    }
}

/***/ }),
/* 7 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.init = init;

var _consts = __webpack_require__(0);

var _apiTaskManager = __webpack_require__(2);

var _apiTaskManager2 = _interopRequireDefault(_apiTaskManager);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var MAX_IMG_FILE_SIZE_BYTE = 1048576;
var fileUploadBox = '.file-upload';
var fileUploadContent = '.file-upload-content';

function removeUpload($uploadContainer) {
    var input = $uploadContainer.find('input');
    input.replaceWith(input.clone());
    $uploadContainer.find(fileUploadContent).hide();
    $uploadContainer.find('.image-upload-wrap').show();
}

var $imgUploadWrap = $('.image-upload-wrap');
$imgUploadWrap.bind('dragover', function () {
    $('.image-upload-wrap').addClass('image-dropping');
});
$imgUploadWrap.bind('dragleave', function () {
    $('.image-upload-wrap').removeClass('image-dropping');
});

// function abortRead(reader) {
//     reader.abort();
// }

function errorHandler(evt, reader) {
    switch (evt.target.error.code) {
        case evt.target.error.NOT_FOUND_ERR:
            console.info('File Not Found!');
            break;
        case evt.target.error.NOT_READABLE_ERR:
            console.info('File is not readable');
            break;
        case evt.target.error.ABORT_ERR:
            break; // noop
        default:
            console.info('An error occurred reading this file.');
    }
}

function updateProgress(evt, progress) {
    // evt is an ProgressEvent.
    if (evt.lengthComputable) {
        var percentLoaded = Math.round(evt.loaded / evt.total * 100);
        // Increase the progress bar length.
        if (percentLoaded % 10 === 0) {
            // progress.style.width = `${percentLoaded}%`;
            // progress.textContent = `${percentLoaded}%`;
            console.log(percentLoaded);
        }
    }
}

function isFileTypeOk(acceptedFile) {
    return acceptedFile.type === 'image/jpeg';
}

function isImgSizeOk(acceptedFile) {
    var imgSize = Math.round(acceptedFile.size);
    return MAX_IMG_FILE_SIZE_BYTE > imgSize;
}

function handleSubmit(input, replaceWithCfg) {
    var url = _consts.CONST.getPath('instagramTaskManager_postImageAttachment');
    var token = _apiTaskManager2.default.getToken();
    var acceptedFile = input.files[0];
    console.log('handleSubmit');
    // if (!isImgSizeOk(acceptedFile)) {
    //     console.log('show error message, imgSize to big ');
    //     $(fileUploadBox)
    //         .append(`
    //             <p class="msg-max-size-img text-danger">Максимальный допустимый размер картинки ${MAX_IMG_FILE_SIZE_BYTE}MB</p>
    //         `);
    //     setTimeout(() => {
    //         $('.msg-max-size-img').addClass('d-none');
    //     }, 5000);
    //     return;
    // }
    var formData = new FormData();

    var request = new XMLHttpRequest();

    if (replaceWithCfg && replaceWithCfg.replaceWith) {
        // ** edit USER **
        // PUT http://api.luxgram.ru/v1/instagram-accounts/{username}/photo
        // form-data: "photo" (jpg)
        formData.append('photo', acceptedFile, acceptedFile.name);
        var username = replaceWithCfg.username;

        request.open('PUT', 'http://api.luxgram.ru/v1/instagram-accounts/' + username + '/photo');
        // request.withCredentials = true;
        request.setRequestHeader('token', token);
        request.setRequestHeader('Accept', 'application/json');
        request.setRequestHeader('cache-control', 'no-cache');
        request.send(formData);
        request.addEventListener('readystatechange', function () {
            if (this.readyState === 4) {
                console.log('PUT', this.responseText, this);
                // window.PubSub.publish(CONST.events.autoarnswer.IMAGE_UPLOADED, {'response': this.responseText, 'el': input});
                window.PubSub.publish(_consts.CONST.events.autoarnswer.IMAGE_UPLOADED_AVATAR, { 'response': this.response });
            }
        });
        return;
    }
    formData.append('image', acceptedFile, acceptedFile.name);
    request.open('POST', url);
    // request.withCredentials = true;
    request.setRequestHeader('token', token);
    request.setRequestHeader('Accept', 'application/json');
    request.setRequestHeader('cache-control', 'no-cache');
    request.send(formData);
    request.addEventListener('readystatechange', function () {
        if (this.readyState === 4) {
            console.log('this', this.responseText, this);
            window.PubSub.publish(_consts.CONST.events.autoarnswer.IMAGE_UPLOADED, { 'response': this.responseText, 'el': input });
        }
    });
}

function readURL(input, replaceWithCfg, handleSubmitCb) {
    var replaceWith = replaceWithCfg.replaceWith,
        holderCls = replaceWithCfg.holderCls;

    var holder = holderCls ? holderCls : fileUploadBox;
    var $container = $(input).closest(holder);
    if (input.files && input.files[0]) {
        var reader = new FileReader();
        console.log('readURL');
        if (!isImgSizeOk(input.files[0]) || !isFileTypeOk(input.files[0])) {
            console.log('show error message, imgSize to big ');
            $(fileUploadBox).find('warning-image').remove();
            $(fileUploadBox).append('\n                <div class="warning-image text-danger">\n                    <p>\u0414\u043E\u0441\u0442\u0443\u043F\u043D\u044B\u0439 \u0444\u043E\u0440\u043C\u0430\u0442 \u0438\u0437\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u044F jpeg \u0438\u043B\u0438 jpg</p>\n                    <p class="msg-max-size-img text-danger">\u041C\u0430\u043A\u0441\u0438\u043C\u0430\u043B\u044C\u043D\u044B\u0439 \u0434\u043E\u043F\u0443\u0441\u0442\u0438\u043C\u044B\u0439 \u0440\u0430\u0437\u043C\u0435\u0440 \u043A\u0430\u0440\u0442\u0438\u043D\u043A\u0438 ' + MAX_IMG_FILE_SIZE_BYTE / 1024 / 1024 + 'MB</p>\n                </div>\n            ');
            setTimeout(function () {
                $('.warning-image').addClass('d-none');
            }, 5000);
            return;
        }

        reader.onload = function (e) {
            if (!replaceWith) {
                $container.find('.image-upload-wrap').hide();
                $container.find('.file-upload-image').attr('src', e.target.result);
                $container.find(fileUploadContent).show();
                $container.find('.image-title').html(input.files[0].name);
            } else {
                var imageCls = replaceWithCfg.imageCls;

                $container.find(imageCls).attr('src', e.target.result);
            }
        };

        reader.onerror = errorHandler;
        reader.onprogress = updateProgress;

        reader.readAsDataURL(input.files[0]);
        setTimeout(function () {
            if (typeof handleSubmitCb === 'function') {
                var token = _apiTaskManager2.default.getToken();
                handleSubmitCb(input, token);
            } else {
                handleSubmit(input, replaceWithCfg);
            }
        }, 2000);
        // Read in the image file as a binary string.
        // reader.readAsBinaryString(input.files[0]);
    } else {
        removeUpload($container);
    }
}

function init(replaceWithCfg, handleSubmitCb) {
    var uploadBtnCls = !(replaceWithCfg && replaceWithCfg.replaceWith) ? '.file-upload-btn' : replaceWithCfg.uploadBtnCls;
    var $uploadBtn = $(uploadBtnCls);
    var $uploadInput = $('.file-upload-input');
    var $removeImgBtn = $('.remove-image');

    $uploadBtn.off();
    $uploadInput.off();
    $removeImgBtn.off();

    $uploadBtn.on('click', function (e) {
        var toParentCls = !(replaceWithCfg && replaceWithCfg.replaceWith) ? '.col' : replaceWithCfg.holderCls;
        var input = $(e.target).closest(toParentCls).find(fileUploadBox).find('input.file-upload-input');
        input.trigger('click');
        e.stopPropagation();
    });

    $uploadInput.on('change', function (e) {
        readURL(e.target, replaceWithCfg, handleSubmitCb);
    });

    $removeImgBtn.on('click', function (e) {
        var $container = $(e.target).closest('.col').find(fileUploadBox);
        removeUpload($container);
        $container.removeAttr('attached-img-id');
    });
}

/***/ }),
/* 8 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.init = init;

var _apiTaskManager = __webpack_require__(2);

var _apiTaskManager2 = _interopRequireDefault(_apiTaskManager);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var clsConst = {
    currentPageCls: '',
    tasksList: '',
    logsTabBtn: '',
    pagination: '',
    paginationPgNumber: ''
}; /* eslint-disable no-use-before-define */

var $list = '$(clsConst.tasksList)'; // set in preConfig()
var selectCls = 'someClass';
var getUsername = function getUsername() {
    return $('.' + selectCls + ' option:selected').val();
};
var path = {
    username: getUsername()
};
var currentPage = null;
var intervalId = '';

function initHandlerPagination($previous, $next, dataArray) {
    var $wrapper = $(clsConst.pagination);
    var pagination = dataArray.settings.pagination;


    $previous.on('click', function (e) {
        var $liActive = $wrapper.find('li.page-number.active');
        var page = pagination.previous;
        if (!pagination.previous) {
            $previous.addClass('disabled').prop('disabled', 'disabled');
            return;
        }
        currentPage = pagination.previous;
        $liActive.removeClass('active');
        getLogsData($list, path, page);
    });

    $next.on('click', function (e) {
        var $liActive = $wrapper.find('li.page-number.active');
        var currentActiveIdx = $liActive.index();
        var page = pagination.next;
        if (!pagination.next) {
            return;
        }
        currentPage = pagination.next;
        $liActive.removeClass('active');
        // if (lastPage <= currentActiveIdx + 1) {
        //     $(e.target).parent().addClass('disabled');
        // }
        if (currentActiveIdx && $previous.hasClass('disabled')) {
            $previous.removeClass('disabled');
        }
        getLogsData($list, path, page);
    });

    $(clsConst.logsTabBtn).on('click', function (e) {
        // at this point of time setInterval is working
        currentPage = 1;
    });
    $(clsConst.pagination + ' ' + clsConst.paginationPgNumber).on('click', function (e) {
        e.preventDefault();
        var val = $(e.target).text();
        currentPage = parseInt(val, 10);
        getLogsData($list, path, currentPage);
        console.log(currentPage);
    });
}

function addPagination(dataArray, $wrapper) {
    var pagination = dataArray.settings.pagination;

    var tplPrevious = $('<li class="page-item ' + (!pagination.previous ? 'disabled' : '') + '"><a class="page-link" href="#" ' + (!pagination.previous ? 'tabindex="-1"' : '') + '>\u041D\u0430\u0437\u0430\u0434</a></li>');
    var tplNext = $('<li class="page-item ' + (!pagination.next ? 'disabled' : '') + '"><a class="page-link" href="#" ' + (!pagination.next ? 'tabindex="-1"' : '') + '>\u0412\u043F\u0435\u0440\u0435\u0434</a></li>');

    clearPagination($wrapper);

    if (pagination.next || pagination.pages && pagination.current === pagination.pages[pagination.pages.length - 1]) {
        $wrapper.append(tplPrevious);
        if (pagination && pagination['pages']) {
            pagination['pages'].forEach(function (item) {
                $('<li class="page-item page-number ' + (pagination.current === item ? 'active' : '') + '"><a class="page-link" href="#">' + item + '</a></li>').appendTo($wrapper);
            });
        }
        $wrapper.append(tplNext);
    }
    initHandlerPagination(tplPrevious, tplNext, dataArray);
}

function clearPagination($wrapper) {
    $wrapper.empty();
}

function fillListMeta($list, dataArray, isRuns) {
    var $wrapperPagination = $('.logs-pagination');
    var items = dataArray.logs;
    // const defaultAvatarSrc = CONST.user.defaulAvatar;
    $list.empty();
    if (!items.length) {
        $('<li class="list-group-item py-2">\n            <p>\u041D\u0435\u0442 \u043D\u0438 \u043E\u0434\u043D\u043E\u0433\u043E \u043B\u043E\u0433\u0430.</p>\n        </li>').appendTo($list);
        clearPagination($wrapperPagination);
        return;
    }
    addPagination(dataArray, $wrapperPagination);
    items.forEach(function (item) {
        var level = item.level,
            value = item.value;

        $('<li class="list-group-item p-0 py-2">\n              <div class="media-body d-flex">\n                  <div class="col task-type ' + (level === 'ERROR' ? 'text-danger' : '') + ' ' + (level === 'WARN' ? 'text-warning' : '') + '">\n                      ' + (value ? '' + value : '') + '\n                  </div>\n              </div>\n          </li>').appendTo($list);

        if (!$('li', $list).length) {
            $('<li class="list-group-item py-2" >\n                <p>\u041D\u0435\u0442 \u043D\u0438 \u043E\u0434\u043D\u043E\u0433\u043E \u043B\u043E\u0433\u0430.</p>\n            </li>').appendTo($list);
        }
    });
}

function tabStopReqHandler() {
    var $allAsideTabs = $('#v-pills-tab');
    $allAsideTabs.off();
    $allAsideTabs.on('click', 'a', function (e) {
        e.preventDefault();
        var tab = $(e.target);
        if (tab.attr('id') !== 'v-pills-logs-tab') {
            // console.log('stop req');
            if (intervalId) {
                clearInterval(intervalId);
            }
        }
    });
}

function getLogsData($list, path, page) {
    path.username = getUsername(selectCls);
    var pathArr = [path.type, 'subtype/' + path.subtype, 'account/' + path.username];
    _apiTaskManager2.default.getLogsChatBot(pathArr, page).then(function (result) {
        if (result.status.state === 'ok') {
            fillListMeta($list, result.data);
            tabStopReqHandler();
            var updateInterval = result.data.settings.invoke_in_millis;
            // reset Timer request
            if (intervalId) {
                clearInterval(intervalId);
            }
            if (currentPage <= 1) {
                intervalId = setInterval(function () {
                    // eslint-disable-next-line indent
                    getLogsData($list, path, currentPage);
                }, updateInterval);
            }
        } else {
            $('<li class="list-group-item py-2">\n                <p>\u041D\u0435\u0442 \u0434\u043E\u0441\u0442\u0443\u043F\u0430</p>\n            </li>').appendTo($list);
        }
    });
}

function preConfig(cfg) {
    clsConst = cfg;
    $list = $(clsConst.tasksList);
    path.type = cfg.pathType;
    path.subtype = cfg.pathSubType;
}

function init(_selectCls, cfg) {
    if ($(cfg.currentPageCls).length) {
        selectCls = _selectCls;
        preConfig(cfg);
        if (getUsername()) {
            // console.log(getUsername());
            getLogsData($list, path);
        } else {
            console.log('select user');
        }
    }
}

/***/ }),
/* 9 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.init = init;

var _consts = __webpack_require__(0);

var _user = __webpack_require__(3);

var _user2 = _interopRequireDefault(_user);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var fillDropdownUsersCfg = {};

function fillDropdownUsers(_ref, accounts) {
    var $wrapper = _ref.$wrapper,
        logsState = _ref.logsState,
        OnChangeSelectCb = _ref.OnChangeSelectCb;
    var selectCls = logsState.selectCls;

    var label = 'Выберите аккаунт';
    $wrapper.empty().addClass('border-light-color');
    $('<div class="">' + label + '</div><select name="task-type" class="' + selectCls + '"></select>').appendTo($wrapper);
    accounts.forEach(function (name) {
        $('<option class="list-group-item py-2" value="' + name + '">\n            ' + name + '\n        </option>').appendTo($('.' + selectCls));
    });
    OnChangeSelectCb();
}

function getMetaLazy() {
    _user2.default.getMetadataLazy().then(function (res) {
        if (res.status.state === 'ok' && res.data && res.data.accounts) {
            var cfg = fillDropdownUsersCfg;
            var accounts = res.data.accounts;

            fillDropdownUsers(cfg, accounts);
            window.PubSub.publish(_consts.CONST.events.instagramAccouns.INSTAGRAM_ACCOUNS_RENDERED_LAZY, res.data.accounts);
        }
    });
}

function tabHandler(isComputeMultyDropdown) {
    $('#v-pills-logs-tab').on('click', function (e) {
        getMetaLazy();
    });
}

function init(OnChangeSelect, logsState) {
    var $wrapper = $('.log-users-list');
    Object.assign(fillDropdownUsersCfg, { $wrapper: $wrapper, OnChangeSelectCb: OnChangeSelect, logsState: logsState });
    tabHandler();
}

/***/ }),
/* 10 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.nextBtnvalidateCompetitorsHandler = nextBtnvalidateCompetitorsHandler;
exports.initTagsInput = initTagsInput;

__webpack_require__(51);

var tagsinputSelector = '.bootstrap-tagsinput';

function nextBtnvalidateCompetitorsHandler($input, nextStepBtn, igroreRegexCheck) {
    var englishChars = /^[A-Za-z0-9,._ \n]+$/;
    var checkTextArea = function checkTextArea(e, isInit) {
        var inputvalue = !isInit ? $(e.target).closest('div input').val() : '';
        var text = !isInit ? $(e.target).closest('div').find('.bootstrap-tagsinput input').val() + ',' + inputvalue : '';
        var isRemoved = !isInit && e.type === 'itemRemoved';
        var textOnRemove = isRemoved ? inputvalue : '';
        var removeBorder = function removeBorder() {
            // enable on delete all
            $(e.target).closest('.js_tagsinput-box').find(tagsinputSelector).removeClass('border-danger');
            if (nextStepBtn) {
                // disable on checnge
                nextStepBtn.removeAttr('disabled', 'disabled');
            }
        };
        var addBorder = function addBorder() {
            $(e.target).closest('.js_tagsinput-box').find(tagsinputSelector).addClass('border-danger');
        };
        console.log('text', text);
        if (nextStepBtn) {
            // disable on checnge
            nextStepBtn.attr('disabled', 'disabled');
        }
        var isAddedTextValid = text.length && (englishChars.test(text) || !!igroreRegexCheck);
        var isRemovedTextValid = textOnRemove.length && (englishChars.test(textOnRemove) || !!igroreRegexCheck);

        if ((isAddedTextValid || isRemovedTextValid) && text !== ',') {
            // enable on checnge if lengthText>1
            removeBorder();
        } else if (!isInit) {
            // $(e.target).closest('.js_tagsinput-box').find(tagsinputSelector).addClass('border-danger');
            addBorder();
        }
        if (!textOnRemove.length && isRemoved && !isInit) {
            // enable on delete all
            removeBorder();
        }
    };
    // disable on init
    checkTextArea(null, 'isInit');
    console.log('$competitorsTextArea', $input);

    if (!nextStepBtn) {
        // do not validate anything
        return;
    }

    // event.item: contains the item
    // event.cancel: set to true to prevent the item getting added
    $input.on('beforeItemAdd', checkTextArea);

    // event.item: contains the item
    $input.on('itemRemoved', checkTextArea);
}

function initTagsInput($elInput) {
    $elInput.tagsinput('items');
}

/***/ }),
/* 11 */
/***/ (function(module, exports, __webpack_require__) {

/* WEBPACK VAR INJECTION */(function(module) {/**
 * Copyright (c) 2010,2011,2012,2013,2014 Morgan Roderick http://roderick.dk
 * License: MIT - http://mrgnrdrck.mit-license.org
 *
 * https://github.com/mroderick/PubSubJS
 */

(function (root, factory){
    'use strict';

    var PubSub = {};
    root.PubSub = PubSub;

    var define = root.define;

    factory(PubSub);

    // AMD support
    if (typeof define === 'function' && define.amd){
        define(function() { return PubSub; });

        // CommonJS and Node.js module support
    } else if (true){
        if (module !== undefined && module.exports) {
            exports = module.exports = PubSub; // Node.js specific `module.exports`
        }
        exports.PubSub = PubSub; // CommonJS module 1.1.1 spec
        module.exports = exports = PubSub; // CommonJS
    }

}(( typeof window === 'object' && window ) || this, function (PubSub){
    'use strict';

    var messages = {},
        lastUid = -1;

    function hasKeys(obj){
        var key;

        for (key in obj){
            if ( obj.hasOwnProperty(key) ){
                return true;
            }
        }
        return false;
    }

    /**
     * Returns a function that throws the passed exception, for use as argument for setTimeout
     * @alias throwException
     * @function
     * @param { Object } ex An Error object
     */
    function throwException( ex ){
        return function reThrowException(){
            throw ex;
        };
    }

    function callSubscriberWithDelayedExceptions( subscriber, message, data ){
        try {
            subscriber( message, data );
        } catch( ex ){
            setTimeout( throwException( ex ), 0);
        }
    }

    function callSubscriberWithImmediateExceptions( subscriber, message, data ){
        subscriber( message, data );
    }

    function deliverMessage( originalMessage, matchedMessage, data, immediateExceptions ){
        var subscribers = messages[matchedMessage],
            callSubscriber = immediateExceptions ? callSubscriberWithImmediateExceptions : callSubscriberWithDelayedExceptions,
            s;

        if ( !messages.hasOwnProperty( matchedMessage ) ) {
            return;
        }

        for (s in subscribers){
            if ( subscribers.hasOwnProperty(s)){
                callSubscriber( subscribers[s], originalMessage, data );
            }
        }
    }

    function createDeliveryFunction( message, data, immediateExceptions ){
        return function deliverNamespaced(){
            var topic = String( message ),
                position = topic.lastIndexOf( '.' );

            // deliver the message as it is now
            deliverMessage(message, message, data, immediateExceptions);

            // trim the hierarchy and deliver message to each level
            while( position !== -1 ){
                topic = topic.substr( 0, position );
                position = topic.lastIndexOf('.');
                deliverMessage( message, topic, data, immediateExceptions );
            }
        };
    }

    function messageHasSubscribers( message ){
        var topic = String( message ),
            found = Boolean(messages.hasOwnProperty( topic ) && hasKeys(messages[topic])),
            position = topic.lastIndexOf( '.' );

        while ( !found && position !== -1 ){
            topic = topic.substr( 0, position );
            position = topic.lastIndexOf( '.' );
            found = Boolean(messages.hasOwnProperty( topic ) && hasKeys(messages[topic]));
        }

        return found;
    }

    function publish( message, data, sync, immediateExceptions ){
        message = (typeof message === 'symbol') ? message.toString() : message;

        var deliver = createDeliveryFunction( message, data, immediateExceptions ),
            hasSubscribers = messageHasSubscribers( message );

        if ( !hasSubscribers ){
            return false;
        }

        if ( sync === true ){
            deliver();
        } else {
            setTimeout( deliver, 0 );
        }
        return true;
    }

    /**
     * Publishes the message, passing the data to it's subscribers
     * @function
     * @alias publish
     * @param { String } message The message to publish
     * @param {} data The data to pass to subscribers
     * @return { Boolean }
     */
    PubSub.publish = function( message, data ){
        return publish( message, data, false, PubSub.immediateExceptions );
    };

    /**
     * Publishes the the message synchronously, passing the data to it's subscribers
     * @function
     * @alias publishSync
     * @param { String } message The message to publish
     * @param {} data The data to pass to subscribers
     * @return { Boolean }
     */
    PubSub.publishSync = function( message, data ){
        return publish( message, data, true, PubSub.immediateExceptions );
    };

    /**
     * Subscribes the passed function to the passed message. Every returned token is unique and should be stored if you need to unsubscribe
     * @function
     * @alias subscribe
     * @param { String } message The message to subscribe to
     * @param { Function } func The function to call when a new message is published
     * @return { String }
     */
    PubSub.subscribe = function( message, func ){
        if ( typeof func !== 'function'){
            return false;
        }

        message = (typeof message === 'symbol') ? message.toString() : message;

        // message is not registered yet
        if ( !messages.hasOwnProperty( message ) ){
            messages[message] = {};
        }

        // forcing token as String, to allow for future expansions without breaking usage
        // and allow for easy use as key names for the 'messages' object
        var token = 'uid_' + String(++lastUid);
        messages[message][token] = func;
        
        // return token for unsubscribing
        return token;
    };

    /**
     * Subscribes the passed function to the passed message once
     * @function
     * @alias subscribeOnce
     * @param { String } message The message to subscribe to
     * @param { Function } func The function to call when a new message is published
     * @return { PubSub }
     */
    PubSub.subscribeOnce = function( message, func ){
        var token = PubSub.subscribe( message, function(){
            // before func apply, unsubscribe message
            PubSub.unsubscribe( token );
            func.apply( this, arguments );
        });
        return PubSub;
    };

    /**
     * Clears all subscriptions
     * @function
     * @public
     * @alias clearAllSubscriptions
     */
    PubSub.clearAllSubscriptions = function clearAllSubscriptions(){
        messages = {};
    };

    /**
     * Clear subscriptions by the topic
     * @function
     * @public
     * @alias clearAllSubscriptions
     */
    PubSub.clearSubscriptions = function clearSubscriptions(topic){
        var m;
        for (m in messages){
            if (messages.hasOwnProperty(m) && m.indexOf(topic) === 0){
                delete messages[m];
            }
        }
    };

    /**
     * Removes subscriptions
     *
     * - When passed a token, removes a specific subscription.
     *
	 * - When passed a function, removes all subscriptions for that function
     *
	 * - When passed a topic, removes all subscriptions for that topic (hierarchy)
     * @function
     * @public
     * @alias subscribeOnce
     * @param { String | Function } value A token, function or topic to unsubscribe from
     * @example // Unsubscribing with a token
     * var token = PubSub.subscribe('mytopic', myFunc);
     * PubSub.unsubscribe(token);
     * @example // Unsubscribing with a function
     * PubSub.unsubscribe(myFunc);
     * @example // Unsubscribing from a topic
     * PubSub.unsubscribe('mytopic');
     */
    PubSub.unsubscribe = function(value){
        var descendantTopicExists = function(topic) {
                var m;
                for ( m in messages ){
                    if ( messages.hasOwnProperty(m) && m.indexOf(topic) === 0 ){
                        // a descendant of the topic exists:
                        return true;
                    }
                }

                return false;
            },
            isTopic    = typeof value === 'string' && ( messages.hasOwnProperty(value) || descendantTopicExists(value) ),
            isToken    = !isTopic && typeof value === 'string',
            isFunction = typeof value === 'function',
            result = false,
            m, message, t;

        if (isTopic){
            PubSub.clearSubscriptions(value);
            return;
        }

        for ( m in messages ){
            if ( messages.hasOwnProperty( m ) ){
                message = messages[m];

                if ( isToken && message[value] ){
                    delete message[value];
                    result = value;
                    // tokens are unique, so we can just stop here
                    break;
                }

                if (isFunction) {
                    for ( t in message ){
                        if (message.hasOwnProperty(t) && message[t] === value){
                            delete message[t];
                            result = true;
                        }
                    }
                }
            }
        }

        return result;
    };
}));

/* WEBPACK VAR INJECTION */}.call(exports, __webpack_require__(54)(module)))

/***/ }),
/* 12 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.fillPosts = fillPosts;
exports.getPosts = getPosts;

var _consts = __webpack_require__(0);

var _apiTaskManager = __webpack_require__(2);

var _apiTaskManager2 = _interopRequireDefault(_apiTaskManager);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/* ---- modal*/
function fillPosts($list, items, isAppendToList) {
    var addToList = function addToList(isAppendPrevMsg, $li, $list) {
        if (isAppendPrevMsg) {
            $li.insertAfter($list.find('li:last-child'));
        } else {
            $li.appendTo($list);
        }
    };
    if (!isAppendToList) {
        $list.empty();
    }
    items.forEach(function (item, idx) {
        var id = item.id,
            type = item.type;

        var tpl = $('<li class="col-4 list-group list-inline-item m-0 p-0" data-post-id="' + id + '" data-post-type="' + type + '">\n            ' + (item.type === 'photo' ? '<img src="' + item.url + '" class="img-responsive p-2" alt="image" style="max-height: 230px;"/>' : '<div class="' + item.type + ' h-100">\n                    <!--style="background-image: url(' + item.url + ');"-->\n                    <img src="' + item.url + '" class="img-responsive p-2 w-100" alt="video-cover" style="max-height: 200px;"/>\n                    <i class="fas fa-video fa-2x position-absolute text-white align-self-start"></i>\n                  </div>') + '\n        </li>');
        addToList(isAppendToList, tpl, $list); // toDo refactor me, less DOM manipulation
    });
}

function addPagination(modalFooter, cursor) {
    $('#load-more').attr('cursor', cursor);
    modalFooter.removeClass('d-none');
}

function hidePagination(modalFooter) {
    modalFooter.addClass('d-none');
}

function imageSelectHandler($list, modal, targetButton) {
    $('li', $list).on('click', function (e) {
        var imageBoxCls = 'js_uploaded-img-from-posts';
        var imageDelBtnCls = 'js_delete-post-img';
        var imageBoxSelector = '.' + imageBoxCls;
        var $btnLi = $(e.target).closest('li');
        var postId = $btnLi.attr('data-post-id');
        var postType = $btnLi.attr('data-post-type');
        var closestCol = targetButton.closest('.col');
        // targetButton.closest('button').attr('data-post-img-id', imgId);
        console.log('click', postType, postId, modal);
        window.PubSub.publish(_consts.CONST.events.modal.IMAGE_POST_SELECTED, { $btnLi: $btnLi, closestCol: closestCol });
        modal.modal('hide');
        if (targetButton.closest('.col').find(imageBoxSelector).length) {
            targetButton.closest('.col').find(imageBoxSelector).remove();
        }

        var tplImageBox = $('<div class="' + imageBoxCls + ' uploaded-img-from-posts" \n                data-post-id="' + postId + '" data-post-type="' + postType + '">\n                    <button class="btn btn-warning uploaded-img-from-posts--remove-btn ml-2 ' + imageDelBtnCls + '">\u0423\u0434\u0430\u043B\u0438\u0442\u044C</button>\n                </div').prepend($btnLi.find('img'));
        targetButton.closest('.col').append(tplImageBox);

        $('.' + imageDelBtnCls).off().on('click', function (e) {
            var currentImageBox = $(e.target).closest('.col').find(imageBoxSelector);
            currentImageBox.remove();
        });
    });
}

function getPosts(modal, details, _ref) {
    var loadMoreHandler = _ref.loadMoreHandler,
        targetButton = _ref.targetButton;

    _apiTaskManager2.default.getPostsAutomessages(details).then(function (result) {
        // console.log(result);
        if (result.status.state === 'ok') {
            var data = result.data;

            var modalFooter = modal ? $('.modal-footer', modal) : null;
            var $list = $('.modal-body .posts-list', modal);
            if (!data.posts.length) {
                // show message 'no posts found'
                targetButton.popover({
                    container: 'body',
                    content: 'У текущего аккаунта нет ни одного поста',
                    placement: 'bottom'
                });
                setTimeout(function () {
                    targetButton.popover('destroy');
                }, 4000);
                return;
            }

            if (modal) {
                fillPosts($list, data.posts);
                modal.modal('show');
                modal.modal('handleUpdate');
                imageSelectHandler($list, modal, targetButton);
            } else if (data.posts) {
                fillPosts($list, data.posts, 'appendToList');
                imageSelectHandler($list, $('#postsGridModal'), targetButton);
            }

            if (data.pagination && data.pagination.cursor) {
                addPagination(modalFooter, data.pagination.cursor);
                loadMoreHandler(getPosts);
            } else {
                hidePagination($('.modal-footer', modal));
            }
        } else {
            // show message error
        }
    });
}

/***/ }),
/* 13 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.initLogsTab = initLogsTab;

var _view = __webpack_require__(1);

var _view2 = _interopRequireDefault(_view);

var _logs = __webpack_require__(8);

var logs = _interopRequireWildcard(_logs);

var _tabs = __webpack_require__(9);

var tabs = _interopRequireWildcard(_tabs);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function moveInOneRow(userListBox, subTypeBox) {
    if (!subTypeBox.length || !userListBox.length) {
        return;
    }
    userListBox.appendTo(subTypeBox);

    userListBox.addClass('col');
    subTypeBox.addClass('row');
    // add "col-auto" to first column
    subTypeBox.find('.log-subype').addClass('col-auto');
}

/**
 * Cfg
 * @param logsState
 * @param logsSubtypes
 * @param clsConst
 * Cfg-functions
 * @param setUserNameCb
 * @param addDropdown
 */
function initLogsTab(_ref) {
    var logsState = _ref.logsState,
        logsSubtypes = _ref.logsSubtypes,
        clsConst = _ref.clsConst,
        setUserNameCb = _ref.setUserNameCb,
        textRusArray = _ref.textRusArray;
    var selectCls = logsState.selectCls;
    var selectClsLogsTaskType = logsState.selectClsLogsTaskType;


    function dropdownOnSelectCb(e) {
        clsConst.pathSubType = $('.' + selectClsLogsTaskType + ' option:selected').val();
        $('.js_logs-container').addClass('d-block');
        $('option.js_empty-subtype').remove();
    }

    function OnChangeSelect() {
        var usernameSelected = $('.' + selectCls + ' option:selected').val();
        setUserNameCb(usernameSelected);
        logs.init(selectCls, clsConst);
    }
    function handleLogsDropdowns() {
        dropdownOnSelectCb();
        OnChangeSelect();
        $('.' + selectClsLogsTaskType).on('change', function () {
            dropdownOnSelectCb();
            logs.init(selectCls, clsConst);
        });

        $('.' + selectCls).on('change', function () {
            OnChangeSelect();
        });
    }
    _view2.default.addDropdown($(logsState.wrapperSubtype), logsSubtypes, { logsState: logsState, isRenderEmptyOption: false, textRusArray: textRusArray });
    tabs.init(handleLogsDropdowns, logsState); // makes double request : OPTION and GET

    var userListBox = $('.log-users-list ');
    var subTypeBox = $('.log-subype--box');
    moveInOneRow(userListBox, subTypeBox);
}

/***/ }),
/* 14 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.attachTxtFileHandler = attachTxtFileHandler;

var _consts = __webpack_require__(0);

var _apiTaskManager = __webpack_require__(2);

var _apiTaskManager2 = _interopRequireDefault(_apiTaskManager);

var _spinner = __webpack_require__(17);

var _spinner2 = _interopRequireDefault(_spinner);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// import viewUtils from '../../common/js-services/view';

/*
* read file
*/
var fileUploadBox = '';
var MAX_IMG_FILE_SIZE_BYTE = 1048576 * 100;
var FILE_TYPE = 'txt';
function isFileTypeOk(acceptedFile) {
    return acceptedFile.type === 'text/plain';
}

function isImgSizeOk(acceptedFile) {
    var imgSize = Math.round(acceptedFile.size);
    return MAX_IMG_FILE_SIZE_BYTE > imgSize;
}

function handleSubmit(input) {
    var url = _consts.CONST.getPath('instagramTaskManager_postTextAttachment');
    var token = _apiTaskManager2.default.getToken();
    var acceptedFile = input.files[0];
    console.log('handleSubmit follow');
    var formData = new FormData();
    formData.append('file', acceptedFile, acceptedFile.name);

    var request = new XMLHttpRequest();
    request.open('POST', url);
    // request.withCredentials = true;
    request.setRequestHeader('token', token);
    request.setRequestHeader('Accept', 'application/json');
    request.setRequestHeader('cache-control', 'no-cache');
    request.send(formData);
    request.addEventListener('readystatechange', function () {
        if (this.readyState === 4) {
            console.log('this', this.responseText, this);
            window.PubSub.publish(_consts.CONST.events.autoarnswer.TEXT_FILE_UPLOADED, { 'response': this.responseText, 'el': input });
        }
    });
    _spinner2.default.add($('.add-file'), '');
}

function readURL(input) {
    var $container = $(input).closest(fileUploadBox);
    if (input.files && input.files[0]) {
        var reader = new FileReader();
        console.log('readURL');
        if (!isImgSizeOk(input.files[0]) || !isFileTypeOk(input.files[0])) {
            console.log('show error message, imgSize to big ');
            $(fileUploadBox).append('\n                <div class="warning-image text-danger">\n                    <p>\u0414\u043E\u0441\u0442\u0443\u043F\u043D\u044B\u0439 \u0444\u043E\u0440\u043C\u0430\u0442 \u0438\u0437\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u044F ' + FILE_TYPE + '</p>\n                    <p class="msg-max-size-img text-danger">\u041C\u0430\u043A\u0441\u0438\u043C\u0430\u043B\u044C\u043D\u044B\u0439 \u0434\u043E\u043F\u0443\u0441\u0442\u0438\u043C\u044B\u0439 \u0440\u0430\u0437\u043C\u0435\u0440 \u043A\u0430\u0440\u0442\u0438\u043D\u043A\u0438 100 MB</p>\n                </div>\n            ');
            setTimeout(function () {
                $('.warning-image').addClass('d-none');
            }, 5000);
            return;
        }

        reader.onload = function (e) {
            $container.find('.image-upload-wrap').hide();
            $container.find('.file-upload-image').attr('src', e.target.result);
            // $container.find(fileUploadContent).show();
            $container.find('.image-title').html(input.files[0].name);
        };
        // reader.onerror = errorHandler;
        // reader.onprogress = updateProgress;

        reader.readAsDataURL(input.files[0]);
        setTimeout(function () {
            return handleSubmit(input);
        }, 2000);
        // Read in the image file as a binary string.
        // reader.readAsBinaryString(input.files[0]);
    } else {
            // removeUpload($container);
        }
}

function attachTxtFileHandler(_fileUploadBox, onSuccessFileUploadCb) {
    fileUploadBox = _fileUploadBox;
    $('.input-txt-file').change(function () {
        if ($(this).val() !== '') {
            $(this).prev().text('\u0412\u044B\u0431\u0440\u0430\u043D\u043E \u0444\u0430\u0439\u043B\u043E\u0432: ' + $(this)[0].files.length);
            readURL($(this)[0]);
        } else {
            $(this).prev().text('Выберете файл');
        }
    });
    window.PubSub.subscribe(_consts.CONST.events.autoarnswer.TEXT_FILE_UPLOADED, function (e, res) {
        var response = res.response;

        var result = response.length ? JSON.parse(response) : '';
        var imageId = result && result.data && result.data.list_id;
        $(res.el).closest(fileUploadBox).attr('attached-txt-id', imageId);
        if (onSuccessFileUploadCb && typeof onSuccessFileUploadCb === 'function') {
            onSuccessFileUploadCb();
        }
        // make next-btn available
        var nextStep = $('.js_add-new-task fieldset').get(2);
        $(nextStep).find('.btn-next').removeAttr('disabled');
        _spinner2.default.remove();
        console.log('***TEXT_FILE_UPLOADED, onSuccessFileUploadCb', res);
    });
}

/***/ }),
/* 15 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.emoji = undefined;

__webpack_require__(22);

var emoji = exports.emoji = function emoji(clsConst) {
    if (!$(clsConst.page).length) {
        return;
    }
    // eslint-disable-next-line no-unused-vars
    // const m = new MeteorEmoji();
    // eslint-disable-next-line no-unused-vars
    // const ep = new EmojiPicker();
    // const $picker = $('textarea[data-emoji-picker="true"] ~ div');
    // const style = $picker.attr('style');
    // const styleNew = style.replace(clsConst.styles.old, clsConst.styles.new);
    // $picker.attr('style', styleNew);

    $('textarea[data-emoji-picker="true"]').emojioneArea({
        pickerPosition: 'bottom',
        tonesStyle: 'square',
        filtersPosition: 'bottom',
        search: true,
        events: {
            keyup: function keyup(editor, event) {
                console.log(editor.html());
                console.log(this.getText());
            }
        }
    });
};

/***/ }),
/* 16 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i["return"]) _i["return"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError("Invalid attempt to destructure non-iterable instance"); } }; }();

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

var _view = __webpack_require__(1);

var _view2 = _interopRequireDefault(_view);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var Network = function () {
    function Network() {
        _classCallCheck(this, Network);
    }

    _createClass(Network, [{
        key: 'cbErrorDefault',
        value: function cbErrorDefault(result) {
            var $el = $('#description').length ? $('#description') : $('.error-msg');
            _view2.default.showInfoMessage($el, result.status.state, result.status.message || 'error');
        }
    }, {
        key: 'checkStatus',
        value: function checkStatus(response) {
            if (response.status && response.status >= 200 && response.status < 300) {
                return response;
            } else {
                var error = new Error(response.statusText);
                error.response = response;
                throw error;
            }
        }
    }, {
        key: 'sendRequest',
        value: function sendRequest(URL, OPTS, cbError) {
            var _this = this;

            return fetch(URL, OPTS).then(function (response) {
                return Promise.all([response, response.json()]);
            }).then(function (_ref) {
                var _ref2 = _slicedToArray(_ref, 2),
                    response = _ref2[0],
                    json = _ref2[1];

                if (!response.ok) {
                    if (!cbError) {
                        _this.cbErrorDefault(json);
                    } else {
                        cbError(json); // update view
                    }
                    _this.checkStatus(response);
                    // throw new Error(json.status.message);
                }
                return json;
            });
        }
    }]);

    return Network;
}();

exports.default = Network;

/***/ }),
/* 17 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

// import $ from 'jquery';
// import {CONST} from './consts';
// import Network from './network';
// import CookieStorage from './cookie';
// import PubSub from 'pubsub-js'; // https://www.npmjs.com/package/pubsub-js

// const SPINNER_BASE_TEMPALATE = 'js/ui/tpl/spinner.hbs';
var classes = {
    inline: 'global-inline-spinner',
    overlay: 'global-overlay-spinner',
    fixed: 'global-fixed-spinner',
    button: 'button--load'
};
// const handlebarsTpl = function (name, data, $target) {
//     // var html = this.getTemplate(name)(data);
//     var html = Handlebars.compile(template);
//
//     if ($target) {
//         //for preventing xss
//         $target[0].innerHTML = html;
//     }
//
//     return html;
// };
// const handlebars = this.getService('core.templating.handlebars');

var Spinner = function () {
    function Spinner(_cfg) {
        _classCallCheck(this, Spinner);

        this.startButtonSpinner = function ($el, newCls) {
            $el.addClass(classes.button);
            if ($el.find('.spinner-box--button').length) {
                return;
            }
            $el.prepend('<div class="spinner-box spinner-box--button justify-content-center position-relative p-0 m-0 bg-transparent ' + newCls + '">\n            <div class="spin-animation">\n                <svg aria-hidden="true" data-prefix="far" data-icon="sync-alt" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" \n                    class="fa-fw">\n                    <path fill="currentColor" d="M483.515 28.485L431.35 80.65C386.475 35.767 324.485 8 256 8 123.228 8 14.824 112.338 8.31 243.493 7.971 250.311 13.475 256 20.301 256h28.045c6.353 0 11.613-4.952 11.973-11.294C66.161 141.649 151.453 60 256 60c54.163 0 103.157 21.923 138.614 57.386l-54.128 54.129c-7.56 7.56-2.206 20.485 8.485 20.485H492c6.627 0 12-5.373 12-12V36.971c0-10.691-12.926-16.045-20.485-8.486zM491.699 256h-28.045c-6.353 0-11.613 4.952-11.973 11.294C445.839 370.351 360.547 452 256 452c-54.163 0-103.157-21.923-138.614-57.386l54.128-54.129c7.56-7.56 2.206-20.485-8.485-20.485H20c-6.627 0-12 5.373-12 12v143.029c0 10.691 12.926 16.045 20.485 8.485L80.65 431.35C125.525 476.233 187.516 504 256 504c132.773 0 241.176-104.338 247.69-235.493.339-6.818-5.165-12.507-11.991-12.507z" class=""></path></svg>\n            </div>\n        </div>');
        };

        this.stopButtonSpinner = function ($el) {
            $el.removeClass(classes.button);
        };

        this.cfg = _cfg || {};
        // this.$defaultContainer = $('body');
        $.extend(classes, this.cfg.classes);
        // this._mediator.subscribe(CONST.events.STOP_FIXED_SPINNER, this.stopFixedSpinner.bind(this));
    }
    // _mediator = PubSub;

    _createClass(Spinner, [{
        key: 'start',
        value: function start($el, prewCls) {
            // if (addOrRemove) {
            //     $('#foo').addClass(className);
            // }
            // else {
            //     $('#foo').removeClass(className);
            // }
            $el.find('i').toggleClass(prewCls).addClass('fa-spin fa-spinner');
        }
    }, {
        key: 'stop',
        value: function stop($el, newCls) {
            $el.find('i').toggleClass(newCls).removeClass('fa-spin fa-spinner');
        }
    }, {
        key: 'add',
        value: function add($el, newCls) {
            this.$el = $el;
            $el.prepend('<div class="spinner-box justify-content-center ' + newCls + '">\n            <div class="spin-animation">\n                <svg aria-hidden="true" data-prefix="far" data-icon="sync-alt" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512" class="svg-inline--fa fa-sync-alt fa-w-16 fa-fw fa-2x"><path fill="currentColor" d="M483.515 28.485L431.35 80.65C386.475 35.767 324.485 8 256 8 123.228 8 14.824 112.338 8.31 243.493 7.971 250.311 13.475 256 20.301 256h28.045c6.353 0 11.613-4.952 11.973-11.294C66.161 141.649 151.453 60 256 60c54.163 0 103.157 21.923 138.614 57.386l-54.128 54.129c-7.56 7.56-2.206 20.485 8.485 20.485H492c6.627 0 12-5.373 12-12V36.971c0-10.691-12.926-16.045-20.485-8.486zM491.699 256h-28.045c-6.353 0-11.613 4.952-11.973 11.294C445.839 370.351 360.547 452 256 452c-54.163 0-103.157-21.923-138.614-57.386l54.128-54.129c7.56-7.56 2.206-20.485-8.485-20.485H20c-6.627 0-12 5.373-12 12v143.029c0 10.691 12.926 16.045 20.485 8.485L80.65 431.35C125.525 476.233 187.516 504 256 504c132.773 0 241.176-104.338 247.69-235.493.339-6.818-5.165-12.507-11.991-12.507z" class=""></path></svg>\n            </div>\n        </div>');
        }
    }, {
        key: 'remove',


        /**
         * Finds spinners
         * @param {string} type
         * @param {string} $container
         * @return {?jQuery} spinners
         */
        // _findSpinner = function (type, $container) {
        //     const selector = '.' + type;
        //     let $el = this.$defaultContainer;
        //     if ($container) {
        //         $el = $container;
        //     }
        //
        //     if ($el.find(selector).length > 0) {
        //         return $el.find(selector);
        //     }
        // };

        /**
         *
         * @param {string} $el
         */
        /*
        startContentSpinner = function ($el) {
            const html = handlebarsTpl(
                SPINNER_BASE_TEMPALATE, {
                    imgSrc: CTC.URLS.WAITING_IMAGE,
                    'class': classes.overlay
                });
            $el.prepend(html);
        };
          startInlineContentSpinner = function ($el) {
            const html = handlebarsTpl(
                SPINNER_BASE_TEMPALATE, {
                    imgSrc: CTC.URLS.WAITING_IMAGE,
                    'class': classes.inline
                });
            $el.prepend(html);
        };
        */

        /**
         * Starts global full page fixed spinner
         */
        /*
        startFixedSpinner = function () {
            const spinners = this._findSpinner(classes.fixed);
            if (!(CTC.isEdit() || CTC.isDesign()) && !spinners) {
                const html = handlebarsTpl(
                    SPINNER_BASE_TEMPALATE, {
                        imgSrc: CTC.URLS.WAITING_IMAGE,
                        'class': classes.fixed
                    });
                this.$defaultContainer.prepend(html);
            }
        };
        */

        /**
         * Stops spinners
         * @param {string} type
         * @param {string} $container
         */
        // _stopSpinner = function (type, $container) {
        //     const spinners = this._findSpinner(type, $container);
        //     if (spinners) {
        //         spinners.remove();
        //     }
        // };

        /**
         *
         * @param {string} $el
         */
        // stopContentSpinner = function ($el) {
        //     $el.find('.' + classes.overlay).remove();
        // };

        /**
         *
         * @param {string} $el
         */
        // stopInlineContentSpinner = function ($el) {
        //     $el.find('.' + classes.inline).remove();
        // };

        /**
         * Stops global full page fixed spinner
         */
        // stopFixedSpinner = function () {
        //     this._stopSpinner(classes.fixed);
        // };
        value: function remove() {
            if (this.$el && this.$el.length) {
                this.$el.find('.spinner-box').remove();
            }
        }

        /**
         * Adds spinner icon on button before the button text
         * @param {jQuery} $el
         */


        /**
         * Removes spinner icon from button
         * @param {jQuery} $el
         */

    }]);

    return Spinner;
}();

var spinnerInstance = null;

if (!spinnerInstance) {
    spinnerInstance = new Spinner();
}

exports.default = spinnerInstance;

/***/ }),
/* 18 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
// import {CONST} from './consts';

function dropDown() {

    /**
     * cfg ={ logsState, cbFN() }
     */
    function addDropdown($wrapper, items, cfg) {
        // console.log('addDropdown');
        var textRusArray = cfg.textRusArray,
            logsState = cfg.logsState;
        var selectClsLogsTaskType = logsState.selectClsLogsTaskType;

        var getRus = function getRus(idx) {
            var isTextRusArray = textRusArray && !!textRusArray.length;
            switch (idx) {
                case 0:
                    return isTextRusArray ? textRusArray[idx] : 'По списку';
                case 1:
                    return isTextRusArray ? textRusArray[idx] : 'По активной аудитории конкурентов';
                case 2:
                    return isTextRusArray ? textRusArray[idx] : 'default - (3)';
                default:
                    return 'default';
            }
        };
        var label = 'Выберите тип';
        $wrapper.empty().addClass('border-light-color');
        $('<div class="">' + label + '</div><select name="task-subtype" class="' + selectClsLogsTaskType + '"></select>').appendTo($wrapper);
        if (!items.length) {
            return;
        }
        $('<option class="list-group-item py-2 js_empty-subtype" value="---">---</option>').appendTo($('.' + selectClsLogsTaskType));
        items.forEach(function (name, idx) {
            $('<option class="list-group-item py-2" value="' + name + '">\n                ' + getRus(idx) + '\n            </option>').appendTo($('.' + selectClsLogsTaskType));
        });
        $('.' + selectClsLogsTaskType).on('change', function (e) {
            cfg.dropdownOnSelectCb(e);
        });
    }

    return {
        addDropdown: addDropdown
    };
}

exports.default = dropDown();

/***/ }),
/* 19 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };
// import viewUtils from '../../../common/js-services/view';


exports.init = init;

var _consts = __webpack_require__(0);

var _taskStatus = __webpack_require__(5);

var _dropdown = __webpack_require__(18);

var _dropdown2 = _interopRequireDefault(_dropdown);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var path = {
    type: '',
    subtype: ''
};
var wrappers = {
    $all: $('.tasks-all'),
    $stopped: $('.tasks-stopped')
};
var logsStateStatus = {
    wrapperSubtype: $('.subtype--box')
};

function dropdownOnSelectCb(e) {
    // const {selectClsLogsTaskType} = logsState;
    var subtype = $(e.target).find('option:selected').val();
    var pathUpdated = _extends({}, path, { subtype: subtype });
    $('.js_logs-container').addClass('d-block');
    $('option.js_empty-subtype').remove();
    (0, _taskStatus.getTasksData)(wrappers, pathUpdated);
}

function init(_ref) {
    var isInCorrectPage = _ref.isInCorrectPage,
        initialPath = _ref.initialPath,
        textRusArray = _ref.textRusArray;

    if (!isInCorrectPage) {
        return;
    }
    path = {
        type: initialPath.type,
        subtype: initialPath.subtype
    };

    // todo: merge with viewUtils.js Dropdown
    _dropdown2.default.addDropdown(logsStateStatus.wrapperSubtype, initialPath.subtypes, { logsState: logsStateStatus, dropdownOnSelectCb: dropdownOnSelectCb, textRusArray: textRusArray });

    // getTasksData(wrappers, path);
    window.PubSub.subscribe(_consts.CONST.events.tasks.NEW_TASK_CREATED, function (eventName, data) {
        (0, _taskStatus.getTasksData)(wrappers, path);
    });
}

/***/ }),
/* 20 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.renderItem = undefined;
exports.init = init;

var _user = __webpack_require__(3);

var _user2 = _interopRequireDefault(_user);

var _view = __webpack_require__(1);

var _view2 = _interopRequireDefault(_view);

var _consts = __webpack_require__(0);

var _accountsListBtnSettings = __webpack_require__(39);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var InstagramAccPageCls = '.instagram-accounts-page';
// import Spinner from '../../common/js-services/spinner';
// import PubSub from 'pubsub-js';

var isInstagramAccPage = $(InstagramAccPageCls).length;
var $msgList = $('.accounts-list');
var INSTAGRAM_ACCOUNTS_HREF = 'instagram-accounts';

function addListHandler() {
    var checkpointType = '';

    $('.js_pass-checkpoint-btn').on('click', function (e) {
        var $button = $(e.target);
        var username = $button.data('username');
        checkpointType = $button.data('checkpointType') || checkpointType;
        // $('#security-code').data('checkpointType', checkpointType);
        // todo add 'checkpointType' to modal
        var sendTo = checkpointType === 'PHONE' ? 'телефон' : 'email';
        // Spinner.start($button, 'fa-key');

        if (checkpointType === 'EMAIL_OR_PHONE') {
            e.stopPropagation();

            // инпуты спрятаны,
            // показать серые переключатели (выбрал тип)
            // есть кнопка Запросить код подтверждение
            $('#security-code-phoneOremail').modal({ show: true, username: username });

            // не отправляем реквест
            return;
        }

        _user2.default.getSecurityKey(username, checkpointType).then(function (result) {
            console.log('SecurityKey received:', result.status.state);
            if (result.status.state === 'ok') {
                var $modal = $('#security-code');

                // Spinner.stop($button, 'fa-key');
                $('.js_success-feedback', $modal).empty().text('\u041A\u043B\u044E\u0447 \u043F\u043E\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043D\u0438\u044F \u0431\u044B\u043B \u043E\u0442\u043F\u0440\u0430\u0432\u043B\u0435\u043D \u0412\u0430\u043C \u043D\u0430 ' + sendTo);

                $('#security-code').attr('data-username', username);
            }
        });
    });

    // inside modal
    $('.js_confirm-security-code').on('click', function (e) {
        var btn = $(e.target);
        var username = btn.closest('#security-code').data('username');
        var $keyInput = btn.closest('.modal').find('.modal-dialog form input.js_confirm-key');
        var key = $keyInput.val().trim();
        var $modal = btn.closest('.modal');
        e.stopPropagation();

        if (key.length !== 6) {
            return;
        }
        _user2.default.confirmSecurityKey(key, username).then(function (result) {
            if (result.status.state !== 'ok') {
                return;
            }
            // console.log('js_confirm:', result.status.state, 'close modal');
            $modal.modal('hide');
        }).catch(function (err) {
            console.log('err');
            $('.js_success-feedback', $modal).text('Запрос не отправлен').css('color', 'red');
            console.log(err);
        });
    });

    $('form input[minlength]').on('blur', function () {
        var len = $(this).val().trim().length;
        var minLen = Number($(this).attr('minlength'));
        // const message = minLen <= len ? '' : minLen + ' characters minimum';
        if (minLen !== len) {
            $(this).css('borderColor', 'red');
        } else {
            $(this).css('borderColor', '#ced4da');
        }
        // this.setCustomValidity(message)
    });

    function onHideModal(e) {
        var $modal = $(e.target);
        $modal.find('.first-step').removeClass('d-none');
        $modal.find('.second-step').addClass('d-none');
        $('.js_confirm-key').val('');
        $('.js_success-feedback', $modal).removeAttr('style').empty();
    }
    $('#security-code-phoneOremail').on('hide.bs.modal', onHideModal);
    $('#security-code').on('hide.bs.modal', onHideModal);

    // "PHONE_OR_EMAIL" modal
    $('.js_get-security-code-phoneOremail').on('click', function (e) {
        var $modal = $('#security-code-phoneOremail');
        var typeSelected = $(e.target).closest($modal).find('.js_btn-type-switcher input:checked');
        var checkpointTypeActive = typeSelected.val();
        var sendTo = checkpointTypeActive === 'PHONE' ? 'телефон' : 'email';
        var modalConfig = $modal.data()['bs.modal']._config;
        var username = modalConfig.username;
        _user2.default.getSecurityKey(username, checkpointTypeActive).then(function (result) {
            // при нажатии "Запросить код подтверждение" - отпарляется реквест "старт чекпоинт" появляеться инпут и кнопка других типах
            // get selected button

            // переключатель(серый) и кнопка "Запросить код подтверждение" исчезают
            console.log('SecurityKey received:', result.status.state);
            if (result.status.state === 'ok') {
                $('.first-step', $modal).addClass('d-none');
                $('.second-step', $modal).removeClass('d-none');
                $('.js_success-feedback', $modal).empty().text('\u041A\u043B\u044E\u0447 \u043F\u043E\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043D\u0438\u044F \u0431\u044B\u043B \u043E\u0442\u043F\u0440\u0430\u0432\u043B\u0435\u043D \u0412\u0430\u043C \u043D\u0430 ' + sendTo);
            }
        });
    });
}

var insertItem = function insertItem(data, text, cssCls) {
    var liTpl = '' + (data ? '<li class="list-inline-item ' + cssCls + '"><span class="figure">' + data + '</span><span>' + text + '</span></li>' : '<li class="list-inline-item ' + cssCls + '"><span class="figure">0</span><span>' + text + '</span></li>');
    return liTpl;
};

var stats = function stats(info) {
    var tpl = '<div class="col">\n        <ul class="list-inline text-center counts-list">\n        ' + (info ? insertItem(info['media_count'], 'Публикации', 'media-count') + '\n            ' + insertItem(info['follower_count'], 'Подписчики', 'follower-count') + '\n            ' + insertItem(info['following_count'], 'Подписки', 'following-count') : insertItem(false, 'Публикации', 'media-count') + '\n            ' + insertItem(false, 'Подписчики', 'follower-count') + '\n            ' + insertItem(false, 'Подписки', 'following-count')) + '\n        </ul>\n    </div>';
    return tpl;
};

var checkPointText = function checkPointText(checkpoint, item) {
    if (checkpoint.status === 'TRIGGERED') {
        return '<button class="btn btn-outline-secondary js_pass-checkpoint-btn d-block mx-auto" \n            data-checkpoint-type="' + (checkpoint.type || 'EMAIL') + '"\n            data-username="' + (item.username || '') + '"\n            data-toggle="modal" data-target="#security-code">\n            <i class="fas fa-key"></i>\u041F\u0440\u043E\u0439\u0442\u0438 \u0447\u0435\u043A\u043F\u043E\u0438\u043D\u0442</button>';
    } else if (item.status === 'FAIL') {
        return '<span class="text-danger">Ошибка при добавлении</span>';
    }
};

var addSettingBtn = function addSettingBtn(account) {
    var _account$username = account.username,
        username = _account$username === undefined ? '' : _account$username,
        _account$info = account.info,
        _account$info$name = _account$info.name,
        name = _account$info$name === undefined ? '' : _account$info$name,
        _account$info$email = _account$info.email,
        email = _account$info$email === undefined ? '' : _account$info$email,
        _account$info$url = _account$info.url,
        url = _account$info$url === undefined ? '' : _account$info$url,
        _account$info$biograp = _account$info.biography,
        biography = _account$info$biograp === undefined ? '' : _account$info$biograp,
        _account$info$profile = _account$info.profile_pic_url,
        profile_pic_url = _account$info$profile === undefined ? '' : _account$info$profile,
        follower_count = _account$info.follower_count,
        following_count = _account$info.following_count,
        media_count = _account$info.media_count,
        is_business = _account$info.is_business,
        is_private = _account$info.is_private;

    if (isInstagramAccPage || window.location.href.includes(INSTAGRAM_ACCOUNTS_HREF)) {
        return '<div class="account-setting col-1 d-flex flex-column">\n            <button class="btn btn-outline-success p-1 mb-1 js_acc-edit" \n                data-username="' + username + '"\n                data-name="' + name + '"\n                data-email="' + email + '"\n                data-url="' + url + '"\n                data-biography="' + biography + '"\n                data-img="' + profile_pic_url + '"\n                data-follower_count="' + follower_count + '"\n                data-following_count="' + following_count + '"\n                data-media_count="' + media_count + '"\n                data-is_business="' + is_business + '"\n                data-is_private="' + is_private + '"\n            ><i class="fas fa-pen m-0"></i></button>\n            <button class="btn btn-outline-secondary p-1 mb-1 js_acc-refresh" data-username="' + username + '"><i class="fas fa-retweet m-0"></i></button>\n            <button class="btn btn-outline-danger p-1 js_acc-delete" data-username="' + username + '"><i class="fas fa-trash m-0"></i></button>\n        </div>';
    }
};

var renderItem = exports.renderItem = function renderItem(item, cList, _defaultAvatarSrc) {
    var info = item.info;
    var checkpoint = item.checkpoint || item;
    var defaultAvatarSrc = _defaultAvatarSrc || _consts.CONST.user.defaulAvatar;
    if (!info) {
        return $('<li class="media py-3" data-username="' + item.username + '">\n            <img class="ml-3 rounded" alt="default avatar" src="' + defaultAvatarSrc + '">\n            <div class="media-body d-flex">\n                <div class="col user-info">\n                    ' + (item.username ? '<h4 class="mt-0 mb-1 name">' + item.username + '</h4>' : '') + '\n                </div>\n                <div class="col user-checkpoint">\n                    ' + checkPointText(checkpoint, item) + '\n                </div>\n                ' + stats() + '\n                ' + (addSettingBtn(item) || '') + '\n            </div>\n        </li>').appendTo(cList);
    } else {
        return $('<li class="media py-3" data-username="' + item.username + '">\n        ' + (info['profile_pic_url'] ? '<img class="ml-3 rounded" alt="User photo" src="' + info['profile_pic_url'] + '">' : '<img class="ml-3 rounded" alt="default avatar" src="' + defaultAvatarSrc + '">') + '\n        <div class="media-body d-flex">\n            <div class="col user-info">\n                ' + (item.username ? '<p class="mt-0 mb-1 name lead">' + item.username + '</p>' : '') + '\n                ' + (info.name ? '<h4 class="mt-0 mb-1">' + info.name + '</h4>' : '') + '\n                ' + (info.name ? '' : '' /* ${(info.email) ? `<p class="mt-0 mb-1">${info.email}</p>` : ''}
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      ${(info.phone) ? `<p class="mt-0 mb-1">${info.phone}</p>` : ''} */) + '\n\n            </div>\n            <div class="col user-checkpoint">\n                ' + (checkpoint.status === 'TRIGGERED' ? '<button class="btn btn-outline-secondary js_pass-checkpoint-btn d-block mx-auto"\n                        data-checkpoint-type="' + (checkpoint.type || 'EMAIL') + '"\n                        data-username="' + (item.username || '') + '"\n                        data-toggle="modal" data-target="#security-code">\n                    <i class="fas fa-key"></i>\u041F\u0440\u043E\u0439\u0442\u0438 \u0447\u0435\u043A\u043F\u043E\u0438\u043D\u0442</button>' : '') + '\n            </div>\n            ' + stats(info) + '\n            ' + (addSettingBtn(item) || '') + '\n        </div>\n    </li>');
    }
};

function fillList($list, dataArray) {
    var items = dataArray;
    var cList = $list;
    var defaultAvatarSrc = _consts.CONST.user.defaulAvatar;

    cList.empty().addClass('border-light-color');
    items.forEach(function (item) {
        renderItem(item, cList, defaultAvatarSrc).appendTo(cList);
    });
    window.PubSub.publish(_consts.CONST.events.instagramAccouns.INSTAGRAM_ACCOUNS_RENDERED, { name: name, dataArray: dataArray });
    console.log('INSTAGRAM_ACCOUNS_RENDERED');
}

function checkResponse(result /* , isResendRequest*/) {

    /*
    if (!result.status.state === 'ok' || !result.data || !$msgList.length || isResendRequest) {
        // проверям один раз наличие result.data.accounts.info
        $msgList.empty();
        $(`<li class="media">
            <div class="media-body">
                <h3 class="mt-0 mb-3">Ни одного Аккаунта не добавлено</h3>
            </div>
        </li>`).appendTo($msgList);
        setTimeout(() => {
            resendRequest().then((result) => {
                checkResponse(result, false);
            });
            console.log('Request resend');
        }, 3500);
        return;
    }
    */
    // вывод результатов (data.accounts.info)
    $('.profile-user .spinner-box').addClass('d-none');
    fillList($msgList, result.data.accounts);
    addListHandler();
}
var errMessageFront = 'Не получилось загрузить доступные Instagram аккаунты';
function cbError() {
    _view2.default.showInfoMessage($('.error-msg'), '', errMessageFront);
}

function reloadList() {
    var $msgList = $('.accounts-list');
    // TODO: add spinner
    $('.profile-user .spinner-box').removeClass('d-none');
    _user2.default.getMetadata(cbError).then(function (result) {
        $msgList.empty();
        // todo : reload list
        checkResponse(result);
    }).catch(function (err) {
        setTimeout(function () {
            _view2.default.showInfoMessage($('.error-msg'), err.status || '', errMessageFront);
        }, 3000);
        $('.spinner-box').addClass('d-none');
    });
    var cfg = {
        deleteBtnCls: '.js_acc-delete',
        updateBtnCls: '.js_acc-refresh',
        editBtnCls: '.js_acc-edit'
    };
    (0, _accountsListBtnSettings.settingButtonsHandler)(cfg);
}

// После добавления аккаунта снова дернуть МЕТА и перерисовать список аккаунтов
var addInstagramAccount = function addInstagramAccount(newFormData) {
    var cbError = function cbError(result) {
        console.log('ERROR', result);
        _view2.default.showInfoMessage($('.error-msg'), result.status.state, result.status.message || 'Login error');
        // $(_loginBox).addClass(closeClass).removeClass(openedClass);
    };
    _user2.default.addInstagramAccount(newFormData, cbError).then(function (result) {
        if (result && result.status) {
            console.log(result, result.status);
            reloadList();

            /*
            const $msgList = $('.accounts-list');
            User.getMetadata().then((result) => {
                $msgList.empty();
                // todo : reload list
                console.log(result.data, result.data.accounts);
                checkResponse(result);
            }).catch((err) => {
                setTimeout(() => {
                    viewUtils.showInfoMessage($('.error-msg'),
                        err.status || '',
                        'Не получилось загрузить доступные Instagram аккаунты');
                }, 3000);
                $('.spinner-box').addClass('d-none');
            });
            */

            // viewUtils.showInfoMessage($textAreaDescription,
            //     result.status.state,
            //     result.status.message || 'Login error');
            // $(_loginBox).addClass(closeClass).removeClass(openedClass);
        }
    }).catch(function (err) {
        // todo: render for user
        console.log(err);
    });

    console.log('submit', newFormData);
};

function addOnLoadHandlers() {
    // $('.js_repeat-security-code').on('click', (e) => {

    // });

    $('.js_add-instagram-account').on('click', function (e) {
        var btn = $(e.target);
        var $modalBody = btn.closest('.modal').find('.modal-dialog .modal-body');
        var username = $modalBody.find('input[name="username"]').val().trim();
        var password = $modalBody.find('input[name="pass"]').val().trim();
        var ip = $modalBody.find('input[name="ip"]').val().trim(); // TMP solution
        var port = $modalBody.find('input[name="port"]').val().trim(); // TMP solution
        var usernameProxy = $modalBody.find('input[name="usernameProxy"]').val().trim(); // TMP solution
        var passwordProxy = $modalBody.find('input[name="passProxy"]').val().trim(); // TMP solution
        var $form = $('form', $modalBody);
        var form = $form.get(0);
        var cssValidationClass = 'form-validation';

        e.preventDefault();
        function isValidIpv4Addr(ip) {
            return (/^(?=\d+\.\d+\.\d+\.\d+$)(?:(?:25[0-5]|2[0-4][0-9]|1[0-9]{2}|[1-9][0-9]|[0-9])\.?){4}$/.test(ip)
            );
        }
        function isValidPort(port) {
            return (/^([0-9]{1,4}|[1-5][0-9]{4}|6[0-4][0-9]{3}|65[0-4][0-9]{2}|655[0-2][0-9]|6553[0-5])$/.test(port)
            );
        }
        // const validator = new Validator($form);
        // console.log(validator.validate());
        if (form.checkValidity()) {
            addInstagramAccount({ username: username, password: password, usernameProxy: usernameProxy, passwordProxy: passwordProxy, ip: ip, port: port });
        } else {
            // Highlight errors
            if (form.reportValidity) {
                form.reportValidity();
            }
            $form.addClass(cssValidationClass);
        }

        if (!username || !password || !ip || !isValidIpv4Addr(ip) || !port || !isValidPort(port) || !usernameProxy || !passwordProxy) {
            e.stopPropagation();
            console.log('not valid fields');
            return;
        }
    });
}

/**
 * Init header
 */
function init() {
    // check we are in profile page
    if (!$msgList.length) {
        return;
    }
    // const token = User.getToken();
    var metadata = _user2.default.getMetadata(cbError);
    // const resendRequest = () => User.getMetadata(token);
    // let isSendReqOnce = false;
    // check we are in profile page
    if (!$msgList.length) {
        return;
    }

    addOnLoadHandlers();

    // может инфо отсутсвовать - сделать еще раз запрос через 3 сек.
    metadata.then(function (result) {
        // проверям один раз наличие result.data.accounts.info
        /*
        let isResendRequest = false;
        if (result.data && result.data.accounts && !isSendReqOnce) {
            result.data.accounts.forEach((item) => {
                if (!item.info) {
                    isResendRequest = true;
                    isSendReqOnce = true;
                    return;
                }
            });
        }
        */
        //    checkResponse(result, isResendRequest);
        checkResponse(result);
        var cfg = {
            deleteBtnCls: '.js_acc-delete',
            updateBtnCls: '.js_acc-refresh',
            editBtnCls: '.js_acc-edit'
        };
        (0, _accountsListBtnSettings.settingButtonsHandler)(cfg);
    }).catch(function (err) {
        setTimeout(function () {
            _view2.default.showInfoMessage($('.error-msg'), err.status || '', 'Не получилось загрузить доступные Instagram аккаунты');
        }, 3000);
        $('.spinner-box').addClass('d-none');
    });

    window.PubSub.subscribe(_consts.CONST.events.instagramAccouns.INSTAGRAM_ACCOUNS_NEED_REFRESH, function (eventName, data) {
        reloadList();
    });
    window.PubSub.subscribe(_consts.CONST.events.instagramAccouns.INSTAGRAM_ACCOUNS_RENDERED, function (eventName, data) {
        var dataArray = data.dataArray;

        dataArray.forEach(function (item) {
            var avatar = item.info && item.info.profile_pic_url || _consts.CONST.user.defaulAvatar;
            sessionStorage.setItem(item.username, avatar);
        });
    });
}

/***/ }),
/* 21 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); // import $ from 'jquery';


var _consts = __webpack_require__(0);

var _network = __webpack_require__(16);

var _network2 = _interopRequireDefault(_network);

var _cookie = __webpack_require__(4);

var _cookie2 = _interopRequireDefault(_cookie);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var UserConversation = function () {
    function UserConversation() {
        _classCallCheck(this, UserConversation);

        this.network = new _network2.default();
        this.cookieStorage = _cookie2.default;
        this.settingPost = {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
                'Accept': 'application/json'
            }
        };
    }

    _createClass(UserConversation, [{
        key: 'isLoggedIn',
        value: function isLoggedIn() {
            return !!this.getToken();
        }
    }, {
        key: 'isEmailConfirmed',
        value: function isEmailConfirmed() {
            return this.cookieStorage.get(_consts.CONST.cookieStorage.emailConfirmed) === 'confirmed';
        }
    }, {
        key: 'getToken',
        value: function getToken() {
            var cookieToken = this.cookieStorage.get(_consts.CONST.cookieStorage.token);
            return cookieToken;
        }
    }, {
        key: 'getMetadata',
        value: function getMetadata(token, cbError) {
            return this.network.sendRequest('' + _consts.CONST.getPath('instagramDirect_getMetaData'), { headers: { 'token': this.getToken() } }, cbError);
        }
    }, {
        key: 'getMetadataDetailUsers',
        value: function getMetadataDetailUsers(details, cbError) {
            var cursor = details.cursor ? '?cursor=' + details.cursor : '';
            return this.network.sendRequest(_consts.CONST.getPath('instagramDirect_getMetaData') + '/' + details.username + cursor, { headers: { 'token': this.getToken() } }, cbError);
        }
    }, {
        key: 'getMetadataDetailConversation',
        value: function getMetadataDetailConversation(token, details, cbError) {
            var cursor = details.cursor ? '?cursor=' + details.cursor : '';
            return this.network.sendRequest(_consts.CONST.getPath('instagramDirect_getMetaData') + '/' + details.username + '/' + details.conversationId + cursor, { headers: { token: token } }, cbError);
        }
    }, {
        key: 'postMetadataDetailConversation',
        value: function postMetadataDetailConversation(token, details, cbError) {
            var setting = _extends({}, this.settingPost, {
                body: JSON.stringify({ 'value': details.value }),
                headers: _extends({}, this.settingPost.headers, {
                    'token': this.getToken()
                })
            });
            return this.network.sendRequest(_consts.CONST.getPath('instagramDirect_postMessage') + '/' + details.username + '/' + details.conversationId + '/text', setting, cbError);
        }
        // --- Request Pending

    }, {
        key: 'getRequestPending',
        value: function getRequestPending(username, cbError) {
            // const cursor = (details.cursor) ? `?cursor=${details.cursor}` : '';
            return this.network.sendRequest(_consts.CONST.getPath('instagramDirect_RequestPending') + '/' + username, { headers: { 'token': this.getToken() } }, cbError);
        }
    }, {
        key: 'putRequestPending',
        value: function putRequestPending(confirmUserData, cbError) {
            var setting = _extends({}, this.settingPost, {
                method: 'PUT',
                headers: _extends({}, this.settingPost.headers, {
                    'token': this.getToken()
                })
            });
            var username = confirmUserData.username,
                conversationId = confirmUserData.conversationId;

            return this.network.sendRequest(_consts.CONST.getPath('instagramDirect_RequestPending') + '/' + username + '/' + conversationId, setting, cbError);
        }
    }, {
        key: 'delRequestPending',
        value: function delRequestPending(confirmUserData, cbError) {
            var setting = {
                method: 'DELETE',
                headers: _extends({}, this.settingPost.headers, {
                    'token': this.getToken()
                })
            };
            var username = confirmUserData.username,
                conversationId = confirmUserData.conversationId;

            return this.network.sendRequest(_consts.CONST.getPath('instagramDirect_RequestPending') + '/' + username + '/' + conversationId, setting, cbError);
        }
    }]);

    return UserConversation;
}();

var userInstance = null;

if (!userInstance) {
    userInstance = new UserConversation();
}

exports.default = userInstance;

/***/ }),
/* 22 */
/***/ (function(module, exports) {

/*!
 * EmojioneArea v3.0.0
 * https://github.com/mervick/emojionearea
 * Copyright Andrey Izman and other contributors
 * Released under the MIT license
 * Date: 2016-05-06T10:33Z
 */
(function(document, window, $) {
    'use strict';

    var unique = 0;
    var eventStorage = {};
    var possibleEvents = {};
    var emojione = window.emojione;
    var readyCallbacks = [];
    function emojioneReady (fn) {
        if (emojione) {
            fn();
        } else {
            readyCallbacks.push(fn);
        }
    };
    var blankImg = 'data:image/gif;base64,R0lGODlhAQABAJH/AP///wAAAMDAwAAAACH5BAEAAAIALAAAAAABAAEAAAICVAEAOw==';
    var slice = [].slice;
    var css_class = "emojionearea";
    var emojioneSupportMode = 0;
    function trigger(self, event, args) {
        var result = true, j = 1;
        if (event) {
            event = event.toLowerCase();
            do {
                var _event = j==1 ? '@' + event : event;
                if (eventStorage[self.id][_event] && eventStorage[self.id][_event].length) {
                    $.each(eventStorage[self.id][_event], function (i, fn) {
                        return result = fn.apply(self, args|| []) !== false;
                    });
                }
            } while (result && !!j--);
        }
        return result;
    }
    function attach(self, element, events, target) {
        target = target || function (event, callerEvent) { return $(callerEvent.currentTarget) };
        $.each(events, function(event, link) {
            event = $.isArray(events) ? link : event;
            (possibleEvents[self.id][link] || (possibleEvents[self.id][link] = []))
                .push([element, event, target]);
        });
    }
    function getTemplate(template, unicode, shortname) {
        return template
            .replace('{name}', shortname || '')
            .replace('{img}', emojione.imagePathPNG + (emojioneSupportMode < 2 ? unicode.toUpperCase() : unicode) + '.png')
            .replace('{uni}', unicode)
            .replace('{alt}', emojione.convert(unicode));
    }
    function shortnameTo(str, template, clear) {
        return str.replace(/:?\+?[\w_\-]+:?/g, function(shortname) {
            shortname = ":" + shortname.replace(/:$/,'').replace(/^:/,'') + ":";
            var unicode = emojione.emojioneList[shortname];
            if (unicode) {
                if (emojioneSupportMode > 3) unicode = unicode.unicode;
                return getTemplate(template, unicode[unicode.length-1], shortname);
            }
            return clear ? '' : shortname;
        });
    };
    function pasteHtmlAtCaret(html) {
        var sel, range;
        if (window.getSelection) {
            sel = window.getSelection();
            if (sel.getRangeAt && sel.rangeCount) {
                range = sel.getRangeAt(0);
                range.deleteContents();
                var el = document.createElement("div");
                el.innerHTML = html;
                var frag = document.createDocumentFragment(), node, lastNode;
                while ( (node = el.firstChild) ) {
                    lastNode = frag.appendChild(node);
                }
                range.insertNode(frag);
                if (lastNode) {
                    range = range.cloneRange();
                    range.setStartAfter(lastNode);
                    range.collapse(true);
                    sel.removeAllRanges();
                    sel.addRange(range);
                }
            }
        } else if (document.selection && document.selection.type != "Control") {
            document.selection.createRange().pasteHTML(html);
        }
    }
    var default_options = {
        attributes: {
            dir               : "ltr",
            spellcheck        : false,
            autocomplete      : "off",
            autocorrect       : "off",
            autocapitalize    : "off",
        },
        placeholder       : null,
        container         : null,
        hideSource        : true,
        shortnames        : true,
        sprite            : true,
        pickerPosition    : "top", // top | bottom | right
        filtersPosition   : "top", // top | bottom
        hidePickerOnBlur  : true,
        buttonTitle       : "Use the TAB key to insert emoji faster",
        tones             : true,
        tonesStyle        : "bullet", // bullet | radio | square | checkbox
        inline            : null, // null - auto
        saveEmojisAs      : "unicode", // unicode | shortname | image
        shortcuts         : true,
        autocomplete      : true,
        autocompleteTones : false,

        filters: {
            tones: {
                title: "Diversity",
                emoji: "santa runner surfer swimmer lifter ear nose point_up_2 point_down point_left point_right punch " +
                "wave ok_hand thumbsup thumbsdown clap open_hands boy girl man woman cop bride_with_veil person_with_blond_hair " +
                "man_with_gua_pi_mao man_with_turban older_man grandma baby construction_worker princess angel " +
                "information_desk_person guardsman dancer nail_care massage haircut muscle spy hand_splayed middle_finger " +
                "vulcan no_good ok_woman bow raising_hand raised_hands person_frowning person_with_pouting_face pray rowboat " +
                "bicyclist mountain_bicyclist walking bath metal point_up basketball_player fist raised_hand v writing_hand"
            },

            smileys_people: {
                icon: "yum",
                title: "Smileys & People",
                emoji: "grinning grimacing grin joy smiley smile sweat_smile laughing innocent wink blush slight_smile " +
                "upside_down relaxed yum relieved heart_eyes kissing_heart kissing kissing_smiling_eyes " +
                "kissing_closed_eyes stuck_out_tongue_winking_eye stuck_out_tongue_closed_eyes stuck_out_tongue " +
                "money_mouth nerd sunglasses hugging smirk no_mouth neutral_face expressionless unamused rolling_eyes " +
                "thinking flushed disappointed worried angry rage pensive confused slight_frown frowning2 persevere " +
                "confounded tired_face weary triumph open_mouth scream fearful cold_sweat hushed frowning anguished " +
                "cry disappointed_relieved sleepy sweat sob dizzy_face astonished zipper_mouth mask thermometer_face " +
                "head_bandage sleeping zzz poop smiling_imp imp japanese_ogre japanese_goblin skull ghost alien robot " +
                "smiley_cat smile_cat joy_cat heart_eyes_cat smirk_cat kissing_cat scream_cat crying_cat_face " +
                "pouting_cat raised_hands clap wave thumbsup thumbsdown punch fist v ok_hand raised_hand open_hands " +
                "muscle pray point_up point_up_2 point_down point_left point_right middle_finger hand_splayed metal " +
                "vulcan writing_hand nail_care lips tongue ear nose eye eyes bust_in_silhouette busts_in_silhouette " +
                "speaking_head baby boy girl man woman person_with_blond_hair older_man older_woman man_with_gua_pi_mao " +
                "man_with_turban cop construction_worker guardsman spy santa angel princess bride_with_veil walking " +
                "runner dancer dancers couple two_men_holding_hands two_women_holding_hands bow information_desk_person " +
                "no_good ok_woman raising_hand person_with_pouting_face person_frowning haircut massage couple_with_heart " +
                "couple_ww couple_mm couplekiss kiss_ww kiss_mm family family_mwg family_mwgb family_mwbb family_mwgg " +
                "family_wwb family_wwg family_wwgb family_wwbb family_wwgg family_mmb family_mmg family_mmgb family_mmbb " +
                "family_mmgg womans_clothes shirt jeans necktie dress bikini kimono lipstick kiss footprints high_heel " +
                "sandal boot mans_shoe athletic_shoe womans_hat tophat helmet_with_cross mortar_board crown school_satchel " +
                "pouch purse handbag briefcase eyeglasses dark_sunglasses ring closed_umbrella"
            },

            animals_nature: {
                icon: "hamster",
                title: "Animals & Nature",
                emoji: "dog cat mouse hamster rabbit bear panda_face koala tiger lion_face cow pig pig_nose frog " +
                "octopus monkey_face see_no_evil hear_no_evil speak_no_evil monkey chicken penguin bird baby_chick " +
                "hatching_chick hatched_chick wolf boar horse unicorn bee bug snail beetle ant spider scorpion crab " +
                "snake turtle tropical_fish fish blowfish dolphin whale whale2 crocodile leopard tiger2 water_buffalo " +
                "ox cow2 dromedary_camel camel elephant goat ram sheep racehorse pig2 rat mouse2 rooster turkey dove " +
                "dog2 poodle cat2 rabbit2 chipmunk feet dragon dragon_face cactus christmas_tree evergreen_tree " +
                "deciduous_tree palm_tree seedling herb shamrock four_leaf_clover bamboo tanabata_tree leaves " +
                "fallen_leaf maple_leaf ear_of_rice hibiscus sunflower rose tulip blossom cherry_blossom bouquet " +
                "mushroom chestnut jack_o_lantern shell spider_web earth_americas earth_africa earth_asia full_moon " +
                "waning_gibbous_moon last_quarter_moon waning_crescent_moon new_moon waxing_crescent_moon " +
                "first_quarter_moon waxing_gibbous_moon new_moon_with_face full_moon_with_face first_quarter_moon_with_face " +
                "last_quarter_moon_with_face sun_with_face crescent_moon star star2 dizzy sparkles comet sunny " +
                "white_sun_small_cloud partly_sunny white_sun_cloud white_sun_rain_cloud cloud cloud_rain " +
                "thunder_cloud_rain cloud_lightning zap fire boom snowflake cloud_snow snowman2 snowman wind_blowing_face " +
                "dash cloud_tornado fog umbrella2 umbrella droplet sweat_drops ocean"
            },

            food_drink: {
                icon: "pizza",
                title: "Food & Drink",
                emoji: "green_apple apple pear tangerine lemon banana watermelon grapes strawberry melon cherries peach " +
                "pineapple tomato eggplant hot_pepper corn sweet_potato honey_pot bread cheese poultry_leg meat_on_bone " +
                "fried_shrimp egg hamburger fries hotdog pizza spaghetti taco burrito ramen stew fish_cake sushi bento " +
                "curry rice_ball rice rice_cracker oden dango shaved_ice ice_cream icecream cake birthday custard candy " +
                "lollipop chocolate_bar popcorn doughnut cookie beer beers wine_glass cocktail tropical_drink champagne " +
                "sake tea coffee baby_bottle fork_and_knife fork_knife_plate"
            },

            activity: {
                icon: "basketball",
                title: "Activity",
                emoji: "soccer basketball football baseball tennis volleyball rugby_football 8ball golf golfer ping_pong " +
                "badminton hockey field_hockey cricket ski skier snowboarder ice_skate bow_and_arrow fishing_pole_and_fish " +
                "rowboat swimmer surfer bath basketball_player lifter bicyclist mountain_bicyclist horse_racing levitate " +
                "trophy running_shirt_with_sash medal military_medal reminder_ribbon rosette ticket tickets performing_arts " +
                "art circus_tent microphone headphones musical_score musical_keyboard saxophone trumpet guitar violin " +
                "clapper video_game space_invader dart game_die slot_machine bowling"
            },

            travel_places: {
                icon: "rocket",
                title: "Travel & Places",
                emoji: "red_car taxi blue_car bus trolleybus race_car police_car ambulance fire_engine minibus truck " +
                "articulated_lorry tractor motorcycle bike rotating_light oncoming_police_car oncoming_bus " +
                "oncoming_automobile oncoming_taxi aerial_tramway mountain_cableway suspension_railway railway_car " +
                "train monorail bullettrain_side bullettrain_front light_rail mountain_railway steam_locomotive train2 " +
                "metro tram station helicopter airplane_small airplane airplane_departure airplane_arriving sailboat " +
                "motorboat speedboat ferry cruise_ship rocket satellite_orbital seat anchor construction fuelpump busstop " +
                "vertical_traffic_light traffic_light checkered_flag ship ferris_wheel roller_coaster carousel_horse " +
                "construction_site foggy tokyo_tower factory fountain rice_scene mountain mountain_snow mount_fuji volcano " +
                "japan camping tent park motorway railway_track sunrise sunrise_over_mountains desert beach island " +
                "city_sunset city_dusk cityscape night_with_stars bridge_at_night milky_way stars sparkler fireworks " +
                "rainbow homes european_castle japanese_castle stadium statue_of_liberty house house_with_garden " +
                "house_abandoned office department_store post_office european_post_office hospital bank hotel " +
                "convenience_store school love_hotel wedding classical_building church mosque synagogue kaaba shinto_shrine"
            },

            objects: {
                icon: "bulb",
                title: "Objects",
                emoji: "watch iphone calling computer keyboard desktop printer mouse_three_button trackball joystick " +
                "compression minidisc floppy_disk cd dvd vhs camera camera_with_flash video_camera movie_camera projector " +
                "film_frames telephone_receiver telephone pager fax tv radio microphone2 level_slider control_knobs " +
                "stopwatch timer alarm_clock clock hourglass_flowing_sand hourglass satellite battery electric_plug bulb " +
                "flashlight candle wastebasket oil money_with_wings dollar yen euro pound moneybag credit_card gem scales " +
                "wrench hammer hammer_pick tools pick nut_and_bolt gear chains gun bomb knife dagger crossed_swords shield " +
                "smoking skull_crossbones coffin urn amphora crystal_ball prayer_beads barber alembic telescope microscope " +
                "hole pill syringe thermometer label bookmark toilet shower bathtub key key2 couch sleeping_accommodation " +
                "bed door bellhop frame_photo map beach_umbrella moyai shopping_bags balloon flags ribbon gift confetti_ball " +
                "tada dolls wind_chime crossed_flags izakaya_lantern envelope envelope_with_arrow incoming_envelope e-mail " +
                "love_letter postbox mailbox_closed mailbox mailbox_with_mail mailbox_with_no_mail package postal_horn " +
                "inbox_tray outbox_tray scroll page_with_curl bookmark_tabs bar_chart chart_with_upwards_trend " +
                "chart_with_downwards_trend page_facing_up date calendar calendar_spiral card_index card_box ballot_box " +
                "file_cabinet clipboard notepad_spiral file_folder open_file_folder dividers newspaper2 newspaper notebook " +
                "closed_book green_book blue_book orange_book notebook_with_decorative_cover ledger books book link " +
                "paperclip paperclips scissors triangular_ruler straight_ruler pushpin round_pushpin triangular_flag_on_post " +
                "flag_white flag_black closed_lock_with_key lock unlock lock_with_ink_pen pen_ballpoint pen_fountain " +
                "black_nib pencil pencil2 crayon paintbrush mag mag_right"
            },

            symbols: {
                icon: "heartpulse",
                title: "Symbols",
                emoji: "heart yellow_heart green_heart blue_heart purple_heart broken_heart heart_exclamation two_hearts " +
                "revolving_hearts heartbeat heartpulse sparkling_heart cupid gift_heart heart_decoration peace cross " +
                "star_and_crescent om_symbol wheel_of_dharma star_of_david six_pointed_star menorah yin_yang orthodox_cross " +
                "place_of_worship ophiuchus aries taurus gemini cancer leo virgo libra scorpius sagittarius capricorn " +
                "aquarius pisces id atom u7a7a u5272 radioactive biohazard mobile_phone_off vibration_mode u6709 u7121 " +
                "u7533 u55b6 u6708 eight_pointed_black_star vs accept white_flower ideograph_advantage secret congratulations " +
                "u5408 u6e80 u7981 a b ab cl o2 sos no_entry name_badge no_entry_sign x o anger hotsprings no_pedestrians " +
                "do_not_litter no_bicycles non-potable_water underage no_mobile_phones exclamation grey_exclamation question " +
                "grey_question bangbang interrobang 100 low_brightness high_brightness trident fleur-de-lis part_alternation_mark " +
                "warning children_crossing beginner recycle u6307 chart sparkle eight_spoked_asterisk negative_squared_cross_mark " +
                "white_check_mark diamond_shape_with_a_dot_inside cyclone loop globe_with_meridians m atm sa passport_control " +
                "customs baggage_claim left_luggage wheelchair no_smoking wc parking potable_water mens womens baby_symbol " +
                "restroom put_litter_in_its_place cinema signal_strength koko ng ok up cool new free zero one two three four " +
                "five six seven eight nine ten 1234 arrow_forward pause_button play_pause stop_button record_button track_next " +
                "track_previous fast_forward rewind twisted_rightwards_arrows repeat repeat_one arrow_backward arrow_up_small " +
                "arrow_down_small arrow_double_up arrow_double_down arrow_right arrow_left arrow_up arrow_down arrow_upper_right " +
                "arrow_lower_right arrow_lower_left arrow_upper_left arrow_up_down left_right_arrow arrows_counterclockwise " +
                "arrow_right_hook leftwards_arrow_with_hook arrow_heading_up arrow_heading_down hash asterisk information_source " +
                "abc abcd capital_abcd symbols musical_note notes wavy_dash curly_loop heavy_check_mark arrows_clockwise " +
                "heavy_plus_sign heavy_minus_sign heavy_division_sign heavy_multiplication_x heavy_dollar_sign currency_exchange " +
                "copyright registered tm end back on top soon ballot_box_with_check radio_button white_circle black_circle " +
                "red_circle large_blue_circle small_orange_diamond small_blue_diamond large_orange_diamond large_blue_diamond " +
                "small_red_triangle black_small_square white_small_square black_large_square white_large_square small_red_triangle_down " +
                "black_medium_square white_medium_square black_medium_small_square white_medium_small_square black_square_button " +
                "white_square_button speaker sound loud_sound mute mega loudspeaker bell no_bell black_joker mahjong spades " +
                "clubs hearts diamonds flower_playing_cards thought_balloon anger_right speech_balloon clock1 clock2 clock3 " +
                "clock4 clock5 clock6 clock7 clock8 clock9 clock10 clock11 clock12 clock130 clock230 clock330 clock430 " +
                "clock530 clock630 clock730 clock830 clock930 clock1030 clock1130 clock1230 eye_in_speech_bubble"
            },

            flags: {
                icon: "flag_gb",
                title: "Flags",
                emoji: "ac af al dz ad ao ai ag ar am aw au at az bs bh bd bb by be bz bj bm bt bo ba bw br bn bg bf bi " +
                "cv kh cm ca ky cf td flag_cl cn co km cg flag_cd cr hr cu cy cz dk dj dm do ec eg sv gq er ee et fk fo " +
                "fj fi fr pf ga gm ge de gh gi gr gl gd gu gt gn gw gy ht hn hk hu is in flag_id ir iq ie il it ci jm jp " +
                "je jo kz ke ki xk kw kg la lv lb ls lr ly li lt lu mo mk mg mw my mv ml mt mh mr mu mx fm md mc mn me " +
                "ms ma mz mm na nr np nl nc nz ni ne flag_ng nu kp no om pk pw ps pa pg py pe ph pl pt pr qa ro ru rw " +
                "sh kn lc vc ws sm st flag_sa sn rs sc sl sg sk si sb so za kr es lk sd sr sz se ch sy tw tj tz th tl " +
                "tg to tt tn tr flag_tm flag_tm ug ua ae gb us vi uy uz vu va ve vn wf eh ye zm zw re ax ta io bq cx " +
                "cc gg im yt nf pn bl pm gs tk bv hm sj um ic ea cp dg as aq vg ck cw eu gf tf gp mq mp sx ss tc "
            }
        }
    };
    function isObject(variable) {
        return typeof variable === 'object';
    };
    function getOptions(options) {
        if (options['filters']) {
            var filters = default_options.filters;
            $.each(options['filters'], function(filter, data) {
                if (!isObject(data) || $.isEmptyObject(data)) {
                    delete filters[filter];
                    return;
                }
                $.each(data, function(key, val) {
                    filters[filter][key] = val;
                });
            });
            options['filters'] = filters;
        }
        return $.extend({}, default_options, options);
    }

    var saveSelection, restoreSelection;
    if (window.getSelection && document.createRange) {
        saveSelection = function(el) {
            var range = window.getSelection().getRangeAt(0);
            var preSelectionRange = range.cloneRange();
            preSelectionRange.selectNodeContents(el);
            preSelectionRange.setEnd(range.startContainer, range.startOffset);
            return preSelectionRange.toString().length;
        };

        restoreSelection = function(el, sel) {
            var charIndex = 0, range = document.createRange();
            range.setStart(el, 0);
            range.collapse(true);
            var nodeStack = [el], node, foundStart = false, stop = false;

            while (!stop && (node = nodeStack.pop())) {
                if (node.nodeType == 3) {
                    var nextCharIndex = charIndex + node.length;
                    if (!foundStart && sel >= charIndex && sel <= nextCharIndex) {
                        range.setStart(node, sel - charIndex);
                        range.setEnd(node, sel - charIndex);
                        stop = true;
                    }
                    charIndex = nextCharIndex;
                } else {
                    var i = node.childNodes.length;
                    while (i--) {
                        nodeStack.push(node.childNodes[i]);
                    }
                }
            }

            sel = window.getSelection();
            sel.removeAllRanges();
            sel.addRange(range);
        }
    } else if (document.selection && document.body.createTextRange) {
        saveSelection = function(el) {
            var selectedTextRange = document.selection.createRange(),
                preSelectionTextRange = document.body.createTextRange();
            preSelectionTextRange.moveToElementText(el);
            preSelectionTextRange.setEndPoint("EndToStart", selectedTextRange);
            var start = preSelectionTextRange.text.length;
            return start + selectedTextRange.text.length;
        };

        restoreSelection = function(el, sel) {
            var textRange = document.body.createTextRange();
            textRange.moveToElementText(el);
            textRange.collapse(true);
            textRange.moveEnd("character", sel);
            textRange.moveStart("character", sel);
            textRange.select();
        };
    }


    var uniRegexp;
    var emojioneVersion = window.emojioneVersion || '2.1.4';

    var cdn_base = "https://cdnjs.cloudflare.com/ajax/libs/emojione/";
    function detectVersion() {
        var version = emojione.cacheBustParam;
        if (!isObject(emojione['jsEscapeMap'])) return '1.5.2';
        if (version === "?v=1.2.4") return '2.0.0';
        if (version === "?v=2.0.1") return '2.1.0'; // v2.0.1 || v2.1.0
        if (version === "?v=2.1.1") return '2.1.1';
        if (version === "?v=2.1.2") return '2.1.2';
        if (version === "?v=2.1.3") return '2.1.3';
        if (version === "?v=2.1.4") return '2.1.4';
        return '2.1.4';
    }
    function getSupportMode(version) {
        switch (version) {
            case '1.5.2': return 0;
            case '2.0.0': return 1;
            case '2.1.0':
            case '2.1.1': return 2;
            case '2.1.2': return 3;
            case '2.1.3':
            case '2.1.4':
            default: return 4;
        }
    }
    if (!emojione || getSupportMode(detectVersion()) < 2) {
        $.getScript(cdn_base + emojioneVersion + "/lib/js/emojione.min.js", function () {
            emojione = window.emojione;
            emojioneVersion = detectVersion();
            emojioneSupportMode = getSupportMode(emojioneVersion);
            cdn_base += emojioneVersion + "/assets";
            var sprite = cdn_base +"/sprites/emojione.sprites.css";
            if (document.createStyleSheet) {
                document.createStyleSheet(sprite);
            } else {
                $('<link/>', {rel: 'stylesheet', href: sprite}).appendTo('head');
            }
            while (readyCallbacks.length) {
                readyCallbacks.shift().call();
            }
        });
    } else {
        emojioneVersion = detectVersion();
        emojioneSupportMode = getSupportMode(emojioneVersion);
        cdn_base += emojioneVersion + "/assets";
    }

    emojioneReady(function() {
        emojione.imagePathPNG = cdn_base + "/png/";
        uniRegexp = new RegExp("<object[^>]*>.*?<\/object>|<span[^>]*>.*?<\/span>|<(?:object|embed|svg|img|div|span|p|a)[^>]*>|("+
            emojione.unicodeRegexp+")", "gi");
    });
    function unicodeTo(str, template) {
        return str.replace(uniRegexp, function(unicodeChar) {
            var map = emojione[(emojioneSupportMode === 0 ? 'jsecapeMap' : 'jsEscapeMap')];
            if (typeof unicodeChar !== 'undefined' && unicodeChar in map) {
                return getTemplate(template, map[unicodeChar]);
            }
            return unicodeChar;
        });
    }
    function htmlFromText(str, self) {
        str = str
            .replace(/&/g, '&amp;')
            .replace(/</g, '&lt;')
            .replace(/>/g, '&gt;')
            .replace(/"/g, '&quot;')
            .replace(/'/g, '&#x27;')
            .replace(/`/g, '&#x60;')
            .replace(/(?:\r\n|\r|\n)/g, '\n')
            .replace(/(\n+)/g, '<div>$1</div>')
            .replace(/\n/g, '<br/>')
            .replace(/<br\/><\/div>/g, '</div>');
        if (self.shortnames) {
            str = emojione.shortnameToUnicode(str);
        }
        return unicodeTo(str, self.emojiTemplate)
            .replace(/\t/g, '&nbsp;&nbsp;&nbsp;&nbsp;')
            .replace(/  /g, '&nbsp;&nbsp;');
    }
    function textFromHtml(str, self) {
        str = str
            .replace(/<img[^>]*alt="([^"]+)"[^>]*>/ig, '$1')
            .replace(/\n|\r/g, '')
            .replace(/<br[^>]*>/ig, '\n')
            .replace(/(?:<(?:div|p|ol|ul|li|pre|code|object)[^>]*>)+/ig, '<div>')
            .replace(/(?:<\/(?:div|p|ol|ul|li|pre|code|object)>)+/ig, '</div>')
            .replace(/\n<div><\/div>/ig, '\n')
            .replace(/<div><\/div>\n/ig, '\n')
            .replace(/(?:<div>)+<\/div>/ig, '\n')
            .replace(/([^\n])<\/div><div>/ig, '$1\n')
            .replace(/(?:<\/div>)+/ig, '</div>')
            .replace(/([^\n])<\/div>([^\n])/ig, '$1\n$2')
            .replace(/<\/div>/ig, '')
            .replace(/([^\n])<div>/ig, '$1\n')
            .replace(/\n<div>/ig, '\n')
            .replace(/<div>\n/ig, '\n\n')
            .replace(/<(?:[^>]+)?>/g, '')
            .replace(/&#8291;/g, '')
            .replace(/&nbsp;/g, ' ')
            .replace(/&lt;/g, '<')
            .replace(/&gt;/g, '>')
            .replace(/&quot;/g, '"')
            .replace(/&#x27;/g, "'")
            .replace(/&#x60;/g, '`')
            .replace(/&amp;/g, '&');

        switch (self.saveEmojisAs) {
            case 'image':
                str = unicodeTo(str, self.emojiTemplate);
                break;
            case 'shortname':
                str = emojione.toShort(str);
        }
        return str;
    }
    function calcButtonPosition() {
        var self = this,
            offset = self.editor[0].offsetWidth - self.editor[0].clientWidth,
            current = parseInt(self.button.css('marginRight'));
        if (current !== offset) {
            self.button.css({marginRight: offset});
            if (self.pickerPosition === 'top') {
                self.picker.css({right: parseInt(self.picker.css('right')) - current + offset});
            }
        }
    }
    function lazyLoading() {
        var self = this;
        if (!self.sprite && self.lasyEmoji[0]) {
            var pickerTop = self.picker.offset().top,
                pickerBottom = pickerTop + self.picker.height() + 20;
            self.lasyEmoji.each(function() {
                var e = $(this), top = e.offset().top;
                if (top > pickerTop && top < pickerBottom) {
                    e.attr("src", e.data("src")).removeClass("lazy-emoji");
                }
            })
            self.lasyEmoji = self.lasyEmoji.filter(".lazy-emoji");
        }
    }
    function selector (prefix, skip_dot) {
        return (skip_dot ? '' : '.') + css_class + (prefix ? ("-" + prefix) : "");
    }
    function div(prefix) {
        var parent = $('<div/>', isObject(prefix) ? prefix : {"class" : selector(prefix, true)});
        $.each(slice.call(arguments).slice(1), function(i, child) {
            if ($.isFunction(child)) {
                child = child.call(parent);
            }
            if (child) {
                $(child).appendTo(parent);
            }
        });
        return parent;
    }
    function init(self, source, options) {
        //calcElapsedTime('init', function() {
        options = getOptions(options);
        self.sprite = options.sprite && emojioneSupportMode < 3;
        self.inline = options.inline === null ? source.is("INPUT") : options.inline;
        self.shortnames = options.shortnames;
        self.pickerPosition = options.pickerPosition;
        self.saveEmojisAs = options.saveEmojisAs;
        self.emojiTemplate = '<img alt="{alt}" class="emojione' + (self.sprite ? '-{uni}" src="' + blankImg + '"/>' : 'emoji" src="{img}"/>');

        var sourceValFunc = source.is("TEXTAREA") || source.is("INPUT") ? "val" : "text",
            editor, button, picker, tones, filters, filtersBtns, emojisList, categories, scrollArea,
            app = div({"class" : css_class + " " + (source.attr("class") || ""), role: "application"},
                editor = self.editor = div('editor').attr({
                    contenteditable: true,
                    placeholder: options["placeholder"] || source.data("placeholder") || source.attr("placeholder") || "",
                    tabindex: 0
                }),
                button = self.button = div('button',
                    div('button-open'),
                    div('button-close')
                ).attr('title', options.buttonTitle),
                picker = self.picker = div('picker',
                    div('wrapper',
                        filters = div('filters'),
                        scrollArea = div('scroll-area',
                            emojisList = div('emojis-list'),
                            tones = div('tones',
                                function() {
                                    if (options.tones) {
                                        this.addClass(selector('tones-' + options.tonesStyle, true));
                                        for (var i = 0; i <= 5; i++) {
                                            this.append($("<i/>", {
                                                "class": "btn-tone btn-tone-" + i + (!i ? " active" : ""),
                                                "data-skin": i,
                                                role: "button"
                                            }));
                                        }
                                    }
                                }
                            )
                        )
                    )
                ).addClass(selector('picker-position-' + options.pickerPosition, true))
                 .addClass(selector('filters-position-' + options.filtersPosition, true))
                 .addClass('hidden')
            );

        $.each(options.attributes, function(attr, value) {
            editor.attr(attr, value);
        });

        $.each(options.filters, function(filter, params) {
            var skin = 0;
            if (filter !== 'tones') {
                $("<i/>", {
                    "class": selector("filter", true) + " " + selector("filter-" + filter, true),
                    "data-filter": filter,
                    title: params.title
                })
                .wrapInner(shortnameTo(params.icon, self.sprite ? '<i class="emojione-{uni}"/>' : '<img class="emojioneemoji" src="{img}"/>'))
                .appendTo(filters);
            } else if (options.tones) {
                skin = 5;
            } else {
                return;
            }
            do {
                var category = div('category').attr({name: filter, "data-tone": skin}).appendTo(emojisList),
                    items = params.emoji.replace(/[\s,;]+/g, '|');
                if (skin > 0) {
                    category.hide();
                    items = items.split('|').join('_tone' + skin + '|') + '_tone' + skin;
                }
                items = shortnameTo(items,
                    self.sprite ?
                    '<i class="emojibtn" role="button" data-name="{name}"><i class="emojione-{uni}"></i></i>' :
                    '<i class="emojibtn" role="button" data-name="{name}"><img class="emojioneemoji lazy-emoji" data-src="{img}"/></i>',
                    true).split('|').join('');
                category.html(items);
                $('<h1/>').text(params.title).prependTo(category);
            } while (--skin > 0);
        });

        options.filters = null;
        if (!self.sprite) {
            self.lasyEmoji = emojisList.find(".lazy-emoji");
        }

        filtersBtns = filters.find(selector("filter"));
        filtersBtns.eq(0).addClass("active");
        categories = emojisList.find(selector("category"));

        if (options.container) {
            $(options.container).wrapInner(app);
        } else {
            app.insertAfter(source);
        }

        if (options.hideSource) {
            source.hide();
        }

        self.setText(source[sourceValFunc]());
        source[sourceValFunc](self.getText());
        calcButtonPosition.apply(self);

        // attach() must be called before any .on() methods !!!
        // 1) attach() stores events into possibleEvents{},
        // 2) .on() calls bindEvent() and stores handlers into eventStorage{},
        // 3) bindEvent() finds events in possibleEvents{} and bind founded via jQuery.on()
        // 4) attached events via jQuery.on() calls trigger()
        // 5) trigger() calls handlers stored into eventStorage{}

        attach(self, emojisList.find(".emojibtn"), {click: "emojibtn.click"});
        attach(self, window, {resize: "!resize"});
        attach(self, tones.children(), {click: "tone.click"});
        attach(self, [picker, button], {mousedown: "!mousedown"}, editor);
        attach(self, button, {click: "button.click"});
        attach(self, editor, {paste :"!paste"}, editor);
        attach(self, editor, ["focus", "blur"], function() { return self.stayFocused ? false : editor; });
        attach(self, picker, {mousedown: "picker.mousedown", mouseup: "picker.mouseup", click: "picker.click",
            keyup: "picker.keyup", keydown: "picker.keydown", keypress: "picker.keypress"});
        attach(self, editor, ["mousedown", "mouseup", "click", "keyup", "keydown", "keypress"]);
        attach(self, picker.find(".emojionearea-filter"), {click: "filter.click"});

        if (isObject(options.events) && !$.isEmptyObject(options.events)) {
            $.each(options.events, function(event, handler) {
                self.on(event.replace(/_/g, '.'), handler);
            });
        }

        var noListenScroll = false;
        scrollArea.on('scroll', function () {
            if (!noListenScroll) {
                lazyLoading.call(self);
                if (scrollArea.is(":not(.skinnable)")) {
                    var item = categories.eq(0), scrollTop = scrollArea.offset().top;
                    categories.each(function (i, e) {
                        if ($(e).offset().top - scrollTop >= 10) {
                            return false;
                        }
                        item = $(e);
                    });
                    var filter = filtersBtns.filter('[data-filter="' + item.attr("name") + '"]');
                    if (filter[0] && !filter.is(".active")) {
                        filtersBtns.removeClass("active");
                        filter.addClass("active");
                    }
                }
            }
        });

        self.on("@filter.click", function(filter) {
            var isActive = filter.is(".active");
            if (scrollArea.is(".skinnable")) {
                if (isActive) return;
                tones.children().eq(0).click();
            }
            noListenScroll = true;
            if (!isActive) {
                filtersBtns.filter(".active").removeClass("active");
                filter.addClass("active");
            }
            var headerOffset = categories.filter('[name="' + filter.data('filter') + '"]').offset().top,
                scroll = scrollArea.scrollTop(),
                offsetTop = scrollArea.offset().top;
            scrollArea.stop().animate({
                scrollTop: headerOffset + scroll - offsetTop - 2
            }, 200, 'swing', function () {
                lazyLoading.call(self);
                noListenScroll = false;
            });
        })

        .on("@picker.show", lazyLoading)

        .on("@tone.click", function(tone) {
            tones.children().removeClass("active");
            var skin = tone.addClass("active").data("skin");
            if (skin) {
                scrollArea.addClass("skinnable");
                categories.hide().filter("[data-tone=" + skin + "]").show();
            } else {
                scrollArea.removeClass("skinnable");
                categories.hide().filter("[data-tone=0]").show();
            }
            lazyLoading.call(self);
        })

        .on("@button.click", function(button) {
            if (button.is(".active")) {
                self.hidePicker();
            } else {
                self.showPicker();
            }
        })

        .on("@!paste", function(editor) {
            self.stayFocused = true;
            // insert invisible character for fix caret position
            pasteHtmlAtCaret('<span>&#8291;</span>');

            var sel = saveSelection(editor[0]),
                editorScrollTop = editor.scrollTop(),
                clipboard = $("<div/>", {contenteditable: true})
                    .css({position: "fixed", left: "-999px", width: "1px", height: "1px", top: "20px", overflow: "hidden"})
                    .appendTo($("BODY"))
                    .focus();

            window.setTimeout(function() {
                var caretID = "caret-" + (new Date()).getTime();
                editor.focus();
                restoreSelection(editor[0], sel);
                var text = textFromHtml(clipboard.html().replace(/\r\n|\n|\r/g, '<br>'), self),
                    html = htmlFromText(text, self);
                pasteHtmlAtCaret(html);
                clipboard.remove();
                pasteHtmlAtCaret('<i id="' + caretID +'"></i>');
                editor.scrollTop(editorScrollTop);
                var caret = $("#" + caretID),
                    top = caret.offset().top - editor.offset().top,
                    height = editor.height();
                if (editorScrollTop + top >= height || editorScrollTop > top) {
                    editor.scrollTop(editorScrollTop + top - 2 * height/3);
                }
                caret.remove();
                self.stayFocused = false;
                calcButtonPosition.apply(self);
                trigger(self, 'paste', [editor, text, html]);
            }, 200);
        })

        .on("@emojibtn.click", function(emojibtn) {
            if (!app.is(".focused")) {
                editor.focus();
            }
            saveSelection(editor[0]);
            pasteHtmlAtCaret(shortnameTo(emojibtn.data("name"), self.emojiTemplate));
        })

        .on("@!resize @keyup @emojibtn.click", calcButtonPosition)

        .on("@!mousedown", function(editor, event) {
            if (!app.is(".focused")) {
                editor.focus();
            }
            event.preventDefault();
            return false;
        })

        .on("@change", function(editor) {
            var html = editor.html().replace(/<\/?(?:div|span|p)[^>]*>/ig, '');
            // clear input: chrome adds <br> when contenteditable is empty
            if (!html.length || /^<br[^>]*>$/i.test(html)) {
                self.editor.html(self.content = '');
            }
            source[sourceValFunc](self.getText());
        })

        .on("@focus", function() {
            app.addClass("focused");
        })

        .on("@blur", function(editor) {
            app.removeClass("focused");

            if (options.hidePickerOnBlur) {
                self.hidePicker();
            }

            var content = editor.html();
            if (self.content !== content) {
                self.content = content;
                trigger(self, 'change', [editor]);
                source.blur().trigger("change");
            } else {
                source.blur();
            }
        });

        if (options.shortcuts) {
            self.on("@keydown", function(_, e) {
                if (!e.ctrlKey) {
                    if (e.which == 9) {
                        e.preventDefault();
                        button.click();
                    }
                    else if (e.which == 27) {
                        e.preventDefault();
                        if (button.is(".active")) {
                            self.hidePicker();
                        }
                    }
                }
            });
        }

        if (options.autocomplete) {
            var autocomplete = function() {
                var events = {};
                if (options.shortcuts) {
                    events.onKeydown = function (e, commands) {
                        if (!e.ctrlKey && e.which == 13) {
                            return commands.KEY_ENTER;
                        }
                    };
                }
                var map = $.map(emojione.emojioneList, function (_, emoji) {
                    return !options.autocompleteTones ? /_tone[12345]/.test(emoji) ? null : emoji : emoji;
                });
                map.sort();
                editor.textcomplete([
                    {
                        id: css_class,
                        match: /(:[\-+\w]*)$/,
                        search: function (term, callback) {
                            callback($.map(map, function (emoji) {
                                return emoji.indexOf(term) === 0 ? emoji : null;
                            }));
                        },
                        template: function (value) {
                            return shortnameTo(value, self.emojiTemplate) + " " + value.replace(/:/g, '');
                        },
                        replace: function (value) {
                            return shortnameTo(value, self.emojiTemplate);
                        },
                        cache: true,
                        maxCount: 15,
                        index: 1
                    }
                ], events);
            };
            if ($.fn.textcomplete) {
                autocomplete();
            } else {
                $.getScript("https://cdn.rawgit.com/yuku-t/jquery-textcomplete/v1.3.4/dist/jquery.textcomplete.js",
                    autocomplete);
            }
        }

        if (self.inline) {
            app.addClass(selector('inline', true));
            self.on("@keydown", function(_, e) {
                if (e.which == 13) {
                    e.preventDefault();
                }
            });
        }

        if (/firefox/i.test(navigator.userAgent)) {
            // disabling resize images on Firefox
            document.execCommand("enableObjectResizing", false, false);
        }

        //}, self.id === 1); // calcElapsedTime()
    };
    var EmojioneArea = function(element, options) {
        var self = this;
        eventStorage[self.id = ++unique] = {};
        possibleEvents[self.id] = {};
        emojioneReady(function() {
            init(self, element, options);
        });
    };
    function bindEvent(self, event) {
        event = event.replace(/^@/, '');
        var id = self.id;
        if (possibleEvents[id][event]) {
            $.each(possibleEvents[id][event], function(i, ev) {
                // ev[0] = element
                // ev[1] = event
                // ev[2] = target
                $.each($.isArray(ev[0]) ? ev[0] : [ev[0]], function(i, el) {
                    $(el).on(ev[1], function() {
                        var args = slice.call(arguments),
                            target = $.isFunction(ev[2]) ? ev[2].apply(self, [event].concat(args)) : ev[2];
                        if (target) {
                            trigger(self, event, [target].concat(args));
                        }
                    });
                });
            });
            possibleEvents[id][event] = null;
        }
    }

    EmojioneArea.prototype.on = function(events, handler) {
        if (events && $.isFunction(handler)) {
            var self = this;
            $.each(events.toLowerCase().split(' '), function(i, event) {
                bindEvent(self, event);
                (eventStorage[self.id][event] || (eventStorage[self.id][event] = [])).push(handler);
            });
        }
        return this;
    };

    EmojioneArea.prototype.off = function(events, handler) {
        if (events) {
            var id = this.id;
            $.each(events.toLowerCase().replace(/_/g, '.').split(' '), function(i, event) {
                if (eventStorage[id][event] && !/^@/.test(event)) {
                    if (handler) {
                        $.each(eventStorage[id][event], function(j, fn) {
                            if (fn === handler) {
                                eventStorage[id][event] = eventStorage[id][event].splice(j, 1);
                            }
                        });
                    } else {
                        eventStorage[id][event] = [];
                    }
                }
            });
        }
        return this;
    };

    EmojioneArea.prototype.setText = function (str) {
        var self = this;
        emojioneReady(function () {
            self.editor.html(htmlFromText(str, self));
            self.content = self.editor.html();
            trigger(self, 'change', [self.editor]);
            calcButtonPosition.apply(self);
        });
        return self;
    }

    EmojioneArea.prototype.getText = function() {
        return textFromHtml(this.editor.html(), this);
    }

    EmojioneArea.prototype.showPicker = function () {
        var self = this;
        if (self._sh_timer) {
            window.clearTimeout(self._sh_timer);
        }
        self.picker.removeClass("hidden");
        self._sh_timer =  window.setTimeout(function() {
            self.button.addClass("active");
        }, 50);
        trigger(self, "picker.show", [self.picker]);
        return self;
    }

    EmojioneArea.prototype.hidePicker = function () {
        var self = this;
        if (self._sh_timer) {
            window.clearTimeout(self._sh_timer);
        }
        self.button.removeClass("active");
        self._sh_timer =  window.setTimeout(function() {
            self.picker.addClass("hidden");
        }, 500);
        trigger(self, "picker.hide", [self.picker]);
        return self;
    }

    $.fn.emojioneArea = function(options) {
        return this.each(function() {
            if (!!this.emojioneArea) return this.emojioneArea;
            $.data(this, 'emojioneArea', this.emojioneArea = new EmojioneArea($(this), options));
            return this.emojioneArea;
        });
    };

}) (document, window, jQuery);

/***/ }),
/* 23 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


__webpack_require__(53);

__webpack_require__(55);

var _pubsubJs = __webpack_require__(11);

var _pubsubJs2 = _interopRequireDefault(_pubsubJs);

var _loginForm = __webpack_require__(40);

var _registerForm = __webpack_require__(44);

var _registerForm2 = _interopRequireDefault(_registerForm);

var _loginPage = __webpack_require__(50);

var _confirmReg = __webpack_require__(35);

var _header = __webpack_require__(38);

var header = _interopRequireWildcard(_header);

var _sidebarMenu = __webpack_require__(45);

var sidebarMenu = _interopRequireWildcard(_sidebarMenu);

var _burgerMenu = __webpack_require__(37);

var burgerMenu = _interopRequireWildcard(_burgerMenu);

var _instagramAccountsList = __webpack_require__(20);

var instagramAccounts = _interopRequireWildcard(_instagramAccountsList);

var _messages = __webpack_require__(41);

var messages = _interopRequireWildcard(_messages);

var _follow = __webpack_require__(36);

var follow = _interopRequireWildcard(_follow);

var _unfollowIndex = __webpack_require__(48);

var unfollow = _interopRequireWildcard(_unfollowIndex);

var _automessagesIndex = __webpack_require__(31);

var automessages = _interopRequireWildcard(_automessagesIndex);

var _chatBotIndex = __webpack_require__(33);

var chatBot = _interopRequireWildcard(_chatBotIndex);

var _autogreetingMain = __webpack_require__(28);

var autogreeting = _interopRequireWildcard(_autogreetingMain);

var _autocommentsIndex = __webpack_require__(25);

var autocomments = _interopRequireWildcard(_autocommentsIndex);

var _storiesIndex = __webpack_require__(46);

var stories = _interopRequireWildcard(_storiesIndex);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// const selectorCssLoginForm = {
//     _loginBox: CONST.uiSelectors.headerLoginBox,
//     _formId: '#js_login-form',
//     _buttonSubmitId: '#js_login_btn',
//     _showLoginBoxBtnId: CONST.uiSelectors.headerNavLoginBtn
// };

/*
* global functions
*/

// import {emojionearea} from 'emojioneArea/dist/emojionearea';
// $.fn.emojionearea = emojionearea;

// components
// import {CONST} from './common/js-services/consts';


// vendor
function setPubSub(PubSub) {
    window.PubSub = PubSub;
}

function initTooltip() {
    $('[data-toggle="tooltip"]').tooltip();
}

var init = function init() {
    setPubSub(_pubsubJs2.default);
    initTooltip();
    // console.log('init js here', CONST.user);
    new _registerForm2.default().init();
    // LoginForm(selectorCssLoginForm).init();
    (0, _loginForm.LoginForm)({
        _loginBox: 'main .login-box',
        _formId: '#js_instagram-add-account',
        _buttonSubmitId: '#js_instagram-add-account--btn',
        _showLoginBoxBtnId: '#js_show-login-box',
        isLoginInstagram: true
    }).init(); // init instagram login form *!/
    (0, _loginPage.LoginPage)({
        _loginBox: '.auth.login .card-signin',
        _formId: '.form-signin',
        _buttonSubmitId: '.form-signin [type="submit"]'
    }).init();

    (0, _confirmReg.confirmationWithRedirect)().init();
    header.initHeader();
    sidebarMenu.initMenu();
    burgerMenu.init();
    follow.init();
    unfollow.init();
    instagramAccounts.init();
    messages.init();
    automessages.init();
    autogreeting.init();
    autocomments.init();
    chatBot.init();
    stories.init();
};

(function () {
    return init();
})();

/***/ }),
/* 24 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
var tplTextField = exports.tplTextField = function tplTextField(mainCls) {
    return $("<div class=\"" + mainCls + " mt-2\">\n    <div class=\"row\">\n        <div class=\"col\">\n            <div class=\"js_tagsinput-box\">\n                <input type=\"text\" placeholder=\"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043A\u043B\u044E\u0447\u0435\u0432\u044B\u0435 \u0441\u043B\u043E\u0432\u0430\" value=\"\" data-role=\"tagsinput\" class=\"form-control answer-words mb-2\" />\n            </div>\n            <div class=\"js_tagsinput-box blacklist-box my-2\">\n                <input type=\"text\" placeholder=\"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043C\u0438\u043D\u0443\u0441 \u0441\u043B\u043E\u0432\u0430\" value=\"\" data-role=\"tagsinput\" class=\"form-control blacklist-words\" />\n            </div>\n        </div>\n        <div class=\"col\">\n            <textarea class=\"form-control answer-messages\" rows=\"4\"\n                data-emoji-picker=\"true\" style=\"padding: 0.25rem 1.75rem 0.25rem 0.25rem; width: 100%;min-height: 42px;\"\n                placeholder=\"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u043E\u043E\u0431\u0449\u0435\u043D\u0438\u0435\"\n            ></textarea>\n            \n        </div>\n    </div>\n</div>");
};

/***/ }),
/* 25 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

exports.init = init;

var _consts = __webpack_require__(0);

var _wizardForm = __webpack_require__(6);

var wizardForm = _interopRequireWildcard(_wizardForm);

var _view = __webpack_require__(1);

var _view2 = _interopRequireDefault(_view);

var _apiTaskManager = __webpack_require__(2);

var _apiTaskManager2 = _interopRequireDefault(_apiTaskManager);

var _tabs = __webpack_require__(9);

var tabs = _interopRequireWildcard(_tabs);

var _autocommentsStatus = __webpack_require__(26);

var autocommentsStatus = _interopRequireWildcard(_autocommentsStatus);

var _logs = __webpack_require__(8);

var logs = _interopRequireWildcard(_logs);

var _imageUpload = __webpack_require__(7);

var imageUpload = _interopRequireWildcard(_imageUpload);

var _emoji = __webpack_require__(15);

var _utilsModal = __webpack_require__(12);

var _addAnswerTemplate = __webpack_require__(24);

var _tagsInput = __webpack_require__(10);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

var getValByCommaSeparator = _view2.default.getValByCommaSeparator;

var usernameSelected = '';
var selectCls = 'js_logs-accounts';
var clsConst = {
    currentPageCls: '.autocomments-page',
    tasksList: '.log-tasks',
    logsTabBtn: '#v-pills-logs-tab',
    pagination: '.logs-pagination',
    paginationPgNumber: '.page-number',
    pathType: _consts.CONST.url.tmTypes.autocommentsT,
    pathSubType: _consts.CONST.url.tmTypes.autocommentsSubT[0]
};
var elSelector = {
    fields: '.autocomments-text-fields',
    keyWord: 'input.answer-words',
    answer: 'textarea.answer-messages',
    fileUploadBox: '.file-upload',
    addPostBtns: '.js_autocomments-add-post'
};
var logsState = {
    selectCls: 'js_logs-accounts',
    selectClsLogsTaskType: 'js_logs-subtypes',
    wrapperSubtype: '.log-subype'
};

function initEmojii() {
    (0, _emoji.emoji)({
        page: clsConst.currentPageCls,
        styles: { old: 'bottom: 30px;', new: 'top: -210px;' }
    });
}

function validateIsEmpty($elements, e) {
    $elements.each(function () {
        if ($(this).val() === '') {
            e.preventDefault();
            $(this).addClass('input-error');
            // validation = false;
            return;
        } else {
            $(this).removeClass('input-error');
        }
    });
}

function onSubmitHandler(e) {
    var fields = $(elSelector.fields);
    var reqBody = [];
    var validation = true;
    var $elementsKeyWord = fields.find(elSelector.keyWord);
    var $elementsAnswer = fields.find(elSelector.answer);

    validateIsEmpty($elementsKeyWord, e);
    validateIsEmpty($elementsAnswer, e);

    fields.each(function (idx, item) {
        var keyWord = getValByCommaSeparator($(item).find(elSelector.keyWord));
        var answer = $(item).find(elSelector.answer).val();
        var imageId = $(item).find(elSelector.fileUploadBox).attr('attached-img-id');
        var $imagePostBox = $(item).find('.js_uploaded-img-from-posts');
        var postItemId = $imagePostBox.data('postId');
        var postItemType = $imagePostBox.data('postType');
        var blacklistWords = $(item).find('input.blacklist-words');
        var blacklistWordsArr = getValByCommaSeparator(blacklistWords);

        if (!keyWord.length || !answer.length) {
            // console.log('keyWord is empty, not push me to request');
            $(item).append('\n                <p class="msg-empty-field text-danger">\u041F\u0443\u0441\u0442\u043E\u0435 \u043F\u043E\u043B\u0435 \u043D\u0435 \u0432\u0430\u043B\u0438\u0434\u043D\u043E</p>\n            ');
            setTimeout(function () {
                $('.msg-empty-field').addClass('d-none');
            }, 5000);
            validation = false;
            return;
        }
        var submitBodyItem = {
            'key_words': keyWord,
            answer: answer,
            blacklist: blacklistWordsArr,
            'attachment': imageId ? {
                'image_id': imageId
            } : undefined
        };

        if (postItemId) {
            submitBodyItem.attachment = _extends({}, submitBodyItem.attachment, {
                post: {
                    id: postItemId,
                    type: postItemType || 'type-error'
                }
            });
        }
        reqBody.push(submitBodyItem);
    });
    if (!validation) {
        // console.log('**alarm **', elSelector.keyWord);
        return;
    }

    var nReqBody = {
        'username': usernameSelected,
        'type': clsConst.pathType,
        'subtype': clsConst.pathSubType,
        'user_default_config': {},
        'user_custom_config': {
            'forms': reqBody
        }
    };

    // console.log('make request here**', nReqBody);
    function cbError(res) {
        var msg = res.status.message;
        $('.form-submit-finish--error').addClass('d-block').find('.alert').append('<p>' + msg + '</p>');
    }
    _apiTaskManager2.default.postStartTask(nReqBody, cbError).then(function (result) {
        if (result.status.state === 'ok') {
            $('.form-submit-finish').find('.alert p').remove();
            $('.form-submit-finish').addClass('d-block').find('.alert').append('<p>task_id: ' + result.data.task_id + '</p>');
        }
    });
}

function initLogsTab() {
    function OnChangeSelect() {
        var selectCls = logsState.selectCls;

        $('.' + selectCls).on('change', function () {
            usernameSelected = $('.' + selectCls + ' option:selected').val();
            // clsConst.pathSubType = logsState.activeSubType;
            logs.init(selectCls, clsConst);
        });
    }
    // addDropdown($(logsState.wrapperSubtype), logsSubtypes, {logsState, dropdownOnSelectCb});
    tabs.init(OnChangeSelect, logsState); // makes double request : OPTION and GET
}

function removeExtraTextFields(e) {
    $(elSelector.fields + ':not(:first-child)').removeClass('d-block');
    e.stopPropagation();
}

/* TODO: refactor -> move initModalHandler to separate file, remove initModalHandler in autogreeting-main.js */
var targetButton = {};

function loadMoreHandler(getPosts) {
    var _this = this;

    $('#load-more').off().on('click', function (e) {
        var $btn = $(e.target);
        var cursor = $btn.attr('cursor');
        console.log('load more click');
        getPosts(null, { userName: usernameSelected, cursor: cursor }, { loadMoreHandler: _this, targetButton: targetButton });
    });
}

function initModalHandler() {

    $('.js_open-posts-gridModal').on('click', function (event) {
        targetButton = $(this); // Button that triggered the modal
        // Update the modal's content
        var modal = $('#postsGridModal');
        (0, _utilsModal.getPosts)(modal, { userName: usernameSelected }, { loadMoreHandler: loadMoreHandler, targetButton: targetButton });
        modal.find('.modal-title').text('Публикации');
    });
}

/* TODO: refactor -> move initModalHandler to separate file END */

/**
 * Init Handlers
 */
function initHandlers() {
    var $competitorsInput = $('.autocomments-text-fields input.answer-words[data-role="tagsinput"]');
    var $blackListInput = $('.autocomments-text-fields input.blacklist-words[data-role="tagsinput"]');
    var nextStepBtn = $('form button[type="submit"]');
    (0, _tagsInput.nextBtnvalidateCompetitorsHandler)($competitorsInput, nextStepBtn, 'ignoreRegexCheck');
    (0, _tagsInput.nextBtnvalidateCompetitorsHandler)($blackListInput, null, 'ignoreRegexCheck');

    // TODO: refactor with autogreet.js initHandlers
    // $('[data-toggle="popover"]').popover(); // init
    $('.js_add-autocomments').on('click', function (e) {
        var lastTextField = $(elSelector.fields).last();
        (0, _addAnswerTemplate.tplTextField)(elSelector.fields.substr(1)).insertAfter(lastTextField);
        imageUpload.init();
        // $('[data-toggle="popover"]').popover(); // reinit
        $('[data-toggle="tooltip"]').tooltip(); // reinit
        initModalHandler();

        var lastTextFieldAfterInsert = $(elSelector.fields).last();
        var $inputAnswerWords = $('input.answer-words[data-role="tagsinput"]', lastTextFieldAfterInsert);
        var $blackListInput = $('input.blacklist-words[data-role="tagsinput"]', lastTextFieldAfterInsert);

        (0, _tagsInput.initTagsInput)($inputAnswerWords); // reinit answer-words
        (0, _tagsInput.initTagsInput)($blackListInput); // reinit blacklist-words
        (0, _tagsInput.nextBtnvalidateCompetitorsHandler)($inputAnswerWords, nextStepBtn, 'ignoreRegexCheck');
        (0, _tagsInput.nextBtnvalidateCompetitorsHandler)($blackListInput, null, 'ignoreRegexCheck');
        initEmojii();
    });

    // alert success close
    $('.form-submit-finish .close').on('click', function (e) {
        // console.log('alert close');
        $('#v-pills-all-tab').trigger('click');
        window.PubSub.publish(_consts.CONST.events.tasks.NEW_TASK_CREATED);
        // removeExtraTextFields(e);
    });

    // alert close
    $('.form-submit-finish--error .close').on('click', function () {
        // console.log('alert close');
        $('#v-pills-all-tab').trigger('click');
        window.PubSub.publish(_consts.CONST.events.tasks.NEW_TASK_CREATED);
        removeExtraTextFields();
    });

    // tabs.init(fillListUsers);
    initLogsTab();
}

function setUserName(state) {
    // console.log('getTasksData', state.username);
    usernameSelected = state.username;
}

function stepReducer(stepNumber, state) {
    switch (stepNumber) {
        case 0:
            setUserName(state);
            // console.log(state, stepNumber);
            break;
        default:
            console.log('default', stepNumber);
    }
}

function init() {
    if ($(clsConst.currentPageCls).length) {
        var wizardCfg = {
            stepReducer: stepReducer,
            onSubmitHandler: onSubmitHandler
        };
        wizardForm.init(wizardCfg);
        initHandlers();
        autocommentsStatus.init();
        // initTagsInput('.blacklist-box input');

        window.PubSub.subscribe(_consts.CONST.events.instagramAccouns.INSTAGRAM_ACCOUNS_RENDERED_LAZY, function (e, accounts) {
            logs.init(selectCls, clsConst);
        });
        // window.PubSub.subscribe(CONST.events.autoarnswer.IMAGE_UPLOADED, (e, res) => {
        //     const {response} = res;
        //     const result = (response.length) ? JSON.parse(response) : '';
        //     const imageId = result && result.data && result.data.image_id;
        //     $(res.el).closest('.file-upload').attr('attached-img-id', imageId);
        //     console.log('image_loaded', res);
        //
        //     // todo: make as callBack
        //     const $imageBox = $(res.el).closest('.col').find('.js_uploaded-img-from-posts');
        //     if ($imageBox.length) {
        //         $imageBox.remove();
        //     }
        // });
        // window.PubSub.subscribe(CONST.events.modal.IMAGE_POST_SELECTED, (e, data) => {
        //     const $imageBox = $(data.closestCol).find('.file-upload-content');
        //     console.log('$imageBox', $imageBox);
        //     if ($imageBox.length) {
        //         $imageBox.hide();
        //     }
        // });
        initEmojii();
    }
}

/***/ }),
/* 26 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.init = init;

var _consts = __webpack_require__(0);

var _taskStatus = __webpack_require__(5);

function init() {
    if ($('.autocomments-page').length) {
        var path = {
            type: _consts.CONST.url.tmTypes.autocommentsT,
            subtype: _consts.CONST.url.tmTypes.autocommentsSubT[0]
        };
        var wrappers = {
            $runs: $('.tasks-runs'),
            $stopped: $('.tasks-stopped'),
            $all: $('.tasks-all')
        };

        // task-status has one subtype, so do not add dropdown
        // render status dropdown
        // const textRusArray = ['По DEFAULT_AUTO_ANSWER'];
        // dropDown.addDropdown(logsStateStatus.wrapperSubtype, CONST.url.tmTypes.storiesSubT, {logsState: logsStateStatus, dropdownOnSelectCb, textRusArray});

        (0, _taskStatus.getTasksData)(wrappers, path);
        // window.PubSub.subscribe(CONST.events.instagramAccouns.INSTAGRAM_ACCOUNS_RENDERED, (eventName, data) => {
        //     getTasksData(wrappers, path);
        //     console.log('**answer-status', eventName, data);
        // });
        window.PubSub.subscribe(_consts.CONST.events.tasks.NEW_TASK_CREATED, function (eventName, data) {
            (0, _taskStatus.getTasksData)(wrappers, path);
        });
    }
}

/***/ }),
/* 27 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
var tplTextFieldGreet = exports.tplTextFieldGreet = function tplTextFieldGreet(mainCls) {
    return $("<div class=\"" + mainCls + "\">\n        <div class=\"row\">\n            <div class=\"col\">\n                <div>                \n                    <textarea class=\"form-control answer-words\" rows=\"4\" \n                        data-emoji-picker=\"true\" placeholder=\"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u043E\u043E\u0431\u0449\u0435\u043D\u0438\u0435\"></textarea>    \n                </div>\n\n                <!-- file-upload -->\n                <div class=\"file-upload-btn-box\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u0438\u0437\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u0435\">\n                    <button class=\"file-upload-btn btn btn-success\" type=\"button\">\n                        <i class=\"far fa-image fa-lg\"></i>\n                    </button>\n                </div>\n\n                <button type=\"button\" class=\"btn btn-success post-upload-btn js_automessages-add-post\"\n                    title=\"\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u043F\u0443\u0431\u043B\u0438\u043A\u0430\u0446\u0438\u044E\"\n                    data-toggle=\"tooltip\"\n                    data-placement=\"top\"\n                    data-post-info=\"todo: get req to user: \">\n                    <span class=\"js_open-posts-gridModal\"\n                        data-container=\"body\" data-toggle=\"popover\" data-placement=\"bottom\" data-content=\"\u0423 \u0442\u0435\u043A\u0443\u0449\u0435\u0433\u043E \u0430\u043A\u043A\u0430\u0443\u043D\u0442\u0430 \u043D\u0435\u0442 \u043D\u0438 \u043E\u0434\u043D\u043E\u0433\u043E \u043F\u043E\u0441\u0442\u0430\">\n                    <i class=\"far fa-images fa-lg\"></i>\n                    </span>\n                </button>\n                \n                <div class=\"mt-2\">\n                    <div class=\"file-upload\">\n                    \n                      <div class=\"image-upload-wrap\">\n                        <input class=\"file-upload-input\" type=\"file\" accept=\".jpg, .jpeg\">\n                      </div>\n                      <div class=\"file-upload-content\">\n                        <img class=\"file-upload-image\" src=\"#\" alt=\"your image\">\n                        <div class=\"image-title-wrap\">\n                          <button type=\"button\" class=\"remove-image btn btn-warning\">\u0423\u0434\u0430\u043B\u0438\u0442\u044C <span class=\"image-title\">\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044C</span></button>\n                        </div>\n                      </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>");
};

/***/ }),
/* 28 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.init = init;

var _consts = __webpack_require__(0);

var _wizardForm = __webpack_require__(6);

var wizardForm = _interopRequireWildcard(_wizardForm);

var _apiTaskManager = __webpack_require__(2);

var _apiTaskManager2 = _interopRequireDefault(_apiTaskManager);

var _tabs = __webpack_require__(9);

var tabs = _interopRequireWildcard(_tabs);

var _autogreetingStatus = __webpack_require__(29);

var chatBotStatus = _interopRequireWildcard(_autogreetingStatus);

var _logs = __webpack_require__(8);

var logs = _interopRequireWildcard(_logs);

var _emoji = __webpack_require__(15);

var _imageUpload = __webpack_require__(7);

var imageUpload = _interopRequireWildcard(_imageUpload);

var _utilsModal = __webpack_require__(12);

var _addGreetTemplate = __webpack_require__(27);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

var usernameSelected = '';
var selectCls = 'js_logs-accounts';
var speedType = '.js_autogreeting-speed';
var clsConst = {
    currentPageCls: '.autogreeting-page',
    tasksList: '.log-tasks',
    logsTabBtn: '#v-pills-logs-tab',
    pagination: '.logs-pagination',
    paginationPgNumber: '.page-number',
    pathType: _consts.CONST.url.tmTypes.autogreetT,
    pathSubType: _consts.CONST.url.tmTypes.autogreetSubT[0]
};
var elSelector = {
    fields: '.autogreeting-text-fields',
    fileUploadBox: '.file-upload'
};
var state = {
    user_default_config: {
        task_mode: 'SAFE'
    }
};

function onSubmitHandler(e) {
    var fields = $(elSelector.fields);
    var reqBody = [];
    var getAttachment = function getAttachment(item) {
        var imageId = $(item).find(elSelector.fileUploadBox).attr('attached-img-id');
        var $imagePostBox = $(item).find('.js_uploaded-img-from-posts');
        var postItemId = $imagePostBox.data('postId');
        var postItemType = $imagePostBox.data('postType');
        var post = {
            id: postItemId,
            type: postItemType || 'type-error'
        };
        var attachment = null;

        if (postItemId) {
            attachment = { post: post };
        } else if (imageId) {
            attachment = { 'image_id': imageId };
        }
        return attachment;
    };
    fields.each(function (idx, item) {
        var message = $(item).find('textarea.answer-words').val();
        // const imageId = $(item).find(elSelector.fileUploadBox).attr('attached-img-id');
        // const $imagePostBox = $(item).find('.js_uploaded-img-from-posts');
        // const postItemId = $imagePostBox.data('postId');
        // const postItemType = $imagePostBox.data('postType');
        // const post = {
        //     id: postItemId,
        //     type: postItemType || 'type-error'
        // };

        // if (postItemId) {
        //     attachment = {post};
        // } else if (imageId) {
        //     attachment = {'image_id': imageId};
        // }

        var attachmentImg = getAttachment(item);
        reqBody.push({
            'answer': message,
            'attachment': attachmentImg ? attachmentImg : undefined
        });
    });
    var nReqBody = {
        'username': usernameSelected || 'the_rostyslav',
        'type': _consts.CONST.url.tmTypes.autogreetT,
        'subtype': _consts.CONST.url.tmTypes.autogreetSubT[0],
        'user_default_config': {
            'task_mode': state.user_default_config.task_mode // todo
        },
        'user_custom_config': {
            'forms': reqBody
        }
    };
    console.log('make request **', nReqBody);
    function cbError(res) {
        var msg = res.status.message;
        $('.form-submit-finish--error').addClass('d-block').find('.alert').append('<p>' + msg + '</p>');
    }
    _apiTaskManager2.default.postStartTask(nReqBody, cbError).then(function (result) {
        console.log('postBot');
        if (result.status.state === 'ok') {
            console.log(JSON.stringify(result));
            $('.form-submit-finish').find('.alert p').remove();
            $('.form-submit-finish').addClass('d-block').find('.alert').append('<p>task_id: ' + result.data.task_id + '</p>');
        }
    });
}

// function fillListUsers($wrapper, data) {
//     $wrapper.empty().addClass('border-light-color');
//     $(`<div class="">Доступные аккаунты</div><select name="task-type" class="${selectCls}"></select>`).appendTo($wrapper);
//     data.forEach((name) => {
//         $(`<option class="list-group-item py-2" value="${name}">
//             ${name}
//         </option>`).appendTo($(`.${selectCls}`));
//     });
//     $(`.${selectCls}`).on('change', function () {
//         usernameSelected = $(`.${selectCls} option:selected`).val();
//         console.log(usernameSelected);
//         logs.init(selectCls, clsConst);
//     });
// }

var logsState = _consts.CONST.logsState;
function initLogsTab() {
    function OnChangeSelect() {
        var selectCls = logsState.selectCls;

        $('.' + selectCls).on('change', function () {
            usernameSelected = $('.' + selectCls + ' option:selected').val();
            // clsConst.pathSubType = logsState.activeSubType;
            logs.init(selectCls, clsConst);
        });
    }
    // addDropdown($(logsState.wrapperSubtype), logsSubtypes, {logsState, dropdownOnSelectCb});
    tabs.init(OnChangeSelect, logsState); // makes double request : OPTION and GET
}

function initEmojii() {
    (0, _emoji.emoji)({
        page: clsConst.currentPageCls,
        styles: { old: 'bottom: 30px;', new: 'top: -210px;' }
    });
}

function removeExtraTextFields() {
    $(elSelector.fields + ':not(:first-child)').remove();
}

/* TODO: refactor -> move initModalHandler to separate file */
var targetButton = {};

function loadMoreHandler(getPosts) {
    var _this = this;

    $('#load-more').on('click', function (e) {
        var $btn = $(e.target);
        var cursor = $btn.attr('cursor');
        console.log('load more click');
        getPosts(null, { userName: usernameSelected, cursor: cursor }, { loadMoreHandler: _this, targetButton: targetButton });
    });
}

function initModalHandler() {
    $('.js_open-posts-gridModal').on('click', function (event) {
        targetButton = $(this); // Button that triggered the modal
        // Update the modal's content
        var modal = $('#postsGridModal');
        (0, _utilsModal.getPosts)(modal, { userName: usernameSelected }, { loadMoreHandler: loadMoreHandler, targetButton: targetButton });
        modal.find('.modal-title').text('Публикации');
    });
}

/* TODO: refactor -> move initModalHandler to separate file END*/

/**
 * Init header
 */
function initHandlers() {
    // TODO: refactor with autogreet.js initHandlers
    $('.js_add-automessages').on('click', function (e) {
        var lastTextField = $(elSelector.fields).last();
        (0, _addGreetTemplate.tplTextFieldGreet)(elSelector.fields.substr(1)).insertAfter(lastTextField);
        initEmojii();
        imageUpload.init();
        $('[data-toggle="tooltip"]').tooltip(); // reinit
        initModalHandler();
    });

    // alert close
    $('.form-submit-finish .close').on('click', function () {
        console.log('alert close');
        $('#v-pills-all-tab').trigger('click');
        window.PubSub.publish(_consts.CONST.events.tasks.NEW_TASK_CREATED);
        removeExtraTextFields();
    });

    // alert close
    $('.form-submit-finish--error .close').on('click', function () {
        console.log('alert close');
        $('#v-pills-all-tab').trigger('click');
        window.PubSub.publish(_consts.CONST.events.tasks.NEW_TASK_CREATED);
        removeExtraTextFields();
    });

    // tabs.init(fillListUsers);
    initLogsTab();
}

function setUserName(state) {
    // console.log('getTasksData', state.username);
    usernameSelected = state.username;
}

function getDataStepSpeed() {

    // TODO: refactor get from - view.fillRadioGroupList
    var fillSpeedList = function fillSpeedList($wrapper, data) {
        var taskModes = data.cfg && data.cfg.task_modes;
        var radioBtnReducer = function radioBtnReducer(item, val) {
            switch (item) {
                case 'AGGRESSIVE':
                    return '<input type="radio" id="' + item + '" name="customRadio" value="' + item + '" class="custom-control-input">\n                    <label class="custom-control-label" for="' + item + '"><strong>\u0410\u0433\u0440\u0435\u0441\u0441\u0438\u0432\u043D\u044B\u0439:</strong> ' + val + ' \u0441\u043E\u043E\u0431\u0449\u0435\u043D\u0438\u0439 \u0432 \u0447\u0430\u0441</label>';
                case 'MIDDLE':
                    return '<input type="radio" id="' + item + '" name="customRadio" value="' + item + '" class="custom-control-input">\n                    <label class="custom-control-label" for="' + item + '"><strong>\u0421\u0440\u0435\u0434\u043D\u0438\u0439:</strong> ' + val + ' \u0441\u043E\u043E\u0431\u0449\u0435\u043D\u0438\u0439 \u0432 \u0447\u0430\u0441</label>';
                case 'SAFE':
                    return '<input type="radio" id="' + item + '" name="customRadio" value="' + item + '" class="custom-control-input" checked>\n                    <label class="custom-control-label" for="' + item + '"><strong>\u0411\u0435\u0437\u043E\u043F\u0430\u0441\u043D\u044B\u0439:</strong> ' + val + ' \u0441\u043E\u043E\u0431\u0449\u0435\u043D\u0438\u0439 \u0432 \u0447\u0430\u0441</label>';
                default:
                    break;
            }
        };
        // console.log('draw speed radioBtn');
        $wrapper.empty();
        for (var item in taskModes) {
            // console.log('structure: ' + item);
            if (Object.prototype.hasOwnProperty.call(taskModes, item)) {
                $('<div class="custom-control custom-radio">\n                ' + radioBtnReducer(item, taskModes[item]) + '\n            </div>').appendTo($wrapper);
            }
        }
    };
    var path = {
        type: clsConst.pathType,
        subtype: clsConst.pathSubType
    };
    // draw criteria
    _apiTaskManager2.default.getDefaultConfigs(path).then(function (result) {
        // console.log('getDefaultConfigs');
        if (result.status.state === 'ok') {
            fillSpeedList($(speedType), result.data.found);
            // speed radio-btn group
            $(speedType + ' input[type=radio]').on('click', function (e) {
                var value = $(e.target).attr('value');
                state.user_default_config.task_mode = value.toUpperCase();
                console.log(state);
            });
        }
    });
}

function stepReducer(stepNumber, state) {
    switch (stepNumber) {
        case 0:
            setUserName(state);
            getDataStepSpeed();
            console.log(state, stepNumber);
            break;
        case 1:
            // console.log(state, stepNumber);
            break;
        default:
            console.log('default', stepNumber);
    }
}

function init() {
    if ($(clsConst.currentPageCls).length) {
        var wizardCfg = {
            stepReducer: stepReducer,
            onSubmitHandler: onSubmitHandler
        };
        wizardForm.init(wizardCfg);
        initHandlers();
        chatBotStatus.init(clsConst);
        window.PubSub.subscribe(_consts.CONST.events.instagramAccouns.INSTAGRAM_ACCOUNS_RENDERED_LAZY, function (e, accounts) {
            // console.log(accounts);
            logs.init(selectCls, clsConst);
        });

        initModalHandler();
        initEmojii();
        // imageUpload.init();
        window.PubSub.subscribe(_consts.CONST.events.autoarnswer.IMAGE_UPLOADED, function (e, res) {
            var response = res.response;

            var result = response.length ? JSON.parse(response) : '';
            var imageId = result && result.data && result.data.image_id;
            $(res.el).closest('.file-upload').attr('attached-img-id', imageId);
            console.log('image_loaded', res);

            // todo: make as callBack
            var $imageBox = $(res.el).closest('.col').find('.js_uploaded-img-from-posts');
            if ($imageBox.length) {
                $imageBox.remove();
            }
        });
        window.PubSub.subscribe(_consts.CONST.events.modal.IMAGE_POST_SELECTED, function (e, data) {
            var $imageBox = $(data.closestCol).find('.file-upload-content');
            console.log('$imageBox', $imageBox);
            if ($imageBox.length) {
                $imageBox.hide();
            }
        });
    }
}

/***/ }),
/* 29 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.init = init;

var _consts = __webpack_require__(0);

var _taskStatus = __webpack_require__(5);

function init(cfg) {
    if ($(cfg.currentPageCls).length) {
        var pathType = cfg.pathType,
            pathSubType = cfg.pathSubType;

        var path = {
            type: pathType,
            subtype: pathSubType };
        var wrappers = {
            $runs: $('.tasks-runs'),
            $all: $('.tasks-all')
        };
        (0, _taskStatus.getTasksData)(wrappers, path);
        window.PubSub.subscribe(_consts.CONST.events.tasks.NEW_TASK_CREATED, function (eventName, data) {
            console.log('getTasksData **NEW_TASK_CREATED**', eventName, data);
            (0, _taskStatus.getTasksData)(wrappers, path);
        });
    }
}

/***/ }),
/* 30 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
var tplTextField = exports.tplTextField = function tplTextField(mainCls) {
    return $("<div class=\"" + mainCls + " mt-2\">\n    <div class=\"row\">\n        <div class=\"col\">\n            <div class=\"js_tagsinput-box\">\n                <input type=\"text\" placeholder=\"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043A\u043B\u044E\u0447\u0435\u0432\u044B\u0435 \u0441\u043B\u043E\u0432\u0430\" value=\"\" data-role=\"tagsinput\" class=\"form-control answer-words mb-2\" />\n            </div>\n            <div class=\"js_tagsinput-box blacklist-box my-2\">\n                <input type=\"text\" placeholder=\"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043C\u0438\u043D\u0443\u0441 \u0441\u043B\u043E\u0432\u0430\" value=\"\" data-role=\"tagsinput\" class=\"form-control blacklist-words\" />\n            </div>\n        </div>\n        <div class=\"col\">\n            <textarea class=\"form-control answer-messages\" rows=\"4\"\n                data-emoji-picker=\"true\" style=\"padding: 0.25rem 1.75rem 0.25rem 0.25rem; width: 100%;min-height: 42px;\"\n                placeholder=\"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u043E\u043E\u0431\u0449\u0435\u043D\u0438\u0435\"\n            ></textarea>\n            <!-- file-upload -->\n            <div class=\"file-upload-btn-box\" data-toggle=\"tooltip\" data-placement=\"top\" title=\"\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u0438\u0437\u043E\u0431\u0440\u0430\u0436\u0435\u043D\u0438\u0435\">\n                <button class=\"file-upload-btn btn btn-success\" type=\"button\">\n                    <i class=\"far fa-image fa-lg\"></i>\n                </button>\n            </div>\n            <!-- Button trigger modal -->\n            <button type=\"button\" class=\"btn btn-success post-upload-btn js_automessages-add-post\"\n                title=\"\u0414\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u043F\u0443\u0431\u043B\u0438\u043A\u0430\u0446\u0438\u044E\"\n                data-toggle=\"tooltip\"\n                data-placement=\"top\"\n                data-post-info=\"todo: get req to user: \">\n                <span class=\"js_open-posts-gridModal\"\n                    data-container=\"body\" data-toggle=\"popover\" data-placement=\"bottom\" data-content=\"\u0423 \u0442\u0435\u043A\u0443\u0449\u0435\u0433\u043E \u0430\u043A\u043A\u0430\u0443\u043D\u0442\u0430 \u043D\u0435\u0442 \u043D\u0438 \u043E\u0434\u043D\u043E\u0433\u043E \u043F\u043E\u0441\u0442\u0430\">\n                <i class=\"far fa-images fa-lg\"></i>\n                </span>\n            </button>\n\n            <div class=\"mt-2\">\n                <div class=\"file-upload\">\n                    <div class=\"image-upload-wrap\">\n                        <input class=\"file-upload-input\" type='file' accept=\".jpg, .jpeg\" />\n                    </div>\n                    <div class=\"file-upload-content\">\n                        <img class=\"file-upload-image\" src=\"#\" alt=\"your image\" />\n                        <div class=\"image-title-wrap\">\n                        <button type=\"button\" class=\"remove-image btn btn-warning\">\u0423\u0434\u0430\u043B\u0438\u0442\u044C <span class=\"image-title\">\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044C</span></button>\n                        </div>\n                    </div>\n                </div>\n            </div>\n        </div>\n    </div>\n</div>");
};

/***/ }),
/* 31 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

exports.init = init;

var _consts = __webpack_require__(0);

var _wizardForm = __webpack_require__(6);

var wizardForm = _interopRequireWildcard(_wizardForm);

var _view = __webpack_require__(1);

var _view2 = _interopRequireDefault(_view);

var _apiTaskManager = __webpack_require__(2);

var _apiTaskManager2 = _interopRequireDefault(_apiTaskManager);

var _tabs = __webpack_require__(9);

var tabs = _interopRequireWildcard(_tabs);

var _automessagesStatus = __webpack_require__(32);

var automessagesStatus = _interopRequireWildcard(_automessagesStatus);

var _logs = __webpack_require__(8);

var logs = _interopRequireWildcard(_logs);

var _imageUpload = __webpack_require__(7);

var imageUpload = _interopRequireWildcard(_imageUpload);

var _emoji = __webpack_require__(15);

var _utilsModal = __webpack_require__(12);

var _addAnswerTemplate = __webpack_require__(30);

var _tagsInput = __webpack_require__(10);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

var getValByCommaSeparator = _view2.default.getValByCommaSeparator;

var usernameSelected = '';
var selectCls = 'js_logs-accounts';
var clsConst = {
    currentPageCls: '.automessages-page',
    tasksList: '.log-tasks',
    logsTabBtn: '#v-pills-logs-tab',
    pagination: '.logs-pagination',
    paginationPgNumber: '.page-number',
    pathType: _consts.CONST.url.tmTypes.automessagesT,
    pathSubType: _consts.CONST.url.tmTypes.automessagesSubT[0]
};
var elSelector = {
    fields: '.automessages-text-fields',
    keyWord: 'input.answer-words',
    answer: 'textarea.answer-messages',
    fileUploadBox: '.file-upload',
    addPostBtns: '.js_automessages-add-post'
};
var logsState = {
    selectCls: 'js_logs-accounts',
    selectClsLogsTaskType: 'js_logs-subtypes',
    wrapperSubtype: '.log-subype'
};

function initEmojii() {
    (0, _emoji.emoji)({
        page: clsConst.currentPageCls,
        styles: { old: 'bottom: 30px;', new: 'top: -210px;' }
    });
}

function validateIsEmpty($elements, e) {
    $elements.each(function () {
        if ($(this).val() === '') {
            e.preventDefault();
            $(this).addClass('input-error');
            // validation = false;
            return;
        } else {
            $(this).removeClass('input-error');
        }
    });
}

function onSubmitHandler(e) {
    var fields = $(elSelector.fields);
    var reqBody = [];
    var validation = true;
    var $elementsKeyWord = fields.find(elSelector.keyWord);
    var $elementsAnswer = fields.find(elSelector.answer);

    validateIsEmpty($elementsKeyWord, e);
    validateIsEmpty($elementsAnswer, e);

    fields.each(function (idx, item) {
        var keyWord = getValByCommaSeparator($(item).find(elSelector.keyWord));
        var answer = $(item).find(elSelector.answer).val();
        var imageId = $(item).find(elSelector.fileUploadBox).attr('attached-img-id');
        var $imagePostBox = $(item).find('.js_uploaded-img-from-posts');
        var postItemId = $imagePostBox.data('postId');
        var postItemType = $imagePostBox.data('postType');
        var blacklistWords = $(item).find('input.blacklist-words');
        var blacklistWordsArr = getValByCommaSeparator(blacklistWords);

        if (!keyWord.length || !answer.length) {
            // console.log('keyWord is empty, not push me to request');
            $(item).append('\n                <p class="msg-empty-field text-danger">\u041F\u0443\u0441\u0442\u043E\u0435 \u043F\u043E\u043B\u0435 \u043D\u0435 \u0432\u0430\u043B\u0438\u0434\u043D\u043E</p>\n            ');
            setTimeout(function () {
                $('.msg-empty-field').addClass('d-none');
            }, 5000);
            validation = false;
            return;
        }
        var submitBodyItem = {
            'key_words': keyWord,
            answer: answer,
            blacklist: blacklistWordsArr,
            'attachment': imageId ? {
                'image_id': imageId
            } : undefined
        };

        if (postItemId) {
            submitBodyItem.attachment = _extends({}, submitBodyItem.attachment, {
                post: {
                    id: postItemId,
                    type: postItemType || 'type-error'
                }
            });
        }
        reqBody.push(submitBodyItem);
    });
    if (!validation) {
        // console.log('**alarm **', elSelector.keyWord);
        return;
    }

    var nReqBody = {
        'username': usernameSelected,
        'type': clsConst.pathType,
        'subtype': clsConst.pathSubType,
        'user_default_config': {},
        'user_custom_config': {
            'forms': reqBody
        }
    };

    // console.log('make request here**', nReqBody);
    function cbError(res) {
        var msg = res.status.message;
        $('.form-submit-finish--error').addClass('d-block').find('.alert').append('<p>' + msg + '</p>');
    }
    _apiTaskManager2.default.postStartTask(nReqBody, cbError).then(function (result) {
        if (result.status.state === 'ok') {
            $('.form-submit-finish').find('.alert p').remove();
            $('.form-submit-finish').addClass('d-block').find('.alert').append('<p>task_id: ' + result.data.task_id + '</p>');
        }
    });
}

function initLogsTab() {
    function OnChangeSelect() {
        var selectCls = logsState.selectCls;

        $('.' + selectCls).on('change', function () {
            usernameSelected = $('.' + selectCls + ' option:selected').val();
            // clsConst.pathSubType = logsState.activeSubType;
            logs.init(selectCls, clsConst);
        });
    }
    // addDropdown($(logsState.wrapperSubtype), logsSubtypes, {logsState, dropdownOnSelectCb});
    tabs.init(OnChangeSelect, logsState); // makes double request : OPTION and GET
}

function removeExtraTextFields(e) {
    $(elSelector.fields + ':not(:first-child)').removeClass('d-block');
    e.stopPropagation();
}

/* TODO: refactor -> move initModalHandler to separate file, remove initModalHandler in autogreeting-main.js */
var targetButton = {};

function loadMoreHandler(getPosts) {
    var _this = this;

    $('#load-more').off().on('click', function (e) {
        var $btn = $(e.target);
        var cursor = $btn.attr('cursor');
        console.log('load more click');
        getPosts(null, { userName: usernameSelected, cursor: cursor }, { loadMoreHandler: _this, targetButton: targetButton });
    });
}

function initModalHandler() {

    $('.js_open-posts-gridModal').on('click', function (event) {
        targetButton = $(this); // Button that triggered the modal
        // Update the modal's content
        var modal = $('#postsGridModal');
        (0, _utilsModal.getPosts)(modal, { userName: usernameSelected }, { loadMoreHandler: loadMoreHandler, targetButton: targetButton });
        modal.find('.modal-title').text('Публикации');
    });
}

/* TODO: refactor -> move initModalHandler to separate file END */

/**
 * Init Handlers
 */
function initHandlers() {
    var $competitorsInput = $('.automessages-text-fields input.answer-words[data-role="tagsinput"]');
    var $blackListInput = $('.automessages-text-fields input.blacklist-words[data-role="tagsinput"]');
    var nextStepBtn = $('form button[type="submit"]');
    (0, _tagsInput.nextBtnvalidateCompetitorsHandler)($competitorsInput, nextStepBtn, 'ignoreRegexCheck');
    (0, _tagsInput.nextBtnvalidateCompetitorsHandler)($blackListInput, null, 'ignoreRegexCheck');

    // TODO: refactor with autogreet.js initHandlers
    // $('[data-toggle="popover"]').popover(); // init
    $('.js_add-automessages').on('click', function (e) {
        var lastTextField = $(elSelector.fields).last();
        (0, _addAnswerTemplate.tplTextField)(elSelector.fields.substr(1)).insertAfter(lastTextField);
        initEmojii();
        imageUpload.init();
        // $('[data-toggle="popover"]').popover(); // reinit
        $('[data-toggle="tooltip"]').tooltip(); // reinit
        initModalHandler();

        // const $input = $('input[data-role="tagsinput"]', lastTextField);
        // initTagsInput();
        // nextBtnvalidateCompetitorsHandler($input, nextStepBtn);

        var lastTextFieldAfterInsert = $(elSelector.fields).last();
        var $inputAnswerWords = $('input.answer-words[data-role="tagsinput"]', lastTextFieldAfterInsert);
        var $blackListInput = $('input.blacklist-words[data-role="tagsinput"]', lastTextFieldAfterInsert);

        (0, _tagsInput.initTagsInput)($inputAnswerWords); // reinit answer-words
        (0, _tagsInput.initTagsInput)($blackListInput); // reinit blacklist-words
        (0, _tagsInput.nextBtnvalidateCompetitorsHandler)($inputAnswerWords, nextStepBtn, 'ignoreRegexCheck');
        (0, _tagsInput.nextBtnvalidateCompetitorsHandler)($blackListInput, null, 'ignoreRegexCheck');
    });

    // alert success close
    $('.form-submit-finish .close').on('click', function (e) {
        // console.log('alert close');
        $('#v-pills-all-tab').trigger('click');
        window.PubSub.publish(_consts.CONST.events.tasks.NEW_TASK_CREATED);
        // removeExtraTextFields(e);
    });

    // alert close
    $('.form-submit-finish--error .close').on('click', function () {
        // console.log('alert close');
        $('#v-pills-all-tab').trigger('click');
        window.PubSub.publish(_consts.CONST.events.tasks.NEW_TASK_CREATED);
        removeExtraTextFields();
    });

    // tabs.init(fillListUsers);
    initLogsTab();
}

function setUserName(state) {
    // console.log('getTasksData', state.username);
    usernameSelected = state.username;
}

function stepReducer(stepNumber, state) {
    switch (stepNumber) {
        case 0:
            setUserName(state);
            // console.log(state, stepNumber);
            break;
        default:
            console.log('default', stepNumber);
    }
}

function init() {
    if ($(clsConst.currentPageCls).length) {
        var wizardCfg = {
            stepReducer: stepReducer,
            onSubmitHandler: onSubmitHandler
        };
        wizardForm.init(wizardCfg);
        initHandlers();
        automessagesStatus.init();
        initModalHandler();
        initEmojii();
        imageUpload.init();
        // initTagsInput();

        window.PubSub.subscribe(_consts.CONST.events.instagramAccouns.INSTAGRAM_ACCOUNS_RENDERED_LAZY, function (e, accounts) {
            logs.init(selectCls, clsConst);
        });
        window.PubSub.subscribe(_consts.CONST.events.autoarnswer.IMAGE_UPLOADED, function (e, res) {
            var response = res.response;

            var result = response.length ? JSON.parse(response) : '';
            var imageId = result && result.data && result.data.image_id;
            $(res.el).closest('.file-upload').attr('attached-img-id', imageId);
            console.log('image_loaded', res);

            // todo: make as callBack
            var $imageBox = $(res.el).closest('.col').find('.js_uploaded-img-from-posts');
            if ($imageBox.length) {
                $imageBox.remove();
            }
        });
        window.PubSub.subscribe(_consts.CONST.events.modal.IMAGE_POST_SELECTED, function (e, data) {
            var $imageBox = $(data.closestCol).find('.file-upload-content');
            console.log('$imageBox', $imageBox);
            if ($imageBox.length) {
                $imageBox.hide();
            }
        });
    }
}

/***/ }),
/* 32 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.init = init;

var _consts = __webpack_require__(0);

var _taskStatus = __webpack_require__(5);

function init() {
    if ($('.automessages-page').length) {
        var path = {
            type: _consts.CONST.url.tmTypes.automessagesT,
            subtype: _consts.CONST.url.tmTypes.automessagesSubT[0]
        };
        var wrappers = {
            $runs: $('.tasks-runs'),
            $stopped: $('.tasks-stopped'),
            $all: $('.tasks-all')
        };

        // task-status has one subtype, so do not add dropdown
        // render status dropdown
        // const textRusArray = ['По DEFAULT_AUTO_ANSWER'];
        // dropDown.addDropdown(logsStateStatus.wrapperSubtype, CONST.url.tmTypes.storiesSubT, {logsState: logsStateStatus, dropdownOnSelectCb, textRusArray});

        (0, _taskStatus.getTasksData)(wrappers, path);
        // window.PubSub.subscribe(CONST.events.instagramAccouns.INSTAGRAM_ACCOUNS_RENDERED, (eventName, data) => {
        //     getTasksData(wrappers, path);
        //     console.log('**answer-status', eventName, data);
        // });
        window.PubSub.subscribe(_consts.CONST.events.tasks.NEW_TASK_CREATED, function (eventName, data) {
            (0, _taskStatus.getTasksData)(wrappers, path);
        });
    }
}

/***/ }),
/* 33 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.init = init;

var _consts = __webpack_require__(0);

var _wizardForm = __webpack_require__(6);

var wizardForm = _interopRequireWildcard(_wizardForm);

var _apiTaskManager = __webpack_require__(2);

var _apiTaskManager2 = _interopRequireDefault(_apiTaskManager);

var _tabs = __webpack_require__(9);

var tabs = _interopRequireWildcard(_tabs);

var _chatBotStatus = __webpack_require__(34);

var chatBotStatus = _interopRequireWildcard(_chatBotStatus);

var _logs = __webpack_require__(8);

var chatBotLogs = _interopRequireWildcard(_logs);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

var usernameSelected = '';
// import User from '../../common/js-services/user';

var selectCls = 'js_logs-accounts';
var clsConst = {
    currentPageCls: '.bot-page',
    tasksList: '.log-tasks',
    logsTabBtn: '#v-pills-logs-tab',
    pagination: '.logs-pagination',
    paginationPgNumber: '.page-number',
    pathType: _consts.CONST.url.tmTypes.chatBotT,
    pathSubType: _consts.CONST.url.tmTypes.chatBotSubT[0]
};

function onSubmitHandler(e) {
    var fields = $('.bot-text-fields');
    var keyWords = function keyWords($el) {
        return $el.val().trim().replace(/ /g, '').split(',').filter(function (i) {
            return i.length > 0;
        });
    };
    var reqBody = [];
    fields.each(function (idx, item) {
        var keyWord = keyWords($(item).find('textarea.answer-words'));
        var answer = $(item).find('textarea.answer-messages').val();
        reqBody.push({ 'key_words': keyWord, answer: answer });
    });
    var nReqBody = {
        'username': usernameSelected,
        'type': clsConst.pathType,
        'subtype': clsConst.pathSubType,
        'user_default_config': {},
        'user_custom_config': {
            'forms': reqBody
        }
    };

    // console.log('make request here**', nReqBody);
    function cbError(res) {
        var msg = res.status.message;
        $('.form-submit-finish--error').addClass('d-block').find('.alert').append('<p>' + msg + '</p>');
    }
    _apiTaskManager2.default.postStartTask(nReqBody, cbError).then(function (result) {
        // console.log('postBot');
        if (result.status.state === 'ok') {
            // console.log(JSON.stringify(result));
            $('.form-submit-finish').find('.alert p').remove();
            $('.form-submit-finish').addClass('d-block').find('.alert').append('<p>task_id: ' + result.data.task_id + '</p>');
        }
    });
}

function fillListUsers($wrapper, accounts) {
    $wrapper.empty().addClass('border-light-color');
    $('<div class="">\u0414\u043E\u0441\u0442\u0443\u043F\u043D\u044B\u0435 \u0430\u043A\u043A\u0430\u0443\u043D\u0442\u044B</div><select name="task-type" class="' + selectCls + '"></select>').appendTo($wrapper);
    accounts.forEach(function (name) {
        $('<option class="list-group-item py-2" value="' + name + '">\n            ' + name + '\n        </option>').appendTo($('.' + selectCls));
    });
    $('.' + selectCls).on('change', function () {
        usernameSelected = $('.' + selectCls + ' option:selected').val();
        // console.log(usernameSelected);
        chatBotLogs.init(selectCls, clsConst);
    });
}

// function getMetaLazy($wrapper, cbFillListUsers) {
//     User.getMetadataLazy().then((res) => {
//         if (res.status.state === 'ok' && res.data && res.data.accounts) {
//             cbFillListUsers($wrapper, res.data.accounts);
//             chatBotLogs.init(selectCls, clsConst);
//         }
//     });
// }

/**
 * Init header
 */
function initHandlers() {
    var tplTextField = function tplTextField() {
        return $('<div class="bot-text-fields mt-2">\n        <div class="row">\n            <div class="col">\n                <textarea class="form-control answer-words" rows="4" placeholder="\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043A\u043B\u044E\u0447\u0435\u0432\u044B\u0435 \u0441\u043B\u043E\u0432\u0430 \u0438\u043B\u0438 \u0444\u0440\u0430\u0437\u044B \u0447\u0435\u0440\u0435\u0437 \u0437\u0430\u043F\u044F\u0442\u0443\u044E, \u043F\u0440\u0438 \u043A\u043E\u0442\u043E\u0440\u044B\u0445 \u0431\u0443\u0434\u0435\u0442 \u0441\u0440\u0430\u0431\u0430\u0442\u044B\u0432\u0430\u0442\u044C \u0447\u0430\u0442-\u0431\u043E\u0442"></textarea>\n            </div>\n            <div class="col">\n                <textarea class="form-control answer-messages" rows="4" placeholder="\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u043E\u043E\u0431\u0449\u0435\u043D\u0438\u0435, \u043A\u043E\u0442\u043E\u0440\u043E\u0435 \u0431\u0443\u0434\u0435\u0442 \u043E\u0442\u043F\u0440\u0430\u0432\u043B\u044F\u0442\u044C\u0441\u044F, \u0435\u0441\u043B\u0438 \u043F\u0440\u0438\u0441\u0443\u0442\u0441\u0442\u0432\u043E\u0432\u0430\u043B\u0438 \u043A\u043B\u044E\u0447.\u0441\u043B\u043E\u0432\u0430 \u0438\u043B\u0438 \u0444\u0440\u0430\u0437\u044B \u0438\u0437 \u0441\u0442\u043E\u043B\u0431\u0446\u0430 \u0441\u043B\u0435\u0432\u0430"></textarea>\n            </div>\n        </div>\n    </div>');
    };

    $('.js_add-bot').on('click', function (e) {
        var lastTextField = $('.bot-text-fields').last();
        tplTextField().insertAfter(lastTextField);
    });

    // alert close
    $('.form-submit-finish .close').on('click', function () {
        // console.log('alert close');
        $('#v-pills-all-tab').trigger('click');
        window.PubSub.publish(_consts.CONST.events.tasks.NEW_TASK_CREATED);
    });

    // alert close
    $('.form-submit-finish--error .close').on('click', function () {
        // console.log('alert close');
        $('#v-pills-all-tab').trigger('click');
        window.PubSub.publish(_consts.CONST.events.tasks.NEW_TASK_CREATED);
    });

    /*
    $('#v-pills-logs-tab').on('click', (e) => {
        // at this point of time setInterval is working
        const $wrapper = $('.log-users-list');
        getMetaLazy($wrapper, fillListUsers);
        // chatBotLogs.init(selectCls, clsConst);
    });
    */
    tabs.init(fillListUsers);
}

function setUserName(state) {
    // console.log('getTasksData', state.username);
    usernameSelected = state.username;
}

function stepReducer(stepNumber, state) {
    switch (stepNumber) {
        case 0:
            setUserName(state);
            // console.log(state, stepNumber);
            break;
        default:
            console.log('default', stepNumber);
    }
}

function init() {
    if ($('.bot-page').length) {
        var wizardCfg = {
            stepReducer: stepReducer,
            onSubmitHandler: onSubmitHandler
        };
        wizardForm.init(wizardCfg);
        initHandlers();
        chatBotStatus.init();
        window.PubSub.subscribe(_consts.CONST.events.instagramAccouns.INSTAGRAM_ACCOUNS_RENDERED_LAZY, function (e, accounts) {
            // console.log(accounts);
            chatBotLogs.init(selectCls, clsConst);
        });
    }
}

/***/ }),
/* 34 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.init = init;

var _consts = __webpack_require__(0);

var _taskStatus = __webpack_require__(5);

function init() {
    if ($('.bot-page').length) {
        var path = {
            type: _consts.CONST.url.tmTypes.chatBotT,
            subtype: _consts.CONST.url.tmTypes.chatBotSubT[0]
        };
        var wrappers = {
            $runs: $('.tasks-runs'),
            $stopped: $('.tasks-stopped')
        };
        (0, _taskStatus.getTasksData)(wrappers, path);
        // window.PubSub.subscribe(CONST.events.instagramAccouns.INSTAGRAM_ACCOUNS_RENDERED, (eventName, data) => {
        //     getTasksData(wrappers, path);
        //     console.log('**answer-status', eventName, data);
        // });
        window.PubSub.subscribe(_consts.CONST.events.tasks.NEW_TASK_CREATED, function (eventName, data) {
            (0, _taskStatus.getTasksData)(wrappers, path);
        });
    }
}

/***/ }),
/* 35 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.confirmationWithRedirect = confirmationWithRedirect;

var _user = __webpack_require__(3);

var _user2 = _interopRequireDefault(_user);

var _consts = __webpack_require__(0);

var _cookie = __webpack_require__(4);

var _cookie2 = _interopRequireDefault(_cookie);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var parseQueryString = function parseQueryString() {

    var str = window.location.search;
    var objURL = {};

    str.replace(new RegExp('([^?=&]+)(=([^&]*))?', 'g'), function ($0, $1, $2) {
        objURL[$1] = $2;
    });
    return objURL;
}; /* eslint-disable sort-vars */
// import $ from 'jquery';
function confirmationWithRedirect() {
    var user = _user2.default;
    var params = parseQueryString();
    // Example how to use it:

    var sendConfirm = function sendConfirm(token) {
        user.confirm(token).then(function (result) {
            if (result.status && result.status.state === 'ok') {

                // save the item
                _cookie2.default.set(_consts.CONST.cookieStorage.emailConfirmed, 'confirmed');
                _cookie2.default.set(_consts.CONST.cookieStorage.token, result.data.token);

                // window.location = confirm-registration.html?token='from server';

                // retrieve the object in a string form
                var customersDataString = sessionStorage.getItem('customersData');
                console.log(customersDataString);
                console.log('request succeeded with JSON response', result);
                $('.confirm-registration').append('<p>confirmation status: ' + result.status.state + '</p>');
                setTimeout(function () {
                    window.location = './profile.html';
                }, 1000);
            } else if (result.status) {
                console.log(result);
            } else {
                console.log(result);
            }
        });
    };

    var redirect = function redirect() {
        // eslint-disable-next-line dot-notation
        var token = params['token'];

        if (!location.pathname.indexOf('confirm-registration')) {
            return;
        }
        if (token) {
            console.log('send req to ', token);
            sendConfirm(token);
        }
    };

    function init() {
        redirect();
    }

    return {
        init: init
    };
}

/***/ }),
/* 36 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; // import * as followStatus from './follow-status';


exports.modifyAccList = modifyAccList;
exports.init = init;

var _taskStatusBySubtype = __webpack_require__(19);

var followStatusBySubtype = _interopRequireWildcard(_taskStatusBySubtype);

var _consts = __webpack_require__(0);

var _apiTaskManager = __webpack_require__(2);

var _apiTaskManager2 = _interopRequireDefault(_apiTaskManager);

var _view = __webpack_require__(1);

var _view2 = _interopRequireDefault(_view);

var _followReadFileTxt = __webpack_require__(14);

__webpack_require__(52);

var _logsTabs = __webpack_require__(13);

var _tagsInput = __webpack_require__(10);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

var state = {
    username: '',
    subtype: _consts.CONST.url.tmTypes.followingSubT[0], // default value
    user_default_config: {
        task_mode: 'SAFE'
    }
};

function fillListMeta($list, dataArray) {
    var items = dataArray;
    // const defaultAvatarSrc = CONST.user.defaulAvatar;
    $list.empty().addClass('border-light-color');
    $('<li class="list-group-item py-2"><h3>UserTaskManager</h3></li>').appendTo($list);
    items.forEach(function (item) {
        // const info = item.info;
        // const checkpoint = item.checkpoint || item;
        $('<li class="list-group-item py-2" data-username="' + item.type + '">\n                <div class="media-body d-flex">\n                    <div class="col task-type">\n                        ' + (item.task_id ? '<p class="mt-0 mb-1 name">' + item.task_id + '</p>' : '') + '\n                    </div>\n                    <div class="col task-subtype">\n                        ' + (item.subtype ? '<p class="mt-0 mb-1 name">' + item.subtype + '</p>' : '') + '\n                    </div>\n                    <div class="col task-progress">\n                        ' + (item.status.state === 'STOPPED' ? '<p class="mt-0 mb-1 name">\u041E\u0441\u0442\u0430\u043D\u043E\u0432\u043B\u0435\u043D\u043E - ' + item.status.reason + '</p>' : '') + '\n                    </div>\n                    <!--<div class="col task-progress">\n                        ' + (item.progress ? '<p class="mt-0 mb-1 name">\u041A\u043E\u043B\u0438\u0447\u0435\u0441\u0442\u0432\u043E - ' + item.progress.count + '</p>\n                                <p class="mt-0 mb-1 name">\u041F\u0440\u043E\u0446\u0435\u043D\u0442 - ' + item.progress.percent + '</p>' : '') + '\n                    </div>-->\n                </div>\n            </li>').appendTo($list);
    });
}

/*
function fillListTypes($wrapper, data) {
    const structureObj = data['structure'];

    $wrapper.empty().addClass('border-light-color');
    $('<div class="">Тип задания</div><select name="task-type" id="task-types"></select>').appendTo($wrapper);
    for (const type in structureObj) {
        // console.log('structure: ' + item);
        if (Object.prototype.hasOwnProperty.call(structureObj, type)) {
            $(`<option class="list-group-item py-2" ${(type !== 'FOLLOWING') ? 'disabled="disabled"' : ''}
                value = "${JSON.stringify({type, subtype: structureObj[type]})}">
                ${type}
            </option>`).appendTo($('#task-types'));
        }
    }
}
*/

function getTasksData(path) {
    _apiTaskManager2.default.getMetadata(path).then(function (result) {
        if (result.status.state === 'ok') {
            fillListMeta($('.follow-tasks-list'), result.data.meta);
        }
    });
}

function getDataStep2() {
    var path = {
        type: _consts.CONST.url.tmTypes.followingT,
        subtype: state.subtype || _consts.CONST.url.tmTypes.followingSubT[0]
    };
    getTasksData(path);
}

function getDataStepSpeed(stepNumber) {
    var fillSpeedList = _view2.default.fillRadioGroupList;
    var path = {
        type: _consts.CONST.url.tmTypes.followingT,
        subtype: state.subtype || _consts.CONST.url.tmTypes.followingSubT[0]
    };
    function toggleAddTextBtn(subtype) {
        if (path.subtype === 'FOLLOWING_BY_LIST') {
            // show txt fileUpload
            $('.add-file').addClass('d-block');
            $('.add-competitors').addClass('d-none').removeClass('d-block');
            var nextStep = $('.js_add-new-task fieldset').get(stepNumber + 1);
            $(nextStep).find('.btn-next').attr('disabled', 'disabled');
            // console.log(nextStepProceedBtn);
        } else {
            // show competitors
            $('.add-competitors').addClass('d-block');
            $('.add-file').addClass('d-none').removeClass('d-block');
            var _nextStep = $('.js_add-new-task fieldset').get(stepNumber + 1);
            $(_nextStep).find('.btn-next').removeAttr('disabled');
        }
    }
    console.log('path.subtype', path.subtype);

    toggleAddTextBtn(path.subtype);

    // draw criteria
    _apiTaskManager2.default.getDefaultConfigs(path).then(function (result) {
        console.log('getDefaultConfigs');
        if (result.status.state === 'ok') {
            var task_modes = result.data.found.cfg.task_modes;


            fillSpeedList($('.js_follow-speed'), task_modes);
            $('.js_follow-speed input[type=radio]').on('click', function () {
                var value = $(this).attr('value');
                state.user_default_config = {
                    task_mode: value.toUpperCase()
                };
            });
        }
    });
}
function setCompetitors() {
    var competitors = _view2.default.getValByCommaSeparator($('.follow-form').find('#followers'));

    state['user_custom_config'] = {
        competitors: competitors
    };
}

function stepReducer(stepNumber) {
    var $competitorsTextArea = $('.js_follow-competitors');
    var nextStepBtn = $competitorsTextArea.closest('.add-competitors').find('.btn-next');
    switch (stepNumber) {
        case 0:
            getDataStep2(state.username);
            // console.log(state);
            break;
        case 1:
            getDataStepSpeed(stepNumber);
            (0, _tagsInput.nextBtnvalidateCompetitorsHandler)($competitorsTextArea, nextStepBtn);
            break;
        case 2:
            setCompetitors();
            break;
        default:
            console.log('default', stepNumber);
    }
}

function cbError(res) {
    var msg = res.status.message;
    $('.form-submit-finish--error').addClass('d-block').find('.alert').append('<p>' + msg + '</p>');
}

/**
 * Init header
 */
function initSteps(formSelector) {
    var $form = $(formSelector);
    $('.js_profile-user-follow>.container').removeClass('container');

    (0, _followReadFileTxt.attachTxtFileHandler)('.file-upload-container');

    $form.find('fieldset:first-child').fadeIn('slow');

    $form.find('input[type="text"]').on('focus', function () {
        $(this).removeClass('input-error');
    });

    // next step
    $form.find('.btn-next').on('click', function () {
        var parent_fieldset = $(this).parents('fieldset');
        var next_step = true;
        var radioBtnActive = parent_fieldset.find('input[name="userAccountRadio"]:checked');

        if (radioBtnActive.length > 0) {
            state.username = radioBtnActive.parents('li').data('username');
        }
        stepReducer(parent_fieldset.index(), state);

        parent_fieldset.find('input[type="text"],input[type="email"]').each(function () {
            if ($(this).val() === '') {
                $(this).addClass('input-error');
                next_step = false;
            } else {
                $(this).removeClass('input-error');
            }
            if ($(this).parent().hasClass('bootstrap-tagsinput')) {
                next_step = true;
            }
        });

        if (next_step) {
            parent_fieldset.fadeOut(400, function () {
                $(this).next().fadeIn();
            });
        }
    });

    // previous step
    $form.find('.btn-previous').on('click', function () {
        // state.username = [...new Set(state.username)];
        $(this).parents('fieldset').fadeOut(400, function () {
            $(this).prev().fadeIn();
        });
    });

    // speed radio-btn group
    // $('.js_follow-speed input[type=radio]').on('click', function () {
    //     const value = $(this).attr('value');
    //     state.user_default_config = {
    //         task_mode: value.toUpperCase()
    //     };
    // });

    $('.js_get-follow-type input[type=radio]').on('click', function (e) {
        var value = $(e.target).attr('value');
        state.subtype = value.toUpperCase();
        // console.log(state);
    });

    // submit
    $form.on('submit', function (e) {

        state.user_default_config = _extends({}, state.user_default_config, {
            criteria: {}
        });
        var limit = document.forms['follow-form']['limit'];
        var have_posts = {
            from: document.forms['follow-form']['have_posts_from'].value,
            to: document.forms['follow-form']['have_posts_to'].value
        };
        var have_followers = {
            from: document.forms['follow-form']['have_followers_from'].value,
            to: document.forms['follow-form']['have_followers_to'].value
        };
        var have_followings = {
            from: document.forms['follow-form']['have_followings_from'].value,
            to: document.forms['follow-form']['have_followings_to'].value
        };

        if (limit.value === '') {
            limit.focus();
            return false;
        }
        state['user_default_config'].criteria = {
            limit: limit.value,
            'unfollow_then': !!$('#unfollow_then:checked').length,
            'follow_on_closed_profiles': !!$('#follow_on_closed_profiles:checked').length,
            have_posts: have_posts,
            have_followers: have_followers,
            have_followings: have_followings
        };

        $(this).find('input[type="text"],input[type="number"],input[type="email"]').each(function () {
            if ($(this).val() === '') {
                e.preventDefault();
                $(this).addClass('input-error');
            } else {
                $(this).removeClass('input-error');
            }
        });

        state.type = _consts.CONST.url.tmTypes.followingT; // 'FOLLOWING';
        // console.log('----+ state.subtype +----', state.subtype);
        if (state.subtype === 'FOLLOWING_BY_LIST') {
            // text file should be added
            state['user_custom_config'].attachment = {
                'list_id': $('.add-file .file-upload-container').attr('attached-txt-id')
            };
        }
        if (state.subtype === _consts.CONST.url.tmTypes.followingSubT[1]) {
            // const competitors = getValByCommaSeparator($(form).find(elSelector.competitors));
            // state.user_custom_config = {
            //     competitors: 'competitors'
            // };
        }
        console.log('make request**  post: StartFollowingList', state);

        _apiTaskManager2.default.postStartFollowingList(state, cbError).then(function (result) {
            if (result.status.state === 'ok') {
                console.log(JSON.stringify(result));
                $('.form-submit-finish').find('.alert p').remove();
                $('.form-submit-finish').addClass('d-block').find('.alert').append('<p>task_id: ' + result.data.task_id + '</p>');
            }
        });
    });

    // alert close
    $('.form-submit-finish .close').on('click', function () {
        // $(this).closest('form-submit-finish').removeClass('d-block');
        $('#v-pills-all-tab').trigger('click');
        window.PubSub.publish(_consts.CONST.events.tasks.NEW_TASK_CREATED);
    });

    // alert close
    $('.form-submit-finish--error .close').on('click', function () {
        // console.log('alert close');
        $('#v-pills-all-tab').trigger('click');
        window.PubSub.publish(_consts.CONST.events.tasks.NEW_TASK_CREATED);
    });

    // prev btn: clear-competitors
    $('.js_follow-clear-competitors').on('click', function () {
        var $competitorsTextArea = $('.js_follow-competitors');
        $competitorsTextArea.val('');
    });
}

// eslint-disable-next-line no-unused-vars
var usernameSelected = '';
var clsConst = {
    currentPageCls: '.follow',
    tasksList: '.log-tasks',
    logsTabBtn: '#v-pills-logs-tab',
    pagination: '.logs-pagination',
    paginationPgNumber: '.page-number',
    pathType: _consts.CONST.url.tmTypes.followingT,
    pathSubType: _consts.CONST.url.tmTypes.followingSubT[0]
};

function setUserNameCb(_usernameSelected) {
    usernameSelected = _usernameSelected;
}

/*
function fixStepIndicator(n) {
    // This function removes the "active" class of all steps...
    var i, x = document.getElementsByClassName("step");
    for (i = 0; i < x.length; i++) {
        x[i].className = x[i].className.replace(" active", "");
    }
    //... and adds the "active" class on the current step:
    x[n].className += " active";
}*/

// TODO : use from wizard
function modifyAccList() {
    // const radioBtn = (idx) => `<div class="col custom-control custom-radio js_user-radio">
    //         <input type="radio" name="userAccountRadio" id="customRadio-${idx}" class="custom-control-input" value="">
    //         <label class="custom-control-label" for="customRadio-${idx}">Подписаться</label>
    //     </div>`;
    var radioBtnAppend = function radioBtnAppend(idx) {
        return '<div class="">\n            <input type="radio" name="userAccountRadio" id="customRadio-' + idx + '" class="custom-control-input d-none" value="">\n        </div>';
    };
    var radioBtnWrap = function radioBtnWrap(idx) {
        return '<label class="accounts-list--label-wrapper col mb-0 media py-3" for="customRadio-' + idx + '"></label>';
    };
    var $accountsList = $('.accounts-list');
    var $li = $accountsList.find('li.media');
    $li.addClass('js_user-radio').removeClass('py-3 media');

    for (var i = 0; i < $li.length; i++) {
        // $($li[i]).append(radioBtn(i));
        $($li[i]).wrapInner(radioBtnWrap(i)).append(radioBtnAppend(i));
    }

    $('.js_user-radio').on('click', 'input[type=radio]', function (e) {
        var $parentFieldset = $(this).parents('fieldset');
        $('li.active', $parentFieldset).removeClass('active');
        $(this).closest('li').addClass('active');
        $('.btn-next', $parentFieldset).prop('disabled', false);
    });
}

/* working demo : http://brutusin.org/json-forms/#13
function formFromJson() {
    const schema = {
        "type": "object",
        "properties": {
            "prop1": {
                "type": "integer"
            },
            "prop2": {
                "type": "integer",
                "required": true
            },
            "prop3": {
                "type": "integer",
                "required": true
            },
            "composite1": {
                "type": "object",
                "properties": {
                    "nested1": {
                        "type": "number",
                        "required": true
                    },
                    "nested2": {
                        "type": "number",
                        "required": true
                    }
                },
                "required": [
                    "nested1",
                    "nested2"
                ]
            },
            "composite2": {
                "type": "object",
                "properties": {
                    "nested1": {
                        "type": "number",
                        "required": true
                    },
                    "nested2": {
                        "type": "number",
                        "required": true
                    }
                },
                "required": [
                    "nested1",
                    "nested2"
                ]
            }
        },
        "required": [
            "prop1",
            "prop2",
            "composite1"
        ]
    };
    const BrutusinForms = window.brutusin['json-forms'];
    const bf = BrutusinForms.create(schema);
    const container = document.getElementById('form1');
    console.log(window.brutusin);
    bf.render(container, data);
}*/

function init() {
    var isInCorrectPage = $('.follow').length;
    if (isInCorrectPage) {
        var initialPath = {
            type: _consts.CONST.url.tmTypes.followingT,
            subtype: _consts.CONST.url.tmTypes.followingSubT[0],
            subtypes: _consts.CONST.url.tmTypes.followingSubT
        };
        followStatusBySubtype.init({ isInCorrectPage: isInCorrectPage, initialPath: initialPath });
        initSteps('.follow-form');
        console.log(clsConst.currentPageCls);
        var textRusArray = ['По списку', 'По активной аудитории конкурентов'];
        (0, _logsTabs.initLogsTab)({ logsState: _consts.CONST.logsState, logsSubtypes: initialPath.subtypes, clsConst: clsConst, setUserNameCb: setUserNameCb, textRusArray: textRusArray });
        // initTagsInput();

        // TODO : use wizard.init()
        window.PubSub.subscribe(_consts.CONST.events.instagramAccouns.INSTAGRAM_ACCOUNS_RENDERED, function (eventName, data) {
            modifyAccList();
            // console.log('modifyAccList');
        });
    }
}

/***/ }),
/* 37 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.init = init;
// import $ from 'jquery';

// const hamburgerButtonCls = '#aside_mobile__button';
// const hamburgerMenuCls = '.aside-burger-menu';
// const hamburgerMenuOpenedClass = 'burger-menu--closed';
// const hamburgerButtonCloseClass = 'burger-menu__button--close';
var selectorsEl = {
    leftMenu: {
        hamburgerButtonCls: '#aside_mobile__button',
        hamburgerMenuCls: '.aside-burger-menu',
        hamburgerMenuOpenedClass: 'burger-menu--closed',
        hamburgerButtonCloseClass: 'burger-menu__button--close'
    },
    rightMenu: {
        hamburgerButtonCls: '#header_mobile_toggler',
        hamburgerMenuCls: '.r-side-burger-menu',
        hamburgerMenuOpenedClass: 'r-side-burger-menu--open',
        hamburgerButtonCloseClass: 'burger-menu-right__button--close'
    },
    subHeader: {
        hamburgerButtonCls: '#header_mobile_topbar_toggler',
        hamburgerMenuCls: '.sub-header',
        hamburgerMenuOpenedClass: 'sub-header--open',
        hamburgerButtonCloseClass: 'sub-header-button--close'
    }
};

/**
 * Toggle hamburger menu popover
 */
function toggleHamburgerMenu(menuName) {
    var _selectorsEl$menuName = selectorsEl[menuName],
        hamburgerMenuCls = _selectorsEl$menuName.hamburgerMenuCls,
        hamburgerButtonCls = _selectorsEl$menuName.hamburgerButtonCls,
        hamburgerButtonCloseClass = _selectorsEl$menuName.hamburgerButtonCloseClass,
        hamburgerMenuOpenedClass = _selectorsEl$menuName.hamburgerMenuOpenedClass;

    $(hamburgerButtonCls).toggleClass(hamburgerButtonCloseClass);
    $(hamburgerMenuCls).toggleClass(hamburgerMenuOpenedClass);
}

/**
 * Init hamburger menu
 */
function init() {
    var leftMenu = 'leftMenu';
    var rightMenu = 'rightMenu';
    var subHeader = 'subHeader';

    $(selectorsEl[leftMenu].hamburgerButtonCls).on('click', toggleHamburgerMenu.bind(this, leftMenu));
    $(selectorsEl[rightMenu].hamburgerButtonCls).on('click', toggleHamburgerMenu.bind(this, rightMenu));
    $(selectorsEl[subHeader].hamburgerButtonCls).on('click', toggleHamburgerMenu.bind(this, subHeader));
}

/***/ }),
/* 38 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.initHeader = initHeader;

var _user = __webpack_require__(3);

var _user2 = _interopRequireDefault(_user);

var _consts = __webpack_require__(0);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// import $ from 'jquery';
var selectorLoginState = '.js_message_logged--text';
// import PubSub from 'pubsub-js'; // https://www.npmjs.com/package/pubsub-js

var selectorEmailConfirmState = '.js_email-confirm--text';
var closeClass = 'd-none';
var openedClass = 'd-block';

function emailNotConfirmed() {
    var $emailnMsg = $(selectorEmailConfirmState);
    $emailnMsg.text('**emailNotConfirmed** Email не подтвержден.').css('color', 'lightcoral');
}

function onLoginSubscribe(msg, data) {
    // console.log('onLoginSubscribe', msg, data);
    $(_consts.CONST.uiSelectors.headerNavLoginBtn).addClass(closeClass).removeClass(openedClass);
    $(_consts.CONST.uiSelectors.headerRegBtn).addClass(closeClass).removeClass(openedClass);
    $(_consts.CONST.uiSelectors.headerLoginBox).addClass(closeClass).removeClass(openedClass);

    $('.nav-link.js_logOut').addClass(openedClass).removeClass(closeClass); // show
    var $loginMsg = $(selectorLoginState);
    $loginMsg.text('**onLoginSubscribe** вы залогинились в Luxgram успешно').css('color', 'lightblue');
    var isEmailConfirmed = _user2.default.isEmailConfirmed();
    if (!isEmailConfirmed) {
        emailNotConfirmed();
    }
}

function showLogout() {
    // check is logged
    var isLogged = _user2.default.isLoggedIn();
    var isEmailConfirmed = _user2.default.isEmailConfirmed();
    if (!isEmailConfirmed) {
        emailNotConfirmed();
    }
    // console.log('isLogged', isLogged);
    if (isLogged) {
        $('.nav-link.js_logOut').parent().show();
        $('.js_email-confirm--text').text('вы залогинились успешно');
        var oldURL = document.referrer;
        // console.log(oldURL);
        if (oldURL.includes('confirm-registration')) {
            $('.js_message_logged--text').text('вы подтвердили регистрацию');
        }
        onLoginSubscribe();
    } else {
        $(selectorLoginState).text('Привет анонимный пользователь');
        $(selectorEmailConfirmState).empty();
    }
}

/**
 * Init header
 */
function initHeader() {
    // check other handler in login-form.js
    // const $loginBox = $(CONST.uiSelectors.headerLoginBox);
    // const $registerBox = $(CONST.uiSelectors.headerRegBox);

    // PubSub.subscribe(CONST.events.USER_LOGGED, onLoginSubscribe);

    showLogout();

    // $(CONST.uiSelectors.headerRegBtn).on('click', () => {
    //     $loginBox.hide();
    //     $registerBox.css({'top': 0, 'right': 0})
    //         .addClass('bg-light border mt-5 mx-auto position-absolute px-3 d-block')
    //         .removeClass('d-none');
    // });

    // $(CONST.uiSelectors.headerNavLoginBtn).on('click', () => {
    //     $loginBox.addClass('d-block').removeClass('d-none');
    //     $registerBox.addClass('d-none').removeClass('d-block');
    // });
}

/***/ }),
/* 39 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

exports.settingButtonsHandler = settingButtonsHandler;

var _user = __webpack_require__(3);

var _user2 = _interopRequireDefault(_user);

var _consts = __webpack_require__(0);

var _instagramAccountsList = __webpack_require__(20);

var _spinner = __webpack_require__(17);

var _spinner2 = _interopRequireDefault(_spinner);

var _imageUpload = __webpack_require__(7);

var imageUpload = _interopRequireWildcard(_imageUpload);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function updateButtonsDataAttr(settingButtonsHandlerCb) {
    var cfg = {
        deleteBtnCls: '.js_acc-delete',
        updateBtnCls: '.js_acc-refresh',
        editBtnCls: '.js_acc-edit'
    };
    // $(cfg.editBtnCls).off();
    $(cfg.updateBtnCls).off(); // Reload button clear listener
    // $(cfg.deleteBtnCls).off();
    settingButtonsHandlerCb(cfg);
}

function settingButtonsHandler(classCfg) {
    var deleteBtnCls = classCfg.deleteBtnCls,
        updateBtnCls = classCfg.updateBtnCls,
        editBtnCls = classCfg.editBtnCls;

    var modalConfirm = $('#delete-user-promt');
    var username = '';
    var userOriginal = {};
    var replaceWithCfg = {
        replaceWith: true,
        holderCls: '.modal-image-holder',
        uploadBtnCls: '.js_edit-profile-img-upd',
        imageCls: 'img.user-avatar'
    };
    imageUpload.init(replaceWithCfg);
    // image-upload subscriber
    window.PubSub.subscribe(_consts.CONST.events.autoarnswer.IMAGE_UPLOADED_AVATAR, function (e, res) {
        var result = JSON.parse(res.response);
        var profile_pic_url = result.data.profile.profile_pic_url;

        userOriginal.$li.find('img').attr('src', profile_pic_url);
        console.log('userOriginal', userOriginal);
    });
    // DELETE .../instagram-accounts/{username}
    $(deleteBtnCls).on('click', function (e) {
        username = $(e.target).closest(deleteBtnCls).data('username');
        modalConfirm.modal('show');
    });
    $('.js_acc-delete-confirm').on('click', function (e) {
        _user2.default.delInstagramAccount(username).then(function (result) {
            console.log(result);
            if (result.status.state === 'ok') {
                modalConfirm.hide();
                window.PubSub.publish(_consts.CONST.events.instagramAccouns.INSTAGRAM_ACCOUNS_NEED_REFRESH);
            }
        });
    });

    // GET instagram-accounts/meta/{username}
    $(updateBtnCls).on('click', function (e) {
        var $li = $(e.target).closest('li');
        var username = $(e.target).closest(updateBtnCls).data('username');
        var defaultAvatarSrc = _consts.CONST.user.defaulAvatar;
        _spinner2.default.add($li, '');
        _user2.default.updateInstagramAccount(username).then(function (result) {
            console.log(result);
            var account = result.data.account;

            $li.replaceWith((0, _instagramAccountsList.renderItem)(account, $li, defaultAvatarSrc));

            /*
            const cfg = {
                deleteBtnCls: '.js_acc-delete',
                updateBtnCls: '.js_acc-refresh',
                editBtnCls: '.js_acc-edit'
            };
            // $(cfg.editBtnCls).off();
            $(cfg.updateBtnCls).off(); // Reload button clear listener
            // $(cfg.deleteBtnCls).off();
            settingButtonsHandler(cfg);
            */
            updateButtonsDataAttr(settingButtonsHandler);
            _spinner2.default.remove();
        });
    });

    // PUT instagram-accounts/{username}
    var modalEdit = $('#edit-user-promt');
    $(editBtnCls).on('click', function (e) {
        var $li = $(e.target).closest('li');
        var $editBtn = $li.find(editBtnCls);
        var username = $editBtn.data('username');
        var login = $editBtn.data('name');
        var site = $editBtn.data('url');
        var about = $editBtn.data('biography');
        var imgSrc = $editBtn.data('img');
        var isBusiness = $editBtn.data('is_business');
        var isPrivate = $editBtn.data('is_private');
        // 'is_business'=true

        var $form = modalEdit.find('form').get(0);
        var formFields = {
            login: $form['login'],
            username: $form['username'],
            site: $form['site'],
            about: $form['biography'],
            userAvatarImg: $form['userAvatar']
        };
        userOriginal = {
            login: login,
            username: username,
            site: site,
            about: about,
            $li: $li,
            followerC: $editBtn.data('follower_count'),
            followingC: $editBtn.data('following_count'),
            mediaC: $editBtn.data('media_count')
        };
        replaceWithCfg.username = username;

        formFields.login.value = login;
        formFields.username.value = username;
        formFields.site.value = site;
        formFields.about.value = about;
        formFields.userAvatarImg.src = imgSrc;
        var $profileBox = modalEdit.find('.bussines-profile');
        if (isBusiness) {
            $profileBox.addClass('d-none').removeClass('d-block');
        } else {
            $profileBox.addClass('d-block');
            // isPrivat, todo:refactor me
            if (isPrivate) {
                $profileBox.find('.js_btn-prof-type-switcher #closed-profile-on').closest('label').addClass('active').find('#closed-profile-on').attr('checked', 'checked');
                // off - disable
                $profileBox.find('.js_btn-prof-type-switcher #closed-profile-off').closest('label').removeClass('active').find('#closed-profile-off').attr('checked', false);
            } else {
                $profileBox.find('.js_btn-prof-type-switcher #closed-profile-off').closest('label').addClass('active').find('#closed-profile-off').attr('checked', 'checked');
                // on - disable
                $profileBox.find('.js_btn-prof-type-switcher #closed-profile-on').closest('label').removeClass('active').find('#closed-profile-on').attr('checked', false);
            }
        }
        window.PubSub.subscribe('update_data_private_on_acc_list', function (e, value) {
            $editBtn.data('is_private', value !== 'closed-profile-off');
        });
        modalEdit.modal('show');
    });
    $('.js_edit-profile-modify').on('click', function (e) {
        var $form = modalEdit.find('form').get(0);
        var formFields = {
            login: $form['login'],
            username: $form['username'],
            site: $form['site'],
            about: $form['biography'],
            userAvatarImg: $form['userAvatar']
        };
        var body = {
            // 'username': (userOriginal.username !== formFields.username.value) ? formFields.username.value : '',
            // 'name': formFields.login.value,
            // 'biography': formFields.about.value,
            // 'url': formFields.site.value,
            // 'open': isOpen
        };
        var updateDataAttrUsername = false;
        if (userOriginal.username !== formFields.username.value) {
            body['username'] = formFields.username.value;
            updateDataAttrUsername = true;
        }
        if (userOriginal.login !== formFields.login.value) {
            body['name'] = formFields.login.value;
        }
        if (userOriginal.about !== formFields.about.value) {
            body['biography'] = formFields.about.value;
        }
        if (userOriginal.site !== formFields.site.value) {
            body['url'] = formFields.site.value;
        }
        // ----validate
        if (formFields.about.value === '') {
            console.info('about.value is empty');
        }

        _user2.default.editInstagramAccount(userOriginal.username || '', JSON.stringify(body)).then(function (result) {
            if (result.status.state === 'ok') {
                console.log('/*UPDATE VIEW HERE*/');
                var profile = result.data.profile;

                profile.info = result.data.profile;
                profile.info = _extends({}, profile.info, {
                    follower_count: userOriginal.followerC,
                    following_count: userOriginal.followingC,
                    media_count: userOriginal.mediaC
                });
                userOriginal.$li.replaceWith((0, _instagramAccountsList.renderItem)(profile, userOriginal.$li, false));
                updateButtonsDataAttr(settingButtonsHandler);
                if (updateDataAttrUsername) {
                    var $editBtn = userOriginal.$li.find(editBtnCls);
                    $editBtn.data('username', profile.info.username);
                    updateDataAttrUsername = false;
                }
                modalConfirm.hide();
            }
        });
    });
    // const modeSelector = $('.js_btn-prof-type-switcher');
    $('.js_btn-prof-type-switcher label').on('click', function (e) {
        var value = $(e.target).find('input[type=radio]').attr('value');
        // console.log('click', value);
        var isOpen = value === 'closed-profile-off';
        var body = {
            'open': isOpen
        };
        _user2.default.editInstagramAccount(userOriginal.username || '', JSON.stringify(body)).then(function (result) {
            if (result.status.state === 'ok') {
                console.log('result', result);
                window.PubSub.publish('update_data_private_on_acc_list', value);
            }
        });
    });
}

/***/ }),
/* 40 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.LoginForm = LoginForm;

var _user = __webpack_require__(3);

var _user2 = _interopRequireDefault(_user);

var _pubsubJs = __webpack_require__(11);

var _pubsubJs2 = _interopRequireDefault(_pubsubJs);

var _cookie = __webpack_require__(4);

var _cookie2 = _interopRequireDefault(_cookie);

var _view = __webpack_require__(1);

var _view2 = _interopRequireDefault(_view);

var _consts = __webpack_require__(0);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// window.$ = $;

// import Validator from '../../common/js-services/form-validator';
function LoginForm(selectorCss) {
    var _this = this;

    var _formId = selectorCss._formId,
        _buttonSubmitId = selectorCss._buttonSubmitId,
        _showLoginBoxBtnId = selectorCss._showLoginBoxBtnId,
        _loginBox = selectorCss._loginBox;

    var user = _user2.default,
        // service
    $form = $(_formId),
        $email = $form.find('input[name="mail"]'),
        $textAreaDescription = $('#description');
    // const openedClass = 'd-block';
    // const closeClass = 'd-none';

    var userLoginHeader = function userLoginHeader(_formData) {
        var cbError = function cbError(result) {
            $(_loginBox).append('<p>result.status.message</p>');
        };

        return user.login(_formData, cbError).then(function (result) {
            if (result && result.data && result.data.token) {
                // save the item
                _cookie2.default.set(_consts.CONST.cookieStorage.token, result.data.token);
                $('.nav-link.js_logOut').parent().show();
                // console.log('request succeeded with JSON response', result);
                _view2.default.showInfoMessage($textAreaDescription, result.status.state, result.status.message || 'Login succsess');
            } else if (result.status) {
                console.log(result);
                _view2.default.showInfoMessage(_this.$textAreaDescription, '<p>status: ' + result.status.state + '</p><p> message: ' + result.status.message + '</p>');
            } else {
                console.log(result);
            }
        }).then(function (result) {
            if (result && result.status) {
                console.log(result);
                _view2.default.showInfoMessage($textAreaDescription, result.status.state, result.status.message || 'Login error');
            }
        });
    };

    var submitForm = function submitForm(formDataObj) {
        var email = $email.val(),
            password = $form.find('input[name="pass"]').val(),
            _formData = formDataObj || { email: email, password: password };

        if (selectorCss.isLoginInstagram) {
            // todo: delete me
            // addInstagramAccount({username: $form.find('input[name="username"]').val(), password});
        } else {
            $email.val($email.val().toLocaleLowerCase());
            userLoginHeader(_formData).then(function () {
                _pubsubJs2.default.publish(_consts.CONST.events.USER_LOGGED, 'login');
            });
        }
    };

    var logOut = function logOut() {
        _cookie2.default.remove(_consts.CONST.cookieStorage.token);
        _pubsubJs2.default.publish(_consts.CONST.events.USER_LOGOUT);
    };

    var bindEvents = function bindEvents() {
        var $showLoginBoxBtnId = $(_showLoginBoxBtnId);
        var $loginBox = $(_loginBox);
        var openedClass = 'd-block';
        var closeClass = 'd-none';

        $showLoginBoxBtnId.on('click', function () {
            if (!selectorCss.isLoginInstagram) {
                $loginBox.css({ 'top': 0, 'right': 0 }).addClass('bg-light border mt-5 mx-auto position-absolute');
            }
            $loginBox.addClass(openedClass).removeClass(closeClass);
        });

        var $buttonSubmit = $(_buttonSubmitId),
            cssValidationClass = 'form-validation';

        $buttonSubmit.on('click', function (e) {
            e.preventDefault();
            var form = $form.get(0);
            // const validator = new Validator($form);
            // console.log(validator.validate());
            if (form.checkValidity() && _view2.default.isEmail($email.val())) {
                submitForm();
            } else {
                // Highlight errors
                if (form.reportValidity) {
                    form.reportValidity();
                }
                $form.addClass(cssValidationClass);
            }
        });

        $('.nav-link.js_logOut').on('click', function (e) {
            e.preventDefault();
            logOut();
            $(e.target).parent().hide();
            _view2.default.showInfoMessage($textAreaDescription, 'Logged out');
        });

        _pubsubJs2.default.subscribe(_consts.CONST.events.USER_LOGOUT, function (msg) {
            $(_consts.CONST.uiSelectors.headerNavLoginBtn).addClass(openedClass).removeClass(closeClass); // .show();
            $(_consts.CONST.uiSelectors.headerRegBtn).addClass(openedClass).removeClass(closeClass);
            $('.nav-link.js_logOut').addClass(closeClass).removeClass(openedClass); // .hide();
            var selectorLoginState = '.js_message_logged--text';
            $(selectorLoginState).text('Вы вышли из аккаунта');
        });

        $(document).on('click', function (event) {
            var isLoginBtnClick = $(event.target).closest('nav.navbar').find($loginBox).length;
            var isAddInstagramBtnClicked = $(event.target).attr('id') === _consts.CONST.uiSelectors.instagram.addAccountBtnId;

            if (!isLoginBtnClick && $loginBox.hasClass(openedClass) && !isAddInstagramBtnClicked) {
                $loginBox.addClass(closeClass).removeClass(openedClass);
            }
        });
    };

    function init() {
        bindEvents();
    }

    return {
        init: init
    };
} // https://www.npmjs.com/package/pubsub-js
/* eslint-disable sort-vars */
// import $ from 'jquery';

/***/ }),
/* 41 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.init = init;

__webpack_require__(22);

var _user = __webpack_require__(3);

var _user2 = _interopRequireDefault(_user);

var _apiUserDirect = __webpack_require__(21);

var _apiUserDirect2 = _interopRequireDefault(_apiUserDirect);

var _utils = __webpack_require__(43);

var _spinner = __webpack_require__(17);

var _spinner2 = _interopRequireDefault(_spinner);

var _consts = __webpack_require__(0);

var _imageUpload = __webpack_require__(7);

var imageUpload = _interopRequireWildcard(_imageUpload);

var _requests = __webpack_require__(42);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// import MeteorEmoji from 'meteor-emoji';
// import EmojiPicker from 'vanilla-emoji-picker';
var token = _user2.default.getToken();
// import PubSub from 'pubsub-js';// https://www.npmjs.com/package/pubsub-js

// import qq from 'fine-uploader'; // todo: fine-uploade

var $msgList = $('.messages-list');
var stateCfg = {
    pageIncrement: 0,
    loadingFlag: false,
    setSingleVal: false
};
var updateInterval = '';
var intervalId = false;
var cursor = '';
var intervalUserList = false;
var initialVal = '';
var flagInitialVal = true;
var currentUserData = {
    useravatar: 'link',
    username: 'name'
};
var scrollLoaderState = {
    cursor: 'pagination.prev_cursor',
    firstLoad: true,
    allMsgLoaded: false
};

var renderResults = function renderResults(cfg) {
    var data = cfg.dataArray,
        ulElement = cfg.$list,
        stateCfg = cfg.stateCfg;


    function showMessage(element, message, /* optional */clearList) {
        // $btnGET.attr('disabled', false);

        if (clearList) {
            $('li', element).remove();
        }
        element.css({ 'overflow': 'auto' });
        $('<li/>').addClass('list-group-item text-center').text(message).appendTo(ulElement);
    }

    if (stateCfg.loadingFlag === 'FINAL_PAGE') {
        return false; // exit if has reached last page
    }

    // show fail msg
    if (data === 'FAIL') {
        showMessage(ulElement, 'Failure, possible key not correct.', true);
        return false;
    }

    if (stateCfg.loadingFlag === 'STOP_LOAD' && data.length !== 0) {
        stateCfg.loadingFlag = 'FINAL_PAGE';
        showMessage(ulElement, 'No more results.', false);
        // $liFooter.hide();
        return false;
    }

    if (data === null || !data.length) {
        showMessage(ulElement, 'No results found.', true);
        return false;
    }

    (0, _utils.fillMassagesList)(cfg);
};

function isInMessagePage() {
    var $msgList = $('.messages-list');
    var $userList = $('.messages-user-list');
    return !!$msgList.length && !!$userList.length;
}

// todo: get from emojii.js
$(document).ready(function () {
    if (!isInMessagePage()) {
        return;
    }
    // eslint-disable-next-line no-unused-vars
    // const ep = new EmojiPicker();
    // // const m = new MeteorEmoji();
    // const $picker = $('textarea[data-emoji-picker="true"] ~ div');
    // const style = $picker.attr('style');
    // const styleNew = style.replace('top: 20px;', 'top: -210px;');
    // $picker.attr('style', styleNew);

    $('textarea[data-emoji-picker="true"]').emojioneArea({
        pickerPosition: 'top',
        tonesStyle: 'square',
        filtersPosition: 'bottom',
        autocomplete: true
        // events: {
        //     keyup (editor, event) {
        //         console.log(editor.html());
        //         console.log(this.getText());
        //     }
        // }
    });

    // todo: fine-uploade
    /*
    // eslint-disable-next-line no-unused-vars
    const restrictedUploader = new qq.FineUploader({
        element: document.getElementById('fine-uploader-validation'),
        template: 'qq-template-validation',
        request: {
            endpoint: '/server/uploads'
        },
        thumbnails: {
            placeholders: {
                waitingPath: 'https://fineuploader.com/source/placeholders/waiting-generic.png', // '/source/placeholders/waiting-generic.png',
                notAvailablePath: 'https://fineuploader.com/server/waiting-generic.png' // '/source/placeholders/not_available-generic.png'
            }
        },
        validation: {
            allowedExtensions: ['jpeg', 'jpg'],
            itemLimit: 3,
            sizeLimit: 500 * 1024
        }
    });
    */
});
var isTimeOutRunned = false;
function getAndFillUserListCursor(loadMoreCbArgsCursor, section, username) {
    var $userList = $('.messages-user-list');
    if (loadMoreCbArgsCursor) {
        console.log('UserConversation', username);
        _apiUserDirect2.default.getMetadataDetailUsers({ cursor: loadMoreCbArgsCursor, username: username }).then(function (result) {
            if (!result.data) {
                return;
            }
            var data = result.data;
            // data.meta.sort((a, b) => a['username'].localeCompare(b['username']));

            (0, _utils.appendUserList)($userList, data.meta, { cursor: loadMoreCbArgsCursor, section: section, username: username });
            var pagination = data.pagination;

            if (pagination && pagination.prev_cursor) {
                // make one more req?
                console.error('found more pagination, but list not updated');
                // TODO
            } else {
                // hide show more
                var $collapse = $('#collapse-' + section).closest('li');
                $collapse.find('.js_load-more-box').addClass('d-none');
                // stop rerender list
                console.error('stop updating user list');
                clearInterval(intervalUserList);
            }
            console.log('section', section);
        });
    }
}

function getAndFillUserList(isActiveFirst, userList) {
    var $userList = userList || $('.messages-user-list');
    var prevActiveDialogId = '';
    if (!isActiveFirst) {
        prevActiveDialogId = $userList.find('li .collapse.show').attr('id');
    }

    _apiUserDirect2.default.getMetadata(token).then(function (result) {
        if (!result.data) {
            return;
        }
        var data = result.data;

        data.meta.sort(function (a, b) {
            return a['username'].localeCompare(b['username']);
        });
        // messages-user-list from utils.js
        (0, _utils.fillUserList)($userList, data.meta, getAndFillUserListCursor);
        if (data.settings && data.settings.invoke_in_millis) {
            updateInterval = data.settings.invoke_in_millis;
            updateInterval = updateInterval > 6000 ? updateInterval : 10000;
        }
        if (isActiveFirst) {
            $userList.find('li:first-child .collapse').addClass('show');
        } else {
            $('#' + prevActiveDialogId).addClass('show');
        }
        // if (data.pagination && data.pagination.prev_cursor) {
        //     const conversationToAdd = {
        //         tpl: `<div class="list-footer text-center" style="display: none;" id="load-more-box">
        //                 <button id="js_-accordion-more_btn" type="button" class="btn btn-submit">SHOW MORE</button>
        //             </div>`
        //     };
        //     console.log('start add pagination to accordioin', conversationToAdd);
        //     addMoreUsersAccordion(data.meta, conversationToAdd);
        // }
        // do it once
        if (!isTimeOutRunned) {
            intervalUserList = setInterval(function () {
                console.log('setInterval');
                getAndFillUserList();
            }, updateInterval);
            isTimeOutRunned = true;
        }
    });
}

function addPagination(pagination, cbFn) {
    if (scrollLoaderState.allMsgLoaded) {
        return;
    }
    if (scrollLoaderState.firstLoad) {
        scrollLoaderState.cursor = pagination.prev_cursor;
        scrollLoaderState.firstLoad = false;
    }
    var userData = $msgList.data('conversation');
    var username = userData.username,
        conversationId = userData.conversationId;
    // console.log('cursor: ', scrollLoaderState.cursor);

    _spinner2.default.add($('#mainChatPart'), 'my-5 py-5');
    _apiUserDirect2.default.getMetadataDetailConversation(token, { username: username, conversationId: conversationId, cursor: scrollLoaderState.cursor }).then(function (result) {
        // console.log('firstLoad:', scrollLoaderState.firstLoad, result.data.meta);
        var newCursor = result.data.meta.pagination && result.data.meta.pagination.prev_cursor;
        _spinner2.default.remove();
        renderResults({
            $list: $msgList,
            dataArray: result.data.meta.messages,
            isAppendPrevMsg: 'appentPrevMsg',
            stateCfg: stateCfg,
            currentUserData: currentUserData
        });
        // set new cursor
        if (newCursor) {
            // console.log('**', scrollLoaderState.cursor);
            scrollLoaderState.cursor = newCursor;
            $msgList.scrollTop($msgList.scrollTop() + 30);
        } else {
            // all msg loaded
            scrollLoaderState.allMsgLoaded = true;
        }

        // stop update interval
        if (intervalId) {
            clearInterval(intervalId);
            cbFn(newCursor);
        }
    });
}

function scrollHandler(scrollDelay, pagination) {
    var recentScroll = false;
    var makeReqOnce = true;
    cursor = pagination && pagination.prev_cursor ? pagination.prev_cursor : null;
    function checkIsOnce(newCursor) {
        if (newCursor !== cursor) {
            cursor = newCursor;
            makeReqOnce = true;
            console.log('prevCursor', newCursor);
        }
    }

    setTimeout(function () {
        $msgList.on('scroll', function () {
            var scrollTop = $(this).scrollTop();
            if (!recentScroll) {
                if (scrollTop + $(this).innerHeight() >= this.scrollHeight) {
                    // $messages.text('end reached');
                } else if (scrollTop <= 45) {
                    // $messages.text('Top reached');
                    // console.log('pagination');
                    if (pagination && makeReqOnce) {
                        makeReqOnce = false;
                        addPagination(pagination, checkIsOnce);
                        // console.log('go');
                    } else {
                        $('.messages-list-box').find('.load-more').remove();
                    }
                } else {
                    // $messages.text('');
                }
                recentScroll = true;
                window.setTimeout(function () {
                    recentScroll = false;
                }, 50);
            }
        });
    }, scrollDelay + 200);
}

function getAndFillConversation(_ref, isScrollDown, isClickFromRequestConfirm) {
    var username = _ref.username,
        conversationId = _ref.conversationId,
        useravatar = _ref.useravatar;

    var TIME_SCROLL = 10;
    _apiUserDirect2.default.getMetadataDetailConversation(token, { username: username, conversationId: conversationId }).then(function (result) {
        // messages-list from utils
        currentUserData.useravatar = useravatar;
        currentUserData.username = username;
        (0, _utils.fillMassagesList)({ $list: $msgList, dataArray: result.data.meta.messages, stateCfg: stateCfg, currentUserData: currentUserData });
        $('#mainChatPart').removeClass('d-none');
        _spinner2.default.remove();
        if (isClickFromRequestConfirm) {
            // clicked on request
            $('.js_send-message-box').addClass('d-none');
        } else {
            // clicked on normal conversation
            $('.js_send-message-box').removeClass('d-none');
        }
        $('.messages-list').attr('data-conversation', JSON.stringify({ username: username, conversationId: conversationId }));

        if (isScrollDown) {
            setTimeout(function () {
                $msgList.animate({
                    scrollTop: $msgList[0].scrollHeight - $msgList[0].clientHeight
                }, TIME_SCROLL);
            }, TIME_SCROLL * 2);
            // save first value
            if (flagInitialVal) {
                initialVal = result.data.meta.messages[result.data.meta.messages.length - 1];
                console.log(initialVal);
                flagInitialVal = false;
            }
        }

        scrollHandler(TIME_SCROLL, result.data.meta.pagination);
    });
}

function imageLoadSubmitCb(input, token) {
    var userData = $msgList.data('conversation');
    var username = userData.username,
        conversationId = userData.conversationId;

    var url = _consts.CONST.getPath('instagramDirect_Basic') + '/' + username + '/' + conversationId + '/photo';
    var acceptedFile = input.files[0];
    console.log('**handleSubmitCb');
    var formData = new FormData();
    var request = new XMLHttpRequest();

    _spinner2.default.startButtonSpinner($('.file-upload-btn'), 'spinner-box--sendMsg');

    formData.append('photo', acceptedFile, acceptedFile.name);
    request.open('POST', url);
    // request.withCredentials = true;
    request.setRequestHeader('token', token);
    request.setRequestHeader('Accept', 'application/json');
    request.setRequestHeader('cache-control', 'no-cache');
    request.send(formData);
    request.addEventListener('readystatechange', function () {
        if (this.readyState === 4) {
            console.log('this', this.responseText, this);
            input.value = '';
            window.PubSub.publish(_consts.CONST.events.autoarnswer.IMAGE_UPLOADED, { 'response': this.responseText, 'el': input });
        }
    });
}

function addHandlers() {
    var conversationId = '';
    var $textArea = $('#sendMessageTextArea');
    $textArea.val('');

    $('#sendMessageButton').on('click', function (e) {
        var value = $textArea.val();
        var userData = $msgList.data('conversation');
        var username = userData.username,
            conversationId = userData.conversationId,
            useravatar = userData.useravatar;

        _spinner2.default.startButtonSpinner($(e.target), 'spinner-box--sendMsg');
        _apiUserDirect2.default.postMetadataDetailConversation(token, { username: username, conversationId: conversationId, value: value }).then(function (result) {
            if (result && result.status && result.status.state === 'ok') {
                getAndFillConversation({ username: username, conversationId: conversationId, useravatar: useravatar });
                $textArea.val('');
                _spinner2.default.remove();
                // window.PubSub.publish(CONST.events.messages.RECIEVE_NEW_MESSAGE, {username, conversationId, value, result});
            }
        });
    });

    (0, _utils.messageAreaHendler)($textArea, $('#sendMessageButton'));

    function userShowConversetionHandler(e, userData) {
        console.log('click');
        var isClickFromRequestConfirm = userData;
        var userDataFromLiGroup = '';
        if (isClickFromRequestConfirm) {
            $('.js_send-message-box').addClass('d-none');
        } else {
            // clicked on normal conversation
            userDataFromLiGroup = $(e.target).closest('.list-group-item').data();
            $('.confirm-buttons-box').addClass('d-none');
            $('.js_send-message-box').removeClass('d-none');
        }

        var _ref2 = userData || userDataFromLiGroup,
            username = _ref2.username,
            useravatar = _ref2.useravatar;

        e.stopPropagation();
        var $targetBtn = $(e.target).closest('.media');
        var $title = $targetBtn.find('.title');
        conversationId = $targetBtn.data('conversation-id');
        if ($title.hasClass('font-weight-bold')) {
            $title.removeClass('font-weight-bold');
            $targetBtn.find('.summary-dot').addClass('d-none');
        }
        _spinner2.default.remove();
        _spinner2.default.add($('#mainChatPart'), 'my-5 py-5');
        getAndFillConversation({ username: username, conversationId: conversationId, useravatar: useravatar }, 'isScrollDown', isClickFromRequestConfirm);
        flagInitialVal = true; // reset first value flag
        // resend request
        if (intervalId) {
            clearInterval(intervalId);
        }
        intervalId = setInterval(function () {
            conversationId = $(e.target).closest('.media').data('conversation-id');
            console.log(intervalId, conversationId);
            getAndFillConversation({ username: username, conversationId: conversationId, useravatar: useravatar }, false, isClickFromRequestConfirm);
        }, updateInterval);
    }

    $(document).on('click', '.list-group-item .collapse', userShowConversetionHandler);
    $(document).on('click', '.js_messages-request', function (e) {
        var userData = $(e.target).closest('.list-group-item').data();
        userShowConversetionHandler(e, userData);
        console.log('addConfigButtons', conversationId);
        (0, _requests.addConfirgButtons)(conversationId, userData.username);
    });

    window.PubSub.subscribe(_consts.CONST.events.messages.RECIEVE_NEW_MESSAGE, function (eventName, data) {
        var username = data.username,
            conversationId = data.conversationId,
            value = data.value,
            resultFromServer = data.resultFromServer;

        var $dialog = $('.messages-user-list .list-group-item[data-username="' + username + '"] div[data-conversation-id="' + conversationId + '"]');
        console.log('resultFromServer: ', resultFromServer);
        $dialog.find('.summary').text(value);
    });

    // send image {igUsername}/{id}/photo
    imageUpload.init(false, imageLoadSubmitCb);
}

function init() {
    // check we are in correct page (messages)
    if (!isInMessagePage()) {
        return;
    }

    getAndFillUserList('setActiveFirst');
    addHandlers();
    var cfg = {
        username: 'your_dieta',
        fillUserListFn: _utils.fillUserList
    };
    (0, _requests.initRequests)(cfg);
}

/***/ }),
/* 42 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.addConfirgButtons = undefined;
exports.initRequests = initRequests;

var _apiUserDirect = __webpack_require__(21);

var _apiUserDirect2 = _interopRequireDefault(_apiUserDirect);

var _user = __webpack_require__(3);

var _user2 = _interopRequireDefault(_user);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

/*
Endpoint на получение запросов: GET http://api.luxgram.ru/v1/instagram-direct/pending/{username}
Это ендпоинт должен быть вызван только при нажатии на текст с количеством запросов.
*/
// const cfgT = {
//     username: 'your_dieta',
//     getAndFillUserListFn: 'getAndFillUserList_Function'
// };
var confirmUserData = {};
var addConfirgButtons = exports.addConfirgButtons = function addConfirgButtons(conversationId, username) {
    console.log('addConfirgButtons proceed', username, conversationId);
    var $confirmBtnBox = $('.js_request-confirm-box');
    $confirmBtnBox.removeClass('d-none');
    confirmUserData.username = username;
    confirmUserData.conversationId = conversationId;
};
var conversationDetail = function conversationDetail(items) {
    var tpl = '';
    items.forEach(function (item) {
        var srcImg = item.profilePicUrl;

        if (items.length > 1) {
            tpl += '<img src="' + srcImg + '" alt=\'image\' class="media-photo mr-1 media-photo--group" style="width: 24px;">';
        } else {
            tpl += '<img src="' + srcImg + '" alt=\'image\' class="media-photo mr-1" style="width: 24px;">';
        }
    });
    return tpl;
};

var addConversations = function addConversations(conversations) {
    var tpl = '';
    conversations.forEach(function (item) {
        var users = item.users,
            id = item.id,
            title = item.title;
        // const isUnread = item['is_unread'];
        // const lastMessage = item['lastMessage'];
        // const isLastMsg = lastMessage && (parseInt(lastMessage.length, 10));
        // const isAddDot = isLastMsg > 0 && users.length > 1 && isUnread;

        tpl += '\n                <div class="media p-1 js_messages-request messages-request" data-conversation-id="' + id + '">\n                    ' + conversationDetail(users) + '\n                    <div class="media-body">\n                        <h5 class="title">' + title + '</h5>\n                    </div>\n                </div>\n            ';
    });
    return tpl;
};

var getRequestPending = function getRequestPending(username, elId) {
    // const username = 'your_dieta';
    _apiUserDirect2.default.getRequestPending(username).then(function (result) {
        var requests = result.data.requests;

        console.log('result', requests);
        var tpl = addConversations(requests, elId);
        $(tpl).appendTo($('#' + elId));
    });
};

function fillUserList($list, dataArray, loadMoreCbFunction) {
    var items = dataArray;
    var cList = $list;
    var tpl = '';
    // const loadMoreBox = (idx, prev_cursor) => `<div class="list-footer text-center js_load-more-box" data-idx="${idx}" data-cursor="${prev_cursor}">
    //     <button type="button" class="btn btn-outline-secondary btn-sm btn-submit">Загрузить еще</button>
    // </div>`;
    cList.empty().addClass('border-light-color');
    // todo: fix hard-code  img src="https://i.imgur.com/jNNT4LE.png"
    items.forEach(function (item, idx) {
        // const {pagination} = item;
        var elId = 'collapse-req-' + idx;
        // const {conversations} = item;
        console.log(item.pending_requests);
        if (item.pending_requests) {
            getRequestPending(item.username, elId);
            tpl += '<li class="list-group-item" data-toggle="collapse" data-target="#' + elId + '" \n                data-username="' + item.username + '"\n                data-userAvatar="' + item.profile_pic_url + '"\n                aria-expanded="true" aria-controls="collapse-' + idx + '">\n            <div class="conversation-head mb-1 media pb-2" id="heading-' + idx + '">\n                <span class="mr-3">\n                    <img src="' + item.profile_pic_url + '" alt="avatar"\n                    class="media-photo rounded-circle">\n                </span>\n                <div class="media-body">\n                    <h4 class="title">\n                        ' + item.username + '\n                    </h4>\n                </div>\n            </div>\n            <div id="' + elId + '" class="collapse" aria-labelledby="heading-' + idx + '" data-parent="#accordion-requests">\n                <!-- getRequestPending(item.username, elId) -->\n            </div>\n            <!-- {(pagination && pagination.prev_cursor) ? \'loadMoreBox(idx, pagination.prev_cursor)\' : \'\'} -->\n        </li>';
        }
    });
    $(tpl).appendTo(cList);

    // $('.js_load-more-box button').on('click', (e) => {
    //     const $btn = $(e.target);
    //     const $btnBox = $btn.closest('.js_load-more-box');
    //     const section = $btnBox.data('idx');
    //     const cursor = $btnBox.data('cursor');
    //     const username = $btnBox.closest('li').data('username');

    //     console.log('click', section, cursor);
    //     loadMoreCbFunction(cursor, section, username);
    //     e.stopPropagation();
    // });
}

var token = _user2.default.getToken();
function getAndFillUserList(isActiveFirst, userList) {
    var $userList = userList || $('.messages-user-list');
    var prevActiveDialogId = '';
    if (!isActiveFirst) {
        prevActiveDialogId = $userList.find('li .collapse.show').attr('id');
    }

    _apiUserDirect2.default.getMetadata(token).then(function (result) {
        if (!result.data) {
            return;
        }
        var data = result.data;

        data.meta.sort(function (a, b) {
            return a['username'].localeCompare(b['username']);
        });
        // messages-user-list from utils.js
        fillUserList($userList, data.meta /* getAndFillUserListCursor*/);
        // if (data.settings && data.settings.invoke_in_millis) {
        //     updateInterval = data.settings.invoke_in_millis;
        //     updateInterval = (updateInterval > 6000) ? updateInterval : 10000;
        // }
        if (isActiveFirst) {
            $userList.find('li:first-child .collapse').addClass('show');
        } else {
            $('#' + prevActiveDialogId).addClass('show');
        }

        // do it once
        // if (!isTimeOutRunned) {
        //     intervalUserList = setInterval(() => {
        //         console.log('setInterval');
        //         getAndFillUserList();
        //     }, updateInterval);
        //     isTimeOutRunned = true;
        // }
    });
}

function initHandlers() {
    var $confirmBtnBox = $('.js_request-confirm-box');
    var $reqConfirmBtn = $('.js_request-confirm', $confirmBtnBox);
    var $reqRejectBtn = $('.js_request-reject', $confirmBtnBox);

    $reqConfirmBtn.on('click', function (e) {
        // PUT http://api.luxgram.ru/v1/instagram-direct/pending/{username}/{id}
        _apiUserDirect2.default.putRequestPending(confirmUserData).then(function (result) {
            if (result.status.state === 'ok') {
                console.info('result: ', result);
                $confirmBtnBox.addClass('d-none');
                $('.js_show-messages-user-list').trigger('click');
            }
        });
    });
    $reqRejectBtn.on('click', function (e) {
        _apiUserDirect2.default.delRequestPending(confirmUserData).then(function (result) {
            if (result.status.state === 'ok') {
                console.info('result: ', result);
                $confirmBtnBox.addClass('d-none');
                $('.js_show-messages-user-list').trigger('click');
            }
        });
    });

    var $showUserList = $('.js_show-messages-user-list');
    $showUserList.on('click', function (e) {
        $(e.target).closest('.user-requests-box').removeClass('user-requests-box--show');
        $('.user-list-box').removeClass('user-list-box--hide');
        $('#mainChatPart').addClass('d-none');
    });
}
function initRequests(cfg) {
    var $list = $('.messages-requests-list');
    getAndFillUserList('setActiveFirst', $list);
    initHandlers();
}

/***/ }),
/* 43 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.messageAreaHendler = exports.addConversations = undefined;
exports.clearMassagesList = clearMassagesList;
exports.fillMassagesList = fillMassagesList;
exports.appendUserList = appendUserList;
exports.fillUserList = fillUserList;

var _view = __webpack_require__(1);

var _view2 = _interopRequireDefault(_view);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// import UserConversation from '../../common/js-services/api-user-direct';

function clearMassagesList($list, stateCfg) {
    stateCfg.pageIncrement = 0;
    $list.empty();
}
function fillMassagesList(_ref) {
    var $list = _ref.$list,
        dataArray = _ref.dataArray,
        isAppendPrevMsg = _ref.isAppendPrevMsg,
        stateCfg = _ref.stateCfg,
        currentUserData = _ref.currentUserData;

    var items = dataArray;
    var cList = $list;
    // const listDataConversation = $('.messages-list').attr('data-conversation');
    // const currentUsername = JSON.parse(listDataConversation);
    var insertMsg = function insertMsg(value, message, cssCls) {
        var str = '';
        var valueWithUrl = '';
        var type = message.type,
            caption = message.caption;
        // const userHeader = {username, profile_pic_url};
        // if (cssCls === 'text-right') {
        //     userHeader.username = currentUserData.username;
        //     userHeader.profile_pic_url = currentUserData.useravatar;
        // }

        if (type === 'TEXT') {
            // eslint-disable-next-line no-useless-escape
            var regex = /[(http(s)?):\/\/(www\.)?a-zA-Z0-9@:%._\+~#=]{2,256}\.[a-z]{2,6}\b([-a-zA-Z0-9@:%_\+.~#?&//=]*)/gm;
            var subst = '<a href=$& target="_blank">$&</a>';
            valueWithUrl = value.replace(regex, subst);
        }
        switch (type.toLowerCase()) {
            case 'photo':
                str = '<div class="chat-img">\n                    <img src="' + value + '" alt="Content Image" class="content-image">\n                </div>';
                break;
            case 'video':
                str = '<div class="chat-video">\n                    <a target="_blank" href="' + value + '" class="position-relative">\n                        <i class="fa-3x fa-play-circle far position-absolute text-white chat-video--icon"></i>\n                        <img src="' + message.preview_value + '" alt="Content Image" class="chat-video--image">\n                    </a>\n                </div>';
                break;
            case 'gif':
                str = '<div class="chat-img">\n                    <img src="' + value + '" alt="Content Image" class="content-image">\n                </div>';
                break;
            case 'like':
                str = '<div class="chat-text ' + cssCls + '" >' + value + '</div>';
                break;
            case 'post':
                str = '<div class="chat-post-message">\n                    <a target="_blank" href="' + value + '" class="text-body text-decoration-none">\n                        <div class="chat-post-message--header">\n                            <img src="' + message.profile_pic_url + '" alt="Content Image" class="user-avatar mr-3">\n                            ' + message.username + '\n                            <i class="fas fa-chevron-right"></i>\n                        </div>\n                        <img src="' + message.preview_value + '" alt="Content Image" class="content-image">\n                        ' + (caption ? '<p class="chat-post-caption m-3">' + caption + '<p>' : '') + '\n                    </a>\n                </div>';
                break;
            case 'text':
                str = '<div class="chat-text ' + cssCls + '" >' + valueWithUrl + '</div>';
                break;
            default:
                str = '<div class="chat-text ' + cssCls + '" >' + value + '</div>';
        }
        return str;
    };
    var addToList = function addToList(isAppendPrevMsg, $li, $list) {
        if (isAppendPrevMsg) {
            $li.insertBefore($list.find('li:first-child'));
        } else {
            $li.appendTo($list);
        }
    };
    if (isAppendPrevMsg) {
        // console.log('isAppentPrevMsg to', cList);
    } else {
        cList.empty().addClass('border-light-color');
        clearMassagesList(cList, stateCfg);
        // add margin-auto to make masseges on bottom
        $('<li class="mt-auto"></li>').appendTo(cList);
    }
    items.forEach(function (item) {
        var message = item;
        var value = message.value.replace(/(?:\r\n|\r|\n)/g, '<br />');
        // const value = message.value;

        if (message.side.toLowerCase() === 'left') {
            var $li = $('<li class="chat-item chat-item-left col flex-column-reverse" value="' + message.value + '">\n                <div class="d-flex">\n                ' + (message['profile_pic_url'] ? '<div class="chat-img-box"> \n                            <img src="' + message['profile_pic_url'] + '" alt="User Avatar" class="">\n                        </div>' : '') + '\n                <div>\n                    <p class="chat-username text-muted">' + message.username + '</p>\n                    ' + insertMsg(value, message, 'text-left') + '\n                </div>\n                    <small class="chat-time-text">' + _view2.default.getFormattedDateUtil(message.timestamp) + '</small>\n                </div>\n                </div>\n            </li>');
            addToList(isAppendPrevMsg, $li, cList); // toDo refactor me, less DOM manipulation
        } else {
            var _$li = $('<li class="chat-item chat-item-right col flex-column-reverse" value="' + message.value + '">\n                <div class="d-flex justify-content-end">\n                    ' + insertMsg(value, message, 'text-right') + '\n                    <small class="pull-right chat-time-text">' + _view2.default.getFormattedDateUtil(message.timestamp) + '</small>\n                    </div>\n            </li>');
            addToList(isAppendPrevMsg, _$li, cList); // toDo refactor me, less DOM manipulation
        }
    });
}

var conversationDetail = function conversationDetail(items) {
    var tpl = '';
    items.forEach(function (item) {
        if (items.length > 1) {
            tpl += '<img src="' + item['profile_pic_url'] + '" alt=\'image\' class="media-photo mr-1 media-photo--group" style="width: 24px;">';
        } else {
            tpl += '<img src="' + item['profile_pic_url'] + '" alt=\'image\' class="media-photo mr-1" style="width: 24px;">';
        }
    });
    return tpl;
};
var addConversations = exports.addConversations = function addConversations(conversations) {
    var tpl = '';
    conversations.forEach(function (item) {
        var isUnread = item['is_unread'];
        var lastMessage = item['last_message'];
        var isLastMsg = lastMessage && parseInt(lastMessage.length, 10);
        var isAddDot = isLastMsg > 0 && item.to.length > 1 && isUnread;
        tpl += '\n                <div class="media p-1" data-conversation-id="' + item.id + '">\n                    ' + conversationDetail(item.to) + '\n                    <div class="media-body">\n                        ' + (isAddDot || isUnread ? '<span class="summary-dot"></span>' : '') + '\n                        <!-- {isUnread ? \'<span class="summary-dot"></span>\' : \'\'} -->\n                        <h5 class="title ' + (isUnread ? 'font-weight-bold' : '') + ' ' + (isAddDot ? 'mr-2' : '') + '">' + item.title + '</h5>\n                        ' + (isLastMsg > 0 && item.to.length === 1 ? '<p class="summary text-muted">' + lastMessage + '</p>' : '') + '\n                    </div>\n                </div>\n            ';
    });
    return tpl;
};

function appendUserList($list, item, details) {
    var cursor = details.cursor,
        section = details.section,
        username = details.username;

    var $collapse = $('#collapse-' + section);
    console.log(cursor, username);
    $collapse.append(addConversations(item.conversations));
    // ${addConversations(item.conversations, idx)}
}

function fillUserList($list, dataArray, loadMoreCbFunction) {
    var items = dataArray;
    var cList = $list;
    var tpl = '';
    var loadMoreBox = function loadMoreBox(idx, prev_cursor) {
        return '<div class="list-footer text-center js_load-more-box" data-idx="' + idx + '" data-cursor="' + prev_cursor + '">\n        <button type="button" class="btn btn-outline-secondary btn-sm btn-submit">\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044C \u0435\u0449\u0435</button>\n    </div>';
    };
    cList.empty().addClass('border-light-color');
    // todo: fix hard-code  img src="https://i.imgur.com/jNNT4LE.png"
    items.forEach(function (item, idx) {
        var pagination = item.pagination;

        console.log(item.pending_requests);
        tpl += '<li class="list-group-item" data-toggle="collapse" data-target="#collapse-' + idx + '" \n                data-username="' + item.username + '"\n                data-userAvatar="' + item.profile_pic_url + '"\n                aria-expanded="true" aria-controls="collapse-' + idx + '">\n            <div class="conversation-head mb-1 media pb-2" id="heading-' + idx + '">\n                <span class="mr-3">\n                    <img src="' + item.profile_pic_url + '" alt="avatar"\n                    class="media-photo rounded-circle">\n                </span>\n                ' + (item['unread_conversations'] > 0 ? '<span class="badge badge-secondary position-absolute p-2">' + item['unread_conversations'] + '</span>' : '') + '\n                <div class="media-body">\n                    <h4 class="title">\n                        ' + item.username + '\n                    </h4>\n                    ' + (item.pending_requests ? '<p class="js_show-request-box btn btn-outline-dark btn-sm">' + item.pending_requests + ' \u0437\u0430\u043F\u0440\u043E\u0441' + (item.pending_requests > 1 ? 'a' : '') + '</p>' : '') + '\n                </div>\n            </div>\n            <div id="collapse-' + idx + '" class="collapse" aria-labelledby="heading-' + idx + '" data-parent="#accordion">\n                ' + addConversations(item.conversations) + '\n            </div>\n            ' + (pagination && pagination.prev_cursor ? loadMoreBox(idx, pagination.prev_cursor) : '') + '\n        </li>';
    });
    $(tpl).appendTo(cList);
    $('.js_load-more-box button').on('click', function (e) {
        var $btn = $(e.target);
        var $btnBox = $btn.closest('.js_load-more-box');
        var section = $btnBox.data('idx');
        var cursor = $btnBox.data('cursor');
        var username = $btnBox.closest('li').data('username');

        console.log('click', section, cursor);
        loadMoreCbFunction(cursor, section, username);
        e.stopPropagation();
    });
    $('.js_show-request-box').on('click', function (e) {
        $(e.target).closest('.user-list-box').addClass('user-list-box--hide');
        $('.user-requests-box').addClass('user-requests-box--show');
        e.stopPropagation();
    });
}

var messageAreaHendler = exports.messageAreaHendler = function messageAreaHendler($textArea, $sendMessageButton) {
    $textArea.on('keydown', function (e) {
        if (e.keyCode === 13) {
            if (e.ctrlKey) {
                // console.log('ctrl+enter');
                e.preventDefault();
                e.target.value += '\n';
            } else {
                if (e.target.value.trim().length) {
                    $sendMessageButton.trigger('click');
                }
                e.preventDefault();
            }
        }
    });
};

// export const addMoreUsersAccordion = (conversations, conversationToAdd) => {
// const $btnMoreBox = $('#load-more-box');
// const $btnMore = $('button', $btnMoreBox);
// $btnMoreBox.show();
// console.log('start add pagination to accordioin', conversationToAdd);
// conversations.forEach((item, idx) => {
//     if (item.pagination && item.pagination.prev_cursor) {
//         console.log('conversation - >', item.pagination);
//         $btnMore.on('click', () => {
//             console.log('click - >', item.pagination);
//             const details = {
//                 username: '',
//                 cursor: item.pagination.prev_cursor
//             };
//             UserConversation.getMetadataDetailUsers(details).then((result) => {
//                 if (!result.data) {
//                     return;
//                 }
//                 console.log('**getMetadataDetailUsers** result - >', result);
//             });
//         });
//     }
// });
// };

/***/ }),
/* 44 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if ("value" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }(); // import $ from 'jquery';
// https://www.npmjs.com/package/pubsub-js


var _pubsubJs = __webpack_require__(11);

var _pubsubJs2 = _interopRequireDefault(_pubsubJs);

var _user = __webpack_require__(3);

var _user2 = _interopRequireDefault(_user);

var _cookie = __webpack_require__(4);

var _cookie2 = _interopRequireDefault(_cookie);

var _consts = __webpack_require__(0);

var _view = __webpack_require__(1);

var _view2 = _interopRequireDefault(_view);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

function _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError("Cannot call a class as a function"); } }

var selectorCls = {
    form: '.auth.register .form-signin',
    submitBtn: '[type="submit"]'
};

var RegisterForm = function () {
    function RegisterForm() {
        _classCallCheck(this, RegisterForm);

        this.user = _user2.default;
        this.$form = $(selectorCls.form);
        this.$email = this.$form.find('input[name="mail"]');
        this.$textAreaDescription = $('.register--confirm');
        this.formData = { 'email': 'test1_email@m.ru', 'password': 'password' };
    }

    _createClass(RegisterForm, [{
        key: 'init',
        value: function init() {
            if ($('.auth.register').length) {
                this.bindEvents();
            }
        }
    }, {
        key: 'submitForm',
        value: function submitForm(formDataObj) {
            var _this = this;

            var email = this.$email.val();
            var borderDangerCls = 'border-danger';
            var $password = this.$form.find('input[name="pass"]'),
                $passwordConfirm = this.$form.find('input[name="pass-confirm"]'),
                password = this.$form.find('input[name="pass"]').val(),
                passwordConfirm = this.$form.find('input[name="pass-confirm"]').val();

            // Highlight errors
            if (passwordConfirm !== password) {
                $password.addClass(borderDangerCls);
                $passwordConfirm.addClass(borderDangerCls);
                return;
            } else {
                $password.removeClass(borderDangerCls);
                $passwordConfirm.removeClass(borderDangerCls);
            }
            this.$email.val(this.$email.val().toLocaleLowerCase());
            this.formData = formDataObj || { email: email, password: password };

            this.user.register(this.formData).then(function (result) {
                if (result.data && result.data.token) {

                    // save the item
                    _cookie2.default.set(_consts.CONST.cookieStorage.emailConfirmed, 'false');
                    _cookie2.default.set(_consts.CONST.cookieStorage.token, result.data.token);
                    _pubsubJs2.default.publish(_consts.CONST.events.USER_LOGGED);
                    // viewUtils.showInfoMessage(this.$textAreaDescription,
                    //     result.status.state,
                    //     result.status.message || 'Register and Login succsess');
                } else {
                    _view2.default.showInfoMessage(_this.$textAreaDescription, result.status.state, result.status.message || 'no result.data found');
                }
            }).then(function (result) {
                if (result && result.status) {
                    console.log(result);
                    _view2.default.showInfoMessage(_this.$textAreaDescription, result.status.state);
                    $('.login-box').show();
                }
            }).catch(function (error) {
                var modal = $('#register-error-modal');
                modal.modal('show');

                console.log('request failed', error);
                // viewUtils.showInfoMessage(this.$textAreaDescription,
                //     error.message);
            });
        }
    }, {
        key: 'bindEvents',
        value: function bindEvents() {
            var _this2 = this;

            var registerBox = _consts.CONST.uiSelectors.headerRegBox; // 'nav .register-box';
            var openedClass = 'd-block';
            var closeClass = 'd-none';
            var $btn = $(selectorCls.submitBtn),
                cssValidationClass = 'form-validation';

            $btn.on('click', function (e) {
                var form = _this2.$form.get(0);
                e.preventDefault();

                if (!$btn.is(':disabled')) {
                    if (form.checkValidity()) {
                        // $btn.attr('disabled', true);
                        _this2.submitForm();
                    } else {
                        // Highlight errors
                        if (form.reportValidity) {
                            form.reportValidity();
                        }
                        _this2.$form.addClass(cssValidationClass);
                    }
                }
            });

            _pubsubJs2.default.subscribe(_consts.CONST.events.USER_LOGGED, function () {
                // $('.register--confirm').removeClass('d-none');
                window.location.href = './registration-success.html';
            });

            $(document).on('click', function (event) {
                var isRegBtnClick = $(event.target).closest('nav.navbar').find('.register-box').length;

                if (!isRegBtnClick && $(registerBox).hasClass(openedClass)) {
                    $(registerBox).addClass(closeClass).removeClass(openedClass);
                }
            });
        }
    }]);

    return RegisterForm;
}();

exports.default = RegisterForm;

/***/ }),
/* 45 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.initMenu = initMenu;

/**
 * Init Menu
 */
function initMenu() {
    var urlToCheck = ['instagram-accounts', 'automessages', 'stories', 'autogreeting', 'autocomments', 'follow', 'unfollow', 'messages', 'chat-bot'];
    var pathName = window.location.pathname;
    urlToCheck.forEach(function (item) {
        var isActiveUrl = pathName === '/instagram-integration/' + item + '.html' || pathName === '/' + item + '.html';
        if (isActiveUrl) {
            $('nav.aside-burger-menu a[href*="/' + item + '"]').addClass('text-info').removeClass('text-light');
            // console.info('item found', item, activeMenuItem);
        }
    });
}

/***/ }),
/* 46 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

exports.init = init;

var _consts = __webpack_require__(0);

var _apiTaskManager = __webpack_require__(2);

var _apiTaskManager2 = _interopRequireDefault(_apiTaskManager);

var _view = __webpack_require__(1);

var _view2 = _interopRequireDefault(_view);

var _wizardForm = __webpack_require__(6);

var wizardForm = _interopRequireWildcard(_wizardForm);

var _storiesStatus = __webpack_require__(47);

var storiesStatus = _interopRequireWildcard(_storiesStatus);

var _logsTabs = __webpack_require__(13);

var _followReadFileTxt = __webpack_require__(14);

var _tagsInput = __webpack_require__(10);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var getValByCommaSeparator = _view2.default.getValByCommaSeparator,
    fillRadioGroupList = _view2.default.fillRadioGroupList;

var usernameSelected = '';
var logsState = _consts.CONST.logsState;
var clsConst = {
    currentPageCls: '.stories-page',
    tasksList: '.log-tasks',
    logsTabBtn: '#v-pills-logs-tab',
    pagination: '.logs-pagination',
    paginationPgNumber: '.page-number',
    pathType: _consts.CONST.url.tmTypes.storiesT,
    pathSubType: _consts.CONST.url.tmTypes.storiesSubT[0]
};
var elSelector = {
    wizardForm: '.wizard-form',
    wizardFormName: 'wizard-form',
    fields: '.automessages-text-fields',
    taskMode: '.js_task-mode',
    competitors: '.js_stories-competitors input[data-role="tagsinput"]'
};
var state = {
    subtype: _consts.CONST.url.tmTypes.storiesSubT[0],
    user_default_config: {
        task_mode: 'SAFE'
    }
};

function onSubmitHandler(e) {
    var wizardFormName = elSelector.wizardFormName;

    var form = document.forms[wizardFormName];
    var limit = form['limit'];

    if (limit.value === '') {
        limit.focus();
        return false;
    }

    var body = _extends({}, state, {
        user_default_config: _extends({}, state.user_default_config, {
            criteria: {
                max_views: limit.value
            }
        }),
        user_custom_config: {},
        type: clsConst.pathType,
        username: usernameSelected
    });

    if (body.subtype === _consts.CONST.url.tmTypes.storiesSubT[2]) {
        var competitors = getValByCommaSeparator($(form).find(elSelector.competitors));
        body.user_custom_config = {
            competitors: competitors
        };
    }
    if (body.subtype === _consts.CONST.url.tmTypes.storiesSubT[0]) {
        // text file should be added
        body['user_custom_config'].attachment = {
            'list_id': $('.stories__file-upload-box .file-upload-container').attr('attached-txt-id')
        };
        delete body.user_default_config.criteria.max_views;
    }

    $(form).find('input[type="text"],input[type="number"],input[type="email"]').each(function () {
        if ($(this).val() === '') {
            e.preventDefault();
            $(this).addClass('input-error');
        } else {
            $(this).removeClass('input-error');
        }
    });

    console.log('onSubmitHandler **request**  post: StartFollowingList', body);

    function cbError(res) {
        var msg = res.status.message;
        $('.form-submit-finish--error').addClass('d-block').find('.alert').append('<p>' + msg + '</p>');
    }

    _apiTaskManager2.default.postStartFollowingList(body, cbError).then(function (result) {
        if (result.status.state === 'ok') {
            console.log(JSON.stringify(result));
            $('.form-submit-finish').find('.alert p').remove();
            $('.form-submit-finish').addClass('d-block').find('.alert').append('<p>task_id: ' + result.data.task_id + '</p>');
        }
    });
}

function setUserNameCb(_usernameSelected) {
    usernameSelected = _usernameSelected;
}

function setUserNameFirstStep(state) {
    usernameSelected = state.username;
}

// todo: refactor with follow.js -- 'nextBtnvalidateCompetitorsHandler()'
var containerCls = '.js_add-settings-step-4';
var $container = $(containerCls);
var $competitorsTextArea = $container.find('input[data-role="tagsinput"]');
var nextStepBtn = $container.find('.js_stories-competitors-btn');

/**
 * Init Handlers
 */
function initHandlers() {

    (0, _followReadFileTxt.attachTxtFileHandler)('.file-upload-container');
    (0, _tagsInput.nextBtnvalidateCompetitorsHandler)($competitorsTextArea, nextStepBtn);

    // radio-group step 2
    $('.js_get-stories-type input[type=radio]').on('click', function (e) {
        var value = $(e.target).attr('value');
        state.subtype = value.toUpperCase();
        if (state.subtype === _consts.CONST.url.tmTypes.storiesSubT[1]) {
            nextStepBtn.removeAttr('disabled', 'disabled'); // enable button 'Запустить'
        } else {
            nextStepBtn.attr('disabled', 'disabled');
        }
        console.log(state);
    });

    // alert close
    $('.form-submit-finish .close').on('click', function () {
        // console.log('alert close');
        $('#v-pills-all-tab').trigger('click');
        window.PubSub.publish(_consts.CONST.events.tasks.NEW_TASK_CREATED);
    });

    // alert error close
    $('.form-submit-finish--error .close').on('click', function () {
        // console.log('alert close');
        $('#v-pills-all-tab').trigger('click');
        window.PubSub.publish(_consts.CONST.events.tasks.NEW_TASK_CREATED);
    });
}

function renderTaskMode(defaultCfg) {
    var task_modes = defaultCfg.cfg.task_modes;
    var taskModeSelector = elSelector.taskMode;


    fillRadioGroupList($(taskModeSelector), task_modes, 'просмотров');

    $(taskModeSelector + ' input[type=radio]').on('click', function (e) {
        var value = $(e.target).attr('value');
        state.user_default_config.task_mode = value.toUpperCase();
    });
}

function getConfig() {
    var path = {
        type: clsConst.pathType,
        subtype: state.subtype
    };
    var cbError = function cbError(res) {
        var msg = res.status.message;
        $('.form-submit-finish--error').addClass('d-block').find('.alert').append('<p>' + msg + '</p>');
    };

    _apiTaskManager2.default.getStoriesConfig(path, cbError).then(function (result) {
        if (result.status.state !== 'ok') {
            return;
        }
        var found = result.data.found;

        var limitVal = found.cfg.criteria.max_views;
        renderTaskMode(found);
        $('#limit').val(limitVal);
    });
}

function addTextArea(stepNumber) {
    var wizardForm = elSelector.wizardForm;

    var fieldLast = $(wizardForm + ' fieldset').get(stepNumber + 1);
    if (state.subtype === _consts.CONST.url.tmTypes.storiesSubT[2]) {
        (0, _tagsInput.nextBtnvalidateCompetitorsHandler)($competitorsTextArea, nextStepBtn);
        $(fieldLast).find('.js_stories-competitors').removeClass('d-none');
        console.log('end');
    } else {
        $(fieldLast).find('.js_stories-competitors').addClass('d-none');
    }
}

function addFileUploadBox(stepNumber) {
    var wizardForm = elSelector.wizardForm;

    var fieldLast = $(wizardForm + ' fieldset').get(stepNumber + 1);
    var $fileUploadBox = $(fieldLast).find('.stories__file-upload-box');
    var $titleStepBox = $(fieldLast).find('.js_add-file-title');
    var $addSettings = $(fieldLast).find('.js_add-settings-step-4');
    if (state.subtype === _consts.CONST.url.tmTypes.storiesSubT[0]) {
        $fileUploadBox.removeClass('d-none');
        $('.js_validate-txt-file-is-uploaded').attr('disabled', 'disabled');
        $titleStepBox.removeClass('d-none');
        $addSettings.addClass('d-none');
    } else {
        $fileUploadBox.addClass('d-none');
        $titleStepBox.addClass('d-none');
        $addSettings.removeClass('d-none');
    }
    console.log('addFileUploadBox done');
}

function stepReducer(stepNumber, state) {
    switch (stepNumber) {
        case 0:
            // console.log(state, stepNumber);
            setUserNameFirstStep(state);
            break;
        case 1:
            // console.log(state, stepNumber);
            getConfig();
            break;
        case 2:
            console.log(state, stepNumber);
            addTextArea(stepNumber);
            addFileUploadBox(stepNumber);
            break;
        default:
            console.log('default', stepNumber);
    }
}

function init() {
    var isInCurrentPage = $(clsConst.currentPageCls).length;
    if (!isInCurrentPage) {
        return;
    }
    console.log(clsConst.currentPageCls);
    var wizardCfg = {
        stepReducer: stepReducer,
        onSubmitHandler: onSubmitHandler
    };
    wizardForm.init(wizardCfg);
    initHandlers();
    var textRusArray = ['По списку', 'По подписчикам', 'По активной аудитории конкурентов'];
    (0, _logsTabs.initLogsTab)({ logsState: logsState, logsSubtypes: _consts.CONST.url.tmTypes.storiesSubT, clsConst: clsConst, setUserNameCb: setUserNameCb, textRusArray: textRusArray });
    storiesStatus.init({
        isInStoriesPage: isInCurrentPage
    });
    // initTagsInput();

    // window.PubSub.subscribe(CONST.events.instagramAccouns.INSTAGRAM_ACCOUNS_RENDERED_LAZY, (e, accounts) => {
    //     console.log('INSTAGRAM_ACCOUNS_RENDERED_LAZY');
    //     console.log('logsSubtypes', logsSubtypes);
    //     console.log('accounts', accounts);
    // });
    window.PubSub.subscribe(_consts.CONST.events.autoarnswer.TEXT_FILE_UPLOADED, function (e, res) {
        $('.js_validate-txt-file-is-uploaded').removeAttr('disabled');
    });
}

/***/ }),
/* 47 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; // TODO: refactor -> delete me, use task-status-by-subtype.js

// import viewUtils from '../../common/js-services/view';


exports.init = init;

var _consts = __webpack_require__(0);

var _taskStatus = __webpack_require__(5);

var _dropdown = __webpack_require__(18);

var _dropdown2 = _interopRequireDefault(_dropdown);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var path = {
    type: _consts.CONST.url.tmTypes.storiesT,
    subtype: _consts.CONST.url.tmTypes.storiesSubT[0]
};
var wrappers = {
    $all: $('.tasks-all'),
    $stopped: $('.tasks-stopped')
};
var logsStateStatus = {
    wrapperSubtype: $('.subtype--box')
};

function dropdownOnSelectCb(e) {
    // const {selectClsLogsTaskType} = logsState;
    var subtype = $(e.target).find('option:selected').val();
    var pathUpdated = _extends({}, path, { subtype: subtype });
    $('.js_logs-container').addClass('d-block');
    $('option.js_empty-subtype').remove();
    (0, _taskStatus.getTasksData)(wrappers, pathUpdated);
}

function init(_ref) {
    var isInStoriesPage = _ref.isInStoriesPage;

    if (!isInStoriesPage) {
        return;
    }
    // toDO : refactor
    // render status dropdown
    var textRusArray = ['По списку', 'По подписчикам', 'По активной аудитории конкурентов'];
    _dropdown2.default.addDropdown(logsStateStatus.wrapperSubtype, _consts.CONST.url.tmTypes.storiesSubT, { logsState: logsStateStatus, dropdownOnSelectCb: dropdownOnSelectCb, textRusArray: textRusArray });

    // getTasksData(wrappers, path);
    window.PubSub.subscribe(_consts.CONST.events.tasks.NEW_TASK_CREATED, function (eventName, data) {
        (0, _taskStatus.getTasksData)(wrappers, path);
    });
}

/***/ }),
/* 48 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});

var _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };

exports.init = init;

var _consts = __webpack_require__(0);

var _apiTaskManager = __webpack_require__(2);

var _apiTaskManager2 = _interopRequireDefault(_apiTaskManager);

var _view = __webpack_require__(1);

var _view2 = _interopRequireDefault(_view);

var _followReadFileTxt = __webpack_require__(14);

var _wizardForm = __webpack_require__(6);

var wizardForm = _interopRequireWildcard(_wizardForm);

var _unfollowStatus = __webpack_require__(49);

var tabStatus = _interopRequireWildcard(_unfollowStatus);

var _logsTabs = __webpack_require__(13);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

var fillRadioGroupList = _view2.default.fillRadioGroupList;


var usernameSelected = '';
var logsSubtypes = _consts.CONST.url.tmTypes.unfollowingSubT;
var clsConst = {
    currentPageCls: '.unfollow-page',
    tasksList: '.log-tasks',
    logsTabBtn: '#v-pills-logs-tab',
    pagination: '.logs-pagination',
    paginationPgNumber: '.page-number',
    pathType: _consts.CONST.url.tmTypes.unfollowingT,
    pathSubType: _consts.CONST.url.tmTypes.unfollowingSubT[0]
};
var elSelector = {
    wizardForm: '.wizard-form',
    wizardFormName: 'wizard-form',
    fields: '.automessages-text-fields',
    taskMode: '.js_task-mode',
    typeRadioGroup: '.js_get-unfollow-type',
    competitors: 'textarea.stories-competitors'
};
var state = {
    subtype: _consts.CONST.url.tmTypes.unfollowingSubT[0],
    user_default_config: {
        task_mode: 'SAFE'
    }
};

function onSubmitHandler(e) {
    var wizardFormName = elSelector.wizardFormName;

    var form = document.forms[wizardFormName];

    var body = _extends({}, state, {
        user_custom_config: {
            // attachment: {
            //     'list_id': 'id_static'
            // }
        },
        type: clsConst.pathType,
        username: usernameSelected
    });

    if (state.subtype === _consts.CONST.url.tmTypes.unfollowingSubT[0]) {
        // text file should be added
        body['user_custom_config'].attachment = {
            'list_id': $('.add-file .file-upload-container').attr('attached-txt-id')
        };
    }

    $(form).find('input[type="text"],input[type="number"],input[type="email"]').each(function () {
        if ($(this).val() === '') {
            e.preventDefault();
            $(this).addClass('input-error');
        } else {
            $(this).removeClass('input-error');
        }
    });

    console.log('onSubmitHandler **request**  post: StartFollowingList', body);

    _apiTaskManager2.default.postStartFollowingList(body).then(function (result) {
        if (result.status.state === 'ok') {
            console.log(JSON.stringify(result));
            $('.form-submit-finish').find('.alert p').remove();
            $('.form-submit-finish').addClass('d-block').find('.alert').append('<p>task_id: ' + result.data.task_id + '</p>');
        }
    });
}

/**
 * Init Handlers
 */
function initHandlers() {

    $(elSelector.typeRadioGroup + ' input[type=radio]').on('click', function (e) {
        var value = $(e.target).attr('value');
        state.subtype = value.toUpperCase();
        console.log(state);
    });

    // alert close
    $('.form-submit-finish .close').on('click', function () {
        // console.log('alert close');
        $('#v-pills-all-tab').trigger('click');
        window.PubSub.publish(_consts.CONST.events.tasks.NEW_TASK_CREATED);
    });

    // alert close
    $('.form-submit-finish--error .close').on('click', function () {
        // console.log('alert close');
        $('#v-pills-all-tab').trigger('click');
        window.PubSub.publish(_consts.CONST.events.tasks.NEW_TASK_CREATED);
    });
}

function onSuccessFileUploadCb() {
    var wizardForm = elSelector.wizardForm;


    $(wizardForm).find('button[type="submit"]').attr('disabled', false);
}

function addUploadButton(subtype) {
    function toggleAddTextBtn(subtype) {
        if (subtype === _consts.CONST.url.tmTypes.unfollowingSubT[0]) {
            // show txt fileUpload
            $('.add-file').addClass('d-block');
            // $('.add-competitors').addClass('d-none').removeClass('d-block');
        } else {
            // hide txt fileUpload
            // $('.add-competitors').addClass('d-block');
            $('.add-file').addClass('d-none').removeClass('d-block');
            onSuccessFileUploadCb();
        }
    }
    toggleAddTextBtn(subtype);
    // console.log('addUploadButton', CONST.url.tmTypes.unfollowingSubT[0]);
}

function renderTaskMode(defaultCfg) {
    var task_modes = defaultCfg.cfg.task_modes;
    var taskModeSelector = elSelector.taskMode;


    fillRadioGroupList($(taskModeSelector), task_modes, 'отписок');
    addUploadButton(defaultCfg.id.subtype);

    $(taskModeSelector + ' input[type=radio]').on('click', function (e) {
        var value = $(e.target).attr('value');
        state.user_default_config.task_mode = value.toUpperCase();
    });
}

function getConfig() {
    var path = {
        type: clsConst.pathType,
        subtype: state.subtype
    };
    var cbError = function cbError(res) {
        var msg = res.status.message;
        $('.form-submit-finish--error').addClass('d-block').find('.alert').append('<p>' + msg + '</p>');
    };

    _apiTaskManager2.default.getStoriesConfig(path, cbError).then(function (result) {
        if (result.status.state !== 'ok') {
            return;
        }
        var found = result.data.found;
        // $('#limit').val(limitVal);
        // const limitVal = found.cfg.criteria.max_views;

        renderTaskMode(found);
    });
}

function setUserNameCb(_usernameSelected) {
    usernameSelected = _usernameSelected;
}

function setUserNameFirstStep(state) {
    usernameSelected = state.username;
}

function checkTitleStep3(stepNumber) {
    var wizardForm = elSelector.wizardForm;

    var title = $(wizardForm + ' h3').get(stepNumber + 1);
    if (state.subtype === _consts.CONST.url.tmTypes.unfollowingSubT[0]) {
        $(title).text('Выберите режим и добавьте файл с пользователями');
    } else {
        $(title).text('Выберите режим');
    }
}

function addTextArea(stepNumber) {
    var wizardForm = elSelector.wizardForm;

    if (state.subtype === _consts.CONST.url.tmTypes.unfollowingSubT[1]) {
        var fieldLast = $(wizardForm + ' fieldset').get(stepNumber + 1);
        var tpl = '<div class="row">\n            <label class="">\u041A\u043E\u043D\u043A\u0443\u0440\u0435\u043D\u0442\u044B</label>\n            <textarea class="form-control stories-competitors mb-2" rows="1"></textarea></div>';
        $(fieldLast).find('.form-bottom>.row').after(tpl);
        console.log('end');
    }
}

function stepReducer(stepNumber, state) {
    switch (stepNumber) {
        case 0:
            // console.log(state, stepNumber);
            setUserNameFirstStep(state);
            break;
        case 1:
            // console.log(state, stepNumber);
            getConfig();
            checkTitleStep3(stepNumber);
            break;
        case 2:
            // THis step is upreachable
            console.log(state, stepNumber);
            addTextArea(stepNumber);
            break;
        default:
            console.log('default', stepNumber);
    }
}

function init() {
    var isInCurrentPage = $(clsConst.currentPageCls).length;
    if (!isInCurrentPage) {
        return;
    }
    console.log(clsConst.currentPageCls);
    var wizardCfg = {
        stepReducer: stepReducer,
        onSubmitHandler: onSubmitHandler
    };
    wizardForm.init(wizardCfg);
    initHandlers();
    (0, _followReadFileTxt.attachTxtFileHandler)('.file-upload-container', onSuccessFileUploadCb);
    var textRusArray = ['По списку', 'От всех', 'От невзаимных'];
    (0, _logsTabs.initLogsTab)({ logsState: _consts.CONST.logsState, logsSubtypes: logsSubtypes, clsConst: clsConst, setUserNameCb: setUserNameCb, textRusArray: textRusArray });
    tabStatus.init({
        isInStoriesPage: isInCurrentPage
    });
    // window.PubSub.subscribe(CONST.events.autoarnswer.IMAGE_UPLOADED, (e, res) => {
    //     const result = JSON.parse(res.response);
    //     const imageId = result && result.data && result.data.image_id;
    //     $(res.el).closest('.file-upload').attr('attached-img-id', imageId);
    //     console.log('image_loaded', res);
    // });
}

/***/ }),
/* 49 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.init = init;

var _consts = __webpack_require__(0);

var _taskStatusBySubtype = __webpack_require__(19);

var followStatusBySubtype = _interopRequireWildcard(_taskStatusBySubtype);

function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }

// TODO: refactor -> delete me
// import {getTasksData} from '../_shared/task-status/task-status';
// import viewUtils from '../../common/js-services/view';
// import dropDown from '../_shared/dropdown/dropdown';

// const path = {
//     type: CONST.url.tmTypes.storiesT,
//     subtype: CONST.url.tmTypes.storiesSubT[0]
// };
// const wrappers = {
//     $all: $('.tasks-all'),
//     $stopped: $('.tasks-stopped')
// };
// const logsStateStatus = {
//     wrapperSubtype: $('.subtype--box')
//     // selectClsLogsTaskType: 'subtype-select-wrapper'
// };
//
// function dropdownOnSelectCb(e) {
//     // const {selectClsLogsTaskType} = logsState;
//     const subtype = $(e.target).find('option:selected').val();
//     const pathUpdated = {...path, subtype};
//     $('.js_logs-container').addClass('d-block');
//     $('option.js_empty-subtype').remove();
//     getTasksData(wrappers, pathUpdated);
// }

function init(_ref) {
    var isInStoriesPage = _ref.isInStoriesPage;

    if (!isInStoriesPage) {
        return;
    }
    var initialPath = {
        type: _consts.CONST.url.tmTypes.unfollowingT,
        subtype: _consts.CONST.url.tmTypes.unfollowingSubT[0],
        subtypes: _consts.CONST.url.tmTypes.unfollowingSubT
    };

    var textRusArray = ['По списку', 'От всех', 'От невзаимных'];
    followStatusBySubtype.init({ isInCorrectPage: isInStoriesPage, initialPath: initialPath, textRusArray: textRusArray });

    // todo: merge with stories-satus.js
    // dropDown.addDropdown(logsStateStatus.wrapperSubtype, CONST.url.tmTypes.storiesSubT, {logsState: logsStateStatus, dropdownOnSelectCb});

    // getTasksData(wrappers, path);
    // window.PubSub.subscribe(CONST.events.tasks.NEW_TASK_CREATED, (eventName, data) => {
    //     getTasksData(wrappers, path);
    // });
}

/***/ }),
/* 50 */
/***/ (function(module, exports, __webpack_require__) {

"use strict";


Object.defineProperty(exports, "__esModule", {
    value: true
});
exports.LoginPage = LoginPage;

var _user = __webpack_require__(3);

var _user2 = _interopRequireDefault(_user);

var _pubsubJs = __webpack_require__(11);

var _pubsubJs2 = _interopRequireDefault(_pubsubJs);

var _cookie = __webpack_require__(4);

var _cookie2 = _interopRequireDefault(_cookie);

var _view = __webpack_require__(1);

var _view2 = _interopRequireDefault(_view);

var _consts = __webpack_require__(0);

function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }

// window.$ = $;

// import Validator from '../../common/js-services/form-validator';
function LoginPage(selectorCss) {
    var _this = this;

    var _formId = selectorCss._formId,
        _buttonSubmitId = selectorCss._buttonSubmitId,
        _loginBox = selectorCss._loginBox;

    var user = _user2.default,
        // service
    $form = $(_formId),
        $email = $form.find('input[name="mail"]'),
        $textAreaDescription = $('#description');
    // const openedClass = 'd-block';
    // const closeClass = 'd-none';

    var userLoginHeader = function userLoginHeader(_formData) {
        var cbError = function cbError(result) {
            // $(_loginBox).append(`<p>${result.status.message}</p>`);
            var modal = $('#error-modal');
            modal.modal('show');
            console.log(result.status.message);
        };

        return user.login(_formData, cbError).then(function (result) {
            if (result && result.data && result.data.token) {
                // save the item
                _cookie2.default.set(_consts.CONST.cookieStorage.token, result.data.token);
                $('.nav-link.js_logOut').parent().show();
                // console.log('request succeeded with JSON response', result);
                _view2.default.showInfoMessage($textAreaDescription, result.status.state, result.status.message || 'Login succsess');
            } else if (result.status) {
                console.log(result);
                _view2.default.showInfoMessage(_this.$textAreaDescription, '<p>status: ' + result.status.state + '</p><p> message: ' + result.status.message + '</p>');
            } else {
                console.log(result);
            }
        }).then(function (result) {
            if (result && result.status) {
                console.log(result);
                _view2.default.showInfoMessage($textAreaDescription, result.status.state, result.status.message || 'Login error');
            }
        });
    };

    var submitForm = function submitForm(formDataObj) {
        var email = $email.val(),
            password = $form.find('input[name="pass"]').val(),
            _formData = formDataObj || { email: email, password: password };

        if (selectorCss.isLoginInstagram) {
            // todo: delete me
            // addInstagramAccount({username: $form.find('input[name="username"]').val(), password});
        } else {
            $email.val($email.val().toLocaleLowerCase());
            userLoginHeader(_formData).then(function () {
                // PubSub.publish(CONST.events.USER_LOGGED, 'login');
                window.location.href = './instagram-accounts.html';
            });
        }
    };

    var logOut = function logOut() {
        _cookie2.default.remove(_consts.CONST.cookieStorage.token);
        _pubsubJs2.default.publish(_consts.CONST.events.USER_LOGOUT);
    };

    var bindEvents = function bindEvents() {
        // const $showLoginBoxBtnId = $(_showLoginBoxBtnId);
        var $loginBox = $(_loginBox);
        var openedClass = 'd-block';
        var closeClass = 'd-none';

        // $showLoginBoxBtnId.on('click', () => {
        //     if (!selectorCss.isLoginInstagram) {
        //         $loginBox.css({'top': 0, 'right': 0})
        //             .addClass('bg-light border mt-5 mx-auto position-absolute');
        //     }
        //     $loginBox.addClass(openedClass).removeClass(closeClass);
        // });

        var $buttonSubmit = $(_buttonSubmitId),
            cssValidationClass = 'form-validation';

        $buttonSubmit.on('click', function (e) {
            e.preventDefault();
            var form = $form.get(0);
            // const validator = new Validator($form);
            console.log(_view2.default, _view2.default.isEmail($email.val()));

            if (form.checkValidity() && _view2.default.isEmail($email.val())) {
                submitForm();
            } else {
                // Highlight errors
                if (form.reportValidity) {
                    form.reportValidity();
                }
                $form.addClass(cssValidationClass);
            }
        });

        $('.nav-link.js_logOut').on('click', function (e) {
            e.preventDefault();
            logOut();
            $(e.target).parent().hide();
            _view2.default.showInfoMessage($textAreaDescription, 'Logged out');
        });

        _pubsubJs2.default.subscribe(_consts.CONST.events.USER_LOGOUT, function (msg) {
            $(_consts.CONST.uiSelectors.headerNavLoginBtn).addClass(openedClass).removeClass(closeClass); // .show();
            $(_consts.CONST.uiSelectors.headerRegBtn).addClass(openedClass).removeClass(closeClass);
            $('.nav-link.js_logOut').addClass(closeClass).removeClass(openedClass); // .hide();
            var selectorLoginState = '.js_message_logged--text';
            $(selectorLoginState).text('Вы вышли из аккаунта');
        });

        $(document).on('click', function (event) {
            var isLoginBtnClick = $(event.target).closest('nav.navbar').find($loginBox).length;
            var isAddInstagramBtnClicked = $(event.target).attr('id') === _consts.CONST.uiSelectors.instagram.addAccountBtnId;

            if (!isLoginBtnClick && $loginBox.hasClass(openedClass) && !isAddInstagramBtnClicked) {
                $loginBox.addClass(closeClass).removeClass(openedClass);
            }
        });
    };

    function init() {
        if ($('.auth.login').length) {
            bindEvents();
        }
    }

    return {
        init: init
    };
} // https://www.npmjs.com/package/pubsub-js
/* eslint-disable sort-vars */
// import $ from 'jquery';

/***/ }),
/* 51 */
/***/ (function(module, exports) {

/*
 * bootstrap-tagsinput v0.7.1 by Tim Schlechter
 * 
 */

!function(a){"use strict";function b(b,c){this.isInit=!0,this.itemsArray=[],this.$element=a(b),this.$element.hide(),this.isSelect="SELECT"===b.tagName,this.multiple=this.isSelect&&b.hasAttribute("multiple"),this.objectItems=c&&c.itemValue,this.placeholderText=b.hasAttribute("placeholder")?this.$element.attr("placeholder"):"",this.inputSize=Math.max(1,this.placeholderText.length),this.$container=a('<div class="bootstrap-tagsinput"></div>'),this.$input=a('<input type="text" placeholder="'+this.placeholderText+'"/>').appendTo(this.$container),this.$element.before(this.$container),this.build(c),this.isInit=!1}function c(a,b){if("function"!=typeof a[b]){var c=a[b];a[b]=function(a){return a[c]}}}function d(a,b){if("function"!=typeof a[b]){var c=a[b];a[b]=function(){return c}}}function e(a){return a?i.text(a).html():""}function f(a){var b=0;if(document.selection){a.focus();var c=document.selection.createRange();c.moveStart("character",-a.value.length),b=c.text.length}else(a.selectionStart||"0"==a.selectionStart)&&(b=a.selectionStart);return b}function g(b,c){var d=!1;return a.each(c,function(a,c){if("number"==typeof c&&b.which===c)return d=!0,!1;if(b.which===c.which){var e=!c.hasOwnProperty("altKey")||b.altKey===c.altKey,f=!c.hasOwnProperty("shiftKey")||b.shiftKey===c.shiftKey,g=!c.hasOwnProperty("ctrlKey")||b.ctrlKey===c.ctrlKey;if(e&&f&&g)return d=!0,!1}}),d}var h={tagClass:function(a){return"label label-info"},itemValue:function(a){return a?a.toString():a},itemText:function(a){return this.itemValue(a)},itemTitle:function(a){return null},freeInput:!0,addOnBlur:!0,maxTags:void 0,maxChars:void 0,confirmKeys:[13,44],delimiter:",",delimiterRegex:null,cancelConfirmKeysOnEmpty:!1,onTagExists:function(a,b){b.hide().fadeIn()},trimValue:!1,allowDuplicates:!1};b.prototype={constructor:b,add:function(b,c,d){var f=this;if(!(f.options.maxTags&&f.itemsArray.length>=f.options.maxTags)&&(b===!1||b)){if("string"==typeof b&&f.options.trimValue&&(b=a.trim(b)),"object"==typeof b&&!f.objectItems)throw"Can't add objects when itemValue option is not set";if(!b.toString().match(/^\s*$/)){if(f.isSelect&&!f.multiple&&f.itemsArray.length>0&&f.remove(f.itemsArray[0]),"string"==typeof b&&"INPUT"===this.$element[0].tagName){var g=f.options.delimiterRegex?f.options.delimiterRegex:f.options.delimiter,h=b.split(g);if(h.length>1){for(var i=0;i<h.length;i++)this.add(h[i],!0);return void(c||f.pushVal())}}var j=f.options.itemValue(b),k=f.options.itemText(b),l=f.options.tagClass(b),m=f.options.itemTitle(b),n=a.grep(f.itemsArray,function(a){return f.options.itemValue(a)===j})[0];if(!n||f.options.allowDuplicates){if(!(f.items().toString().length+b.length+1>f.options.maxInputLength)){var o=a.Event("beforeItemAdd",{item:b,cancel:!1,options:d});if(f.$element.trigger(o),!o.cancel){f.itemsArray.push(b);var p=a('<span class="tag '+e(l)+(null!==m?'" title="'+m:"")+'">'+e(k)+'<span data-role="remove"></span></span>');p.data("item",b),f.findInputWrapper().before(p),p.after(" ");var q=a('option[value="'+encodeURIComponent(j)+'"]',f.$element).length||a('option[value="'+e(j)+'"]',f.$element).length;if(f.isSelect&&!q){var r=a("<option selected>"+e(k)+"</option>");r.data("item",b),r.attr("value",j),f.$element.append(r)}c||f.pushVal(),(f.options.maxTags===f.itemsArray.length||f.items().toString().length===f.options.maxInputLength)&&f.$container.addClass("bootstrap-tagsinput-max"),a(".typeahead, .twitter-typeahead",f.$container).length&&f.$input.typeahead("val",""),this.isInit?f.$element.trigger(a.Event("itemAddedOnInit",{item:b,options:d})):f.$element.trigger(a.Event("itemAdded",{item:b,options:d}))}}}else if(f.options.onTagExists){var s=a(".tag",f.$container).filter(function(){return a(this).data("item")===n});f.options.onTagExists(b,s)}}}},remove:function(b,c,d){var e=this;if(e.objectItems&&(b="object"==typeof b?a.grep(e.itemsArray,function(a){return e.options.itemValue(a)==e.options.itemValue(b)}):a.grep(e.itemsArray,function(a){return e.options.itemValue(a)==b}),b=b[b.length-1]),b){var f=a.Event("beforeItemRemove",{item:b,cancel:!1,options:d});if(e.$element.trigger(f),f.cancel)return;a(".tag",e.$container).filter(function(){return a(this).data("item")===b}).remove(),a("option",e.$element).filter(function(){return a(this).data("item")===b}).remove(),-1!==a.inArray(b,e.itemsArray)&&e.itemsArray.splice(a.inArray(b,e.itemsArray),1)}c||e.pushVal(),e.options.maxTags>e.itemsArray.length&&e.$container.removeClass("bootstrap-tagsinput-max"),e.$element.trigger(a.Event("itemRemoved",{item:b,options:d}))},removeAll:function(){var b=this;for(a(".tag",b.$container).remove(),a("option",b.$element).remove();b.itemsArray.length>0;)b.itemsArray.pop();b.pushVal()},refresh:function(){var b=this;a(".tag",b.$container).each(function(){var c=a(this),d=c.data("item"),f=b.options.itemValue(d),g=b.options.itemText(d),h=b.options.tagClass(d);if(c.attr("class",null),c.addClass("tag "+e(h)),c.contents().filter(function(){return 3==this.nodeType})[0].nodeValue=e(g),b.isSelect){var i=a("option",b.$element).filter(function(){return a(this).data("item")===d});i.attr("value",f)}})},items:function(){return this.itemsArray},pushVal:function(){var b=this,c=a.map(b.items(),function(a){return b.options.itemValue(a).toString()});b.$element.val(c,!0).trigger("change")},build:function(b){var e=this;if(e.options=a.extend({},h,b),e.objectItems&&(e.options.freeInput=!1),c(e.options,"itemValue"),c(e.options,"itemText"),d(e.options,"tagClass"),e.options.typeahead){var i=e.options.typeahead||{};d(i,"source"),e.$input.typeahead(a.extend({},i,{source:function(b,c){function d(a){for(var b=[],d=0;d<a.length;d++){var g=e.options.itemText(a[d]);f[g]=a[d],b.push(g)}c(b)}this.map={};var f=this.map,g=i.source(b);a.isFunction(g.success)?g.success(d):a.isFunction(g.then)?g.then(d):a.when(g).then(d)},updater:function(a){return e.add(this.map[a]),this.map[a]},matcher:function(a){return-1!==a.toLowerCase().indexOf(this.query.trim().toLowerCase())},sorter:function(a){return a.sort()},highlighter:function(a){var b=new RegExp("("+this.query+")","gi");return a.replace(b,"<strong>$1</strong>")}}))}if(e.options.typeaheadjs){var j=null,k={},l=e.options.typeaheadjs;a.isArray(l)?(j=l[0],k=l[1]):k=l,e.$input.typeahead(j,k).on("typeahead:selected",a.proxy(function(a,b){k.valueKey?e.add(b[k.valueKey]):e.add(b),e.$input.typeahead("val","")},e))}e.$container.on("click",a.proxy(function(a){e.$element.attr("disabled")||e.$input.removeAttr("disabled"),e.$input.focus()},e)),e.options.addOnBlur&&e.options.freeInput&&e.$input.on("focusout",a.proxy(function(b){0===a(".typeahead, .twitter-typeahead",e.$container).length&&(e.add(e.$input.val()),e.$input.val(""))},e)),e.$container.on("keydown","input",a.proxy(function(b){var c=a(b.target),d=e.findInputWrapper();if(e.$element.attr("disabled"))return void e.$input.attr("disabled","disabled");switch(b.which){case 8:if(0===f(c[0])){var g=d.prev();g.length&&e.remove(g.data("item"))}break;case 46:if(0===f(c[0])){var h=d.next();h.length&&e.remove(h.data("item"))}break;case 37:var i=d.prev();0===c.val().length&&i[0]&&(i.before(d),c.focus());break;case 39:var j=d.next();0===c.val().length&&j[0]&&(j.after(d),c.focus())}var k=c.val().length;Math.ceil(k/5);c.attr("size",Math.max(this.inputSize,c.val().length))},e)),e.$container.on("keypress","input",a.proxy(function(b){var c=a(b.target);if(e.$element.attr("disabled"))return void e.$input.attr("disabled","disabled");var d=c.val(),f=e.options.maxChars&&d.length>=e.options.maxChars;e.options.freeInput&&(g(b,e.options.confirmKeys)||f)&&(0!==d.length&&(e.add(f?d.substr(0,e.options.maxChars):d),c.val("")),e.options.cancelConfirmKeysOnEmpty===!1&&b.preventDefault());var h=c.val().length;Math.ceil(h/5);c.attr("size",Math.max(this.inputSize,c.val().length))},e)),e.$container.on("click","[data-role=remove]",a.proxy(function(b){e.$element.attr("disabled")||e.remove(a(b.target).closest(".tag").data("item"))},e)),e.options.itemValue===h.itemValue&&("INPUT"===e.$element[0].tagName?e.add(e.$element.val()):a("option",e.$element).each(function(){e.add(a(this).attr("value"),!0)}))},destroy:function(){var a=this;a.$container.off("keypress","input"),a.$container.off("click","[role=remove]"),a.$container.remove(),a.$element.removeData("tagsinput"),a.$element.show()},focus:function(){this.$input.focus()},input:function(){return this.$input},findInputWrapper:function(){for(var b=this.$input[0],c=this.$container[0];b&&b.parentNode!==c;)b=b.parentNode;return a(b)}},a.fn.tagsinput=function(c,d,e){var f=[];return this.each(function(){var g=a(this).data("tagsinput");if(g)if(c||d){if(void 0!==g[c]){if(3===g[c].length&&void 0!==e)var h=g[c](d,null,e);else var h=g[c](d);void 0!==h&&f.push(h)}}else f.push(g);else g=new b(this,c),a(this).data("tagsinput",g),f.push(g),"SELECT"===this.tagName&&a("option",a(this)).attr("selected","selected"),a(this).val(a(this).val())}),"string"==typeof c?f.length>1?f:f[0]:f},a.fn.tagsinput.Constructor=b;var i=a("<div />");a(function(){a("input[data-role=tagsinput], select[multiple][data-role=tagsinput]").tagsinput()})}(window.jQuery);
//# sourceMappingURL=bootstrap-tagsinput.min.js.map

/***/ }),
/* 52 */
/***/ (function(module, exports) {

if("undefined"==typeof brutusin)window.brutusin=new Object;else if("object"!=typeof brutusin)throw"brutusin global variable already exists";!function(){String.prototype.startsWith||(String.prototype.startsWith=function(e,t){return t=t||0,this.indexOf(e,t)===t}),String.prototype.endsWith||(String.prototype.endsWith=function(e,t){var r=this.toString();(void 0===t||t>r.length)&&(t=r.length),t-=e.length;var n=r.indexOf(e,t);return-1!==n&&n===t}),String.prototype.includes||(String.prototype.includes=function(){"use strict";return-1!==String.prototype.indexOf.apply(this,arguments)}),String.prototype.format||(String.prototype.format=function(){for(var e=this,t=0;t<arguments.length;t++){var r=new RegExp("\\{"+t+"\\}","gi");e=e.replace(r,arguments[t])}return e});var BrutusinForms=new Object;BrutusinForms.messages={validationError:"Validation error",required:"This field is **required**",invalidValue:"Invalid field value",addpropNameExistent:"This property is already present in the object",addpropNameRequired:"A name is required",minItems:"At least `{0}` items are required",maxItems:"At most `{0}` items are allowed",pattern:"Value does not match pattern: `{0}`",minLength:"Value must be **at least** `{0}` characters long",maxLength:"Value must be **at most** `{0}` characters long",multipleOf:"Value must be **multiple of** `{0}`",minimum:"Value must be **greater or equal than** `{0}`",exclusiveMinimum:"Value must be **greater than** `{0}`",maximum:"Value must be **lower or equal than** `{0}`",exclusiveMaximum:"Value must be **lower than** `{0}`",minProperties:"At least `{0}` properties are required",maxProperties:"At most `{0}` properties are allowed",uniqueItems:"Array items must be unique",addItem:"Add item","true":"True","false":"False"},BrutusinForms.decorators=new Array,BrutusinForms.addDecorator=function(e){BrutusinForms.decorators[BrutusinForms.decorators.length]=e},BrutusinForms.onResolutionStarted=function(e){},BrutusinForms.onResolutionFinished=function(e){},BrutusinForms.onValidationError=function(e,t){e.focus(),e.className.includes(" error")||(e.className+=" error"),alert(t)},BrutusinForms.onValidationSuccess=function(e){e.className=e.className.replace(" error","")},BrutusinForms.postRender=null,BrutusinForms.instances=new Array,BrutusinForms.create=function(schema){function validateDepencyMapIsAcyclic(){function e(t,r,n){if(r.hasOwnProperty(n))return void(error="Schema dependency graph has cycles");if(r[n]=null,!t.hasOwnProperty(n)){t[n]=null;var a=dependencyMap[n];if(a)for(var i=0;i<a.length;i++)e(t,r,a[i]);delete r[n]}}var t=new Object;for(var r in dependencyMap)t.hasOwnProperty(r)||e(t,new Object,r)}function appendChild(e,t,r){e.appendChild(t);for(var n=0;n<BrutusinForms.decorators.length;n++)BrutusinForms.decorators[n](t,r)}function createPseudoSchema(e){var t=new Object;for(var r in e)"items"!==r&&"properties"!==r&&"additionalProperties"!==r&&("pattern"===r?t[r]=new RegExp(e[r]):t[r]=e[r]);return t}function getDefinition(e){var t=e.split("/"),r=root;for(var n in t)"0"!==n&&(r=r[t[n]]);return r}function containsStr(e,t){for(var r=0;r<e.length;r++)if(e[r]==t)return!0;return!1}function renameRequiredPropeties(e){if(e)if(e.hasOwnProperty("oneOf"))for(var t in e.oneOf)renameRequiredPropeties(e.oneOf[t]);else if(e.hasOwnProperty("$ref")){var r=getDefinition(e.$ref);renameRequiredPropeties(r)}else if("object"===e.type){if(e.properties){e.hasOwnProperty("required")&&Array.isArray(e.required)&&(e.requiredProperties=e.required,delete e.required);for(var n in e.properties)renameRequiredPropeties(e.properties[n])}if(e.patternProperties)for(var a in e.patternProperties){var i=e.patternProperties[a];(i.hasOwnProperty("type")||i.hasOwnProperty("$ref")||i.hasOwnProperty("oneOf"))&&renameRequiredPropeties(e.patternProperties[a])}e.additionalProperties&&(e.additionalProperties.hasOwnProperty("type")||e.additionalProperties.hasOwnProperty("oneOf"))&&renameRequiredPropeties(e.additionalProperties)}else"array"===e.type&&renameRequiredPropeties(e.items)}function populateSchemaMap(e,t){var r=createPseudoSchema(t);if(r.$id=e,schemaMap[e]=r,t){if(t.hasOwnProperty("oneOf")){r.oneOf=new Array,r.type="oneOf";for(var n in t.oneOf){var a=e+"."+n;r.oneOf[n]=a,populateSchemaMap(a,t.oneOf[n])}}else if(t.hasOwnProperty("$ref")){var i=getDefinition(t.$ref);if(i){if(t.hasOwnProperty("title")||t.hasOwnProperty("description")){var o={};for(var s in i)o[s]=i[s];t.hasOwnProperty("title")&&(o.title=t.title),t.hasOwnProperty("description")&&(o.description=t.description),i=o}populateSchemaMap(e,i)}}else if("object"===t.type){if(t.properties){r.properties=new Object;for(var s in t.properties){var a=e+"."+s;r.properties[s]=a;var u=t.properties[s];t.requiredProperties&&(containsStr(t.requiredProperties,s)?u.required=!0:u.required=!1),populateSchemaMap(a,u)}}if(t.patternProperties){r.patternProperties=new Object;for(var l in t.patternProperties){var d=e+"["+l+"]";r.patternProperties[l]=d;var p=t.patternProperties[l];p.hasOwnProperty("type")||p.hasOwnProperty("$ref")||p.hasOwnProperty("oneOf")?populateSchemaMap(d,t.patternProperties[l]):populateSchemaMap(d,SCHEMA_ANY)}}if(t.additionalProperties){var a=e+"[*]";r.additionalProperties=a,t.additionalProperties.hasOwnProperty("type")||t.additionalProperties.hasOwnProperty("oneOf")?populateSchemaMap(a,t.additionalProperties):populateSchemaMap(a,SCHEMA_ANY)}}else"array"===t.type&&(r.items=e+"[#]",populateSchemaMap(r.items,t.items));if(t.hasOwnProperty("dependsOn")){null===t.dependsOn&&(t.dependsOn=["$"]);for(var c=new Array,n=0;n<t.dependsOn.length;n++)t.dependsOn[n]?t.dependsOn[n].startsWith("$")?c[n]=t.dependsOn[n]:e.endsWith("]")?c[n]=e+"."+t.dependsOn[n]:c[n]=e.substring(0,e.lastIndexOf("."))+"."+t.dependsOn[n]:c[n]="$";schemaMap[e].dependsOn=c;for(var n=0;n<c.length;n++){var m=dependencyMap[c[n]];m||(m=new Array,dependencyMap[c[n]]=m),m[m.length]=e}}}}function renderTitle(e,t,r){if(e&&t){var n=document.createElement("label");"any"!==r.type&&"object"!==r.type&&"array"!==r.type&&(n.htmlFor=getInputId());var a=document.createTextNode(t+":");if(appendChild(n,a,r),r.description&&(n.title=r.description),r.required){var i=document.createElement("sup");appendChild(i,document.createTextNode("*"),r),appendChild(n,i,r),n.className="required"}appendChild(e,n,r)}}function getInputId(){return formId+"_"+inputCounter}function validate(e){var t=!0;if(e.hasOwnProperty("getValidationError")){var r=e.getValidationError();r?(BrutusinForms.onValidationError(e,r),t=!1):BrutusinForms.onValidationSuccess(e)}if(e.childNodes)for(var n=0;n<e.childNodes.length;n++)validate(e.childNodes[n])||(t=!1);return t}function clear(e){if(e)for(;e.firstChild;)e.removeChild(e.firstChild)}function render(e,t,r,n,a,i){var o=getSchemaId(r),s=getSchema(o);renderInfoMap[o]=new Object,renderInfoMap[o].titleContainer=e,renderInfoMap[o].container=t,renderInfoMap[o].parentObject=n,renderInfoMap[o].propertyProvider=a,renderInfoMap[o].value=i,clear(e),clear(t);var u=renderers[s.type];if(u&&!s.dependsOn)s.title?renderTitle(e,s.title,s):a&&renderTitle(e,a.getValue(),s),i||(i="undefined"!=typeof initialValue&&null!==initialValue?getInitialValue(r):s["default"]),u(t,r,n,a,i);else if(s.$ref&&obj.schemaResolver){var l=function(e){if(e&&e.hasOwnProperty(r)&&JSON.stringify(schemaMap[r])!==JSON.stringify(e[r])){cleanSchemaMap(r),cleanData(r),populateSchemaMap(r,e[r]);var t=renderInfoMap[r];t&&render(t.titleContainer,t.container,r,t.parentObject,t.propertyProvider,t.value)}BrutusinForms.onResolutionFinished(n)};BrutusinForms.onResolutionStarted(n),obj.schemaResolver([r],obj.getData(),l)}}function createPropertyProvider(e,t){var r=new Object;return r.getValue=e,r.onchange=t,r}function getInitialValue(id){var ret;try{eval("ret = initialValue"+id.substring(1))}catch(e){ret=null}return ret}function getValue(schema,input){if("function"==typeof input.getValue)return input.getValue();var value;return value="select"===input.tagName.toLowerCase()?input.options[input.selectedIndex].value:input.value,""===value?null:("integer"===schema.type?(value=parseInt(value),isFinite(value)||(value=null)):"number"===schema.type?(value=parseFloat(value),isFinite(value)||(value=null)):"boolean"===schema.type?"input"===input.tagName.toLowerCase()?(value=input.checked,value||(value=!1)):"select"===input.tagName.toLowerCase()&&(value="true"===input.value?!0:"false"===input.value?!1:null):"any"===schema.type&&value&&eval("value="+value),value)}function getSchemaId(e){return e.replace(/\["[^"]*"\]/g,"[*]").replace(/\[\d*\]/g,"[#]")}function getParentSchemaId(e){return e.substring(0,e.lastIndexOf("."))}function getSchema(e){return schemaMap[e]}function cleanSchemaMap(e){for(var t in schemaMap)e.startsWith(t)&&delete schemaMap[t]}function cleanData(e){var t=new Expression(e);t.visit(data,function(e,t,r){delete t[r]})}function onDependencyChanged(e,t){var r=dependencyMap[e];if(r&&obj.schemaResolver){var n=function(e){if(e)for(var r in e)if(JSON.stringify(schemaMap[r])!==JSON.stringify(e[r])){cleanSchemaMap(r),cleanData(r),populateSchemaMap(r,e[r]);var n=renderInfoMap[r];n&&render(n.titleContainer,n.container,r,n.parentObject,n.propertyProvider,n.value)}BrutusinForms.onResolutionFinished(t)};BrutusinForms.onResolutionStarted(t),obj.schemaResolver(r,obj.getData(),n)}}function Expression(e){function t(e){if(null===e)return null;for(var t=new Array,r=null,n=0,a=0;a<e.length;a++)'"'===e.charAt(a)?null===r?r='"':'"'===r&&(r=null,t[t.length]=e.substring(n,a+1).trim(),n=a+1):"'"===e.charAt(a)?null===r?r="'":"'"===r&&(r=null,t[t.length]=e.substring(n,a+1).trim(),n=a+1):"["===e.charAt(a)?null===r&&(n!==a&&(t[t.length]=e.substring(n,a).trim()),t[t.length]="[",n=a+1):"]"===e.charAt(a)?null===r&&(n!==a&&(t[t.length]=e.substring(n,a).trim()),t[t.length]="]",n=a+1):"."===e.charAt(a)?null===r&&(n!==a&&(t[t.length]=e.substring(n,a).trim()),n=a+1):a===e.length-1&&(t[t.length]=e.substring(n,a+1).trim());return t}(null===e||0===e.length||"."===e)&&(e="$");for(var r=new Array,n=t(e),a=!1,i=0,o="",s=0;s<n.length;s++){var u=n[s];if("["===u){if(a)throw"Error parsing expression '"+e+"': Nested [ found";a=!0,i=0,o+=u}else if("]"===u){if(!a)throw"Error parsing expression '"+e+"': Unbalanced ] found";a=!1,o+=u,r[r.length]=o,o=""}else if(a){if(i>0)throw"Error parsing expression '"+e+"': Multiple tokens found inside a bracket";o+=u,i++}else r[r.length]=u;if(s===n.length-1&&a)throw"Error parsing expression '"+e+"': Unbalanced [ found"}this.exp=e,this.queue=r,this.visit=function(e,t){function r(e,n,a,i,o){if(null!=a){var s=n.shift();if("$"===s){e="$";var s=n.shift()}if(s)if(Array.isArray(a)){if(!s.startsWith("["))throw"Node '"+e+"' is of type array";var u=s.substring(1,s.length-1);if(u.equals("#"))for(var l=0;l<a.length;l++){var d=a[l];r(e+s,n.slice(0),d,a,l),r(e+"["+l+"]",n.slice(0),d,a,l)}else if("$"===u){var d=a[a.length-1];r(e+s,n.slice(0),d,a,a.length-1)}else{var p=parseInt(u);if(isNaN(p))throw"Element '"+u+"' of node '"+e+"' is not an integer, or the '$' last element symbol,  or the wilcard symbol '#'";if(0>p)throw"Element '"+u+"' of node '"+e+"' is lower than zero";var d=a[p];r(e+s,n.slice(0),d,a,p)}}else{if("object"!=typeof a)throw"boolean"==typeof a||"number"==typeof a||"string"==typeof a?"Node is leaf but still are tokens remaining: "+s:"Node type '"+typeof a+"' not supported for index field '"+e+"'";if("[*]"===s)for(var c in a){var d=a[c];r(e+s,n.slice(0),d,a,c),r(e+'["'+c+'"]',n.slice(0),d,a,c)}else{var d;if(s.startsWith("[")){var u=s.substring(1,s.length-1);if(!u.startsWith('"')&&!u.startsWith("'"))throw"Element '"+u+"' of node '"+e+"' must be a string expression or wilcard '*'";u=u.substring(1,u.length()-1),e+=s,d=a[u]}else e=e.length>0?e+"."+s:s,d=a[s];r(e,n,d,a,s)}}else t(a,i,o)}}r(this.exp,this.queue,e)}}var SCHEMA_ANY={type:"any"},obj=new Object,schemaMap=new Object,dependencyMap=new Object,renderInfoMap=new Object,container,data,error,initialValue,inputCounter=0,root=schema,formId="BrutusinForms#"+BrutusinForms.instances.length;renameRequiredPropeties(schema),populateSchemaMap("$",schema),validateDepencyMapIsAcyclic();var renderers=new Object;return renderers.integer=function(e,t,r,n,a){renderers.string(e,t,r,n,a)},renderers.number=function(e,t,r,n,a){renderers.string(e,t,r,n,a)},renderers.any=function(e,t,r,n,a){renderers.string(e,t,r,n,a)},renderers.string=function(e,t,r,n,a){var i,o=getSchemaId(t),s=getParentSchemaId(o),u=getSchema(o),l=getSchema(s);if("any"===u.type)i=document.createElement("textarea"),a&&(i.value=JSON.stringify(a,null,4),u.readOnly&&(i.disabled=!0));else if(u.media)i=document.createElement("input"),i.type="file",appendChild(i,d,u);else if(u["enum"]){if(i=document.createElement("select"),!u.required){var d=document.createElement("option"),p=document.createTextNode("");d.value="",appendChild(d,p,u),appendChild(i,d,u)}for(var c=0,m=0;m<u["enum"].length;m++){var d=document.createElement("option"),p=document.createTextNode(u["enum"][m]);d.value=u["enum"][m],appendChild(d,p,u),appendChild(i,d,u),a&&u["enum"][m]===a&&(c=m,u.required||c++,u.readOnly&&(i.disabled=!0))}1===u["enum"].length?i.selectedIndex=1:i.selectedIndex=c}else{if(i=document.createElement("input"),"integer"===u.type||"number"===u.type)i.type="number",i.step=u.step?""+u.step:"any","number"!=typeof a&&(a=null);else if("date-time"===u.format)try{i.type="datetime-local"}catch(f){i.type="text"}else"email"===u.format?i.type="email":"text"===u.format?i=document.createElement("textarea"):i.type="text";null!==a&&"undefined"!=typeof a&&(i.value=a,u.readOnly&&(i.disabled=!0))}return i.schema=o,i.setAttribute("autocorrect","off"),i.getValidationError=function(){try{var e=getValue(u,i);if(null===e){if(u.required){if(!l||"object"!==l.type)return BrutusinForms.messages.required;if(l.required)return BrutusinForms.messages.required;for(var t in r)if(null!==r[t])return BrutusinForms.messages.required}}else{if(u.pattern&&!u.pattern.test(e))return BrutusinForms.messages.pattern.format(u.pattern.source);if(u.minLength&&(!e||u.minLength>e.length))return BrutusinForms.messages.minLength.format(u.minLength);if(u.maxLength&&e&&u.maxLength<e.length)return BrutusinForms.messages.maxLength.format(u.maxLength)}if(null!==e&&!isNaN(e)){if(u.multipleOf&&e%u.multipleOf!==0)return BrutusinForms.messages.multipleOf.format(u.multipleOf);if(u.hasOwnProperty("maximum")){if(u.exclusiveMaximum&&e>=u.maximum)return BrutusinForms.messages.exclusiveMaximum.format(u.maximum);if(!u.exclusiveMaximum&&e>u.maximum)return BrutusinForms.messages.maximum.format(u.maximum)}if(u.hasOwnProperty("minimum")){if(u.exclusiveMinimum&&e<=u.minimum)return BrutusinForms.messages.exclusiveMinimum.format(u.minimum);if(!u.exclusiveMinimum&&e<u.minimum)return BrutusinForms.messages.minimum.format(u.minimum)}}}catch(n){return BrutusinForms.messages.invalidValue}},i.onchange=function(){var e;try{e=getValue(u,i)}catch(t){e=null}r?r[n.getValue()]=e:data=e,onDependencyChanged(o,i)},u.description&&(i.title=u.description,i.placeholder=u.description),i.onchange(),i.id=getInputId(),inputCounter++,appendChild(e,i,u),r},renderers["boolean"]=function(e,t,r,n,a){var i,o=getSchemaId(t),s=getSchema(o);if(s.required)i=document.createElement("input"),i.type="checkbox",a===!0&&(i.checked=!0);else{i=document.createElement("select");var u=document.createElement("option"),l=document.createTextNode("");l.value="",appendChild(u,l,s),appendChild(i,u,s);var d=document.createElement("option"),p=document.createTextNode(BrutusinForms.messages["true"]);d.value="true",appendChild(d,p,s),appendChild(i,d,s);var c=document.createElement("option"),m=document.createTextNode(BrutusinForms.messages["false"]);c.value="false",appendChild(c,m,s),appendChild(i,c,s),a===!0?i.selectedIndex=1:a===!1&&(i.selectedIndex=2)}i.onchange=function(){r?r[n.getValue()]=getValue(s,i):data=getValue(s,i),onDependencyChanged(o,i)},i.schema=o,i.id=getInputId(),inputCounter++,s.description&&(i.title=s.description),i.onchange(),appendChild(e,i,s)},renderers.oneOf=function(e,t,r,n,a){var i=getSchemaId(t),o=getSchema(i),s=document.createElement("select"),u=document.createElement("div");u.innerHTML="",s.type="select",s.schema=i;var l=document.createElement("option");l.value=null,appendChild(s,l,o);for(var d=0;d<o.oneOf.length;d++){var p=document.createElement("option"),c=i+"."+d,m=getSchema(c),f=document.createTextNode(m.title);if(p.value=o.oneOf[d],appendChild(p,f,o),appendChild(s,p,o),void 0!==a&&null!==a&&(o.readOnly&&(s.disabled=!0),a.hasOwnProperty("type")&&m.hasOwnProperty("properties")&&m.properties.hasOwnProperty("type"))){var h=getSchema(m.properties.type);a.type===h["enum"][0]&&(s.selectedIndex=d+1,render(null,u,t+"."+(s.selectedIndex-1),r,n,a))}}s.onchange=function(){render(null,u,t+"."+(s.selectedIndex-1),r,n,a)},appendChild(e,s,o),appendChild(e,u,o)},renderers.object=function(e,t,r,n,a){function i(e){var t=new Object;return t.getValue=function(){return e},t.onchange=function(e){},t}function o(e,t,r,n,a,i){var o=getSchemaId(r),s=getSchema(o),u=t.tBodies[0],l=document.createElement("tr"),d=document.createElement("td");d.className="add-prop-name";var p=document.createElement("table"),c=document.createElement("tr"),m=document.createElement("td"),f=document.createElement("td"),h="$"+Object.keys(e).length+"$",v=document.createElement("td");v.className="prop-value";var g=document.createElement("input");g.type="text";var y;i&&(y=RegExp(i)),g.getValidationError=function(){return g.previousValue!==g.value&&e.hasOwnProperty(g.value)?BrutusinForms.messages.addpropNameExistent:g.value?void 0:BrutusinForms.messages.addpropNameRequired};var b=createPropertyProvider(function(){if(g.value){if(!y)return g.value;if(-1!==g.value.search(y))return g.value}return h},function(t){b.getValue()!==t&&(t&&e.hasOwnProperty(t)||(t=h),(e.hasOwnProperty(t)||y&&-1===b.getValue().search(y))&&(e[b.getValue()]=e[t],delete e[t]))});g.onblur=function(){if(g.previousValue!==g.value){for(var t=g.value,r=1;g.previousValue!==t&&e.hasOwnProperty(t);)t=g.value+"("+r+")",r++;return g.value=t,b.onchange(g.previousValue),void(g.previousValue=g.value)}};var P=document.createElement("button");P.setAttribute("type","button"),P.className="remove",appendChild(P,document.createTextNode("x"),s),P.onclick=function(){delete e[g.value],t.deleteRow(l.rowIndex),g.value=null,b.onchange(g.previousValue)},appendChild(m,g,s),appendChild(f,P,s),appendChild(c,m,s),appendChild(c,f,s),appendChild(p,c,s),appendChild(d,p,s),void 0!==i&&(g.placeholder=i),appendChild(l,d,s),appendChild(l,v,s),appendChild(u,l,s),appendChild(t,u,s),render(null,v,r,e,b,a),n&&(g.value=n,g.onblur())}var s=getSchemaId(t),u=getSchema(s),l=new Object;r?(n.getValue()||0===n.getValue())&&(r[n.getValue()]=l):data=l;var d=document.createElement("table");d.className="object";var p=document.createElement("tbody");appendChild(d,p,u);var c=0;if(u.hasOwnProperty("properties")){c=u.properties.length;for(var m in u.properties){var f=document.createElement("tr"),h=document.createElement("td");h.className="prop-name";var v=t+"."+m,g=getSchema(getSchemaId(v)),y=document.createElement("td");y.className="prop-value",appendChild(p,f,g),appendChild(f,h,g),appendChild(f,y,g);var b=i(m),P=null;a&&(P=a[m]),render(h,y,v,l,b,P)}}var O=[];if(u.patternProperties||u.additionalProperties){var w=document.createElement("div");if(appendChild(w,d,u),u.patternProperties)for(var x in u.patternProperties){var C=u.patternProperties[x],E=document.createElement("div");E.className="add-pattern-div";var S=document.createElement("button");if(S.setAttribute("type","button"),S.pattern=x,S.id=t+"["+x+"]",S.onclick=function(){o(l,d,this.id,void 0,void 0,this.pattern)},(u.maxProperties||u.minProperties)&&(S.getValidationError=function(){return u.minProperties&&c+d.rows.length<u.minProperties?BrutusinForms.messages.minProperties.format(u.minProperties):u.maxProperties&&c+d.rows.length>u.maxProperties?BrutusinForms.messages.maxProperties.format(u.maxProperties):void 0}),C.description&&(S.title=C.description),appendChild(S,document.createTextNode("Add "+x),u),appendChild(E,S,u),a)for(var I in a)if(!u.properties||!u.properties.hasOwnProperty(I)){var N=RegExp(x);-1!==I.search(N)&&-1===O.indexOf(I)&&(o(l,d,t+"["+x+"]",I,a[I],x),O.push(I))}appendChild(w,E,u)}if(u.additionalProperties){var F=getSchema(u.additionalProperties),S=document.createElement("button");if(S.setAttribute("type","button"),S.onclick=function(){o(l,d,t+"[*]",void 0)},(u.maxProperties||u.minProperties)&&(S.getValidationError=function(){return u.minProperties&&c+d.rows.length<u.minProperties?BrutusinForms.messages.minProperties.format(u.minProperties):u.maxProperties&&c+d.rows.length>u.maxProperties?BrutusinForms.messages.maxProperties.format(u.maxProperties):void 0}),F.description&&(S.title=F.description),appendChild(S,document.createTextNode("Add"),u),appendChild(w,S,u),a)for(var I in a)u.properties&&u.properties.hasOwnProperty(I)||-1===O.indexOf(I)&&o(l,d,t+'["'+m+'"]',I,a[I])}appendChild(e,w,u)}else appendChild(e,d,u)},renderers.array=function(e,t,r,n,a){function i(e,t,r,n,a){var i=getSchemaId(r),o=getSchema(i),s=document.createElement("tbody"),u=document.createElement("tr");u.className="item";var l=document.createElement("td");l.className="item-index";var d=document.createElement("td");d.className="item-action";var p=document.createElement("td");p.className="item-value";var c=document.createElement("button");c.setAttribute("type","button"),c.className="remove",a===!0&&(c.disabled=!0),appendChild(c,document.createTextNode("x"),o);var m=function(){for(var e=0;e<t.rows.length;e++){var r=t.rows[e];r.cells[0].innerHTML=e+1}};c.onclick=function(){e.splice(u.rowIndex,1),t.deleteRow(u.rowIndex),m()},appendChild(d,c,o);var f=document.createTextNode(t.rows.length+1);appendChild(l,f,o),appendChild(u,l,o),appendChild(u,d,o),appendChild(u,p,o),appendChild(s,u,o),appendChild(t,s,o);var h=createPropertyProvider(function(){return u.rowIndex});render(null,p,r,e,h,n)}var o=getSchemaId(t),s=getSchema(o),u=getSchema(s.items),l=new Array;r?(n.getValue()||0===n.getValue())&&(r[n.getValue()]=l):data=l,n&&(n.onchange=function(e){delete r[e],r[n.getValue()]=l});var d=document.createElement("div"),p=document.createElement("table");p.className="array",appendChild(d,p,s),appendChild(e,d,s);var c=document.createElement("button");if(s.readOnly&&(c.disabled=!0),c.setAttribute("type","button"),c.getValidationError=function(){if(s.minItems&&s.minItems>p.rows.length)return BrutusinForms.messages.minItems.format(s.minItems);if(s.maxItems&&s.maxItems<p.rows.length)return BrutusinForms.messages.maxItems.format(s.maxItems);if(s.uniqueItems)for(var e=0;e<l.length;e++)for(var t=e+1;t<l.length;t++)if(JSON.stringify(l[e])===JSON.stringify(l[t]))return BrutusinForms.messages.uniqueItems},c.onclick=function(){i(l,p,t+"[#]",null)},u.description&&(c.title=u.description),appendChild(c,document.createTextNode(BrutusinForms.messages.addItem),s),appendChild(d,p,s),appendChild(d,c,s),a&&a instanceof Array)for(var m=0;m<a.length;m++)i(l,p,t+"["+m+"]",a[m],s.readOnly);appendChild(e,d,s)},obj.render=function(e,t){container=e,initialValue=t;var r=document.createElement("form");if(r.className="brutusin-form",r.onsubmit=function(e){return!1},container?appendChild(container,r):appendChild(document.body,r),error){var n=document.createElement("label"),a=document.createTextNode(error);appendChild(n,a),n.className="error-message",appendChild(r,n)}else render(null,r,"$",null,null);dependencyMap.hasOwnProperty("$")&&onDependencyChanged("$"),BrutusinForms.postRender&&BrutusinForms.postRender(obj)},obj.getRenderingContainer=function(){return container},obj.validate=function(){return validate(container)},obj.getData=function(){function e(t,r){if(null===s&&(s=SCHEMA_ANY),r.$ref&&(r=getDefinition(r.$ref)),t instanceof Array){if(0===t.length)return null;for(var n=new Array,a=0;a<t.length;a++)n[a]=e(t[a],r.items);return n}if(""===t)return null;if(t instanceof Object){var n=new Object,i=!1;for(var o in t)if(!o.startsWith("$")||!o.endsWith("$")){var s=null;if(r.hasOwnProperty("properties")&&r.properties.hasOwnProperty(o)&&(s=r.properties[o]),null===s&&r.hasOwnProperty("additionalProperties")&&"object"==typeof r.additionalProperties&&(s=r.additionalProperties),null===s&&r.hasOwnProperty("patternProperties"))for(var u in r.patternProperties){var l=RegExp(u);if(-1!==o.search(l)){s=r.patternProperties[u];break}}var d=e(t[o],s);null!==d&&(n[o]=d,i=!0)}return i||r.required?n:null}return t}return container?e(data,schema):null},BrutusinForms.instances[BrutusinForms.instances.length]=obj,obj},brutusin["json-forms"]=BrutusinForms}();

/***/ }),
/* 53 */
/***/ (function(module, exports) {

// removed by extract-text-webpack-plugin

/***/ }),
/* 54 */
/***/ (function(module, exports) {

module.exports = function(module) {
	if(!module.webpackPolyfill) {
		module.deprecate = function() {};
		module.paths = [];
		// module.parent = undefined by default
		if(!module.children) module.children = [];
		Object.defineProperty(module, "loaded", {
			enumerable: true,
			get: function() {
				return module.l;
			}
		});
		Object.defineProperty(module, "id", {
			enumerable: true,
			get: function() {
				return module.i;
			}
		});
		module.webpackPolyfill = 1;
	}
	return module;
};


/***/ }),
/* 55 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
Object.defineProperty(__webpack_exports__, "__esModule", { value: true });
/* harmony export (immutable) */ __webpack_exports__["Headers"] = Headers;
/* harmony export (immutable) */ __webpack_exports__["Request"] = Request;
/* harmony export (immutable) */ __webpack_exports__["Response"] = Response;
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "DOMException", function() { return DOMException; });
/* harmony export (immutable) */ __webpack_exports__["fetch"] = fetch;
var support = {
  searchParams: 'URLSearchParams' in self,
  iterable: 'Symbol' in self && 'iterator' in Symbol,
  blob:
    'FileReader' in self &&
    'Blob' in self &&
    (function() {
      try {
        new Blob()
        return true
      } catch (e) {
        return false
      }
    })(),
  formData: 'FormData' in self,
  arrayBuffer: 'ArrayBuffer' in self
}

function isDataView(obj) {
  return obj && DataView.prototype.isPrototypeOf(obj)
}

if (support.arrayBuffer) {
  var viewClasses = [
    '[object Int8Array]',
    '[object Uint8Array]',
    '[object Uint8ClampedArray]',
    '[object Int16Array]',
    '[object Uint16Array]',
    '[object Int32Array]',
    '[object Uint32Array]',
    '[object Float32Array]',
    '[object Float64Array]'
  ]

  var isArrayBufferView =
    ArrayBuffer.isView ||
    function(obj) {
      return obj && viewClasses.indexOf(Object.prototype.toString.call(obj)) > -1
    }
}

function normalizeName(name) {
  if (typeof name !== 'string') {
    name = String(name)
  }
  if (/[^a-z0-9\-#$%&'*+.^_`|~]/i.test(name)) {
    throw new TypeError('Invalid character in header field name')
  }
  return name.toLowerCase()
}

function normalizeValue(value) {
  if (typeof value !== 'string') {
    value = String(value)
  }
  return value
}

// Build a destructive iterator for the value list
function iteratorFor(items) {
  var iterator = {
    next: function() {
      var value = items.shift()
      return {done: value === undefined, value: value}
    }
  }

  if (support.iterable) {
    iterator[Symbol.iterator] = function() {
      return iterator
    }
  }

  return iterator
}

function Headers(headers) {
  this.map = {}

  if (headers instanceof Headers) {
    headers.forEach(function(value, name) {
      this.append(name, value)
    }, this)
  } else if (Array.isArray(headers)) {
    headers.forEach(function(header) {
      this.append(header[0], header[1])
    }, this)
  } else if (headers) {
    Object.getOwnPropertyNames(headers).forEach(function(name) {
      this.append(name, headers[name])
    }, this)
  }
}

Headers.prototype.append = function(name, value) {
  name = normalizeName(name)
  value = normalizeValue(value)
  var oldValue = this.map[name]
  this.map[name] = oldValue ? oldValue + ', ' + value : value
}

Headers.prototype['delete'] = function(name) {
  delete this.map[normalizeName(name)]
}

Headers.prototype.get = function(name) {
  name = normalizeName(name)
  return this.has(name) ? this.map[name] : null
}

Headers.prototype.has = function(name) {
  return this.map.hasOwnProperty(normalizeName(name))
}

Headers.prototype.set = function(name, value) {
  this.map[normalizeName(name)] = normalizeValue(value)
}

Headers.prototype.forEach = function(callback, thisArg) {
  for (var name in this.map) {
    if (this.map.hasOwnProperty(name)) {
      callback.call(thisArg, this.map[name], name, this)
    }
  }
}

Headers.prototype.keys = function() {
  var items = []
  this.forEach(function(value, name) {
    items.push(name)
  })
  return iteratorFor(items)
}

Headers.prototype.values = function() {
  var items = []
  this.forEach(function(value) {
    items.push(value)
  })
  return iteratorFor(items)
}

Headers.prototype.entries = function() {
  var items = []
  this.forEach(function(value, name) {
    items.push([name, value])
  })
  return iteratorFor(items)
}

if (support.iterable) {
  Headers.prototype[Symbol.iterator] = Headers.prototype.entries
}

function consumed(body) {
  if (body.bodyUsed) {
    return Promise.reject(new TypeError('Already read'))
  }
  body.bodyUsed = true
}

function fileReaderReady(reader) {
  return new Promise(function(resolve, reject) {
    reader.onload = function() {
      resolve(reader.result)
    }
    reader.onerror = function() {
      reject(reader.error)
    }
  })
}

function readBlobAsArrayBuffer(blob) {
  var reader = new FileReader()
  var promise = fileReaderReady(reader)
  reader.readAsArrayBuffer(blob)
  return promise
}

function readBlobAsText(blob) {
  var reader = new FileReader()
  var promise = fileReaderReady(reader)
  reader.readAsText(blob)
  return promise
}

function readArrayBufferAsText(buf) {
  var view = new Uint8Array(buf)
  var chars = new Array(view.length)

  for (var i = 0; i < view.length; i++) {
    chars[i] = String.fromCharCode(view[i])
  }
  return chars.join('')
}

function bufferClone(buf) {
  if (buf.slice) {
    return buf.slice(0)
  } else {
    var view = new Uint8Array(buf.byteLength)
    view.set(new Uint8Array(buf))
    return view.buffer
  }
}

function Body() {
  this.bodyUsed = false

  this._initBody = function(body) {
    this._bodyInit = body
    if (!body) {
      this._bodyText = ''
    } else if (typeof body === 'string') {
      this._bodyText = body
    } else if (support.blob && Blob.prototype.isPrototypeOf(body)) {
      this._bodyBlob = body
    } else if (support.formData && FormData.prototype.isPrototypeOf(body)) {
      this._bodyFormData = body
    } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {
      this._bodyText = body.toString()
    } else if (support.arrayBuffer && support.blob && isDataView(body)) {
      this._bodyArrayBuffer = bufferClone(body.buffer)
      // IE 10-11 can't handle a DataView body.
      this._bodyInit = new Blob([this._bodyArrayBuffer])
    } else if (support.arrayBuffer && (ArrayBuffer.prototype.isPrototypeOf(body) || isArrayBufferView(body))) {
      this._bodyArrayBuffer = bufferClone(body)
    } else {
      this._bodyText = body = Object.prototype.toString.call(body)
    }

    if (!this.headers.get('content-type')) {
      if (typeof body === 'string') {
        this.headers.set('content-type', 'text/plain;charset=UTF-8')
      } else if (this._bodyBlob && this._bodyBlob.type) {
        this.headers.set('content-type', this._bodyBlob.type)
      } else if (support.searchParams && URLSearchParams.prototype.isPrototypeOf(body)) {
        this.headers.set('content-type', 'application/x-www-form-urlencoded;charset=UTF-8')
      }
    }
  }

  if (support.blob) {
    this.blob = function() {
      var rejected = consumed(this)
      if (rejected) {
        return rejected
      }

      if (this._bodyBlob) {
        return Promise.resolve(this._bodyBlob)
      } else if (this._bodyArrayBuffer) {
        return Promise.resolve(new Blob([this._bodyArrayBuffer]))
      } else if (this._bodyFormData) {
        throw new Error('could not read FormData body as blob')
      } else {
        return Promise.resolve(new Blob([this._bodyText]))
      }
    }

    this.arrayBuffer = function() {
      if (this._bodyArrayBuffer) {
        return consumed(this) || Promise.resolve(this._bodyArrayBuffer)
      } else {
        return this.blob().then(readBlobAsArrayBuffer)
      }
    }
  }

  this.text = function() {
    var rejected = consumed(this)
    if (rejected) {
      return rejected
    }

    if (this._bodyBlob) {
      return readBlobAsText(this._bodyBlob)
    } else if (this._bodyArrayBuffer) {
      return Promise.resolve(readArrayBufferAsText(this._bodyArrayBuffer))
    } else if (this._bodyFormData) {
      throw new Error('could not read FormData body as text')
    } else {
      return Promise.resolve(this._bodyText)
    }
  }

  if (support.formData) {
    this.formData = function() {
      return this.text().then(decode)
    }
  }

  this.json = function() {
    return this.text().then(JSON.parse)
  }

  return this
}

// HTTP methods whose capitalization should be normalized
var methods = ['DELETE', 'GET', 'HEAD', 'OPTIONS', 'POST', 'PUT']

function normalizeMethod(method) {
  var upcased = method.toUpperCase()
  return methods.indexOf(upcased) > -1 ? upcased : method
}

function Request(input, options) {
  options = options || {}
  var body = options.body

  if (input instanceof Request) {
    if (input.bodyUsed) {
      throw new TypeError('Already read')
    }
    this.url = input.url
    this.credentials = input.credentials
    if (!options.headers) {
      this.headers = new Headers(input.headers)
    }
    this.method = input.method
    this.mode = input.mode
    this.signal = input.signal
    if (!body && input._bodyInit != null) {
      body = input._bodyInit
      input.bodyUsed = true
    }
  } else {
    this.url = String(input)
  }

  this.credentials = options.credentials || this.credentials || 'same-origin'
  if (options.headers || !this.headers) {
    this.headers = new Headers(options.headers)
  }
  this.method = normalizeMethod(options.method || this.method || 'GET')
  this.mode = options.mode || this.mode || null
  this.signal = options.signal || this.signal
  this.referrer = null

  if ((this.method === 'GET' || this.method === 'HEAD') && body) {
    throw new TypeError('Body not allowed for GET or HEAD requests')
  }
  this._initBody(body)
}

Request.prototype.clone = function() {
  return new Request(this, {body: this._bodyInit})
}

function decode(body) {
  var form = new FormData()
  body
    .trim()
    .split('&')
    .forEach(function(bytes) {
      if (bytes) {
        var split = bytes.split('=')
        var name = split.shift().replace(/\+/g, ' ')
        var value = split.join('=').replace(/\+/g, ' ')
        form.append(decodeURIComponent(name), decodeURIComponent(value))
      }
    })
  return form
}

function parseHeaders(rawHeaders) {
  var headers = new Headers()
  // Replace instances of \r\n and \n followed by at least one space or horizontal tab with a space
  // https://tools.ietf.org/html/rfc7230#section-3.2
  var preProcessedHeaders = rawHeaders.replace(/\r?\n[\t ]+/g, ' ')
  preProcessedHeaders.split(/\r?\n/).forEach(function(line) {
    var parts = line.split(':')
    var key = parts.shift().trim()
    if (key) {
      var value = parts.join(':').trim()
      headers.append(key, value)
    }
  })
  return headers
}

Body.call(Request.prototype)

function Response(bodyInit, options) {
  if (!options) {
    options = {}
  }

  this.type = 'default'
  this.status = options.status === undefined ? 200 : options.status
  this.ok = this.status >= 200 && this.status < 300
  this.statusText = 'statusText' in options ? options.statusText : 'OK'
  this.headers = new Headers(options.headers)
  this.url = options.url || ''
  this._initBody(bodyInit)
}

Body.call(Response.prototype)

Response.prototype.clone = function() {
  return new Response(this._bodyInit, {
    status: this.status,
    statusText: this.statusText,
    headers: new Headers(this.headers),
    url: this.url
  })
}

Response.error = function() {
  var response = new Response(null, {status: 0, statusText: ''})
  response.type = 'error'
  return response
}

var redirectStatuses = [301, 302, 303, 307, 308]

Response.redirect = function(url, status) {
  if (redirectStatuses.indexOf(status) === -1) {
    throw new RangeError('Invalid status code')
  }

  return new Response(null, {status: status, headers: {location: url}})
}

var DOMException = self.DOMException
try {
  new DOMException()
} catch (err) {
  DOMException = function(message, name) {
    this.message = message
    this.name = name
    var error = Error(message)
    this.stack = error.stack
  }
  DOMException.prototype = Object.create(Error.prototype)
  DOMException.prototype.constructor = DOMException
}

function fetch(input, init) {
  return new Promise(function(resolve, reject) {
    var request = new Request(input, init)

    if (request.signal && request.signal.aborted) {
      return reject(new DOMException('Aborted', 'AbortError'))
    }

    var xhr = new XMLHttpRequest()

    function abortXhr() {
      xhr.abort()
    }

    xhr.onload = function() {
      var options = {
        status: xhr.status,
        statusText: xhr.statusText,
        headers: parseHeaders(xhr.getAllResponseHeaders() || '')
      }
      options.url = 'responseURL' in xhr ? xhr.responseURL : options.headers.get('X-Request-URL')
      var body = 'response' in xhr ? xhr.response : xhr.responseText
      resolve(new Response(body, options))
    }

    xhr.onerror = function() {
      reject(new TypeError('Network request failed'))
    }

    xhr.ontimeout = function() {
      reject(new TypeError('Network request failed'))
    }

    xhr.onabort = function() {
      reject(new DOMException('Aborted', 'AbortError'))
    }

    xhr.open(request.method, request.url, true)

    if (request.credentials === 'include') {
      xhr.withCredentials = true
    } else if (request.credentials === 'omit') {
      xhr.withCredentials = false
    }

    if ('responseType' in xhr && support.blob) {
      xhr.responseType = 'blob'
    }

    request.headers.forEach(function(value, name) {
      xhr.setRequestHeader(name, value)
    })

    if (request.signal) {
      request.signal.addEventListener('abort', abortXhr)

      xhr.onreadystatechange = function() {
        // DONE (success or failure)
        if (xhr.readyState === 4) {
          request.signal.removeEventListener('abort', abortXhr)
        }
      }
    }

    xhr.send(typeof request._bodyInit === 'undefined' ? null : request._bodyInit)
  })
}

fetch.polyfill = true

if (!self.fetch) {
  self.fetch = fetch
  self.Headers = Headers
  self.Request = Request
  self.Response = Response
}


/***/ }),
/* 56 */
/***/ (function(module, exports, __webpack_require__) {

module.exports = __webpack_require__(23);


/***/ })
/******/ ]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vd2VicGFjay9ib290c3RyYXAgZWI3OTZmYjBjZjZjYzljMmM4MTUiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbW1vbi9qcy1zZXJ2aWNlcy9jb25zdHMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbW1vbi9qcy1zZXJ2aWNlcy92aWV3LmpzIiwid2VicGFjazovLy8uL3NyYy9jb21tb24vanMtc2VydmljZXMvYXBpLXRhc2stbWFuYWdlci5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tbW9uL2pzLXNlcnZpY2VzL3VzZXIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbW1vbi9qcy1zZXJ2aWNlcy9jb29raWUuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Jsb2Nrcy9fc2hhcmVkL3Rhc2stc3RhdHVzL3Rhc2stc3RhdHVzLmpzIiwid2VicGFjazovLy8uL3NyYy9ibG9ja3Mvd2l6YXJkLWZvcm0vd2l6YXJkLWZvcm0uanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Jsb2Nrcy9fc2hhcmVkL2ltYWdlLXVwbG9hZC9pbWFnZS11cGxvYWQuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Jsb2Nrcy9fc2hhcmVkL2xvZ3MvbG9ncy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYmxvY2tzL19zaGFyZWQvdGVicy1waWxzL3RhYnMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Jsb2Nrcy9fc2hhcmVkL3RhZ3MtaW5wdXQvdGFncy1pbnB1dC5qcyIsIndlYnBhY2s6Ly8vLi9+L3B1YnN1Yi1qcy9zcmMvcHVic3ViLmpzIiwid2VicGFjazovLy8uL3NyYy9ibG9ja3MvX3NoYXJlZC9nZXRQb3N0c01vZGFsL3V0aWxzLW1vZGFsLmpzIiwid2VicGFjazovLy8uL3NyYy9ibG9ja3MvX3NoYXJlZC9sb2dzL2xvZ3MtdGFicy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYmxvY2tzL2ZvbGxvdy9mb2xsb3ctcmVhZC1maWxlLXR4dC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tbW9uL2pzLXNlcnZpY2VzL2Vtb2ppLmpzIiwid2VicGFjazovLy8uL3NyYy9jb21tb24vanMtc2VydmljZXMvbmV0d29yay5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvY29tbW9uL2pzLXNlcnZpY2VzL3NwaW5uZXIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Jsb2Nrcy9fc2hhcmVkL2Ryb3Bkb3duL2Ryb3Bkb3duLmpzIiwid2VicGFjazovLy8uL3NyYy9ibG9ja3MvX3NoYXJlZC90YXNrLXN0YXR1cy90YXNrLXN0YXR1cy1ieS1zdWJ0eXBlLmpzIiwid2VicGFjazovLy8uL3NyYy9ibG9ja3MvaW5zdGFncmFtLWFjY291bnRzLWxpc3QvaW5zdGFncmFtLWFjY291bnRzLWxpc3QuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2NvbW1vbi9qcy1zZXJ2aWNlcy9hcGktdXNlci1kaXJlY3QuanMiLCJ3ZWJwYWNrOi8vLy4vfi9lbW9qaW9uZUFyZWEvZGlzdC9lbW9qaW9uZWFyZWEuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Jvb3RzdHJhcC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYmxvY2tzL2F1dG9jb21tZW50cy9hZGRBbnN3ZXJUZW1wbGF0ZS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYmxvY2tzL2F1dG9jb21tZW50cy9hdXRvY29tbWVudHMtaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Jsb2Nrcy9hdXRvY29tbWVudHMvYXV0b2NvbW1lbnRzLXN0YXR1cy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYmxvY2tzL2F1dG9ncmVldGluZy9hZGRHcmVldFRlbXBsYXRlLmpzIiwid2VicGFjazovLy8uL3NyYy9ibG9ja3MvYXV0b2dyZWV0aW5nL2F1dG9ncmVldGluZy1tYWluLmpzIiwid2VicGFjazovLy8uL3NyYy9ibG9ja3MvYXV0b2dyZWV0aW5nL2F1dG9ncmVldGluZy1zdGF0dXMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Jsb2Nrcy9hdXRvbWVzc2FnZXMvYWRkQW5zd2VyVGVtcGxhdGUuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Jsb2Nrcy9hdXRvbWVzc2FnZXMvYXV0b21lc3NhZ2VzLWluZGV4LmpzIiwid2VicGFjazovLy8uL3NyYy9ibG9ja3MvYXV0b21lc3NhZ2VzL2F1dG9tZXNzYWdlcy1zdGF0dXMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Jsb2Nrcy9jaGF0LWJvdC9jaGF0LWJvdC1pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYmxvY2tzL2NoYXQtYm90L2NoYXQtYm90LXN0YXR1cy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYmxvY2tzL2NvbmZpcm0tcmVnL2NvbmZpcm0tcmVnLmpzIiwid2VicGFjazovLy8uL3NyYy9ibG9ja3MvZm9sbG93L2ZvbGxvdy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYmxvY2tzL2hlYWRlci9idXJnZXItbWVudS9idXJnZXItbWVudS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYmxvY2tzL2hlYWRlci9oZWFkZXIuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Jsb2Nrcy9pbnN0YWdyYW0tYWNjb3VudHMtbGlzdC9hY2NvdW50cy1saXN0LWJ0bi1zZXR0aW5ncy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYmxvY2tzL2xvZ2luLWZvcm0vbG9naW4tZm9ybS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYmxvY2tzL21lc3NhZ2VzL21lc3NhZ2VzLmpzIiwid2VicGFjazovLy8uL3NyYy9ibG9ja3MvbWVzc2FnZXMvcmVxdWVzdHMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Jsb2Nrcy9tZXNzYWdlcy91dGlscy5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYmxvY2tzL3JlZ2lzdGVyLWZvcm0vcmVnaXN0ZXItZm9ybS5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYmxvY2tzL3NpZGViYXItbWVudS9zaWRlYmFyLW1lbnUuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Jsb2Nrcy9zdG9yaWVzL3N0b3JpZXMtaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Jsb2Nrcy9zdG9yaWVzL3N0b3JpZXMtc3RhdHVzLmpzIiwid2VicGFjazovLy8uL3NyYy9ibG9ja3MvdW5mb2xsb3cvdW5mb2xsb3ctaW5kZXguanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Jsb2Nrcy91bmZvbGxvdy91bmZvbGxvdy1zdGF0dXMuanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL3BhZ2VzL19hdXRoL2xvZ2luLXBhZ2UuanMiLCJ3ZWJwYWNrOi8vLy4vfi9ib290c3RyYXAtdGFnc2lucHV0L2Rpc3QvYm9vdHN0cmFwLXRhZ3NpbnB1dC5taW4uanMiLCJ3ZWJwYWNrOi8vLy4vfi9icnV0dXNpbi1qc29uLWZvcm1zL2Rpc3QvanMvYnJ1dHVzaW4tanNvbi1mb3Jtcy5taW4uanMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2Jhc2Uuc2NzcyIsIndlYnBhY2s6Ly8vKHdlYnBhY2spL2J1aWxkaW4vbW9kdWxlLmpzIiwid2VicGFjazovLy8uL34vd2hhdHdnLWZldGNoL2ZldGNoLmpzIl0sIm5hbWVzIjpbIkNPTlNUIiwidXJsIiwidG1UeXBlcyIsImZvbGxvd2luZ1QiLCJmb2xsb3dpbmdTdWJUIiwidW5mb2xsb3dpbmdUIiwidW5mb2xsb3dpbmdTdWJUIiwiY2hhdEJvdFQiLCJjaGF0Qm90U3ViVCIsImF1dG9tZXNzYWdlc1QiLCJhdXRvbWVzc2FnZXNTdWJUIiwiYXV0b2dyZWV0VCIsImF1dG9ncmVldFN1YlQiLCJzdG9yaWVzVCIsInN0b3JpZXNTdWJUIiwiYXV0b2NvbW1lbnRzVCIsImF1dG9jb21tZW50c1N1YlQiLCJiYXNlIiwicmVnaXN0cmF0aW9uIiwibG9naW4iLCJjb25maXJtYXRpb24iLCJpbnN0YWdyYW1fYWRkQWNjb3VudCIsImluc3RhZ3JhbUFjY291bnRfZ2V0TWV0YURhdGEiLCJpbnN0YWdyYW1fZ2V0QWNjb3VudEJ5VXNlciIsInVzZXJuYW1lIiwiaW5zdGFncmFtX21vZGlmeUFjY291bnQiLCJpbnN0YWdyYW1UYXNrTWFuYWdlcl9nZXRQb3N0cyIsImFjY291bnROYW1lIiwiaW5zdGFncmFtQWNjb3VudF9jaGVja3BvaW50IiwiaW5zdGFncmFtQWNjb3VudF9jb25maXJtS2V5IiwiaW5zdGFncmFtRGlyZWN0X0Jhc2ljIiwiaW5zdGFncmFtRGlyZWN0X3Bvc3RNZXNzYWdlIiwiaW5zdGFncmFtRGlyZWN0X2dldE1ldGFEYXRhIiwiaW5zdGFncmFtRGlyZWN0X1JlcXVlc3RQZW5kaW5nIiwiaW5zdGFncmFtVGFza01hbmFnZXIiLCJpbnN0YWdyYW1UYXNrTWFuYWdlcl9nZXRNZXRhRGF0YSIsImluc3RhZ3JhbVRhc2tNYW5hZ2VyX2dldFRhc2tCeVR5cGVzIiwiaW5zdGFncmFtVGFza01hbmFnZXJfZ2V0RGVmYXVsdENvbmZpZ3MiLCJpbnN0YWdyYW1UYXNrTWFuYWdlcl9wb3N0U3RhcnRGb2xsb3dpbmdMaXN0IiwiaW5zdGFncmFtVGFza01hbmFnZXJfcG9zdFN0YXJ0VGFzayIsImluc3RhZ3JhbVRhc2tNYW5hZ2VyX2dldFRhc2tUeXBlcyIsImluc3RhZ3JhbVRhc2tNYW5hZ2VyX3B1dFN0b3BUYXNrQnlJRCIsImlkIiwiaW5zdGFncmFtVGFza01hbmFnZXJfZGVsUmVtb3ZlVGFza0J5SUQiLCJpbnN0YWdyYW1UYXNrTWFuYWdlcl9wb3N0SW1hZ2VBdHRhY2htZW50IiwiaW5zdGFncmFtVGFza01hbmFnZXJfcG9zdFRleHRBdHRhY2htZW50IiwiaW5zdGFncmFtVGFza01hbmFnZXJfZ2V0TG9nc0NoYXRCb3QiLCJ1c2VyIiwiZGVmYXVsQXZhdGFyIiwiZW1haWwiLCJwYXNzd29yZCIsInRva2VuIiwiY29va2llU3RvcmFnZSIsImVtYWlsQ29uZmlybWVkIiwidWlTZWxlY3RvcnMiLCJoZWFkZXJMb2dpbkJveCIsImhlYWRlck5hdkxvZ2luQnRuIiwiaGVhZGVyUmVnQm94IiwiaGVhZGVyUmVnQnRuIiwiaW5zdGFncmFtIiwiYWRkQWNjb3VudEJ0blNlbGVjdG9yIiwiYWRkQWNjb3VudEJ0bklkIiwiZXZlbnRzIiwiVVNFUl9MT0dHRUQiLCJVU0VSX0xPR09VVCIsIlVTRVJfRU1BSUxfQ09ORklSTUVEIiwiU1RPUF9GSVhFRF9TUElOTkVSIiwibWVzc2FnZXMiLCJSRUNJRVZFX05FV19NRVNTQUdFIiwiaW5zdGFncmFtQWNjb3VucyIsIklOU1RBR1JBTV9BQ0NPVU5TX05FRURfUkVGUkVTSCIsIklOU1RBR1JBTV9BQ0NPVU5TX1JFTkRFUkVEIiwiSU5TVEFHUkFNX0FDQ09VTlNfUkVOREVSRURfTEFaWSIsIm1vZGFsIiwiSU1BR0VfUE9TVF9TRUxFQ1RFRCIsIklNQUdFX1VQTE9BREVEX0FWQVRBUiIsImF1dG9hcm5zd2VyIiwiSU1BR0VfVVBMT0FERUQiLCJURVhUX0ZJTEVfVVBMT0FERUQiLCJ0YXNrcyIsIk5FV19UQVNLX0NSRUFURUQiLCJsb2dzIiwiU1RPUF9MT0dTIiwibG9nc1N0YXRlIiwic2VsZWN0Q2xzIiwic2VsZWN0Q2xzTG9nc1Rhc2tUeXBlIiwid3JhcHBlclN1YnR5cGUiLCJnZXRQYXRoIiwibmFtZSIsImdldFBhdGhUeXBlU3VidHlwZSIsInBhdGgiLCJwYWdlIiwidHlwZSIsInN1YnR5cGUiLCJnZXRQYXRoQnlBcnIiLCJhcnJheSIsInJlZHVjZXIiLCJhY2N1bXVsYXRvciIsImN1cnJlbnRWYWx1ZSIsInJlZHVjZSIsInZpZXdVdGlscyIsInNob3dJbmZvTWVzc2FnZSIsInNlbGVjdG9yIiwibWVzc2FnZTEiLCJtZXNzYWdlMiIsIiQiLCJlbXB0eSIsImFwcGVuZCIsImZpbGxMaXN0IiwiJGxpc3QiLCJkYXRhQXJyYXkiLCJpdGVtcyIsImNMaXN0IiwiZm9yRWFjaCIsIml0ZW0iLCJpIiwibGkiLCJhcHBlbmRUbyIsImFkZENsYXNzIiwidGV4dCIsImlzRW1haWwiLCJyZWdleCIsInRlc3QiLCJnZXRGb3JtYXR0ZWREYXRlVXRpbCIsInRTdGFtcCIsInNob3dGdWxsVGltZSIsImRhdGUiLCJEYXRlIiwibW9udGgiLCJnZXRNb250aCIsImRheSIsImdldERhdGUiLCJob3VyIiwiZ2V0SG91cnMiLCJtaW4iLCJnZXRNaW51dGVzIiwic3RyIiwiZ2V0RnVsbFllYXIiLCJpc0VtcHR5Iiwib2JqIiwiT2JqZWN0Iiwia2V5cyIsImxlbmd0aCIsImZpbGxSYWRpb0dyb3VwTGlzdCIsIiR3cmFwcGVyIiwidGFza01vZGVzIiwiX2FjdGlvblRleHQiLCJjb25zb2xlIiwiaW5mbyIsImFjdGlvblRleHQiLCJyYWRpb0J0blJlZHVjZXIiLCJ2YWwiLCJsb2ciLCJwcm90b3R5cGUiLCJoYXNPd25Qcm9wZXJ0eSIsImNhbGwiLCJnZXRWYWxCeUNvbW1hU2VwYXJhdG9yIiwiJGVsIiwidHJpbSIsInNwbGl0IiwibWFwIiwicmVwbGFjZSIsImZpbHRlciIsImFkZERyb3Bkb3duIiwiY2ZnIiwidGV4dFJ1c0FycmF5IiwibGFiZWwiLCJnZXRSdXMiLCJpZHgiLCJpc1RleHRVbmZvbGxvdyIsImlzUmVuZGVyRW1wdHlPcHRpb24iLCJkcm9wZG93bk9uU2VsZWN0Q2IiLCJvbiIsIm9ialRvQXJyIiwiaW5jbHVkZXMiLCJ2YWx1ZXMiLCJVc2VyVGFza01hbmFnZXIiLCJuZXR3b3JrIiwic2V0dGluZ1Bvc3QiLCJtZXRob2QiLCJoZWFkZXJzIiwicG9zdFN0YXJ0Rm9sbG93aW5nTGlzdCIsInBvc3RTdGFydFRhc2siLCJhc0hlYWRlciIsImNvb2tpZVRva2VuIiwiZ2V0IiwiY2JFcnJvciIsInBhdGhBcnIiLCJzZW5kUmVxdWVzdCIsImdldFRva2VuIiwicHVzaCIsImRldGFpbHMiLCJ0YXNrSWQiLCJzZXR0aW5nIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJwYXRoQXJyYXkiLCJjdXJzb3IiLCJ1cmxCeVVzZXJOYW1lIiwidXNlck5hbWUiLCJ1c2VySW5zdGFuY2UiLCJVc2VyIiwiZm9ybURhdGEiLCJpcCIsInBvcnQiLCJ1c2VybmFtZVByb3h5IiwicGFzc3dvcmRQcm94eSIsInByb3h5VE1QIiwiY2hlY2twb2ludFR5cGUiLCJrZXkiLCJDb29raWVTcnYiLCJjIiwiZG9jdW1lbnQiLCJjb29raWUiLCJtYXRjaCIsImRlY29kZVVSSUNvbXBvbmVudCIsInNldCIsInZhbHVlIiwib3B0cyIsImRheXMiLCJlbnRyaWVzIiwiayIsInYiLCJlbmNvZGVVUklDb21wb25lbnQiLCJyZW1vdmUiLCJnZXRUYXNrc0RhdGEiLCJpbml0IiwibW9kZVJ1cyIsIm1vZGUiLCJmaWxsTGlzdEJ5U3RhdGUiLCJ0YXNrU3RhdGUiLCJwcm9ncmVzcyIsImNyZWF0ZWRfYXQiLCJ0YXNrX2lkIiwic3RhdHVzIiwiYWRkSXRlbSIsInRwbFN0b3AiLCJ0cGxQYXVzZWQiLCJ0aW1lc3RhbXAiLCJ0cGxQcm9ncmVzcyIsInNlc3Npb25TdG9yYWdlIiwiZ2V0SXRlbSIsInJlYXNvbiIsInRwbEZpbmlzaGVkIiwiZmlsbExpc3RNZXRhIiwic3RhdGUiLCJpbml0SGFuZGxlcnMiLCJob2xkZXJzIiwiX3BhdGgiLCIkYnRuU3RvcFRhc2siLCIkYnRuRGVsVGFzayIsImdldFRhc2tJRCIsImUiLCJidG4iLCJ0YXJnZXQiLCJjbG9zZXN0IiwiZGF0YSIsInN0b3BUYXNrQnlJRCIsInRoZW4iLCJyZXN1bHQiLCJkZWxldGVUYXNrQnlJRCIsIiRhbGwiLCJnZXRNZXRhZGF0YSIsIm1ldGEiLCIkcnVucyIsIiRzdG9wcGVkIiwid2luZG93IiwiUHViU3ViIiwic3Vic2NyaWJlIiwiZXZlbnROYW1lIiwid2l6YXJkRm9ybVNlbGVjdG9yIiwiaW5pdFN0ZXBzIiwiZm9ybVNlbGVjdG9yIiwid2l6YXJkQ2ZnIiwiJGZvcm0iLCJzdGVwUmVkdWNlciIsIm9uU3VibWl0SGFuZGxlciIsInJlbW92ZUNsYXNzIiwiZmluZCIsImZhZGVJbiIsInBhcmVudF9maWVsZHNldCIsInBhcmVudHMiLCJuZXh0X3N0ZXAiLCJyYWRpb0J0bkFjdGl2ZSIsImluZGV4IiwiZWFjaCIsImZhZGVPdXQiLCJuZXh0IiwicHJldiIsInByZXZlbnREZWZhdWx0Iiwic3RvcFByb3BhZ2F0aW9uIiwiY3NzIiwiaGlkZSIsInNob3ciLCJtb2RpZnlBY2NMaXN0IiwicmFkaW9CdG5BcHBlbmQiLCJyYWRpb0J0bldyYXAiLCIkYWNjb3VudHNMaXN0IiwiJGxpIiwiY3VyckxpIiwid3JhcElubmVyIiwiJHBhcmVudEZpZWxkc2V0IiwicHJvcCIsIk1BWF9JTUdfRklMRV9TSVpFX0JZVEUiLCJmaWxlVXBsb2FkQm94IiwiZmlsZVVwbG9hZENvbnRlbnQiLCJyZW1vdmVVcGxvYWQiLCIkdXBsb2FkQ29udGFpbmVyIiwiaW5wdXQiLCJyZXBsYWNlV2l0aCIsImNsb25lIiwiJGltZ1VwbG9hZFdyYXAiLCJiaW5kIiwiZXJyb3JIYW5kbGVyIiwiZXZ0IiwicmVhZGVyIiwiZXJyb3IiLCJjb2RlIiwiTk9UX0ZPVU5EX0VSUiIsIk5PVF9SRUFEQUJMRV9FUlIiLCJBQk9SVF9FUlIiLCJ1cGRhdGVQcm9ncmVzcyIsImxlbmd0aENvbXB1dGFibGUiLCJwZXJjZW50TG9hZGVkIiwiTWF0aCIsInJvdW5kIiwibG9hZGVkIiwidG90YWwiLCJpc0ZpbGVUeXBlT2siLCJhY2NlcHRlZEZpbGUiLCJpc0ltZ1NpemVPayIsImltZ1NpemUiLCJzaXplIiwiaGFuZGxlU3VibWl0IiwicmVwbGFjZVdpdGhDZmciLCJmaWxlcyIsIkZvcm1EYXRhIiwicmVxdWVzdCIsIlhNTEh0dHBSZXF1ZXN0Iiwib3BlbiIsInNldFJlcXVlc3RIZWFkZXIiLCJzZW5kIiwiYWRkRXZlbnRMaXN0ZW5lciIsInJlYWR5U3RhdGUiLCJyZXNwb25zZVRleHQiLCJwdWJsaXNoIiwicmVzcG9uc2UiLCJyZWFkVVJMIiwiaGFuZGxlU3VibWl0Q2IiLCJob2xkZXJDbHMiLCJob2xkZXIiLCIkY29udGFpbmVyIiwiRmlsZVJlYWRlciIsInNldFRpbWVvdXQiLCJvbmxvYWQiLCJhdHRyIiwiaHRtbCIsImltYWdlQ2xzIiwib25lcnJvciIsIm9ucHJvZ3Jlc3MiLCJyZWFkQXNEYXRhVVJMIiwidXBsb2FkQnRuQ2xzIiwiJHVwbG9hZEJ0biIsIiR1cGxvYWRJbnB1dCIsIiRyZW1vdmVJbWdCdG4iLCJvZmYiLCJ0b1BhcmVudENscyIsInRyaWdnZXIiLCJyZW1vdmVBdHRyIiwiY2xzQ29uc3QiLCJjdXJyZW50UGFnZUNscyIsInRhc2tzTGlzdCIsImxvZ3NUYWJCdG4iLCJwYWdpbmF0aW9uIiwicGFnaW5hdGlvblBnTnVtYmVyIiwiZ2V0VXNlcm5hbWUiLCJjdXJyZW50UGFnZSIsImludGVydmFsSWQiLCJpbml0SGFuZGxlclBhZ2luYXRpb24iLCIkcHJldmlvdXMiLCIkbmV4dCIsInNldHRpbmdzIiwiJGxpQWN0aXZlIiwicHJldmlvdXMiLCJnZXRMb2dzRGF0YSIsImN1cnJlbnRBY3RpdmVJZHgiLCJoYXNDbGFzcyIsInBhcnNlSW50IiwiYWRkUGFnaW5hdGlvbiIsInRwbFByZXZpb3VzIiwidHBsTmV4dCIsImNsZWFyUGFnaW5hdGlvbiIsInBhZ2VzIiwiY3VycmVudCIsImlzUnVucyIsIiR3cmFwcGVyUGFnaW5hdGlvbiIsImxldmVsIiwidGFiU3RvcFJlcUhhbmRsZXIiLCIkYWxsQXNpZGVUYWJzIiwidGFiIiwiY2xlYXJJbnRlcnZhbCIsImdldExvZ3NDaGF0Qm90IiwidXBkYXRlSW50ZXJ2YWwiLCJpbnZva2VfaW5fbWlsbGlzIiwic2V0SW50ZXJ2YWwiLCJwcmVDb25maWciLCJwYXRoVHlwZSIsInBhdGhTdWJUeXBlIiwiX3NlbGVjdENscyIsImZpbGxEcm9wZG93blVzZXJzQ2ZnIiwiZmlsbERyb3Bkb3duVXNlcnMiLCJhY2NvdW50cyIsIk9uQ2hhbmdlU2VsZWN0Q2IiLCJnZXRNZXRhTGF6eSIsImdldE1ldGFkYXRhTGF6eSIsInJlcyIsInRhYkhhbmRsZXIiLCJpc0NvbXB1dGVNdWx0eURyb3Bkb3duIiwiT25DaGFuZ2VTZWxlY3QiLCJhc3NpZ24iLCJuZXh0QnRudmFsaWRhdGVDb21wZXRpdG9yc0hhbmRsZXIiLCJpbml0VGFnc0lucHV0IiwidGFnc2lucHV0U2VsZWN0b3IiLCIkaW5wdXQiLCJuZXh0U3RlcEJ0biIsImlncm9yZVJlZ2V4Q2hlY2siLCJlbmdsaXNoQ2hhcnMiLCJjaGVja1RleHRBcmVhIiwiaXNJbml0IiwiaW5wdXR2YWx1ZSIsImlzUmVtb3ZlZCIsInRleHRPblJlbW92ZSIsInJlbW92ZUJvcmRlciIsImFkZEJvcmRlciIsImlzQWRkZWRUZXh0VmFsaWQiLCJpc1JlbW92ZWRUZXh0VmFsaWQiLCIkZWxJbnB1dCIsInRhZ3NpbnB1dCIsImZpbGxQb3N0cyIsImdldFBvc3RzIiwiaXNBcHBlbmRUb0xpc3QiLCJhZGRUb0xpc3QiLCJpc0FwcGVuZFByZXZNc2ciLCJpbnNlcnRBZnRlciIsInRwbCIsIm1vZGFsRm9vdGVyIiwiaGlkZVBhZ2luYXRpb24iLCJpbWFnZVNlbGVjdEhhbmRsZXIiLCJ0YXJnZXRCdXR0b24iLCJpbWFnZUJveENscyIsImltYWdlRGVsQnRuQ2xzIiwiaW1hZ2VCb3hTZWxlY3RvciIsIiRidG5MaSIsInBvc3RJZCIsInBvc3RUeXBlIiwiY2xvc2VzdENvbCIsInRwbEltYWdlQm94IiwicHJlcGVuZCIsImN1cnJlbnRJbWFnZUJveCIsImxvYWRNb3JlSGFuZGxlciIsImdldFBvc3RzQXV0b21lc3NhZ2VzIiwicG9zdHMiLCJwb3BvdmVyIiwiY29udGFpbmVyIiwiY29udGVudCIsInBsYWNlbWVudCIsImluaXRMb2dzVGFiIiwidGFicyIsIm1vdmVJbk9uZVJvdyIsInVzZXJMaXN0Qm94Iiwic3ViVHlwZUJveCIsImxvZ3NTdWJ0eXBlcyIsInNldFVzZXJOYW1lQ2IiLCJ1c2VybmFtZVNlbGVjdGVkIiwiaGFuZGxlTG9nc0Ryb3Bkb3ducyIsImF0dGFjaFR4dEZpbGVIYW5kbGVyIiwiRklMRV9UWVBFIiwiYWRkIiwiX2ZpbGVVcGxvYWRCb3giLCJvblN1Y2Nlc3NGaWxlVXBsb2FkQ2IiLCJjaGFuZ2UiLCJwYXJzZSIsImltYWdlSWQiLCJsaXN0X2lkIiwiZWwiLCJuZXh0U3RlcCIsImVtb2ppIiwiZW1vamlvbmVBcmVhIiwicGlja2VyUG9zaXRpb24iLCJ0b25lc1N0eWxlIiwiZmlsdGVyc1Bvc2l0aW9uIiwic2VhcmNoIiwia2V5dXAiLCJlZGl0b3IiLCJldmVudCIsImdldFRleHQiLCJOZXR3b3JrIiwibWVzc2FnZSIsIkVycm9yIiwic3RhdHVzVGV4dCIsIlVSTCIsIk9QVFMiLCJmZXRjaCIsIlByb21pc2UiLCJhbGwiLCJqc29uIiwib2siLCJjYkVycm9yRGVmYXVsdCIsImNoZWNrU3RhdHVzIiwiY2xhc3NlcyIsImlubGluZSIsIm92ZXJsYXkiLCJmaXhlZCIsImJ1dHRvbiIsIlNwaW5uZXIiLCJfY2ZnIiwic3RhcnRCdXR0b25TcGlubmVyIiwibmV3Q2xzIiwic3RvcEJ1dHRvblNwaW5uZXIiLCJleHRlbmQiLCJwcmV3Q2xzIiwidG9nZ2xlQ2xhc3MiLCJzcGlubmVySW5zdGFuY2UiLCJkcm9wRG93biIsImlzVGV4dFJ1c0FycmF5Iiwid3JhcHBlcnMiLCJsb2dzU3RhdGVTdGF0dXMiLCJwYXRoVXBkYXRlZCIsImlzSW5Db3JyZWN0UGFnZSIsImluaXRpYWxQYXRoIiwic3VidHlwZXMiLCJJbnN0YWdyYW1BY2NQYWdlQ2xzIiwiaXNJbnN0YWdyYW1BY2NQYWdlIiwiJG1zZ0xpc3QiLCJJTlNUQUdSQU1fQUNDT1VOVFNfSFJFRiIsImFkZExpc3RIYW5kbGVyIiwiJGJ1dHRvbiIsInNlbmRUbyIsImdldFNlY3VyaXR5S2V5IiwiJG1vZGFsIiwiJGtleUlucHV0IiwiY29uZmlybVNlY3VyaXR5S2V5IiwiY2F0Y2giLCJlcnIiLCJsZW4iLCJtaW5MZW4iLCJOdW1iZXIiLCJvbkhpZGVNb2RhbCIsInR5cGVTZWxlY3RlZCIsImNoZWNrcG9pbnRUeXBlQWN0aXZlIiwibW9kYWxDb25maWciLCJfY29uZmlnIiwiaW5zZXJ0SXRlbSIsImNzc0NscyIsImxpVHBsIiwic3RhdHMiLCJjaGVja1BvaW50VGV4dCIsImNoZWNrcG9pbnQiLCJhZGRTZXR0aW5nQnRuIiwiYWNjb3VudCIsImJpb2dyYXBoeSIsInByb2ZpbGVfcGljX3VybCIsImZvbGxvd2VyX2NvdW50IiwiZm9sbG93aW5nX2NvdW50IiwibWVkaWFfY291bnQiLCJpc19idXNpbmVzcyIsImlzX3ByaXZhdGUiLCJsb2NhdGlvbiIsImhyZWYiLCJyZW5kZXJJdGVtIiwiX2RlZmF1bHRBdmF0YXJTcmMiLCJkZWZhdWx0QXZhdGFyU3JjIiwiY2hlY2tSZXNwb25zZSIsImVyck1lc3NhZ2VGcm9udCIsInJlbG9hZExpc3QiLCJkZWxldGVCdG5DbHMiLCJ1cGRhdGVCdG5DbHMiLCJlZGl0QnRuQ2xzIiwiYWRkSW5zdGFncmFtQWNjb3VudCIsIm5ld0Zvcm1EYXRhIiwiYWRkT25Mb2FkSGFuZGxlcnMiLCIkbW9kYWxCb2R5IiwiZm9ybSIsImNzc1ZhbGlkYXRpb25DbGFzcyIsImlzVmFsaWRJcHY0QWRkciIsImlzVmFsaWRQb3J0IiwiY2hlY2tWYWxpZGl0eSIsInJlcG9ydFZhbGlkaXR5IiwibWV0YWRhdGEiLCJhdmF0YXIiLCJzZXRJdGVtIiwiVXNlckNvbnZlcnNhdGlvbiIsImNvbnZlcnNhdGlvbklkIiwiY29uZmlybVVzZXJEYXRhIiwiaGVhZGVyIiwic2lkZWJhck1lbnUiLCJidXJnZXJNZW51IiwiaW5zdGFncmFtQWNjb3VudHMiLCJmb2xsb3ciLCJ1bmZvbGxvdyIsImF1dG9tZXNzYWdlcyIsImNoYXRCb3QiLCJhdXRvZ3JlZXRpbmciLCJhdXRvY29tbWVudHMiLCJzdG9yaWVzIiwic2V0UHViU3ViIiwiaW5pdFRvb2x0aXAiLCJ0b29sdGlwIiwiX2xvZ2luQm94IiwiX2Zvcm1JZCIsIl9idXR0b25TdWJtaXRJZCIsIl9zaG93TG9naW5Cb3hCdG5JZCIsImlzTG9naW5JbnN0YWdyYW0iLCJpbml0SGVhZGVyIiwiaW5pdE1lbnUiLCJ0cGxUZXh0RmllbGQiLCJtYWluQ2xzIiwid2l6YXJkRm9ybSIsImF1dG9jb21tZW50c1N0YXR1cyIsImltYWdlVXBsb2FkIiwiZWxTZWxlY3RvciIsImZpZWxkcyIsImtleVdvcmQiLCJhbnN3ZXIiLCJhZGRQb3N0QnRucyIsImluaXRFbW9qaWkiLCJzdHlsZXMiLCJvbGQiLCJuZXciLCJ2YWxpZGF0ZUlzRW1wdHkiLCIkZWxlbWVudHMiLCJyZXFCb2R5IiwidmFsaWRhdGlvbiIsIiRlbGVtZW50c0tleVdvcmQiLCIkZWxlbWVudHNBbnN3ZXIiLCIkaW1hZ2VQb3N0Qm94IiwicG9zdEl0ZW1JZCIsInBvc3RJdGVtVHlwZSIsImJsYWNrbGlzdFdvcmRzIiwiYmxhY2tsaXN0V29yZHNBcnIiLCJzdWJtaXRCb2R5SXRlbSIsImJsYWNrbGlzdCIsInVuZGVmaW5lZCIsImF0dGFjaG1lbnQiLCJwb3N0IiwiblJlcUJvZHkiLCJtc2ciLCJyZW1vdmVFeHRyYVRleHRGaWVsZHMiLCIkYnRuIiwiaW5pdE1vZGFsSGFuZGxlciIsIiRjb21wZXRpdG9yc0lucHV0IiwiJGJsYWNrTGlzdElucHV0IiwibGFzdFRleHRGaWVsZCIsImxhc3QiLCJzdWJzdHIiLCJsYXN0VGV4dEZpZWxkQWZ0ZXJJbnNlcnQiLCIkaW5wdXRBbnN3ZXJXb3JkcyIsInNldFVzZXJOYW1lIiwic3RlcE51bWJlciIsInRwbFRleHRGaWVsZEdyZWV0IiwiY2hhdEJvdFN0YXR1cyIsInNwZWVkVHlwZSIsInVzZXJfZGVmYXVsdF9jb25maWciLCJ0YXNrX21vZGUiLCJnZXRBdHRhY2htZW50IiwiYXR0YWNobWVudEltZyIsImdldERhdGFTdGVwU3BlZWQiLCJmaWxsU3BlZWRMaXN0IiwidGFza19tb2RlcyIsImdldERlZmF1bHRDb25maWdzIiwiZm91bmQiLCJ0b1VwcGVyQ2FzZSIsImltYWdlX2lkIiwiJGltYWdlQm94IiwiYXV0b21lc3NhZ2VzU3RhdHVzIiwiY2hhdEJvdExvZ3MiLCJrZXlXb3JkcyIsImZpbGxMaXN0VXNlcnMiLCJjb25maXJtYXRpb25XaXRoUmVkaXJlY3QiLCJwYXJzZVF1ZXJ5U3RyaW5nIiwib2JqVVJMIiwiUmVnRXhwIiwiJDAiLCIkMSIsIiQyIiwicGFyYW1zIiwic2VuZENvbmZpcm0iLCJjb25maXJtIiwiY3VzdG9tZXJzRGF0YVN0cmluZyIsInJlZGlyZWN0IiwicGF0aG5hbWUiLCJpbmRleE9mIiwiZm9sbG93U3RhdHVzQnlTdWJ0eXBlIiwiY291bnQiLCJwZXJjZW50IiwiZ2V0RGF0YVN0ZXAyIiwidG9nZ2xlQWRkVGV4dEJ0biIsInNldENvbXBldGl0b3JzIiwiY29tcGV0aXRvcnMiLCIkY29tcGV0aXRvcnNUZXh0QXJlYSIsInBhcmVudCIsImNyaXRlcmlhIiwibGltaXQiLCJmb3JtcyIsImhhdmVfcG9zdHMiLCJmcm9tIiwidG8iLCJoYXZlX2ZvbGxvd2VycyIsImhhdmVfZm9sbG93aW5ncyIsImZvY3VzIiwiX3VzZXJuYW1lU2VsZWN0ZWQiLCJzZWxlY3RvcnNFbCIsImxlZnRNZW51IiwiaGFtYnVyZ2VyQnV0dG9uQ2xzIiwiaGFtYnVyZ2VyTWVudUNscyIsImhhbWJ1cmdlck1lbnVPcGVuZWRDbGFzcyIsImhhbWJ1cmdlckJ1dHRvbkNsb3NlQ2xhc3MiLCJyaWdodE1lbnUiLCJzdWJIZWFkZXIiLCJ0b2dnbGVIYW1idXJnZXJNZW51IiwibWVudU5hbWUiLCJzZWxlY3RvckxvZ2luU3RhdGUiLCJzZWxlY3RvckVtYWlsQ29uZmlybVN0YXRlIiwiY2xvc2VDbGFzcyIsIm9wZW5lZENsYXNzIiwiZW1haWxOb3RDb25maXJtZWQiLCIkZW1haWxuTXNnIiwib25Mb2dpblN1YnNjcmliZSIsIiRsb2dpbk1zZyIsImlzRW1haWxDb25maXJtZWQiLCJzaG93TG9nb3V0IiwiaXNMb2dnZWQiLCJpc0xvZ2dlZEluIiwib2xkVVJMIiwicmVmZXJyZXIiLCJzZXR0aW5nQnV0dG9uc0hhbmRsZXIiLCJ1cGRhdGVCdXR0b25zRGF0YUF0dHIiLCJzZXR0aW5nQnV0dG9uc0hhbmRsZXJDYiIsImNsYXNzQ2ZnIiwibW9kYWxDb25maXJtIiwidXNlck9yaWdpbmFsIiwicHJvZmlsZSIsImRlbEluc3RhZ3JhbUFjY291bnQiLCJ1cGRhdGVJbnN0YWdyYW1BY2NvdW50IiwibW9kYWxFZGl0IiwiJGVkaXRCdG4iLCJzaXRlIiwiYWJvdXQiLCJpbWdTcmMiLCJpc0J1c2luZXNzIiwiaXNQcml2YXRlIiwiZm9ybUZpZWxkcyIsInVzZXJBdmF0YXJJbWciLCJmb2xsb3dlckMiLCJmb2xsb3dpbmdDIiwibWVkaWFDIiwic3JjIiwiJHByb2ZpbGVCb3giLCJ1cGRhdGVEYXRhQXR0clVzZXJuYW1lIiwiZWRpdEluc3RhZ3JhbUFjY291bnQiLCJpc09wZW4iLCJMb2dpbkZvcm0iLCJzZWxlY3RvckNzcyIsIiRlbWFpbCIsIiR0ZXh0QXJlYURlc2NyaXB0aW9uIiwidXNlckxvZ2luSGVhZGVyIiwiX2Zvcm1EYXRhIiwic3VibWl0Rm9ybSIsImZvcm1EYXRhT2JqIiwidG9Mb2NhbGVMb3dlckNhc2UiLCJsb2dPdXQiLCJiaW5kRXZlbnRzIiwiJHNob3dMb2dpbkJveEJ0bklkIiwiJGxvZ2luQm94IiwiJGJ1dHRvblN1Ym1pdCIsImlzTG9naW5CdG5DbGljayIsImlzQWRkSW5zdGFncmFtQnRuQ2xpY2tlZCIsInN0YXRlQ2ZnIiwicGFnZUluY3JlbWVudCIsImxvYWRpbmdGbGFnIiwic2V0U2luZ2xlVmFsIiwiaW50ZXJ2YWxVc2VyTGlzdCIsImluaXRpYWxWYWwiLCJmbGFnSW5pdGlhbFZhbCIsImN1cnJlbnRVc2VyRGF0YSIsInVzZXJhdmF0YXIiLCJzY3JvbGxMb2FkZXJTdGF0ZSIsImZpcnN0TG9hZCIsImFsbE1zZ0xvYWRlZCIsInJlbmRlclJlc3VsdHMiLCJ1bEVsZW1lbnQiLCJzaG93TWVzc2FnZSIsImVsZW1lbnQiLCJjbGVhckxpc3QiLCJpc0luTWVzc2FnZVBhZ2UiLCIkdXNlckxpc3QiLCJyZWFkeSIsImF1dG9jb21wbGV0ZSIsImlzVGltZU91dFJ1bm5lZCIsImdldEFuZEZpbGxVc2VyTGlzdEN1cnNvciIsImxvYWRNb3JlQ2JBcmdzQ3Vyc29yIiwic2VjdGlvbiIsImdldE1ldGFkYXRhRGV0YWlsVXNlcnMiLCJwcmV2X2N1cnNvciIsIiRjb2xsYXBzZSIsImdldEFuZEZpbGxVc2VyTGlzdCIsImlzQWN0aXZlRmlyc3QiLCJ1c2VyTGlzdCIsInByZXZBY3RpdmVEaWFsb2dJZCIsInNvcnQiLCJhIiwiYiIsImxvY2FsZUNvbXBhcmUiLCJjYkZuIiwidXNlckRhdGEiLCJnZXRNZXRhZGF0YURldGFpbENvbnZlcnNhdGlvbiIsIm5ld0N1cnNvciIsInNjcm9sbFRvcCIsInNjcm9sbEhhbmRsZXIiLCJzY3JvbGxEZWxheSIsInJlY2VudFNjcm9sbCIsIm1ha2VSZXFPbmNlIiwiY2hlY2tJc09uY2UiLCJpbm5lckhlaWdodCIsInNjcm9sbEhlaWdodCIsImdldEFuZEZpbGxDb252ZXJzYXRpb24iLCJpc1Njcm9sbERvd24iLCJpc0NsaWNrRnJvbVJlcXVlc3RDb25maXJtIiwiVElNRV9TQ1JPTEwiLCJhbmltYXRlIiwiY2xpZW50SGVpZ2h0IiwiaW1hZ2VMb2FkU3VibWl0Q2IiLCJhZGRIYW5kbGVycyIsIiR0ZXh0QXJlYSIsInBvc3RNZXRhZGF0YURldGFpbENvbnZlcnNhdGlvbiIsInVzZXJTaG93Q29udmVyc2V0aW9uSGFuZGxlciIsInVzZXJEYXRhRnJvbUxpR3JvdXAiLCIkdGFyZ2V0QnRuIiwiJHRpdGxlIiwicmVzdWx0RnJvbVNlcnZlciIsIiRkaWFsb2ciLCJmaWxsVXNlckxpc3RGbiIsImluaXRSZXF1ZXN0cyIsImFkZENvbmZpcmdCdXR0b25zIiwiJGNvbmZpcm1CdG5Cb3giLCJjb252ZXJzYXRpb25EZXRhaWwiLCJzcmNJbWciLCJwcm9maWxlUGljVXJsIiwiYWRkQ29udmVyc2F0aW9ucyIsImNvbnZlcnNhdGlvbnMiLCJ1c2VycyIsInRpdGxlIiwiZ2V0UmVxdWVzdFBlbmRpbmciLCJlbElkIiwicmVxdWVzdHMiLCJmaWxsVXNlckxpc3QiLCJsb2FkTW9yZUNiRnVuY3Rpb24iLCJwZW5kaW5nX3JlcXVlc3RzIiwiJHJlcUNvbmZpcm1CdG4iLCIkcmVxUmVqZWN0QnRuIiwicHV0UmVxdWVzdFBlbmRpbmciLCJkZWxSZXF1ZXN0UGVuZGluZyIsIiRzaG93VXNlckxpc3QiLCJjbGVhck1hc3NhZ2VzTGlzdCIsImZpbGxNYXNzYWdlc0xpc3QiLCJhcHBlbmRVc2VyTGlzdCIsImluc2VydE1zZyIsInZhbHVlV2l0aFVybCIsImNhcHRpb24iLCJzdWJzdCIsInRvTG93ZXJDYXNlIiwicHJldmlld192YWx1ZSIsImluc2VydEJlZm9yZSIsInNpZGUiLCJpc1VucmVhZCIsImxhc3RNZXNzYWdlIiwiaXNMYXN0TXNnIiwiaXNBZGREb3QiLCJsb2FkTW9yZUJveCIsIiRidG5Cb3giLCJtZXNzYWdlQXJlYUhlbmRsZXIiLCIkc2VuZE1lc3NhZ2VCdXR0b24iLCJrZXlDb2RlIiwiY3RybEtleSIsInNlbGVjdG9yQ2xzIiwic3VibWl0QnRuIiwiUmVnaXN0ZXJGb3JtIiwiYm9yZGVyRGFuZ2VyQ2xzIiwiJHBhc3N3b3JkIiwiJHBhc3N3b3JkQ29uZmlybSIsInBhc3N3b3JkQ29uZmlybSIsInJlZ2lzdGVyIiwicmVnaXN0ZXJCb3giLCJpcyIsImlzUmVnQnRuQ2xpY2siLCJ1cmxUb0NoZWNrIiwicGF0aE5hbWUiLCJpc0FjdGl2ZVVybCIsInN0b3JpZXNTdGF0dXMiLCJ3aXphcmRGb3JtTmFtZSIsInRhc2tNb2RlIiwibWF4X3ZpZXdzIiwidXNlcl9jdXN0b21fY29uZmlnIiwic2V0VXNlck5hbWVGaXJzdFN0ZXAiLCJjb250YWluZXJDbHMiLCJyZW5kZXJUYXNrTW9kZSIsImRlZmF1bHRDZmciLCJ0YXNrTW9kZVNlbGVjdG9yIiwiZ2V0Q29uZmlnIiwiZ2V0U3Rvcmllc0NvbmZpZyIsImxpbWl0VmFsIiwiYWRkVGV4dEFyZWEiLCJmaWVsZExhc3QiLCJhZGRGaWxlVXBsb2FkQm94IiwiJGZpbGVVcGxvYWRCb3giLCIkdGl0bGVTdGVwQm94IiwiJGFkZFNldHRpbmdzIiwiaXNJbkN1cnJlbnRQYWdlIiwiaXNJblN0b3JpZXNQYWdlIiwidGFiU3RhdHVzIiwidHlwZVJhZGlvR3JvdXAiLCJhZGRVcGxvYWRCdXR0b24iLCJjaGVja1RpdGxlU3RlcDMiLCJhZnRlciIsIkxvZ2luUGFnZSJdLCJtYXBwaW5ncyI6IjtBQUFBO0FBQ0E7O0FBRUE7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOzs7QUFHQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQSxtREFBMkMsY0FBYzs7QUFFekQ7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFLO0FBQ0w7QUFDQTs7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O0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsbUNBQW1DO0FBQ25DO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHFCQUFxQjtBQUNyQjtBQUNBLGFBQWE7QUFDYjtBQUNBO0FBQ0E7QUFDQTtBQUNBLDBEQUEwRDtBQUMxRDtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQSx1QkFBdUIsS0FBSztBQUM1Qix1QkFBdUIsSUFBSTtBQUMzQix1QkFBdUIsSUFBSTtBQUMzQix1QkFBdUIsSUFBSTtBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7O0FBRWI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTs7QUFFYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxhQUFhOztBQUViO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7O0FBRWI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTs7QUFFYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7O0FBRWI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsYUFBYTs7QUFFYjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGFBQWE7O0FBRWI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsaUJBQWlCO0FBQ2pCLGFBQWE7QUFDYjtBQUNBO0FBQ0EsMEJBQTBCO0FBQzFCOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLGlCQUFpQjtBQUNqQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7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QUFDQTs7QUFFQTtBQUNBOztBQUVBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsR0FBRztBQUNIO0FBQ0E7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0EsNEJBQTRCLHFCQUFxQjtBQUNqRDs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxHQUFHO0FBQ0g7QUFDQTs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTtBQUNBLHFDQUFxQywwQkFBMEI7QUFDL0Q7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLDZCQUE2QiwwQkFBMEIsZUFBZTtBQUN0RTs7QUFFQTtBQUNBO0FBQ0E7QUFDQSxDQUFDO0FBQ0Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7O0FBRUE7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBOztBQUVBOztBQUVBO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7O0FBRUE7QUFDQTtBQUNBLEtBQUs7O0FBRUw7QUFDQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQTtBQUNBLEdBQUc7QUFDSDs7QUFFQTs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EiLCJmaWxlIjoiaW5kZXgtYXBwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiIFx0Ly8gVGhlIG1vZHVsZSBjYWNoZVxuIFx0dmFyIGluc3RhbGxlZE1vZHVsZXMgPSB7fTtcblxuIFx0Ly8gVGhlIHJlcXVpcmUgZnVuY3Rpb25cbiBcdGZ1bmN0aW9uIF9fd2VicGFja19yZXF1aXJlX18obW9kdWxlSWQpIHtcblxuIFx0XHQvLyBDaGVjayBpZiBtb2R1bGUgaXMgaW4gY2FjaGVcbiBcdFx0aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pIHtcbiBcdFx0XHRyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0cztcbiBcdFx0fVxuIFx0XHQvLyBDcmVhdGUgYSBuZXcgbW9kdWxlIChhbmQgcHV0IGl0IGludG8gdGhlIGNhY2hlKVxuIFx0XHR2YXIgbW9kdWxlID0gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0gPSB7XG4gXHRcdFx0aTogbW9kdWxlSWQsXG4gXHRcdFx0bDogZmFsc2UsXG4gXHRcdFx0ZXhwb3J0czoge31cbiBcdFx0fTtcblxuIFx0XHQvLyBFeGVjdXRlIHRoZSBtb2R1bGUgZnVuY3Rpb25cbiBcdFx0bW9kdWxlc1ttb2R1bGVJZF0uY2FsbChtb2R1bGUuZXhwb3J0cywgbW9kdWxlLCBtb2R1bGUuZXhwb3J0cywgX193ZWJwYWNrX3JlcXVpcmVfXyk7XG5cbiBcdFx0Ly8gRmxhZyB0aGUgbW9kdWxlIGFzIGxvYWRlZFxuIFx0XHRtb2R1bGUubCA9IHRydWU7XG5cbiBcdFx0Ly8gUmV0dXJuIHRoZSBleHBvcnRzIG9mIHRoZSBtb2R1bGVcbiBcdFx0cmV0dXJuIG1vZHVsZS5leHBvcnRzO1xuIFx0fVxuXG5cbiBcdC8vIGV4cG9zZSB0aGUgbW9kdWxlcyBvYmplY3QgKF9fd2VicGFja19tb2R1bGVzX18pXG4gXHRfX3dlYnBhY2tfcmVxdWlyZV9fLm0gPSBtb2R1bGVzO1xuXG4gXHQvLyBleHBvc2UgdGhlIG1vZHVsZSBjYWNoZVxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5jID0gaW5zdGFsbGVkTW9kdWxlcztcblxuIFx0Ly8gaWRlbnRpdHkgZnVuY3Rpb24gZm9yIGNhbGxpbmcgaGFybW9ueSBpbXBvcnRzIHdpdGggdGhlIGNvcnJlY3QgY29udGV4dFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5pID0gZnVuY3Rpb24odmFsdWUpIHsgcmV0dXJuIHZhbHVlOyB9O1xuXG4gXHQvLyBkZWZpbmUgZ2V0dGVyIGZ1bmN0aW9uIGZvciBoYXJtb255IGV4cG9ydHNcbiBcdF9fd2VicGFja19yZXF1aXJlX18uZCA9IGZ1bmN0aW9uKGV4cG9ydHMsIG5hbWUsIGdldHRlcikge1xuIFx0XHRpZighX193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsIG5hbWUpKSB7XG4gXHRcdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsIG5hbWUsIHtcbiBcdFx0XHRcdGNvbmZpZ3VyYWJsZTogZmFsc2UsXG4gXHRcdFx0XHRlbnVtZXJhYmxlOiB0cnVlLFxuIFx0XHRcdFx0Z2V0OiBnZXR0ZXJcbiBcdFx0XHR9KTtcbiBcdFx0fVxuIFx0fTtcblxuIFx0Ly8gZ2V0RGVmYXVsdEV4cG9ydCBmdW5jdGlvbiBmb3IgY29tcGF0aWJpbGl0eSB3aXRoIG5vbi1oYXJtb255IG1vZHVsZXNcbiBcdF9fd2VicGFja19yZXF1aXJlX18ubiA9IGZ1bmN0aW9uKG1vZHVsZSkge1xuIFx0XHR2YXIgZ2V0dGVyID0gbW9kdWxlICYmIG1vZHVsZS5fX2VzTW9kdWxlID9cbiBcdFx0XHRmdW5jdGlvbiBnZXREZWZhdWx0KCkgeyByZXR1cm4gbW9kdWxlWydkZWZhdWx0J107IH0gOlxuIFx0XHRcdGZ1bmN0aW9uIGdldE1vZHVsZUV4cG9ydHMoKSB7IHJldHVybiBtb2R1bGU7IH07XG4gXHRcdF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsICdhJywgZ2V0dGVyKTtcbiBcdFx0cmV0dXJuIGdldHRlcjtcbiBcdH07XG5cbiBcdC8vIE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbFxuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5vID0gZnVuY3Rpb24ob2JqZWN0LCBwcm9wZXJ0eSkgeyByZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCwgcHJvcGVydHkpOyB9O1xuXG4gXHQvLyBfX3dlYnBhY2tfcHVibGljX3BhdGhfX1xuIFx0X193ZWJwYWNrX3JlcXVpcmVfXy5wID0gXCJcIjtcblxuIFx0Ly8gTG9hZCBlbnRyeSBtb2R1bGUgYW5kIHJldHVybiBleHBvcnRzXG4gXHRyZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnMgPSA1Nik7XG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gd2VicGFjay9ib290c3RyYXAgZWI3OTZmYjBjZjZjYzljMmM4MTUiLCJleHBvcnQgY29uc3QgQ09OU1QgPSB7XHJcbiAgICB1cmw6IHtcclxuICAgICAgICB0bVR5cGVzOiB7XHJcbiAgICAgICAgICAgIGZvbGxvd2luZ1Q6ICdGT0xMT1dJTkcnLFxyXG4gICAgICAgICAgICBmb2xsb3dpbmdTdWJUOiBbJ0ZPTExPV0lOR19CWV9MSVNUJywgJ0ZPTExPV0lOR19CWV9BQ1RJVkVfQVVESUVOQ0UnXSxcclxuICAgICAgICAgICAgdW5mb2xsb3dpbmdUOiAnVU5GT0xMT1dJTkcnLFxyXG4gICAgICAgICAgICB1bmZvbGxvd2luZ1N1YlQ6IFsnVU5GT0xMT1dJTkdfQllfTElTVCcsICdVTkZPTExPV0lOR19CWV9BTEwnLCAnVU5GT0xMT1dJTkdfQllfTk9OX1JFQ0lQUk9DQUwnXSxcclxuICAgICAgICAgICAgY2hhdEJvdFQ6ICdDSEFUX0JPVCcsXHJcbiAgICAgICAgICAgIGNoYXRCb3RTdWJUOiBbJ0RFRkFVTFRfQ0hBVF9CT1QnXSxcclxuICAgICAgICAgICAgYXV0b21lc3NhZ2VzVDogJ0FVVE9fQU5TV0VSJyxcclxuICAgICAgICAgICAgYXV0b21lc3NhZ2VzU3ViVDogWydERUZBVUxUX0FVVE9fQU5TV0VSJ10sXHJcbiAgICAgICAgICAgIGF1dG9ncmVldFQ6ICdBVVRPX0dSRUVUSU5HJyxcclxuICAgICAgICAgICAgYXV0b2dyZWV0U3ViVDogWydERUZBVUxUX0FVVE9fR1JFRVRJTkcnXSxcclxuICAgICAgICAgICAgc3Rvcmllc1Q6ICdTVE9SSUVTJyxcclxuICAgICAgICAgICAgc3Rvcmllc1N1YlQ6IFsnU1RPUklFU19CWV9MSVNUJywgJ1NUT1JJRVNfQllfRk9MTE9XRVJTJywgJ1NUT1JJRVNfQllfQUNUSVZFX0FVRElFTkNFJ10sXHJcbiAgICAgICAgICAgIGF1dG9jb21tZW50c1Q6ICdBVVRPX0NPTU1FTlQnLFxyXG4gICAgICAgICAgICBhdXRvY29tbWVudHNTdWJUOiBbJ0RFRkFVTFRfQVVUT19DT01NRU5UJ11cclxuICAgICAgICB9LFxyXG4gICAgICAgIGJhc2U6ICdodHRwOi8vYXBpLmx1eGdyYW0ucnUvdjEvJyxcclxuICAgICAgICByZWdpc3RyYXRpb246ICdyZWdpc3RyYXRpb24vYmFzaWMvJyxcclxuICAgICAgICBsb2dpbjogJ3JlZ2lzdHJhdGlvbi9iYXNpYy9sb2dpbicsXHJcbiAgICAgICAgY29uZmlybWF0aW9uOiAncmVnaXN0cmF0aW9uL2Jhc2ljL2NvbmZpcm1hdGlvbj90b2tlbicsXHJcblxyXG4gICAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICAgICAgICBpbnN0YWdyYW1fYWRkQWNjb3VudDogJ2luc3RhZ3JhbS1hY2NvdW50cy8nLFxyXG4gICAgICAgIGluc3RhZ3JhbUFjY291bnRfZ2V0TWV0YURhdGE6ICdpbnN0YWdyYW0tYWNjb3VudHMvbWV0YScsXHJcbiAgICAgICAgaW5zdGFncmFtX2dldEFjY291bnRCeVVzZXI6IHVzZXJuYW1lID0+IGBpbnN0YWdyYW0tYWNjb3VudHMvbWV0YS8ke3VzZXJuYW1lfWAsXHJcbiAgICAgICAgaW5zdGFncmFtX21vZGlmeUFjY291bnQ6IHVzZXJuYW1lID0+IGBpbnN0YWdyYW0tYWNjb3VudHMvJHt1c2VybmFtZX1gLFxyXG4gICAgICAgIGluc3RhZ3JhbVRhc2tNYW5hZ2VyX2dldFBvc3RzOiBhY2NvdW50TmFtZSA9PiBgaW5zdGFncmFtLWFjY291bnRzLyR7YWNjb3VudE5hbWV9L3Bvc3RzYCxcclxuXHJcbiAgICAgICAgLy8gLWluc3RhZ3JhbS1hY2NvdW50cy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gICAgICAgIGluc3RhZ3JhbUFjY291bnRfY2hlY2twb2ludDogJ2luc3RhZ3JhbS1hY2NvdW50cy9jaGVja3BvaW50LycsXHJcbiAgICAgICAgaW5zdGFncmFtQWNjb3VudF9jb25maXJtS2V5OiAnaW5zdGFncmFtLWFjY291bnRzL2NoZWNrcG9pbnQvJyxcclxuXHJcbiAgICAgICAgLy8gLWluc3RhZ3JhbS1kaXJlY3QtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICAgICAgICBpbnN0YWdyYW1EaXJlY3RfQmFzaWM6ICdpbnN0YWdyYW0tZGlyZWN0JyxcclxuICAgICAgICBpbnN0YWdyYW1EaXJlY3RfcG9zdE1lc3NhZ2U6ICdpbnN0YWdyYW0tZGlyZWN0LycsXHJcbiAgICAgICAgaW5zdGFncmFtRGlyZWN0X2dldE1ldGFEYXRhOiAnaW5zdGFncmFtLWRpcmVjdC9tZXRhJyxcclxuICAgICAgICBpbnN0YWdyYW1EaXJlY3RfUmVxdWVzdFBlbmRpbmc6ICdpbnN0YWdyYW0tZGlyZWN0L3BlbmRpbmcnLFxyXG4gICAgICAgIC8vIGh0dHA6Ly9hcGkubHV4Z3JhbS5ydS92MS9pbnN0YWdyYW0tZGlyZWN0L3t1c2VybmFtZX0ve2lkfS9waG90b1xyXG5cclxuICAgICAgICAvLyAtaW5zdGFncmFtLXRhc2stbWFuYWdlci0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gICAgICAgIGluc3RhZ3JhbVRhc2tNYW5hZ2VyOiAnaW5zdGFncmFtLXRhc2stbWFuYWdlci8nLFxyXG4gICAgICAgIGluc3RhZ3JhbVRhc2tNYW5hZ2VyX2dldE1ldGFEYXRhOiAnaW5zdGFncmFtLXRhc2stbWFuYWdlci9tZXRhJyxcclxuICAgICAgICBpbnN0YWdyYW1UYXNrTWFuYWdlcl9nZXRUYXNrQnlUeXBlczogJ2luc3RhZ3JhbS10YXNrLW1hbmFnZXIvbWV0YS90eXBlLycsXHJcbiAgICAgICAgLy8gLS0tLS0tLS0tLS0tLS1cclxuICAgICAgICBpbnN0YWdyYW1UYXNrTWFuYWdlcl9nZXREZWZhdWx0Q29uZmlnczogJ2luc3RhZ3JhbS10YXNrLW1hbmFnZXIvY29uZmlnL3R5cGUnLCAvLyB7VFlQRX0vc3VidHlwZS97U1VCVFlQRX1cclxuICAgICAgICAvLyAtLS0tLS0tLS0tLS0tLVxyXG4gICAgICAgIGluc3RhZ3JhbVRhc2tNYW5hZ2VyX3Bvc3RTdGFydEZvbGxvd2luZ0xpc3Q6ICdpbnN0YWdyYW0tdGFzay1tYW5hZ2VyL3Rhc2snLFxyXG4gICAgICAgIGluc3RhZ3JhbVRhc2tNYW5hZ2VyX3Bvc3RTdGFydFRhc2s6ICdpbnN0YWdyYW0tdGFzay1tYW5hZ2VyL3Rhc2snLFxyXG4gICAgICAgIGluc3RhZ3JhbVRhc2tNYW5hZ2VyX2dldFRhc2tUeXBlczogJ2luc3RhZ3JhbS10YXNrLW1hbmFnZXIvdGFzay90eXBlcycsXHJcbiAgICAgICAgaW5zdGFncmFtVGFza01hbmFnZXJfcHV0U3RvcFRhc2tCeUlEOiBpZCA9PiBgaW5zdGFncmFtLXRhc2stbWFuYWdlci90YXNrLyR7aWR9YCxcclxuICAgICAgICBpbnN0YWdyYW1UYXNrTWFuYWdlcl9kZWxSZW1vdmVUYXNrQnlJRDogaWQgPT4gYGluc3RhZ3JhbS10YXNrLW1hbmFnZXIvdGFzay8ke2lkfWAsXHJcbiAgICAgICAgaW5zdGFncmFtVGFza01hbmFnZXJfcG9zdEltYWdlQXR0YWNobWVudDogJ2luc3RhZ3JhbS10YXNrLW1hbmFnZXIvdGFzay9hdHRhY2htZW50L2ltYWdlJyxcclxuICAgICAgICBpbnN0YWdyYW1UYXNrTWFuYWdlcl9wb3N0VGV4dEF0dGFjaG1lbnQ6ICdpbnN0YWdyYW0tdGFzay1tYW5hZ2VyL3Rhc2svYXR0YWNobWVudC91c2Vyc19saXN0JyxcclxuICAgICAgICBpbnN0YWdyYW1UYXNrTWFuYWdlcl9nZXRMb2dzQ2hhdEJvdDogJ2luc3RhZ3JhbS10YXNrLW1hbmFnZXIvbG9ncy90eXBlLycgLy8ge1RZUEV9L3N1YnR5cGUve1NVQlRZUEV9L2FjY291bnQve3VzZXJuYW1lfT9wYWdlPXtwYWdlfVxyXG4gICAgfSxcclxuICAgIHVzZXI6IHtcclxuICAgICAgICBkZWZhdWxBdmF0YXI6ICdodHRwczovL2kuaW1ndXIuY29tL2pOTlQ0TEUucG5nJywgLy8gdG9kbzogZ2V0IGZyb20gZGVzaWduZXJcclxuICAgICAgICBlbWFpbDogJycsXHJcbiAgICAgICAgcGFzc3dvcmQ6ICcnLFxyXG4gICAgICAgIHRva2VuOiAnJ1xyXG4gICAgfSxcclxuICAgIGNvb2tpZVN0b3JhZ2U6IHtcclxuICAgICAgICB0b2tlbjogJ3VzZXJfbG9nZ2VkJyxcclxuICAgICAgICBlbWFpbENvbmZpcm1lZDogJ2VtYWlsX2NvbmZpcm1lZCdcclxuICAgIH0sXHJcbiAgICB1aVNlbGVjdG9yczoge1xyXG4gICAgICAgIGhlYWRlckxvZ2luQm94OiAnbmF2IC5sb2dpbi1ib3gnLFxyXG4gICAgICAgIGhlYWRlck5hdkxvZ2luQnRuOiAnbmF2IHVsIGxpIC5qc19sb2dpbicsXHJcbiAgICAgICAgaGVhZGVyUmVnQm94OiAnbmF2IC5yZWdpc3Rlci1ib3gnLFxyXG4gICAgICAgIGhlYWRlclJlZ0J0bjogJ25hdiB1bCBsaSAuanNfcmVnaXN0ZXInLFxyXG4gICAgICAgIGluc3RhZ3JhbToge1xyXG4gICAgICAgICAgICBhZGRBY2NvdW50QnRuU2VsZWN0b3I6ICcjanNfc2hvdy1sb2dpbi1ib3gnLFxyXG4gICAgICAgICAgICBhZGRBY2NvdW50QnRuSWQ6ICdqc19zaG93LWxvZ2luLWJveCdcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgZXZlbnRzOiB7XHJcbiAgICAgICAgVVNFUl9MT0dHRUQ6ICd1c2VyX2xvZ2dlZCcsXHJcbiAgICAgICAgVVNFUl9MT0dPVVQ6ICd1c2VyX2xvZ291dCcsXHJcbiAgICAgICAgVVNFUl9FTUFJTF9DT05GSVJNRUQ6ICd1c2VyX2VtYWlsX2NvbmZpcm1lZCcsXHJcbiAgICAgICAgU1RPUF9GSVhFRF9TUElOTkVSOiAnc3RvcF9maXhlZF9zcGlubmVyJyxcclxuICAgICAgICBtZXNzYWdlczoge1xyXG4gICAgICAgICAgICBSRUNJRVZFX05FV19NRVNTQUdFOiAncmVjZWl2ZV9uZXdfbWVzc2FnZSdcclxuICAgICAgICB9LFxyXG4gICAgICAgIGluc3RhZ3JhbUFjY291bnM6IHtcclxuICAgICAgICAgICAgSU5TVEFHUkFNX0FDQ09VTlNfTkVFRF9SRUZSRVNIOiAnaW5zdGFncmFtX2FjY291bnNfbmVlZF9yZWZyZXNoJyxcclxuICAgICAgICAgICAgSU5TVEFHUkFNX0FDQ09VTlNfUkVOREVSRUQ6ICdpbnN0YWdyYW1fYWNjb3Vuc19yZW5kZXJlZCcsXHJcbiAgICAgICAgICAgIElOU1RBR1JBTV9BQ0NPVU5TX1JFTkRFUkVEX0xBWlk6ICdpbnN0YWdyYW1fYWNjb3Vuc19yZW5kZXJlZF9sYXp5J1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgbW9kYWw6IHtcclxuICAgICAgICAgICAgSU1BR0VfUE9TVF9TRUxFQ1RFRDogJ2ltYWdlX3Bvc3Rfc2VsZWN0ZWQnLFxyXG4gICAgICAgICAgICBJTUFHRV9VUExPQURFRF9BVkFUQVI6ICdJTUFHRV9VUExPQURFRF9BVkFUQVInXHJcbiAgICAgICAgfSxcclxuICAgICAgICBhdXRvYXJuc3dlcjoge1xyXG4gICAgICAgICAgICBJTUFHRV9VUExPQURFRDogJ2ltYWdlX2xvYWRlZCcsXHJcbiAgICAgICAgICAgIFRFWFRfRklMRV9VUExPQURFRDogJ3RleHRfZmlsZV91cGxvYWRlZCdcclxuICAgICAgICB9LFxyXG4gICAgICAgIHRhc2tzOiB7XHJcbiAgICAgICAgICAgIE5FV19UQVNLX0NSRUFURUQ6ICduZXdfdGFza19jcmVhdGVkJ1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgbG9nczoge1xyXG4gICAgICAgICAgICBTVE9QX0xPR1M6ICdzdG9wX2xvZ3MnXHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIGxvZ3NTdGF0ZToge1xyXG4gICAgICAgIHNlbGVjdENsczogJ2pzX2xvZ3MtYWNjb3VudHMnLFxyXG4gICAgICAgIHNlbGVjdENsc0xvZ3NUYXNrVHlwZTogJ2pzX2xvZ3Mtc3VidHlwZXMnLFxyXG4gICAgICAgIHdyYXBwZXJTdWJ0eXBlOiAnLmxvZy1zdWJ5cGUnXHJcbiAgICB9LFxyXG4gICAgZ2V0UGF0aChuYW1lLCBpZCkge1xyXG4gICAgICAgIGlmICh0eXBlb2YgdGhpcy51cmxbbmFtZV0gPT09ICdmdW5jdGlvbicgJiYgaWQpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMudXJsLmJhc2UgKyB0aGlzLnVybFtuYW1lXShpZCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB0aGlzLnVybC5iYXNlICsgdGhpcy51cmxbbmFtZV07XHJcbiAgICB9LFxyXG4gICAgZ2V0UGF0aFR5cGVTdWJ0eXBlKG5hbWUsIHBhdGgsIHBhZ2UpIHtcclxuICAgICAgICBjb25zdCB7dHlwZSwgc3VidHlwZSwgdXNlcm5hbWV9ID0gcGF0aDtcclxuICAgICAgICBpZiAodHlwZW9mIHRoaXMudXJsW25hbWVdID09PSAnZnVuY3Rpb24nICYmIHR5cGUgJiYgc3VidHlwZSkge1xyXG4gICAgICAgICAgICBpZiAodXNlcm5hbWUgJiYgcGFnZSkge1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMudXJsLmJhc2UgKyB0aGlzLnVybFtuYW1lXShwYXRoLCBwYWdlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZiAodXNlcm5hbWUpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnVybC5iYXNlICsgdGhpcy51cmxbbmFtZV0ocGF0aCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgcmV0dXJuIHRoaXMudXJsLmJhc2UgKyB0aGlzLnVybFtuYW1lXSh0eXBlLCBzdWJ0eXBlKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIHRoaXMudXJsLmJhc2UgKyB0aGlzLnVybFtuYW1lXTtcclxuICAgIH0sXHJcbiAgICBnZXRQYXRoQnlBcnIobmFtZSwgYXJyYXksIHBhZ2UpIHtcclxuICAgICAgICBjb25zdCBiYXNlID0gdGhpcy51cmwuYmFzZSArIHRoaXMudXJsW25hbWVdO1xyXG4gICAgICAgIGNvbnN0IHJlZHVjZXIgPSAoYWNjdW11bGF0b3IsIGN1cnJlbnRWYWx1ZSkgPT4gYCR7YWNjdW11bGF0b3J9LyR7Y3VycmVudFZhbHVlfWA7XHJcbiAgICAgICAgY29uc3QgdXJsID0gYmFzZSArIGFycmF5LnJlZHVjZShyZWR1Y2VyKTsgLy8gJHt0eXBlfS9zdWJ0eXBlLyR7c3VidHlwZX1cclxuICAgICAgICAvLyBjb25zb2xlLmxvZyh1cmwpO1xyXG4gICAgICAgIGlmIChwYWdlKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBgJHt1cmx9P3BhZ2U9JHtwYWdlfWA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiB1cmw7XHJcbiAgICB9XHJcbn07XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9jb21tb24vanMtc2VydmljZXMvY29uc3RzLmpzIiwiLy8gaW1wb3J0ICQgZnJvbSAnanF1ZXJ5JztcclxuLy8gaW1wb3J0IHtDT05TVH0gZnJvbSAnLi9jb25zdHMnO1xyXG5cclxuZnVuY3Rpb24gdmlld1V0aWxzKCkge1xyXG4gICAgZnVuY3Rpb24gc2hvd0luZm9NZXNzYWdlKHNlbGVjdG9yLCBtZXNzYWdlMSwgbWVzc2FnZTIpIHtcclxuICAgICAgICAkKHNlbGVjdG9yKS5lbXB0eSgpXHJcbiAgICAgICAgICAgIC5hcHBlbmQoYCR7KG1lc3NhZ2UxKSA/IGA8cD5zdGF0dXM6ICR7bWVzc2FnZTF9PC9wPmAgOiAnJ31gKVxyXG4gICAgICAgICAgICAuYXBwZW5kKGA8cD4ke21lc3NhZ2UyfSA8L3A+YCk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gZmlsbExpc3QoJGxpc3QsIGRhdGFBcnJheSkge1xyXG4gICAgICAgIGNvbnN0IGl0ZW1zID0gZGF0YUFycmF5O1xyXG4gICAgICAgIGNvbnN0IGNMaXN0ID0gJGxpc3Q7XHJcbiAgICAgICAgY0xpc3QuZW1wdHkoKTtcclxuICAgICAgICBpdGVtcy5mb3JFYWNoKChpdGVtLCBpKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGxpID0gJCgnPGxpIGNsYXNzPVwibGlzdC1ncm91cC1pdGVtXCI+PC9saT4nKVxyXG4gICAgICAgICAgICAgICAgLmFwcGVuZFRvKGNMaXN0KTtcclxuICAgICAgICAgICAgJCgnPGEvPicpLmFkZENsYXNzKCd1aS1hbGwnKVxyXG4gICAgICAgICAgICAgICAgLnRleHQoaXRlbS51c2VybmFtZSlcclxuICAgICAgICAgICAgICAgIC5hcHBlbmRUbyhsaSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gaXNFbWFpbChlbWFpbCkge1xyXG4gICAgICAgIC8qIGVzbGludC1kaXNhYmxlICovXHJcbiAgICAgICAgY29uc3QgcmVnZXggPSAvXihbYS16QS1aMC05Xy4rLV0pK1xcQCgoW2EtekEtWjAtOS1dKStcXC4pKyhbYS16QS1aMC05XXsyLDR9KSskLztcclxuICAgICAgICByZXR1cm4gcmVnZXgudGVzdChlbWFpbCk7XHJcbiAgICAgICAgLyogZXNsaW50LWVuYWJsZSAqL1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIGdldEZvcm1hdHRlZERhdGVVdGlsKHRTdGFtcCwgc2hvd0Z1bGxUaW1lKSB7XHJcbiAgICAgICAgY29uc3QgZGF0ZSA9IG5ldyBEYXRlKHRTdGFtcCk7XHJcblxyXG4gICAgICAgIGxldCBtb250aCA9IGRhdGUuZ2V0TW9udGgoKSArIDE7XHJcbiAgICAgICAgbGV0IGRheSA9IGRhdGUuZ2V0RGF0ZSgpO1xyXG4gICAgICAgIGxldCBob3VyID0gZGF0ZS5nZXRIb3VycygpO1xyXG4gICAgICAgIGxldCBtaW4gPSBkYXRlLmdldE1pbnV0ZXMoKTtcclxuICAgICAgICAvLyBsZXQgc2VjID0gZGF0ZS5nZXRTZWNvbmRzKCk7XHJcblxyXG4gICAgICAgIG1vbnRoID0gKG1vbnRoIDwgMTAgPyAnMCcgOiAnJykgKyBtb250aDtcclxuICAgICAgICBkYXkgPSAoZGF5IDwgMTAgPyAnMCcgOiAnJykgKyBkYXk7XHJcbiAgICAgICAgaG91ciA9IChob3VyIDwgMTAgPyAnMCcgOiAnJykgKyBob3VyO1xyXG4gICAgICAgIG1pbiA9IChtaW4gPCAxMCA/ICcwJyA6ICcnKSArIG1pbjtcclxuICAgICAgICAvLyBzZWMgPSAoc2VjIDwgMTAgPyAnMCcgOiAnJykgKyBzZWM7XHJcblxyXG4gICAgICAgIGxldCBzdHIgPSAnJztcclxuICAgICAgICBpZiAoIXNob3dGdWxsVGltZSkge1xyXG4gICAgICAgICAgICBzdHIgPSBgJHtob3VyfToke21pbn1gO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIHN0ciA9IGAke2RhdGUuZ2V0RnVsbFllYXIoKX0tJHttb250aH0tJHtkYXl9ICR7aG91cn06JHttaW59OiR7c2VjfWA7XHJcbiAgICAgICAgICAgIHN0ciA9IGAke2RheX0tJHttb250aH0tJHtkYXRlLmdldEZ1bGxZZWFyKCl9ICR7aG91cn06JHttaW59YDtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBzdHI7XHJcbiAgICB9XHJcblxyXG4gICAgZnVuY3Rpb24gaXNFbXB0eShvYmopIHtcclxuICAgICAgICByZXR1cm4gIW9iaiB8fCBPYmplY3Qua2V5cyhvYmopLmxlbmd0aCA9PT0gMDtcclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBmaWxsUmFkaW9Hcm91cExpc3QoJHdyYXBwZXIsIHRhc2tNb2RlcywgX2FjdGlvblRleHQpIHtcclxuICAgICAgICBpZiAoaXNFbXB0eSh0YXNrTW9kZXMpKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuaW5mbygndGFza01vZGVzIGlzIGVtcHR5Jyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGFjdGlvblRleHQgPSBfYWN0aW9uVGV4dCB8fCAn0L/QvtC00L/QuNGB0L7Quic7IC8vIHRvZG9cclxuICAgICAgICBjb25zdCByYWRpb0J0blJlZHVjZXIgPSBmdW5jdGlvbiAoaXRlbSwgdmFsKSB7XHJcbiAgICAgICAgICAgIHN3aXRjaCAoaXRlbSkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnQUdHUkVTU0lWRSc6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGA8aW5wdXQgdHlwZT1cInJhZGlvXCIgaWQ9XCIke2l0ZW19XCIgbmFtZT1cImN1c3RvbVJhZGlvXCIgdmFsdWU9XCIke2l0ZW19XCIgY2xhc3M9XCJjdXN0b20tY29udHJvbC1pbnB1dFwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzcz1cImN1c3RvbS1jb250cm9sLWxhYmVsXCIgZm9yPVwiJHtpdGVtfVwiPjxzdHJvbmc+0JDQs9GA0LXRgdGB0LjQstC90YvQuTo8L3N0cm9uZz4gJHt2YWx9ICR7YWN0aW9uVGV4dH0g0LIg0YfQsNGBPC9sYWJlbD5gO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnTUlERExFJzpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKGA8aW5wdXQgdHlwZT1cInJhZGlvXCIgaWQ9XCIke2l0ZW19XCIgbmFtZT1cImN1c3RvbVJhZGlvXCIgdmFsdWU9XCIke2l0ZW19XCIgY2xhc3M9XCJjdXN0b20tY29udHJvbC1pbnB1dFwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzcz1cImN1c3RvbS1jb250cm9sLWxhYmVsXCIgZm9yPVwiJHtpdGVtfVwiPjxzdHJvbmc+0KHRgNC10LTQvdC40Lk6PC9zdHJvbmc+ICR7dmFsfSAke2FjdGlvblRleHR9INCyINGH0LDRgTwvbGFiZWw+YCk7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdTQUZFJzpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gYDxpbnB1dCB0eXBlPVwicmFkaW9cIiBpZD1cIiR7aXRlbX1cIiBuYW1lPVwiY3VzdG9tUmFkaW9cIiB2YWx1ZT1cIiR7aXRlbX1cIiBjbGFzcz1cImN1c3RvbS1jb250cm9sLWlucHV0XCIgY2hlY2tlZD5cclxuICAgICAgICAgICAgICAgICAgICA8bGFiZWwgY2xhc3M9XCJjdXN0b20tY29udHJvbC1sYWJlbFwiIGZvcj1cIiR7aXRlbX1cIj48c3Ryb25nPtCR0LXQt9C+0L/QsNGB0L3Ri9C5Ojwvc3Ryb25nPiAke3ZhbH0gJHthY3Rpb25UZXh0fSDQsiDRh9Cw0YE8L2xhYmVsPmA7XHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdkZWZhdWx0JywgaXRlbSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgLy8gY29uc29sZS5sb2coJ2RyYXcgc3BlZWQgcmFkaW9CdG4nKTtcclxuICAgICAgICAkd3JhcHBlci5lbXB0eSgpO1xyXG4gICAgICAgIGZvciAoY29uc3QgaXRlbSBpbiB0YXNrTW9kZXMpIHtcclxuICAgICAgLy8gY29uc29sZS5sb2coJ3N0cnVjdHVyZTogJyArIGl0ZW0pO1xyXG4gICAgICAgICAgICBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHRhc2tNb2RlcywgaXRlbSkpIHtcclxuICAgICAgICAgICAgICAgICQoYDxkaXYgY2xhc3M9XCJjdXN0b20tY29udHJvbCBjdXN0b20tcmFkaW9cIj5cclxuICAgICAgICAgICAgICAgICR7cmFkaW9CdG5SZWR1Y2VyKGl0ZW0sIHRhc2tNb2Rlc1tpdGVtXSl9XHJcbiAgICAgICAgICAgIDwvZGl2PmApLmFwcGVuZFRvKCR3cmFwcGVyKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICBmdW5jdGlvbiBnZXRWYWxCeUNvbW1hU2VwYXJhdG9yKCRlbCkge1xyXG4gICAgICAgIHJldHVybiAkZWwudmFsKClcclxuICAgICAgICAgICAgICAgIC50cmltKClcclxuICAgICAgICAgICAgICAgIC5zcGxpdCgnLCcpXHJcbiAgICAgICAgICAgICAgICAubWFwKGkgPT4gaS50cmltKCkucmVwbGFjZSgn4oa1JywgJycpKVxyXG4gICAgICAgICAgICAgICAgLmZpbHRlcihpID0+IGkubGVuZ3RoID4gMClcclxuICAgICAgICAgICAgO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogY2ZnID17IGxvZ3NTdGF0ZSwgY2JGTigpIH1cclxuICAgICAqL1xyXG4gICAgZnVuY3Rpb24gYWRkRHJvcGRvd24oJHdyYXBwZXIsIGl0ZW1zLCBjZmcpIHtcclxuICAgICAgICBjb25zdCB7dGV4dFJ1c0FycmF5LCBsb2dzU3RhdGV9ID0gY2ZnO1xyXG4gICAgICAgIGNvbnN0IHtzZWxlY3RDbHNMb2dzVGFza1R5cGV9ID0gbG9nc1N0YXRlO1xyXG4gICAgICAgIGNvbnN0IGxhYmVsID0gJ9CS0YvQsdC10YDQuNGC0LUg0YLQuNC/JztcclxuICAgICAgICBjb25zdCBnZXRSdXMgPSAoaWR4KSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGlzVGV4dFVuZm9sbG93ID0gdGV4dFJ1c0FycmF5ICYmICEhdGV4dFJ1c0FycmF5Lmxlbmd0aDtcclxuICAgICAgICAgICAgc3dpdGNoIChpZHgpIHtcclxuICAgICAgICAgICAgICAgIGNhc2UgMCA6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChpc1RleHRVbmZvbGxvdykgPyB0ZXh0UnVzQXJyYXlbaWR4XSA6ICfQn9C+INC/0L7QtNC/0LjRgdGH0LjQutCw0LwnO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAxIDpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKGlzVGV4dFVuZm9sbG93KSA/IHRleHRSdXNBcnJheVtpZHhdIDogJ9Cf0L4g0LDQutGC0LjQstC90L7QuSDQsNGD0LTQuNGC0L7RgNC40Lgg0LrQvtC90LrRg9GA0LXQvdGC0L7Qsic7XHJcbiAgICAgICAgICAgICAgICBjYXNlIDIgOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAoaXNUZXh0VW5mb2xsb3cpID8gdGV4dFJ1c0FycmF5W2lkeF0gOiAnZGVmYXVsdCAtICgzKSc7XHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0OiByZXR1cm4gJ2RlZmF1bHQnO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICAkd3JhcHBlci5lbXB0eSgpLmFkZENsYXNzKCdib3JkZXItbGlnaHQtY29sb3InKTtcclxuICAgICAgICAkKGA8ZGl2IGNsYXNzPVwiXCI+JHtsYWJlbH08L2Rpdj48c2VsZWN0IG5hbWU9XCJ0YXNrLXN1YnR5cGVcIiBjbGFzcz1cIiR7c2VsZWN0Q2xzTG9nc1Rhc2tUeXBlfVwiPjwvc2VsZWN0PmApLmFwcGVuZFRvKCR3cmFwcGVyKTtcclxuICAgICAgICBpZiAoIWl0ZW1zLmxlbmd0aCkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChjZmcuaXNSZW5kZXJFbXB0eU9wdGlvbikge1xyXG4gICAgICAgICAgICAkKCc8b3B0aW9uIGNsYXNzPVwibGlzdC1ncm91cC1pdGVtIHB5LTIganNfZW1wdHktc3VidHlwZVwiIHZhbHVlPVwiLS0tXCI+LS0tPC9vcHRpb24+JykuYXBwZW5kVG8oJChgLiR7c2VsZWN0Q2xzTG9nc1Rhc2tUeXBlfWApKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaXRlbXMuZm9yRWFjaCgobmFtZSwgaWR4KSA9PiB7XHJcbiAgICAgICAgICAgICQoYDxvcHRpb24gY2xhc3M9XCJsaXN0LWdyb3VwLWl0ZW0gcHktMlwiIHZhbHVlPVwiJHtuYW1lfVwiPlxyXG4gICAgICAgICAgICAgICAgJHtnZXRSdXMoaWR4KX1cclxuICAgICAgICAgICAgPC9vcHRpb24+YCkuYXBwZW5kVG8oJChgLiR7c2VsZWN0Q2xzTG9nc1Rhc2tUeXBlfWApKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBpZiAoY2ZnLmRyb3Bkb3duT25TZWxlY3RDYikge1xyXG4gICAgICAgICAgICAkKGAuJHtzZWxlY3RDbHNMb2dzVGFza1R5cGV9YCkub24oJ2NoYW5nZScsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIGNmZy5kcm9wZG93bk9uU2VsZWN0Q2IoKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgc2hvd0luZm9NZXNzYWdlLFxyXG4gICAgICAgIGZpbGxMaXN0LFxyXG4gICAgICAgIGZpbGxSYWRpb0dyb3VwTGlzdCxcclxuICAgICAgICBpc0VtYWlsLFxyXG4gICAgICAgIGdldEZvcm1hdHRlZERhdGVVdGlsLFxyXG4gICAgICAgIGdldFZhbEJ5Q29tbWFTZXBhcmF0b3IsXHJcbiAgICAgICAgYWRkRHJvcGRvd25cclxuICAgIH07XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IHZpZXdVdGlscygpO1xyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvY29tbW9uL2pzLXNlcnZpY2VzL3ZpZXcuanMiLCIvLyBpbXBvcnQgJCBmcm9tICdqcXVlcnknO1xyXG5pbXBvcnQge0NPTlNUfSBmcm9tICcuL2NvbnN0cyc7XHJcbmltcG9ydCBOZXR3b3JrIGZyb20gJy4vbmV0d29yayc7XHJcbmltcG9ydCBDb29raWVTdG9yYWdlIGZyb20gJy4vY29va2llJztcclxuXHJcbmNvbnN0IG9ialRvQXJyID0gKG9iaikgPT4ge1xyXG4gICAgaWYgKG9iaiAmJiBvYmouc3VidHlwZSkge1xyXG4gICAgICAgIGlmICghb2JqLnN1YnR5cGUuaW5jbHVkZXMoJ3N1YnR5cGUvJykpIHtcclxuICAgICAgICAgICAgb2JqLnN1YnR5cGUgPSBgc3VidHlwZS8ke29iai5zdWJ0eXBlfWA7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmV0dXJuIE9iamVjdC52YWx1ZXMob2JqKTtcclxufTtcclxuXHJcbmNsYXNzIFVzZXJUYXNrTWFuYWdlciB7XHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy5uZXR3b3JrID0gbmV3IE5ldHdvcmsoKTtcclxuICAgICAgICB0aGlzLmNvb2tpZVN0b3JhZ2UgPSBDb29raWVTdG9yYWdlO1xyXG4gICAgICAgIHRoaXMuc2V0dGluZ1Bvc3QgPSB7XHJcbiAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxyXG4gICAgICAgICAgICAgICAgJ0FjY2VwdCc6ICdhcHBsaWNhdGlvbi9qc29uJ1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICB0aGlzLnBvc3RTdGFydEZvbGxvd2luZ0xpc3QgPSB0aGlzLnBvc3RTdGFydEZvbGxvd2luZ0xpc3Q7XHJcbiAgICAgICAgdGhpcy5wb3N0U3RhcnRUYXNrID0gdGhpcy5wb3N0U3RhcnRUYXNrO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIGlzTG9nZ2VkSW4oKSB7XHJcbiAgICAvLyAgICAgcmV0dXJuICEhdGhpcy5nZXRUb2tlbigpO1xyXG4gICAgLy8gfVxyXG4gICAgLy9cclxuICAgIC8vIGlzRW1haWxDb25maXJtZWQoKSB7XHJcbiAgICAvLyAgICAgcmV0dXJuICh0aGlzLmNvb2tpZVN0b3JhZ2UuZ2V0KENPTlNULmNvb2tpZVN0b3JhZ2UuZW1haWxDb25maXJtZWQpID09PSAnY29uZmlybWVkJyk7XHJcbiAgICAvLyB9XHJcbiAgICBnZXRUb2tlbihhc0hlYWRlcikge1xyXG4gICAgICAgIGNvbnN0IGNvb2tpZVRva2VuID0gdGhpcy5jb29raWVTdG9yYWdlLmdldChDT05TVC5jb29raWVTdG9yYWdlLnRva2VuKTtcclxuICAgICAgICByZXR1cm4gKGFzSGVhZGVyKSA/IHtoZWFkZXJzOiB7dG9rZW46IGNvb2tpZVRva2VufX0gOiBjb29raWVUb2tlbjtcclxuICAgIH1cclxuXHJcbiAgICBnZXRNZXRhZGF0YShwYXRoLCBjYkVycm9yKSB7XHJcbiAgICAgICAgY29uc3QgcGF0aEFyciA9IG9ialRvQXJyKHBhdGgpO1xyXG4gICAgICAgIHJldHVybiB0aGlzLm5ldHdvcmsuc2VuZFJlcXVlc3QoYCR7Q09OU1QuZ2V0UGF0aEJ5QXJyKCdpbnN0YWdyYW1UYXNrTWFuYWdlcl9nZXRUYXNrQnlUeXBlcycsIHBhdGhBcnIpfWAsXHJcbiAgICAgICAgICAgIHRoaXMuZ2V0VG9rZW4oJ2FzSGVhZGVyJyksIGNiRXJyb3IpO1xyXG4gICAgfVxyXG4gICAgZ2V0TWV0YWRhdGFMYXp5KHBhdGgsIGNiRXJyb3IpIHtcclxuICAgICAgICBjb25zdCBwYXRoQXJyID0gb2JqVG9BcnIocGF0aCk7XHJcbiAgICAgICAgcGF0aEFyci5wdXNoKCc/bGF6eT10cnVlJyk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubmV0d29yay5zZW5kUmVxdWVzdChgJHtDT05TVC5nZXRQYXRoQnlBcnIoJ2luc3RhZ3JhbVRhc2tNYW5hZ2VyX2dldFRhc2tCeVR5cGVzJywgcGF0aEFycil9YCxcclxuICAgICAgICAgICAgdGhpcy5nZXRUb2tlbignYXNIZWFkZXInKSwgY2JFcnJvcik7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0VGFza1R5cGVzKGRldGFpbHMsIGNiRXJyb3IpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5uZXR3b3JrLnNlbmRSZXF1ZXN0KGAke0NPTlNULmdldFBhdGgoJ2luc3RhZ3JhbVRhc2tNYW5hZ2VyX2dldFRhc2tUeXBlcycpfWAsXHJcbiAgICAgICAgICAgIHRoaXMuZ2V0VG9rZW4oJ2FzSGVhZGVyJyksIGNiRXJyb3IpO1xyXG4gICAgfVxyXG5cclxuICAgIHN0b3BUYXNrQnlJRCh0YXNrSWQsIGNiRXJyb3IpIHtcclxuICAgICAgICBjb25zdCBzZXR0aW5nID0ge1xyXG4gICAgICAgICAgICAuLi50aGlzLnNldHRpbmdQb3N0LFxyXG4gICAgICAgICAgICBtZXRob2Q6ICdQVVQnLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgICAgICAgICAuLi50aGlzLnNldHRpbmdQb3N0LmhlYWRlcnMsXHJcbiAgICAgICAgICAgICAgICAndG9rZW4nOiB0aGlzLmdldFRva2VuKClcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgY29uc3QgdXJsID0gQ09OU1QuZ2V0UGF0aCgnaW5zdGFncmFtVGFza01hbmFnZXJfcHV0U3RvcFRhc2tCeUlEJywgdGFza0lkKTtcclxuICAgICAgICByZXR1cm4gdGhpcy5uZXR3b3JrLnNlbmRSZXF1ZXN0KHVybCxcclxuICAgICAgICAgICAgc2V0dGluZywgY2JFcnJvcik7XHJcbiAgICB9XHJcblxyXG4gICAgZGVsZXRlVGFza0J5SUQodGFza0lkLCBjYkVycm9yKSB7XHJcbiAgICAgICAgY29uc3Qgc2V0dGluZyA9IHtcclxuICAgICAgICAgICAgLi4udGhpcy5zZXR0aW5nUG9zdCxcclxuICAgICAgICAgICAgbWV0aG9kOiAnREVMRVRFJyxcclxuICAgICAgICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICAgICAgICAgLi4udGhpcy5zZXR0aW5nUG9zdC5oZWFkZXJzLFxyXG4gICAgICAgICAgICAgICAgJ3Rva2VuJzogdGhpcy5nZXRUb2tlbigpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIGNvbnN0IHVybCA9IENPTlNULmdldFBhdGgoJ2luc3RhZ3JhbVRhc2tNYW5hZ2VyX2RlbFJlbW92ZVRhc2tCeUlEJywgdGFza0lkKTtcclxuICAgICAgICByZXR1cm4gdGhpcy5uZXR3b3JrLnNlbmRSZXF1ZXN0KHVybCxcclxuICAgICAgICAgICAgc2V0dGluZywgY2JFcnJvcik7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0RGVmYXVsdENvbmZpZ3MocGF0aCwgY2JFcnJvcikge1xyXG4gICAgICAgIGNvbnN0IHVybCA9IGAke0NPTlNULmdldFBhdGgoJ2luc3RhZ3JhbVRhc2tNYW5hZ2VyX2dldERlZmF1bHRDb25maWdzJyl9LyR7cGF0aC50eXBlfS9zdWJ0eXBlLyR7cGF0aC5zdWJ0eXBlfWA7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubmV0d29yay5zZW5kUmVxdWVzdCh1cmwsXHJcbiAgICAgICAgICAgIHRoaXMuZ2V0VG9rZW4oJ2FzSGVhZGVyJyksIGNiRXJyb3IpO1xyXG4gICAgfVxyXG5cclxuICAgIHBvc3RTdGFydEZvbGxvd2luZ0xpc3QoYm9keSwgY2JFcnJvciwgcGF0aCkge1xyXG4gICAgICAgIGNvbnN0IHNldHRpbmcgPSB7XHJcbiAgICAgICAgICAgIC4uLnRoaXMuc2V0dGluZ1Bvc3QsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAgICAgICAgIC4uLnRoaXMuc2V0dGluZ1Bvc3QuaGVhZGVycyxcclxuICAgICAgICAgICAgICAgICd0b2tlbic6IHRoaXMuZ2V0VG9rZW4oKSxcclxuICAgICAgICAgICAgICAgICdYLUF1dGgtVG9rZW4nOiAnZTJmNDMzNmFiZWE0NDA0ODljNTFjNWMxMDI5NGVhMTInXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIHNldHRpbmcuYm9keSA9IEpTT04uc3RyaW5naWZ5KGJvZHkpO1xyXG4gICAgICAgIGNvbnN0IHVybCA9IHBhdGggPyBgJHtDT05TVC5nZXRQYXRoKHBhdGgpfWAgOiBgJHtDT05TVC5nZXRQYXRoKCdpbnN0YWdyYW1UYXNrTWFuYWdlcl9wb3N0U3RhcnRGb2xsb3dpbmdMaXN0Jyl9YDtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXMubmV0d29yay5zZW5kUmVxdWVzdCh1cmwsXHJcbiAgICAgICAgICAgIHNldHRpbmcsIGNiRXJyb3IpO1xyXG4gICAgfVxyXG5cclxuICAgIHBvc3RTdGFydFRhc2soYm9keSwgY2JFcnJvcikge1xyXG4gICAgICAgIGNvbnN0IHBhdGggPSAnaW5zdGFncmFtVGFza01hbmFnZXJfcG9zdFN0YXJ0VGFzayc7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMucG9zdFN0YXJ0Rm9sbG93aW5nTGlzdChib2R5LCBjYkVycm9yLCBwYXRoKTtcclxuICAgIH1cclxuICAgIHBvc3RTdGFydENvbW1lbnRzKGJvZHksIGNiRXJyb3IpIHtcclxuICAgICAgICBjb25zdCBwYXRoID0gJ2luc3RhZ3JhbVRhc2tNYW5hZ2VyX3Bvc3RTdGFydFRhc2snO1xyXG4gICAgICAgIHJldHVybiB0aGlzLnBvc3RTdGFydEZvbGxvd2luZ0xpc3QoYm9keSwgY2JFcnJvciwgcGF0aCk7XHJcbiAgICB9XHJcbiAgICBwb3N0SW1hZ2VBdXRvbWVzc2FnZXMoYm9keSwgY2JFcnJvcikge1xyXG4gICAgICAgIGNvbnN0IHNldHRpbmcgPSB7XHJcbiAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgICAgICAgICAndG9rZW4nOiB0aGlzLmdldFRva2VuKCksXHJcbiAgICAgICAgICAgICAgICAnQWNjZXB0JzogJ2FwcGxpY2F0aW9uL2pzb24nLFxyXG4gICAgICAgICAgICAgICAgJ0NvbnRlbnQtdHlwZSc6ICdtdWx0aXBhcnQvZm9ybS1kYXRhJ1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICBzZXR0aW5nLmJvZHkgPSBKU09OLnN0cmluZ2lmeShib2R5KTtcclxuICAgICAgICBjb25zdCB1cmwgPSBgJHtDT05TVC5nZXRQYXRoKCdpbnN0YWdyYW1UYXNrTWFuYWdlcl9wb3N0SW1hZ2VBdHRhY2htZW50Jyl9YDtcclxuXHJcbiAgICAgICAgcmV0dXJuIHRoaXMubmV0d29yay5zZW5kUmVxdWVzdCh1cmwsXHJcbiAgICAgICAgICAgIHNldHRpbmcsIGNiRXJyb3IpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldExvZ3NDaGF0Qm90KHBhdGhBcnJheSwgcGFnZSwgY2JFcnJvcikge1xyXG4gICAgICAgIC8vIGNvbnN0IHBhdGhBcnIgPSBvYmpUb0FycihwYXRoKTtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZygnY29udmVydCBwYXRoIGFzIEFSUicsIHBhdGhBcnJheSwgcGFnZSk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubmV0d29yay5zZW5kUmVxdWVzdChgJHtDT05TVC5nZXRQYXRoQnlBcnIoJ2luc3RhZ3JhbVRhc2tNYW5hZ2VyX2dldExvZ3NDaGF0Qm90JywgcGF0aEFycmF5LCBwYWdlKX1gLFxyXG4gICAgICAgICAgICB0aGlzLmdldFRva2VuKCdhc0hlYWRlcicpLCBjYkVycm9yKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRQb3N0c0F1dG9tZXNzYWdlcyhkZXRhaWxzLCBjYkVycm9yKSB7XHJcbiAgICAgICAgY29uc3QgY3Vyc29yID0gKGRldGFpbHMuY3Vyc29yKSA/IGA/Y3Vyc29yPSR7ZGV0YWlscy5jdXJzb3J9YCA6ICcnO1xyXG4gICAgICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby1wYXJhbS1yZWFzc2lnblxyXG4gICAgICAgIGNvbnN0IHVybEJ5VXNlck5hbWUgPSBgJHtDT05TVC5nZXRQYXRoKCdpbnN0YWdyYW1UYXNrTWFuYWdlcl9nZXRQb3N0cycsIGRldGFpbHMudXNlck5hbWUgfHwgJ3VzZXJfbm90X3NlbGVjdGVkJyl9JHtjdXJzb3J9YDtcclxuICAgICAgICByZXR1cm4gdGhpcy5uZXR3b3JrLnNlbmRSZXF1ZXN0KHVybEJ5VXNlck5hbWUsXHJcbiAgICAgICAgICAgIHRoaXMuZ2V0VG9rZW4oJ2FzSGVhZGVyJyksIGNiRXJyb3IpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldFN0b3JpZXNDb25maWcocGF0aCwgY2JFcnJvcikge1xyXG4gICAgICAgIGNvbnN0IHVybCA9IGAke0NPTlNULmdldFBhdGgoJ2luc3RhZ3JhbVRhc2tNYW5hZ2VyX2dldERlZmF1bHRDb25maWdzJyl9LyR7cGF0aC50eXBlfS9zdWJ0eXBlLyR7cGF0aC5zdWJ0eXBlfWA7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubmV0d29yay5zZW5kUmVxdWVzdCh1cmwsXHJcbiAgICAgICAgICB0aGlzLmdldFRva2VuKCdhc0hlYWRlcicpLCBjYkVycm9yKTtcclxuICAgIH1cclxuXHJcbn1cclxuXHJcbmxldCB1c2VySW5zdGFuY2UgPSBudWxsO1xyXG5cclxuaWYgKCF1c2VySW5zdGFuY2UpIHtcclxuICAgIHVzZXJJbnN0YW5jZSA9IG5ldyBVc2VyVGFza01hbmFnZXIoKTtcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgdXNlckluc3RhbmNlO1xyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvY29tbW9uL2pzLXNlcnZpY2VzL2FwaS10YXNrLW1hbmFnZXIuanMiLCIvLyBpbXBvcnQgJCBmcm9tICdqcXVlcnknO1xyXG5pbXBvcnQge0NPTlNUfSBmcm9tICcuL2NvbnN0cyc7XHJcbmltcG9ydCBOZXR3b3JrIGZyb20gJy4vbmV0d29yayc7XHJcbmltcG9ydCBDb29raWVTdG9yYWdlIGZyb20gJy4vY29va2llJztcclxuXHJcbmNsYXNzIFVzZXIge1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRoaXMubmV0d29yayA9IG5ldyBOZXR3b3JrKCk7XHJcbiAgICAgICAgdGhpcy5jb29raWVTdG9yYWdlID0gQ29va2llU3RvcmFnZTtcclxuICAgICAgICB0aGlzLnNldHRpbmdQb3N0ID0ge1xyXG4gICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcclxuICAgICAgICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICAgICAgICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJyxcclxuICAgICAgICAgICAgICAgICdBY2NlcHQnOiAnYXBwbGljYXRpb24vanNvbidcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICB9XHJcblxyXG4gICAgaXNMb2dnZWRJbigpIHtcclxuICAgICAgICByZXR1cm4gISF0aGlzLmdldFRva2VuKCk7XHJcbiAgICB9XHJcblxyXG4gICAgaXNFbWFpbENvbmZpcm1lZCgpIHtcclxuICAgICAgICByZXR1cm4gKHRoaXMuY29va2llU3RvcmFnZS5nZXQoQ09OU1QuY29va2llU3RvcmFnZS5lbWFpbENvbmZpcm1lZCkgPT09ICdjb25maXJtZWQnKTtcclxuICAgIH1cclxuXHJcbiAgICBnZXRUb2tlbihhc0hlYWRlcikge1xyXG4gICAgICAgIGNvbnN0IGNvb2tpZVRva2VuID0gdGhpcy5jb29raWVTdG9yYWdlLmdldChDT05TVC5jb29raWVTdG9yYWdlLnRva2VuKTtcclxuICAgICAgICByZXR1cm4gKGFzSGVhZGVyKSA/IHtoZWFkZXJzOiB7dG9rZW46IGNvb2tpZVRva2VufX0gOiBjb29raWVUb2tlbjtcclxuICAgIH1cclxuXHJcbiAgICBsb2dpbihmb3JtRGF0YSwgY2JFcnJvcikge1xyXG4gICAgICAgIGNvbnN0IHNldHRpbmcgPSB7Li4udGhpcy5zZXR0aW5nUG9zdCwgYm9keTogSlNPTi5zdHJpbmdpZnkoZm9ybURhdGEpfTtcclxuICAgICAgICByZXR1cm4gdGhpcy5uZXR3b3JrLnNlbmRSZXF1ZXN0KENPTlNULmdldFBhdGgoJ2xvZ2luJyksIHNldHRpbmcsIGNiRXJyb3IpO1xyXG4gICAgfVxyXG5cclxuICAgIGFkZEluc3RhZ3JhbUFjY291bnQoZm9ybURhdGEsIGNiRXJyb3IpIHtcclxuICAgICAgICBjb25zdCB7dXNlcm5hbWUsIHBhc3N3b3JkLCBpcCwgcG9ydCwgdXNlcm5hbWVQcm94eSwgcGFzc3dvcmRQcm94eX0gPSBmb3JtRGF0YTtcclxuXHJcbiAgICAgICAgLy8gVE9ETzogZGVsIHByb3h5VE1QIGFmdGVyIGJldGEtdGVzdGluZ1xyXG4gICAgICAgIGNvbnN0IHByb3h5VE1QID0ge1xyXG4gICAgICAgICAgICAncHJveHknOiB7XHJcbiAgICAgICAgICAgICAgICAnaG9zdCc6IGlwLFxyXG4gICAgICAgICAgICAgICAgcG9ydCxcclxuICAgICAgICAgICAgICAgIHVzZXJuYW1lOiB1c2VybmFtZVByb3h5LFxyXG4gICAgICAgICAgICAgICAgcGFzc3dvcmQ6IHBhc3N3b3JkUHJveHlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgY29uc3QgYm9keSA9IEpTT04uc3RyaW5naWZ5KHt1c2VybmFtZSxcclxuICAgICAgICAgICAgcGFzc3dvcmQsXHJcbiAgICAgICAgICAgIC4uLnByb3h5VE1QIC8vIFRPRE86IGRlbCBwcm94eVRNUCBhZnRlciBiZXRhLXRlc3RpbmdcclxuICAgICAgICB9KTtcclxuICAgICAgICBjb25zdCBzZXR0aW5nID0ge1xyXG4gICAgICAgICAgICAuLi50aGlzLnNldHRpbmdQb3N0LFxyXG4gICAgICAgICAgICBib2R5LFxyXG4gICAgICAgICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgICAgICAgICAuLi50aGlzLnNldHRpbmdQb3N0LmhlYWRlcnMsXHJcbiAgICAgICAgICAgICAgICB0b2tlbjogdGhpcy5nZXRUb2tlbigpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICByZXR1cm4gdGhpcy5uZXR3b3JrLnNlbmRSZXF1ZXN0KENPTlNULmdldFBhdGgoJ2luc3RhZ3JhbV9hZGRBY2NvdW50JyksIHNldHRpbmcsIGNiRXJyb3IpO1xyXG4gICAgfVxyXG4gICAgZWRpdEluc3RhZ3JhbUFjY291bnQodXNlcm5hbWUsIGJvZHkpIHtcclxuICAgICAgICBjb25zdCBzZXR0aW5nID0ge1xyXG4gICAgICAgICAgICBtZXRob2Q6ICdQVVQnLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgICAgICAgICAuLi50aGlzLnNldHRpbmdQb3N0LmhlYWRlcnMsXHJcbiAgICAgICAgICAgICAgICAndG9rZW4nOiB0aGlzLmdldFRva2VuKClcclxuICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgYm9keVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgY29uc3QgdXJsID0gYCR7Q09OU1QuZ2V0UGF0aCgnaW5zdGFncmFtX21vZGlmeUFjY291bnQnLCB1c2VybmFtZSl9YDtcclxuICAgICAgICBjb25zb2xlLmxvZyh1cmwpO1xyXG4gICAgICAgIHJldHVybiB0aGlzLm5ldHdvcmsuc2VuZFJlcXVlc3QoYCR7Q09OU1QuZ2V0UGF0aCgnaW5zdGFncmFtX21vZGlmeUFjY291bnQnLCB1c2VybmFtZSl9YCwgc2V0dGluZyk7XHJcbiAgICB9XHJcbiAgICB1cGRhdGVJbnN0YWdyYW1BY2NvdW50KHVzZXJuYW1lLCBib2R5KSB7XHJcbiAgICAgICAgY29uc3Qgc2V0dGluZyA9IHtcclxuICAgICAgICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICAgICAgICAgLi4udGhpcy5zZXR0aW5nUG9zdC5oZWFkZXJzLFxyXG4gICAgICAgICAgICAgICAgJ3Rva2VuJzogdGhpcy5nZXRUb2tlbigpXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIGJvZHlcclxuICAgICAgICB9O1xyXG4gICAgICAgIC8vIGNvbnN0IHVybCA9IGAke0NPTlNULmdldFBhdGgoJ2luc3RhZ3JhbV9tb2RpZnlBY2NvdW50JywgdXNlcm5hbWUpfWA7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2codXJsKTtcclxuICAgICAgICByZXR1cm4gdGhpcy5uZXR3b3JrLnNlbmRSZXF1ZXN0KGAke0NPTlNULmdldFBhdGgoJ2luc3RhZ3JhbV9nZXRBY2NvdW50QnlVc2VyJywgdXNlcm5hbWUpfWAsIHNldHRpbmcpO1xyXG4gICAgfVxyXG4gICAgZGVsSW5zdGFncmFtQWNjb3VudCh1c2VybmFtZSkge1xyXG4gICAgICAgIGNvbnN0IHNldHRpbmcgPSB7XHJcbiAgICAgICAgICAgIG1ldGhvZDogJ0RFTEVURScsXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAgICAgICAgIC4uLnRoaXMuc2V0dGluZ1Bvc3QuaGVhZGVycyxcclxuICAgICAgICAgICAgICAgICd0b2tlbic6IHRoaXMuZ2V0VG9rZW4oKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICByZXR1cm4gdGhpcy5uZXR3b3JrLnNlbmRSZXF1ZXN0KGAke0NPTlNULmdldFBhdGgoJ2luc3RhZ3JhbV9tb2RpZnlBY2NvdW50JywgdXNlcm5hbWUpfWAsIHNldHRpbmcpO1xyXG4gICAgfVxyXG5cclxuICAgIC8vIGdldEluc3RhZ3JhbUFjY291bnQoKSB7XHJcbiAgICAvLyAgICAgY29uc3Qgc2V0dGluZyA9IHtcclxuICAgIC8vICAgICAgICAgLi4udGhpcy5zZXR0aW5nUG9zdCxcclxuICAgIC8vICAgICAgICAgbWV0aG9kOiAnR0VUJyxcclxuICAgIC8vICAgICAgICAgaGVhZGVyczoge1xyXG4gICAgLy8gICAgICAgICAgICAgLi4udGhpcy5zZXR0aW5nUG9zdC5oZWFkZXJzLFxyXG4gICAgLy8gICAgICAgICAgICAgdG9rZW46IHRoaXMuZ2V0VG9rZW4oKVxyXG4gICAgLy8gICAgICAgICB9XHJcbiAgICAvLyAgICAgfTtcclxuICAgIC8vICAgICByZXR1cm4gdGhpcy5uZXR3b3JrLnNlbmRSZXF1ZXN0KENPTlNULmdldFBhdGgoJ2luc3RhZ3JhbV9hZGRBY2NvdW50JyksIHNldHRpbmcpO1xyXG4gICAgLy8gfVxyXG5cclxuICAgIGNvbmZpcm0odG9rZW4pIHtcclxuICAgICAgICAvLyBjb25zdCBjb25maXJtVXJsID0gQ09OU1QuZ2V0UGF0aCgnY29uZmlybWF0aW9uJyk7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubmV0d29yay5zZW5kUmVxdWVzdChgJHtDT05TVC5nZXRQYXRoKCdjb25maXJtYXRpb24nKSArIHRva2VufWApO1xyXG4gICAgfVxyXG5cclxuICAgIHJlZ2lzdGVyKGZvcm1EYXRhKSB7XHJcbiAgICAgICAgY29uc3Qgc2V0dGluZyA9IHtcclxuICAgICAgICAgICAgLi4udGhpcy5zZXR0aW5nUG9zdCxcclxuICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoZm9ybURhdGEpXHJcbiAgICAgICAgfTtcclxuICAgICAgICByZXR1cm4gdGhpcy5uZXR3b3JrLnNlbmRSZXF1ZXN0KENPTlNULmdldFBhdGgoJ3JlZ2lzdHJhdGlvbicpLCBzZXR0aW5nKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyB0b2RvOiBtb3ZlIHRvIGFjY291bnQtbGlzdFxyXG4gICAgZ2V0TWV0YWRhdGEoY2JFcnJvcikge1xyXG4gICAgICAgIHJldHVybiB0aGlzLm5ldHdvcmsuc2VuZFJlcXVlc3QoYCR7Q09OU1QuZ2V0UGF0aCgnaW5zdGFncmFtQWNjb3VudF9nZXRNZXRhRGF0YScpfWAsXHJcbiAgICAgICAgICAgIHRoaXMuZ2V0VG9rZW4oJ2FzSGVhZGVyJyksIGNiRXJyb3IpO1xyXG4gICAgfVxyXG4gICAgZ2V0TWV0YWRhdGFMYXp5KGNiRXJyb3IpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5uZXR3b3JrLnNlbmRSZXF1ZXN0KGAke0NPTlNULmdldFBhdGgoJ2luc3RhZ3JhbUFjY291bnRfZ2V0TWV0YURhdGEnKX0/bGF6eT10cnVlYCxcclxuICAgICAgICAgICAgdGhpcy5nZXRUb2tlbignYXNIZWFkZXInKSwgY2JFcnJvcik7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0U2VjdXJpdHlLZXkodXNlcm5hbWUsIGNoZWNrcG9pbnRUeXBlKSB7XHJcbiAgICAgICAgY29uc3Qgc2V0dGluZyA9IHtcclxuICAgICAgICAgICAgLi4udGhpcy5zZXR0aW5nUG9zdCxcclxuICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeyd0eXBlJzogY2hlY2twb2ludFR5cGV9KSwgLy8gdG9kbzogdG1wIHNldCwgaXQgc2hvdWxkIGJlICd0eXBlJ1xyXG4gICAgICAgICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgICAgICAgICAuLi50aGlzLnNldHRpbmdQb3N0LmhlYWRlcnMsXHJcbiAgICAgICAgICAgICAgICAndG9rZW4nOiB0aGlzLmdldFRva2VuKClcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubmV0d29yay5zZW5kUmVxdWVzdChgJHtDT05TVC5nZXRQYXRoKCdpbnN0YWdyYW1BY2NvdW50X2NoZWNrcG9pbnQnKX0ke3VzZXJuYW1lfWAsIHNldHRpbmcpO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbmZpcm1TZWN1cml0eUtleShrZXksIHVzZXJuYW1lKSB7XHJcbiAgICAgICAgY29uc3Qgc2V0dGluZyA9IHtcclxuICAgICAgICAgICAgbWV0aG9kOiAnREVMRVRFJyxcclxuICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoeydzZWN1cml0eV9jb2RlJzoga2V5fSksXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAgICAgICAgIC4uLnRoaXMuc2V0dGluZ1Bvc3QuaGVhZGVycyxcclxuICAgICAgICAgICAgICAgICd0b2tlbic6IHRoaXMuZ2V0VG9rZW4oKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICByZXR1cm4gdGhpcy5uZXR3b3JrLnNlbmRSZXF1ZXN0KGAke0NPTlNULmdldFBhdGgoJ2luc3RhZ3JhbUFjY291bnRfY29uZmlybUtleScpfSR7dXNlcm5hbWV9YCwgc2V0dGluZyk7XHJcbiAgICB9XHJcblxyXG59XHJcblxyXG5sZXQgdXNlckluc3RhbmNlID0gbnVsbDtcclxuXHJcbmlmICghdXNlckluc3RhbmNlKSB7XHJcbiAgICB1c2VySW5zdGFuY2UgPSBuZXcgVXNlcigpO1xyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCB1c2VySW5zdGFuY2U7XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9jb21tb24vanMtc2VydmljZXMvdXNlci5qcyIsIlxyXG5jb25zdCBDb29raWVTcnYgPSB7XHJcbiAgICBnZXQ6IG5hbWUgPT4ge1xyXG4gICAgICAgIGNvbnN0IGMgPSBkb2N1bWVudC5jb29raWUubWF0Y2goYCg/Oig/Ol58Lio7ICopJHtuYW1lfSAqPSAqKFteO10qKS4qJCl8Xi4qJGApWzFdO1xyXG4gICAgICAgIGlmIChjKSB7XHJcbiAgICAgICAgICAgIHJldHVybiBkZWNvZGVVUklDb21wb25lbnQoYyk7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIHNldDogKG5hbWUsIHZhbHVlLCBvcHRzID0ge3BhdGg6ICcvJywgZGF5czogMzY1fSkgPT4ge1xyXG4gICAgICAgIGlmIChvcHRzLmRheXMpIHtcclxuICAgICAgICAgICAgb3B0c1snbWF4LWFnZSddID0gb3B0cy5kYXlzICogNjAgKiA2MCAqIDI0O1xyXG4gICAgICAgICAgICBkZWxldGUgb3B0cy5kYXlzO1xyXG4gICAgICAgIH1cclxuICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tcGFyYW0tcmVhc3NpZ25cclxuICAgICAgICBvcHRzID0gT2JqZWN0LmVudHJpZXMob3B0cykucmVkdWNlKChzdHIsIFtrLCB2XSkgPT4gYCR7c3RyfTsgJHtrfT0ke3Z9YCwgJycpO1xyXG4gICAgICAgIGRvY3VtZW50LmNvb2tpZSA9IGAke25hbWV9PSR7ZW5jb2RlVVJJQ29tcG9uZW50KHZhbHVlKSArIG9wdHN9YDtcclxuICAgIH0sXHJcbiAgICByZW1vdmU6IChuYW1lLCBvcHRzKSA9PiBDb29raWVTcnYuc2V0KG5hbWUsICcnLCB7J21heC1hZ2UnOiAtMSwgcGF0aDogJy8nLCBkYXlzOiAwLCAuLi5vcHRzfSlcclxuICAgIC8vIHBhdGggJiBkb21haW4gbXVzdCBtYXRjaCBjb29raWUgYmVpbmcgZGVsZXRlZFxyXG59O1xyXG5cclxuLypcclxuY2xhc3MgQ29va2llU3RvcmFnZSB7XHJcbiAgICByZWFkKGtleSkge1xyXG4gICAgICAgIGNvbnN0IHZhbHVlID0gJC5jb29raWUoa2V5KTtcclxuICAgICAgICByZXR1cm4gdmFsdWUgPT09IHVuZGVmaW5lZCA/IG51bGwgOiB2YWx1ZTtcclxuICAgIH1cclxuXHJcbiAgICBzZXRDb29raWUobmFtZSwgdmFsdWUsIGRheXMpIHtcclxuICAgICAgICBsZXQgZXhwaXJlcyA9ICcnO1xyXG4gICAgICAgIGlmIChkYXlzKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IGRhdGUgPSBuZXcgRGF0ZSgpO1xyXG4gICAgICAgICAgICBkYXRlLnNldFRpbWUoZGF0ZS5nZXRUaW1lKCkgKyAoZGF5cyAqIDI0ICogNjAgKiA2MCAqIDEwMDApKTtcclxuICAgICAgICAgICAgZXhwaXJlcyA9IGA7IGV4cGlyZXM9JHtkYXRlLnRvVVRDU3RyaW5nKCl9YDtcclxuICAgICAgICB9XHJcbiAgICAgICAgZG9jdW1lbnQuY29va2llID0gYCR7bmFtZX0gPSR7KHZhbHVlIHx8ICcnKSArIGV4cGlyZXN9OyBwYXRoPS9gO1xyXG4gICAgfVxyXG5cclxuICAgIGdldENvb2tpZShuYW1lKSB7XHJcbiAgICAgICAgY29uc3QgdmFsdWUgPSBgOyAke2RvY3VtZW50LmNvb2tpZX1gO1xyXG4gICAgICAgIGNvbnN0IHBhcnRzID0gdmFsdWUuc3BsaXQoYDsgJHtuYW1lfT1gKTtcclxuICAgICAgICBpZiAocGFydHMubGVuZ3RoID09IDIpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHBhcnRzLnBvcCgpLnNwbGl0KCc7Jykuc2hpZnQoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuKi9cclxuXHJcbmV4cG9ydCBkZWZhdWx0IENvb2tpZVNydjtcclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2NvbW1vbi9qcy1zZXJ2aWNlcy9jb29raWUuanMiLCJpbXBvcnQgVXNlclRhc2tNYW5hZ2VyIGZyb20gJy4uLy4uLy4uL2NvbW1vbi9qcy1zZXJ2aWNlcy9hcGktdGFzay1tYW5hZ2VyJztcclxuaW1wb3J0IHZpZXdVdGlscyBmcm9tICcuLi8uLi8uLi9jb21tb24vanMtc2VydmljZXMvdmlldyc7XHJcbmltcG9ydCB7Q09OU1R9IGZyb20gJy4uLy4uLy4uL2NvbW1vbi9qcy1zZXJ2aWNlcy9jb25zdHMnO1xyXG5cclxuY29uc3QgbW9kZVJ1cyA9IChtb2RlKSA9PiB7XHJcbiAgICBzd2l0Y2ggKG1vZGUpIHtcclxuICAgICAgICBjYXNlICdBR0dSRVNTSVZFJzpcclxuICAgICAgICAgICAgcmV0dXJuICfQkNCz0YDQtdGB0YHQuNCy0L3Ri9C5JztcclxuICAgICAgICBjYXNlICdNSURETEUnOlxyXG4gICAgICAgICAgICByZXR1cm4gJ9Ch0YDQtdC00L3QuNC5JztcclxuICAgICAgICBjYXNlICdTQUZFJzpcclxuICAgICAgICAgICAgcmV0dXJuICcg0JHQtdC30L7Qv9Cw0YHQvdGL0LknO1xyXG4gICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgfVxyXG59O1xyXG5cclxuZnVuY3Rpb24gZmlsbExpc3RCeVN0YXRlKHRhc2tTdGF0ZSwgJGxpc3QsIGl0ZW0pIHtcclxuICAgIGNvbnN0IHtwcm9ncmVzcywgY3JlYXRlZF9hdCwgdGFza19pZCwgdHlwZSwgc3RhdHVzLCB1c2VybmFtZSwgbW9kZX0gPSBpdGVtO1xyXG4gICAgY29uc3QgYWRkSXRlbSA9ICh0cGxTdG9wKSA9PiB7XHJcbiAgICAgICAgJChgPGxpIGNsYXNzPVwibGlzdC1ncm91cC1pdGVtIHAtMCBweS0yXCIgZGF0YS10eXBlPVwiJHt0eXBlfVwiIGRhdGEtdGFzay1pZD1cIiR7dGFza19pZH1cIj5cclxuICAgICAgICAgICAgICAgICR7dHBsU3RvcH1cclxuICAgICAgICAgICAgPC9saT5gKS5hcHBlbmRUbygkbGlzdCk7XHJcbiAgICB9O1xyXG4gICAgY29uc3QgdHBsUGF1c2VkID0gYDxkaXYgY2xhc3M9XCJjYXJkLWJsb2NrXCI+XHJcbiAgICAgICAgPGg0IGNsYXNzPVwiY2FyZC10aXRsZVwiPtCd0LAg0L/QsNGD0LfQtTwvaDQ+XHJcbiAgICAgICAgPGRpdiBjbGFzcz1cInRleHQtcmlnaHRcIj5cclxuICAgICAgICAgICAgJHsocHJvZ3Jlc3MgJiYgcHJvZ3Jlc3MudGltZXN0YW1wKSA/IGA8c3BhbiBjbGFzcz1cInRleHQtbXV0ZWRcIj4ke3ZpZXdVdGlscy5nZXRGb3JtYXR0ZWREYXRlVXRpbChwcm9ncmVzcy50aW1lc3RhbXApfTwvc3Bhbj5gIDogJyd9XHJcbiAgICAgICAgICAgICR7Y3JlYXRlZF9hdCA/IGA8c3BhbiBjbGFzcz1cInRleHQtbXV0ZWRcIj4ke3ZpZXdVdGlscy5nZXRGb3JtYXR0ZWREYXRlVXRpbChjcmVhdGVkX2F0KX08L3NwYW4+YCA6ICcnfVxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDxzcGFuIGNsYXNzPVwidGV4dC1zdWNjZXNzXCI+MTAlPC9zcGFuPlxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJwcm9ncmVzcyBtYi0zXCI+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJwcm9ncmVzcy1iYXIgYmctc3VjY2Vzc1wiIHJvbGU9XCJwcm9ncmVzc2JhclwiIHN0eWxlPVwid2lkdGg6IDEwJTsgaGVpZ2h0OiA2cHg7XCIgYXJpYS12YWx1ZW5vdz1cIjI1XCIgYXJpYS12YWx1ZW1pbj1cIjBcIiBhcmlhLXZhbHVlbWF4PVwiMTAwXCI+PC9kaXY+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImJ0biBidG4td2FybmluZyBqc19idG4tZGVsZXRlLXRhc2tcIj7Qo9C00LDQu9C40YLRjDwvYnV0dG9uPmA7XHJcbiAgICBjb25zdCB0cGxQcm9ncmVzcyA9IGA8ZGl2IGNsYXNzPVwibm8tZ3V0dGVycyBweC0yIHJvdyB0YXNrLXByb2dyZXNzXCI+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtNiBhbGlnbi1pdGVtcy1jZW50ZXIgZC1mbGV4XCI+XHJcbiAgICAgICAgICAgICAgICA8aW1nIHNyYz1cIiR7c2Vzc2lvblN0b3JhZ2UuZ2V0SXRlbSh1c2VybmFtZSl9XCIgY2xhc3M9XCJyb3VuZGVkLWNpcmNsZSBhdmF0YXJcIiBhbHQ9XCLQsNCy0LDRgtCw0YBcIi8+XHJcbiAgICAgICAgICAgICAgICA8aDIgY2xhc3M9XCJtdC0wIG1iLTEgbWwtMlwiPiR7dXNlcm5hbWV9PC9oMj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wtNiBjb2wtNi0td2l0aC1ib3JkZXJzXCI+XHJcbiAgICAgICAgICAgICAgICA8cCBjbGFzcz1cInBiLTEgbmFtZVwiPjxiPklEOjwvYj4gJHt0YXNrX2lkfTwvcD5cclxuICAgICAgICAgICAgICAgICR7Y3JlYXRlZF9hdCA/IGA8cCBjbGFzcz1cInBiLTFcIj48Yj7Ql9Cw0L/Rg9GJ0LXQvdC+OjwvYj4gJHt2aWV3VXRpbHMuZ2V0Rm9ybWF0dGVkRGF0ZVV0aWwoY3JlYXRlZF9hdCwgJ3Nob3dGdWxsVGltZScpfTwvcD5gIDogJyd9XHJcbiAgICAgICAgICAgICAgICAke21vZGUgPyBgPHAgY2xhc3M9XCJwYi0xXCI+PGI+0KDQtdC20LjQvDo8L2I+ICR7bW9kZVJ1cyhtb2RlKX08L3A+YCA6ICcnfVxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInRleHQtY2VudGVyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tb3V0bGluZS1wcmltYXJ5IGpzX2J0bi1zdG9wLXRhc2tcIj48aSBjbGFzcz1cImZhciBmYS1wYXVzZS1jaXJjbGUgZmEtbGdcIj48L2k+PC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgPCEtLWJ1dHRvbiBjbGFzcz1cImJ0biBidG4td2FybmluZyBqc19idG4tZGVsZXRlLXRhc2sgbWwtM1wiPjxpIGNsYXNzPVwiZmFyIGZhLXRyYXNoLWFsdCBmYS1sZ1wiPjwvaT48L2J1dHRvbi0tPlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvZGl2PmA7XHJcbiAgICBjb25zdCB0cGxTdG9wID0gYDxkaXYgY2xhc3M9XCJuby1ndXR0ZXJzIHB4LTIgcm93IHRhc2stc3RvcHBlZFwiPlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLTYgYWxpZ24taXRlbXMtY2VudGVyIGQtZmxleFwiPlxyXG4gICAgICAgICAgICAgICAgPGltZyBzcmM9XCIke3Nlc3Npb25TdG9yYWdlLmdldEl0ZW0odXNlcm5hbWUpfVwiIGNsYXNzPVwicm91bmRlZC1jaXJjbGUgYXZhdGFyXCIgYWx0PVwi0LDQstCw0YLQsNGAXCIvPlxyXG4gICAgICAgICAgICAgICAgPGgyIGNsYXNzPVwibXQtMCBtYi0xIG1sLTJcIj4ke3VzZXJuYW1lfTwvaDI+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sLTYgY29sLTYtLXdpdGgtYm9yZGVyc1wiPlxyXG4gICAgICAgICAgICAgICAgPHAgY2xhc3M9XCJwYi0xIG5hbWVcIj48Yj5JRDo8L2I+ICR7dGFza19pZH08L3A+XHJcbiAgICAgICAgICAgICAgICAkeyhpdGVtLnN0YXR1cy5yZWFzb24pID8gYDxwIGNsYXNzPVwibXktMVwiPiR7c3RhdHVzLnJlYXNvbn08L3A+YCA6ICcnfVxyXG4gICAgICAgICAgICAgICAgJHtjcmVhdGVkX2F0ID8gYDxwIGNsYXNzPVwicGItMVwiPjxiPtCX0LDQv9GD0YnQtdC90L46PC9iPiAke3ZpZXdVdGlscy5nZXRGb3JtYXR0ZWREYXRlVXRpbChjcmVhdGVkX2F0LCAnc2hvd0Z1bGxUaW1lJyl9PC9wPmAgOiAnJ31cclxuICAgICAgICAgICAgICAgICR7bW9kZSA/IGA8cCBjbGFzcz1cInBiLTFcIj48Yj7QoNC10LbQuNC8OjwvYj4gJHttb2RlUnVzKG1vZGUpfTwvcD5gIDogJyd9XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwidGV4dC1jZW50ZXJcIj5cclxuICAgICAgICAgICAgICAgICAgICA8YnV0dG9uIGNsYXNzPVwiYnRuIGJ0bi13YXJuaW5nIGpzX2J0bi1kZWxldGUtdGFza1wiPjxpIGNsYXNzPVwiZmFyIGZhLXRyYXNoLWFsdCBmYS1sZ1wiPjwvaT48L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgPC9kaXY+YDtcclxuICAgIGNvbnN0IHRwbEZpbmlzaGVkID0gYDxkaXYgY2xhc3M9XCJuby1ndXR0ZXJzIHB4LTIgcm93IHRhc2stcHJvZ3Jlc3NcIj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbC02IGFsaWduLWl0ZW1zLWNlbnRlciBkLWZsZXhcIj5cclxuICAgICAgICAgICAgICAgIDxpbWcgc3JjPVwiJHtzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKHVzZXJuYW1lKX1cIiBjbGFzcz1cInJvdW5kZWQtY2lyY2xlIGF2YXRhclwiIGFsdD1cItCw0LLQsNGC0LDRgFwiLz5cclxuICAgICAgICAgICAgICAgIDxoMiBjbGFzcz1cIm10LTAgbWItMSBtbC0yXCI+JHt1c2VybmFtZX08L2gyPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbC02IGNvbC02LS13aXRoLWJvcmRlcnNcIj5cclxuICAgICAgICAgICAgICAgIDxwIGNsYXNzPVwicGItMSBuYW1lXCI+PGI+SUQ6PC9iPiAke3Rhc2tfaWR9PC9wPlxyXG4gICAgICAgICAgICAgICAgJHtjcmVhdGVkX2F0ID8gYDxwIGNsYXNzPVwicGItMVwiPjxiPtCX0LDQv9GD0YnQtdC90L46PC9iPiAke3ZpZXdVdGlscy5nZXRGb3JtYXR0ZWREYXRlVXRpbChjcmVhdGVkX2F0LCAnc2hvd0Z1bGxUaW1lJyl9PC9wPmAgOiAnJ31cclxuICAgICAgICAgICAgICAgICR7bW9kZSA/IGA8cCBjbGFzcz1cInBiLTFcIj48Yj7QoNC10LbQuNC8OjwvYj4gJHttb2RlUnVzKG1vZGUpfTwvcD5gIDogJyd9XHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwidGV4dC1jZW50ZXJcIj5cclxuICAgICAgICAgICAgICAgICAgICA8IS0tPGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tb3V0bGluZS1wcmltYXJ5IGpzX2J0bi1zdG9wLXRhc2tcIj48aSBjbGFzcz1cImZhciBmYS1wYXVzZS1jaXJjbGUgZmEtbGdcIj48L2k+PC9idXR0b24+LS0+XHJcbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImJ0biBidG4td2FybmluZyBqc19idG4tZGVsZXRlLXRhc2sgbWwtM1wiPjxpIGNsYXNzPVwiZmFyIGZhLXRyYXNoLWFsdCBmYS1sZ1wiPjwvaT48L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L2Rpdj5gO1xyXG4gICAgc3dpdGNoICh0YXNrU3RhdGUpIHtcclxuICAgICAgICBjYXNlICdQQVVTRUQnOlxyXG4gICAgICAgICAgICBhZGRJdGVtKHRwbFBhdXNlZCk7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgJ0lOX1BST0dSRVNTJzpcclxuICAgICAgICAgICAgYWRkSXRlbSh0cGxQcm9ncmVzcyk7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgJ0dMT0JBTF9QQVVTRSc6XHJcbiAgICAgICAgICAgIGFkZEl0ZW0odHBsUHJvZ3Jlc3MpO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlICdTVE9QUEVEJzpcclxuICAgICAgICAgICAgYWRkSXRlbSh0cGxTdG9wKTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSAnRklOSVNIRUQnOlxyXG4gICAgICAgICAgICBhZGRJdGVtKHRwbEZpbmlzaGVkKTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGZpbGxMaXN0TWV0YSgkbGlzdCwgaXRlbXMvKiAsIGlzUnVucyovKSB7XHJcbiAgICAvLyBjb25zdCBkZWZhdWx0QXZhdGFyU3JjID0gQ09OU1QudXNlci5kZWZhdWxBdmF0YXI7XHJcbiAgICAkbGlzdC5lbXB0eSgpO1xyXG4gICAgaWYgKCFpdGVtcy5sZW5ndGgpIHtcclxuICAgICAgICAkKGA8bGkgY2xhc3M9XCJsaXN0LWdyb3VwLWl0ZW0gcHktMlwiPlxyXG4gICAgICAgICAgICAgICAgPHA+0J3QtdGCINC90Lgg0L7QtNC90L7QuSDQt9Cw0LTQsNGH0LguPC9wPlxyXG4gICAgICAgICAgICA8L2xpPmApLmFwcGVuZFRvKCRsaXN0KTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBpdGVtcy5mb3JFYWNoKChpdGVtKSA9PiB7XHJcbiAgICAgICAgLy8gaWYgKChpdGVtLnN0YXR1cy5zdGF0ZSA9PT0gJ1NUT1BQRUQnIHx8IGl0ZW0uc3RhdHVzLnN0YXRlID09PSAnRklOSVNIRUQnKSAmJiAhaXNSdW5zKSB7XHJcbiAgICAgICAgLy8gICAgIGZpbGxMaXN0QnlTdGF0ZShpdGVtLnN0YXR1cy5zdGF0ZSwgJGxpc3QsIGl0ZW0pO1xyXG4gICAgICAgIC8vIH0gZWxzZSBpZiAoKGl0ZW0uc3RhdHVzLnN0YXRlID09PSAnSU5fUFJPR1JFU1MnIHx8IGl0ZW0uc3RhdHVzLnN0YXRlID09PSAnUEFVU0VEJykgJiYgaXNSdW5zKSB7XHJcbiAgICAgICAgLy8gICAgIGZpbGxMaXN0QnlTdGF0ZShpdGVtLnN0YXR1cy5zdGF0ZSwgJGxpc3QsIGl0ZW0pO1xyXG4gICAgICAgIC8vIH1cclxuICAgICAgICBmaWxsTGlzdEJ5U3RhdGUoaXRlbS5zdGF0dXMuc3RhdGUsICRsaXN0LCBpdGVtKTtcclxuICAgIH0pO1xyXG4gICAgaWYgKCEkKCdsaScsICRsaXN0KS5sZW5ndGgpIHtcclxuICAgICAgICAkKGA8bGkgY2xhc3M9XCJsaXN0LWdyb3VwLWl0ZW0gcHktMlwiPlxyXG4gICAgICAgICAgICA8cD7QndC10YIg0L3QuCDQvtC00L3QvtC5INC30LDQtNCw0YfQuC48L3A+XHJcbiAgICAgICAgPC9saT5gKS5hcHBlbmRUbygkbGlzdCk7XHJcbiAgICB9XHJcbn1cclxuXHJcbi8qIGVzbGludC1kaXNhYmxlIG5vLXVzZS1iZWZvcmUtZGVmaW5lICovXHJcbmZ1bmN0aW9uIGluaXRIYW5kbGVycyhob2xkZXJzLCBwYXRoKSB7XHJcbiAgICBjb25zdCBfcGF0aCA9IHBhdGggfHwge1xyXG4gICAgICAgIHR5cGU6IENPTlNULnVybC50bVR5cGVzLmZvbGxvd2luZ1QsXHJcbiAgICAgICAgc3VidHlwZTogQ09OU1QudXJsLnRtVHlwZXMuZm9sbG93aW5nU3ViVFswXVxyXG4gICAgfTtcclxuICAgIGNvbnN0ICRidG5TdG9wVGFzayA9ICQoJy5qc19idG4tc3RvcC10YXNrJyk7XHJcbiAgICBjb25zdCAkYnRuRGVsVGFzayA9ICQoJy5qc19idG4tZGVsZXRlLXRhc2snKTtcclxuICAgIGNvbnN0IGdldFRhc2tJRCA9IChlKSA9PiB7XHJcbiAgICAgICAgY29uc3QgYnRuID0gJChlLnRhcmdldCk7XHJcbiAgICAgICAgcmV0dXJuIGJ0bi5jbG9zZXN0KCdsaScpLmRhdGEoJ3Rhc2staWQnKTtcclxuICAgIH07XHJcblxyXG4gICAgJGJ0blN0b3BUYXNrLm9uKCdjbGljaycsIChlKSA9PiB7XHJcbiAgICAgICAgY29uc3QgdGFza0lkID0gZ2V0VGFza0lEKGUpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdTVE9QIFRhc2sgaWQnLCB0YXNrSWQpO1xyXG4gICAgICAgIFVzZXJUYXNrTWFuYWdlci5zdG9wVGFza0J5SUQodGFza0lkKS50aGVuKChyZXN1bHQpID0+IHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2cocmVzdWx0KTtcclxuICAgICAgICAgICAgZ2V0VGFza3NEYXRhKGhvbGRlcnMsIF9wYXRoKTtcclxuICAgICAgICB9KTtcclxuICAgIH0pO1xyXG5cclxuICAgICRidG5EZWxUYXNrLm9uKCdjbGljaycsIChlKSA9PiB7XHJcbiAgICAgICAgY29uc3QgdGFza0lkID0gZ2V0VGFza0lEKGUpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdERUxFVEUgaWQnLCB0YXNrSWQpO1xyXG4gICAgICAgIFVzZXJUYXNrTWFuYWdlci5kZWxldGVUYXNrQnlJRCh0YXNrSWQpLnRoZW4oKHJlc3VsdCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhyZXN1bHQpO1xyXG4gICAgICAgICAgICBnZXRUYXNrc0RhdGEoaG9sZGVycywgX3BhdGgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBnZXRUYXNrc0RhdGEoaG9sZGVycywgcGF0aCkge1xyXG4gICAgY29uc3Qgey8qICRydW5zLCovJGFsbH0gPSBob2xkZXJzO1xyXG4gICAgY29uc3QgX3BhdGggPSBwYXRoIHx8IHtcclxuICAgICAgICB0eXBlOiBDT05TVC51cmwudG1UeXBlcy5mb2xsb3dpbmdULFxyXG4gICAgICAgIHN1YnR5cGU6IENPTlNULnVybC50bVR5cGVzLmZvbGxvd2luZ1N1YlRbMF1cclxuICAgIH07XHJcbiAgICBVc2VyVGFza01hbmFnZXIuZ2V0TWV0YWRhdGEoX3BhdGgpLnRoZW4oKHJlc3VsdCkgPT4ge1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCdnZXRNZXRhZGF0YSAmIGZpbGxMaXN0TWV0YScsIHJlc3VsdCk7XHJcbiAgICAgICAgaWYgKHJlc3VsdC5zdGF0dXMuc3RhdGUgPT09ICdvaycpIHtcclxuICAgICAgICAgICAgLy8gZmlsbExpc3RNZXRhKCRydW5zLCByZXN1bHQuZGF0YS5tZXRhLCAnaXNSdW5zJyk7XHJcbiAgICAgICAgICAgIGZpbGxMaXN0TWV0YSgkYWxsLCByZXN1bHQuZGF0YS5tZXRhLCAnaXNBbGwnKTtcclxuICAgICAgICAgICAgaW5pdEhhbmRsZXJzKGhvbGRlcnMsIHBhdGgpO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG59XHJcblxyXG4vKipcclxuICogSW5pdFxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGluaXQoKSB7XHJcbiAgICBjb25zdCBob2xkZXJzID0ge1xyXG4gICAgICAgICRydW5zOiAkKCcuZm9sbG93LXRhc2tzLXJ1bnMnKSxcclxuICAgICAgICAkc3RvcHBlZDogJCgnLmZvbGxvdy10YXNrcy1zdG9wcGVkJyksXHJcbiAgICAgICAgJGFsbDogJCgnLmZvbGxvdy10YXNrcy1hbGwnKVxyXG4gICAgfTtcclxuICAgIGdldFRhc2tzRGF0YShob2xkZXJzKTtcclxuICAgIHdpbmRvdy5QdWJTdWIuc3Vic2NyaWJlKENPTlNULmV2ZW50cy50YXNrcy5ORVdfVEFTS19DUkVBVEVELCAoZXZlbnROYW1lLCBkYXRhKSA9PiB7XHJcbiAgICAgICAgY29uc3QgX3BhdGggPSB7XHJcbiAgICAgICAgICAgIHR5cGU6IENPTlNULnVybC50bVR5cGVzLmZvbGxvd2luZ1QsXHJcbiAgICAgICAgICAgIHN1YnR5cGU6IENPTlNULnVybC50bVR5cGVzLmZvbGxvd2luZ1N1YlRbMF1cclxuICAgICAgICB9O1xyXG4gICAgICAgIGdldFRhc2tzRGF0YShob2xkZXJzLCBfcGF0aCk7XHJcbiAgICB9KTtcclxufVxyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvYmxvY2tzL19zaGFyZWQvdGFzay1zdGF0dXMvdGFzay1zdGF0dXMuanMiLCJpbXBvcnQge0NPTlNUfSBmcm9tICcuLi8uLi9jb21tb24vanMtc2VydmljZXMvY29uc3RzJztcclxuLy8gaW1wb3J0ICdicnV0dXNpbi1qc29uLWZvcm1zJztcclxuY29uc3Qgc3RhdGUgPSB7XHJcbiAgICB1c2VybmFtZTogJydcclxufTtcclxuY29uc3Qgd2l6YXJkRm9ybVNlbGVjdG9yID0gJy53aXphcmQtZm9ybSc7XHJcblxyXG4vKipcclxuICogSW5pdCBoZWFkZXJcclxuICovXHJcbmZ1bmN0aW9uIGluaXRTdGVwcyhmb3JtU2VsZWN0b3IsIHdpemFyZENmZykge1xyXG4gICAgY29uc3QgJGZvcm0gPSAkKGZvcm1TZWxlY3Rvcik7XHJcbiAgICBjb25zdCB7c3RlcFJlZHVjZXIsIG9uU3VibWl0SGFuZGxlcn0gPSB3aXphcmRDZmc7XHJcbiAgICAkKCcuanNfcHJvZmlsZS11c2VyLWZvbGxvdz4uY29udGFpbmVyJykucmVtb3ZlQ2xhc3MoJ2NvbnRhaW5lcicpO1xyXG5cclxuICAgICRmb3JtLmZpbmQoJ2ZpZWxkc2V0OmZpcnN0LWNoaWxkJykuZmFkZUluKCdzbG93Jyk7XHJcblxyXG4gICAgJGZvcm0uZmluZCgnaW5wdXRbdHlwZT1cInRleHRcIl0nKS5vbignZm9jdXMnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgJCh0aGlzKS5yZW1vdmVDbGFzcygnaW5wdXQtZXJyb3InKTtcclxuICAgIH0pO1xyXG5cclxuICAgIC8vIG5leHQgc3RlcFxyXG4gICAgJGZvcm0uZmluZCgnLmJ0bi1uZXh0Jykub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGNvbnN0IHBhcmVudF9maWVsZHNldCA9ICQodGhpcykucGFyZW50cygnZmllbGRzZXQnKTtcclxuICAgICAgICBsZXQgbmV4dF9zdGVwID0gdHJ1ZTtcclxuICAgICAgICBjb25zdCByYWRpb0J0bkFjdGl2ZSA9IHBhcmVudF9maWVsZHNldC5maW5kKCdpbnB1dFtuYW1lPVwidXNlckFjY291bnRSYWRpb1wiXTpjaGVja2VkJyk7XHJcblxyXG4gICAgICAgIGlmIChyYWRpb0J0bkFjdGl2ZS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgIHN0YXRlLnVzZXJuYW1lID0gcmFkaW9CdG5BY3RpdmUucGFyZW50cygnbGknKS5kYXRhKCd1c2VybmFtZScpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKHN0ZXBSZWR1Y2VyKSB7XHJcbiAgICAgICAgICAgIHN0ZXBSZWR1Y2VyKHBhcmVudF9maWVsZHNldC5pbmRleCgpLCBzdGF0ZSk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBwYXJlbnRfZmllbGRzZXQuZmluZCgnaW5wdXRbdHlwZT1cInRleHRcIl0saW5wdXRbdHlwZT1cImVtYWlsXCJdJykuZWFjaChmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgIGlmICgkKHRoaXMpLnZhbCgpID09PSAnJykge1xyXG4gICAgICAgICAgICAgICAgJCh0aGlzKS5hZGRDbGFzcygnaW5wdXQtZXJyb3InKTtcclxuICAgICAgICAgICAgICAgIG5leHRfc3RlcCA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgJCh0aGlzKS5yZW1vdmVDbGFzcygnaW5wdXQtZXJyb3InKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBpZiAobmV4dF9zdGVwKSB7XHJcbiAgICAgICAgICAgIHBhcmVudF9maWVsZHNldC5mYWRlT3V0KDQwMCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgJCh0aGlzKS5uZXh0KCkuZmFkZUluKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBwcmV2aW91cyBzdGVwXHJcbiAgICAkZm9ybS5maW5kKCcuYnRuLXByZXZpb3VzJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIC8vIHN0YXRlLnVzZXJuYW1lID0gWy4uLm5ldyBTZXQoc3RhdGUudXNlcm5hbWUpXTtcclxuICAgICAgICAkKHRoaXMpLnBhcmVudHMoJ2ZpZWxkc2V0JykuZmFkZU91dCg0MDAsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgJCh0aGlzKS5wcmV2KCkuZmFkZUluKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBzcGVlZCByYWRpby1idG4gZ3JvdXBcclxuICAgICQoJy5qc19mb2xsb3ctc3BlZWQgaW5wdXRbdHlwZT1yYWRpb10nKS5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgLy8gY29uc3QgdmFsdWUgPSAkKHRoaXMpLmF0dHIoJ3ZhbHVlJyk7XHJcbiAgICAgICAgLy8gc3RhdGUudXNlcl9kZWZhdWx0X2NvbmZpZyA9IHtcclxuICAgICAgICAvLyAgICAgdGFza19tb2RlOiB2YWx1ZS50b1VwcGVyQ2FzZSgpXHJcbiAgICAgICAgLy8gfTtcclxuICAgIH0pO1xyXG5cclxuICAgIC8vIHN1Ym1pdFxyXG4gICAgJGZvcm0ub24oJ3N1Ym1pdCcsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgJCh0aGlzKS5maW5kKCdpbnB1dFt0eXBlPVwidGV4dFwiXSxpbnB1dFt0eXBlPVwibnVtYmVyXCJdLGlucHV0W3R5cGU9XCJlbWFpbFwiXScpLmVhY2goZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAoJCh0aGlzKS52YWwoKSA9PT0gJycpIHtcclxuICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgICAgICQodGhpcykuYWRkQ2xhc3MoJ2lucHV0LWVycm9yJyk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAkKHRoaXMpLnJlbW92ZUNsYXNzKCdpbnB1dC1lcnJvcicpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGlmIChvblN1Ym1pdEhhbmRsZXIpIHtcclxuICAgICAgICAgICAgb25TdWJtaXRIYW5kbGVyKGUpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc29sZS5sb2coJ1N1Ym1pdEhhbmRsZXIgRU5EJyk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBhbGVydCBjbG9zZVxyXG4gICAgJCgnLmZvcm0tc3VibWl0LWZpbmlzaCAuY2xvc2UnKS5vbignY2xpY2snLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdmb3JtLXN1Ym1pdC1maW5pc2ggLmNsb3NlJyk7XHJcbiAgICAgICAgJCh0aGlzKS5jbG9zZXN0KCcuZm9ybS1zdWJtaXQtZmluaXNoJykucmVtb3ZlQ2xhc3MoJ2QtYmxvY2snKTtcclxuICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgICAgIC8vICQodGhpcykuY2xvc2VzdCgnZm9ybS1zdWJtaXQtZmluaXNoJykucmVtb3ZlQ2xhc3MoJ2QtYmxvY2snKTtcclxuICAgICAgICAvLyAkKCcjdi1waWxscy1ydW5uZWQtdGFiJykudHJpZ2dlcignY2xpY2snKTtcclxuICAgICAgICAvLyB3aW5kb3cuUHViU3ViLnB1Ymxpc2goQ09OU1QuZXZlbnRzLnRhc2tzLk5FV19UQVNLX0NSRUFURUQpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgJCgnI3YtcGlsbHMtY3JlYXRlLXRhc2stdGFiJykub24oJ2NsaWNrJywgKGUpID0+IHtcclxuICAgICAgICBjb25zb2xlLmxvZygncmVzZXQgZm9ybScpO1xyXG4gICAgICAgIGlmICgkKCdmaWVsZHNldDpmaXJzdC1jaGlsZCcpLmNzcygnZGlzcGxheScpID09PSAnbm9uZScpIHtcclxuICAgICAgICAgICAgJGZvcm0uZmluZCgnZmllbGRzZXQnKS5oaWRlKCdmYXN0JywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgJGZvcm0uZmluZCgnZmllbGRzZXQ6Zmlyc3QtY2hpbGQnKS5zaG93KCdzbG93Jyk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICAkKCcuZm9ybS1zdWJtaXQtZmluaXNoJykucmVtb3ZlQ2xhc3MoJ2QtYmxvY2snKTtcclxuICAgICAgICAvLyBjbGVhciBhbGwgdmFsIGluIHRleHRhcmVhIGFuZCBpbnB1dCAoZXhjZXB0IHJhZGlvKVxyXG4gICAgICAgICQoJ2ZpZWxkc2V0Jywgd2l6YXJkRm9ybVNlbGVjdG9yKS5maW5kKCdpbnB1dDpub3QoW3R5cGU9XCJyYWRpb1wiXSksIHRleHRhcmVhJykudmFsKCcnKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG4vKlxyXG5mdW5jdGlvbiBmaXhTdGVwSW5kaWNhdG9yKG4pIHtcclxuICAgIC8vIFRoaXMgZnVuY3Rpb24gcmVtb3ZlcyB0aGUgXCJhY3RpdmVcIiBjbGFzcyBvZiBhbGwgc3RlcHMuLi5cclxuICAgIHZhciBpLCB4ID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcInN0ZXBcIik7XHJcbiAgICBmb3IgKGkgPSAwOyBpIDwgeC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIHhbaV0uY2xhc3NOYW1lID0geFtpXS5jbGFzc05hbWUucmVwbGFjZShcIiBhY3RpdmVcIiwgXCJcIik7XHJcbiAgICB9XHJcbiAgICAvLy4uLiBhbmQgYWRkcyB0aGUgXCJhY3RpdmVcIiBjbGFzcyBvbiB0aGUgY3VycmVudCBzdGVwOlxyXG4gICAgeFtuXS5jbGFzc05hbWUgKz0gXCIgYWN0aXZlXCI7XHJcbn0qL1xyXG5cclxuLy8gd3JhcCBsaXN0IGFzIHJhZGlvZ3JvdXBcclxuZnVuY3Rpb24gbW9kaWZ5QWNjTGlzdCgpIHtcclxuICAgIGNvbnN0IHJhZGlvQnRuQXBwZW5kID0gKGlkeCkgPT4gYDxkaXYgY2xhc3M9XCJcIj5cclxuICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJyYWRpb1wiIG5hbWU9XCJ1c2VyQWNjb3VudFJhZGlvXCIgaWQ9XCJjdXN0b21SYWRpby0ke2lkeH1cIiBjbGFzcz1cImN1c3RvbS1jb250cm9sLWlucHV0IGQtbm9uZVwiIHZhbHVlPVwiXCI+XHJcbiAgICAgICAgPC9kaXY+YDtcclxuICAgIGNvbnN0IHJhZGlvQnRuV3JhcCA9IChpZHgpID0+IGA8bGFiZWwgY2xhc3M9XCJhY2NvdW50cy1saXN0LS1sYWJlbC13cmFwcGVyIGNvbCBtYi0wIG1lZGlhIHB5LTNcIiBmb3I9XCJjdXN0b21SYWRpby0ke2lkeH1cIj48L2xhYmVsPmA7XHJcbiAgICBjb25zdCAkYWNjb3VudHNMaXN0ID0gJCgnLmFjY291bnRzLWxpc3QnKTtcclxuICAgIGNvbnN0ICRsaSA9ICRhY2NvdW50c0xpc3QuZmluZCgnbGkubWVkaWEnKTtcclxuICAgICRsaS5hZGRDbGFzcygnanNfdXNlci1yYWRpbycpLnJlbW92ZUNsYXNzKCdweS0zIG1lZGlhJyk7XHJcblxyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCAkbGkubGVuZ3RoOyBpKyspIHtcclxuICAgICAgICBjb25zdCBjdXJyTGkgPSAkKCRsaVtpXSk7XHJcbiAgICAgICAgY3VyckxpLndyYXBJbm5lcihyYWRpb0J0bldyYXAoaSkpLmFwcGVuZChyYWRpb0J0bkFwcGVuZChpKSk7XHJcbiAgICAgICAgaWYgKGN1cnJMaS5maW5kKCcudXNlci1jaGVja3BvaW50IC50ZXh0LWRhbmdlcicpLmxlbmd0aCkge1xyXG4gICAgICAgICAgICBjdXJyTGkucmVtb3ZlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgICQoJy5qc191c2VyLXJhZGlvJykub24oJ2NsaWNrJywgJ2lucHV0W3R5cGU9cmFkaW9dJywgZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICBjb25zdCAkcGFyZW50RmllbGRzZXQgPSAkKHRoaXMpLnBhcmVudHMoJ2ZpZWxkc2V0Jyk7XHJcbiAgICAgICAgJCgnbGkuYWN0aXZlJywgJHBhcmVudEZpZWxkc2V0KS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XHJcbiAgICAgICAgJCh0aGlzKS5jbG9zZXN0KCdsaScpLmFkZENsYXNzKCdhY3RpdmUnKTtcclxuICAgICAgICAkKCcuYnRuLW5leHQnLCAkcGFyZW50RmllbGRzZXQpLnByb3AoJ2Rpc2FibGVkJywgZmFsc2UpO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBpbml0KHdpemFyZENmZykge1xyXG4gICAgaWYgKCQoJy53aXphcmQtZm9ybScpLmxlbmd0aCkge1xyXG4gICAgICAgIGluaXRTdGVwcyh3aXphcmRGb3JtU2VsZWN0b3IsIHdpemFyZENmZyk7XHJcbiAgICAgICAgd2luZG93LlB1YlN1Yi5zdWJzY3JpYmUoQ09OU1QuZXZlbnRzLmluc3RhZ3JhbUFjY291bnMuSU5TVEFHUkFNX0FDQ09VTlNfUkVOREVSRUQsIChldmVudE5hbWUsIGRhdGEpID0+IHtcclxuICAgICAgICAgICAgbW9kaWZ5QWNjTGlzdCgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9ibG9ja3Mvd2l6YXJkLWZvcm0vd2l6YXJkLWZvcm0uanMiLCJpbXBvcnQge0NPTlNUfSBmcm9tICcuLi8uLi8uLi9jb21tb24vanMtc2VydmljZXMvY29uc3RzJztcclxuaW1wb3J0IFVzZXJUYXNrTWFuYWdlciBmcm9tICcuLi8uLi8uLi9jb21tb24vanMtc2VydmljZXMvYXBpLXRhc2stbWFuYWdlcic7XHJcblxyXG5jb25zdCBNQVhfSU1HX0ZJTEVfU0laRV9CWVRFID0gMTA0ODU3NjtcclxuY29uc3QgZmlsZVVwbG9hZEJveCA9ICcuZmlsZS11cGxvYWQnO1xyXG5jb25zdCBmaWxlVXBsb2FkQ29udGVudCA9ICcuZmlsZS11cGxvYWQtY29udGVudCc7XHJcblxyXG5mdW5jdGlvbiByZW1vdmVVcGxvYWQoJHVwbG9hZENvbnRhaW5lcikge1xyXG4gICAgY29uc3QgaW5wdXQgPSAkdXBsb2FkQ29udGFpbmVyLmZpbmQoJ2lucHV0Jyk7XHJcbiAgICBpbnB1dC5yZXBsYWNlV2l0aChpbnB1dC5jbG9uZSgpKTtcclxuICAgICR1cGxvYWRDb250YWluZXIuZmluZChmaWxlVXBsb2FkQ29udGVudCkuaGlkZSgpO1xyXG4gICAgJHVwbG9hZENvbnRhaW5lci5maW5kKCcuaW1hZ2UtdXBsb2FkLXdyYXAnKS5zaG93KCk7XHJcbn1cclxuXHJcbmNvbnN0ICRpbWdVcGxvYWRXcmFwID0gJCgnLmltYWdlLXVwbG9hZC13cmFwJyk7XHJcbiRpbWdVcGxvYWRXcmFwLmJpbmQoJ2RyYWdvdmVyJywgZnVuY3Rpb24gKCkge1xyXG4gICAgJCgnLmltYWdlLXVwbG9hZC13cmFwJykuYWRkQ2xhc3MoJ2ltYWdlLWRyb3BwaW5nJyk7XHJcbn0pO1xyXG4kaW1nVXBsb2FkV3JhcC5iaW5kKCdkcmFnbGVhdmUnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAkKCcuaW1hZ2UtdXBsb2FkLXdyYXAnKS5yZW1vdmVDbGFzcygnaW1hZ2UtZHJvcHBpbmcnKTtcclxufSk7XHJcblxyXG4vLyBmdW5jdGlvbiBhYm9ydFJlYWQocmVhZGVyKSB7XHJcbi8vICAgICByZWFkZXIuYWJvcnQoKTtcclxuLy8gfVxyXG5cclxuZnVuY3Rpb24gZXJyb3JIYW5kbGVyKGV2dCwgcmVhZGVyKSB7XHJcbiAgICBzd2l0Y2ggKGV2dC50YXJnZXQuZXJyb3IuY29kZSkge1xyXG4gICAgICAgIGNhc2UgZXZ0LnRhcmdldC5lcnJvci5OT1RfRk9VTkRfRVJSOlxyXG4gICAgICAgICAgICBjb25zb2xlLmluZm8oJ0ZpbGUgTm90IEZvdW5kIScpO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlIGV2dC50YXJnZXQuZXJyb3IuTk9UX1JFQURBQkxFX0VSUjpcclxuICAgICAgICAgICAgY29uc29sZS5pbmZvKCdGaWxlIGlzIG5vdCByZWFkYWJsZScpO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlIGV2dC50YXJnZXQuZXJyb3IuQUJPUlRfRVJSOlxyXG4gICAgICAgICAgICBicmVhazsgLy8gbm9vcFxyXG4gICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgIGNvbnNvbGUuaW5mbygnQW4gZXJyb3Igb2NjdXJyZWQgcmVhZGluZyB0aGlzIGZpbGUuJyk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHVwZGF0ZVByb2dyZXNzKGV2dCwgcHJvZ3Jlc3MpIHtcclxuICAgIC8vIGV2dCBpcyBhbiBQcm9ncmVzc0V2ZW50LlxyXG4gICAgaWYgKGV2dC5sZW5ndGhDb21wdXRhYmxlKSB7XHJcbiAgICAgICAgY29uc3QgcGVyY2VudExvYWRlZCA9IE1hdGgucm91bmQoKGV2dC5sb2FkZWQgLyBldnQudG90YWwpICogMTAwKTtcclxuICAgICAgLy8gSW5jcmVhc2UgdGhlIHByb2dyZXNzIGJhciBsZW5ndGguXHJcbiAgICAgICAgaWYgKHBlcmNlbnRMb2FkZWQgJSAxMCA9PT0gMCkge1xyXG4gICAgICAgICAgICAvLyBwcm9ncmVzcy5zdHlsZS53aWR0aCA9IGAke3BlcmNlbnRMb2FkZWR9JWA7XHJcbiAgICAgICAgICAgIC8vIHByb2dyZXNzLnRleHRDb250ZW50ID0gYCR7cGVyY2VudExvYWRlZH0lYDtcclxuICAgICAgICAgICAgY29uc29sZS5sb2cocGVyY2VudExvYWRlZCk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBpc0ZpbGVUeXBlT2soYWNjZXB0ZWRGaWxlKSB7XHJcbiAgICByZXR1cm4gYWNjZXB0ZWRGaWxlLnR5cGUgPT09ICdpbWFnZS9qcGVnJztcclxufVxyXG5cclxuZnVuY3Rpb24gaXNJbWdTaXplT2soYWNjZXB0ZWRGaWxlKSB7XHJcbiAgICBjb25zdCBpbWdTaXplID0gTWF0aC5yb3VuZChhY2NlcHRlZEZpbGUuc2l6ZSk7XHJcbiAgICByZXR1cm4gTUFYX0lNR19GSUxFX1NJWkVfQllURSA+IGltZ1NpemU7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGhhbmRsZVN1Ym1pdChpbnB1dCwgcmVwbGFjZVdpdGhDZmcpIHtcclxuICAgIGNvbnN0IHVybCA9IENPTlNULmdldFBhdGgoJ2luc3RhZ3JhbVRhc2tNYW5hZ2VyX3Bvc3RJbWFnZUF0dGFjaG1lbnQnKTtcclxuICAgIGNvbnN0IHRva2VuID0gVXNlclRhc2tNYW5hZ2VyLmdldFRva2VuKCk7XHJcbiAgICBjb25zdCBhY2NlcHRlZEZpbGUgPSBpbnB1dC5maWxlc1swXTtcclxuICAgIGNvbnNvbGUubG9nKCdoYW5kbGVTdWJtaXQnKTtcclxuICAgIC8vIGlmICghaXNJbWdTaXplT2soYWNjZXB0ZWRGaWxlKSkge1xyXG4gICAgLy8gICAgIGNvbnNvbGUubG9nKCdzaG93IGVycm9yIG1lc3NhZ2UsIGltZ1NpemUgdG8gYmlnICcpO1xyXG4gICAgLy8gICAgICQoZmlsZVVwbG9hZEJveClcclxuICAgIC8vICAgICAgICAgLmFwcGVuZChgXHJcbiAgICAvLyAgICAgICAgICAgICA8cCBjbGFzcz1cIm1zZy1tYXgtc2l6ZS1pbWcgdGV4dC1kYW5nZXJcIj7QnNCw0LrRgdC40LzQsNC70YzQvdGL0Lkg0LTQvtC/0YPRgdGC0LjQvNGL0Lkg0YDQsNC30LzQtdGAINC60LDRgNGC0LjQvdC60LggJHtNQVhfSU1HX0ZJTEVfU0laRV9CWVRFfU1CPC9wPlxyXG4gICAgLy8gICAgICAgICBgKTtcclxuICAgIC8vICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgIC8vICAgICAgICAgJCgnLm1zZy1tYXgtc2l6ZS1pbWcnKS5hZGRDbGFzcygnZC1ub25lJyk7XHJcbiAgICAvLyAgICAgfSwgNTAwMCk7XHJcbiAgICAvLyAgICAgcmV0dXJuO1xyXG4gICAgLy8gfVxyXG4gICAgY29uc3QgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoKTtcclxuXHJcbiAgICBjb25zdCByZXF1ZXN0ID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XHJcblxyXG4gICAgaWYgKHJlcGxhY2VXaXRoQ2ZnICYmIHJlcGxhY2VXaXRoQ2ZnLnJlcGxhY2VXaXRoKSB7XHJcbiAgICAgICAgLy8gKiogZWRpdCBVU0VSICoqXHJcbiAgICAgICAgLy8gUFVUIGh0dHA6Ly9hcGkubHV4Z3JhbS5ydS92MS9pbnN0YWdyYW0tYWNjb3VudHMve3VzZXJuYW1lfS9waG90b1xyXG4gICAgICAgIC8vIGZvcm0tZGF0YTogXCJwaG90b1wiIChqcGcpXHJcbiAgICAgICAgZm9ybURhdGEuYXBwZW5kKCdwaG90bycsIGFjY2VwdGVkRmlsZSwgYWNjZXB0ZWRGaWxlLm5hbWUpO1xyXG4gICAgICAgIGNvbnN0IHt1c2VybmFtZX0gPSByZXBsYWNlV2l0aENmZztcclxuICAgICAgICByZXF1ZXN0Lm9wZW4oJ1BVVCcsIGBodHRwOi8vYXBpLmx1eGdyYW0ucnUvdjEvaW5zdGFncmFtLWFjY291bnRzLyR7dXNlcm5hbWV9L3Bob3RvYCk7XHJcbiAgICAgICAgLy8gcmVxdWVzdC53aXRoQ3JlZGVudGlhbHMgPSB0cnVlO1xyXG4gICAgICAgIHJlcXVlc3Quc2V0UmVxdWVzdEhlYWRlcigndG9rZW4nLCB0b2tlbik7XHJcbiAgICAgICAgcmVxdWVzdC5zZXRSZXF1ZXN0SGVhZGVyKCdBY2NlcHQnLCAnYXBwbGljYXRpb24vanNvbicpO1xyXG4gICAgICAgIHJlcXVlc3Quc2V0UmVxdWVzdEhlYWRlcignY2FjaGUtY29udHJvbCcsICduby1jYWNoZScpO1xyXG4gICAgICAgIHJlcXVlc3Quc2VuZChmb3JtRGF0YSk7XHJcbiAgICAgICAgcmVxdWVzdC5hZGRFdmVudExpc3RlbmVyKCdyZWFkeXN0YXRlY2hhbmdlJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAodGhpcy5yZWFkeVN0YXRlID09PSA0KSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnUFVUJywgdGhpcy5yZXNwb25zZVRleHQsIHRoaXMpO1xyXG4gICAgICAgICAgICAgICAgLy8gd2luZG93LlB1YlN1Yi5wdWJsaXNoKENPTlNULmV2ZW50cy5hdXRvYXJuc3dlci5JTUFHRV9VUExPQURFRCwgeydyZXNwb25zZSc6IHRoaXMucmVzcG9uc2VUZXh0LCAnZWwnOiBpbnB1dH0pO1xyXG4gICAgICAgICAgICAgICAgd2luZG93LlB1YlN1Yi5wdWJsaXNoKENPTlNULmV2ZW50cy5hdXRvYXJuc3dlci5JTUFHRV9VUExPQURFRF9BVkFUQVIsIHsncmVzcG9uc2UnOiB0aGlzLnJlc3BvbnNlfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBmb3JtRGF0YS5hcHBlbmQoJ2ltYWdlJywgYWNjZXB0ZWRGaWxlLCBhY2NlcHRlZEZpbGUubmFtZSk7XHJcbiAgICByZXF1ZXN0Lm9wZW4oJ1BPU1QnLCB1cmwpO1xyXG4gICAgLy8gcmVxdWVzdC53aXRoQ3JlZGVudGlhbHMgPSB0cnVlO1xyXG4gICAgcmVxdWVzdC5zZXRSZXF1ZXN0SGVhZGVyKCd0b2tlbicsIHRva2VuKTtcclxuICAgIHJlcXVlc3Quc2V0UmVxdWVzdEhlYWRlcignQWNjZXB0JywgJ2FwcGxpY2F0aW9uL2pzb24nKTtcclxuICAgIHJlcXVlc3Quc2V0UmVxdWVzdEhlYWRlcignY2FjaGUtY29udHJvbCcsICduby1jYWNoZScpO1xyXG4gICAgcmVxdWVzdC5zZW5kKGZvcm1EYXRhKTtcclxuICAgIHJlcXVlc3QuYWRkRXZlbnRMaXN0ZW5lcigncmVhZHlzdGF0ZWNoYW5nZScsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAodGhpcy5yZWFkeVN0YXRlID09PSA0KSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCd0aGlzJywgdGhpcy5yZXNwb25zZVRleHQsIHRoaXMpO1xyXG4gICAgICAgICAgICB3aW5kb3cuUHViU3ViLnB1Ymxpc2goQ09OU1QuZXZlbnRzLmF1dG9hcm5zd2VyLklNQUdFX1VQTE9BREVELCB7J3Jlc3BvbnNlJzogdGhpcy5yZXNwb25zZVRleHQsICdlbCc6IGlucHV0fSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHJlYWRVUkwoaW5wdXQsIHJlcGxhY2VXaXRoQ2ZnLCBoYW5kbGVTdWJtaXRDYikge1xyXG4gICAgY29uc3Qge3JlcGxhY2VXaXRoLCBob2xkZXJDbHN9ID0gcmVwbGFjZVdpdGhDZmc7XHJcbiAgICBjb25zdCBob2xkZXIgPSAoaG9sZGVyQ2xzKSA/IGhvbGRlckNscyA6IGZpbGVVcGxvYWRCb3g7XHJcbiAgICBjb25zdCAkY29udGFpbmVyID0gJChpbnB1dCkuY2xvc2VzdChob2xkZXIpO1xyXG4gICAgaWYgKGlucHV0LmZpbGVzICYmIGlucHV0LmZpbGVzWzBdKSB7XHJcbiAgICAgICAgY29uc3QgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKTtcclxuICAgICAgICBjb25zb2xlLmxvZygncmVhZFVSTCcpO1xyXG4gICAgICAgIGlmICghaXNJbWdTaXplT2soaW5wdXQuZmlsZXNbMF0pIHx8ICFpc0ZpbGVUeXBlT2soaW5wdXQuZmlsZXNbMF0pKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdzaG93IGVycm9yIG1lc3NhZ2UsIGltZ1NpemUgdG8gYmlnICcpO1xyXG4gICAgICAgICAgICAkKGZpbGVVcGxvYWRCb3gpLmZpbmQoJ3dhcm5pbmctaW1hZ2UnKS5yZW1vdmUoKTtcclxuICAgICAgICAgICAgJChmaWxlVXBsb2FkQm94KS5hcHBlbmQoYFxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIndhcm5pbmctaW1hZ2UgdGV4dC1kYW5nZXJcIj5cclxuICAgICAgICAgICAgICAgICAgICA8cD7QlNC+0YHRgtGD0L/QvdGL0Lkg0YTQvtGA0LzQsNGCINC40LfQvtCx0YDQsNC20LXQvdC40Y8ganBlZyDQuNC70LgganBnPC9wPlxyXG4gICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzPVwibXNnLW1heC1zaXplLWltZyB0ZXh0LWRhbmdlclwiPtCc0LDQutGB0LjQvNCw0LvRjNC90YvQuSDQtNC+0L/Rg9GB0YLQuNC80YvQuSDRgNCw0LfQvNC10YAg0LrQsNGA0YLQuNC90LrQuCAke01BWF9JTUdfRklMRV9TSVpFX0JZVEUgLyAxMDI0IC8gMTAyNH1NQjwvcD5cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICBgKTtcclxuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAkKCcud2FybmluZy1pbWFnZScpLmFkZENsYXNzKCdkLW5vbmUnKTtcclxuICAgICAgICAgICAgfSwgNTAwMCk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJlYWRlci5vbmxvYWQgPSBmdW5jdGlvbihlKSB7XHJcbiAgICAgICAgICAgIGlmICghcmVwbGFjZVdpdGgpIHtcclxuICAgICAgICAgICAgICAgICRjb250YWluZXIuZmluZCgnLmltYWdlLXVwbG9hZC13cmFwJykuaGlkZSgpO1xyXG4gICAgICAgICAgICAgICAgJGNvbnRhaW5lci5maW5kKCcuZmlsZS11cGxvYWQtaW1hZ2UnKS5hdHRyKCdzcmMnLCBlLnRhcmdldC5yZXN1bHQpO1xyXG4gICAgICAgICAgICAgICAgJGNvbnRhaW5lci5maW5kKGZpbGVVcGxvYWRDb250ZW50KS5zaG93KCk7XHJcbiAgICAgICAgICAgICAgICAkY29udGFpbmVyLmZpbmQoJy5pbWFnZS10aXRsZScpLmh0bWwoaW5wdXQuZmlsZXNbMF0ubmFtZSk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB7aW1hZ2VDbHN9ID0gcmVwbGFjZVdpdGhDZmc7XHJcbiAgICAgICAgICAgICAgICAkY29udGFpbmVyLmZpbmQoaW1hZ2VDbHMpLmF0dHIoJ3NyYycsIGUudGFyZ2V0LnJlc3VsdCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICByZWFkZXIub25lcnJvciA9IGVycm9ySGFuZGxlcjtcclxuICAgICAgICByZWFkZXIub25wcm9ncmVzcyA9IHVwZGF0ZVByb2dyZXNzO1xyXG5cclxuICAgICAgICByZWFkZXIucmVhZEFzRGF0YVVSTChpbnB1dC5maWxlc1swXSk7XHJcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgIGlmICh0eXBlb2YgaGFuZGxlU3VibWl0Q2IgPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0IHRva2VuID0gVXNlclRhc2tNYW5hZ2VyLmdldFRva2VuKCk7XHJcbiAgICAgICAgICAgICAgICBoYW5kbGVTdWJtaXRDYihpbnB1dCwgdG9rZW4pO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgaGFuZGxlU3VibWl0KGlucHV0LCByZXBsYWNlV2l0aENmZyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LCAyMDAwKTtcclxuICAgICAgICAvLyBSZWFkIGluIHRoZSBpbWFnZSBmaWxlIGFzIGEgYmluYXJ5IHN0cmluZy5cclxuICAgICAgICAvLyByZWFkZXIucmVhZEFzQmluYXJ5U3RyaW5nKGlucHV0LmZpbGVzWzBdKTtcclxuXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIHJlbW92ZVVwbG9hZCgkY29udGFpbmVyKTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGluaXQocmVwbGFjZVdpdGhDZmcsIGhhbmRsZVN1Ym1pdENiKSB7XHJcbiAgICBjb25zdCB1cGxvYWRCdG5DbHMgPSAoIShyZXBsYWNlV2l0aENmZyAmJiByZXBsYWNlV2l0aENmZy5yZXBsYWNlV2l0aCkpID8gJy5maWxlLXVwbG9hZC1idG4nIDogcmVwbGFjZVdpdGhDZmcudXBsb2FkQnRuQ2xzO1xyXG4gICAgY29uc3QgJHVwbG9hZEJ0biA9ICQodXBsb2FkQnRuQ2xzKTtcclxuICAgIGNvbnN0ICR1cGxvYWRJbnB1dCA9ICQoJy5maWxlLXVwbG9hZC1pbnB1dCcpO1xyXG4gICAgY29uc3QgJHJlbW92ZUltZ0J0biA9ICQoJy5yZW1vdmUtaW1hZ2UnKTtcclxuXHJcbiAgICAkdXBsb2FkQnRuLm9mZigpO1xyXG4gICAgJHVwbG9hZElucHV0Lm9mZigpO1xyXG4gICAgJHJlbW92ZUltZ0J0bi5vZmYoKTtcclxuXHJcbiAgICAkdXBsb2FkQnRuLm9uKCdjbGljaycsIChlKSA9PiB7XHJcbiAgICAgICAgY29uc3QgdG9QYXJlbnRDbHMgPSAoIShyZXBsYWNlV2l0aENmZyAmJiByZXBsYWNlV2l0aENmZy5yZXBsYWNlV2l0aCkpID8gJy5jb2wnIDogcmVwbGFjZVdpdGhDZmcuaG9sZGVyQ2xzO1xyXG4gICAgICAgIGNvbnN0IGlucHV0ID0gJChlLnRhcmdldCkuY2xvc2VzdCh0b1BhcmVudENscykuZmluZChmaWxlVXBsb2FkQm94KS5maW5kKCdpbnB1dC5maWxlLXVwbG9hZC1pbnB1dCcpO1xyXG4gICAgICAgIGlucHV0LnRyaWdnZXIoJ2NsaWNrJyk7XHJcbiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgIH0pO1xyXG5cclxuICAgICR1cGxvYWRJbnB1dC5vbignY2hhbmdlJywgKGUpID0+IHtcclxuICAgICAgICByZWFkVVJMKGUudGFyZ2V0LCByZXBsYWNlV2l0aENmZywgaGFuZGxlU3VibWl0Q2IpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgJHJlbW92ZUltZ0J0bi5vbignY2xpY2snLCAoZSkgPT4ge1xyXG4gICAgICAgIGNvbnN0ICRjb250YWluZXIgPSAkKGUudGFyZ2V0KS5jbG9zZXN0KCcuY29sJykuZmluZChmaWxlVXBsb2FkQm94KTtcclxuICAgICAgICByZW1vdmVVcGxvYWQoJGNvbnRhaW5lcik7XHJcbiAgICAgICAgJGNvbnRhaW5lci5yZW1vdmVBdHRyKCdhdHRhY2hlZC1pbWctaWQnKTtcclxuICAgIH0pO1xyXG59XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9ibG9ja3MvX3NoYXJlZC9pbWFnZS11cGxvYWQvaW1hZ2UtdXBsb2FkLmpzIiwiLyogZXNsaW50LWRpc2FibGUgbm8tdXNlLWJlZm9yZS1kZWZpbmUgKi9cclxuaW1wb3J0IFVzZXJUYXNrTWFuYWdlciBmcm9tICcuLi8uLi8uLi9jb21tb24vanMtc2VydmljZXMvYXBpLXRhc2stbWFuYWdlcic7XHJcblxyXG5sZXQgY2xzQ29uc3QgPSB7XHJcbiAgICBjdXJyZW50UGFnZUNsczogJycsXHJcbiAgICB0YXNrc0xpc3Q6ICcnLFxyXG4gICAgbG9nc1RhYkJ0bjogJycsXHJcbiAgICBwYWdpbmF0aW9uOiAnJyxcclxuICAgIHBhZ2luYXRpb25QZ051bWJlcjogJydcclxufTtcclxubGV0ICRsaXN0ID0gJyQoY2xzQ29uc3QudGFza3NMaXN0KSc7IC8vIHNldCBpbiBwcmVDb25maWcoKVxyXG5sZXQgc2VsZWN0Q2xzID0gJ3NvbWVDbGFzcyc7XHJcbmNvbnN0IGdldFVzZXJuYW1lID0gKCkgPT4gJChgLiR7c2VsZWN0Q2xzfSBvcHRpb246c2VsZWN0ZWRgKS52YWwoKTtcclxuY29uc3QgcGF0aCA9IHtcclxuICAgIHVzZXJuYW1lOiBnZXRVc2VybmFtZSgpXHJcbn07XHJcbmxldCBjdXJyZW50UGFnZSA9IG51bGw7XHJcbmxldCBpbnRlcnZhbElkID0gJyc7XHJcblxyXG5mdW5jdGlvbiBpbml0SGFuZGxlclBhZ2luYXRpb24oJHByZXZpb3VzLCAkbmV4dCwgZGF0YUFycmF5KSB7XHJcbiAgICBjb25zdCAkd3JhcHBlciA9ICQoY2xzQ29uc3QucGFnaW5hdGlvbik7XHJcbiAgICBjb25zdCB7cGFnaW5hdGlvbn0gPSBkYXRhQXJyYXkuc2V0dGluZ3M7XHJcblxyXG4gICAgJHByZXZpb3VzLm9uKCdjbGljaycsIChlKSA9PiB7XHJcbiAgICAgICAgY29uc3QgJGxpQWN0aXZlID0gJHdyYXBwZXIuZmluZCgnbGkucGFnZS1udW1iZXIuYWN0aXZlJyk7XHJcbiAgICAgICAgY29uc3QgcGFnZSA9IHBhZ2luYXRpb24ucHJldmlvdXM7XHJcbiAgICAgICAgaWYgKCFwYWdpbmF0aW9uLnByZXZpb3VzKSB7XHJcbiAgICAgICAgICAgICRwcmV2aW91cy5hZGRDbGFzcygnZGlzYWJsZWQnKS5wcm9wKCdkaXNhYmxlZCcsICdkaXNhYmxlZCcpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGN1cnJlbnRQYWdlID0gcGFnaW5hdGlvbi5wcmV2aW91cztcclxuICAgICAgICAkbGlBY3RpdmUucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgICAgIGdldExvZ3NEYXRhKCRsaXN0LCBwYXRoLCBwYWdlKTtcclxuICAgIH0pO1xyXG5cclxuICAgICRuZXh0Lm9uKCdjbGljaycsIChlKSA9PiB7XHJcbiAgICAgICAgY29uc3QgJGxpQWN0aXZlID0gJHdyYXBwZXIuZmluZCgnbGkucGFnZS1udW1iZXIuYWN0aXZlJyk7XHJcbiAgICAgICAgY29uc3QgY3VycmVudEFjdGl2ZUlkeCA9ICRsaUFjdGl2ZS5pbmRleCgpO1xyXG4gICAgICAgIGNvbnN0IHBhZ2UgPSBwYWdpbmF0aW9uLm5leHQ7XHJcbiAgICAgICAgaWYgKCFwYWdpbmF0aW9uLm5leHQpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjdXJyZW50UGFnZSA9IHBhZ2luYXRpb24ubmV4dDtcclxuICAgICAgICAkbGlBY3RpdmUucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xyXG4gICAgICAgIC8vIGlmIChsYXN0UGFnZSA8PSBjdXJyZW50QWN0aXZlSWR4ICsgMSkge1xyXG4gICAgICAgIC8vICAgICAkKGUudGFyZ2V0KS5wYXJlbnQoKS5hZGRDbGFzcygnZGlzYWJsZWQnKTtcclxuICAgICAgICAvLyB9XHJcbiAgICAgICAgaWYgKGN1cnJlbnRBY3RpdmVJZHggJiYgJHByZXZpb3VzLmhhc0NsYXNzKCdkaXNhYmxlZCcpKSB7XHJcbiAgICAgICAgICAgICRwcmV2aW91cy5yZW1vdmVDbGFzcygnZGlzYWJsZWQnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZ2V0TG9nc0RhdGEoJGxpc3QsIHBhdGgsIHBhZ2UpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgJChjbHNDb25zdC5sb2dzVGFiQnRuKS5vbignY2xpY2snLCAoZSkgPT4ge1xyXG4gICAgICAgIC8vIGF0IHRoaXMgcG9pbnQgb2YgdGltZSBzZXRJbnRlcnZhbCBpcyB3b3JraW5nXHJcbiAgICAgICAgY3VycmVudFBhZ2UgPSAxO1xyXG4gICAgfSk7XHJcbiAgICAkKGAke2Nsc0NvbnN0LnBhZ2luYXRpb259ICR7Y2xzQ29uc3QucGFnaW5hdGlvblBnTnVtYmVyfWApLm9uKCdjbGljaycsIChlKSA9PiB7XHJcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIGNvbnN0IHZhbCA9ICQoZS50YXJnZXQpLnRleHQoKTtcclxuICAgICAgICBjdXJyZW50UGFnZSA9IHBhcnNlSW50KHZhbCwgMTApO1xyXG4gICAgICAgIGdldExvZ3NEYXRhKCRsaXN0LCBwYXRoLCBjdXJyZW50UGFnZSk7XHJcbiAgICAgICAgY29uc29sZS5sb2coY3VycmVudFBhZ2UpO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGFkZFBhZ2luYXRpb24oZGF0YUFycmF5LCAkd3JhcHBlcikge1xyXG4gICAgY29uc3Qge3BhZ2luYXRpb259ID0gZGF0YUFycmF5LnNldHRpbmdzO1xyXG4gICAgY29uc3QgdHBsUHJldmlvdXMgPSAkKGA8bGkgY2xhc3M9XCJwYWdlLWl0ZW0gJHsoIXBhZ2luYXRpb24ucHJldmlvdXMpID8gJ2Rpc2FibGVkJyA6ICcnfVwiPjxhIGNsYXNzPVwicGFnZS1saW5rXCIgaHJlZj1cIiNcIiAkeyghcGFnaW5hdGlvbi5wcmV2aW91cykgPyAndGFiaW5kZXg9XCItMVwiJyA6ICcnfT7QndCw0LfQsNC0PC9hPjwvbGk+YCk7XHJcbiAgICBjb25zdCB0cGxOZXh0ID0gJChgPGxpIGNsYXNzPVwicGFnZS1pdGVtICR7KCFwYWdpbmF0aW9uLm5leHQpID8gJ2Rpc2FibGVkJyA6ICcnfVwiPjxhIGNsYXNzPVwicGFnZS1saW5rXCIgaHJlZj1cIiNcIiAkeyghcGFnaW5hdGlvbi5uZXh0KSA/ICd0YWJpbmRleD1cIi0xXCInIDogJyd9PtCS0L/QtdGA0LXQtDwvYT48L2xpPmApO1xyXG5cclxuICAgIGNsZWFyUGFnaW5hdGlvbigkd3JhcHBlcik7XHJcblxyXG4gICAgaWYgKHBhZ2luYXRpb24ubmV4dCB8fCBwYWdpbmF0aW9uLnBhZ2VzICYmIChwYWdpbmF0aW9uLmN1cnJlbnQgPT09IHBhZ2luYXRpb24ucGFnZXNbcGFnaW5hdGlvbi5wYWdlcy5sZW5ndGggLSAxXSkpIHtcclxuICAgICAgICAkd3JhcHBlci5hcHBlbmQodHBsUHJldmlvdXMpO1xyXG4gICAgICAgIGlmIChwYWdpbmF0aW9uICYmIHBhZ2luYXRpb25bJ3BhZ2VzJ10pIHtcclxuICAgICAgICAgICAgcGFnaW5hdGlvblsncGFnZXMnXS5mb3JFYWNoKChpdGVtKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAkKGA8bGkgY2xhc3M9XCJwYWdlLWl0ZW0gcGFnZS1udW1iZXIgJHsocGFnaW5hdGlvbi5jdXJyZW50ID09PSBpdGVtKSA/ICdhY3RpdmUnIDogJyd9XCI+PGEgY2xhc3M9XCJwYWdlLWxpbmtcIiBocmVmPVwiI1wiPiR7aXRlbX08L2E+PC9saT5gKS5hcHBlbmRUbygkd3JhcHBlcik7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICAkd3JhcHBlci5hcHBlbmQodHBsTmV4dCk7XHJcbiAgICB9XHJcbiAgICBpbml0SGFuZGxlclBhZ2luYXRpb24odHBsUHJldmlvdXMsIHRwbE5leHQsIGRhdGFBcnJheSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNsZWFyUGFnaW5hdGlvbigkd3JhcHBlcikge1xyXG4gICAgJHdyYXBwZXIuZW1wdHkoKTtcclxufVxyXG5cclxuZnVuY3Rpb24gZmlsbExpc3RNZXRhKCRsaXN0LCBkYXRhQXJyYXksIGlzUnVucykge1xyXG4gICAgY29uc3QgJHdyYXBwZXJQYWdpbmF0aW9uID0gJCgnLmxvZ3MtcGFnaW5hdGlvbicpO1xyXG4gICAgY29uc3QgaXRlbXMgPSBkYXRhQXJyYXkubG9ncztcclxuICAgIC8vIGNvbnN0IGRlZmF1bHRBdmF0YXJTcmMgPSBDT05TVC51c2VyLmRlZmF1bEF2YXRhcjtcclxuICAgICRsaXN0LmVtcHR5KCk7XHJcbiAgICBpZiAoIWl0ZW1zLmxlbmd0aCkge1xyXG4gICAgICAgICQoYDxsaSBjbGFzcz1cImxpc3QtZ3JvdXAtaXRlbSBweS0yXCI+XHJcbiAgICAgICAgICAgIDxwPtCd0LXRgiDQvdC4INC+0LTQvdC+0LPQviDQu9C+0LPQsC48L3A+XHJcbiAgICAgICAgPC9saT5gKS5hcHBlbmRUbygkbGlzdCk7XHJcbiAgICAgICAgY2xlYXJQYWdpbmF0aW9uKCR3cmFwcGVyUGFnaW5hdGlvbik7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgYWRkUGFnaW5hdGlvbihkYXRhQXJyYXksICR3cmFwcGVyUGFnaW5hdGlvbik7XHJcbiAgICBpdGVtcy5mb3JFYWNoKChpdGVtKSA9PiB7XHJcbiAgICAgICAgY29uc3Qge2xldmVsLCB2YWx1ZX0gPSBpdGVtO1xyXG4gICAgICAgICQoYDxsaSBjbGFzcz1cImxpc3QtZ3JvdXAtaXRlbSBwLTAgcHktMlwiPlxyXG4gICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtZWRpYS1ib2R5IGQtZmxleFwiPlxyXG4gICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sIHRhc2stdHlwZSAkeyhsZXZlbCA9PT0gJ0VSUk9SJykgPyAndGV4dC1kYW5nZXInIDogJyd9ICR7KGxldmVsID09PSAnV0FSTicpID8gJ3RleHQtd2FybmluZycgOiAnJ31cIj5cclxuICAgICAgICAgICAgICAgICAgICAgICR7KHZhbHVlKSA/IGAke3ZhbHVlfWAgOiAnJ31cclxuICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICA8L2xpPmApLmFwcGVuZFRvKCRsaXN0KTtcclxuXHJcbiAgICAgICAgaWYgKCEkKCdsaScsICRsaXN0KS5sZW5ndGgpIHtcclxuICAgICAgICAgICAgJChgPGxpIGNsYXNzPVwibGlzdC1ncm91cC1pdGVtIHB5LTJcIiA+XHJcbiAgICAgICAgICAgICAgICA8cD7QndC10YIg0L3QuCDQvtC00L3QvtCz0L4g0LvQvtCz0LAuPC9wPlxyXG4gICAgICAgICAgICA8L2xpPmApLmFwcGVuZFRvKCRsaXN0KTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gdGFiU3RvcFJlcUhhbmRsZXIoKSB7XHJcbiAgICBjb25zdCAkYWxsQXNpZGVUYWJzID0gJCgnI3YtcGlsbHMtdGFiJyk7XHJcbiAgICAkYWxsQXNpZGVUYWJzLm9mZigpO1xyXG4gICAgJGFsbEFzaWRlVGFicy5vbignY2xpY2snLCAnYScsIChlKSA9PiB7XHJcbiAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgIGNvbnN0IHRhYiA9ICQoZS50YXJnZXQpO1xyXG4gICAgICAgIGlmICh0YWIuYXR0cignaWQnKSAhPT0gJ3YtcGlsbHMtbG9ncy10YWInKSB7XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdzdG9wIHJlcScpO1xyXG4gICAgICAgICAgICBpZiAoaW50ZXJ2YWxJZCkge1xyXG4gICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChpbnRlcnZhbElkKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBnZXRMb2dzRGF0YSgkbGlzdCwgcGF0aCwgcGFnZSkge1xyXG4gICAgcGF0aC51c2VybmFtZSA9IGdldFVzZXJuYW1lKHNlbGVjdENscyk7XHJcbiAgICBjb25zdCBwYXRoQXJyID0gW3BhdGgudHlwZSwgYHN1YnR5cGUvJHtwYXRoLnN1YnR5cGV9YCwgYGFjY291bnQvJHtwYXRoLnVzZXJuYW1lfWBdO1xyXG4gICAgVXNlclRhc2tNYW5hZ2VyLmdldExvZ3NDaGF0Qm90KHBhdGhBcnIsIHBhZ2UpLnRoZW4oKHJlc3VsdCkgPT4ge1xyXG4gICAgICAgIGlmIChyZXN1bHQuc3RhdHVzLnN0YXRlID09PSAnb2snKSB7XHJcbiAgICAgICAgICAgIGZpbGxMaXN0TWV0YSgkbGlzdCwgcmVzdWx0LmRhdGEpO1xyXG4gICAgICAgICAgICB0YWJTdG9wUmVxSGFuZGxlcigpO1xyXG4gICAgICAgICAgICBjb25zdCB1cGRhdGVJbnRlcnZhbCA9IHJlc3VsdC5kYXRhLnNldHRpbmdzLmludm9rZV9pbl9taWxsaXM7XHJcbiAgICAgICAgICAgIC8vIHJlc2V0IFRpbWVyIHJlcXVlc3RcclxuICAgICAgICAgICAgaWYgKGludGVydmFsSWQpIHtcclxuICAgICAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoaW50ZXJ2YWxJZCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKGN1cnJlbnRQYWdlIDw9IDEpIHtcclxuICAgICAgICAgICAgICAgIGludGVydmFsSWQgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGluZGVudFxyXG4gICAgICAgICAgICAgICAgICAgIGdldExvZ3NEYXRhKCRsaXN0LCBwYXRoLCBjdXJyZW50UGFnZSk7XHJcbiAgICAgICAgICAgICAgICB9LCB1cGRhdGVJbnRlcnZhbCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAkKGA8bGkgY2xhc3M9XCJsaXN0LWdyb3VwLWl0ZW0gcHktMlwiPlxyXG4gICAgICAgICAgICAgICAgPHA+0J3QtdGCINC00L7RgdGC0YPQv9CwPC9wPlxyXG4gICAgICAgICAgICA8L2xpPmApLmFwcGVuZFRvKCRsaXN0KTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gcHJlQ29uZmlnKGNmZykge1xyXG4gICAgY2xzQ29uc3QgPSBjZmc7XHJcbiAgICAkbGlzdCA9ICQoY2xzQ29uc3QudGFza3NMaXN0KTtcclxuICAgIHBhdGgudHlwZSA9IGNmZy5wYXRoVHlwZTtcclxuICAgIHBhdGguc3VidHlwZSA9IGNmZy5wYXRoU3ViVHlwZTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGluaXQoX3NlbGVjdENscywgY2ZnKSB7XHJcbiAgICBpZiAoJChjZmcuY3VycmVudFBhZ2VDbHMpLmxlbmd0aCkge1xyXG4gICAgICAgIHNlbGVjdENscyA9IF9zZWxlY3RDbHM7XHJcbiAgICAgICAgcHJlQ29uZmlnKGNmZyk7XHJcbiAgICAgICAgaWYgKGdldFVzZXJuYW1lKCkpIHtcclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coZ2V0VXNlcm5hbWUoKSk7XHJcbiAgICAgICAgICAgIGdldExvZ3NEYXRhKCRsaXN0LCBwYXRoKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnc2VsZWN0IHVzZXInKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbn1cclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2Jsb2Nrcy9fc2hhcmVkL2xvZ3MvbG9ncy5qcyIsImltcG9ydCB7Q09OU1R9IGZyb20gJy4uLy4uLy4uL2NvbW1vbi9qcy1zZXJ2aWNlcy9jb25zdHMnO1xyXG5pbXBvcnQgVXNlciBmcm9tICcuLi8uLi8uLi9jb21tb24vanMtc2VydmljZXMvdXNlcic7XHJcblxyXG5jb25zdCBmaWxsRHJvcGRvd25Vc2Vyc0NmZyA9IHt9O1xyXG5cclxuZnVuY3Rpb24gZmlsbERyb3Bkb3duVXNlcnMoeyR3cmFwcGVyLCBsb2dzU3RhdGUsIE9uQ2hhbmdlU2VsZWN0Q2J9LCBhY2NvdW50cykge1xyXG4gICAgY29uc3Qge3NlbGVjdENsc30gPSBsb2dzU3RhdGU7XHJcbiAgICBjb25zdCBsYWJlbCA9ICfQktGL0LHQtdGA0LjRgtC1INCw0LrQutCw0YPQvdGCJztcclxuICAgICR3cmFwcGVyLmVtcHR5KCkuYWRkQ2xhc3MoJ2JvcmRlci1saWdodC1jb2xvcicpO1xyXG4gICAgJChgPGRpdiBjbGFzcz1cIlwiPiR7bGFiZWx9PC9kaXY+PHNlbGVjdCBuYW1lPVwidGFzay10eXBlXCIgY2xhc3M9XCIke3NlbGVjdENsc31cIj48L3NlbGVjdD5gKS5hcHBlbmRUbygkd3JhcHBlcik7XHJcbiAgICBhY2NvdW50cy5mb3JFYWNoKChuYW1lKSA9PiB7XHJcbiAgICAgICAgJChgPG9wdGlvbiBjbGFzcz1cImxpc3QtZ3JvdXAtaXRlbSBweS0yXCIgdmFsdWU9XCIke25hbWV9XCI+XHJcbiAgICAgICAgICAgICR7bmFtZX1cclxuICAgICAgICA8L29wdGlvbj5gKS5hcHBlbmRUbygkKGAuJHtzZWxlY3RDbHN9YCkpO1xyXG4gICAgfSk7XHJcbiAgICBPbkNoYW5nZVNlbGVjdENiKCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGdldE1ldGFMYXp5KCkge1xyXG4gICAgVXNlci5nZXRNZXRhZGF0YUxhenkoKS50aGVuKChyZXMpID0+IHtcclxuICAgICAgICBpZiAocmVzLnN0YXR1cy5zdGF0ZSA9PT0gJ29rJyAmJiByZXMuZGF0YSAmJiByZXMuZGF0YS5hY2NvdW50cykge1xyXG4gICAgICAgICAgICBjb25zdCBjZmcgPSBmaWxsRHJvcGRvd25Vc2Vyc0NmZztcclxuICAgICAgICAgICAgY29uc3Qge2FjY291bnRzfSA9IHJlcy5kYXRhO1xyXG4gICAgICAgICAgICBmaWxsRHJvcGRvd25Vc2VycyhjZmcsIGFjY291bnRzKTtcclxuICAgICAgICAgICAgd2luZG93LlB1YlN1Yi5wdWJsaXNoKENPTlNULmV2ZW50cy5pbnN0YWdyYW1BY2NvdW5zLklOU1RBR1JBTV9BQ0NPVU5TX1JFTkRFUkVEX0xBWlksIHJlcy5kYXRhLmFjY291bnRzKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gdGFiSGFuZGxlcihpc0NvbXB1dGVNdWx0eURyb3Bkb3duKSB7XHJcbiAgICAkKCcjdi1waWxscy1sb2dzLXRhYicpLm9uKCdjbGljaycsIChlKSA9PiB7XHJcbiAgICAgICAgZ2V0TWV0YUxhenkoKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaW5pdChPbkNoYW5nZVNlbGVjdCwgbG9nc1N0YXRlKSB7XHJcbiAgICBjb25zdCAkd3JhcHBlciA9ICQoJy5sb2ctdXNlcnMtbGlzdCcpO1xyXG4gICAgT2JqZWN0LmFzc2lnbihmaWxsRHJvcGRvd25Vc2Vyc0NmZywgeyR3cmFwcGVyLCBPbkNoYW5nZVNlbGVjdENiOiBPbkNoYW5nZVNlbGVjdCwgbG9nc1N0YXRlfSk7XHJcbiAgICB0YWJIYW5kbGVyKCk7XHJcbn1cclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2Jsb2Nrcy9fc2hhcmVkL3RlYnMtcGlscy90YWJzLmpzIiwiaW1wb3J0ICdib290c3RyYXAtdGFnc2lucHV0L2Rpc3QvYm9vdHN0cmFwLXRhZ3NpbnB1dC5taW4uanMnO1xyXG5cclxuY29uc3QgdGFnc2lucHV0U2VsZWN0b3IgPSAnLmJvb3RzdHJhcC10YWdzaW5wdXQnO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIG5leHRCdG52YWxpZGF0ZUNvbXBldGl0b3JzSGFuZGxlcigkaW5wdXQsIG5leHRTdGVwQnRuLCBpZ3JvcmVSZWdleENoZWNrKSB7XHJcbiAgICBjb25zdCBlbmdsaXNoQ2hhcnMgPSAvXltBLVphLXowLTksLl8gXFxuXSskLztcclxuICAgIGNvbnN0IGNoZWNrVGV4dEFyZWEgPSAoZSwgaXNJbml0KSA9PiB7XHJcbiAgICAgICAgY29uc3QgaW5wdXR2YWx1ZSA9ICghaXNJbml0KSA/ICQoZS50YXJnZXQpLmNsb3Nlc3QoJ2RpdiBpbnB1dCcpLnZhbCgpIDogJyc7XHJcbiAgICAgICAgY29uc3QgdGV4dCA9ICghaXNJbml0KSA/IGAkeyQoZS50YXJnZXQpLmNsb3Nlc3QoJ2RpdicpLmZpbmQoJy5ib290c3RyYXAtdGFnc2lucHV0IGlucHV0JykudmFsKCl9LCR7aW5wdXR2YWx1ZX1gIDogJyc7XHJcbiAgICAgICAgY29uc3QgaXNSZW1vdmVkID0gKCFpc0luaXQgJiYgZS50eXBlID09PSAnaXRlbVJlbW92ZWQnKTtcclxuICAgICAgICBjb25zdCB0ZXh0T25SZW1vdmUgPSAoaXNSZW1vdmVkKSA/IGlucHV0dmFsdWUgOiAnJztcclxuICAgICAgICBjb25zdCByZW1vdmVCb3JkZXIgPSAoKSA9PiB7XHJcbiAgICAgICAgICAgIC8vIGVuYWJsZSBvbiBkZWxldGUgYWxsXHJcbiAgICAgICAgICAgICQoZS50YXJnZXQpLmNsb3Nlc3QoJy5qc190YWdzaW5wdXQtYm94JykuZmluZCh0YWdzaW5wdXRTZWxlY3RvcikucmVtb3ZlQ2xhc3MoJ2JvcmRlci1kYW5nZXInKTtcclxuICAgICAgICAgICAgaWYgKG5leHRTdGVwQnRuKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBkaXNhYmxlIG9uIGNoZWNuZ2VcclxuICAgICAgICAgICAgICAgIG5leHRTdGVwQnRuLnJlbW92ZUF0dHIoJ2Rpc2FibGVkJywgJ2Rpc2FibGVkJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIGNvbnN0IGFkZEJvcmRlciA9ICgpID0+IHtcclxuICAgICAgICAgICAgJChlLnRhcmdldCkuY2xvc2VzdCgnLmpzX3RhZ3NpbnB1dC1ib3gnKS5maW5kKHRhZ3NpbnB1dFNlbGVjdG9yKS5hZGRDbGFzcygnYm9yZGVyLWRhbmdlcicpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgY29uc29sZS5sb2coJ3RleHQnLCB0ZXh0KTtcclxuICAgICAgICBpZiAobmV4dFN0ZXBCdG4pIHtcclxuICAgICAgICAgICAgLy8gZGlzYWJsZSBvbiBjaGVjbmdlXHJcbiAgICAgICAgICAgIG5leHRTdGVwQnRuLmF0dHIoJ2Rpc2FibGVkJywgJ2Rpc2FibGVkJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IGlzQWRkZWRUZXh0VmFsaWQgPSB0ZXh0Lmxlbmd0aCAmJiAoZW5nbGlzaENoYXJzLnRlc3QodGV4dCkgfHwgISFpZ3JvcmVSZWdleENoZWNrKTtcclxuICAgICAgICBjb25zdCBpc1JlbW92ZWRUZXh0VmFsaWQgPSB0ZXh0T25SZW1vdmUubGVuZ3RoICYmIChlbmdsaXNoQ2hhcnMudGVzdCh0ZXh0T25SZW1vdmUpIHx8ICEhaWdyb3JlUmVnZXhDaGVjayk7XHJcblxyXG4gICAgICAgIGlmICgoaXNBZGRlZFRleHRWYWxpZCB8fCBpc1JlbW92ZWRUZXh0VmFsaWQpICYmIHRleHQgIT09ICcsJykge1xyXG4gICAgICAgICAgICAvLyBlbmFibGUgb24gY2hlY25nZSBpZiBsZW5ndGhUZXh0PjFcclxuICAgICAgICAgICAgcmVtb3ZlQm9yZGVyKCk7XHJcbiAgICAgICAgfSBlbHNlIGlmICghaXNJbml0KSB7XHJcbiAgICAgICAgICAgIC8vICQoZS50YXJnZXQpLmNsb3Nlc3QoJy5qc190YWdzaW5wdXQtYm94JykuZmluZCh0YWdzaW5wdXRTZWxlY3RvcikuYWRkQ2xhc3MoJ2JvcmRlci1kYW5nZXInKTtcclxuICAgICAgICAgICAgYWRkQm9yZGVyKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmICghdGV4dE9uUmVtb3ZlLmxlbmd0aCAmJiBpc1JlbW92ZWQgJiYgIWlzSW5pdCkge1xyXG4gICAgICAgICAgICAvLyBlbmFibGUgb24gZGVsZXRlIGFsbFxyXG4gICAgICAgICAgICByZW1vdmVCb3JkZXIoKTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG4gICAgLy8gZGlzYWJsZSBvbiBpbml0XHJcbiAgICBjaGVja1RleHRBcmVhKG51bGwsICdpc0luaXQnKTtcclxuICAgIGNvbnNvbGUubG9nKCckY29tcGV0aXRvcnNUZXh0QXJlYScsICRpbnB1dCk7XHJcblxyXG4gICAgaWYgKCFuZXh0U3RlcEJ0bikge1xyXG4gICAgICAgIC8vIGRvIG5vdCB2YWxpZGF0ZSBhbnl0aGluZ1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICAvLyBldmVudC5pdGVtOiBjb250YWlucyB0aGUgaXRlbVxyXG4gICAgLy8gZXZlbnQuY2FuY2VsOiBzZXQgdG8gdHJ1ZSB0byBwcmV2ZW50IHRoZSBpdGVtIGdldHRpbmcgYWRkZWRcclxuICAgICRpbnB1dC5vbignYmVmb3JlSXRlbUFkZCcsIGNoZWNrVGV4dEFyZWEpO1xyXG5cclxuICAgIC8vIGV2ZW50Lml0ZW06IGNvbnRhaW5zIHRoZSBpdGVtXHJcbiAgICAkaW5wdXQub24oJ2l0ZW1SZW1vdmVkJywgY2hlY2tUZXh0QXJlYSk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBpbml0VGFnc0lucHV0ICgkZWxJbnB1dCkge1xyXG4gICAgJGVsSW5wdXQudGFnc2lucHV0KCdpdGVtcycpO1xyXG59XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9ibG9ja3MvX3NoYXJlZC90YWdzLWlucHV0L3RhZ3MtaW5wdXQuanMiLCIvKipcbiAqIENvcHlyaWdodCAoYykgMjAxMCwyMDExLDIwMTIsMjAxMywyMDE0IE1vcmdhbiBSb2RlcmljayBodHRwOi8vcm9kZXJpY2suZGtcbiAqIExpY2Vuc2U6IE1JVCAtIGh0dHA6Ly9tcmducmRyY2subWl0LWxpY2Vuc2Uub3JnXG4gKlxuICogaHR0cHM6Ly9naXRodWIuY29tL21yb2Rlcmljay9QdWJTdWJKU1xuICovXG5cbihmdW5jdGlvbiAocm9vdCwgZmFjdG9yeSl7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgdmFyIFB1YlN1YiA9IHt9O1xuICAgIHJvb3QuUHViU3ViID0gUHViU3ViO1xuXG4gICAgdmFyIGRlZmluZSA9IHJvb3QuZGVmaW5lO1xuXG4gICAgZmFjdG9yeShQdWJTdWIpO1xuXG4gICAgLy8gQU1EIHN1cHBvcnRcbiAgICBpZiAodHlwZW9mIGRlZmluZSA9PT0gJ2Z1bmN0aW9uJyAmJiBkZWZpbmUuYW1kKXtcbiAgICAgICAgZGVmaW5lKGZ1bmN0aW9uKCkgeyByZXR1cm4gUHViU3ViOyB9KTtcblxuICAgICAgICAvLyBDb21tb25KUyBhbmQgTm9kZS5qcyBtb2R1bGUgc3VwcG9ydFxuICAgIH0gZWxzZSBpZiAodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKXtcbiAgICAgICAgaWYgKG1vZHVsZSAhPT0gdW5kZWZpbmVkICYmIG1vZHVsZS5leHBvcnRzKSB7XG4gICAgICAgICAgICBleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSBQdWJTdWI7IC8vIE5vZGUuanMgc3BlY2lmaWMgYG1vZHVsZS5leHBvcnRzYFxuICAgICAgICB9XG4gICAgICAgIGV4cG9ydHMuUHViU3ViID0gUHViU3ViOyAvLyBDb21tb25KUyBtb2R1bGUgMS4xLjEgc3BlY1xuICAgICAgICBtb2R1bGUuZXhwb3J0cyA9IGV4cG9ydHMgPSBQdWJTdWI7IC8vIENvbW1vbkpTXG4gICAgfVxuXG59KCggdHlwZW9mIHdpbmRvdyA9PT0gJ29iamVjdCcgJiYgd2luZG93ICkgfHwgdGhpcywgZnVuY3Rpb24gKFB1YlN1Yil7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgdmFyIG1lc3NhZ2VzID0ge30sXG4gICAgICAgIGxhc3RVaWQgPSAtMTtcblxuICAgIGZ1bmN0aW9uIGhhc0tleXMob2JqKXtcbiAgICAgICAgdmFyIGtleTtcblxuICAgICAgICBmb3IgKGtleSBpbiBvYmope1xuICAgICAgICAgICAgaWYgKCBvYmouaGFzT3duUHJvcGVydHkoa2V5KSApe1xuICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBSZXR1cm5zIGEgZnVuY3Rpb24gdGhhdCB0aHJvd3MgdGhlIHBhc3NlZCBleGNlcHRpb24sIGZvciB1c2UgYXMgYXJndW1lbnQgZm9yIHNldFRpbWVvdXRcbiAgICAgKiBAYWxpYXMgdGhyb3dFeGNlcHRpb25cbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKiBAcGFyYW0geyBPYmplY3QgfSBleCBBbiBFcnJvciBvYmplY3RcbiAgICAgKi9cbiAgICBmdW5jdGlvbiB0aHJvd0V4Y2VwdGlvbiggZXggKXtcbiAgICAgICAgcmV0dXJuIGZ1bmN0aW9uIHJlVGhyb3dFeGNlcHRpb24oKXtcbiAgICAgICAgICAgIHRocm93IGV4O1xuICAgICAgICB9O1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIGNhbGxTdWJzY3JpYmVyV2l0aERlbGF5ZWRFeGNlcHRpb25zKCBzdWJzY3JpYmVyLCBtZXNzYWdlLCBkYXRhICl7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgICBzdWJzY3JpYmVyKCBtZXNzYWdlLCBkYXRhICk7XG4gICAgICAgIH0gY2F0Y2goIGV4ICl7XG4gICAgICAgICAgICBzZXRUaW1lb3V0KCB0aHJvd0V4Y2VwdGlvbiggZXggKSwgMCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjYWxsU3Vic2NyaWJlcldpdGhJbW1lZGlhdGVFeGNlcHRpb25zKCBzdWJzY3JpYmVyLCBtZXNzYWdlLCBkYXRhICl7XG4gICAgICAgIHN1YnNjcmliZXIoIG1lc3NhZ2UsIGRhdGEgKTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBkZWxpdmVyTWVzc2FnZSggb3JpZ2luYWxNZXNzYWdlLCBtYXRjaGVkTWVzc2FnZSwgZGF0YSwgaW1tZWRpYXRlRXhjZXB0aW9ucyApe1xuICAgICAgICB2YXIgc3Vic2NyaWJlcnMgPSBtZXNzYWdlc1ttYXRjaGVkTWVzc2FnZV0sXG4gICAgICAgICAgICBjYWxsU3Vic2NyaWJlciA9IGltbWVkaWF0ZUV4Y2VwdGlvbnMgPyBjYWxsU3Vic2NyaWJlcldpdGhJbW1lZGlhdGVFeGNlcHRpb25zIDogY2FsbFN1YnNjcmliZXJXaXRoRGVsYXllZEV4Y2VwdGlvbnMsXG4gICAgICAgICAgICBzO1xuXG4gICAgICAgIGlmICggIW1lc3NhZ2VzLmhhc093blByb3BlcnR5KCBtYXRjaGVkTWVzc2FnZSApICkge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG5cbiAgICAgICAgZm9yIChzIGluIHN1YnNjcmliZXJzKXtcbiAgICAgICAgICAgIGlmICggc3Vic2NyaWJlcnMuaGFzT3duUHJvcGVydHkocykpe1xuICAgICAgICAgICAgICAgIGNhbGxTdWJzY3JpYmVyKCBzdWJzY3JpYmVyc1tzXSwgb3JpZ2luYWxNZXNzYWdlLCBkYXRhICk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBmdW5jdGlvbiBjcmVhdGVEZWxpdmVyeUZ1bmN0aW9uKCBtZXNzYWdlLCBkYXRhLCBpbW1lZGlhdGVFeGNlcHRpb25zICl7XG4gICAgICAgIHJldHVybiBmdW5jdGlvbiBkZWxpdmVyTmFtZXNwYWNlZCgpe1xuICAgICAgICAgICAgdmFyIHRvcGljID0gU3RyaW5nKCBtZXNzYWdlICksXG4gICAgICAgICAgICAgICAgcG9zaXRpb24gPSB0b3BpYy5sYXN0SW5kZXhPZiggJy4nICk7XG5cbiAgICAgICAgICAgIC8vIGRlbGl2ZXIgdGhlIG1lc3NhZ2UgYXMgaXQgaXMgbm93XG4gICAgICAgICAgICBkZWxpdmVyTWVzc2FnZShtZXNzYWdlLCBtZXNzYWdlLCBkYXRhLCBpbW1lZGlhdGVFeGNlcHRpb25zKTtcblxuICAgICAgICAgICAgLy8gdHJpbSB0aGUgaGllcmFyY2h5IGFuZCBkZWxpdmVyIG1lc3NhZ2UgdG8gZWFjaCBsZXZlbFxuICAgICAgICAgICAgd2hpbGUoIHBvc2l0aW9uICE9PSAtMSApe1xuICAgICAgICAgICAgICAgIHRvcGljID0gdG9waWMuc3Vic3RyKCAwLCBwb3NpdGlvbiApO1xuICAgICAgICAgICAgICAgIHBvc2l0aW9uID0gdG9waWMubGFzdEluZGV4T2YoJy4nKTtcbiAgICAgICAgICAgICAgICBkZWxpdmVyTWVzc2FnZSggbWVzc2FnZSwgdG9waWMsIGRhdGEsIGltbWVkaWF0ZUV4Y2VwdGlvbnMgKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICB9XG5cbiAgICBmdW5jdGlvbiBtZXNzYWdlSGFzU3Vic2NyaWJlcnMoIG1lc3NhZ2UgKXtcbiAgICAgICAgdmFyIHRvcGljID0gU3RyaW5nKCBtZXNzYWdlICksXG4gICAgICAgICAgICBmb3VuZCA9IEJvb2xlYW4obWVzc2FnZXMuaGFzT3duUHJvcGVydHkoIHRvcGljICkgJiYgaGFzS2V5cyhtZXNzYWdlc1t0b3BpY10pKSxcbiAgICAgICAgICAgIHBvc2l0aW9uID0gdG9waWMubGFzdEluZGV4T2YoICcuJyApO1xuXG4gICAgICAgIHdoaWxlICggIWZvdW5kICYmIHBvc2l0aW9uICE9PSAtMSApe1xuICAgICAgICAgICAgdG9waWMgPSB0b3BpYy5zdWJzdHIoIDAsIHBvc2l0aW9uICk7XG4gICAgICAgICAgICBwb3NpdGlvbiA9IHRvcGljLmxhc3RJbmRleE9mKCAnLicgKTtcbiAgICAgICAgICAgIGZvdW5kID0gQm9vbGVhbihtZXNzYWdlcy5oYXNPd25Qcm9wZXJ0eSggdG9waWMgKSAmJiBoYXNLZXlzKG1lc3NhZ2VzW3RvcGljXSkpO1xuICAgICAgICB9XG5cbiAgICAgICAgcmV0dXJuIGZvdW5kO1xuICAgIH1cblxuICAgIGZ1bmN0aW9uIHB1Ymxpc2goIG1lc3NhZ2UsIGRhdGEsIHN5bmMsIGltbWVkaWF0ZUV4Y2VwdGlvbnMgKXtcbiAgICAgICAgbWVzc2FnZSA9ICh0eXBlb2YgbWVzc2FnZSA9PT0gJ3N5bWJvbCcpID8gbWVzc2FnZS50b1N0cmluZygpIDogbWVzc2FnZTtcblxuICAgICAgICB2YXIgZGVsaXZlciA9IGNyZWF0ZURlbGl2ZXJ5RnVuY3Rpb24oIG1lc3NhZ2UsIGRhdGEsIGltbWVkaWF0ZUV4Y2VwdGlvbnMgKSxcbiAgICAgICAgICAgIGhhc1N1YnNjcmliZXJzID0gbWVzc2FnZUhhc1N1YnNjcmliZXJzKCBtZXNzYWdlICk7XG5cbiAgICAgICAgaWYgKCAhaGFzU3Vic2NyaWJlcnMgKXtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmICggc3luYyA9PT0gdHJ1ZSApe1xuICAgICAgICAgICAgZGVsaXZlcigpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc2V0VGltZW91dCggZGVsaXZlciwgMCApO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cblxuICAgIC8qKlxuICAgICAqIFB1Ymxpc2hlcyB0aGUgbWVzc2FnZSwgcGFzc2luZyB0aGUgZGF0YSB0byBpdCdzIHN1YnNjcmliZXJzXG4gICAgICogQGZ1bmN0aW9uXG4gICAgICogQGFsaWFzIHB1Ymxpc2hcbiAgICAgKiBAcGFyYW0geyBTdHJpbmcgfSBtZXNzYWdlIFRoZSBtZXNzYWdlIHRvIHB1Ymxpc2hcbiAgICAgKiBAcGFyYW0ge30gZGF0YSBUaGUgZGF0YSB0byBwYXNzIHRvIHN1YnNjcmliZXJzXG4gICAgICogQHJldHVybiB7IEJvb2xlYW4gfVxuICAgICAqL1xuICAgIFB1YlN1Yi5wdWJsaXNoID0gZnVuY3Rpb24oIG1lc3NhZ2UsIGRhdGEgKXtcbiAgICAgICAgcmV0dXJuIHB1Ymxpc2goIG1lc3NhZ2UsIGRhdGEsIGZhbHNlLCBQdWJTdWIuaW1tZWRpYXRlRXhjZXB0aW9ucyApO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBQdWJsaXNoZXMgdGhlIHRoZSBtZXNzYWdlIHN5bmNocm9ub3VzbHksIHBhc3NpbmcgdGhlIGRhdGEgdG8gaXQncyBzdWJzY3JpYmVyc1xuICAgICAqIEBmdW5jdGlvblxuICAgICAqIEBhbGlhcyBwdWJsaXNoU3luY1xuICAgICAqIEBwYXJhbSB7IFN0cmluZyB9IG1lc3NhZ2UgVGhlIG1lc3NhZ2UgdG8gcHVibGlzaFxuICAgICAqIEBwYXJhbSB7fSBkYXRhIFRoZSBkYXRhIHRvIHBhc3MgdG8gc3Vic2NyaWJlcnNcbiAgICAgKiBAcmV0dXJuIHsgQm9vbGVhbiB9XG4gICAgICovXG4gICAgUHViU3ViLnB1Ymxpc2hTeW5jID0gZnVuY3Rpb24oIG1lc3NhZ2UsIGRhdGEgKXtcbiAgICAgICAgcmV0dXJuIHB1Ymxpc2goIG1lc3NhZ2UsIGRhdGEsIHRydWUsIFB1YlN1Yi5pbW1lZGlhdGVFeGNlcHRpb25zICk7XG4gICAgfTtcblxuICAgIC8qKlxuICAgICAqIFN1YnNjcmliZXMgdGhlIHBhc3NlZCBmdW5jdGlvbiB0byB0aGUgcGFzc2VkIG1lc3NhZ2UuIEV2ZXJ5IHJldHVybmVkIHRva2VuIGlzIHVuaXF1ZSBhbmQgc2hvdWxkIGJlIHN0b3JlZCBpZiB5b3UgbmVlZCB0byB1bnN1YnNjcmliZVxuICAgICAqIEBmdW5jdGlvblxuICAgICAqIEBhbGlhcyBzdWJzY3JpYmVcbiAgICAgKiBAcGFyYW0geyBTdHJpbmcgfSBtZXNzYWdlIFRoZSBtZXNzYWdlIHRvIHN1YnNjcmliZSB0b1xuICAgICAqIEBwYXJhbSB7IEZ1bmN0aW9uIH0gZnVuYyBUaGUgZnVuY3Rpb24gdG8gY2FsbCB3aGVuIGEgbmV3IG1lc3NhZ2UgaXMgcHVibGlzaGVkXG4gICAgICogQHJldHVybiB7IFN0cmluZyB9XG4gICAgICovXG4gICAgUHViU3ViLnN1YnNjcmliZSA9IGZ1bmN0aW9uKCBtZXNzYWdlLCBmdW5jICl7XG4gICAgICAgIGlmICggdHlwZW9mIGZ1bmMgIT09ICdmdW5jdGlvbicpe1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9XG5cbiAgICAgICAgbWVzc2FnZSA9ICh0eXBlb2YgbWVzc2FnZSA9PT0gJ3N5bWJvbCcpID8gbWVzc2FnZS50b1N0cmluZygpIDogbWVzc2FnZTtcblxuICAgICAgICAvLyBtZXNzYWdlIGlzIG5vdCByZWdpc3RlcmVkIHlldFxuICAgICAgICBpZiAoICFtZXNzYWdlcy5oYXNPd25Qcm9wZXJ0eSggbWVzc2FnZSApICl7XG4gICAgICAgICAgICBtZXNzYWdlc1ttZXNzYWdlXSA9IHt9O1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gZm9yY2luZyB0b2tlbiBhcyBTdHJpbmcsIHRvIGFsbG93IGZvciBmdXR1cmUgZXhwYW5zaW9ucyB3aXRob3V0IGJyZWFraW5nIHVzYWdlXG4gICAgICAgIC8vIGFuZCBhbGxvdyBmb3IgZWFzeSB1c2UgYXMga2V5IG5hbWVzIGZvciB0aGUgJ21lc3NhZ2VzJyBvYmplY3RcbiAgICAgICAgdmFyIHRva2VuID0gJ3VpZF8nICsgU3RyaW5nKCsrbGFzdFVpZCk7XG4gICAgICAgIG1lc3NhZ2VzW21lc3NhZ2VdW3Rva2VuXSA9IGZ1bmM7XG4gICAgICAgIFxuICAgICAgICAvLyByZXR1cm4gdG9rZW4gZm9yIHVuc3Vic2NyaWJpbmdcbiAgICAgICAgcmV0dXJuIHRva2VuO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBTdWJzY3JpYmVzIHRoZSBwYXNzZWQgZnVuY3Rpb24gdG8gdGhlIHBhc3NlZCBtZXNzYWdlIG9uY2VcbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKiBAYWxpYXMgc3Vic2NyaWJlT25jZVxuICAgICAqIEBwYXJhbSB7IFN0cmluZyB9IG1lc3NhZ2UgVGhlIG1lc3NhZ2UgdG8gc3Vic2NyaWJlIHRvXG4gICAgICogQHBhcmFtIHsgRnVuY3Rpb24gfSBmdW5jIFRoZSBmdW5jdGlvbiB0byBjYWxsIHdoZW4gYSBuZXcgbWVzc2FnZSBpcyBwdWJsaXNoZWRcbiAgICAgKiBAcmV0dXJuIHsgUHViU3ViIH1cbiAgICAgKi9cbiAgICBQdWJTdWIuc3Vic2NyaWJlT25jZSA9IGZ1bmN0aW9uKCBtZXNzYWdlLCBmdW5jICl7XG4gICAgICAgIHZhciB0b2tlbiA9IFB1YlN1Yi5zdWJzY3JpYmUoIG1lc3NhZ2UsIGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAvLyBiZWZvcmUgZnVuYyBhcHBseSwgdW5zdWJzY3JpYmUgbWVzc2FnZVxuICAgICAgICAgICAgUHViU3ViLnVuc3Vic2NyaWJlKCB0b2tlbiApO1xuICAgICAgICAgICAgZnVuYy5hcHBseSggdGhpcywgYXJndW1lbnRzICk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gUHViU3ViO1xuICAgIH07XG5cbiAgICAvKipcbiAgICAgKiBDbGVhcnMgYWxsIHN1YnNjcmlwdGlvbnNcbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKiBAcHVibGljXG4gICAgICogQGFsaWFzIGNsZWFyQWxsU3Vic2NyaXB0aW9uc1xuICAgICAqL1xuICAgIFB1YlN1Yi5jbGVhckFsbFN1YnNjcmlwdGlvbnMgPSBmdW5jdGlvbiBjbGVhckFsbFN1YnNjcmlwdGlvbnMoKXtcbiAgICAgICAgbWVzc2FnZXMgPSB7fTtcbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogQ2xlYXIgc3Vic2NyaXB0aW9ucyBieSB0aGUgdG9waWNcbiAgICAgKiBAZnVuY3Rpb25cbiAgICAgKiBAcHVibGljXG4gICAgICogQGFsaWFzIGNsZWFyQWxsU3Vic2NyaXB0aW9uc1xuICAgICAqL1xuICAgIFB1YlN1Yi5jbGVhclN1YnNjcmlwdGlvbnMgPSBmdW5jdGlvbiBjbGVhclN1YnNjcmlwdGlvbnModG9waWMpe1xuICAgICAgICB2YXIgbTtcbiAgICAgICAgZm9yIChtIGluIG1lc3NhZ2VzKXtcbiAgICAgICAgICAgIGlmIChtZXNzYWdlcy5oYXNPd25Qcm9wZXJ0eShtKSAmJiBtLmluZGV4T2YodG9waWMpID09PSAwKXtcbiAgICAgICAgICAgICAgICBkZWxldGUgbWVzc2FnZXNbbV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9O1xuXG4gICAgLyoqXG4gICAgICogUmVtb3ZlcyBzdWJzY3JpcHRpb25zXG4gICAgICpcbiAgICAgKiAtIFdoZW4gcGFzc2VkIGEgdG9rZW4sIHJlbW92ZXMgYSBzcGVjaWZpYyBzdWJzY3JpcHRpb24uXG4gICAgICpcblx0ICogLSBXaGVuIHBhc3NlZCBhIGZ1bmN0aW9uLCByZW1vdmVzIGFsbCBzdWJzY3JpcHRpb25zIGZvciB0aGF0IGZ1bmN0aW9uXG4gICAgICpcblx0ICogLSBXaGVuIHBhc3NlZCBhIHRvcGljLCByZW1vdmVzIGFsbCBzdWJzY3JpcHRpb25zIGZvciB0aGF0IHRvcGljIChoaWVyYXJjaHkpXG4gICAgICogQGZ1bmN0aW9uXG4gICAgICogQHB1YmxpY1xuICAgICAqIEBhbGlhcyBzdWJzY3JpYmVPbmNlXG4gICAgICogQHBhcmFtIHsgU3RyaW5nIHwgRnVuY3Rpb24gfSB2YWx1ZSBBIHRva2VuLCBmdW5jdGlvbiBvciB0b3BpYyB0byB1bnN1YnNjcmliZSBmcm9tXG4gICAgICogQGV4YW1wbGUgLy8gVW5zdWJzY3JpYmluZyB3aXRoIGEgdG9rZW5cbiAgICAgKiB2YXIgdG9rZW4gPSBQdWJTdWIuc3Vic2NyaWJlKCdteXRvcGljJywgbXlGdW5jKTtcbiAgICAgKiBQdWJTdWIudW5zdWJzY3JpYmUodG9rZW4pO1xuICAgICAqIEBleGFtcGxlIC8vIFVuc3Vic2NyaWJpbmcgd2l0aCBhIGZ1bmN0aW9uXG4gICAgICogUHViU3ViLnVuc3Vic2NyaWJlKG15RnVuYyk7XG4gICAgICogQGV4YW1wbGUgLy8gVW5zdWJzY3JpYmluZyBmcm9tIGEgdG9waWNcbiAgICAgKiBQdWJTdWIudW5zdWJzY3JpYmUoJ215dG9waWMnKTtcbiAgICAgKi9cbiAgICBQdWJTdWIudW5zdWJzY3JpYmUgPSBmdW5jdGlvbih2YWx1ZSl7XG4gICAgICAgIHZhciBkZXNjZW5kYW50VG9waWNFeGlzdHMgPSBmdW5jdGlvbih0b3BpYykge1xuICAgICAgICAgICAgICAgIHZhciBtO1xuICAgICAgICAgICAgICAgIGZvciAoIG0gaW4gbWVzc2FnZXMgKXtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCBtZXNzYWdlcy5oYXNPd25Qcm9wZXJ0eShtKSAmJiBtLmluZGV4T2YodG9waWMpID09PSAwICl7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBhIGRlc2NlbmRhbnQgb2YgdGhlIHRvcGljIGV4aXN0czpcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGlzVG9waWMgICAgPSB0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnICYmICggbWVzc2FnZXMuaGFzT3duUHJvcGVydHkodmFsdWUpIHx8IGRlc2NlbmRhbnRUb3BpY0V4aXN0cyh2YWx1ZSkgKSxcbiAgICAgICAgICAgIGlzVG9rZW4gICAgPSAhaXNUb3BpYyAmJiB0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnLFxuICAgICAgICAgICAgaXNGdW5jdGlvbiA9IHR5cGVvZiB2YWx1ZSA9PT0gJ2Z1bmN0aW9uJyxcbiAgICAgICAgICAgIHJlc3VsdCA9IGZhbHNlLFxuICAgICAgICAgICAgbSwgbWVzc2FnZSwgdDtcblxuICAgICAgICBpZiAoaXNUb3BpYyl7XG4gICAgICAgICAgICBQdWJTdWIuY2xlYXJTdWJzY3JpcHRpb25zKHZhbHVlKTtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAoIG0gaW4gbWVzc2FnZXMgKXtcbiAgICAgICAgICAgIGlmICggbWVzc2FnZXMuaGFzT3duUHJvcGVydHkoIG0gKSApe1xuICAgICAgICAgICAgICAgIG1lc3NhZ2UgPSBtZXNzYWdlc1ttXTtcblxuICAgICAgICAgICAgICAgIGlmICggaXNUb2tlbiAmJiBtZXNzYWdlW3ZhbHVlXSApe1xuICAgICAgICAgICAgICAgICAgICBkZWxldGUgbWVzc2FnZVt2YWx1ZV07XG4gICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IHZhbHVlO1xuICAgICAgICAgICAgICAgICAgICAvLyB0b2tlbnMgYXJlIHVuaXF1ZSwgc28gd2UgY2FuIGp1c3Qgc3RvcCBoZXJlXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGlmIChpc0Z1bmN0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAoIHQgaW4gbWVzc2FnZSApe1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKG1lc3NhZ2UuaGFzT3duUHJvcGVydHkodCkgJiYgbWVzc2FnZVt0XSA9PT0gdmFsdWUpe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBtZXNzYWdlW3RdO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG59KSk7XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vcHVic3ViLWpzL3NyYy9wdWJzdWIuanNcbi8vIG1vZHVsZSBpZCA9IDExXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsImltcG9ydCB7Q09OU1R9IGZyb20gJy4uLy4uLy4uL2NvbW1vbi9qcy1zZXJ2aWNlcy9jb25zdHMnO1xyXG5pbXBvcnQgVXNlclRhc2tNYW5hZ2VyIGZyb20gJy4uLy4uLy4uL2NvbW1vbi9qcy1zZXJ2aWNlcy9hcGktdGFzay1tYW5hZ2VyJztcclxuXHJcbi8qIC0tLS0gbW9kYWwqL1xyXG5leHBvcnQgZnVuY3Rpb24gZmlsbFBvc3RzKCRsaXN0LCBpdGVtcywgaXNBcHBlbmRUb0xpc3QpIHtcclxuICAgIGNvbnN0IGFkZFRvTGlzdCA9IChpc0FwcGVuZFByZXZNc2csICRsaSwgJGxpc3QpID0+IHtcclxuICAgICAgICBpZiAoaXNBcHBlbmRQcmV2TXNnKSB7XHJcbiAgICAgICAgICAgICRsaS5pbnNlcnRBZnRlcigkbGlzdC5maW5kKCdsaTpsYXN0LWNoaWxkJykpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICRsaS5hcHBlbmRUbygkbGlzdCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIGlmICghaXNBcHBlbmRUb0xpc3QpIHtcclxuICAgICAgICAkbGlzdC5lbXB0eSgpO1xyXG4gICAgfVxyXG4gICAgaXRlbXMuZm9yRWFjaCgoaXRlbSwgaWR4KSA9PiB7XHJcbiAgICAgICAgY29uc3Qge2lkLCB0eXBlfSA9IGl0ZW07XHJcbiAgICAgICAgY29uc3QgdHBsID0gJChgPGxpIGNsYXNzPVwiY29sLTQgbGlzdC1ncm91cCBsaXN0LWlubGluZS1pdGVtIG0tMCBwLTBcIiBkYXRhLXBvc3QtaWQ9XCIke2lkfVwiIGRhdGEtcG9zdC10eXBlPVwiJHt0eXBlfVwiPlxyXG4gICAgICAgICAgICAkeyhpdGVtLnR5cGUgPT09ICdwaG90bycpXHJcbiAgICAgICAgICAgICAgICA/IGA8aW1nIHNyYz1cIiR7aXRlbS51cmx9XCIgY2xhc3M9XCJpbWctcmVzcG9uc2l2ZSBwLTJcIiBhbHQ9XCJpbWFnZVwiIHN0eWxlPVwibWF4LWhlaWdodDogMjMwcHg7XCIvPmBcclxuICAgICAgICAgICAgICAgIDogYDxkaXYgY2xhc3M9XCIke2l0ZW0udHlwZX0gaC0xMDBcIj5cclxuICAgICAgICAgICAgICAgICAgICA8IS0tc3R5bGU9XCJiYWNrZ3JvdW5kLWltYWdlOiB1cmwoJHtpdGVtLnVybH0pO1wiLS0+XHJcbiAgICAgICAgICAgICAgICAgICAgPGltZyBzcmM9XCIke2l0ZW0udXJsfVwiIGNsYXNzPVwiaW1nLXJlc3BvbnNpdmUgcC0yIHctMTAwXCIgYWx0PVwidmlkZW8tY292ZXJcIiBzdHlsZT1cIm1heC1oZWlnaHQ6IDIwMHB4O1wiLz5cclxuICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz1cImZhcyBmYS12aWRlbyBmYS0yeCBwb3NpdGlvbi1hYnNvbHV0ZSB0ZXh0LXdoaXRlIGFsaWduLXNlbGYtc3RhcnRcIj48L2k+XHJcbiAgICAgICAgICAgICAgICAgIDwvZGl2PmBcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIDwvbGk+YCk7XHJcbiAgICAgICAgYWRkVG9MaXN0KGlzQXBwZW5kVG9MaXN0LCB0cGwsICRsaXN0KTsgLy8gdG9EbyByZWZhY3RvciBtZSwgbGVzcyBET00gbWFuaXB1bGF0aW9uXHJcbiAgICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gYWRkUGFnaW5hdGlvbihtb2RhbEZvb3RlciwgY3Vyc29yKSB7XHJcbiAgICAkKCcjbG9hZC1tb3JlJykuYXR0cignY3Vyc29yJywgY3Vyc29yKTtcclxuICAgIG1vZGFsRm9vdGVyLnJlbW92ZUNsYXNzKCdkLW5vbmUnKTtcclxufVxyXG5cclxuZnVuY3Rpb24gaGlkZVBhZ2luYXRpb24obW9kYWxGb290ZXIpIHtcclxuICAgIG1vZGFsRm9vdGVyLmFkZENsYXNzKCdkLW5vbmUnKTtcclxufVxyXG5cclxuZnVuY3Rpb24gaW1hZ2VTZWxlY3RIYW5kbGVyKCRsaXN0LCBtb2RhbCwgdGFyZ2V0QnV0dG9uKSB7XHJcbiAgICAkKCdsaScsICRsaXN0KS5vbignY2xpY2snLCAoZSkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGltYWdlQm94Q2xzID0gJ2pzX3VwbG9hZGVkLWltZy1mcm9tLXBvc3RzJztcclxuICAgICAgICBjb25zdCBpbWFnZURlbEJ0bkNscyA9ICdqc19kZWxldGUtcG9zdC1pbWcnO1xyXG4gICAgICAgIGNvbnN0IGltYWdlQm94U2VsZWN0b3IgPSBgLiR7aW1hZ2VCb3hDbHN9YDtcclxuICAgICAgICBjb25zdCAkYnRuTGkgPSAkKGUudGFyZ2V0KS5jbG9zZXN0KCdsaScpO1xyXG4gICAgICAgIGNvbnN0IHBvc3RJZCA9ICRidG5MaS5hdHRyKCdkYXRhLXBvc3QtaWQnKTtcclxuICAgICAgICBjb25zdCBwb3N0VHlwZSA9ICRidG5MaS5hdHRyKCdkYXRhLXBvc3QtdHlwZScpO1xyXG4gICAgICAgIGNvbnN0IGNsb3Nlc3RDb2wgPSB0YXJnZXRCdXR0b24uY2xvc2VzdCgnLmNvbCcpO1xyXG4gICAgICAgIC8vIHRhcmdldEJ1dHRvbi5jbG9zZXN0KCdidXR0b24nKS5hdHRyKCdkYXRhLXBvc3QtaW1nLWlkJywgaW1nSWQpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdjbGljaycsIHBvc3RUeXBlLCBwb3N0SWQsIG1vZGFsKTtcclxuICAgICAgICB3aW5kb3cuUHViU3ViLnB1Ymxpc2goQ09OU1QuZXZlbnRzLm1vZGFsLklNQUdFX1BPU1RfU0VMRUNURUQsXHJcbiAgICAgICAgICAgIHskYnRuTGksIGNsb3Nlc3RDb2x9KTtcclxuICAgICAgICBtb2RhbC5tb2RhbCgnaGlkZScpO1xyXG4gICAgICAgIGlmICh0YXJnZXRCdXR0b24uY2xvc2VzdCgnLmNvbCcpLmZpbmQoaW1hZ2VCb3hTZWxlY3RvcikubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIHRhcmdldEJ1dHRvbi5jbG9zZXN0KCcuY29sJykuZmluZChpbWFnZUJveFNlbGVjdG9yKS5yZW1vdmUoKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnN0IHRwbEltYWdlQm94ID0gJChgPGRpdiBjbGFzcz1cIiR7aW1hZ2VCb3hDbHN9IHVwbG9hZGVkLWltZy1mcm9tLXBvc3RzXCIgXHJcbiAgICAgICAgICAgICAgICBkYXRhLXBvc3QtaWQ9XCIke3Bvc3RJZH1cIiBkYXRhLXBvc3QtdHlwZT1cIiR7cG9zdFR5cGV9XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImJ0biBidG4td2FybmluZyB1cGxvYWRlZC1pbWctZnJvbS1wb3N0cy0tcmVtb3ZlLWJ0biBtbC0yICR7aW1hZ2VEZWxCdG5DbHN9XCI+0KPQtNCw0LvQuNGC0Yw8L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgIDwvZGl2YCkucHJlcGVuZCgkYnRuTGkuZmluZCgnaW1nJykpO1xyXG4gICAgICAgIHRhcmdldEJ1dHRvbi5jbG9zZXN0KCcuY29sJykuYXBwZW5kKHRwbEltYWdlQm94KTtcclxuXHJcbiAgICAgICAgJChgLiR7aW1hZ2VEZWxCdG5DbHN9YCkub2ZmKCkub24oJ2NsaWNrJywgKGUpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgY3VycmVudEltYWdlQm94ID0gJChlLnRhcmdldCkuY2xvc2VzdCgnLmNvbCcpLmZpbmQoaW1hZ2VCb3hTZWxlY3Rvcik7XHJcbiAgICAgICAgICAgIGN1cnJlbnRJbWFnZUJveC5yZW1vdmUoKTtcclxuICAgICAgICB9KTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2V0UG9zdHMobW9kYWwsIGRldGFpbHMsIHtsb2FkTW9yZUhhbmRsZXIsIHRhcmdldEJ1dHRvbn0pIHtcclxuICAgIFVzZXJUYXNrTWFuYWdlci5nZXRQb3N0c0F1dG9tZXNzYWdlcyhkZXRhaWxzKS50aGVuKChyZXN1bHQpID0+IHtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZyhyZXN1bHQpO1xyXG4gICAgICAgIGlmIChyZXN1bHQuc3RhdHVzLnN0YXRlID09PSAnb2snKSB7XHJcbiAgICAgICAgICAgIGNvbnN0IHtkYXRhfSA9IHJlc3VsdDtcclxuICAgICAgICAgICAgY29uc3QgbW9kYWxGb290ZXIgPSBtb2RhbCA/ICQoJy5tb2RhbC1mb290ZXInLCBtb2RhbCkgOiBudWxsO1xyXG4gICAgICAgICAgICBjb25zdCAkbGlzdCA9ICQoJy5tb2RhbC1ib2R5IC5wb3N0cy1saXN0JywgbW9kYWwpO1xyXG4gICAgICAgICAgICBpZiAoIWRhdGEucG9zdHMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAvLyBzaG93IG1lc3NhZ2UgJ25vIHBvc3RzIGZvdW5kJ1xyXG4gICAgICAgICAgICAgICAgdGFyZ2V0QnV0dG9uLnBvcG92ZXIoe1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRhaW5lcjogJ2JvZHknLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6ICfQoyDRgtC10LrRg9GJ0LXQs9C+INCw0LrQutCw0YPQvdGC0LAg0L3QtdGCINC90Lgg0L7QtNC90L7Qs9C+INC/0L7RgdGC0LAnLFxyXG4gICAgICAgICAgICAgICAgICAgIHBsYWNlbWVudDogJ2JvdHRvbSdcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGFyZ2V0QnV0dG9uLnBvcG92ZXIoJ2Rlc3Ryb3knKTtcclxuICAgICAgICAgICAgICAgIH0sIDQwMDApO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgICBpZiAobW9kYWwpIHtcclxuICAgICAgICAgICAgICAgIGZpbGxQb3N0cygkbGlzdCwgZGF0YS5wb3N0cyk7XHJcbiAgICAgICAgICAgICAgICBtb2RhbC5tb2RhbCgnc2hvdycpO1xyXG4gICAgICAgICAgICAgICAgbW9kYWwubW9kYWwoJ2hhbmRsZVVwZGF0ZScpO1xyXG4gICAgICAgICAgICAgICAgaW1hZ2VTZWxlY3RIYW5kbGVyKCRsaXN0LCBtb2RhbCwgdGFyZ2V0QnV0dG9uKTtcclxuICAgICAgICAgICAgfSBlbHNlIGlmIChkYXRhLnBvc3RzKSB7XHJcbiAgICAgICAgICAgICAgICBmaWxsUG9zdHMoJGxpc3QsIGRhdGEucG9zdHMsICdhcHBlbmRUb0xpc3QnKTtcclxuICAgICAgICAgICAgICAgIGltYWdlU2VsZWN0SGFuZGxlcigkbGlzdCwgJCgnI3Bvc3RzR3JpZE1vZGFsJyksIHRhcmdldEJ1dHRvbik7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgIGlmIChkYXRhLnBhZ2luYXRpb24gJiYgZGF0YS5wYWdpbmF0aW9uLmN1cnNvcikge1xyXG4gICAgICAgICAgICAgICAgYWRkUGFnaW5hdGlvbihtb2RhbEZvb3RlciwgZGF0YS5wYWdpbmF0aW9uLmN1cnNvcik7XHJcbiAgICAgICAgICAgICAgICBsb2FkTW9yZUhhbmRsZXIoZ2V0UG9zdHMpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgaGlkZVBhZ2luYXRpb24oJCgnLm1vZGFsLWZvb3RlcicsIG1vZGFsKSk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgLy8gc2hvdyBtZXNzYWdlIGVycm9yXHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbn1cclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2Jsb2Nrcy9fc2hhcmVkL2dldFBvc3RzTW9kYWwvdXRpbHMtbW9kYWwuanMiLCJpbXBvcnQgdmlld1V0aWxzIGZyb20gJy4uLy4uLy4uL2NvbW1vbi9qcy1zZXJ2aWNlcy92aWV3JztcclxuaW1wb3J0ICogYXMgbG9ncyBmcm9tICcuL2xvZ3MnO1xyXG5pbXBvcnQgKiBhcyB0YWJzIGZyb20gJy4uLy4uL19zaGFyZWQvdGVicy1waWxzL3RhYnMnO1xyXG5cclxuZnVuY3Rpb24gbW92ZUluT25lUm93KHVzZXJMaXN0Qm94LCBzdWJUeXBlQm94KSB7XHJcbiAgICBpZiAoIXN1YlR5cGVCb3gubGVuZ3RoIHx8ICF1c2VyTGlzdEJveC5sZW5ndGgpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICB1c2VyTGlzdEJveC5hcHBlbmRUbyhzdWJUeXBlQm94KTtcclxuXHJcbiAgICB1c2VyTGlzdEJveC5hZGRDbGFzcygnY29sJyk7XHJcbiAgICBzdWJUeXBlQm94LmFkZENsYXNzKCdyb3cnKTtcclxuICAgIC8vIGFkZCBcImNvbC1hdXRvXCIgdG8gZmlyc3QgY29sdW1uXHJcbiAgICBzdWJUeXBlQm94LmZpbmQoJy5sb2ctc3VieXBlJykuYWRkQ2xhc3MoJ2NvbC1hdXRvJyk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBDZmdcclxuICogQHBhcmFtIGxvZ3NTdGF0ZVxyXG4gKiBAcGFyYW0gbG9nc1N1YnR5cGVzXHJcbiAqIEBwYXJhbSBjbHNDb25zdFxyXG4gKiBDZmctZnVuY3Rpb25zXHJcbiAqIEBwYXJhbSBzZXRVc2VyTmFtZUNiXHJcbiAqIEBwYXJhbSBhZGREcm9wZG93blxyXG4gKi9cclxuZXhwb3J0IGZ1bmN0aW9uIGluaXRMb2dzVGFiKHtsb2dzU3RhdGUsIGxvZ3NTdWJ0eXBlcywgY2xzQ29uc3QsIHNldFVzZXJOYW1lQ2IsIHRleHRSdXNBcnJheX0pIHtcclxuICAgIGNvbnN0IHtzZWxlY3RDbHN9ID0gbG9nc1N0YXRlO1xyXG4gICAgY29uc3Qge3NlbGVjdENsc0xvZ3NUYXNrVHlwZX0gPSBsb2dzU3RhdGU7XHJcblxyXG4gICAgZnVuY3Rpb24gZHJvcGRvd25PblNlbGVjdENiKGUpIHtcclxuICAgICAgICBjbHNDb25zdC5wYXRoU3ViVHlwZSA9ICQoYC4ke3NlbGVjdENsc0xvZ3NUYXNrVHlwZX0gb3B0aW9uOnNlbGVjdGVkYCkudmFsKCk7XHJcbiAgICAgICAgJCgnLmpzX2xvZ3MtY29udGFpbmVyJykuYWRkQ2xhc3MoJ2QtYmxvY2snKTtcclxuICAgICAgICAkKCdvcHRpb24uanNfZW1wdHktc3VidHlwZScpLnJlbW92ZSgpO1xyXG4gICAgfVxyXG5cclxuICAgIGZ1bmN0aW9uIE9uQ2hhbmdlU2VsZWN0KCkge1xyXG4gICAgICAgIGNvbnN0IHVzZXJuYW1lU2VsZWN0ZWQgPSAkKGAuJHtzZWxlY3RDbHN9IG9wdGlvbjpzZWxlY3RlZGApLnZhbCgpO1xyXG4gICAgICAgIHNldFVzZXJOYW1lQ2IodXNlcm5hbWVTZWxlY3RlZCk7XHJcbiAgICAgICAgbG9ncy5pbml0KHNlbGVjdENscywgY2xzQ29uc3QpO1xyXG4gICAgfVxyXG4gICAgZnVuY3Rpb24gaGFuZGxlTG9nc0Ryb3Bkb3ducygpIHtcclxuICAgICAgICBkcm9wZG93bk9uU2VsZWN0Q2IoKTtcclxuICAgICAgICBPbkNoYW5nZVNlbGVjdCgpO1xyXG4gICAgICAgICQoYC4ke3NlbGVjdENsc0xvZ3NUYXNrVHlwZX1gKS5vbignY2hhbmdlJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBkcm9wZG93bk9uU2VsZWN0Q2IoKTtcclxuICAgICAgICAgICAgbG9ncy5pbml0KHNlbGVjdENscywgY2xzQ29uc3QpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAkKGAuJHtzZWxlY3RDbHN9YCkub24oJ2NoYW5nZScsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgT25DaGFuZ2VTZWxlY3QoKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIHZpZXdVdGlscy5hZGREcm9wZG93bigkKGxvZ3NTdGF0ZS53cmFwcGVyU3VidHlwZSksIGxvZ3NTdWJ0eXBlcywge2xvZ3NTdGF0ZSwgaXNSZW5kZXJFbXB0eU9wdGlvbjogZmFsc2UsIHRleHRSdXNBcnJheX0pO1xyXG4gICAgdGFicy5pbml0KGhhbmRsZUxvZ3NEcm9wZG93bnMsIGxvZ3NTdGF0ZSk7IC8vIG1ha2VzIGRvdWJsZSByZXF1ZXN0IDogT1BUSU9OIGFuZCBHRVRcclxuXHJcbiAgICBjb25zdCB1c2VyTGlzdEJveCA9ICQoJy5sb2ctdXNlcnMtbGlzdCAnKTtcclxuICAgIGNvbnN0IHN1YlR5cGVCb3ggPSAkKCcubG9nLXN1YnlwZS0tYm94Jyk7XHJcbiAgICBtb3ZlSW5PbmVSb3codXNlckxpc3RCb3gsIHN1YlR5cGVCb3gpO1xyXG59XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9ibG9ja3MvX3NoYXJlZC9sb2dzL2xvZ3MtdGFicy5qcyIsImltcG9ydCB7Q09OU1R9IGZyb20gJy4uLy4uL2NvbW1vbi9qcy1zZXJ2aWNlcy9jb25zdHMnO1xyXG5pbXBvcnQgVXNlclRhc2tNYW5hZ2VyIGZyb20gJy4uLy4uL2NvbW1vbi9qcy1zZXJ2aWNlcy9hcGktdGFzay1tYW5hZ2VyJztcclxuaW1wb3J0IFNwaW5uZXIgZnJvbSAnLi4vLi4vY29tbW9uL2pzLXNlcnZpY2VzL3NwaW5uZXInO1xyXG4vLyBpbXBvcnQgdmlld1V0aWxzIGZyb20gJy4uLy4uL2NvbW1vbi9qcy1zZXJ2aWNlcy92aWV3JztcclxuXHJcbi8qXHJcbiogcmVhZCBmaWxlXHJcbiovXHJcbmxldCBmaWxlVXBsb2FkQm94ID0gJyc7XHJcbmNvbnN0IE1BWF9JTUdfRklMRV9TSVpFX0JZVEUgPSAxMDQ4NTc2ICogMTAwO1xyXG5jb25zdCBGSUxFX1RZUEUgPSAndHh0JztcclxuZnVuY3Rpb24gaXNGaWxlVHlwZU9rKGFjY2VwdGVkRmlsZSkge1xyXG4gICAgcmV0dXJuIGFjY2VwdGVkRmlsZS50eXBlID09PSAndGV4dC9wbGFpbic7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGlzSW1nU2l6ZU9rKGFjY2VwdGVkRmlsZSkge1xyXG4gICAgY29uc3QgaW1nU2l6ZSA9IE1hdGgucm91bmQoYWNjZXB0ZWRGaWxlLnNpemUpO1xyXG4gICAgcmV0dXJuIE1BWF9JTUdfRklMRV9TSVpFX0JZVEUgPiBpbWdTaXplO1xyXG59XHJcblxyXG5mdW5jdGlvbiBoYW5kbGVTdWJtaXQoaW5wdXQpIHtcclxuICAgIGNvbnN0IHVybCA9IENPTlNULmdldFBhdGgoJ2luc3RhZ3JhbVRhc2tNYW5hZ2VyX3Bvc3RUZXh0QXR0YWNobWVudCcpO1xyXG4gICAgY29uc3QgdG9rZW4gPSBVc2VyVGFza01hbmFnZXIuZ2V0VG9rZW4oKTtcclxuICAgIGNvbnN0IGFjY2VwdGVkRmlsZSA9IGlucHV0LmZpbGVzWzBdO1xyXG4gICAgY29uc29sZS5sb2coJ2hhbmRsZVN1Ym1pdCBmb2xsb3cnKTtcclxuICAgIGNvbnN0IGZvcm1EYXRhID0gbmV3IEZvcm1EYXRhKCk7XHJcbiAgICBmb3JtRGF0YS5hcHBlbmQoJ2ZpbGUnLCBhY2NlcHRlZEZpbGUsIGFjY2VwdGVkRmlsZS5uYW1lKTtcclxuXHJcbiAgICBjb25zdCByZXF1ZXN0ID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7XHJcbiAgICByZXF1ZXN0Lm9wZW4oJ1BPU1QnLCB1cmwpO1xyXG4gICAgLy8gcmVxdWVzdC53aXRoQ3JlZGVudGlhbHMgPSB0cnVlO1xyXG4gICAgcmVxdWVzdC5zZXRSZXF1ZXN0SGVhZGVyKCd0b2tlbicsIHRva2VuKTtcclxuICAgIHJlcXVlc3Quc2V0UmVxdWVzdEhlYWRlcignQWNjZXB0JywgJ2FwcGxpY2F0aW9uL2pzb24nKTtcclxuICAgIHJlcXVlc3Quc2V0UmVxdWVzdEhlYWRlcignY2FjaGUtY29udHJvbCcsICduby1jYWNoZScpO1xyXG4gICAgcmVxdWVzdC5zZW5kKGZvcm1EYXRhKTtcclxuICAgIHJlcXVlc3QuYWRkRXZlbnRMaXN0ZW5lcigncmVhZHlzdGF0ZWNoYW5nZScsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAodGhpcy5yZWFkeVN0YXRlID09PSA0KSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCd0aGlzJywgdGhpcy5yZXNwb25zZVRleHQsIHRoaXMpO1xyXG4gICAgICAgICAgICB3aW5kb3cuUHViU3ViLnB1Ymxpc2goQ09OU1QuZXZlbnRzLmF1dG9hcm5zd2VyLlRFWFRfRklMRV9VUExPQURFRCwgeydyZXNwb25zZSc6IHRoaXMucmVzcG9uc2VUZXh0LCAnZWwnOiBpbnB1dH0pO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgU3Bpbm5lci5hZGQoJCgnLmFkZC1maWxlJyksICcnKTtcclxufVxyXG5cclxuZnVuY3Rpb24gcmVhZFVSTChpbnB1dCkge1xyXG4gICAgY29uc3QgJGNvbnRhaW5lciA9ICQoaW5wdXQpLmNsb3Nlc3QoZmlsZVVwbG9hZEJveCk7XHJcbiAgICBpZiAoaW5wdXQuZmlsZXMgJiYgaW5wdXQuZmlsZXNbMF0pIHtcclxuICAgICAgICBjb25zdCByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdyZWFkVVJMJyk7XHJcbiAgICAgICAgaWYgKCFpc0ltZ1NpemVPayhpbnB1dC5maWxlc1swXSkgfHwgIWlzRmlsZVR5cGVPayhpbnB1dC5maWxlc1swXSkpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ3Nob3cgZXJyb3IgbWVzc2FnZSwgaW1nU2l6ZSB0byBiaWcgJyk7XHJcbiAgICAgICAgICAgICQoZmlsZVVwbG9hZEJveCkuYXBwZW5kKGBcclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ3YXJuaW5nLWltYWdlIHRleHQtZGFuZ2VyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPHA+0JTQvtGB0YLRg9C/0L3Ri9C5INGE0L7RgNC80LDRgiDQuNC30L7QsdGA0LDQttC10L3QuNGPICR7RklMRV9UWVBFfTwvcD5cclxuICAgICAgICAgICAgICAgICAgICA8cCBjbGFzcz1cIm1zZy1tYXgtc2l6ZS1pbWcgdGV4dC1kYW5nZXJcIj7QnNCw0LrRgdC40LzQsNC70YzQvdGL0Lkg0LTQvtC/0YPRgdGC0LjQvNGL0Lkg0YDQsNC30LzQtdGAINC60LDRgNGC0LjQvdC60LggMTAwIE1CPC9wPlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIGApO1xyXG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgICQoJy53YXJuaW5nLWltYWdlJykuYWRkQ2xhc3MoJ2Qtbm9uZScpO1xyXG4gICAgICAgICAgICB9LCA1MDAwKTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgcmVhZGVyLm9ubG9hZCA9IGZ1bmN0aW9uKGUpIHtcclxuICAgICAgICAgICAgJGNvbnRhaW5lci5maW5kKCcuaW1hZ2UtdXBsb2FkLXdyYXAnKS5oaWRlKCk7XHJcbiAgICAgICAgICAgICRjb250YWluZXIuZmluZCgnLmZpbGUtdXBsb2FkLWltYWdlJykuYXR0cignc3JjJywgZS50YXJnZXQucmVzdWx0KTtcclxuICAgICAgICAgICAgLy8gJGNvbnRhaW5lci5maW5kKGZpbGVVcGxvYWRDb250ZW50KS5zaG93KCk7XHJcbiAgICAgICAgICAgICRjb250YWluZXIuZmluZCgnLmltYWdlLXRpdGxlJykuaHRtbChpbnB1dC5maWxlc1swXS5uYW1lKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIC8vIHJlYWRlci5vbmVycm9yID0gZXJyb3JIYW5kbGVyO1xyXG4gICAgICAgIC8vIHJlYWRlci5vbnByb2dyZXNzID0gdXBkYXRlUHJvZ3Jlc3M7XHJcblxyXG4gICAgICAgIHJlYWRlci5yZWFkQXNEYXRhVVJMKGlucHV0LmZpbGVzWzBdKTtcclxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IGhhbmRsZVN1Ym1pdChpbnB1dCksIDIwMDApO1xyXG4gICAgICAgIC8vIFJlYWQgaW4gdGhlIGltYWdlIGZpbGUgYXMgYSBiaW5hcnkgc3RyaW5nLlxyXG4gICAgICAgIC8vIHJlYWRlci5yZWFkQXNCaW5hcnlTdHJpbmcoaW5wdXQuZmlsZXNbMF0pO1xyXG5cclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgLy8gcmVtb3ZlVXBsb2FkKCRjb250YWluZXIpO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gYXR0YWNoVHh0RmlsZUhhbmRsZXIoX2ZpbGVVcGxvYWRCb3gsIG9uU3VjY2Vzc0ZpbGVVcGxvYWRDYikge1xyXG4gICAgZmlsZVVwbG9hZEJveCA9IF9maWxlVXBsb2FkQm94O1xyXG4gICAgJCgnLmlucHV0LXR4dC1maWxlJykuY2hhbmdlKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGlmICgkKHRoaXMpLnZhbCgpICE9PSAnJykge1xyXG4gICAgICAgICAgICAkKHRoaXMpLnByZXYoKS50ZXh0KGDQktGL0LHRgNCw0L3QviDRhNCw0LnQu9C+0LI6ICR7JCh0aGlzKVswXS5maWxlcy5sZW5ndGh9YCk7XHJcbiAgICAgICAgICAgIHJlYWRVUkwoJCh0aGlzKVswXSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgJCh0aGlzKS5wcmV2KCkudGV4dCgn0JLRi9Cx0LXRgNC10YLQtSDRhNCw0LnQuycpO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgd2luZG93LlB1YlN1Yi5zdWJzY3JpYmUoQ09OU1QuZXZlbnRzLmF1dG9hcm5zd2VyLlRFWFRfRklMRV9VUExPQURFRCwgKGUsIHJlcykgPT4ge1xyXG4gICAgICAgIGNvbnN0IHtyZXNwb25zZX0gPSByZXM7XHJcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gKHJlc3BvbnNlLmxlbmd0aCkgPyBKU09OLnBhcnNlKHJlc3BvbnNlKSA6ICcnO1xyXG4gICAgICAgIGNvbnN0IGltYWdlSWQgPSByZXN1bHQgJiYgcmVzdWx0LmRhdGEgJiYgcmVzdWx0LmRhdGEubGlzdF9pZDtcclxuICAgICAgICAkKHJlcy5lbCkuY2xvc2VzdChmaWxlVXBsb2FkQm94KS5hdHRyKCdhdHRhY2hlZC10eHQtaWQnLCBpbWFnZUlkKTtcclxuICAgICAgICBpZiAob25TdWNjZXNzRmlsZVVwbG9hZENiICYmIHR5cGVvZiBvblN1Y2Nlc3NGaWxlVXBsb2FkQ2IgPT09ICdmdW5jdGlvbicpIHtcclxuICAgICAgICAgICAgb25TdWNjZXNzRmlsZVVwbG9hZENiKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIG1ha2UgbmV4dC1idG4gYXZhaWxhYmxlXHJcbiAgICAgICAgY29uc3QgbmV4dFN0ZXAgPSAkKCcuanNfYWRkLW5ldy10YXNrIGZpZWxkc2V0JykuZ2V0KDIpO1xyXG4gICAgICAgICQobmV4dFN0ZXApLmZpbmQoJy5idG4tbmV4dCcpLnJlbW92ZUF0dHIoJ2Rpc2FibGVkJyk7XHJcbiAgICAgICAgU3Bpbm5lci5yZW1vdmUoKTtcclxuICAgICAgICBjb25zb2xlLmxvZygnKioqVEVYVF9GSUxFX1VQTE9BREVELCBvblN1Y2Nlc3NGaWxlVXBsb2FkQ2InLCByZXMpO1xyXG4gICAgfSk7XHJcbn1cclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2Jsb2Nrcy9mb2xsb3cvZm9sbG93LXJlYWQtZmlsZS10eHQuanMiLCJpbXBvcnQgJ2Vtb2ppb25lQXJlYSc7XHJcblxyXG5leHBvcnQgY29uc3QgZW1vamkgPSAoY2xzQ29uc3QpID0+IHtcclxuICAgIGlmICghJChjbHNDb25zdC5wYWdlKS5sZW5ndGgpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdW51c2VkLXZhcnNcclxuICAgIC8vIGNvbnN0IG0gPSBuZXcgTWV0ZW9yRW1vamkoKTtcclxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtdmFyc1xyXG4gICAgLy8gY29uc3QgZXAgPSBuZXcgRW1vamlQaWNrZXIoKTtcclxuICAgIC8vIGNvbnN0ICRwaWNrZXIgPSAkKCd0ZXh0YXJlYVtkYXRhLWVtb2ppLXBpY2tlcj1cInRydWVcIl0gfiBkaXYnKTtcclxuICAgIC8vIGNvbnN0IHN0eWxlID0gJHBpY2tlci5hdHRyKCdzdHlsZScpO1xyXG4gICAgLy8gY29uc3Qgc3R5bGVOZXcgPSBzdHlsZS5yZXBsYWNlKGNsc0NvbnN0LnN0eWxlcy5vbGQsIGNsc0NvbnN0LnN0eWxlcy5uZXcpO1xyXG4gICAgLy8gJHBpY2tlci5hdHRyKCdzdHlsZScsIHN0eWxlTmV3KTtcclxuXHJcbiAgICAkKCd0ZXh0YXJlYVtkYXRhLWVtb2ppLXBpY2tlcj1cInRydWVcIl0nKS5lbW9qaW9uZUFyZWEoe1xyXG4gICAgICAgIHBpY2tlclBvc2l0aW9uOiAnYm90dG9tJyxcclxuICAgICAgICB0b25lc1N0eWxlOiAnc3F1YXJlJyxcclxuICAgICAgICBmaWx0ZXJzUG9zaXRpb246ICdib3R0b20nLFxyXG4gICAgICAgIHNlYXJjaDogdHJ1ZSxcclxuICAgICAgICBldmVudHM6IHtcclxuICAgICAgICAgICAga2V5dXAgKGVkaXRvciwgZXZlbnQpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGVkaXRvci5odG1sKCkpO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2codGhpcy5nZXRUZXh0KCkpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbn07XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9jb21tb24vanMtc2VydmljZXMvZW1vamkuanMiLCJpbXBvcnQgdmlld1V0aWxzIGZyb20gJy4vdmlldyc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBOZXR3b3JrIHtcclxuXHJcbiAgICBjYkVycm9yRGVmYXVsdChyZXN1bHQpIHtcclxuICAgICAgICBjb25zdCAkZWwgPSAoJCgnI2Rlc2NyaXB0aW9uJykubGVuZ3RoKSA/ICQoJyNkZXNjcmlwdGlvbicpIDogJCgnLmVycm9yLW1zZycpO1xyXG4gICAgICAgIHZpZXdVdGlscy5zaG93SW5mb01lc3NhZ2UoJGVsLFxyXG4gICAgICAgICAgICByZXN1bHQuc3RhdHVzLnN0YXRlLFxyXG4gICAgICAgICAgICByZXN1bHQuc3RhdHVzLm1lc3NhZ2UgfHwgJ2Vycm9yJyk7XHJcbiAgICB9XHJcblxyXG4gICAgY2hlY2tTdGF0dXMocmVzcG9uc2UpIHtcclxuICAgICAgICBpZiAocmVzcG9uc2Uuc3RhdHVzICYmIHJlc3BvbnNlLnN0YXR1cyA+PSAyMDAgJiYgcmVzcG9uc2Uuc3RhdHVzIDwgMzAwKSB7XHJcbiAgICAgICAgICAgIHJldHVybiByZXNwb25zZTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjb25zdCBlcnJvciA9IG5ldyBFcnJvcihyZXNwb25zZS5zdGF0dXNUZXh0KTtcclxuICAgICAgICAgICAgZXJyb3IucmVzcG9uc2UgPSByZXNwb25zZTtcclxuICAgICAgICAgICAgdGhyb3cgZXJyb3I7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIHNlbmRSZXF1ZXN0KFVSTCwgT1BUUywgY2JFcnJvcikge1xyXG4gICAgICAgIHJldHVybiBmZXRjaChVUkwsIE9QVFMpXHJcbiAgICAgICAgICAgIC50aGVuKHJlc3BvbnNlID0+IFByb21pc2UuYWxsKFtyZXNwb25zZSwgcmVzcG9uc2UuanNvbigpXSkpXHJcbiAgICAgICAgICAgIC50aGVuKChbcmVzcG9uc2UsIGpzb25dKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAoIXJlc3BvbnNlLm9rKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFjYkVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2JFcnJvckRlZmF1bHQoanNvbik7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2JFcnJvcihqc29uKTsgLy8gdXBkYXRlIHZpZXdcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jaGVja1N0YXR1cyhyZXNwb25zZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gdGhyb3cgbmV3IEVycm9yKGpzb24uc3RhdHVzLm1lc3NhZ2UpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgcmV0dXJuIGpzb247XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgfVxyXG59XHJcblxyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvY29tbW9uL2pzLXNlcnZpY2VzL25ldHdvcmsuanMiLCIvLyBpbXBvcnQgJCBmcm9tICdqcXVlcnknO1xyXG4vLyBpbXBvcnQge0NPTlNUfSBmcm9tICcuL2NvbnN0cyc7XHJcbi8vIGltcG9ydCBOZXR3b3JrIGZyb20gJy4vbmV0d29yayc7XHJcbi8vIGltcG9ydCBDb29raWVTdG9yYWdlIGZyb20gJy4vY29va2llJztcclxuLy8gaW1wb3J0IFB1YlN1YiBmcm9tICdwdWJzdWItanMnOyAvLyBodHRwczovL3d3dy5ucG1qcy5jb20vcGFja2FnZS9wdWJzdWItanNcclxuXHJcbi8vIGNvbnN0IFNQSU5ORVJfQkFTRV9URU1QQUxBVEUgPSAnanMvdWkvdHBsL3NwaW5uZXIuaGJzJztcclxuY29uc3QgY2xhc3NlcyA9IHtcclxuICAgIGlubGluZTogJ2dsb2JhbC1pbmxpbmUtc3Bpbm5lcicsXHJcbiAgICBvdmVybGF5OiAnZ2xvYmFsLW92ZXJsYXktc3Bpbm5lcicsXHJcbiAgICBmaXhlZDogJ2dsb2JhbC1maXhlZC1zcGlubmVyJyxcclxuICAgIGJ1dHRvbjogJ2J1dHRvbi0tbG9hZCdcclxufTtcclxuLy8gY29uc3QgaGFuZGxlYmFyc1RwbCA9IGZ1bmN0aW9uIChuYW1lLCBkYXRhLCAkdGFyZ2V0KSB7XHJcbi8vICAgICAvLyB2YXIgaHRtbCA9IHRoaXMuZ2V0VGVtcGxhdGUobmFtZSkoZGF0YSk7XHJcbi8vICAgICB2YXIgaHRtbCA9IEhhbmRsZWJhcnMuY29tcGlsZSh0ZW1wbGF0ZSk7XHJcbi8vXHJcbi8vICAgICBpZiAoJHRhcmdldCkge1xyXG4vLyAgICAgICAgIC8vZm9yIHByZXZlbnRpbmcgeHNzXHJcbi8vICAgICAgICAgJHRhcmdldFswXS5pbm5lckhUTUwgPSBodG1sO1xyXG4vLyAgICAgfVxyXG4vL1xyXG4vLyAgICAgcmV0dXJuIGh0bWw7XHJcbi8vIH07XHJcbi8vIGNvbnN0IGhhbmRsZWJhcnMgPSB0aGlzLmdldFNlcnZpY2UoJ2NvcmUudGVtcGxhdGluZy5oYW5kbGViYXJzJyk7XHJcblxyXG5jbGFzcyBTcGlubmVyIHtcclxuXHJcbiAgICBjb25zdHJ1Y3RvcihfY2ZnKSB7XHJcbiAgICAgICAgdGhpcy5jZmcgPSBfY2ZnIHx8IHt9O1xyXG4gICAgICAgIC8vIHRoaXMuJGRlZmF1bHRDb250YWluZXIgPSAkKCdib2R5Jyk7XHJcbiAgICAgICAgJC5leHRlbmQoY2xhc3NlcywgdGhpcy5jZmcuY2xhc3Nlcyk7XHJcbiAgICAgICAgLy8gdGhpcy5fbWVkaWF0b3Iuc3Vic2NyaWJlKENPTlNULmV2ZW50cy5TVE9QX0ZJWEVEX1NQSU5ORVIsIHRoaXMuc3RvcEZpeGVkU3Bpbm5lci5iaW5kKHRoaXMpKTtcclxuICAgIH1cclxuICAgIC8vIF9tZWRpYXRvciA9IFB1YlN1YjtcclxuXHJcbiAgICBzdGFydCgkZWwsIHByZXdDbHMpIHtcclxuICAgICAgICAvLyBpZiAoYWRkT3JSZW1vdmUpIHtcclxuICAgICAgICAvLyAgICAgJCgnI2ZvbycpLmFkZENsYXNzKGNsYXNzTmFtZSk7XHJcbiAgICAgICAgLy8gfVxyXG4gICAgICAgIC8vIGVsc2Uge1xyXG4gICAgICAgIC8vICAgICAkKCcjZm9vJykucmVtb3ZlQ2xhc3MoY2xhc3NOYW1lKTtcclxuICAgICAgICAvLyB9XHJcbiAgICAgICAgJGVsLmZpbmQoJ2knKS50b2dnbGVDbGFzcyhwcmV3Q2xzKS5hZGRDbGFzcygnZmEtc3BpbiBmYS1zcGlubmVyJyk7XHJcbiAgICB9XHJcblxyXG4gICAgc3RvcCgkZWwsIG5ld0Nscykge1xyXG4gICAgICAgICRlbC5maW5kKCdpJykudG9nZ2xlQ2xhc3MobmV3Q2xzKS5yZW1vdmVDbGFzcygnZmEtc3BpbiBmYS1zcGlubmVyJyk7XHJcbiAgICB9XHJcblxyXG4gICAgYWRkKCRlbCwgbmV3Q2xzKSB7XHJcbiAgICAgICAgdGhpcy4kZWwgPSAkZWw7XHJcbiAgICAgICAgJGVsLnByZXBlbmQoYDxkaXYgY2xhc3M9XCJzcGlubmVyLWJveCBqdXN0aWZ5LWNvbnRlbnQtY2VudGVyICR7bmV3Q2xzfVwiPlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwic3Bpbi1hbmltYXRpb25cIj5cclxuICAgICAgICAgICAgICAgIDxzdmcgYXJpYS1oaWRkZW49XCJ0cnVlXCIgZGF0YS1wcmVmaXg9XCJmYXJcIiBkYXRhLWljb249XCJzeW5jLWFsdFwiIHJvbGU9XCJpbWdcIiB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgdmlld0JveD1cIjAgMCA1MTIgNTEyXCIgY2xhc3M9XCJzdmctaW5saW5lLS1mYSBmYS1zeW5jLWFsdCBmYS13LTE2IGZhLWZ3IGZhLTJ4XCI+PHBhdGggZmlsbD1cImN1cnJlbnRDb2xvclwiIGQ9XCJNNDgzLjUxNSAyOC40ODVMNDMxLjM1IDgwLjY1QzM4Ni40NzUgMzUuNzY3IDMyNC40ODUgOCAyNTYgOCAxMjMuMjI4IDggMTQuODI0IDExMi4zMzggOC4zMSAyNDMuNDkzIDcuOTcxIDI1MC4zMTEgMTMuNDc1IDI1NiAyMC4zMDEgMjU2aDI4LjA0NWM2LjM1MyAwIDExLjYxMy00Ljk1MiAxMS45NzMtMTEuMjk0QzY2LjE2MSAxNDEuNjQ5IDE1MS40NTMgNjAgMjU2IDYwYzU0LjE2MyAwIDEwMy4xNTcgMjEuOTIzIDEzOC42MTQgNTcuMzg2bC01NC4xMjggNTQuMTI5Yy03LjU2IDcuNTYtMi4yMDYgMjAuNDg1IDguNDg1IDIwLjQ4NUg0OTJjNi42MjcgMCAxMi01LjM3MyAxMi0xMlYzNi45NzFjMC0xMC42OTEtMTIuOTI2LTE2LjA0NS0yMC40ODUtOC40ODZ6TTQ5MS42OTkgMjU2aC0yOC4wNDVjLTYuMzUzIDAtMTEuNjEzIDQuOTUyLTExLjk3MyAxMS4yOTRDNDQ1LjgzOSAzNzAuMzUxIDM2MC41NDcgNDUyIDI1NiA0NTJjLTU0LjE2MyAwLTEwMy4xNTctMjEuOTIzLTEzOC42MTQtNTcuMzg2bDU0LjEyOC01NC4xMjljNy41Ni03LjU2IDIuMjA2LTIwLjQ4NS04LjQ4NS0yMC40ODVIMjBjLTYuNjI3IDAtMTIgNS4zNzMtMTIgMTJ2MTQzLjAyOWMwIDEwLjY5MSAxMi45MjYgMTYuMDQ1IDIwLjQ4NSA4LjQ4NUw4MC42NSA0MzEuMzVDMTI1LjUyNSA0NzYuMjMzIDE4Ny41MTYgNTA0IDI1NiA1MDRjMTMyLjc3MyAwIDI0MS4xNzYtMTA0LjMzOCAyNDcuNjktMjM1LjQ5My4zMzktNi44MTgtNS4xNjUtMTIuNTA3LTExLjk5MS0xMi41MDd6XCIgY2xhc3M9XCJcIj48L3BhdGg+PC9zdmc+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvZGl2PmApO1xyXG4gICAgfVxyXG5cclxuICAgIHJlbW92ZSgpIHtcclxuICAgICAgICBpZiAodGhpcy4kZWwgJiYgdGhpcy4kZWwubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIHRoaXMuJGVsLmZpbmQoJy5zcGlubmVyLWJveCcpLnJlbW92ZSgpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEFkZHMgc3Bpbm5lciBpY29uIG9uIGJ1dHRvbiBiZWZvcmUgdGhlIGJ1dHRvbiB0ZXh0XHJcbiAgICAgKiBAcGFyYW0ge2pRdWVyeX0gJGVsXHJcbiAgICAgKi9cclxuICAgIHN0YXJ0QnV0dG9uU3Bpbm5lciA9IGZ1bmN0aW9uICgkZWwsIG5ld0Nscykge1xyXG4gICAgICAgICRlbC5hZGRDbGFzcyhjbGFzc2VzLmJ1dHRvbik7XHJcbiAgICAgICAgaWYgKCRlbC5maW5kKCcuc3Bpbm5lci1ib3gtLWJ1dHRvbicpLmxlbmd0aCkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgICRlbC5wcmVwZW5kKGA8ZGl2IGNsYXNzPVwic3Bpbm5lci1ib3ggc3Bpbm5lci1ib3gtLWJ1dHRvbiBqdXN0aWZ5LWNvbnRlbnQtY2VudGVyIHBvc2l0aW9uLXJlbGF0aXZlIHAtMCBtLTAgYmctdHJhbnNwYXJlbnQgJHtuZXdDbHN9XCI+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzcGluLWFuaW1hdGlvblwiPlxyXG4gICAgICAgICAgICAgICAgPHN2ZyBhcmlhLWhpZGRlbj1cInRydWVcIiBkYXRhLXByZWZpeD1cImZhclwiIGRhdGEtaWNvbj1cInN5bmMtYWx0XCIgcm9sZT1cImltZ1wiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIiB2aWV3Qm94PVwiMCAwIDUxMiA1MTJcIiBcclxuICAgICAgICAgICAgICAgICAgICBjbGFzcz1cImZhLWZ3XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPHBhdGggZmlsbD1cImN1cnJlbnRDb2xvclwiIGQ9XCJNNDgzLjUxNSAyOC40ODVMNDMxLjM1IDgwLjY1QzM4Ni40NzUgMzUuNzY3IDMyNC40ODUgOCAyNTYgOCAxMjMuMjI4IDggMTQuODI0IDExMi4zMzggOC4zMSAyNDMuNDkzIDcuOTcxIDI1MC4zMTEgMTMuNDc1IDI1NiAyMC4zMDEgMjU2aDI4LjA0NWM2LjM1MyAwIDExLjYxMy00Ljk1MiAxMS45NzMtMTEuMjk0QzY2LjE2MSAxNDEuNjQ5IDE1MS40NTMgNjAgMjU2IDYwYzU0LjE2MyAwIDEwMy4xNTcgMjEuOTIzIDEzOC42MTQgNTcuMzg2bC01NC4xMjggNTQuMTI5Yy03LjU2IDcuNTYtMi4yMDYgMjAuNDg1IDguNDg1IDIwLjQ4NUg0OTJjNi42MjcgMCAxMi01LjM3MyAxMi0xMlYzNi45NzFjMC0xMC42OTEtMTIuOTI2LTE2LjA0NS0yMC40ODUtOC40ODZ6TTQ5MS42OTkgMjU2aC0yOC4wNDVjLTYuMzUzIDAtMTEuNjEzIDQuOTUyLTExLjk3MyAxMS4yOTRDNDQ1LjgzOSAzNzAuMzUxIDM2MC41NDcgNDUyIDI1NiA0NTJjLTU0LjE2MyAwLTEwMy4xNTctMjEuOTIzLTEzOC42MTQtNTcuMzg2bDU0LjEyOC01NC4xMjljNy41Ni03LjU2IDIuMjA2LTIwLjQ4NS04LjQ4NS0yMC40ODVIMjBjLTYuNjI3IDAtMTIgNS4zNzMtMTIgMTJ2MTQzLjAyOWMwIDEwLjY5MSAxMi45MjYgMTYuMDQ1IDIwLjQ4NSA4LjQ4NUw4MC42NSA0MzEuMzVDMTI1LjUyNSA0NzYuMjMzIDE4Ny41MTYgNTA0IDI1NiA1MDRjMTMyLjc3MyAwIDI0MS4xNzYtMTA0LjMzOCAyNDcuNjktMjM1LjQ5My4zMzktNi44MTgtNS4xNjUtMTIuNTA3LTExLjk5MS0xMi41MDd6XCIgY2xhc3M9XCJcIj48L3BhdGg+PC9zdmc+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvZGl2PmApO1xyXG4gICAgfVxyXG5cclxuICAgIC8qKlxyXG4gICAgICogUmVtb3ZlcyBzcGlubmVyIGljb24gZnJvbSBidXR0b25cclxuICAgICAqIEBwYXJhbSB7alF1ZXJ5fSAkZWxcclxuICAgICAqL1xyXG4gICAgc3RvcEJ1dHRvblNwaW5uZXIgPSBmdW5jdGlvbiAoJGVsKSB7XHJcbiAgICAgICAgJGVsLnJlbW92ZUNsYXNzKGNsYXNzZXMuYnV0dG9uKTtcclxuICAgIH1cclxuXHJcbiAgICAvKipcclxuICAgICAqIEZpbmRzIHNwaW5uZXJzXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gdHlwZVxyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9ICRjb250YWluZXJcclxuICAgICAqIEByZXR1cm4gez9qUXVlcnl9IHNwaW5uZXJzXHJcbiAgICAgKi9cclxuICAgIC8vIF9maW5kU3Bpbm5lciA9IGZ1bmN0aW9uICh0eXBlLCAkY29udGFpbmVyKSB7XHJcbiAgICAvLyAgICAgY29uc3Qgc2VsZWN0b3IgPSAnLicgKyB0eXBlO1xyXG4gICAgLy8gICAgIGxldCAkZWwgPSB0aGlzLiRkZWZhdWx0Q29udGFpbmVyO1xyXG4gICAgLy8gICAgIGlmICgkY29udGFpbmVyKSB7XHJcbiAgICAvLyAgICAgICAgICRlbCA9ICRjb250YWluZXI7XHJcbiAgICAvLyAgICAgfVxyXG4gICAgLy9cclxuICAgIC8vICAgICBpZiAoJGVsLmZpbmQoc2VsZWN0b3IpLmxlbmd0aCA+IDApIHtcclxuICAgIC8vICAgICAgICAgcmV0dXJuICRlbC5maW5kKHNlbGVjdG9yKTtcclxuICAgIC8vICAgICB9XHJcbiAgICAvLyB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICpcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSAkZWxcclxuICAgICAqL1xyXG4gICAgLypcclxuICAgIHN0YXJ0Q29udGVudFNwaW5uZXIgPSBmdW5jdGlvbiAoJGVsKSB7XHJcbiAgICAgICAgY29uc3QgaHRtbCA9IGhhbmRsZWJhcnNUcGwoXHJcbiAgICAgICAgICAgIFNQSU5ORVJfQkFTRV9URU1QQUxBVEUsIHtcclxuICAgICAgICAgICAgICAgIGltZ1NyYzogQ1RDLlVSTFMuV0FJVElOR19JTUFHRSxcclxuICAgICAgICAgICAgICAgICdjbGFzcyc6IGNsYXNzZXMub3ZlcmxheVxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAkZWwucHJlcGVuZChodG1sKTtcclxuICAgIH07XHJcblxyXG4gICAgc3RhcnRJbmxpbmVDb250ZW50U3Bpbm5lciA9IGZ1bmN0aW9uICgkZWwpIHtcclxuICAgICAgICBjb25zdCBodG1sID0gaGFuZGxlYmFyc1RwbChcclxuICAgICAgICAgICAgU1BJTk5FUl9CQVNFX1RFTVBBTEFURSwge1xyXG4gICAgICAgICAgICAgICAgaW1nU3JjOiBDVEMuVVJMUy5XQUlUSU5HX0lNQUdFLFxyXG4gICAgICAgICAgICAgICAgJ2NsYXNzJzogY2xhc3Nlcy5pbmxpbmVcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgJGVsLnByZXBlbmQoaHRtbCk7XHJcbiAgICB9O1xyXG4gICAgKi9cclxuXHJcbiAgICAvKipcclxuICAgICAqIFN0YXJ0cyBnbG9iYWwgZnVsbCBwYWdlIGZpeGVkIHNwaW5uZXJcclxuICAgICAqL1xyXG4gICAgLypcclxuICAgIHN0YXJ0Rml4ZWRTcGlubmVyID0gZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGNvbnN0IHNwaW5uZXJzID0gdGhpcy5fZmluZFNwaW5uZXIoY2xhc3Nlcy5maXhlZCk7XHJcbiAgICAgICAgaWYgKCEoQ1RDLmlzRWRpdCgpIHx8IENUQy5pc0Rlc2lnbigpKSAmJiAhc3Bpbm5lcnMpIHtcclxuICAgICAgICAgICAgY29uc3QgaHRtbCA9IGhhbmRsZWJhcnNUcGwoXHJcbiAgICAgICAgICAgICAgICBTUElOTkVSX0JBU0VfVEVNUEFMQVRFLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgaW1nU3JjOiBDVEMuVVJMUy5XQUlUSU5HX0lNQUdFLFxyXG4gICAgICAgICAgICAgICAgICAgICdjbGFzcyc6IGNsYXNzZXMuZml4ZWRcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB0aGlzLiRkZWZhdWx0Q29udGFpbmVyLnByZXBlbmQoaHRtbCk7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgICovXHJcblxyXG4gICAgLyoqXHJcbiAgICAgKiBTdG9wcyBzcGlubmVyc1xyXG4gICAgICogQHBhcmFtIHtzdHJpbmd9IHR5cGVcclxuICAgICAqIEBwYXJhbSB7c3RyaW5nfSAkY29udGFpbmVyXHJcbiAgICAgKi9cclxuICAgIC8vIF9zdG9wU3Bpbm5lciA9IGZ1bmN0aW9uICh0eXBlLCAkY29udGFpbmVyKSB7XHJcbiAgICAvLyAgICAgY29uc3Qgc3Bpbm5lcnMgPSB0aGlzLl9maW5kU3Bpbm5lcih0eXBlLCAkY29udGFpbmVyKTtcclxuICAgIC8vICAgICBpZiAoc3Bpbm5lcnMpIHtcclxuICAgIC8vICAgICAgICAgc3Bpbm5lcnMucmVtb3ZlKCk7XHJcbiAgICAvLyAgICAgfVxyXG4gICAgLy8gfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gJGVsXHJcbiAgICAgKi9cclxuICAgIC8vIHN0b3BDb250ZW50U3Bpbm5lciA9IGZ1bmN0aW9uICgkZWwpIHtcclxuICAgIC8vICAgICAkZWwuZmluZCgnLicgKyBjbGFzc2VzLm92ZXJsYXkpLnJlbW92ZSgpO1xyXG4gICAgLy8gfTtcclxuXHJcbiAgICAvKipcclxuICAgICAqXHJcbiAgICAgKiBAcGFyYW0ge3N0cmluZ30gJGVsXHJcbiAgICAgKi9cclxuICAgIC8vIHN0b3BJbmxpbmVDb250ZW50U3Bpbm5lciA9IGZ1bmN0aW9uICgkZWwpIHtcclxuICAgIC8vICAgICAkZWwuZmluZCgnLicgKyBjbGFzc2VzLmlubGluZSkucmVtb3ZlKCk7XHJcbiAgICAvLyB9O1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogU3RvcHMgZ2xvYmFsIGZ1bGwgcGFnZSBmaXhlZCBzcGlubmVyXHJcbiAgICAgKi9cclxuICAgIC8vIHN0b3BGaXhlZFNwaW5uZXIgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAvLyAgICAgdGhpcy5fc3RvcFNwaW5uZXIoY2xhc3Nlcy5maXhlZCk7XHJcbiAgICAvLyB9O1xyXG59XHJcblxyXG5sZXQgc3Bpbm5lckluc3RhbmNlID0gbnVsbDtcclxuXHJcbmlmICghc3Bpbm5lckluc3RhbmNlKSB7XHJcbiAgICBzcGlubmVySW5zdGFuY2UgPSBuZXcgU3Bpbm5lcigpO1xyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBzcGlubmVySW5zdGFuY2U7XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9jb21tb24vanMtc2VydmljZXMvc3Bpbm5lci5qcyIsIi8vIGltcG9ydCB7Q09OU1R9IGZyb20gJy4vY29uc3RzJztcclxuXHJcbmZ1bmN0aW9uIGRyb3BEb3duKCkge1xyXG5cclxuICAgIC8qKlxyXG4gICAgICogY2ZnID17IGxvZ3NTdGF0ZSwgY2JGTigpIH1cclxuICAgICAqL1xyXG4gICAgZnVuY3Rpb24gYWRkRHJvcGRvd24oJHdyYXBwZXIsIGl0ZW1zLCBjZmcpIHtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZygnYWRkRHJvcGRvd24nKTtcclxuICAgICAgICBjb25zdCB7dGV4dFJ1c0FycmF5LCBsb2dzU3RhdGV9ID0gY2ZnO1xyXG4gICAgICAgIGNvbnN0IHtzZWxlY3RDbHNMb2dzVGFza1R5cGV9ID0gbG9nc1N0YXRlO1xyXG4gICAgICAgIGNvbnN0IGdldFJ1cyA9IChpZHgpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgaXNUZXh0UnVzQXJyYXkgPSB0ZXh0UnVzQXJyYXkgJiYgISF0ZXh0UnVzQXJyYXkubGVuZ3RoO1xyXG4gICAgICAgICAgICBzd2l0Y2ggKGlkeCkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSAwIDpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKGlzVGV4dFJ1c0FycmF5KSA/IHRleHRSdXNBcnJheVtpZHhdIDogJ9Cf0L4g0YHQv9C40YHQutGDJztcclxuICAgICAgICAgICAgICAgIGNhc2UgMSA6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIChpc1RleHRSdXNBcnJheSkgPyB0ZXh0UnVzQXJyYXlbaWR4XSA6ICfQn9C+INCw0LrRgtC40LLQvdC+0Lkg0LDRg9C00LjRgtC+0YDQuNC4INC60L7QvdC60YPRgNC10L3RgtC+0LInO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAyIDpcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKGlzVGV4dFJ1c0FycmF5KSA/IHRleHRSdXNBcnJheVtpZHhdIDogJ2RlZmF1bHQgLSAoMyknO1xyXG4gICAgICAgICAgICAgICAgZGVmYXVsdDogcmV0dXJuICdkZWZhdWx0JztcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgY29uc3QgbGFiZWwgPSAn0JLRi9Cx0LXRgNC40YLQtSDRgtC40L8nO1xyXG4gICAgICAgICR3cmFwcGVyLmVtcHR5KCkuYWRkQ2xhc3MoJ2JvcmRlci1saWdodC1jb2xvcicpO1xyXG4gICAgICAgICQoYDxkaXYgY2xhc3M9XCJcIj4ke2xhYmVsfTwvZGl2PjxzZWxlY3QgbmFtZT1cInRhc2stc3VidHlwZVwiIGNsYXNzPVwiJHtzZWxlY3RDbHNMb2dzVGFza1R5cGV9XCI+PC9zZWxlY3Q+YCkuYXBwZW5kVG8oJHdyYXBwZXIpO1xyXG4gICAgICAgIGlmICghaXRlbXMubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgJCgnPG9wdGlvbiBjbGFzcz1cImxpc3QtZ3JvdXAtaXRlbSBweS0yIGpzX2VtcHR5LXN1YnR5cGVcIiB2YWx1ZT1cIi0tLVwiPi0tLTwvb3B0aW9uPicpLmFwcGVuZFRvKCQoYC4ke3NlbGVjdENsc0xvZ3NUYXNrVHlwZX1gKSk7XHJcbiAgICAgICAgaXRlbXMuZm9yRWFjaCgobmFtZSwgaWR4KSA9PiB7XHJcbiAgICAgICAgICAgICQoYDxvcHRpb24gY2xhc3M9XCJsaXN0LWdyb3VwLWl0ZW0gcHktMlwiIHZhbHVlPVwiJHtuYW1lfVwiPlxyXG4gICAgICAgICAgICAgICAgJHtnZXRSdXMoaWR4KX1cclxuICAgICAgICAgICAgPC9vcHRpb24+YCkuYXBwZW5kVG8oJChgLiR7c2VsZWN0Q2xzTG9nc1Rhc2tUeXBlfWApKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICAkKGAuJHtzZWxlY3RDbHNMb2dzVGFza1R5cGV9YCkub24oJ2NoYW5nZScsIGZ1bmN0aW9uIChlKSB7XHJcbiAgICAgICAgICAgIGNmZy5kcm9wZG93bk9uU2VsZWN0Q2IoZSk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICBhZGREcm9wZG93blxyXG4gICAgfTtcclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgZHJvcERvd24oKTtcclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2Jsb2Nrcy9fc2hhcmVkL2Ryb3Bkb3duL2Ryb3Bkb3duLmpzIiwiaW1wb3J0IHtDT05TVH0gZnJvbSAnLi4vLi4vLi4vY29tbW9uL2pzLXNlcnZpY2VzL2NvbnN0cyc7XHJcbmltcG9ydCB7Z2V0VGFza3NEYXRhfSBmcm9tICcuLi8uLi9fc2hhcmVkL3Rhc2stc3RhdHVzL3Rhc2stc3RhdHVzJztcclxuLy8gaW1wb3J0IHZpZXdVdGlscyBmcm9tICcuLi8uLi8uLi9jb21tb24vanMtc2VydmljZXMvdmlldyc7XHJcbmltcG9ydCBkcm9wRG93biBmcm9tICcuLi8uLi9fc2hhcmVkL2Ryb3Bkb3duL2Ryb3Bkb3duJztcclxuXHJcbmxldCBwYXRoID0ge1xyXG4gICAgdHlwZTogJycsXHJcbiAgICBzdWJ0eXBlOiAnJ1xyXG59O1xyXG5jb25zdCB3cmFwcGVycyA9IHtcclxuICAgICRhbGw6ICQoJy50YXNrcy1hbGwnKSxcclxuICAgICRzdG9wcGVkOiAkKCcudGFza3Mtc3RvcHBlZCcpXHJcbn07XHJcbmNvbnN0IGxvZ3NTdGF0ZVN0YXR1cyA9IHtcclxuICAgIHdyYXBwZXJTdWJ0eXBlOiAkKCcuc3VidHlwZS0tYm94JylcclxufTtcclxuXHJcbmZ1bmN0aW9uIGRyb3Bkb3duT25TZWxlY3RDYihlKSB7XHJcbiAgICAvLyBjb25zdCB7c2VsZWN0Q2xzTG9nc1Rhc2tUeXBlfSA9IGxvZ3NTdGF0ZTtcclxuICAgIGNvbnN0IHN1YnR5cGUgPSAkKGUudGFyZ2V0KS5maW5kKCdvcHRpb246c2VsZWN0ZWQnKS52YWwoKTtcclxuICAgIGNvbnN0IHBhdGhVcGRhdGVkID0gey4uLnBhdGgsIHN1YnR5cGV9O1xyXG4gICAgJCgnLmpzX2xvZ3MtY29udGFpbmVyJykuYWRkQ2xhc3MoJ2QtYmxvY2snKTtcclxuICAgICQoJ29wdGlvbi5qc19lbXB0eS1zdWJ0eXBlJykucmVtb3ZlKCk7XHJcbiAgICBnZXRUYXNrc0RhdGEod3JhcHBlcnMsIHBhdGhVcGRhdGVkKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGluaXQoe2lzSW5Db3JyZWN0UGFnZSwgaW5pdGlhbFBhdGgsIHRleHRSdXNBcnJheX0pIHtcclxuICAgIGlmICghaXNJbkNvcnJlY3RQYWdlKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgcGF0aCA9IHtcclxuICAgICAgICB0eXBlOiBpbml0aWFsUGF0aC50eXBlLFxyXG4gICAgICAgIHN1YnR5cGU6IGluaXRpYWxQYXRoLnN1YnR5cGVcclxuICAgIH07XHJcblxyXG4gICAgLy8gdG9kbzogbWVyZ2Ugd2l0aCB2aWV3VXRpbHMuanMgRHJvcGRvd25cclxuICAgIGRyb3BEb3duLmFkZERyb3Bkb3duKFxyXG4gICAgICAgIGxvZ3NTdGF0ZVN0YXR1cy53cmFwcGVyU3VidHlwZSxcclxuICAgICAgICBpbml0aWFsUGF0aC5zdWJ0eXBlcyxcclxuICAgICAgICB7bG9nc1N0YXRlOiBsb2dzU3RhdGVTdGF0dXMsIGRyb3Bkb3duT25TZWxlY3RDYiwgdGV4dFJ1c0FycmF5fVxyXG4gICAgKTtcclxuXHJcbiAgICAvLyBnZXRUYXNrc0RhdGEod3JhcHBlcnMsIHBhdGgpO1xyXG4gICAgd2luZG93LlB1YlN1Yi5zdWJzY3JpYmUoQ09OU1QuZXZlbnRzLnRhc2tzLk5FV19UQVNLX0NSRUFURUQsIChldmVudE5hbWUsIGRhdGEpID0+IHtcclxuICAgICAgICBnZXRUYXNrc0RhdGEod3JhcHBlcnMsIHBhdGgpO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9ibG9ja3MvX3NoYXJlZC90YXNrLXN0YXR1cy90YXNrLXN0YXR1cy1ieS1zdWJ0eXBlLmpzIiwiaW1wb3J0IFVzZXIgZnJvbSAnLi4vLi4vY29tbW9uL2pzLXNlcnZpY2VzL3VzZXInO1xyXG4vLyBpbXBvcnQgU3Bpbm5lciBmcm9tICcuLi8uLi9jb21tb24vanMtc2VydmljZXMvc3Bpbm5lcic7XHJcbi8vIGltcG9ydCBQdWJTdWIgZnJvbSAncHVic3ViLWpzJztcclxuaW1wb3J0IHZpZXdVdGlscyBmcm9tICcuLi8uLi9jb21tb24vanMtc2VydmljZXMvdmlldyc7XHJcbmltcG9ydCB7Q09OU1R9IGZyb20gJy4uLy4uL2NvbW1vbi9qcy1zZXJ2aWNlcy9jb25zdHMnO1xyXG5pbXBvcnQge3NldHRpbmdCdXR0b25zSGFuZGxlcn0gZnJvbSAnLi9hY2NvdW50cy1saXN0LWJ0bi1zZXR0aW5ncyc7XHJcblxyXG5jb25zdCBJbnN0YWdyYW1BY2NQYWdlQ2xzID0gJy5pbnN0YWdyYW0tYWNjb3VudHMtcGFnZSc7XHJcbmNvbnN0IGlzSW5zdGFncmFtQWNjUGFnZSA9ICQoSW5zdGFncmFtQWNjUGFnZUNscykubGVuZ3RoO1xyXG5jb25zdCAkbXNnTGlzdCA9ICQoJy5hY2NvdW50cy1saXN0Jyk7XHJcbmNvbnN0IElOU1RBR1JBTV9BQ0NPVU5UU19IUkVGID0gJ2luc3RhZ3JhbS1hY2NvdW50cyc7XHJcblxyXG5mdW5jdGlvbiBhZGRMaXN0SGFuZGxlcigpIHtcclxuICAgIGxldCBjaGVja3BvaW50VHlwZSA9ICcnO1xyXG5cclxuICAgICQoJy5qc19wYXNzLWNoZWNrcG9pbnQtYnRuJykub24oJ2NsaWNrJywgKGUpID0+IHtcclxuICAgICAgICBjb25zdCAkYnV0dG9uID0gJChlLnRhcmdldCk7XHJcbiAgICAgICAgY29uc3QgdXNlcm5hbWUgPSAkYnV0dG9uLmRhdGEoJ3VzZXJuYW1lJyk7XHJcbiAgICAgICAgY2hlY2twb2ludFR5cGUgPSAkYnV0dG9uLmRhdGEoJ2NoZWNrcG9pbnRUeXBlJykgfHwgY2hlY2twb2ludFR5cGU7XHJcbiAgICAgICAgLy8gJCgnI3NlY3VyaXR5LWNvZGUnKS5kYXRhKCdjaGVja3BvaW50VHlwZScsIGNoZWNrcG9pbnRUeXBlKTtcclxuICAgICAgICAvLyB0b2RvIGFkZCAnY2hlY2twb2ludFR5cGUnIHRvIG1vZGFsXHJcbiAgICAgICAgY29uc3Qgc2VuZFRvID0gKGNoZWNrcG9pbnRUeXBlID09PSAnUEhPTkUnKSA/ICfRgtC10LvQtdGE0L7QvScgOiAnZW1haWwnO1xyXG4gICAgICAgIC8vIFNwaW5uZXIuc3RhcnQoJGJ1dHRvbiwgJ2ZhLWtleScpO1xyXG5cclxuICAgICAgICBpZiAoY2hlY2twb2ludFR5cGUgPT09ICdFTUFJTF9PUl9QSE9ORScpIHtcclxuICAgICAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuXHJcbiAgICAgICAgICAgIC8vINC40L3Qv9GD0YLRiyDRgdC/0YDRj9GC0LDQvdGLLFxyXG4gICAgICAgICAgICAvLyDQv9C+0LrQsNC30LDRgtGMINGB0LXRgNGL0LUg0L/QtdGA0LXQutC70Y7Rh9Cw0YLQtdC70LggKNCy0YvQsdGA0LDQuyDRgtC40L8pXHJcbiAgICAgICAgICAgIC8vINC10YHRgtGMINC60L3QvtC/0LrQsCDQl9Cw0L/RgNC+0YHQuNGC0Ywg0LrQvtC0INC/0L7QtNGC0LLQtdGA0LbQtNC10L3QuNC1XHJcbiAgICAgICAgICAgICQoJyNzZWN1cml0eS1jb2RlLXBob25lT3JlbWFpbCcpLm1vZGFsKHtzaG93OiB0cnVlLCB1c2VybmFtZX0pO1xyXG5cclxuICAgICAgICAgICAgLy8g0L3QtSDQvtGC0L/RgNCw0LLQu9GP0LXQvCDRgNC10LrQstC10YHRglxyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBVc2VyLmdldFNlY3VyaXR5S2V5KHVzZXJuYW1lLCBjaGVja3BvaW50VHlwZSkudGhlbigocmVzdWx0KSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdTZWN1cml0eUtleSByZWNlaXZlZDonLCByZXN1bHQuc3RhdHVzLnN0YXRlKTtcclxuICAgICAgICAgICAgaWYgKHJlc3VsdC5zdGF0dXMuc3RhdGUgPT09ICdvaycpIHtcclxuICAgICAgICAgICAgICAgIGNvbnN0ICRtb2RhbCA9ICQoJyNzZWN1cml0eS1jb2RlJyk7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gU3Bpbm5lci5zdG9wKCRidXR0b24sICdmYS1rZXknKTtcclxuICAgICAgICAgICAgICAgICQoJy5qc19zdWNjZXNzLWZlZWRiYWNrJywgJG1vZGFsKS5lbXB0eSgpLnRleHQoYNCa0LvRjtGHINC/0L7QtNGC0LLQtdGA0LbQtNC10L3QuNGPINCx0YvQuyDQvtGC0L/RgNCw0LLQu9C10L0g0JLQsNC8INC90LAgJHtzZW5kVG99YCk7XHJcblxyXG4gICAgICAgICAgICAgICAgJCgnI3NlY3VyaXR5LWNvZGUnKS5hdHRyKCdkYXRhLXVzZXJuYW1lJywgdXNlcm5hbWUpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBpbnNpZGUgbW9kYWxcclxuICAgICQoJy5qc19jb25maXJtLXNlY3VyaXR5LWNvZGUnKS5vbignY2xpY2snLCAoZSkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGJ0biA9ICQoZS50YXJnZXQpO1xyXG4gICAgICAgIGNvbnN0IHVzZXJuYW1lID0gYnRuLmNsb3Nlc3QoJyNzZWN1cml0eS1jb2RlJykuZGF0YSgndXNlcm5hbWUnKTtcclxuICAgICAgICBjb25zdCAka2V5SW5wdXQgPSBidG4uY2xvc2VzdCgnLm1vZGFsJykuZmluZCgnLm1vZGFsLWRpYWxvZyBmb3JtIGlucHV0LmpzX2NvbmZpcm0ta2V5Jyk7XHJcbiAgICAgICAgY29uc3Qga2V5ID0gJGtleUlucHV0LnZhbCgpLnRyaW0oKTtcclxuICAgICAgICBjb25zdCAkbW9kYWwgPSBidG4uY2xvc2VzdCgnLm1vZGFsJyk7XHJcbiAgICAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuXHJcbiAgICAgICAgaWYgKGtleS5sZW5ndGggIT09IDYpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBVc2VyLmNvbmZpcm1TZWN1cml0eUtleShrZXksIHVzZXJuYW1lKS50aGVuKChyZXN1bHQpID0+IHtcclxuICAgICAgICAgICAgaWYgKHJlc3VsdC5zdGF0dXMuc3RhdGUgIT09ICdvaycpIHtcclxuICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZygnanNfY29uZmlybTonLCByZXN1bHQuc3RhdHVzLnN0YXRlLCAnY2xvc2UgbW9kYWwnKTtcclxuICAgICAgICAgICAgJG1vZGFsLm1vZGFsKCdoaWRlJyk7XHJcbiAgICAgICAgfSkuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnZXJyJyk7XHJcbiAgICAgICAgICAgICQoJy5qc19zdWNjZXNzLWZlZWRiYWNrJywgJG1vZGFsKS50ZXh0KCfQl9Cw0L/RgNC+0YEg0L3QtSDQvtGC0L/RgNCw0LLQu9C10L0nKS5jc3MoJ2NvbG9yJywgJ3JlZCcpO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgJCgnZm9ybSBpbnB1dFttaW5sZW5ndGhdJykub24oJ2JsdXInLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgY29uc3QgbGVuID0gJCh0aGlzKS52YWwoKS50cmltKCkubGVuZ3RoO1xyXG4gICAgICAgIGNvbnN0IG1pbkxlbiA9IE51bWJlcigkKHRoaXMpLmF0dHIoJ21pbmxlbmd0aCcpKTtcclxuICAgICAgICAvLyBjb25zdCBtZXNzYWdlID0gbWluTGVuIDw9IGxlbiA/ICcnIDogbWluTGVuICsgJyBjaGFyYWN0ZXJzIG1pbmltdW0nO1xyXG4gICAgICAgIGlmIChtaW5MZW4gIT09IGxlbikge1xyXG4gICAgICAgICAgICAkKHRoaXMpLmNzcygnYm9yZGVyQ29sb3InLCAncmVkJyk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgJCh0aGlzKS5jc3MoJ2JvcmRlckNvbG9yJywgJyNjZWQ0ZGEnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gdGhpcy5zZXRDdXN0b21WYWxpZGl0eShtZXNzYWdlKVxyXG4gICAgfSk7XHJcblxyXG4gICAgZnVuY3Rpb24gb25IaWRlTW9kYWwoZSkge1xyXG4gICAgICAgIGNvbnN0ICRtb2RhbCA9ICQoZS50YXJnZXQpO1xyXG4gICAgICAgICRtb2RhbC5maW5kKCcuZmlyc3Qtc3RlcCcpLnJlbW92ZUNsYXNzKCdkLW5vbmUnKTtcclxuICAgICAgICAkbW9kYWwuZmluZCgnLnNlY29uZC1zdGVwJykuYWRkQ2xhc3MoJ2Qtbm9uZScpO1xyXG4gICAgICAgICQoJy5qc19jb25maXJtLWtleScpLnZhbCgnJyk7XHJcbiAgICAgICAgJCgnLmpzX3N1Y2Nlc3MtZmVlZGJhY2snLCAkbW9kYWwpLnJlbW92ZUF0dHIoJ3N0eWxlJykuZW1wdHkoKTtcclxuICAgIH1cclxuICAgICQoJyNzZWN1cml0eS1jb2RlLXBob25lT3JlbWFpbCcpLm9uKCdoaWRlLmJzLm1vZGFsJywgb25IaWRlTW9kYWwpO1xyXG4gICAgJCgnI3NlY3VyaXR5LWNvZGUnKS5vbignaGlkZS5icy5tb2RhbCcsIG9uSGlkZU1vZGFsKTtcclxuXHJcbiAgICAvLyBcIlBIT05FX09SX0VNQUlMXCIgbW9kYWxcclxuICAgICQoJy5qc19nZXQtc2VjdXJpdHktY29kZS1waG9uZU9yZW1haWwnKS5vbignY2xpY2snLCAoZSkgPT4ge1xyXG4gICAgICAgIGNvbnN0ICRtb2RhbCA9ICQoJyNzZWN1cml0eS1jb2RlLXBob25lT3JlbWFpbCcpO1xyXG4gICAgICAgIGNvbnN0IHR5cGVTZWxlY3RlZCA9ICQoZS50YXJnZXQpLmNsb3Nlc3QoJG1vZGFsKS5maW5kKCcuanNfYnRuLXR5cGUtc3dpdGNoZXIgaW5wdXQ6Y2hlY2tlZCcpO1xyXG4gICAgICAgIGNvbnN0IGNoZWNrcG9pbnRUeXBlQWN0aXZlID0gdHlwZVNlbGVjdGVkLnZhbCgpO1xyXG4gICAgICAgIGNvbnN0IHNlbmRUbyA9IChjaGVja3BvaW50VHlwZUFjdGl2ZSA9PT0gJ1BIT05FJykgPyAn0YLQtdC70LXRhNC+0L0nIDogJ2VtYWlsJztcclxuICAgICAgICBjb25zdCBtb2RhbENvbmZpZyA9ICRtb2RhbC5kYXRhKClbJ2JzLm1vZGFsJ10uX2NvbmZpZztcclxuICAgICAgICBjb25zdCB1c2VybmFtZSA9IG1vZGFsQ29uZmlnLnVzZXJuYW1lO1xyXG4gICAgICAgIFVzZXIuZ2V0U2VjdXJpdHlLZXkodXNlcm5hbWUsIGNoZWNrcG9pbnRUeXBlQWN0aXZlKS50aGVuKChyZXN1bHQpID0+IHtcclxuICAgICAgICAgICAgLy8g0L/RgNC4INC90LDQttCw0YLQuNC4IFwi0JfQsNC/0YDQvtGB0LjRgtGMINC60L7QtCDQv9C+0LTRgtCy0LXRgNC20LTQtdC90LjQtVwiIC0g0L7RgtC/0LDRgNC70Y/QtdGC0YHRjyDRgNC10LrQstC10YHRgiBcItGB0YLQsNGA0YIg0YfQtdC60L/QvtC40L3RglwiINC/0L7Rj9Cy0LvRj9C10YLRjNGB0Y8g0LjQvdC/0YPRgiDQuCDQutC90L7Qv9C60LAg0LTRgNGD0LPQuNGFINGC0LjQv9Cw0YVcclxuICAgICAgICAgICAgLy8gZ2V0IHNlbGVjdGVkIGJ1dHRvblxyXG5cclxuICAgICAgICAgICAgLy8g0L/QtdGA0LXQutC70Y7Rh9Cw0YLQtdC70Ywo0YHQtdGA0YvQuSkg0Lgg0LrQvdC+0L/QutCwIFwi0JfQsNC/0YDQvtGB0LjRgtGMINC60L7QtCDQv9C+0LTRgtCy0LXRgNC20LTQtdC90LjQtVwiINC40YHRh9C10LfQsNGO0YJcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ1NlY3VyaXR5S2V5IHJlY2VpdmVkOicsIHJlc3VsdC5zdGF0dXMuc3RhdGUpO1xyXG4gICAgICAgICAgICBpZiAocmVzdWx0LnN0YXR1cy5zdGF0ZSA9PT0gJ29rJykge1xyXG4gICAgICAgICAgICAgICAgJCgnLmZpcnN0LXN0ZXAnLCAkbW9kYWwpLmFkZENsYXNzKCdkLW5vbmUnKTtcclxuICAgICAgICAgICAgICAgICQoJy5zZWNvbmQtc3RlcCcsICRtb2RhbCkucmVtb3ZlQ2xhc3MoJ2Qtbm9uZScpO1xyXG4gICAgICAgICAgICAgICAgJCgnLmpzX3N1Y2Nlc3MtZmVlZGJhY2snLCAkbW9kYWwpLmVtcHR5KCkudGV4dChg0JrQu9GO0Ycg0L/QvtC00YLQstC10YDQttC00LXQvdC40Y8g0LHRi9C7INC+0YLQv9GA0LDQstC70LXQvSDQktCw0Lwg0L3QsCAke3NlbmRUb31gKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbmNvbnN0IGluc2VydEl0ZW0gPSAoZGF0YSwgdGV4dCwgY3NzQ2xzKSA9PiB7XHJcbiAgICBjb25zdCBsaVRwbCA9IGAkeyhkYXRhKVxyXG4gICAgICAgID8gYDxsaSBjbGFzcz1cImxpc3QtaW5saW5lLWl0ZW0gJHtjc3NDbHN9XCI+PHNwYW4gY2xhc3M9XCJmaWd1cmVcIj4ke2RhdGF9PC9zcGFuPjxzcGFuPiR7dGV4dH08L3NwYW4+PC9saT5gXHJcbiAgICAgICAgOiBgPGxpIGNsYXNzPVwibGlzdC1pbmxpbmUtaXRlbSAke2Nzc0Nsc31cIj48c3BhbiBjbGFzcz1cImZpZ3VyZVwiPjA8L3NwYW4+PHNwYW4+JHt0ZXh0fTwvc3Bhbj48L2xpPmB9YDtcclxuICAgIHJldHVybiBsaVRwbDtcclxufTtcclxuXHJcbmNvbnN0IHN0YXRzID0gKGluZm8pID0+IHtcclxuICAgIGNvbnN0IHRwbCA9IGA8ZGl2IGNsYXNzPVwiY29sXCI+XHJcbiAgICAgICAgPHVsIGNsYXNzPVwibGlzdC1pbmxpbmUgdGV4dC1jZW50ZXIgY291bnRzLWxpc3RcIj5cclxuICAgICAgICAkeyhpbmZvKVxyXG4gICAgICAgICAgPyBgJHtpbnNlcnRJdGVtKGluZm9bJ21lZGlhX2NvdW50J10sICfQn9GD0LHQu9C40LrQsNGG0LjQuCcsICdtZWRpYS1jb3VudCcpfVxyXG4gICAgICAgICAgICAke2luc2VydEl0ZW0oaW5mb1snZm9sbG93ZXJfY291bnQnXSwgJ9Cf0L7QtNC/0LjRgdGH0LjQutC4JywgJ2ZvbGxvd2VyLWNvdW50Jyl9XHJcbiAgICAgICAgICAgICR7aW5zZXJ0SXRlbShpbmZvWydmb2xsb3dpbmdfY291bnQnXSwgJ9Cf0L7QtNC/0LjRgdC60LgnLCAnZm9sbG93aW5nLWNvdW50Jyl9YFxyXG4gICAgICAgICAgOiBgJHtpbnNlcnRJdGVtKGZhbHNlLCAn0J/Rg9Cx0LvQuNC60LDRhtC40LgnLCAnbWVkaWEtY291bnQnKX1cclxuICAgICAgICAgICAgJHtpbnNlcnRJdGVtKGZhbHNlLCAn0J/QvtC00L/QuNGB0YfQuNC60LgnLCAnZm9sbG93ZXItY291bnQnKX1cclxuICAgICAgICAgICAgJHtpbnNlcnRJdGVtKGZhbHNlLCAn0J/QvtC00L/QuNGB0LrQuCcsICdmb2xsb3dpbmctY291bnQnKX1gXHJcbiAgICAgICAgfVxyXG4gICAgICAgIDwvdWw+XHJcbiAgICA8L2Rpdj5gO1xyXG4gICAgcmV0dXJuIHRwbDtcclxufTtcclxuXHJcbmNvbnN0IGNoZWNrUG9pbnRUZXh0ID0gKGNoZWNrcG9pbnQsIGl0ZW0pID0+IHtcclxuICAgIGlmIChjaGVja3BvaW50LnN0YXR1cyA9PT0gJ1RSSUdHRVJFRCcpIHtcclxuICAgICAgICByZXR1cm4gYDxidXR0b24gY2xhc3M9XCJidG4gYnRuLW91dGxpbmUtc2Vjb25kYXJ5IGpzX3Bhc3MtY2hlY2twb2ludC1idG4gZC1ibG9jayBteC1hdXRvXCIgXHJcbiAgICAgICAgICAgIGRhdGEtY2hlY2twb2ludC10eXBlPVwiJHtjaGVja3BvaW50LnR5cGUgfHwgJ0VNQUlMJ31cIlxyXG4gICAgICAgICAgICBkYXRhLXVzZXJuYW1lPVwiJHtpdGVtLnVzZXJuYW1lIHx8ICcnfVwiXHJcbiAgICAgICAgICAgIGRhdGEtdG9nZ2xlPVwibW9kYWxcIiBkYXRhLXRhcmdldD1cIiNzZWN1cml0eS1jb2RlXCI+XHJcbiAgICAgICAgICAgIDxpIGNsYXNzPVwiZmFzIGZhLWtleVwiPjwvaT7Qn9GA0L7QudGC0Lgg0YfQtdC60L/QvtC40L3RgjwvYnV0dG9uPmA7XHJcbiAgICB9IGVsc2UgaWYgKGl0ZW0uc3RhdHVzID09PSAnRkFJTCcpIHtcclxuICAgICAgICByZXR1cm4gJzxzcGFuIGNsYXNzPVwidGV4dC1kYW5nZXJcIj7QntGI0LjQsdC60LAg0L/RgNC4INC00L7QsdCw0LLQu9C10L3QuNC4PC9zcGFuPic7XHJcbiAgICB9XHJcbn07XHJcblxyXG5jb25zdCBhZGRTZXR0aW5nQnRuID0gKGFjY291bnQpID0+IHtcclxuICAgIGNvbnN0IHt1c2VybmFtZSA9ICcnLFxyXG4gICAgICAgIGluZm86IHtuYW1lID0gJycsIGVtYWlsID0gJycsIHVybCA9ICcnLCBiaW9ncmFwaHkgPSAnJywgcHJvZmlsZV9waWNfdXJsID0gJycsIGZvbGxvd2VyX2NvdW50LCBmb2xsb3dpbmdfY291bnQsIG1lZGlhX2NvdW50LCBpc19idXNpbmVzcywgaXNfcHJpdmF0ZX1cclxuICAgIH0gPSBhY2NvdW50O1xyXG4gICAgaWYgKGlzSW5zdGFncmFtQWNjUGFnZSB8fCB3aW5kb3cubG9jYXRpb24uaHJlZi5pbmNsdWRlcyhJTlNUQUdSQU1fQUNDT1VOVFNfSFJFRikpIHtcclxuICAgICAgICByZXR1cm4gYDxkaXYgY2xhc3M9XCJhY2NvdW50LXNldHRpbmcgY29sLTEgZC1mbGV4IGZsZXgtY29sdW1uXCI+XHJcbiAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJidG4gYnRuLW91dGxpbmUtc3VjY2VzcyBwLTEgbWItMSBqc19hY2MtZWRpdFwiIFxyXG4gICAgICAgICAgICAgICAgZGF0YS11c2VybmFtZT1cIiR7dXNlcm5hbWV9XCJcclxuICAgICAgICAgICAgICAgIGRhdGEtbmFtZT1cIiR7bmFtZX1cIlxyXG4gICAgICAgICAgICAgICAgZGF0YS1lbWFpbD1cIiR7ZW1haWx9XCJcclxuICAgICAgICAgICAgICAgIGRhdGEtdXJsPVwiJHt1cmx9XCJcclxuICAgICAgICAgICAgICAgIGRhdGEtYmlvZ3JhcGh5PVwiJHtiaW9ncmFwaHl9XCJcclxuICAgICAgICAgICAgICAgIGRhdGEtaW1nPVwiJHtwcm9maWxlX3BpY191cmx9XCJcclxuICAgICAgICAgICAgICAgIGRhdGEtZm9sbG93ZXJfY291bnQ9XCIke2ZvbGxvd2VyX2NvdW50fVwiXHJcbiAgICAgICAgICAgICAgICBkYXRhLWZvbGxvd2luZ19jb3VudD1cIiR7Zm9sbG93aW5nX2NvdW50fVwiXHJcbiAgICAgICAgICAgICAgICBkYXRhLW1lZGlhX2NvdW50PVwiJHttZWRpYV9jb3VudH1cIlxyXG4gICAgICAgICAgICAgICAgZGF0YS1pc19idXNpbmVzcz1cIiR7aXNfYnVzaW5lc3N9XCJcclxuICAgICAgICAgICAgICAgIGRhdGEtaXNfcHJpdmF0ZT1cIiR7aXNfcHJpdmF0ZX1cIlxyXG4gICAgICAgICAgICA+PGkgY2xhc3M9XCJmYXMgZmEtcGVuIG0tMFwiPjwvaT48L2J1dHRvbj5cclxuICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tb3V0bGluZS1zZWNvbmRhcnkgcC0xIG1iLTEganNfYWNjLXJlZnJlc2hcIiBkYXRhLXVzZXJuYW1lPVwiJHt1c2VybmFtZX1cIj48aSBjbGFzcz1cImZhcyBmYS1yZXR3ZWV0IG0tMFwiPjwvaT48L2J1dHRvbj5cclxuICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tb3V0bGluZS1kYW5nZXIgcC0xIGpzX2FjYy1kZWxldGVcIiBkYXRhLXVzZXJuYW1lPVwiJHt1c2VybmFtZX1cIj48aSBjbGFzcz1cImZhcyBmYS10cmFzaCBtLTBcIj48L2k+PC9idXR0b24+XHJcbiAgICAgICAgPC9kaXY+YDtcclxuICAgIH1cclxufTtcclxuXHJcbmV4cG9ydCBjb25zdCByZW5kZXJJdGVtID0gKGl0ZW0sIGNMaXN0LCBfZGVmYXVsdEF2YXRhclNyYykgPT4ge1xyXG4gICAgY29uc3QgaW5mbyA9IGl0ZW0uaW5mbztcclxuICAgIGNvbnN0IGNoZWNrcG9pbnQgPSBpdGVtLmNoZWNrcG9pbnQgfHwgaXRlbTtcclxuICAgIGNvbnN0IGRlZmF1bHRBdmF0YXJTcmMgPSBfZGVmYXVsdEF2YXRhclNyYyB8fCBDT05TVC51c2VyLmRlZmF1bEF2YXRhcjtcclxuICAgIGlmICghaW5mbykge1xyXG4gICAgICAgIHJldHVybiAkKGA8bGkgY2xhc3M9XCJtZWRpYSBweS0zXCIgZGF0YS11c2VybmFtZT1cIiR7aXRlbS51c2VybmFtZX1cIj5cclxuICAgICAgICAgICAgPGltZyBjbGFzcz1cIm1sLTMgcm91bmRlZFwiIGFsdD1cImRlZmF1bHQgYXZhdGFyXCIgc3JjPVwiJHtkZWZhdWx0QXZhdGFyU3JjfVwiPlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwibWVkaWEtYm9keSBkLWZsZXhcIj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wgdXNlci1pbmZvXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgJHsoaXRlbS51c2VybmFtZSkgPyBgPGg0IGNsYXNzPVwibXQtMCBtYi0xIG5hbWVcIj4ke2l0ZW0udXNlcm5hbWV9PC9oND5gIDogJyd9XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wgdXNlci1jaGVja3BvaW50XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgJHtjaGVja1BvaW50VGV4dChjaGVja3BvaW50LCBpdGVtKX1cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgJHtzdGF0cygpfVxyXG4gICAgICAgICAgICAgICAgJHthZGRTZXR0aW5nQnRuKGl0ZW0pIHx8ICcnfVxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICA8L2xpPmApLmFwcGVuZFRvKGNMaXN0KTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgcmV0dXJuICQoYDxsaSBjbGFzcz1cIm1lZGlhIHB5LTNcIiBkYXRhLXVzZXJuYW1lPVwiJHtpdGVtLnVzZXJuYW1lfVwiPlxyXG4gICAgICAgICR7KGluZm9bJ3Byb2ZpbGVfcGljX3VybCddKVxyXG4gICAgICAgICAgICA/IGA8aW1nIGNsYXNzPVwibWwtMyByb3VuZGVkXCIgYWx0PVwiVXNlciBwaG90b1wiIHNyYz1cIiR7aW5mb1sncHJvZmlsZV9waWNfdXJsJ119XCI+YFxyXG4gICAgICAgICAgICA6IGA8aW1nIGNsYXNzPVwibWwtMyByb3VuZGVkXCIgYWx0PVwiZGVmYXVsdCBhdmF0YXJcIiBzcmM9XCIke2RlZmF1bHRBdmF0YXJTcmN9XCI+YH1cclxuICAgICAgICA8ZGl2IGNsYXNzPVwibWVkaWEtYm9keSBkLWZsZXhcIj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbCB1c2VyLWluZm9cIj5cclxuICAgICAgICAgICAgICAgICR7KGl0ZW0udXNlcm5hbWUpID8gYDxwIGNsYXNzPVwibXQtMCBtYi0xIG5hbWUgbGVhZFwiPiR7aXRlbS51c2VybmFtZX08L3A+YCA6ICcnfVxyXG4gICAgICAgICAgICAgICAgJHsoaW5mby5uYW1lKSA/IGA8aDQgY2xhc3M9XCJtdC0wIG1iLTFcIj4ke2luZm8ubmFtZX08L2g0PmAgOiAnJ31cclxuICAgICAgICAgICAgICAgICR7KGluZm8ubmFtZSkgPyAnJyA6ICcnICAvKiAkeyhpbmZvLmVtYWlsKSA/IGA8cCBjbGFzcz1cIm10LTAgbWItMVwiPiR7aW5mby5lbWFpbH08L3A+YCA6ICcnfVxyXG4gICAgICAgICAgICAgICAgICR7KGluZm8ucGhvbmUpID8gYDxwIGNsYXNzPVwibXQtMCBtYi0xXCI+JHtpbmZvLnBob25lfTwvcD5gIDogJyd9ICovIH1cclxuXHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sIHVzZXItY2hlY2twb2ludFwiPlxyXG4gICAgICAgICAgICAgICAgJHsoY2hlY2twb2ludC5zdGF0dXMgPT09ICdUUklHR0VSRUQnKVxyXG4gICAgICAgICAgICAgICAgPyBgPGJ1dHRvbiBjbGFzcz1cImJ0biBidG4tb3V0bGluZS1zZWNvbmRhcnkganNfcGFzcy1jaGVja3BvaW50LWJ0biBkLWJsb2NrIG14LWF1dG9cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhLWNoZWNrcG9pbnQtdHlwZT1cIiR7Y2hlY2twb2ludC50eXBlIHx8ICdFTUFJTCd9XCJcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS11c2VybmFtZT1cIiR7aXRlbS51c2VybmFtZSB8fCAnJ31cIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRhLXRvZ2dsZT1cIm1vZGFsXCIgZGF0YS10YXJnZXQ9XCIjc2VjdXJpdHktY29kZVwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzPVwiZmFzIGZhLWtleVwiPjwvaT7Qn9GA0L7QudGC0Lgg0YfQtdC60L/QvtC40L3RgjwvYnV0dG9uPmBcclxuICAgICAgICAgICAgICAgIDogJyd9XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAke3N0YXRzKGluZm8pfVxyXG4gICAgICAgICAgICAke2FkZFNldHRpbmdCdG4oaXRlbSkgfHwgJyd9XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICA8L2xpPmApO1xyXG4gICAgfVxyXG59O1xyXG5cclxuZnVuY3Rpb24gZmlsbExpc3QoJGxpc3QsIGRhdGFBcnJheSkge1xyXG4gICAgY29uc3QgaXRlbXMgPSBkYXRhQXJyYXk7XHJcbiAgICBjb25zdCBjTGlzdCA9ICRsaXN0O1xyXG4gICAgY29uc3QgZGVmYXVsdEF2YXRhclNyYyA9IENPTlNULnVzZXIuZGVmYXVsQXZhdGFyO1xyXG5cclxuICAgIGNMaXN0LmVtcHR5KCkuYWRkQ2xhc3MoJ2JvcmRlci1saWdodC1jb2xvcicpO1xyXG4gICAgaXRlbXMuZm9yRWFjaCgoaXRlbSkgPT4ge1xyXG4gICAgICAgIHJlbmRlckl0ZW0oaXRlbSwgY0xpc3QsIGRlZmF1bHRBdmF0YXJTcmMpLmFwcGVuZFRvKGNMaXN0KTtcclxuICAgIH0pO1xyXG4gICAgd2luZG93LlB1YlN1Yi5wdWJsaXNoKENPTlNULmV2ZW50cy5pbnN0YWdyYW1BY2NvdW5zLklOU1RBR1JBTV9BQ0NPVU5TX1JFTkRFUkVELCB7bmFtZSwgZGF0YUFycmF5fSk7XHJcbiAgICBjb25zb2xlLmxvZygnSU5TVEFHUkFNX0FDQ09VTlNfUkVOREVSRUQnKTtcclxufVxyXG5cclxuZnVuY3Rpb24gY2hlY2tSZXNwb25zZSAocmVzdWx0IC8qICwgaXNSZXNlbmRSZXF1ZXN0Ki8pIHtcclxuXHJcbiAgICAvKlxyXG4gICAgaWYgKCFyZXN1bHQuc3RhdHVzLnN0YXRlID09PSAnb2snIHx8ICFyZXN1bHQuZGF0YSB8fCAhJG1zZ0xpc3QubGVuZ3RoIHx8IGlzUmVzZW5kUmVxdWVzdCkge1xyXG4gICAgICAgIC8vINC/0YDQvtCy0LXRgNGP0Lwg0L7QtNC40L0g0YDQsNC3INC90LDQu9C40YfQuNC1IHJlc3VsdC5kYXRhLmFjY291bnRzLmluZm9cclxuICAgICAgICAkbXNnTGlzdC5lbXB0eSgpO1xyXG4gICAgICAgICQoYDxsaSBjbGFzcz1cIm1lZGlhXCI+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtZWRpYS1ib2R5XCI+XHJcbiAgICAgICAgICAgICAgICA8aDMgY2xhc3M9XCJtdC0wIG1iLTNcIj7QndC4INC+0LTQvdC+0LPQviDQkNC60LrQsNGD0L3RgtCwINC90LUg0LTQvtCx0LDQstC70LXQvdC+PC9oMz5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPC9saT5gKS5hcHBlbmRUbygkbXNnTGlzdCk7XHJcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgIHJlc2VuZFJlcXVlc3QoKS50aGVuKChyZXN1bHQpID0+IHtcclxuICAgICAgICAgICAgICAgIGNoZWNrUmVzcG9uc2UocmVzdWx0LCBmYWxzZSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnUmVxdWVzdCByZXNlbmQnKTtcclxuICAgICAgICB9LCAzNTAwKTtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICAqL1xyXG4gICAgLy8g0LLRi9Cy0L7QtCDRgNC10LfRg9C70YzRgtCw0YLQvtCyIChkYXRhLmFjY291bnRzLmluZm8pXHJcbiAgICAkKCcucHJvZmlsZS11c2VyIC5zcGlubmVyLWJveCcpLmFkZENsYXNzKCdkLW5vbmUnKTtcclxuICAgIGZpbGxMaXN0KCRtc2dMaXN0LCByZXN1bHQuZGF0YS5hY2NvdW50cyk7XHJcbiAgICBhZGRMaXN0SGFuZGxlcigpO1xyXG59XHJcbmNvbnN0IGVyck1lc3NhZ2VGcm9udCA9ICfQndC1INC/0L7Qu9GD0YfQuNC70L7RgdGMINC30LDQs9GA0YPQt9C40YLRjCDQtNC+0YHRgtGD0L/QvdGL0LUgSW5zdGFncmFtINCw0LrQutCw0YPQvdGC0YsnO1xyXG5mdW5jdGlvbiBjYkVycm9yKCkge1xyXG4gICAgdmlld1V0aWxzLnNob3dJbmZvTWVzc2FnZSgkKCcuZXJyb3ItbXNnJyksXHJcbiAgICAgICAgJycsXHJcbiAgICAgICAgZXJyTWVzc2FnZUZyb250KTtcclxufVxyXG5cclxuZnVuY3Rpb24gcmVsb2FkTGlzdCgpIHtcclxuICAgIGNvbnN0ICRtc2dMaXN0ID0gJCgnLmFjY291bnRzLWxpc3QnKTtcclxuICAgIC8vIFRPRE86IGFkZCBzcGlubmVyXHJcbiAgICAkKCcucHJvZmlsZS11c2VyIC5zcGlubmVyLWJveCcpLnJlbW92ZUNsYXNzKCdkLW5vbmUnKTtcclxuICAgIFVzZXIuZ2V0TWV0YWRhdGEoY2JFcnJvcikudGhlbigocmVzdWx0KSA9PiB7XHJcbiAgICAgICAgJG1zZ0xpc3QuZW1wdHkoKTtcclxuICAgICAgICAvLyB0b2RvIDogcmVsb2FkIGxpc3RcclxuICAgICAgICBjaGVja1Jlc3BvbnNlKHJlc3VsdCk7XHJcbiAgICB9KS5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgIHZpZXdVdGlscy5zaG93SW5mb01lc3NhZ2UoJCgnLmVycm9yLW1zZycpLFxyXG4gICAgICAgICAgICAgICAgZXJyLnN0YXR1cyB8fCAnJyxcclxuICAgICAgICAgICAgICAgIGVyck1lc3NhZ2VGcm9udCk7XHJcbiAgICAgICAgfSwgMzAwMCk7XHJcbiAgICAgICAgJCgnLnNwaW5uZXItYm94JykuYWRkQ2xhc3MoJ2Qtbm9uZScpO1xyXG4gICAgfSk7XHJcbiAgICBjb25zdCBjZmcgPSB7XHJcbiAgICAgICAgZGVsZXRlQnRuQ2xzOiAnLmpzX2FjYy1kZWxldGUnLFxyXG4gICAgICAgIHVwZGF0ZUJ0bkNsczogJy5qc19hY2MtcmVmcmVzaCcsXHJcbiAgICAgICAgZWRpdEJ0bkNsczogJy5qc19hY2MtZWRpdCdcclxuICAgIH07XHJcbiAgICBzZXR0aW5nQnV0dG9uc0hhbmRsZXIoY2ZnKTtcclxufVxyXG5cclxuLy8g0J/QvtGB0LvQtSDQtNC+0LHQsNCy0LvQtdC90LjRjyDQsNC60LrQsNGD0L3RgtCwINGB0L3QvtCy0LAg0LTQtdGA0L3Rg9GC0Ywg0JzQldCi0JAg0Lgg0L/QtdGA0LXRgNC40YHQvtCy0LDRgtGMINGB0L/QuNGB0L7QuiDQsNC60LrQsNGD0L3RgtC+0LJcclxuY29uc3QgYWRkSW5zdGFncmFtQWNjb3VudCA9IChuZXdGb3JtRGF0YSkgPT4ge1xyXG4gICAgY29uc3QgY2JFcnJvciA9IChyZXN1bHQpID0+IHtcclxuICAgICAgICBjb25zb2xlLmxvZygnRVJST1InLCByZXN1bHQpO1xyXG4gICAgICAgIHZpZXdVdGlscy5zaG93SW5mb01lc3NhZ2UoJCgnLmVycm9yLW1zZycpLFxyXG4gICAgICAgICAgICByZXN1bHQuc3RhdHVzLnN0YXRlLFxyXG4gICAgICAgICAgICByZXN1bHQuc3RhdHVzLm1lc3NhZ2UgfHwgJ0xvZ2luIGVycm9yJyk7XHJcbiAgICAgICAgLy8gJChfbG9naW5Cb3gpLmFkZENsYXNzKGNsb3NlQ2xhc3MpLnJlbW92ZUNsYXNzKG9wZW5lZENsYXNzKTtcclxuICAgIH07XHJcbiAgICBVc2VyLmFkZEluc3RhZ3JhbUFjY291bnQobmV3Rm9ybURhdGEsIGNiRXJyb3IpLnRoZW4oKHJlc3VsdCkgPT4ge1xyXG4gICAgICAgIGlmIChyZXN1bHQgJiYgcmVzdWx0LnN0YXR1cykge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhyZXN1bHQsIHJlc3VsdC5zdGF0dXMpO1xyXG4gICAgICAgICAgICByZWxvYWRMaXN0KCk7XHJcblxyXG4gICAgICAgICAgICAvKlxyXG4gICAgICAgICAgICBjb25zdCAkbXNnTGlzdCA9ICQoJy5hY2NvdW50cy1saXN0Jyk7XHJcbiAgICAgICAgICAgIFVzZXIuZ2V0TWV0YWRhdGEoKS50aGVuKChyZXN1bHQpID0+IHtcclxuICAgICAgICAgICAgICAgICRtc2dMaXN0LmVtcHR5KCk7XHJcbiAgICAgICAgICAgICAgICAvLyB0b2RvIDogcmVsb2FkIGxpc3RcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3VsdC5kYXRhLCByZXN1bHQuZGF0YS5hY2NvdW50cyk7XHJcbiAgICAgICAgICAgICAgICBjaGVja1Jlc3BvbnNlKHJlc3VsdCk7XHJcbiAgICAgICAgICAgIH0pLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHZpZXdVdGlscy5zaG93SW5mb01lc3NhZ2UoJCgnLmVycm9yLW1zZycpLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBlcnIuc3RhdHVzIHx8ICcnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAn0J3QtSDQv9C+0LvRg9GH0LjQu9C+0YHRjCDQt9Cw0LPRgNGD0LfQuNGC0Ywg0LTQvtGB0YLRg9C/0L3Ri9C1IEluc3RhZ3JhbSDQsNC60LrQsNGD0L3RgtGLJyk7XHJcbiAgICAgICAgICAgICAgICB9LCAzMDAwKTtcclxuICAgICAgICAgICAgICAgICQoJy5zcGlubmVyLWJveCcpLmFkZENsYXNzKCdkLW5vbmUnKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICovXHJcblxyXG4gICAgICAgICAgICAvLyB2aWV3VXRpbHMuc2hvd0luZm9NZXNzYWdlKCR0ZXh0QXJlYURlc2NyaXB0aW9uLFxyXG4gICAgICAgICAgICAvLyAgICAgcmVzdWx0LnN0YXR1cy5zdGF0ZSxcclxuICAgICAgICAgICAgLy8gICAgIHJlc3VsdC5zdGF0dXMubWVzc2FnZSB8fCAnTG9naW4gZXJyb3InKTtcclxuICAgICAgICAgICAgLy8gJChfbG9naW5Cb3gpLmFkZENsYXNzKGNsb3NlQ2xhc3MpLnJlbW92ZUNsYXNzKG9wZW5lZENsYXNzKTtcclxuICAgICAgICB9XHJcbiAgICB9KS5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgICAgLy8gdG9kbzogcmVuZGVyIGZvciB1c2VyXHJcbiAgICAgICAgY29uc29sZS5sb2coZXJyKTtcclxuICAgIH0pO1xyXG5cclxuICAgIGNvbnNvbGUubG9nKCdzdWJtaXQnLCBuZXdGb3JtRGF0YSk7XHJcbn07XHJcblxyXG5mdW5jdGlvbiBhZGRPbkxvYWRIYW5kbGVycygpIHtcclxuICAgIC8vICQoJy5qc19yZXBlYXQtc2VjdXJpdHktY29kZScpLm9uKCdjbGljaycsIChlKSA9PiB7XHJcblxyXG4gICAgLy8gfSk7XHJcblxyXG4gICAgJCgnLmpzX2FkZC1pbnN0YWdyYW0tYWNjb3VudCcpLm9uKCdjbGljaycsIChlKSA9PiB7XHJcbiAgICAgICAgY29uc3QgYnRuID0gJChlLnRhcmdldCk7XHJcbiAgICAgICAgY29uc3QgJG1vZGFsQm9keSA9IGJ0bi5jbG9zZXN0KCcubW9kYWwnKS5maW5kKCcubW9kYWwtZGlhbG9nIC5tb2RhbC1ib2R5Jyk7XHJcbiAgICAgICAgY29uc3QgdXNlcm5hbWUgPSAkbW9kYWxCb2R5LmZpbmQoJ2lucHV0W25hbWU9XCJ1c2VybmFtZVwiXScpLnZhbCgpLnRyaW0oKTtcclxuICAgICAgICBjb25zdCBwYXNzd29yZCA9ICRtb2RhbEJvZHkuZmluZCgnaW5wdXRbbmFtZT1cInBhc3NcIl0nKS52YWwoKS50cmltKCk7XHJcbiAgICAgICAgY29uc3QgaXAgPSAkbW9kYWxCb2R5LmZpbmQoJ2lucHV0W25hbWU9XCJpcFwiXScpLnZhbCgpLnRyaW0oKTsgLy8gVE1QIHNvbHV0aW9uXHJcbiAgICAgICAgY29uc3QgcG9ydCA9ICRtb2RhbEJvZHkuZmluZCgnaW5wdXRbbmFtZT1cInBvcnRcIl0nKS52YWwoKS50cmltKCk7IC8vIFRNUCBzb2x1dGlvblxyXG4gICAgICAgIGNvbnN0IHVzZXJuYW1lUHJveHkgPSAkbW9kYWxCb2R5LmZpbmQoJ2lucHV0W25hbWU9XCJ1c2VybmFtZVByb3h5XCJdJykudmFsKCkudHJpbSgpOyAvLyBUTVAgc29sdXRpb25cclxuICAgICAgICBjb25zdCBwYXNzd29yZFByb3h5ID0gJG1vZGFsQm9keS5maW5kKCdpbnB1dFtuYW1lPVwicGFzc1Byb3h5XCJdJykudmFsKCkudHJpbSgpOyAvLyBUTVAgc29sdXRpb25cclxuICAgICAgICBjb25zdCAkZm9ybSA9ICQoJ2Zvcm0nLCAkbW9kYWxCb2R5KTtcclxuICAgICAgICBjb25zdCBmb3JtID0gJGZvcm0uZ2V0KDApO1xyXG4gICAgICAgIGNvbnN0IGNzc1ZhbGlkYXRpb25DbGFzcyA9ICdmb3JtLXZhbGlkYXRpb24nO1xyXG5cclxuICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgZnVuY3Rpb24gaXNWYWxpZElwdjRBZGRyKGlwKSB7XHJcbiAgICAgICAgICAgIHJldHVybiAoL14oPz1cXGQrXFwuXFxkK1xcLlxcZCtcXC5cXGQrJCkoPzooPzoyNVswLTVdfDJbMC00XVswLTldfDFbMC05XXsyfXxbMS05XVswLTldfFswLTldKVxcLj8pezR9JC8pLnRlc3QoaXApO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmdW5jdGlvbiBpc1ZhbGlkUG9ydChwb3J0KSB7XHJcbiAgICAgICAgICAgIHJldHVybiAoL14oWzAtOV17MSw0fXxbMS01XVswLTldezR9fDZbMC00XVswLTldezN9fDY1WzAtNF1bMC05XXsyfXw2NTVbMC0yXVswLTldfDY1NTNbMC01XSkkLykudGVzdChwb3J0KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gY29uc3QgdmFsaWRhdG9yID0gbmV3IFZhbGlkYXRvcigkZm9ybSk7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2codmFsaWRhdG9yLnZhbGlkYXRlKCkpO1xyXG4gICAgICAgIGlmIChmb3JtLmNoZWNrVmFsaWRpdHkoKSkge1xyXG4gICAgICAgICAgICBhZGRJbnN0YWdyYW1BY2NvdW50KHt1c2VybmFtZSwgcGFzc3dvcmQsIHVzZXJuYW1lUHJveHksIHBhc3N3b3JkUHJveHksIGlwLCBwb3J0fSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgLy8gSGlnaGxpZ2h0IGVycm9yc1xyXG4gICAgICAgICAgICBpZiAoZm9ybS5yZXBvcnRWYWxpZGl0eSkge1xyXG4gICAgICAgICAgICAgICAgZm9ybS5yZXBvcnRWYWxpZGl0eSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICRmb3JtLmFkZENsYXNzKGNzc1ZhbGlkYXRpb25DbGFzcyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZiAoIXVzZXJuYW1lIHx8ICFwYXNzd29yZCB8fCAhaXAgfHwgIWlzVmFsaWRJcHY0QWRkcihpcCkgfHwgIXBvcnQgfHwgIWlzVmFsaWRQb3J0KHBvcnQpIHx8ICF1c2VybmFtZVByb3h5IHx8ICFwYXNzd29yZFByb3h5KSB7XHJcbiAgICAgICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdub3QgdmFsaWQgZmllbGRzJyk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEluaXQgaGVhZGVyXHJcbiAqL1xyXG5leHBvcnQgZnVuY3Rpb24gaW5pdCgpIHtcclxuICAgIC8vIGNoZWNrIHdlIGFyZSBpbiBwcm9maWxlIHBhZ2VcclxuICAgIGlmICghJG1zZ0xpc3QubGVuZ3RoKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgLy8gY29uc3QgdG9rZW4gPSBVc2VyLmdldFRva2VuKCk7XHJcbiAgICBjb25zdCBtZXRhZGF0YSA9IFVzZXIuZ2V0TWV0YWRhdGEoY2JFcnJvcik7XHJcbiAgICAvLyBjb25zdCByZXNlbmRSZXF1ZXN0ID0gKCkgPT4gVXNlci5nZXRNZXRhZGF0YSh0b2tlbik7XHJcbiAgICAvLyBsZXQgaXNTZW5kUmVxT25jZSA9IGZhbHNlO1xyXG4gICAgLy8gY2hlY2sgd2UgYXJlIGluIHByb2ZpbGUgcGFnZVxyXG4gICAgaWYgKCEkbXNnTGlzdC5sZW5ndGgpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcblxyXG4gICAgYWRkT25Mb2FkSGFuZGxlcnMoKTtcclxuXHJcbiAgICAvLyDQvNC+0LbQtdGCINC40L3RhNC+INC+0YLRgdGD0YLRgdCy0L7QstCw0YLRjCAtINGB0LTQtdC70LDRgtGMINC10YnQtSDRgNCw0Lcg0LfQsNC/0YDQvtGBINGH0LXRgNC10LcgMyDRgdC10LouXHJcbiAgICBtZXRhZGF0YS50aGVuKChyZXN1bHQpID0+IHtcclxuICAgICAgICAvLyDQv9GA0L7QstC10YDRj9C8INC+0LTQuNC9INGA0LDQtyDQvdCw0LvQuNGH0LjQtSByZXN1bHQuZGF0YS5hY2NvdW50cy5pbmZvXHJcbiAgICAgICAgLypcclxuICAgICAgICBsZXQgaXNSZXNlbmRSZXF1ZXN0ID0gZmFsc2U7XHJcbiAgICAgICAgaWYgKHJlc3VsdC5kYXRhICYmIHJlc3VsdC5kYXRhLmFjY291bnRzICYmICFpc1NlbmRSZXFPbmNlKSB7XHJcbiAgICAgICAgICAgIHJlc3VsdC5kYXRhLmFjY291bnRzLmZvckVhY2goKGl0ZW0pID0+IHtcclxuICAgICAgICAgICAgICAgIGlmICghaXRlbS5pbmZvKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaXNSZXNlbmRSZXF1ZXN0ID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBpc1NlbmRSZXFPbmNlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICAqL1xyXG4gICAgLy8gICAgY2hlY2tSZXNwb25zZShyZXN1bHQsIGlzUmVzZW5kUmVxdWVzdCk7XHJcbiAgICAgICAgY2hlY2tSZXNwb25zZShyZXN1bHQpO1xyXG4gICAgICAgIGNvbnN0IGNmZyA9IHtcclxuICAgICAgICAgICAgZGVsZXRlQnRuQ2xzOiAnLmpzX2FjYy1kZWxldGUnLFxyXG4gICAgICAgICAgICB1cGRhdGVCdG5DbHM6ICcuanNfYWNjLXJlZnJlc2gnLFxyXG4gICAgICAgICAgICBlZGl0QnRuQ2xzOiAnLmpzX2FjYy1lZGl0J1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgc2V0dGluZ0J1dHRvbnNIYW5kbGVyKGNmZyk7XHJcbiAgICB9KS5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgIHZpZXdVdGlscy5zaG93SW5mb01lc3NhZ2UoJCgnLmVycm9yLW1zZycpLFxyXG4gICAgICAgICAgICAgICAgZXJyLnN0YXR1cyB8fCAnJyxcclxuICAgICAgICAgICAgICAgICfQndC1INC/0L7Qu9GD0YfQuNC70L7RgdGMINC30LDQs9GA0YPQt9C40YLRjCDQtNC+0YHRgtGD0L/QvdGL0LUgSW5zdGFncmFtINCw0LrQutCw0YPQvdGC0YsnKTtcclxuICAgICAgICB9LCAzMDAwKTtcclxuICAgICAgICAkKCcuc3Bpbm5lci1ib3gnKS5hZGRDbGFzcygnZC1ub25lJyk7XHJcbiAgICB9KTtcclxuXHJcbiAgICB3aW5kb3cuUHViU3ViLnN1YnNjcmliZShDT05TVC5ldmVudHMuaW5zdGFncmFtQWNjb3Vucy5JTlNUQUdSQU1fQUNDT1VOU19ORUVEX1JFRlJFU0gsIChldmVudE5hbWUsIGRhdGEpID0+IHtcclxuICAgICAgICByZWxvYWRMaXN0KCk7XHJcbiAgICB9KTtcclxuICAgIHdpbmRvdy5QdWJTdWIuc3Vic2NyaWJlKENPTlNULmV2ZW50cy5pbnN0YWdyYW1BY2NvdW5zLklOU1RBR1JBTV9BQ0NPVU5TX1JFTkRFUkVELCAoZXZlbnROYW1lLCBkYXRhKSA9PiB7XHJcbiAgICAgICAgY29uc3Qge2RhdGFBcnJheX0gPSBkYXRhO1xyXG4gICAgICAgIGRhdGFBcnJheS5mb3JFYWNoKGl0ZW0gPT4ge1xyXG4gICAgICAgICAgICBjb25zdCBhdmF0YXIgPSBpdGVtLmluZm8gJiYgaXRlbS5pbmZvLnByb2ZpbGVfcGljX3VybCB8fCBDT05TVC51c2VyLmRlZmF1bEF2YXRhcjtcclxuICAgICAgICAgICAgc2Vzc2lvblN0b3JhZ2Uuc2V0SXRlbShpdGVtLnVzZXJuYW1lLCBhdmF0YXIpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcbn1cclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2Jsb2Nrcy9pbnN0YWdyYW0tYWNjb3VudHMtbGlzdC9pbnN0YWdyYW0tYWNjb3VudHMtbGlzdC5qcyIsIi8vIGltcG9ydCAkIGZyb20gJ2pxdWVyeSc7XHJcbmltcG9ydCB7Q09OU1R9IGZyb20gJy4vY29uc3RzJztcclxuaW1wb3J0IE5ldHdvcmsgZnJvbSAnLi9uZXR3b3JrJztcclxuaW1wb3J0IENvb2tpZVN0b3JhZ2UgZnJvbSAnLi9jb29raWUnO1xyXG5cclxuY2xhc3MgVXNlckNvbnZlcnNhdGlvbiB7XHJcblxyXG4gICAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy5uZXR3b3JrID0gbmV3IE5ldHdvcmsoKTtcclxuICAgICAgICB0aGlzLmNvb2tpZVN0b3JhZ2UgPSBDb29raWVTdG9yYWdlO1xyXG4gICAgICAgIHRoaXMuc2V0dGluZ1Bvc3QgPSB7XHJcbiAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxyXG4gICAgICAgICAgICAgICAgJ0FjY2VwdCc6ICdhcHBsaWNhdGlvbi9qc29uJ1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuXHJcbiAgICBpc0xvZ2dlZEluKCkge1xyXG4gICAgICAgIHJldHVybiAhIXRoaXMuZ2V0VG9rZW4oKTtcclxuICAgIH1cclxuXHJcbiAgICBpc0VtYWlsQ29uZmlybWVkKCkge1xyXG4gICAgICAgIHJldHVybiAodGhpcy5jb29raWVTdG9yYWdlLmdldChDT05TVC5jb29raWVTdG9yYWdlLmVtYWlsQ29uZmlybWVkKSA9PT0gJ2NvbmZpcm1lZCcpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldFRva2VuKCkge1xyXG4gICAgICAgIGNvbnN0IGNvb2tpZVRva2VuID0gdGhpcy5jb29raWVTdG9yYWdlLmdldChDT05TVC5jb29raWVTdG9yYWdlLnRva2VuKTtcclxuICAgICAgICByZXR1cm4gY29va2llVG9rZW47XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0TWV0YWRhdGEodG9rZW4sIGNiRXJyb3IpIHtcclxuICAgICAgICByZXR1cm4gdGhpcy5uZXR3b3JrLnNlbmRSZXF1ZXN0KGAke0NPTlNULmdldFBhdGgoJ2luc3RhZ3JhbURpcmVjdF9nZXRNZXRhRGF0YScpfWAsIHtoZWFkZXJzOiB7J3Rva2VuJzogdGhpcy5nZXRUb2tlbigpfX0sIGNiRXJyb3IpO1xyXG4gICAgfVxyXG5cclxuICAgIGdldE1ldGFkYXRhRGV0YWlsVXNlcnMoZGV0YWlscywgY2JFcnJvcikge1xyXG4gICAgICAgIGNvbnN0IGN1cnNvciA9IChkZXRhaWxzLmN1cnNvcikgPyBgP2N1cnNvcj0ke2RldGFpbHMuY3Vyc29yfWAgOiAnJztcclxuICAgICAgICByZXR1cm4gdGhpcy5uZXR3b3JrLnNlbmRSZXF1ZXN0KGAke0NPTlNULmdldFBhdGgoJ2luc3RhZ3JhbURpcmVjdF9nZXRNZXRhRGF0YScpfS8ke2RldGFpbHMudXNlcm5hbWV9JHtjdXJzb3J9YCxcclxuICAgICAgICAge2hlYWRlcnM6IHsndG9rZW4nOiB0aGlzLmdldFRva2VuKCl9fSwgY2JFcnJvcik7XHJcbiAgICB9XHJcblxyXG4gICAgZ2V0TWV0YWRhdGFEZXRhaWxDb252ZXJzYXRpb24odG9rZW4sIGRldGFpbHMsIGNiRXJyb3IpIHtcclxuICAgICAgICBjb25zdCBjdXJzb3IgPSAoZGV0YWlscy5jdXJzb3IpID8gYD9jdXJzb3I9JHtkZXRhaWxzLmN1cnNvcn1gIDogJyc7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubmV0d29yay5zZW5kUmVxdWVzdChgJHtDT05TVC5nZXRQYXRoKCdpbnN0YWdyYW1EaXJlY3RfZ2V0TWV0YURhdGEnKX0vJHtkZXRhaWxzLnVzZXJuYW1lfS8ke2RldGFpbHMuY29udmVyc2F0aW9uSWR9JHtjdXJzb3J9YCxcclxuICAgICAgICAgICAge2hlYWRlcnM6IHt0b2tlbn19LCBjYkVycm9yKTtcclxuICAgIH1cclxuICAgIHBvc3RNZXRhZGF0YURldGFpbENvbnZlcnNhdGlvbih0b2tlbiwgZGV0YWlscywgY2JFcnJvcikge1xyXG4gICAgICAgIGNvbnN0IHNldHRpbmcgPSB7XHJcbiAgICAgICAgICAgIC4uLnRoaXMuc2V0dGluZ1Bvc3QsXHJcbiAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsndmFsdWUnOiBkZXRhaWxzLnZhbHVlfSksXHJcbiAgICAgICAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAgICAgICAgIC4uLnRoaXMuc2V0dGluZ1Bvc3QuaGVhZGVycyxcclxuICAgICAgICAgICAgICAgICd0b2tlbic6IHRoaXMuZ2V0VG9rZW4oKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICByZXR1cm4gdGhpcy5uZXR3b3JrLnNlbmRSZXF1ZXN0KGAke0NPTlNULmdldFBhdGgoJ2luc3RhZ3JhbURpcmVjdF9wb3N0TWVzc2FnZScpfS8ke2RldGFpbHMudXNlcm5hbWV9LyR7ZGV0YWlscy5jb252ZXJzYXRpb25JZH0vdGV4dGAsXHJcbiAgICAgICAgICAgIHNldHRpbmcsIGNiRXJyb3IpO1xyXG4gICAgfVxyXG4gICAgLy8gLS0tIFJlcXVlc3QgUGVuZGluZ1xyXG4gICAgZ2V0UmVxdWVzdFBlbmRpbmcodXNlcm5hbWUsIGNiRXJyb3IpIHtcclxuICAgICAgICAvLyBjb25zdCBjdXJzb3IgPSAoZGV0YWlscy5jdXJzb3IpID8gYD9jdXJzb3I9JHtkZXRhaWxzLmN1cnNvcn1gIDogJyc7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubmV0d29yay5zZW5kUmVxdWVzdChgJHtDT05TVC5nZXRQYXRoKCdpbnN0YWdyYW1EaXJlY3RfUmVxdWVzdFBlbmRpbmcnKX0vJHt1c2VybmFtZX1gLFxyXG4gICAgICAgIHtoZWFkZXJzOiB7J3Rva2VuJzogdGhpcy5nZXRUb2tlbigpfX0sIGNiRXJyb3IpO1xyXG4gICAgfVxyXG4gICAgcHV0UmVxdWVzdFBlbmRpbmcoY29uZmlybVVzZXJEYXRhLCBjYkVycm9yKSB7XHJcbiAgICAgICAgY29uc3Qgc2V0dGluZyA9IHtcclxuICAgICAgICAgICAgLi4udGhpcy5zZXR0aW5nUG9zdCxcclxuICAgICAgICAgICAgbWV0aG9kOiAnUFVUJyxcclxuICAgICAgICAgICAgaGVhZGVyczoge1xyXG4gICAgICAgICAgICAgICAgLi4udGhpcy5zZXR0aW5nUG9zdC5oZWFkZXJzLFxyXG4gICAgICAgICAgICAgICAgJ3Rva2VuJzogdGhpcy5nZXRUb2tlbigpXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9O1xyXG4gICAgICAgIGNvbnN0IHt1c2VybmFtZSwgY29udmVyc2F0aW9uSWR9ID0gY29uZmlybVVzZXJEYXRhO1xyXG4gICAgICAgIHJldHVybiB0aGlzLm5ldHdvcmsuc2VuZFJlcXVlc3QoYCR7Q09OU1QuZ2V0UGF0aCgnaW5zdGFncmFtRGlyZWN0X1JlcXVlc3RQZW5kaW5nJyl9LyR7dXNlcm5hbWV9LyR7Y29udmVyc2F0aW9uSWR9YCxcclxuICAgICAgICAgICAgc2V0dGluZywgY2JFcnJvcik7XHJcbiAgICB9XHJcbiAgICBkZWxSZXF1ZXN0UGVuZGluZyhjb25maXJtVXNlckRhdGEsIGNiRXJyb3IpIHtcclxuICAgICAgICBjb25zdCBzZXR0aW5nID0ge1xyXG4gICAgICAgICAgICBtZXRob2Q6ICdERUxFVEUnLFxyXG4gICAgICAgICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgICAgICAgICAuLi50aGlzLnNldHRpbmdQb3N0LmhlYWRlcnMsXHJcbiAgICAgICAgICAgICAgICAndG9rZW4nOiB0aGlzLmdldFRva2VuKClcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgY29uc3Qge3VzZXJuYW1lLCBjb252ZXJzYXRpb25JZH0gPSBjb25maXJtVXNlckRhdGE7XHJcbiAgICAgICAgcmV0dXJuIHRoaXMubmV0d29yay5zZW5kUmVxdWVzdChgJHtDT05TVC5nZXRQYXRoKCdpbnN0YWdyYW1EaXJlY3RfUmVxdWVzdFBlbmRpbmcnKX0vJHt1c2VybmFtZX0vJHtjb252ZXJzYXRpb25JZH1gLFxyXG4gICAgICAgICAgICBzZXR0aW5nLCBjYkVycm9yKTtcclxuICAgIH1cclxuXHJcbn1cclxuXHJcbmxldCB1c2VySW5zdGFuY2UgPSBudWxsO1xyXG5cclxuaWYgKCF1c2VySW5zdGFuY2UpIHtcclxuICAgIHVzZXJJbnN0YW5jZSA9IG5ldyBVc2VyQ29udmVyc2F0aW9uKCk7XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IHVzZXJJbnN0YW5jZTtcclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2NvbW1vbi9qcy1zZXJ2aWNlcy9hcGktdXNlci1kaXJlY3QuanMiLCIvKiFcbiAqIEVtb2ppb25lQXJlYSB2My4wLjBcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9tZXJ2aWNrL2Vtb2ppb25lYXJlYVxuICogQ29weXJpZ2h0IEFuZHJleSBJem1hbiBhbmQgb3RoZXIgY29udHJpYnV0b3JzXG4gKiBSZWxlYXNlZCB1bmRlciB0aGUgTUlUIGxpY2Vuc2VcbiAqIERhdGU6IDIwMTYtMDUtMDZUMTA6MzNaXG4gKi9cbihmdW5jdGlvbihkb2N1bWVudCwgd2luZG93LCAkKSB7XG4gICAgJ3VzZSBzdHJpY3QnO1xuXG4gICAgdmFyIHVuaXF1ZSA9IDA7XG4gICAgdmFyIGV2ZW50U3RvcmFnZSA9IHt9O1xuICAgIHZhciBwb3NzaWJsZUV2ZW50cyA9IHt9O1xuICAgIHZhciBlbW9qaW9uZSA9IHdpbmRvdy5lbW9qaW9uZTtcbiAgICB2YXIgcmVhZHlDYWxsYmFja3MgPSBbXTtcbiAgICBmdW5jdGlvbiBlbW9qaW9uZVJlYWR5IChmbikge1xuICAgICAgICBpZiAoZW1vamlvbmUpIHtcbiAgICAgICAgICAgIGZuKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZWFkeUNhbGxiYWNrcy5wdXNoKGZuKTtcbiAgICAgICAgfVxuICAgIH07XG4gICAgdmFyIGJsYW5rSW1nID0gJ2RhdGE6aW1hZ2UvZ2lmO2Jhc2U2NCxSMGxHT0RsaEFRQUJBSkgvQVAvLy93QUFBTURBd0FBQUFDSDVCQUVBQUFJQUxBQUFBQUFCQUFFQUFBSUNWQUVBT3c9PSc7XG4gICAgdmFyIHNsaWNlID0gW10uc2xpY2U7XG4gICAgdmFyIGNzc19jbGFzcyA9IFwiZW1vamlvbmVhcmVhXCI7XG4gICAgdmFyIGVtb2ppb25lU3VwcG9ydE1vZGUgPSAwO1xuICAgIGZ1bmN0aW9uIHRyaWdnZXIoc2VsZiwgZXZlbnQsIGFyZ3MpIHtcbiAgICAgICAgdmFyIHJlc3VsdCA9IHRydWUsIGogPSAxO1xuICAgICAgICBpZiAoZXZlbnQpIHtcbiAgICAgICAgICAgIGV2ZW50ID0gZXZlbnQudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICAgIGRvIHtcbiAgICAgICAgICAgICAgICB2YXIgX2V2ZW50ID0gaj09MSA/ICdAJyArIGV2ZW50IDogZXZlbnQ7XG4gICAgICAgICAgICAgICAgaWYgKGV2ZW50U3RvcmFnZVtzZWxmLmlkXVtfZXZlbnRdICYmIGV2ZW50U3RvcmFnZVtzZWxmLmlkXVtfZXZlbnRdLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAkLmVhY2goZXZlbnRTdG9yYWdlW3NlbGYuaWRdW19ldmVudF0sIGZ1bmN0aW9uIChpLCBmbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdCA9IGZuLmFwcGx5KHNlbGYsIGFyZ3N8fCBbXSkgIT09IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IHdoaWxlIChyZXN1bHQgJiYgISFqLS0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGF0dGFjaChzZWxmLCBlbGVtZW50LCBldmVudHMsIHRhcmdldCkge1xuICAgICAgICB0YXJnZXQgPSB0YXJnZXQgfHwgZnVuY3Rpb24gKGV2ZW50LCBjYWxsZXJFdmVudCkgeyByZXR1cm4gJChjYWxsZXJFdmVudC5jdXJyZW50VGFyZ2V0KSB9O1xuICAgICAgICAkLmVhY2goZXZlbnRzLCBmdW5jdGlvbihldmVudCwgbGluaykge1xuICAgICAgICAgICAgZXZlbnQgPSAkLmlzQXJyYXkoZXZlbnRzKSA/IGxpbmsgOiBldmVudDtcbiAgICAgICAgICAgIChwb3NzaWJsZUV2ZW50c1tzZWxmLmlkXVtsaW5rXSB8fCAocG9zc2libGVFdmVudHNbc2VsZi5pZF1bbGlua10gPSBbXSkpXG4gICAgICAgICAgICAgICAgLnB1c2goW2VsZW1lbnQsIGV2ZW50LCB0YXJnZXRdKTtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldFRlbXBsYXRlKHRlbXBsYXRlLCB1bmljb2RlLCBzaG9ydG5hbWUpIHtcbiAgICAgICAgcmV0dXJuIHRlbXBsYXRlXG4gICAgICAgICAgICAucmVwbGFjZSgne25hbWV9Jywgc2hvcnRuYW1lIHx8ICcnKVxuICAgICAgICAgICAgLnJlcGxhY2UoJ3tpbWd9JywgZW1vamlvbmUuaW1hZ2VQYXRoUE5HICsgKGVtb2ppb25lU3VwcG9ydE1vZGUgPCAyID8gdW5pY29kZS50b1VwcGVyQ2FzZSgpIDogdW5pY29kZSkgKyAnLnBuZycpXG4gICAgICAgICAgICAucmVwbGFjZSgne3VuaX0nLCB1bmljb2RlKVxuICAgICAgICAgICAgLnJlcGxhY2UoJ3thbHR9JywgZW1vamlvbmUuY29udmVydCh1bmljb2RlKSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHNob3J0bmFtZVRvKHN0ciwgdGVtcGxhdGUsIGNsZWFyKSB7XG4gICAgICAgIHJldHVybiBzdHIucmVwbGFjZSgvOj9cXCs/W1xcd19cXC1dKzo/L2csIGZ1bmN0aW9uKHNob3J0bmFtZSkge1xuICAgICAgICAgICAgc2hvcnRuYW1lID0gXCI6XCIgKyBzaG9ydG5hbWUucmVwbGFjZSgvOiQvLCcnKS5yZXBsYWNlKC9eOi8sJycpICsgXCI6XCI7XG4gICAgICAgICAgICB2YXIgdW5pY29kZSA9IGVtb2ppb25lLmVtb2ppb25lTGlzdFtzaG9ydG5hbWVdO1xuICAgICAgICAgICAgaWYgKHVuaWNvZGUpIHtcbiAgICAgICAgICAgICAgICBpZiAoZW1vamlvbmVTdXBwb3J0TW9kZSA+IDMpIHVuaWNvZGUgPSB1bmljb2RlLnVuaWNvZGU7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGdldFRlbXBsYXRlKHRlbXBsYXRlLCB1bmljb2RlW3VuaWNvZGUubGVuZ3RoLTFdLCBzaG9ydG5hbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGNsZWFyID8gJycgOiBzaG9ydG5hbWU7XG4gICAgICAgIH0pO1xuICAgIH07XG4gICAgZnVuY3Rpb24gcGFzdGVIdG1sQXRDYXJldChodG1sKSB7XG4gICAgICAgIHZhciBzZWwsIHJhbmdlO1xuICAgICAgICBpZiAod2luZG93LmdldFNlbGVjdGlvbikge1xuICAgICAgICAgICAgc2VsID0gd2luZG93LmdldFNlbGVjdGlvbigpO1xuICAgICAgICAgICAgaWYgKHNlbC5nZXRSYW5nZUF0ICYmIHNlbC5yYW5nZUNvdW50KSB7XG4gICAgICAgICAgICAgICAgcmFuZ2UgPSBzZWwuZ2V0UmFuZ2VBdCgwKTtcbiAgICAgICAgICAgICAgICByYW5nZS5kZWxldGVDb250ZW50cygpO1xuICAgICAgICAgICAgICAgIHZhciBlbCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XG4gICAgICAgICAgICAgICAgZWwuaW5uZXJIVE1MID0gaHRtbDtcbiAgICAgICAgICAgICAgICB2YXIgZnJhZyA9IGRvY3VtZW50LmNyZWF0ZURvY3VtZW50RnJhZ21lbnQoKSwgbm9kZSwgbGFzdE5vZGU7XG4gICAgICAgICAgICAgICAgd2hpbGUgKCAobm9kZSA9IGVsLmZpcnN0Q2hpbGQpICkge1xuICAgICAgICAgICAgICAgICAgICBsYXN0Tm9kZSA9IGZyYWcuYXBwZW5kQ2hpbGQobm9kZSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJhbmdlLmluc2VydE5vZGUoZnJhZyk7XG4gICAgICAgICAgICAgICAgaWYgKGxhc3ROb2RlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJhbmdlID0gcmFuZ2UuY2xvbmVSYW5nZSgpO1xuICAgICAgICAgICAgICAgICAgICByYW5nZS5zZXRTdGFydEFmdGVyKGxhc3ROb2RlKTtcbiAgICAgICAgICAgICAgICAgICAgcmFuZ2UuY29sbGFwc2UodHJ1ZSk7XG4gICAgICAgICAgICAgICAgICAgIHNlbC5yZW1vdmVBbGxSYW5nZXMoKTtcbiAgICAgICAgICAgICAgICAgICAgc2VsLmFkZFJhbmdlKHJhbmdlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSBpZiAoZG9jdW1lbnQuc2VsZWN0aW9uICYmIGRvY3VtZW50LnNlbGVjdGlvbi50eXBlICE9IFwiQ29udHJvbFwiKSB7XG4gICAgICAgICAgICBkb2N1bWVudC5zZWxlY3Rpb24uY3JlYXRlUmFuZ2UoKS5wYXN0ZUhUTUwoaHRtbCk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgdmFyIGRlZmF1bHRfb3B0aW9ucyA9IHtcbiAgICAgICAgYXR0cmlidXRlczoge1xuICAgICAgICAgICAgZGlyICAgICAgICAgICAgICAgOiBcImx0clwiLFxuICAgICAgICAgICAgc3BlbGxjaGVjayAgICAgICAgOiBmYWxzZSxcbiAgICAgICAgICAgIGF1dG9jb21wbGV0ZSAgICAgIDogXCJvZmZcIixcbiAgICAgICAgICAgIGF1dG9jb3JyZWN0ICAgICAgIDogXCJvZmZcIixcbiAgICAgICAgICAgIGF1dG9jYXBpdGFsaXplICAgIDogXCJvZmZcIixcbiAgICAgICAgfSxcbiAgICAgICAgcGxhY2Vob2xkZXIgICAgICAgOiBudWxsLFxuICAgICAgICBjb250YWluZXIgICAgICAgICA6IG51bGwsXG4gICAgICAgIGhpZGVTb3VyY2UgICAgICAgIDogdHJ1ZSxcbiAgICAgICAgc2hvcnRuYW1lcyAgICAgICAgOiB0cnVlLFxuICAgICAgICBzcHJpdGUgICAgICAgICAgICA6IHRydWUsXG4gICAgICAgIHBpY2tlclBvc2l0aW9uICAgIDogXCJ0b3BcIiwgLy8gdG9wIHwgYm90dG9tIHwgcmlnaHRcbiAgICAgICAgZmlsdGVyc1Bvc2l0aW9uICAgOiBcInRvcFwiLCAvLyB0b3AgfCBib3R0b21cbiAgICAgICAgaGlkZVBpY2tlck9uQmx1ciAgOiB0cnVlLFxuICAgICAgICBidXR0b25UaXRsZSAgICAgICA6IFwiVXNlIHRoZSBUQUIga2V5IHRvIGluc2VydCBlbW9qaSBmYXN0ZXJcIixcbiAgICAgICAgdG9uZXMgICAgICAgICAgICAgOiB0cnVlLFxuICAgICAgICB0b25lc1N0eWxlICAgICAgICA6IFwiYnVsbGV0XCIsIC8vIGJ1bGxldCB8IHJhZGlvIHwgc3F1YXJlIHwgY2hlY2tib3hcbiAgICAgICAgaW5saW5lICAgICAgICAgICAgOiBudWxsLCAvLyBudWxsIC0gYXV0b1xuICAgICAgICBzYXZlRW1vamlzQXMgICAgICA6IFwidW5pY29kZVwiLCAvLyB1bmljb2RlIHwgc2hvcnRuYW1lIHwgaW1hZ2VcbiAgICAgICAgc2hvcnRjdXRzICAgICAgICAgOiB0cnVlLFxuICAgICAgICBhdXRvY29tcGxldGUgICAgICA6IHRydWUsXG4gICAgICAgIGF1dG9jb21wbGV0ZVRvbmVzIDogZmFsc2UsXG5cbiAgICAgICAgZmlsdGVyczoge1xuICAgICAgICAgICAgdG9uZXM6IHtcbiAgICAgICAgICAgICAgICB0aXRsZTogXCJEaXZlcnNpdHlcIixcbiAgICAgICAgICAgICAgICBlbW9qaTogXCJzYW50YSBydW5uZXIgc3VyZmVyIHN3aW1tZXIgbGlmdGVyIGVhciBub3NlIHBvaW50X3VwXzIgcG9pbnRfZG93biBwb2ludF9sZWZ0IHBvaW50X3JpZ2h0IHB1bmNoIFwiICtcbiAgICAgICAgICAgICAgICBcIndhdmUgb2tfaGFuZCB0aHVtYnN1cCB0aHVtYnNkb3duIGNsYXAgb3Blbl9oYW5kcyBib3kgZ2lybCBtYW4gd29tYW4gY29wIGJyaWRlX3dpdGhfdmVpbCBwZXJzb25fd2l0aF9ibG9uZF9oYWlyIFwiICtcbiAgICAgICAgICAgICAgICBcIm1hbl93aXRoX2d1YV9waV9tYW8gbWFuX3dpdGhfdHVyYmFuIG9sZGVyX21hbiBncmFuZG1hIGJhYnkgY29uc3RydWN0aW9uX3dvcmtlciBwcmluY2VzcyBhbmdlbCBcIiArXG4gICAgICAgICAgICAgICAgXCJpbmZvcm1hdGlvbl9kZXNrX3BlcnNvbiBndWFyZHNtYW4gZGFuY2VyIG5haWxfY2FyZSBtYXNzYWdlIGhhaXJjdXQgbXVzY2xlIHNweSBoYW5kX3NwbGF5ZWQgbWlkZGxlX2ZpbmdlciBcIiArXG4gICAgICAgICAgICAgICAgXCJ2dWxjYW4gbm9fZ29vZCBva193b21hbiBib3cgcmFpc2luZ19oYW5kIHJhaXNlZF9oYW5kcyBwZXJzb25fZnJvd25pbmcgcGVyc29uX3dpdGhfcG91dGluZ19mYWNlIHByYXkgcm93Ym9hdCBcIiArXG4gICAgICAgICAgICAgICAgXCJiaWN5Y2xpc3QgbW91bnRhaW5fYmljeWNsaXN0IHdhbGtpbmcgYmF0aCBtZXRhbCBwb2ludF91cCBiYXNrZXRiYWxsX3BsYXllciBmaXN0IHJhaXNlZF9oYW5kIHYgd3JpdGluZ19oYW5kXCJcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIHNtaWxleXNfcGVvcGxlOiB7XG4gICAgICAgICAgICAgICAgaWNvbjogXCJ5dW1cIixcbiAgICAgICAgICAgICAgICB0aXRsZTogXCJTbWlsZXlzICYgUGVvcGxlXCIsXG4gICAgICAgICAgICAgICAgZW1vamk6IFwiZ3Jpbm5pbmcgZ3JpbWFjaW5nIGdyaW4gam95IHNtaWxleSBzbWlsZSBzd2VhdF9zbWlsZSBsYXVnaGluZyBpbm5vY2VudCB3aW5rIGJsdXNoIHNsaWdodF9zbWlsZSBcIiArXG4gICAgICAgICAgICAgICAgXCJ1cHNpZGVfZG93biByZWxheGVkIHl1bSByZWxpZXZlZCBoZWFydF9leWVzIGtpc3NpbmdfaGVhcnQga2lzc2luZyBraXNzaW5nX3NtaWxpbmdfZXllcyBcIiArXG4gICAgICAgICAgICAgICAgXCJraXNzaW5nX2Nsb3NlZF9leWVzIHN0dWNrX291dF90b25ndWVfd2lua2luZ19leWUgc3R1Y2tfb3V0X3Rvbmd1ZV9jbG9zZWRfZXllcyBzdHVja19vdXRfdG9uZ3VlIFwiICtcbiAgICAgICAgICAgICAgICBcIm1vbmV5X21vdXRoIG5lcmQgc3VuZ2xhc3NlcyBodWdnaW5nIHNtaXJrIG5vX21vdXRoIG5ldXRyYWxfZmFjZSBleHByZXNzaW9ubGVzcyB1bmFtdXNlZCByb2xsaW5nX2V5ZXMgXCIgK1xuICAgICAgICAgICAgICAgIFwidGhpbmtpbmcgZmx1c2hlZCBkaXNhcHBvaW50ZWQgd29ycmllZCBhbmdyeSByYWdlIHBlbnNpdmUgY29uZnVzZWQgc2xpZ2h0X2Zyb3duIGZyb3duaW5nMiBwZXJzZXZlcmUgXCIgK1xuICAgICAgICAgICAgICAgIFwiY29uZm91bmRlZCB0aXJlZF9mYWNlIHdlYXJ5IHRyaXVtcGggb3Blbl9tb3V0aCBzY3JlYW0gZmVhcmZ1bCBjb2xkX3N3ZWF0IGh1c2hlZCBmcm93bmluZyBhbmd1aXNoZWQgXCIgK1xuICAgICAgICAgICAgICAgIFwiY3J5IGRpc2FwcG9pbnRlZF9yZWxpZXZlZCBzbGVlcHkgc3dlYXQgc29iIGRpenp5X2ZhY2UgYXN0b25pc2hlZCB6aXBwZXJfbW91dGggbWFzayB0aGVybW9tZXRlcl9mYWNlIFwiICtcbiAgICAgICAgICAgICAgICBcImhlYWRfYmFuZGFnZSBzbGVlcGluZyB6enogcG9vcCBzbWlsaW5nX2ltcCBpbXAgamFwYW5lc2Vfb2dyZSBqYXBhbmVzZV9nb2JsaW4gc2t1bGwgZ2hvc3QgYWxpZW4gcm9ib3QgXCIgK1xuICAgICAgICAgICAgICAgIFwic21pbGV5X2NhdCBzbWlsZV9jYXQgam95X2NhdCBoZWFydF9leWVzX2NhdCBzbWlya19jYXQga2lzc2luZ19jYXQgc2NyZWFtX2NhdCBjcnlpbmdfY2F0X2ZhY2UgXCIgK1xuICAgICAgICAgICAgICAgIFwicG91dGluZ19jYXQgcmFpc2VkX2hhbmRzIGNsYXAgd2F2ZSB0aHVtYnN1cCB0aHVtYnNkb3duIHB1bmNoIGZpc3QgdiBva19oYW5kIHJhaXNlZF9oYW5kIG9wZW5faGFuZHMgXCIgK1xuICAgICAgICAgICAgICAgIFwibXVzY2xlIHByYXkgcG9pbnRfdXAgcG9pbnRfdXBfMiBwb2ludF9kb3duIHBvaW50X2xlZnQgcG9pbnRfcmlnaHQgbWlkZGxlX2ZpbmdlciBoYW5kX3NwbGF5ZWQgbWV0YWwgXCIgK1xuICAgICAgICAgICAgICAgIFwidnVsY2FuIHdyaXRpbmdfaGFuZCBuYWlsX2NhcmUgbGlwcyB0b25ndWUgZWFyIG5vc2UgZXllIGV5ZXMgYnVzdF9pbl9zaWxob3VldHRlIGJ1c3RzX2luX3NpbGhvdWV0dGUgXCIgK1xuICAgICAgICAgICAgICAgIFwic3BlYWtpbmdfaGVhZCBiYWJ5IGJveSBnaXJsIG1hbiB3b21hbiBwZXJzb25fd2l0aF9ibG9uZF9oYWlyIG9sZGVyX21hbiBvbGRlcl93b21hbiBtYW5fd2l0aF9ndWFfcGlfbWFvIFwiICtcbiAgICAgICAgICAgICAgICBcIm1hbl93aXRoX3R1cmJhbiBjb3AgY29uc3RydWN0aW9uX3dvcmtlciBndWFyZHNtYW4gc3B5IHNhbnRhIGFuZ2VsIHByaW5jZXNzIGJyaWRlX3dpdGhfdmVpbCB3YWxraW5nIFwiICtcbiAgICAgICAgICAgICAgICBcInJ1bm5lciBkYW5jZXIgZGFuY2VycyBjb3VwbGUgdHdvX21lbl9ob2xkaW5nX2hhbmRzIHR3b193b21lbl9ob2xkaW5nX2hhbmRzIGJvdyBpbmZvcm1hdGlvbl9kZXNrX3BlcnNvbiBcIiArXG4gICAgICAgICAgICAgICAgXCJub19nb29kIG9rX3dvbWFuIHJhaXNpbmdfaGFuZCBwZXJzb25fd2l0aF9wb3V0aW5nX2ZhY2UgcGVyc29uX2Zyb3duaW5nIGhhaXJjdXQgbWFzc2FnZSBjb3VwbGVfd2l0aF9oZWFydCBcIiArXG4gICAgICAgICAgICAgICAgXCJjb3VwbGVfd3cgY291cGxlX21tIGNvdXBsZWtpc3Mga2lzc193dyBraXNzX21tIGZhbWlseSBmYW1pbHlfbXdnIGZhbWlseV9td2diIGZhbWlseV9td2JiIGZhbWlseV9td2dnIFwiICtcbiAgICAgICAgICAgICAgICBcImZhbWlseV93d2IgZmFtaWx5X3d3ZyBmYW1pbHlfd3dnYiBmYW1pbHlfd3diYiBmYW1pbHlfd3dnZyBmYW1pbHlfbW1iIGZhbWlseV9tbWcgZmFtaWx5X21tZ2IgZmFtaWx5X21tYmIgXCIgK1xuICAgICAgICAgICAgICAgIFwiZmFtaWx5X21tZ2cgd29tYW5zX2Nsb3RoZXMgc2hpcnQgamVhbnMgbmVja3RpZSBkcmVzcyBiaWtpbmkga2ltb25vIGxpcHN0aWNrIGtpc3MgZm9vdHByaW50cyBoaWdoX2hlZWwgXCIgK1xuICAgICAgICAgICAgICAgIFwic2FuZGFsIGJvb3QgbWFuc19zaG9lIGF0aGxldGljX3Nob2Ugd29tYW5zX2hhdCB0b3BoYXQgaGVsbWV0X3dpdGhfY3Jvc3MgbW9ydGFyX2JvYXJkIGNyb3duIHNjaG9vbF9zYXRjaGVsIFwiICtcbiAgICAgICAgICAgICAgICBcInBvdWNoIHB1cnNlIGhhbmRiYWcgYnJpZWZjYXNlIGV5ZWdsYXNzZXMgZGFya19zdW5nbGFzc2VzIHJpbmcgY2xvc2VkX3VtYnJlbGxhXCJcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIGFuaW1hbHNfbmF0dXJlOiB7XG4gICAgICAgICAgICAgICAgaWNvbjogXCJoYW1zdGVyXCIsXG4gICAgICAgICAgICAgICAgdGl0bGU6IFwiQW5pbWFscyAmIE5hdHVyZVwiLFxuICAgICAgICAgICAgICAgIGVtb2ppOiBcImRvZyBjYXQgbW91c2UgaGFtc3RlciByYWJiaXQgYmVhciBwYW5kYV9mYWNlIGtvYWxhIHRpZ2VyIGxpb25fZmFjZSBjb3cgcGlnIHBpZ19ub3NlIGZyb2cgXCIgK1xuICAgICAgICAgICAgICAgIFwib2N0b3B1cyBtb25rZXlfZmFjZSBzZWVfbm9fZXZpbCBoZWFyX25vX2V2aWwgc3BlYWtfbm9fZXZpbCBtb25rZXkgY2hpY2tlbiBwZW5ndWluIGJpcmQgYmFieV9jaGljayBcIiArXG4gICAgICAgICAgICAgICAgXCJoYXRjaGluZ19jaGljayBoYXRjaGVkX2NoaWNrIHdvbGYgYm9hciBob3JzZSB1bmljb3JuIGJlZSBidWcgc25haWwgYmVldGxlIGFudCBzcGlkZXIgc2NvcnBpb24gY3JhYiBcIiArXG4gICAgICAgICAgICAgICAgXCJzbmFrZSB0dXJ0bGUgdHJvcGljYWxfZmlzaCBmaXNoIGJsb3dmaXNoIGRvbHBoaW4gd2hhbGUgd2hhbGUyIGNyb2NvZGlsZSBsZW9wYXJkIHRpZ2VyMiB3YXRlcl9idWZmYWxvIFwiICtcbiAgICAgICAgICAgICAgICBcIm94IGNvdzIgZHJvbWVkYXJ5X2NhbWVsIGNhbWVsIGVsZXBoYW50IGdvYXQgcmFtIHNoZWVwIHJhY2Vob3JzZSBwaWcyIHJhdCBtb3VzZTIgcm9vc3RlciB0dXJrZXkgZG92ZSBcIiArXG4gICAgICAgICAgICAgICAgXCJkb2cyIHBvb2RsZSBjYXQyIHJhYmJpdDIgY2hpcG11bmsgZmVldCBkcmFnb24gZHJhZ29uX2ZhY2UgY2FjdHVzIGNocmlzdG1hc190cmVlIGV2ZXJncmVlbl90cmVlIFwiICtcbiAgICAgICAgICAgICAgICBcImRlY2lkdW91c190cmVlIHBhbG1fdHJlZSBzZWVkbGluZyBoZXJiIHNoYW1yb2NrIGZvdXJfbGVhZl9jbG92ZXIgYmFtYm9vIHRhbmFiYXRhX3RyZWUgbGVhdmVzIFwiICtcbiAgICAgICAgICAgICAgICBcImZhbGxlbl9sZWFmIG1hcGxlX2xlYWYgZWFyX29mX3JpY2UgaGliaXNjdXMgc3VuZmxvd2VyIHJvc2UgdHVsaXAgYmxvc3NvbSBjaGVycnlfYmxvc3NvbSBib3VxdWV0IFwiICtcbiAgICAgICAgICAgICAgICBcIm11c2hyb29tIGNoZXN0bnV0IGphY2tfb19sYW50ZXJuIHNoZWxsIHNwaWRlcl93ZWIgZWFydGhfYW1lcmljYXMgZWFydGhfYWZyaWNhIGVhcnRoX2FzaWEgZnVsbF9tb29uIFwiICtcbiAgICAgICAgICAgICAgICBcIndhbmluZ19naWJib3VzX21vb24gbGFzdF9xdWFydGVyX21vb24gd2FuaW5nX2NyZXNjZW50X21vb24gbmV3X21vb24gd2F4aW5nX2NyZXNjZW50X21vb24gXCIgK1xuICAgICAgICAgICAgICAgIFwiZmlyc3RfcXVhcnRlcl9tb29uIHdheGluZ19naWJib3VzX21vb24gbmV3X21vb25fd2l0aF9mYWNlIGZ1bGxfbW9vbl93aXRoX2ZhY2UgZmlyc3RfcXVhcnRlcl9tb29uX3dpdGhfZmFjZSBcIiArXG4gICAgICAgICAgICAgICAgXCJsYXN0X3F1YXJ0ZXJfbW9vbl93aXRoX2ZhY2Ugc3VuX3dpdGhfZmFjZSBjcmVzY2VudF9tb29uIHN0YXIgc3RhcjIgZGl6enkgc3BhcmtsZXMgY29tZXQgc3VubnkgXCIgK1xuICAgICAgICAgICAgICAgIFwid2hpdGVfc3VuX3NtYWxsX2Nsb3VkIHBhcnRseV9zdW5ueSB3aGl0ZV9zdW5fY2xvdWQgd2hpdGVfc3VuX3JhaW5fY2xvdWQgY2xvdWQgY2xvdWRfcmFpbiBcIiArXG4gICAgICAgICAgICAgICAgXCJ0aHVuZGVyX2Nsb3VkX3JhaW4gY2xvdWRfbGlnaHRuaW5nIHphcCBmaXJlIGJvb20gc25vd2ZsYWtlIGNsb3VkX3Nub3cgc25vd21hbjIgc25vd21hbiB3aW5kX2Jsb3dpbmdfZmFjZSBcIiArXG4gICAgICAgICAgICAgICAgXCJkYXNoIGNsb3VkX3Rvcm5hZG8gZm9nIHVtYnJlbGxhMiB1bWJyZWxsYSBkcm9wbGV0IHN3ZWF0X2Ryb3BzIG9jZWFuXCJcbiAgICAgICAgICAgIH0sXG5cbiAgICAgICAgICAgIGZvb2RfZHJpbms6IHtcbiAgICAgICAgICAgICAgICBpY29uOiBcInBpenphXCIsXG4gICAgICAgICAgICAgICAgdGl0bGU6IFwiRm9vZCAmIERyaW5rXCIsXG4gICAgICAgICAgICAgICAgZW1vamk6IFwiZ3JlZW5fYXBwbGUgYXBwbGUgcGVhciB0YW5nZXJpbmUgbGVtb24gYmFuYW5hIHdhdGVybWVsb24gZ3JhcGVzIHN0cmF3YmVycnkgbWVsb24gY2hlcnJpZXMgcGVhY2ggXCIgK1xuICAgICAgICAgICAgICAgIFwicGluZWFwcGxlIHRvbWF0byBlZ2dwbGFudCBob3RfcGVwcGVyIGNvcm4gc3dlZXRfcG90YXRvIGhvbmV5X3BvdCBicmVhZCBjaGVlc2UgcG91bHRyeV9sZWcgbWVhdF9vbl9ib25lIFwiICtcbiAgICAgICAgICAgICAgICBcImZyaWVkX3NocmltcCBlZ2cgaGFtYnVyZ2VyIGZyaWVzIGhvdGRvZyBwaXp6YSBzcGFnaGV0dGkgdGFjbyBidXJyaXRvIHJhbWVuIHN0ZXcgZmlzaF9jYWtlIHN1c2hpIGJlbnRvIFwiICtcbiAgICAgICAgICAgICAgICBcImN1cnJ5IHJpY2VfYmFsbCByaWNlIHJpY2VfY3JhY2tlciBvZGVuIGRhbmdvIHNoYXZlZF9pY2UgaWNlX2NyZWFtIGljZWNyZWFtIGNha2UgYmlydGhkYXkgY3VzdGFyZCBjYW5keSBcIiArXG4gICAgICAgICAgICAgICAgXCJsb2xsaXBvcCBjaG9jb2xhdGVfYmFyIHBvcGNvcm4gZG91Z2hudXQgY29va2llIGJlZXIgYmVlcnMgd2luZV9nbGFzcyBjb2NrdGFpbCB0cm9waWNhbF9kcmluayBjaGFtcGFnbmUgXCIgK1xuICAgICAgICAgICAgICAgIFwic2FrZSB0ZWEgY29mZmVlIGJhYnlfYm90dGxlIGZvcmtfYW5kX2tuaWZlIGZvcmtfa25pZmVfcGxhdGVcIlxuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgYWN0aXZpdHk6IHtcbiAgICAgICAgICAgICAgICBpY29uOiBcImJhc2tldGJhbGxcIixcbiAgICAgICAgICAgICAgICB0aXRsZTogXCJBY3Rpdml0eVwiLFxuICAgICAgICAgICAgICAgIGVtb2ppOiBcInNvY2NlciBiYXNrZXRiYWxsIGZvb3RiYWxsIGJhc2ViYWxsIHRlbm5pcyB2b2xsZXliYWxsIHJ1Z2J5X2Zvb3RiYWxsIDhiYWxsIGdvbGYgZ29sZmVyIHBpbmdfcG9uZyBcIiArXG4gICAgICAgICAgICAgICAgXCJiYWRtaW50b24gaG9ja2V5IGZpZWxkX2hvY2tleSBjcmlja2V0IHNraSBza2llciBzbm93Ym9hcmRlciBpY2Vfc2thdGUgYm93X2FuZF9hcnJvdyBmaXNoaW5nX3BvbGVfYW5kX2Zpc2ggXCIgK1xuICAgICAgICAgICAgICAgIFwicm93Ym9hdCBzd2ltbWVyIHN1cmZlciBiYXRoIGJhc2tldGJhbGxfcGxheWVyIGxpZnRlciBiaWN5Y2xpc3QgbW91bnRhaW5fYmljeWNsaXN0IGhvcnNlX3JhY2luZyBsZXZpdGF0ZSBcIiArXG4gICAgICAgICAgICAgICAgXCJ0cm9waHkgcnVubmluZ19zaGlydF93aXRoX3Nhc2ggbWVkYWwgbWlsaXRhcnlfbWVkYWwgcmVtaW5kZXJfcmliYm9uIHJvc2V0dGUgdGlja2V0IHRpY2tldHMgcGVyZm9ybWluZ19hcnRzIFwiICtcbiAgICAgICAgICAgICAgICBcImFydCBjaXJjdXNfdGVudCBtaWNyb3Bob25lIGhlYWRwaG9uZXMgbXVzaWNhbF9zY29yZSBtdXNpY2FsX2tleWJvYXJkIHNheG9waG9uZSB0cnVtcGV0IGd1aXRhciB2aW9saW4gXCIgK1xuICAgICAgICAgICAgICAgIFwiY2xhcHBlciB2aWRlb19nYW1lIHNwYWNlX2ludmFkZXIgZGFydCBnYW1lX2RpZSBzbG90X21hY2hpbmUgYm93bGluZ1wiXG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICB0cmF2ZWxfcGxhY2VzOiB7XG4gICAgICAgICAgICAgICAgaWNvbjogXCJyb2NrZXRcIixcbiAgICAgICAgICAgICAgICB0aXRsZTogXCJUcmF2ZWwgJiBQbGFjZXNcIixcbiAgICAgICAgICAgICAgICBlbW9qaTogXCJyZWRfY2FyIHRheGkgYmx1ZV9jYXIgYnVzIHRyb2xsZXlidXMgcmFjZV9jYXIgcG9saWNlX2NhciBhbWJ1bGFuY2UgZmlyZV9lbmdpbmUgbWluaWJ1cyB0cnVjayBcIiArXG4gICAgICAgICAgICAgICAgXCJhcnRpY3VsYXRlZF9sb3JyeSB0cmFjdG9yIG1vdG9yY3ljbGUgYmlrZSByb3RhdGluZ19saWdodCBvbmNvbWluZ19wb2xpY2VfY2FyIG9uY29taW5nX2J1cyBcIiArXG4gICAgICAgICAgICAgICAgXCJvbmNvbWluZ19hdXRvbW9iaWxlIG9uY29taW5nX3RheGkgYWVyaWFsX3RyYW13YXkgbW91bnRhaW5fY2FibGV3YXkgc3VzcGVuc2lvbl9yYWlsd2F5IHJhaWx3YXlfY2FyIFwiICtcbiAgICAgICAgICAgICAgICBcInRyYWluIG1vbm9yYWlsIGJ1bGxldHRyYWluX3NpZGUgYnVsbGV0dHJhaW5fZnJvbnQgbGlnaHRfcmFpbCBtb3VudGFpbl9yYWlsd2F5IHN0ZWFtX2xvY29tb3RpdmUgdHJhaW4yIFwiICtcbiAgICAgICAgICAgICAgICBcIm1ldHJvIHRyYW0gc3RhdGlvbiBoZWxpY29wdGVyIGFpcnBsYW5lX3NtYWxsIGFpcnBsYW5lIGFpcnBsYW5lX2RlcGFydHVyZSBhaXJwbGFuZV9hcnJpdmluZyBzYWlsYm9hdCBcIiArXG4gICAgICAgICAgICAgICAgXCJtb3RvcmJvYXQgc3BlZWRib2F0IGZlcnJ5IGNydWlzZV9zaGlwIHJvY2tldCBzYXRlbGxpdGVfb3JiaXRhbCBzZWF0IGFuY2hvciBjb25zdHJ1Y3Rpb24gZnVlbHB1bXAgYnVzc3RvcCBcIiArXG4gICAgICAgICAgICAgICAgXCJ2ZXJ0aWNhbF90cmFmZmljX2xpZ2h0IHRyYWZmaWNfbGlnaHQgY2hlY2tlcmVkX2ZsYWcgc2hpcCBmZXJyaXNfd2hlZWwgcm9sbGVyX2NvYXN0ZXIgY2Fyb3VzZWxfaG9yc2UgXCIgK1xuICAgICAgICAgICAgICAgIFwiY29uc3RydWN0aW9uX3NpdGUgZm9nZ3kgdG9reW9fdG93ZXIgZmFjdG9yeSBmb3VudGFpbiByaWNlX3NjZW5lIG1vdW50YWluIG1vdW50YWluX3Nub3cgbW91bnRfZnVqaSB2b2xjYW5vIFwiICtcbiAgICAgICAgICAgICAgICBcImphcGFuIGNhbXBpbmcgdGVudCBwYXJrIG1vdG9yd2F5IHJhaWx3YXlfdHJhY2sgc3VucmlzZSBzdW5yaXNlX292ZXJfbW91bnRhaW5zIGRlc2VydCBiZWFjaCBpc2xhbmQgXCIgK1xuICAgICAgICAgICAgICAgIFwiY2l0eV9zdW5zZXQgY2l0eV9kdXNrIGNpdHlzY2FwZSBuaWdodF93aXRoX3N0YXJzIGJyaWRnZV9hdF9uaWdodCBtaWxreV93YXkgc3RhcnMgc3BhcmtsZXIgZmlyZXdvcmtzIFwiICtcbiAgICAgICAgICAgICAgICBcInJhaW5ib3cgaG9tZXMgZXVyb3BlYW5fY2FzdGxlIGphcGFuZXNlX2Nhc3RsZSBzdGFkaXVtIHN0YXR1ZV9vZl9saWJlcnR5IGhvdXNlIGhvdXNlX3dpdGhfZ2FyZGVuIFwiICtcbiAgICAgICAgICAgICAgICBcImhvdXNlX2FiYW5kb25lZCBvZmZpY2UgZGVwYXJ0bWVudF9zdG9yZSBwb3N0X29mZmljZSBldXJvcGVhbl9wb3N0X29mZmljZSBob3NwaXRhbCBiYW5rIGhvdGVsIFwiICtcbiAgICAgICAgICAgICAgICBcImNvbnZlbmllbmNlX3N0b3JlIHNjaG9vbCBsb3ZlX2hvdGVsIHdlZGRpbmcgY2xhc3NpY2FsX2J1aWxkaW5nIGNodXJjaCBtb3NxdWUgc3luYWdvZ3VlIGthYWJhIHNoaW50b19zaHJpbmVcIlxuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgb2JqZWN0czoge1xuICAgICAgICAgICAgICAgIGljb246IFwiYnVsYlwiLFxuICAgICAgICAgICAgICAgIHRpdGxlOiBcIk9iamVjdHNcIixcbiAgICAgICAgICAgICAgICBlbW9qaTogXCJ3YXRjaCBpcGhvbmUgY2FsbGluZyBjb21wdXRlciBrZXlib2FyZCBkZXNrdG9wIHByaW50ZXIgbW91c2VfdGhyZWVfYnV0dG9uIHRyYWNrYmFsbCBqb3lzdGljayBcIiArXG4gICAgICAgICAgICAgICAgXCJjb21wcmVzc2lvbiBtaW5pZGlzYyBmbG9wcHlfZGlzayBjZCBkdmQgdmhzIGNhbWVyYSBjYW1lcmFfd2l0aF9mbGFzaCB2aWRlb19jYW1lcmEgbW92aWVfY2FtZXJhIHByb2plY3RvciBcIiArXG4gICAgICAgICAgICAgICAgXCJmaWxtX2ZyYW1lcyB0ZWxlcGhvbmVfcmVjZWl2ZXIgdGVsZXBob25lIHBhZ2VyIGZheCB0diByYWRpbyBtaWNyb3Bob25lMiBsZXZlbF9zbGlkZXIgY29udHJvbF9rbm9icyBcIiArXG4gICAgICAgICAgICAgICAgXCJzdG9wd2F0Y2ggdGltZXIgYWxhcm1fY2xvY2sgY2xvY2sgaG91cmdsYXNzX2Zsb3dpbmdfc2FuZCBob3VyZ2xhc3Mgc2F0ZWxsaXRlIGJhdHRlcnkgZWxlY3RyaWNfcGx1ZyBidWxiIFwiICtcbiAgICAgICAgICAgICAgICBcImZsYXNobGlnaHQgY2FuZGxlIHdhc3RlYmFza2V0IG9pbCBtb25leV93aXRoX3dpbmdzIGRvbGxhciB5ZW4gZXVybyBwb3VuZCBtb25leWJhZyBjcmVkaXRfY2FyZCBnZW0gc2NhbGVzIFwiICtcbiAgICAgICAgICAgICAgICBcIndyZW5jaCBoYW1tZXIgaGFtbWVyX3BpY2sgdG9vbHMgcGljayBudXRfYW5kX2JvbHQgZ2VhciBjaGFpbnMgZ3VuIGJvbWIga25pZmUgZGFnZ2VyIGNyb3NzZWRfc3dvcmRzIHNoaWVsZCBcIiArXG4gICAgICAgICAgICAgICAgXCJzbW9raW5nIHNrdWxsX2Nyb3NzYm9uZXMgY29mZmluIHVybiBhbXBob3JhIGNyeXN0YWxfYmFsbCBwcmF5ZXJfYmVhZHMgYmFyYmVyIGFsZW1iaWMgdGVsZXNjb3BlIG1pY3Jvc2NvcGUgXCIgK1xuICAgICAgICAgICAgICAgIFwiaG9sZSBwaWxsIHN5cmluZ2UgdGhlcm1vbWV0ZXIgbGFiZWwgYm9va21hcmsgdG9pbGV0IHNob3dlciBiYXRodHViIGtleSBrZXkyIGNvdWNoIHNsZWVwaW5nX2FjY29tbW9kYXRpb24gXCIgK1xuICAgICAgICAgICAgICAgIFwiYmVkIGRvb3IgYmVsbGhvcCBmcmFtZV9waG90byBtYXAgYmVhY2hfdW1icmVsbGEgbW95YWkgc2hvcHBpbmdfYmFncyBiYWxsb29uIGZsYWdzIHJpYmJvbiBnaWZ0IGNvbmZldHRpX2JhbGwgXCIgK1xuICAgICAgICAgICAgICAgIFwidGFkYSBkb2xscyB3aW5kX2NoaW1lIGNyb3NzZWRfZmxhZ3MgaXpha2F5YV9sYW50ZXJuIGVudmVsb3BlIGVudmVsb3BlX3dpdGhfYXJyb3cgaW5jb21pbmdfZW52ZWxvcGUgZS1tYWlsIFwiICtcbiAgICAgICAgICAgICAgICBcImxvdmVfbGV0dGVyIHBvc3Rib3ggbWFpbGJveF9jbG9zZWQgbWFpbGJveCBtYWlsYm94X3dpdGhfbWFpbCBtYWlsYm94X3dpdGhfbm9fbWFpbCBwYWNrYWdlIHBvc3RhbF9ob3JuIFwiICtcbiAgICAgICAgICAgICAgICBcImluYm94X3RyYXkgb3V0Ym94X3RyYXkgc2Nyb2xsIHBhZ2Vfd2l0aF9jdXJsIGJvb2ttYXJrX3RhYnMgYmFyX2NoYXJ0IGNoYXJ0X3dpdGhfdXB3YXJkc190cmVuZCBcIiArXG4gICAgICAgICAgICAgICAgXCJjaGFydF93aXRoX2Rvd253YXJkc190cmVuZCBwYWdlX2ZhY2luZ191cCBkYXRlIGNhbGVuZGFyIGNhbGVuZGFyX3NwaXJhbCBjYXJkX2luZGV4IGNhcmRfYm94IGJhbGxvdF9ib3ggXCIgK1xuICAgICAgICAgICAgICAgIFwiZmlsZV9jYWJpbmV0IGNsaXBib2FyZCBub3RlcGFkX3NwaXJhbCBmaWxlX2ZvbGRlciBvcGVuX2ZpbGVfZm9sZGVyIGRpdmlkZXJzIG5ld3NwYXBlcjIgbmV3c3BhcGVyIG5vdGVib29rIFwiICtcbiAgICAgICAgICAgICAgICBcImNsb3NlZF9ib29rIGdyZWVuX2Jvb2sgYmx1ZV9ib29rIG9yYW5nZV9ib29rIG5vdGVib29rX3dpdGhfZGVjb3JhdGl2ZV9jb3ZlciBsZWRnZXIgYm9va3MgYm9vayBsaW5rIFwiICtcbiAgICAgICAgICAgICAgICBcInBhcGVyY2xpcCBwYXBlcmNsaXBzIHNjaXNzb3JzIHRyaWFuZ3VsYXJfcnVsZXIgc3RyYWlnaHRfcnVsZXIgcHVzaHBpbiByb3VuZF9wdXNocGluIHRyaWFuZ3VsYXJfZmxhZ19vbl9wb3N0IFwiICtcbiAgICAgICAgICAgICAgICBcImZsYWdfd2hpdGUgZmxhZ19ibGFjayBjbG9zZWRfbG9ja193aXRoX2tleSBsb2NrIHVubG9jayBsb2NrX3dpdGhfaW5rX3BlbiBwZW5fYmFsbHBvaW50IHBlbl9mb3VudGFpbiBcIiArXG4gICAgICAgICAgICAgICAgXCJibGFja19uaWIgcGVuY2lsIHBlbmNpbDIgY3JheW9uIHBhaW50YnJ1c2ggbWFnIG1hZ19yaWdodFwiXG4gICAgICAgICAgICB9LFxuXG4gICAgICAgICAgICBzeW1ib2xzOiB7XG4gICAgICAgICAgICAgICAgaWNvbjogXCJoZWFydHB1bHNlXCIsXG4gICAgICAgICAgICAgICAgdGl0bGU6IFwiU3ltYm9sc1wiLFxuICAgICAgICAgICAgICAgIGVtb2ppOiBcImhlYXJ0IHllbGxvd19oZWFydCBncmVlbl9oZWFydCBibHVlX2hlYXJ0IHB1cnBsZV9oZWFydCBicm9rZW5faGVhcnQgaGVhcnRfZXhjbGFtYXRpb24gdHdvX2hlYXJ0cyBcIiArXG4gICAgICAgICAgICAgICAgXCJyZXZvbHZpbmdfaGVhcnRzIGhlYXJ0YmVhdCBoZWFydHB1bHNlIHNwYXJrbGluZ19oZWFydCBjdXBpZCBnaWZ0X2hlYXJ0IGhlYXJ0X2RlY29yYXRpb24gcGVhY2UgY3Jvc3MgXCIgK1xuICAgICAgICAgICAgICAgIFwic3Rhcl9hbmRfY3Jlc2NlbnQgb21fc3ltYm9sIHdoZWVsX29mX2RoYXJtYSBzdGFyX29mX2RhdmlkIHNpeF9wb2ludGVkX3N0YXIgbWVub3JhaCB5aW5feWFuZyBvcnRob2RveF9jcm9zcyBcIiArXG4gICAgICAgICAgICAgICAgXCJwbGFjZV9vZl93b3JzaGlwIG9waGl1Y2h1cyBhcmllcyB0YXVydXMgZ2VtaW5pIGNhbmNlciBsZW8gdmlyZ28gbGlicmEgc2NvcnBpdXMgc2FnaXR0YXJpdXMgY2Fwcmljb3JuIFwiICtcbiAgICAgICAgICAgICAgICBcImFxdWFyaXVzIHBpc2NlcyBpZCBhdG9tIHU3YTdhIHU1MjcyIHJhZGlvYWN0aXZlIGJpb2hhemFyZCBtb2JpbGVfcGhvbmVfb2ZmIHZpYnJhdGlvbl9tb2RlIHU2NzA5IHU3MTIxIFwiICtcbiAgICAgICAgICAgICAgICBcInU3NTMzIHU1NWI2IHU2NzA4IGVpZ2h0X3BvaW50ZWRfYmxhY2tfc3RhciB2cyBhY2NlcHQgd2hpdGVfZmxvd2VyIGlkZW9ncmFwaF9hZHZhbnRhZ2Ugc2VjcmV0IGNvbmdyYXR1bGF0aW9ucyBcIiArXG4gICAgICAgICAgICAgICAgXCJ1NTQwOCB1NmU4MCB1Nzk4MSBhIGIgYWIgY2wgbzIgc29zIG5vX2VudHJ5IG5hbWVfYmFkZ2Ugbm9fZW50cnlfc2lnbiB4IG8gYW5nZXIgaG90c3ByaW5ncyBub19wZWRlc3RyaWFucyBcIiArXG4gICAgICAgICAgICAgICAgXCJkb19ub3RfbGl0dGVyIG5vX2JpY3ljbGVzIG5vbi1wb3RhYmxlX3dhdGVyIHVuZGVyYWdlIG5vX21vYmlsZV9waG9uZXMgZXhjbGFtYXRpb24gZ3JleV9leGNsYW1hdGlvbiBxdWVzdGlvbiBcIiArXG4gICAgICAgICAgICAgICAgXCJncmV5X3F1ZXN0aW9uIGJhbmdiYW5nIGludGVycm9iYW5nIDEwMCBsb3dfYnJpZ2h0bmVzcyBoaWdoX2JyaWdodG5lc3MgdHJpZGVudCBmbGV1ci1kZS1saXMgcGFydF9hbHRlcm5hdGlvbl9tYXJrIFwiICtcbiAgICAgICAgICAgICAgICBcIndhcm5pbmcgY2hpbGRyZW5fY3Jvc3NpbmcgYmVnaW5uZXIgcmVjeWNsZSB1NjMwNyBjaGFydCBzcGFya2xlIGVpZ2h0X3Nwb2tlZF9hc3RlcmlzayBuZWdhdGl2ZV9zcXVhcmVkX2Nyb3NzX21hcmsgXCIgK1xuICAgICAgICAgICAgICAgIFwid2hpdGVfY2hlY2tfbWFyayBkaWFtb25kX3NoYXBlX3dpdGhfYV9kb3RfaW5zaWRlIGN5Y2xvbmUgbG9vcCBnbG9iZV93aXRoX21lcmlkaWFucyBtIGF0bSBzYSBwYXNzcG9ydF9jb250cm9sIFwiICtcbiAgICAgICAgICAgICAgICBcImN1c3RvbXMgYmFnZ2FnZV9jbGFpbSBsZWZ0X2x1Z2dhZ2Ugd2hlZWxjaGFpciBub19zbW9raW5nIHdjIHBhcmtpbmcgcG90YWJsZV93YXRlciBtZW5zIHdvbWVucyBiYWJ5X3N5bWJvbCBcIiArXG4gICAgICAgICAgICAgICAgXCJyZXN0cm9vbSBwdXRfbGl0dGVyX2luX2l0c19wbGFjZSBjaW5lbWEgc2lnbmFsX3N0cmVuZ3RoIGtva28gbmcgb2sgdXAgY29vbCBuZXcgZnJlZSB6ZXJvIG9uZSB0d28gdGhyZWUgZm91ciBcIiArXG4gICAgICAgICAgICAgICAgXCJmaXZlIHNpeCBzZXZlbiBlaWdodCBuaW5lIHRlbiAxMjM0IGFycm93X2ZvcndhcmQgcGF1c2VfYnV0dG9uIHBsYXlfcGF1c2Ugc3RvcF9idXR0b24gcmVjb3JkX2J1dHRvbiB0cmFja19uZXh0IFwiICtcbiAgICAgICAgICAgICAgICBcInRyYWNrX3ByZXZpb3VzIGZhc3RfZm9yd2FyZCByZXdpbmQgdHdpc3RlZF9yaWdodHdhcmRzX2Fycm93cyByZXBlYXQgcmVwZWF0X29uZSBhcnJvd19iYWNrd2FyZCBhcnJvd191cF9zbWFsbCBcIiArXG4gICAgICAgICAgICAgICAgXCJhcnJvd19kb3duX3NtYWxsIGFycm93X2RvdWJsZV91cCBhcnJvd19kb3VibGVfZG93biBhcnJvd19yaWdodCBhcnJvd19sZWZ0IGFycm93X3VwIGFycm93X2Rvd24gYXJyb3dfdXBwZXJfcmlnaHQgXCIgK1xuICAgICAgICAgICAgICAgIFwiYXJyb3dfbG93ZXJfcmlnaHQgYXJyb3dfbG93ZXJfbGVmdCBhcnJvd191cHBlcl9sZWZ0IGFycm93X3VwX2Rvd24gbGVmdF9yaWdodF9hcnJvdyBhcnJvd3NfY291bnRlcmNsb2Nrd2lzZSBcIiArXG4gICAgICAgICAgICAgICAgXCJhcnJvd19yaWdodF9ob29rIGxlZnR3YXJkc19hcnJvd193aXRoX2hvb2sgYXJyb3dfaGVhZGluZ191cCBhcnJvd19oZWFkaW5nX2Rvd24gaGFzaCBhc3RlcmlzayBpbmZvcm1hdGlvbl9zb3VyY2UgXCIgK1xuICAgICAgICAgICAgICAgIFwiYWJjIGFiY2QgY2FwaXRhbF9hYmNkIHN5bWJvbHMgbXVzaWNhbF9ub3RlIG5vdGVzIHdhdnlfZGFzaCBjdXJseV9sb29wIGhlYXZ5X2NoZWNrX21hcmsgYXJyb3dzX2Nsb2Nrd2lzZSBcIiArXG4gICAgICAgICAgICAgICAgXCJoZWF2eV9wbHVzX3NpZ24gaGVhdnlfbWludXNfc2lnbiBoZWF2eV9kaXZpc2lvbl9zaWduIGhlYXZ5X211bHRpcGxpY2F0aW9uX3ggaGVhdnlfZG9sbGFyX3NpZ24gY3VycmVuY3lfZXhjaGFuZ2UgXCIgK1xuICAgICAgICAgICAgICAgIFwiY29weXJpZ2h0IHJlZ2lzdGVyZWQgdG0gZW5kIGJhY2sgb24gdG9wIHNvb24gYmFsbG90X2JveF93aXRoX2NoZWNrIHJhZGlvX2J1dHRvbiB3aGl0ZV9jaXJjbGUgYmxhY2tfY2lyY2xlIFwiICtcbiAgICAgICAgICAgICAgICBcInJlZF9jaXJjbGUgbGFyZ2VfYmx1ZV9jaXJjbGUgc21hbGxfb3JhbmdlX2RpYW1vbmQgc21hbGxfYmx1ZV9kaWFtb25kIGxhcmdlX29yYW5nZV9kaWFtb25kIGxhcmdlX2JsdWVfZGlhbW9uZCBcIiArXG4gICAgICAgICAgICAgICAgXCJzbWFsbF9yZWRfdHJpYW5nbGUgYmxhY2tfc21hbGxfc3F1YXJlIHdoaXRlX3NtYWxsX3NxdWFyZSBibGFja19sYXJnZV9zcXVhcmUgd2hpdGVfbGFyZ2Vfc3F1YXJlIHNtYWxsX3JlZF90cmlhbmdsZV9kb3duIFwiICtcbiAgICAgICAgICAgICAgICBcImJsYWNrX21lZGl1bV9zcXVhcmUgd2hpdGVfbWVkaXVtX3NxdWFyZSBibGFja19tZWRpdW1fc21hbGxfc3F1YXJlIHdoaXRlX21lZGl1bV9zbWFsbF9zcXVhcmUgYmxhY2tfc3F1YXJlX2J1dHRvbiBcIiArXG4gICAgICAgICAgICAgICAgXCJ3aGl0ZV9zcXVhcmVfYnV0dG9uIHNwZWFrZXIgc291bmQgbG91ZF9zb3VuZCBtdXRlIG1lZ2EgbG91ZHNwZWFrZXIgYmVsbCBub19iZWxsIGJsYWNrX2pva2VyIG1haGpvbmcgc3BhZGVzIFwiICtcbiAgICAgICAgICAgICAgICBcImNsdWJzIGhlYXJ0cyBkaWFtb25kcyBmbG93ZXJfcGxheWluZ19jYXJkcyB0aG91Z2h0X2JhbGxvb24gYW5nZXJfcmlnaHQgc3BlZWNoX2JhbGxvb24gY2xvY2sxIGNsb2NrMiBjbG9jazMgXCIgK1xuICAgICAgICAgICAgICAgIFwiY2xvY2s0IGNsb2NrNSBjbG9jazYgY2xvY2s3IGNsb2NrOCBjbG9jazkgY2xvY2sxMCBjbG9jazExIGNsb2NrMTIgY2xvY2sxMzAgY2xvY2syMzAgY2xvY2szMzAgY2xvY2s0MzAgXCIgK1xuICAgICAgICAgICAgICAgIFwiY2xvY2s1MzAgY2xvY2s2MzAgY2xvY2s3MzAgY2xvY2s4MzAgY2xvY2s5MzAgY2xvY2sxMDMwIGNsb2NrMTEzMCBjbG9jazEyMzAgZXllX2luX3NwZWVjaF9idWJibGVcIlxuICAgICAgICAgICAgfSxcblxuICAgICAgICAgICAgZmxhZ3M6IHtcbiAgICAgICAgICAgICAgICBpY29uOiBcImZsYWdfZ2JcIixcbiAgICAgICAgICAgICAgICB0aXRsZTogXCJGbGFnc1wiLFxuICAgICAgICAgICAgICAgIGVtb2ppOiBcImFjIGFmIGFsIGR6IGFkIGFvIGFpIGFnIGFyIGFtIGF3IGF1IGF0IGF6IGJzIGJoIGJkIGJiIGJ5IGJlIGJ6IGJqIGJtIGJ0IGJvIGJhIGJ3IGJyIGJuIGJnIGJmIGJpIFwiICtcbiAgICAgICAgICAgICAgICBcImN2IGtoIGNtIGNhIGt5IGNmIHRkIGZsYWdfY2wgY24gY28ga20gY2cgZmxhZ19jZCBjciBociBjdSBjeSBjeiBkayBkaiBkbSBkbyBlYyBlZyBzdiBncSBlciBlZSBldCBmayBmbyBcIiArXG4gICAgICAgICAgICAgICAgXCJmaiBmaSBmciBwZiBnYSBnbSBnZSBkZSBnaCBnaSBnciBnbCBnZCBndSBndCBnbiBndyBneSBodCBobiBoayBodSBpcyBpbiBmbGFnX2lkIGlyIGlxIGllIGlsIGl0IGNpIGptIGpwIFwiICtcbiAgICAgICAgICAgICAgICBcImplIGpvIGt6IGtlIGtpIHhrIGt3IGtnIGxhIGx2IGxiIGxzIGxyIGx5IGxpIGx0IGx1IG1vIG1rIG1nIG13IG15IG12IG1sIG10IG1oIG1yIG11IG14IGZtIG1kIG1jIG1uIG1lIFwiICtcbiAgICAgICAgICAgICAgICBcIm1zIG1hIG16IG1tIG5hIG5yIG5wIG5sIG5jIG56IG5pIG5lIGZsYWdfbmcgbnUga3Agbm8gb20gcGsgcHcgcHMgcGEgcGcgcHkgcGUgcGggcGwgcHQgcHIgcWEgcm8gcnUgcncgXCIgK1xuICAgICAgICAgICAgICAgIFwic2gga24gbGMgdmMgd3Mgc20gc3QgZmxhZ19zYSBzbiBycyBzYyBzbCBzZyBzayBzaSBzYiBzbyB6YSBrciBlcyBsayBzZCBzciBzeiBzZSBjaCBzeSB0dyB0aiB0eiB0aCB0bCBcIiArXG4gICAgICAgICAgICAgICAgXCJ0ZyB0byB0dCB0biB0ciBmbGFnX3RtIGZsYWdfdG0gdWcgdWEgYWUgZ2IgdXMgdmkgdXkgdXogdnUgdmEgdmUgdm4gd2YgZWggeWUgem0gencgcmUgYXggdGEgaW8gYnEgY3ggXCIgK1xuICAgICAgICAgICAgICAgIFwiY2MgZ2cgaW0geXQgbmYgcG4gYmwgcG0gZ3MgdGsgYnYgaG0gc2ogdW0gaWMgZWEgY3AgZGcgYXMgYXEgdmcgY2sgY3cgZXUgZ2YgdGYgZ3AgbXEgbXAgc3ggc3MgdGMgXCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH07XG4gICAgZnVuY3Rpb24gaXNPYmplY3QodmFyaWFibGUpIHtcbiAgICAgICAgcmV0dXJuIHR5cGVvZiB2YXJpYWJsZSA9PT0gJ29iamVjdCc7XG4gICAgfTtcbiAgICBmdW5jdGlvbiBnZXRPcHRpb25zKG9wdGlvbnMpIHtcbiAgICAgICAgaWYgKG9wdGlvbnNbJ2ZpbHRlcnMnXSkge1xuICAgICAgICAgICAgdmFyIGZpbHRlcnMgPSBkZWZhdWx0X29wdGlvbnMuZmlsdGVycztcbiAgICAgICAgICAgICQuZWFjaChvcHRpb25zWydmaWx0ZXJzJ10sIGZ1bmN0aW9uKGZpbHRlciwgZGF0YSkge1xuICAgICAgICAgICAgICAgIGlmICghaXNPYmplY3QoZGF0YSkgfHwgJC5pc0VtcHR5T2JqZWN0KGRhdGEpKSB7XG4gICAgICAgICAgICAgICAgICAgIGRlbGV0ZSBmaWx0ZXJzW2ZpbHRlcl07XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgJC5lYWNoKGRhdGEsIGZ1bmN0aW9uKGtleSwgdmFsKSB7XG4gICAgICAgICAgICAgICAgICAgIGZpbHRlcnNbZmlsdGVyXVtrZXldID0gdmFsO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBvcHRpb25zWydmaWx0ZXJzJ10gPSBmaWx0ZXJzO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAkLmV4dGVuZCh7fSwgZGVmYXVsdF9vcHRpb25zLCBvcHRpb25zKTtcbiAgICB9XG5cbiAgICB2YXIgc2F2ZVNlbGVjdGlvbiwgcmVzdG9yZVNlbGVjdGlvbjtcbiAgICBpZiAod2luZG93LmdldFNlbGVjdGlvbiAmJiBkb2N1bWVudC5jcmVhdGVSYW5nZSkge1xuICAgICAgICBzYXZlU2VsZWN0aW9uID0gZnVuY3Rpb24oZWwpIHtcbiAgICAgICAgICAgIHZhciByYW5nZSA9IHdpbmRvdy5nZXRTZWxlY3Rpb24oKS5nZXRSYW5nZUF0KDApO1xuICAgICAgICAgICAgdmFyIHByZVNlbGVjdGlvblJhbmdlID0gcmFuZ2UuY2xvbmVSYW5nZSgpO1xuICAgICAgICAgICAgcHJlU2VsZWN0aW9uUmFuZ2Uuc2VsZWN0Tm9kZUNvbnRlbnRzKGVsKTtcbiAgICAgICAgICAgIHByZVNlbGVjdGlvblJhbmdlLnNldEVuZChyYW5nZS5zdGFydENvbnRhaW5lciwgcmFuZ2Uuc3RhcnRPZmZzZXQpO1xuICAgICAgICAgICAgcmV0dXJuIHByZVNlbGVjdGlvblJhbmdlLnRvU3RyaW5nKCkubGVuZ3RoO1xuICAgICAgICB9O1xuXG4gICAgICAgIHJlc3RvcmVTZWxlY3Rpb24gPSBmdW5jdGlvbihlbCwgc2VsKSB7XG4gICAgICAgICAgICB2YXIgY2hhckluZGV4ID0gMCwgcmFuZ2UgPSBkb2N1bWVudC5jcmVhdGVSYW5nZSgpO1xuICAgICAgICAgICAgcmFuZ2Uuc2V0U3RhcnQoZWwsIDApO1xuICAgICAgICAgICAgcmFuZ2UuY29sbGFwc2UodHJ1ZSk7XG4gICAgICAgICAgICB2YXIgbm9kZVN0YWNrID0gW2VsXSwgbm9kZSwgZm91bmRTdGFydCA9IGZhbHNlLCBzdG9wID0gZmFsc2U7XG5cbiAgICAgICAgICAgIHdoaWxlICghc3RvcCAmJiAobm9kZSA9IG5vZGVTdGFjay5wb3AoKSkpIHtcbiAgICAgICAgICAgICAgICBpZiAobm9kZS5ub2RlVHlwZSA9PSAzKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBuZXh0Q2hhckluZGV4ID0gY2hhckluZGV4ICsgbm9kZS5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgIGlmICghZm91bmRTdGFydCAmJiBzZWwgPj0gY2hhckluZGV4ICYmIHNlbCA8PSBuZXh0Q2hhckluZGV4KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByYW5nZS5zZXRTdGFydChub2RlLCBzZWwgLSBjaGFySW5kZXgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgcmFuZ2Uuc2V0RW5kKG5vZGUsIHNlbCAtIGNoYXJJbmRleCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdG9wID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBjaGFySW5kZXggPSBuZXh0Q2hhckluZGV4O1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBpID0gbm9kZS5jaGlsZE5vZGVzLmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgd2hpbGUgKGktLSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbm9kZVN0YWNrLnB1c2gobm9kZS5jaGlsZE5vZGVzW2ldKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgc2VsID0gd2luZG93LmdldFNlbGVjdGlvbigpO1xuICAgICAgICAgICAgc2VsLnJlbW92ZUFsbFJhbmdlcygpO1xuICAgICAgICAgICAgc2VsLmFkZFJhbmdlKHJhbmdlKTtcbiAgICAgICAgfVxuICAgIH0gZWxzZSBpZiAoZG9jdW1lbnQuc2VsZWN0aW9uICYmIGRvY3VtZW50LmJvZHkuY3JlYXRlVGV4dFJhbmdlKSB7XG4gICAgICAgIHNhdmVTZWxlY3Rpb24gPSBmdW5jdGlvbihlbCkge1xuICAgICAgICAgICAgdmFyIHNlbGVjdGVkVGV4dFJhbmdlID0gZG9jdW1lbnQuc2VsZWN0aW9uLmNyZWF0ZVJhbmdlKCksXG4gICAgICAgICAgICAgICAgcHJlU2VsZWN0aW9uVGV4dFJhbmdlID0gZG9jdW1lbnQuYm9keS5jcmVhdGVUZXh0UmFuZ2UoKTtcbiAgICAgICAgICAgIHByZVNlbGVjdGlvblRleHRSYW5nZS5tb3ZlVG9FbGVtZW50VGV4dChlbCk7XG4gICAgICAgICAgICBwcmVTZWxlY3Rpb25UZXh0UmFuZ2Uuc2V0RW5kUG9pbnQoXCJFbmRUb1N0YXJ0XCIsIHNlbGVjdGVkVGV4dFJhbmdlKTtcbiAgICAgICAgICAgIHZhciBzdGFydCA9IHByZVNlbGVjdGlvblRleHRSYW5nZS50ZXh0Lmxlbmd0aDtcbiAgICAgICAgICAgIHJldHVybiBzdGFydCArIHNlbGVjdGVkVGV4dFJhbmdlLnRleHQubGVuZ3RoO1xuICAgICAgICB9O1xuXG4gICAgICAgIHJlc3RvcmVTZWxlY3Rpb24gPSBmdW5jdGlvbihlbCwgc2VsKSB7XG4gICAgICAgICAgICB2YXIgdGV4dFJhbmdlID0gZG9jdW1lbnQuYm9keS5jcmVhdGVUZXh0UmFuZ2UoKTtcbiAgICAgICAgICAgIHRleHRSYW5nZS5tb3ZlVG9FbGVtZW50VGV4dChlbCk7XG4gICAgICAgICAgICB0ZXh0UmFuZ2UuY29sbGFwc2UodHJ1ZSk7XG4gICAgICAgICAgICB0ZXh0UmFuZ2UubW92ZUVuZChcImNoYXJhY3RlclwiLCBzZWwpO1xuICAgICAgICAgICAgdGV4dFJhbmdlLm1vdmVTdGFydChcImNoYXJhY3RlclwiLCBzZWwpO1xuICAgICAgICAgICAgdGV4dFJhbmdlLnNlbGVjdCgpO1xuICAgICAgICB9O1xuICAgIH1cblxuXG4gICAgdmFyIHVuaVJlZ2V4cDtcbiAgICB2YXIgZW1vamlvbmVWZXJzaW9uID0gd2luZG93LmVtb2ppb25lVmVyc2lvbiB8fCAnMi4xLjQnO1xuXG4gICAgdmFyIGNkbl9iYXNlID0gXCJodHRwczovL2NkbmpzLmNsb3VkZmxhcmUuY29tL2FqYXgvbGlicy9lbW9qaW9uZS9cIjtcbiAgICBmdW5jdGlvbiBkZXRlY3RWZXJzaW9uKCkge1xuICAgICAgICB2YXIgdmVyc2lvbiA9IGVtb2ppb25lLmNhY2hlQnVzdFBhcmFtO1xuICAgICAgICBpZiAoIWlzT2JqZWN0KGVtb2ppb25lWydqc0VzY2FwZU1hcCddKSkgcmV0dXJuICcxLjUuMic7XG4gICAgICAgIGlmICh2ZXJzaW9uID09PSBcIj92PTEuMi40XCIpIHJldHVybiAnMi4wLjAnO1xuICAgICAgICBpZiAodmVyc2lvbiA9PT0gXCI/dj0yLjAuMVwiKSByZXR1cm4gJzIuMS4wJzsgLy8gdjIuMC4xIHx8IHYyLjEuMFxuICAgICAgICBpZiAodmVyc2lvbiA9PT0gXCI/dj0yLjEuMVwiKSByZXR1cm4gJzIuMS4xJztcbiAgICAgICAgaWYgKHZlcnNpb24gPT09IFwiP3Y9Mi4xLjJcIikgcmV0dXJuICcyLjEuMic7XG4gICAgICAgIGlmICh2ZXJzaW9uID09PSBcIj92PTIuMS4zXCIpIHJldHVybiAnMi4xLjMnO1xuICAgICAgICBpZiAodmVyc2lvbiA9PT0gXCI/dj0yLjEuNFwiKSByZXR1cm4gJzIuMS40JztcbiAgICAgICAgcmV0dXJuICcyLjEuNCc7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGdldFN1cHBvcnRNb2RlKHZlcnNpb24pIHtcbiAgICAgICAgc3dpdGNoICh2ZXJzaW9uKSB7XG4gICAgICAgICAgICBjYXNlICcxLjUuMic6IHJldHVybiAwO1xuICAgICAgICAgICAgY2FzZSAnMi4wLjAnOiByZXR1cm4gMTtcbiAgICAgICAgICAgIGNhc2UgJzIuMS4wJzpcbiAgICAgICAgICAgIGNhc2UgJzIuMS4xJzogcmV0dXJuIDI7XG4gICAgICAgICAgICBjYXNlICcyLjEuMic6IHJldHVybiAzO1xuICAgICAgICAgICAgY2FzZSAnMi4xLjMnOlxuICAgICAgICAgICAgY2FzZSAnMi4xLjQnOlxuICAgICAgICAgICAgZGVmYXVsdDogcmV0dXJuIDQ7XG4gICAgICAgIH1cbiAgICB9XG4gICAgaWYgKCFlbW9qaW9uZSB8fCBnZXRTdXBwb3J0TW9kZShkZXRlY3RWZXJzaW9uKCkpIDwgMikge1xuICAgICAgICAkLmdldFNjcmlwdChjZG5fYmFzZSArIGVtb2ppb25lVmVyc2lvbiArIFwiL2xpYi9qcy9lbW9qaW9uZS5taW4uanNcIiwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgZW1vamlvbmUgPSB3aW5kb3cuZW1vamlvbmU7XG4gICAgICAgICAgICBlbW9qaW9uZVZlcnNpb24gPSBkZXRlY3RWZXJzaW9uKCk7XG4gICAgICAgICAgICBlbW9qaW9uZVN1cHBvcnRNb2RlID0gZ2V0U3VwcG9ydE1vZGUoZW1vamlvbmVWZXJzaW9uKTtcbiAgICAgICAgICAgIGNkbl9iYXNlICs9IGVtb2ppb25lVmVyc2lvbiArIFwiL2Fzc2V0c1wiO1xuICAgICAgICAgICAgdmFyIHNwcml0ZSA9IGNkbl9iYXNlICtcIi9zcHJpdGVzL2Vtb2ppb25lLnNwcml0ZXMuY3NzXCI7XG4gICAgICAgICAgICBpZiAoZG9jdW1lbnQuY3JlYXRlU3R5bGVTaGVldCkge1xuICAgICAgICAgICAgICAgIGRvY3VtZW50LmNyZWF0ZVN0eWxlU2hlZXQoc3ByaXRlKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgJCgnPGxpbmsvPicsIHtyZWw6ICdzdHlsZXNoZWV0JywgaHJlZjogc3ByaXRlfSkuYXBwZW5kVG8oJ2hlYWQnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHdoaWxlIChyZWFkeUNhbGxiYWNrcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICByZWFkeUNhbGxiYWNrcy5zaGlmdCgpLmNhbGwoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgZW1vamlvbmVWZXJzaW9uID0gZGV0ZWN0VmVyc2lvbigpO1xuICAgICAgICBlbW9qaW9uZVN1cHBvcnRNb2RlID0gZ2V0U3VwcG9ydE1vZGUoZW1vamlvbmVWZXJzaW9uKTtcbiAgICAgICAgY2RuX2Jhc2UgKz0gZW1vamlvbmVWZXJzaW9uICsgXCIvYXNzZXRzXCI7XG4gICAgfVxuXG4gICAgZW1vamlvbmVSZWFkeShmdW5jdGlvbigpIHtcbiAgICAgICAgZW1vamlvbmUuaW1hZ2VQYXRoUE5HID0gY2RuX2Jhc2UgKyBcIi9wbmcvXCI7XG4gICAgICAgIHVuaVJlZ2V4cCA9IG5ldyBSZWdFeHAoXCI8b2JqZWN0W14+XSo+Lio/PFxcL29iamVjdD58PHNwYW5bXj5dKj4uKj88XFwvc3Bhbj58PCg/Om9iamVjdHxlbWJlZHxzdmd8aW1nfGRpdnxzcGFufHB8YSlbXj5dKj58KFwiK1xuICAgICAgICAgICAgZW1vamlvbmUudW5pY29kZVJlZ2V4cCtcIilcIiwgXCJnaVwiKTtcbiAgICB9KTtcbiAgICBmdW5jdGlvbiB1bmljb2RlVG8oc3RyLCB0ZW1wbGF0ZSkge1xuICAgICAgICByZXR1cm4gc3RyLnJlcGxhY2UodW5pUmVnZXhwLCBmdW5jdGlvbih1bmljb2RlQ2hhcikge1xuICAgICAgICAgICAgdmFyIG1hcCA9IGVtb2ppb25lWyhlbW9qaW9uZVN1cHBvcnRNb2RlID09PSAwID8gJ2pzZWNhcGVNYXAnIDogJ2pzRXNjYXBlTWFwJyldO1xuICAgICAgICAgICAgaWYgKHR5cGVvZiB1bmljb2RlQ2hhciAhPT0gJ3VuZGVmaW5lZCcgJiYgdW5pY29kZUNoYXIgaW4gbWFwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGdldFRlbXBsYXRlKHRlbXBsYXRlLCBtYXBbdW5pY29kZUNoYXJdKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB1bmljb2RlQ2hhcjtcbiAgICAgICAgfSk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGh0bWxGcm9tVGV4dChzdHIsIHNlbGYpIHtcbiAgICAgICAgc3RyID0gc3RyXG4gICAgICAgICAgICAucmVwbGFjZSgvJi9nLCAnJmFtcDsnKVxuICAgICAgICAgICAgLnJlcGxhY2UoLzwvZywgJyZsdDsnKVxuICAgICAgICAgICAgLnJlcGxhY2UoLz4vZywgJyZndDsnKVxuICAgICAgICAgICAgLnJlcGxhY2UoL1wiL2csICcmcXVvdDsnKVxuICAgICAgICAgICAgLnJlcGxhY2UoLycvZywgJyYjeDI3OycpXG4gICAgICAgICAgICAucmVwbGFjZSgvYC9nLCAnJiN4NjA7JylcbiAgICAgICAgICAgIC5yZXBsYWNlKC8oPzpcXHJcXG58XFxyfFxcbikvZywgJ1xcbicpXG4gICAgICAgICAgICAucmVwbGFjZSgvKFxcbispL2csICc8ZGl2PiQxPC9kaXY+JylcbiAgICAgICAgICAgIC5yZXBsYWNlKC9cXG4vZywgJzxici8+JylcbiAgICAgICAgICAgIC5yZXBsYWNlKC88YnJcXC8+PFxcL2Rpdj4vZywgJzwvZGl2PicpO1xuICAgICAgICBpZiAoc2VsZi5zaG9ydG5hbWVzKSB7XG4gICAgICAgICAgICBzdHIgPSBlbW9qaW9uZS5zaG9ydG5hbWVUb1VuaWNvZGUoc3RyKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdW5pY29kZVRvKHN0ciwgc2VsZi5lbW9qaVRlbXBsYXRlKVxuICAgICAgICAgICAgLnJlcGxhY2UoL1xcdC9nLCAnJm5ic3A7Jm5ic3A7Jm5ic3A7Jm5ic3A7JylcbiAgICAgICAgICAgIC5yZXBsYWNlKC8gIC9nLCAnJm5ic3A7Jm5ic3A7Jyk7XG4gICAgfVxuICAgIGZ1bmN0aW9uIHRleHRGcm9tSHRtbChzdHIsIHNlbGYpIHtcbiAgICAgICAgc3RyID0gc3RyXG4gICAgICAgICAgICAucmVwbGFjZSgvPGltZ1tePl0qYWx0PVwiKFteXCJdKylcIltePl0qPi9pZywgJyQxJylcbiAgICAgICAgICAgIC5yZXBsYWNlKC9cXG58XFxyL2csICcnKVxuICAgICAgICAgICAgLnJlcGxhY2UoLzxicltePl0qPi9pZywgJ1xcbicpXG4gICAgICAgICAgICAucmVwbGFjZSgvKD86PCg/OmRpdnxwfG9sfHVsfGxpfHByZXxjb2RlfG9iamVjdClbXj5dKj4pKy9pZywgJzxkaXY+JylcbiAgICAgICAgICAgIC5yZXBsYWNlKC8oPzo8XFwvKD86ZGl2fHB8b2x8dWx8bGl8cHJlfGNvZGV8b2JqZWN0KT4pKy9pZywgJzwvZGl2PicpXG4gICAgICAgICAgICAucmVwbGFjZSgvXFxuPGRpdj48XFwvZGl2Pi9pZywgJ1xcbicpXG4gICAgICAgICAgICAucmVwbGFjZSgvPGRpdj48XFwvZGl2Plxcbi9pZywgJ1xcbicpXG4gICAgICAgICAgICAucmVwbGFjZSgvKD86PGRpdj4pKzxcXC9kaXY+L2lnLCAnXFxuJylcbiAgICAgICAgICAgIC5yZXBsYWNlKC8oW15cXG5dKTxcXC9kaXY+PGRpdj4vaWcsICckMVxcbicpXG4gICAgICAgICAgICAucmVwbGFjZSgvKD86PFxcL2Rpdj4pKy9pZywgJzwvZGl2PicpXG4gICAgICAgICAgICAucmVwbGFjZSgvKFteXFxuXSk8XFwvZGl2PihbXlxcbl0pL2lnLCAnJDFcXG4kMicpXG4gICAgICAgICAgICAucmVwbGFjZSgvPFxcL2Rpdj4vaWcsICcnKVxuICAgICAgICAgICAgLnJlcGxhY2UoLyhbXlxcbl0pPGRpdj4vaWcsICckMVxcbicpXG4gICAgICAgICAgICAucmVwbGFjZSgvXFxuPGRpdj4vaWcsICdcXG4nKVxuICAgICAgICAgICAgLnJlcGxhY2UoLzxkaXY+XFxuL2lnLCAnXFxuXFxuJylcbiAgICAgICAgICAgIC5yZXBsYWNlKC88KD86W14+XSspPz4vZywgJycpXG4gICAgICAgICAgICAucmVwbGFjZSgvJiM4MjkxOy9nLCAnJylcbiAgICAgICAgICAgIC5yZXBsYWNlKC8mbmJzcDsvZywgJyAnKVxuICAgICAgICAgICAgLnJlcGxhY2UoLyZsdDsvZywgJzwnKVxuICAgICAgICAgICAgLnJlcGxhY2UoLyZndDsvZywgJz4nKVxuICAgICAgICAgICAgLnJlcGxhY2UoLyZxdW90Oy9nLCAnXCInKVxuICAgICAgICAgICAgLnJlcGxhY2UoLyYjeDI3Oy9nLCBcIidcIilcbiAgICAgICAgICAgIC5yZXBsYWNlKC8mI3g2MDsvZywgJ2AnKVxuICAgICAgICAgICAgLnJlcGxhY2UoLyZhbXA7L2csICcmJyk7XG5cbiAgICAgICAgc3dpdGNoIChzZWxmLnNhdmVFbW9qaXNBcykge1xuICAgICAgICAgICAgY2FzZSAnaW1hZ2UnOlxuICAgICAgICAgICAgICAgIHN0ciA9IHVuaWNvZGVUbyhzdHIsIHNlbGYuZW1vamlUZW1wbGF0ZSk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlICdzaG9ydG5hbWUnOlxuICAgICAgICAgICAgICAgIHN0ciA9IGVtb2ppb25lLnRvU2hvcnQoc3RyKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gc3RyO1xuICAgIH1cbiAgICBmdW5jdGlvbiBjYWxjQnV0dG9uUG9zaXRpb24oKSB7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcyxcbiAgICAgICAgICAgIG9mZnNldCA9IHNlbGYuZWRpdG9yWzBdLm9mZnNldFdpZHRoIC0gc2VsZi5lZGl0b3JbMF0uY2xpZW50V2lkdGgsXG4gICAgICAgICAgICBjdXJyZW50ID0gcGFyc2VJbnQoc2VsZi5idXR0b24uY3NzKCdtYXJnaW5SaWdodCcpKTtcbiAgICAgICAgaWYgKGN1cnJlbnQgIT09IG9mZnNldCkge1xuICAgICAgICAgICAgc2VsZi5idXR0b24uY3NzKHttYXJnaW5SaWdodDogb2Zmc2V0fSk7XG4gICAgICAgICAgICBpZiAoc2VsZi5waWNrZXJQb3NpdGlvbiA9PT0gJ3RvcCcpIHtcbiAgICAgICAgICAgICAgICBzZWxmLnBpY2tlci5jc3Moe3JpZ2h0OiBwYXJzZUludChzZWxmLnBpY2tlci5jc3MoJ3JpZ2h0JykpIC0gY3VycmVudCArIG9mZnNldH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIGZ1bmN0aW9uIGxhenlMb2FkaW5nKCkge1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgIGlmICghc2VsZi5zcHJpdGUgJiYgc2VsZi5sYXN5RW1vamlbMF0pIHtcbiAgICAgICAgICAgIHZhciBwaWNrZXJUb3AgPSBzZWxmLnBpY2tlci5vZmZzZXQoKS50b3AsXG4gICAgICAgICAgICAgICAgcGlja2VyQm90dG9tID0gcGlja2VyVG9wICsgc2VsZi5waWNrZXIuaGVpZ2h0KCkgKyAyMDtcbiAgICAgICAgICAgIHNlbGYubGFzeUVtb2ppLmVhY2goZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgdmFyIGUgPSAkKHRoaXMpLCB0b3AgPSBlLm9mZnNldCgpLnRvcDtcbiAgICAgICAgICAgICAgICBpZiAodG9wID4gcGlja2VyVG9wICYmIHRvcCA8IHBpY2tlckJvdHRvbSkge1xuICAgICAgICAgICAgICAgICAgICBlLmF0dHIoXCJzcmNcIiwgZS5kYXRhKFwic3JjXCIpKS5yZW1vdmVDbGFzcyhcImxhenktZW1vamlcIik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIHNlbGYubGFzeUVtb2ppID0gc2VsZi5sYXN5RW1vamkuZmlsdGVyKFwiLmxhenktZW1vamlcIik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gc2VsZWN0b3IgKHByZWZpeCwgc2tpcF9kb3QpIHtcbiAgICAgICAgcmV0dXJuIChza2lwX2RvdCA/ICcnIDogJy4nKSArIGNzc19jbGFzcyArIChwcmVmaXggPyAoXCItXCIgKyBwcmVmaXgpIDogXCJcIik7XG4gICAgfVxuICAgIGZ1bmN0aW9uIGRpdihwcmVmaXgpIHtcbiAgICAgICAgdmFyIHBhcmVudCA9ICQoJzxkaXYvPicsIGlzT2JqZWN0KHByZWZpeCkgPyBwcmVmaXggOiB7XCJjbGFzc1wiIDogc2VsZWN0b3IocHJlZml4LCB0cnVlKX0pO1xuICAgICAgICAkLmVhY2goc2xpY2UuY2FsbChhcmd1bWVudHMpLnNsaWNlKDEpLCBmdW5jdGlvbihpLCBjaGlsZCkge1xuICAgICAgICAgICAgaWYgKCQuaXNGdW5jdGlvbihjaGlsZCkpIHtcbiAgICAgICAgICAgICAgICBjaGlsZCA9IGNoaWxkLmNhbGwocGFyZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChjaGlsZCkge1xuICAgICAgICAgICAgICAgICQoY2hpbGQpLmFwcGVuZFRvKHBhcmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gcGFyZW50O1xuICAgIH1cbiAgICBmdW5jdGlvbiBpbml0KHNlbGYsIHNvdXJjZSwgb3B0aW9ucykge1xuICAgICAgICAvL2NhbGNFbGFwc2VkVGltZSgnaW5pdCcsIGZ1bmN0aW9uKCkge1xuICAgICAgICBvcHRpb25zID0gZ2V0T3B0aW9ucyhvcHRpb25zKTtcbiAgICAgICAgc2VsZi5zcHJpdGUgPSBvcHRpb25zLnNwcml0ZSAmJiBlbW9qaW9uZVN1cHBvcnRNb2RlIDwgMztcbiAgICAgICAgc2VsZi5pbmxpbmUgPSBvcHRpb25zLmlubGluZSA9PT0gbnVsbCA/IHNvdXJjZS5pcyhcIklOUFVUXCIpIDogb3B0aW9ucy5pbmxpbmU7XG4gICAgICAgIHNlbGYuc2hvcnRuYW1lcyA9IG9wdGlvbnMuc2hvcnRuYW1lcztcbiAgICAgICAgc2VsZi5waWNrZXJQb3NpdGlvbiA9IG9wdGlvbnMucGlja2VyUG9zaXRpb247XG4gICAgICAgIHNlbGYuc2F2ZUVtb2ppc0FzID0gb3B0aW9ucy5zYXZlRW1vamlzQXM7XG4gICAgICAgIHNlbGYuZW1vamlUZW1wbGF0ZSA9ICc8aW1nIGFsdD1cInthbHR9XCIgY2xhc3M9XCJlbW9qaW9uZScgKyAoc2VsZi5zcHJpdGUgPyAnLXt1bml9XCIgc3JjPVwiJyArIGJsYW5rSW1nICsgJ1wiLz4nIDogJ2Vtb2ppXCIgc3JjPVwie2ltZ31cIi8+Jyk7XG5cbiAgICAgICAgdmFyIHNvdXJjZVZhbEZ1bmMgPSBzb3VyY2UuaXMoXCJURVhUQVJFQVwiKSB8fCBzb3VyY2UuaXMoXCJJTlBVVFwiKSA/IFwidmFsXCIgOiBcInRleHRcIixcbiAgICAgICAgICAgIGVkaXRvciwgYnV0dG9uLCBwaWNrZXIsIHRvbmVzLCBmaWx0ZXJzLCBmaWx0ZXJzQnRucywgZW1vamlzTGlzdCwgY2F0ZWdvcmllcywgc2Nyb2xsQXJlYSxcbiAgICAgICAgICAgIGFwcCA9IGRpdih7XCJjbGFzc1wiIDogY3NzX2NsYXNzICsgXCIgXCIgKyAoc291cmNlLmF0dHIoXCJjbGFzc1wiKSB8fCBcIlwiKSwgcm9sZTogXCJhcHBsaWNhdGlvblwifSxcbiAgICAgICAgICAgICAgICBlZGl0b3IgPSBzZWxmLmVkaXRvciA9IGRpdignZWRpdG9yJykuYXR0cih7XG4gICAgICAgICAgICAgICAgICAgIGNvbnRlbnRlZGl0YWJsZTogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI6IG9wdGlvbnNbXCJwbGFjZWhvbGRlclwiXSB8fCBzb3VyY2UuZGF0YShcInBsYWNlaG9sZGVyXCIpIHx8IHNvdXJjZS5hdHRyKFwicGxhY2Vob2xkZXJcIikgfHwgXCJcIixcbiAgICAgICAgICAgICAgICAgICAgdGFiaW5kZXg6IDBcbiAgICAgICAgICAgICAgICB9KSxcbiAgICAgICAgICAgICAgICBidXR0b24gPSBzZWxmLmJ1dHRvbiA9IGRpdignYnV0dG9uJyxcbiAgICAgICAgICAgICAgICAgICAgZGl2KCdidXR0b24tb3BlbicpLFxuICAgICAgICAgICAgICAgICAgICBkaXYoJ2J1dHRvbi1jbG9zZScpXG4gICAgICAgICAgICAgICAgKS5hdHRyKCd0aXRsZScsIG9wdGlvbnMuYnV0dG9uVGl0bGUpLFxuICAgICAgICAgICAgICAgIHBpY2tlciA9IHNlbGYucGlja2VyID0gZGl2KCdwaWNrZXInLFxuICAgICAgICAgICAgICAgICAgICBkaXYoJ3dyYXBwZXInLFxuICAgICAgICAgICAgICAgICAgICAgICAgZmlsdGVycyA9IGRpdignZmlsdGVycycpLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2Nyb2xsQXJlYSA9IGRpdignc2Nyb2xsLWFyZWEnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVtb2ppc0xpc3QgPSBkaXYoJ2Vtb2ppcy1saXN0JyksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9uZXMgPSBkaXYoJ3RvbmVzJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAob3B0aW9ucy50b25lcykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkQ2xhc3Moc2VsZWN0b3IoJ3RvbmVzLScgKyBvcHRpb25zLnRvbmVzU3R5bGUsIHRydWUpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8PSA1OyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hcHBlbmQoJChcIjxpLz5cIiwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJjbGFzc1wiOiBcImJ0bi10b25lIGJ0bi10b25lLVwiICsgaSArICghaSA/IFwiIGFjdGl2ZVwiIDogXCJcIiksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcImRhdGEtc2tpblwiOiBpLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcm9sZTogXCJidXR0b25cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICAgICAgKVxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgKS5hZGRDbGFzcyhzZWxlY3RvcigncGlja2VyLXBvc2l0aW9uLScgKyBvcHRpb25zLnBpY2tlclBvc2l0aW9uLCB0cnVlKSlcbiAgICAgICAgICAgICAgICAgLmFkZENsYXNzKHNlbGVjdG9yKCdmaWx0ZXJzLXBvc2l0aW9uLScgKyBvcHRpb25zLmZpbHRlcnNQb3NpdGlvbiwgdHJ1ZSkpXG4gICAgICAgICAgICAgICAgIC5hZGRDbGFzcygnaGlkZGVuJylcbiAgICAgICAgICAgICk7XG5cbiAgICAgICAgJC5lYWNoKG9wdGlvbnMuYXR0cmlidXRlcywgZnVuY3Rpb24oYXR0ciwgdmFsdWUpIHtcbiAgICAgICAgICAgIGVkaXRvci5hdHRyKGF0dHIsIHZhbHVlKTtcbiAgICAgICAgfSk7XG5cbiAgICAgICAgJC5lYWNoKG9wdGlvbnMuZmlsdGVycywgZnVuY3Rpb24oZmlsdGVyLCBwYXJhbXMpIHtcbiAgICAgICAgICAgIHZhciBza2luID0gMDtcbiAgICAgICAgICAgIGlmIChmaWx0ZXIgIT09ICd0b25lcycpIHtcbiAgICAgICAgICAgICAgICAkKFwiPGkvPlwiLCB7XG4gICAgICAgICAgICAgICAgICAgIFwiY2xhc3NcIjogc2VsZWN0b3IoXCJmaWx0ZXJcIiwgdHJ1ZSkgKyBcIiBcIiArIHNlbGVjdG9yKFwiZmlsdGVyLVwiICsgZmlsdGVyLCB0cnVlKSxcbiAgICAgICAgICAgICAgICAgICAgXCJkYXRhLWZpbHRlclwiOiBmaWx0ZXIsXG4gICAgICAgICAgICAgICAgICAgIHRpdGxlOiBwYXJhbXMudGl0bGVcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC53cmFwSW5uZXIoc2hvcnRuYW1lVG8ocGFyYW1zLmljb24sIHNlbGYuc3ByaXRlID8gJzxpIGNsYXNzPVwiZW1vamlvbmUte3VuaX1cIi8+JyA6ICc8aW1nIGNsYXNzPVwiZW1vamlvbmVlbW9qaVwiIHNyYz1cIntpbWd9XCIvPicpKVxuICAgICAgICAgICAgICAgIC5hcHBlbmRUbyhmaWx0ZXJzKTtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAob3B0aW9ucy50b25lcykge1xuICAgICAgICAgICAgICAgIHNraW4gPSA1O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkbyB7XG4gICAgICAgICAgICAgICAgdmFyIGNhdGVnb3J5ID0gZGl2KCdjYXRlZ29yeScpLmF0dHIoe25hbWU6IGZpbHRlciwgXCJkYXRhLXRvbmVcIjogc2tpbn0pLmFwcGVuZFRvKGVtb2ppc0xpc3QpLFxuICAgICAgICAgICAgICAgICAgICBpdGVtcyA9IHBhcmFtcy5lbW9qaS5yZXBsYWNlKC9bXFxzLDtdKy9nLCAnfCcpO1xuICAgICAgICAgICAgICAgIGlmIChza2luID4gMCkge1xuICAgICAgICAgICAgICAgICAgICBjYXRlZ29yeS5oaWRlKCk7XG4gICAgICAgICAgICAgICAgICAgIGl0ZW1zID0gaXRlbXMuc3BsaXQoJ3wnKS5qb2luKCdfdG9uZScgKyBza2luICsgJ3wnKSArICdfdG9uZScgKyBza2luO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpdGVtcyA9IHNob3J0bmFtZVRvKGl0ZW1zLFxuICAgICAgICAgICAgICAgICAgICBzZWxmLnNwcml0ZSA/XG4gICAgICAgICAgICAgICAgICAgICc8aSBjbGFzcz1cImVtb2ppYnRuXCIgcm9sZT1cImJ1dHRvblwiIGRhdGEtbmFtZT1cIntuYW1lfVwiPjxpIGNsYXNzPVwiZW1vamlvbmUte3VuaX1cIj48L2k+PC9pPicgOlxuICAgICAgICAgICAgICAgICAgICAnPGkgY2xhc3M9XCJlbW9qaWJ0blwiIHJvbGU9XCJidXR0b25cIiBkYXRhLW5hbWU9XCJ7bmFtZX1cIj48aW1nIGNsYXNzPVwiZW1vamlvbmVlbW9qaSBsYXp5LWVtb2ppXCIgZGF0YS1zcmM9XCJ7aW1nfVwiLz48L2k+JyxcbiAgICAgICAgICAgICAgICAgICAgdHJ1ZSkuc3BsaXQoJ3wnKS5qb2luKCcnKTtcbiAgICAgICAgICAgICAgICBjYXRlZ29yeS5odG1sKGl0ZW1zKTtcbiAgICAgICAgICAgICAgICAkKCc8aDEvPicpLnRleHQocGFyYW1zLnRpdGxlKS5wcmVwZW5kVG8oY2F0ZWdvcnkpO1xuICAgICAgICAgICAgfSB3aGlsZSAoLS1za2luID4gMCk7XG4gICAgICAgIH0pO1xuXG4gICAgICAgIG9wdGlvbnMuZmlsdGVycyA9IG51bGw7XG4gICAgICAgIGlmICghc2VsZi5zcHJpdGUpIHtcbiAgICAgICAgICAgIHNlbGYubGFzeUVtb2ppID0gZW1vamlzTGlzdC5maW5kKFwiLmxhenktZW1vamlcIik7XG4gICAgICAgIH1cblxuICAgICAgICBmaWx0ZXJzQnRucyA9IGZpbHRlcnMuZmluZChzZWxlY3RvcihcImZpbHRlclwiKSk7XG4gICAgICAgIGZpbHRlcnNCdG5zLmVxKDApLmFkZENsYXNzKFwiYWN0aXZlXCIpO1xuICAgICAgICBjYXRlZ29yaWVzID0gZW1vamlzTGlzdC5maW5kKHNlbGVjdG9yKFwiY2F0ZWdvcnlcIikpO1xuXG4gICAgICAgIGlmIChvcHRpb25zLmNvbnRhaW5lcikge1xuICAgICAgICAgICAgJChvcHRpb25zLmNvbnRhaW5lcikud3JhcElubmVyKGFwcCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBhcHAuaW5zZXJ0QWZ0ZXIoc291cmNlKTtcbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChvcHRpb25zLmhpZGVTb3VyY2UpIHtcbiAgICAgICAgICAgIHNvdXJjZS5oaWRlKCk7XG4gICAgICAgIH1cblxuICAgICAgICBzZWxmLnNldFRleHQoc291cmNlW3NvdXJjZVZhbEZ1bmNdKCkpO1xuICAgICAgICBzb3VyY2Vbc291cmNlVmFsRnVuY10oc2VsZi5nZXRUZXh0KCkpO1xuICAgICAgICBjYWxjQnV0dG9uUG9zaXRpb24uYXBwbHkoc2VsZik7XG5cbiAgICAgICAgLy8gYXR0YWNoKCkgbXVzdCBiZSBjYWxsZWQgYmVmb3JlIGFueSAub24oKSBtZXRob2RzICEhIVxuICAgICAgICAvLyAxKSBhdHRhY2goKSBzdG9yZXMgZXZlbnRzIGludG8gcG9zc2libGVFdmVudHN7fSxcbiAgICAgICAgLy8gMikgLm9uKCkgY2FsbHMgYmluZEV2ZW50KCkgYW5kIHN0b3JlcyBoYW5kbGVycyBpbnRvIGV2ZW50U3RvcmFnZXt9LFxuICAgICAgICAvLyAzKSBiaW5kRXZlbnQoKSBmaW5kcyBldmVudHMgaW4gcG9zc2libGVFdmVudHN7fSBhbmQgYmluZCBmb3VuZGVkIHZpYSBqUXVlcnkub24oKVxuICAgICAgICAvLyA0KSBhdHRhY2hlZCBldmVudHMgdmlhIGpRdWVyeS5vbigpIGNhbGxzIHRyaWdnZXIoKVxuICAgICAgICAvLyA1KSB0cmlnZ2VyKCkgY2FsbHMgaGFuZGxlcnMgc3RvcmVkIGludG8gZXZlbnRTdG9yYWdle31cblxuICAgICAgICBhdHRhY2goc2VsZiwgZW1vamlzTGlzdC5maW5kKFwiLmVtb2ppYnRuXCIpLCB7Y2xpY2s6IFwiZW1vamlidG4uY2xpY2tcIn0pO1xuICAgICAgICBhdHRhY2goc2VsZiwgd2luZG93LCB7cmVzaXplOiBcIiFyZXNpemVcIn0pO1xuICAgICAgICBhdHRhY2goc2VsZiwgdG9uZXMuY2hpbGRyZW4oKSwge2NsaWNrOiBcInRvbmUuY2xpY2tcIn0pO1xuICAgICAgICBhdHRhY2goc2VsZiwgW3BpY2tlciwgYnV0dG9uXSwge21vdXNlZG93bjogXCIhbW91c2Vkb3duXCJ9LCBlZGl0b3IpO1xuICAgICAgICBhdHRhY2goc2VsZiwgYnV0dG9uLCB7Y2xpY2s6IFwiYnV0dG9uLmNsaWNrXCJ9KTtcbiAgICAgICAgYXR0YWNoKHNlbGYsIGVkaXRvciwge3Bhc3RlIDpcIiFwYXN0ZVwifSwgZWRpdG9yKTtcbiAgICAgICAgYXR0YWNoKHNlbGYsIGVkaXRvciwgW1wiZm9jdXNcIiwgXCJibHVyXCJdLCBmdW5jdGlvbigpIHsgcmV0dXJuIHNlbGYuc3RheUZvY3VzZWQgPyBmYWxzZSA6IGVkaXRvcjsgfSk7XG4gICAgICAgIGF0dGFjaChzZWxmLCBwaWNrZXIsIHttb3VzZWRvd246IFwicGlja2VyLm1vdXNlZG93blwiLCBtb3VzZXVwOiBcInBpY2tlci5tb3VzZXVwXCIsIGNsaWNrOiBcInBpY2tlci5jbGlja1wiLFxuICAgICAgICAgICAga2V5dXA6IFwicGlja2VyLmtleXVwXCIsIGtleWRvd246IFwicGlja2VyLmtleWRvd25cIiwga2V5cHJlc3M6IFwicGlja2VyLmtleXByZXNzXCJ9KTtcbiAgICAgICAgYXR0YWNoKHNlbGYsIGVkaXRvciwgW1wibW91c2Vkb3duXCIsIFwibW91c2V1cFwiLCBcImNsaWNrXCIsIFwia2V5dXBcIiwgXCJrZXlkb3duXCIsIFwia2V5cHJlc3NcIl0pO1xuICAgICAgICBhdHRhY2goc2VsZiwgcGlja2VyLmZpbmQoXCIuZW1vamlvbmVhcmVhLWZpbHRlclwiKSwge2NsaWNrOiBcImZpbHRlci5jbGlja1wifSk7XG5cbiAgICAgICAgaWYgKGlzT2JqZWN0KG9wdGlvbnMuZXZlbnRzKSAmJiAhJC5pc0VtcHR5T2JqZWN0KG9wdGlvbnMuZXZlbnRzKSkge1xuICAgICAgICAgICAgJC5lYWNoKG9wdGlvbnMuZXZlbnRzLCBmdW5jdGlvbihldmVudCwgaGFuZGxlcikge1xuICAgICAgICAgICAgICAgIHNlbGYub24oZXZlbnQucmVwbGFjZSgvXy9nLCAnLicpLCBoYW5kbGVyKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgdmFyIG5vTGlzdGVuU2Nyb2xsID0gZmFsc2U7XG4gICAgICAgIHNjcm9sbEFyZWEub24oJ3Njcm9sbCcsIGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICghbm9MaXN0ZW5TY3JvbGwpIHtcbiAgICAgICAgICAgICAgICBsYXp5TG9hZGluZy5jYWxsKHNlbGYpO1xuICAgICAgICAgICAgICAgIGlmIChzY3JvbGxBcmVhLmlzKFwiOm5vdCguc2tpbm5hYmxlKVwiKSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgaXRlbSA9IGNhdGVnb3JpZXMuZXEoMCksIHNjcm9sbFRvcCA9IHNjcm9sbEFyZWEub2Zmc2V0KCkudG9wO1xuICAgICAgICAgICAgICAgICAgICBjYXRlZ29yaWVzLmVhY2goZnVuY3Rpb24gKGksIGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICgkKGUpLm9mZnNldCgpLnRvcCAtIHNjcm9sbFRvcCA+PSAxMCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZW0gPSAkKGUpO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGZpbHRlciA9IGZpbHRlcnNCdG5zLmZpbHRlcignW2RhdGEtZmlsdGVyPVwiJyArIGl0ZW0uYXR0cihcIm5hbWVcIikgKyAnXCJdJyk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChmaWx0ZXJbMF0gJiYgIWZpbHRlci5pcyhcIi5hY3RpdmVcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGZpbHRlcnNCdG5zLnJlbW92ZUNsYXNzKFwiYWN0aXZlXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgZmlsdGVyLmFkZENsYXNzKFwiYWN0aXZlXCIpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBzZWxmLm9uKFwiQGZpbHRlci5jbGlja1wiLCBmdW5jdGlvbihmaWx0ZXIpIHtcbiAgICAgICAgICAgIHZhciBpc0FjdGl2ZSA9IGZpbHRlci5pcyhcIi5hY3RpdmVcIik7XG4gICAgICAgICAgICBpZiAoc2Nyb2xsQXJlYS5pcyhcIi5za2lubmFibGVcIikpIHtcbiAgICAgICAgICAgICAgICBpZiAoaXNBY3RpdmUpIHJldHVybjtcbiAgICAgICAgICAgICAgICB0b25lcy5jaGlsZHJlbigpLmVxKDApLmNsaWNrKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBub0xpc3RlblNjcm9sbCA9IHRydWU7XG4gICAgICAgICAgICBpZiAoIWlzQWN0aXZlKSB7XG4gICAgICAgICAgICAgICAgZmlsdGVyc0J0bnMuZmlsdGVyKFwiLmFjdGl2ZVwiKS5yZW1vdmVDbGFzcyhcImFjdGl2ZVwiKTtcbiAgICAgICAgICAgICAgICBmaWx0ZXIuYWRkQ2xhc3MoXCJhY3RpdmVcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB2YXIgaGVhZGVyT2Zmc2V0ID0gY2F0ZWdvcmllcy5maWx0ZXIoJ1tuYW1lPVwiJyArIGZpbHRlci5kYXRhKCdmaWx0ZXInKSArICdcIl0nKS5vZmZzZXQoKS50b3AsXG4gICAgICAgICAgICAgICAgc2Nyb2xsID0gc2Nyb2xsQXJlYS5zY3JvbGxUb3AoKSxcbiAgICAgICAgICAgICAgICBvZmZzZXRUb3AgPSBzY3JvbGxBcmVhLm9mZnNldCgpLnRvcDtcbiAgICAgICAgICAgIHNjcm9sbEFyZWEuc3RvcCgpLmFuaW1hdGUoe1xuICAgICAgICAgICAgICAgIHNjcm9sbFRvcDogaGVhZGVyT2Zmc2V0ICsgc2Nyb2xsIC0gb2Zmc2V0VG9wIC0gMlxuICAgICAgICAgICAgfSwgMjAwLCAnc3dpbmcnLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICAgICAgbGF6eUxvYWRpbmcuY2FsbChzZWxmKTtcbiAgICAgICAgICAgICAgICBub0xpc3RlblNjcm9sbCA9IGZhbHNlO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0pXG5cbiAgICAgICAgLm9uKFwiQHBpY2tlci5zaG93XCIsIGxhenlMb2FkaW5nKVxuXG4gICAgICAgIC5vbihcIkB0b25lLmNsaWNrXCIsIGZ1bmN0aW9uKHRvbmUpIHtcbiAgICAgICAgICAgIHRvbmVzLmNoaWxkcmVuKCkucmVtb3ZlQ2xhc3MoXCJhY3RpdmVcIik7XG4gICAgICAgICAgICB2YXIgc2tpbiA9IHRvbmUuYWRkQ2xhc3MoXCJhY3RpdmVcIikuZGF0YShcInNraW5cIik7XG4gICAgICAgICAgICBpZiAoc2tpbikge1xuICAgICAgICAgICAgICAgIHNjcm9sbEFyZWEuYWRkQ2xhc3MoXCJza2lubmFibGVcIik7XG4gICAgICAgICAgICAgICAgY2F0ZWdvcmllcy5oaWRlKCkuZmlsdGVyKFwiW2RhdGEtdG9uZT1cIiArIHNraW4gKyBcIl1cIikuc2hvdygpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBzY3JvbGxBcmVhLnJlbW92ZUNsYXNzKFwic2tpbm5hYmxlXCIpO1xuICAgICAgICAgICAgICAgIGNhdGVnb3JpZXMuaGlkZSgpLmZpbHRlcihcIltkYXRhLXRvbmU9MF1cIikuc2hvdygpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbGF6eUxvYWRpbmcuY2FsbChzZWxmKTtcbiAgICAgICAgfSlcblxuICAgICAgICAub24oXCJAYnV0dG9uLmNsaWNrXCIsIGZ1bmN0aW9uKGJ1dHRvbikge1xuICAgICAgICAgICAgaWYgKGJ1dHRvbi5pcyhcIi5hY3RpdmVcIikpIHtcbiAgICAgICAgICAgICAgICBzZWxmLmhpZGVQaWNrZXIoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgc2VsZi5zaG93UGlja2VyKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG5cbiAgICAgICAgLm9uKFwiQCFwYXN0ZVwiLCBmdW5jdGlvbihlZGl0b3IpIHtcbiAgICAgICAgICAgIHNlbGYuc3RheUZvY3VzZWQgPSB0cnVlO1xuICAgICAgICAgICAgLy8gaW5zZXJ0IGludmlzaWJsZSBjaGFyYWN0ZXIgZm9yIGZpeCBjYXJldCBwb3NpdGlvblxuICAgICAgICAgICAgcGFzdGVIdG1sQXRDYXJldCgnPHNwYW4+JiM4MjkxOzwvc3Bhbj4nKTtcblxuICAgICAgICAgICAgdmFyIHNlbCA9IHNhdmVTZWxlY3Rpb24oZWRpdG9yWzBdKSxcbiAgICAgICAgICAgICAgICBlZGl0b3JTY3JvbGxUb3AgPSBlZGl0b3Iuc2Nyb2xsVG9wKCksXG4gICAgICAgICAgICAgICAgY2xpcGJvYXJkID0gJChcIjxkaXYvPlwiLCB7Y29udGVudGVkaXRhYmxlOiB0cnVlfSlcbiAgICAgICAgICAgICAgICAgICAgLmNzcyh7cG9zaXRpb246IFwiZml4ZWRcIiwgbGVmdDogXCItOTk5cHhcIiwgd2lkdGg6IFwiMXB4XCIsIGhlaWdodDogXCIxcHhcIiwgdG9wOiBcIjIwcHhcIiwgb3ZlcmZsb3c6IFwiaGlkZGVuXCJ9KVxuICAgICAgICAgICAgICAgICAgICAuYXBwZW5kVG8oJChcIkJPRFlcIikpXG4gICAgICAgICAgICAgICAgICAgIC5mb2N1cygpO1xuXG4gICAgICAgICAgICB3aW5kb3cuc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICB2YXIgY2FyZXRJRCA9IFwiY2FyZXQtXCIgKyAobmV3IERhdGUoKSkuZ2V0VGltZSgpO1xuICAgICAgICAgICAgICAgIGVkaXRvci5mb2N1cygpO1xuICAgICAgICAgICAgICAgIHJlc3RvcmVTZWxlY3Rpb24oZWRpdG9yWzBdLCBzZWwpO1xuICAgICAgICAgICAgICAgIHZhciB0ZXh0ID0gdGV4dEZyb21IdG1sKGNsaXBib2FyZC5odG1sKCkucmVwbGFjZSgvXFxyXFxufFxcbnxcXHIvZywgJzxicj4nKSwgc2VsZiksXG4gICAgICAgICAgICAgICAgICAgIGh0bWwgPSBodG1sRnJvbVRleHQodGV4dCwgc2VsZik7XG4gICAgICAgICAgICAgICAgcGFzdGVIdG1sQXRDYXJldChodG1sKTtcbiAgICAgICAgICAgICAgICBjbGlwYm9hcmQucmVtb3ZlKCk7XG4gICAgICAgICAgICAgICAgcGFzdGVIdG1sQXRDYXJldCgnPGkgaWQ9XCInICsgY2FyZXRJRCArJ1wiPjwvaT4nKTtcbiAgICAgICAgICAgICAgICBlZGl0b3Iuc2Nyb2xsVG9wKGVkaXRvclNjcm9sbFRvcCk7XG4gICAgICAgICAgICAgICAgdmFyIGNhcmV0ID0gJChcIiNcIiArIGNhcmV0SUQpLFxuICAgICAgICAgICAgICAgICAgICB0b3AgPSBjYXJldC5vZmZzZXQoKS50b3AgLSBlZGl0b3Iub2Zmc2V0KCkudG9wLFxuICAgICAgICAgICAgICAgICAgICBoZWlnaHQgPSBlZGl0b3IuaGVpZ2h0KCk7XG4gICAgICAgICAgICAgICAgaWYgKGVkaXRvclNjcm9sbFRvcCArIHRvcCA+PSBoZWlnaHQgfHwgZWRpdG9yU2Nyb2xsVG9wID4gdG9wKSB7XG4gICAgICAgICAgICAgICAgICAgIGVkaXRvci5zY3JvbGxUb3AoZWRpdG9yU2Nyb2xsVG9wICsgdG9wIC0gMiAqIGhlaWdodC8zKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY2FyZXQucmVtb3ZlKCk7XG4gICAgICAgICAgICAgICAgc2VsZi5zdGF5Rm9jdXNlZCA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGNhbGNCdXR0b25Qb3NpdGlvbi5hcHBseShzZWxmKTtcbiAgICAgICAgICAgICAgICB0cmlnZ2VyKHNlbGYsICdwYXN0ZScsIFtlZGl0b3IsIHRleHQsIGh0bWxdKTtcbiAgICAgICAgICAgIH0sIDIwMCk7XG4gICAgICAgIH0pXG5cbiAgICAgICAgLm9uKFwiQGVtb2ppYnRuLmNsaWNrXCIsIGZ1bmN0aW9uKGVtb2ppYnRuKSB7XG4gICAgICAgICAgICBpZiAoIWFwcC5pcyhcIi5mb2N1c2VkXCIpKSB7XG4gICAgICAgICAgICAgICAgZWRpdG9yLmZvY3VzKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzYXZlU2VsZWN0aW9uKGVkaXRvclswXSk7XG4gICAgICAgICAgICBwYXN0ZUh0bWxBdENhcmV0KHNob3J0bmFtZVRvKGVtb2ppYnRuLmRhdGEoXCJuYW1lXCIpLCBzZWxmLmVtb2ppVGVtcGxhdGUpKTtcbiAgICAgICAgfSlcblxuICAgICAgICAub24oXCJAIXJlc2l6ZSBAa2V5dXAgQGVtb2ppYnRuLmNsaWNrXCIsIGNhbGNCdXR0b25Qb3NpdGlvbilcblxuICAgICAgICAub24oXCJAIW1vdXNlZG93blwiLCBmdW5jdGlvbihlZGl0b3IsIGV2ZW50KSB7XG4gICAgICAgICAgICBpZiAoIWFwcC5pcyhcIi5mb2N1c2VkXCIpKSB7XG4gICAgICAgICAgICAgICAgZWRpdG9yLmZvY3VzKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICB9KVxuXG4gICAgICAgIC5vbihcIkBjaGFuZ2VcIiwgZnVuY3Rpb24oZWRpdG9yKSB7XG4gICAgICAgICAgICB2YXIgaHRtbCA9IGVkaXRvci5odG1sKCkucmVwbGFjZSgvPFxcLz8oPzpkaXZ8c3BhbnxwKVtePl0qPi9pZywgJycpO1xuICAgICAgICAgICAgLy8gY2xlYXIgaW5wdXQ6IGNocm9tZSBhZGRzIDxicj4gd2hlbiBjb250ZW50ZWRpdGFibGUgaXMgZW1wdHlcbiAgICAgICAgICAgIGlmICghaHRtbC5sZW5ndGggfHwgL148YnJbXj5dKj4kL2kudGVzdChodG1sKSkge1xuICAgICAgICAgICAgICAgIHNlbGYuZWRpdG9yLmh0bWwoc2VsZi5jb250ZW50ID0gJycpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgc291cmNlW3NvdXJjZVZhbEZ1bmNdKHNlbGYuZ2V0VGV4dCgpKTtcbiAgICAgICAgfSlcblxuICAgICAgICAub24oXCJAZm9jdXNcIiwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBhcHAuYWRkQ2xhc3MoXCJmb2N1c2VkXCIpO1xuICAgICAgICB9KVxuXG4gICAgICAgIC5vbihcIkBibHVyXCIsIGZ1bmN0aW9uKGVkaXRvcikge1xuICAgICAgICAgICAgYXBwLnJlbW92ZUNsYXNzKFwiZm9jdXNlZFwiKTtcblxuICAgICAgICAgICAgaWYgKG9wdGlvbnMuaGlkZVBpY2tlck9uQmx1cikge1xuICAgICAgICAgICAgICAgIHNlbGYuaGlkZVBpY2tlcigpO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICB2YXIgY29udGVudCA9IGVkaXRvci5odG1sKCk7XG4gICAgICAgICAgICBpZiAoc2VsZi5jb250ZW50ICE9PSBjb250ZW50KSB7XG4gICAgICAgICAgICAgICAgc2VsZi5jb250ZW50ID0gY29udGVudDtcbiAgICAgICAgICAgICAgICB0cmlnZ2VyKHNlbGYsICdjaGFuZ2UnLCBbZWRpdG9yXSk7XG4gICAgICAgICAgICAgICAgc291cmNlLmJsdXIoKS50cmlnZ2VyKFwiY2hhbmdlXCIpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBzb3VyY2UuYmx1cigpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcblxuICAgICAgICBpZiAob3B0aW9ucy5zaG9ydGN1dHMpIHtcbiAgICAgICAgICAgIHNlbGYub24oXCJAa2V5ZG93blwiLCBmdW5jdGlvbihfLCBlKSB7XG4gICAgICAgICAgICAgICAgaWYgKCFlLmN0cmxLZXkpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGUud2hpY2ggPT0gOSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnV0dG9uLmNsaWNrKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoZS53aGljaCA9PSAyNykge1xuICAgICAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGJ1dHRvbi5pcyhcIi5hY3RpdmVcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZWxmLmhpZGVQaWNrZXIoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG5cbiAgICAgICAgaWYgKG9wdGlvbnMuYXV0b2NvbXBsZXRlKSB7XG4gICAgICAgICAgICB2YXIgYXV0b2NvbXBsZXRlID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgdmFyIGV2ZW50cyA9IHt9O1xuICAgICAgICAgICAgICAgIGlmIChvcHRpb25zLnNob3J0Y3V0cykge1xuICAgICAgICAgICAgICAgICAgICBldmVudHMub25LZXlkb3duID0gZnVuY3Rpb24gKGUsIGNvbW1hbmRzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWUuY3RybEtleSAmJiBlLndoaWNoID09IDEzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvbW1hbmRzLktFWV9FTlRFUjtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmFyIG1hcCA9ICQubWFwKGVtb2ppb25lLmVtb2ppb25lTGlzdCwgZnVuY3Rpb24gKF8sIGVtb2ppKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAhb3B0aW9ucy5hdXRvY29tcGxldGVUb25lcyA/IC9fdG9uZVsxMjM0NV0vLnRlc3QoZW1vamkpID8gbnVsbCA6IGVtb2ppIDogZW1vamk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgbWFwLnNvcnQoKTtcbiAgICAgICAgICAgICAgICBlZGl0b3IudGV4dGNvbXBsZXRlKFtcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWQ6IGNzc19jbGFzcyxcbiAgICAgICAgICAgICAgICAgICAgICAgIG1hdGNoOiAvKDpbXFwtK1xcd10qKSQvLFxuICAgICAgICAgICAgICAgICAgICAgICAgc2VhcmNoOiBmdW5jdGlvbiAodGVybSwgY2FsbGJhY2spIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjaygkLm1hcChtYXAsIGZ1bmN0aW9uIChlbW9qaSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZW1vamkuaW5kZXhPZih0ZXJtKSA9PT0gMCA/IGVtb2ppIDogbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgdGVtcGxhdGU6IGZ1bmN0aW9uICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBzaG9ydG5hbWVUbyh2YWx1ZSwgc2VsZi5lbW9qaVRlbXBsYXRlKSArIFwiIFwiICsgdmFsdWUucmVwbGFjZSgvOi9nLCAnJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgcmVwbGFjZTogZnVuY3Rpb24gKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNob3J0bmFtZVRvKHZhbHVlLCBzZWxmLmVtb2ppVGVtcGxhdGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhY2hlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICAgICAgbWF4Q291bnQ6IDE1LFxuICAgICAgICAgICAgICAgICAgICAgICAgaW5kZXg6IDFcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIF0sIGV2ZW50cyk7XG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgaWYgKCQuZm4udGV4dGNvbXBsZXRlKSB7XG4gICAgICAgICAgICAgICAgYXV0b2NvbXBsZXRlKCk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICQuZ2V0U2NyaXB0KFwiaHR0cHM6Ly9jZG4ucmF3Z2l0LmNvbS95dWt1LXQvanF1ZXJ5LXRleHRjb21wbGV0ZS92MS4zLjQvZGlzdC9qcXVlcnkudGV4dGNvbXBsZXRlLmpzXCIsXG4gICAgICAgICAgICAgICAgICAgIGF1dG9jb21wbGV0ZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoc2VsZi5pbmxpbmUpIHtcbiAgICAgICAgICAgIGFwcC5hZGRDbGFzcyhzZWxlY3RvcignaW5saW5lJywgdHJ1ZSkpO1xuICAgICAgICAgICAgc2VsZi5vbihcIkBrZXlkb3duXCIsIGZ1bmN0aW9uKF8sIGUpIHtcbiAgICAgICAgICAgICAgICBpZiAoZS53aGljaCA9PSAxMykge1xuICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoL2ZpcmVmb3gvaS50ZXN0KG5hdmlnYXRvci51c2VyQWdlbnQpKSB7XG4gICAgICAgICAgICAvLyBkaXNhYmxpbmcgcmVzaXplIGltYWdlcyBvbiBGaXJlZm94XG4gICAgICAgICAgICBkb2N1bWVudC5leGVjQ29tbWFuZChcImVuYWJsZU9iamVjdFJlc2l6aW5nXCIsIGZhbHNlLCBmYWxzZSk7XG4gICAgICAgIH1cblxuICAgICAgICAvL30sIHNlbGYuaWQgPT09IDEpOyAvLyBjYWxjRWxhcHNlZFRpbWUoKVxuICAgIH07XG4gICAgdmFyIEVtb2ppb25lQXJlYSA9IGZ1bmN0aW9uKGVsZW1lbnQsIG9wdGlvbnMpIHtcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICBldmVudFN0b3JhZ2Vbc2VsZi5pZCA9ICsrdW5pcXVlXSA9IHt9O1xuICAgICAgICBwb3NzaWJsZUV2ZW50c1tzZWxmLmlkXSA9IHt9O1xuICAgICAgICBlbW9qaW9uZVJlYWR5KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgaW5pdChzZWxmLCBlbGVtZW50LCBvcHRpb25zKTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICBmdW5jdGlvbiBiaW5kRXZlbnQoc2VsZiwgZXZlbnQpIHtcbiAgICAgICAgZXZlbnQgPSBldmVudC5yZXBsYWNlKC9eQC8sICcnKTtcbiAgICAgICAgdmFyIGlkID0gc2VsZi5pZDtcbiAgICAgICAgaWYgKHBvc3NpYmxlRXZlbnRzW2lkXVtldmVudF0pIHtcbiAgICAgICAgICAgICQuZWFjaChwb3NzaWJsZUV2ZW50c1tpZF1bZXZlbnRdLCBmdW5jdGlvbihpLCBldikge1xuICAgICAgICAgICAgICAgIC8vIGV2WzBdID0gZWxlbWVudFxuICAgICAgICAgICAgICAgIC8vIGV2WzFdID0gZXZlbnRcbiAgICAgICAgICAgICAgICAvLyBldlsyXSA9IHRhcmdldFxuICAgICAgICAgICAgICAgICQuZWFjaCgkLmlzQXJyYXkoZXZbMF0pID8gZXZbMF0gOiBbZXZbMF1dLCBmdW5jdGlvbihpLCBlbCkge1xuICAgICAgICAgICAgICAgICAgICAkKGVsKS5vbihldlsxXSwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgYXJncyA9IHNsaWNlLmNhbGwoYXJndW1lbnRzKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YXJnZXQgPSAkLmlzRnVuY3Rpb24oZXZbMl0pID8gZXZbMl0uYXBwbHkoc2VsZiwgW2V2ZW50XS5jb25jYXQoYXJncykpIDogZXZbMl07XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodGFyZ2V0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJpZ2dlcihzZWxmLCBldmVudCwgW3RhcmdldF0uY29uY2F0KGFyZ3MpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHBvc3NpYmxlRXZlbnRzW2lkXVtldmVudF0gPSBudWxsO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgRW1vamlvbmVBcmVhLnByb3RvdHlwZS5vbiA9IGZ1bmN0aW9uKGV2ZW50cywgaGFuZGxlcikge1xuICAgICAgICBpZiAoZXZlbnRzICYmICQuaXNGdW5jdGlvbihoYW5kbGVyKSkge1xuICAgICAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICAgICAgJC5lYWNoKGV2ZW50cy50b0xvd2VyQ2FzZSgpLnNwbGl0KCcgJyksIGZ1bmN0aW9uKGksIGV2ZW50KSB7XG4gICAgICAgICAgICAgICAgYmluZEV2ZW50KHNlbGYsIGV2ZW50KTtcbiAgICAgICAgICAgICAgICAoZXZlbnRTdG9yYWdlW3NlbGYuaWRdW2V2ZW50XSB8fCAoZXZlbnRTdG9yYWdlW3NlbGYuaWRdW2V2ZW50XSA9IFtdKSkucHVzaChoYW5kbGVyKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzO1xuICAgIH07XG5cbiAgICBFbW9qaW9uZUFyZWEucHJvdG90eXBlLm9mZiA9IGZ1bmN0aW9uKGV2ZW50cywgaGFuZGxlcikge1xuICAgICAgICBpZiAoZXZlbnRzKSB7XG4gICAgICAgICAgICB2YXIgaWQgPSB0aGlzLmlkO1xuICAgICAgICAgICAgJC5lYWNoKGV2ZW50cy50b0xvd2VyQ2FzZSgpLnJlcGxhY2UoL18vZywgJy4nKS5zcGxpdCgnICcpLCBmdW5jdGlvbihpLCBldmVudCkge1xuICAgICAgICAgICAgICAgIGlmIChldmVudFN0b3JhZ2VbaWRdW2V2ZW50XSAmJiAhL15ALy50ZXN0KGV2ZW50KSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoaGFuZGxlcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgJC5lYWNoKGV2ZW50U3RvcmFnZVtpZF1bZXZlbnRdLCBmdW5jdGlvbihqLCBmbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChmbiA9PT0gaGFuZGxlcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBldmVudFN0b3JhZ2VbaWRdW2V2ZW50XSA9IGV2ZW50U3RvcmFnZVtpZF1bZXZlbnRdLnNwbGljZShqLCAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50U3RvcmFnZVtpZF1bZXZlbnRdID0gW107XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcztcbiAgICB9O1xuXG4gICAgRW1vamlvbmVBcmVhLnByb3RvdHlwZS5zZXRUZXh0ID0gZnVuY3Rpb24gKHN0cikge1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgIGVtb2ppb25lUmVhZHkoZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgc2VsZi5lZGl0b3IuaHRtbChodG1sRnJvbVRleHQoc3RyLCBzZWxmKSk7XG4gICAgICAgICAgICBzZWxmLmNvbnRlbnQgPSBzZWxmLmVkaXRvci5odG1sKCk7XG4gICAgICAgICAgICB0cmlnZ2VyKHNlbGYsICdjaGFuZ2UnLCBbc2VsZi5lZGl0b3JdKTtcbiAgICAgICAgICAgIGNhbGNCdXR0b25Qb3NpdGlvbi5hcHBseShzZWxmKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBzZWxmO1xuICAgIH1cblxuICAgIEVtb2ppb25lQXJlYS5wcm90b3R5cGUuZ2V0VGV4dCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gdGV4dEZyb21IdG1sKHRoaXMuZWRpdG9yLmh0bWwoKSwgdGhpcyk7XG4gICAgfVxuXG4gICAgRW1vamlvbmVBcmVhLnByb3RvdHlwZS5zaG93UGlja2VyID0gZnVuY3Rpb24gKCkge1xuICAgICAgICB2YXIgc2VsZiA9IHRoaXM7XG4gICAgICAgIGlmIChzZWxmLl9zaF90aW1lcikge1xuICAgICAgICAgICAgd2luZG93LmNsZWFyVGltZW91dChzZWxmLl9zaF90aW1lcik7XG4gICAgICAgIH1cbiAgICAgICAgc2VsZi5waWNrZXIucmVtb3ZlQ2xhc3MoXCJoaWRkZW5cIik7XG4gICAgICAgIHNlbGYuX3NoX3RpbWVyID0gIHdpbmRvdy5zZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgc2VsZi5idXR0b24uYWRkQ2xhc3MoXCJhY3RpdmVcIik7XG4gICAgICAgIH0sIDUwKTtcbiAgICAgICAgdHJpZ2dlcihzZWxmLCBcInBpY2tlci5zaG93XCIsIFtzZWxmLnBpY2tlcl0pO1xuICAgICAgICByZXR1cm4gc2VsZjtcbiAgICB9XG5cbiAgICBFbW9qaW9uZUFyZWEucHJvdG90eXBlLmhpZGVQaWNrZXIgPSBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHZhciBzZWxmID0gdGhpcztcbiAgICAgICAgaWYgKHNlbGYuX3NoX3RpbWVyKSB7XG4gICAgICAgICAgICB3aW5kb3cuY2xlYXJUaW1lb3V0KHNlbGYuX3NoX3RpbWVyKTtcbiAgICAgICAgfVxuICAgICAgICBzZWxmLmJ1dHRvbi5yZW1vdmVDbGFzcyhcImFjdGl2ZVwiKTtcbiAgICAgICAgc2VsZi5fc2hfdGltZXIgPSAgd2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICBzZWxmLnBpY2tlci5hZGRDbGFzcyhcImhpZGRlblwiKTtcbiAgICAgICAgfSwgNTAwKTtcbiAgICAgICAgdHJpZ2dlcihzZWxmLCBcInBpY2tlci5oaWRlXCIsIFtzZWxmLnBpY2tlcl0pO1xuICAgICAgICByZXR1cm4gc2VsZjtcbiAgICB9XG5cbiAgICAkLmZuLmVtb2ppb25lQXJlYSA9IGZ1bmN0aW9uKG9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGlmICghIXRoaXMuZW1vamlvbmVBcmVhKSByZXR1cm4gdGhpcy5lbW9qaW9uZUFyZWE7XG4gICAgICAgICAgICAkLmRhdGEodGhpcywgJ2Vtb2ppb25lQXJlYScsIHRoaXMuZW1vamlvbmVBcmVhID0gbmV3IEVtb2ppb25lQXJlYSgkKHRoaXMpLCBvcHRpb25zKSk7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5lbW9qaW9uZUFyZWE7XG4gICAgICAgIH0pO1xuICAgIH07XG5cbn0pIChkb2N1bWVudCwgd2luZG93LCBqUXVlcnkpO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9lbW9qaW9uZUFyZWEvZGlzdC9lbW9qaW9uZWFyZWEuanNcbi8vIG1vZHVsZSBpZCA9IDIyXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsImltcG9ydCAnLi9iYXNlLnNjc3MnO1xyXG5cclxuLy8gdmVuZG9yXHJcbmltcG9ydCAnd2hhdHdnLWZldGNoJztcclxuaW1wb3J0IFB1YlN1YiBmcm9tICdwdWJzdWItanMnO1xyXG4vLyBpbXBvcnQge2Vtb2ppb25lYXJlYX0gZnJvbSAnZW1vamlvbmVBcmVhL2Rpc3QvZW1vamlvbmVhcmVhJztcclxuLy8gJC5mbi5lbW9qaW9uZWFyZWEgPSBlbW9qaW9uZWFyZWE7XHJcblxyXG4vLyBjb21wb25lbnRzXHJcbi8vIGltcG9ydCB7Q09OU1R9IGZyb20gJy4vY29tbW9uL2pzLXNlcnZpY2VzL2NvbnN0cyc7XHJcbmltcG9ydCB7TG9naW5Gb3JtfSBmcm9tICcuL2Jsb2Nrcy9sb2dpbi1mb3JtL2xvZ2luLWZvcm0nO1xyXG5pbXBvcnQgUmVnaXN0ZXJGb3JtIGZyb20gJy4vYmxvY2tzL3JlZ2lzdGVyLWZvcm0vcmVnaXN0ZXItZm9ybSc7XHJcbmltcG9ydCB7TG9naW5QYWdlfSBmcm9tICcuL3BhZ2VzL19hdXRoL2xvZ2luLXBhZ2UnO1xyXG5pbXBvcnQge2NvbmZpcm1hdGlvbldpdGhSZWRpcmVjdH0gZnJvbSAnLi9ibG9ja3MvY29uZmlybS1yZWcvY29uZmlybS1yZWcnO1xyXG5pbXBvcnQgKiBhcyBoZWFkZXIgZnJvbSAnLi9ibG9ja3MvaGVhZGVyL2hlYWRlcic7XHJcbmltcG9ydCAqIGFzIHNpZGViYXJNZW51IGZyb20gJy4vYmxvY2tzL3NpZGViYXItbWVudS9zaWRlYmFyLW1lbnUnO1xyXG5pbXBvcnQgKiBhcyBidXJnZXJNZW51IGZyb20gJy4vYmxvY2tzL2hlYWRlci9idXJnZXItbWVudS9idXJnZXItbWVudSc7XHJcbmltcG9ydCAqIGFzIGluc3RhZ3JhbUFjY291bnRzIGZyb20gJy4vYmxvY2tzL2luc3RhZ3JhbS1hY2NvdW50cy1saXN0L2luc3RhZ3JhbS1hY2NvdW50cy1saXN0JztcclxuaW1wb3J0ICogYXMgbWVzc2FnZXMgZnJvbSAnLi9ibG9ja3MvbWVzc2FnZXMvbWVzc2FnZXMnO1xyXG5pbXBvcnQgKiBhcyBmb2xsb3cgZnJvbSAnLi9ibG9ja3MvZm9sbG93L2ZvbGxvdyc7XHJcbmltcG9ydCAqIGFzIHVuZm9sbG93IGZyb20gJy4vYmxvY2tzL3VuZm9sbG93L3VuZm9sbG93LWluZGV4JztcclxuaW1wb3J0ICogYXMgYXV0b21lc3NhZ2VzIGZyb20gJy4vYmxvY2tzL2F1dG9tZXNzYWdlcy9hdXRvbWVzc2FnZXMtaW5kZXgnO1xyXG5pbXBvcnQgKiBhcyBjaGF0Qm90IGZyb20gJy4vYmxvY2tzL2NoYXQtYm90L2NoYXQtYm90LWluZGV4JztcclxuaW1wb3J0ICogYXMgYXV0b2dyZWV0aW5nIGZyb20gJy4vYmxvY2tzL2F1dG9ncmVldGluZy9hdXRvZ3JlZXRpbmctbWFpbic7XHJcbmltcG9ydCAqIGFzIGF1dG9jb21tZW50cyBmcm9tICcuL2Jsb2Nrcy9hdXRvY29tbWVudHMvYXV0b2NvbW1lbnRzLWluZGV4JztcclxuaW1wb3J0ICogYXMgc3RvcmllcyBmcm9tICcuL2Jsb2Nrcy9zdG9yaWVzL3N0b3JpZXMtaW5kZXgnO1xyXG5cclxuLy8gY29uc3Qgc2VsZWN0b3JDc3NMb2dpbkZvcm0gPSB7XHJcbi8vICAgICBfbG9naW5Cb3g6IENPTlNULnVpU2VsZWN0b3JzLmhlYWRlckxvZ2luQm94LFxyXG4vLyAgICAgX2Zvcm1JZDogJyNqc19sb2dpbi1mb3JtJyxcclxuLy8gICAgIF9idXR0b25TdWJtaXRJZDogJyNqc19sb2dpbl9idG4nLFxyXG4vLyAgICAgX3Nob3dMb2dpbkJveEJ0bklkOiBDT05TVC51aVNlbGVjdG9ycy5oZWFkZXJOYXZMb2dpbkJ0blxyXG4vLyB9O1xyXG5cclxuLypcclxuKiBnbG9iYWwgZnVuY3Rpb25zXHJcbiovXHJcbmZ1bmN0aW9uIHNldFB1YlN1YihQdWJTdWIpIHtcclxuICAgIHdpbmRvdy5QdWJTdWIgPSBQdWJTdWI7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGluaXRUb29sdGlwKCkge1xyXG4gICAgJCgnW2RhdGEtdG9nZ2xlPVwidG9vbHRpcFwiXScpLnRvb2x0aXAoKTtcclxufVxyXG5cclxuY29uc3QgaW5pdCA9ICgpID0+IHtcclxuICAgIHNldFB1YlN1YihQdWJTdWIpO1xyXG4gICAgaW5pdFRvb2x0aXAoKTtcclxuICAgIC8vIGNvbnNvbGUubG9nKCdpbml0IGpzIGhlcmUnLCBDT05TVC51c2VyKTtcclxuICAgIChuZXcgUmVnaXN0ZXJGb3JtKCkpLmluaXQoKTtcclxuICAgIC8vIExvZ2luRm9ybShzZWxlY3RvckNzc0xvZ2luRm9ybSkuaW5pdCgpO1xyXG4gICAgTG9naW5Gb3JtKHtcclxuICAgICAgICBfbG9naW5Cb3g6ICdtYWluIC5sb2dpbi1ib3gnLFxyXG4gICAgICAgIF9mb3JtSWQ6ICcjanNfaW5zdGFncmFtLWFkZC1hY2NvdW50JyxcclxuICAgICAgICBfYnV0dG9uU3VibWl0SWQ6ICcjanNfaW5zdGFncmFtLWFkZC1hY2NvdW50LS1idG4nLFxyXG4gICAgICAgIF9zaG93TG9naW5Cb3hCdG5JZDogJyNqc19zaG93LWxvZ2luLWJveCcsXHJcbiAgICAgICAgaXNMb2dpbkluc3RhZ3JhbTogdHJ1ZVxyXG4gICAgfSkuaW5pdCgpOyAvLyBpbml0IGluc3RhZ3JhbSBsb2dpbiBmb3JtICohL1xyXG4gICAgTG9naW5QYWdlKHtcclxuICAgICAgICBfbG9naW5Cb3g6ICcuYXV0aC5sb2dpbiAuY2FyZC1zaWduaW4nLFxyXG4gICAgICAgIF9mb3JtSWQ6ICcuZm9ybS1zaWduaW4nLFxyXG4gICAgICAgIF9idXR0b25TdWJtaXRJZDogJy5mb3JtLXNpZ25pbiBbdHlwZT1cInN1Ym1pdFwiXSdcclxuICAgIH0pLmluaXQoKTtcclxuXHJcbiAgICBjb25maXJtYXRpb25XaXRoUmVkaXJlY3QoKS5pbml0KCk7XHJcbiAgICBoZWFkZXIuaW5pdEhlYWRlcigpO1xyXG4gICAgc2lkZWJhck1lbnUuaW5pdE1lbnUoKTtcclxuICAgIGJ1cmdlck1lbnUuaW5pdCgpO1xyXG4gICAgZm9sbG93LmluaXQoKTtcclxuICAgIHVuZm9sbG93LmluaXQoKTtcclxuICAgIGluc3RhZ3JhbUFjY291bnRzLmluaXQoKTtcclxuICAgIG1lc3NhZ2VzLmluaXQoKTtcclxuICAgIGF1dG9tZXNzYWdlcy5pbml0KCk7XHJcbiAgICBhdXRvZ3JlZXRpbmcuaW5pdCgpO1xyXG4gICAgYXV0b2NvbW1lbnRzLmluaXQoKTtcclxuICAgIGNoYXRCb3QuaW5pdCgpO1xyXG4gICAgc3Rvcmllcy5pbml0KCk7XHJcbn07XHJcblxyXG4oKCkgPT4gaW5pdCgpKSgpO1xyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvYm9vdHN0cmFwLmpzIiwiZXhwb3J0IGNvbnN0IHRwbFRleHRGaWVsZCA9IChtYWluQ2xzKSA9PlxyXG4kKGA8ZGl2IGNsYXNzPVwiJHttYWluQ2xzfSBtdC0yXCI+XHJcbiAgICA8ZGl2IGNsYXNzPVwicm93XCI+XHJcbiAgICAgICAgPGRpdiBjbGFzcz1cImNvbFwiPlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwianNfdGFnc2lucHV0LWJveFwiPlxyXG4gICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgcGxhY2Vob2xkZXI9XCLQktCy0LXQtNC40YLQtSDQutC70Y7Rh9C10LLRi9C1INGB0LvQvtCy0LBcIiB2YWx1ZT1cIlwiIGRhdGEtcm9sZT1cInRhZ3NpbnB1dFwiIGNsYXNzPVwiZm9ybS1jb250cm9sIGFuc3dlci13b3JkcyBtYi0yXCIgLz5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJqc190YWdzaW5wdXQtYm94IGJsYWNrbGlzdC1ib3ggbXktMlwiPlxyXG4gICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgcGxhY2Vob2xkZXI9XCLQktCy0LXQtNC40YLQtSDQvNC40L3Rg9GBINGB0LvQvtCy0LBcIiB2YWx1ZT1cIlwiIGRhdGEtcm9sZT1cInRhZ3NpbnB1dFwiIGNsYXNzPVwiZm9ybS1jb250cm9sIGJsYWNrbGlzdC13b3Jkc1wiIC8+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDwvZGl2PlxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJjb2xcIj5cclxuICAgICAgICAgICAgPHRleHRhcmVhIGNsYXNzPVwiZm9ybS1jb250cm9sIGFuc3dlci1tZXNzYWdlc1wiIHJvd3M9XCI0XCJcclxuICAgICAgICAgICAgICAgIGRhdGEtZW1vamktcGlja2VyPVwidHJ1ZVwiIHN0eWxlPVwicGFkZGluZzogMC4yNXJlbSAxLjc1cmVtIDAuMjVyZW0gMC4yNXJlbTsgd2lkdGg6IDEwMCU7bWluLWhlaWdodDogNDJweDtcIlxyXG4gICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCLQktCy0LXQtNC40YLQtSDRgdC+0L7QsdGJ0LXQvdC40LVcIlxyXG4gICAgICAgICAgICA+PC90ZXh0YXJlYT5cclxuICAgICAgICAgICAgXHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICA8L2Rpdj5cclxuPC9kaXY+YCk7XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9ibG9ja3MvYXV0b2NvbW1lbnRzL2FkZEFuc3dlclRlbXBsYXRlLmpzIiwiaW1wb3J0IHtDT05TVH0gZnJvbSAnLi4vLi4vY29tbW9uL2pzLXNlcnZpY2VzL2NvbnN0cyc7XHJcbmltcG9ydCAqIGFzIHdpemFyZEZvcm0gZnJvbSAnLi4vLi4vYmxvY2tzL3dpemFyZC1mb3JtL3dpemFyZC1mb3JtJztcclxuaW1wb3J0IHZpZXdVdGlscyBmcm9tICcuLi8uLi9jb21tb24vanMtc2VydmljZXMvdmlldyc7XHJcbmltcG9ydCBVc2VyVGFza01hbmFnZXIgZnJvbSAnLi4vLi4vY29tbW9uL2pzLXNlcnZpY2VzL2FwaS10YXNrLW1hbmFnZXInO1xyXG5pbXBvcnQgKiBhcyB0YWJzIGZyb20gJy4uL19zaGFyZWQvdGVicy1waWxzL3RhYnMnO1xyXG5pbXBvcnQgKiBhcyBhdXRvY29tbWVudHNTdGF0dXMgZnJvbSAnLi9hdXRvY29tbWVudHMtc3RhdHVzJztcclxuaW1wb3J0ICogYXMgbG9ncyBmcm9tICcuLi9fc2hhcmVkL2xvZ3MvbG9ncyc7XHJcbmltcG9ydCAqIGFzIGltYWdlVXBsb2FkIGZyb20gJy4uL19zaGFyZWQvaW1hZ2UtdXBsb2FkL2ltYWdlLXVwbG9hZCc7XHJcbmltcG9ydCB7ZW1vaml9IGZyb20gJy4uLy4uL2NvbW1vbi9qcy1zZXJ2aWNlcy9lbW9qaSc7XHJcbmltcG9ydCB7Z2V0UG9zdHN9IGZyb20gJy4uL19zaGFyZWQvZ2V0UG9zdHNNb2RhbC91dGlscy1tb2RhbCc7XHJcbmltcG9ydCB7dHBsVGV4dEZpZWxkfSBmcm9tICcuL2FkZEFuc3dlclRlbXBsYXRlJztcclxuaW1wb3J0IHtpbml0VGFnc0lucHV0LCBuZXh0QnRudmFsaWRhdGVDb21wZXRpdG9yc0hhbmRsZXJ9IGZyb20gJy4uL19zaGFyZWQvdGFncy1pbnB1dC90YWdzLWlucHV0JztcclxuXHJcbmNvbnN0IHtnZXRWYWxCeUNvbW1hU2VwYXJhdG9yfSA9IHZpZXdVdGlscztcclxubGV0IHVzZXJuYW1lU2VsZWN0ZWQgPSAnJztcclxuY29uc3Qgc2VsZWN0Q2xzID0gJ2pzX2xvZ3MtYWNjb3VudHMnO1xyXG5jb25zdCBjbHNDb25zdCA9IHtcclxuICAgIGN1cnJlbnRQYWdlQ2xzOiAnLmF1dG9jb21tZW50cy1wYWdlJyxcclxuICAgIHRhc2tzTGlzdDogJy5sb2ctdGFza3MnLFxyXG4gICAgbG9nc1RhYkJ0bjogJyN2LXBpbGxzLWxvZ3MtdGFiJyxcclxuICAgIHBhZ2luYXRpb246ICcubG9ncy1wYWdpbmF0aW9uJyxcclxuICAgIHBhZ2luYXRpb25QZ051bWJlcjogJy5wYWdlLW51bWJlcicsXHJcbiAgICBwYXRoVHlwZTogQ09OU1QudXJsLnRtVHlwZXMuYXV0b2NvbW1lbnRzVCxcclxuICAgIHBhdGhTdWJUeXBlOiBDT05TVC51cmwudG1UeXBlcy5hdXRvY29tbWVudHNTdWJUWzBdXHJcbn07XHJcbmNvbnN0IGVsU2VsZWN0b3IgPSB7XHJcbiAgICBmaWVsZHM6ICcuYXV0b2NvbW1lbnRzLXRleHQtZmllbGRzJyxcclxuICAgIGtleVdvcmQ6ICdpbnB1dC5hbnN3ZXItd29yZHMnLFxyXG4gICAgYW5zd2VyOiAndGV4dGFyZWEuYW5zd2VyLW1lc3NhZ2VzJyxcclxuICAgIGZpbGVVcGxvYWRCb3g6ICcuZmlsZS11cGxvYWQnLFxyXG4gICAgYWRkUG9zdEJ0bnM6ICcuanNfYXV0b2NvbW1lbnRzLWFkZC1wb3N0J1xyXG59O1xyXG5jb25zdCBsb2dzU3RhdGUgPSB7XHJcbiAgICBzZWxlY3RDbHM6ICdqc19sb2dzLWFjY291bnRzJyxcclxuICAgIHNlbGVjdENsc0xvZ3NUYXNrVHlwZTogJ2pzX2xvZ3Mtc3VidHlwZXMnLFxyXG4gICAgd3JhcHBlclN1YnR5cGU6ICcubG9nLXN1YnlwZSdcclxufTtcclxuXHJcbmZ1bmN0aW9uIGluaXRFbW9qaWkoKSB7XHJcbiAgICBlbW9qaSh7XHJcbiAgICAgICAgcGFnZTogY2xzQ29uc3QuY3VycmVudFBhZ2VDbHMsXHJcbiAgICAgICAgc3R5bGVzOiB7b2xkOiAnYm90dG9tOiAzMHB4OycsIG5ldzogJ3RvcDogLTIxMHB4Oyd9XHJcbiAgICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gdmFsaWRhdGVJc0VtcHR5KCRlbGVtZW50cywgZSkge1xyXG4gICAgJGVsZW1lbnRzLmVhY2goZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmICgkKHRoaXMpLnZhbCgpID09PSAnJykge1xyXG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICQodGhpcykuYWRkQ2xhc3MoJ2lucHV0LWVycm9yJyk7XHJcbiAgICAgICAgICAgIC8vIHZhbGlkYXRpb24gPSBmYWxzZTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICQodGhpcykucmVtb3ZlQ2xhc3MoJ2lucHV0LWVycm9yJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIG9uU3VibWl0SGFuZGxlcihlKSB7XHJcbiAgICBjb25zdCBmaWVsZHMgPSAkKGVsU2VsZWN0b3IuZmllbGRzKTtcclxuICAgIGNvbnN0IHJlcUJvZHkgPSBbXTtcclxuICAgIGxldCB2YWxpZGF0aW9uID0gdHJ1ZTtcclxuICAgIGNvbnN0ICRlbGVtZW50c0tleVdvcmQgPSBmaWVsZHMuZmluZChlbFNlbGVjdG9yLmtleVdvcmQpO1xyXG4gICAgY29uc3QgJGVsZW1lbnRzQW5zd2VyID0gZmllbGRzLmZpbmQoZWxTZWxlY3Rvci5hbnN3ZXIpO1xyXG5cclxuICAgIHZhbGlkYXRlSXNFbXB0eSgkZWxlbWVudHNLZXlXb3JkLCBlKTtcclxuICAgIHZhbGlkYXRlSXNFbXB0eSgkZWxlbWVudHNBbnN3ZXIsIGUpO1xyXG5cclxuICAgIGZpZWxkcy5lYWNoKChpZHgsIGl0ZW0pID0+IHtcclxuICAgICAgICBjb25zdCBrZXlXb3JkID0gZ2V0VmFsQnlDb21tYVNlcGFyYXRvcigkKGl0ZW0pLmZpbmQoZWxTZWxlY3Rvci5rZXlXb3JkKSk7XHJcbiAgICAgICAgY29uc3QgYW5zd2VyID0gJChpdGVtKS5maW5kKGVsU2VsZWN0b3IuYW5zd2VyKS52YWwoKTtcclxuICAgICAgICBjb25zdCBpbWFnZUlkID0gJChpdGVtKS5maW5kKGVsU2VsZWN0b3IuZmlsZVVwbG9hZEJveCkuYXR0cignYXR0YWNoZWQtaW1nLWlkJyk7XHJcbiAgICAgICAgY29uc3QgJGltYWdlUG9zdEJveCA9ICQoaXRlbSkuZmluZCgnLmpzX3VwbG9hZGVkLWltZy1mcm9tLXBvc3RzJyk7XHJcbiAgICAgICAgY29uc3QgcG9zdEl0ZW1JZCA9ICRpbWFnZVBvc3RCb3guZGF0YSgncG9zdElkJyk7XHJcbiAgICAgICAgY29uc3QgcG9zdEl0ZW1UeXBlID0gJGltYWdlUG9zdEJveC5kYXRhKCdwb3N0VHlwZScpO1xyXG4gICAgICAgIGNvbnN0IGJsYWNrbGlzdFdvcmRzID0gJChpdGVtKS5maW5kKCdpbnB1dC5ibGFja2xpc3Qtd29yZHMnKTtcclxuICAgICAgICBjb25zdCBibGFja2xpc3RXb3Jkc0FyciA9IGdldFZhbEJ5Q29tbWFTZXBhcmF0b3IoYmxhY2tsaXN0V29yZHMpO1xyXG5cclxuICAgICAgICBpZiAoIWtleVdvcmQubGVuZ3RoIHx8ICFhbnN3ZXIubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdrZXlXb3JkIGlzIGVtcHR5LCBub3QgcHVzaCBtZSB0byByZXF1ZXN0Jyk7XHJcbiAgICAgICAgICAgICQoaXRlbSkuYXBwZW5kKGBcclxuICAgICAgICAgICAgICAgIDxwIGNsYXNzPVwibXNnLWVtcHR5LWZpZWxkIHRleHQtZGFuZ2VyXCI+0J/Rg9GB0YLQvtC1INC/0L7Qu9C1INC90LUg0LLQsNC70LjQtNC90L48L3A+XHJcbiAgICAgICAgICAgIGApO1xyXG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgICQoJy5tc2ctZW1wdHktZmllbGQnKS5hZGRDbGFzcygnZC1ub25lJyk7XHJcbiAgICAgICAgICAgIH0sIDUwMDApO1xyXG4gICAgICAgICAgICB2YWxpZGF0aW9uID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3Qgc3VibWl0Qm9keUl0ZW0gPSB7XHJcbiAgICAgICAgICAgICdrZXlfd29yZHMnOiBrZXlXb3JkLFxyXG4gICAgICAgICAgICBhbnN3ZXIsXHJcbiAgICAgICAgICAgIGJsYWNrbGlzdDogYmxhY2tsaXN0V29yZHNBcnIsXHJcbiAgICAgICAgICAgICdhdHRhY2htZW50JzogaW1hZ2VJZCA/IHtcclxuICAgICAgICAgICAgICAgICdpbWFnZV9pZCc6IGltYWdlSWRcclxuICAgICAgICAgICAgfSA6IHVuZGVmaW5lZFxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGlmIChwb3N0SXRlbUlkKSB7XHJcbiAgICAgICAgICAgIHN1Ym1pdEJvZHlJdGVtLmF0dGFjaG1lbnQgPSB7XHJcbiAgICAgICAgICAgICAgICAuLi5zdWJtaXRCb2R5SXRlbS5hdHRhY2htZW50LFxyXG4gICAgICAgICAgICAgICAgcG9zdDoge1xyXG4gICAgICAgICAgICAgICAgICAgIGlkOiBwb3N0SXRlbUlkLFxyXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IHBvc3RJdGVtVHlwZSB8fCAndHlwZS1lcnJvcidcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmVxQm9keS5wdXNoKHN1Ym1pdEJvZHlJdGVtKTtcclxuICAgIH0pO1xyXG4gICAgaWYgKCF2YWxpZGF0aW9uKSB7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coJyoqYWxhcm0gKionLCBlbFNlbGVjdG9yLmtleVdvcmQpO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBuUmVxQm9keSA9IHtcclxuICAgICAgICAndXNlcm5hbWUnOiB1c2VybmFtZVNlbGVjdGVkLFxyXG4gICAgICAgICd0eXBlJzogY2xzQ29uc3QucGF0aFR5cGUsXHJcbiAgICAgICAgJ3N1YnR5cGUnOiBjbHNDb25zdC5wYXRoU3ViVHlwZSxcclxuICAgICAgICAndXNlcl9kZWZhdWx0X2NvbmZpZyc6IHt9LFxyXG4gICAgICAgICd1c2VyX2N1c3RvbV9jb25maWcnOiB7XHJcbiAgICAgICAgICAgICdmb3Jtcyc6IHJlcUJvZHlcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIC8vIGNvbnNvbGUubG9nKCdtYWtlIHJlcXVlc3QgaGVyZSoqJywgblJlcUJvZHkpO1xyXG4gICAgZnVuY3Rpb24gY2JFcnJvcihyZXMpIHtcclxuICAgICAgICBjb25zdCBtc2cgPSByZXMuc3RhdHVzLm1lc3NhZ2U7XHJcbiAgICAgICAgJCgnLmZvcm0tc3VibWl0LWZpbmlzaC0tZXJyb3InKS5hZGRDbGFzcygnZC1ibG9jaycpXHJcbiAgICAgICAgLmZpbmQoJy5hbGVydCcpLmFwcGVuZChgPHA+JHttc2d9PC9wPmApO1xyXG4gICAgfVxyXG4gICAgVXNlclRhc2tNYW5hZ2VyLnBvc3RTdGFydFRhc2soblJlcUJvZHksIGNiRXJyb3IpLnRoZW4oKHJlc3VsdCkgPT4ge1xyXG4gICAgICAgIGlmIChyZXN1bHQuc3RhdHVzLnN0YXRlID09PSAnb2snKSB7XHJcbiAgICAgICAgICAgICQoJy5mb3JtLXN1Ym1pdC1maW5pc2gnKS5maW5kKCcuYWxlcnQgcCcpLnJlbW92ZSgpO1xyXG4gICAgICAgICAgICAkKCcuZm9ybS1zdWJtaXQtZmluaXNoJykuYWRkQ2xhc3MoJ2QtYmxvY2snKVxyXG4gICAgICAgICAgICAgICAgLmZpbmQoJy5hbGVydCcpLmFwcGVuZChgPHA+dGFza19pZDogJHtyZXN1bHQuZGF0YS50YXNrX2lkfTwvcD5gKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gaW5pdExvZ3NUYWIoKSB7XHJcbiAgICBmdW5jdGlvbiBPbkNoYW5nZVNlbGVjdCgpIHtcclxuICAgICAgICBjb25zdCB7c2VsZWN0Q2xzfSA9IGxvZ3NTdGF0ZTtcclxuICAgICAgICAkKGAuJHtzZWxlY3RDbHN9YCkub24oJ2NoYW5nZScsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdXNlcm5hbWVTZWxlY3RlZCA9ICQoYC4ke3NlbGVjdENsc30gb3B0aW9uOnNlbGVjdGVkYCkudmFsKCk7XHJcbiAgICAgICAgICAgIC8vIGNsc0NvbnN0LnBhdGhTdWJUeXBlID0gbG9nc1N0YXRlLmFjdGl2ZVN1YlR5cGU7XHJcbiAgICAgICAgICAgIGxvZ3MuaW5pdChzZWxlY3RDbHMsIGNsc0NvbnN0KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIC8vIGFkZERyb3Bkb3duKCQobG9nc1N0YXRlLndyYXBwZXJTdWJ0eXBlKSwgbG9nc1N1YnR5cGVzLCB7bG9nc1N0YXRlLCBkcm9wZG93bk9uU2VsZWN0Q2J9KTtcclxuICAgIHRhYnMuaW5pdChPbkNoYW5nZVNlbGVjdCwgbG9nc1N0YXRlKTsgLy8gbWFrZXMgZG91YmxlIHJlcXVlc3QgOiBPUFRJT04gYW5kIEdFVFxyXG59XHJcblxyXG5mdW5jdGlvbiByZW1vdmVFeHRyYVRleHRGaWVsZHMoZSkge1xyXG4gICAgJChgJHtlbFNlbGVjdG9yLmZpZWxkc306bm90KDpmaXJzdC1jaGlsZClgKS5yZW1vdmVDbGFzcygnZC1ibG9jaycpO1xyXG4gICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcclxufVxyXG5cclxuLyogVE9ETzogcmVmYWN0b3IgLT4gbW92ZSBpbml0TW9kYWxIYW5kbGVyIHRvIHNlcGFyYXRlIGZpbGUsIHJlbW92ZSBpbml0TW9kYWxIYW5kbGVyIGluIGF1dG9ncmVldGluZy1tYWluLmpzICovXHJcbmxldCB0YXJnZXRCdXR0b24gPSB7fTtcclxuXHJcbmZ1bmN0aW9uIGxvYWRNb3JlSGFuZGxlcihnZXRQb3N0cykge1xyXG4gICAgJCgnI2xvYWQtbW9yZScpLm9mZigpLm9uKCdjbGljaycsIChlKSA9PiB7XHJcbiAgICAgICAgY29uc3QgJGJ0biA9ICQoZS50YXJnZXQpO1xyXG4gICAgICAgIGNvbnN0IGN1cnNvciA9ICRidG4uYXR0cignY3Vyc29yJyk7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ2xvYWQgbW9yZSBjbGljaycpO1xyXG4gICAgICAgIGdldFBvc3RzKG51bGwsIHt1c2VyTmFtZTogdXNlcm5hbWVTZWxlY3RlZCwgY3Vyc29yfSwge2xvYWRNb3JlSGFuZGxlcjogdGhpcywgdGFyZ2V0QnV0dG9ufSk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gaW5pdE1vZGFsSGFuZGxlcigpIHtcclxuXHJcbiAgICAkKCcuanNfb3Blbi1wb3N0cy1ncmlkTW9kYWwnKS5vbignY2xpY2snLCBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICB0YXJnZXRCdXR0b24gPSAkKHRoaXMpOyAvLyBCdXR0b24gdGhhdCB0cmlnZ2VyZWQgdGhlIG1vZGFsXHJcbiAgICAgICAgLy8gVXBkYXRlIHRoZSBtb2RhbCdzIGNvbnRlbnRcclxuICAgICAgICBjb25zdCBtb2RhbCA9ICQoJyNwb3N0c0dyaWRNb2RhbCcpO1xyXG4gICAgICAgIGdldFBvc3RzKG1vZGFsLCB7dXNlck5hbWU6IHVzZXJuYW1lU2VsZWN0ZWR9LCB7bG9hZE1vcmVIYW5kbGVyLCB0YXJnZXRCdXR0b259KTtcclxuICAgICAgICBtb2RhbC5maW5kKCcubW9kYWwtdGl0bGUnKS50ZXh0KCfQn9GD0LHQu9C40LrQsNGG0LjQuCcpO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbi8qIFRPRE86IHJlZmFjdG9yIC0+IG1vdmUgaW5pdE1vZGFsSGFuZGxlciB0byBzZXBhcmF0ZSBmaWxlIEVORCAqL1xyXG5cclxuLyoqXHJcbiAqIEluaXQgSGFuZGxlcnNcclxuICovXHJcbmZ1bmN0aW9uIGluaXRIYW5kbGVycygpIHtcclxuICAgIGNvbnN0ICRjb21wZXRpdG9yc0lucHV0ID0gJCgnLmF1dG9jb21tZW50cy10ZXh0LWZpZWxkcyBpbnB1dC5hbnN3ZXItd29yZHNbZGF0YS1yb2xlPVwidGFnc2lucHV0XCJdJyk7XHJcbiAgICBjb25zdCAkYmxhY2tMaXN0SW5wdXQgPSAkKCcuYXV0b2NvbW1lbnRzLXRleHQtZmllbGRzIGlucHV0LmJsYWNrbGlzdC13b3Jkc1tkYXRhLXJvbGU9XCJ0YWdzaW5wdXRcIl0nKTtcclxuICAgIGNvbnN0IG5leHRTdGVwQnRuID0gJCgnZm9ybSBidXR0b25bdHlwZT1cInN1Ym1pdFwiXScpO1xyXG4gICAgbmV4dEJ0bnZhbGlkYXRlQ29tcGV0aXRvcnNIYW5kbGVyKCRjb21wZXRpdG9yc0lucHV0LCBuZXh0U3RlcEJ0biwgJ2lnbm9yZVJlZ2V4Q2hlY2snKTtcclxuICAgIG5leHRCdG52YWxpZGF0ZUNvbXBldGl0b3JzSGFuZGxlcigkYmxhY2tMaXN0SW5wdXQsIG51bGwsICdpZ25vcmVSZWdleENoZWNrJyk7XHJcblxyXG4gICAgLy8gVE9ETzogcmVmYWN0b3Igd2l0aCBhdXRvZ3JlZXQuanMgaW5pdEhhbmRsZXJzXHJcbiAgICAvLyAkKCdbZGF0YS10b2dnbGU9XCJwb3BvdmVyXCJdJykucG9wb3ZlcigpOyAvLyBpbml0XHJcbiAgICAkKCcuanNfYWRkLWF1dG9jb21tZW50cycpLm9uKCdjbGljaycsIChlKSA9PiB7XHJcbiAgICAgICAgY29uc3QgbGFzdFRleHRGaWVsZCA9ICQoZWxTZWxlY3Rvci5maWVsZHMpLmxhc3QoKTtcclxuICAgICAgICB0cGxUZXh0RmllbGQoZWxTZWxlY3Rvci5maWVsZHMuc3Vic3RyKDEpKS5pbnNlcnRBZnRlcihsYXN0VGV4dEZpZWxkKTtcclxuICAgICAgICBpbWFnZVVwbG9hZC5pbml0KCk7XHJcbiAgICAgICAgLy8gJCgnW2RhdGEtdG9nZ2xlPVwicG9wb3ZlclwiXScpLnBvcG92ZXIoKTsgLy8gcmVpbml0XHJcbiAgICAgICAgJCgnW2RhdGEtdG9nZ2xlPVwidG9vbHRpcFwiXScpLnRvb2x0aXAoKTsgLy8gcmVpbml0XHJcbiAgICAgICAgaW5pdE1vZGFsSGFuZGxlcigpO1xyXG5cclxuICAgICAgICBjb25zdCBsYXN0VGV4dEZpZWxkQWZ0ZXJJbnNlcnQgPSAkKGVsU2VsZWN0b3IuZmllbGRzKS5sYXN0KCk7XHJcbiAgICAgICAgY29uc3QgJGlucHV0QW5zd2VyV29yZHMgPSAkKCdpbnB1dC5hbnN3ZXItd29yZHNbZGF0YS1yb2xlPVwidGFnc2lucHV0XCJdJywgbGFzdFRleHRGaWVsZEFmdGVySW5zZXJ0KTtcclxuICAgICAgICBjb25zdCAkYmxhY2tMaXN0SW5wdXQgPSAkKCdpbnB1dC5ibGFja2xpc3Qtd29yZHNbZGF0YS1yb2xlPVwidGFnc2lucHV0XCJdJywgbGFzdFRleHRGaWVsZEFmdGVySW5zZXJ0KTtcclxuXHJcbiAgICAgICAgaW5pdFRhZ3NJbnB1dCgkaW5wdXRBbnN3ZXJXb3Jkcyk7IC8vIHJlaW5pdCBhbnN3ZXItd29yZHNcclxuICAgICAgICBpbml0VGFnc0lucHV0KCRibGFja0xpc3RJbnB1dCk7IC8vIHJlaW5pdCBibGFja2xpc3Qtd29yZHNcclxuICAgICAgICBuZXh0QnRudmFsaWRhdGVDb21wZXRpdG9yc0hhbmRsZXIoJGlucHV0QW5zd2VyV29yZHMsIG5leHRTdGVwQnRuLCAnaWdub3JlUmVnZXhDaGVjaycpO1xyXG4gICAgICAgIG5leHRCdG52YWxpZGF0ZUNvbXBldGl0b3JzSGFuZGxlcigkYmxhY2tMaXN0SW5wdXQsIG51bGwsICdpZ25vcmVSZWdleENoZWNrJyk7XHJcbiAgICAgICAgaW5pdEVtb2ppaSgpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gYWxlcnQgc3VjY2VzcyBjbG9zZVxyXG4gICAgJCgnLmZvcm0tc3VibWl0LWZpbmlzaCAuY2xvc2UnKS5vbignY2xpY2snLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCdhbGVydCBjbG9zZScpO1xyXG4gICAgICAgICQoJyN2LXBpbGxzLWFsbC10YWInKS50cmlnZ2VyKCdjbGljaycpO1xyXG4gICAgICAgIHdpbmRvdy5QdWJTdWIucHVibGlzaChDT05TVC5ldmVudHMudGFza3MuTkVXX1RBU0tfQ1JFQVRFRCk7XHJcbiAgICAgICAgLy8gcmVtb3ZlRXh0cmFUZXh0RmllbGRzKGUpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gYWxlcnQgY2xvc2VcclxuICAgICQoJy5mb3JtLXN1Ym1pdC1maW5pc2gtLWVycm9yIC5jbG9zZScpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZygnYWxlcnQgY2xvc2UnKTtcclxuICAgICAgICAkKCcjdi1waWxscy1hbGwtdGFiJykudHJpZ2dlcignY2xpY2snKTtcclxuICAgICAgICB3aW5kb3cuUHViU3ViLnB1Ymxpc2goQ09OU1QuZXZlbnRzLnRhc2tzLk5FV19UQVNLX0NSRUFURUQpO1xyXG4gICAgICAgIHJlbW92ZUV4dHJhVGV4dEZpZWxkcygpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gdGFicy5pbml0KGZpbGxMaXN0VXNlcnMpO1xyXG4gICAgaW5pdExvZ3NUYWIoKTtcclxufVxyXG5cclxuZnVuY3Rpb24gc2V0VXNlck5hbWUoc3RhdGUpIHtcclxuICAgIC8vIGNvbnNvbGUubG9nKCdnZXRUYXNrc0RhdGEnLCBzdGF0ZS51c2VybmFtZSk7XHJcbiAgICB1c2VybmFtZVNlbGVjdGVkID0gc3RhdGUudXNlcm5hbWU7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHN0ZXBSZWR1Y2VyKHN0ZXBOdW1iZXIsIHN0YXRlKSB7XHJcbiAgICBzd2l0Y2ggKHN0ZXBOdW1iZXIpIHtcclxuICAgICAgICBjYXNlIDA6XHJcbiAgICAgICAgICAgIHNldFVzZXJOYW1lKHN0YXRlKTtcclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coc3RhdGUsIHN0ZXBOdW1iZXIpO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnZGVmYXVsdCcsIHN0ZXBOdW1iZXIpO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaW5pdCgpIHtcclxuICAgIGlmICgkKGNsc0NvbnN0LmN1cnJlbnRQYWdlQ2xzKS5sZW5ndGgpIHtcclxuICAgICAgICBjb25zdCB3aXphcmRDZmcgPSB7XHJcbiAgICAgICAgICAgIHN0ZXBSZWR1Y2VyLFxyXG4gICAgICAgICAgICBvblN1Ym1pdEhhbmRsZXJcclxuICAgICAgICB9O1xyXG4gICAgICAgIHdpemFyZEZvcm0uaW5pdCh3aXphcmRDZmcpO1xyXG4gICAgICAgIGluaXRIYW5kbGVycygpO1xyXG4gICAgICAgIGF1dG9jb21tZW50c1N0YXR1cy5pbml0KCk7XHJcbiAgICAgICAgLy8gaW5pdFRhZ3NJbnB1dCgnLmJsYWNrbGlzdC1ib3ggaW5wdXQnKTtcclxuXHJcbiAgICAgICAgd2luZG93LlB1YlN1Yi5zdWJzY3JpYmUoQ09OU1QuZXZlbnRzLmluc3RhZ3JhbUFjY291bnMuSU5TVEFHUkFNX0FDQ09VTlNfUkVOREVSRURfTEFaWSwgKGUsIGFjY291bnRzKSA9PiB7XHJcbiAgICAgICAgICAgIGxvZ3MuaW5pdChzZWxlY3RDbHMsIGNsc0NvbnN0KTtcclxuICAgICAgICB9KTtcclxuICAgICAgICAvLyB3aW5kb3cuUHViU3ViLnN1YnNjcmliZShDT05TVC5ldmVudHMuYXV0b2FybnN3ZXIuSU1BR0VfVVBMT0FERUQsIChlLCByZXMpID0+IHtcclxuICAgICAgICAvLyAgICAgY29uc3Qge3Jlc3BvbnNlfSA9IHJlcztcclxuICAgICAgICAvLyAgICAgY29uc3QgcmVzdWx0ID0gKHJlc3BvbnNlLmxlbmd0aCkgPyBKU09OLnBhcnNlKHJlc3BvbnNlKSA6ICcnO1xyXG4gICAgICAgIC8vICAgICBjb25zdCBpbWFnZUlkID0gcmVzdWx0ICYmIHJlc3VsdC5kYXRhICYmIHJlc3VsdC5kYXRhLmltYWdlX2lkO1xyXG4gICAgICAgIC8vICAgICAkKHJlcy5lbCkuY2xvc2VzdCgnLmZpbGUtdXBsb2FkJykuYXR0cignYXR0YWNoZWQtaW1nLWlkJywgaW1hZ2VJZCk7XHJcbiAgICAgICAgLy8gICAgIGNvbnNvbGUubG9nKCdpbWFnZV9sb2FkZWQnLCByZXMpO1xyXG4gICAgICAgIC8vXHJcbiAgICAgICAgLy8gICAgIC8vIHRvZG86IG1ha2UgYXMgY2FsbEJhY2tcclxuICAgICAgICAvLyAgICAgY29uc3QgJGltYWdlQm94ID0gJChyZXMuZWwpLmNsb3Nlc3QoJy5jb2wnKS5maW5kKCcuanNfdXBsb2FkZWQtaW1nLWZyb20tcG9zdHMnKTtcclxuICAgICAgICAvLyAgICAgaWYgKCRpbWFnZUJveC5sZW5ndGgpIHtcclxuICAgICAgICAvLyAgICAgICAgICRpbWFnZUJveC5yZW1vdmUoKTtcclxuICAgICAgICAvLyAgICAgfVxyXG4gICAgICAgIC8vIH0pO1xyXG4gICAgICAgIC8vIHdpbmRvdy5QdWJTdWIuc3Vic2NyaWJlKENPTlNULmV2ZW50cy5tb2RhbC5JTUFHRV9QT1NUX1NFTEVDVEVELCAoZSwgZGF0YSkgPT4ge1xyXG4gICAgICAgIC8vICAgICBjb25zdCAkaW1hZ2VCb3ggPSAkKGRhdGEuY2xvc2VzdENvbCkuZmluZCgnLmZpbGUtdXBsb2FkLWNvbnRlbnQnKTtcclxuICAgICAgICAvLyAgICAgY29uc29sZS5sb2coJyRpbWFnZUJveCcsICRpbWFnZUJveCk7XHJcbiAgICAgICAgLy8gICAgIGlmICgkaW1hZ2VCb3gubGVuZ3RoKSB7XHJcbiAgICAgICAgLy8gICAgICAgICAkaW1hZ2VCb3guaGlkZSgpO1xyXG4gICAgICAgIC8vICAgICB9XHJcbiAgICAgICAgLy8gfSk7XHJcbiAgICAgICAgaW5pdEVtb2ppaSgpO1xyXG4gICAgfVxyXG59XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9ibG9ja3MvYXV0b2NvbW1lbnRzL2F1dG9jb21tZW50cy1pbmRleC5qcyIsImltcG9ydCB7Q09OU1R9IGZyb20gJy4uLy4uL2NvbW1vbi9qcy1zZXJ2aWNlcy9jb25zdHMnO1xyXG5pbXBvcnQge2dldFRhc2tzRGF0YX0gZnJvbSAnLi4vX3NoYXJlZC90YXNrLXN0YXR1cy90YXNrLXN0YXR1cyc7XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaW5pdCgpIHtcclxuICAgIGlmICgkKCcuYXV0b2NvbW1lbnRzLXBhZ2UnKS5sZW5ndGgpIHtcclxuICAgICAgICBjb25zdCBwYXRoID0ge1xyXG4gICAgICAgICAgICB0eXBlOiBDT05TVC51cmwudG1UeXBlcy5hdXRvY29tbWVudHNULFxyXG4gICAgICAgICAgICBzdWJ0eXBlOiBDT05TVC51cmwudG1UeXBlcy5hdXRvY29tbWVudHNTdWJUWzBdXHJcbiAgICAgICAgfTtcclxuICAgICAgICBjb25zdCB3cmFwcGVycyA9IHtcclxuICAgICAgICAgICAgJHJ1bnM6ICQoJy50YXNrcy1ydW5zJyksXHJcbiAgICAgICAgICAgICRzdG9wcGVkOiAkKCcudGFza3Mtc3RvcHBlZCcpLFxyXG4gICAgICAgICAgICAkYWxsOiAkKCcudGFza3MtYWxsJylcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICAvLyB0YXNrLXN0YXR1cyBoYXMgb25lIHN1YnR5cGUsIHNvIGRvIG5vdCBhZGQgZHJvcGRvd25cclxuICAgICAgICAvLyByZW5kZXIgc3RhdHVzIGRyb3Bkb3duXHJcbiAgICAgICAgLy8gY29uc3QgdGV4dFJ1c0FycmF5ID0gWyfQn9C+IERFRkFVTFRfQVVUT19BTlNXRVInXTtcclxuICAgICAgICAvLyBkcm9wRG93bi5hZGREcm9wZG93bihsb2dzU3RhdGVTdGF0dXMud3JhcHBlclN1YnR5cGUsIENPTlNULnVybC50bVR5cGVzLnN0b3JpZXNTdWJULCB7bG9nc1N0YXRlOiBsb2dzU3RhdGVTdGF0dXMsIGRyb3Bkb3duT25TZWxlY3RDYiwgdGV4dFJ1c0FycmF5fSk7XHJcblxyXG4gICAgICAgIGdldFRhc2tzRGF0YSh3cmFwcGVycywgcGF0aCk7XHJcbiAgICAgICAgLy8gd2luZG93LlB1YlN1Yi5zdWJzY3JpYmUoQ09OU1QuZXZlbnRzLmluc3RhZ3JhbUFjY291bnMuSU5TVEFHUkFNX0FDQ09VTlNfUkVOREVSRUQsIChldmVudE5hbWUsIGRhdGEpID0+IHtcclxuICAgICAgICAvLyAgICAgZ2V0VGFza3NEYXRhKHdyYXBwZXJzLCBwYXRoKTtcclxuICAgICAgICAvLyAgICAgY29uc29sZS5sb2coJyoqYW5zd2VyLXN0YXR1cycsIGV2ZW50TmFtZSwgZGF0YSk7XHJcbiAgICAgICAgLy8gfSk7XHJcbiAgICAgICAgd2luZG93LlB1YlN1Yi5zdWJzY3JpYmUoQ09OU1QuZXZlbnRzLnRhc2tzLk5FV19UQVNLX0NSRUFURUQsIChldmVudE5hbWUsIGRhdGEpID0+IHtcclxuICAgICAgICAgICAgZ2V0VGFza3NEYXRhKHdyYXBwZXJzLCBwYXRoKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufVxyXG5cclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2Jsb2Nrcy9hdXRvY29tbWVudHMvYXV0b2NvbW1lbnRzLXN0YXR1cy5qcyIsImV4cG9ydCBjb25zdCB0cGxUZXh0RmllbGRHcmVldCA9IChtYWluQ2xzKSA9PlxyXG4kKGA8ZGl2IGNsYXNzPVwiJHttYWluQ2xzfVwiPlxyXG4gICAgICAgIDxkaXYgY2xhc3M9XCJyb3dcIj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbFwiPlxyXG4gICAgICAgICAgICAgICAgPGRpdj4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgPHRleHRhcmVhIGNsYXNzPVwiZm9ybS1jb250cm9sIGFuc3dlci13b3Jkc1wiIHJvd3M9XCI0XCIgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEtZW1vamktcGlja2VyPVwidHJ1ZVwiIHBsYWNlaG9sZGVyPVwi0JLQstC10LTQuNGC0LUg0YHQvtC+0LHRidC10L3QuNC1XCI+PC90ZXh0YXJlYT4gICAgXHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuXHJcbiAgICAgICAgICAgICAgICA8IS0tIGZpbGUtdXBsb2FkIC0tPlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZpbGUtdXBsb2FkLWJ0bi1ib3hcIiBkYXRhLXRvZ2dsZT1cInRvb2x0aXBcIiBkYXRhLXBsYWNlbWVudD1cInRvcFwiIHRpdGxlPVwi0JTQvtCx0LDQstC40YLRjCDQuNC30L7QsdGA0LDQttC10L3QuNC1XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiBjbGFzcz1cImZpbGUtdXBsb2FkLWJ0biBidG4gYnRuLXN1Y2Nlc3NcIiB0eXBlPVwiYnV0dG9uXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzPVwiZmFyIGZhLWltYWdlIGZhLWxnXCI+PC9pPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcblxyXG4gICAgICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJidG4gYnRuLXN1Y2Nlc3MgcG9zdC11cGxvYWQtYnRuIGpzX2F1dG9tZXNzYWdlcy1hZGQtcG9zdFwiXHJcbiAgICAgICAgICAgICAgICAgICAgdGl0bGU9XCLQlNC+0LHQsNCy0LjRgtGMINC/0YPQsdC70LjQutCw0YbQuNGOXCJcclxuICAgICAgICAgICAgICAgICAgICBkYXRhLXRvZ2dsZT1cInRvb2x0aXBcIlxyXG4gICAgICAgICAgICAgICAgICAgIGRhdGEtcGxhY2VtZW50PVwidG9wXCJcclxuICAgICAgICAgICAgICAgICAgICBkYXRhLXBvc3QtaW5mbz1cInRvZG86IGdldCByZXEgdG8gdXNlcjogXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJqc19vcGVuLXBvc3RzLWdyaWRNb2RhbFwiXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEtY29udGFpbmVyPVwiYm9keVwiIGRhdGEtdG9nZ2xlPVwicG9wb3ZlclwiIGRhdGEtcGxhY2VtZW50PVwiYm90dG9tXCIgZGF0YS1jb250ZW50PVwi0KMg0YLQtdC60YPRidC10LPQviDQsNC60LrQsNGD0L3RgtCwINC90LXRgiDQvdC4INC+0LTQvdC+0LPQviDQv9C+0YHRgtCwXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9XCJmYXIgZmEtaW1hZ2VzIGZhLWxnXCI+PC9pPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cclxuICAgICAgICAgICAgICAgIDwvYnV0dG9uPlxyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibXQtMlwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmaWxlLXVwbG9hZFwiPlxyXG4gICAgICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImltYWdlLXVwbG9hZC13cmFwXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCBjbGFzcz1cImZpbGUtdXBsb2FkLWlucHV0XCIgdHlwZT1cImZpbGVcIiBhY2NlcHQ9XCIuanBnLCAuanBlZ1wiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmlsZS11cGxvYWQtY29udGVudFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8aW1nIGNsYXNzPVwiZmlsZS11cGxvYWQtaW1hZ2VcIiBzcmM9XCIjXCIgYWx0PVwieW91ciBpbWFnZVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaW1hZ2UtdGl0bGUtd3JhcFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwicmVtb3ZlLWltYWdlIGJ0biBidG4td2FybmluZ1wiPtCj0LTQsNC70LjRgtGMIDxzcGFuIGNsYXNzPVwiaW1hZ2UtdGl0bGVcIj7Ql9Cw0LPRgNGD0LfQuNGC0Yw8L3NwYW4+PC9idXR0b24+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICA8L2Rpdj5gKTtcclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2Jsb2Nrcy9hdXRvZ3JlZXRpbmcvYWRkR3JlZXRUZW1wbGF0ZS5qcyIsImltcG9ydCB7Q09OU1R9IGZyb20gJy4uLy4uL2NvbW1vbi9qcy1zZXJ2aWNlcy9jb25zdHMnO1xyXG5pbXBvcnQgKiBhcyB3aXphcmRGb3JtIGZyb20gJy4uLy4uL2Jsb2Nrcy93aXphcmQtZm9ybS93aXphcmQtZm9ybSc7XHJcbmltcG9ydCBVc2VyVGFza01hbmFnZXIgZnJvbSAnLi4vLi4vY29tbW9uL2pzLXNlcnZpY2VzL2FwaS10YXNrLW1hbmFnZXInO1xyXG5pbXBvcnQgKiBhcyB0YWJzIGZyb20gJy4uL19zaGFyZWQvdGVicy1waWxzL3RhYnMnO1xyXG5pbXBvcnQgKiBhcyBjaGF0Qm90U3RhdHVzIGZyb20gJy4vYXV0b2dyZWV0aW5nLXN0YXR1cyc7XHJcbmltcG9ydCAqIGFzIGxvZ3MgZnJvbSAnLi4vX3NoYXJlZC9sb2dzL2xvZ3MnO1xyXG5pbXBvcnQge2Vtb2ppfSBmcm9tICcuLi8uLi9jb21tb24vanMtc2VydmljZXMvZW1vamknO1xyXG5pbXBvcnQgKiBhcyBpbWFnZVVwbG9hZCBmcm9tICcuLi9fc2hhcmVkL2ltYWdlLXVwbG9hZC9pbWFnZS11cGxvYWQnO1xyXG5pbXBvcnQge2dldFBvc3RzfSBmcm9tICcuLi9fc2hhcmVkL2dldFBvc3RzTW9kYWwvdXRpbHMtbW9kYWwnO1xyXG5pbXBvcnQge3RwbFRleHRGaWVsZEdyZWV0fSBmcm9tICcuL2FkZEdyZWV0VGVtcGxhdGUnO1xyXG5cclxubGV0IHVzZXJuYW1lU2VsZWN0ZWQgPSAnJztcclxuY29uc3Qgc2VsZWN0Q2xzID0gJ2pzX2xvZ3MtYWNjb3VudHMnO1xyXG5jb25zdCBzcGVlZFR5cGUgPSAnLmpzX2F1dG9ncmVldGluZy1zcGVlZCc7XHJcbmNvbnN0IGNsc0NvbnN0ID0ge1xyXG4gICAgY3VycmVudFBhZ2VDbHM6ICcuYXV0b2dyZWV0aW5nLXBhZ2UnLFxyXG4gICAgdGFza3NMaXN0OiAnLmxvZy10YXNrcycsXHJcbiAgICBsb2dzVGFiQnRuOiAnI3YtcGlsbHMtbG9ncy10YWInLFxyXG4gICAgcGFnaW5hdGlvbjogJy5sb2dzLXBhZ2luYXRpb24nLFxyXG4gICAgcGFnaW5hdGlvblBnTnVtYmVyOiAnLnBhZ2UtbnVtYmVyJyxcclxuICAgIHBhdGhUeXBlOiBDT05TVC51cmwudG1UeXBlcy5hdXRvZ3JlZXRULFxyXG4gICAgcGF0aFN1YlR5cGU6IENPTlNULnVybC50bVR5cGVzLmF1dG9ncmVldFN1YlRbMF1cclxufTtcclxuY29uc3QgZWxTZWxlY3RvciA9IHtcclxuICAgIGZpZWxkczogJy5hdXRvZ3JlZXRpbmctdGV4dC1maWVsZHMnLFxyXG4gICAgZmlsZVVwbG9hZEJveDogJy5maWxlLXVwbG9hZCdcclxufTtcclxuY29uc3Qgc3RhdGUgPSB7XHJcbiAgICB1c2VyX2RlZmF1bHRfY29uZmlnOiB7XHJcbiAgICAgICAgdGFza19tb2RlOiAnU0FGRSdcclxuICAgIH1cclxufTtcclxuXHJcbmZ1bmN0aW9uIG9uU3VibWl0SGFuZGxlcihlKSB7XHJcbiAgICBjb25zdCBmaWVsZHMgPSAkKGVsU2VsZWN0b3IuZmllbGRzKTtcclxuICAgIGNvbnN0IHJlcUJvZHkgPSBbXTtcclxuICAgIGNvbnN0IGdldEF0dGFjaG1lbnQgPSAoaXRlbSkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGltYWdlSWQgPSAkKGl0ZW0pLmZpbmQoZWxTZWxlY3Rvci5maWxlVXBsb2FkQm94KS5hdHRyKCdhdHRhY2hlZC1pbWctaWQnKTtcclxuICAgICAgICBjb25zdCAkaW1hZ2VQb3N0Qm94ID0gJChpdGVtKS5maW5kKCcuanNfdXBsb2FkZWQtaW1nLWZyb20tcG9zdHMnKTtcclxuICAgICAgICBjb25zdCBwb3N0SXRlbUlkID0gJGltYWdlUG9zdEJveC5kYXRhKCdwb3N0SWQnKTtcclxuICAgICAgICBjb25zdCBwb3N0SXRlbVR5cGUgPSAkaW1hZ2VQb3N0Qm94LmRhdGEoJ3Bvc3RUeXBlJyk7XHJcbiAgICAgICAgY29uc3QgcG9zdCA9IHtcclxuICAgICAgICAgICAgaWQ6IHBvc3RJdGVtSWQsXHJcbiAgICAgICAgICAgIHR5cGU6IHBvc3RJdGVtVHlwZSB8fCAndHlwZS1lcnJvcidcclxuICAgICAgICB9O1xyXG4gICAgICAgIGxldCBhdHRhY2htZW50ID0gbnVsbDtcclxuXHJcbiAgICAgICAgaWYgKHBvc3RJdGVtSWQpIHtcclxuICAgICAgICAgICAgYXR0YWNobWVudCA9IHtwb3N0fTtcclxuICAgICAgICB9IGVsc2UgaWYgKGltYWdlSWQpIHtcclxuICAgICAgICAgICAgYXR0YWNobWVudCA9IHsnaW1hZ2VfaWQnOiBpbWFnZUlkfTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGF0dGFjaG1lbnQ7XHJcbiAgICB9O1xyXG4gICAgZmllbGRzLmVhY2goKGlkeCwgaXRlbSkgPT4ge1xyXG4gICAgICAgIGNvbnN0IG1lc3NhZ2UgPSAkKGl0ZW0pLmZpbmQoJ3RleHRhcmVhLmFuc3dlci13b3JkcycpLnZhbCgpO1xyXG4gICAgICAgIC8vIGNvbnN0IGltYWdlSWQgPSAkKGl0ZW0pLmZpbmQoZWxTZWxlY3Rvci5maWxlVXBsb2FkQm94KS5hdHRyKCdhdHRhY2hlZC1pbWctaWQnKTtcclxuICAgICAgICAvLyBjb25zdCAkaW1hZ2VQb3N0Qm94ID0gJChpdGVtKS5maW5kKCcuanNfdXBsb2FkZWQtaW1nLWZyb20tcG9zdHMnKTtcclxuICAgICAgICAvLyBjb25zdCBwb3N0SXRlbUlkID0gJGltYWdlUG9zdEJveC5kYXRhKCdwb3N0SWQnKTtcclxuICAgICAgICAvLyBjb25zdCBwb3N0SXRlbVR5cGUgPSAkaW1hZ2VQb3N0Qm94LmRhdGEoJ3Bvc3RUeXBlJyk7XHJcbiAgICAgICAgLy8gY29uc3QgcG9zdCA9IHtcclxuICAgICAgICAvLyAgICAgaWQ6IHBvc3RJdGVtSWQsXHJcbiAgICAgICAgLy8gICAgIHR5cGU6IHBvc3RJdGVtVHlwZSB8fCAndHlwZS1lcnJvcidcclxuICAgICAgICAvLyB9O1xyXG5cclxuICAgICAgICAvLyBpZiAocG9zdEl0ZW1JZCkge1xyXG4gICAgICAgIC8vICAgICBhdHRhY2htZW50ID0ge3Bvc3R9O1xyXG4gICAgICAgIC8vIH0gZWxzZSBpZiAoaW1hZ2VJZCkge1xyXG4gICAgICAgIC8vICAgICBhdHRhY2htZW50ID0geydpbWFnZV9pZCc6IGltYWdlSWR9O1xyXG4gICAgICAgIC8vIH1cclxuXHJcbiAgICAgICAgY29uc3QgYXR0YWNobWVudEltZyA9IGdldEF0dGFjaG1lbnQoaXRlbSk7XHJcbiAgICAgICAgcmVxQm9keS5wdXNoKHtcclxuICAgICAgICAgICAgJ2Fuc3dlcic6IG1lc3NhZ2UsXHJcbiAgICAgICAgICAgICdhdHRhY2htZW50JzogKGF0dGFjaG1lbnRJbWcpID8gYXR0YWNobWVudEltZyA6IHVuZGVmaW5lZFxyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcbiAgICBjb25zdCBuUmVxQm9keSA9IHtcclxuICAgICAgICAndXNlcm5hbWUnOiB1c2VybmFtZVNlbGVjdGVkIHx8ICd0aGVfcm9zdHlzbGF2JyxcclxuICAgICAgICAndHlwZSc6IENPTlNULnVybC50bVR5cGVzLmF1dG9ncmVldFQsXHJcbiAgICAgICAgJ3N1YnR5cGUnOiBDT05TVC51cmwudG1UeXBlcy5hdXRvZ3JlZXRTdWJUWzBdLFxyXG4gICAgICAgICd1c2VyX2RlZmF1bHRfY29uZmlnJzoge1xyXG4gICAgICAgICAgICAndGFza19tb2RlJzogc3RhdGUudXNlcl9kZWZhdWx0X2NvbmZpZy50YXNrX21vZGUgLy8gdG9kb1xyXG4gICAgICAgIH0sXHJcbiAgICAgICAgJ3VzZXJfY3VzdG9tX2NvbmZpZyc6IHtcclxuICAgICAgICAgICAgJ2Zvcm1zJzogcmVxQm9keVxyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBjb25zb2xlLmxvZygnbWFrZSByZXF1ZXN0ICoqJywgblJlcUJvZHkpO1xyXG4gICAgZnVuY3Rpb24gY2JFcnJvcihyZXMpIHtcclxuICAgICAgICBjb25zdCBtc2cgPSByZXMuc3RhdHVzLm1lc3NhZ2U7XHJcbiAgICAgICAgJCgnLmZvcm0tc3VibWl0LWZpbmlzaC0tZXJyb3InKS5hZGRDbGFzcygnZC1ibG9jaycpXHJcbiAgICAgICAgLmZpbmQoJy5hbGVydCcpLmFwcGVuZChgPHA+JHttc2d9PC9wPmApO1xyXG4gICAgfVxyXG4gICAgVXNlclRhc2tNYW5hZ2VyLnBvc3RTdGFydFRhc2soblJlcUJvZHksIGNiRXJyb3IpLnRoZW4oKHJlc3VsdCkgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdwb3N0Qm90Jyk7XHJcbiAgICAgICAgaWYgKHJlc3VsdC5zdGF0dXMuc3RhdGUgPT09ICdvaycpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coSlNPTi5zdHJpbmdpZnkocmVzdWx0KSk7XHJcbiAgICAgICAgICAgICQoJy5mb3JtLXN1Ym1pdC1maW5pc2gnKS5maW5kKCcuYWxlcnQgcCcpLnJlbW92ZSgpO1xyXG4gICAgICAgICAgICAkKCcuZm9ybS1zdWJtaXQtZmluaXNoJykuYWRkQ2xhc3MoJ2QtYmxvY2snKVxyXG4gICAgICAgICAgICAgICAgLmZpbmQoJy5hbGVydCcpLmFwcGVuZChgPHA+dGFza19pZDogJHtyZXN1bHQuZGF0YS50YXNrX2lkfTwvcD5gKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxufVxyXG5cclxuLy8gZnVuY3Rpb24gZmlsbExpc3RVc2Vycygkd3JhcHBlciwgZGF0YSkge1xyXG4vLyAgICAgJHdyYXBwZXIuZW1wdHkoKS5hZGRDbGFzcygnYm9yZGVyLWxpZ2h0LWNvbG9yJyk7XHJcbi8vICAgICAkKGA8ZGl2IGNsYXNzPVwiXCI+0JTQvtGB0YLRg9C/0L3Ri9C1INCw0LrQutCw0YPQvdGC0Ys8L2Rpdj48c2VsZWN0IG5hbWU9XCJ0YXNrLXR5cGVcIiBjbGFzcz1cIiR7c2VsZWN0Q2xzfVwiPjwvc2VsZWN0PmApLmFwcGVuZFRvKCR3cmFwcGVyKTtcclxuLy8gICAgIGRhdGEuZm9yRWFjaCgobmFtZSkgPT4ge1xyXG4vLyAgICAgICAgICQoYDxvcHRpb24gY2xhc3M9XCJsaXN0LWdyb3VwLWl0ZW0gcHktMlwiIHZhbHVlPVwiJHtuYW1lfVwiPlxyXG4vLyAgICAgICAgICAgICAke25hbWV9XHJcbi8vICAgICAgICAgPC9vcHRpb24+YCkuYXBwZW5kVG8oJChgLiR7c2VsZWN0Q2xzfWApKTtcclxuLy8gICAgIH0pO1xyXG4vLyAgICAgJChgLiR7c2VsZWN0Q2xzfWApLm9uKCdjaGFuZ2UnLCBmdW5jdGlvbiAoKSB7XHJcbi8vICAgICAgICAgdXNlcm5hbWVTZWxlY3RlZCA9ICQoYC4ke3NlbGVjdENsc30gb3B0aW9uOnNlbGVjdGVkYCkudmFsKCk7XHJcbi8vICAgICAgICAgY29uc29sZS5sb2codXNlcm5hbWVTZWxlY3RlZCk7XHJcbi8vICAgICAgICAgbG9ncy5pbml0KHNlbGVjdENscywgY2xzQ29uc3QpO1xyXG4vLyAgICAgfSk7XHJcbi8vIH1cclxuXHJcbmNvbnN0IGxvZ3NTdGF0ZSA9IENPTlNULmxvZ3NTdGF0ZTtcclxuZnVuY3Rpb24gaW5pdExvZ3NUYWIoKSB7XHJcbiAgICBmdW5jdGlvbiBPbkNoYW5nZVNlbGVjdCgpIHtcclxuICAgICAgICBjb25zdCB7c2VsZWN0Q2xzfSA9IGxvZ3NTdGF0ZTtcclxuICAgICAgICAkKGAuJHtzZWxlY3RDbHN9YCkub24oJ2NoYW5nZScsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdXNlcm5hbWVTZWxlY3RlZCA9ICQoYC4ke3NlbGVjdENsc30gb3B0aW9uOnNlbGVjdGVkYCkudmFsKCk7XHJcbiAgICAgICAgICAgIC8vIGNsc0NvbnN0LnBhdGhTdWJUeXBlID0gbG9nc1N0YXRlLmFjdGl2ZVN1YlR5cGU7XHJcbiAgICAgICAgICAgIGxvZ3MuaW5pdChzZWxlY3RDbHMsIGNsc0NvbnN0KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIC8vIGFkZERyb3Bkb3duKCQobG9nc1N0YXRlLndyYXBwZXJTdWJ0eXBlKSwgbG9nc1N1YnR5cGVzLCB7bG9nc1N0YXRlLCBkcm9wZG93bk9uU2VsZWN0Q2J9KTtcclxuICAgIHRhYnMuaW5pdChPbkNoYW5nZVNlbGVjdCwgbG9nc1N0YXRlKTsgLy8gbWFrZXMgZG91YmxlIHJlcXVlc3QgOiBPUFRJT04gYW5kIEdFVFxyXG59XHJcblxyXG5mdW5jdGlvbiBpbml0RW1vamlpKCkge1xyXG4gICAgZW1vamkoe1xyXG4gICAgICAgIHBhZ2U6IGNsc0NvbnN0LmN1cnJlbnRQYWdlQ2xzLFxyXG4gICAgICAgIHN0eWxlczoge29sZDogJ2JvdHRvbTogMzBweDsnLCBuZXc6ICd0b3A6IC0yMTBweDsnfVxyXG4gICAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHJlbW92ZUV4dHJhVGV4dEZpZWxkcygpIHtcclxuICAgICQoYCR7ZWxTZWxlY3Rvci5maWVsZHN9Om5vdCg6Zmlyc3QtY2hpbGQpYCkucmVtb3ZlKCk7XHJcbn1cclxuXHJcbi8qIFRPRE86IHJlZmFjdG9yIC0+IG1vdmUgaW5pdE1vZGFsSGFuZGxlciB0byBzZXBhcmF0ZSBmaWxlICovXHJcbmxldCB0YXJnZXRCdXR0b24gPSB7fTtcclxuXHJcbmZ1bmN0aW9uIGxvYWRNb3JlSGFuZGxlcihnZXRQb3N0cykge1xyXG4gICAgJCgnI2xvYWQtbW9yZScpLm9uKCdjbGljaycsIChlKSA9PiB7XHJcbiAgICAgICAgY29uc3QgJGJ0biA9ICQoZS50YXJnZXQpO1xyXG4gICAgICAgIGNvbnN0IGN1cnNvciA9ICRidG4uYXR0cignY3Vyc29yJyk7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ2xvYWQgbW9yZSBjbGljaycpO1xyXG4gICAgICAgIGdldFBvc3RzKG51bGwsIHt1c2VyTmFtZTogdXNlcm5hbWVTZWxlY3RlZCwgY3Vyc29yfSwge2xvYWRNb3JlSGFuZGxlcjogdGhpcywgdGFyZ2V0QnV0dG9ufSk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gaW5pdE1vZGFsSGFuZGxlcigpIHtcclxuICAgICQoJy5qc19vcGVuLXBvc3RzLWdyaWRNb2RhbCcpLm9uKCdjbGljaycsIGZ1bmN0aW9uIChldmVudCkge1xyXG4gICAgICAgIHRhcmdldEJ1dHRvbiA9ICQodGhpcyk7IC8vIEJ1dHRvbiB0aGF0IHRyaWdnZXJlZCB0aGUgbW9kYWxcclxuICAgICAgICAvLyBVcGRhdGUgdGhlIG1vZGFsJ3MgY29udGVudFxyXG4gICAgICAgIGNvbnN0IG1vZGFsID0gJCgnI3Bvc3RzR3JpZE1vZGFsJyk7XHJcbiAgICAgICAgZ2V0UG9zdHMobW9kYWwsIHt1c2VyTmFtZTogdXNlcm5hbWVTZWxlY3RlZH0sIHtsb2FkTW9yZUhhbmRsZXIsIHRhcmdldEJ1dHRvbn0pO1xyXG4gICAgICAgIG1vZGFsLmZpbmQoJy5tb2RhbC10aXRsZScpLnRleHQoJ9Cf0YPQsdC70LjQutCw0YbQuNC4Jyk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuLyogVE9ETzogcmVmYWN0b3IgLT4gbW92ZSBpbml0TW9kYWxIYW5kbGVyIHRvIHNlcGFyYXRlIGZpbGUgRU5EKi9cclxuXHJcbi8qKlxyXG4gKiBJbml0IGhlYWRlclxyXG4gKi9cclxuZnVuY3Rpb24gaW5pdEhhbmRsZXJzKCkge1xyXG4gICAgLy8gVE9ETzogcmVmYWN0b3Igd2l0aCBhdXRvZ3JlZXQuanMgaW5pdEhhbmRsZXJzXHJcbiAgICAkKCcuanNfYWRkLWF1dG9tZXNzYWdlcycpLm9uKCdjbGljaycsIChlKSA9PiB7XHJcbiAgICAgICAgY29uc3QgbGFzdFRleHRGaWVsZCA9ICQoZWxTZWxlY3Rvci5maWVsZHMpLmxhc3QoKTtcclxuICAgICAgICB0cGxUZXh0RmllbGRHcmVldChlbFNlbGVjdG9yLmZpZWxkcy5zdWJzdHIoMSkpLmluc2VydEFmdGVyKGxhc3RUZXh0RmllbGQpO1xyXG4gICAgICAgIGluaXRFbW9qaWkoKTtcclxuICAgICAgICBpbWFnZVVwbG9hZC5pbml0KCk7XHJcbiAgICAgICAgJCgnW2RhdGEtdG9nZ2xlPVwidG9vbHRpcFwiXScpLnRvb2x0aXAoKTsgLy8gcmVpbml0XHJcbiAgICAgICAgaW5pdE1vZGFsSGFuZGxlcigpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gYWxlcnQgY2xvc2VcclxuICAgICQoJy5mb3JtLXN1Ym1pdC1maW5pc2ggLmNsb3NlJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdhbGVydCBjbG9zZScpO1xyXG4gICAgICAgICQoJyN2LXBpbGxzLWFsbC10YWInKS50cmlnZ2VyKCdjbGljaycpO1xyXG4gICAgICAgIHdpbmRvdy5QdWJTdWIucHVibGlzaChDT05TVC5ldmVudHMudGFza3MuTkVXX1RBU0tfQ1JFQVRFRCk7XHJcbiAgICAgICAgcmVtb3ZlRXh0cmFUZXh0RmllbGRzKCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBhbGVydCBjbG9zZVxyXG4gICAgJCgnLmZvcm0tc3VibWl0LWZpbmlzaC0tZXJyb3IgLmNsb3NlJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdhbGVydCBjbG9zZScpO1xyXG4gICAgICAgICQoJyN2LXBpbGxzLWFsbC10YWInKS50cmlnZ2VyKCdjbGljaycpO1xyXG4gICAgICAgIHdpbmRvdy5QdWJTdWIucHVibGlzaChDT05TVC5ldmVudHMudGFza3MuTkVXX1RBU0tfQ1JFQVRFRCk7XHJcbiAgICAgICAgcmVtb3ZlRXh0cmFUZXh0RmllbGRzKCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyB0YWJzLmluaXQoZmlsbExpc3RVc2Vycyk7XHJcbiAgICBpbml0TG9nc1RhYigpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBzZXRVc2VyTmFtZShzdGF0ZSkge1xyXG4gICAgLy8gY29uc29sZS5sb2coJ2dldFRhc2tzRGF0YScsIHN0YXRlLnVzZXJuYW1lKTtcclxuICAgIHVzZXJuYW1lU2VsZWN0ZWQgPSBzdGF0ZS51c2VybmFtZTtcclxufVxyXG5cclxuZnVuY3Rpb24gZ2V0RGF0YVN0ZXBTcGVlZCgpIHtcclxuXHJcbiAgICAvLyBUT0RPOiByZWZhY3RvciBnZXQgZnJvbSAtIHZpZXcuZmlsbFJhZGlvR3JvdXBMaXN0XHJcbiAgICBjb25zdCBmaWxsU3BlZWRMaXN0ID0gZnVuY3Rpb24gKCR3cmFwcGVyLCBkYXRhKSB7XHJcbiAgICAgICAgY29uc3QgdGFza01vZGVzID0gZGF0YS5jZmcgJiYgZGF0YS5jZmcudGFza19tb2RlcztcclxuICAgICAgICBjb25zdCByYWRpb0J0blJlZHVjZXIgPSBmdW5jdGlvbiAoaXRlbSwgdmFsKSB7XHJcbiAgICAgICAgICAgIHN3aXRjaCAoaXRlbSkge1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnQUdHUkVTU0lWRSc6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGA8aW5wdXQgdHlwZT1cInJhZGlvXCIgaWQ9XCIke2l0ZW19XCIgbmFtZT1cImN1c3RvbVJhZGlvXCIgdmFsdWU9XCIke2l0ZW19XCIgY2xhc3M9XCJjdXN0b20tY29udHJvbC1pbnB1dFwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxsYWJlbCBjbGFzcz1cImN1c3RvbS1jb250cm9sLWxhYmVsXCIgZm9yPVwiJHtpdGVtfVwiPjxzdHJvbmc+0JDQs9GA0LXRgdGB0LjQstC90YvQuTo8L3N0cm9uZz4gJHt2YWx9INGB0L7QvtCx0YnQtdC90LjQuSDQsiDRh9Cw0YE8L2xhYmVsPmA7XHJcbiAgICAgICAgICAgICAgICBjYXNlICdNSURETEUnOlxyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAoYDxpbnB1dCB0eXBlPVwicmFkaW9cIiBpZD1cIiR7aXRlbX1cIiBuYW1lPVwiY3VzdG9tUmFkaW9cIiB2YWx1ZT1cIiR7aXRlbX1cIiBjbGFzcz1cImN1c3RvbS1jb250cm9sLWlucHV0XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzPVwiY3VzdG9tLWNvbnRyb2wtbGFiZWxcIiBmb3I9XCIke2l0ZW19XCI+PHN0cm9uZz7QodGA0LXQtNC90LjQuTo8L3N0cm9uZz4gJHt2YWx9INGB0L7QvtCx0YnQtdC90LjQuSDQsiDRh9Cw0YE8L2xhYmVsPmApO1xyXG4gICAgICAgICAgICAgICAgY2FzZSAnU0FGRSc6XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGA8aW5wdXQgdHlwZT1cInJhZGlvXCIgaWQ9XCIke2l0ZW19XCIgbmFtZT1cImN1c3RvbVJhZGlvXCIgdmFsdWU9XCIke2l0ZW19XCIgY2xhc3M9XCJjdXN0b20tY29udHJvbC1pbnB1dFwiIGNoZWNrZWQ+XHJcbiAgICAgICAgICAgICAgICAgICAgPGxhYmVsIGNsYXNzPVwiY3VzdG9tLWNvbnRyb2wtbGFiZWxcIiBmb3I9XCIke2l0ZW19XCI+PHN0cm9uZz7QkdC10LfQvtC/0LDRgdC90YvQuTo8L3N0cm9uZz4gJHt2YWx9INGB0L7QvtCx0YnQtdC90LjQuSDQsiDRh9Cw0YE8L2xhYmVsPmA7XHJcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZygnZHJhdyBzcGVlZCByYWRpb0J0bicpO1xyXG4gICAgICAgICR3cmFwcGVyLmVtcHR5KCk7XHJcbiAgICAgICAgZm9yIChjb25zdCBpdGVtIGluIHRhc2tNb2Rlcykge1xyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZygnc3RydWN0dXJlOiAnICsgaXRlbSk7XHJcbiAgICAgICAgICAgIGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwodGFza01vZGVzLCBpdGVtKSkge1xyXG4gICAgICAgICAgICAgICAgJChgPGRpdiBjbGFzcz1cImN1c3RvbS1jb250cm9sIGN1c3RvbS1yYWRpb1wiPlxyXG4gICAgICAgICAgICAgICAgJHtyYWRpb0J0blJlZHVjZXIoaXRlbSwgdGFza01vZGVzW2l0ZW1dKX1cclxuICAgICAgICAgICAgPC9kaXY+YCkuYXBwZW5kVG8oJHdyYXBwZXIpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxuICAgIGNvbnN0IHBhdGggPSB7XHJcbiAgICAgICAgdHlwZTogY2xzQ29uc3QucGF0aFR5cGUsXHJcbiAgICAgICAgc3VidHlwZTogY2xzQ29uc3QucGF0aFN1YlR5cGVcclxuICAgIH07XHJcbiAgICAvLyBkcmF3IGNyaXRlcmlhXHJcbiAgICBVc2VyVGFza01hbmFnZXIuZ2V0RGVmYXVsdENvbmZpZ3MocGF0aCkudGhlbigocmVzdWx0KSA9PiB7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coJ2dldERlZmF1bHRDb25maWdzJyk7XHJcbiAgICAgICAgaWYgKHJlc3VsdC5zdGF0dXMuc3RhdGUgPT09ICdvaycpIHtcclxuICAgICAgICAgICAgZmlsbFNwZWVkTGlzdCgkKHNwZWVkVHlwZSksIHJlc3VsdC5kYXRhLmZvdW5kKTtcclxuICAgICAgICAgICAgLy8gc3BlZWQgcmFkaW8tYnRuIGdyb3VwXHJcbiAgICAgICAgICAgICQoYCR7c3BlZWRUeXBlfSBpbnB1dFt0eXBlPXJhZGlvXWApLm9uKCdjbGljaycsIChlKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB2YWx1ZSA9ICQoZS50YXJnZXQpLmF0dHIoJ3ZhbHVlJyk7XHJcbiAgICAgICAgICAgICAgICBzdGF0ZS51c2VyX2RlZmF1bHRfY29uZmlnLnRhc2tfbW9kZSA9IHZhbHVlLnRvVXBwZXJDYXNlKCk7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhzdGF0ZSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBzdGVwUmVkdWNlcihzdGVwTnVtYmVyLCBzdGF0ZSkge1xyXG4gICAgc3dpdGNoIChzdGVwTnVtYmVyKSB7XHJcbiAgICAgICAgY2FzZSAwOlxyXG4gICAgICAgICAgICBzZXRVc2VyTmFtZShzdGF0ZSk7XHJcbiAgICAgICAgICAgIGdldERhdGFTdGVwU3BlZWQoKTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coc3RhdGUsIHN0ZXBOdW1iZXIpO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlIDE6XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHN0YXRlLCBzdGVwTnVtYmVyKTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ2RlZmF1bHQnLCBzdGVwTnVtYmVyKTtcclxuICAgIH1cclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGluaXQoKSB7XHJcbiAgICBpZiAoJChjbHNDb25zdC5jdXJyZW50UGFnZUNscykubGVuZ3RoKSB7XHJcbiAgICAgICAgY29uc3Qgd2l6YXJkQ2ZnID0ge1xyXG4gICAgICAgICAgICBzdGVwUmVkdWNlcixcclxuICAgICAgICAgICAgb25TdWJtaXRIYW5kbGVyXHJcbiAgICAgICAgfTtcclxuICAgICAgICB3aXphcmRGb3JtLmluaXQod2l6YXJkQ2ZnKTtcclxuICAgICAgICBpbml0SGFuZGxlcnMoKTtcclxuICAgICAgICBjaGF0Qm90U3RhdHVzLmluaXQoY2xzQ29uc3QpO1xyXG4gICAgICAgIHdpbmRvdy5QdWJTdWIuc3Vic2NyaWJlKENPTlNULmV2ZW50cy5pbnN0YWdyYW1BY2NvdW5zLklOU1RBR1JBTV9BQ0NPVU5TX1JFTkRFUkVEX0xBWlksIChlLCBhY2NvdW50cykgPT4ge1xyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhhY2NvdW50cyk7XHJcbiAgICAgICAgICAgIGxvZ3MuaW5pdChzZWxlY3RDbHMsIGNsc0NvbnN0KTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgaW5pdE1vZGFsSGFuZGxlcigpO1xyXG4gICAgICAgIGluaXRFbW9qaWkoKTtcclxuICAgICAgICAvLyBpbWFnZVVwbG9hZC5pbml0KCk7XHJcbiAgICAgICAgd2luZG93LlB1YlN1Yi5zdWJzY3JpYmUoQ09OU1QuZXZlbnRzLmF1dG9hcm5zd2VyLklNQUdFX1VQTE9BREVELCAoZSwgcmVzKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IHtyZXNwb25zZX0gPSByZXM7XHJcbiAgICAgICAgICAgIGNvbnN0IHJlc3VsdCA9IChyZXNwb25zZS5sZW5ndGgpID8gSlNPTi5wYXJzZShyZXNwb25zZSkgOiAnJztcclxuICAgICAgICAgICAgY29uc3QgaW1hZ2VJZCA9IHJlc3VsdCAmJiByZXN1bHQuZGF0YSAmJiByZXN1bHQuZGF0YS5pbWFnZV9pZDtcclxuICAgICAgICAgICAgJChyZXMuZWwpLmNsb3Nlc3QoJy5maWxlLXVwbG9hZCcpLmF0dHIoJ2F0dGFjaGVkLWltZy1pZCcsIGltYWdlSWQpO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnaW1hZ2VfbG9hZGVkJywgcmVzKTtcclxuXHJcbiAgICAgICAgICAgIC8vIHRvZG86IG1ha2UgYXMgY2FsbEJhY2tcclxuICAgICAgICAgICAgY29uc3QgJGltYWdlQm94ID0gJChyZXMuZWwpLmNsb3Nlc3QoJy5jb2wnKS5maW5kKCcuanNfdXBsb2FkZWQtaW1nLWZyb20tcG9zdHMnKTtcclxuICAgICAgICAgICAgaWYgKCRpbWFnZUJveC5sZW5ndGgpIHtcclxuICAgICAgICAgICAgICAgICRpbWFnZUJveC5yZW1vdmUoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHdpbmRvdy5QdWJTdWIuc3Vic2NyaWJlKENPTlNULmV2ZW50cy5tb2RhbC5JTUFHRV9QT1NUX1NFTEVDVEVELCAoZSwgZGF0YSkgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCAkaW1hZ2VCb3ggPSAkKGRhdGEuY2xvc2VzdENvbCkuZmluZCgnLmZpbGUtdXBsb2FkLWNvbnRlbnQnKTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJyRpbWFnZUJveCcsICRpbWFnZUJveCk7XHJcbiAgICAgICAgICAgIGlmICgkaW1hZ2VCb3gubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAkaW1hZ2VCb3guaGlkZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2Jsb2Nrcy9hdXRvZ3JlZXRpbmcvYXV0b2dyZWV0aW5nLW1haW4uanMiLCJpbXBvcnQge0NPTlNUfSBmcm9tICcuLi8uLi9jb21tb24vanMtc2VydmljZXMvY29uc3RzJztcclxuaW1wb3J0IHtnZXRUYXNrc0RhdGF9IGZyb20gJy4uL19zaGFyZWQvdGFzay1zdGF0dXMvdGFzay1zdGF0dXMnO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGluaXQoY2ZnKSB7XHJcbiAgICBpZiAoJChjZmcuY3VycmVudFBhZ2VDbHMpLmxlbmd0aCkge1xyXG4gICAgICAgIGNvbnN0IHtwYXRoVHlwZSwgcGF0aFN1YlR5cGV9ID0gY2ZnO1xyXG4gICAgICAgIGNvbnN0IHBhdGggPSB7XHJcbiAgICAgICAgICAgIHR5cGU6IHBhdGhUeXBlLFxyXG4gICAgICAgICAgICBzdWJ0eXBlOiBwYXRoU3ViVHlwZX07XHJcbiAgICAgICAgY29uc3Qgd3JhcHBlcnMgPSB7XHJcbiAgICAgICAgICAgICRydW5zOiAkKCcudGFza3MtcnVucycpLFxyXG4gICAgICAgICAgICAkYWxsOiAkKCcudGFza3MtYWxsJylcclxuICAgICAgICB9O1xyXG4gICAgICAgIGdldFRhc2tzRGF0YSh3cmFwcGVycywgcGF0aCk7XHJcbiAgICAgICAgd2luZG93LlB1YlN1Yi5zdWJzY3JpYmUoQ09OU1QuZXZlbnRzLnRhc2tzLk5FV19UQVNLX0NSRUFURUQsIChldmVudE5hbWUsIGRhdGEpID0+IHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ2dldFRhc2tzRGF0YSAqKk5FV19UQVNLX0NSRUFURUQqKicsIGV2ZW50TmFtZSwgZGF0YSk7XHJcbiAgICAgICAgICAgIGdldFRhc2tzRGF0YSh3cmFwcGVycywgcGF0aCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuXHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9ibG9ja3MvYXV0b2dyZWV0aW5nL2F1dG9ncmVldGluZy1zdGF0dXMuanMiLCJleHBvcnQgY29uc3QgdHBsVGV4dEZpZWxkID0gKG1haW5DbHMpID0+XHJcbiQoYDxkaXYgY2xhc3M9XCIke21haW5DbHN9IG10LTJcIj5cclxuICAgIDxkaXYgY2xhc3M9XCJyb3dcIj5cclxuICAgICAgICA8ZGl2IGNsYXNzPVwiY29sXCI+XHJcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJqc190YWdzaW5wdXQtYm94XCI+XHJcbiAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBwbGFjZWhvbGRlcj1cItCS0LLQtdC00LjRgtC1INC60LvRjtGH0LXQstGL0LUg0YHQu9C+0LLQsFwiIHZhbHVlPVwiXCIgZGF0YS1yb2xlPVwidGFnc2lucHV0XCIgY2xhc3M9XCJmb3JtLWNvbnRyb2wgYW5zd2VyLXdvcmRzIG1iLTJcIiAvPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImpzX3RhZ3NpbnB1dC1ib3ggYmxhY2tsaXN0LWJveCBteS0yXCI+XHJcbiAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cInRleHRcIiBwbGFjZWhvbGRlcj1cItCS0LLQtdC00LjRgtC1INC80LjQvdGD0YEg0YHQu9C+0LLQsFwiIHZhbHVlPVwiXCIgZGF0YS1yb2xlPVwidGFnc2lucHV0XCIgY2xhc3M9XCJmb3JtLWNvbnRyb2wgYmxhY2tsaXN0LXdvcmRzXCIgLz5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPGRpdiBjbGFzcz1cImNvbFwiPlxyXG4gICAgICAgICAgICA8dGV4dGFyZWEgY2xhc3M9XCJmb3JtLWNvbnRyb2wgYW5zd2VyLW1lc3NhZ2VzXCIgcm93cz1cIjRcIlxyXG4gICAgICAgICAgICAgICAgZGF0YS1lbW9qaS1waWNrZXI9XCJ0cnVlXCIgc3R5bGU9XCJwYWRkaW5nOiAwLjI1cmVtIDEuNzVyZW0gMC4yNXJlbSAwLjI1cmVtOyB3aWR0aDogMTAwJTttaW4taGVpZ2h0OiA0MnB4O1wiXHJcbiAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cItCS0LLQtdC00LjRgtC1INGB0L7QvtCx0YnQtdC90LjQtVwiXHJcbiAgICAgICAgICAgID48L3RleHRhcmVhPlxyXG4gICAgICAgICAgICA8IS0tIGZpbGUtdXBsb2FkIC0tPlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiZmlsZS11cGxvYWQtYnRuLWJveFwiIGRhdGEtdG9nZ2xlPVwidG9vbHRpcFwiIGRhdGEtcGxhY2VtZW50PVwidG9wXCIgdGl0bGU9XCLQlNC+0LHQsNCy0LjRgtGMINC40LfQvtCx0YDQsNC20LXQvdC40LVcIj5cclxuICAgICAgICAgICAgICAgIDxidXR0b24gY2xhc3M9XCJmaWxlLXVwbG9hZC1idG4gYnRuIGJ0bi1zdWNjZXNzXCIgdHlwZT1cImJ1dHRvblwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzPVwiZmFyIGZhLWltYWdlIGZhLWxnXCI+PC9pPlxyXG4gICAgICAgICAgICAgICAgPC9idXR0b24+XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8IS0tIEJ1dHRvbiB0cmlnZ2VyIG1vZGFsIC0tPlxyXG4gICAgICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImJ0biBidG4tc3VjY2VzcyBwb3N0LXVwbG9hZC1idG4ganNfYXV0b21lc3NhZ2VzLWFkZC1wb3N0XCJcclxuICAgICAgICAgICAgICAgIHRpdGxlPVwi0JTQvtCx0LDQstC40YLRjCDQv9GD0LHQu9C40LrQsNGG0LjRjlwiXHJcbiAgICAgICAgICAgICAgICBkYXRhLXRvZ2dsZT1cInRvb2x0aXBcIlxyXG4gICAgICAgICAgICAgICAgZGF0YS1wbGFjZW1lbnQ9XCJ0b3BcIlxyXG4gICAgICAgICAgICAgICAgZGF0YS1wb3N0LWluZm89XCJ0b2RvOiBnZXQgcmVxIHRvIHVzZXI6IFwiPlxyXG4gICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJqc19vcGVuLXBvc3RzLWdyaWRNb2RhbFwiXHJcbiAgICAgICAgICAgICAgICAgICAgZGF0YS1jb250YWluZXI9XCJib2R5XCIgZGF0YS10b2dnbGU9XCJwb3BvdmVyXCIgZGF0YS1wbGFjZW1lbnQ9XCJib3R0b21cIiBkYXRhLWNvbnRlbnQ9XCLQoyDRgtC10LrRg9GJ0LXQs9C+INCw0LrQutCw0YPQvdGC0LAg0L3QtdGCINC90Lgg0L7QtNC90L7Qs9C+INC/0L7RgdGC0LBcIj5cclxuICAgICAgICAgICAgICAgIDxpIGNsYXNzPVwiZmFyIGZhLWltYWdlcyBmYS1sZ1wiPjwvaT5cclxuICAgICAgICAgICAgICAgIDwvc3Bhbj5cclxuICAgICAgICAgICAgPC9idXR0b24+XHJcblxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwibXQtMlwiPlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImZpbGUtdXBsb2FkXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImltYWdlLXVwbG9hZC13cmFwXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCBjbGFzcz1cImZpbGUtdXBsb2FkLWlucHV0XCIgdHlwZT0nZmlsZScgYWNjZXB0PVwiLmpwZywgLmpwZWdcIiAvPlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJmaWxlLXVwbG9hZC1jb250ZW50XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxpbWcgY2xhc3M9XCJmaWxlLXVwbG9hZC1pbWFnZVwiIHNyYz1cIiNcIiBhbHQ9XCJ5b3VyIGltYWdlXCIgLz5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImltYWdlLXRpdGxlLXdyYXBcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJyZW1vdmUtaW1hZ2UgYnRuIGJ0bi13YXJuaW5nXCI+0KPQtNCw0LvQuNGC0YwgPHNwYW4gY2xhc3M9XCJpbWFnZS10aXRsZVwiPtCX0LDQs9GA0YPQt9C40YLRjDwvc3Bhbj48L2J1dHRvbj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICA8L2Rpdj5cclxuPC9kaXY+YCk7XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9ibG9ja3MvYXV0b21lc3NhZ2VzL2FkZEFuc3dlclRlbXBsYXRlLmpzIiwiaW1wb3J0IHtDT05TVH0gZnJvbSAnLi4vLi4vY29tbW9uL2pzLXNlcnZpY2VzL2NvbnN0cyc7XHJcbmltcG9ydCAqIGFzIHdpemFyZEZvcm0gZnJvbSAnLi4vLi4vYmxvY2tzL3dpemFyZC1mb3JtL3dpemFyZC1mb3JtJztcclxuaW1wb3J0IHZpZXdVdGlscyBmcm9tICcuLi8uLi9jb21tb24vanMtc2VydmljZXMvdmlldyc7XHJcbmltcG9ydCBVc2VyVGFza01hbmFnZXIgZnJvbSAnLi4vLi4vY29tbW9uL2pzLXNlcnZpY2VzL2FwaS10YXNrLW1hbmFnZXInO1xyXG5pbXBvcnQgKiBhcyB0YWJzIGZyb20gJy4uL19zaGFyZWQvdGVicy1waWxzL3RhYnMnO1xyXG5pbXBvcnQgKiBhcyBhdXRvbWVzc2FnZXNTdGF0dXMgZnJvbSAnLi9hdXRvbWVzc2FnZXMtc3RhdHVzJztcclxuaW1wb3J0ICogYXMgbG9ncyBmcm9tICcuLi9fc2hhcmVkL2xvZ3MvbG9ncyc7XHJcbmltcG9ydCAqIGFzIGltYWdlVXBsb2FkIGZyb20gJy4uL19zaGFyZWQvaW1hZ2UtdXBsb2FkL2ltYWdlLXVwbG9hZCc7XHJcbmltcG9ydCB7ZW1vaml9IGZyb20gJy4uLy4uL2NvbW1vbi9qcy1zZXJ2aWNlcy9lbW9qaSc7XHJcbmltcG9ydCB7Z2V0UG9zdHN9IGZyb20gJy4uL19zaGFyZWQvZ2V0UG9zdHNNb2RhbC91dGlscy1tb2RhbCc7XHJcbmltcG9ydCB7dHBsVGV4dEZpZWxkfSBmcm9tICcuL2FkZEFuc3dlclRlbXBsYXRlJztcclxuaW1wb3J0IHtpbml0VGFnc0lucHV0LCBuZXh0QnRudmFsaWRhdGVDb21wZXRpdG9yc0hhbmRsZXJ9IGZyb20gJy4uL19zaGFyZWQvdGFncy1pbnB1dC90YWdzLWlucHV0JztcclxuXHJcbmNvbnN0IHtnZXRWYWxCeUNvbW1hU2VwYXJhdG9yfSA9IHZpZXdVdGlscztcclxubGV0IHVzZXJuYW1lU2VsZWN0ZWQgPSAnJztcclxuY29uc3Qgc2VsZWN0Q2xzID0gJ2pzX2xvZ3MtYWNjb3VudHMnO1xyXG5jb25zdCBjbHNDb25zdCA9IHtcclxuICAgIGN1cnJlbnRQYWdlQ2xzOiAnLmF1dG9tZXNzYWdlcy1wYWdlJyxcclxuICAgIHRhc2tzTGlzdDogJy5sb2ctdGFza3MnLFxyXG4gICAgbG9nc1RhYkJ0bjogJyN2LXBpbGxzLWxvZ3MtdGFiJyxcclxuICAgIHBhZ2luYXRpb246ICcubG9ncy1wYWdpbmF0aW9uJyxcclxuICAgIHBhZ2luYXRpb25QZ051bWJlcjogJy5wYWdlLW51bWJlcicsXHJcbiAgICBwYXRoVHlwZTogQ09OU1QudXJsLnRtVHlwZXMuYXV0b21lc3NhZ2VzVCxcclxuICAgIHBhdGhTdWJUeXBlOiBDT05TVC51cmwudG1UeXBlcy5hdXRvbWVzc2FnZXNTdWJUWzBdXHJcbn07XHJcbmNvbnN0IGVsU2VsZWN0b3IgPSB7XHJcbiAgICBmaWVsZHM6ICcuYXV0b21lc3NhZ2VzLXRleHQtZmllbGRzJyxcclxuICAgIGtleVdvcmQ6ICdpbnB1dC5hbnN3ZXItd29yZHMnLFxyXG4gICAgYW5zd2VyOiAndGV4dGFyZWEuYW5zd2VyLW1lc3NhZ2VzJyxcclxuICAgIGZpbGVVcGxvYWRCb3g6ICcuZmlsZS11cGxvYWQnLFxyXG4gICAgYWRkUG9zdEJ0bnM6ICcuanNfYXV0b21lc3NhZ2VzLWFkZC1wb3N0J1xyXG59O1xyXG5jb25zdCBsb2dzU3RhdGUgPSB7XHJcbiAgICBzZWxlY3RDbHM6ICdqc19sb2dzLWFjY291bnRzJyxcclxuICAgIHNlbGVjdENsc0xvZ3NUYXNrVHlwZTogJ2pzX2xvZ3Mtc3VidHlwZXMnLFxyXG4gICAgd3JhcHBlclN1YnR5cGU6ICcubG9nLXN1YnlwZSdcclxufTtcclxuXHJcbmZ1bmN0aW9uIGluaXRFbW9qaWkoKSB7XHJcbiAgICBlbW9qaSh7XHJcbiAgICAgICAgcGFnZTogY2xzQ29uc3QuY3VycmVudFBhZ2VDbHMsXHJcbiAgICAgICAgc3R5bGVzOiB7b2xkOiAnYm90dG9tOiAzMHB4OycsIG5ldzogJ3RvcDogLTIxMHB4Oyd9XHJcbiAgICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gdmFsaWRhdGVJc0VtcHR5KCRlbGVtZW50cywgZSkge1xyXG4gICAgJGVsZW1lbnRzLmVhY2goZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmICgkKHRoaXMpLnZhbCgpID09PSAnJykge1xyXG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICQodGhpcykuYWRkQ2xhc3MoJ2lucHV0LWVycm9yJyk7XHJcbiAgICAgICAgICAgIC8vIHZhbGlkYXRpb24gPSBmYWxzZTtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICQodGhpcykucmVtb3ZlQ2xhc3MoJ2lucHV0LWVycm9yJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIG9uU3VibWl0SGFuZGxlcihlKSB7XHJcbiAgICBjb25zdCBmaWVsZHMgPSAkKGVsU2VsZWN0b3IuZmllbGRzKTtcclxuICAgIGNvbnN0IHJlcUJvZHkgPSBbXTtcclxuICAgIGxldCB2YWxpZGF0aW9uID0gdHJ1ZTtcclxuICAgIGNvbnN0ICRlbGVtZW50c0tleVdvcmQgPSBmaWVsZHMuZmluZChlbFNlbGVjdG9yLmtleVdvcmQpO1xyXG4gICAgY29uc3QgJGVsZW1lbnRzQW5zd2VyID0gZmllbGRzLmZpbmQoZWxTZWxlY3Rvci5hbnN3ZXIpO1xyXG5cclxuICAgIHZhbGlkYXRlSXNFbXB0eSgkZWxlbWVudHNLZXlXb3JkLCBlKTtcclxuICAgIHZhbGlkYXRlSXNFbXB0eSgkZWxlbWVudHNBbnN3ZXIsIGUpO1xyXG5cclxuICAgIGZpZWxkcy5lYWNoKChpZHgsIGl0ZW0pID0+IHtcclxuICAgICAgICBjb25zdCBrZXlXb3JkID0gZ2V0VmFsQnlDb21tYVNlcGFyYXRvcigkKGl0ZW0pLmZpbmQoZWxTZWxlY3Rvci5rZXlXb3JkKSk7XHJcbiAgICAgICAgY29uc3QgYW5zd2VyID0gJChpdGVtKS5maW5kKGVsU2VsZWN0b3IuYW5zd2VyKS52YWwoKTtcclxuICAgICAgICBjb25zdCBpbWFnZUlkID0gJChpdGVtKS5maW5kKGVsU2VsZWN0b3IuZmlsZVVwbG9hZEJveCkuYXR0cignYXR0YWNoZWQtaW1nLWlkJyk7XHJcbiAgICAgICAgY29uc3QgJGltYWdlUG9zdEJveCA9ICQoaXRlbSkuZmluZCgnLmpzX3VwbG9hZGVkLWltZy1mcm9tLXBvc3RzJyk7XHJcbiAgICAgICAgY29uc3QgcG9zdEl0ZW1JZCA9ICRpbWFnZVBvc3RCb3guZGF0YSgncG9zdElkJyk7XHJcbiAgICAgICAgY29uc3QgcG9zdEl0ZW1UeXBlID0gJGltYWdlUG9zdEJveC5kYXRhKCdwb3N0VHlwZScpO1xyXG4gICAgICAgIGNvbnN0IGJsYWNrbGlzdFdvcmRzID0gJChpdGVtKS5maW5kKCdpbnB1dC5ibGFja2xpc3Qtd29yZHMnKTtcclxuICAgICAgICBjb25zdCBibGFja2xpc3RXb3Jkc0FyciA9IGdldFZhbEJ5Q29tbWFTZXBhcmF0b3IoYmxhY2tsaXN0V29yZHMpO1xyXG5cclxuICAgICAgICBpZiAoIWtleVdvcmQubGVuZ3RoIHx8ICFhbnN3ZXIubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdrZXlXb3JkIGlzIGVtcHR5LCBub3QgcHVzaCBtZSB0byByZXF1ZXN0Jyk7XHJcbiAgICAgICAgICAgICQoaXRlbSkuYXBwZW5kKGBcclxuICAgICAgICAgICAgICAgIDxwIGNsYXNzPVwibXNnLWVtcHR5LWZpZWxkIHRleHQtZGFuZ2VyXCI+0J/Rg9GB0YLQvtC1INC/0L7Qu9C1INC90LUg0LLQsNC70LjQtNC90L48L3A+XHJcbiAgICAgICAgICAgIGApO1xyXG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgICQoJy5tc2ctZW1wdHktZmllbGQnKS5hZGRDbGFzcygnZC1ub25lJyk7XHJcbiAgICAgICAgICAgIH0sIDUwMDApO1xyXG4gICAgICAgICAgICB2YWxpZGF0aW9uID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3Qgc3VibWl0Qm9keUl0ZW0gPSB7XHJcbiAgICAgICAgICAgICdrZXlfd29yZHMnOiBrZXlXb3JkLFxyXG4gICAgICAgICAgICBhbnN3ZXIsXHJcbiAgICAgICAgICAgIGJsYWNrbGlzdDogYmxhY2tsaXN0V29yZHNBcnIsXHJcbiAgICAgICAgICAgICdhdHRhY2htZW50JzogaW1hZ2VJZCA/IHtcclxuICAgICAgICAgICAgICAgICdpbWFnZV9pZCc6IGltYWdlSWRcclxuICAgICAgICAgICAgfSA6IHVuZGVmaW5lZFxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGlmIChwb3N0SXRlbUlkKSB7XHJcbiAgICAgICAgICAgIHN1Ym1pdEJvZHlJdGVtLmF0dGFjaG1lbnQgPSB7XHJcbiAgICAgICAgICAgICAgICAuLi5zdWJtaXRCb2R5SXRlbS5hdHRhY2htZW50LFxyXG4gICAgICAgICAgICAgICAgcG9zdDoge1xyXG4gICAgICAgICAgICAgICAgICAgIGlkOiBwb3N0SXRlbUlkLFxyXG4gICAgICAgICAgICAgICAgICAgIHR5cGU6IHBvc3RJdGVtVHlwZSB8fCAndHlwZS1lcnJvcidcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfTtcclxuICAgICAgICB9XHJcbiAgICAgICAgcmVxQm9keS5wdXNoKHN1Ym1pdEJvZHlJdGVtKTtcclxuICAgIH0pO1xyXG4gICAgaWYgKCF2YWxpZGF0aW9uKSB7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coJyoqYWxhcm0gKionLCBlbFNlbGVjdG9yLmtleVdvcmQpO1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBjb25zdCBuUmVxQm9keSA9IHtcclxuICAgICAgICAndXNlcm5hbWUnOiB1c2VybmFtZVNlbGVjdGVkLFxyXG4gICAgICAgICd0eXBlJzogY2xzQ29uc3QucGF0aFR5cGUsXHJcbiAgICAgICAgJ3N1YnR5cGUnOiBjbHNDb25zdC5wYXRoU3ViVHlwZSxcclxuICAgICAgICAndXNlcl9kZWZhdWx0X2NvbmZpZyc6IHt9LFxyXG4gICAgICAgICd1c2VyX2N1c3RvbV9jb25maWcnOiB7XHJcbiAgICAgICAgICAgICdmb3Jtcyc6IHJlcUJvZHlcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIC8vIGNvbnNvbGUubG9nKCdtYWtlIHJlcXVlc3QgaGVyZSoqJywgblJlcUJvZHkpO1xyXG4gICAgZnVuY3Rpb24gY2JFcnJvcihyZXMpIHtcclxuICAgICAgICBjb25zdCBtc2cgPSByZXMuc3RhdHVzLm1lc3NhZ2U7XHJcbiAgICAgICAgJCgnLmZvcm0tc3VibWl0LWZpbmlzaC0tZXJyb3InKS5hZGRDbGFzcygnZC1ibG9jaycpXHJcbiAgICAgICAgLmZpbmQoJy5hbGVydCcpLmFwcGVuZChgPHA+JHttc2d9PC9wPmApO1xyXG4gICAgfVxyXG4gICAgVXNlclRhc2tNYW5hZ2VyLnBvc3RTdGFydFRhc2soblJlcUJvZHksIGNiRXJyb3IpLnRoZW4oKHJlc3VsdCkgPT4ge1xyXG4gICAgICAgIGlmIChyZXN1bHQuc3RhdHVzLnN0YXRlID09PSAnb2snKSB7XHJcbiAgICAgICAgICAgICQoJy5mb3JtLXN1Ym1pdC1maW5pc2gnKS5maW5kKCcuYWxlcnQgcCcpLnJlbW92ZSgpO1xyXG4gICAgICAgICAgICAkKCcuZm9ybS1zdWJtaXQtZmluaXNoJykuYWRkQ2xhc3MoJ2QtYmxvY2snKVxyXG4gICAgICAgICAgICAgICAgLmZpbmQoJy5hbGVydCcpLmFwcGVuZChgPHA+dGFza19pZDogJHtyZXN1bHQuZGF0YS50YXNrX2lkfTwvcD5gKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gaW5pdExvZ3NUYWIoKSB7XHJcbiAgICBmdW5jdGlvbiBPbkNoYW5nZVNlbGVjdCgpIHtcclxuICAgICAgICBjb25zdCB7c2VsZWN0Q2xzfSA9IGxvZ3NTdGF0ZTtcclxuICAgICAgICAkKGAuJHtzZWxlY3RDbHN9YCkub24oJ2NoYW5nZScsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgdXNlcm5hbWVTZWxlY3RlZCA9ICQoYC4ke3NlbGVjdENsc30gb3B0aW9uOnNlbGVjdGVkYCkudmFsKCk7XHJcbiAgICAgICAgICAgIC8vIGNsc0NvbnN0LnBhdGhTdWJUeXBlID0gbG9nc1N0YXRlLmFjdGl2ZVN1YlR5cGU7XHJcbiAgICAgICAgICAgIGxvZ3MuaW5pdChzZWxlY3RDbHMsIGNsc0NvbnN0KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxuICAgIC8vIGFkZERyb3Bkb3duKCQobG9nc1N0YXRlLndyYXBwZXJTdWJ0eXBlKSwgbG9nc1N1YnR5cGVzLCB7bG9nc1N0YXRlLCBkcm9wZG93bk9uU2VsZWN0Q2J9KTtcclxuICAgIHRhYnMuaW5pdChPbkNoYW5nZVNlbGVjdCwgbG9nc1N0YXRlKTsgLy8gbWFrZXMgZG91YmxlIHJlcXVlc3QgOiBPUFRJT04gYW5kIEdFVFxyXG59XHJcblxyXG5mdW5jdGlvbiByZW1vdmVFeHRyYVRleHRGaWVsZHMoZSkge1xyXG4gICAgJChgJHtlbFNlbGVjdG9yLmZpZWxkc306bm90KDpmaXJzdC1jaGlsZClgKS5yZW1vdmVDbGFzcygnZC1ibG9jaycpO1xyXG4gICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcclxufVxyXG5cclxuLyogVE9ETzogcmVmYWN0b3IgLT4gbW92ZSBpbml0TW9kYWxIYW5kbGVyIHRvIHNlcGFyYXRlIGZpbGUsIHJlbW92ZSBpbml0TW9kYWxIYW5kbGVyIGluIGF1dG9ncmVldGluZy1tYWluLmpzICovXHJcbmxldCB0YXJnZXRCdXR0b24gPSB7fTtcclxuXHJcbmZ1bmN0aW9uIGxvYWRNb3JlSGFuZGxlcihnZXRQb3N0cykge1xyXG4gICAgJCgnI2xvYWQtbW9yZScpLm9mZigpLm9uKCdjbGljaycsIChlKSA9PiB7XHJcbiAgICAgICAgY29uc3QgJGJ0biA9ICQoZS50YXJnZXQpO1xyXG4gICAgICAgIGNvbnN0IGN1cnNvciA9ICRidG4uYXR0cignY3Vyc29yJyk7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ2xvYWQgbW9yZSBjbGljaycpO1xyXG4gICAgICAgIGdldFBvc3RzKG51bGwsIHt1c2VyTmFtZTogdXNlcm5hbWVTZWxlY3RlZCwgY3Vyc29yfSwge2xvYWRNb3JlSGFuZGxlcjogdGhpcywgdGFyZ2V0QnV0dG9ufSk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gaW5pdE1vZGFsSGFuZGxlcigpIHtcclxuXHJcbiAgICAkKCcuanNfb3Blbi1wb3N0cy1ncmlkTW9kYWwnKS5vbignY2xpY2snLCBmdW5jdGlvbiAoZXZlbnQpIHtcclxuICAgICAgICB0YXJnZXRCdXR0b24gPSAkKHRoaXMpOyAvLyBCdXR0b24gdGhhdCB0cmlnZ2VyZWQgdGhlIG1vZGFsXHJcbiAgICAgICAgLy8gVXBkYXRlIHRoZSBtb2RhbCdzIGNvbnRlbnRcclxuICAgICAgICBjb25zdCBtb2RhbCA9ICQoJyNwb3N0c0dyaWRNb2RhbCcpO1xyXG4gICAgICAgIGdldFBvc3RzKG1vZGFsLCB7dXNlck5hbWU6IHVzZXJuYW1lU2VsZWN0ZWR9LCB7bG9hZE1vcmVIYW5kbGVyLCB0YXJnZXRCdXR0b259KTtcclxuICAgICAgICBtb2RhbC5maW5kKCcubW9kYWwtdGl0bGUnKS50ZXh0KCfQn9GD0LHQu9C40LrQsNGG0LjQuCcpO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbi8qIFRPRE86IHJlZmFjdG9yIC0+IG1vdmUgaW5pdE1vZGFsSGFuZGxlciB0byBzZXBhcmF0ZSBmaWxlIEVORCAqL1xyXG5cclxuLyoqXHJcbiAqIEluaXQgSGFuZGxlcnNcclxuICovXHJcbmZ1bmN0aW9uIGluaXRIYW5kbGVycygpIHtcclxuICAgIGNvbnN0ICRjb21wZXRpdG9yc0lucHV0ID0gJCgnLmF1dG9tZXNzYWdlcy10ZXh0LWZpZWxkcyBpbnB1dC5hbnN3ZXItd29yZHNbZGF0YS1yb2xlPVwidGFnc2lucHV0XCJdJyk7XHJcbiAgICBjb25zdCAkYmxhY2tMaXN0SW5wdXQgPSAkKCcuYXV0b21lc3NhZ2VzLXRleHQtZmllbGRzIGlucHV0LmJsYWNrbGlzdC13b3Jkc1tkYXRhLXJvbGU9XCJ0YWdzaW5wdXRcIl0nKTtcclxuICAgIGNvbnN0IG5leHRTdGVwQnRuID0gJCgnZm9ybSBidXR0b25bdHlwZT1cInN1Ym1pdFwiXScpO1xyXG4gICAgbmV4dEJ0bnZhbGlkYXRlQ29tcGV0aXRvcnNIYW5kbGVyKCRjb21wZXRpdG9yc0lucHV0LCBuZXh0U3RlcEJ0biwgJ2lnbm9yZVJlZ2V4Q2hlY2snKTtcclxuICAgIG5leHRCdG52YWxpZGF0ZUNvbXBldGl0b3JzSGFuZGxlcigkYmxhY2tMaXN0SW5wdXQsIG51bGwsICdpZ25vcmVSZWdleENoZWNrJyk7XHJcblxyXG4gICAgLy8gVE9ETzogcmVmYWN0b3Igd2l0aCBhdXRvZ3JlZXQuanMgaW5pdEhhbmRsZXJzXHJcbiAgICAvLyAkKCdbZGF0YS10b2dnbGU9XCJwb3BvdmVyXCJdJykucG9wb3ZlcigpOyAvLyBpbml0XHJcbiAgICAkKCcuanNfYWRkLWF1dG9tZXNzYWdlcycpLm9uKCdjbGljaycsIChlKSA9PiB7XHJcbiAgICAgICAgY29uc3QgbGFzdFRleHRGaWVsZCA9ICQoZWxTZWxlY3Rvci5maWVsZHMpLmxhc3QoKTtcclxuICAgICAgICB0cGxUZXh0RmllbGQoZWxTZWxlY3Rvci5maWVsZHMuc3Vic3RyKDEpKS5pbnNlcnRBZnRlcihsYXN0VGV4dEZpZWxkKTtcclxuICAgICAgICBpbml0RW1vamlpKCk7XHJcbiAgICAgICAgaW1hZ2VVcGxvYWQuaW5pdCgpO1xyXG4gICAgICAgIC8vICQoJ1tkYXRhLXRvZ2dsZT1cInBvcG92ZXJcIl0nKS5wb3BvdmVyKCk7IC8vIHJlaW5pdFxyXG4gICAgICAgICQoJ1tkYXRhLXRvZ2dsZT1cInRvb2x0aXBcIl0nKS50b29sdGlwKCk7IC8vIHJlaW5pdFxyXG4gICAgICAgIGluaXRNb2RhbEhhbmRsZXIoKTtcclxuXHJcbiAgICAgICAgLy8gY29uc3QgJGlucHV0ID0gJCgnaW5wdXRbZGF0YS1yb2xlPVwidGFnc2lucHV0XCJdJywgbGFzdFRleHRGaWVsZCk7XHJcbiAgICAgICAgLy8gaW5pdFRhZ3NJbnB1dCgpO1xyXG4gICAgICAgIC8vIG5leHRCdG52YWxpZGF0ZUNvbXBldGl0b3JzSGFuZGxlcigkaW5wdXQsIG5leHRTdGVwQnRuKTtcclxuXHJcbiAgICAgICAgY29uc3QgbGFzdFRleHRGaWVsZEFmdGVySW5zZXJ0ID0gJChlbFNlbGVjdG9yLmZpZWxkcykubGFzdCgpO1xyXG4gICAgICAgIGNvbnN0ICRpbnB1dEFuc3dlcldvcmRzID0gJCgnaW5wdXQuYW5zd2VyLXdvcmRzW2RhdGEtcm9sZT1cInRhZ3NpbnB1dFwiXScsIGxhc3RUZXh0RmllbGRBZnRlckluc2VydCk7XHJcbiAgICAgICAgY29uc3QgJGJsYWNrTGlzdElucHV0ID0gJCgnaW5wdXQuYmxhY2tsaXN0LXdvcmRzW2RhdGEtcm9sZT1cInRhZ3NpbnB1dFwiXScsIGxhc3RUZXh0RmllbGRBZnRlckluc2VydCk7XHJcblxyXG4gICAgICAgIGluaXRUYWdzSW5wdXQoJGlucHV0QW5zd2VyV29yZHMpOyAvLyByZWluaXQgYW5zd2VyLXdvcmRzXHJcbiAgICAgICAgaW5pdFRhZ3NJbnB1dCgkYmxhY2tMaXN0SW5wdXQpOyAvLyByZWluaXQgYmxhY2tsaXN0LXdvcmRzXHJcbiAgICAgICAgbmV4dEJ0bnZhbGlkYXRlQ29tcGV0aXRvcnNIYW5kbGVyKCRpbnB1dEFuc3dlcldvcmRzLCBuZXh0U3RlcEJ0biwgJ2lnbm9yZVJlZ2V4Q2hlY2snKTtcclxuICAgICAgICBuZXh0QnRudmFsaWRhdGVDb21wZXRpdG9yc0hhbmRsZXIoJGJsYWNrTGlzdElucHV0LCBudWxsLCAnaWdub3JlUmVnZXhDaGVjaycpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gYWxlcnQgc3VjY2VzcyBjbG9zZVxyXG4gICAgJCgnLmZvcm0tc3VibWl0LWZpbmlzaCAuY2xvc2UnKS5vbignY2xpY2snLCBmdW5jdGlvbiAoZSkge1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCdhbGVydCBjbG9zZScpO1xyXG4gICAgICAgICQoJyN2LXBpbGxzLWFsbC10YWInKS50cmlnZ2VyKCdjbGljaycpO1xyXG4gICAgICAgIHdpbmRvdy5QdWJTdWIucHVibGlzaChDT05TVC5ldmVudHMudGFza3MuTkVXX1RBU0tfQ1JFQVRFRCk7XHJcbiAgICAgICAgLy8gcmVtb3ZlRXh0cmFUZXh0RmllbGRzKGUpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gYWxlcnQgY2xvc2VcclxuICAgICQoJy5mb3JtLXN1Ym1pdC1maW5pc2gtLWVycm9yIC5jbG9zZScpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZygnYWxlcnQgY2xvc2UnKTtcclxuICAgICAgICAkKCcjdi1waWxscy1hbGwtdGFiJykudHJpZ2dlcignY2xpY2snKTtcclxuICAgICAgICB3aW5kb3cuUHViU3ViLnB1Ymxpc2goQ09OU1QuZXZlbnRzLnRhc2tzLk5FV19UQVNLX0NSRUFURUQpO1xyXG4gICAgICAgIHJlbW92ZUV4dHJhVGV4dEZpZWxkcygpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gdGFicy5pbml0KGZpbGxMaXN0VXNlcnMpO1xyXG4gICAgaW5pdExvZ3NUYWIoKTtcclxufVxyXG5cclxuZnVuY3Rpb24gc2V0VXNlck5hbWUoc3RhdGUpIHtcclxuICAgIC8vIGNvbnNvbGUubG9nKCdnZXRUYXNrc0RhdGEnLCBzdGF0ZS51c2VybmFtZSk7XHJcbiAgICB1c2VybmFtZVNlbGVjdGVkID0gc3RhdGUudXNlcm5hbWU7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHN0ZXBSZWR1Y2VyKHN0ZXBOdW1iZXIsIHN0YXRlKSB7XHJcbiAgICBzd2l0Y2ggKHN0ZXBOdW1iZXIpIHtcclxuICAgICAgICBjYXNlIDA6XHJcbiAgICAgICAgICAgIHNldFVzZXJOYW1lKHN0YXRlKTtcclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coc3RhdGUsIHN0ZXBOdW1iZXIpO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnZGVmYXVsdCcsIHN0ZXBOdW1iZXIpO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaW5pdCgpIHtcclxuICAgIGlmICgkKGNsc0NvbnN0LmN1cnJlbnRQYWdlQ2xzKS5sZW5ndGgpIHtcclxuICAgICAgICBjb25zdCB3aXphcmRDZmcgPSB7XHJcbiAgICAgICAgICAgIHN0ZXBSZWR1Y2VyLFxyXG4gICAgICAgICAgICBvblN1Ym1pdEhhbmRsZXJcclxuICAgICAgICB9O1xyXG4gICAgICAgIHdpemFyZEZvcm0uaW5pdCh3aXphcmRDZmcpO1xyXG4gICAgICAgIGluaXRIYW5kbGVycygpO1xyXG4gICAgICAgIGF1dG9tZXNzYWdlc1N0YXR1cy5pbml0KCk7XHJcbiAgICAgICAgaW5pdE1vZGFsSGFuZGxlcigpO1xyXG4gICAgICAgIGluaXRFbW9qaWkoKTtcclxuICAgICAgICBpbWFnZVVwbG9hZC5pbml0KCk7XHJcbiAgICAgICAgLy8gaW5pdFRhZ3NJbnB1dCgpO1xyXG5cclxuICAgICAgICB3aW5kb3cuUHViU3ViLnN1YnNjcmliZShDT05TVC5ldmVudHMuaW5zdGFncmFtQWNjb3Vucy5JTlNUQUdSQU1fQUNDT1VOU19SRU5ERVJFRF9MQVpZLCAoZSwgYWNjb3VudHMpID0+IHtcclxuICAgICAgICAgICAgbG9ncy5pbml0KHNlbGVjdENscywgY2xzQ29uc3QpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHdpbmRvdy5QdWJTdWIuc3Vic2NyaWJlKENPTlNULmV2ZW50cy5hdXRvYXJuc3dlci5JTUFHRV9VUExPQURFRCwgKGUsIHJlcykgPT4ge1xyXG4gICAgICAgICAgICBjb25zdCB7cmVzcG9uc2V9ID0gcmVzO1xyXG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSAocmVzcG9uc2UubGVuZ3RoKSA/IEpTT04ucGFyc2UocmVzcG9uc2UpIDogJyc7XHJcbiAgICAgICAgICAgIGNvbnN0IGltYWdlSWQgPSByZXN1bHQgJiYgcmVzdWx0LmRhdGEgJiYgcmVzdWx0LmRhdGEuaW1hZ2VfaWQ7XHJcbiAgICAgICAgICAgICQocmVzLmVsKS5jbG9zZXN0KCcuZmlsZS11cGxvYWQnKS5hdHRyKCdhdHRhY2hlZC1pbWctaWQnLCBpbWFnZUlkKTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ2ltYWdlX2xvYWRlZCcsIHJlcyk7XHJcblxyXG4gICAgICAgICAgICAvLyB0b2RvOiBtYWtlIGFzIGNhbGxCYWNrXHJcbiAgICAgICAgICAgIGNvbnN0ICRpbWFnZUJveCA9ICQocmVzLmVsKS5jbG9zZXN0KCcuY29sJykuZmluZCgnLmpzX3VwbG9hZGVkLWltZy1mcm9tLXBvc3RzJyk7XHJcbiAgICAgICAgICAgIGlmICgkaW1hZ2VCb3gubGVuZ3RoKSB7XHJcbiAgICAgICAgICAgICAgICAkaW1hZ2VCb3gucmVtb3ZlKCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICB3aW5kb3cuUHViU3ViLnN1YnNjcmliZShDT05TVC5ldmVudHMubW9kYWwuSU1BR0VfUE9TVF9TRUxFQ1RFRCwgKGUsIGRhdGEpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgJGltYWdlQm94ID0gJChkYXRhLmNsb3Nlc3RDb2wpLmZpbmQoJy5maWxlLXVwbG9hZC1jb250ZW50Jyk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCckaW1hZ2VCb3gnLCAkaW1hZ2VCb3gpO1xyXG4gICAgICAgICAgICBpZiAoJGltYWdlQm94Lmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgJGltYWdlQm94LmhpZGUoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9ibG9ja3MvYXV0b21lc3NhZ2VzL2F1dG9tZXNzYWdlcy1pbmRleC5qcyIsImltcG9ydCB7Q09OU1R9IGZyb20gJy4uLy4uL2NvbW1vbi9qcy1zZXJ2aWNlcy9jb25zdHMnO1xyXG5pbXBvcnQge2dldFRhc2tzRGF0YX0gZnJvbSAnLi4vX3NoYXJlZC90YXNrLXN0YXR1cy90YXNrLXN0YXR1cyc7XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaW5pdCgpIHtcclxuICAgIGlmICgkKCcuYXV0b21lc3NhZ2VzLXBhZ2UnKS5sZW5ndGgpIHtcclxuICAgICAgICBjb25zdCBwYXRoID0ge1xyXG4gICAgICAgICAgICB0eXBlOiBDT05TVC51cmwudG1UeXBlcy5hdXRvbWVzc2FnZXNULFxyXG4gICAgICAgICAgICBzdWJ0eXBlOiBDT05TVC51cmwudG1UeXBlcy5hdXRvbWVzc2FnZXNTdWJUWzBdXHJcbiAgICAgICAgfTtcclxuICAgICAgICBjb25zdCB3cmFwcGVycyA9IHtcclxuICAgICAgICAgICAgJHJ1bnM6ICQoJy50YXNrcy1ydW5zJyksXHJcbiAgICAgICAgICAgICRzdG9wcGVkOiAkKCcudGFza3Mtc3RvcHBlZCcpLFxyXG4gICAgICAgICAgICAkYWxsOiAkKCcudGFza3MtYWxsJylcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICAvLyB0YXNrLXN0YXR1cyBoYXMgb25lIHN1YnR5cGUsIHNvIGRvIG5vdCBhZGQgZHJvcGRvd25cclxuICAgICAgICAvLyByZW5kZXIgc3RhdHVzIGRyb3Bkb3duXHJcbiAgICAgICAgLy8gY29uc3QgdGV4dFJ1c0FycmF5ID0gWyfQn9C+IERFRkFVTFRfQVVUT19BTlNXRVInXTtcclxuICAgICAgICAvLyBkcm9wRG93bi5hZGREcm9wZG93bihsb2dzU3RhdGVTdGF0dXMud3JhcHBlclN1YnR5cGUsIENPTlNULnVybC50bVR5cGVzLnN0b3JpZXNTdWJULCB7bG9nc1N0YXRlOiBsb2dzU3RhdGVTdGF0dXMsIGRyb3Bkb3duT25TZWxlY3RDYiwgdGV4dFJ1c0FycmF5fSk7XHJcblxyXG4gICAgICAgIGdldFRhc2tzRGF0YSh3cmFwcGVycywgcGF0aCk7XHJcbiAgICAgICAgLy8gd2luZG93LlB1YlN1Yi5zdWJzY3JpYmUoQ09OU1QuZXZlbnRzLmluc3RhZ3JhbUFjY291bnMuSU5TVEFHUkFNX0FDQ09VTlNfUkVOREVSRUQsIChldmVudE5hbWUsIGRhdGEpID0+IHtcclxuICAgICAgICAvLyAgICAgZ2V0VGFza3NEYXRhKHdyYXBwZXJzLCBwYXRoKTtcclxuICAgICAgICAvLyAgICAgY29uc29sZS5sb2coJyoqYW5zd2VyLXN0YXR1cycsIGV2ZW50TmFtZSwgZGF0YSk7XHJcbiAgICAgICAgLy8gfSk7XHJcbiAgICAgICAgd2luZG93LlB1YlN1Yi5zdWJzY3JpYmUoQ09OU1QuZXZlbnRzLnRhc2tzLk5FV19UQVNLX0NSRUFURUQsIChldmVudE5hbWUsIGRhdGEpID0+IHtcclxuICAgICAgICAgICAgZ2V0VGFza3NEYXRhKHdyYXBwZXJzLCBwYXRoKTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufVxyXG5cclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2Jsb2Nrcy9hdXRvbWVzc2FnZXMvYXV0b21lc3NhZ2VzLXN0YXR1cy5qcyIsImltcG9ydCB7Q09OU1R9IGZyb20gJy4uLy4uL2NvbW1vbi9qcy1zZXJ2aWNlcy9jb25zdHMnO1xyXG5pbXBvcnQgKiBhcyB3aXphcmRGb3JtIGZyb20gJy4uLy4uL2Jsb2Nrcy93aXphcmQtZm9ybS93aXphcmQtZm9ybSc7XHJcbmltcG9ydCBVc2VyVGFza01hbmFnZXIgZnJvbSAnLi4vLi4vY29tbW9uL2pzLXNlcnZpY2VzL2FwaS10YXNrLW1hbmFnZXInO1xyXG4vLyBpbXBvcnQgVXNlciBmcm9tICcuLi8uLi9jb21tb24vanMtc2VydmljZXMvdXNlcic7XHJcbmltcG9ydCAqIGFzIHRhYnMgZnJvbSAnLi4vX3NoYXJlZC90ZWJzLXBpbHMvdGFicyc7XHJcbmltcG9ydCAqIGFzIGNoYXRCb3RTdGF0dXMgZnJvbSAnLi9jaGF0LWJvdC1zdGF0dXMnO1xyXG5pbXBvcnQgKiBhcyBjaGF0Qm90TG9ncyBmcm9tICcuLi9fc2hhcmVkL2xvZ3MvbG9ncyc7XHJcblxyXG5sZXQgdXNlcm5hbWVTZWxlY3RlZCA9ICcnO1xyXG5jb25zdCBzZWxlY3RDbHMgPSAnanNfbG9ncy1hY2NvdW50cyc7XHJcbmNvbnN0IGNsc0NvbnN0ID0ge1xyXG4gICAgY3VycmVudFBhZ2VDbHM6ICcuYm90LXBhZ2UnLFxyXG4gICAgdGFza3NMaXN0OiAnLmxvZy10YXNrcycsXHJcbiAgICBsb2dzVGFiQnRuOiAnI3YtcGlsbHMtbG9ncy10YWInLFxyXG4gICAgcGFnaW5hdGlvbjogJy5sb2dzLXBhZ2luYXRpb24nLFxyXG4gICAgcGFnaW5hdGlvblBnTnVtYmVyOiAnLnBhZ2UtbnVtYmVyJyxcclxuICAgIHBhdGhUeXBlOiBDT05TVC51cmwudG1UeXBlcy5jaGF0Qm90VCxcclxuICAgIHBhdGhTdWJUeXBlOiBDT05TVC51cmwudG1UeXBlcy5jaGF0Qm90U3ViVFswXVxyXG59O1xyXG5cclxuZnVuY3Rpb24gb25TdWJtaXRIYW5kbGVyKGUpIHtcclxuICAgIGNvbnN0IGZpZWxkcyA9ICQoJy5ib3QtdGV4dC1maWVsZHMnKTtcclxuICAgIGNvbnN0IGtleVdvcmRzID0gJGVsID0+ICRlbC52YWwoKVxyXG4gICAgICAgIC50cmltKClcclxuICAgICAgICAucmVwbGFjZSgvIC9nLCAnJylcclxuICAgICAgICAuc3BsaXQoJywnKVxyXG4gICAgICAgIC5maWx0ZXIoaSA9PiBpLmxlbmd0aCA+IDApO1xyXG4gICAgY29uc3QgcmVxQm9keSA9IFtdO1xyXG4gICAgZmllbGRzLmVhY2goKGlkeCwgaXRlbSkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGtleVdvcmQgPSBrZXlXb3JkcygkKGl0ZW0pLmZpbmQoJ3RleHRhcmVhLmFuc3dlci13b3JkcycpKTtcclxuICAgICAgICBjb25zdCBhbnN3ZXIgPSAkKGl0ZW0pLmZpbmQoJ3RleHRhcmVhLmFuc3dlci1tZXNzYWdlcycpLnZhbCgpO1xyXG4gICAgICAgIHJlcUJvZHkucHVzaCh7J2tleV93b3Jkcyc6IGtleVdvcmQsIGFuc3dlcn0pO1xyXG4gICAgfSk7XHJcbiAgICBjb25zdCBuUmVxQm9keSA9IHtcclxuICAgICAgICAndXNlcm5hbWUnOiB1c2VybmFtZVNlbGVjdGVkLFxyXG4gICAgICAgICd0eXBlJzogY2xzQ29uc3QucGF0aFR5cGUsXHJcbiAgICAgICAgJ3N1YnR5cGUnOiBjbHNDb25zdC5wYXRoU3ViVHlwZSxcclxuICAgICAgICAndXNlcl9kZWZhdWx0X2NvbmZpZyc6IHt9LFxyXG4gICAgICAgICd1c2VyX2N1c3RvbV9jb25maWcnOiB7XHJcbiAgICAgICAgICAgICdmb3Jtcyc6IHJlcUJvZHlcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIC8vIGNvbnNvbGUubG9nKCdtYWtlIHJlcXVlc3QgaGVyZSoqJywgblJlcUJvZHkpO1xyXG4gICAgZnVuY3Rpb24gY2JFcnJvcihyZXMpIHtcclxuICAgICAgICBjb25zdCBtc2cgPSByZXMuc3RhdHVzLm1lc3NhZ2U7XHJcbiAgICAgICAgJCgnLmZvcm0tc3VibWl0LWZpbmlzaC0tZXJyb3InKS5hZGRDbGFzcygnZC1ibG9jaycpXHJcbiAgICAgICAgLmZpbmQoJy5hbGVydCcpLmFwcGVuZChgPHA+JHttc2d9PC9wPmApO1xyXG4gICAgfVxyXG4gICAgVXNlclRhc2tNYW5hZ2VyLnBvc3RTdGFydFRhc2soblJlcUJvZHksIGNiRXJyb3IpLnRoZW4oKHJlc3VsdCkgPT4ge1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCdwb3N0Qm90Jyk7XHJcbiAgICAgICAgaWYgKHJlc3VsdC5zdGF0dXMuc3RhdGUgPT09ICdvaycpIHtcclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coSlNPTi5zdHJpbmdpZnkocmVzdWx0KSk7XHJcbiAgICAgICAgICAgICQoJy5mb3JtLXN1Ym1pdC1maW5pc2gnKS5maW5kKCcuYWxlcnQgcCcpLnJlbW92ZSgpO1xyXG4gICAgICAgICAgICAkKCcuZm9ybS1zdWJtaXQtZmluaXNoJykuYWRkQ2xhc3MoJ2QtYmxvY2snKVxyXG4gICAgICAgICAgICAgICAgLmZpbmQoJy5hbGVydCcpLmFwcGVuZChgPHA+dGFza19pZDogJHtyZXN1bHQuZGF0YS50YXNrX2lkfTwvcD5gKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gZmlsbExpc3RVc2Vycygkd3JhcHBlciwgYWNjb3VudHMpIHtcclxuICAgICR3cmFwcGVyLmVtcHR5KCkuYWRkQ2xhc3MoJ2JvcmRlci1saWdodC1jb2xvcicpO1xyXG4gICAgJChgPGRpdiBjbGFzcz1cIlwiPtCU0L7RgdGC0YPQv9C90YvQtSDQsNC60LrQsNGD0L3RgtGLPC9kaXY+PHNlbGVjdCBuYW1lPVwidGFzay10eXBlXCIgY2xhc3M9XCIke3NlbGVjdENsc31cIj48L3NlbGVjdD5gKS5hcHBlbmRUbygkd3JhcHBlcik7XHJcbiAgICBhY2NvdW50cy5mb3JFYWNoKChuYW1lKSA9PiB7XHJcbiAgICAgICAgJChgPG9wdGlvbiBjbGFzcz1cImxpc3QtZ3JvdXAtaXRlbSBweS0yXCIgdmFsdWU9XCIke25hbWV9XCI+XHJcbiAgICAgICAgICAgICR7bmFtZX1cclxuICAgICAgICA8L29wdGlvbj5gKS5hcHBlbmRUbygkKGAuJHtzZWxlY3RDbHN9YCkpO1xyXG4gICAgfSk7XHJcbiAgICAkKGAuJHtzZWxlY3RDbHN9YCkub24oJ2NoYW5nZScsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICB1c2VybmFtZVNlbGVjdGVkID0gJChgLiR7c2VsZWN0Q2xzfSBvcHRpb246c2VsZWN0ZWRgKS52YWwoKTtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZyh1c2VybmFtZVNlbGVjdGVkKTtcclxuICAgICAgICBjaGF0Qm90TG9ncy5pbml0KHNlbGVjdENscywgY2xzQ29uc3QpO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbi8vIGZ1bmN0aW9uIGdldE1ldGFMYXp5KCR3cmFwcGVyLCBjYkZpbGxMaXN0VXNlcnMpIHtcclxuLy8gICAgIFVzZXIuZ2V0TWV0YWRhdGFMYXp5KCkudGhlbigocmVzKSA9PiB7XHJcbi8vICAgICAgICAgaWYgKHJlcy5zdGF0dXMuc3RhdGUgPT09ICdvaycgJiYgcmVzLmRhdGEgJiYgcmVzLmRhdGEuYWNjb3VudHMpIHtcclxuLy8gICAgICAgICAgICAgY2JGaWxsTGlzdFVzZXJzKCR3cmFwcGVyLCByZXMuZGF0YS5hY2NvdW50cyk7XHJcbi8vICAgICAgICAgICAgIGNoYXRCb3RMb2dzLmluaXQoc2VsZWN0Q2xzLCBjbHNDb25zdCk7XHJcbi8vICAgICAgICAgfVxyXG4vLyAgICAgfSk7XHJcbi8vIH1cclxuXHJcbi8qKlxyXG4gKiBJbml0IGhlYWRlclxyXG4gKi9cclxuZnVuY3Rpb24gaW5pdEhhbmRsZXJzKCkge1xyXG4gICAgY29uc3QgdHBsVGV4dEZpZWxkID0gKCkgPT4gJChgPGRpdiBjbGFzcz1cImJvdC10ZXh0LWZpZWxkcyBtdC0yXCI+XHJcbiAgICAgICAgPGRpdiBjbGFzcz1cInJvd1wiPlxyXG4gICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sXCI+XHJcbiAgICAgICAgICAgICAgICA8dGV4dGFyZWEgY2xhc3M9XCJmb3JtLWNvbnRyb2wgYW5zd2VyLXdvcmRzXCIgcm93cz1cIjRcIiBwbGFjZWhvbGRlcj1cItCS0LLQtdC00LjRgtC1INC60LvRjtGH0LXQstGL0LUg0YHQu9C+0LLQsCDQuNC70Lgg0YTRgNCw0LfRiyDRh9C10YDQtdC3INC30LDQv9GP0YLRg9GOLCDQv9GA0Lgg0LrQvtGC0L7RgNGL0YUg0LHRg9C00LXRgiDRgdGA0LDQsdCw0YLRi9Cy0LDRgtGMINGH0LDRgi3QsdC+0YJcIj48L3RleHRhcmVhPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbFwiPlxyXG4gICAgICAgICAgICAgICAgPHRleHRhcmVhIGNsYXNzPVwiZm9ybS1jb250cm9sIGFuc3dlci1tZXNzYWdlc1wiIHJvd3M9XCI0XCIgcGxhY2Vob2xkZXI9XCLQktCy0LXQtNC40YLQtSDRgdC+0L7QsdGJ0LXQvdC40LUsINC60L7RgtC+0YDQvtC1INCx0YPQtNC10YIg0L7RgtC/0YDQsNCy0LvRj9GC0YzRgdGPLCDQtdGB0LvQuCDQv9GA0LjRgdGD0YLRgdGC0LLQvtCy0LDQu9C4INC60LvRjtGHLtGB0LvQvtCy0LAg0LjQu9C4INGE0YDQsNC30Ysg0LjQtyDRgdGC0L7Qu9Cx0YbQsCDRgdC70LXQstCwXCI+PC90ZXh0YXJlYT5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgPC9kaXY+XHJcbiAgICA8L2Rpdj5gKTtcclxuXHJcbiAgICAkKCcuanNfYWRkLWJvdCcpLm9uKCdjbGljaycsIChlKSA9PiB7XHJcbiAgICAgICAgY29uc3QgbGFzdFRleHRGaWVsZCA9ICQoJy5ib3QtdGV4dC1maWVsZHMnKS5sYXN0KCk7XHJcbiAgICAgICAgdHBsVGV4dEZpZWxkKCkuaW5zZXJ0QWZ0ZXIobGFzdFRleHRGaWVsZCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBhbGVydCBjbG9zZVxyXG4gICAgJCgnLmZvcm0tc3VibWl0LWZpbmlzaCAuY2xvc2UnKS5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coJ2FsZXJ0IGNsb3NlJyk7XHJcbiAgICAgICAgJCgnI3YtcGlsbHMtYWxsLXRhYicpLnRyaWdnZXIoJ2NsaWNrJyk7XHJcbiAgICAgICAgd2luZG93LlB1YlN1Yi5wdWJsaXNoKENPTlNULmV2ZW50cy50YXNrcy5ORVdfVEFTS19DUkVBVEVEKTtcclxuICAgIH0pO1xyXG5cclxuICAgIC8vIGFsZXJ0IGNsb3NlXHJcbiAgICAkKCcuZm9ybS1zdWJtaXQtZmluaXNoLS1lcnJvciAuY2xvc2UnKS5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coJ2FsZXJ0IGNsb3NlJyk7XHJcbiAgICAgICAgJCgnI3YtcGlsbHMtYWxsLXRhYicpLnRyaWdnZXIoJ2NsaWNrJyk7XHJcbiAgICAgICAgd2luZG93LlB1YlN1Yi5wdWJsaXNoKENPTlNULmV2ZW50cy50YXNrcy5ORVdfVEFTS19DUkVBVEVEKTtcclxuICAgIH0pO1xyXG5cclxuICAgIC8qXHJcbiAgICAkKCcjdi1waWxscy1sb2dzLXRhYicpLm9uKCdjbGljaycsIChlKSA9PiB7XHJcbiAgICAgICAgLy8gYXQgdGhpcyBwb2ludCBvZiB0aW1lIHNldEludGVydmFsIGlzIHdvcmtpbmdcclxuICAgICAgICBjb25zdCAkd3JhcHBlciA9ICQoJy5sb2ctdXNlcnMtbGlzdCcpO1xyXG4gICAgICAgIGdldE1ldGFMYXp5KCR3cmFwcGVyLCBmaWxsTGlzdFVzZXJzKTtcclxuICAgICAgICAvLyBjaGF0Qm90TG9ncy5pbml0KHNlbGVjdENscywgY2xzQ29uc3QpO1xyXG4gICAgfSk7XHJcbiAgICAqL1xyXG4gICAgdGFicy5pbml0KGZpbGxMaXN0VXNlcnMpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBzZXRVc2VyTmFtZShzdGF0ZSkge1xyXG4gICAgLy8gY29uc29sZS5sb2coJ2dldFRhc2tzRGF0YScsIHN0YXRlLnVzZXJuYW1lKTtcclxuICAgIHVzZXJuYW1lU2VsZWN0ZWQgPSBzdGF0ZS51c2VybmFtZTtcclxufVxyXG5cclxuZnVuY3Rpb24gc3RlcFJlZHVjZXIoc3RlcE51bWJlciwgc3RhdGUpIHtcclxuICAgIHN3aXRjaCAoc3RlcE51bWJlcikge1xyXG4gICAgICAgIGNhc2UgMDpcclxuICAgICAgICAgICAgc2V0VXNlck5hbWUoc3RhdGUpO1xyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhzdGF0ZSwgc3RlcE51bWJlcik7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGRlZmF1bHQ6XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdkZWZhdWx0Jywgc3RlcE51bWJlcik7XHJcbiAgICB9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBpbml0KCkge1xyXG4gICAgaWYgKCQoJy5ib3QtcGFnZScpLmxlbmd0aCkge1xyXG4gICAgICAgIGNvbnN0IHdpemFyZENmZyA9IHtcclxuICAgICAgICAgICAgc3RlcFJlZHVjZXIsXHJcbiAgICAgICAgICAgIG9uU3VibWl0SGFuZGxlclxyXG4gICAgICAgIH07XHJcbiAgICAgICAgd2l6YXJkRm9ybS5pbml0KHdpemFyZENmZyk7XHJcbiAgICAgICAgaW5pdEhhbmRsZXJzKCk7XHJcbiAgICAgICAgY2hhdEJvdFN0YXR1cy5pbml0KCk7XHJcbiAgICAgICAgd2luZG93LlB1YlN1Yi5zdWJzY3JpYmUoQ09OU1QuZXZlbnRzLmluc3RhZ3JhbUFjY291bnMuSU5TVEFHUkFNX0FDQ09VTlNfUkVOREVSRURfTEFaWSwgKGUsIGFjY291bnRzKSA9PiB7XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGFjY291bnRzKTtcclxuICAgICAgICAgICAgY2hhdEJvdExvZ3MuaW5pdChzZWxlY3RDbHMsIGNsc0NvbnN0KTtcclxuICAgICAgICB9KTtcclxuICAgIH1cclxufVxyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvYmxvY2tzL2NoYXQtYm90L2NoYXQtYm90LWluZGV4LmpzIiwiaW1wb3J0IHtDT05TVH0gZnJvbSAnLi4vLi4vY29tbW9uL2pzLXNlcnZpY2VzL2NvbnN0cyc7XG5pbXBvcnQge2dldFRhc2tzRGF0YX0gZnJvbSAnLi4vX3NoYXJlZC90YXNrLXN0YXR1cy90YXNrLXN0YXR1cyc7XG5cbmV4cG9ydCBmdW5jdGlvbiBpbml0KCkge1xuICAgIGlmICgkKCcuYm90LXBhZ2UnKS5sZW5ndGgpIHtcbiAgICAgICAgY29uc3QgcGF0aCA9IHtcbiAgICAgICAgICAgIHR5cGU6IENPTlNULnVybC50bVR5cGVzLmNoYXRCb3RULFxuICAgICAgICAgICAgc3VidHlwZTogQ09OU1QudXJsLnRtVHlwZXMuY2hhdEJvdFN1YlRbMF1cbiAgICAgICAgfTtcbiAgICAgICAgY29uc3Qgd3JhcHBlcnMgPSB7XG4gICAgICAgICAgICAkcnVuczogJCgnLnRhc2tzLXJ1bnMnKSxcbiAgICAgICAgICAgICRzdG9wcGVkOiAkKCcudGFza3Mtc3RvcHBlZCcpXG4gICAgICAgIH07XG4gICAgICAgIGdldFRhc2tzRGF0YSh3cmFwcGVycywgcGF0aCk7XG4gICAgICAgIC8vIHdpbmRvdy5QdWJTdWIuc3Vic2NyaWJlKENPTlNULmV2ZW50cy5pbnN0YWdyYW1BY2NvdW5zLklOU1RBR1JBTV9BQ0NPVU5TX1JFTkRFUkVELCAoZXZlbnROYW1lLCBkYXRhKSA9PiB7XG4gICAgICAgIC8vICAgICBnZXRUYXNrc0RhdGEod3JhcHBlcnMsIHBhdGgpO1xuICAgICAgICAvLyAgICAgY29uc29sZS5sb2coJyoqYW5zd2VyLXN0YXR1cycsIGV2ZW50TmFtZSwgZGF0YSk7XG4gICAgICAgIC8vIH0pO1xuICAgICAgICB3aW5kb3cuUHViU3ViLnN1YnNjcmliZShDT05TVC5ldmVudHMudGFza3MuTkVXX1RBU0tfQ1JFQVRFRCwgKGV2ZW50TmFtZSwgZGF0YSkgPT4ge1xuICAgICAgICAgICAgZ2V0VGFza3NEYXRhKHdyYXBwZXJzLCBwYXRoKTtcbiAgICAgICAgfSk7XG4gICAgfVxufVxuXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvYmxvY2tzL2NoYXQtYm90L2NoYXQtYm90LXN0YXR1cy5qcyIsIi8qIGVzbGludC1kaXNhYmxlIHNvcnQtdmFycyAqL1xyXG4vLyBpbXBvcnQgJCBmcm9tICdqcXVlcnknO1xyXG5pbXBvcnQgVXNlciBmcm9tICcuLi8uLi9jb21tb24vanMtc2VydmljZXMvdXNlcic7XHJcbmltcG9ydCB7Q09OU1R9IGZyb20gJy4uLy4uL2NvbW1vbi9qcy1zZXJ2aWNlcy9jb25zdHMnO1xyXG5pbXBvcnQgY29va2llU3RvcmFnZSBmcm9tICcuLi8uLi9jb21tb24vanMtc2VydmljZXMvY29va2llJztcclxuXHJcbmNvbnN0IHBhcnNlUXVlcnlTdHJpbmcgPSBmdW5jdGlvbigpIHtcclxuXHJcbiAgICBjb25zdCBzdHIgPSB3aW5kb3cubG9jYXRpb24uc2VhcmNoO1xyXG4gICAgY29uc3Qgb2JqVVJMID0ge307XHJcblxyXG4gICAgc3RyLnJlcGxhY2UoXHJcbiAgICAgIG5ldyBSZWdFeHAoJyhbXj89Jl0rKSg9KFteJl0qKSk/JywgJ2cnKSxcclxuICAgICAgICBmdW5jdGlvbigkMCwgJDEsICQyKSB7XHJcbiAgICAgICAgICAgIG9ialVSTFskMV0gPSAkMjtcclxuICAgICAgICB9XHJcbiAgKTtcclxuICAgIHJldHVybiBvYmpVUkw7XHJcbn07XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gY29uZmlybWF0aW9uV2l0aFJlZGlyZWN0KCkge1xyXG4gICAgY29uc3QgdXNlciA9IFVzZXI7XHJcbiAgICBjb25zdCBwYXJhbXMgPSBwYXJzZVF1ZXJ5U3RyaW5nKCk7XHJcbiAgICAvLyBFeGFtcGxlIGhvdyB0byB1c2UgaXQ6XHJcblxyXG4gICAgY29uc3Qgc2VuZENvbmZpcm0gPSBmdW5jdGlvbiAodG9rZW4pIHtcclxuICAgICAgICB1c2VyLmNvbmZpcm0odG9rZW4pLnRoZW4oKHJlc3VsdCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAocmVzdWx0LnN0YXR1cyAmJiByZXN1bHQuc3RhdHVzLnN0YXRlID09PSAnb2snKSB7XHJcblxyXG4gICAgICAgICAgICAgICAgLy8gc2F2ZSB0aGUgaXRlbVxyXG4gICAgICAgICAgICAgICAgY29va2llU3RvcmFnZS5zZXQoQ09OU1QuY29va2llU3RvcmFnZS5lbWFpbENvbmZpcm1lZCwgJ2NvbmZpcm1lZCcpO1xyXG4gICAgICAgICAgICAgICAgY29va2llU3RvcmFnZS5zZXQoQ09OU1QuY29va2llU3RvcmFnZS50b2tlbiwgcmVzdWx0LmRhdGEudG9rZW4pO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vIHdpbmRvdy5sb2NhdGlvbiA9IGNvbmZpcm0tcmVnaXN0cmF0aW9uLmh0bWw/dG9rZW49J2Zyb20gc2VydmVyJztcclxuXHJcbiAgICAgICAgICAgICAgICAvLyByZXRyaWV2ZSB0aGUgb2JqZWN0IGluIGEgc3RyaW5nIGZvcm1cclxuICAgICAgICAgICAgICAgIGNvbnN0IGN1c3RvbWVyc0RhdGFTdHJpbmcgPSBzZXNzaW9uU3RvcmFnZS5nZXRJdGVtKCdjdXN0b21lcnNEYXRhJyk7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhjdXN0b21lcnNEYXRhU3RyaW5nKTtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdyZXF1ZXN0IHN1Y2NlZWRlZCB3aXRoIEpTT04gcmVzcG9uc2UnLCByZXN1bHQpO1xyXG4gICAgICAgICAgICAgICAgJCgnLmNvbmZpcm0tcmVnaXN0cmF0aW9uJykuYXBwZW5kKGA8cD5jb25maXJtYXRpb24gc3RhdHVzOiAke3Jlc3VsdC5zdGF0dXMuc3RhdGV9PC9wPmApO1xyXG4gICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgd2luZG93LmxvY2F0aW9uID0gJy4vcHJvZmlsZS5odG1sJztcclxuICAgICAgICAgICAgICAgIH0sIDEwMDApO1xyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHJlc3VsdC5zdGF0dXMpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3VsdCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXN1bHQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9O1xyXG5cclxuICAgIGNvbnN0IHJlZGlyZWN0ID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIGRvdC1ub3RhdGlvblxyXG4gICAgICAgIGNvbnN0IHRva2VuID0gcGFyYW1zWyd0b2tlbiddO1xyXG5cclxuICAgICAgICBpZiAoIWxvY2F0aW9uLnBhdGhuYW1lLmluZGV4T2YoJ2NvbmZpcm0tcmVnaXN0cmF0aW9uJykpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodG9rZW4pIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ3NlbmQgcmVxIHRvICcsIHRva2VuKTtcclxuICAgICAgICAgICAgc2VuZENvbmZpcm0odG9rZW4pO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgZnVuY3Rpb24gaW5pdCgpIHtcclxuICAgICAgICByZWRpcmVjdCgpO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB7XHJcbiAgICAgICAgaW5pdFxyXG4gICAgfTtcclxufVxyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvYmxvY2tzL2NvbmZpcm0tcmVnL2NvbmZpcm0tcmVnLmpzIiwiLy8gaW1wb3J0ICogYXMgZm9sbG93U3RhdHVzIGZyb20gJy4vZm9sbG93LXN0YXR1cyc7XHJcbmltcG9ydCAqIGFzIGZvbGxvd1N0YXR1c0J5U3VidHlwZSBmcm9tICcuLi8uLi9ibG9ja3MvX3NoYXJlZC90YXNrLXN0YXR1cy90YXNrLXN0YXR1cy1ieS1zdWJ0eXBlJztcclxuaW1wb3J0IHtDT05TVH0gZnJvbSAnLi4vLi4vY29tbW9uL2pzLXNlcnZpY2VzL2NvbnN0cyc7XHJcbmltcG9ydCBVc2VyVGFza01hbmFnZXIgZnJvbSAnLi4vLi4vY29tbW9uL2pzLXNlcnZpY2VzL2FwaS10YXNrLW1hbmFnZXInO1xyXG5pbXBvcnQgdmlld1V0aWxzIGZyb20gJy4uLy4uL2NvbW1vbi9qcy1zZXJ2aWNlcy92aWV3JztcclxuaW1wb3J0IHthdHRhY2hUeHRGaWxlSGFuZGxlcn0gZnJvbSAnLi9mb2xsb3ctcmVhZC1maWxlLXR4dCc7XHJcbmltcG9ydCAnYnJ1dHVzaW4tanNvbi1mb3Jtcyc7XHJcbmltcG9ydCB7aW5pdExvZ3NUYWJ9IGZyb20gJy4uL19zaGFyZWQvbG9ncy9sb2dzLXRhYnMnO1xyXG5pbXBvcnQgey8qIGluaXRUYWdzSW5wdXQsICovbmV4dEJ0bnZhbGlkYXRlQ29tcGV0aXRvcnNIYW5kbGVyfSBmcm9tICcuLi9fc2hhcmVkL3RhZ3MtaW5wdXQvdGFncy1pbnB1dCc7XHJcblxyXG5jb25zdCBzdGF0ZSA9IHtcclxuICAgIHVzZXJuYW1lOiAnJyxcclxuICAgIHN1YnR5cGU6IENPTlNULnVybC50bVR5cGVzLmZvbGxvd2luZ1N1YlRbMF0sIC8vIGRlZmF1bHQgdmFsdWVcclxuICAgIHVzZXJfZGVmYXVsdF9jb25maWc6IHtcclxuICAgICAgICB0YXNrX21vZGU6ICdTQUZFJ1xyXG4gICAgfVxyXG59O1xyXG5cclxuZnVuY3Rpb24gZmlsbExpc3RNZXRhKCRsaXN0LCBkYXRhQXJyYXkpIHtcclxuICAgIGNvbnN0IGl0ZW1zID0gZGF0YUFycmF5O1xyXG4gICAgLy8gY29uc3QgZGVmYXVsdEF2YXRhclNyYyA9IENPTlNULnVzZXIuZGVmYXVsQXZhdGFyO1xyXG4gICAgJGxpc3QuZW1wdHkoKS5hZGRDbGFzcygnYm9yZGVyLWxpZ2h0LWNvbG9yJyk7XHJcbiAgICAkKCc8bGkgY2xhc3M9XCJsaXN0LWdyb3VwLWl0ZW0gcHktMlwiPjxoMz5Vc2VyVGFza01hbmFnZXI8L2gzPjwvbGk+JykuYXBwZW5kVG8oJGxpc3QpO1xyXG4gICAgaXRlbXMuZm9yRWFjaCgoaXRlbSkgPT4ge1xyXG4gICAgICAgIC8vIGNvbnN0IGluZm8gPSBpdGVtLmluZm87XHJcbiAgICAgICAgLy8gY29uc3QgY2hlY2twb2ludCA9IGl0ZW0uY2hlY2twb2ludCB8fCBpdGVtO1xyXG4gICAgICAgICQoYDxsaSBjbGFzcz1cImxpc3QtZ3JvdXAtaXRlbSBweS0yXCIgZGF0YS11c2VybmFtZT1cIiR7aXRlbS50eXBlfVwiPlxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1lZGlhLWJvZHkgZC1mbGV4XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbCB0YXNrLXR5cGVcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgJHsoaXRlbS50YXNrX2lkKSA/IGA8cCBjbGFzcz1cIm10LTAgbWItMSBuYW1lXCI+JHtpdGVtLnRhc2tfaWR9PC9wPmAgOiAnJ31cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sIHRhc2stc3VidHlwZVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkeyhpdGVtLnN1YnR5cGUpID8gYDxwIGNsYXNzPVwibXQtMCBtYi0xIG5hbWVcIj4ke2l0ZW0uc3VidHlwZX08L3A+YCA6ICcnfVxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wgdGFzay1wcm9ncmVzc1wiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkeyhpdGVtLnN0YXR1cy5zdGF0ZSA9PT0gJ1NUT1BQRUQnKSA/IGA8cCBjbGFzcz1cIm10LTAgbWItMSBuYW1lXCI+0J7RgdGC0LDQvdC+0LLQu9C10L3QviAtICR7aXRlbS5zdGF0dXMucmVhc29ufTwvcD5gIDogJyd9XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPCEtLTxkaXYgY2xhc3M9XCJjb2wgdGFzay1wcm9ncmVzc1wiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkeyhpdGVtLnByb2dyZXNzKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPyBgPHAgY2xhc3M9XCJtdC0wIG1iLTEgbmFtZVwiPtCa0L7Qu9C40YfQtdGB0YLQstC+IC0gJHtpdGVtLnByb2dyZXNzLmNvdW50fTwvcD5cclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzcz1cIm10LTAgbWItMSBuYW1lXCI+0J/RgNC+0YbQtdC90YIgLSAke2l0ZW0ucHJvZ3Jlc3MucGVyY2VudH08L3A+YCA6ICcnfVxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2Pi0tPlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDwvbGk+YCkuYXBwZW5kVG8oJGxpc3QpO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbi8qXHJcbmZ1bmN0aW9uIGZpbGxMaXN0VHlwZXMoJHdyYXBwZXIsIGRhdGEpIHtcclxuICAgIGNvbnN0IHN0cnVjdHVyZU9iaiA9IGRhdGFbJ3N0cnVjdHVyZSddO1xyXG5cclxuICAgICR3cmFwcGVyLmVtcHR5KCkuYWRkQ2xhc3MoJ2JvcmRlci1saWdodC1jb2xvcicpO1xyXG4gICAgJCgnPGRpdiBjbGFzcz1cIlwiPtCi0LjQvyDQt9Cw0LTQsNC90LjRjzwvZGl2PjxzZWxlY3QgbmFtZT1cInRhc2stdHlwZVwiIGlkPVwidGFzay10eXBlc1wiPjwvc2VsZWN0PicpLmFwcGVuZFRvKCR3cmFwcGVyKTtcclxuICAgIGZvciAoY29uc3QgdHlwZSBpbiBzdHJ1Y3R1cmVPYmopIHtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZygnc3RydWN0dXJlOiAnICsgaXRlbSk7XHJcbiAgICAgICAgaWYgKE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzdHJ1Y3R1cmVPYmosIHR5cGUpKSB7XHJcbiAgICAgICAgICAgICQoYDxvcHRpb24gY2xhc3M9XCJsaXN0LWdyb3VwLWl0ZW0gcHktMlwiICR7KHR5cGUgIT09ICdGT0xMT1dJTkcnKSA/ICdkaXNhYmxlZD1cImRpc2FibGVkXCInIDogJyd9XHJcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IFwiJHtKU09OLnN0cmluZ2lmeSh7dHlwZSwgc3VidHlwZTogc3RydWN0dXJlT2JqW3R5cGVdfSl9XCI+XHJcbiAgICAgICAgICAgICAgICAke3R5cGV9XHJcbiAgICAgICAgICAgIDwvb3B0aW9uPmApLmFwcGVuZFRvKCQoJyN0YXNrLXR5cGVzJykpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufVxyXG4qL1xyXG5cclxuZnVuY3Rpb24gZ2V0VGFza3NEYXRhKHBhdGgpIHtcclxuICAgIFVzZXJUYXNrTWFuYWdlci5nZXRNZXRhZGF0YShwYXRoKS50aGVuKChyZXN1bHQpID0+IHtcclxuICAgICAgICBpZiAocmVzdWx0LnN0YXR1cy5zdGF0ZSA9PT0gJ29rJykge1xyXG4gICAgICAgICAgICBmaWxsTGlzdE1ldGEoJCgnLmZvbGxvdy10YXNrcy1saXN0JyksIHJlc3VsdC5kYXRhLm1ldGEpO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBnZXREYXRhU3RlcDIoKSB7XHJcbiAgICBjb25zdCBwYXRoID0ge1xyXG4gICAgICAgIHR5cGU6IENPTlNULnVybC50bVR5cGVzLmZvbGxvd2luZ1QsXHJcbiAgICAgICAgc3VidHlwZTogc3RhdGUuc3VidHlwZSB8fCBDT05TVC51cmwudG1UeXBlcy5mb2xsb3dpbmdTdWJUWzBdXHJcbiAgICB9O1xyXG4gICAgZ2V0VGFza3NEYXRhKHBhdGgpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBnZXREYXRhU3RlcFNwZWVkKHN0ZXBOdW1iZXIpIHtcclxuICAgIGNvbnN0IGZpbGxTcGVlZExpc3QgPSB2aWV3VXRpbHMuZmlsbFJhZGlvR3JvdXBMaXN0O1xyXG4gICAgY29uc3QgcGF0aCA9IHtcclxuICAgICAgICB0eXBlOiBDT05TVC51cmwudG1UeXBlcy5mb2xsb3dpbmdULFxyXG4gICAgICAgIHN1YnR5cGU6IHN0YXRlLnN1YnR5cGUgfHwgQ09OU1QudXJsLnRtVHlwZXMuZm9sbG93aW5nU3ViVFswXVxyXG4gICAgfTtcclxuICAgIGZ1bmN0aW9uIHRvZ2dsZUFkZFRleHRCdG4oc3VidHlwZSkge1xyXG4gICAgICAgIGlmIChwYXRoLnN1YnR5cGUgPT09ICdGT0xMT1dJTkdfQllfTElTVCcpIHtcclxuICAgICAgICAgICAgLy8gc2hvdyB0eHQgZmlsZVVwbG9hZFxyXG4gICAgICAgICAgICAkKCcuYWRkLWZpbGUnKS5hZGRDbGFzcygnZC1ibG9jaycpO1xyXG4gICAgICAgICAgICAkKCcuYWRkLWNvbXBldGl0b3JzJykuYWRkQ2xhc3MoJ2Qtbm9uZScpLnJlbW92ZUNsYXNzKCdkLWJsb2NrJyk7XHJcbiAgICAgICAgICAgIGNvbnN0IG5leHRTdGVwID0gJCgnLmpzX2FkZC1uZXctdGFzayBmaWVsZHNldCcpLmdldChzdGVwTnVtYmVyICsgMSk7XHJcbiAgICAgICAgICAgICQobmV4dFN0ZXApLmZpbmQoJy5idG4tbmV4dCcpLmF0dHIoJ2Rpc2FibGVkJywgJ2Rpc2FibGVkJyk7XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKG5leHRTdGVwUHJvY2VlZEJ0bik7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgLy8gc2hvdyBjb21wZXRpdG9yc1xyXG4gICAgICAgICAgICAkKCcuYWRkLWNvbXBldGl0b3JzJykuYWRkQ2xhc3MoJ2QtYmxvY2snKTtcclxuICAgICAgICAgICAgJCgnLmFkZC1maWxlJykuYWRkQ2xhc3MoJ2Qtbm9uZScpLnJlbW92ZUNsYXNzKCdkLWJsb2NrJyk7XHJcbiAgICAgICAgICAgIGNvbnN0IG5leHRTdGVwID0gJCgnLmpzX2FkZC1uZXctdGFzayBmaWVsZHNldCcpLmdldChzdGVwTnVtYmVyICsgMSk7XHJcbiAgICAgICAgICAgICQobmV4dFN0ZXApLmZpbmQoJy5idG4tbmV4dCcpLnJlbW92ZUF0dHIoJ2Rpc2FibGVkJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgY29uc29sZS5sb2coJ3BhdGguc3VidHlwZScsIHBhdGguc3VidHlwZSk7XHJcblxyXG4gICAgdG9nZ2xlQWRkVGV4dEJ0bihwYXRoLnN1YnR5cGUpO1xyXG5cclxuICAgIC8vIGRyYXcgY3JpdGVyaWFcclxuICAgIFVzZXJUYXNrTWFuYWdlci5nZXREZWZhdWx0Q29uZmlncyhwYXRoKS50aGVuKChyZXN1bHQpID0+IHtcclxuICAgICAgICBjb25zb2xlLmxvZygnZ2V0RGVmYXVsdENvbmZpZ3MnKTtcclxuICAgICAgICBpZiAocmVzdWx0LnN0YXR1cy5zdGF0ZSA9PT0gJ29rJykge1xyXG4gICAgICAgICAgICBjb25zdCB7XHJcbiAgICAgICAgICAgICAgZGF0YToge1xyXG4gICAgICAgICAgICAgICAgZm91bmQ6IHtcclxuICAgICAgICAgICAgICAgICAgY2ZnOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGFza19tb2Rlc1xyXG4gICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9ID0gcmVzdWx0O1xyXG5cclxuICAgICAgICAgICAgZmlsbFNwZWVkTGlzdCgkKCcuanNfZm9sbG93LXNwZWVkJyksIHRhc2tfbW9kZXMpO1xyXG4gICAgICAgICAgICAkKCcuanNfZm9sbG93LXNwZWVkIGlucHV0W3R5cGU9cmFkaW9dJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgY29uc3QgdmFsdWUgPSAkKHRoaXMpLmF0dHIoJ3ZhbHVlJyk7XHJcbiAgICAgICAgICAgICAgICBzdGF0ZS51c2VyX2RlZmF1bHRfY29uZmlnID0ge1xyXG4gICAgICAgICAgICAgICAgICAgIHRhc2tfbW9kZTogdmFsdWUudG9VcHBlckNhc2UoKVxyXG4gICAgICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbn1cclxuZnVuY3Rpb24gc2V0Q29tcGV0aXRvcnMoKSB7XHJcbiAgICBjb25zdCBjb21wZXRpdG9ycyA9IHZpZXdVdGlscy5nZXRWYWxCeUNvbW1hU2VwYXJhdG9yKCQoJy5mb2xsb3ctZm9ybScpLmZpbmQoJyNmb2xsb3dlcnMnKSk7XHJcblxyXG4gICAgc3RhdGVbJ3VzZXJfY3VzdG9tX2NvbmZpZyddID0ge1xyXG4gICAgICAgIGNvbXBldGl0b3JzXHJcbiAgICB9O1xyXG59XHJcblxyXG5mdW5jdGlvbiBzdGVwUmVkdWNlcihzdGVwTnVtYmVyKSB7XHJcbiAgICBjb25zdCAkY29tcGV0aXRvcnNUZXh0QXJlYSA9ICQoJy5qc19mb2xsb3ctY29tcGV0aXRvcnMnKTtcclxuICAgIGNvbnN0IG5leHRTdGVwQnRuID0gJGNvbXBldGl0b3JzVGV4dEFyZWEuY2xvc2VzdCgnLmFkZC1jb21wZXRpdG9ycycpLmZpbmQoJy5idG4tbmV4dCcpO1xyXG4gICAgc3dpdGNoIChzdGVwTnVtYmVyKSB7XHJcbiAgICAgICAgY2FzZSAwOlxyXG4gICAgICAgICAgICBnZXREYXRhU3RlcDIoc3RhdGUudXNlcm5hbWUpO1xyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhzdGF0ZSk7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgZ2V0RGF0YVN0ZXBTcGVlZChzdGVwTnVtYmVyKTtcclxuICAgICAgICAgICAgbmV4dEJ0bnZhbGlkYXRlQ29tcGV0aXRvcnNIYW5kbGVyKCRjb21wZXRpdG9yc1RleHRBcmVhLCBuZXh0U3RlcEJ0bik7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgMjpcclxuICAgICAgICAgICAgc2V0Q29tcGV0aXRvcnMoKTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ2RlZmF1bHQnLCBzdGVwTnVtYmVyKTtcclxuICAgIH1cclxufVxyXG5cclxuZnVuY3Rpb24gY2JFcnJvcihyZXMpIHtcclxuICAgIGNvbnN0IG1zZyA9IHJlcy5zdGF0dXMubWVzc2FnZTtcclxuICAgICQoJy5mb3JtLXN1Ym1pdC1maW5pc2gtLWVycm9yJykuYWRkQ2xhc3MoJ2QtYmxvY2snKVxyXG4gICAgICAgIC5maW5kKCcuYWxlcnQnKS5hcHBlbmQoYDxwPiR7bXNnfTwvcD5gKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEluaXQgaGVhZGVyXHJcbiAqL1xyXG5mdW5jdGlvbiBpbml0U3RlcHMoZm9ybVNlbGVjdG9yKSB7XHJcbiAgICBjb25zdCAkZm9ybSA9ICQoZm9ybVNlbGVjdG9yKTtcclxuICAgICQoJy5qc19wcm9maWxlLXVzZXItZm9sbG93Pi5jb250YWluZXInKS5yZW1vdmVDbGFzcygnY29udGFpbmVyJyk7XHJcblxyXG4gICAgYXR0YWNoVHh0RmlsZUhhbmRsZXIoJy5maWxlLXVwbG9hZC1jb250YWluZXInKTtcclxuXHJcbiAgICAkZm9ybS5maW5kKCdmaWVsZHNldDpmaXJzdC1jaGlsZCcpLmZhZGVJbignc2xvdycpO1xyXG5cclxuICAgICRmb3JtLmZpbmQoJ2lucHV0W3R5cGU9XCJ0ZXh0XCJdJykub24oJ2ZvY3VzJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICQodGhpcykucmVtb3ZlQ2xhc3MoJ2lucHV0LWVycm9yJyk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBuZXh0IHN0ZXBcclxuICAgICRmb3JtLmZpbmQoJy5idG4tbmV4dCcpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBjb25zdCBwYXJlbnRfZmllbGRzZXQgPSAkKHRoaXMpLnBhcmVudHMoJ2ZpZWxkc2V0Jyk7XHJcbiAgICAgICAgbGV0IG5leHRfc3RlcCA9IHRydWU7XHJcbiAgICAgICAgY29uc3QgcmFkaW9CdG5BY3RpdmUgPSBwYXJlbnRfZmllbGRzZXQuZmluZCgnaW5wdXRbbmFtZT1cInVzZXJBY2NvdW50UmFkaW9cIl06Y2hlY2tlZCcpO1xyXG5cclxuICAgICAgICBpZiAocmFkaW9CdG5BY3RpdmUubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICBzdGF0ZS51c2VybmFtZSA9IHJhZGlvQnRuQWN0aXZlLnBhcmVudHMoJ2xpJykuZGF0YSgndXNlcm5hbWUnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgc3RlcFJlZHVjZXIocGFyZW50X2ZpZWxkc2V0LmluZGV4KCksIHN0YXRlKTtcclxuXHJcbiAgICAgICAgcGFyZW50X2ZpZWxkc2V0LmZpbmQoJ2lucHV0W3R5cGU9XCJ0ZXh0XCJdLGlucHV0W3R5cGU9XCJlbWFpbFwiXScpLmVhY2goZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICBpZiAoJCh0aGlzKS52YWwoKSA9PT0gJycpIHtcclxuICAgICAgICAgICAgICAgICQodGhpcykuYWRkQ2xhc3MoJ2lucHV0LWVycm9yJyk7XHJcbiAgICAgICAgICAgICAgICBuZXh0X3N0ZXAgPSBmYWxzZTtcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICQodGhpcykucmVtb3ZlQ2xhc3MoJ2lucHV0LWVycm9yJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYgKCQodGhpcykucGFyZW50KCkuaGFzQ2xhc3MoJ2Jvb3RzdHJhcC10YWdzaW5wdXQnKSkge1xyXG4gICAgICAgICAgICAgICAgbmV4dF9zdGVwID0gdHJ1ZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBpZiAobmV4dF9zdGVwKSB7XHJcbiAgICAgICAgICAgIHBhcmVudF9maWVsZHNldC5mYWRlT3V0KDQwMCwgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgICAgICAgICAgJCh0aGlzKS5uZXh0KCkuZmFkZUluKCk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBwcmV2aW91cyBzdGVwXHJcbiAgICAkZm9ybS5maW5kKCcuYnRuLXByZXZpb3VzJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIC8vIHN0YXRlLnVzZXJuYW1lID0gWy4uLm5ldyBTZXQoc3RhdGUudXNlcm5hbWUpXTtcclxuICAgICAgICAkKHRoaXMpLnBhcmVudHMoJ2ZpZWxkc2V0JykuZmFkZU91dCg0MDAsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgJCh0aGlzKS5wcmV2KCkuZmFkZUluKCk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBzcGVlZCByYWRpby1idG4gZ3JvdXBcclxuICAgIC8vICQoJy5qc19mb2xsb3ctc3BlZWQgaW5wdXRbdHlwZT1yYWRpb10nKS5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAvLyAgICAgY29uc3QgdmFsdWUgPSAkKHRoaXMpLmF0dHIoJ3ZhbHVlJyk7XHJcbiAgICAvLyAgICAgc3RhdGUudXNlcl9kZWZhdWx0X2NvbmZpZyA9IHtcclxuICAgIC8vICAgICAgICAgdGFza19tb2RlOiB2YWx1ZS50b1VwcGVyQ2FzZSgpXHJcbiAgICAvLyAgICAgfTtcclxuICAgIC8vIH0pO1xyXG5cclxuICAgICQoJy5qc19nZXQtZm9sbG93LXR5cGUgaW5wdXRbdHlwZT1yYWRpb10nKS5vbignY2xpY2snLCAoZSkgPT4ge1xyXG4gICAgICAgIGNvbnN0IHZhbHVlID0gJChlLnRhcmdldCkuYXR0cigndmFsdWUnKTtcclxuICAgICAgICBzdGF0ZS5zdWJ0eXBlID0gdmFsdWUudG9VcHBlckNhc2UoKTtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZyhzdGF0ZSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBzdWJtaXRcclxuICAgICRmb3JtLm9uKCdzdWJtaXQnLCBmdW5jdGlvbiAoZSkge1xyXG5cclxuICAgICAgICBzdGF0ZS51c2VyX2RlZmF1bHRfY29uZmlnID0ge1xyXG4gICAgICAgICAgICAuLi5zdGF0ZS51c2VyX2RlZmF1bHRfY29uZmlnLFxyXG4gICAgICAgICAgICBjcml0ZXJpYToge31cclxuICAgICAgICB9O1xyXG4gICAgICAgIGNvbnN0IGxpbWl0ID0gZG9jdW1lbnQuZm9ybXNbJ2ZvbGxvdy1mb3JtJ11bJ2xpbWl0J107XHJcbiAgICAgICAgY29uc3QgaGF2ZV9wb3N0cyA9IHtcclxuICAgICAgICAgICAgZnJvbTogZG9jdW1lbnQuZm9ybXNbJ2ZvbGxvdy1mb3JtJ11bJ2hhdmVfcG9zdHNfZnJvbSddLnZhbHVlLFxyXG4gICAgICAgICAgICB0bzogZG9jdW1lbnQuZm9ybXNbJ2ZvbGxvdy1mb3JtJ11bJ2hhdmVfcG9zdHNfdG8nXS52YWx1ZVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgY29uc3QgaGF2ZV9mb2xsb3dlcnMgPSB7XHJcbiAgICAgICAgICAgIGZyb206IGRvY3VtZW50LmZvcm1zWydmb2xsb3ctZm9ybSddWydoYXZlX2ZvbGxvd2Vyc19mcm9tJ10udmFsdWUsXHJcbiAgICAgICAgICAgIHRvOiBkb2N1bWVudC5mb3Jtc1snZm9sbG93LWZvcm0nXVsnaGF2ZV9mb2xsb3dlcnNfdG8nXS52YWx1ZVxyXG4gICAgICAgIH07XHJcbiAgICAgICAgY29uc3QgaGF2ZV9mb2xsb3dpbmdzID0ge1xyXG4gICAgICAgICAgICBmcm9tOiBkb2N1bWVudC5mb3Jtc1snZm9sbG93LWZvcm0nXVsnaGF2ZV9mb2xsb3dpbmdzX2Zyb20nXS52YWx1ZSxcclxuICAgICAgICAgICAgdG86IGRvY3VtZW50LmZvcm1zWydmb2xsb3ctZm9ybSddWydoYXZlX2ZvbGxvd2luZ3NfdG8nXS52YWx1ZVxyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIGlmIChsaW1pdC52YWx1ZSA9PT0gJycpIHtcclxuICAgICAgICAgICAgbGltaXQuZm9jdXMoKTtcclxuICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBzdGF0ZVsndXNlcl9kZWZhdWx0X2NvbmZpZyddLmNyaXRlcmlhID0ge1xyXG4gICAgICAgICAgICBsaW1pdDogbGltaXQudmFsdWUsXHJcbiAgICAgICAgICAgICd1bmZvbGxvd190aGVuJzogISEkKCcjdW5mb2xsb3dfdGhlbjpjaGVja2VkJykubGVuZ3RoLFxyXG4gICAgICAgICAgICAnZm9sbG93X29uX2Nsb3NlZF9wcm9maWxlcyc6ICEhJCgnI2ZvbGxvd19vbl9jbG9zZWRfcHJvZmlsZXM6Y2hlY2tlZCcpLmxlbmd0aCxcclxuICAgICAgICAgICAgaGF2ZV9wb3N0cyxcclxuICAgICAgICAgICAgaGF2ZV9mb2xsb3dlcnMsXHJcbiAgICAgICAgICAgIGhhdmVfZm9sbG93aW5nc1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgICQodGhpcykuZmluZCgnaW5wdXRbdHlwZT1cInRleHRcIl0saW5wdXRbdHlwZT1cIm51bWJlclwiXSxpbnB1dFt0eXBlPVwiZW1haWxcIl0nKS5lYWNoKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgaWYgKCQodGhpcykudmFsKCkgPT09ICcnKSB7XHJcbiAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgICAgICAkKHRoaXMpLmFkZENsYXNzKCdpbnB1dC1lcnJvcicpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgJCh0aGlzKS5yZW1vdmVDbGFzcygnaW5wdXQtZXJyb3InKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBzdGF0ZS50eXBlID0gQ09OU1QudXJsLnRtVHlwZXMuZm9sbG93aW5nVDsgLy8gJ0ZPTExPV0lORyc7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coJy0tLS0rIHN0YXRlLnN1YnR5cGUgKy0tLS0nLCBzdGF0ZS5zdWJ0eXBlKTtcclxuICAgICAgICBpZiAoc3RhdGUuc3VidHlwZSA9PT0gJ0ZPTExPV0lOR19CWV9MSVNUJykge1xyXG4gICAgICAgICAgICAvLyB0ZXh0IGZpbGUgc2hvdWxkIGJlIGFkZGVkXHJcbiAgICAgICAgICAgIHN0YXRlWyd1c2VyX2N1c3RvbV9jb25maWcnXS5hdHRhY2htZW50ID0ge1xyXG4gICAgICAgICAgICAgICAgJ2xpc3RfaWQnOiAkKCcuYWRkLWZpbGUgLmZpbGUtdXBsb2FkLWNvbnRhaW5lcicpLmF0dHIoJ2F0dGFjaGVkLXR4dC1pZCcpXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmIChzdGF0ZS5zdWJ0eXBlID09PSBDT05TVC51cmwudG1UeXBlcy5mb2xsb3dpbmdTdWJUWzFdKSB7XHJcbiAgICAgICAgICAgIC8vIGNvbnN0IGNvbXBldGl0b3JzID0gZ2V0VmFsQnlDb21tYVNlcGFyYXRvcigkKGZvcm0pLmZpbmQoZWxTZWxlY3Rvci5jb21wZXRpdG9ycykpO1xyXG4gICAgICAgICAgICAvLyBzdGF0ZS51c2VyX2N1c3RvbV9jb25maWcgPSB7XHJcbiAgICAgICAgICAgIC8vICAgICBjb21wZXRpdG9yczogJ2NvbXBldGl0b3JzJ1xyXG4gICAgICAgICAgICAvLyB9O1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zb2xlLmxvZygnbWFrZSByZXF1ZXN0KiogIHBvc3Q6IFN0YXJ0Rm9sbG93aW5nTGlzdCcsIHN0YXRlKTtcclxuXHJcbiAgICAgICAgVXNlclRhc2tNYW5hZ2VyLnBvc3RTdGFydEZvbGxvd2luZ0xpc3Qoc3RhdGUsIGNiRXJyb3IpLnRoZW4oKHJlc3VsdCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAocmVzdWx0LnN0YXR1cy5zdGF0ZSA9PT0gJ29rJykge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coSlNPTi5zdHJpbmdpZnkocmVzdWx0KSk7XHJcbiAgICAgICAgICAgICAgICAkKCcuZm9ybS1zdWJtaXQtZmluaXNoJykuZmluZCgnLmFsZXJ0IHAnKS5yZW1vdmUoKTtcclxuICAgICAgICAgICAgICAgICQoJy5mb3JtLXN1Ym1pdC1maW5pc2gnKS5hZGRDbGFzcygnZC1ibG9jaycpXHJcbiAgICAgICAgICAgICAgICAgICAgLmZpbmQoJy5hbGVydCcpLmFwcGVuZChgPHA+dGFza19pZDogJHtyZXN1bHQuZGF0YS50YXNrX2lkfTwvcD5gKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG5cclxuICAgIH0pO1xyXG5cclxuICAgIC8vIGFsZXJ0IGNsb3NlXHJcbiAgICAkKCcuZm9ybS1zdWJtaXQtZmluaXNoIC5jbG9zZScpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAvLyAkKHRoaXMpLmNsb3Nlc3QoJ2Zvcm0tc3VibWl0LWZpbmlzaCcpLnJlbW92ZUNsYXNzKCdkLWJsb2NrJyk7XHJcbiAgICAgICAgJCgnI3YtcGlsbHMtYWxsLXRhYicpLnRyaWdnZXIoJ2NsaWNrJyk7XHJcbiAgICAgICAgd2luZG93LlB1YlN1Yi5wdWJsaXNoKENPTlNULmV2ZW50cy50YXNrcy5ORVdfVEFTS19DUkVBVEVEKTtcclxuICAgIH0pO1xyXG5cclxuICAgIC8vIGFsZXJ0IGNsb3NlXHJcbiAgICAkKCcuZm9ybS1zdWJtaXQtZmluaXNoLS1lcnJvciAuY2xvc2UnKS5vbignY2xpY2snLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coJ2FsZXJ0IGNsb3NlJyk7XHJcbiAgICAgICAgJCgnI3YtcGlsbHMtYWxsLXRhYicpLnRyaWdnZXIoJ2NsaWNrJyk7XHJcbiAgICAgICAgd2luZG93LlB1YlN1Yi5wdWJsaXNoKENPTlNULmV2ZW50cy50YXNrcy5ORVdfVEFTS19DUkVBVEVEKTtcclxuICAgIH0pO1xyXG5cclxuICAgIC8vIHByZXYgYnRuOiBjbGVhci1jb21wZXRpdG9yc1xyXG4gICAgJCgnLmpzX2ZvbGxvdy1jbGVhci1jb21wZXRpdG9ycycpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBjb25zdCAkY29tcGV0aXRvcnNUZXh0QXJlYSA9ICQoJy5qc19mb2xsb3ctY29tcGV0aXRvcnMnKTtcclxuICAgICAgICAkY29tcGV0aXRvcnNUZXh0QXJlYS52YWwoJycpO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbi8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtdmFyc1xyXG5sZXQgdXNlcm5hbWVTZWxlY3RlZCA9ICcnO1xyXG5jb25zdCBjbHNDb25zdCA9IHtcclxuICAgIGN1cnJlbnRQYWdlQ2xzOiAnLmZvbGxvdycsXHJcbiAgICB0YXNrc0xpc3Q6ICcubG9nLXRhc2tzJyxcclxuICAgIGxvZ3NUYWJCdG46ICcjdi1waWxscy1sb2dzLXRhYicsXHJcbiAgICBwYWdpbmF0aW9uOiAnLmxvZ3MtcGFnaW5hdGlvbicsXHJcbiAgICBwYWdpbmF0aW9uUGdOdW1iZXI6ICcucGFnZS1udW1iZXInLFxyXG4gICAgcGF0aFR5cGU6IENPTlNULnVybC50bVR5cGVzLmZvbGxvd2luZ1QsXHJcbiAgICBwYXRoU3ViVHlwZTogQ09OU1QudXJsLnRtVHlwZXMuZm9sbG93aW5nU3ViVFswXVxyXG59O1xyXG5cclxuZnVuY3Rpb24gc2V0VXNlck5hbWVDYihfdXNlcm5hbWVTZWxlY3RlZCkge1xyXG4gICAgdXNlcm5hbWVTZWxlY3RlZCA9IF91c2VybmFtZVNlbGVjdGVkO1xyXG59XHJcblxyXG4vKlxyXG5mdW5jdGlvbiBmaXhTdGVwSW5kaWNhdG9yKG4pIHtcclxuICAgIC8vIFRoaXMgZnVuY3Rpb24gcmVtb3ZlcyB0aGUgXCJhY3RpdmVcIiBjbGFzcyBvZiBhbGwgc3RlcHMuLi5cclxuICAgIHZhciBpLCB4ID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZShcInN0ZXBcIik7XHJcbiAgICBmb3IgKGkgPSAwOyBpIDwgeC5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIHhbaV0uY2xhc3NOYW1lID0geFtpXS5jbGFzc05hbWUucmVwbGFjZShcIiBhY3RpdmVcIiwgXCJcIik7XHJcbiAgICB9XHJcbiAgICAvLy4uLiBhbmQgYWRkcyB0aGUgXCJhY3RpdmVcIiBjbGFzcyBvbiB0aGUgY3VycmVudCBzdGVwOlxyXG4gICAgeFtuXS5jbGFzc05hbWUgKz0gXCIgYWN0aXZlXCI7XHJcbn0qL1xyXG5cclxuLy8gVE9ETyA6IHVzZSBmcm9tIHdpemFyZFxyXG5leHBvcnQgZnVuY3Rpb24gbW9kaWZ5QWNjTGlzdCgpIHtcclxuICAgIC8vIGNvbnN0IHJhZGlvQnRuID0gKGlkeCkgPT4gYDxkaXYgY2xhc3M9XCJjb2wgY3VzdG9tLWNvbnRyb2wgY3VzdG9tLXJhZGlvIGpzX3VzZXItcmFkaW9cIj5cclxuICAgIC8vICAgICAgICAgPGlucHV0IHR5cGU9XCJyYWRpb1wiIG5hbWU9XCJ1c2VyQWNjb3VudFJhZGlvXCIgaWQ9XCJjdXN0b21SYWRpby0ke2lkeH1cIiBjbGFzcz1cImN1c3RvbS1jb250cm9sLWlucHV0XCIgdmFsdWU9XCJcIj5cclxuICAgIC8vICAgICAgICAgPGxhYmVsIGNsYXNzPVwiY3VzdG9tLWNvbnRyb2wtbGFiZWxcIiBmb3I9XCJjdXN0b21SYWRpby0ke2lkeH1cIj7Qn9C+0LTQv9C40YHQsNGC0YzRgdGPPC9sYWJlbD5cclxuICAgIC8vICAgICA8L2Rpdj5gO1xyXG4gICAgY29uc3QgcmFkaW9CdG5BcHBlbmQgPSAoaWR4KSA9PiBgPGRpdiBjbGFzcz1cIlwiPlxyXG4gICAgICAgICAgICA8aW5wdXQgdHlwZT1cInJhZGlvXCIgbmFtZT1cInVzZXJBY2NvdW50UmFkaW9cIiBpZD1cImN1c3RvbVJhZGlvLSR7aWR4fVwiIGNsYXNzPVwiY3VzdG9tLWNvbnRyb2wtaW5wdXQgZC1ub25lXCIgdmFsdWU9XCJcIj5cclxuICAgICAgICA8L2Rpdj5gO1xyXG4gICAgY29uc3QgcmFkaW9CdG5XcmFwID0gKGlkeCkgPT4gYDxsYWJlbCBjbGFzcz1cImFjY291bnRzLWxpc3QtLWxhYmVsLXdyYXBwZXIgY29sIG1iLTAgbWVkaWEgcHktM1wiIGZvcj1cImN1c3RvbVJhZGlvLSR7aWR4fVwiPjwvbGFiZWw+YDtcclxuICAgIGNvbnN0ICRhY2NvdW50c0xpc3QgPSAkKCcuYWNjb3VudHMtbGlzdCcpO1xyXG4gICAgY29uc3QgJGxpID0gJGFjY291bnRzTGlzdC5maW5kKCdsaS5tZWRpYScpO1xyXG4gICAgJGxpLmFkZENsYXNzKCdqc191c2VyLXJhZGlvJykucmVtb3ZlQ2xhc3MoJ3B5LTMgbWVkaWEnKTtcclxuXHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8ICRsaS5sZW5ndGg7IGkrKykge1xyXG4gICAgICAgIC8vICQoJGxpW2ldKS5hcHBlbmQocmFkaW9CdG4oaSkpO1xyXG4gICAgICAgICQoJGxpW2ldKS53cmFwSW5uZXIocmFkaW9CdG5XcmFwKGkpKS5hcHBlbmQocmFkaW9CdG5BcHBlbmQoaSkpO1xyXG4gICAgfVxyXG5cclxuICAgICQoJy5qc191c2VyLXJhZGlvJykub24oJ2NsaWNrJywgJ2lucHV0W3R5cGU9cmFkaW9dJywgZnVuY3Rpb24gKGUpIHtcclxuICAgICAgICBjb25zdCAkcGFyZW50RmllbGRzZXQgPSAkKHRoaXMpLnBhcmVudHMoJ2ZpZWxkc2V0Jyk7XHJcbiAgICAgICAgJCgnbGkuYWN0aXZlJywgJHBhcmVudEZpZWxkc2V0KS5yZW1vdmVDbGFzcygnYWN0aXZlJyk7XHJcbiAgICAgICAgJCh0aGlzKS5jbG9zZXN0KCdsaScpLmFkZENsYXNzKCdhY3RpdmUnKTtcclxuICAgICAgICAkKCcuYnRuLW5leHQnLCAkcGFyZW50RmllbGRzZXQpLnByb3AoJ2Rpc2FibGVkJywgZmFsc2UpO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbi8qIHdvcmtpbmcgZGVtbyA6IGh0dHA6Ly9icnV0dXNpbi5vcmcvanNvbi1mb3Jtcy8jMTNcclxuZnVuY3Rpb24gZm9ybUZyb21Kc29uKCkge1xyXG4gICAgY29uc3Qgc2NoZW1hID0ge1xyXG4gICAgICAgIFwidHlwZVwiOiBcIm9iamVjdFwiLFxyXG4gICAgICAgIFwicHJvcGVydGllc1wiOiB7XHJcbiAgICAgICAgICAgIFwicHJvcDFcIjoge1xyXG4gICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwiaW50ZWdlclwiXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIFwicHJvcDJcIjoge1xyXG4gICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwiaW50ZWdlclwiLFxyXG4gICAgICAgICAgICAgICAgXCJyZXF1aXJlZFwiOiB0cnVlXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIFwicHJvcDNcIjoge1xyXG4gICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwiaW50ZWdlclwiLFxyXG4gICAgICAgICAgICAgICAgXCJyZXF1aXJlZFwiOiB0cnVlXHJcbiAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgIFwiY29tcG9zaXRlMVwiOiB7XHJcbiAgICAgICAgICAgICAgICBcInR5cGVcIjogXCJvYmplY3RcIixcclxuICAgICAgICAgICAgICAgIFwicHJvcGVydGllc1wiOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgXCJuZXN0ZWQxXCI6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwibnVtYmVyXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwicmVxdWlyZWRcIjogdHJ1ZVxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgXCJuZXN0ZWQyXCI6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwibnVtYmVyXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwicmVxdWlyZWRcIjogdHJ1ZVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICBcInJlcXVpcmVkXCI6IFtcclxuICAgICAgICAgICAgICAgICAgICBcIm5lc3RlZDFcIixcclxuICAgICAgICAgICAgICAgICAgICBcIm5lc3RlZDJcIlxyXG4gICAgICAgICAgICAgICAgXVxyXG4gICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICBcImNvbXBvc2l0ZTJcIjoge1xyXG4gICAgICAgICAgICAgICAgXCJ0eXBlXCI6IFwib2JqZWN0XCIsXHJcbiAgICAgICAgICAgICAgICBcInByb3BlcnRpZXNcIjoge1xyXG4gICAgICAgICAgICAgICAgICAgIFwibmVzdGVkMVwiOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcIm51bWJlclwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcInJlcXVpcmVkXCI6IHRydWVcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIFwibmVzdGVkMlwiOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIFwidHlwZVwiOiBcIm51bWJlclwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBcInJlcXVpcmVkXCI6IHRydWVcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgXCJyZXF1aXJlZFwiOiBbXHJcbiAgICAgICAgICAgICAgICAgICAgXCJuZXN0ZWQxXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgXCJuZXN0ZWQyXCJcclxuICAgICAgICAgICAgICAgIF1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgXCJyZXF1aXJlZFwiOiBbXHJcbiAgICAgICAgICAgIFwicHJvcDFcIixcclxuICAgICAgICAgICAgXCJwcm9wMlwiLFxyXG4gICAgICAgICAgICBcImNvbXBvc2l0ZTFcIlxyXG4gICAgICAgIF1cclxuICAgIH07XHJcbiAgICBjb25zdCBCcnV0dXNpbkZvcm1zID0gd2luZG93LmJydXR1c2luWydqc29uLWZvcm1zJ107XHJcbiAgICBjb25zdCBiZiA9IEJydXR1c2luRm9ybXMuY3JlYXRlKHNjaGVtYSk7XHJcbiAgICBjb25zdCBjb250YWluZXIgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZm9ybTEnKTtcclxuICAgIGNvbnNvbGUubG9nKHdpbmRvdy5icnV0dXNpbik7XHJcbiAgICBiZi5yZW5kZXIoY29udGFpbmVyLCBkYXRhKTtcclxufSovXHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaW5pdCgpIHtcclxuICAgIGNvbnN0IGlzSW5Db3JyZWN0UGFnZSA9ICQoJy5mb2xsb3cnKS5sZW5ndGg7XHJcbiAgICBpZiAoaXNJbkNvcnJlY3RQYWdlKSB7XHJcbiAgICAgICAgY29uc3QgaW5pdGlhbFBhdGggPSB7XHJcbiAgICAgICAgICAgIHR5cGU6IENPTlNULnVybC50bVR5cGVzLmZvbGxvd2luZ1QsXHJcbiAgICAgICAgICAgIHN1YnR5cGU6IENPTlNULnVybC50bVR5cGVzLmZvbGxvd2luZ1N1YlRbMF0sXHJcbiAgICAgICAgICAgIHN1YnR5cGVzOiBDT05TVC51cmwudG1UeXBlcy5mb2xsb3dpbmdTdWJUXHJcbiAgICAgICAgfTtcclxuICAgICAgICBmb2xsb3dTdGF0dXNCeVN1YnR5cGUuaW5pdCh7aXNJbkNvcnJlY3RQYWdlLCBpbml0aWFsUGF0aH0pO1xyXG4gICAgICAgIGluaXRTdGVwcygnLmZvbGxvdy1mb3JtJyk7XHJcbiAgICAgICAgY29uc29sZS5sb2coY2xzQ29uc3QuY3VycmVudFBhZ2VDbHMpO1xyXG4gICAgICAgIGNvbnN0IHRleHRSdXNBcnJheSA9IFsn0J/QviDRgdC/0LjRgdC60YMnLCAn0J/QviDQsNC60YLQuNCy0L3QvtC5INCw0YPQtNC40YLQvtGA0LjQuCDQutC+0L3QutGD0YDQtdC90YLQvtCyJ107XHJcbiAgICAgICAgaW5pdExvZ3NUYWIoe2xvZ3NTdGF0ZTogQ09OU1QubG9nc1N0YXRlLCBsb2dzU3VidHlwZXM6IGluaXRpYWxQYXRoLnN1YnR5cGVzLCBjbHNDb25zdCwgc2V0VXNlck5hbWVDYiwgdGV4dFJ1c0FycmF5fSk7XHJcbiAgICAgICAgLy8gaW5pdFRhZ3NJbnB1dCgpO1xyXG5cclxuICAgICAgICAvLyBUT0RPIDogdXNlIHdpemFyZC5pbml0KClcclxuICAgICAgICB3aW5kb3cuUHViU3ViLnN1YnNjcmliZShDT05TVC5ldmVudHMuaW5zdGFncmFtQWNjb3Vucy5JTlNUQUdSQU1fQUNDT1VOU19SRU5ERVJFRCwgKGV2ZW50TmFtZSwgZGF0YSkgPT4ge1xyXG4gICAgICAgICAgICBtb2RpZnlBY2NMaXN0KCk7XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCdtb2RpZnlBY2NMaXN0Jyk7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9XHJcbn1cclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2Jsb2Nrcy9mb2xsb3cvZm9sbG93LmpzIiwiLy8gaW1wb3J0ICQgZnJvbSAnanF1ZXJ5JztcclxuXHJcbi8vIGNvbnN0IGhhbWJ1cmdlckJ1dHRvbkNscyA9ICcjYXNpZGVfbW9iaWxlX19idXR0b24nO1xyXG4vLyBjb25zdCBoYW1idXJnZXJNZW51Q2xzID0gJy5hc2lkZS1idXJnZXItbWVudSc7XHJcbi8vIGNvbnN0IGhhbWJ1cmdlck1lbnVPcGVuZWRDbGFzcyA9ICdidXJnZXItbWVudS0tY2xvc2VkJztcclxuLy8gY29uc3QgaGFtYnVyZ2VyQnV0dG9uQ2xvc2VDbGFzcyA9ICdidXJnZXItbWVudV9fYnV0dG9uLS1jbG9zZSc7XHJcbmNvbnN0IHNlbGVjdG9yc0VsID0ge1xyXG4gICAgbGVmdE1lbnU6IHtcclxuICAgICAgICBoYW1idXJnZXJCdXR0b25DbHM6ICcjYXNpZGVfbW9iaWxlX19idXR0b24nLFxyXG4gICAgICAgIGhhbWJ1cmdlck1lbnVDbHM6ICcuYXNpZGUtYnVyZ2VyLW1lbnUnLFxyXG4gICAgICAgIGhhbWJ1cmdlck1lbnVPcGVuZWRDbGFzczogJ2J1cmdlci1tZW51LS1jbG9zZWQnLFxyXG4gICAgICAgIGhhbWJ1cmdlckJ1dHRvbkNsb3NlQ2xhc3M6ICdidXJnZXItbWVudV9fYnV0dG9uLS1jbG9zZSdcclxuICAgIH0sXHJcbiAgICByaWdodE1lbnU6IHtcclxuICAgICAgICBoYW1idXJnZXJCdXR0b25DbHM6ICcjaGVhZGVyX21vYmlsZV90b2dnbGVyJyxcclxuICAgICAgICBoYW1idXJnZXJNZW51Q2xzOiAnLnItc2lkZS1idXJnZXItbWVudScsXHJcbiAgICAgICAgaGFtYnVyZ2VyTWVudU9wZW5lZENsYXNzOiAnci1zaWRlLWJ1cmdlci1tZW51LS1vcGVuJyxcclxuICAgICAgICBoYW1idXJnZXJCdXR0b25DbG9zZUNsYXNzOiAnYnVyZ2VyLW1lbnUtcmlnaHRfX2J1dHRvbi0tY2xvc2UnXHJcbiAgICB9LFxyXG4gICAgc3ViSGVhZGVyOiB7XHJcbiAgICAgICAgaGFtYnVyZ2VyQnV0dG9uQ2xzOiAnI2hlYWRlcl9tb2JpbGVfdG9wYmFyX3RvZ2dsZXInLFxyXG4gICAgICAgIGhhbWJ1cmdlck1lbnVDbHM6ICcuc3ViLWhlYWRlcicsXHJcbiAgICAgICAgaGFtYnVyZ2VyTWVudU9wZW5lZENsYXNzOiAnc3ViLWhlYWRlci0tb3BlbicsXHJcbiAgICAgICAgaGFtYnVyZ2VyQnV0dG9uQ2xvc2VDbGFzczogJ3N1Yi1oZWFkZXItYnV0dG9uLS1jbG9zZSdcclxuICAgIH1cclxufTtcclxuXHJcbi8qKlxyXG4gKiBUb2dnbGUgaGFtYnVyZ2VyIG1lbnUgcG9wb3ZlclxyXG4gKi9cclxuZnVuY3Rpb24gdG9nZ2xlSGFtYnVyZ2VyTWVudShtZW51TmFtZSkge1xyXG4gICAgY29uc3Qge2hhbWJ1cmdlck1lbnVDbHMsIGhhbWJ1cmdlckJ1dHRvbkNscywgaGFtYnVyZ2VyQnV0dG9uQ2xvc2VDbGFzcywgaGFtYnVyZ2VyTWVudU9wZW5lZENsYXNzfSA9IHNlbGVjdG9yc0VsW21lbnVOYW1lXTtcclxuICAgICQoaGFtYnVyZ2VyQnV0dG9uQ2xzKS50b2dnbGVDbGFzcyhoYW1idXJnZXJCdXR0b25DbG9zZUNsYXNzKTtcclxuICAgICQoaGFtYnVyZ2VyTWVudUNscykudG9nZ2xlQ2xhc3MoaGFtYnVyZ2VyTWVudU9wZW5lZENsYXNzKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEluaXQgaGFtYnVyZ2VyIG1lbnVcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBpbml0KCkge1xyXG4gICAgY29uc3QgbGVmdE1lbnUgPSAnbGVmdE1lbnUnO1xyXG4gICAgY29uc3QgcmlnaHRNZW51ID0gJ3JpZ2h0TWVudSc7XHJcbiAgICBjb25zdCBzdWJIZWFkZXIgPSAnc3ViSGVhZGVyJztcclxuXHJcbiAgICAkKHNlbGVjdG9yc0VsW2xlZnRNZW51XS5oYW1idXJnZXJCdXR0b25DbHMpLm9uKCdjbGljaycsIHRvZ2dsZUhhbWJ1cmdlck1lbnUuYmluZCh0aGlzLCBsZWZ0TWVudSkpO1xyXG4gICAgJChzZWxlY3RvcnNFbFtyaWdodE1lbnVdLmhhbWJ1cmdlckJ1dHRvbkNscykub24oJ2NsaWNrJywgdG9nZ2xlSGFtYnVyZ2VyTWVudS5iaW5kKHRoaXMsIHJpZ2h0TWVudSkpO1xyXG4gICAgJChzZWxlY3RvcnNFbFtzdWJIZWFkZXJdLmhhbWJ1cmdlckJ1dHRvbkNscykub24oJ2NsaWNrJywgdG9nZ2xlSGFtYnVyZ2VyTWVudS5iaW5kKHRoaXMsIHN1YkhlYWRlcikpO1xyXG59XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9ibG9ja3MvaGVhZGVyL2J1cmdlci1tZW51L2J1cmdlci1tZW51LmpzIiwiLy8gaW1wb3J0ICQgZnJvbSAnanF1ZXJ5JztcbmltcG9ydCBVc2VyIGZyb20gJy4uLy4uL2NvbW1vbi9qcy1zZXJ2aWNlcy91c2VyJztcbi8vIGltcG9ydCBQdWJTdWIgZnJvbSAncHVic3ViLWpzJzsgLy8gaHR0cHM6Ly93d3cubnBtanMuY29tL3BhY2thZ2UvcHVic3ViLWpzXG5pbXBvcnQge0NPTlNUfSBmcm9tICcuLi8uLi9jb21tb24vanMtc2VydmljZXMvY29uc3RzJztcblxuY29uc3Qgc2VsZWN0b3JMb2dpblN0YXRlID0gJy5qc19tZXNzYWdlX2xvZ2dlZC0tdGV4dCc7XG5jb25zdCBzZWxlY3RvckVtYWlsQ29uZmlybVN0YXRlID0gJy5qc19lbWFpbC1jb25maXJtLS10ZXh0JztcbmNvbnN0IGNsb3NlQ2xhc3MgPSAnZC1ub25lJztcbmNvbnN0IG9wZW5lZENsYXNzID0gJ2QtYmxvY2snO1xuXG5mdW5jdGlvbiBlbWFpbE5vdENvbmZpcm1lZCgpIHtcbiAgICBjb25zdCAkZW1haWxuTXNnID0gJChzZWxlY3RvckVtYWlsQ29uZmlybVN0YXRlKTtcbiAgICAkZW1haWxuTXNnLnRleHQoJyoqZW1haWxOb3RDb25maXJtZWQqKiBFbWFpbCDQvdC1INC/0L7QtNGC0LLQtdGA0LbQtNC10L0uJykuY3NzKCdjb2xvcicsICdsaWdodGNvcmFsJyk7XG59XG5cbmZ1bmN0aW9uIG9uTG9naW5TdWJzY3JpYmUobXNnLCBkYXRhKSB7XG4gICAgLy8gY29uc29sZS5sb2coJ29uTG9naW5TdWJzY3JpYmUnLCBtc2csIGRhdGEpO1xuICAgICQoQ09OU1QudWlTZWxlY3RvcnMuaGVhZGVyTmF2TG9naW5CdG4pLmFkZENsYXNzKGNsb3NlQ2xhc3MpLnJlbW92ZUNsYXNzKG9wZW5lZENsYXNzKTtcbiAgICAkKENPTlNULnVpU2VsZWN0b3JzLmhlYWRlclJlZ0J0bikuYWRkQ2xhc3MoY2xvc2VDbGFzcykucmVtb3ZlQ2xhc3Mob3BlbmVkQ2xhc3MpO1xuICAgICQoQ09OU1QudWlTZWxlY3RvcnMuaGVhZGVyTG9naW5Cb3gpLmFkZENsYXNzKGNsb3NlQ2xhc3MpLnJlbW92ZUNsYXNzKG9wZW5lZENsYXNzKTtcblxuICAgICQoJy5uYXYtbGluay5qc19sb2dPdXQnKS5hZGRDbGFzcyhvcGVuZWRDbGFzcykucmVtb3ZlQ2xhc3MoY2xvc2VDbGFzcyk7IC8vIHNob3dcbiAgICBjb25zdCAkbG9naW5Nc2cgPSAkKHNlbGVjdG9yTG9naW5TdGF0ZSk7XG4gICAgJGxvZ2luTXNnLnRleHQoJyoqb25Mb2dpblN1YnNjcmliZSoqINCy0Ysg0LfQsNC70L7Qs9C40L3QuNC70LjRgdGMINCyIEx1eGdyYW0g0YPRgdC/0LXRiNC90L4nKS5jc3MoJ2NvbG9yJywgJ2xpZ2h0Ymx1ZScpO1xuICAgIGNvbnN0IGlzRW1haWxDb25maXJtZWQgPSBVc2VyLmlzRW1haWxDb25maXJtZWQoKTtcbiAgICBpZiAoIWlzRW1haWxDb25maXJtZWQpIHtcbiAgICAgICAgZW1haWxOb3RDb25maXJtZWQoKTtcbiAgICB9XG59XG5cbmZ1bmN0aW9uIHNob3dMb2dvdXQoKSB7XG4gICAgLy8gY2hlY2sgaXMgbG9nZ2VkXG4gICAgY29uc3QgaXNMb2dnZWQgPSBVc2VyLmlzTG9nZ2VkSW4oKTtcbiAgICBjb25zdCBpc0VtYWlsQ29uZmlybWVkID0gVXNlci5pc0VtYWlsQ29uZmlybWVkKCk7XG4gICAgaWYgKCFpc0VtYWlsQ29uZmlybWVkKSB7XG4gICAgICAgIGVtYWlsTm90Q29uZmlybWVkKCk7XG4gICAgfVxuICAgIC8vIGNvbnNvbGUubG9nKCdpc0xvZ2dlZCcsIGlzTG9nZ2VkKTtcbiAgICBpZiAoaXNMb2dnZWQpIHtcbiAgICAgICAgJCgnLm5hdi1saW5rLmpzX2xvZ091dCcpLnBhcmVudCgpLnNob3coKTtcbiAgICAgICAgJCgnLmpzX2VtYWlsLWNvbmZpcm0tLXRleHQnKS50ZXh0KCfQstGLINC30LDQu9C+0LPQuNC90LjQu9C40YHRjCDRg9GB0L/QtdGI0L3QvicpO1xuICAgICAgICBjb25zdCBvbGRVUkwgPSBkb2N1bWVudC5yZWZlcnJlcjtcbiAgICAgICAgLy8gY29uc29sZS5sb2cob2xkVVJMKTtcbiAgICAgICAgaWYgKG9sZFVSTC5pbmNsdWRlcygnY29uZmlybS1yZWdpc3RyYXRpb24nKSkge1xuICAgICAgICAgICAgJCgnLmpzX21lc3NhZ2VfbG9nZ2VkLS10ZXh0JykudGV4dCgn0LLRiyDQv9C+0LTRgtCy0LXRgNC00LjQu9C4INGA0LXQs9C40YHRgtGA0LDRhtC40Y4nKTtcbiAgICAgICAgfVxuICAgICAgICBvbkxvZ2luU3Vic2NyaWJlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgICAgJChzZWxlY3RvckxvZ2luU3RhdGUpLnRleHQoJ9Cf0YDQuNCy0LXRgiDQsNC90L7QvdC40LzQvdGL0Lkg0L/QvtC70YzQt9C+0LLQsNGC0LXQu9GMJyk7XG4gICAgICAgICQoc2VsZWN0b3JFbWFpbENvbmZpcm1TdGF0ZSkuZW1wdHkoKTtcbiAgICB9XG59XG5cbi8qKlxuICogSW5pdCBoZWFkZXJcbiAqL1xuZXhwb3J0IGZ1bmN0aW9uIGluaXRIZWFkZXIoKSB7XG4gICAvLyBjaGVjayBvdGhlciBoYW5kbGVyIGluIGxvZ2luLWZvcm0uanNcbiAgICAvLyBjb25zdCAkbG9naW5Cb3ggPSAkKENPTlNULnVpU2VsZWN0b3JzLmhlYWRlckxvZ2luQm94KTtcbiAgICAvLyBjb25zdCAkcmVnaXN0ZXJCb3ggPSAkKENPTlNULnVpU2VsZWN0b3JzLmhlYWRlclJlZ0JveCk7XG5cbiAgICAvLyBQdWJTdWIuc3Vic2NyaWJlKENPTlNULmV2ZW50cy5VU0VSX0xPR0dFRCwgb25Mb2dpblN1YnNjcmliZSk7XG5cbiAgICBzaG93TG9nb3V0KCk7XG5cbiAgICAvLyAkKENPTlNULnVpU2VsZWN0b3JzLmhlYWRlclJlZ0J0bikub24oJ2NsaWNrJywgKCkgPT4ge1xuICAgIC8vICAgICAkbG9naW5Cb3guaGlkZSgpO1xuICAgIC8vICAgICAkcmVnaXN0ZXJCb3guY3NzKHsndG9wJzogMCwgJ3JpZ2h0JzogMH0pXG4gICAgLy8gICAgICAgICAuYWRkQ2xhc3MoJ2JnLWxpZ2h0IGJvcmRlciBtdC01IG14LWF1dG8gcG9zaXRpb24tYWJzb2x1dGUgcHgtMyBkLWJsb2NrJylcbiAgICAvLyAgICAgICAgIC5yZW1vdmVDbGFzcygnZC1ub25lJyk7XG4gICAgLy8gfSk7XG5cbiAgICAvLyAkKENPTlNULnVpU2VsZWN0b3JzLmhlYWRlck5hdkxvZ2luQnRuKS5vbignY2xpY2snLCAoKSA9PiB7XG4gICAgLy8gICAgICRsb2dpbkJveC5hZGRDbGFzcygnZC1ibG9jaycpLnJlbW92ZUNsYXNzKCdkLW5vbmUnKTtcbiAgICAvLyAgICAgJHJlZ2lzdGVyQm94LmFkZENsYXNzKCdkLW5vbmUnKS5yZW1vdmVDbGFzcygnZC1ibG9jaycpO1xuICAgIC8vIH0pO1xufVxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2Jsb2Nrcy9oZWFkZXIvaGVhZGVyLmpzIiwiaW1wb3J0IFVzZXIgZnJvbSAnLi4vLi4vY29tbW9uL2pzLXNlcnZpY2VzL3VzZXInO1xyXG5pbXBvcnQge0NPTlNUfSBmcm9tICcuLi8uLi9jb21tb24vanMtc2VydmljZXMvY29uc3RzJztcclxuaW1wb3J0IHtyZW5kZXJJdGVtfSBmcm9tICcuL2luc3RhZ3JhbS1hY2NvdW50cy1saXN0JztcclxuaW1wb3J0IFNwaW5uZXIgZnJvbSAnLi4vLi4vY29tbW9uL2pzLXNlcnZpY2VzL3NwaW5uZXInO1xyXG5pbXBvcnQgKiBhcyBpbWFnZVVwbG9hZCBmcm9tICcuLi9fc2hhcmVkL2ltYWdlLXVwbG9hZC9pbWFnZS11cGxvYWQnO1xyXG5cclxuZnVuY3Rpb24gdXBkYXRlQnV0dG9uc0RhdGFBdHRyIChzZXR0aW5nQnV0dG9uc0hhbmRsZXJDYikge1xyXG4gICAgY29uc3QgY2ZnID0ge1xyXG4gICAgICAgIGRlbGV0ZUJ0bkNsczogJy5qc19hY2MtZGVsZXRlJyxcclxuICAgICAgICB1cGRhdGVCdG5DbHM6ICcuanNfYWNjLXJlZnJlc2gnLFxyXG4gICAgICAgIGVkaXRCdG5DbHM6ICcuanNfYWNjLWVkaXQnXHJcbiAgICB9O1xyXG4gICAgLy8gJChjZmcuZWRpdEJ0bkNscykub2ZmKCk7XHJcbiAgICAkKGNmZy51cGRhdGVCdG5DbHMpLm9mZigpOyAvLyBSZWxvYWQgYnV0dG9uIGNsZWFyIGxpc3RlbmVyXHJcbiAgICAvLyAkKGNmZy5kZWxldGVCdG5DbHMpLm9mZigpO1xyXG4gICAgc2V0dGluZ0J1dHRvbnNIYW5kbGVyQ2IoY2ZnKTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIHNldHRpbmdCdXR0b25zSGFuZGxlcihjbGFzc0NmZykge1xyXG4gICAgY29uc3Qge2RlbGV0ZUJ0bkNscywgdXBkYXRlQnRuQ2xzLCBlZGl0QnRuQ2xzfSA9IGNsYXNzQ2ZnO1xyXG4gICAgY29uc3QgbW9kYWxDb25maXJtID0gJCgnI2RlbGV0ZS11c2VyLXByb210Jyk7XHJcbiAgICBsZXQgdXNlcm5hbWUgPSAnJztcclxuICAgIGxldCB1c2VyT3JpZ2luYWwgPSB7fTtcclxuICAgIGNvbnN0IHJlcGxhY2VXaXRoQ2ZnID0ge1xyXG4gICAgICAgIHJlcGxhY2VXaXRoOiB0cnVlLFxyXG4gICAgICAgIGhvbGRlckNsczogJy5tb2RhbC1pbWFnZS1ob2xkZXInLFxyXG4gICAgICAgIHVwbG9hZEJ0bkNsczogJy5qc19lZGl0LXByb2ZpbGUtaW1nLXVwZCcsXHJcbiAgICAgICAgaW1hZ2VDbHM6ICdpbWcudXNlci1hdmF0YXInXHJcbiAgICB9O1xyXG4gICAgaW1hZ2VVcGxvYWQuaW5pdChyZXBsYWNlV2l0aENmZyk7XHJcbiAgICAvLyBpbWFnZS11cGxvYWQgc3Vic2NyaWJlclxyXG4gICAgd2luZG93LlB1YlN1Yi5zdWJzY3JpYmUoQ09OU1QuZXZlbnRzLmF1dG9hcm5zd2VyLklNQUdFX1VQTE9BREVEX0FWQVRBUiwgKGUsIHJlcykgPT4ge1xyXG4gICAgICAgIGNvbnN0IHJlc3VsdCA9IEpTT04ucGFyc2UocmVzLnJlc3BvbnNlKTtcclxuICAgICAgICBjb25zdCB7cHJvZmlsZV9waWNfdXJsfSA9IHJlc3VsdC5kYXRhLnByb2ZpbGU7XHJcbiAgICAgICAgdXNlck9yaWdpbmFsLiRsaS5maW5kKCdpbWcnKS5hdHRyKCdzcmMnLCBwcm9maWxlX3BpY191cmwpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCd1c2VyT3JpZ2luYWwnLCB1c2VyT3JpZ2luYWwpO1xyXG4gICAgfSk7XHJcbiAgICAvLyBERUxFVEUgLi4uL2luc3RhZ3JhbS1hY2NvdW50cy97dXNlcm5hbWV9XHJcbiAgICAkKGRlbGV0ZUJ0bkNscykub24oJ2NsaWNrJywgKGUpID0+IHtcclxuICAgICAgICB1c2VybmFtZSA9ICQoZS50YXJnZXQpLmNsb3Nlc3QoZGVsZXRlQnRuQ2xzKS5kYXRhKCd1c2VybmFtZScpO1xyXG4gICAgICAgIG1vZGFsQ29uZmlybS5tb2RhbCgnc2hvdycpO1xyXG4gICAgfSk7XHJcbiAgICAkKCcuanNfYWNjLWRlbGV0ZS1jb25maXJtJykub24oJ2NsaWNrJywgKGUpID0+IHtcclxuICAgICAgICBVc2VyLmRlbEluc3RhZ3JhbUFjY291bnQodXNlcm5hbWUpLnRoZW4oKHJlc3VsdCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhyZXN1bHQpO1xyXG4gICAgICAgICAgICBpZiAocmVzdWx0LnN0YXR1cy5zdGF0ZSA9PT0gJ29rJykge1xyXG4gICAgICAgICAgICAgICAgbW9kYWxDb25maXJtLmhpZGUoKTtcclxuICAgICAgICAgICAgICAgIHdpbmRvdy5QdWJTdWIucHVibGlzaChDT05TVC5ldmVudHMuaW5zdGFncmFtQWNjb3Vucy5JTlNUQUdSQU1fQUNDT1VOU19ORUVEX1JFRlJFU0gpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBHRVQgaW5zdGFncmFtLWFjY291bnRzL21ldGEve3VzZXJuYW1lfVxyXG4gICAgJCh1cGRhdGVCdG5DbHMpLm9uKCdjbGljaycsIChlKSA9PiB7XHJcbiAgICAgICAgY29uc3QgJGxpID0gJChlLnRhcmdldCkuY2xvc2VzdCgnbGknKTtcclxuICAgICAgICBjb25zdCB1c2VybmFtZSA9ICQoZS50YXJnZXQpLmNsb3Nlc3QodXBkYXRlQnRuQ2xzKS5kYXRhKCd1c2VybmFtZScpO1xyXG4gICAgICAgIGNvbnN0IGRlZmF1bHRBdmF0YXJTcmMgPSBDT05TVC51c2VyLmRlZmF1bEF2YXRhcjtcclxuICAgICAgICBTcGlubmVyLmFkZCgkbGksICcnKTtcclxuICAgICAgICBVc2VyLnVwZGF0ZUluc3RhZ3JhbUFjY291bnQodXNlcm5hbWUpLnRoZW4oKHJlc3VsdCkgPT4ge1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhyZXN1bHQpO1xyXG4gICAgICAgICAgICBjb25zdCB7ZGF0YToge2FjY291bnR9fSA9IHJlc3VsdDtcclxuICAgICAgICAgICAgJGxpLnJlcGxhY2VXaXRoKHJlbmRlckl0ZW0oYWNjb3VudCwgJGxpLCBkZWZhdWx0QXZhdGFyU3JjKSk7XHJcblxyXG4gICAgICAgICAgICAvKlxyXG4gICAgICAgICAgICBjb25zdCBjZmcgPSB7XHJcbiAgICAgICAgICAgICAgICBkZWxldGVCdG5DbHM6ICcuanNfYWNjLWRlbGV0ZScsXHJcbiAgICAgICAgICAgICAgICB1cGRhdGVCdG5DbHM6ICcuanNfYWNjLXJlZnJlc2gnLFxyXG4gICAgICAgICAgICAgICAgZWRpdEJ0bkNsczogJy5qc19hY2MtZWRpdCdcclxuICAgICAgICAgICAgfTtcclxuICAgICAgICAgICAgLy8gJChjZmcuZWRpdEJ0bkNscykub2ZmKCk7XHJcbiAgICAgICAgICAgICQoY2ZnLnVwZGF0ZUJ0bkNscykub2ZmKCk7IC8vIFJlbG9hZCBidXR0b24gY2xlYXIgbGlzdGVuZXJcclxuICAgICAgICAgICAgLy8gJChjZmcuZGVsZXRlQnRuQ2xzKS5vZmYoKTtcclxuICAgICAgICAgICAgc2V0dGluZ0J1dHRvbnNIYW5kbGVyKGNmZyk7XHJcbiAgICAgICAgICAgICovXHJcbiAgICAgICAgICAgIHVwZGF0ZUJ1dHRvbnNEYXRhQXR0cihzZXR0aW5nQnV0dG9uc0hhbmRsZXIpO1xyXG4gICAgICAgICAgICBTcGlubmVyLnJlbW92ZSgpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gUFVUIGluc3RhZ3JhbS1hY2NvdW50cy97dXNlcm5hbWV9XHJcbiAgICBjb25zdCBtb2RhbEVkaXQgPSAkKCcjZWRpdC11c2VyLXByb210Jyk7XHJcbiAgICAkKGVkaXRCdG5DbHMpLm9uKCdjbGljaycsIChlKSA9PiB7XHJcbiAgICAgICAgY29uc3QgJGxpID0gJChlLnRhcmdldCkuY2xvc2VzdCgnbGknKTtcclxuICAgICAgICBjb25zdCAkZWRpdEJ0biA9ICRsaS5maW5kKGVkaXRCdG5DbHMpO1xyXG4gICAgICAgIGNvbnN0IHVzZXJuYW1lID0gJGVkaXRCdG4uZGF0YSgndXNlcm5hbWUnKTtcclxuICAgICAgICBjb25zdCBsb2dpbiA9ICRlZGl0QnRuLmRhdGEoJ25hbWUnKTtcclxuICAgICAgICBjb25zdCBzaXRlID0gJGVkaXRCdG4uZGF0YSgndXJsJyk7XHJcbiAgICAgICAgY29uc3QgYWJvdXQgPSAkZWRpdEJ0bi5kYXRhKCdiaW9ncmFwaHknKTtcclxuICAgICAgICBjb25zdCBpbWdTcmMgPSAkZWRpdEJ0bi5kYXRhKCdpbWcnKTtcclxuICAgICAgICBjb25zdCBpc0J1c2luZXNzID0gJGVkaXRCdG4uZGF0YSgnaXNfYnVzaW5lc3MnKTtcclxuICAgICAgICBjb25zdCBpc1ByaXZhdGUgPSAkZWRpdEJ0bi5kYXRhKCdpc19wcml2YXRlJyk7XHJcbiAgICAgICAgLy8gJ2lzX2J1c2luZXNzJz10cnVlXHJcblxyXG4gICAgICAgIGNvbnN0ICRmb3JtID0gbW9kYWxFZGl0LmZpbmQoJ2Zvcm0nKS5nZXQoMCk7XHJcbiAgICAgICAgY29uc3QgZm9ybUZpZWxkcyA9IHtcclxuICAgICAgICAgICAgbG9naW46ICRmb3JtWydsb2dpbiddLFxyXG4gICAgICAgICAgICB1c2VybmFtZTogJGZvcm1bJ3VzZXJuYW1lJ10sXHJcbiAgICAgICAgICAgIHNpdGU6ICRmb3JtWydzaXRlJ10sXHJcbiAgICAgICAgICAgIGFib3V0OiAkZm9ybVsnYmlvZ3JhcGh5J10sXHJcbiAgICAgICAgICAgIHVzZXJBdmF0YXJJbWc6ICRmb3JtWyd1c2VyQXZhdGFyJ11cclxuICAgICAgICB9O1xyXG4gICAgICAgIHVzZXJPcmlnaW5hbCA9IHtcclxuICAgICAgICAgICAgbG9naW4sXHJcbiAgICAgICAgICAgIHVzZXJuYW1lLFxyXG4gICAgICAgICAgICBzaXRlLFxyXG4gICAgICAgICAgICBhYm91dCxcclxuICAgICAgICAgICAgJGxpLFxyXG4gICAgICAgICAgICBmb2xsb3dlckM6ICRlZGl0QnRuLmRhdGEoJ2ZvbGxvd2VyX2NvdW50JyksXHJcbiAgICAgICAgICAgIGZvbGxvd2luZ0M6ICRlZGl0QnRuLmRhdGEoJ2ZvbGxvd2luZ19jb3VudCcpLFxyXG4gICAgICAgICAgICBtZWRpYUM6ICRlZGl0QnRuLmRhdGEoJ21lZGlhX2NvdW50JylcclxuICAgICAgICB9O1xyXG4gICAgICAgIHJlcGxhY2VXaXRoQ2ZnLnVzZXJuYW1lID0gdXNlcm5hbWU7XHJcblxyXG4gICAgICAgIGZvcm1GaWVsZHMubG9naW4udmFsdWUgPSBsb2dpbjtcclxuICAgICAgICBmb3JtRmllbGRzLnVzZXJuYW1lLnZhbHVlID0gdXNlcm5hbWU7XHJcbiAgICAgICAgZm9ybUZpZWxkcy5zaXRlLnZhbHVlID0gc2l0ZTtcclxuICAgICAgICBmb3JtRmllbGRzLmFib3V0LnZhbHVlID0gYWJvdXQ7XHJcbiAgICAgICAgZm9ybUZpZWxkcy51c2VyQXZhdGFySW1nLnNyYyA9IGltZ1NyYztcclxuICAgICAgICBjb25zdCAkcHJvZmlsZUJveCA9IG1vZGFsRWRpdC5maW5kKCcuYnVzc2luZXMtcHJvZmlsZScpO1xyXG4gICAgICAgIGlmIChpc0J1c2luZXNzKSB7XHJcbiAgICAgICAgICAgICRwcm9maWxlQm94LmFkZENsYXNzKCdkLW5vbmUnKS5yZW1vdmVDbGFzcygnZC1ibG9jaycpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICRwcm9maWxlQm94LmFkZENsYXNzKCdkLWJsb2NrJyk7XHJcbiAgICAgICAgICAgIC8vIGlzUHJpdmF0LCB0b2RvOnJlZmFjdG9yIG1lXHJcbiAgICAgICAgICAgIGlmIChpc1ByaXZhdGUpIHtcclxuICAgICAgICAgICAgICAgICRwcm9maWxlQm94LmZpbmQoJy5qc19idG4tcHJvZi10eXBlLXN3aXRjaGVyICNjbG9zZWQtcHJvZmlsZS1vbicpLmNsb3Nlc3QoJ2xhYmVsJykuYWRkQ2xhc3MoJ2FjdGl2ZScpXHJcbiAgICAgICAgICAgICAgICAgICAgLmZpbmQoJyNjbG9zZWQtcHJvZmlsZS1vbicpLmF0dHIoJ2NoZWNrZWQnLCAnY2hlY2tlZCcpO1xyXG4gICAgICAgICAgICAgICAgLy8gb2ZmIC0gZGlzYWJsZVxyXG4gICAgICAgICAgICAgICAgJHByb2ZpbGVCb3guZmluZCgnLmpzX2J0bi1wcm9mLXR5cGUtc3dpdGNoZXIgI2Nsb3NlZC1wcm9maWxlLW9mZicpLmNsb3Nlc3QoJ2xhYmVsJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpXHJcbiAgICAgICAgICAgICAgICAgICAgLmZpbmQoJyNjbG9zZWQtcHJvZmlsZS1vZmYnKS5hdHRyKCdjaGVja2VkJywgZmFsc2UpO1xyXG4gICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgJHByb2ZpbGVCb3guZmluZCgnLmpzX2J0bi1wcm9mLXR5cGUtc3dpdGNoZXIgI2Nsb3NlZC1wcm9maWxlLW9mZicpLmNsb3Nlc3QoJ2xhYmVsJykuYWRkQ2xhc3MoJ2FjdGl2ZScpXHJcbiAgICAgICAgICAgICAgICAgICAgLmZpbmQoJyNjbG9zZWQtcHJvZmlsZS1vZmYnKS5hdHRyKCdjaGVja2VkJywgJ2NoZWNrZWQnKTtcclxuICAgICAgICAgICAgICAgIC8vIG9uIC0gZGlzYWJsZVxyXG4gICAgICAgICAgICAgICAgJHByb2ZpbGVCb3guZmluZCgnLmpzX2J0bi1wcm9mLXR5cGUtc3dpdGNoZXIgI2Nsb3NlZC1wcm9maWxlLW9uJykuY2xvc2VzdCgnbGFiZWwnKS5yZW1vdmVDbGFzcygnYWN0aXZlJylcclxuICAgICAgICAgICAgICAgICAgICAuZmluZCgnI2Nsb3NlZC1wcm9maWxlLW9uJykuYXR0cignY2hlY2tlZCcsIGZhbHNlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICB3aW5kb3cuUHViU3ViLnN1YnNjcmliZSgndXBkYXRlX2RhdGFfcHJpdmF0ZV9vbl9hY2NfbGlzdCcsIChlLCB2YWx1ZSkgPT4ge1xyXG4gICAgICAgICAgICAkZWRpdEJ0bi5kYXRhKCdpc19wcml2YXRlJywgdmFsdWUgIT09ICdjbG9zZWQtcHJvZmlsZS1vZmYnKTtcclxuICAgICAgICB9KTtcclxuICAgICAgICBtb2RhbEVkaXQubW9kYWwoJ3Nob3cnKTtcclxuICAgIH0pO1xyXG4gICAgJCgnLmpzX2VkaXQtcHJvZmlsZS1tb2RpZnknKS5vbignY2xpY2snLCAoZSkgPT4ge1xyXG4gICAgICAgIGNvbnN0ICRmb3JtID0gbW9kYWxFZGl0LmZpbmQoJ2Zvcm0nKS5nZXQoMCk7XHJcbiAgICAgICAgY29uc3QgZm9ybUZpZWxkcyA9IHtcclxuICAgICAgICAgICAgbG9naW46ICRmb3JtWydsb2dpbiddLFxyXG4gICAgICAgICAgICB1c2VybmFtZTogJGZvcm1bJ3VzZXJuYW1lJ10sXHJcbiAgICAgICAgICAgIHNpdGU6ICRmb3JtWydzaXRlJ10sXHJcbiAgICAgICAgICAgIGFib3V0OiAkZm9ybVsnYmlvZ3JhcGh5J10sXHJcbiAgICAgICAgICAgIHVzZXJBdmF0YXJJbWc6ICRmb3JtWyd1c2VyQXZhdGFyJ11cclxuICAgICAgICB9O1xyXG4gICAgICAgIGNvbnN0IGJvZHkgPSB7XHJcbiAgICAgICAgICAgIC8vICd1c2VybmFtZSc6ICh1c2VyT3JpZ2luYWwudXNlcm5hbWUgIT09IGZvcm1GaWVsZHMudXNlcm5hbWUudmFsdWUpID8gZm9ybUZpZWxkcy51c2VybmFtZS52YWx1ZSA6ICcnLFxyXG4gICAgICAgICAgICAvLyAnbmFtZSc6IGZvcm1GaWVsZHMubG9naW4udmFsdWUsXHJcbiAgICAgICAgICAgIC8vICdiaW9ncmFwaHknOiBmb3JtRmllbGRzLmFib3V0LnZhbHVlLFxyXG4gICAgICAgICAgICAvLyAndXJsJzogZm9ybUZpZWxkcy5zaXRlLnZhbHVlLFxyXG4gICAgICAgICAgICAvLyAnb3Blbic6IGlzT3BlblxyXG4gICAgICAgIH07XHJcbiAgICAgICAgbGV0IHVwZGF0ZURhdGFBdHRyVXNlcm5hbWUgPSBmYWxzZTtcclxuICAgICAgICBpZiAodXNlck9yaWdpbmFsLnVzZXJuYW1lICE9PSBmb3JtRmllbGRzLnVzZXJuYW1lLnZhbHVlKSB7XHJcbiAgICAgICAgICAgIGJvZHlbJ3VzZXJuYW1lJ10gPSBmb3JtRmllbGRzLnVzZXJuYW1lLnZhbHVlO1xyXG4gICAgICAgICAgICB1cGRhdGVEYXRhQXR0clVzZXJuYW1lID0gdHJ1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHVzZXJPcmlnaW5hbC5sb2dpbiAhPT0gZm9ybUZpZWxkcy5sb2dpbi52YWx1ZSkge1xyXG4gICAgICAgICAgICBib2R5WyduYW1lJ10gPSBmb3JtRmllbGRzLmxvZ2luLnZhbHVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAodXNlck9yaWdpbmFsLmFib3V0ICE9PSBmb3JtRmllbGRzLmFib3V0LnZhbHVlKSB7XHJcbiAgICAgICAgICAgIGJvZHlbJ2Jpb2dyYXBoeSddID0gZm9ybUZpZWxkcy5hYm91dC52YWx1ZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKHVzZXJPcmlnaW5hbC5zaXRlICE9PSBmb3JtRmllbGRzLnNpdGUudmFsdWUpIHtcclxuICAgICAgICAgICAgYm9keVsndXJsJ10gPSBmb3JtRmllbGRzLnNpdGUudmFsdWU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIC8vIC0tLS12YWxpZGF0ZVxyXG4gICAgICAgIGlmIChmb3JtRmllbGRzLmFib3V0LnZhbHVlID09PSAnJykge1xyXG4gICAgICAgICAgICBjb25zb2xlLmluZm8oJ2Fib3V0LnZhbHVlIGlzIGVtcHR5Jyk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBVc2VyLmVkaXRJbnN0YWdyYW1BY2NvdW50KHVzZXJPcmlnaW5hbC51c2VybmFtZSB8fCAnJywgSlNPTi5zdHJpbmdpZnkoYm9keSkpLnRoZW4oKHJlc3VsdCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAocmVzdWx0LnN0YXR1cy5zdGF0ZSA9PT0gJ29rJykge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJy8qVVBEQVRFIFZJRVcgSEVSRSovJyk7XHJcbiAgICAgICAgICAgICAgICBjb25zdCB7ZGF0YToge3Byb2ZpbGV9fSA9IHJlc3VsdDtcclxuICAgICAgICAgICAgICAgIHByb2ZpbGUuaW5mbyA9IHJlc3VsdC5kYXRhLnByb2ZpbGU7XHJcbiAgICAgICAgICAgICAgICBwcm9maWxlLmluZm8gPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLi4ucHJvZmlsZS5pbmZvLFxyXG4gICAgICAgICAgICAgICAgICAgIGZvbGxvd2VyX2NvdW50OiB1c2VyT3JpZ2luYWwuZm9sbG93ZXJDLFxyXG4gICAgICAgICAgICAgICAgICAgIGZvbGxvd2luZ19jb3VudDogdXNlck9yaWdpbmFsLmZvbGxvd2luZ0MsXHJcbiAgICAgICAgICAgICAgICAgICAgbWVkaWFfY291bnQ6IHVzZXJPcmlnaW5hbC5tZWRpYUNcclxuICAgICAgICAgICAgICAgIH07XHJcbiAgICAgICAgICAgICAgICB1c2VyT3JpZ2luYWwuJGxpLnJlcGxhY2VXaXRoKHJlbmRlckl0ZW0ocHJvZmlsZSwgdXNlck9yaWdpbmFsLiRsaSwgZmFsc2UpKTtcclxuICAgICAgICAgICAgICAgIHVwZGF0ZUJ1dHRvbnNEYXRhQXR0cihzZXR0aW5nQnV0dG9uc0hhbmRsZXIpO1xyXG4gICAgICAgICAgICAgICAgaWYgKHVwZGF0ZURhdGFBdHRyVXNlcm5hbWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zdCAkZWRpdEJ0biA9IHVzZXJPcmlnaW5hbC4kbGkuZmluZChlZGl0QnRuQ2xzKTtcclxuICAgICAgICAgICAgICAgICAgICAkZWRpdEJ0bi5kYXRhKCd1c2VybmFtZScsIHByb2ZpbGUuaW5mby51c2VybmFtZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdXBkYXRlRGF0YUF0dHJVc2VybmFtZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgbW9kYWxDb25maXJtLmhpZGUoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcbiAgICAvLyBjb25zdCBtb2RlU2VsZWN0b3IgPSAkKCcuanNfYnRuLXByb2YtdHlwZS1zd2l0Y2hlcicpO1xyXG4gICAgJCgnLmpzX2J0bi1wcm9mLXR5cGUtc3dpdGNoZXIgbGFiZWwnKS5vbignY2xpY2snLCAoZSkgPT4ge1xyXG4gICAgICAgIGNvbnN0IHZhbHVlID0gJChlLnRhcmdldCkuZmluZCgnaW5wdXRbdHlwZT1yYWRpb10nKS5hdHRyKCd2YWx1ZScpO1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCdjbGljaycsIHZhbHVlKTtcclxuICAgICAgICBjb25zdCBpc09wZW4gPSB2YWx1ZSA9PT0gJ2Nsb3NlZC1wcm9maWxlLW9mZic7XHJcbiAgICAgICAgY29uc3QgYm9keSA9IHtcclxuICAgICAgICAgICAgJ29wZW4nOiBpc09wZW5cclxuICAgICAgICB9O1xyXG4gICAgICAgIFVzZXIuZWRpdEluc3RhZ3JhbUFjY291bnQodXNlck9yaWdpbmFsLnVzZXJuYW1lIHx8ICcnLCBKU09OLnN0cmluZ2lmeShib2R5KSkudGhlbigocmVzdWx0KSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChyZXN1bHQuc3RhdHVzLnN0YXRlID09PSAnb2snKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygncmVzdWx0JywgcmVzdWx0KTtcclxuICAgICAgICAgICAgICAgIHdpbmRvdy5QdWJTdWIucHVibGlzaCgndXBkYXRlX2RhdGFfcHJpdmF0ZV9vbl9hY2NfbGlzdCcsIHZhbHVlKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcbn1cclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2Jsb2Nrcy9pbnN0YWdyYW0tYWNjb3VudHMtbGlzdC9hY2NvdW50cy1saXN0LWJ0bi1zZXR0aW5ncy5qcyIsIi8qIGVzbGludC1kaXNhYmxlIHNvcnQtdmFycyAqL1xyXG4vLyBpbXBvcnQgJCBmcm9tICdqcXVlcnknO1xyXG5pbXBvcnQgVXNlciBmcm9tICcuLi8uLi9jb21tb24vanMtc2VydmljZXMvdXNlcic7XHJcbmltcG9ydCBQdWJTdWIgZnJvbSAncHVic3ViLWpzJzsgLy8gaHR0cHM6Ly93d3cubnBtanMuY29tL3BhY2thZ2UvcHVic3ViLWpzXHJcbmltcG9ydCBjb29raWVTdG9yYWdlIGZyb20gJy4uLy4uL2NvbW1vbi9qcy1zZXJ2aWNlcy9jb29raWUnO1xyXG4vLyBpbXBvcnQgVmFsaWRhdG9yIGZyb20gJy4uLy4uL2NvbW1vbi9qcy1zZXJ2aWNlcy9mb3JtLXZhbGlkYXRvcic7XHJcbmltcG9ydCB2aWV3VXRpbHMgZnJvbSAnLi4vLi4vY29tbW9uL2pzLXNlcnZpY2VzL3ZpZXcnO1xyXG5pbXBvcnQge0NPTlNUfSBmcm9tICcuLi8uLi9jb21tb24vanMtc2VydmljZXMvY29uc3RzJztcclxuXHJcbi8vIHdpbmRvdy4kID0gJDtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBMb2dpbkZvcm0oc2VsZWN0b3JDc3MpIHtcclxuICAgIGNvbnN0IHtfZm9ybUlkLCBfYnV0dG9uU3VibWl0SWQsIF9zaG93TG9naW5Cb3hCdG5JZCwgX2xvZ2luQm94fSA9IHNlbGVjdG9yQ3NzO1xyXG4gICAgY29uc3QgdXNlciA9IFVzZXIsIC8vIHNlcnZpY2VcclxuICAgICAgICAkZm9ybSA9ICQoX2Zvcm1JZCksXHJcbiAgICAgICAgJGVtYWlsID0gJGZvcm0uZmluZCgnaW5wdXRbbmFtZT1cIm1haWxcIl0nKSxcclxuICAgICAgICAkdGV4dEFyZWFEZXNjcmlwdGlvbiA9ICQoJyNkZXNjcmlwdGlvbicpO1xyXG4gICAgLy8gY29uc3Qgb3BlbmVkQ2xhc3MgPSAnZC1ibG9jayc7XHJcbiAgICAvLyBjb25zdCBjbG9zZUNsYXNzID0gJ2Qtbm9uZSc7XHJcblxyXG4gICAgY29uc3QgdXNlckxvZ2luSGVhZGVyID0gKF9mb3JtRGF0YSkgPT4ge1xyXG4gICAgICAgIGNvbnN0IGNiRXJyb3IgPSAocmVzdWx0KSA9PiB7XHJcbiAgICAgICAgICAgICQoX2xvZ2luQm94KS5hcHBlbmQoJzxwPnJlc3VsdC5zdGF0dXMubWVzc2FnZTwvcD4nKTtcclxuICAgICAgICB9O1xyXG5cclxuICAgICAgICByZXR1cm4gdXNlci5sb2dpbihfZm9ybURhdGEsIGNiRXJyb3IpXHJcbiAgICAgICAgICAgIC50aGVuKChyZXN1bHQpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChyZXN1bHQgJiYgcmVzdWx0LmRhdGEgJiYgcmVzdWx0LmRhdGEudG9rZW4pIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBzYXZlIHRoZSBpdGVtXHJcbiAgICAgICAgICAgICAgICAgICAgY29va2llU3RvcmFnZS5zZXQoQ09OU1QuY29va2llU3RvcmFnZS50b2tlbiwgcmVzdWx0LmRhdGEudG9rZW4pO1xyXG4gICAgICAgICAgICAgICAgICAgICQoJy5uYXYtbGluay5qc19sb2dPdXQnKS5wYXJlbnQoKS5zaG93KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJ3JlcXVlc3Qgc3VjY2VlZGVkIHdpdGggSlNPTiByZXNwb25zZScsIHJlc3VsdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmlld1V0aWxzLnNob3dJbmZvTWVzc2FnZSgkdGV4dEFyZWFEZXNjcmlwdGlvbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnN0YXR1cy5zdGF0ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnN0YXR1cy5tZXNzYWdlIHx8ICdMb2dpbiBzdWNjc2VzcycpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChyZXN1bHQuc3RhdHVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzdWx0KTtcclxuICAgICAgICAgICAgICAgICAgICB2aWV3VXRpbHMuc2hvd0luZm9NZXNzYWdlKHRoaXMuJHRleHRBcmVhRGVzY3JpcHRpb24sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGA8cD5zdGF0dXM6ICR7cmVzdWx0LnN0YXR1cy5zdGF0ZX08L3A+PHA+IG1lc3NhZ2U6ICR7cmVzdWx0LnN0YXR1cy5tZXNzYWdlfTwvcD5gKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzdWx0KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSkudGhlbigocmVzdWx0KSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0ICYmIHJlc3VsdC5zdGF0dXMpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXN1bHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIHZpZXdVdGlscy5zaG93SW5mb01lc3NhZ2UoJHRleHRBcmVhRGVzY3JpcHRpb24sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5zdGF0dXMuc3RhdGUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5zdGF0dXMubWVzc2FnZSB8fCAnTG9naW4gZXJyb3InKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICB9O1xyXG5cclxuICAgIGNvbnN0IHN1Ym1pdEZvcm0gPSBmdW5jdGlvbihmb3JtRGF0YU9iaikge1xyXG4gICAgICAgIGNvbnN0IGVtYWlsID0gJGVtYWlsLnZhbCgpLFxyXG4gICAgICAgICAgICBwYXNzd29yZCA9ICRmb3JtLmZpbmQoJ2lucHV0W25hbWU9XCJwYXNzXCJdJykudmFsKCksXHJcbiAgICAgICAgICAgIF9mb3JtRGF0YSA9IGZvcm1EYXRhT2JqIHx8IHtlbWFpbCwgcGFzc3dvcmR9O1xyXG5cclxuICAgICAgICBpZiAoc2VsZWN0b3JDc3MuaXNMb2dpbkluc3RhZ3JhbSkge1xyXG4gICAgICAgICAgICAvLyB0b2RvOiBkZWxldGUgbWVcclxuICAgICAgICAgICAgLy8gYWRkSW5zdGFncmFtQWNjb3VudCh7dXNlcm5hbWU6ICRmb3JtLmZpbmQoJ2lucHV0W25hbWU9XCJ1c2VybmFtZVwiXScpLnZhbCgpLCBwYXNzd29yZH0pO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICRlbWFpbC52YWwoJGVtYWlsLnZhbCgpLnRvTG9jYWxlTG93ZXJDYXNlKCkpO1xyXG4gICAgICAgICAgICB1c2VyTG9naW5IZWFkZXIoX2Zvcm1EYXRhKS50aGVuKCgpID0+IHtcclxuICAgICAgICAgICAgICAgIFB1YlN1Yi5wdWJsaXNoKENPTlNULmV2ZW50cy5VU0VSX0xPR0dFRCwgJ2xvZ2luJyk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcblxyXG4gICAgY29uc3QgbG9nT3V0ID0gZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgY29va2llU3RvcmFnZS5yZW1vdmUoQ09OU1QuY29va2llU3RvcmFnZS50b2tlbik7XHJcbiAgICAgICAgUHViU3ViLnB1Ymxpc2goQ09OU1QuZXZlbnRzLlVTRVJfTE9HT1VUKTtcclxuICAgIH07XHJcblxyXG4gICAgY29uc3QgYmluZEV2ZW50cyA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGNvbnN0ICRzaG93TG9naW5Cb3hCdG5JZCA9ICQoX3Nob3dMb2dpbkJveEJ0bklkKTtcclxuICAgICAgICBjb25zdCAkbG9naW5Cb3ggPSAkKF9sb2dpbkJveCk7XHJcbiAgICAgICAgY29uc3Qgb3BlbmVkQ2xhc3MgPSAnZC1ibG9jayc7XHJcbiAgICAgICAgY29uc3QgY2xvc2VDbGFzcyA9ICdkLW5vbmUnO1xyXG5cclxuICAgICAgICAkc2hvd0xvZ2luQm94QnRuSWQub24oJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIXNlbGVjdG9yQ3NzLmlzTG9naW5JbnN0YWdyYW0pIHtcclxuICAgICAgICAgICAgICAgICRsb2dpbkJveC5jc3Moeyd0b3AnOiAwLCAncmlnaHQnOiAwfSlcclxuICAgICAgICAgICAgICAgICAgICAuYWRkQ2xhc3MoJ2JnLWxpZ2h0IGJvcmRlciBtdC01IG14LWF1dG8gcG9zaXRpb24tYWJzb2x1dGUnKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAkbG9naW5Cb3guYWRkQ2xhc3Mob3BlbmVkQ2xhc3MpLnJlbW92ZUNsYXNzKGNsb3NlQ2xhc3MpO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICBjb25zdCAkYnV0dG9uU3VibWl0ID0gJChfYnV0dG9uU3VibWl0SWQpLFxyXG4gICAgICAgICAgICBjc3NWYWxpZGF0aW9uQ2xhc3MgPSAnZm9ybS12YWxpZGF0aW9uJztcclxuXHJcbiAgICAgICAgJGJ1dHRvblN1Ym1pdC5vbignY2xpY2snLCAoZSkgPT4ge1xyXG4gICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XHJcbiAgICAgICAgICAgIGNvbnN0IGZvcm0gPSAkZm9ybS5nZXQoMCk7XHJcbiAgICAgICAgICAgIC8vIGNvbnN0IHZhbGlkYXRvciA9IG5ldyBWYWxpZGF0b3IoJGZvcm0pO1xyXG4gICAgICAgICAgICAvLyBjb25zb2xlLmxvZyh2YWxpZGF0b3IudmFsaWRhdGUoKSk7XHJcbiAgICAgICAgICAgIGlmIChmb3JtLmNoZWNrVmFsaWRpdHkoKSAmJiB2aWV3VXRpbHMuaXNFbWFpbCgkZW1haWwudmFsKCkpKSB7XHJcbiAgICAgICAgICAgICAgICBzdWJtaXRGb3JtKCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvLyBIaWdobGlnaHQgZXJyb3JzXHJcbiAgICAgICAgICAgICAgICBpZiAoZm9ybS5yZXBvcnRWYWxpZGl0eSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGZvcm0ucmVwb3J0VmFsaWRpdHkoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICRmb3JtLmFkZENsYXNzKGNzc1ZhbGlkYXRpb25DbGFzcyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgJCgnLm5hdi1saW5rLmpzX2xvZ091dCcpLm9uKCdjbGljaycsIChlKSA9PiB7XHJcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgbG9nT3V0KCk7XHJcbiAgICAgICAgICAgICQoZS50YXJnZXQpLnBhcmVudCgpLmhpZGUoKTtcclxuICAgICAgICAgICAgdmlld1V0aWxzLnNob3dJbmZvTWVzc2FnZSgkdGV4dEFyZWFEZXNjcmlwdGlvbiwgJ0xvZ2dlZCBvdXQnKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgUHViU3ViLnN1YnNjcmliZShDT05TVC5ldmVudHMuVVNFUl9MT0dPVVQsIChtc2cpID0+IHtcclxuICAgICAgICAgICAgJChDT05TVC51aVNlbGVjdG9ycy5oZWFkZXJOYXZMb2dpbkJ0bikuYWRkQ2xhc3Mob3BlbmVkQ2xhc3MpLnJlbW92ZUNsYXNzKGNsb3NlQ2xhc3MpOyAvLyAuc2hvdygpO1xyXG4gICAgICAgICAgICAkKENPTlNULnVpU2VsZWN0b3JzLmhlYWRlclJlZ0J0bikuYWRkQ2xhc3Mob3BlbmVkQ2xhc3MpLnJlbW92ZUNsYXNzKGNsb3NlQ2xhc3MpO1xyXG4gICAgICAgICAgICAkKCcubmF2LWxpbmsuanNfbG9nT3V0JykuYWRkQ2xhc3MoY2xvc2VDbGFzcykucmVtb3ZlQ2xhc3Mob3BlbmVkQ2xhc3MpOyAvLyAuaGlkZSgpO1xyXG4gICAgICAgICAgICBjb25zdCBzZWxlY3RvckxvZ2luU3RhdGUgPSAnLmpzX21lc3NhZ2VfbG9nZ2VkLS10ZXh0JztcclxuICAgICAgICAgICAgJChzZWxlY3RvckxvZ2luU3RhdGUpLnRleHQoJ9CS0Ysg0LLRi9GI0LvQuCDQuNC3INCw0LrQutCw0YPQvdGC0LAnKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgJChkb2N1bWVudCkub24oJ2NsaWNrJywgKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGlzTG9naW5CdG5DbGljayA9ICQoZXZlbnQudGFyZ2V0KS5jbG9zZXN0KCduYXYubmF2YmFyJykuZmluZCgkbG9naW5Cb3gpLmxlbmd0aDtcclxuICAgICAgICAgICAgY29uc3QgaXNBZGRJbnN0YWdyYW1CdG5DbGlja2VkID0gJChldmVudC50YXJnZXQpLmF0dHIoJ2lkJykgPT09IENPTlNULnVpU2VsZWN0b3JzLmluc3RhZ3JhbS5hZGRBY2NvdW50QnRuSWQ7XHJcblxyXG4gICAgICAgICAgICBpZiAoIWlzTG9naW5CdG5DbGljayAmJiAkbG9naW5Cb3guaGFzQ2xhc3Mob3BlbmVkQ2xhc3MpICYmICFpc0FkZEluc3RhZ3JhbUJ0bkNsaWNrZWQpIHtcclxuICAgICAgICAgICAgICAgICRsb2dpbkJveC5hZGRDbGFzcyhjbG9zZUNsYXNzKS5yZW1vdmVDbGFzcyhvcGVuZWRDbGFzcyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH07XHJcblxyXG4gICAgZnVuY3Rpb24gaW5pdCgpIHtcclxuICAgICAgICBiaW5kRXZlbnRzKCk7XHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHtcclxuICAgICAgICBpbml0XHJcbiAgICB9O1xyXG59XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9ibG9ja3MvbG9naW4tZm9ybS9sb2dpbi1mb3JtLmpzIiwiLy8gaW1wb3J0IE1ldGVvckVtb2ppIGZyb20gJ21ldGVvci1lbW9qaSc7XHJcbi8vIGltcG9ydCBFbW9qaVBpY2tlciBmcm9tICd2YW5pbGxhLWVtb2ppLXBpY2tlcic7XHJcbmltcG9ydCAnZW1vamlvbmVBcmVhJztcclxuLy8gaW1wb3J0IHFxIGZyb20gJ2ZpbmUtdXBsb2FkZXInOyAvLyB0b2RvOiBmaW5lLXVwbG9hZGVcclxuaW1wb3J0IFVzZXIgZnJvbSAnLi4vLi4vY29tbW9uL2pzLXNlcnZpY2VzL3VzZXInO1xyXG5pbXBvcnQgVXNlckNvbnZlcnNhdGlvbiBmcm9tICcuLi8uLi9jb21tb24vanMtc2VydmljZXMvYXBpLXVzZXItZGlyZWN0JztcclxuaW1wb3J0IHtmaWxsTWFzc2FnZXNMaXN0LCBmaWxsVXNlckxpc3QsIG1lc3NhZ2VBcmVhSGVuZGxlciwgLyogYWRkTW9yZVVzZXJzQWNjb3JkaW9uLCovIGFwcGVuZFVzZXJMaXN0fSBmcm9tICcuL3V0aWxzJztcclxuaW1wb3J0IFNwaW5uZXIgZnJvbSAnLi4vLi4vY29tbW9uL2pzLXNlcnZpY2VzL3NwaW5uZXInO1xyXG4vLyBpbXBvcnQgUHViU3ViIGZyb20gJ3B1YnN1Yi1qcyc7Ly8gaHR0cHM6Ly93d3cubnBtanMuY29tL3BhY2thZ2UvcHVic3ViLWpzXHJcbmltcG9ydCB7Q09OU1R9IGZyb20gJy4uLy4uL2NvbW1vbi9qcy1zZXJ2aWNlcy9jb25zdHMnO1xyXG5pbXBvcnQgKiBhcyBpbWFnZVVwbG9hZCBmcm9tICcuLi9fc2hhcmVkL2ltYWdlLXVwbG9hZC9pbWFnZS11cGxvYWQnO1xyXG5pbXBvcnQge2luaXRSZXF1ZXN0cywgYWRkQ29uZmlyZ0J1dHRvbnN9IGZyb20gJy4vcmVxdWVzdHMnO1xyXG5cclxuY29uc3QgdG9rZW4gPSBVc2VyLmdldFRva2VuKCk7XHJcbmNvbnN0ICRtc2dMaXN0ID0gJCgnLm1lc3NhZ2VzLWxpc3QnKTtcclxuY29uc3Qgc3RhdGVDZmcgPSB7XHJcbiAgICBwYWdlSW5jcmVtZW50OiAwLFxyXG4gICAgbG9hZGluZ0ZsYWc6IGZhbHNlLFxyXG4gICAgc2V0U2luZ2xlVmFsOiBmYWxzZVxyXG59O1xyXG5sZXQgdXBkYXRlSW50ZXJ2YWwgPSAnJztcclxubGV0IGludGVydmFsSWQgPSBmYWxzZTtcclxubGV0IGN1cnNvciA9ICcnO1xyXG5sZXQgaW50ZXJ2YWxVc2VyTGlzdCA9IGZhbHNlO1xyXG5sZXQgaW5pdGlhbFZhbCA9ICcnO1xyXG5sZXQgZmxhZ0luaXRpYWxWYWwgPSB0cnVlO1xyXG5jb25zdCBjdXJyZW50VXNlckRhdGEgPSB7XHJcbiAgICB1c2VyYXZhdGFyOiAnbGluaycsXHJcbiAgICB1c2VybmFtZTogJ25hbWUnXHJcbn07XHJcbmNvbnN0IHNjcm9sbExvYWRlclN0YXRlID0ge1xyXG4gICAgY3Vyc29yOiAncGFnaW5hdGlvbi5wcmV2X2N1cnNvcicsXHJcbiAgICBmaXJzdExvYWQ6IHRydWUsXHJcbiAgICBhbGxNc2dMb2FkZWQ6IGZhbHNlXHJcbn07XHJcblxyXG5jb25zdCByZW5kZXJSZXN1bHRzID0gZnVuY3Rpb24gKGNmZykge1xyXG4gICAgY29uc3Qge2RhdGFBcnJheTogZGF0YSwgJGxpc3Q6IHVsRWxlbWVudCwgc3RhdGVDZmd9ID0gY2ZnO1xyXG5cclxuICAgIGZ1bmN0aW9uIHNob3dNZXNzYWdlKGVsZW1lbnQsIG1lc3NhZ2UsIC8qIG9wdGlvbmFsICovY2xlYXJMaXN0KSB7XHJcbiAgICAgICAgLy8gJGJ0bkdFVC5hdHRyKCdkaXNhYmxlZCcsIGZhbHNlKTtcclxuXHJcbiAgICAgICAgaWYgKGNsZWFyTGlzdCkge1xyXG4gICAgICAgICAgICAkKCdsaScsIGVsZW1lbnQpLnJlbW92ZSgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbGVtZW50LmNzcyh7J292ZXJmbG93JzogJ2F1dG8nfSk7XHJcbiAgICAgICAgJCgnPGxpLz4nKVxyXG4gICAgICAgICAgICAuYWRkQ2xhc3MoJ2xpc3QtZ3JvdXAtaXRlbSB0ZXh0LWNlbnRlcicpXHJcbiAgICAgICAgICAgIC50ZXh0KG1lc3NhZ2UpXHJcbiAgICAgICAgICAgIC5hcHBlbmRUbyh1bEVsZW1lbnQpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChzdGF0ZUNmZy5sb2FkaW5nRmxhZyA9PT0gJ0ZJTkFMX1BBR0UnKSB7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlOyAvLyBleGl0IGlmIGhhcyByZWFjaGVkIGxhc3QgcGFnZVxyXG4gICAgfVxyXG5cclxuICAgIC8vIHNob3cgZmFpbCBtc2dcclxuICAgIGlmIChkYXRhID09PSAnRkFJTCcpIHtcclxuICAgICAgICBzaG93TWVzc2FnZSh1bEVsZW1lbnQsICdGYWlsdXJlLCBwb3NzaWJsZSBrZXkgbm90IGNvcnJlY3QuJywgdHJ1ZSk7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChzdGF0ZUNmZy5sb2FkaW5nRmxhZyA9PT0gJ1NUT1BfTE9BRCcgJiYgZGF0YS5sZW5ndGggIT09IDApIHtcclxuICAgICAgICBzdGF0ZUNmZy5sb2FkaW5nRmxhZyA9ICdGSU5BTF9QQUdFJztcclxuICAgICAgICBzaG93TWVzc2FnZSh1bEVsZW1lbnQsICdObyBtb3JlIHJlc3VsdHMuJywgZmFsc2UpO1xyXG4gICAgICAgIC8vICRsaUZvb3Rlci5oaWRlKCk7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChkYXRhID09PSBudWxsIHx8ICFkYXRhLmxlbmd0aCkge1xyXG4gICAgICAgIHNob3dNZXNzYWdlKHVsRWxlbWVudCwgJ05vIHJlc3VsdHMgZm91bmQuJywgdHJ1ZSk7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIGZpbGxNYXNzYWdlc0xpc3QoY2ZnKTtcclxufTtcclxuXHJcbmZ1bmN0aW9uIGlzSW5NZXNzYWdlUGFnZSgpIHtcclxuICAgIGNvbnN0ICRtc2dMaXN0ID0gJCgnLm1lc3NhZ2VzLWxpc3QnKTtcclxuICAgIGNvbnN0ICR1c2VyTGlzdCA9ICQoJy5tZXNzYWdlcy11c2VyLWxpc3QnKTtcclxuICAgIHJldHVybiAhISRtc2dMaXN0Lmxlbmd0aCAmJiAhISR1c2VyTGlzdC5sZW5ndGg7XHJcbn1cclxuXHJcbi8vIHRvZG86IGdldCBmcm9tIGVtb2ppaS5qc1xyXG4kKGRvY3VtZW50KS5yZWFkeSgoKSA9PiB7XHJcbiAgICBpZiAoIWlzSW5NZXNzYWdlUGFnZSgpKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgLy8gZXNsaW50LWRpc2FibGUtbmV4dC1saW5lIG5vLXVudXNlZC12YXJzXHJcbiAgICAvLyBjb25zdCBlcCA9IG5ldyBFbW9qaVBpY2tlcigpO1xyXG4gICAgLy8gLy8gY29uc3QgbSA9IG5ldyBNZXRlb3JFbW9qaSgpO1xyXG4gICAgLy8gY29uc3QgJHBpY2tlciA9ICQoJ3RleHRhcmVhW2RhdGEtZW1vamktcGlja2VyPVwidHJ1ZVwiXSB+IGRpdicpO1xyXG4gICAgLy8gY29uc3Qgc3R5bGUgPSAkcGlja2VyLmF0dHIoJ3N0eWxlJyk7XHJcbiAgICAvLyBjb25zdCBzdHlsZU5ldyA9IHN0eWxlLnJlcGxhY2UoJ3RvcDogMjBweDsnLCAndG9wOiAtMjEwcHg7Jyk7XHJcbiAgICAvLyAkcGlja2VyLmF0dHIoJ3N0eWxlJywgc3R5bGVOZXcpO1xyXG5cclxuICAgICQoJ3RleHRhcmVhW2RhdGEtZW1vamktcGlja2VyPVwidHJ1ZVwiXScpLmVtb2ppb25lQXJlYSh7XHJcbiAgICAgICAgcGlja2VyUG9zaXRpb246ICd0b3AnLFxyXG4gICAgICAgIHRvbmVzU3R5bGU6ICdzcXVhcmUnLFxyXG4gICAgICAgIGZpbHRlcnNQb3NpdGlvbjogJ2JvdHRvbScsXHJcbiAgICAgICAgYXV0b2NvbXBsZXRlOiB0cnVlXHJcbiAgICAgICAgLy8gZXZlbnRzOiB7XHJcbiAgICAgICAgLy8gICAgIGtleXVwIChlZGl0b3IsIGV2ZW50KSB7XHJcbiAgICAgICAgLy8gICAgICAgICBjb25zb2xlLmxvZyhlZGl0b3IuaHRtbCgpKTtcclxuICAgICAgICAvLyAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMuZ2V0VGV4dCgpKTtcclxuICAgICAgICAvLyAgICAgfVxyXG4gICAgICAgIC8vIH1cclxuICAgIH0pO1xyXG5cclxuICAgIC8vIHRvZG86IGZpbmUtdXBsb2FkZVxyXG4gICAgLypcclxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtdmFyc1xyXG4gICAgY29uc3QgcmVzdHJpY3RlZFVwbG9hZGVyID0gbmV3IHFxLkZpbmVVcGxvYWRlcih7XHJcbiAgICAgICAgZWxlbWVudDogZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2ZpbmUtdXBsb2FkZXItdmFsaWRhdGlvbicpLFxyXG4gICAgICAgIHRlbXBsYXRlOiAncXEtdGVtcGxhdGUtdmFsaWRhdGlvbicsXHJcbiAgICAgICAgcmVxdWVzdDoge1xyXG4gICAgICAgICAgICBlbmRwb2ludDogJy9zZXJ2ZXIvdXBsb2FkcydcclxuICAgICAgICB9LFxyXG4gICAgICAgIHRodW1ibmFpbHM6IHtcclxuICAgICAgICAgICAgcGxhY2Vob2xkZXJzOiB7XHJcbiAgICAgICAgICAgICAgICB3YWl0aW5nUGF0aDogJ2h0dHBzOi8vZmluZXVwbG9hZGVyLmNvbS9zb3VyY2UvcGxhY2Vob2xkZXJzL3dhaXRpbmctZ2VuZXJpYy5wbmcnLCAvLyAnL3NvdXJjZS9wbGFjZWhvbGRlcnMvd2FpdGluZy1nZW5lcmljLnBuZycsXHJcbiAgICAgICAgICAgICAgICBub3RBdmFpbGFibGVQYXRoOiAnaHR0cHM6Ly9maW5ldXBsb2FkZXIuY29tL3NlcnZlci93YWl0aW5nLWdlbmVyaWMucG5nJyAvLyAnL3NvdXJjZS9wbGFjZWhvbGRlcnMvbm90X2F2YWlsYWJsZS1nZW5lcmljLnBuZydcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgdmFsaWRhdGlvbjoge1xyXG4gICAgICAgICAgICBhbGxvd2VkRXh0ZW5zaW9uczogWydqcGVnJywgJ2pwZyddLFxyXG4gICAgICAgICAgICBpdGVtTGltaXQ6IDMsXHJcbiAgICAgICAgICAgIHNpemVMaW1pdDogNTAwICogMTAyNFxyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgKi9cclxufSk7XHJcbmxldCBpc1RpbWVPdXRSdW5uZWQgPSBmYWxzZTtcclxuZnVuY3Rpb24gZ2V0QW5kRmlsbFVzZXJMaXN0Q3Vyc29yKGxvYWRNb3JlQ2JBcmdzQ3Vyc29yLCBzZWN0aW9uLCB1c2VybmFtZSkge1xyXG4gICAgY29uc3QgJHVzZXJMaXN0ID0gJCgnLm1lc3NhZ2VzLXVzZXItbGlzdCcpO1xyXG4gICAgaWYgKGxvYWRNb3JlQ2JBcmdzQ3Vyc29yKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ1VzZXJDb252ZXJzYXRpb24nLCB1c2VybmFtZSk7XHJcbiAgICAgICAgVXNlckNvbnZlcnNhdGlvbi5nZXRNZXRhZGF0YURldGFpbFVzZXJzKHtjdXJzb3I6IGxvYWRNb3JlQ2JBcmdzQ3Vyc29yLCB1c2VybmFtZX0pLnRoZW4oKHJlc3VsdCkgPT4ge1xyXG4gICAgICAgICAgICBpZiAoIXJlc3VsdC5kYXRhKSB7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3Qge2RhdGF9ID0gcmVzdWx0O1xyXG4gICAgICAgICAgICAvLyBkYXRhLm1ldGEuc29ydCgoYSwgYikgPT4gYVsndXNlcm5hbWUnXS5sb2NhbGVDb21wYXJlKGJbJ3VzZXJuYW1lJ10pKTtcclxuICAgICAgICAgICAgYXBwZW5kVXNlckxpc3QoJHVzZXJMaXN0LCBkYXRhLm1ldGEsIHtjdXJzb3I6IGxvYWRNb3JlQ2JBcmdzQ3Vyc29yLCBzZWN0aW9uLCB1c2VybmFtZX0pO1xyXG4gICAgICAgICAgICBjb25zdCB7cGFnaW5hdGlvbn0gPSBkYXRhO1xyXG4gICAgICAgICAgICBpZiAocGFnaW5hdGlvbiAmJiBwYWdpbmF0aW9uLnByZXZfY3Vyc29yKSB7XHJcbiAgICAgICAgICAgICAgLy8gbWFrZSBvbmUgbW9yZSByZXE/XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdmb3VuZCBtb3JlIHBhZ2luYXRpb24sIGJ1dCBsaXN0IG5vdCB1cGRhdGVkJyk7XHJcbiAgICAgICAgICAgICAgICAvLyBUT0RPXHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvLyBoaWRlIHNob3cgbW9yZVxyXG4gICAgICAgICAgICAgICAgY29uc3QgJGNvbGxhcHNlID0gJChgI2NvbGxhcHNlLSR7c2VjdGlvbn1gKS5jbG9zZXN0KCdsaScpO1xyXG4gICAgICAgICAgICAgICAgJGNvbGxhcHNlLmZpbmQoJy5qc19sb2FkLW1vcmUtYm94JykuYWRkQ2xhc3MoJ2Qtbm9uZScpO1xyXG4gICAgICAgICAgICAgICAgLy8gc3RvcCByZXJlbmRlciBsaXN0XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdzdG9wIHVwZGF0aW5nIHVzZXIgbGlzdCcpO1xyXG4gICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChpbnRlcnZhbFVzZXJMaXN0KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnc2VjdGlvbicsIHNlY3Rpb24pO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59XHJcblxyXG5mdW5jdGlvbiBnZXRBbmRGaWxsVXNlckxpc3QoaXNBY3RpdmVGaXJzdCwgdXNlckxpc3QpIHtcclxuICAgIGNvbnN0ICR1c2VyTGlzdCA9IHVzZXJMaXN0IHx8ICQoJy5tZXNzYWdlcy11c2VyLWxpc3QnKTtcclxuICAgIGxldCBwcmV2QWN0aXZlRGlhbG9nSWQgPSAnJztcclxuICAgIGlmICghaXNBY3RpdmVGaXJzdCkge1xyXG4gICAgICAgIHByZXZBY3RpdmVEaWFsb2dJZCA9ICR1c2VyTGlzdC5maW5kKCdsaSAuY29sbGFwc2Uuc2hvdycpLmF0dHIoJ2lkJyk7XHJcbiAgICB9XHJcblxyXG4gICAgVXNlckNvbnZlcnNhdGlvbi5nZXRNZXRhZGF0YSh0b2tlbikudGhlbigocmVzdWx0KSA9PiB7XHJcbiAgICAgICAgaWYgKCFyZXN1bHQuZGF0YSkge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHtkYXRhfSA9IHJlc3VsdDtcclxuICAgICAgICBkYXRhLm1ldGEuc29ydCgoYSwgYikgPT4gYVsndXNlcm5hbWUnXS5sb2NhbGVDb21wYXJlKGJbJ3VzZXJuYW1lJ10pKTtcclxuICAgICAgICAvLyBtZXNzYWdlcy11c2VyLWxpc3QgZnJvbSB1dGlscy5qc1xyXG4gICAgICAgIGZpbGxVc2VyTGlzdCgkdXNlckxpc3QsIGRhdGEubWV0YSwgZ2V0QW5kRmlsbFVzZXJMaXN0Q3Vyc29yKTtcclxuICAgICAgICBpZiAoZGF0YS5zZXR0aW5ncyAmJiBkYXRhLnNldHRpbmdzLmludm9rZV9pbl9taWxsaXMpIHtcclxuICAgICAgICAgICAgdXBkYXRlSW50ZXJ2YWwgPSBkYXRhLnNldHRpbmdzLmludm9rZV9pbl9taWxsaXM7XHJcbiAgICAgICAgICAgIHVwZGF0ZUludGVydmFsID0gKHVwZGF0ZUludGVydmFsID4gNjAwMCkgPyB1cGRhdGVJbnRlcnZhbCA6IDEwMDAwO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoaXNBY3RpdmVGaXJzdCkge1xyXG4gICAgICAgICAgICAkdXNlckxpc3QuZmluZCgnbGk6Zmlyc3QtY2hpbGQgLmNvbGxhcHNlJykuYWRkQ2xhc3MoJ3Nob3cnKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAkKGAjJHtwcmV2QWN0aXZlRGlhbG9nSWR9YCkuYWRkQ2xhc3MoJ3Nob3cnKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgLy8gaWYgKGRhdGEucGFnaW5hdGlvbiAmJiBkYXRhLnBhZ2luYXRpb24ucHJldl9jdXJzb3IpIHtcclxuICAgICAgICAvLyAgICAgY29uc3QgY29udmVyc2F0aW9uVG9BZGQgPSB7XHJcbiAgICAgICAgLy8gICAgICAgICB0cGw6IGA8ZGl2IGNsYXNzPVwibGlzdC1mb290ZXIgdGV4dC1jZW50ZXJcIiBzdHlsZT1cImRpc3BsYXk6IG5vbmU7XCIgaWQ9XCJsb2FkLW1vcmUtYm94XCI+XHJcbiAgICAgICAgLy8gICAgICAgICAgICAgICAgIDxidXR0b24gaWQ9XCJqc18tYWNjb3JkaW9uLW1vcmVfYnRuXCIgdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiYnRuIGJ0bi1zdWJtaXRcIj5TSE9XIE1PUkU8L2J1dHRvbj5cclxuICAgICAgICAvLyAgICAgICAgICAgICA8L2Rpdj5gXHJcbiAgICAgICAgLy8gICAgIH07XHJcbiAgICAgICAgLy8gICAgIGNvbnNvbGUubG9nKCdzdGFydCBhZGQgcGFnaW5hdGlvbiB0byBhY2NvcmRpb2luJywgY29udmVyc2F0aW9uVG9BZGQpO1xyXG4gICAgICAgIC8vICAgICBhZGRNb3JlVXNlcnNBY2NvcmRpb24oZGF0YS5tZXRhLCBjb252ZXJzYXRpb25Ub0FkZCk7XHJcbiAgICAgICAgLy8gfVxyXG4gICAgICAgIC8vIGRvIGl0IG9uY2VcclxuICAgICAgICBpZiAoIWlzVGltZU91dFJ1bm5lZCkge1xyXG4gICAgICAgICAgICBpbnRlcnZhbFVzZXJMaXN0ID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ3NldEludGVydmFsJyk7XHJcbiAgICAgICAgICAgICAgICBnZXRBbmRGaWxsVXNlckxpc3QoKTtcclxuICAgICAgICAgICAgfSwgdXBkYXRlSW50ZXJ2YWwpO1xyXG4gICAgICAgICAgICBpc1RpbWVPdXRSdW5uZWQgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBhZGRQYWdpbmF0aW9uKHBhZ2luYXRpb24sIGNiRm4pIHtcclxuICAgIGlmIChzY3JvbGxMb2FkZXJTdGF0ZS5hbGxNc2dMb2FkZWQpIHtcclxuICAgICAgICByZXR1cm47XHJcbiAgICB9XHJcbiAgICBpZiAoc2Nyb2xsTG9hZGVyU3RhdGUuZmlyc3RMb2FkKSB7XHJcbiAgICAgICAgc2Nyb2xsTG9hZGVyU3RhdGUuY3Vyc29yID0gcGFnaW5hdGlvbi5wcmV2X2N1cnNvcjtcclxuICAgICAgICBzY3JvbGxMb2FkZXJTdGF0ZS5maXJzdExvYWQgPSBmYWxzZTtcclxuICAgIH1cclxuICAgIGNvbnN0IHVzZXJEYXRhID0gJG1zZ0xpc3QuZGF0YSgnY29udmVyc2F0aW9uJyk7XHJcbiAgICBjb25zdCB7dXNlcm5hbWUsIGNvbnZlcnNhdGlvbklkfSA9IHVzZXJEYXRhO1xyXG4gICAgLy8gY29uc29sZS5sb2coJ2N1cnNvcjogJywgc2Nyb2xsTG9hZGVyU3RhdGUuY3Vyc29yKTtcclxuICAgIFNwaW5uZXIuYWRkKCQoJyNtYWluQ2hhdFBhcnQnKSwgJ215LTUgcHktNScpO1xyXG4gICAgVXNlckNvbnZlcnNhdGlvbi5nZXRNZXRhZGF0YURldGFpbENvbnZlcnNhdGlvbih0b2tlbiwge3VzZXJuYW1lLCBjb252ZXJzYXRpb25JZCwgY3Vyc29yOiBzY3JvbGxMb2FkZXJTdGF0ZS5jdXJzb3J9KS50aGVuKChyZXN1bHQpID0+IHtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZygnZmlyc3RMb2FkOicsIHNjcm9sbExvYWRlclN0YXRlLmZpcnN0TG9hZCwgcmVzdWx0LmRhdGEubWV0YSk7XHJcbiAgICAgICAgY29uc3QgbmV3Q3Vyc29yID0gcmVzdWx0LmRhdGEubWV0YS5wYWdpbmF0aW9uICYmIHJlc3VsdC5kYXRhLm1ldGEucGFnaW5hdGlvbi5wcmV2X2N1cnNvcjtcclxuICAgICAgICBTcGlubmVyLnJlbW92ZSgpO1xyXG4gICAgICAgIHJlbmRlclJlc3VsdHMoe1xyXG4gICAgICAgICAgICAkbGlzdDogJG1zZ0xpc3QsXHJcbiAgICAgICAgICAgIGRhdGFBcnJheTogcmVzdWx0LmRhdGEubWV0YS5tZXNzYWdlcyxcclxuICAgICAgICAgICAgaXNBcHBlbmRQcmV2TXNnOiAnYXBwZW50UHJldk1zZycsXHJcbiAgICAgICAgICAgIHN0YXRlQ2ZnLFxyXG4gICAgICAgICAgICBjdXJyZW50VXNlckRhdGFcclxuICAgICAgICB9KTtcclxuICAgICAgICAvLyBzZXQgbmV3IGN1cnNvclxyXG4gICAgICAgIGlmIChuZXdDdXJzb3IpIHtcclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coJyoqJywgc2Nyb2xsTG9hZGVyU3RhdGUuY3Vyc29yKTtcclxuICAgICAgICAgICAgc2Nyb2xsTG9hZGVyU3RhdGUuY3Vyc29yID0gbmV3Q3Vyc29yO1xyXG4gICAgICAgICAgICAkbXNnTGlzdC5zY3JvbGxUb3AoJG1zZ0xpc3Quc2Nyb2xsVG9wKCkgKyAzMCk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgLy8gYWxsIG1zZyBsb2FkZWRcclxuICAgICAgICAgICAgc2Nyb2xsTG9hZGVyU3RhdGUuYWxsTXNnTG9hZGVkID0gdHJ1ZTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIC8vIHN0b3AgdXBkYXRlIGludGVydmFsXHJcbiAgICAgICAgaWYgKGludGVydmFsSWQpIHtcclxuICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChpbnRlcnZhbElkKTtcclxuICAgICAgICAgICAgY2JGbihuZXdDdXJzb3IpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gc2Nyb2xsSGFuZGxlcihzY3JvbGxEZWxheSwgcGFnaW5hdGlvbikge1xyXG4gICAgbGV0IHJlY2VudFNjcm9sbCA9IGZhbHNlO1xyXG4gICAgbGV0IG1ha2VSZXFPbmNlID0gdHJ1ZTtcclxuICAgIGN1cnNvciA9IChwYWdpbmF0aW9uICYmIHBhZ2luYXRpb24ucHJldl9jdXJzb3IpID8gcGFnaW5hdGlvbi5wcmV2X2N1cnNvciA6IG51bGw7XHJcbiAgICBmdW5jdGlvbiBjaGVja0lzT25jZShuZXdDdXJzb3IpIHtcclxuICAgICAgICBpZiAobmV3Q3Vyc29yICE9PSBjdXJzb3IpIHtcclxuICAgICAgICAgICAgY3Vyc29yID0gbmV3Q3Vyc29yO1xyXG4gICAgICAgICAgICBtYWtlUmVxT25jZSA9IHRydWU7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdwcmV2Q3Vyc29yJywgbmV3Q3Vyc29yKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgc2V0VGltZW91dCgoKSA9PiB7XHJcbiAgICAgICAgJG1zZ0xpc3Qub24oJ3Njcm9sbCcsIGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICBjb25zdCBzY3JvbGxUb3AgPSAkKHRoaXMpLnNjcm9sbFRvcCgpO1xyXG4gICAgICAgICAgICBpZiAoIXJlY2VudFNjcm9sbCkge1xyXG4gICAgICAgICAgICAgICAgaWYgKHNjcm9sbFRvcCArICQodGhpcykuaW5uZXJIZWlnaHQoKSA+PSB0aGlzLnNjcm9sbEhlaWdodCkge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vICRtZXNzYWdlcy50ZXh0KCdlbmQgcmVhY2hlZCcpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChzY3JvbGxUb3AgPD0gNDUpIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyAkbWVzc2FnZXMudGV4dCgnVG9wIHJlYWNoZWQnKTtcclxuICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZygncGFnaW5hdGlvbicpO1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChwYWdpbmF0aW9uICYmIG1ha2VSZXFPbmNlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1ha2VSZXFPbmNlID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkZFBhZ2luYXRpb24ocGFnaW5hdGlvbiwgY2hlY2tJc09uY2UpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZygnZ28nKTtcclxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAkKCcubWVzc2FnZXMtbGlzdC1ib3gnKS5maW5kKCcubG9hZC1tb3JlJykucmVtb3ZlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyAkbWVzc2FnZXMudGV4dCgnJyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZWNlbnRTY3JvbGwgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgd2luZG93LnNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIHJlY2VudFNjcm9sbCA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgfSwgNTApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9LCAoc2Nyb2xsRGVsYXkgKyAyMDApKTtcclxufVxyXG5cclxuZnVuY3Rpb24gZ2V0QW5kRmlsbENvbnZlcnNhdGlvbih7dXNlcm5hbWUsIGNvbnZlcnNhdGlvbklkLCB1c2VyYXZhdGFyfSwgaXNTY3JvbGxEb3duLCBpc0NsaWNrRnJvbVJlcXVlc3RDb25maXJtKSB7XHJcbiAgICBjb25zdCBUSU1FX1NDUk9MTCA9IDEwO1xyXG4gICAgVXNlckNvbnZlcnNhdGlvbi5nZXRNZXRhZGF0YURldGFpbENvbnZlcnNhdGlvbih0b2tlbiwge3VzZXJuYW1lLCBjb252ZXJzYXRpb25JZH0pLnRoZW4oKHJlc3VsdCkgPT4ge1xyXG4gICAgICAgIC8vIG1lc3NhZ2VzLWxpc3QgZnJvbSB1dGlsc1xyXG4gICAgICAgIGN1cnJlbnRVc2VyRGF0YS51c2VyYXZhdGFyID0gdXNlcmF2YXRhcjtcclxuICAgICAgICBjdXJyZW50VXNlckRhdGEudXNlcm5hbWUgPSB1c2VybmFtZTtcclxuICAgICAgICBmaWxsTWFzc2FnZXNMaXN0KHskbGlzdDogJG1zZ0xpc3QsIGRhdGFBcnJheTogcmVzdWx0LmRhdGEubWV0YS5tZXNzYWdlcywgc3RhdGVDZmcsIGN1cnJlbnRVc2VyRGF0YX0pO1xyXG4gICAgICAgICQoJyNtYWluQ2hhdFBhcnQnKS5yZW1vdmVDbGFzcygnZC1ub25lJyk7XHJcbiAgICAgICAgU3Bpbm5lci5yZW1vdmUoKTtcclxuICAgICAgICBpZiAoaXNDbGlja0Zyb21SZXF1ZXN0Q29uZmlybSkge1xyXG4gICAgICAgICAgICAvLyBjbGlja2VkIG9uIHJlcXVlc3RcclxuICAgICAgICAgICAgJCgnLmpzX3NlbmQtbWVzc2FnZS1ib3gnKS5hZGRDbGFzcygnZC1ub25lJyk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgLy8gY2xpY2tlZCBvbiBub3JtYWwgY29udmVyc2F0aW9uXHJcbiAgICAgICAgICAgICQoJy5qc19zZW5kLW1lc3NhZ2UtYm94JykucmVtb3ZlQ2xhc3MoJ2Qtbm9uZScpO1xyXG4gICAgICAgIH1cclxuICAgICAgICAkKCcubWVzc2FnZXMtbGlzdCcpLmF0dHIoJ2RhdGEtY29udmVyc2F0aW9uJywgSlNPTi5zdHJpbmdpZnkoe3VzZXJuYW1lLCBjb252ZXJzYXRpb25JZH0pKTtcclxuXHJcbiAgICAgICAgaWYgKGlzU2Nyb2xsRG93bikge1xyXG4gICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcclxuICAgICAgICAgICAgICAgICRtc2dMaXN0LmFuaW1hdGUoe1xyXG4gICAgICAgICAgICAgICAgICAgIHNjcm9sbFRvcDogJG1zZ0xpc3RbMF0uc2Nyb2xsSGVpZ2h0IC0gJG1zZ0xpc3RbMF0uY2xpZW50SGVpZ2h0XHJcbiAgICAgICAgICAgICAgICB9LCBUSU1FX1NDUk9MTCk7XHJcbiAgICAgICAgICAgIH0sIFRJTUVfU0NST0xMICogMik7XHJcbiAgICAgICAgICAgIC8vIHNhdmUgZmlyc3QgdmFsdWVcclxuICAgICAgICAgICAgaWYgKGZsYWdJbml0aWFsVmFsKSB7XHJcbiAgICAgICAgICAgICAgICBpbml0aWFsVmFsID0gcmVzdWx0LmRhdGEubWV0YS5tZXNzYWdlc1tyZXN1bHQuZGF0YS5tZXRhLm1lc3NhZ2VzLmxlbmd0aCAtIDFdO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coaW5pdGlhbFZhbCk7XHJcbiAgICAgICAgICAgICAgICBmbGFnSW5pdGlhbFZhbCA9IGZhbHNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBzY3JvbGxIYW5kbGVyKFRJTUVfU0NST0xMLCByZXN1bHQuZGF0YS5tZXRhLnBhZ2luYXRpb24pO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGltYWdlTG9hZFN1Ym1pdENiKGlucHV0LCB0b2tlbikge1xyXG4gICAgY29uc3QgdXNlckRhdGEgPSAkbXNnTGlzdC5kYXRhKCdjb252ZXJzYXRpb24nKTtcclxuICAgIGNvbnN0IHt1c2VybmFtZSwgY29udmVyc2F0aW9uSWR9ID0gdXNlckRhdGE7XHJcbiAgICBjb25zdCB1cmwgPSBgJHtDT05TVC5nZXRQYXRoKCdpbnN0YWdyYW1EaXJlY3RfQmFzaWMnKX0vJHt1c2VybmFtZX0vJHtjb252ZXJzYXRpb25JZH0vcGhvdG9gO1xyXG4gICAgY29uc3QgYWNjZXB0ZWRGaWxlID0gaW5wdXQuZmlsZXNbMF07XHJcbiAgICBjb25zb2xlLmxvZygnKipoYW5kbGVTdWJtaXRDYicpO1xyXG4gICAgY29uc3QgZm9ybURhdGEgPSBuZXcgRm9ybURhdGEoKTtcclxuICAgIGNvbnN0IHJlcXVlc3QgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcclxuXHJcbiAgICBTcGlubmVyLnN0YXJ0QnV0dG9uU3Bpbm5lcigkKCcuZmlsZS11cGxvYWQtYnRuJyksICdzcGlubmVyLWJveC0tc2VuZE1zZycpO1xyXG5cclxuICAgIGZvcm1EYXRhLmFwcGVuZCgncGhvdG8nLCBhY2NlcHRlZEZpbGUsIGFjY2VwdGVkRmlsZS5uYW1lKTtcclxuICAgIHJlcXVlc3Qub3BlbignUE9TVCcsIHVybCk7XHJcbiAgICAvLyByZXF1ZXN0LndpdGhDcmVkZW50aWFscyA9IHRydWU7XHJcbiAgICByZXF1ZXN0LnNldFJlcXVlc3RIZWFkZXIoJ3Rva2VuJywgdG9rZW4pO1xyXG4gICAgcmVxdWVzdC5zZXRSZXF1ZXN0SGVhZGVyKCdBY2NlcHQnLCAnYXBwbGljYXRpb24vanNvbicpO1xyXG4gICAgcmVxdWVzdC5zZXRSZXF1ZXN0SGVhZGVyKCdjYWNoZS1jb250cm9sJywgJ25vLWNhY2hlJyk7XHJcbiAgICByZXF1ZXN0LnNlbmQoZm9ybURhdGEpO1xyXG4gICAgcmVxdWVzdC5hZGRFdmVudExpc3RlbmVyKCdyZWFkeXN0YXRlY2hhbmdlJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGlmICh0aGlzLnJlYWR5U3RhdGUgPT09IDQpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coJ3RoaXMnLCB0aGlzLnJlc3BvbnNlVGV4dCwgdGhpcyk7XHJcbiAgICAgICAgICAgIGlucHV0LnZhbHVlID0gJyc7XHJcbiAgICAgICAgICAgIHdpbmRvdy5QdWJTdWIucHVibGlzaChDT05TVC5ldmVudHMuYXV0b2FybnN3ZXIuSU1BR0VfVVBMT0FERUQsIHsncmVzcG9uc2UnOiB0aGlzLnJlc3BvbnNlVGV4dCwgJ2VsJzogaW5wdXR9KTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gYWRkSGFuZGxlcnMoKSB7XHJcbiAgICBsZXQgY29udmVyc2F0aW9uSWQgPSAnJztcclxuICAgIGNvbnN0ICR0ZXh0QXJlYSA9ICQoJyNzZW5kTWVzc2FnZVRleHRBcmVhJyk7XHJcbiAgICAkdGV4dEFyZWEudmFsKCcnKTtcclxuXHJcbiAgICAkKCcjc2VuZE1lc3NhZ2VCdXR0b24nKS5vbignY2xpY2snLCAoZSkgPT4ge1xyXG4gICAgICAgIGNvbnN0IHZhbHVlID0gJHRleHRBcmVhLnZhbCgpO1xyXG4gICAgICAgIGNvbnN0IHVzZXJEYXRhID0gJG1zZ0xpc3QuZGF0YSgnY29udmVyc2F0aW9uJyk7XHJcbiAgICAgICAgY29uc3Qge3VzZXJuYW1lLCBjb252ZXJzYXRpb25JZCwgdXNlcmF2YXRhcn0gPSB1c2VyRGF0YTtcclxuICAgICAgICBTcGlubmVyLnN0YXJ0QnV0dG9uU3Bpbm5lcigkKGUudGFyZ2V0KSwgJ3NwaW5uZXItYm94LS1zZW5kTXNnJyk7XHJcbiAgICAgICAgVXNlckNvbnZlcnNhdGlvbi5wb3N0TWV0YWRhdGFEZXRhaWxDb252ZXJzYXRpb24odG9rZW4sIHt1c2VybmFtZSwgY29udmVyc2F0aW9uSWQsIHZhbHVlfSkudGhlbigocmVzdWx0KSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChyZXN1bHQgJiYgcmVzdWx0LnN0YXR1cyAmJiByZXN1bHQuc3RhdHVzLnN0YXRlID09PSAnb2snKSB7XHJcbiAgICAgICAgICAgICAgICBnZXRBbmRGaWxsQ29udmVyc2F0aW9uKHt1c2VybmFtZSwgY29udmVyc2F0aW9uSWQsIHVzZXJhdmF0YXJ9KTtcclxuICAgICAgICAgICAgICAgICR0ZXh0QXJlYS52YWwoJycpO1xyXG4gICAgICAgICAgICAgICAgU3Bpbm5lci5yZW1vdmUoKTtcclxuICAgICAgICAgICAgICAgIC8vIHdpbmRvdy5QdWJTdWIucHVibGlzaChDT05TVC5ldmVudHMubWVzc2FnZXMuUkVDSUVWRV9ORVdfTUVTU0FHRSwge3VzZXJuYW1lLCBjb252ZXJzYXRpb25JZCwgdmFsdWUsIHJlc3VsdH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICBtZXNzYWdlQXJlYUhlbmRsZXIoJHRleHRBcmVhLCAkKCcjc2VuZE1lc3NhZ2VCdXR0b24nKSk7XHJcblxyXG4gICAgZnVuY3Rpb24gdXNlclNob3dDb252ZXJzZXRpb25IYW5kbGVyKGUsIHVzZXJEYXRhKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ2NsaWNrJyk7XHJcbiAgICAgICAgY29uc3QgaXNDbGlja0Zyb21SZXF1ZXN0Q29uZmlybSA9IHVzZXJEYXRhO1xyXG4gICAgICAgIGxldCB1c2VyRGF0YUZyb21MaUdyb3VwID0gJyc7XHJcbiAgICAgICAgaWYgKGlzQ2xpY2tGcm9tUmVxdWVzdENvbmZpcm0pIHtcclxuICAgICAgICAgICAgJCgnLmpzX3NlbmQtbWVzc2FnZS1ib3gnKS5hZGRDbGFzcygnZC1ub25lJyk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgLy8gY2xpY2tlZCBvbiBub3JtYWwgY29udmVyc2F0aW9uXHJcbiAgICAgICAgICAgIHVzZXJEYXRhRnJvbUxpR3JvdXAgPSAkKGUudGFyZ2V0KS5jbG9zZXN0KCcubGlzdC1ncm91cC1pdGVtJykuZGF0YSgpO1xyXG4gICAgICAgICAgICAkKCcuY29uZmlybS1idXR0b25zLWJveCcpLmFkZENsYXNzKCdkLW5vbmUnKTtcclxuICAgICAgICAgICAgJCgnLmpzX3NlbmQtbWVzc2FnZS1ib3gnKS5yZW1vdmVDbGFzcygnZC1ub25lJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHt1c2VybmFtZSwgdXNlcmF2YXRhcn0gPSB1c2VyRGF0YSB8fCB1c2VyRGF0YUZyb21MaUdyb3VwO1xyXG4gICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICAgICAgY29uc3QgJHRhcmdldEJ0biA9ICQoZS50YXJnZXQpLmNsb3Nlc3QoJy5tZWRpYScpO1xyXG4gICAgICAgIGNvbnN0ICR0aXRsZSA9ICR0YXJnZXRCdG4uZmluZCgnLnRpdGxlJyk7XHJcbiAgICAgICAgY29udmVyc2F0aW9uSWQgPSAkdGFyZ2V0QnRuLmRhdGEoJ2NvbnZlcnNhdGlvbi1pZCcpO1xyXG4gICAgICAgIGlmICgkdGl0bGUuaGFzQ2xhc3MoJ2ZvbnQtd2VpZ2h0LWJvbGQnKSkge1xyXG4gICAgICAgICAgICAkdGl0bGUucmVtb3ZlQ2xhc3MoJ2ZvbnQtd2VpZ2h0LWJvbGQnKTtcclxuICAgICAgICAgICAgJHRhcmdldEJ0bi5maW5kKCcuc3VtbWFyeS1kb3QnKS5hZGRDbGFzcygnZC1ub25lJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFNwaW5uZXIucmVtb3ZlKCk7XHJcbiAgICAgICAgU3Bpbm5lci5hZGQoJCgnI21haW5DaGF0UGFydCcpLCAnbXktNSBweS01Jyk7XHJcbiAgICAgICAgZ2V0QW5kRmlsbENvbnZlcnNhdGlvbih7dXNlcm5hbWUsIGNvbnZlcnNhdGlvbklkLCB1c2VyYXZhdGFyfSwgJ2lzU2Nyb2xsRG93bicsIGlzQ2xpY2tGcm9tUmVxdWVzdENvbmZpcm0pO1xyXG4gICAgICAgIGZsYWdJbml0aWFsVmFsID0gdHJ1ZTsgLy8gcmVzZXQgZmlyc3QgdmFsdWUgZmxhZ1xyXG4gICAgICAgIC8vIHJlc2VuZCByZXF1ZXN0XHJcbiAgICAgICAgaWYgKGludGVydmFsSWQpIHtcclxuICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChpbnRlcnZhbElkKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaW50ZXJ2YWxJZCA9IHNldEludGVydmFsKCgpID0+IHtcclxuICAgICAgICAgICAgY29udmVyc2F0aW9uSWQgPSAkKGUudGFyZ2V0KS5jbG9zZXN0KCcubWVkaWEnKS5kYXRhKCdjb252ZXJzYXRpb24taWQnKTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coaW50ZXJ2YWxJZCwgY29udmVyc2F0aW9uSWQpO1xyXG4gICAgICAgICAgICBnZXRBbmRGaWxsQ29udmVyc2F0aW9uKHt1c2VybmFtZSwgY29udmVyc2F0aW9uSWQsIHVzZXJhdmF0YXJ9LCBmYWxzZSwgaXNDbGlja0Zyb21SZXF1ZXN0Q29uZmlybSk7XHJcbiAgICAgICAgfSwgdXBkYXRlSW50ZXJ2YWwpO1xyXG5cclxuICAgIH1cclxuXHJcbiAgICAkKGRvY3VtZW50KS5vbignY2xpY2snLCAnLmxpc3QtZ3JvdXAtaXRlbSAuY29sbGFwc2UnLCB1c2VyU2hvd0NvbnZlcnNldGlvbkhhbmRsZXIpO1xyXG4gICAgJChkb2N1bWVudCkub24oJ2NsaWNrJywgJy5qc19tZXNzYWdlcy1yZXF1ZXN0JywgZnVuY3Rpb24oZSkge1xyXG4gICAgICAgIGNvbnN0IHVzZXJEYXRhID0gJChlLnRhcmdldCkuY2xvc2VzdCgnLmxpc3QtZ3JvdXAtaXRlbScpLmRhdGEoKTtcclxuICAgICAgICB1c2VyU2hvd0NvbnZlcnNldGlvbkhhbmRsZXIoZSwgdXNlckRhdGEpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdhZGRDb25maWdCdXR0b25zJywgY29udmVyc2F0aW9uSWQpO1xyXG4gICAgICAgIGFkZENvbmZpcmdCdXR0b25zKGNvbnZlcnNhdGlvbklkLCB1c2VyRGF0YS51c2VybmFtZSk7XHJcbiAgICB9KTtcclxuXHJcbiAgICB3aW5kb3cuUHViU3ViLnN1YnNjcmliZShDT05TVC5ldmVudHMubWVzc2FnZXMuUkVDSUVWRV9ORVdfTUVTU0FHRSwgKGV2ZW50TmFtZSwgZGF0YSkgPT4ge1xyXG4gICAgICAgIGNvbnN0IHt1c2VybmFtZSwgY29udmVyc2F0aW9uSWQsIHZhbHVlLCByZXN1bHRGcm9tU2VydmVyfSA9IGRhdGE7XHJcbiAgICAgICAgY29uc3QgJGRpYWxvZyA9ICQoYC5tZXNzYWdlcy11c2VyLWxpc3QgLmxpc3QtZ3JvdXAtaXRlbVtkYXRhLXVzZXJuYW1lPVwiJHt1c2VybmFtZX1cIl0gZGl2W2RhdGEtY29udmVyc2F0aW9uLWlkPVwiJHtjb252ZXJzYXRpb25JZH1cIl1gKTtcclxuICAgICAgICBjb25zb2xlLmxvZygncmVzdWx0RnJvbVNlcnZlcjogJywgcmVzdWx0RnJvbVNlcnZlcik7XHJcbiAgICAgICAgJGRpYWxvZy5maW5kKCcuc3VtbWFyeScpLnRleHQodmFsdWUpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gc2VuZCBpbWFnZSB7aWdVc2VybmFtZX0ve2lkfS9waG90b1xyXG4gICAgaW1hZ2VVcGxvYWQuaW5pdChmYWxzZSwgaW1hZ2VMb2FkU3VibWl0Q2IpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaW5pdCgpIHtcclxuICAgIC8vIGNoZWNrIHdlIGFyZSBpbiBjb3JyZWN0IHBhZ2UgKG1lc3NhZ2VzKVxyXG4gICAgaWYgKCFpc0luTWVzc2FnZVBhZ2UoKSkge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBnZXRBbmRGaWxsVXNlckxpc3QoJ3NldEFjdGl2ZUZpcnN0Jyk7XHJcbiAgICBhZGRIYW5kbGVycygpO1xyXG4gICAgY29uc3QgY2ZnID0ge1xyXG4gICAgICAgIHVzZXJuYW1lOiAneW91cl9kaWV0YScsXHJcbiAgICAgICAgZmlsbFVzZXJMaXN0Rm46IGZpbGxVc2VyTGlzdFxyXG4gICAgfTtcclxuICAgIGluaXRSZXF1ZXN0cyhjZmcpO1xyXG59XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9ibG9ja3MvbWVzc2FnZXMvbWVzc2FnZXMuanMiLCJpbXBvcnQgVXNlckNvbnZlcnNhdGlvbiBmcm9tICcuLi8uLi9jb21tb24vanMtc2VydmljZXMvYXBpLXVzZXItZGlyZWN0JztcclxuaW1wb3J0IFVzZXIgZnJvbSAnLi4vLi4vY29tbW9uL2pzLXNlcnZpY2VzL3VzZXInO1xyXG5cclxuLypcclxuRW5kcG9pbnQg0L3QsCDQv9C+0LvRg9GH0LXQvdC40LUg0LfQsNC/0YDQvtGB0L7QsjogR0VUIGh0dHA6Ly9hcGkubHV4Z3JhbS5ydS92MS9pbnN0YWdyYW0tZGlyZWN0L3BlbmRpbmcve3VzZXJuYW1lfVxyXG7QrdGC0L4g0LXQvdC00L/QvtC40L3RgiDQtNC+0LvQttC10L0g0LHRi9GC0Ywg0LLRi9C30LLQsNC9INGC0L7Qu9GM0LrQviDQv9GA0Lgg0L3QsNC20LDRgtC40Lgg0L3QsCDRgtC10LrRgdGCINGBINC60L7Qu9C40YfQtdGB0YLQstC+0Lwg0LfQsNC/0YDQvtGB0L7Qsi5cclxuKi9cclxuLy8gY29uc3QgY2ZnVCA9IHtcclxuLy8gICAgIHVzZXJuYW1lOiAneW91cl9kaWV0YScsXHJcbi8vICAgICBnZXRBbmRGaWxsVXNlckxpc3RGbjogJ2dldEFuZEZpbGxVc2VyTGlzdF9GdW5jdGlvbidcclxuLy8gfTtcclxuY29uc3QgY29uZmlybVVzZXJEYXRhID0ge307XHJcbmV4cG9ydCBjb25zdCBhZGRDb25maXJnQnV0dG9ucyA9IChjb252ZXJzYXRpb25JZCwgdXNlcm5hbWUpID0+IHtcclxuICAgIGNvbnNvbGUubG9nKCdhZGRDb25maXJnQnV0dG9ucyBwcm9jZWVkJywgdXNlcm5hbWUsIGNvbnZlcnNhdGlvbklkKTtcclxuICAgIGNvbnN0ICRjb25maXJtQnRuQm94ID0gJCgnLmpzX3JlcXVlc3QtY29uZmlybS1ib3gnKTtcclxuICAgICRjb25maXJtQnRuQm94LnJlbW92ZUNsYXNzKCdkLW5vbmUnKTtcclxuICAgIGNvbmZpcm1Vc2VyRGF0YS51c2VybmFtZSA9IHVzZXJuYW1lO1xyXG4gICAgY29uZmlybVVzZXJEYXRhLmNvbnZlcnNhdGlvbklkID0gY29udmVyc2F0aW9uSWQ7XHJcbn07XHJcbmNvbnN0IGNvbnZlcnNhdGlvbkRldGFpbCA9IGZ1bmN0aW9uKGl0ZW1zKSB7XHJcbiAgICBsZXQgdHBsID0gJyc7XHJcbiAgICBpdGVtcy5mb3JFYWNoKChpdGVtKSA9PiB7XHJcbiAgICAgICAgY29uc3Qge3Byb2ZpbGVQaWNVcmw6IHNyY0ltZ30gPSBpdGVtO1xyXG4gICAgICAgIGlmIChpdGVtcy5sZW5ndGggPiAxKSB7XHJcbiAgICAgICAgICAgIHRwbCArPSBgPGltZyBzcmM9XCIke3NyY0ltZ31cIiBhbHQ9J2ltYWdlJyBjbGFzcz1cIm1lZGlhLXBob3RvIG1yLTEgbWVkaWEtcGhvdG8tLWdyb3VwXCIgc3R5bGU9XCJ3aWR0aDogMjRweDtcIj5gO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIHRwbCArPSBgPGltZyBzcmM9XCIke3NyY0ltZ31cIiBhbHQ9J2ltYWdlJyBjbGFzcz1cIm1lZGlhLXBob3RvIG1yLTFcIiBzdHlsZT1cIndpZHRoOiAyNHB4O1wiPmA7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gdHBsO1xyXG59O1xyXG5cclxuY29uc3QgYWRkQ29udmVyc2F0aW9ucyA9IGZ1bmN0aW9uKGNvbnZlcnNhdGlvbnMpIHtcclxuICAgIGxldCB0cGwgPSAnJztcclxuICAgIGNvbnZlcnNhdGlvbnMuZm9yRWFjaCgoaXRlbSkgPT4ge1xyXG4gICAgICAgIGNvbnN0IHt1c2VycywgaWQsIHRpdGxlfSA9IGl0ZW07XHJcbiAgICAgICAgLy8gY29uc3QgaXNVbnJlYWQgPSBpdGVtWydpc191bnJlYWQnXTtcclxuICAgICAgICAvLyBjb25zdCBsYXN0TWVzc2FnZSA9IGl0ZW1bJ2xhc3RNZXNzYWdlJ107XHJcbiAgICAgICAgLy8gY29uc3QgaXNMYXN0TXNnID0gbGFzdE1lc3NhZ2UgJiYgKHBhcnNlSW50KGxhc3RNZXNzYWdlLmxlbmd0aCwgMTApKTtcclxuICAgICAgICAvLyBjb25zdCBpc0FkZERvdCA9IGlzTGFzdE1zZyA+IDAgJiYgdXNlcnMubGVuZ3RoID4gMSAmJiBpc1VucmVhZDtcclxuICAgICAgICB0cGwgKz0gYFxyXG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1lZGlhIHAtMSBqc19tZXNzYWdlcy1yZXF1ZXN0IG1lc3NhZ2VzLXJlcXVlc3RcIiBkYXRhLWNvbnZlcnNhdGlvbi1pZD1cIiR7aWR9XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgJHtjb252ZXJzYXRpb25EZXRhaWwodXNlcnMpfVxyXG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtZWRpYS1ib2R5XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxoNSBjbGFzcz1cInRpdGxlXCI+JHt0aXRsZX08L2g1PlxyXG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIGA7XHJcbiAgICB9KTtcclxuICAgIHJldHVybiB0cGw7XHJcbn07XHJcblxyXG5jb25zdCBnZXRSZXF1ZXN0UGVuZGluZyA9IGZ1bmN0aW9uKHVzZXJuYW1lLCBlbElkKSB7XHJcbiAgICAvLyBjb25zdCB1c2VybmFtZSA9ICd5b3VyX2RpZXRhJztcclxuICAgIFVzZXJDb252ZXJzYXRpb24uZ2V0UmVxdWVzdFBlbmRpbmcodXNlcm5hbWUpLnRoZW4oKHJlc3VsdCkgPT4ge1xyXG4gICAgICAgIGNvbnN0IHtkYXRhOiB7cmVxdWVzdHN9fSA9IHJlc3VsdDtcclxuICAgICAgICBjb25zb2xlLmxvZygncmVzdWx0JywgcmVxdWVzdHMpO1xyXG4gICAgICAgIGNvbnN0IHRwbCA9IGFkZENvbnZlcnNhdGlvbnMocmVxdWVzdHMsIGVsSWQpO1xyXG4gICAgICAgICQodHBsKS5hcHBlbmRUbygkKGAjJHtlbElkfWApKTtcclxuICAgIH0pO1xyXG59O1xyXG5cclxuZnVuY3Rpb24gZmlsbFVzZXJMaXN0KCRsaXN0LCBkYXRhQXJyYXksIGxvYWRNb3JlQ2JGdW5jdGlvbikge1xyXG4gICAgY29uc3QgaXRlbXMgPSBkYXRhQXJyYXk7XHJcbiAgICBjb25zdCBjTGlzdCA9ICRsaXN0O1xyXG4gICAgbGV0IHRwbCA9ICcnO1xyXG4gICAgLy8gY29uc3QgbG9hZE1vcmVCb3ggPSAoaWR4LCBwcmV2X2N1cnNvcikgPT4gYDxkaXYgY2xhc3M9XCJsaXN0LWZvb3RlciB0ZXh0LWNlbnRlciBqc19sb2FkLW1vcmUtYm94XCIgZGF0YS1pZHg9XCIke2lkeH1cIiBkYXRhLWN1cnNvcj1cIiR7cHJldl9jdXJzb3J9XCI+XHJcbiAgICAvLyAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3M9XCJidG4gYnRuLW91dGxpbmUtc2Vjb25kYXJ5IGJ0bi1zbSBidG4tc3VibWl0XCI+0JfQsNCz0YDRg9C30LjRgtGMINC10YnQtTwvYnV0dG9uPlxyXG4gICAgLy8gPC9kaXY+YDtcclxuICAgIGNMaXN0LmVtcHR5KCkuYWRkQ2xhc3MoJ2JvcmRlci1saWdodC1jb2xvcicpO1xyXG4gICAgLy8gdG9kbzogZml4IGhhcmQtY29kZSAgaW1nIHNyYz1cImh0dHBzOi8vaS5pbWd1ci5jb20vak5OVDRMRS5wbmdcIlxyXG4gICAgaXRlbXMuZm9yRWFjaCgoaXRlbSwgaWR4KSA9PiB7XHJcbiAgICAgICAgLy8gY29uc3Qge3BhZ2luYXRpb259ID0gaXRlbTtcclxuICAgICAgICBjb25zdCBlbElkID0gYGNvbGxhcHNlLXJlcS0ke2lkeH1gO1xyXG4gICAgICAgIC8vIGNvbnN0IHtjb252ZXJzYXRpb25zfSA9IGl0ZW07XHJcbiAgICAgICAgY29uc29sZS5sb2coaXRlbS5wZW5kaW5nX3JlcXVlc3RzKTtcclxuICAgICAgICBpZiAoaXRlbS5wZW5kaW5nX3JlcXVlc3RzKSB7XHJcbiAgICAgICAgICAgIGdldFJlcXVlc3RQZW5kaW5nKGl0ZW0udXNlcm5hbWUsIGVsSWQpO1xyXG4gICAgICAgICAgICB0cGwgKz0gYDxsaSBjbGFzcz1cImxpc3QtZ3JvdXAtaXRlbVwiIGRhdGEtdG9nZ2xlPVwiY29sbGFwc2VcIiBkYXRhLXRhcmdldD1cIiMke2VsSWR9XCIgXHJcbiAgICAgICAgICAgICAgICBkYXRhLXVzZXJuYW1lPVwiJHtpdGVtLnVzZXJuYW1lfVwiXHJcbiAgICAgICAgICAgICAgICBkYXRhLXVzZXJBdmF0YXI9XCIke2l0ZW0ucHJvZmlsZV9waWNfdXJsfVwiXHJcbiAgICAgICAgICAgICAgICBhcmlhLWV4cGFuZGVkPVwidHJ1ZVwiIGFyaWEtY29udHJvbHM9XCJjb2xsYXBzZS0ke2lkeH1cIj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbnZlcnNhdGlvbi1oZWFkIG1iLTEgbWVkaWEgcGItMlwiIGlkPVwiaGVhZGluZy0ke2lkeH1cIj5cclxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwibXItM1wiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxpbWcgc3JjPVwiJHtpdGVtLnByb2ZpbGVfcGljX3VybH1cIiBhbHQ9XCJhdmF0YXJcIlxyXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzPVwibWVkaWEtcGhvdG8gcm91bmRlZC1jaXJjbGVcIj5cclxuICAgICAgICAgICAgICAgIDwvc3Bhbj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtZWRpYS1ib2R5XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGg0IGNsYXNzPVwidGl0bGVcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgJHtpdGVtLnVzZXJuYW1lfVxyXG4gICAgICAgICAgICAgICAgICAgIDwvaDQ+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgIDxkaXYgaWQ9XCIke2VsSWR9XCIgY2xhc3M9XCJjb2xsYXBzZVwiIGFyaWEtbGFiZWxsZWRieT1cImhlYWRpbmctJHtpZHh9XCIgZGF0YS1wYXJlbnQ9XCIjYWNjb3JkaW9uLXJlcXVlc3RzXCI+XHJcbiAgICAgICAgICAgICAgICA8IS0tIGdldFJlcXVlc3RQZW5kaW5nKGl0ZW0udXNlcm5hbWUsIGVsSWQpIC0tPlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPCEtLSB7KHBhZ2luYXRpb24gJiYgcGFnaW5hdGlvbi5wcmV2X2N1cnNvcikgPyAnbG9hZE1vcmVCb3goaWR4LCBwYWdpbmF0aW9uLnByZXZfY3Vyc29yKScgOiAnJ30gLS0+XHJcbiAgICAgICAgPC9saT5gO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgJCh0cGwpLmFwcGVuZFRvKGNMaXN0KTtcclxuXHJcbiAgICAvLyAkKCcuanNfbG9hZC1tb3JlLWJveCBidXR0b24nKS5vbignY2xpY2snLCAoZSkgPT4ge1xyXG4gICAgLy8gICAgIGNvbnN0ICRidG4gPSAkKGUudGFyZ2V0KTtcclxuICAgIC8vICAgICBjb25zdCAkYnRuQm94ID0gJGJ0bi5jbG9zZXN0KCcuanNfbG9hZC1tb3JlLWJveCcpO1xyXG4gICAgLy8gICAgIGNvbnN0IHNlY3Rpb24gPSAkYnRuQm94LmRhdGEoJ2lkeCcpO1xyXG4gICAgLy8gICAgIGNvbnN0IGN1cnNvciA9ICRidG5Cb3guZGF0YSgnY3Vyc29yJyk7XHJcbiAgICAvLyAgICAgY29uc3QgdXNlcm5hbWUgPSAkYnRuQm94LmNsb3Nlc3QoJ2xpJykuZGF0YSgndXNlcm5hbWUnKTtcclxuXHJcbiAgICAvLyAgICAgY29uc29sZS5sb2coJ2NsaWNrJywgc2VjdGlvbiwgY3Vyc29yKTtcclxuICAgIC8vICAgICBsb2FkTW9yZUNiRnVuY3Rpb24oY3Vyc29yLCBzZWN0aW9uLCB1c2VybmFtZSk7XHJcbiAgICAvLyAgICAgZS5zdG9wUHJvcGFnYXRpb24oKTtcclxuICAgIC8vIH0pO1xyXG59XHJcblxyXG5jb25zdCB0b2tlbiA9IFVzZXIuZ2V0VG9rZW4oKTtcclxuZnVuY3Rpb24gZ2V0QW5kRmlsbFVzZXJMaXN0KGlzQWN0aXZlRmlyc3QsIHVzZXJMaXN0KSB7XHJcbiAgICBjb25zdCAkdXNlckxpc3QgPSB1c2VyTGlzdCB8fCAkKCcubWVzc2FnZXMtdXNlci1saXN0Jyk7XHJcbiAgICBsZXQgcHJldkFjdGl2ZURpYWxvZ0lkID0gJyc7XHJcbiAgICBpZiAoIWlzQWN0aXZlRmlyc3QpIHtcclxuICAgICAgICBwcmV2QWN0aXZlRGlhbG9nSWQgPSAkdXNlckxpc3QuZmluZCgnbGkgLmNvbGxhcHNlLnNob3cnKS5hdHRyKCdpZCcpO1xyXG4gICAgfVxyXG5cclxuICAgIFVzZXJDb252ZXJzYXRpb24uZ2V0TWV0YWRhdGEodG9rZW4pLnRoZW4oKHJlc3VsdCkgPT4ge1xyXG4gICAgICAgIGlmICghcmVzdWx0LmRhdGEpIHtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb25zdCB7ZGF0YX0gPSByZXN1bHQ7XHJcbiAgICAgICAgZGF0YS5tZXRhLnNvcnQoKGEsIGIpID0+IGFbJ3VzZXJuYW1lJ10ubG9jYWxlQ29tcGFyZShiWyd1c2VybmFtZSddKSk7XHJcbiAgICAgICAgLy8gbWVzc2FnZXMtdXNlci1saXN0IGZyb20gdXRpbHMuanNcclxuICAgICAgICBmaWxsVXNlckxpc3QoJHVzZXJMaXN0LCBkYXRhLm1ldGEgLyogZ2V0QW5kRmlsbFVzZXJMaXN0Q3Vyc29yKi8pO1xyXG4gICAgICAgIC8vIGlmIChkYXRhLnNldHRpbmdzICYmIGRhdGEuc2V0dGluZ3MuaW52b2tlX2luX21pbGxpcykge1xyXG4gICAgICAgIC8vICAgICB1cGRhdGVJbnRlcnZhbCA9IGRhdGEuc2V0dGluZ3MuaW52b2tlX2luX21pbGxpcztcclxuICAgICAgICAvLyAgICAgdXBkYXRlSW50ZXJ2YWwgPSAodXBkYXRlSW50ZXJ2YWwgPiA2MDAwKSA/IHVwZGF0ZUludGVydmFsIDogMTAwMDA7XHJcbiAgICAgICAgLy8gfVxyXG4gICAgICAgIGlmIChpc0FjdGl2ZUZpcnN0KSB7XHJcbiAgICAgICAgICAgICR1c2VyTGlzdC5maW5kKCdsaTpmaXJzdC1jaGlsZCAuY29sbGFwc2UnKS5hZGRDbGFzcygnc2hvdycpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICQoYCMke3ByZXZBY3RpdmVEaWFsb2dJZH1gKS5hZGRDbGFzcygnc2hvdycpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgLy8gZG8gaXQgb25jZVxyXG4gICAgICAgIC8vIGlmICghaXNUaW1lT3V0UnVubmVkKSB7XHJcbiAgICAgICAgLy8gICAgIGludGVydmFsVXNlckxpc3QgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XHJcbiAgICAgICAgLy8gICAgICAgICBjb25zb2xlLmxvZygnc2V0SW50ZXJ2YWwnKTtcclxuICAgICAgICAvLyAgICAgICAgIGdldEFuZEZpbGxVc2VyTGlzdCgpO1xyXG4gICAgICAgIC8vICAgICB9LCB1cGRhdGVJbnRlcnZhbCk7XHJcbiAgICAgICAgLy8gICAgIGlzVGltZU91dFJ1bm5lZCA9IHRydWU7XHJcbiAgICAgICAgLy8gfVxyXG4gICAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGluaXRIYW5kbGVycygpIHtcclxuICAgIGNvbnN0ICRjb25maXJtQnRuQm94ID0gJCgnLmpzX3JlcXVlc3QtY29uZmlybS1ib3gnKTtcclxuICAgIGNvbnN0ICRyZXFDb25maXJtQnRuID0gJCgnLmpzX3JlcXVlc3QtY29uZmlybScsICRjb25maXJtQnRuQm94KTtcclxuICAgIGNvbnN0ICRyZXFSZWplY3RCdG4gPSAkKCcuanNfcmVxdWVzdC1yZWplY3QnLCAkY29uZmlybUJ0bkJveCk7XHJcblxyXG4gICAgJHJlcUNvbmZpcm1CdG4ub24oJ2NsaWNrJywgKGUpID0+IHtcclxuICAgICAgICAvLyBQVVQgaHR0cDovL2FwaS5sdXhncmFtLnJ1L3YxL2luc3RhZ3JhbS1kaXJlY3QvcGVuZGluZy97dXNlcm5hbWV9L3tpZH1cclxuICAgICAgICBVc2VyQ29udmVyc2F0aW9uLnB1dFJlcXVlc3RQZW5kaW5nKGNvbmZpcm1Vc2VyRGF0YSkudGhlbigocmVzdWx0KSA9PiB7XHJcbiAgICAgICAgICAgIGlmIChyZXN1bHQuc3RhdHVzLnN0YXRlID09PSAnb2snKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmluZm8oJ3Jlc3VsdDogJywgcmVzdWx0KTtcclxuICAgICAgICAgICAgICAgICRjb25maXJtQnRuQm94LmFkZENsYXNzKCdkLW5vbmUnKTtcclxuICAgICAgICAgICAgICAgICQoJy5qc19zaG93LW1lc3NhZ2VzLXVzZXItbGlzdCcpLnRyaWdnZXIoJ2NsaWNrJyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH0pO1xyXG4gICAgJHJlcVJlamVjdEJ0bi5vbignY2xpY2snLCAoZSkgPT4ge1xyXG4gICAgICAgIFVzZXJDb252ZXJzYXRpb24uZGVsUmVxdWVzdFBlbmRpbmcoY29uZmlybVVzZXJEYXRhKS50aGVuKChyZXN1bHQpID0+IHtcclxuICAgICAgICAgICAgaWYgKHJlc3VsdC5zdGF0dXMuc3RhdGUgPT09ICdvaycpIHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUuaW5mbygncmVzdWx0OiAnLCByZXN1bHQpO1xyXG4gICAgICAgICAgICAgICAgJGNvbmZpcm1CdG5Cb3guYWRkQ2xhc3MoJ2Qtbm9uZScpO1xyXG4gICAgICAgICAgICAgICAgJCgnLmpzX3Nob3ctbWVzc2FnZXMtdXNlci1saXN0JykudHJpZ2dlcignY2xpY2snKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfSk7XHJcblxyXG4gICAgY29uc3QgJHNob3dVc2VyTGlzdCA9ICQoJy5qc19zaG93LW1lc3NhZ2VzLXVzZXItbGlzdCcpO1xyXG4gICAgJHNob3dVc2VyTGlzdC5vbignY2xpY2snLCAoZSkgPT4ge1xyXG4gICAgICAgICQoZS50YXJnZXQpLmNsb3Nlc3QoJy51c2VyLXJlcXVlc3RzLWJveCcpLnJlbW92ZUNsYXNzKCd1c2VyLXJlcXVlc3RzLWJveC0tc2hvdycpO1xyXG4gICAgICAgICQoJy51c2VyLWxpc3QtYm94JykucmVtb3ZlQ2xhc3MoJ3VzZXItbGlzdC1ib3gtLWhpZGUnKTtcclxuICAgICAgICAkKCcjbWFpbkNoYXRQYXJ0JykuYWRkQ2xhc3MoJ2Qtbm9uZScpO1xyXG4gICAgfSk7XHJcbn1cclxuZXhwb3J0IGZ1bmN0aW9uIGluaXRSZXF1ZXN0cyhjZmcpIHtcclxuICAgIGNvbnN0ICRsaXN0ID0gJCgnLm1lc3NhZ2VzLXJlcXVlc3RzLWxpc3QnKTtcclxuICAgIGdldEFuZEZpbGxVc2VyTGlzdCgnc2V0QWN0aXZlRmlyc3QnLCAkbGlzdCk7XHJcbiAgICBpbml0SGFuZGxlcnMoKTtcclxufVxyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvYmxvY2tzL21lc3NhZ2VzL3JlcXVlc3RzLmpzIiwiaW1wb3J0IHZpZXdVdGlscyBmcm9tICcuLi8uLi9jb21tb24vanMtc2VydmljZXMvdmlldyc7XHJcbi8vIGltcG9ydCBVc2VyQ29udmVyc2F0aW9uIGZyb20gJy4uLy4uL2NvbW1vbi9qcy1zZXJ2aWNlcy9hcGktdXNlci1kaXJlY3QnO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGNsZWFyTWFzc2FnZXNMaXN0KCRsaXN0LCBzdGF0ZUNmZykge1xyXG4gICAgc3RhdGVDZmcucGFnZUluY3JlbWVudCA9IDA7XHJcbiAgICAkbGlzdC5lbXB0eSgpO1xyXG59XHJcbmV4cG9ydCBmdW5jdGlvbiBmaWxsTWFzc2FnZXNMaXN0KHskbGlzdCwgZGF0YUFycmF5LCBpc0FwcGVuZFByZXZNc2csIHN0YXRlQ2ZnLCBjdXJyZW50VXNlckRhdGF9KSB7XHJcbiAgICBjb25zdCBpdGVtcyA9IGRhdGFBcnJheTtcclxuICAgIGNvbnN0IGNMaXN0ID0gJGxpc3Q7XHJcbiAgICAvLyBjb25zdCBsaXN0RGF0YUNvbnZlcnNhdGlvbiA9ICQoJy5tZXNzYWdlcy1saXN0JykuYXR0cignZGF0YS1jb252ZXJzYXRpb24nKTtcclxuICAgIC8vIGNvbnN0IGN1cnJlbnRVc2VybmFtZSA9IEpTT04ucGFyc2UobGlzdERhdGFDb252ZXJzYXRpb24pO1xyXG4gICAgY29uc3QgaW5zZXJ0TXNnID0gKHZhbHVlLCBtZXNzYWdlLCBjc3NDbHMpID0+IHtcclxuICAgICAgICBsZXQgc3RyID0gJyc7XHJcbiAgICAgICAgbGV0IHZhbHVlV2l0aFVybCA9ICcnO1xyXG4gICAgICAgIGNvbnN0IHt0eXBlLCAvKiB1c2VybmFtZSwgcHJvZmlsZV9waWNfdXJsLCAqLyBjYXB0aW9ufSA9IG1lc3NhZ2U7XHJcbiAgICAgICAgLy8gY29uc3QgdXNlckhlYWRlciA9IHt1c2VybmFtZSwgcHJvZmlsZV9waWNfdXJsfTtcclxuICAgICAgICAvLyBpZiAoY3NzQ2xzID09PSAndGV4dC1yaWdodCcpIHtcclxuICAgICAgICAvLyAgICAgdXNlckhlYWRlci51c2VybmFtZSA9IGN1cnJlbnRVc2VyRGF0YS51c2VybmFtZTtcclxuICAgICAgICAvLyAgICAgdXNlckhlYWRlci5wcm9maWxlX3BpY191cmwgPSBjdXJyZW50VXNlckRhdGEudXNlcmF2YXRhcjtcclxuICAgICAgICAvLyB9XHJcbiAgICAgICAgaWYgKHR5cGUgPT09ICdURVhUJykge1xyXG4gICAgICAgICAgICAvLyBlc2xpbnQtZGlzYWJsZS1uZXh0LWxpbmUgbm8tdXNlbGVzcy1lc2NhcGVcclxuICAgICAgICAgICAgY29uc3QgcmVnZXggPSAvWyhodHRwKHMpPyk6XFwvXFwvKHd3d1xcLik/YS16QS1aMC05QDolLl9cXCt+Iz1dezIsMjU2fVxcLlthLXpdezIsNn1cXGIoWy1hLXpBLVowLTlAOiVfXFwrLn4jPyYvLz1dKikvZ207XHJcbiAgICAgICAgICAgIGNvbnN0IHN1YnN0ID0gJzxhIGhyZWY9JCYgdGFyZ2V0PVwiX2JsYW5rXCI+JCY8L2E+JztcclxuICAgICAgICAgICAgdmFsdWVXaXRoVXJsID0gdmFsdWUucmVwbGFjZShyZWdleCwgc3Vic3QpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBzd2l0Y2ggKHR5cGUudG9Mb3dlckNhc2UoKSkge1xyXG4gICAgICAgICAgICBjYXNlICdwaG90byc6XHJcbiAgICAgICAgICAgICAgICBzdHIgPSBgPGRpdiBjbGFzcz1cImNoYXQtaW1nXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGltZyBzcmM9XCIke3ZhbHVlfVwiIGFsdD1cIkNvbnRlbnQgSW1hZ2VcIiBjbGFzcz1cImNvbnRlbnQtaW1hZ2VcIj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PmA7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAndmlkZW8nOlxyXG4gICAgICAgICAgICAgICAgc3RyID0gYDxkaXYgY2xhc3M9XCJjaGF0LXZpZGVvXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGEgdGFyZ2V0PVwiX2JsYW5rXCIgaHJlZj1cIiR7dmFsdWV9XCIgY2xhc3M9XCJwb3NpdGlvbi1yZWxhdGl2ZVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz1cImZhLTN4IGZhLXBsYXktY2lyY2xlIGZhciBwb3NpdGlvbi1hYnNvbHV0ZSB0ZXh0LXdoaXRlIGNoYXQtdmlkZW8tLWljb25cIj48L2k+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxpbWcgc3JjPVwiJHttZXNzYWdlLnByZXZpZXdfdmFsdWV9XCIgYWx0PVwiQ29udGVudCBJbWFnZVwiIGNsYXNzPVwiY2hhdC12aWRlby0taW1hZ2VcIj5cclxuICAgICAgICAgICAgICAgICAgICA8L2E+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5gO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgJ2dpZic6XHJcbiAgICAgICAgICAgICAgICBzdHIgPSBgPGRpdiBjbGFzcz1cImNoYXQtaW1nXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGltZyBzcmM9XCIke3ZhbHVlfVwiIGFsdD1cIkNvbnRlbnQgSW1hZ2VcIiBjbGFzcz1cImNvbnRlbnQtaW1hZ2VcIj5cclxuICAgICAgICAgICAgICAgIDwvZGl2PmA7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAnbGlrZSc6XHJcbiAgICAgICAgICAgICAgICBzdHIgPSBgPGRpdiBjbGFzcz1cImNoYXQtdGV4dCAke2Nzc0Nsc31cIiA+JHt2YWx1ZX08L2Rpdj5gO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgJ3Bvc3QnOlxyXG4gICAgICAgICAgICAgICAgc3RyID0gYDxkaXYgY2xhc3M9XCJjaGF0LXBvc3QtbWVzc2FnZVwiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxhIHRhcmdldD1cIl9ibGFua1wiIGhyZWY9XCIke3ZhbHVlfVwiIGNsYXNzPVwidGV4dC1ib2R5IHRleHQtZGVjb3JhdGlvbi1ub25lXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjaGF0LXBvc3QtbWVzc2FnZS0taGVhZGVyXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW1nIHNyYz1cIiR7bWVzc2FnZS5wcm9maWxlX3BpY191cmx9XCIgYWx0PVwiQ29udGVudCBJbWFnZVwiIGNsYXNzPVwidXNlci1hdmF0YXIgbXItM1wiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJHttZXNzYWdlLnVzZXJuYW1lfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9XCJmYXMgZmEtY2hldnJvbi1yaWdodFwiPjwvaT5cclxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDxpbWcgc3JjPVwiJHttZXNzYWdlLnByZXZpZXdfdmFsdWV9XCIgYWx0PVwiQ29udGVudCBJbWFnZVwiIGNsYXNzPVwiY29udGVudC1pbWFnZVwiPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkeyhjYXB0aW9uKSA/IGA8cCBjbGFzcz1cImNoYXQtcG9zdC1jYXB0aW9uIG0tM1wiPiR7Y2FwdGlvbn08cD5gIDogJyd9XHJcbiAgICAgICAgICAgICAgICAgICAgPC9hPlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+YDtcclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICd0ZXh0JzpcclxuICAgICAgICAgICAgICAgIHN0ciA9IGA8ZGl2IGNsYXNzPVwiY2hhdC10ZXh0ICR7Y3NzQ2xzfVwiID4ke3ZhbHVlV2l0aFVybH08L2Rpdj5gO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGRlZmF1bHQ6IHN0ciA9IGA8ZGl2IGNsYXNzPVwiY2hhdC10ZXh0ICR7Y3NzQ2xzfVwiID4ke3ZhbHVlfTwvZGl2PmA7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHJldHVybiBzdHI7XHJcbiAgICB9O1xyXG4gICAgY29uc3QgYWRkVG9MaXN0ID0gKGlzQXBwZW5kUHJldk1zZywgJGxpLCAkbGlzdCkgPT4ge1xyXG4gICAgICAgIGlmIChpc0FwcGVuZFByZXZNc2cpIHtcclxuICAgICAgICAgICAgJGxpLmluc2VydEJlZm9yZSgkbGlzdC5maW5kKCdsaTpmaXJzdC1jaGlsZCcpKTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICAkbGkuYXBwZW5kVG8oJGxpc3QpO1xyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICBpZiAoaXNBcHBlbmRQcmV2TXNnKSB7XHJcbiAgICAgICAgLy8gY29uc29sZS5sb2coJ2lzQXBwZW50UHJldk1zZyB0bycsIGNMaXN0KTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgICAgY0xpc3QuZW1wdHkoKS5hZGRDbGFzcygnYm9yZGVyLWxpZ2h0LWNvbG9yJyk7XHJcbiAgICAgICAgY2xlYXJNYXNzYWdlc0xpc3QoY0xpc3QsIHN0YXRlQ2ZnKTtcclxuICAgICAgICAvLyBhZGQgbWFyZ2luLWF1dG8gdG8gbWFrZSBtYXNzZWdlcyBvbiBib3R0b21cclxuICAgICAgICAkKCc8bGkgY2xhc3M9XCJtdC1hdXRvXCI+PC9saT4nKS5hcHBlbmRUbyhjTGlzdCk7XHJcbiAgICB9XHJcbiAgICBpdGVtcy5mb3JFYWNoKChpdGVtKSA9PiB7XHJcbiAgICAgICAgY29uc3QgbWVzc2FnZSA9IGl0ZW07XHJcbiAgICAgICAgY29uc3QgdmFsdWUgPSBtZXNzYWdlLnZhbHVlLnJlcGxhY2UoLyg/OlxcclxcbnxcXHJ8XFxuKS9nLCAnPGJyIC8+Jyk7XHJcbiAgICAgICAgLy8gY29uc3QgdmFsdWUgPSBtZXNzYWdlLnZhbHVlO1xyXG5cclxuICAgICAgICBpZiAobWVzc2FnZS5zaWRlLnRvTG93ZXJDYXNlKCkgPT09ICdsZWZ0Jykge1xyXG4gICAgICAgICAgICBjb25zdCAkbGkgPSAkKGA8bGkgY2xhc3M9XCJjaGF0LWl0ZW0gY2hhdC1pdGVtLWxlZnQgY29sIGZsZXgtY29sdW1uLXJldmVyc2VcIiB2YWx1ZT1cIiR7bWVzc2FnZS52YWx1ZX1cIj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkLWZsZXhcIj5cclxuICAgICAgICAgICAgICAgICR7KG1lc3NhZ2VbJ3Byb2ZpbGVfcGljX3VybCddKVxyXG4gICAgICAgICAgICAgICAgPyBgPGRpdiBjbGFzcz1cImNoYXQtaW1nLWJveFwiPiBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbWcgc3JjPVwiJHttZXNzYWdlWydwcm9maWxlX3BpY191cmwnXX1cIiBhbHQ9XCJVc2VyIEF2YXRhclwiIGNsYXNzPVwiXCI+XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PmBcclxuICAgICAgICAgICAgICAgIDogJydcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIDxkaXY+XHJcbiAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3M9XCJjaGF0LXVzZXJuYW1lIHRleHQtbXV0ZWRcIj4ke21lc3NhZ2UudXNlcm5hbWV9PC9wPlxyXG4gICAgICAgICAgICAgICAgICAgICR7aW5zZXJ0TXNnKHZhbHVlLCBtZXNzYWdlLCAndGV4dC1sZWZ0Jyl9XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgICAgICAgICA8c21hbGwgY2xhc3M9XCJjaGF0LXRpbWUtdGV4dFwiPiR7dmlld1V0aWxzLmdldEZvcm1hdHRlZERhdGVVdGlsKG1lc3NhZ2UudGltZXN0YW1wKX08L3NtYWxsPlxyXG4gICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPC9saT5gKTtcclxuICAgICAgICAgICAgYWRkVG9MaXN0KGlzQXBwZW5kUHJldk1zZywgJGxpLCBjTGlzdCk7IC8vIHRvRG8gcmVmYWN0b3IgbWUsIGxlc3MgRE9NIG1hbmlwdWxhdGlvblxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGNvbnN0ICRsaSA9ICQoYDxsaSBjbGFzcz1cImNoYXQtaXRlbSBjaGF0LWl0ZW0tcmlnaHQgY29sIGZsZXgtY29sdW1uLXJldmVyc2VcIiB2YWx1ZT1cIiR7bWVzc2FnZS52YWx1ZX1cIj5cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJkLWZsZXgganVzdGlmeS1jb250ZW50LWVuZFwiPlxyXG4gICAgICAgICAgICAgICAgICAgICR7aW5zZXJ0TXNnKHZhbHVlLCBtZXNzYWdlLCAndGV4dC1yaWdodCcpfVxyXG4gICAgICAgICAgICAgICAgICAgIDxzbWFsbCBjbGFzcz1cInB1bGwtcmlnaHQgY2hhdC10aW1lLXRleHRcIj4ke3ZpZXdVdGlscy5nZXRGb3JtYXR0ZWREYXRlVXRpbChtZXNzYWdlLnRpbWVzdGFtcCl9PC9zbWFsbD5cclxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPC9saT5gKTtcclxuICAgICAgICAgICAgYWRkVG9MaXN0KGlzQXBwZW5kUHJldk1zZywgJGxpLCBjTGlzdCk7IC8vIHRvRG8gcmVmYWN0b3IgbWUsIGxlc3MgRE9NIG1hbmlwdWxhdGlvblxyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG59XHJcblxyXG5jb25zdCBjb252ZXJzYXRpb25EZXRhaWwgPSBmdW5jdGlvbihpdGVtcykge1xyXG4gICAgbGV0IHRwbCA9ICcnO1xyXG4gICAgaXRlbXMuZm9yRWFjaCgoaXRlbSkgPT4ge1xyXG4gICAgICAgIGlmIChpdGVtcy5sZW5ndGggPiAxKSB7XHJcbiAgICAgICAgICAgIHRwbCArPSBgPGltZyBzcmM9XCIke2l0ZW1bJ3Byb2ZpbGVfcGljX3VybCddfVwiIGFsdD0naW1hZ2UnIGNsYXNzPVwibWVkaWEtcGhvdG8gbXItMSBtZWRpYS1waG90by0tZ3JvdXBcIiBzdHlsZT1cIndpZHRoOiAyNHB4O1wiPmA7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgdHBsICs9IGA8aW1nIHNyYz1cIiR7aXRlbVsncHJvZmlsZV9waWNfdXJsJ119XCIgYWx0PSdpbWFnZScgY2xhc3M9XCJtZWRpYS1waG90byBtci0xXCIgc3R5bGU9XCJ3aWR0aDogMjRweDtcIj5gO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIHRwbDtcclxufTtcclxuZXhwb3J0IGNvbnN0IGFkZENvbnZlcnNhdGlvbnMgPSBmdW5jdGlvbihjb252ZXJzYXRpb25zKSB7XHJcbiAgICBsZXQgdHBsID0gJyc7XHJcbiAgICBjb252ZXJzYXRpb25zLmZvckVhY2goKGl0ZW0pID0+IHtcclxuICAgICAgICBjb25zdCBpc1VucmVhZCA9IGl0ZW1bJ2lzX3VucmVhZCddO1xyXG4gICAgICAgIGNvbnN0IGxhc3RNZXNzYWdlID0gaXRlbVsnbGFzdF9tZXNzYWdlJ107XHJcbiAgICAgICAgY29uc3QgaXNMYXN0TXNnID0gbGFzdE1lc3NhZ2UgJiYgKHBhcnNlSW50KGxhc3RNZXNzYWdlLmxlbmd0aCwgMTApKTtcclxuICAgICAgICBjb25zdCBpc0FkZERvdCA9IGlzTGFzdE1zZyA+IDAgJiYgaXRlbS50by5sZW5ndGggPiAxICYmIGlzVW5yZWFkO1xyXG4gICAgICAgIHRwbCArPSBgXHJcbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwibWVkaWEgcC0xXCIgZGF0YS1jb252ZXJzYXRpb24taWQ9XCIke2l0ZW0uaWR9XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgJHtjb252ZXJzYXRpb25EZXRhaWwoaXRlbS50byl9XHJcbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cIm1lZGlhLWJvZHlcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgJHsoaXNBZGREb3QgfHwgaXNVbnJlYWQpXHJcbiAgICAgICAgICAgID8gJzxzcGFuIGNsYXNzPVwic3VtbWFyeS1kb3RcIj48L3NwYW4+J1xyXG4gICAgICAgICAgICA6ICcnXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgPCEtLSB7aXNVbnJlYWQgPyAnPHNwYW4gY2xhc3M9XCJzdW1tYXJ5LWRvdFwiPjwvc3Bhbj4nIDogJyd9IC0tPlxyXG4gICAgICAgICAgICAgICAgICAgICAgICA8aDUgY2xhc3M9XCJ0aXRsZSAke2lzVW5yZWFkID8gJ2ZvbnQtd2VpZ2h0LWJvbGQnIDogJyd9ICR7KGlzQWRkRG90KSA/ICdtci0yJyA6ICcnfVwiPiR7aXRlbS50aXRsZX08L2g1PlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAkeyhpc0xhc3RNc2cgPiAwICYmIGl0ZW0udG8ubGVuZ3RoID09PSAxKVxyXG4gICAgICAgICAgICA/IGA8cCBjbGFzcz1cInN1bW1hcnkgdGV4dC1tdXRlZFwiPiR7bGFzdE1lc3NhZ2V9PC9wPmBcclxuICAgICAgICAgICAgOiAnJ1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XHJcbiAgICAgICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgYDtcclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIHRwbDtcclxufTtcclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBhcHBlbmRVc2VyTGlzdCgkbGlzdCwgaXRlbSwgZGV0YWlscykge1xyXG4gICAgY29uc3Qge2N1cnNvciwgc2VjdGlvbiwgdXNlcm5hbWV9ID0gZGV0YWlscztcclxuICAgIGNvbnN0ICRjb2xsYXBzZSA9ICQoYCNjb2xsYXBzZS0ke3NlY3Rpb259YCk7XHJcbiAgICBjb25zb2xlLmxvZyhjdXJzb3IsIHVzZXJuYW1lKTtcclxuICAgICRjb2xsYXBzZS5hcHBlbmQoYWRkQ29udmVyc2F0aW9ucyhpdGVtLmNvbnZlcnNhdGlvbnMpKTtcclxuICAgIC8vICR7YWRkQ29udmVyc2F0aW9ucyhpdGVtLmNvbnZlcnNhdGlvbnMsIGlkeCl9XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBmaWxsVXNlckxpc3QoJGxpc3QsIGRhdGFBcnJheSwgbG9hZE1vcmVDYkZ1bmN0aW9uKSB7XHJcbiAgICBjb25zdCBpdGVtcyA9IGRhdGFBcnJheTtcclxuICAgIGNvbnN0IGNMaXN0ID0gJGxpc3Q7XHJcbiAgICBsZXQgdHBsID0gJyc7XHJcbiAgICBjb25zdCBsb2FkTW9yZUJveCA9IChpZHgsIHByZXZfY3Vyc29yKSA9PiBgPGRpdiBjbGFzcz1cImxpc3QtZm9vdGVyIHRleHQtY2VudGVyIGpzX2xvYWQtbW9yZS1ib3hcIiBkYXRhLWlkeD1cIiR7aWR4fVwiIGRhdGEtY3Vyc29yPVwiJHtwcmV2X2N1cnNvcn1cIj5cclxuICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzcz1cImJ0biBidG4tb3V0bGluZS1zZWNvbmRhcnkgYnRuLXNtIGJ0bi1zdWJtaXRcIj7Ql9Cw0LPRgNGD0LfQuNGC0Ywg0LXRidC1PC9idXR0b24+XHJcbiAgICA8L2Rpdj5gO1xyXG4gICAgY0xpc3QuZW1wdHkoKS5hZGRDbGFzcygnYm9yZGVyLWxpZ2h0LWNvbG9yJyk7XHJcbiAgICAvLyB0b2RvOiBmaXggaGFyZC1jb2RlICBpbWcgc3JjPVwiaHR0cHM6Ly9pLmltZ3VyLmNvbS9qTk5UNExFLnBuZ1wiXHJcbiAgICBpdGVtcy5mb3JFYWNoKChpdGVtLCBpZHgpID0+IHtcclxuICAgICAgICBjb25zdCB7cGFnaW5hdGlvbn0gPSBpdGVtO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGl0ZW0ucGVuZGluZ19yZXF1ZXN0cyk7XHJcbiAgICAgICAgdHBsICs9IGA8bGkgY2xhc3M9XCJsaXN0LWdyb3VwLWl0ZW1cIiBkYXRhLXRvZ2dsZT1cImNvbGxhcHNlXCIgZGF0YS10YXJnZXQ9XCIjY29sbGFwc2UtJHtpZHh9XCIgXHJcbiAgICAgICAgICAgICAgICBkYXRhLXVzZXJuYW1lPVwiJHtpdGVtLnVzZXJuYW1lfVwiXHJcbiAgICAgICAgICAgICAgICBkYXRhLXVzZXJBdmF0YXI9XCIke2l0ZW0ucHJvZmlsZV9waWNfdXJsfVwiXHJcbiAgICAgICAgICAgICAgICBhcmlhLWV4cGFuZGVkPVwidHJ1ZVwiIGFyaWEtY29udHJvbHM9XCJjb2xsYXBzZS0ke2lkeH1cIj5cclxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbnZlcnNhdGlvbi1oZWFkIG1iLTEgbWVkaWEgcGItMlwiIGlkPVwiaGVhZGluZy0ke2lkeH1cIj5cclxuICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwibXItM1wiPlxyXG4gICAgICAgICAgICAgICAgICAgIDxpbWcgc3JjPVwiJHtpdGVtLnByb2ZpbGVfcGljX3VybH1cIiBhbHQ9XCJhdmF0YXJcIlxyXG4gICAgICAgICAgICAgICAgICAgIGNsYXNzPVwibWVkaWEtcGhvdG8gcm91bmRlZC1jaXJjbGVcIj5cclxuICAgICAgICAgICAgICAgIDwvc3Bhbj5cclxuICAgICAgICAgICAgICAgICR7KGl0ZW1bJ3VucmVhZF9jb252ZXJzYXRpb25zJ10gPiAwKSA/IGA8c3BhbiBjbGFzcz1cImJhZGdlIGJhZGdlLXNlY29uZGFyeSBwb3NpdGlvbi1hYnNvbHV0ZSBwLTJcIj4ke2l0ZW1bJ3VucmVhZF9jb252ZXJzYXRpb25zJ119PC9zcGFuPmAgOiAnJ31cclxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtZWRpYS1ib2R5XCI+XHJcbiAgICAgICAgICAgICAgICAgICAgPGg0IGNsYXNzPVwidGl0bGVcIj5cclxuICAgICAgICAgICAgICAgICAgICAgICAgJHtpdGVtLnVzZXJuYW1lfVxyXG4gICAgICAgICAgICAgICAgICAgIDwvaDQ+XHJcbiAgICAgICAgICAgICAgICAgICAgJHsoaXRlbS5wZW5kaW5nX3JlcXVlc3RzKSA/IGA8cCBjbGFzcz1cImpzX3Nob3ctcmVxdWVzdC1ib3ggYnRuIGJ0bi1vdXRsaW5lLWRhcmsgYnRuLXNtXCI+JHtpdGVtLnBlbmRpbmdfcmVxdWVzdHN9INC30LDQv9GA0L7RgSR7KGl0ZW0ucGVuZGluZ19yZXF1ZXN0cyA+IDEpID8gJ2EnIDogJyd9PC9wPmAgOiAnJ31cclxuICAgICAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICA8L2Rpdj5cclxuICAgICAgICAgICAgPGRpdiBpZD1cImNvbGxhcHNlLSR7aWR4fVwiIGNsYXNzPVwiY29sbGFwc2VcIiBhcmlhLWxhYmVsbGVkYnk9XCJoZWFkaW5nLSR7aWR4fVwiIGRhdGEtcGFyZW50PVwiI2FjY29yZGlvblwiPlxyXG4gICAgICAgICAgICAgICAgJHthZGRDb252ZXJzYXRpb25zKGl0ZW0uY29udmVyc2F0aW9ucyl9XHJcbiAgICAgICAgICAgIDwvZGl2PlxyXG4gICAgICAgICAgICAkeyhwYWdpbmF0aW9uICYmIHBhZ2luYXRpb24ucHJldl9jdXJzb3IpID8gbG9hZE1vcmVCb3goaWR4LCBwYWdpbmF0aW9uLnByZXZfY3Vyc29yKSA6ICcnfVxyXG4gICAgICAgIDwvbGk+YDtcclxuICAgIH0pO1xyXG4gICAgJCh0cGwpLmFwcGVuZFRvKGNMaXN0KTtcclxuICAgICQoJy5qc19sb2FkLW1vcmUtYm94IGJ1dHRvbicpLm9uKCdjbGljaycsIChlKSA9PiB7XHJcbiAgICAgICAgY29uc3QgJGJ0biA9ICQoZS50YXJnZXQpO1xyXG4gICAgICAgIGNvbnN0ICRidG5Cb3ggPSAkYnRuLmNsb3Nlc3QoJy5qc19sb2FkLW1vcmUtYm94Jyk7XHJcbiAgICAgICAgY29uc3Qgc2VjdGlvbiA9ICRidG5Cb3guZGF0YSgnaWR4Jyk7XHJcbiAgICAgICAgY29uc3QgY3Vyc29yID0gJGJ0bkJveC5kYXRhKCdjdXJzb3InKTtcclxuICAgICAgICBjb25zdCB1c2VybmFtZSA9ICRidG5Cb3guY2xvc2VzdCgnbGknKS5kYXRhKCd1c2VybmFtZScpO1xyXG5cclxuICAgICAgICBjb25zb2xlLmxvZygnY2xpY2snLCBzZWN0aW9uLCBjdXJzb3IpO1xyXG4gICAgICAgIGxvYWRNb3JlQ2JGdW5jdGlvbihjdXJzb3IsIHNlY3Rpb24sIHVzZXJuYW1lKTtcclxuICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xyXG4gICAgfSk7XHJcbiAgICAkKCcuanNfc2hvdy1yZXF1ZXN0LWJveCcpLm9uKCdjbGljaycsIChlKSA9PiB7XHJcbiAgICAgICAgJChlLnRhcmdldCkuY2xvc2VzdCgnLnVzZXItbGlzdC1ib3gnKS5hZGRDbGFzcygndXNlci1saXN0LWJveC0taGlkZScpO1xyXG4gICAgICAgICQoJy51c2VyLXJlcXVlc3RzLWJveCcpLmFkZENsYXNzKCd1c2VyLXJlcXVlc3RzLWJveC0tc2hvdycpO1xyXG4gICAgICAgIGUuc3RvcFByb3BhZ2F0aW9uKCk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IG1lc3NhZ2VBcmVhSGVuZGxlciA9ICgkdGV4dEFyZWEsICRzZW5kTWVzc2FnZUJ1dHRvbikgPT4ge1xyXG4gICAgJHRleHRBcmVhLm9uKCdrZXlkb3duJywgKGUpID0+IHtcclxuICAgICAgICBpZiAoZS5rZXlDb2RlID09PSAxMykge1xyXG4gICAgICAgICAgICBpZiAoZS5jdHJsS2V5KSB7XHJcbiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZygnY3RybCtlbnRlcicpO1xyXG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAgICAgZS50YXJnZXQudmFsdWUgKz0gJ1xcbic7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoZS50YXJnZXQudmFsdWUudHJpbSgpLmxlbmd0aCkge1xyXG4gICAgICAgICAgICAgICAgICAgICRzZW5kTWVzc2FnZUJ1dHRvbi50cmlnZ2VyKCdjbGljaycpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbn07XHJcblxyXG4vLyBleHBvcnQgY29uc3QgYWRkTW9yZVVzZXJzQWNjb3JkaW9uID0gKGNvbnZlcnNhdGlvbnMsIGNvbnZlcnNhdGlvblRvQWRkKSA9PiB7XHJcbiAgICAvLyBjb25zdCAkYnRuTW9yZUJveCA9ICQoJyNsb2FkLW1vcmUtYm94Jyk7XHJcbiAgICAvLyBjb25zdCAkYnRuTW9yZSA9ICQoJ2J1dHRvbicsICRidG5Nb3JlQm94KTtcclxuICAgIC8vICRidG5Nb3JlQm94LnNob3coKTtcclxuICAgIC8vIGNvbnNvbGUubG9nKCdzdGFydCBhZGQgcGFnaW5hdGlvbiB0byBhY2NvcmRpb2luJywgY29udmVyc2F0aW9uVG9BZGQpO1xyXG4gICAgLy8gY29udmVyc2F0aW9ucy5mb3JFYWNoKChpdGVtLCBpZHgpID0+IHtcclxuICAgIC8vICAgICBpZiAoaXRlbS5wYWdpbmF0aW9uICYmIGl0ZW0ucGFnaW5hdGlvbi5wcmV2X2N1cnNvcikge1xyXG4gICAgLy8gICAgICAgICBjb25zb2xlLmxvZygnY29udmVyc2F0aW9uIC0gPicsIGl0ZW0ucGFnaW5hdGlvbik7XHJcbiAgICAvLyAgICAgICAgICRidG5Nb3JlLm9uKCdjbGljaycsICgpID0+IHtcclxuICAgIC8vICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdjbGljayAtID4nLCBpdGVtLnBhZ2luYXRpb24pO1xyXG4gICAgLy8gICAgICAgICAgICAgY29uc3QgZGV0YWlscyA9IHtcclxuICAgIC8vICAgICAgICAgICAgICAgICB1c2VybmFtZTogJycsXHJcbiAgICAvLyAgICAgICAgICAgICAgICAgY3Vyc29yOiBpdGVtLnBhZ2luYXRpb24ucHJldl9jdXJzb3JcclxuICAgIC8vICAgICAgICAgICAgIH07XHJcbiAgICAvLyAgICAgICAgICAgICBVc2VyQ29udmVyc2F0aW9uLmdldE1ldGFkYXRhRGV0YWlsVXNlcnMoZGV0YWlscykudGhlbigocmVzdWx0KSA9PiB7XHJcbiAgICAvLyAgICAgICAgICAgICAgICAgaWYgKCFyZXN1bHQuZGF0YSkge1xyXG4gICAgLy8gICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAvLyAgICAgICAgICAgICAgICAgfVxyXG4gICAgLy8gICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCcqKmdldE1ldGFkYXRhRGV0YWlsVXNlcnMqKiByZXN1bHQgLSA+JywgcmVzdWx0KTtcclxuICAgIC8vICAgICAgICAgICAgIH0pO1xyXG4gICAgLy8gICAgICAgICB9KTtcclxuICAgIC8vICAgICB9XHJcbiAgICAvLyB9KTtcclxuLy8gfTtcclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2Jsb2Nrcy9tZXNzYWdlcy91dGlscy5qcyIsIi8vIGltcG9ydCAkIGZyb20gJ2pxdWVyeSc7XHJcbmltcG9ydCBQdWJTdWIgZnJvbSAncHVic3ViLWpzJzsgLy8gaHR0cHM6Ly93d3cubnBtanMuY29tL3BhY2thZ2UvcHVic3ViLWpzXHJcbmltcG9ydCBVc2VyIGZyb20gJy4uLy4uL2NvbW1vbi9qcy1zZXJ2aWNlcy91c2VyJztcclxuaW1wb3J0IGNvb2tpZVN0b3JhZ2UgZnJvbSAnLi4vLi4vY29tbW9uL2pzLXNlcnZpY2VzL2Nvb2tpZSc7XHJcbmltcG9ydCB7Q09OU1R9IGZyb20gJy4uLy4uL2NvbW1vbi9qcy1zZXJ2aWNlcy9jb25zdHMnO1xyXG5pbXBvcnQgdmlld1V0aWxzIGZyb20gJy4uLy4uL2NvbW1vbi9qcy1zZXJ2aWNlcy92aWV3JztcclxuXHJcbmNvbnN0IHNlbGVjdG9yQ2xzID0ge1xyXG4gICAgZm9ybTogJy5hdXRoLnJlZ2lzdGVyIC5mb3JtLXNpZ25pbicsXHJcbiAgICBzdWJtaXRCdG46ICdbdHlwZT1cInN1Ym1pdFwiXSdcclxufTtcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUmVnaXN0ZXJGb3JtIHtcclxuICAgIGNvbnN0cnVjdG9yKCkge1xyXG4gICAgICAgIHRoaXMudXNlciA9IFVzZXI7XHJcbiAgICAgICAgdGhpcy4kZm9ybSA9ICQoc2VsZWN0b3JDbHMuZm9ybSk7XHJcbiAgICAgICAgdGhpcy4kZW1haWwgPSB0aGlzLiRmb3JtLmZpbmQoJ2lucHV0W25hbWU9XCJtYWlsXCJdJyk7XHJcbiAgICAgICAgdGhpcy4kdGV4dEFyZWFEZXNjcmlwdGlvbiA9ICQoJy5yZWdpc3Rlci0tY29uZmlybScpO1xyXG4gICAgICAgIHRoaXMuZm9ybURhdGEgPSB7J2VtYWlsJzogJ3Rlc3QxX2VtYWlsQG0ucnUnLCAncGFzc3dvcmQnOiAncGFzc3dvcmQnfTtcclxuICAgIH1cclxuXHJcbiAgICBpbml0KCkge1xyXG4gICAgICAgIGlmICgkKCcuYXV0aC5yZWdpc3RlcicpLmxlbmd0aCkge1xyXG4gICAgICAgICAgICB0aGlzLmJpbmRFdmVudHMoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgc3VibWl0Rm9ybShmb3JtRGF0YU9iaikge1xyXG4gICAgICAgIGNvbnN0IGVtYWlsID0gdGhpcy4kZW1haWwudmFsKCk7XHJcbiAgICAgICAgY29uc3QgYm9yZGVyRGFuZ2VyQ2xzID0gJ2JvcmRlci1kYW5nZXInO1xyXG4gICAgICAgIGNvbnN0ICRwYXNzd29yZCA9IHRoaXMuJGZvcm0uZmluZCgnaW5wdXRbbmFtZT1cInBhc3NcIl0nKSxcclxuICAgICAgICAgICAgJHBhc3N3b3JkQ29uZmlybSA9IHRoaXMuJGZvcm0uZmluZCgnaW5wdXRbbmFtZT1cInBhc3MtY29uZmlybVwiXScpLFxyXG4gICAgICAgICAgICBwYXNzd29yZCA9IHRoaXMuJGZvcm0uZmluZCgnaW5wdXRbbmFtZT1cInBhc3NcIl0nKS52YWwoKSxcclxuICAgICAgICAgICAgcGFzc3dvcmRDb25maXJtID0gdGhpcy4kZm9ybS5maW5kKCdpbnB1dFtuYW1lPVwicGFzcy1jb25maXJtXCJdJykudmFsKCk7XHJcblxyXG4gICAgICAgIC8vIEhpZ2hsaWdodCBlcnJvcnNcclxuICAgICAgICBpZiAocGFzc3dvcmRDb25maXJtICE9PSBwYXNzd29yZCkge1xyXG4gICAgICAgICAgICAkcGFzc3dvcmQuYWRkQ2xhc3MoYm9yZGVyRGFuZ2VyQ2xzKTtcclxuICAgICAgICAgICAgJHBhc3N3b3JkQ29uZmlybS5hZGRDbGFzcyhib3JkZXJEYW5nZXJDbHMpO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgJHBhc3N3b3JkLnJlbW92ZUNsYXNzKGJvcmRlckRhbmdlckNscyk7XHJcbiAgICAgICAgICAgICRwYXNzd29yZENvbmZpcm0ucmVtb3ZlQ2xhc3MoYm9yZGVyRGFuZ2VyQ2xzKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy4kZW1haWwudmFsKHRoaXMuJGVtYWlsLnZhbCgpLnRvTG9jYWxlTG93ZXJDYXNlKCkpO1xyXG4gICAgICAgIHRoaXMuZm9ybURhdGEgPSBmb3JtRGF0YU9iaiB8fCB7ZW1haWwsIHBhc3N3b3JkfTtcclxuXHJcbiAgICAgICAgdGhpcy51c2VyLnJlZ2lzdGVyKHRoaXMuZm9ybURhdGEpXHJcbiAgICAgICAgICAgIC50aGVuKChyZXN1bHQpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChyZXN1bHQuZGF0YSAmJiByZXN1bHQuZGF0YS50b2tlbikge1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAvLyBzYXZlIHRoZSBpdGVtXHJcbiAgICAgICAgICAgICAgICAgICAgY29va2llU3RvcmFnZS5zZXQoQ09OU1QuY29va2llU3RvcmFnZS5lbWFpbENvbmZpcm1lZCwgJ2ZhbHNlJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29va2llU3RvcmFnZS5zZXQoQ09OU1QuY29va2llU3RvcmFnZS50b2tlbiwgcmVzdWx0LmRhdGEudG9rZW4pO1xyXG4gICAgICAgICAgICAgICAgICAgIFB1YlN1Yi5wdWJsaXNoKENPTlNULmV2ZW50cy5VU0VSX0xPR0dFRCk7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gdmlld1V0aWxzLnNob3dJbmZvTWVzc2FnZSh0aGlzLiR0ZXh0QXJlYURlc2NyaXB0aW9uLFxyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICByZXN1bHQuc3RhdHVzLnN0YXRlLFxyXG4gICAgICAgICAgICAgICAgICAgIC8vICAgICByZXN1bHQuc3RhdHVzLm1lc3NhZ2UgfHwgJ1JlZ2lzdGVyIGFuZCBMb2dpbiBzdWNjc2VzcycpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB2aWV3VXRpbHMuc2hvd0luZm9NZXNzYWdlKHRoaXMuJHRleHRBcmVhRGVzY3JpcHRpb24sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5zdGF0dXMuc3RhdGUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc3VsdC5zdGF0dXMubWVzc2FnZSB8fCAnbm8gcmVzdWx0LmRhdGEgZm91bmQnKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSkudGhlbigocmVzdWx0KSA9PiB7XHJcbiAgICAgICAgICAgICAgICBpZiAocmVzdWx0ICYmIHJlc3VsdC5zdGF0dXMpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXN1bHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIHZpZXdVdGlscy5zaG93SW5mb01lc3NhZ2UodGhpcy4kdGV4dEFyZWFEZXNjcmlwdGlvbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnN0YXR1cy5zdGF0ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgJCgnLmxvZ2luLWJveCcpLnNob3coKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSkuY2F0Y2goKGVycm9yKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zdCBtb2RhbCA9ICQoJyNyZWdpc3Rlci1lcnJvci1tb2RhbCcpO1xyXG4gICAgICAgICAgICAgICAgbW9kYWwubW9kYWwoJ3Nob3cnKTtcclxuXHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygncmVxdWVzdCBmYWlsZWQnLCBlcnJvcik7XHJcbiAgICAgICAgICAgICAgICAvLyB2aWV3VXRpbHMuc2hvd0luZm9NZXNzYWdlKHRoaXMuJHRleHRBcmVhRGVzY3JpcHRpb24sXHJcbiAgICAgICAgICAgICAgICAvLyAgICAgZXJyb3IubWVzc2FnZSk7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGJpbmRFdmVudHMoKSB7XHJcbiAgICAgICAgY29uc3QgcmVnaXN0ZXJCb3ggPSBDT05TVC51aVNlbGVjdG9ycy5oZWFkZXJSZWdCb3g7IC8vICduYXYgLnJlZ2lzdGVyLWJveCc7XHJcbiAgICAgICAgY29uc3Qgb3BlbmVkQ2xhc3MgPSAnZC1ibG9jayc7XHJcbiAgICAgICAgY29uc3QgY2xvc2VDbGFzcyA9ICdkLW5vbmUnO1xyXG4gICAgICAgIGNvbnN0ICRidG4gPSAkKHNlbGVjdG9yQ2xzLnN1Ym1pdEJ0biksXHJcbiAgICAgICAgICAgIGNzc1ZhbGlkYXRpb25DbGFzcyA9ICdmb3JtLXZhbGlkYXRpb24nO1xyXG5cclxuICAgICAgICAkYnRuLm9uKCdjbGljaycsIChlKSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGZvcm0gPSB0aGlzLiRmb3JtLmdldCgwKTtcclxuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cclxuICAgICAgICAgICAgaWYgKCEkYnRuLmlzKCc6ZGlzYWJsZWQnKSkge1xyXG4gICAgICAgICAgICAgICAgaWYgKGZvcm0uY2hlY2tWYWxpZGl0eSgpKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy8gJGJ0bi5hdHRyKCdkaXNhYmxlZCcsIHRydWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3VibWl0Rm9ybSgpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAvLyBIaWdobGlnaHQgZXJyb3JzXHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZvcm0ucmVwb3J0VmFsaWRpdHkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9ybS5yZXBvcnRWYWxpZGl0eSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLiRmb3JtLmFkZENsYXNzKGNzc1ZhbGlkYXRpb25DbGFzcyk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgUHViU3ViLnN1YnNjcmliZShDT05TVC5ldmVudHMuVVNFUl9MT0dHRUQsICgpID0+IHtcclxuICAgICAgICAgICAgLy8gJCgnLnJlZ2lzdGVyLS1jb25maXJtJykucmVtb3ZlQ2xhc3MoJ2Qtbm9uZScpO1xyXG4gICAgICAgICAgICB3aW5kb3cubG9jYXRpb24uaHJlZiA9ICcuL3JlZ2lzdHJhdGlvbi1zdWNjZXNzLmh0bWwnO1xyXG4gICAgICAgIH0pO1xyXG5cclxuICAgICAgICAkKGRvY3VtZW50KS5vbignY2xpY2snLCAoZXZlbnQpID0+IHtcclxuICAgICAgICAgICAgY29uc3QgaXNSZWdCdG5DbGljayA9ICQoZXZlbnQudGFyZ2V0KS5jbG9zZXN0KCduYXYubmF2YmFyJykuZmluZCgnLnJlZ2lzdGVyLWJveCcpLmxlbmd0aDtcclxuXHJcbiAgICAgICAgICAgIGlmICghaXNSZWdCdG5DbGljayAmJiAkKHJlZ2lzdGVyQm94KS5oYXNDbGFzcyhvcGVuZWRDbGFzcykpIHtcclxuICAgICAgICAgICAgICAgICQocmVnaXN0ZXJCb3gpLmFkZENsYXNzKGNsb3NlQ2xhc3MpLnJlbW92ZUNsYXNzKG9wZW5lZENsYXNzKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG59XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9ibG9ja3MvcmVnaXN0ZXItZm9ybS9yZWdpc3Rlci1mb3JtLmpzIiwiXHJcbi8qKlxyXG4gKiBJbml0IE1lbnVcclxuICovXHJcbmV4cG9ydCBmdW5jdGlvbiBpbml0TWVudSgpIHtcclxuICAgIGNvbnN0IHVybFRvQ2hlY2sgPSBbXHJcbiAgICAgICAgJ2luc3RhZ3JhbS1hY2NvdW50cycsXHJcbiAgICAgICAgJ2F1dG9tZXNzYWdlcycsXHJcbiAgICAgICAgJ3N0b3JpZXMnLFxyXG4gICAgICAgICdhdXRvZ3JlZXRpbmcnLFxyXG4gICAgICAgICdhdXRvY29tbWVudHMnLFxyXG4gICAgICAgICdmb2xsb3cnLFxyXG4gICAgICAgICd1bmZvbGxvdycsXHJcbiAgICAgICAgJ21lc3NhZ2VzJyxcclxuICAgICAgICAnY2hhdC1ib3QnXHJcbiAgICBdO1xyXG4gICAgY29uc3QgcGF0aE5hbWUgPSB3aW5kb3cubG9jYXRpb24ucGF0aG5hbWU7XHJcbiAgICB1cmxUb0NoZWNrLmZvckVhY2goaXRlbSA9PiB7XHJcbiAgICAgICAgY29uc3QgaXNBY3RpdmVVcmwgPSAocGF0aE5hbWUgPT09IGAvaW5zdGFncmFtLWludGVncmF0aW9uLyR7aXRlbX0uaHRtbGAgfHwgcGF0aE5hbWUgPT09IGAvJHtpdGVtfS5odG1sYCk7XHJcbiAgICAgICAgaWYgKGlzQWN0aXZlVXJsKSB7XHJcbiAgICAgICAgICAgICQoYG5hdi5hc2lkZS1idXJnZXItbWVudSBhW2hyZWYqPVwiLyR7aXRlbX1cIl1gKVxyXG4gICAgICAgICAgICAgICAgLmFkZENsYXNzKCd0ZXh0LWluZm8nKVxyXG4gICAgICAgICAgICAgICAgLnJlbW92ZUNsYXNzKCd0ZXh0LWxpZ2h0Jyk7XHJcbiAgICAgICAgICAgIC8vIGNvbnNvbGUuaW5mbygnaXRlbSBmb3VuZCcsIGl0ZW0sIGFjdGl2ZU1lbnVJdGVtKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxufVxyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvYmxvY2tzL3NpZGViYXItbWVudS9zaWRlYmFyLW1lbnUuanMiLCJpbXBvcnQge0NPTlNUfSBmcm9tICcuLi8uLi9jb21tb24vanMtc2VydmljZXMvY29uc3RzJztcclxuaW1wb3J0IFVzZXJUYXNrTWFuYWdlciBmcm9tICcuLi8uLi9jb21tb24vanMtc2VydmljZXMvYXBpLXRhc2stbWFuYWdlcic7XHJcbmltcG9ydCB2aWV3VXRpbHMgZnJvbSAnLi4vLi4vY29tbW9uL2pzLXNlcnZpY2VzL3ZpZXcnO1xyXG5pbXBvcnQgKiBhcyB3aXphcmRGb3JtIGZyb20gJy4uLy4uL2Jsb2Nrcy93aXphcmQtZm9ybS93aXphcmQtZm9ybSc7XHJcbmltcG9ydCAqIGFzIHN0b3JpZXNTdGF0dXMgZnJvbSAnLi9zdG9yaWVzLXN0YXR1cyc7XHJcbmltcG9ydCB7aW5pdExvZ3NUYWJ9IGZyb20gJy4uL19zaGFyZWQvbG9ncy9sb2dzLXRhYnMnO1xyXG5pbXBvcnQge2F0dGFjaFR4dEZpbGVIYW5kbGVyfSBmcm9tICcuLi9mb2xsb3cvZm9sbG93LXJlYWQtZmlsZS10eHQnO1xyXG5pbXBvcnQgey8qIGluaXRUYWdzSW5wdXQsICovbmV4dEJ0bnZhbGlkYXRlQ29tcGV0aXRvcnNIYW5kbGVyfSBmcm9tICcuLi9fc2hhcmVkL3RhZ3MtaW5wdXQvdGFncy1pbnB1dCc7XHJcblxyXG5jb25zdCB7Z2V0VmFsQnlDb21tYVNlcGFyYXRvciwgZmlsbFJhZGlvR3JvdXBMaXN0fSA9IHZpZXdVdGlscztcclxubGV0IHVzZXJuYW1lU2VsZWN0ZWQgPSAnJztcclxuY29uc3QgbG9nc1N0YXRlID0gQ09OU1QubG9nc1N0YXRlO1xyXG5jb25zdCBjbHNDb25zdCA9IHtcclxuICAgIGN1cnJlbnRQYWdlQ2xzOiAnLnN0b3JpZXMtcGFnZScsXHJcbiAgICB0YXNrc0xpc3Q6ICcubG9nLXRhc2tzJyxcclxuICAgIGxvZ3NUYWJCdG46ICcjdi1waWxscy1sb2dzLXRhYicsXHJcbiAgICBwYWdpbmF0aW9uOiAnLmxvZ3MtcGFnaW5hdGlvbicsXHJcbiAgICBwYWdpbmF0aW9uUGdOdW1iZXI6ICcucGFnZS1udW1iZXInLFxyXG4gICAgcGF0aFR5cGU6IENPTlNULnVybC50bVR5cGVzLnN0b3JpZXNULFxyXG4gICAgcGF0aFN1YlR5cGU6IENPTlNULnVybC50bVR5cGVzLnN0b3JpZXNTdWJUWzBdXHJcbn07XHJcbmNvbnN0IGVsU2VsZWN0b3IgPSB7XHJcbiAgICB3aXphcmRGb3JtOiAnLndpemFyZC1mb3JtJyxcclxuICAgIHdpemFyZEZvcm1OYW1lOiAnd2l6YXJkLWZvcm0nLFxyXG4gICAgZmllbGRzOiAnLmF1dG9tZXNzYWdlcy10ZXh0LWZpZWxkcycsXHJcbiAgICB0YXNrTW9kZTogJy5qc190YXNrLW1vZGUnLFxyXG4gICAgY29tcGV0aXRvcnM6ICcuanNfc3Rvcmllcy1jb21wZXRpdG9ycyBpbnB1dFtkYXRhLXJvbGU9XCJ0YWdzaW5wdXRcIl0nXHJcbn07XHJcbmNvbnN0IHN0YXRlID0ge1xyXG4gICAgc3VidHlwZTogQ09OU1QudXJsLnRtVHlwZXMuc3Rvcmllc1N1YlRbMF0sXHJcbiAgICB1c2VyX2RlZmF1bHRfY29uZmlnOiB7XHJcbiAgICAgICAgdGFza19tb2RlOiAnU0FGRSdcclxuICAgIH1cclxufTtcclxuXHJcbmZ1bmN0aW9uIG9uU3VibWl0SGFuZGxlcihlKSB7XHJcbiAgICBjb25zdCB7d2l6YXJkRm9ybU5hbWV9ID0gZWxTZWxlY3RvcjtcclxuICAgIGNvbnN0IGZvcm0gPSBkb2N1bWVudC5mb3Jtc1t3aXphcmRGb3JtTmFtZV07XHJcbiAgICBjb25zdCBsaW1pdCA9IGZvcm1bJ2xpbWl0J107XHJcblxyXG4gICAgaWYgKGxpbWl0LnZhbHVlID09PSAnJykge1xyXG4gICAgICAgIGxpbWl0LmZvY3VzKCk7XHJcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IGJvZHkgPSB7XHJcbiAgICAgICAgLi4uc3RhdGUsXHJcbiAgICAgICAgdXNlcl9kZWZhdWx0X2NvbmZpZzoge1xyXG4gICAgICAgICAgICAuLi5zdGF0ZS51c2VyX2RlZmF1bHRfY29uZmlnLFxyXG4gICAgICAgICAgICBjcml0ZXJpYToge1xyXG4gICAgICAgICAgICAgICAgbWF4X3ZpZXdzOiBsaW1pdC52YWx1ZVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSxcclxuICAgICAgICB1c2VyX2N1c3RvbV9jb25maWc6IHt9LFxyXG4gICAgICAgIHR5cGU6IGNsc0NvbnN0LnBhdGhUeXBlLFxyXG4gICAgICAgIHVzZXJuYW1lOiB1c2VybmFtZVNlbGVjdGVkXHJcbiAgICB9O1xyXG5cclxuICAgIGlmIChib2R5LnN1YnR5cGUgPT09IENPTlNULnVybC50bVR5cGVzLnN0b3JpZXNTdWJUWzJdKSB7XHJcbiAgICAgICAgY29uc3QgY29tcGV0aXRvcnMgPSBnZXRWYWxCeUNvbW1hU2VwYXJhdG9yKCQoZm9ybSkuZmluZChlbFNlbGVjdG9yLmNvbXBldGl0b3JzKSk7XHJcbiAgICAgICAgYm9keS51c2VyX2N1c3RvbV9jb25maWcgPSB7XHJcbiAgICAgICAgICAgIGNvbXBldGl0b3JzXHJcbiAgICAgICAgfTtcclxuICAgIH1cclxuICAgIGlmIChib2R5LnN1YnR5cGUgPT09IENPTlNULnVybC50bVR5cGVzLnN0b3JpZXNTdWJUWzBdKSB7XHJcbiAgICAgICAgLy8gdGV4dCBmaWxlIHNob3VsZCBiZSBhZGRlZFxyXG4gICAgICAgIGJvZHlbJ3VzZXJfY3VzdG9tX2NvbmZpZyddLmF0dGFjaG1lbnQgPSB7XHJcbiAgICAgICAgICAgICdsaXN0X2lkJzogJCgnLnN0b3JpZXNfX2ZpbGUtdXBsb2FkLWJveCAuZmlsZS11cGxvYWQtY29udGFpbmVyJykuYXR0cignYXR0YWNoZWQtdHh0LWlkJylcclxuICAgICAgICB9O1xyXG4gICAgICAgIGRlbGV0ZSBib2R5LnVzZXJfZGVmYXVsdF9jb25maWcuY3JpdGVyaWEubWF4X3ZpZXdzO1xyXG4gICAgfVxyXG5cclxuICAgICQoZm9ybSkuZmluZCgnaW5wdXRbdHlwZT1cInRleHRcIl0saW5wdXRbdHlwZT1cIm51bWJlclwiXSxpbnB1dFt0eXBlPVwiZW1haWxcIl0nKS5lYWNoKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAoJCh0aGlzKS52YWwoKSA9PT0gJycpIHtcclxuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAkKHRoaXMpLmFkZENsYXNzKCdpbnB1dC1lcnJvcicpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICQodGhpcykucmVtb3ZlQ2xhc3MoJ2lucHV0LWVycm9yJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgY29uc29sZS5sb2coJ29uU3VibWl0SGFuZGxlciAqKnJlcXVlc3QqKiAgcG9zdDogU3RhcnRGb2xsb3dpbmdMaXN0JywgYm9keSk7XHJcblxyXG4gICAgZnVuY3Rpb24gY2JFcnJvcihyZXMpIHtcclxuICAgICAgICBjb25zdCBtc2cgPSByZXMuc3RhdHVzLm1lc3NhZ2U7XHJcbiAgICAgICAgJCgnLmZvcm0tc3VibWl0LWZpbmlzaC0tZXJyb3InKS5hZGRDbGFzcygnZC1ibG9jaycpXHJcbiAgICAgICAgLmZpbmQoJy5hbGVydCcpLmFwcGVuZChgPHA+JHttc2d9PC9wPmApO1xyXG4gICAgfVxyXG5cclxuICAgIFVzZXJUYXNrTWFuYWdlci5wb3N0U3RhcnRGb2xsb3dpbmdMaXN0KGJvZHksIGNiRXJyb3IpLnRoZW4oKHJlc3VsdCkgPT4ge1xyXG4gICAgICAgIGlmIChyZXN1bHQuc3RhdHVzLnN0YXRlID09PSAnb2snKSB7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKEpTT04uc3RyaW5naWZ5KHJlc3VsdCkpO1xyXG4gICAgICAgICAgICAkKCcuZm9ybS1zdWJtaXQtZmluaXNoJykuZmluZCgnLmFsZXJ0IHAnKS5yZW1vdmUoKTtcclxuICAgICAgICAgICAgJCgnLmZvcm0tc3VibWl0LWZpbmlzaCcpLmFkZENsYXNzKCdkLWJsb2NrJylcclxuICAgICAgICAgICAgICAgIC5maW5kKCcuYWxlcnQnKS5hcHBlbmQoYDxwPnRhc2tfaWQ6ICR7cmVzdWx0LmRhdGEudGFza19pZH08L3A+YCk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHNldFVzZXJOYW1lQ2IoX3VzZXJuYW1lU2VsZWN0ZWQpIHtcclxuICAgIHVzZXJuYW1lU2VsZWN0ZWQgPSBfdXNlcm5hbWVTZWxlY3RlZDtcclxufVxyXG5cclxuZnVuY3Rpb24gc2V0VXNlck5hbWVGaXJzdFN0ZXAoc3RhdGUpIHtcclxuICAgIHVzZXJuYW1lU2VsZWN0ZWQgPSBzdGF0ZS51c2VybmFtZTtcclxufVxyXG5cclxuLy8gdG9kbzogcmVmYWN0b3Igd2l0aCBmb2xsb3cuanMgLS0gJ25leHRCdG52YWxpZGF0ZUNvbXBldGl0b3JzSGFuZGxlcigpJ1xyXG5jb25zdCBjb250YWluZXJDbHMgPSAnLmpzX2FkZC1zZXR0aW5ncy1zdGVwLTQnO1xyXG5jb25zdCAkY29udGFpbmVyID0gJChjb250YWluZXJDbHMpO1xyXG5jb25zdCAkY29tcGV0aXRvcnNUZXh0QXJlYSA9ICRjb250YWluZXIuZmluZCgnaW5wdXRbZGF0YS1yb2xlPVwidGFnc2lucHV0XCJdJyk7XHJcbmNvbnN0IG5leHRTdGVwQnRuID0gJGNvbnRhaW5lci5maW5kKCcuanNfc3Rvcmllcy1jb21wZXRpdG9ycy1idG4nKTtcclxuXHJcbi8qKlxyXG4gKiBJbml0IEhhbmRsZXJzXHJcbiAqL1xyXG5mdW5jdGlvbiBpbml0SGFuZGxlcnMoKSB7XHJcblxyXG4gICAgYXR0YWNoVHh0RmlsZUhhbmRsZXIoJy5maWxlLXVwbG9hZC1jb250YWluZXInKTtcclxuICAgIG5leHRCdG52YWxpZGF0ZUNvbXBldGl0b3JzSGFuZGxlcigkY29tcGV0aXRvcnNUZXh0QXJlYSwgbmV4dFN0ZXBCdG4pO1xyXG5cclxuICAgIC8vIHJhZGlvLWdyb3VwIHN0ZXAgMlxyXG4gICAgJCgnLmpzX2dldC1zdG9yaWVzLXR5cGUgaW5wdXRbdHlwZT1yYWRpb10nKS5vbignY2xpY2snLCAoZSkgPT4ge1xyXG4gICAgICAgIGNvbnN0IHZhbHVlID0gJChlLnRhcmdldCkuYXR0cigndmFsdWUnKTtcclxuICAgICAgICBzdGF0ZS5zdWJ0eXBlID0gdmFsdWUudG9VcHBlckNhc2UoKTtcclxuICAgICAgICBpZiAoc3RhdGUuc3VidHlwZSA9PT0gQ09OU1QudXJsLnRtVHlwZXMuc3Rvcmllc1N1YlRbMV0pIHtcclxuICAgICAgICAgICAgbmV4dFN0ZXBCdG4ucmVtb3ZlQXR0cignZGlzYWJsZWQnLCAnZGlzYWJsZWQnKTsgLy8gZW5hYmxlIGJ1dHRvbiAn0JfQsNC/0YPRgdGC0LjRgtGMJ1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIG5leHRTdGVwQnRuLmF0dHIoJ2Rpc2FibGVkJywgJ2Rpc2FibGVkJyk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnNvbGUubG9nKHN0YXRlKTtcclxuICAgIH0pO1xyXG5cclxuICAgIC8vIGFsZXJ0IGNsb3NlXHJcbiAgICAkKCcuZm9ybS1zdWJtaXQtZmluaXNoIC5jbG9zZScpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZygnYWxlcnQgY2xvc2UnKTtcclxuICAgICAgICAkKCcjdi1waWxscy1hbGwtdGFiJykudHJpZ2dlcignY2xpY2snKTtcclxuICAgICAgICB3aW5kb3cuUHViU3ViLnB1Ymxpc2goQ09OU1QuZXZlbnRzLnRhc2tzLk5FV19UQVNLX0NSRUFURUQpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gYWxlcnQgZXJyb3IgY2xvc2VcclxuICAgICQoJy5mb3JtLXN1Ym1pdC1maW5pc2gtLWVycm9yIC5jbG9zZScpLm9uKCdjbGljaycsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAvLyBjb25zb2xlLmxvZygnYWxlcnQgY2xvc2UnKTtcclxuICAgICAgICAkKCcjdi1waWxscy1hbGwtdGFiJykudHJpZ2dlcignY2xpY2snKTtcclxuICAgICAgICB3aW5kb3cuUHViU3ViLnB1Ymxpc2goQ09OU1QuZXZlbnRzLnRhc2tzLk5FV19UQVNLX0NSRUFURUQpO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHJlbmRlclRhc2tNb2RlKGRlZmF1bHRDZmcpIHtcclxuICAgIGNvbnN0IHtjZmc6IHt0YXNrX21vZGVzfX0gPSBkZWZhdWx0Q2ZnO1xyXG4gICAgY29uc3Qge3Rhc2tNb2RlOiB0YXNrTW9kZVNlbGVjdG9yfSA9IGVsU2VsZWN0b3I7XHJcblxyXG4gICAgZmlsbFJhZGlvR3JvdXBMaXN0KCQodGFza01vZGVTZWxlY3RvciksIHRhc2tfbW9kZXMsICfQv9GA0L7RgdC80L7RgtGA0L7QsicpO1xyXG5cclxuICAgICQoYCR7dGFza01vZGVTZWxlY3Rvcn0gaW5wdXRbdHlwZT1yYWRpb11gKS5vbignY2xpY2snLCAoZSkgPT4ge1xyXG4gICAgICAgIGNvbnN0IHZhbHVlID0gJChlLnRhcmdldCkuYXR0cigndmFsdWUnKTtcclxuICAgICAgICBzdGF0ZS51c2VyX2RlZmF1bHRfY29uZmlnLnRhc2tfbW9kZSA9IHZhbHVlLnRvVXBwZXJDYXNlKCk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gZ2V0Q29uZmlnKCkge1xyXG4gICAgY29uc3QgcGF0aCA9IHtcclxuICAgICAgICB0eXBlOiBjbHNDb25zdC5wYXRoVHlwZSxcclxuICAgICAgICBzdWJ0eXBlOiBzdGF0ZS5zdWJ0eXBlXHJcbiAgICB9O1xyXG4gICAgY29uc3QgY2JFcnJvciA9IGZ1bmN0aW9uKHJlcykge1xyXG4gICAgICAgIGNvbnN0IG1zZyA9IHJlcy5zdGF0dXMubWVzc2FnZTtcclxuICAgICAgICAkKCcuZm9ybS1zdWJtaXQtZmluaXNoLS1lcnJvcicpLmFkZENsYXNzKCdkLWJsb2NrJylcclxuICAgICAgLmZpbmQoJy5hbGVydCcpLmFwcGVuZChgPHA+JHttc2d9PC9wPmApO1xyXG4gICAgfTtcclxuXHJcbiAgICBVc2VyVGFza01hbmFnZXIuZ2V0U3Rvcmllc0NvbmZpZyhwYXRoLCBjYkVycm9yKS50aGVuKChyZXN1bHQpID0+IHtcclxuICAgICAgICBpZiAocmVzdWx0LnN0YXR1cy5zdGF0ZSAhPT0gJ29rJykge1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGNvbnN0IHtcclxuICAgICAgICAgICAgZGF0YToge1xyXG4gICAgICAgICAgICAgICAgZm91bmRcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gPSByZXN1bHQ7XHJcbiAgICAgICAgY29uc3QgbGltaXRWYWwgPSBmb3VuZC5jZmcuY3JpdGVyaWEubWF4X3ZpZXdzO1xyXG4gICAgICAgIHJlbmRlclRhc2tNb2RlKGZvdW5kKTtcclxuICAgICAgICAkKCcjbGltaXQnKS52YWwobGltaXRWYWwpO1xyXG4gICAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGFkZFRleHRBcmVhKHN0ZXBOdW1iZXIpIHtcclxuICAgIGNvbnN0IHt3aXphcmRGb3JtfSA9IGVsU2VsZWN0b3I7XHJcbiAgICBjb25zdCBmaWVsZExhc3QgPSAkKGAke3dpemFyZEZvcm19IGZpZWxkc2V0YCkuZ2V0KHN0ZXBOdW1iZXIgKyAxKTtcclxuICAgIGlmIChzdGF0ZS5zdWJ0eXBlID09PSBDT05TVC51cmwudG1UeXBlcy5zdG9yaWVzU3ViVFsyXSkge1xyXG4gICAgICAgIG5leHRCdG52YWxpZGF0ZUNvbXBldGl0b3JzSGFuZGxlcigkY29tcGV0aXRvcnNUZXh0QXJlYSwgbmV4dFN0ZXBCdG4pO1xyXG4gICAgICAgICQoZmllbGRMYXN0KS5maW5kKCcuanNfc3Rvcmllcy1jb21wZXRpdG9ycycpLnJlbW92ZUNsYXNzKCdkLW5vbmUnKTtcclxuICAgICAgICBjb25zb2xlLmxvZygnZW5kJyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgICQoZmllbGRMYXN0KS5maW5kKCcuanNfc3Rvcmllcy1jb21wZXRpdG9ycycpLmFkZENsYXNzKCdkLW5vbmUnKTtcclxuICAgIH1cclxufVxyXG5cclxuZnVuY3Rpb24gYWRkRmlsZVVwbG9hZEJveChzdGVwTnVtYmVyKSB7XHJcbiAgICBjb25zdCB7d2l6YXJkRm9ybX0gPSBlbFNlbGVjdG9yO1xyXG4gICAgY29uc3QgZmllbGRMYXN0ID0gJChgJHt3aXphcmRGb3JtfSBmaWVsZHNldGApLmdldChzdGVwTnVtYmVyICsgMSk7XHJcbiAgICBjb25zdCAkZmlsZVVwbG9hZEJveCA9ICQoZmllbGRMYXN0KS5maW5kKCcuc3Rvcmllc19fZmlsZS11cGxvYWQtYm94Jyk7XHJcbiAgICBjb25zdCAkdGl0bGVTdGVwQm94ID0gJChmaWVsZExhc3QpLmZpbmQoJy5qc19hZGQtZmlsZS10aXRsZScpO1xyXG4gICAgY29uc3QgJGFkZFNldHRpbmdzID0gJChmaWVsZExhc3QpLmZpbmQoJy5qc19hZGQtc2V0dGluZ3Mtc3RlcC00Jyk7XHJcbiAgICBpZiAoc3RhdGUuc3VidHlwZSA9PT0gQ09OU1QudXJsLnRtVHlwZXMuc3Rvcmllc1N1YlRbMF0pIHtcclxuICAgICAgICAkZmlsZVVwbG9hZEJveC5yZW1vdmVDbGFzcygnZC1ub25lJyk7XHJcbiAgICAgICAgJCgnLmpzX3ZhbGlkYXRlLXR4dC1maWxlLWlzLXVwbG9hZGVkJykuYXR0cignZGlzYWJsZWQnLCAnZGlzYWJsZWQnKTtcclxuICAgICAgICAkdGl0bGVTdGVwQm94LnJlbW92ZUNsYXNzKCdkLW5vbmUnKTtcclxuICAgICAgICAkYWRkU2V0dGluZ3MuYWRkQ2xhc3MoJ2Qtbm9uZScpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICAkZmlsZVVwbG9hZEJveC5hZGRDbGFzcygnZC1ub25lJyk7XHJcbiAgICAgICAgJHRpdGxlU3RlcEJveC5hZGRDbGFzcygnZC1ub25lJyk7XHJcbiAgICAgICAgJGFkZFNldHRpbmdzLnJlbW92ZUNsYXNzKCdkLW5vbmUnKTtcclxuICAgIH1cclxuICAgIGNvbnNvbGUubG9nKCdhZGRGaWxlVXBsb2FkQm94IGRvbmUnKTtcclxufVxyXG5cclxuZnVuY3Rpb24gc3RlcFJlZHVjZXIoc3RlcE51bWJlciwgc3RhdGUpIHtcclxuICAgIHN3aXRjaCAoc3RlcE51bWJlcikge1xyXG4gICAgICAgIGNhc2UgMDpcclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coc3RhdGUsIHN0ZXBOdW1iZXIpO1xyXG4gICAgICAgICAgICBzZXRVc2VyTmFtZUZpcnN0U3RlcChzdGF0ZSk7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coc3RhdGUsIHN0ZXBOdW1iZXIpO1xyXG4gICAgICAgICAgICBnZXRDb25maWcoKTtcclxuICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgY2FzZSAyOlxyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhzdGF0ZSwgc3RlcE51bWJlcik7XHJcbiAgICAgICAgICAgIGFkZFRleHRBcmVhKHN0ZXBOdW1iZXIpO1xyXG4gICAgICAgICAgICBhZGRGaWxlVXBsb2FkQm94KHN0ZXBOdW1iZXIpO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnZGVmYXVsdCcsIHN0ZXBOdW1iZXIpO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaW5pdCgpIHtcclxuICAgIGNvbnN0IGlzSW5DdXJyZW50UGFnZSA9ICQoY2xzQ29uc3QuY3VycmVudFBhZ2VDbHMpLmxlbmd0aDtcclxuICAgIGlmICghaXNJbkN1cnJlbnRQYWdlKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgY29uc29sZS5sb2coY2xzQ29uc3QuY3VycmVudFBhZ2VDbHMpO1xyXG4gICAgY29uc3Qgd2l6YXJkQ2ZnID0ge1xyXG4gICAgICAgIHN0ZXBSZWR1Y2VyLFxyXG4gICAgICAgIG9uU3VibWl0SGFuZGxlclxyXG4gICAgfTtcclxuICAgIHdpemFyZEZvcm0uaW5pdCh3aXphcmRDZmcpO1xyXG4gICAgaW5pdEhhbmRsZXJzKCk7XHJcbiAgICBjb25zdCB0ZXh0UnVzQXJyYXkgPSBbJ9Cf0L4g0YHQv9C40YHQutGDJywgJ9Cf0L4g0L/QvtC00L/QuNGB0YfQuNC60LDQvCcsICfQn9C+INCw0LrRgtC40LLQvdC+0Lkg0LDRg9C00LjRgtC+0YDQuNC4INC60L7QvdC60YPRgNC10L3RgtC+0LInXTtcclxuICAgIGluaXRMb2dzVGFiKHtsb2dzU3RhdGUsIGxvZ3NTdWJ0eXBlczogQ09OU1QudXJsLnRtVHlwZXMuc3Rvcmllc1N1YlQsIGNsc0NvbnN0LCBzZXRVc2VyTmFtZUNiLCB0ZXh0UnVzQXJyYXl9KTtcclxuICAgIHN0b3JpZXNTdGF0dXMuaW5pdCh7XHJcbiAgICAgICAgaXNJblN0b3JpZXNQYWdlOiBpc0luQ3VycmVudFBhZ2VcclxuICAgIH0pO1xyXG4gICAgLy8gaW5pdFRhZ3NJbnB1dCgpO1xyXG5cclxuICAgIC8vIHdpbmRvdy5QdWJTdWIuc3Vic2NyaWJlKENPTlNULmV2ZW50cy5pbnN0YWdyYW1BY2NvdW5zLklOU1RBR1JBTV9BQ0NPVU5TX1JFTkRFUkVEX0xBWlksIChlLCBhY2NvdW50cykgPT4ge1xyXG4gICAgLy8gICAgIGNvbnNvbGUubG9nKCdJTlNUQUdSQU1fQUNDT1VOU19SRU5ERVJFRF9MQVpZJyk7XHJcbiAgICAvLyAgICAgY29uc29sZS5sb2coJ2xvZ3NTdWJ0eXBlcycsIGxvZ3NTdWJ0eXBlcyk7XHJcbiAgICAvLyAgICAgY29uc29sZS5sb2coJ2FjY291bnRzJywgYWNjb3VudHMpO1xyXG4gICAgLy8gfSk7XHJcbiAgICB3aW5kb3cuUHViU3ViLnN1YnNjcmliZShDT05TVC5ldmVudHMuYXV0b2FybnN3ZXIuVEVYVF9GSUxFX1VQTE9BREVELCAoZSwgcmVzKSA9PiB7XHJcbiAgICAgICAgJCgnLmpzX3ZhbGlkYXRlLXR4dC1maWxlLWlzLXVwbG9hZGVkJykucmVtb3ZlQXR0cignZGlzYWJsZWQnKTtcclxuICAgIH0pO1xyXG59XHJcblxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyAuL3NyYy9ibG9ja3Mvc3Rvcmllcy9zdG9yaWVzLWluZGV4LmpzIiwiLy8gVE9ETzogcmVmYWN0b3IgLT4gZGVsZXRlIG1lLCB1c2UgdGFzay1zdGF0dXMtYnktc3VidHlwZS5qc1xyXG5pbXBvcnQge0NPTlNUfSBmcm9tICcuLi8uLi9jb21tb24vanMtc2VydmljZXMvY29uc3RzJztcclxuaW1wb3J0IHtnZXRUYXNrc0RhdGF9IGZyb20gJy4uL19zaGFyZWQvdGFzay1zdGF0dXMvdGFzay1zdGF0dXMnO1xyXG4vLyBpbXBvcnQgdmlld1V0aWxzIGZyb20gJy4uLy4uL2NvbW1vbi9qcy1zZXJ2aWNlcy92aWV3JztcclxuaW1wb3J0IGRyb3BEb3duIGZyb20gJy4uL19zaGFyZWQvZHJvcGRvd24vZHJvcGRvd24nO1xyXG5cclxuY29uc3QgcGF0aCA9IHtcclxuICAgIHR5cGU6IENPTlNULnVybC50bVR5cGVzLnN0b3JpZXNULFxyXG4gICAgc3VidHlwZTogQ09OU1QudXJsLnRtVHlwZXMuc3Rvcmllc1N1YlRbMF1cclxufTtcclxuY29uc3Qgd3JhcHBlcnMgPSB7XHJcbiAgICAkYWxsOiAkKCcudGFza3MtYWxsJyksXHJcbiAgICAkc3RvcHBlZDogJCgnLnRhc2tzLXN0b3BwZWQnKVxyXG59O1xyXG5jb25zdCBsb2dzU3RhdGVTdGF0dXMgPSB7XHJcbiAgICB3cmFwcGVyU3VidHlwZTogJCgnLnN1YnR5cGUtLWJveCcpXHJcbn07XHJcblxyXG5mdW5jdGlvbiBkcm9wZG93bk9uU2VsZWN0Q2IoZSkge1xyXG4gICAgLy8gY29uc3Qge3NlbGVjdENsc0xvZ3NUYXNrVHlwZX0gPSBsb2dzU3RhdGU7XHJcbiAgICBjb25zdCBzdWJ0eXBlID0gJChlLnRhcmdldCkuZmluZCgnb3B0aW9uOnNlbGVjdGVkJykudmFsKCk7XHJcbiAgICBjb25zdCBwYXRoVXBkYXRlZCA9IHsuLi5wYXRoLCBzdWJ0eXBlfTtcclxuICAgICQoJy5qc19sb2dzLWNvbnRhaW5lcicpLmFkZENsYXNzKCdkLWJsb2NrJyk7XHJcbiAgICAkKCdvcHRpb24uanNfZW1wdHktc3VidHlwZScpLnJlbW92ZSgpO1xyXG4gICAgZ2V0VGFza3NEYXRhKHdyYXBwZXJzLCBwYXRoVXBkYXRlZCk7XHJcbn1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBpbml0KHtpc0luU3Rvcmllc1BhZ2V9KSB7XHJcbiAgICBpZiAoIWlzSW5TdG9yaWVzUGFnZSkge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIC8vIHRvRE8gOiByZWZhY3RvclxyXG4gICAgLy8gcmVuZGVyIHN0YXR1cyBkcm9wZG93blxyXG4gICAgY29uc3QgdGV4dFJ1c0FycmF5ID0gWyfQn9C+INGB0L/QuNGB0LrRgycsICfQn9C+INC/0L7QtNC/0LjRgdGH0LjQutCw0LwnLCAn0J/QviDQsNC60YLQuNCy0L3QvtC5INCw0YPQtNC40YLQvtGA0LjQuCDQutC+0L3QutGD0YDQtdC90YLQvtCyJ107XHJcbiAgICBkcm9wRG93bi5hZGREcm9wZG93bihsb2dzU3RhdGVTdGF0dXMud3JhcHBlclN1YnR5cGUsIENPTlNULnVybC50bVR5cGVzLnN0b3JpZXNTdWJULCB7bG9nc1N0YXRlOiBsb2dzU3RhdGVTdGF0dXMsIGRyb3Bkb3duT25TZWxlY3RDYiwgdGV4dFJ1c0FycmF5fSk7XHJcblxyXG4gICAgLy8gZ2V0VGFza3NEYXRhKHdyYXBwZXJzLCBwYXRoKTtcclxuICAgIHdpbmRvdy5QdWJTdWIuc3Vic2NyaWJlKENPTlNULmV2ZW50cy50YXNrcy5ORVdfVEFTS19DUkVBVEVELCAoZXZlbnROYW1lLCBkYXRhKSA9PiB7XHJcbiAgICAgICAgZ2V0VGFza3NEYXRhKHdyYXBwZXJzLCBwYXRoKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gLi9zcmMvYmxvY2tzL3N0b3JpZXMvc3Rvcmllcy1zdGF0dXMuanMiLCJpbXBvcnQge0NPTlNUfSBmcm9tICcuLi8uLi9jb21tb24vanMtc2VydmljZXMvY29uc3RzJztcclxuaW1wb3J0IFVzZXJUYXNrTWFuYWdlciBmcm9tICcuLi8uLi9jb21tb24vanMtc2VydmljZXMvYXBpLXRhc2stbWFuYWdlcic7XHJcbmltcG9ydCB2aWV3VXRpbHMgZnJvbSAnLi4vLi4vY29tbW9uL2pzLXNlcnZpY2VzL3ZpZXcnO1xyXG5jb25zdCB7ZmlsbFJhZGlvR3JvdXBMaXN0fSA9IHZpZXdVdGlscztcclxuaW1wb3J0IHthdHRhY2hUeHRGaWxlSGFuZGxlcn0gZnJvbSAnLi4vZm9sbG93L2ZvbGxvdy1yZWFkLWZpbGUtdHh0JztcclxuXHJcbmltcG9ydCAqIGFzIHdpemFyZEZvcm0gZnJvbSAnLi4vLi4vYmxvY2tzL3dpemFyZC1mb3JtL3dpemFyZC1mb3JtJztcclxuaW1wb3J0ICogYXMgdGFiU3RhdHVzIGZyb20gJy4vdW5mb2xsb3ctc3RhdHVzJztcclxuaW1wb3J0IHtpbml0TG9nc1RhYn0gZnJvbSAnLi4vX3NoYXJlZC9sb2dzL2xvZ3MtdGFicyc7XHJcblxyXG5sZXQgdXNlcm5hbWVTZWxlY3RlZCA9ICcnO1xyXG5jb25zdCBsb2dzU3VidHlwZXMgPSBDT05TVC51cmwudG1UeXBlcy51bmZvbGxvd2luZ1N1YlQ7XHJcbmNvbnN0IGNsc0NvbnN0ID0ge1xyXG4gICAgY3VycmVudFBhZ2VDbHM6ICcudW5mb2xsb3ctcGFnZScsXHJcbiAgICB0YXNrc0xpc3Q6ICcubG9nLXRhc2tzJyxcclxuICAgIGxvZ3NUYWJCdG46ICcjdi1waWxscy1sb2dzLXRhYicsXHJcbiAgICBwYWdpbmF0aW9uOiAnLmxvZ3MtcGFnaW5hdGlvbicsXHJcbiAgICBwYWdpbmF0aW9uUGdOdW1iZXI6ICcucGFnZS1udW1iZXInLFxyXG4gICAgcGF0aFR5cGU6IENPTlNULnVybC50bVR5cGVzLnVuZm9sbG93aW5nVCxcclxuICAgIHBhdGhTdWJUeXBlOiBDT05TVC51cmwudG1UeXBlcy51bmZvbGxvd2luZ1N1YlRbMF1cclxufTtcclxuY29uc3QgZWxTZWxlY3RvciA9IHtcclxuICAgIHdpemFyZEZvcm06ICcud2l6YXJkLWZvcm0nLFxyXG4gICAgd2l6YXJkRm9ybU5hbWU6ICd3aXphcmQtZm9ybScsXHJcbiAgICBmaWVsZHM6ICcuYXV0b21lc3NhZ2VzLXRleHQtZmllbGRzJyxcclxuICAgIHRhc2tNb2RlOiAnLmpzX3Rhc2stbW9kZScsXHJcbiAgICB0eXBlUmFkaW9Hcm91cDogJy5qc19nZXQtdW5mb2xsb3ctdHlwZScsXHJcbiAgICBjb21wZXRpdG9yczogJ3RleHRhcmVhLnN0b3JpZXMtY29tcGV0aXRvcnMnXHJcbn07XHJcbmNvbnN0IHN0YXRlID0ge1xyXG4gICAgc3VidHlwZTogQ09OU1QudXJsLnRtVHlwZXMudW5mb2xsb3dpbmdTdWJUWzBdLFxyXG4gICAgdXNlcl9kZWZhdWx0X2NvbmZpZzoge1xyXG4gICAgICAgIHRhc2tfbW9kZTogJ1NBRkUnXHJcbiAgICB9XHJcbn07XHJcblxyXG5mdW5jdGlvbiBvblN1Ym1pdEhhbmRsZXIoZSkge1xyXG4gICAgY29uc3Qge3dpemFyZEZvcm1OYW1lfSA9IGVsU2VsZWN0b3I7XHJcbiAgICBjb25zdCBmb3JtID0gZG9jdW1lbnQuZm9ybXNbd2l6YXJkRm9ybU5hbWVdO1xyXG5cclxuICAgIGNvbnN0IGJvZHkgPSB7XHJcbiAgICAgICAgLi4uc3RhdGUsXHJcbiAgICAgICAgdXNlcl9jdXN0b21fY29uZmlnOiB7XHJcbiAgICAgICAgICAgIC8vIGF0dGFjaG1lbnQ6IHtcclxuICAgICAgICAgICAgLy8gICAgICdsaXN0X2lkJzogJ2lkX3N0YXRpYydcclxuICAgICAgICAgICAgLy8gfVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgdHlwZTogY2xzQ29uc3QucGF0aFR5cGUsXHJcbiAgICAgICAgdXNlcm5hbWU6IHVzZXJuYW1lU2VsZWN0ZWRcclxuICAgIH07XHJcblxyXG4gICAgaWYgKHN0YXRlLnN1YnR5cGUgPT09IENPTlNULnVybC50bVR5cGVzLnVuZm9sbG93aW5nU3ViVFswXSkge1xyXG4gICAgICAgIC8vIHRleHQgZmlsZSBzaG91bGQgYmUgYWRkZWRcclxuICAgICAgICBib2R5Wyd1c2VyX2N1c3RvbV9jb25maWcnXS5hdHRhY2htZW50ID0ge1xyXG4gICAgICAgICAgICAnbGlzdF9pZCc6ICQoJy5hZGQtZmlsZSAuZmlsZS11cGxvYWQtY29udGFpbmVyJykuYXR0cignYXR0YWNoZWQtdHh0LWlkJylcclxuICAgICAgICB9O1xyXG4gICAgfVxyXG5cclxuICAgICQoZm9ybSkuZmluZCgnaW5wdXRbdHlwZT1cInRleHRcIl0saW5wdXRbdHlwZT1cIm51bWJlclwiXSxpbnB1dFt0eXBlPVwiZW1haWxcIl0nKS5lYWNoKGZ1bmN0aW9uICgpIHtcclxuICAgICAgICBpZiAoJCh0aGlzKS52YWwoKSA9PT0gJycpIHtcclxuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICAkKHRoaXMpLmFkZENsYXNzKCdpbnB1dC1lcnJvcicpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICQodGhpcykucmVtb3ZlQ2xhc3MoJ2lucHV0LWVycm9yJyk7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgY29uc29sZS5sb2coJ29uU3VibWl0SGFuZGxlciAqKnJlcXVlc3QqKiAgcG9zdDogU3RhcnRGb2xsb3dpbmdMaXN0JywgYm9keSk7XHJcblxyXG4gICAgVXNlclRhc2tNYW5hZ2VyLnBvc3RTdGFydEZvbGxvd2luZ0xpc3QoYm9keSkudGhlbigocmVzdWx0KSA9PiB7XHJcbiAgICAgICAgaWYgKHJlc3VsdC5zdGF0dXMuc3RhdGUgPT09ICdvaycpIHtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coSlNPTi5zdHJpbmdpZnkocmVzdWx0KSk7XHJcbiAgICAgICAgICAgICQoJy5mb3JtLXN1Ym1pdC1maW5pc2gnKS5maW5kKCcuYWxlcnQgcCcpLnJlbW92ZSgpO1xyXG4gICAgICAgICAgICAkKCcuZm9ybS1zdWJtaXQtZmluaXNoJykuYWRkQ2xhc3MoJ2QtYmxvY2snKVxyXG4gICAgICAgICAgICAgICAgLmZpbmQoJy5hbGVydCcpLmFwcGVuZChgPHA+dGFza19pZDogJHtyZXN1bHQuZGF0YS50YXNrX2lkfTwvcD5gKTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEluaXQgSGFuZGxlcnNcclxuICovXHJcbmZ1bmN0aW9uIGluaXRIYW5kbGVycygpIHtcclxuXHJcbiAgICAkKGAke2VsU2VsZWN0b3IudHlwZVJhZGlvR3JvdXB9IGlucHV0W3R5cGU9cmFkaW9dYCkub24oJ2NsaWNrJywgKGUpID0+IHtcclxuICAgICAgICBjb25zdCB2YWx1ZSA9ICQoZS50YXJnZXQpLmF0dHIoJ3ZhbHVlJyk7XHJcbiAgICAgICAgc3RhdGUuc3VidHlwZSA9IHZhbHVlLnRvVXBwZXJDYXNlKCk7XHJcbiAgICAgICAgY29uc29sZS5sb2coc3RhdGUpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgLy8gYWxlcnQgY2xvc2VcclxuICAgICQoJy5mb3JtLXN1Ym1pdC1maW5pc2ggLmNsb3NlJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCdhbGVydCBjbG9zZScpO1xyXG4gICAgICAgICQoJyN2LXBpbGxzLWFsbC10YWInKS50cmlnZ2VyKCdjbGljaycpO1xyXG4gICAgICAgIHdpbmRvdy5QdWJTdWIucHVibGlzaChDT05TVC5ldmVudHMudGFza3MuTkVXX1RBU0tfQ1JFQVRFRCk7XHJcbiAgICB9KTtcclxuXHJcbiAgICAvLyBhbGVydCBjbG9zZVxyXG4gICAgJCgnLmZvcm0tc3VibWl0LWZpbmlzaC0tZXJyb3IgLmNsb3NlJykub24oJ2NsaWNrJywgZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIC8vIGNvbnNvbGUubG9nKCdhbGVydCBjbG9zZScpO1xyXG4gICAgICAgICQoJyN2LXBpbGxzLWFsbC10YWInKS50cmlnZ2VyKCdjbGljaycpO1xyXG4gICAgICAgIHdpbmRvdy5QdWJTdWIucHVibGlzaChDT05TVC5ldmVudHMudGFza3MuTkVXX1RBU0tfQ1JFQVRFRCk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gb25TdWNjZXNzRmlsZVVwbG9hZENiKCkge1xyXG4gICAgY29uc3Qge3dpemFyZEZvcm19ID0gZWxTZWxlY3RvcjtcclxuXHJcbiAgICAkKHdpemFyZEZvcm0pLmZpbmQoJ2J1dHRvblt0eXBlPVwic3VibWl0XCJdJykuYXR0cignZGlzYWJsZWQnLCBmYWxzZSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGFkZFVwbG9hZEJ1dHRvbihzdWJ0eXBlKSB7XHJcbiAgICBmdW5jdGlvbiB0b2dnbGVBZGRUZXh0QnRuKHN1YnR5cGUpIHtcclxuICAgICAgICBpZiAoc3VidHlwZSA9PT0gQ09OU1QudXJsLnRtVHlwZXMudW5mb2xsb3dpbmdTdWJUWzBdKSB7XHJcbiAgICAgICAgICAgIC8vIHNob3cgdHh0IGZpbGVVcGxvYWRcclxuICAgICAgICAgICAgJCgnLmFkZC1maWxlJykuYWRkQ2xhc3MoJ2QtYmxvY2snKTtcclxuICAgICAgICAgICAgLy8gJCgnLmFkZC1jb21wZXRpdG9ycycpLmFkZENsYXNzKCdkLW5vbmUnKS5yZW1vdmVDbGFzcygnZC1ibG9jaycpO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIC8vIGhpZGUgdHh0IGZpbGVVcGxvYWRcclxuICAgICAgICAgICAgLy8gJCgnLmFkZC1jb21wZXRpdG9ycycpLmFkZENsYXNzKCdkLWJsb2NrJyk7XHJcbiAgICAgICAgICAgICQoJy5hZGQtZmlsZScpLmFkZENsYXNzKCdkLW5vbmUnKS5yZW1vdmVDbGFzcygnZC1ibG9jaycpO1xyXG4gICAgICAgICAgICBvblN1Y2Nlc3NGaWxlVXBsb2FkQ2IoKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcbiAgICB0b2dnbGVBZGRUZXh0QnRuKHN1YnR5cGUpO1xyXG4gICAgLy8gY29uc29sZS5sb2coJ2FkZFVwbG9hZEJ1dHRvbicsIENPTlNULnVybC50bVR5cGVzLnVuZm9sbG93aW5nU3ViVFswXSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHJlbmRlclRhc2tNb2RlKGRlZmF1bHRDZmcpIHtcclxuICAgIGNvbnN0IHtjZmc6IHt0YXNrX21vZGVzfX0gPSBkZWZhdWx0Q2ZnO1xyXG4gICAgY29uc3Qge3Rhc2tNb2RlOiB0YXNrTW9kZVNlbGVjdG9yfSA9IGVsU2VsZWN0b3I7XHJcblxyXG4gICAgZmlsbFJhZGlvR3JvdXBMaXN0KCQodGFza01vZGVTZWxlY3RvciksIHRhc2tfbW9kZXMsICfQvtGC0L/QuNGB0L7QuicpO1xyXG4gICAgYWRkVXBsb2FkQnV0dG9uKGRlZmF1bHRDZmcuaWQuc3VidHlwZSk7XHJcblxyXG4gICAgJChgJHt0YXNrTW9kZVNlbGVjdG9yfSBpbnB1dFt0eXBlPXJhZGlvXWApLm9uKCdjbGljaycsIChlKSA9PiB7XHJcbiAgICAgICAgY29uc3QgdmFsdWUgPSAkKGUudGFyZ2V0KS5hdHRyKCd2YWx1ZScpO1xyXG4gICAgICAgIHN0YXRlLnVzZXJfZGVmYXVsdF9jb25maWcudGFza19tb2RlID0gdmFsdWUudG9VcHBlckNhc2UoKTtcclxuICAgIH0pO1xyXG59XHJcblxyXG5mdW5jdGlvbiBnZXRDb25maWcoKSB7XHJcbiAgICBjb25zdCBwYXRoID0ge1xyXG4gICAgICAgIHR5cGU6IGNsc0NvbnN0LnBhdGhUeXBlLFxyXG4gICAgICAgIHN1YnR5cGU6IHN0YXRlLnN1YnR5cGVcclxuICAgIH07XHJcbiAgICBjb25zdCBjYkVycm9yID0gZnVuY3Rpb24ocmVzKSB7XHJcbiAgICAgICAgY29uc3QgbXNnID0gcmVzLnN0YXR1cy5tZXNzYWdlO1xyXG4gICAgICAgICQoJy5mb3JtLXN1Ym1pdC1maW5pc2gtLWVycm9yJykuYWRkQ2xhc3MoJ2QtYmxvY2snKVxyXG4gICAgICAuZmluZCgnLmFsZXJ0JykuYXBwZW5kKGA8cD4ke21zZ308L3A+YCk7XHJcbiAgICB9O1xyXG5cclxuICAgIFVzZXJUYXNrTWFuYWdlci5nZXRTdG9yaWVzQ29uZmlnKHBhdGgsIGNiRXJyb3IpLnRoZW4oKHJlc3VsdCkgPT4ge1xyXG4gICAgICAgIGlmIChyZXN1bHQuc3RhdHVzLnN0YXRlICE9PSAnb2snKSB7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc3Qge1xyXG4gICAgICAgICAgICBkYXRhOiB7XHJcbiAgICAgICAgICAgICAgICBmb3VuZFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSA9IHJlc3VsdDtcclxuICAgICAgICAvLyAkKCcjbGltaXQnKS52YWwobGltaXRWYWwpO1xyXG4gICAgICAgIC8vIGNvbnN0IGxpbWl0VmFsID0gZm91bmQuY2ZnLmNyaXRlcmlhLm1heF92aWV3cztcclxuICAgICAgICByZW5kZXJUYXNrTW9kZShmb3VuZCk7XHJcbiAgICB9KTtcclxufVxyXG5cclxuZnVuY3Rpb24gc2V0VXNlck5hbWVDYihfdXNlcm5hbWVTZWxlY3RlZCkge1xyXG4gICAgdXNlcm5hbWVTZWxlY3RlZCA9IF91c2VybmFtZVNlbGVjdGVkO1xyXG59XHJcblxyXG5mdW5jdGlvbiBzZXRVc2VyTmFtZUZpcnN0U3RlcChzdGF0ZSkge1xyXG4gICAgdXNlcm5hbWVTZWxlY3RlZCA9IHN0YXRlLnVzZXJuYW1lO1xyXG59XHJcblxyXG5mdW5jdGlvbiBjaGVja1RpdGxlU3RlcDMoc3RlcE51bWJlcikge1xyXG4gICAgY29uc3Qge3dpemFyZEZvcm19ID0gZWxTZWxlY3RvcjtcclxuICAgIGNvbnN0IHRpdGxlID0gJChgJHt3aXphcmRGb3JtfSBoM2ApLmdldChzdGVwTnVtYmVyICsgMSk7XHJcbiAgICBpZiAoc3RhdGUuc3VidHlwZSA9PT0gQ09OU1QudXJsLnRtVHlwZXMudW5mb2xsb3dpbmdTdWJUWzBdKSB7XHJcbiAgICAgICAgJCh0aXRsZSkudGV4dCgn0JLRi9Cx0LXRgNC40YLQtSDRgNC10LbQuNC8INC4INC00L7QsdCw0LLRjNGC0LUg0YTQsNC50Lsg0YEg0L/QvtC70YzQt9C+0LLQsNGC0LXQu9GP0LzQuCcpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgICAkKHRpdGxlKS50ZXh0KCfQktGL0LHQtdGA0LjRgtC1INGA0LXQttC40LwnKTtcclxuICAgIH1cclxufVxyXG5cclxuZnVuY3Rpb24gYWRkVGV4dEFyZWEoc3RlcE51bWJlcikge1xyXG4gICAgY29uc3Qge3dpemFyZEZvcm19ID0gZWxTZWxlY3RvcjtcclxuICAgIGlmIChzdGF0ZS5zdWJ0eXBlID09PSBDT05TVC51cmwudG1UeXBlcy51bmZvbGxvd2luZ1N1YlRbMV0pIHtcclxuICAgICAgICBjb25zdCBmaWVsZExhc3QgPSAkKGAke3dpemFyZEZvcm19IGZpZWxkc2V0YCkuZ2V0KHN0ZXBOdW1iZXIgKyAxKTtcclxuICAgICAgICBjb25zdCB0cGwgPSBgPGRpdiBjbGFzcz1cInJvd1wiPlxyXG4gICAgICAgICAgICA8bGFiZWwgY2xhc3M9XCJcIj7QmtC+0L3QutGD0YDQtdC90YLRizwvbGFiZWw+XHJcbiAgICAgICAgICAgIDx0ZXh0YXJlYSBjbGFzcz1cImZvcm0tY29udHJvbCBzdG9yaWVzLWNvbXBldGl0b3JzIG1iLTJcIiByb3dzPVwiMVwiPjwvdGV4dGFyZWE+PC9kaXY+YDtcclxuICAgICAgICAkKGZpZWxkTGFzdCkuZmluZCgnLmZvcm0tYm90dG9tPi5yb3cnKS5hZnRlcih0cGwpO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKCdlbmQnKTtcclxuICAgIH1cclxufVxyXG5cclxuZnVuY3Rpb24gc3RlcFJlZHVjZXIoc3RlcE51bWJlciwgc3RhdGUpIHtcclxuICAgIHN3aXRjaCAoc3RlcE51bWJlcikge1xyXG4gICAgICAgIGNhc2UgMDpcclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coc3RhdGUsIHN0ZXBOdW1iZXIpO1xyXG4gICAgICAgICAgICBzZXRVc2VyTmFtZUZpcnN0U3RlcChzdGF0ZSk7XHJcbiAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgIGNhc2UgMTpcclxuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coc3RhdGUsIHN0ZXBOdW1iZXIpO1xyXG4gICAgICAgICAgICBnZXRDb25maWcoKTtcclxuICAgICAgICAgICAgY2hlY2tUaXRsZVN0ZXAzKHN0ZXBOdW1iZXIpO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICBjYXNlIDI6XHJcbiAgICAgICAgICAgIC8vIFRIaXMgc3RlcCBpcyB1cHJlYWNoYWJsZVxyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhzdGF0ZSwgc3RlcE51bWJlcik7XHJcbiAgICAgICAgICAgIGFkZFRleHRBcmVhKHN0ZXBOdW1iZXIpO1xyXG4gICAgICAgICAgICBicmVhaztcclxuICAgICAgICBkZWZhdWx0OlxyXG4gICAgICAgICAgICBjb25zb2xlLmxvZygnZGVmYXVsdCcsIHN0ZXBOdW1iZXIpO1xyXG4gICAgfVxyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gaW5pdCgpIHtcclxuICAgIGNvbnN0IGlzSW5DdXJyZW50UGFnZSA9ICQoY2xzQ29uc3QuY3VycmVudFBhZ2VDbHMpLmxlbmd0aDtcclxuICAgIGlmICghaXNJbkN1cnJlbnRQYWdlKSB7XHJcbiAgICAgICAgcmV0dXJuO1xyXG4gICAgfVxyXG4gICAgY29uc29sZS5sb2coY2xzQ29uc3QuY3VycmVudFBhZ2VDbHMpO1xyXG4gICAgY29uc3Qgd2l6YXJkQ2ZnID0ge1xyXG4gICAgICAgIHN0ZXBSZWR1Y2VyLFxyXG4gICAgICAgIG9uU3VibWl0SGFuZGxlclxyXG4gICAgfTtcclxuICAgIHdpemFyZEZvcm0uaW5pdCh3aXphcmRDZmcpO1xyXG4gICAgaW5pdEhhbmRsZXJzKCk7XHJcbiAgICBhdHRhY2hUeHRGaWxlSGFuZGxlcignLmZpbGUtdXBsb2FkLWNvbnRhaW5lcicsIG9uU3VjY2Vzc0ZpbGVVcGxvYWRDYik7XHJcbiAgICBjb25zdCB0ZXh0UnVzQXJyYXkgPSBbJ9Cf0L4g0YHQv9C40YHQutGDJywgJ9Ce0YIg0LLRgdC10YUnLCAn0J7RgiDQvdC10LLQt9Cw0LjQvNC90YvRhSddO1xyXG4gICAgaW5pdExvZ3NUYWIoe2xvZ3NTdGF0ZTogQ09OU1QubG9nc1N0YXRlLCBsb2dzU3VidHlwZXMsIGNsc0NvbnN0LCBzZXRVc2VyTmFtZUNiLCB0ZXh0UnVzQXJyYXl9KTtcclxuICAgIHRhYlN0YXR1cy5pbml0KHtcclxuICAgICAgICBpc0luU3Rvcmllc1BhZ2U6IGlzSW5DdXJyZW50UGFnZVxyXG4gICAgfSk7XHJcbiAgICAvLyB3aW5kb3cuUHViU3ViLnN1YnNjcmliZShDT05TVC5ldmVudHMuYXV0b2FybnN3ZXIuSU1BR0VfVVBMT0FERUQsIChlLCByZXMpID0+IHtcclxuICAgIC8vICAgICBjb25zdCByZXN1bHQgPSBKU09OLnBhcnNlKHJlcy5yZXNwb25zZSk7XHJcbiAgICAvLyAgICAgY29uc3QgaW1hZ2VJZCA9IHJlc3VsdCAmJiByZXN1bHQuZGF0YSAmJiByZXN1bHQuZGF0YS5pbWFnZV9pZDtcclxuICAgIC8vICAgICAkKHJlcy5lbCkuY2xvc2VzdCgnLmZpbGUtdXBsb2FkJykuYXR0cignYXR0YWNoZWQtaW1nLWlkJywgaW1hZ2VJZCk7XHJcbiAgICAvLyAgICAgY29uc29sZS5sb2coJ2ltYWdlX2xvYWRlZCcsIHJlcyk7XHJcbiAgICAvLyB9KTtcclxuXHJcbn1cclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2Jsb2Nrcy91bmZvbGxvdy91bmZvbGxvdy1pbmRleC5qcyIsImltcG9ydCB7Q09OU1R9IGZyb20gJy4uLy4uL2NvbW1vbi9qcy1zZXJ2aWNlcy9jb25zdHMnO1xyXG5pbXBvcnQgKiBhcyBmb2xsb3dTdGF0dXNCeVN1YnR5cGUgZnJvbSAnLi4vLi4vYmxvY2tzL19zaGFyZWQvdGFzay1zdGF0dXMvdGFzay1zdGF0dXMtYnktc3VidHlwZSc7XHJcblxyXG4vLyBUT0RPOiByZWZhY3RvciAtPiBkZWxldGUgbWVcclxuLy8gaW1wb3J0IHtnZXRUYXNrc0RhdGF9IGZyb20gJy4uL19zaGFyZWQvdGFzay1zdGF0dXMvdGFzay1zdGF0dXMnO1xyXG4vLyBpbXBvcnQgdmlld1V0aWxzIGZyb20gJy4uLy4uL2NvbW1vbi9qcy1zZXJ2aWNlcy92aWV3JztcclxuLy8gaW1wb3J0IGRyb3BEb3duIGZyb20gJy4uL19zaGFyZWQvZHJvcGRvd24vZHJvcGRvd24nO1xyXG5cclxuLy8gY29uc3QgcGF0aCA9IHtcclxuLy8gICAgIHR5cGU6IENPTlNULnVybC50bVR5cGVzLnN0b3JpZXNULFxyXG4vLyAgICAgc3VidHlwZTogQ09OU1QudXJsLnRtVHlwZXMuc3Rvcmllc1N1YlRbMF1cclxuLy8gfTtcclxuLy8gY29uc3Qgd3JhcHBlcnMgPSB7XHJcbi8vICAgICAkYWxsOiAkKCcudGFza3MtYWxsJyksXHJcbi8vICAgICAkc3RvcHBlZDogJCgnLnRhc2tzLXN0b3BwZWQnKVxyXG4vLyB9O1xyXG4vLyBjb25zdCBsb2dzU3RhdGVTdGF0dXMgPSB7XHJcbi8vICAgICB3cmFwcGVyU3VidHlwZTogJCgnLnN1YnR5cGUtLWJveCcpXHJcbi8vICAgICAvLyBzZWxlY3RDbHNMb2dzVGFza1R5cGU6ICdzdWJ0eXBlLXNlbGVjdC13cmFwcGVyJ1xyXG4vLyB9O1xyXG4vL1xyXG4vLyBmdW5jdGlvbiBkcm9wZG93bk9uU2VsZWN0Q2IoZSkge1xyXG4vLyAgICAgLy8gY29uc3Qge3NlbGVjdENsc0xvZ3NUYXNrVHlwZX0gPSBsb2dzU3RhdGU7XHJcbi8vICAgICBjb25zdCBzdWJ0eXBlID0gJChlLnRhcmdldCkuZmluZCgnb3B0aW9uOnNlbGVjdGVkJykudmFsKCk7XHJcbi8vICAgICBjb25zdCBwYXRoVXBkYXRlZCA9IHsuLi5wYXRoLCBzdWJ0eXBlfTtcclxuLy8gICAgICQoJy5qc19sb2dzLWNvbnRhaW5lcicpLmFkZENsYXNzKCdkLWJsb2NrJyk7XHJcbi8vICAgICAkKCdvcHRpb24uanNfZW1wdHktc3VidHlwZScpLnJlbW92ZSgpO1xyXG4vLyAgICAgZ2V0VGFza3NEYXRhKHdyYXBwZXJzLCBwYXRoVXBkYXRlZCk7XHJcbi8vIH1cclxuXHJcbmV4cG9ydCBmdW5jdGlvbiBpbml0KHtpc0luU3Rvcmllc1BhZ2V9KSB7XHJcbiAgICBpZiAoIWlzSW5TdG9yaWVzUGFnZSkge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuICAgIGNvbnN0IGluaXRpYWxQYXRoID0ge1xyXG4gICAgICAgIHR5cGU6IENPTlNULnVybC50bVR5cGVzLnVuZm9sbG93aW5nVCxcclxuICAgICAgICBzdWJ0eXBlOiBDT05TVC51cmwudG1UeXBlcy51bmZvbGxvd2luZ1N1YlRbMF0sXHJcbiAgICAgICAgc3VidHlwZXM6IENPTlNULnVybC50bVR5cGVzLnVuZm9sbG93aW5nU3ViVFxyXG4gICAgfTtcclxuXHJcbiAgICBjb25zdCB0ZXh0UnVzQXJyYXkgPSBbJ9Cf0L4g0YHQv9C40YHQutGDJywgJ9Ce0YIg0LLRgdC10YUnLCAn0J7RgiDQvdC10LLQt9Cw0LjQvNC90YvRhSddO1xyXG4gICAgZm9sbG93U3RhdHVzQnlTdWJ0eXBlLmluaXQoe2lzSW5Db3JyZWN0UGFnZTogaXNJblN0b3JpZXNQYWdlLCBpbml0aWFsUGF0aCwgdGV4dFJ1c0FycmF5fSk7XHJcblxyXG4gICAgLy8gdG9kbzogbWVyZ2Ugd2l0aCBzdG9yaWVzLXNhdHVzLmpzXHJcbiAgICAvLyBkcm9wRG93bi5hZGREcm9wZG93bihsb2dzU3RhdGVTdGF0dXMud3JhcHBlclN1YnR5cGUsIENPTlNULnVybC50bVR5cGVzLnN0b3JpZXNTdWJULCB7bG9nc1N0YXRlOiBsb2dzU3RhdGVTdGF0dXMsIGRyb3Bkb3duT25TZWxlY3RDYn0pO1xyXG5cclxuICAgIC8vIGdldFRhc2tzRGF0YSh3cmFwcGVycywgcGF0aCk7XHJcbiAgICAvLyB3aW5kb3cuUHViU3ViLnN1YnNjcmliZShDT05TVC5ldmVudHMudGFza3MuTkVXX1RBU0tfQ1JFQVRFRCwgKGV2ZW50TmFtZSwgZGF0YSkgPT4ge1xyXG4gICAgLy8gICAgIGdldFRhc2tzRGF0YSh3cmFwcGVycywgcGF0aCk7XHJcbiAgICAvLyB9KTtcclxufVxyXG5cclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL2Jsb2Nrcy91bmZvbGxvdy91bmZvbGxvdy1zdGF0dXMuanMiLCIvKiBlc2xpbnQtZGlzYWJsZSBzb3J0LXZhcnMgKi9cclxuLy8gaW1wb3J0ICQgZnJvbSAnanF1ZXJ5JztcclxuaW1wb3J0IFVzZXIgZnJvbSAnLi4vLi4vY29tbW9uL2pzLXNlcnZpY2VzL3VzZXInO1xyXG5pbXBvcnQgUHViU3ViIGZyb20gJ3B1YnN1Yi1qcyc7IC8vIGh0dHBzOi8vd3d3Lm5wbWpzLmNvbS9wYWNrYWdlL3B1YnN1Yi1qc1xyXG5pbXBvcnQgY29va2llU3RvcmFnZSBmcm9tICcuLi8uLi9jb21tb24vanMtc2VydmljZXMvY29va2llJztcclxuLy8gaW1wb3J0IFZhbGlkYXRvciBmcm9tICcuLi8uLi9jb21tb24vanMtc2VydmljZXMvZm9ybS12YWxpZGF0b3InO1xyXG5pbXBvcnQgdmlld1V0aWxzIGZyb20gJy4uLy4uL2NvbW1vbi9qcy1zZXJ2aWNlcy92aWV3JztcclxuaW1wb3J0IHtDT05TVH0gZnJvbSAnLi4vLi4vY29tbW9uL2pzLXNlcnZpY2VzL2NvbnN0cyc7XHJcblxyXG4vLyB3aW5kb3cuJCA9ICQ7XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gTG9naW5QYWdlKHNlbGVjdG9yQ3NzKSB7XHJcbiAgICBjb25zdCB7X2Zvcm1JZCwgX2J1dHRvblN1Ym1pdElkLCBfbG9naW5Cb3h9ID0gc2VsZWN0b3JDc3M7XHJcbiAgICBjb25zdCB1c2VyID0gVXNlciwgLy8gc2VydmljZVxyXG4gICAgICAgICRmb3JtID0gJChfZm9ybUlkKSxcclxuICAgICAgICAkZW1haWwgPSAkZm9ybS5maW5kKCdpbnB1dFtuYW1lPVwibWFpbFwiXScpLFxyXG4gICAgICAgICR0ZXh0QXJlYURlc2NyaXB0aW9uID0gJCgnI2Rlc2NyaXB0aW9uJyk7XHJcbiAgICAvLyBjb25zdCBvcGVuZWRDbGFzcyA9ICdkLWJsb2NrJztcclxuICAgIC8vIGNvbnN0IGNsb3NlQ2xhc3MgPSAnZC1ub25lJztcclxuXHJcbiAgICBjb25zdCB1c2VyTG9naW5IZWFkZXIgPSAoX2Zvcm1EYXRhKSA9PiB7XHJcbiAgICAgICAgY29uc3QgY2JFcnJvciA9IChyZXN1bHQpID0+IHtcclxuICAgICAgICAgICAgLy8gJChfbG9naW5Cb3gpLmFwcGVuZChgPHA+JHtyZXN1bHQuc3RhdHVzLm1lc3NhZ2V9PC9wPmApO1xyXG4gICAgICAgICAgICBjb25zdCBtb2RhbCA9ICQoJyNlcnJvci1tb2RhbCcpO1xyXG4gICAgICAgICAgICBtb2RhbC5tb2RhbCgnc2hvdycpO1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhyZXN1bHQuc3RhdHVzLm1lc3NhZ2UpO1xyXG4gICAgICAgIH07XHJcblxyXG4gICAgICAgIHJldHVybiB1c2VyLmxvZ2luKF9mb3JtRGF0YSwgY2JFcnJvcilcclxuICAgICAgICAgICAgLnRoZW4oKHJlc3VsdCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgaWYgKHJlc3VsdCAmJiByZXN1bHQuZGF0YSAmJiByZXN1bHQuZGF0YS50b2tlbikge1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIHNhdmUgdGhlIGl0ZW1cclxuICAgICAgICAgICAgICAgICAgICBjb29raWVTdG9yYWdlLnNldChDT05TVC5jb29raWVTdG9yYWdlLnRva2VuLCByZXN1bHQuZGF0YS50b2tlbik7XHJcbiAgICAgICAgICAgICAgICAgICAgJCgnLm5hdi1saW5rLmpzX2xvZ091dCcpLnBhcmVudCgpLnNob3coKTtcclxuICAgICAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZygncmVxdWVzdCBzdWNjZWVkZWQgd2l0aCBKU09OIHJlc3BvbnNlJywgcmVzdWx0KTtcclxuICAgICAgICAgICAgICAgICAgICB2aWV3VXRpbHMuc2hvd0luZm9NZXNzYWdlKCR0ZXh0QXJlYURlc2NyaXB0aW9uLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQuc3RhdHVzLnN0YXRlLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXN1bHQuc3RhdHVzLm1lc3NhZ2UgfHwgJ0xvZ2luIHN1Y2NzZXNzJyk7XHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHJlc3VsdC5zdGF0dXMpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXN1bHQpO1xyXG4gICAgICAgICAgICAgICAgICAgIHZpZXdVdGlscy5zaG93SW5mb01lc3NhZ2UodGhpcy4kdGV4dEFyZWFEZXNjcmlwdGlvbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgYDxwPnN0YXR1czogJHtyZXN1bHQuc3RhdHVzLnN0YXRlfTwvcD48cD4gbWVzc2FnZTogJHtyZXN1bHQuc3RhdHVzLm1lc3NhZ2V9PC9wPmApO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXN1bHQpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KS50aGVuKChyZXN1bHQpID0+IHtcclxuICAgICAgICAgICAgICAgIGlmIChyZXN1bHQgJiYgcmVzdWx0LnN0YXR1cykge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlc3VsdCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdmlld1V0aWxzLnNob3dJbmZvTWVzc2FnZSgkdGV4dEFyZWFEZXNjcmlwdGlvbixcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnN0YXR1cy5zdGF0ZSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmVzdWx0LnN0YXR1cy5tZXNzYWdlIHx8ICdMb2dpbiBlcnJvcicpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9KTtcclxuICAgIH07XHJcblxyXG4gICAgY29uc3Qgc3VibWl0Rm9ybSA9IGZ1bmN0aW9uKGZvcm1EYXRhT2JqKSB7XHJcbiAgICAgICAgY29uc3QgZW1haWwgPSAkZW1haWwudmFsKCksXHJcbiAgICAgICAgICAgIHBhc3N3b3JkID0gJGZvcm0uZmluZCgnaW5wdXRbbmFtZT1cInBhc3NcIl0nKS52YWwoKSxcclxuICAgICAgICAgICAgX2Zvcm1EYXRhID0gZm9ybURhdGFPYmogfHwge2VtYWlsLCBwYXNzd29yZH07XHJcblxyXG4gICAgICAgIGlmIChzZWxlY3RvckNzcy5pc0xvZ2luSW5zdGFncmFtKSB7XHJcbiAgICAgICAgICAgIC8vIHRvZG86IGRlbGV0ZSBtZVxyXG4gICAgICAgICAgICAvLyBhZGRJbnN0YWdyYW1BY2NvdW50KHt1c2VybmFtZTogJGZvcm0uZmluZCgnaW5wdXRbbmFtZT1cInVzZXJuYW1lXCJdJykudmFsKCksIHBhc3N3b3JkfSk7XHJcbiAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgJGVtYWlsLnZhbCgkZW1haWwudmFsKCkudG9Mb2NhbGVMb3dlckNhc2UoKSk7XHJcbiAgICAgICAgICAgIHVzZXJMb2dpbkhlYWRlcihfZm9ybURhdGEpLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgLy8gUHViU3ViLnB1Ymxpc2goQ09OU1QuZXZlbnRzLlVTRVJfTE9HR0VELCAnbG9naW4nKTtcclxuICAgICAgICAgICAgICAgIHdpbmRvdy5sb2NhdGlvbi5ocmVmID0gJy4vaW5zdGFncmFtLWFjY291bnRzLmh0bWwnO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9O1xyXG5cclxuICAgIGNvbnN0IGxvZ091dCA9IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGNvb2tpZVN0b3JhZ2UucmVtb3ZlKENPTlNULmNvb2tpZVN0b3JhZ2UudG9rZW4pO1xyXG4gICAgICAgIFB1YlN1Yi5wdWJsaXNoKENPTlNULmV2ZW50cy5VU0VSX0xPR09VVCk7XHJcbiAgICB9O1xyXG5cclxuICAgIGNvbnN0IGJpbmRFdmVudHMgPSBmdW5jdGlvbigpIHtcclxuICAgICAgICAvLyBjb25zdCAkc2hvd0xvZ2luQm94QnRuSWQgPSAkKF9zaG93TG9naW5Cb3hCdG5JZCk7XHJcbiAgICAgICAgY29uc3QgJGxvZ2luQm94ID0gJChfbG9naW5Cb3gpO1xyXG4gICAgICAgIGNvbnN0IG9wZW5lZENsYXNzID0gJ2QtYmxvY2snO1xyXG4gICAgICAgIGNvbnN0IGNsb3NlQ2xhc3MgPSAnZC1ub25lJztcclxuXHJcbiAgICAgICAgLy8gJHNob3dMb2dpbkJveEJ0bklkLm9uKCdjbGljaycsICgpID0+IHtcclxuICAgICAgICAvLyAgICAgaWYgKCFzZWxlY3RvckNzcy5pc0xvZ2luSW5zdGFncmFtKSB7XHJcbiAgICAgICAgLy8gICAgICAgICAkbG9naW5Cb3guY3NzKHsndG9wJzogMCwgJ3JpZ2h0JzogMH0pXHJcbiAgICAgICAgLy8gICAgICAgICAgICAgLmFkZENsYXNzKCdiZy1saWdodCBib3JkZXIgbXQtNSBteC1hdXRvIHBvc2l0aW9uLWFic29sdXRlJyk7XHJcbiAgICAgICAgLy8gICAgIH1cclxuICAgICAgICAvLyAgICAgJGxvZ2luQm94LmFkZENsYXNzKG9wZW5lZENsYXNzKS5yZW1vdmVDbGFzcyhjbG9zZUNsYXNzKTtcclxuICAgICAgICAvLyB9KTtcclxuXHJcbiAgICAgICAgY29uc3QgJGJ1dHRvblN1Ym1pdCA9ICQoX2J1dHRvblN1Ym1pdElkKSxcclxuICAgICAgICAgICAgY3NzVmFsaWRhdGlvbkNsYXNzID0gJ2Zvcm0tdmFsaWRhdGlvbic7XHJcblxyXG4gICAgICAgICRidXR0b25TdWJtaXQub24oJ2NsaWNrJywgKGUpID0+IHtcclxuICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgICAgICAgICBjb25zdCBmb3JtID0gJGZvcm0uZ2V0KDApO1xyXG4gICAgICAgICAgICAvLyBjb25zdCB2YWxpZGF0b3IgPSBuZXcgVmFsaWRhdG9yKCRmb3JtKTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2codmlld1V0aWxzLCB2aWV3VXRpbHMuaXNFbWFpbCgkZW1haWwudmFsKCkpKTtcclxuXHJcbiAgICAgICAgICAgIGlmIChmb3JtLmNoZWNrVmFsaWRpdHkoKSAmJiB2aWV3VXRpbHMuaXNFbWFpbCgkZW1haWwudmFsKCkpKSB7XHJcbiAgICAgICAgICAgICAgICBzdWJtaXRGb3JtKCk7XHJcbiAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAvLyBIaWdobGlnaHQgZXJyb3JzXHJcbiAgICAgICAgICAgICAgICBpZiAoZm9ybS5yZXBvcnRWYWxpZGl0eSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGZvcm0ucmVwb3J0VmFsaWRpdHkoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICRmb3JtLmFkZENsYXNzKGNzc1ZhbGlkYXRpb25DbGFzcyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgJCgnLm5hdi1saW5rLmpzX2xvZ091dCcpLm9uKCdjbGljaycsIChlKSA9PiB7XHJcbiAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgICAgICAgbG9nT3V0KCk7XHJcbiAgICAgICAgICAgICQoZS50YXJnZXQpLnBhcmVudCgpLmhpZGUoKTtcclxuICAgICAgICAgICAgdmlld1V0aWxzLnNob3dJbmZvTWVzc2FnZSgkdGV4dEFyZWFEZXNjcmlwdGlvbiwgJ0xvZ2dlZCBvdXQnKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgUHViU3ViLnN1YnNjcmliZShDT05TVC5ldmVudHMuVVNFUl9MT0dPVVQsIChtc2cpID0+IHtcclxuICAgICAgICAgICAgJChDT05TVC51aVNlbGVjdG9ycy5oZWFkZXJOYXZMb2dpbkJ0bikuYWRkQ2xhc3Mob3BlbmVkQ2xhc3MpLnJlbW92ZUNsYXNzKGNsb3NlQ2xhc3MpOyAvLyAuc2hvdygpO1xyXG4gICAgICAgICAgICAkKENPTlNULnVpU2VsZWN0b3JzLmhlYWRlclJlZ0J0bikuYWRkQ2xhc3Mob3BlbmVkQ2xhc3MpLnJlbW92ZUNsYXNzKGNsb3NlQ2xhc3MpO1xyXG4gICAgICAgICAgICAkKCcubmF2LWxpbmsuanNfbG9nT3V0JykuYWRkQ2xhc3MoY2xvc2VDbGFzcykucmVtb3ZlQ2xhc3Mob3BlbmVkQ2xhc3MpOyAvLyAuaGlkZSgpO1xyXG4gICAgICAgICAgICBjb25zdCBzZWxlY3RvckxvZ2luU3RhdGUgPSAnLmpzX21lc3NhZ2VfbG9nZ2VkLS10ZXh0JztcclxuICAgICAgICAgICAgJChzZWxlY3RvckxvZ2luU3RhdGUpLnRleHQoJ9CS0Ysg0LLRi9GI0LvQuCDQuNC3INCw0LrQutCw0YPQvdGC0LAnKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgJChkb2N1bWVudCkub24oJ2NsaWNrJywgKGV2ZW50KSA9PiB7XHJcbiAgICAgICAgICAgIGNvbnN0IGlzTG9naW5CdG5DbGljayA9ICQoZXZlbnQudGFyZ2V0KS5jbG9zZXN0KCduYXYubmF2YmFyJykuZmluZCgkbG9naW5Cb3gpLmxlbmd0aDtcclxuICAgICAgICAgICAgY29uc3QgaXNBZGRJbnN0YWdyYW1CdG5DbGlja2VkID0gJChldmVudC50YXJnZXQpLmF0dHIoJ2lkJykgPT09IENPTlNULnVpU2VsZWN0b3JzLmluc3RhZ3JhbS5hZGRBY2NvdW50QnRuSWQ7XHJcblxyXG4gICAgICAgICAgICBpZiAoIWlzTG9naW5CdG5DbGljayAmJiAkbG9naW5Cb3guaGFzQ2xhc3Mob3BlbmVkQ2xhc3MpICYmICFpc0FkZEluc3RhZ3JhbUJ0bkNsaWNrZWQpIHtcclxuICAgICAgICAgICAgICAgICRsb2dpbkJveC5hZGRDbGFzcyhjbG9zZUNsYXNzKS5yZW1vdmVDbGFzcyhvcGVuZWRDbGFzcyk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH07XHJcblxyXG4gICAgZnVuY3Rpb24gaW5pdCgpIHtcclxuICAgICAgICBpZiAoJCgnLmF1dGgubG9naW4nKS5sZW5ndGgpIHtcclxuICAgICAgICAgICAgYmluZEV2ZW50cygpO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4ge1xyXG4gICAgICAgIGluaXRcclxuICAgIH07XHJcbn1cclxuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIC4vc3JjL3BhZ2VzL19hdXRoL2xvZ2luLXBhZ2UuanMiLCIvKlxuICogYm9vdHN0cmFwLXRhZ3NpbnB1dCB2MC43LjEgYnkgVGltIFNjaGxlY2h0ZXJcbiAqIFxuICovXG5cbiFmdW5jdGlvbihhKXtcInVzZSBzdHJpY3RcIjtmdW5jdGlvbiBiKGIsYyl7dGhpcy5pc0luaXQ9ITAsdGhpcy5pdGVtc0FycmF5PVtdLHRoaXMuJGVsZW1lbnQ9YShiKSx0aGlzLiRlbGVtZW50LmhpZGUoKSx0aGlzLmlzU2VsZWN0PVwiU0VMRUNUXCI9PT1iLnRhZ05hbWUsdGhpcy5tdWx0aXBsZT10aGlzLmlzU2VsZWN0JiZiLmhhc0F0dHJpYnV0ZShcIm11bHRpcGxlXCIpLHRoaXMub2JqZWN0SXRlbXM9YyYmYy5pdGVtVmFsdWUsdGhpcy5wbGFjZWhvbGRlclRleHQ9Yi5oYXNBdHRyaWJ1dGUoXCJwbGFjZWhvbGRlclwiKT90aGlzLiRlbGVtZW50LmF0dHIoXCJwbGFjZWhvbGRlclwiKTpcIlwiLHRoaXMuaW5wdXRTaXplPU1hdGgubWF4KDEsdGhpcy5wbGFjZWhvbGRlclRleHQubGVuZ3RoKSx0aGlzLiRjb250YWluZXI9YSgnPGRpdiBjbGFzcz1cImJvb3RzdHJhcC10YWdzaW5wdXRcIj48L2Rpdj4nKSx0aGlzLiRpbnB1dD1hKCc8aW5wdXQgdHlwZT1cInRleHRcIiBwbGFjZWhvbGRlcj1cIicrdGhpcy5wbGFjZWhvbGRlclRleHQrJ1wiLz4nKS5hcHBlbmRUbyh0aGlzLiRjb250YWluZXIpLHRoaXMuJGVsZW1lbnQuYmVmb3JlKHRoaXMuJGNvbnRhaW5lciksdGhpcy5idWlsZChjKSx0aGlzLmlzSW5pdD0hMX1mdW5jdGlvbiBjKGEsYil7aWYoXCJmdW5jdGlvblwiIT10eXBlb2YgYVtiXSl7dmFyIGM9YVtiXTthW2JdPWZ1bmN0aW9uKGEpe3JldHVybiBhW2NdfX19ZnVuY3Rpb24gZChhLGIpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGFbYl0pe3ZhciBjPWFbYl07YVtiXT1mdW5jdGlvbigpe3JldHVybiBjfX19ZnVuY3Rpb24gZShhKXtyZXR1cm4gYT9pLnRleHQoYSkuaHRtbCgpOlwiXCJ9ZnVuY3Rpb24gZihhKXt2YXIgYj0wO2lmKGRvY3VtZW50LnNlbGVjdGlvbil7YS5mb2N1cygpO3ZhciBjPWRvY3VtZW50LnNlbGVjdGlvbi5jcmVhdGVSYW5nZSgpO2MubW92ZVN0YXJ0KFwiY2hhcmFjdGVyXCIsLWEudmFsdWUubGVuZ3RoKSxiPWMudGV4dC5sZW5ndGh9ZWxzZShhLnNlbGVjdGlvblN0YXJ0fHxcIjBcIj09YS5zZWxlY3Rpb25TdGFydCkmJihiPWEuc2VsZWN0aW9uU3RhcnQpO3JldHVybiBifWZ1bmN0aW9uIGcoYixjKXt2YXIgZD0hMTtyZXR1cm4gYS5lYWNoKGMsZnVuY3Rpb24oYSxjKXtpZihcIm51bWJlclwiPT10eXBlb2YgYyYmYi53aGljaD09PWMpcmV0dXJuIGQ9ITAsITE7aWYoYi53aGljaD09PWMud2hpY2gpe3ZhciBlPSFjLmhhc093blByb3BlcnR5KFwiYWx0S2V5XCIpfHxiLmFsdEtleT09PWMuYWx0S2V5LGY9IWMuaGFzT3duUHJvcGVydHkoXCJzaGlmdEtleVwiKXx8Yi5zaGlmdEtleT09PWMuc2hpZnRLZXksZz0hYy5oYXNPd25Qcm9wZXJ0eShcImN0cmxLZXlcIil8fGIuY3RybEtleT09PWMuY3RybEtleTtpZihlJiZmJiZnKXJldHVybiBkPSEwLCExfX0pLGR9dmFyIGg9e3RhZ0NsYXNzOmZ1bmN0aW9uKGEpe3JldHVyblwibGFiZWwgbGFiZWwtaW5mb1wifSxpdGVtVmFsdWU6ZnVuY3Rpb24oYSl7cmV0dXJuIGE/YS50b1N0cmluZygpOmF9LGl0ZW1UZXh0OmZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLml0ZW1WYWx1ZShhKX0saXRlbVRpdGxlOmZ1bmN0aW9uKGEpe3JldHVybiBudWxsfSxmcmVlSW5wdXQ6ITAsYWRkT25CbHVyOiEwLG1heFRhZ3M6dm9pZCAwLG1heENoYXJzOnZvaWQgMCxjb25maXJtS2V5czpbMTMsNDRdLGRlbGltaXRlcjpcIixcIixkZWxpbWl0ZXJSZWdleDpudWxsLGNhbmNlbENvbmZpcm1LZXlzT25FbXB0eTohMSxvblRhZ0V4aXN0czpmdW5jdGlvbihhLGIpe2IuaGlkZSgpLmZhZGVJbigpfSx0cmltVmFsdWU6ITEsYWxsb3dEdXBsaWNhdGVzOiExfTtiLnByb3RvdHlwZT17Y29uc3RydWN0b3I6YixhZGQ6ZnVuY3Rpb24oYixjLGQpe3ZhciBmPXRoaXM7aWYoIShmLm9wdGlvbnMubWF4VGFncyYmZi5pdGVtc0FycmF5Lmxlbmd0aD49Zi5vcHRpb25zLm1heFRhZ3MpJiYoYj09PSExfHxiKSl7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGImJmYub3B0aW9ucy50cmltVmFsdWUmJihiPWEudHJpbShiKSksXCJvYmplY3RcIj09dHlwZW9mIGImJiFmLm9iamVjdEl0ZW1zKXRocm93XCJDYW4ndCBhZGQgb2JqZWN0cyB3aGVuIGl0ZW1WYWx1ZSBvcHRpb24gaXMgbm90IHNldFwiO2lmKCFiLnRvU3RyaW5nKCkubWF0Y2goL15cXHMqJC8pKXtpZihmLmlzU2VsZWN0JiYhZi5tdWx0aXBsZSYmZi5pdGVtc0FycmF5Lmxlbmd0aD4wJiZmLnJlbW92ZShmLml0ZW1zQXJyYXlbMF0pLFwic3RyaW5nXCI9PXR5cGVvZiBiJiZcIklOUFVUXCI9PT10aGlzLiRlbGVtZW50WzBdLnRhZ05hbWUpe3ZhciBnPWYub3B0aW9ucy5kZWxpbWl0ZXJSZWdleD9mLm9wdGlvbnMuZGVsaW1pdGVyUmVnZXg6Zi5vcHRpb25zLmRlbGltaXRlcixoPWIuc3BsaXQoZyk7aWYoaC5sZW5ndGg+MSl7Zm9yKHZhciBpPTA7aTxoLmxlbmd0aDtpKyspdGhpcy5hZGQoaFtpXSwhMCk7cmV0dXJuIHZvaWQoY3x8Zi5wdXNoVmFsKCkpfX12YXIgaj1mLm9wdGlvbnMuaXRlbVZhbHVlKGIpLGs9Zi5vcHRpb25zLml0ZW1UZXh0KGIpLGw9Zi5vcHRpb25zLnRhZ0NsYXNzKGIpLG09Zi5vcHRpb25zLml0ZW1UaXRsZShiKSxuPWEuZ3JlcChmLml0ZW1zQXJyYXksZnVuY3Rpb24oYSl7cmV0dXJuIGYub3B0aW9ucy5pdGVtVmFsdWUoYSk9PT1qfSlbMF07aWYoIW58fGYub3B0aW9ucy5hbGxvd0R1cGxpY2F0ZXMpe2lmKCEoZi5pdGVtcygpLnRvU3RyaW5nKCkubGVuZ3RoK2IubGVuZ3RoKzE+Zi5vcHRpb25zLm1heElucHV0TGVuZ3RoKSl7dmFyIG89YS5FdmVudChcImJlZm9yZUl0ZW1BZGRcIix7aXRlbTpiLGNhbmNlbDohMSxvcHRpb25zOmR9KTtpZihmLiRlbGVtZW50LnRyaWdnZXIobyksIW8uY2FuY2VsKXtmLml0ZW1zQXJyYXkucHVzaChiKTt2YXIgcD1hKCc8c3BhbiBjbGFzcz1cInRhZyAnK2UobCkrKG51bGwhPT1tPydcIiB0aXRsZT1cIicrbTpcIlwiKSsnXCI+JytlKGspKyc8c3BhbiBkYXRhLXJvbGU9XCJyZW1vdmVcIj48L3NwYW4+PC9zcGFuPicpO3AuZGF0YShcIml0ZW1cIixiKSxmLmZpbmRJbnB1dFdyYXBwZXIoKS5iZWZvcmUocCkscC5hZnRlcihcIiBcIik7dmFyIHE9YSgnb3B0aW9uW3ZhbHVlPVwiJytlbmNvZGVVUklDb21wb25lbnQoaikrJ1wiXScsZi4kZWxlbWVudCkubGVuZ3RofHxhKCdvcHRpb25bdmFsdWU9XCInK2UoaikrJ1wiXScsZi4kZWxlbWVudCkubGVuZ3RoO2lmKGYuaXNTZWxlY3QmJiFxKXt2YXIgcj1hKFwiPG9wdGlvbiBzZWxlY3RlZD5cIitlKGspK1wiPC9vcHRpb24+XCIpO3IuZGF0YShcIml0ZW1cIixiKSxyLmF0dHIoXCJ2YWx1ZVwiLGopLGYuJGVsZW1lbnQuYXBwZW5kKHIpfWN8fGYucHVzaFZhbCgpLChmLm9wdGlvbnMubWF4VGFncz09PWYuaXRlbXNBcnJheS5sZW5ndGh8fGYuaXRlbXMoKS50b1N0cmluZygpLmxlbmd0aD09PWYub3B0aW9ucy5tYXhJbnB1dExlbmd0aCkmJmYuJGNvbnRhaW5lci5hZGRDbGFzcyhcImJvb3RzdHJhcC10YWdzaW5wdXQtbWF4XCIpLGEoXCIudHlwZWFoZWFkLCAudHdpdHRlci10eXBlYWhlYWRcIixmLiRjb250YWluZXIpLmxlbmd0aCYmZi4kaW5wdXQudHlwZWFoZWFkKFwidmFsXCIsXCJcIiksdGhpcy5pc0luaXQ/Zi4kZWxlbWVudC50cmlnZ2VyKGEuRXZlbnQoXCJpdGVtQWRkZWRPbkluaXRcIix7aXRlbTpiLG9wdGlvbnM6ZH0pKTpmLiRlbGVtZW50LnRyaWdnZXIoYS5FdmVudChcIml0ZW1BZGRlZFwiLHtpdGVtOmIsb3B0aW9uczpkfSkpfX19ZWxzZSBpZihmLm9wdGlvbnMub25UYWdFeGlzdHMpe3ZhciBzPWEoXCIudGFnXCIsZi4kY29udGFpbmVyKS5maWx0ZXIoZnVuY3Rpb24oKXtyZXR1cm4gYSh0aGlzKS5kYXRhKFwiaXRlbVwiKT09PW59KTtmLm9wdGlvbnMub25UYWdFeGlzdHMoYixzKX19fX0scmVtb3ZlOmZ1bmN0aW9uKGIsYyxkKXt2YXIgZT10aGlzO2lmKGUub2JqZWN0SXRlbXMmJihiPVwib2JqZWN0XCI9PXR5cGVvZiBiP2EuZ3JlcChlLml0ZW1zQXJyYXksZnVuY3Rpb24oYSl7cmV0dXJuIGUub3B0aW9ucy5pdGVtVmFsdWUoYSk9PWUub3B0aW9ucy5pdGVtVmFsdWUoYil9KTphLmdyZXAoZS5pdGVtc0FycmF5LGZ1bmN0aW9uKGEpe3JldHVybiBlLm9wdGlvbnMuaXRlbVZhbHVlKGEpPT1ifSksYj1iW2IubGVuZ3RoLTFdKSxiKXt2YXIgZj1hLkV2ZW50KFwiYmVmb3JlSXRlbVJlbW92ZVwiLHtpdGVtOmIsY2FuY2VsOiExLG9wdGlvbnM6ZH0pO2lmKGUuJGVsZW1lbnQudHJpZ2dlcihmKSxmLmNhbmNlbClyZXR1cm47YShcIi50YWdcIixlLiRjb250YWluZXIpLmZpbHRlcihmdW5jdGlvbigpe3JldHVybiBhKHRoaXMpLmRhdGEoXCJpdGVtXCIpPT09Yn0pLnJlbW92ZSgpLGEoXCJvcHRpb25cIixlLiRlbGVtZW50KS5maWx0ZXIoZnVuY3Rpb24oKXtyZXR1cm4gYSh0aGlzKS5kYXRhKFwiaXRlbVwiKT09PWJ9KS5yZW1vdmUoKSwtMSE9PWEuaW5BcnJheShiLGUuaXRlbXNBcnJheSkmJmUuaXRlbXNBcnJheS5zcGxpY2UoYS5pbkFycmF5KGIsZS5pdGVtc0FycmF5KSwxKX1jfHxlLnB1c2hWYWwoKSxlLm9wdGlvbnMubWF4VGFncz5lLml0ZW1zQXJyYXkubGVuZ3RoJiZlLiRjb250YWluZXIucmVtb3ZlQ2xhc3MoXCJib290c3RyYXAtdGFnc2lucHV0LW1heFwiKSxlLiRlbGVtZW50LnRyaWdnZXIoYS5FdmVudChcIml0ZW1SZW1vdmVkXCIse2l0ZW06YixvcHRpb25zOmR9KSl9LHJlbW92ZUFsbDpmdW5jdGlvbigpe3ZhciBiPXRoaXM7Zm9yKGEoXCIudGFnXCIsYi4kY29udGFpbmVyKS5yZW1vdmUoKSxhKFwib3B0aW9uXCIsYi4kZWxlbWVudCkucmVtb3ZlKCk7Yi5pdGVtc0FycmF5Lmxlbmd0aD4wOyliLml0ZW1zQXJyYXkucG9wKCk7Yi5wdXNoVmFsKCl9LHJlZnJlc2g6ZnVuY3Rpb24oKXt2YXIgYj10aGlzO2EoXCIudGFnXCIsYi4kY29udGFpbmVyKS5lYWNoKGZ1bmN0aW9uKCl7dmFyIGM9YSh0aGlzKSxkPWMuZGF0YShcIml0ZW1cIiksZj1iLm9wdGlvbnMuaXRlbVZhbHVlKGQpLGc9Yi5vcHRpb25zLml0ZW1UZXh0KGQpLGg9Yi5vcHRpb25zLnRhZ0NsYXNzKGQpO2lmKGMuYXR0cihcImNsYXNzXCIsbnVsbCksYy5hZGRDbGFzcyhcInRhZyBcIitlKGgpKSxjLmNvbnRlbnRzKCkuZmlsdGVyKGZ1bmN0aW9uKCl7cmV0dXJuIDM9PXRoaXMubm9kZVR5cGV9KVswXS5ub2RlVmFsdWU9ZShnKSxiLmlzU2VsZWN0KXt2YXIgaT1hKFwib3B0aW9uXCIsYi4kZWxlbWVudCkuZmlsdGVyKGZ1bmN0aW9uKCl7cmV0dXJuIGEodGhpcykuZGF0YShcIml0ZW1cIik9PT1kfSk7aS5hdHRyKFwidmFsdWVcIixmKX19KX0saXRlbXM6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pdGVtc0FycmF5fSxwdXNoVmFsOmZ1bmN0aW9uKCl7dmFyIGI9dGhpcyxjPWEubWFwKGIuaXRlbXMoKSxmdW5jdGlvbihhKXtyZXR1cm4gYi5vcHRpb25zLml0ZW1WYWx1ZShhKS50b1N0cmluZygpfSk7Yi4kZWxlbWVudC52YWwoYywhMCkudHJpZ2dlcihcImNoYW5nZVwiKX0sYnVpbGQ6ZnVuY3Rpb24oYil7dmFyIGU9dGhpcztpZihlLm9wdGlvbnM9YS5leHRlbmQoe30saCxiKSxlLm9iamVjdEl0ZW1zJiYoZS5vcHRpb25zLmZyZWVJbnB1dD0hMSksYyhlLm9wdGlvbnMsXCJpdGVtVmFsdWVcIiksYyhlLm9wdGlvbnMsXCJpdGVtVGV4dFwiKSxkKGUub3B0aW9ucyxcInRhZ0NsYXNzXCIpLGUub3B0aW9ucy50eXBlYWhlYWQpe3ZhciBpPWUub3B0aW9ucy50eXBlYWhlYWR8fHt9O2QoaSxcInNvdXJjZVwiKSxlLiRpbnB1dC50eXBlYWhlYWQoYS5leHRlbmQoe30saSx7c291cmNlOmZ1bmN0aW9uKGIsYyl7ZnVuY3Rpb24gZChhKXtmb3IodmFyIGI9W10sZD0wO2Q8YS5sZW5ndGg7ZCsrKXt2YXIgZz1lLm9wdGlvbnMuaXRlbVRleHQoYVtkXSk7ZltnXT1hW2RdLGIucHVzaChnKX1jKGIpfXRoaXMubWFwPXt9O3ZhciBmPXRoaXMubWFwLGc9aS5zb3VyY2UoYik7YS5pc0Z1bmN0aW9uKGcuc3VjY2Vzcyk/Zy5zdWNjZXNzKGQpOmEuaXNGdW5jdGlvbihnLnRoZW4pP2cudGhlbihkKTphLndoZW4oZykudGhlbihkKX0sdXBkYXRlcjpmdW5jdGlvbihhKXtyZXR1cm4gZS5hZGQodGhpcy5tYXBbYV0pLHRoaXMubWFwW2FdfSxtYXRjaGVyOmZ1bmN0aW9uKGEpe3JldHVybi0xIT09YS50b0xvd2VyQ2FzZSgpLmluZGV4T2YodGhpcy5xdWVyeS50cmltKCkudG9Mb3dlckNhc2UoKSl9LHNvcnRlcjpmdW5jdGlvbihhKXtyZXR1cm4gYS5zb3J0KCl9LGhpZ2hsaWdodGVyOmZ1bmN0aW9uKGEpe3ZhciBiPW5ldyBSZWdFeHAoXCIoXCIrdGhpcy5xdWVyeStcIilcIixcImdpXCIpO3JldHVybiBhLnJlcGxhY2UoYixcIjxzdHJvbmc+JDE8L3N0cm9uZz5cIil9fSkpfWlmKGUub3B0aW9ucy50eXBlYWhlYWRqcyl7dmFyIGo9bnVsbCxrPXt9LGw9ZS5vcHRpb25zLnR5cGVhaGVhZGpzO2EuaXNBcnJheShsKT8oaj1sWzBdLGs9bFsxXSk6az1sLGUuJGlucHV0LnR5cGVhaGVhZChqLGspLm9uKFwidHlwZWFoZWFkOnNlbGVjdGVkXCIsYS5wcm94eShmdW5jdGlvbihhLGIpe2sudmFsdWVLZXk/ZS5hZGQoYltrLnZhbHVlS2V5XSk6ZS5hZGQoYiksZS4kaW5wdXQudHlwZWFoZWFkKFwidmFsXCIsXCJcIil9LGUpKX1lLiRjb250YWluZXIub24oXCJjbGlja1wiLGEucHJveHkoZnVuY3Rpb24oYSl7ZS4kZWxlbWVudC5hdHRyKFwiZGlzYWJsZWRcIil8fGUuJGlucHV0LnJlbW92ZUF0dHIoXCJkaXNhYmxlZFwiKSxlLiRpbnB1dC5mb2N1cygpfSxlKSksZS5vcHRpb25zLmFkZE9uQmx1ciYmZS5vcHRpb25zLmZyZWVJbnB1dCYmZS4kaW5wdXQub24oXCJmb2N1c291dFwiLGEucHJveHkoZnVuY3Rpb24oYil7MD09PWEoXCIudHlwZWFoZWFkLCAudHdpdHRlci10eXBlYWhlYWRcIixlLiRjb250YWluZXIpLmxlbmd0aCYmKGUuYWRkKGUuJGlucHV0LnZhbCgpKSxlLiRpbnB1dC52YWwoXCJcIikpfSxlKSksZS4kY29udGFpbmVyLm9uKFwia2V5ZG93blwiLFwiaW5wdXRcIixhLnByb3h5KGZ1bmN0aW9uKGIpe3ZhciBjPWEoYi50YXJnZXQpLGQ9ZS5maW5kSW5wdXRXcmFwcGVyKCk7aWYoZS4kZWxlbWVudC5hdHRyKFwiZGlzYWJsZWRcIikpcmV0dXJuIHZvaWQgZS4kaW5wdXQuYXR0cihcImRpc2FibGVkXCIsXCJkaXNhYmxlZFwiKTtzd2l0Y2goYi53aGljaCl7Y2FzZSA4OmlmKDA9PT1mKGNbMF0pKXt2YXIgZz1kLnByZXYoKTtnLmxlbmd0aCYmZS5yZW1vdmUoZy5kYXRhKFwiaXRlbVwiKSl9YnJlYWs7Y2FzZSA0NjppZigwPT09ZihjWzBdKSl7dmFyIGg9ZC5uZXh0KCk7aC5sZW5ndGgmJmUucmVtb3ZlKGguZGF0YShcIml0ZW1cIikpfWJyZWFrO2Nhc2UgMzc6dmFyIGk9ZC5wcmV2KCk7MD09PWMudmFsKCkubGVuZ3RoJiZpWzBdJiYoaS5iZWZvcmUoZCksYy5mb2N1cygpKTticmVhaztjYXNlIDM5OnZhciBqPWQubmV4dCgpOzA9PT1jLnZhbCgpLmxlbmd0aCYmalswXSYmKGouYWZ0ZXIoZCksYy5mb2N1cygpKX12YXIgaz1jLnZhbCgpLmxlbmd0aDtNYXRoLmNlaWwoay81KTtjLmF0dHIoXCJzaXplXCIsTWF0aC5tYXgodGhpcy5pbnB1dFNpemUsYy52YWwoKS5sZW5ndGgpKX0sZSkpLGUuJGNvbnRhaW5lci5vbihcImtleXByZXNzXCIsXCJpbnB1dFwiLGEucHJveHkoZnVuY3Rpb24oYil7dmFyIGM9YShiLnRhcmdldCk7aWYoZS4kZWxlbWVudC5hdHRyKFwiZGlzYWJsZWRcIikpcmV0dXJuIHZvaWQgZS4kaW5wdXQuYXR0cihcImRpc2FibGVkXCIsXCJkaXNhYmxlZFwiKTt2YXIgZD1jLnZhbCgpLGY9ZS5vcHRpb25zLm1heENoYXJzJiZkLmxlbmd0aD49ZS5vcHRpb25zLm1heENoYXJzO2Uub3B0aW9ucy5mcmVlSW5wdXQmJihnKGIsZS5vcHRpb25zLmNvbmZpcm1LZXlzKXx8ZikmJigwIT09ZC5sZW5ndGgmJihlLmFkZChmP2Quc3Vic3RyKDAsZS5vcHRpb25zLm1heENoYXJzKTpkKSxjLnZhbChcIlwiKSksZS5vcHRpb25zLmNhbmNlbENvbmZpcm1LZXlzT25FbXB0eT09PSExJiZiLnByZXZlbnREZWZhdWx0KCkpO3ZhciBoPWMudmFsKCkubGVuZ3RoO01hdGguY2VpbChoLzUpO2MuYXR0cihcInNpemVcIixNYXRoLm1heCh0aGlzLmlucHV0U2l6ZSxjLnZhbCgpLmxlbmd0aCkpfSxlKSksZS4kY29udGFpbmVyLm9uKFwiY2xpY2tcIixcIltkYXRhLXJvbGU9cmVtb3ZlXVwiLGEucHJveHkoZnVuY3Rpb24oYil7ZS4kZWxlbWVudC5hdHRyKFwiZGlzYWJsZWRcIil8fGUucmVtb3ZlKGEoYi50YXJnZXQpLmNsb3Nlc3QoXCIudGFnXCIpLmRhdGEoXCJpdGVtXCIpKX0sZSkpLGUub3B0aW9ucy5pdGVtVmFsdWU9PT1oLml0ZW1WYWx1ZSYmKFwiSU5QVVRcIj09PWUuJGVsZW1lbnRbMF0udGFnTmFtZT9lLmFkZChlLiRlbGVtZW50LnZhbCgpKTphKFwib3B0aW9uXCIsZS4kZWxlbWVudCkuZWFjaChmdW5jdGlvbigpe2UuYWRkKGEodGhpcykuYXR0cihcInZhbHVlXCIpLCEwKX0pKX0sZGVzdHJveTpmdW5jdGlvbigpe3ZhciBhPXRoaXM7YS4kY29udGFpbmVyLm9mZihcImtleXByZXNzXCIsXCJpbnB1dFwiKSxhLiRjb250YWluZXIub2ZmKFwiY2xpY2tcIixcIltyb2xlPXJlbW92ZV1cIiksYS4kY29udGFpbmVyLnJlbW92ZSgpLGEuJGVsZW1lbnQucmVtb3ZlRGF0YShcInRhZ3NpbnB1dFwiKSxhLiRlbGVtZW50LnNob3coKX0sZm9jdXM6ZnVuY3Rpb24oKXt0aGlzLiRpbnB1dC5mb2N1cygpfSxpbnB1dDpmdW5jdGlvbigpe3JldHVybiB0aGlzLiRpbnB1dH0sZmluZElucHV0V3JhcHBlcjpmdW5jdGlvbigpe2Zvcih2YXIgYj10aGlzLiRpbnB1dFswXSxjPXRoaXMuJGNvbnRhaW5lclswXTtiJiZiLnBhcmVudE5vZGUhPT1jOyliPWIucGFyZW50Tm9kZTtyZXR1cm4gYShiKX19LGEuZm4udGFnc2lucHV0PWZ1bmN0aW9uKGMsZCxlKXt2YXIgZj1bXTtyZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCl7dmFyIGc9YSh0aGlzKS5kYXRhKFwidGFnc2lucHV0XCIpO2lmKGcpaWYoY3x8ZCl7aWYodm9pZCAwIT09Z1tjXSl7aWYoMz09PWdbY10ubGVuZ3RoJiZ2b2lkIDAhPT1lKXZhciBoPWdbY10oZCxudWxsLGUpO2Vsc2UgdmFyIGg9Z1tjXShkKTt2b2lkIDAhPT1oJiZmLnB1c2goaCl9fWVsc2UgZi5wdXNoKGcpO2Vsc2UgZz1uZXcgYih0aGlzLGMpLGEodGhpcykuZGF0YShcInRhZ3NpbnB1dFwiLGcpLGYucHVzaChnKSxcIlNFTEVDVFwiPT09dGhpcy50YWdOYW1lJiZhKFwib3B0aW9uXCIsYSh0aGlzKSkuYXR0cihcInNlbGVjdGVkXCIsXCJzZWxlY3RlZFwiKSxhKHRoaXMpLnZhbChhKHRoaXMpLnZhbCgpKX0pLFwic3RyaW5nXCI9PXR5cGVvZiBjP2YubGVuZ3RoPjE/ZjpmWzBdOmZ9LGEuZm4udGFnc2lucHV0LkNvbnN0cnVjdG9yPWI7dmFyIGk9YShcIjxkaXYgLz5cIik7YShmdW5jdGlvbigpe2EoXCJpbnB1dFtkYXRhLXJvbGU9dGFnc2lucHV0XSwgc2VsZWN0W211bHRpcGxlXVtkYXRhLXJvbGU9dGFnc2lucHV0XVwiKS50YWdzaW5wdXQoKX0pfSh3aW5kb3cualF1ZXJ5KTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWJvb3RzdHJhcC10YWdzaW5wdXQubWluLmpzLm1hcFxuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9ib290c3RyYXAtdGFnc2lucHV0L2Rpc3QvYm9vdHN0cmFwLXRhZ3NpbnB1dC5taW4uanNcbi8vIG1vZHVsZSBpZCA9IDUxXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsImlmKFwidW5kZWZpbmVkXCI9PXR5cGVvZiBicnV0dXNpbil3aW5kb3cuYnJ1dHVzaW49bmV3IE9iamVjdDtlbHNlIGlmKFwib2JqZWN0XCIhPXR5cGVvZiBicnV0dXNpbil0aHJvd1wiYnJ1dHVzaW4gZ2xvYmFsIHZhcmlhYmxlIGFscmVhZHkgZXhpc3RzXCI7IWZ1bmN0aW9uKCl7U3RyaW5nLnByb3RvdHlwZS5zdGFydHNXaXRofHwoU3RyaW5nLnByb3RvdHlwZS5zdGFydHNXaXRoPWZ1bmN0aW9uKGUsdCl7cmV0dXJuIHQ9dHx8MCx0aGlzLmluZGV4T2YoZSx0KT09PXR9KSxTdHJpbmcucHJvdG90eXBlLmVuZHNXaXRofHwoU3RyaW5nLnByb3RvdHlwZS5lbmRzV2l0aD1mdW5jdGlvbihlLHQpe3ZhciByPXRoaXMudG9TdHJpbmcoKTsodm9pZCAwPT09dHx8dD5yLmxlbmd0aCkmJih0PXIubGVuZ3RoKSx0LT1lLmxlbmd0aDt2YXIgbj1yLmluZGV4T2YoZSx0KTtyZXR1cm4tMSE9PW4mJm49PT10fSksU3RyaW5nLnByb3RvdHlwZS5pbmNsdWRlc3x8KFN0cmluZy5wcm90b3R5cGUuaW5jbHVkZXM9ZnVuY3Rpb24oKXtcInVzZSBzdHJpY3RcIjtyZXR1cm4tMSE9PVN0cmluZy5wcm90b3R5cGUuaW5kZXhPZi5hcHBseSh0aGlzLGFyZ3VtZW50cyl9KSxTdHJpbmcucHJvdG90eXBlLmZvcm1hdHx8KFN0cmluZy5wcm90b3R5cGUuZm9ybWF0PWZ1bmN0aW9uKCl7Zm9yKHZhciBlPXRoaXMsdD0wO3Q8YXJndW1lbnRzLmxlbmd0aDt0Kyspe3ZhciByPW5ldyBSZWdFeHAoXCJcXFxce1wiK3QrXCJcXFxcfVwiLFwiZ2lcIik7ZT1lLnJlcGxhY2Uocixhcmd1bWVudHNbdF0pfXJldHVybiBlfSk7dmFyIEJydXR1c2luRm9ybXM9bmV3IE9iamVjdDtCcnV0dXNpbkZvcm1zLm1lc3NhZ2VzPXt2YWxpZGF0aW9uRXJyb3I6XCJWYWxpZGF0aW9uIGVycm9yXCIscmVxdWlyZWQ6XCJUaGlzIGZpZWxkIGlzICoqcmVxdWlyZWQqKlwiLGludmFsaWRWYWx1ZTpcIkludmFsaWQgZmllbGQgdmFsdWVcIixhZGRwcm9wTmFtZUV4aXN0ZW50OlwiVGhpcyBwcm9wZXJ0eSBpcyBhbHJlYWR5IHByZXNlbnQgaW4gdGhlIG9iamVjdFwiLGFkZHByb3BOYW1lUmVxdWlyZWQ6XCJBIG5hbWUgaXMgcmVxdWlyZWRcIixtaW5JdGVtczpcIkF0IGxlYXN0IGB7MH1gIGl0ZW1zIGFyZSByZXF1aXJlZFwiLG1heEl0ZW1zOlwiQXQgbW9zdCBgezB9YCBpdGVtcyBhcmUgYWxsb3dlZFwiLHBhdHRlcm46XCJWYWx1ZSBkb2VzIG5vdCBtYXRjaCBwYXR0ZXJuOiBgezB9YFwiLG1pbkxlbmd0aDpcIlZhbHVlIG11c3QgYmUgKiphdCBsZWFzdCoqIGB7MH1gIGNoYXJhY3RlcnMgbG9uZ1wiLG1heExlbmd0aDpcIlZhbHVlIG11c3QgYmUgKiphdCBtb3N0KiogYHswfWAgY2hhcmFjdGVycyBsb25nXCIsbXVsdGlwbGVPZjpcIlZhbHVlIG11c3QgYmUgKiptdWx0aXBsZSBvZioqIGB7MH1gXCIsbWluaW11bTpcIlZhbHVlIG11c3QgYmUgKipncmVhdGVyIG9yIGVxdWFsIHRoYW4qKiBgezB9YFwiLGV4Y2x1c2l2ZU1pbmltdW06XCJWYWx1ZSBtdXN0IGJlICoqZ3JlYXRlciB0aGFuKiogYHswfWBcIixtYXhpbXVtOlwiVmFsdWUgbXVzdCBiZSAqKmxvd2VyIG9yIGVxdWFsIHRoYW4qKiBgezB9YFwiLGV4Y2x1c2l2ZU1heGltdW06XCJWYWx1ZSBtdXN0IGJlICoqbG93ZXIgdGhhbioqIGB7MH1gXCIsbWluUHJvcGVydGllczpcIkF0IGxlYXN0IGB7MH1gIHByb3BlcnRpZXMgYXJlIHJlcXVpcmVkXCIsbWF4UHJvcGVydGllczpcIkF0IG1vc3QgYHswfWAgcHJvcGVydGllcyBhcmUgYWxsb3dlZFwiLHVuaXF1ZUl0ZW1zOlwiQXJyYXkgaXRlbXMgbXVzdCBiZSB1bmlxdWVcIixhZGRJdGVtOlwiQWRkIGl0ZW1cIixcInRydWVcIjpcIlRydWVcIixcImZhbHNlXCI6XCJGYWxzZVwifSxCcnV0dXNpbkZvcm1zLmRlY29yYXRvcnM9bmV3IEFycmF5LEJydXR1c2luRm9ybXMuYWRkRGVjb3JhdG9yPWZ1bmN0aW9uKGUpe0JydXR1c2luRm9ybXMuZGVjb3JhdG9yc1tCcnV0dXNpbkZvcm1zLmRlY29yYXRvcnMubGVuZ3RoXT1lfSxCcnV0dXNpbkZvcm1zLm9uUmVzb2x1dGlvblN0YXJ0ZWQ9ZnVuY3Rpb24oZSl7fSxCcnV0dXNpbkZvcm1zLm9uUmVzb2x1dGlvbkZpbmlzaGVkPWZ1bmN0aW9uKGUpe30sQnJ1dHVzaW5Gb3Jtcy5vblZhbGlkYXRpb25FcnJvcj1mdW5jdGlvbihlLHQpe2UuZm9jdXMoKSxlLmNsYXNzTmFtZS5pbmNsdWRlcyhcIiBlcnJvclwiKXx8KGUuY2xhc3NOYW1lKz1cIiBlcnJvclwiKSxhbGVydCh0KX0sQnJ1dHVzaW5Gb3Jtcy5vblZhbGlkYXRpb25TdWNjZXNzPWZ1bmN0aW9uKGUpe2UuY2xhc3NOYW1lPWUuY2xhc3NOYW1lLnJlcGxhY2UoXCIgZXJyb3JcIixcIlwiKX0sQnJ1dHVzaW5Gb3Jtcy5wb3N0UmVuZGVyPW51bGwsQnJ1dHVzaW5Gb3Jtcy5pbnN0YW5jZXM9bmV3IEFycmF5LEJydXR1c2luRm9ybXMuY3JlYXRlPWZ1bmN0aW9uKHNjaGVtYSl7ZnVuY3Rpb24gdmFsaWRhdGVEZXBlbmN5TWFwSXNBY3ljbGljKCl7ZnVuY3Rpb24gZSh0LHIsbil7aWYoci5oYXNPd25Qcm9wZXJ0eShuKSlyZXR1cm4gdm9pZChlcnJvcj1cIlNjaGVtYSBkZXBlbmRlbmN5IGdyYXBoIGhhcyBjeWNsZXNcIik7aWYocltuXT1udWxsLCF0Lmhhc093blByb3BlcnR5KG4pKXt0W25dPW51bGw7dmFyIGE9ZGVwZW5kZW5jeU1hcFtuXTtpZihhKWZvcih2YXIgaT0wO2k8YS5sZW5ndGg7aSsrKWUodCxyLGFbaV0pO2RlbGV0ZSByW25dfX12YXIgdD1uZXcgT2JqZWN0O2Zvcih2YXIgciBpbiBkZXBlbmRlbmN5TWFwKXQuaGFzT3duUHJvcGVydHkocil8fGUodCxuZXcgT2JqZWN0LHIpfWZ1bmN0aW9uIGFwcGVuZENoaWxkKGUsdCxyKXtlLmFwcGVuZENoaWxkKHQpO2Zvcih2YXIgbj0wO248QnJ1dHVzaW5Gb3Jtcy5kZWNvcmF0b3JzLmxlbmd0aDtuKyspQnJ1dHVzaW5Gb3Jtcy5kZWNvcmF0b3JzW25dKHQscil9ZnVuY3Rpb24gY3JlYXRlUHNldWRvU2NoZW1hKGUpe3ZhciB0PW5ldyBPYmplY3Q7Zm9yKHZhciByIGluIGUpXCJpdGVtc1wiIT09ciYmXCJwcm9wZXJ0aWVzXCIhPT1yJiZcImFkZGl0aW9uYWxQcm9wZXJ0aWVzXCIhPT1yJiYoXCJwYXR0ZXJuXCI9PT1yP3Rbcl09bmV3IFJlZ0V4cChlW3JdKTp0W3JdPWVbcl0pO3JldHVybiB0fWZ1bmN0aW9uIGdldERlZmluaXRpb24oZSl7dmFyIHQ9ZS5zcGxpdChcIi9cIikscj1yb290O2Zvcih2YXIgbiBpbiB0KVwiMFwiIT09biYmKHI9clt0W25dXSk7cmV0dXJuIHJ9ZnVuY3Rpb24gY29udGFpbnNTdHIoZSx0KXtmb3IodmFyIHI9MDtyPGUubGVuZ3RoO3IrKylpZihlW3JdPT10KXJldHVybiEwO3JldHVybiExfWZ1bmN0aW9uIHJlbmFtZVJlcXVpcmVkUHJvcGV0aWVzKGUpe2lmKGUpaWYoZS5oYXNPd25Qcm9wZXJ0eShcIm9uZU9mXCIpKWZvcih2YXIgdCBpbiBlLm9uZU9mKXJlbmFtZVJlcXVpcmVkUHJvcGV0aWVzKGUub25lT2ZbdF0pO2Vsc2UgaWYoZS5oYXNPd25Qcm9wZXJ0eShcIiRyZWZcIikpe3ZhciByPWdldERlZmluaXRpb24oZS4kcmVmKTtyZW5hbWVSZXF1aXJlZFByb3BldGllcyhyKX1lbHNlIGlmKFwib2JqZWN0XCI9PT1lLnR5cGUpe2lmKGUucHJvcGVydGllcyl7ZS5oYXNPd25Qcm9wZXJ0eShcInJlcXVpcmVkXCIpJiZBcnJheS5pc0FycmF5KGUucmVxdWlyZWQpJiYoZS5yZXF1aXJlZFByb3BlcnRpZXM9ZS5yZXF1aXJlZCxkZWxldGUgZS5yZXF1aXJlZCk7Zm9yKHZhciBuIGluIGUucHJvcGVydGllcylyZW5hbWVSZXF1aXJlZFByb3BldGllcyhlLnByb3BlcnRpZXNbbl0pfWlmKGUucGF0dGVyblByb3BlcnRpZXMpZm9yKHZhciBhIGluIGUucGF0dGVyblByb3BlcnRpZXMpe3ZhciBpPWUucGF0dGVyblByb3BlcnRpZXNbYV07KGkuaGFzT3duUHJvcGVydHkoXCJ0eXBlXCIpfHxpLmhhc093blByb3BlcnR5KFwiJHJlZlwiKXx8aS5oYXNPd25Qcm9wZXJ0eShcIm9uZU9mXCIpKSYmcmVuYW1lUmVxdWlyZWRQcm9wZXRpZXMoZS5wYXR0ZXJuUHJvcGVydGllc1thXSl9ZS5hZGRpdGlvbmFsUHJvcGVydGllcyYmKGUuYWRkaXRpb25hbFByb3BlcnRpZXMuaGFzT3duUHJvcGVydHkoXCJ0eXBlXCIpfHxlLmFkZGl0aW9uYWxQcm9wZXJ0aWVzLmhhc093blByb3BlcnR5KFwib25lT2ZcIikpJiZyZW5hbWVSZXF1aXJlZFByb3BldGllcyhlLmFkZGl0aW9uYWxQcm9wZXJ0aWVzKX1lbHNlXCJhcnJheVwiPT09ZS50eXBlJiZyZW5hbWVSZXF1aXJlZFByb3BldGllcyhlLml0ZW1zKX1mdW5jdGlvbiBwb3B1bGF0ZVNjaGVtYU1hcChlLHQpe3ZhciByPWNyZWF0ZVBzZXVkb1NjaGVtYSh0KTtpZihyLiRpZD1lLHNjaGVtYU1hcFtlXT1yLHQpe2lmKHQuaGFzT3duUHJvcGVydHkoXCJvbmVPZlwiKSl7ci5vbmVPZj1uZXcgQXJyYXksci50eXBlPVwib25lT2ZcIjtmb3IodmFyIG4gaW4gdC5vbmVPZil7dmFyIGE9ZStcIi5cIituO3Iub25lT2Zbbl09YSxwb3B1bGF0ZVNjaGVtYU1hcChhLHQub25lT2Zbbl0pfX1lbHNlIGlmKHQuaGFzT3duUHJvcGVydHkoXCIkcmVmXCIpKXt2YXIgaT1nZXREZWZpbml0aW9uKHQuJHJlZik7aWYoaSl7aWYodC5oYXNPd25Qcm9wZXJ0eShcInRpdGxlXCIpfHx0Lmhhc093blByb3BlcnR5KFwiZGVzY3JpcHRpb25cIikpe3ZhciBvPXt9O2Zvcih2YXIgcyBpbiBpKW9bc109aVtzXTt0Lmhhc093blByb3BlcnR5KFwidGl0bGVcIikmJihvLnRpdGxlPXQudGl0bGUpLHQuaGFzT3duUHJvcGVydHkoXCJkZXNjcmlwdGlvblwiKSYmKG8uZGVzY3JpcHRpb249dC5kZXNjcmlwdGlvbiksaT1vfXBvcHVsYXRlU2NoZW1hTWFwKGUsaSl9fWVsc2UgaWYoXCJvYmplY3RcIj09PXQudHlwZSl7aWYodC5wcm9wZXJ0aWVzKXtyLnByb3BlcnRpZXM9bmV3IE9iamVjdDtmb3IodmFyIHMgaW4gdC5wcm9wZXJ0aWVzKXt2YXIgYT1lK1wiLlwiK3M7ci5wcm9wZXJ0aWVzW3NdPWE7dmFyIHU9dC5wcm9wZXJ0aWVzW3NdO3QucmVxdWlyZWRQcm9wZXJ0aWVzJiYoY29udGFpbnNTdHIodC5yZXF1aXJlZFByb3BlcnRpZXMscyk/dS5yZXF1aXJlZD0hMDp1LnJlcXVpcmVkPSExKSxwb3B1bGF0ZVNjaGVtYU1hcChhLHUpfX1pZih0LnBhdHRlcm5Qcm9wZXJ0aWVzKXtyLnBhdHRlcm5Qcm9wZXJ0aWVzPW5ldyBPYmplY3Q7Zm9yKHZhciBsIGluIHQucGF0dGVyblByb3BlcnRpZXMpe3ZhciBkPWUrXCJbXCIrbCtcIl1cIjtyLnBhdHRlcm5Qcm9wZXJ0aWVzW2xdPWQ7dmFyIHA9dC5wYXR0ZXJuUHJvcGVydGllc1tsXTtwLmhhc093blByb3BlcnR5KFwidHlwZVwiKXx8cC5oYXNPd25Qcm9wZXJ0eShcIiRyZWZcIil8fHAuaGFzT3duUHJvcGVydHkoXCJvbmVPZlwiKT9wb3B1bGF0ZVNjaGVtYU1hcChkLHQucGF0dGVyblByb3BlcnRpZXNbbF0pOnBvcHVsYXRlU2NoZW1hTWFwKGQsU0NIRU1BX0FOWSl9fWlmKHQuYWRkaXRpb25hbFByb3BlcnRpZXMpe3ZhciBhPWUrXCJbKl1cIjtyLmFkZGl0aW9uYWxQcm9wZXJ0aWVzPWEsdC5hZGRpdGlvbmFsUHJvcGVydGllcy5oYXNPd25Qcm9wZXJ0eShcInR5cGVcIil8fHQuYWRkaXRpb25hbFByb3BlcnRpZXMuaGFzT3duUHJvcGVydHkoXCJvbmVPZlwiKT9wb3B1bGF0ZVNjaGVtYU1hcChhLHQuYWRkaXRpb25hbFByb3BlcnRpZXMpOnBvcHVsYXRlU2NoZW1hTWFwKGEsU0NIRU1BX0FOWSl9fWVsc2VcImFycmF5XCI9PT10LnR5cGUmJihyLml0ZW1zPWUrXCJbI11cIixwb3B1bGF0ZVNjaGVtYU1hcChyLml0ZW1zLHQuaXRlbXMpKTtpZih0Lmhhc093blByb3BlcnR5KFwiZGVwZW5kc09uXCIpKXtudWxsPT09dC5kZXBlbmRzT24mJih0LmRlcGVuZHNPbj1bXCIkXCJdKTtmb3IodmFyIGM9bmV3IEFycmF5LG49MDtuPHQuZGVwZW5kc09uLmxlbmd0aDtuKyspdC5kZXBlbmRzT25bbl0/dC5kZXBlbmRzT25bbl0uc3RhcnRzV2l0aChcIiRcIik/Y1tuXT10LmRlcGVuZHNPbltuXTplLmVuZHNXaXRoKFwiXVwiKT9jW25dPWUrXCIuXCIrdC5kZXBlbmRzT25bbl06Y1tuXT1lLnN1YnN0cmluZygwLGUubGFzdEluZGV4T2YoXCIuXCIpKStcIi5cIit0LmRlcGVuZHNPbltuXTpjW25dPVwiJFwiO3NjaGVtYU1hcFtlXS5kZXBlbmRzT249Yztmb3IodmFyIG49MDtuPGMubGVuZ3RoO24rKyl7dmFyIG09ZGVwZW5kZW5jeU1hcFtjW25dXTttfHwobT1uZXcgQXJyYXksZGVwZW5kZW5jeU1hcFtjW25dXT1tKSxtW20ubGVuZ3RoXT1lfX19fWZ1bmN0aW9uIHJlbmRlclRpdGxlKGUsdCxyKXtpZihlJiZ0KXt2YXIgbj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGFiZWxcIik7XCJhbnlcIiE9PXIudHlwZSYmXCJvYmplY3RcIiE9PXIudHlwZSYmXCJhcnJheVwiIT09ci50eXBlJiYobi5odG1sRm9yPWdldElucHV0SWQoKSk7dmFyIGE9ZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUodCtcIjpcIik7aWYoYXBwZW5kQ2hpbGQobixhLHIpLHIuZGVzY3JpcHRpb24mJihuLnRpdGxlPXIuZGVzY3JpcHRpb24pLHIucmVxdWlyZWQpe3ZhciBpPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdXBcIik7YXBwZW5kQ2hpbGQoaSxkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShcIipcIiksciksYXBwZW5kQ2hpbGQobixpLHIpLG4uY2xhc3NOYW1lPVwicmVxdWlyZWRcIn1hcHBlbmRDaGlsZChlLG4scil9fWZ1bmN0aW9uIGdldElucHV0SWQoKXtyZXR1cm4gZm9ybUlkK1wiX1wiK2lucHV0Q291bnRlcn1mdW5jdGlvbiB2YWxpZGF0ZShlKXt2YXIgdD0hMDtpZihlLmhhc093blByb3BlcnR5KFwiZ2V0VmFsaWRhdGlvbkVycm9yXCIpKXt2YXIgcj1lLmdldFZhbGlkYXRpb25FcnJvcigpO3I/KEJydXR1c2luRm9ybXMub25WYWxpZGF0aW9uRXJyb3IoZSxyKSx0PSExKTpCcnV0dXNpbkZvcm1zLm9uVmFsaWRhdGlvblN1Y2Nlc3MoZSl9aWYoZS5jaGlsZE5vZGVzKWZvcih2YXIgbj0wO248ZS5jaGlsZE5vZGVzLmxlbmd0aDtuKyspdmFsaWRhdGUoZS5jaGlsZE5vZGVzW25dKXx8KHQ9ITEpO3JldHVybiB0fWZ1bmN0aW9uIGNsZWFyKGUpe2lmKGUpZm9yKDtlLmZpcnN0Q2hpbGQ7KWUucmVtb3ZlQ2hpbGQoZS5maXJzdENoaWxkKX1mdW5jdGlvbiByZW5kZXIoZSx0LHIsbixhLGkpe3ZhciBvPWdldFNjaGVtYUlkKHIpLHM9Z2V0U2NoZW1hKG8pO3JlbmRlckluZm9NYXBbb109bmV3IE9iamVjdCxyZW5kZXJJbmZvTWFwW29dLnRpdGxlQ29udGFpbmVyPWUscmVuZGVySW5mb01hcFtvXS5jb250YWluZXI9dCxyZW5kZXJJbmZvTWFwW29dLnBhcmVudE9iamVjdD1uLHJlbmRlckluZm9NYXBbb10ucHJvcGVydHlQcm92aWRlcj1hLHJlbmRlckluZm9NYXBbb10udmFsdWU9aSxjbGVhcihlKSxjbGVhcih0KTt2YXIgdT1yZW5kZXJlcnNbcy50eXBlXTtpZih1JiYhcy5kZXBlbmRzT24pcy50aXRsZT9yZW5kZXJUaXRsZShlLHMudGl0bGUscyk6YSYmcmVuZGVyVGl0bGUoZSxhLmdldFZhbHVlKCkscyksaXx8KGk9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIGluaXRpYWxWYWx1ZSYmbnVsbCE9PWluaXRpYWxWYWx1ZT9nZXRJbml0aWFsVmFsdWUocik6c1tcImRlZmF1bHRcIl0pLHUodCxyLG4sYSxpKTtlbHNlIGlmKHMuJHJlZiYmb2JqLnNjaGVtYVJlc29sdmVyKXt2YXIgbD1mdW5jdGlvbihlKXtpZihlJiZlLmhhc093blByb3BlcnR5KHIpJiZKU09OLnN0cmluZ2lmeShzY2hlbWFNYXBbcl0pIT09SlNPTi5zdHJpbmdpZnkoZVtyXSkpe2NsZWFuU2NoZW1hTWFwKHIpLGNsZWFuRGF0YShyKSxwb3B1bGF0ZVNjaGVtYU1hcChyLGVbcl0pO3ZhciB0PXJlbmRlckluZm9NYXBbcl07dCYmcmVuZGVyKHQudGl0bGVDb250YWluZXIsdC5jb250YWluZXIscix0LnBhcmVudE9iamVjdCx0LnByb3BlcnR5UHJvdmlkZXIsdC52YWx1ZSl9QnJ1dHVzaW5Gb3Jtcy5vblJlc29sdXRpb25GaW5pc2hlZChuKX07QnJ1dHVzaW5Gb3Jtcy5vblJlc29sdXRpb25TdGFydGVkKG4pLG9iai5zY2hlbWFSZXNvbHZlcihbcl0sb2JqLmdldERhdGEoKSxsKX19ZnVuY3Rpb24gY3JlYXRlUHJvcGVydHlQcm92aWRlcihlLHQpe3ZhciByPW5ldyBPYmplY3Q7cmV0dXJuIHIuZ2V0VmFsdWU9ZSxyLm9uY2hhbmdlPXQscn1mdW5jdGlvbiBnZXRJbml0aWFsVmFsdWUoaWQpe3ZhciByZXQ7dHJ5e2V2YWwoXCJyZXQgPSBpbml0aWFsVmFsdWVcIitpZC5zdWJzdHJpbmcoMSkpfWNhdGNoKGUpe3JldD1udWxsfXJldHVybiByZXR9ZnVuY3Rpb24gZ2V0VmFsdWUoc2NoZW1hLGlucHV0KXtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBpbnB1dC5nZXRWYWx1ZSlyZXR1cm4gaW5wdXQuZ2V0VmFsdWUoKTt2YXIgdmFsdWU7cmV0dXJuIHZhbHVlPVwic2VsZWN0XCI9PT1pbnB1dC50YWdOYW1lLnRvTG93ZXJDYXNlKCk/aW5wdXQub3B0aW9uc1tpbnB1dC5zZWxlY3RlZEluZGV4XS52YWx1ZTppbnB1dC52YWx1ZSxcIlwiPT09dmFsdWU/bnVsbDooXCJpbnRlZ2VyXCI9PT1zY2hlbWEudHlwZT8odmFsdWU9cGFyc2VJbnQodmFsdWUpLGlzRmluaXRlKHZhbHVlKXx8KHZhbHVlPW51bGwpKTpcIm51bWJlclwiPT09c2NoZW1hLnR5cGU/KHZhbHVlPXBhcnNlRmxvYXQodmFsdWUpLGlzRmluaXRlKHZhbHVlKXx8KHZhbHVlPW51bGwpKTpcImJvb2xlYW5cIj09PXNjaGVtYS50eXBlP1wiaW5wdXRcIj09PWlucHV0LnRhZ05hbWUudG9Mb3dlckNhc2UoKT8odmFsdWU9aW5wdXQuY2hlY2tlZCx2YWx1ZXx8KHZhbHVlPSExKSk6XCJzZWxlY3RcIj09PWlucHV0LnRhZ05hbWUudG9Mb3dlckNhc2UoKSYmKHZhbHVlPVwidHJ1ZVwiPT09aW5wdXQudmFsdWU/ITA6XCJmYWxzZVwiPT09aW5wdXQudmFsdWU/ITE6bnVsbCk6XCJhbnlcIj09PXNjaGVtYS50eXBlJiZ2YWx1ZSYmZXZhbChcInZhbHVlPVwiK3ZhbHVlKSx2YWx1ZSl9ZnVuY3Rpb24gZ2V0U2NoZW1hSWQoZSl7cmV0dXJuIGUucmVwbGFjZSgvXFxbXCJbXlwiXSpcIlxcXS9nLFwiWypdXCIpLnJlcGxhY2UoL1xcW1xcZCpcXF0vZyxcIlsjXVwiKX1mdW5jdGlvbiBnZXRQYXJlbnRTY2hlbWFJZChlKXtyZXR1cm4gZS5zdWJzdHJpbmcoMCxlLmxhc3RJbmRleE9mKFwiLlwiKSl9ZnVuY3Rpb24gZ2V0U2NoZW1hKGUpe3JldHVybiBzY2hlbWFNYXBbZV19ZnVuY3Rpb24gY2xlYW5TY2hlbWFNYXAoZSl7Zm9yKHZhciB0IGluIHNjaGVtYU1hcCllLnN0YXJ0c1dpdGgodCkmJmRlbGV0ZSBzY2hlbWFNYXBbdF19ZnVuY3Rpb24gY2xlYW5EYXRhKGUpe3ZhciB0PW5ldyBFeHByZXNzaW9uKGUpO3QudmlzaXQoZGF0YSxmdW5jdGlvbihlLHQscil7ZGVsZXRlIHRbcl19KX1mdW5jdGlvbiBvbkRlcGVuZGVuY3lDaGFuZ2VkKGUsdCl7dmFyIHI9ZGVwZW5kZW5jeU1hcFtlXTtpZihyJiZvYmouc2NoZW1hUmVzb2x2ZXIpe3ZhciBuPWZ1bmN0aW9uKGUpe2lmKGUpZm9yKHZhciByIGluIGUpaWYoSlNPTi5zdHJpbmdpZnkoc2NoZW1hTWFwW3JdKSE9PUpTT04uc3RyaW5naWZ5KGVbcl0pKXtjbGVhblNjaGVtYU1hcChyKSxjbGVhbkRhdGEocikscG9wdWxhdGVTY2hlbWFNYXAocixlW3JdKTt2YXIgbj1yZW5kZXJJbmZvTWFwW3JdO24mJnJlbmRlcihuLnRpdGxlQ29udGFpbmVyLG4uY29udGFpbmVyLHIsbi5wYXJlbnRPYmplY3Qsbi5wcm9wZXJ0eVByb3ZpZGVyLG4udmFsdWUpfUJydXR1c2luRm9ybXMub25SZXNvbHV0aW9uRmluaXNoZWQodCl9O0JydXR1c2luRm9ybXMub25SZXNvbHV0aW9uU3RhcnRlZCh0KSxvYmouc2NoZW1hUmVzb2x2ZXIocixvYmouZ2V0RGF0YSgpLG4pfX1mdW5jdGlvbiBFeHByZXNzaW9uKGUpe2Z1bmN0aW9uIHQoZSl7aWYobnVsbD09PWUpcmV0dXJuIG51bGw7Zm9yKHZhciB0PW5ldyBBcnJheSxyPW51bGwsbj0wLGE9MDthPGUubGVuZ3RoO2ErKyknXCInPT09ZS5jaGFyQXQoYSk/bnVsbD09PXI/cj0nXCInOidcIic9PT1yJiYocj1udWxsLHRbdC5sZW5ndGhdPWUuc3Vic3RyaW5nKG4sYSsxKS50cmltKCksbj1hKzEpOlwiJ1wiPT09ZS5jaGFyQXQoYSk/bnVsbD09PXI/cj1cIidcIjpcIidcIj09PXImJihyPW51bGwsdFt0Lmxlbmd0aF09ZS5zdWJzdHJpbmcobixhKzEpLnRyaW0oKSxuPWErMSk6XCJbXCI9PT1lLmNoYXJBdChhKT9udWxsPT09ciYmKG4hPT1hJiYodFt0Lmxlbmd0aF09ZS5zdWJzdHJpbmcobixhKS50cmltKCkpLHRbdC5sZW5ndGhdPVwiW1wiLG49YSsxKTpcIl1cIj09PWUuY2hhckF0KGEpP251bGw9PT1yJiYobiE9PWEmJih0W3QubGVuZ3RoXT1lLnN1YnN0cmluZyhuLGEpLnRyaW0oKSksdFt0Lmxlbmd0aF09XCJdXCIsbj1hKzEpOlwiLlwiPT09ZS5jaGFyQXQoYSk/bnVsbD09PXImJihuIT09YSYmKHRbdC5sZW5ndGhdPWUuc3Vic3RyaW5nKG4sYSkudHJpbSgpKSxuPWErMSk6YT09PWUubGVuZ3RoLTEmJih0W3QubGVuZ3RoXT1lLnN1YnN0cmluZyhuLGErMSkudHJpbSgpKTtyZXR1cm4gdH0obnVsbD09PWV8fDA9PT1lLmxlbmd0aHx8XCIuXCI9PT1lKSYmKGU9XCIkXCIpO2Zvcih2YXIgcj1uZXcgQXJyYXksbj10KGUpLGE9ITEsaT0wLG89XCJcIixzPTA7czxuLmxlbmd0aDtzKyspe3ZhciB1PW5bc107aWYoXCJbXCI9PT11KXtpZihhKXRocm93XCJFcnJvciBwYXJzaW5nIGV4cHJlc3Npb24gJ1wiK2UrXCInOiBOZXN0ZWQgWyBmb3VuZFwiO2E9ITAsaT0wLG8rPXV9ZWxzZSBpZihcIl1cIj09PXUpe2lmKCFhKXRocm93XCJFcnJvciBwYXJzaW5nIGV4cHJlc3Npb24gJ1wiK2UrXCInOiBVbmJhbGFuY2VkIF0gZm91bmRcIjthPSExLG8rPXUscltyLmxlbmd0aF09byxvPVwiXCJ9ZWxzZSBpZihhKXtpZihpPjApdGhyb3dcIkVycm9yIHBhcnNpbmcgZXhwcmVzc2lvbiAnXCIrZStcIic6IE11bHRpcGxlIHRva2VucyBmb3VuZCBpbnNpZGUgYSBicmFja2V0XCI7bys9dSxpKyt9ZWxzZSByW3IubGVuZ3RoXT11O2lmKHM9PT1uLmxlbmd0aC0xJiZhKXRocm93XCJFcnJvciBwYXJzaW5nIGV4cHJlc3Npb24gJ1wiK2UrXCInOiBVbmJhbGFuY2VkIFsgZm91bmRcIn10aGlzLmV4cD1lLHRoaXMucXVldWU9cix0aGlzLnZpc2l0PWZ1bmN0aW9uKGUsdCl7ZnVuY3Rpb24gcihlLG4sYSxpLG8pe2lmKG51bGwhPWEpe3ZhciBzPW4uc2hpZnQoKTtpZihcIiRcIj09PXMpe2U9XCIkXCI7dmFyIHM9bi5zaGlmdCgpfWlmKHMpaWYoQXJyYXkuaXNBcnJheShhKSl7aWYoIXMuc3RhcnRzV2l0aChcIltcIikpdGhyb3dcIk5vZGUgJ1wiK2UrXCInIGlzIG9mIHR5cGUgYXJyYXlcIjt2YXIgdT1zLnN1YnN0cmluZygxLHMubGVuZ3RoLTEpO2lmKHUuZXF1YWxzKFwiI1wiKSlmb3IodmFyIGw9MDtsPGEubGVuZ3RoO2wrKyl7dmFyIGQ9YVtsXTtyKGUrcyxuLnNsaWNlKDApLGQsYSxsKSxyKGUrXCJbXCIrbCtcIl1cIixuLnNsaWNlKDApLGQsYSxsKX1lbHNlIGlmKFwiJFwiPT09dSl7dmFyIGQ9YVthLmxlbmd0aC0xXTtyKGUrcyxuLnNsaWNlKDApLGQsYSxhLmxlbmd0aC0xKX1lbHNle3ZhciBwPXBhcnNlSW50KHUpO2lmKGlzTmFOKHApKXRocm93XCJFbGVtZW50ICdcIit1K1wiJyBvZiBub2RlICdcIitlK1wiJyBpcyBub3QgYW4gaW50ZWdlciwgb3IgdGhlICckJyBsYXN0IGVsZW1lbnQgc3ltYm9sLCAgb3IgdGhlIHdpbGNhcmQgc3ltYm9sICcjJ1wiO2lmKDA+cCl0aHJvd1wiRWxlbWVudCAnXCIrdStcIicgb2Ygbm9kZSAnXCIrZStcIicgaXMgbG93ZXIgdGhhbiB6ZXJvXCI7dmFyIGQ9YVtwXTtyKGUrcyxuLnNsaWNlKDApLGQsYSxwKX19ZWxzZXtpZihcIm9iamVjdFwiIT10eXBlb2YgYSl0aHJvd1wiYm9vbGVhblwiPT10eXBlb2YgYXx8XCJudW1iZXJcIj09dHlwZW9mIGF8fFwic3RyaW5nXCI9PXR5cGVvZiBhP1wiTm9kZSBpcyBsZWFmIGJ1dCBzdGlsbCBhcmUgdG9rZW5zIHJlbWFpbmluZzogXCIrczpcIk5vZGUgdHlwZSAnXCIrdHlwZW9mIGErXCInIG5vdCBzdXBwb3J0ZWQgZm9yIGluZGV4IGZpZWxkICdcIitlK1wiJ1wiO2lmKFwiWypdXCI9PT1zKWZvcih2YXIgYyBpbiBhKXt2YXIgZD1hW2NdO3IoZStzLG4uc2xpY2UoMCksZCxhLGMpLHIoZSsnW1wiJytjKydcIl0nLG4uc2xpY2UoMCksZCxhLGMpfWVsc2V7dmFyIGQ7aWYocy5zdGFydHNXaXRoKFwiW1wiKSl7dmFyIHU9cy5zdWJzdHJpbmcoMSxzLmxlbmd0aC0xKTtpZighdS5zdGFydHNXaXRoKCdcIicpJiYhdS5zdGFydHNXaXRoKFwiJ1wiKSl0aHJvd1wiRWxlbWVudCAnXCIrdStcIicgb2Ygbm9kZSAnXCIrZStcIicgbXVzdCBiZSBhIHN0cmluZyBleHByZXNzaW9uIG9yIHdpbGNhcmQgJyonXCI7dT11LnN1YnN0cmluZygxLHUubGVuZ3RoKCktMSksZSs9cyxkPWFbdV19ZWxzZSBlPWUubGVuZ3RoPjA/ZStcIi5cIitzOnMsZD1hW3NdO3IoZSxuLGQsYSxzKX19ZWxzZSB0KGEsaSxvKX19cih0aGlzLmV4cCx0aGlzLnF1ZXVlLGUpfX12YXIgU0NIRU1BX0FOWT17dHlwZTpcImFueVwifSxvYmo9bmV3IE9iamVjdCxzY2hlbWFNYXA9bmV3IE9iamVjdCxkZXBlbmRlbmN5TWFwPW5ldyBPYmplY3QscmVuZGVySW5mb01hcD1uZXcgT2JqZWN0LGNvbnRhaW5lcixkYXRhLGVycm9yLGluaXRpYWxWYWx1ZSxpbnB1dENvdW50ZXI9MCxyb290PXNjaGVtYSxmb3JtSWQ9XCJCcnV0dXNpbkZvcm1zI1wiK0JydXR1c2luRm9ybXMuaW5zdGFuY2VzLmxlbmd0aDtyZW5hbWVSZXF1aXJlZFByb3BldGllcyhzY2hlbWEpLHBvcHVsYXRlU2NoZW1hTWFwKFwiJFwiLHNjaGVtYSksdmFsaWRhdGVEZXBlbmN5TWFwSXNBY3ljbGljKCk7dmFyIHJlbmRlcmVycz1uZXcgT2JqZWN0O3JldHVybiByZW5kZXJlcnMuaW50ZWdlcj1mdW5jdGlvbihlLHQscixuLGEpe3JlbmRlcmVycy5zdHJpbmcoZSx0LHIsbixhKX0scmVuZGVyZXJzLm51bWJlcj1mdW5jdGlvbihlLHQscixuLGEpe3JlbmRlcmVycy5zdHJpbmcoZSx0LHIsbixhKX0scmVuZGVyZXJzLmFueT1mdW5jdGlvbihlLHQscixuLGEpe3JlbmRlcmVycy5zdHJpbmcoZSx0LHIsbixhKX0scmVuZGVyZXJzLnN0cmluZz1mdW5jdGlvbihlLHQscixuLGEpe3ZhciBpLG89Z2V0U2NoZW1hSWQodCkscz1nZXRQYXJlbnRTY2hlbWFJZChvKSx1PWdldFNjaGVtYShvKSxsPWdldFNjaGVtYShzKTtpZihcImFueVwiPT09dS50eXBlKWk9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRleHRhcmVhXCIpLGEmJihpLnZhbHVlPUpTT04uc3RyaW5naWZ5KGEsbnVsbCw0KSx1LnJlYWRPbmx5JiYoaS5kaXNhYmxlZD0hMCkpO2Vsc2UgaWYodS5tZWRpYSlpPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbnB1dFwiKSxpLnR5cGU9XCJmaWxlXCIsYXBwZW5kQ2hpbGQoaSxkLHUpO2Vsc2UgaWYodVtcImVudW1cIl0pe2lmKGk9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInNlbGVjdFwiKSwhdS5yZXF1aXJlZCl7dmFyIGQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcIm9wdGlvblwiKSxwPWRvY3VtZW50LmNyZWF0ZVRleHROb2RlKFwiXCIpO2QudmFsdWU9XCJcIixhcHBlbmRDaGlsZChkLHAsdSksYXBwZW5kQ2hpbGQoaSxkLHUpfWZvcih2YXIgYz0wLG09MDttPHVbXCJlbnVtXCJdLmxlbmd0aDttKyspe3ZhciBkPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJvcHRpb25cIikscD1kb2N1bWVudC5jcmVhdGVUZXh0Tm9kZSh1W1wiZW51bVwiXVttXSk7ZC52YWx1ZT11W1wiZW51bVwiXVttXSxhcHBlbmRDaGlsZChkLHAsdSksYXBwZW5kQ2hpbGQoaSxkLHUpLGEmJnVbXCJlbnVtXCJdW21dPT09YSYmKGM9bSx1LnJlcXVpcmVkfHxjKyssdS5yZWFkT25seSYmKGkuZGlzYWJsZWQ9ITApKX0xPT09dVtcImVudW1cIl0ubGVuZ3RoP2kuc2VsZWN0ZWRJbmRleD0xOmkuc2VsZWN0ZWRJbmRleD1jfWVsc2V7aWYoaT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIiksXCJpbnRlZ2VyXCI9PT11LnR5cGV8fFwibnVtYmVyXCI9PT11LnR5cGUpaS50eXBlPVwibnVtYmVyXCIsaS5zdGVwPXUuc3RlcD9cIlwiK3Uuc3RlcDpcImFueVwiLFwibnVtYmVyXCIhPXR5cGVvZiBhJiYoYT1udWxsKTtlbHNlIGlmKFwiZGF0ZS10aW1lXCI9PT11LmZvcm1hdCl0cnl7aS50eXBlPVwiZGF0ZXRpbWUtbG9jYWxcIn1jYXRjaChmKXtpLnR5cGU9XCJ0ZXh0XCJ9ZWxzZVwiZW1haWxcIj09PXUuZm9ybWF0P2kudHlwZT1cImVtYWlsXCI6XCJ0ZXh0XCI9PT11LmZvcm1hdD9pPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0ZXh0YXJlYVwiKTppLnR5cGU9XCJ0ZXh0XCI7bnVsbCE9PWEmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBhJiYoaS52YWx1ZT1hLHUucmVhZE9ubHkmJihpLmRpc2FibGVkPSEwKSl9cmV0dXJuIGkuc2NoZW1hPW8saS5zZXRBdHRyaWJ1dGUoXCJhdXRvY29ycmVjdFwiLFwib2ZmXCIpLGkuZ2V0VmFsaWRhdGlvbkVycm9yPWZ1bmN0aW9uKCl7dHJ5e3ZhciBlPWdldFZhbHVlKHUsaSk7aWYobnVsbD09PWUpe2lmKHUucmVxdWlyZWQpe2lmKCFsfHxcIm9iamVjdFwiIT09bC50eXBlKXJldHVybiBCcnV0dXNpbkZvcm1zLm1lc3NhZ2VzLnJlcXVpcmVkO2lmKGwucmVxdWlyZWQpcmV0dXJuIEJydXR1c2luRm9ybXMubWVzc2FnZXMucmVxdWlyZWQ7Zm9yKHZhciB0IGluIHIpaWYobnVsbCE9PXJbdF0pcmV0dXJuIEJydXR1c2luRm9ybXMubWVzc2FnZXMucmVxdWlyZWR9fWVsc2V7aWYodS5wYXR0ZXJuJiYhdS5wYXR0ZXJuLnRlc3QoZSkpcmV0dXJuIEJydXR1c2luRm9ybXMubWVzc2FnZXMucGF0dGVybi5mb3JtYXQodS5wYXR0ZXJuLnNvdXJjZSk7aWYodS5taW5MZW5ndGgmJighZXx8dS5taW5MZW5ndGg+ZS5sZW5ndGgpKXJldHVybiBCcnV0dXNpbkZvcm1zLm1lc3NhZ2VzLm1pbkxlbmd0aC5mb3JtYXQodS5taW5MZW5ndGgpO2lmKHUubWF4TGVuZ3RoJiZlJiZ1Lm1heExlbmd0aDxlLmxlbmd0aClyZXR1cm4gQnJ1dHVzaW5Gb3Jtcy5tZXNzYWdlcy5tYXhMZW5ndGguZm9ybWF0KHUubWF4TGVuZ3RoKX1pZihudWxsIT09ZSYmIWlzTmFOKGUpKXtpZih1Lm11bHRpcGxlT2YmJmUldS5tdWx0aXBsZU9mIT09MClyZXR1cm4gQnJ1dHVzaW5Gb3Jtcy5tZXNzYWdlcy5tdWx0aXBsZU9mLmZvcm1hdCh1Lm11bHRpcGxlT2YpO2lmKHUuaGFzT3duUHJvcGVydHkoXCJtYXhpbXVtXCIpKXtpZih1LmV4Y2x1c2l2ZU1heGltdW0mJmU+PXUubWF4aW11bSlyZXR1cm4gQnJ1dHVzaW5Gb3Jtcy5tZXNzYWdlcy5leGNsdXNpdmVNYXhpbXVtLmZvcm1hdCh1Lm1heGltdW0pO2lmKCF1LmV4Y2x1c2l2ZU1heGltdW0mJmU+dS5tYXhpbXVtKXJldHVybiBCcnV0dXNpbkZvcm1zLm1lc3NhZ2VzLm1heGltdW0uZm9ybWF0KHUubWF4aW11bSl9aWYodS5oYXNPd25Qcm9wZXJ0eShcIm1pbmltdW1cIikpe2lmKHUuZXhjbHVzaXZlTWluaW11bSYmZTw9dS5taW5pbXVtKXJldHVybiBCcnV0dXNpbkZvcm1zLm1lc3NhZ2VzLmV4Y2x1c2l2ZU1pbmltdW0uZm9ybWF0KHUubWluaW11bSk7aWYoIXUuZXhjbHVzaXZlTWluaW11bSYmZTx1Lm1pbmltdW0pcmV0dXJuIEJydXR1c2luRm9ybXMubWVzc2FnZXMubWluaW11bS5mb3JtYXQodS5taW5pbXVtKX19fWNhdGNoKG4pe3JldHVybiBCcnV0dXNpbkZvcm1zLm1lc3NhZ2VzLmludmFsaWRWYWx1ZX19LGkub25jaGFuZ2U9ZnVuY3Rpb24oKXt2YXIgZTt0cnl7ZT1nZXRWYWx1ZSh1LGkpfWNhdGNoKHQpe2U9bnVsbH1yP3Jbbi5nZXRWYWx1ZSgpXT1lOmRhdGE9ZSxvbkRlcGVuZGVuY3lDaGFuZ2VkKG8saSl9LHUuZGVzY3JpcHRpb24mJihpLnRpdGxlPXUuZGVzY3JpcHRpb24saS5wbGFjZWhvbGRlcj11LmRlc2NyaXB0aW9uKSxpLm9uY2hhbmdlKCksaS5pZD1nZXRJbnB1dElkKCksaW5wdXRDb3VudGVyKyssYXBwZW5kQ2hpbGQoZSxpLHUpLHJ9LHJlbmRlcmVyc1tcImJvb2xlYW5cIl09ZnVuY3Rpb24oZSx0LHIsbixhKXt2YXIgaSxvPWdldFNjaGVtYUlkKHQpLHM9Z2V0U2NoZW1hKG8pO2lmKHMucmVxdWlyZWQpaT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIiksaS50eXBlPVwiY2hlY2tib3hcIixhPT09ITAmJihpLmNoZWNrZWQ9ITApO2Vsc2V7aT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic2VsZWN0XCIpO3ZhciB1PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJvcHRpb25cIiksbD1kb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShcIlwiKTtsLnZhbHVlPVwiXCIsYXBwZW5kQ2hpbGQodSxsLHMpLGFwcGVuZENoaWxkKGksdSxzKTt2YXIgZD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwib3B0aW9uXCIpLHA9ZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoQnJ1dHVzaW5Gb3Jtcy5tZXNzYWdlc1tcInRydWVcIl0pO2QudmFsdWU9XCJ0cnVlXCIsYXBwZW5kQ2hpbGQoZCxwLHMpLGFwcGVuZENoaWxkKGksZCxzKTt2YXIgYz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwib3B0aW9uXCIpLG09ZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoQnJ1dHVzaW5Gb3Jtcy5tZXNzYWdlc1tcImZhbHNlXCJdKTtjLnZhbHVlPVwiZmFsc2VcIixhcHBlbmRDaGlsZChjLG0scyksYXBwZW5kQ2hpbGQoaSxjLHMpLGE9PT0hMD9pLnNlbGVjdGVkSW5kZXg9MTphPT09ITEmJihpLnNlbGVjdGVkSW5kZXg9Mil9aS5vbmNoYW5nZT1mdW5jdGlvbigpe3I/cltuLmdldFZhbHVlKCldPWdldFZhbHVlKHMsaSk6ZGF0YT1nZXRWYWx1ZShzLGkpLG9uRGVwZW5kZW5jeUNoYW5nZWQobyxpKX0saS5zY2hlbWE9byxpLmlkPWdldElucHV0SWQoKSxpbnB1dENvdW50ZXIrKyxzLmRlc2NyaXB0aW9uJiYoaS50aXRsZT1zLmRlc2NyaXB0aW9uKSxpLm9uY2hhbmdlKCksYXBwZW5kQ2hpbGQoZSxpLHMpfSxyZW5kZXJlcnMub25lT2Y9ZnVuY3Rpb24oZSx0LHIsbixhKXt2YXIgaT1nZXRTY2hlbWFJZCh0KSxvPWdldFNjaGVtYShpKSxzPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzZWxlY3RcIiksdT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO3UuaW5uZXJIVE1MPVwiXCIscy50eXBlPVwic2VsZWN0XCIscy5zY2hlbWE9aTt2YXIgbD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwib3B0aW9uXCIpO2wudmFsdWU9bnVsbCxhcHBlbmRDaGlsZChzLGwsbyk7Zm9yKHZhciBkPTA7ZDxvLm9uZU9mLmxlbmd0aDtkKyspe3ZhciBwPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJvcHRpb25cIiksYz1pK1wiLlwiK2QsbT1nZXRTY2hlbWEoYyksZj1kb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShtLnRpdGxlKTtpZihwLnZhbHVlPW8ub25lT2ZbZF0sYXBwZW5kQ2hpbGQocCxmLG8pLGFwcGVuZENoaWxkKHMscCxvKSx2b2lkIDAhPT1hJiZudWxsIT09YSYmKG8ucmVhZE9ubHkmJihzLmRpc2FibGVkPSEwKSxhLmhhc093blByb3BlcnR5KFwidHlwZVwiKSYmbS5oYXNPd25Qcm9wZXJ0eShcInByb3BlcnRpZXNcIikmJm0ucHJvcGVydGllcy5oYXNPd25Qcm9wZXJ0eShcInR5cGVcIikpKXt2YXIgaD1nZXRTY2hlbWEobS5wcm9wZXJ0aWVzLnR5cGUpO2EudHlwZT09PWhbXCJlbnVtXCJdWzBdJiYocy5zZWxlY3RlZEluZGV4PWQrMSxyZW5kZXIobnVsbCx1LHQrXCIuXCIrKHMuc2VsZWN0ZWRJbmRleC0xKSxyLG4sYSkpfX1zLm9uY2hhbmdlPWZ1bmN0aW9uKCl7cmVuZGVyKG51bGwsdSx0K1wiLlwiKyhzLnNlbGVjdGVkSW5kZXgtMSkscixuLGEpfSxhcHBlbmRDaGlsZChlLHMsbyksYXBwZW5kQ2hpbGQoZSx1LG8pfSxyZW5kZXJlcnMub2JqZWN0PWZ1bmN0aW9uKGUsdCxyLG4sYSl7ZnVuY3Rpb24gaShlKXt2YXIgdD1uZXcgT2JqZWN0O3JldHVybiB0LmdldFZhbHVlPWZ1bmN0aW9uKCl7cmV0dXJuIGV9LHQub25jaGFuZ2U9ZnVuY3Rpb24oZSl7fSx0fWZ1bmN0aW9uIG8oZSx0LHIsbixhLGkpe3ZhciBvPWdldFNjaGVtYUlkKHIpLHM9Z2V0U2NoZW1hKG8pLHU9dC50Qm9kaWVzWzBdLGw9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRyXCIpLGQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRkXCIpO2QuY2xhc3NOYW1lPVwiYWRkLXByb3AtbmFtZVwiO3ZhciBwPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0YWJsZVwiKSxjPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0clwiKSxtPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0ZFwiKSxmPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0ZFwiKSxoPVwiJFwiK09iamVjdC5rZXlzKGUpLmxlbmd0aCtcIiRcIix2PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0ZFwiKTt2LmNsYXNzTmFtZT1cInByb3AtdmFsdWVcIjt2YXIgZz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW5wdXRcIik7Zy50eXBlPVwidGV4dFwiO3ZhciB5O2kmJih5PVJlZ0V4cChpKSksZy5nZXRWYWxpZGF0aW9uRXJyb3I9ZnVuY3Rpb24oKXtyZXR1cm4gZy5wcmV2aW91c1ZhbHVlIT09Zy52YWx1ZSYmZS5oYXNPd25Qcm9wZXJ0eShnLnZhbHVlKT9CcnV0dXNpbkZvcm1zLm1lc3NhZ2VzLmFkZHByb3BOYW1lRXhpc3RlbnQ6Zy52YWx1ZT92b2lkIDA6QnJ1dHVzaW5Gb3Jtcy5tZXNzYWdlcy5hZGRwcm9wTmFtZVJlcXVpcmVkfTt2YXIgYj1jcmVhdGVQcm9wZXJ0eVByb3ZpZGVyKGZ1bmN0aW9uKCl7aWYoZy52YWx1ZSl7aWYoIXkpcmV0dXJuIGcudmFsdWU7aWYoLTEhPT1nLnZhbHVlLnNlYXJjaCh5KSlyZXR1cm4gZy52YWx1ZX1yZXR1cm4gaH0sZnVuY3Rpb24odCl7Yi5nZXRWYWx1ZSgpIT09dCYmKHQmJmUuaGFzT3duUHJvcGVydHkodCl8fCh0PWgpLChlLmhhc093blByb3BlcnR5KHQpfHx5JiYtMT09PWIuZ2V0VmFsdWUoKS5zZWFyY2goeSkpJiYoZVtiLmdldFZhbHVlKCldPWVbdF0sZGVsZXRlIGVbdF0pKX0pO2cub25ibHVyPWZ1bmN0aW9uKCl7aWYoZy5wcmV2aW91c1ZhbHVlIT09Zy52YWx1ZSl7Zm9yKHZhciB0PWcudmFsdWUscj0xO2cucHJldmlvdXNWYWx1ZSE9PXQmJmUuaGFzT3duUHJvcGVydHkodCk7KXQ9Zy52YWx1ZStcIihcIityK1wiKVwiLHIrKztyZXR1cm4gZy52YWx1ZT10LGIub25jaGFuZ2UoZy5wcmV2aW91c1ZhbHVlKSx2b2lkKGcucHJldmlvdXNWYWx1ZT1nLnZhbHVlKX19O3ZhciBQPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7UC5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsXCJidXR0b25cIiksUC5jbGFzc05hbWU9XCJyZW1vdmVcIixhcHBlbmRDaGlsZChQLGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKFwieFwiKSxzKSxQLm9uY2xpY2s9ZnVuY3Rpb24oKXtkZWxldGUgZVtnLnZhbHVlXSx0LmRlbGV0ZVJvdyhsLnJvd0luZGV4KSxnLnZhbHVlPW51bGwsYi5vbmNoYW5nZShnLnByZXZpb3VzVmFsdWUpfSxhcHBlbmRDaGlsZChtLGcscyksYXBwZW5kQ2hpbGQoZixQLHMpLGFwcGVuZENoaWxkKGMsbSxzKSxhcHBlbmRDaGlsZChjLGYscyksYXBwZW5kQ2hpbGQocCxjLHMpLGFwcGVuZENoaWxkKGQscCxzKSx2b2lkIDAhPT1pJiYoZy5wbGFjZWhvbGRlcj1pKSxhcHBlbmRDaGlsZChsLGQscyksYXBwZW5kQ2hpbGQobCx2LHMpLGFwcGVuZENoaWxkKHUsbCxzKSxhcHBlbmRDaGlsZCh0LHUscykscmVuZGVyKG51bGwsdixyLGUsYixhKSxuJiYoZy52YWx1ZT1uLGcub25ibHVyKCkpfXZhciBzPWdldFNjaGVtYUlkKHQpLHU9Z2V0U2NoZW1hKHMpLGw9bmV3IE9iamVjdDtyPyhuLmdldFZhbHVlKCl8fDA9PT1uLmdldFZhbHVlKCkpJiYocltuLmdldFZhbHVlKCldPWwpOmRhdGE9bDt2YXIgZD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGFibGVcIik7ZC5jbGFzc05hbWU9XCJvYmplY3RcIjt2YXIgcD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGJvZHlcIik7YXBwZW5kQ2hpbGQoZCxwLHUpO3ZhciBjPTA7aWYodS5oYXNPd25Qcm9wZXJ0eShcInByb3BlcnRpZXNcIikpe2M9dS5wcm9wZXJ0aWVzLmxlbmd0aDtmb3IodmFyIG0gaW4gdS5wcm9wZXJ0aWVzKXt2YXIgZj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidHJcIiksaD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGRcIik7aC5jbGFzc05hbWU9XCJwcm9wLW5hbWVcIjt2YXIgdj10K1wiLlwiK20sZz1nZXRTY2hlbWEoZ2V0U2NoZW1hSWQodikpLHk9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRkXCIpO3kuY2xhc3NOYW1lPVwicHJvcC12YWx1ZVwiLGFwcGVuZENoaWxkKHAsZixnKSxhcHBlbmRDaGlsZChmLGgsZyksYXBwZW5kQ2hpbGQoZix5LGcpO3ZhciBiPWkobSksUD1udWxsO2EmJihQPWFbbV0pLHJlbmRlcihoLHksdixsLGIsUCl9fXZhciBPPVtdO2lmKHUucGF0dGVyblByb3BlcnRpZXN8fHUuYWRkaXRpb25hbFByb3BlcnRpZXMpe3ZhciB3PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7aWYoYXBwZW5kQ2hpbGQodyxkLHUpLHUucGF0dGVyblByb3BlcnRpZXMpZm9yKHZhciB4IGluIHUucGF0dGVyblByb3BlcnRpZXMpe3ZhciBDPXUucGF0dGVyblByb3BlcnRpZXNbeF0sRT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO0UuY2xhc3NOYW1lPVwiYWRkLXBhdHRlcm4tZGl2XCI7dmFyIFM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtpZihTLnNldEF0dHJpYnV0ZShcInR5cGVcIixcImJ1dHRvblwiKSxTLnBhdHRlcm49eCxTLmlkPXQrXCJbXCIreCtcIl1cIixTLm9uY2xpY2s9ZnVuY3Rpb24oKXtvKGwsZCx0aGlzLmlkLHZvaWQgMCx2b2lkIDAsdGhpcy5wYXR0ZXJuKX0sKHUubWF4UHJvcGVydGllc3x8dS5taW5Qcm9wZXJ0aWVzKSYmKFMuZ2V0VmFsaWRhdGlvbkVycm9yPWZ1bmN0aW9uKCl7cmV0dXJuIHUubWluUHJvcGVydGllcyYmYytkLnJvd3MubGVuZ3RoPHUubWluUHJvcGVydGllcz9CcnV0dXNpbkZvcm1zLm1lc3NhZ2VzLm1pblByb3BlcnRpZXMuZm9ybWF0KHUubWluUHJvcGVydGllcyk6dS5tYXhQcm9wZXJ0aWVzJiZjK2Qucm93cy5sZW5ndGg+dS5tYXhQcm9wZXJ0aWVzP0JydXR1c2luRm9ybXMubWVzc2FnZXMubWF4UHJvcGVydGllcy5mb3JtYXQodS5tYXhQcm9wZXJ0aWVzKTp2b2lkIDB9KSxDLmRlc2NyaXB0aW9uJiYoUy50aXRsZT1DLmRlc2NyaXB0aW9uKSxhcHBlbmRDaGlsZChTLGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKFwiQWRkIFwiK3gpLHUpLGFwcGVuZENoaWxkKEUsUyx1KSxhKWZvcih2YXIgSSBpbiBhKWlmKCF1LnByb3BlcnRpZXN8fCF1LnByb3BlcnRpZXMuaGFzT3duUHJvcGVydHkoSSkpe3ZhciBOPVJlZ0V4cCh4KTstMSE9PUkuc2VhcmNoKE4pJiYtMT09PU8uaW5kZXhPZihJKSYmKG8obCxkLHQrXCJbXCIreCtcIl1cIixJLGFbSV0seCksTy5wdXNoKEkpKX1hcHBlbmRDaGlsZCh3LEUsdSl9aWYodS5hZGRpdGlvbmFsUHJvcGVydGllcyl7dmFyIEY9Z2V0U2NoZW1hKHUuYWRkaXRpb25hbFByb3BlcnRpZXMpLFM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtpZihTLnNldEF0dHJpYnV0ZShcInR5cGVcIixcImJ1dHRvblwiKSxTLm9uY2xpY2s9ZnVuY3Rpb24oKXtvKGwsZCx0K1wiWypdXCIsdm9pZCAwKX0sKHUubWF4UHJvcGVydGllc3x8dS5taW5Qcm9wZXJ0aWVzKSYmKFMuZ2V0VmFsaWRhdGlvbkVycm9yPWZ1bmN0aW9uKCl7cmV0dXJuIHUubWluUHJvcGVydGllcyYmYytkLnJvd3MubGVuZ3RoPHUubWluUHJvcGVydGllcz9CcnV0dXNpbkZvcm1zLm1lc3NhZ2VzLm1pblByb3BlcnRpZXMuZm9ybWF0KHUubWluUHJvcGVydGllcyk6dS5tYXhQcm9wZXJ0aWVzJiZjK2Qucm93cy5sZW5ndGg+dS5tYXhQcm9wZXJ0aWVzP0JydXR1c2luRm9ybXMubWVzc2FnZXMubWF4UHJvcGVydGllcy5mb3JtYXQodS5tYXhQcm9wZXJ0aWVzKTp2b2lkIDB9KSxGLmRlc2NyaXB0aW9uJiYoUy50aXRsZT1GLmRlc2NyaXB0aW9uKSxhcHBlbmRDaGlsZChTLGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKFwiQWRkXCIpLHUpLGFwcGVuZENoaWxkKHcsUyx1KSxhKWZvcih2YXIgSSBpbiBhKXUucHJvcGVydGllcyYmdS5wcm9wZXJ0aWVzLmhhc093blByb3BlcnR5KEkpfHwtMT09PU8uaW5kZXhPZihJKSYmbyhsLGQsdCsnW1wiJyttKydcIl0nLEksYVtJXSl9YXBwZW5kQ2hpbGQoZSx3LHUpfWVsc2UgYXBwZW5kQ2hpbGQoZSxkLHUpfSxyZW5kZXJlcnMuYXJyYXk9ZnVuY3Rpb24oZSx0LHIsbixhKXtmdW5jdGlvbiBpKGUsdCxyLG4sYSl7dmFyIGk9Z2V0U2NoZW1hSWQociksbz1nZXRTY2hlbWEoaSkscz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGJvZHlcIiksdT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidHJcIik7dS5jbGFzc05hbWU9XCJpdGVtXCI7dmFyIGw9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRkXCIpO2wuY2xhc3NOYW1lPVwiaXRlbS1pbmRleFwiO3ZhciBkPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJ0ZFwiKTtkLmNsYXNzTmFtZT1cIml0ZW0tYWN0aW9uXCI7dmFyIHA9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInRkXCIpO3AuY2xhc3NOYW1lPVwiaXRlbS12YWx1ZVwiO3ZhciBjPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJidXR0b25cIik7Yy5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsXCJidXR0b25cIiksYy5jbGFzc05hbWU9XCJyZW1vdmVcIixhPT09ITAmJihjLmRpc2FibGVkPSEwKSxhcHBlbmRDaGlsZChjLGRvY3VtZW50LmNyZWF0ZVRleHROb2RlKFwieFwiKSxvKTt2YXIgbT1mdW5jdGlvbigpe2Zvcih2YXIgZT0wO2U8dC5yb3dzLmxlbmd0aDtlKyspe3ZhciByPXQucm93c1tlXTtyLmNlbGxzWzBdLmlubmVySFRNTD1lKzF9fTtjLm9uY2xpY2s9ZnVuY3Rpb24oKXtlLnNwbGljZSh1LnJvd0luZGV4LDEpLHQuZGVsZXRlUm93KHUucm93SW5kZXgpLG0oKX0sYXBwZW5kQ2hpbGQoZCxjLG8pO3ZhciBmPWRvY3VtZW50LmNyZWF0ZVRleHROb2RlKHQucm93cy5sZW5ndGgrMSk7YXBwZW5kQ2hpbGQobCxmLG8pLGFwcGVuZENoaWxkKHUsbCxvKSxhcHBlbmRDaGlsZCh1LGQsbyksYXBwZW5kQ2hpbGQodSxwLG8pLGFwcGVuZENoaWxkKHMsdSxvKSxhcHBlbmRDaGlsZCh0LHMsbyk7dmFyIGg9Y3JlYXRlUHJvcGVydHlQcm92aWRlcihmdW5jdGlvbigpe3JldHVybiB1LnJvd0luZGV4fSk7cmVuZGVyKG51bGwscCxyLGUsaCxuKX12YXIgbz1nZXRTY2hlbWFJZCh0KSxzPWdldFNjaGVtYShvKSx1PWdldFNjaGVtYShzLml0ZW1zKSxsPW5ldyBBcnJheTtyPyhuLmdldFZhbHVlKCl8fDA9PT1uLmdldFZhbHVlKCkpJiYocltuLmdldFZhbHVlKCldPWwpOmRhdGE9bCxuJiYobi5vbmNoYW5nZT1mdW5jdGlvbihlKXtkZWxldGUgcltlXSxyW24uZ2V0VmFsdWUoKV09bH0pO3ZhciBkPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIikscD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwidGFibGVcIik7cC5jbGFzc05hbWU9XCJhcnJheVwiLGFwcGVuZENoaWxkKGQscCxzKSxhcHBlbmRDaGlsZChlLGQscyk7dmFyIGM9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTtpZihzLnJlYWRPbmx5JiYoYy5kaXNhYmxlZD0hMCksYy5zZXRBdHRyaWJ1dGUoXCJ0eXBlXCIsXCJidXR0b25cIiksYy5nZXRWYWxpZGF0aW9uRXJyb3I9ZnVuY3Rpb24oKXtpZihzLm1pbkl0ZW1zJiZzLm1pbkl0ZW1zPnAucm93cy5sZW5ndGgpcmV0dXJuIEJydXR1c2luRm9ybXMubWVzc2FnZXMubWluSXRlbXMuZm9ybWF0KHMubWluSXRlbXMpO2lmKHMubWF4SXRlbXMmJnMubWF4SXRlbXM8cC5yb3dzLmxlbmd0aClyZXR1cm4gQnJ1dHVzaW5Gb3Jtcy5tZXNzYWdlcy5tYXhJdGVtcy5mb3JtYXQocy5tYXhJdGVtcyk7aWYocy51bmlxdWVJdGVtcylmb3IodmFyIGU9MDtlPGwubGVuZ3RoO2UrKylmb3IodmFyIHQ9ZSsxO3Q8bC5sZW5ndGg7dCsrKWlmKEpTT04uc3RyaW5naWZ5KGxbZV0pPT09SlNPTi5zdHJpbmdpZnkobFt0XSkpcmV0dXJuIEJydXR1c2luRm9ybXMubWVzc2FnZXMudW5pcXVlSXRlbXN9LGMub25jbGljaz1mdW5jdGlvbigpe2kobCxwLHQrXCJbI11cIixudWxsKX0sdS5kZXNjcmlwdGlvbiYmKGMudGl0bGU9dS5kZXNjcmlwdGlvbiksYXBwZW5kQ2hpbGQoYyxkb2N1bWVudC5jcmVhdGVUZXh0Tm9kZShCcnV0dXNpbkZvcm1zLm1lc3NhZ2VzLmFkZEl0ZW0pLHMpLGFwcGVuZENoaWxkKGQscCxzKSxhcHBlbmRDaGlsZChkLGMscyksYSYmYSBpbnN0YW5jZW9mIEFycmF5KWZvcih2YXIgbT0wO208YS5sZW5ndGg7bSsrKWkobCxwLHQrXCJbXCIrbStcIl1cIixhW21dLHMucmVhZE9ubHkpO2FwcGVuZENoaWxkKGUsZCxzKX0sb2JqLnJlbmRlcj1mdW5jdGlvbihlLHQpe2NvbnRhaW5lcj1lLGluaXRpYWxWYWx1ZT10O3ZhciByPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJmb3JtXCIpO2lmKHIuY2xhc3NOYW1lPVwiYnJ1dHVzaW4tZm9ybVwiLHIub25zdWJtaXQ9ZnVuY3Rpb24oZSl7cmV0dXJuITF9LGNvbnRhaW5lcj9hcHBlbmRDaGlsZChjb250YWluZXIscik6YXBwZW5kQ2hpbGQoZG9jdW1lbnQuYm9keSxyKSxlcnJvcil7dmFyIG49ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxhYmVsXCIpLGE9ZG9jdW1lbnQuY3JlYXRlVGV4dE5vZGUoZXJyb3IpO2FwcGVuZENoaWxkKG4sYSksbi5jbGFzc05hbWU9XCJlcnJvci1tZXNzYWdlXCIsYXBwZW5kQ2hpbGQocixuKX1lbHNlIHJlbmRlcihudWxsLHIsXCIkXCIsbnVsbCxudWxsKTtkZXBlbmRlbmN5TWFwLmhhc093blByb3BlcnR5KFwiJFwiKSYmb25EZXBlbmRlbmN5Q2hhbmdlZChcIiRcIiksQnJ1dHVzaW5Gb3Jtcy5wb3N0UmVuZGVyJiZCcnV0dXNpbkZvcm1zLnBvc3RSZW5kZXIob2JqKX0sb2JqLmdldFJlbmRlcmluZ0NvbnRhaW5lcj1mdW5jdGlvbigpe3JldHVybiBjb250YWluZXJ9LG9iai52YWxpZGF0ZT1mdW5jdGlvbigpe3JldHVybiB2YWxpZGF0ZShjb250YWluZXIpfSxvYmouZ2V0RGF0YT1mdW5jdGlvbigpe2Z1bmN0aW9uIGUodCxyKXtpZihudWxsPT09cyYmKHM9U0NIRU1BX0FOWSksci4kcmVmJiYocj1nZXREZWZpbml0aW9uKHIuJHJlZikpLHQgaW5zdGFuY2VvZiBBcnJheSl7aWYoMD09PXQubGVuZ3RoKXJldHVybiBudWxsO2Zvcih2YXIgbj1uZXcgQXJyYXksYT0wO2E8dC5sZW5ndGg7YSsrKW5bYV09ZSh0W2FdLHIuaXRlbXMpO3JldHVybiBufWlmKFwiXCI9PT10KXJldHVybiBudWxsO2lmKHQgaW5zdGFuY2VvZiBPYmplY3Qpe3ZhciBuPW5ldyBPYmplY3QsaT0hMTtmb3IodmFyIG8gaW4gdClpZighby5zdGFydHNXaXRoKFwiJFwiKXx8IW8uZW5kc1dpdGgoXCIkXCIpKXt2YXIgcz1udWxsO2lmKHIuaGFzT3duUHJvcGVydHkoXCJwcm9wZXJ0aWVzXCIpJiZyLnByb3BlcnRpZXMuaGFzT3duUHJvcGVydHkobykmJihzPXIucHJvcGVydGllc1tvXSksbnVsbD09PXMmJnIuaGFzT3duUHJvcGVydHkoXCJhZGRpdGlvbmFsUHJvcGVydGllc1wiKSYmXCJvYmplY3RcIj09dHlwZW9mIHIuYWRkaXRpb25hbFByb3BlcnRpZXMmJihzPXIuYWRkaXRpb25hbFByb3BlcnRpZXMpLG51bGw9PT1zJiZyLmhhc093blByb3BlcnR5KFwicGF0dGVyblByb3BlcnRpZXNcIikpZm9yKHZhciB1IGluIHIucGF0dGVyblByb3BlcnRpZXMpe3ZhciBsPVJlZ0V4cCh1KTtpZigtMSE9PW8uc2VhcmNoKGwpKXtzPXIucGF0dGVyblByb3BlcnRpZXNbdV07YnJlYWt9fXZhciBkPWUodFtvXSxzKTtudWxsIT09ZCYmKG5bb109ZCxpPSEwKX1yZXR1cm4gaXx8ci5yZXF1aXJlZD9uOm51bGx9cmV0dXJuIHR9cmV0dXJuIGNvbnRhaW5lcj9lKGRhdGEsc2NoZW1hKTpudWxsfSxCcnV0dXNpbkZvcm1zLmluc3RhbmNlc1tCcnV0dXNpbkZvcm1zLmluc3RhbmNlcy5sZW5ndGhdPW9iaixvYmp9LGJydXR1c2luW1wianNvbi1mb3Jtc1wiXT1CcnV0dXNpbkZvcm1zfSgpO1xuXG5cbi8vLy8vLy8vLy8vLy8vLy8vL1xuLy8gV0VCUEFDSyBGT09URVJcbi8vIC4vfi9icnV0dXNpbi1qc29uLWZvcm1zL2Rpc3QvanMvYnJ1dHVzaW4tanNvbi1mb3Jtcy5taW4uanNcbi8vIG1vZHVsZSBpZCA9IDUyXG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsIi8vIHJlbW92ZWQgYnkgZXh0cmFjdC10ZXh0LXdlYnBhY2stcGx1Z2luXG5cblxuLy8vLy8vLy8vLy8vLy8vLy8vXG4vLyBXRUJQQUNLIEZPT1RFUlxuLy8gLi9zcmMvYmFzZS5zY3NzXG4vLyBtb2R1bGUgaWQgPSA1M1xuLy8gbW9kdWxlIGNodW5rcyA9IDAiLCJtb2R1bGUuZXhwb3J0cyA9IGZ1bmN0aW9uKG1vZHVsZSkge1xyXG5cdGlmKCFtb2R1bGUud2VicGFja1BvbHlmaWxsKSB7XHJcblx0XHRtb2R1bGUuZGVwcmVjYXRlID0gZnVuY3Rpb24oKSB7fTtcclxuXHRcdG1vZHVsZS5wYXRocyA9IFtdO1xyXG5cdFx0Ly8gbW9kdWxlLnBhcmVudCA9IHVuZGVmaW5lZCBieSBkZWZhdWx0XHJcblx0XHRpZighbW9kdWxlLmNoaWxkcmVuKSBtb2R1bGUuY2hpbGRyZW4gPSBbXTtcclxuXHRcdE9iamVjdC5kZWZpbmVQcm9wZXJ0eShtb2R1bGUsIFwibG9hZGVkXCIsIHtcclxuXHRcdFx0ZW51bWVyYWJsZTogdHJ1ZSxcclxuXHRcdFx0Z2V0OiBmdW5jdGlvbigpIHtcclxuXHRcdFx0XHRyZXR1cm4gbW9kdWxlLmw7XHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cdFx0T2JqZWN0LmRlZmluZVByb3BlcnR5KG1vZHVsZSwgXCJpZFwiLCB7XHJcblx0XHRcdGVudW1lcmFibGU6IHRydWUsXHJcblx0XHRcdGdldDogZnVuY3Rpb24oKSB7XHJcblx0XHRcdFx0cmV0dXJuIG1vZHVsZS5pO1xyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHRcdG1vZHVsZS53ZWJwYWNrUG9seWZpbGwgPSAxO1xyXG5cdH1cclxuXHRyZXR1cm4gbW9kdWxlO1xyXG59O1xyXG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAod2VicGFjaykvYnVpbGRpbi9tb2R1bGUuanNcbi8vIG1vZHVsZSBpZCA9IDU0XG4vLyBtb2R1bGUgY2h1bmtzID0gMCIsInZhciBzdXBwb3J0ID0ge1xuICBzZWFyY2hQYXJhbXM6ICdVUkxTZWFyY2hQYXJhbXMnIGluIHNlbGYsXG4gIGl0ZXJhYmxlOiAnU3ltYm9sJyBpbiBzZWxmICYmICdpdGVyYXRvcicgaW4gU3ltYm9sLFxuICBibG9iOlxuICAgICdGaWxlUmVhZGVyJyBpbiBzZWxmICYmXG4gICAgJ0Jsb2InIGluIHNlbGYgJiZcbiAgICAoZnVuY3Rpb24oKSB7XG4gICAgICB0cnkge1xuICAgICAgICBuZXcgQmxvYigpXG4gICAgICAgIHJldHVybiB0cnVlXG4gICAgICB9IGNhdGNoIChlKSB7XG4gICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgfVxuICAgIH0pKCksXG4gIGZvcm1EYXRhOiAnRm9ybURhdGEnIGluIHNlbGYsXG4gIGFycmF5QnVmZmVyOiAnQXJyYXlCdWZmZXInIGluIHNlbGZcbn1cblxuZnVuY3Rpb24gaXNEYXRhVmlldyhvYmopIHtcbiAgcmV0dXJuIG9iaiAmJiBEYXRhVmlldy5wcm90b3R5cGUuaXNQcm90b3R5cGVPZihvYmopXG59XG5cbmlmIChzdXBwb3J0LmFycmF5QnVmZmVyKSB7XG4gIHZhciB2aWV3Q2xhc3NlcyA9IFtcbiAgICAnW29iamVjdCBJbnQ4QXJyYXldJyxcbiAgICAnW29iamVjdCBVaW50OEFycmF5XScsXG4gICAgJ1tvYmplY3QgVWludDhDbGFtcGVkQXJyYXldJyxcbiAgICAnW29iamVjdCBJbnQxNkFycmF5XScsXG4gICAgJ1tvYmplY3QgVWludDE2QXJyYXldJyxcbiAgICAnW29iamVjdCBJbnQzMkFycmF5XScsXG4gICAgJ1tvYmplY3QgVWludDMyQXJyYXldJyxcbiAgICAnW29iamVjdCBGbG9hdDMyQXJyYXldJyxcbiAgICAnW29iamVjdCBGbG9hdDY0QXJyYXldJ1xuICBdXG5cbiAgdmFyIGlzQXJyYXlCdWZmZXJWaWV3ID1cbiAgICBBcnJheUJ1ZmZlci5pc1ZpZXcgfHxcbiAgICBmdW5jdGlvbihvYmopIHtcbiAgICAgIHJldHVybiBvYmogJiYgdmlld0NsYXNzZXMuaW5kZXhPZihPYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwob2JqKSkgPiAtMVxuICAgIH1cbn1cblxuZnVuY3Rpb24gbm9ybWFsaXplTmFtZShuYW1lKSB7XG4gIGlmICh0eXBlb2YgbmFtZSAhPT0gJ3N0cmluZycpIHtcbiAgICBuYW1lID0gU3RyaW5nKG5hbWUpXG4gIH1cbiAgaWYgKC9bXmEtejAtOVxcLSMkJSYnKisuXl9gfH5dL2kudGVzdChuYW1lKSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0ludmFsaWQgY2hhcmFjdGVyIGluIGhlYWRlciBmaWVsZCBuYW1lJylcbiAgfVxuICByZXR1cm4gbmFtZS50b0xvd2VyQ2FzZSgpXG59XG5cbmZ1bmN0aW9uIG5vcm1hbGl6ZVZhbHVlKHZhbHVlKSB7XG4gIGlmICh0eXBlb2YgdmFsdWUgIT09ICdzdHJpbmcnKSB7XG4gICAgdmFsdWUgPSBTdHJpbmcodmFsdWUpXG4gIH1cbiAgcmV0dXJuIHZhbHVlXG59XG5cbi8vIEJ1aWxkIGEgZGVzdHJ1Y3RpdmUgaXRlcmF0b3IgZm9yIHRoZSB2YWx1ZSBsaXN0XG5mdW5jdGlvbiBpdGVyYXRvckZvcihpdGVtcykge1xuICB2YXIgaXRlcmF0b3IgPSB7XG4gICAgbmV4dDogZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgdmFsdWUgPSBpdGVtcy5zaGlmdCgpXG4gICAgICByZXR1cm4ge2RvbmU6IHZhbHVlID09PSB1bmRlZmluZWQsIHZhbHVlOiB2YWx1ZX1cbiAgICB9XG4gIH1cblxuICBpZiAoc3VwcG9ydC5pdGVyYWJsZSkge1xuICAgIGl0ZXJhdG9yW1N5bWJvbC5pdGVyYXRvcl0gPSBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBpdGVyYXRvclxuICAgIH1cbiAgfVxuXG4gIHJldHVybiBpdGVyYXRvclxufVxuXG5leHBvcnQgZnVuY3Rpb24gSGVhZGVycyhoZWFkZXJzKSB7XG4gIHRoaXMubWFwID0ge31cblxuICBpZiAoaGVhZGVycyBpbnN0YW5jZW9mIEhlYWRlcnMpIHtcbiAgICBoZWFkZXJzLmZvckVhY2goZnVuY3Rpb24odmFsdWUsIG5hbWUpIHtcbiAgICAgIHRoaXMuYXBwZW5kKG5hbWUsIHZhbHVlKVxuICAgIH0sIHRoaXMpXG4gIH0gZWxzZSBpZiAoQXJyYXkuaXNBcnJheShoZWFkZXJzKSkge1xuICAgIGhlYWRlcnMuZm9yRWFjaChmdW5jdGlvbihoZWFkZXIpIHtcbiAgICAgIHRoaXMuYXBwZW5kKGhlYWRlclswXSwgaGVhZGVyWzFdKVxuICAgIH0sIHRoaXMpXG4gIH0gZWxzZSBpZiAoaGVhZGVycykge1xuICAgIE9iamVjdC5nZXRPd25Qcm9wZXJ0eU5hbWVzKGhlYWRlcnMpLmZvckVhY2goZnVuY3Rpb24obmFtZSkge1xuICAgICAgdGhpcy5hcHBlbmQobmFtZSwgaGVhZGVyc1tuYW1lXSlcbiAgICB9LCB0aGlzKVxuICB9XG59XG5cbkhlYWRlcnMucHJvdG90eXBlLmFwcGVuZCA9IGZ1bmN0aW9uKG5hbWUsIHZhbHVlKSB7XG4gIG5hbWUgPSBub3JtYWxpemVOYW1lKG5hbWUpXG4gIHZhbHVlID0gbm9ybWFsaXplVmFsdWUodmFsdWUpXG4gIHZhciBvbGRWYWx1ZSA9IHRoaXMubWFwW25hbWVdXG4gIHRoaXMubWFwW25hbWVdID0gb2xkVmFsdWUgPyBvbGRWYWx1ZSArICcsICcgKyB2YWx1ZSA6IHZhbHVlXG59XG5cbkhlYWRlcnMucHJvdG90eXBlWydkZWxldGUnXSA9IGZ1bmN0aW9uKG5hbWUpIHtcbiAgZGVsZXRlIHRoaXMubWFwW25vcm1hbGl6ZU5hbWUobmFtZSldXG59XG5cbkhlYWRlcnMucHJvdG90eXBlLmdldCA9IGZ1bmN0aW9uKG5hbWUpIHtcbiAgbmFtZSA9IG5vcm1hbGl6ZU5hbWUobmFtZSlcbiAgcmV0dXJuIHRoaXMuaGFzKG5hbWUpID8gdGhpcy5tYXBbbmFtZV0gOiBudWxsXG59XG5cbkhlYWRlcnMucHJvdG90eXBlLmhhcyA9IGZ1bmN0aW9uKG5hbWUpIHtcbiAgcmV0dXJuIHRoaXMubWFwLmhhc093blByb3BlcnR5KG5vcm1hbGl6ZU5hbWUobmFtZSkpXG59XG5cbkhlYWRlcnMucHJvdG90eXBlLnNldCA9IGZ1bmN0aW9uKG5hbWUsIHZhbHVlKSB7XG4gIHRoaXMubWFwW25vcm1hbGl6ZU5hbWUobmFtZSldID0gbm9ybWFsaXplVmFsdWUodmFsdWUpXG59XG5cbkhlYWRlcnMucHJvdG90eXBlLmZvckVhY2ggPSBmdW5jdGlvbihjYWxsYmFjaywgdGhpc0FyZykge1xuICBmb3IgKHZhciBuYW1lIGluIHRoaXMubWFwKSB7XG4gICAgaWYgKHRoaXMubWFwLmhhc093blByb3BlcnR5KG5hbWUpKSB7XG4gICAgICBjYWxsYmFjay5jYWxsKHRoaXNBcmcsIHRoaXMubWFwW25hbWVdLCBuYW1lLCB0aGlzKVxuICAgIH1cbiAgfVxufVxuXG5IZWFkZXJzLnByb3RvdHlwZS5rZXlzID0gZnVuY3Rpb24oKSB7XG4gIHZhciBpdGVtcyA9IFtdXG4gIHRoaXMuZm9yRWFjaChmdW5jdGlvbih2YWx1ZSwgbmFtZSkge1xuICAgIGl0ZW1zLnB1c2gobmFtZSlcbiAgfSlcbiAgcmV0dXJuIGl0ZXJhdG9yRm9yKGl0ZW1zKVxufVxuXG5IZWFkZXJzLnByb3RvdHlwZS52YWx1ZXMgPSBmdW5jdGlvbigpIHtcbiAgdmFyIGl0ZW1zID0gW11cbiAgdGhpcy5mb3JFYWNoKGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgaXRlbXMucHVzaCh2YWx1ZSlcbiAgfSlcbiAgcmV0dXJuIGl0ZXJhdG9yRm9yKGl0ZW1zKVxufVxuXG5IZWFkZXJzLnByb3RvdHlwZS5lbnRyaWVzID0gZnVuY3Rpb24oKSB7XG4gIHZhciBpdGVtcyA9IFtdXG4gIHRoaXMuZm9yRWFjaChmdW5jdGlvbih2YWx1ZSwgbmFtZSkge1xuICAgIGl0ZW1zLnB1c2goW25hbWUsIHZhbHVlXSlcbiAgfSlcbiAgcmV0dXJuIGl0ZXJhdG9yRm9yKGl0ZW1zKVxufVxuXG5pZiAoc3VwcG9ydC5pdGVyYWJsZSkge1xuICBIZWFkZXJzLnByb3RvdHlwZVtTeW1ib2wuaXRlcmF0b3JdID0gSGVhZGVycy5wcm90b3R5cGUuZW50cmllc1xufVxuXG5mdW5jdGlvbiBjb25zdW1lZChib2R5KSB7XG4gIGlmIChib2R5LmJvZHlVc2VkKSB7XG4gICAgcmV0dXJuIFByb21pc2UucmVqZWN0KG5ldyBUeXBlRXJyb3IoJ0FscmVhZHkgcmVhZCcpKVxuICB9XG4gIGJvZHkuYm9keVVzZWQgPSB0cnVlXG59XG5cbmZ1bmN0aW9uIGZpbGVSZWFkZXJSZWFkeShyZWFkZXIpIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgIHJlYWRlci5vbmxvYWQgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJlc29sdmUocmVhZGVyLnJlc3VsdClcbiAgICB9XG4gICAgcmVhZGVyLm9uZXJyb3IgPSBmdW5jdGlvbigpIHtcbiAgICAgIHJlamVjdChyZWFkZXIuZXJyb3IpXG4gICAgfVxuICB9KVxufVxuXG5mdW5jdGlvbiByZWFkQmxvYkFzQXJyYXlCdWZmZXIoYmxvYikge1xuICB2YXIgcmVhZGVyID0gbmV3IEZpbGVSZWFkZXIoKVxuICB2YXIgcHJvbWlzZSA9IGZpbGVSZWFkZXJSZWFkeShyZWFkZXIpXG4gIHJlYWRlci5yZWFkQXNBcnJheUJ1ZmZlcihibG9iKVxuICByZXR1cm4gcHJvbWlzZVxufVxuXG5mdW5jdGlvbiByZWFkQmxvYkFzVGV4dChibG9iKSB7XG4gIHZhciByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpXG4gIHZhciBwcm9taXNlID0gZmlsZVJlYWRlclJlYWR5KHJlYWRlcilcbiAgcmVhZGVyLnJlYWRBc1RleHQoYmxvYilcbiAgcmV0dXJuIHByb21pc2Vcbn1cblxuZnVuY3Rpb24gcmVhZEFycmF5QnVmZmVyQXNUZXh0KGJ1Zikge1xuICB2YXIgdmlldyA9IG5ldyBVaW50OEFycmF5KGJ1ZilcbiAgdmFyIGNoYXJzID0gbmV3IEFycmF5KHZpZXcubGVuZ3RoKVxuXG4gIGZvciAodmFyIGkgPSAwOyBpIDwgdmlldy5sZW5ndGg7IGkrKykge1xuICAgIGNoYXJzW2ldID0gU3RyaW5nLmZyb21DaGFyQ29kZSh2aWV3W2ldKVxuICB9XG4gIHJldHVybiBjaGFycy5qb2luKCcnKVxufVxuXG5mdW5jdGlvbiBidWZmZXJDbG9uZShidWYpIHtcbiAgaWYgKGJ1Zi5zbGljZSkge1xuICAgIHJldHVybiBidWYuc2xpY2UoMClcbiAgfSBlbHNlIHtcbiAgICB2YXIgdmlldyA9IG5ldyBVaW50OEFycmF5KGJ1Zi5ieXRlTGVuZ3RoKVxuICAgIHZpZXcuc2V0KG5ldyBVaW50OEFycmF5KGJ1ZikpXG4gICAgcmV0dXJuIHZpZXcuYnVmZmVyXG4gIH1cbn1cblxuZnVuY3Rpb24gQm9keSgpIHtcbiAgdGhpcy5ib2R5VXNlZCA9IGZhbHNlXG5cbiAgdGhpcy5faW5pdEJvZHkgPSBmdW5jdGlvbihib2R5KSB7XG4gICAgdGhpcy5fYm9keUluaXQgPSBib2R5XG4gICAgaWYgKCFib2R5KSB7XG4gICAgICB0aGlzLl9ib2R5VGV4dCA9ICcnXG4gICAgfSBlbHNlIGlmICh0eXBlb2YgYm9keSA9PT0gJ3N0cmluZycpIHtcbiAgICAgIHRoaXMuX2JvZHlUZXh0ID0gYm9keVxuICAgIH0gZWxzZSBpZiAoc3VwcG9ydC5ibG9iICYmIEJsb2IucHJvdG90eXBlLmlzUHJvdG90eXBlT2YoYm9keSkpIHtcbiAgICAgIHRoaXMuX2JvZHlCbG9iID0gYm9keVxuICAgIH0gZWxzZSBpZiAoc3VwcG9ydC5mb3JtRGF0YSAmJiBGb3JtRGF0YS5wcm90b3R5cGUuaXNQcm90b3R5cGVPZihib2R5KSkge1xuICAgICAgdGhpcy5fYm9keUZvcm1EYXRhID0gYm9keVxuICAgIH0gZWxzZSBpZiAoc3VwcG9ydC5zZWFyY2hQYXJhbXMgJiYgVVJMU2VhcmNoUGFyYW1zLnByb3RvdHlwZS5pc1Byb3RvdHlwZU9mKGJvZHkpKSB7XG4gICAgICB0aGlzLl9ib2R5VGV4dCA9IGJvZHkudG9TdHJpbmcoKVxuICAgIH0gZWxzZSBpZiAoc3VwcG9ydC5hcnJheUJ1ZmZlciAmJiBzdXBwb3J0LmJsb2IgJiYgaXNEYXRhVmlldyhib2R5KSkge1xuICAgICAgdGhpcy5fYm9keUFycmF5QnVmZmVyID0gYnVmZmVyQ2xvbmUoYm9keS5idWZmZXIpXG4gICAgICAvLyBJRSAxMC0xMSBjYW4ndCBoYW5kbGUgYSBEYXRhVmlldyBib2R5LlxuICAgICAgdGhpcy5fYm9keUluaXQgPSBuZXcgQmxvYihbdGhpcy5fYm9keUFycmF5QnVmZmVyXSlcbiAgICB9IGVsc2UgaWYgKHN1cHBvcnQuYXJyYXlCdWZmZXIgJiYgKEFycmF5QnVmZmVyLnByb3RvdHlwZS5pc1Byb3RvdHlwZU9mKGJvZHkpIHx8IGlzQXJyYXlCdWZmZXJWaWV3KGJvZHkpKSkge1xuICAgICAgdGhpcy5fYm9keUFycmF5QnVmZmVyID0gYnVmZmVyQ2xvbmUoYm9keSlcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5fYm9keVRleHQgPSBib2R5ID0gT2JqZWN0LnByb3RvdHlwZS50b1N0cmluZy5jYWxsKGJvZHkpXG4gICAgfVxuXG4gICAgaWYgKCF0aGlzLmhlYWRlcnMuZ2V0KCdjb250ZW50LXR5cGUnKSkge1xuICAgICAgaWYgKHR5cGVvZiBib2R5ID09PSAnc3RyaW5nJykge1xuICAgICAgICB0aGlzLmhlYWRlcnMuc2V0KCdjb250ZW50LXR5cGUnLCAndGV4dC9wbGFpbjtjaGFyc2V0PVVURi04JylcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5fYm9keUJsb2IgJiYgdGhpcy5fYm9keUJsb2IudHlwZSkge1xuICAgICAgICB0aGlzLmhlYWRlcnMuc2V0KCdjb250ZW50LXR5cGUnLCB0aGlzLl9ib2R5QmxvYi50eXBlKVxuICAgICAgfSBlbHNlIGlmIChzdXBwb3J0LnNlYXJjaFBhcmFtcyAmJiBVUkxTZWFyY2hQYXJhbXMucHJvdG90eXBlLmlzUHJvdG90eXBlT2YoYm9keSkpIHtcbiAgICAgICAgdGhpcy5oZWFkZXJzLnNldCgnY29udGVudC10eXBlJywgJ2FwcGxpY2F0aW9uL3gtd3d3LWZvcm0tdXJsZW5jb2RlZDtjaGFyc2V0PVVURi04JylcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBpZiAoc3VwcG9ydC5ibG9iKSB7XG4gICAgdGhpcy5ibG9iID0gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgcmVqZWN0ZWQgPSBjb25zdW1lZCh0aGlzKVxuICAgICAgaWYgKHJlamVjdGVkKSB7XG4gICAgICAgIHJldHVybiByZWplY3RlZFxuICAgICAgfVxuXG4gICAgICBpZiAodGhpcy5fYm9keUJsb2IpIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLl9ib2R5QmxvYilcbiAgICAgIH0gZWxzZSBpZiAodGhpcy5fYm9keUFycmF5QnVmZmVyKSB7XG4gICAgICAgIHJldHVybiBQcm9taXNlLnJlc29sdmUobmV3IEJsb2IoW3RoaXMuX2JvZHlBcnJheUJ1ZmZlcl0pKVxuICAgICAgfSBlbHNlIGlmICh0aGlzLl9ib2R5Rm9ybURhdGEpIHtcbiAgICAgICAgdGhyb3cgbmV3IEVycm9yKCdjb3VsZCBub3QgcmVhZCBGb3JtRGF0YSBib2R5IGFzIGJsb2InKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShuZXcgQmxvYihbdGhpcy5fYm9keVRleHRdKSlcbiAgICAgIH1cbiAgICB9XG5cbiAgICB0aGlzLmFycmF5QnVmZmVyID0gZnVuY3Rpb24oKSB7XG4gICAgICBpZiAodGhpcy5fYm9keUFycmF5QnVmZmVyKSB7XG4gICAgICAgIHJldHVybiBjb25zdW1lZCh0aGlzKSB8fCBQcm9taXNlLnJlc29sdmUodGhpcy5fYm9keUFycmF5QnVmZmVyKVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYmxvYigpLnRoZW4ocmVhZEJsb2JBc0FycmF5QnVmZmVyKVxuICAgICAgfVxuICAgIH1cbiAgfVxuXG4gIHRoaXMudGV4dCA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciByZWplY3RlZCA9IGNvbnN1bWVkKHRoaXMpXG4gICAgaWYgKHJlamVjdGVkKSB7XG4gICAgICByZXR1cm4gcmVqZWN0ZWRcbiAgICB9XG5cbiAgICBpZiAodGhpcy5fYm9keUJsb2IpIHtcbiAgICAgIHJldHVybiByZWFkQmxvYkFzVGV4dCh0aGlzLl9ib2R5QmxvYilcbiAgICB9IGVsc2UgaWYgKHRoaXMuX2JvZHlBcnJheUJ1ZmZlcikge1xuICAgICAgcmV0dXJuIFByb21pc2UucmVzb2x2ZShyZWFkQXJyYXlCdWZmZXJBc1RleHQodGhpcy5fYm9keUFycmF5QnVmZmVyKSlcbiAgICB9IGVsc2UgaWYgKHRoaXMuX2JvZHlGb3JtRGF0YSkge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdjb3VsZCBub3QgcmVhZCBGb3JtRGF0YSBib2R5IGFzIHRleHQnKVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMuX2JvZHlUZXh0KVxuICAgIH1cbiAgfVxuXG4gIGlmIChzdXBwb3J0LmZvcm1EYXRhKSB7XG4gICAgdGhpcy5mb3JtRGF0YSA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHRoaXMudGV4dCgpLnRoZW4oZGVjb2RlKVxuICAgIH1cbiAgfVxuXG4gIHRoaXMuanNvbiA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLnRleHQoKS50aGVuKEpTT04ucGFyc2UpXG4gIH1cblxuICByZXR1cm4gdGhpc1xufVxuXG4vLyBIVFRQIG1ldGhvZHMgd2hvc2UgY2FwaXRhbGl6YXRpb24gc2hvdWxkIGJlIG5vcm1hbGl6ZWRcbnZhciBtZXRob2RzID0gWydERUxFVEUnLCAnR0VUJywgJ0hFQUQnLCAnT1BUSU9OUycsICdQT1NUJywgJ1BVVCddXG5cbmZ1bmN0aW9uIG5vcm1hbGl6ZU1ldGhvZChtZXRob2QpIHtcbiAgdmFyIHVwY2FzZWQgPSBtZXRob2QudG9VcHBlckNhc2UoKVxuICByZXR1cm4gbWV0aG9kcy5pbmRleE9mKHVwY2FzZWQpID4gLTEgPyB1cGNhc2VkIDogbWV0aG9kXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBSZXF1ZXN0KGlucHV0LCBvcHRpb25zKSB7XG4gIG9wdGlvbnMgPSBvcHRpb25zIHx8IHt9XG4gIHZhciBib2R5ID0gb3B0aW9ucy5ib2R5XG5cbiAgaWYgKGlucHV0IGluc3RhbmNlb2YgUmVxdWVzdCkge1xuICAgIGlmIChpbnB1dC5ib2R5VXNlZCkge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQWxyZWFkeSByZWFkJylcbiAgICB9XG4gICAgdGhpcy51cmwgPSBpbnB1dC51cmxcbiAgICB0aGlzLmNyZWRlbnRpYWxzID0gaW5wdXQuY3JlZGVudGlhbHNcbiAgICBpZiAoIW9wdGlvbnMuaGVhZGVycykge1xuICAgICAgdGhpcy5oZWFkZXJzID0gbmV3IEhlYWRlcnMoaW5wdXQuaGVhZGVycylcbiAgICB9XG4gICAgdGhpcy5tZXRob2QgPSBpbnB1dC5tZXRob2RcbiAgICB0aGlzLm1vZGUgPSBpbnB1dC5tb2RlXG4gICAgdGhpcy5zaWduYWwgPSBpbnB1dC5zaWduYWxcbiAgICBpZiAoIWJvZHkgJiYgaW5wdXQuX2JvZHlJbml0ICE9IG51bGwpIHtcbiAgICAgIGJvZHkgPSBpbnB1dC5fYm9keUluaXRcbiAgICAgIGlucHV0LmJvZHlVc2VkID0gdHJ1ZVxuICAgIH1cbiAgfSBlbHNlIHtcbiAgICB0aGlzLnVybCA9IFN0cmluZyhpbnB1dClcbiAgfVxuXG4gIHRoaXMuY3JlZGVudGlhbHMgPSBvcHRpb25zLmNyZWRlbnRpYWxzIHx8IHRoaXMuY3JlZGVudGlhbHMgfHwgJ3NhbWUtb3JpZ2luJ1xuICBpZiAob3B0aW9ucy5oZWFkZXJzIHx8ICF0aGlzLmhlYWRlcnMpIHtcbiAgICB0aGlzLmhlYWRlcnMgPSBuZXcgSGVhZGVycyhvcHRpb25zLmhlYWRlcnMpXG4gIH1cbiAgdGhpcy5tZXRob2QgPSBub3JtYWxpemVNZXRob2Qob3B0aW9ucy5tZXRob2QgfHwgdGhpcy5tZXRob2QgfHwgJ0dFVCcpXG4gIHRoaXMubW9kZSA9IG9wdGlvbnMubW9kZSB8fCB0aGlzLm1vZGUgfHwgbnVsbFxuICB0aGlzLnNpZ25hbCA9IG9wdGlvbnMuc2lnbmFsIHx8IHRoaXMuc2lnbmFsXG4gIHRoaXMucmVmZXJyZXIgPSBudWxsXG5cbiAgaWYgKCh0aGlzLm1ldGhvZCA9PT0gJ0dFVCcgfHwgdGhpcy5tZXRob2QgPT09ICdIRUFEJykgJiYgYm9keSkge1xuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0JvZHkgbm90IGFsbG93ZWQgZm9yIEdFVCBvciBIRUFEIHJlcXVlc3RzJylcbiAgfVxuICB0aGlzLl9pbml0Qm9keShib2R5KVxufVxuXG5SZXF1ZXN0LnByb3RvdHlwZS5jbG9uZSA9IGZ1bmN0aW9uKCkge1xuICByZXR1cm4gbmV3IFJlcXVlc3QodGhpcywge2JvZHk6IHRoaXMuX2JvZHlJbml0fSlcbn1cblxuZnVuY3Rpb24gZGVjb2RlKGJvZHkpIHtcbiAgdmFyIGZvcm0gPSBuZXcgRm9ybURhdGEoKVxuICBib2R5XG4gICAgLnRyaW0oKVxuICAgIC5zcGxpdCgnJicpXG4gICAgLmZvckVhY2goZnVuY3Rpb24oYnl0ZXMpIHtcbiAgICAgIGlmIChieXRlcykge1xuICAgICAgICB2YXIgc3BsaXQgPSBieXRlcy5zcGxpdCgnPScpXG4gICAgICAgIHZhciBuYW1lID0gc3BsaXQuc2hpZnQoKS5yZXBsYWNlKC9cXCsvZywgJyAnKVxuICAgICAgICB2YXIgdmFsdWUgPSBzcGxpdC5qb2luKCc9JykucmVwbGFjZSgvXFwrL2csICcgJylcbiAgICAgICAgZm9ybS5hcHBlbmQoZGVjb2RlVVJJQ29tcG9uZW50KG5hbWUpLCBkZWNvZGVVUklDb21wb25lbnQodmFsdWUpKVxuICAgICAgfVxuICAgIH0pXG4gIHJldHVybiBmb3JtXG59XG5cbmZ1bmN0aW9uIHBhcnNlSGVhZGVycyhyYXdIZWFkZXJzKSB7XG4gIHZhciBoZWFkZXJzID0gbmV3IEhlYWRlcnMoKVxuICAvLyBSZXBsYWNlIGluc3RhbmNlcyBvZiBcXHJcXG4gYW5kIFxcbiBmb2xsb3dlZCBieSBhdCBsZWFzdCBvbmUgc3BhY2Ugb3IgaG9yaXpvbnRhbCB0YWIgd2l0aCBhIHNwYWNlXG4gIC8vIGh0dHBzOi8vdG9vbHMuaWV0Zi5vcmcvaHRtbC9yZmM3MjMwI3NlY3Rpb24tMy4yXG4gIHZhciBwcmVQcm9jZXNzZWRIZWFkZXJzID0gcmF3SGVhZGVycy5yZXBsYWNlKC9cXHI/XFxuW1xcdCBdKy9nLCAnICcpXG4gIHByZVByb2Nlc3NlZEhlYWRlcnMuc3BsaXQoL1xccj9cXG4vKS5mb3JFYWNoKGZ1bmN0aW9uKGxpbmUpIHtcbiAgICB2YXIgcGFydHMgPSBsaW5lLnNwbGl0KCc6JylcbiAgICB2YXIga2V5ID0gcGFydHMuc2hpZnQoKS50cmltKClcbiAgICBpZiAoa2V5KSB7XG4gICAgICB2YXIgdmFsdWUgPSBwYXJ0cy5qb2luKCc6JykudHJpbSgpXG4gICAgICBoZWFkZXJzLmFwcGVuZChrZXksIHZhbHVlKVxuICAgIH1cbiAgfSlcbiAgcmV0dXJuIGhlYWRlcnNcbn1cblxuQm9keS5jYWxsKFJlcXVlc3QucHJvdG90eXBlKVxuXG5leHBvcnQgZnVuY3Rpb24gUmVzcG9uc2UoYm9keUluaXQsIG9wdGlvbnMpIHtcbiAgaWYgKCFvcHRpb25zKSB7XG4gICAgb3B0aW9ucyA9IHt9XG4gIH1cblxuICB0aGlzLnR5cGUgPSAnZGVmYXVsdCdcbiAgdGhpcy5zdGF0dXMgPSBvcHRpb25zLnN0YXR1cyA9PT0gdW5kZWZpbmVkID8gMjAwIDogb3B0aW9ucy5zdGF0dXNcbiAgdGhpcy5vayA9IHRoaXMuc3RhdHVzID49IDIwMCAmJiB0aGlzLnN0YXR1cyA8IDMwMFxuICB0aGlzLnN0YXR1c1RleHQgPSAnc3RhdHVzVGV4dCcgaW4gb3B0aW9ucyA/IG9wdGlvbnMuc3RhdHVzVGV4dCA6ICdPSydcbiAgdGhpcy5oZWFkZXJzID0gbmV3IEhlYWRlcnMob3B0aW9ucy5oZWFkZXJzKVxuICB0aGlzLnVybCA9IG9wdGlvbnMudXJsIHx8ICcnXG4gIHRoaXMuX2luaXRCb2R5KGJvZHlJbml0KVxufVxuXG5Cb2R5LmNhbGwoUmVzcG9uc2UucHJvdG90eXBlKVxuXG5SZXNwb25zZS5wcm90b3R5cGUuY2xvbmUgPSBmdW5jdGlvbigpIHtcbiAgcmV0dXJuIG5ldyBSZXNwb25zZSh0aGlzLl9ib2R5SW5pdCwge1xuICAgIHN0YXR1czogdGhpcy5zdGF0dXMsXG4gICAgc3RhdHVzVGV4dDogdGhpcy5zdGF0dXNUZXh0LFxuICAgIGhlYWRlcnM6IG5ldyBIZWFkZXJzKHRoaXMuaGVhZGVycyksXG4gICAgdXJsOiB0aGlzLnVybFxuICB9KVxufVxuXG5SZXNwb25zZS5lcnJvciA9IGZ1bmN0aW9uKCkge1xuICB2YXIgcmVzcG9uc2UgPSBuZXcgUmVzcG9uc2UobnVsbCwge3N0YXR1czogMCwgc3RhdHVzVGV4dDogJyd9KVxuICByZXNwb25zZS50eXBlID0gJ2Vycm9yJ1xuICByZXR1cm4gcmVzcG9uc2Vcbn1cblxudmFyIHJlZGlyZWN0U3RhdHVzZXMgPSBbMzAxLCAzMDIsIDMwMywgMzA3LCAzMDhdXG5cblJlc3BvbnNlLnJlZGlyZWN0ID0gZnVuY3Rpb24odXJsLCBzdGF0dXMpIHtcbiAgaWYgKHJlZGlyZWN0U3RhdHVzZXMuaW5kZXhPZihzdGF0dXMpID09PSAtMSkge1xuICAgIHRocm93IG5ldyBSYW5nZUVycm9yKCdJbnZhbGlkIHN0YXR1cyBjb2RlJylcbiAgfVxuXG4gIHJldHVybiBuZXcgUmVzcG9uc2UobnVsbCwge3N0YXR1czogc3RhdHVzLCBoZWFkZXJzOiB7bG9jYXRpb246IHVybH19KVxufVxuXG5leHBvcnQgdmFyIERPTUV4Y2VwdGlvbiA9IHNlbGYuRE9NRXhjZXB0aW9uXG50cnkge1xuICBuZXcgRE9NRXhjZXB0aW9uKClcbn0gY2F0Y2ggKGVycikge1xuICBET01FeGNlcHRpb24gPSBmdW5jdGlvbihtZXNzYWdlLCBuYW1lKSB7XG4gICAgdGhpcy5tZXNzYWdlID0gbWVzc2FnZVxuICAgIHRoaXMubmFtZSA9IG5hbWVcbiAgICB2YXIgZXJyb3IgPSBFcnJvcihtZXNzYWdlKVxuICAgIHRoaXMuc3RhY2sgPSBlcnJvci5zdGFja1xuICB9XG4gIERPTUV4Y2VwdGlvbi5wcm90b3R5cGUgPSBPYmplY3QuY3JlYXRlKEVycm9yLnByb3RvdHlwZSlcbiAgRE9NRXhjZXB0aW9uLnByb3RvdHlwZS5jb25zdHJ1Y3RvciA9IERPTUV4Y2VwdGlvblxufVxuXG5leHBvcnQgZnVuY3Rpb24gZmV0Y2goaW5wdXQsIGluaXQpIHtcbiAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgIHZhciByZXF1ZXN0ID0gbmV3IFJlcXVlc3QoaW5wdXQsIGluaXQpXG5cbiAgICBpZiAocmVxdWVzdC5zaWduYWwgJiYgcmVxdWVzdC5zaWduYWwuYWJvcnRlZCkge1xuICAgICAgcmV0dXJuIHJlamVjdChuZXcgRE9NRXhjZXB0aW9uKCdBYm9ydGVkJywgJ0Fib3J0RXJyb3InKSlcbiAgICB9XG5cbiAgICB2YXIgeGhyID0gbmV3IFhNTEh0dHBSZXF1ZXN0KClcblxuICAgIGZ1bmN0aW9uIGFib3J0WGhyKCkge1xuICAgICAgeGhyLmFib3J0KClcbiAgICB9XG5cbiAgICB4aHIub25sb2FkID0gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgb3B0aW9ucyA9IHtcbiAgICAgICAgc3RhdHVzOiB4aHIuc3RhdHVzLFxuICAgICAgICBzdGF0dXNUZXh0OiB4aHIuc3RhdHVzVGV4dCxcbiAgICAgICAgaGVhZGVyczogcGFyc2VIZWFkZXJzKHhoci5nZXRBbGxSZXNwb25zZUhlYWRlcnMoKSB8fCAnJylcbiAgICAgIH1cbiAgICAgIG9wdGlvbnMudXJsID0gJ3Jlc3BvbnNlVVJMJyBpbiB4aHIgPyB4aHIucmVzcG9uc2VVUkwgOiBvcHRpb25zLmhlYWRlcnMuZ2V0KCdYLVJlcXVlc3QtVVJMJylcbiAgICAgIHZhciBib2R5ID0gJ3Jlc3BvbnNlJyBpbiB4aHIgPyB4aHIucmVzcG9uc2UgOiB4aHIucmVzcG9uc2VUZXh0XG4gICAgICByZXNvbHZlKG5ldyBSZXNwb25zZShib2R5LCBvcHRpb25zKSlcbiAgICB9XG5cbiAgICB4aHIub25lcnJvciA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmVqZWN0KG5ldyBUeXBlRXJyb3IoJ05ldHdvcmsgcmVxdWVzdCBmYWlsZWQnKSlcbiAgICB9XG5cbiAgICB4aHIub250aW1lb3V0ID0gZnVuY3Rpb24oKSB7XG4gICAgICByZWplY3QobmV3IFR5cGVFcnJvcignTmV0d29yayByZXF1ZXN0IGZhaWxlZCcpKVxuICAgIH1cblxuICAgIHhoci5vbmFib3J0ID0gZnVuY3Rpb24oKSB7XG4gICAgICByZWplY3QobmV3IERPTUV4Y2VwdGlvbignQWJvcnRlZCcsICdBYm9ydEVycm9yJykpXG4gICAgfVxuXG4gICAgeGhyLm9wZW4ocmVxdWVzdC5tZXRob2QsIHJlcXVlc3QudXJsLCB0cnVlKVxuXG4gICAgaWYgKHJlcXVlc3QuY3JlZGVudGlhbHMgPT09ICdpbmNsdWRlJykge1xuICAgICAgeGhyLndpdGhDcmVkZW50aWFscyA9IHRydWVcbiAgICB9IGVsc2UgaWYgKHJlcXVlc3QuY3JlZGVudGlhbHMgPT09ICdvbWl0Jykge1xuICAgICAgeGhyLndpdGhDcmVkZW50aWFscyA9IGZhbHNlXG4gICAgfVxuXG4gICAgaWYgKCdyZXNwb25zZVR5cGUnIGluIHhociAmJiBzdXBwb3J0LmJsb2IpIHtcbiAgICAgIHhoci5yZXNwb25zZVR5cGUgPSAnYmxvYidcbiAgICB9XG5cbiAgICByZXF1ZXN0LmhlYWRlcnMuZm9yRWFjaChmdW5jdGlvbih2YWx1ZSwgbmFtZSkge1xuICAgICAgeGhyLnNldFJlcXVlc3RIZWFkZXIobmFtZSwgdmFsdWUpXG4gICAgfSlcblxuICAgIGlmIChyZXF1ZXN0LnNpZ25hbCkge1xuICAgICAgcmVxdWVzdC5zaWduYWwuYWRkRXZlbnRMaXN0ZW5lcignYWJvcnQnLCBhYm9ydFhocilcblxuICAgICAgeGhyLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAvLyBET05FIChzdWNjZXNzIG9yIGZhaWx1cmUpXG4gICAgICAgIGlmICh4aHIucmVhZHlTdGF0ZSA9PT0gNCkge1xuICAgICAgICAgIHJlcXVlc3Quc2lnbmFsLnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2Fib3J0JywgYWJvcnRYaHIpXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG5cbiAgICB4aHIuc2VuZCh0eXBlb2YgcmVxdWVzdC5fYm9keUluaXQgPT09ICd1bmRlZmluZWQnID8gbnVsbCA6IHJlcXVlc3QuX2JvZHlJbml0KVxuICB9KVxufVxuXG5mZXRjaC5wb2x5ZmlsbCA9IHRydWVcblxuaWYgKCFzZWxmLmZldGNoKSB7XG4gIHNlbGYuZmV0Y2ggPSBmZXRjaFxuICBzZWxmLkhlYWRlcnMgPSBIZWFkZXJzXG4gIHNlbGYuUmVxdWVzdCA9IFJlcXVlc3RcbiAgc2VsZi5SZXNwb25zZSA9IFJlc3BvbnNlXG59XG5cblxuXG4vLy8vLy8vLy8vLy8vLy8vLy9cbi8vIFdFQlBBQ0sgRk9PVEVSXG4vLyAuL34vd2hhdHdnLWZldGNoL2ZldGNoLmpzXG4vLyBtb2R1bGUgaWQgPSA1NVxuLy8gbW9kdWxlIGNodW5rcyA9IDAiXSwic291cmNlUm9vdCI6IiJ9